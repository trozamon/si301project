From dev-return-85128-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jan  3 07:15:16 2016
Return-Path: <dev-return-85128-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5630E1884D
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  3 Jan 2016 07:15:16 +0000 (UTC)
Received: (qmail 56328 invoked by uid 500); 3 Jan 2016 07:15:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56255 invoked by uid 500); 3 Jan 2016 07:15:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56246 invoked by uid 99); 3 Jan 2016 07:15:15 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Jan 2016 07:15:15 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id 6F7BC1A0149
	for <dev@httpd.apache.org>; Sun,  3 Jan 2016 07:15:15 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 042B8603CC; Sun,  3 Jan 2016 07:15:15 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2016/01/03]
Message-Id: <20160103071515.042B8603CC@asf-bz1-us-mid.priv.apache.org>
Date: Sun,  3 Jan 2016 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24437|Opn|Nor|2003-11-05|mod_auth_ldap doubly-escapes backslash (\) charact|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Enh|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37770|Opn|Blk|2005-12-03|proxy: error reading status line from remote serve|
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Inf|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|Opn|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Maj|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47650|Opn|Trv|2009-08-05|httxt2dbm calculates value size incorrectly       |
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51104|Opn|Maj|2011-04-21|C++ support about httpd_config.h                  |
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|Opn|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Blk|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Nor|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|53999|Opn|Nor|2012-10-13|Deadlock between procmgr_send_spawn_cmd()/proctabl|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|Ver|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|New|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|Ver|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|Ver|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|Ver|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|Ver|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|Opn|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57895|Inf|Min|2015-05-05|missing m4a mimeType in mime.types                |
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58026|New|Nor|2015-06-11|return 421 status code when SNI and Host: header d|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
|58089|New|Nor|2015-07-01|mod_authz_host uses proxy IP even when mod_remotei|
|58097|New|Enh|2015-07-03|[feat] Preserve original connecting IP            |
|58101|New|Nor|2015-07-05|DeflateCompressionLevel inside vhost resets logfor|
|58107|New|Blk|2015-07-06|Httpd crashes on startup every time, dump file att|
|58109|New|Nor|2015-07-06|Apache on windows cannot handle the hash symbol (#|
|58118|Inf|Min|2015-07-09|mod_proxy_fcgi logs 503 when user aborts connectio|
|58120|New|Nor|2015-07-10|ProxyPassInherit does not work as expect          |
|58121|New|Nor|2015-07-10|ProxyHTMLMeta seems to ignore all <meta http-equiv|
|58129|New|Nor|2015-07-12|man pages are not generated correctly             |
|58132|New|Nor|2015-07-12|non-standard, non-traditional man page layout make|
|58135|New|Nor|2015-07-14|mod_cache sends client "if-Modified-Since" to back|
|58141|New|Nor|2015-07-15|Apache Service doesn't start when rotatlogs.exe pa|
|58142|New|Nor|2015-07-15|authz_core ignores loglevel                       |
|58158|New|Nor|2015-07-21|Not honoring HTTP spec with regard to Accept-Encod|
|58168|New|Enh|2015-07-21|Would like full request evaluation support in Rewr|
|58171|New|Nor|2015-07-22|ap_session_save saves the wrong session after a de|
|58177|New|Enh|2015-07-24|Mod Proxy forward trailers in http chunked request|
|58180|New|Enh|2015-07-24|ErrorDocument original URL in subsequent <Location|
|58181|New|Enh|2015-07-25|mod_expire should allow "minus" keyword same like |
|58188|New|Nor|2015-07-28|http2 mod_lua: support build with lua 5.2+        |
|58197|New|Nor|2015-07-31|apr-util-1.5.4 build against openldap - "could not|
|58225|New|Reg|2015-08-08|intermitant segfault 11 in session_identity_encode|
|58226|New|Nor|2015-08-08|XSS in Error Page                                 |
|58231|New|Nor|2015-08-11|RewriteCond can add "Host" to the Vary-Header     |
|58235|New|Enh|2015-08-12|Ability to allow from domain but with using forwar|
|58243|New|Nor|2015-08-14|rotatelogs goes infinite at startup               |
|58248|New|Nor|2015-08-17|Error 404 in use some characters of utf8 in url   |
|58257|New|Nor|2015-08-18|require ldap-group does not work if account-fullna|
|58278|Inf|Blk|2015-08-24|apache - mod_security Issue : apache no releasing |
|58280|New|Nor|2015-08-24|Backend connection not closed until timeout if cli|
|58288|New|Blk|2015-08-27|Semaphore amount increase until crash when enablin|
|58292|New|Nor|2015-08-27|FallbackResource breaks chunked encoding sometimes|
|58304|New|Nor|2015-08-30|Unexpected Warnings from Macro Use in 2.4         |
|58305|New|Nor|2015-08-30|mod_cgi documentation not clear about what is pass|
|58306|New|Nor|2015-08-30|documentation needs to make it clear which directi|
|58307|New|Nor|2015-08-31|Segmentation fault in child in "read(__nbytes, __b|
|58317|New|Min|2015-09-02|Error message AH01630 is missing file name on deny|
|58334|New|Min|2015-09-06|WebDAV HTTP access does not include meta tag for c|
|58335|New|Nor|2015-09-07|mod_authnz_ldap mismatch                          |
|58343|New|Nor|2015-09-08|The pdf files come up as a blank page.            |
|58354|New|Maj|2015-09-10|(20014)Internal error (specific information not av|
|58356|New|Blk|2015-09-10|Session jumping due to incorrect route            |
|58364|New|Reg|2015-09-11|Apache Server is restarted time to time (Release 2|
|58417|New|Min|2015-09-16|ApacheBench (ab) won't display Server Software of |
|58419|New|Nor|2015-09-16|ApacheBench (ab) doesn't work with keep-alives aga|
|58423|New|Reg|2015-09-17|Apache >= 2.4.8 PCRE_DUPNAMES causes build failure|
|58467|New|Maj|2015-09-29|Environment Variables in ProxyHTMLURLMap produces |
|58475|New|Nor|2015-10-03|Support append/merge with semicolon-separated head|
|58488|New|Nor|2015-10-08|Stoped PHP-FPM pool in multi-pool system with comu|
|58491|New|Maj|2015-10-09|Core dumps appear when the load increases         |
|58492|Inf|Nor|2015-10-09|I think LDAPConnectionPoolTTL is not being honored|
|58498|New|Nor|2015-10-16|Apache 2.4.17: Regression with mod_autoindex (in c|
|58500|New|Nor|2015-10-16|dav_fs not enabled by default                     |
|58503|New|Cri|2015-10-16|segfault in apr_brigade_cleanup() under high load |
|58509|New|Trv|2015-10-20|2.4.17-dev introduces second core.c handler at sta|
|58524|New|Nor|2015-10-23|mod_http2 segfaults when under heavy load         |
|58528|New|Nor|2015-10-23|AllowOverrideList None gets misparsed and .htacces|
|58529|New|Maj|2015-10-23|Segmentation fault after modifying a proxy Balance|
|58550|New|Enh|2015-10-26|During load, Apache 2.2.x with prefork MPM didn|
|58574|New|Nor|2015-11-02|Apache error AH01630 (client denied) but working  |
|58593|New|Nor|2015-11-06|mod_proxy wrong decision between http and ws      |
|58598|New|Enh|2015-11-08|Internal Server Error (500) when requesting non-ex|
|58602|New|Nor|2015-11-11|Priority issue on DirectoryMatch directive        |
|58604|New|Reg|2015-11-12|Plaintext auth broken in any Explicit FTP/AUTH TLS|
|58612|New|Min|2015-11-16|mod_webdav when write_stream failed should break a|
|58669|New|Nor|2015-11-30|Order of DBDInitSQL and DBDPrepareSQL             |
|58688|New|Nor|2015-12-03|Missing mod_ssl connection-level upgrade headers f|
|58700|New|Nor|2015-12-07|Apache logs not working with mod_remoteip and X-fo|
|58720|New|Enh|2015-12-11|querying server status stalls when scoreboard is f|
|58727|New|Min|2015-12-13|Directories with a ProxyPass directive are not dis|
|58732|New|Nor|2015-12-14|Error Log isn't writing When Apache Shutdown with |
|58739|New|Cri|2015-12-15|Undocumented behavior of REDIRECT_URL and REDIRECT|
|58744|New|Nor|2015-12-17|pthread mutex warning is outdated                 |
|58769|New|Enh|2015-12-25|CustomLog in vhost overrides CustomLog in main con|
|58771|New|Nor|2015-12-27|Mod_fcgid ErrorDocument                           |
|58777|New|Enh|2015-12-28|URLs containing a ? are assumed to be query string|
|58789|New|Nor|2016-01-03|header set multiple htaccess                      |
+-----+---+---+----------+--------------------------------------------------+
| Total 1551 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-85129-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan  4 15:57:23 2016
Return-Path: <dev-return-85129-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CE6FB1872B
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  4 Jan 2016 15:57:23 +0000 (UTC)
Received: (qmail 98450 invoked by uid 500); 4 Jan 2016 15:57:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98384 invoked by uid 500); 4 Jan 2016 15:57:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98374 invoked by uid 99); 4 Jan 2016 15:57:23 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Jan 2016 15:57:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 8FC2FC9443
	for <dev@httpd.apache.org>; Mon,  4 Jan 2016 15:57:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Mj0KxHRkx1FH for <dev@httpd.apache.org>;
	Mon,  4 Jan 2016 15:57:21 +0000 (UTC)
Received: from mail-qk0-f175.google.com (mail-qk0-f175.google.com [209.85.220.175])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 8A0DC20515
	for <dev@httpd.apache.org>; Mon,  4 Jan 2016 15:57:21 +0000 (UTC)
Received: by mail-qk0-f175.google.com with SMTP id q19so74764623qke.3
        for <dev@httpd.apache.org>; Mon, 04 Jan 2016 07:57:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=EPALpqSz4CGhQ42JnjGiqUi7WWJWNlyDIMEZt+hxY2k=;
        b=fvOivcJ4WstNlA3zh4nkvoXgB6o10dS+2zvC8xC2YlMT8um3UE92d143wONCfdwNRa
         I0AVpoIAiQp7mN1nZmZB2wcK+/NVcGemBVSkQvwr45015RANxiyznUMIKpGgdwCzjJBD
         vdFX32vJ3vvV/vO+sbXWAXQWl/e2JUZEkPI/te41kRtEsDIjkE2lLVbPUzufbff+UH8A
         JAxPkeD3IMJ9xq1i8kVD6Ofmgsza9OiG4mhtFKB9rnthvqGCuP6TttJ/M5l7HDK1H+QS
         R4M3yrDsBzWc6CqZTT4vLXU9WIdWSMRkGXgg70KaV3KVhTEqVss1WRJR9H3dCiV8irOB
         KkVA==
MIME-Version: 1.0
X-Received: by 10.55.71.195 with SMTP id u186mr116122366qka.38.1451923034823;
 Mon, 04 Jan 2016 07:57:14 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Mon, 4 Jan 2016 07:57:14 -0800 (PST)
In-Reply-To: <20160104153036.EDB613A0184@svn01-us-west.apache.org>
References: <20160104153036.EDB613A0184@svn01-us-west.apache.org>
Date: Mon, 4 Jan 2016 16:57:14 +0100
Message-ID: <CAKQ1sVNx+5FtAEmhFD5xy-9kQUcrdaoL98fs_mxQw4yAUN2eKw@mail.gmail.com>
Subject: Re: svn commit: r1722899 - in /httpd/httpd/trunk: ./ modules/http2/
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, Jan 4, 2016 at 4:30 PM,  <icing@apache.org> wrote:
> Author: icing
> Date: Mon Jan  4 15:30:36 2016
> New Revision: 1722899
>
> URL: http://svn.apache.org/viewvc?rev=1722899&view=rev
> Log:
> reworked synching of session shutdown with worker threads, workers now stick to a session until no more reuqquest are tbd, keepalive handling revisited
>
[]
>
> Modified: httpd/httpd/trunk/modules/http2/h2_mplx.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/http2/h2_mplx.c?rev=1722899&r1=1722898&r2=1722899&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/http2/h2_mplx.c (original)
> +++ httpd/httpd/trunk/modules/http2/h2_mplx.c Mon Jan  4 15:30:36 2016
[]
> @@ -700,33 +694,25 @@ apr_status_t h2_mplx_out_write(h2_mplx *
>  {
>      apr_status_t status;
>      AP_DEBUG_ASSERT(m);
> -    if (m->aborted) {
> -        return APR_ECONNABORTED;
> -    }
>      status = apr_thread_mutex_lock(m->lock);
>      if (APR_SUCCESS == status) {
> -        if (!m->aborted) {
> -            h2_io *io = h2_io_set_get(m->stream_ios, stream_id);
> -            if (io && !io->orphaned) {
> -                status = out_write(m, io, f, bb, trailers, iowait);
> -                ap_log_cerror(APLOG_MARK, APLOG_TRACE1, status, m->c,
> -                              "h2_mplx(%ld-%d): write with trailers=%s",
> -                              m->id, io->id, trailers? "yes" : "no");
> -                H2_MPLX_IO_OUT(APLOG_TRACE2, m, io, "h2_mplx_out_write");
> -
> -                have_out_data_for(m, stream_id);
> -                if (m->aborted) {
> -                    return APR_ECONNABORTED;
> -                }
> -            }
> -            else {
> -                status = APR_ECONNABORTED;
> +        h2_io *io = h2_io_set_get(m->stream_ios, stream_id);
> +        if (io && !io->orphaned) {
> +            status = out_write(m, io, f, bb, trailers, iowait);
> +            ap_log_cerror(APLOG_MARK, APLOG_TRACE1, status, m->c,
> +                          "h2_mplx(%ld-%d): write with trailers=%s",
> +                          m->id, io->id, trailers? "yes" : "no");
> +            H2_MPLX_IO_OUT(APLOG_TRACE2, m, io, "h2_mplx_out_write");
> +
> +            have_out_data_for(m, stream_id);
> +            if (m->aborted) {
> +                return APR_ECONNABORTED;

No apr_thread_mutex_unlock(m->lock) before leaving here?

>              }
>          }
> -
> -        if (m->lock) {
> -            apr_thread_mutex_unlock(m->lock);
> +        else {
> +            status = APR_ECONNABORTED;
>          }
> +        apr_thread_mutex_unlock(m->lock);
>      }
>      return status;
>  }
> @@ -735,44 +721,39 @@ apr_status_t h2_mplx_out_close(h2_mplx *
>  {
>      apr_status_t status;
>      AP_DEBUG_ASSERT(m);
> -    if (m->aborted) {
> -        return APR_ECONNABORTED;
> -    }
>      status = apr_thread_mutex_lock(m->lock);
>      if (APR_SUCCESS == status) {
> -        if (!m->aborted) {
> -            h2_io *io = h2_io_set_get(m->stream_ios, stream_id);
> -            if (io && !io->orphaned) {
> -                if (!io->response && !io->rst_error) {
> -                    /* In case a close comes before a response was created,
> -                     * insert an error one so that our streams can properly
> -                     * reset.
> -                     */
> -                    h2_response *r = h2_response_die(stream_id, APR_EGENERAL,
> -                                                     io->request, m->pool);
> -                    status = out_open(m, stream_id, r, NULL, NULL, NULL);
> -                    ap_log_cerror(APLOG_MARK, APLOG_TRACE1, status, m->c,
> -                                  "h2_mplx(%ld-%d): close, no response, no rst",
> -                                  m->id, io->id);
> -                }
> +        h2_io *io = h2_io_set_get(m->stream_ios, stream_id);
> +        if (io && !io->orphaned) {
> +            if (!io->response && !io->rst_error) {
> +                /* In case a close comes before a response was created,
> +                 * insert an error one so that our streams can properly
> +                 * reset.
> +                 */
> +                h2_response *r = h2_response_die(stream_id, APR_EGENERAL,
> +                                                 io->request, m->pool);
> +                status = out_open(m, stream_id, r, NULL, NULL, NULL);
>                  ap_log_cerror(APLOG_MARK, APLOG_TRACE1, status, m->c,
> -                              "h2_mplx(%ld-%d): close with trailers=%s",
> -                              m->id, io->id, trailers? "yes" : "no");
> -                status = h2_io_out_close(io, trailers);
> -                H2_MPLX_IO_OUT(APLOG_TRACE2, m, io, "h2_mplx_out_close");
> -
> -                have_out_data_for(m, stream_id);
> -                if (m->aborted) {
> -                    /* if we were the last output, the whole session might
> -                     * have gone down in the meantime.
> -                     */
> -                    return APR_SUCCESS;
> -                }
> +                              "h2_mplx(%ld-%d): close, no response, no rst",
> +                              m->id, io->id);
>              }
> -            else {
> -                status = APR_ECONNABORTED;
> +            ap_log_cerror(APLOG_MARK, APLOG_TRACE1, status, m->c,
> +                          "h2_mplx(%ld-%d): close with trailers=%s",
> +                          m->id, io->id, trailers? "yes" : "no");
> +            status = h2_io_out_close(io, trailers);
> +            H2_MPLX_IO_OUT(APLOG_TRACE2, m, io, "h2_mplx_out_close");
> +
> +            have_out_data_for(m, stream_id);
> +            if (m->aborted) {
> +                /* if we were the last output, the whole session might
> +                 * have gone down in the meantime.
> +                 */
> +                return APR_SUCCESS;

Likewise?

>              }
>          }
> +        else {
> +            status = APR_ECONNABORTED;
> +        }
>          apr_thread_mutex_unlock(m->lock);
>      }
>      return status;


Regards,
Yann.

From dev-return-85130-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan  4 15:59:57 2016
Return-Path: <dev-return-85130-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8EB5F18751
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  4 Jan 2016 15:59:57 +0000 (UTC)
Received: (qmail 4242 invoked by uid 500); 4 Jan 2016 15:59:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 4165 invoked by uid 500); 4 Jan 2016 15:59:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 4155 invoked by uid 99); 4 Jan 2016 15:59:57 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Jan 2016 15:59:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A6FB6C9407
	for <dev@httpd.apache.org>; Mon,  4 Jan 2016 15:59:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 2ChwJlYg9VhE for <dev@httpd.apache.org>;
	Mon,  4 Jan 2016 15:59:51 +0000 (UTC)
Received: from mail-qg0-f50.google.com (mail-qg0-f50.google.com [209.85.192.50])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 0CDC120D53
	for <dev@httpd.apache.org>; Mon,  4 Jan 2016 15:59:51 +0000 (UTC)
Received: by mail-qg0-f50.google.com with SMTP id e32so166492026qgf.3
        for <dev@httpd.apache.org>; Mon, 04 Jan 2016 07:59:51 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ZTFLrGaRJZmSSEN2CGfBh07NaVFoXYCAfTQ9Z4xxrSc=;
        b=TG2CVvrMkxrYAHsuoOpXwWfNZAfirGEg7TluW9CzgQx+A0tJer7Q4ehGulUPxhpSvc
         4NPugBw+BxSN7QxAXaktShGeEmh7HY9/VlhQezQHKLP6hZVD4vHP2U4ZATbU8RtE+CuL
         6z/9pgI5USkTpYFDuG1swpW7AP1f4wabx6Q2akmrXuJus+qZ6x7gMbpLHd0ArxprqTKE
         X5mAVpPM5b8qcEWlz4W+31BNTvIJk1DG70cBRvdXlVCXjy0DZDkCur3aiAJ55ack0e53
         HIoNsrNg5Nc5rETT3EaolmFnMll/szwIvtXXuLyI2RZzZZSffOwN6ZZMzCMdGXgF7x4r
         r3FA==
MIME-Version: 1.0
X-Received: by 10.140.101.130 with SMTP id u2mr119594495qge.71.1451923190435;
 Mon, 04 Jan 2016 07:59:50 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Mon, 4 Jan 2016 07:59:50 -0800 (PST)
In-Reply-To: <BB902FAF-901B-4C8A-BAB3-5CC9C7AE9D64@greenbytes.de>
References: <20151230161236.C42AE3A019A@svn01-us-west.apache.org>
	<CAKQ1sVMGxjHy=wg4=+geCWPn0s=oQ2dhhPtNjDNKWutrTotQYQ@mail.gmail.com>
	<BB902FAF-901B-4C8A-BAB3-5CC9C7AE9D64@greenbytes.de>
Date: Mon, 4 Jan 2016 16:59:50 +0100
Message-ID: <CAKQ1sVO4zz43fSaW8cwpStGAGDoa=VUzjkCAJ16+vTfhwgA6ew@mail.gmail.com>
Subject: Re: svn commit: r1722369 - in /httpd/httpd/trunk: ./ docs/manual/mod/ modules/http2/
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Dec 30, 2015 at 9:17 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> That feeds into the Grand Solution to make h2 workers part of the MPM. Not sure how to approach that.

How about calling apr_thread_join() in cleanup_zombies?

From dev-return-85131-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan  4 16:27:04 2016
Return-Path: <dev-return-85131-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6151D18854
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  4 Jan 2016 16:27:04 +0000 (UTC)
Received: (qmail 67195 invoked by uid 500); 4 Jan 2016 16:27:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67121 invoked by uid 500); 4 Jan 2016 16:27:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67111 invoked by uid 99); 4 Jan 2016 16:27:03 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Jan 2016 16:27:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id D656F1A11B6
	for <dev@httpd.apache.org>; Mon,  4 Jan 2016 16:27:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.653
X-Spam-Level:
X-Spam-Status: No, score=-0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.554, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Pzzt2R7i;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Pzzt2R7i
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id IjB35jDZJLi8 for <dev@httpd.apache.org>;
	Mon,  4 Jan 2016 16:26:49 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 3D35723037
	for <dev@httpd.apache.org>; Mon,  4 Jan 2016 16:26:49 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 6B51A15A06E0; Mon,  4 Jan 2016 17:26:39 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1451924799; bh=TuauxqXCP44rhRLOx0Sr5PP41Temx+oZmv0c1/Z2r8s=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=Pzzt2R7ihwZrrKtqHCKmN91ymUgOAbxf2CL5MVE3CWLRraIfqkxV7x9DIOan3zEy/
	 QnWTcloKkPjmU49PvwZqzxYd7U7oDlhyD7HP1dsukWtyClNnHAYRgwngJhCuCX5qd/
	 SknGhPog7GnCw99zAwiZauOv7nbmjXvZ+iCLwgxg=
Received: from [192.168.178.41] (unknown [84.189.89.153])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 0FF4515A0450
	for <dev@httpd.apache.org>; Mon,  4 Jan 2016 17:26:39 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1451924799; bh=TuauxqXCP44rhRLOx0Sr5PP41Temx+oZmv0c1/Z2r8s=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=Pzzt2R7ihwZrrKtqHCKmN91ymUgOAbxf2CL5MVE3CWLRraIfqkxV7x9DIOan3zEy/
	 QnWTcloKkPjmU49PvwZqzxYd7U7oDlhyD7HP1dsukWtyClNnHAYRgwngJhCuCX5qd/
	 SknGhPog7GnCw99zAwiZauOv7nbmjXvZ+iCLwgxg=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1722369 - in /httpd/httpd/trunk: ./ docs/manual/mod/ modules/http2/
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVO4zz43fSaW8cwpStGAGDoa=VUzjkCAJ16+vTfhwgA6ew@mail.gmail.com>
Date: Mon, 4 Jan 2016 17:26:38 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <35889BDE-E6C4-4C7B-BFD3-97AA9395F15D@greenbytes.de>
References: <20151230161236.C42AE3A019A@svn01-us-west.apache.org> <CAKQ1sVMGxjHy=wg4=+geCWPn0s=oQ2dhhPtNjDNKWutrTotQYQ@mail.gmail.com> <BB902FAF-901B-4C8A-BAB3-5CC9C7AE9D64@greenbytes.de> <CAKQ1sVO4zz43fSaW8cwpStGAGDoa=VUzjkCAJ16+vTfhwgA6ew@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Done, thanks!

> Am 04.01.2016 um 16:59 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Wed, Dec 30, 2015 at 9:17 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> That feeds into the Grand Solution to make h2 workers part of the =
MPM. Not sure how to approach that.
>=20
> How about calling apr_thread_join() in cleanup_zombies?


From dev-return-85132-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan  4 16:39:00 2016
Return-Path: <dev-return-85132-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C1750188D5
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  4 Jan 2016 16:39:00 +0000 (UTC)
Received: (qmail 14827 invoked by uid 500); 4 Jan 2016 16:39:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14749 invoked by uid 500); 4 Jan 2016 16:39:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14738 invoked by uid 99); 4 Jan 2016 16:39:00 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Jan 2016 16:39:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C5F4EC7912
	for <dev@httpd.apache.org>; Mon,  4 Jan 2016 16:38:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=MoM7e68J;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=MoM7e68J
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id wLAJzr9RZVFm for <dev@httpd.apache.org>;
	Mon,  4 Jan 2016 16:38:58 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 3F01D429C2
	for <dev@httpd.apache.org>; Mon,  4 Jan 2016 16:38:58 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id ABD5415A06E0; Mon,  4 Jan 2016 17:38:51 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1451925531; bh=U6PxM0f6doMnwNeTlTPYgmQ453k3zKO3GftUEWY/Ja0=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=MoM7e68JJRmvwqbbrnZQBgqUh764VqK4VbZQX3DapTh43jhaBRcnopFkKQgs4K/4/
	 xPIIAvK+JLUGg0ixcSw2f/I1PVIfzOPfeyQbTyUwL5vrc/DM3kexlOEFSP7ao+nmX3
	 /MLnrCqD/nyVdo2fVjF9AtRr4AwL61PLdWD+DRPc=
Received: from [192.168.178.41] (unknown [84.189.89.153])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 5152515A0450
	for <dev@httpd.apache.org>; Mon,  4 Jan 2016 17:38:51 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1451925531; bh=U6PxM0f6doMnwNeTlTPYgmQ453k3zKO3GftUEWY/Ja0=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=MoM7e68JJRmvwqbbrnZQBgqUh764VqK4VbZQX3DapTh43jhaBRcnopFkKQgs4K/4/
	 xPIIAvK+JLUGg0ixcSw2f/I1PVIfzOPfeyQbTyUwL5vrc/DM3kexlOEFSP7ao+nmX3
	 /MLnrCqD/nyVdo2fVjF9AtRr4AwL61PLdWD+DRPc=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1722899 - in /httpd/httpd/trunk: ./ modules/http2/
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVNx+5FtAEmhFD5xy-9kQUcrdaoL98fs_mxQw4yAUN2eKw@mail.gmail.com>
Date: Mon, 4 Jan 2016 17:38:50 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <24B6E26B-520D-46A6-9C5B-FA790B9441AA@greenbytes.de>
References: <20160104153036.EDB613A0184@svn01-us-west.apache.org> <CAKQ1sVNx+5FtAEmhFD5xy-9kQUcrdaoL98fs_mxQw4yAUN2eKw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Thanks, Yann. Those are leftovers from an earlier age and it's good that =
you spotted those. Might explain some people complaining about loss of =
server threads / workers after some time if h2 session shutdown waits on =
a lock not released that way.

> Am 04.01.2016 um 16:57 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Mon, Jan 4, 2016 at 4:30 PM,  <icing@apache.org> wrote:
>> Author: icing
>> Date: Mon Jan  4 15:30:36 2016
>> New Revision: 1722899
>>=20
>> URL: http://svn.apache.org/viewvc?rev=3D1722899&view=3Drev
>> Log:
>> reworked synching of session shutdown with worker threads, workers =
now stick to a session until no more reuqquest are tbd, keepalive =
handling revisited
>>=20
> []
>>=20
>> Modified: httpd/httpd/trunk/modules/http2/h2_mplx.c
>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/http2/h2_mplx.c?rev=
=3D1722899&r1=3D1722898&r2=3D1722899&view=3Ddiff
>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>> --- httpd/httpd/trunk/modules/http2/h2_mplx.c (original)
>> +++ httpd/httpd/trunk/modules/http2/h2_mplx.c Mon Jan  4 15:30:36 =
2016
> []
>> @@ -700,33 +694,25 @@ apr_status_t h2_mplx_out_write(h2_mplx *
>> {
>>     apr_status_t status;
>>     AP_DEBUG_ASSERT(m);
>> -    if (m->aborted) {
>> -        return APR_ECONNABORTED;
>> -    }
>>     status =3D apr_thread_mutex_lock(m->lock);
>>     if (APR_SUCCESS =3D=3D status) {
>> -        if (!m->aborted) {
>> -            h2_io *io =3D h2_io_set_get(m->stream_ios, stream_id);
>> -            if (io && !io->orphaned) {
>> -                status =3D out_write(m, io, f, bb, trailers, =
iowait);
>> -                ap_log_cerror(APLOG_MARK, APLOG_TRACE1, status, =
m->c,
>> -                              "h2_mplx(%ld-%d): write with =
trailers=3D%s",
>> -                              m->id, io->id, trailers? "yes" : =
"no");
>> -                H2_MPLX_IO_OUT(APLOG_TRACE2, m, io, =
"h2_mplx_out_write");
>> -
>> -                have_out_data_for(m, stream_id);
>> -                if (m->aborted) {
>> -                    return APR_ECONNABORTED;
>> -                }
>> -            }
>> -            else {
>> -                status =3D APR_ECONNABORTED;
>> +        h2_io *io =3D h2_io_set_get(m->stream_ios, stream_id);
>> +        if (io && !io->orphaned) {
>> +            status =3D out_write(m, io, f, bb, trailers, iowait);
>> +            ap_log_cerror(APLOG_MARK, APLOG_TRACE1, status, m->c,
>> +                          "h2_mplx(%ld-%d): write with trailers=3D%s",=

>> +                          m->id, io->id, trailers? "yes" : "no");
>> +            H2_MPLX_IO_OUT(APLOG_TRACE2, m, io, =
"h2_mplx_out_write");
>> +
>> +            have_out_data_for(m, stream_id);
>> +            if (m->aborted) {
>> +                return APR_ECONNABORTED;
>=20
> No apr_thread_mutex_unlock(m->lock) before leaving here?
>=20
>>             }
>>         }
>> -
>> -        if (m->lock) {
>> -            apr_thread_mutex_unlock(m->lock);
>> +        else {
>> +            status =3D APR_ECONNABORTED;
>>         }
>> +        apr_thread_mutex_unlock(m->lock);
>>     }
>>     return status;
>> }
>> @@ -735,44 +721,39 @@ apr_status_t h2_mplx_out_close(h2_mplx *
>> {
>>     apr_status_t status;
>>     AP_DEBUG_ASSERT(m);
>> -    if (m->aborted) {
>> -        return APR_ECONNABORTED;
>> -    }
>>     status =3D apr_thread_mutex_lock(m->lock);
>>     if (APR_SUCCESS =3D=3D status) {
>> -        if (!m->aborted) {
>> -            h2_io *io =3D h2_io_set_get(m->stream_ios, stream_id);
>> -            if (io && !io->orphaned) {
>> -                if (!io->response && !io->rst_error) {
>> -                    /* In case a close comes before a response was =
created,
>> -                     * insert an error one so that our streams can =
properly
>> -                     * reset.
>> -                     */
>> -                    h2_response *r =3D h2_response_die(stream_id, =
APR_EGENERAL,
>> -                                                     io->request, =
m->pool);
>> -                    status =3D out_open(m, stream_id, r, NULL, NULL, =
NULL);
>> -                    ap_log_cerror(APLOG_MARK, APLOG_TRACE1, status, =
m->c,
>> -                                  "h2_mplx(%ld-%d): close, no =
response, no rst",
>> -                                  m->id, io->id);
>> -                }
>> +        h2_io *io =3D h2_io_set_get(m->stream_ios, stream_id);
>> +        if (io && !io->orphaned) {
>> +            if (!io->response && !io->rst_error) {
>> +                /* In case a close comes before a response was =
created,
>> +                 * insert an error one so that our streams can =
properly
>> +                 * reset.
>> +                 */
>> +                h2_response *r =3D h2_response_die(stream_id, =
APR_EGENERAL,
>> +                                                 io->request, =
m->pool);
>> +                status =3D out_open(m, stream_id, r, NULL, NULL, =
NULL);
>>                 ap_log_cerror(APLOG_MARK, APLOG_TRACE1, status, m->c,
>> -                              "h2_mplx(%ld-%d): close with =
trailers=3D%s",
>> -                              m->id, io->id, trailers? "yes" : =
"no");
>> -                status =3D h2_io_out_close(io, trailers);
>> -                H2_MPLX_IO_OUT(APLOG_TRACE2, m, io, =
"h2_mplx_out_close");
>> -
>> -                have_out_data_for(m, stream_id);
>> -                if (m->aborted) {
>> -                    /* if we were the last output, the whole session =
might
>> -                     * have gone down in the meantime.
>> -                     */
>> -                    return APR_SUCCESS;
>> -                }
>> +                              "h2_mplx(%ld-%d): close, no response, =
no rst",
>> +                              m->id, io->id);
>>             }
>> -            else {
>> -                status =3D APR_ECONNABORTED;
>> +            ap_log_cerror(APLOG_MARK, APLOG_TRACE1, status, m->c,
>> +                          "h2_mplx(%ld-%d): close with trailers=3D%s",=

>> +                          m->id, io->id, trailers? "yes" : "no");
>> +            status =3D h2_io_out_close(io, trailers);
>> +            H2_MPLX_IO_OUT(APLOG_TRACE2, m, io, =
"h2_mplx_out_close");
>> +
>> +            have_out_data_for(m, stream_id);
>> +            if (m->aborted) {
>> +                /* if we were the last output, the whole session =
might
>> +                 * have gone down in the meantime.
>> +                 */
>> +                return APR_SUCCESS;
>=20
> Likewise?
>=20
>>             }
>>         }
>> +        else {
>> +            status =3D APR_ECONNABORTED;
>> +        }
>>         apr_thread_mutex_unlock(m->lock);
>>     }
>>     return status;
>=20
>=20
> Regards,
> Yann.


From dev-return-85133-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan  5 14:21:49 2016
Return-Path: <dev-return-85133-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8CFC81803A
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  5 Jan 2016 14:21:49 +0000 (UTC)
Received: (qmail 61065 invoked by uid 500); 5 Jan 2016 14:21:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60794 invoked by uid 500); 5 Jan 2016 14:21:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60784 invoked by uid 99); 5 Jan 2016 14:21:48 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Jan 2016 14:21:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A9CCDC1AA0
	for <dev@httpd.apache.org>; Tue,  5 Jan 2016 14:21:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=mf8AZSfH;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=mf8AZSfH
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id sLobUyOhtP2N for <dev@httpd.apache.org>;
	Tue,  5 Jan 2016 14:21:45 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 88F2421249
	for <dev@httpd.apache.org>; Tue,  5 Jan 2016 14:21:44 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id BD78015A069A; Tue,  5 Jan 2016 15:21:36 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1452003696; bh=ep1bK/rwhSXvPDiCXAXAorG3rZLivF74yu9YRpSTppc=;
	h=From:Subject:Date:To:From;
	b=mf8AZSfHY17eKxohcHvTMsB/Ehsh1Tj5fC6Tm4rCzxzbkR9DpSm5j5y6axC6mHzcw
	 gdSQ7R8GjHIra2SokK65SX5KLq1WgtoPf2VsWGw+kxolkwGYHJL/ttE+1E7Nc48qcC
	 l5WPb1Gy70pMzIMUlH05BTwa3QtW/8Mgy10Tr9Ww=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 7AA4115A0370
	for <dev@httpd.apache.org>; Tue,  5 Jan 2016 15:21:36 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1452003696; bh=ep1bK/rwhSXvPDiCXAXAorG3rZLivF74yu9YRpSTppc=;
	h=From:Subject:Date:To:From;
	b=mf8AZSfHY17eKxohcHvTMsB/Ehsh1Tj5fC6Tm4rCzxzbkR9DpSm5j5y6axC6mHzcw
	 gdSQ7R8GjHIra2SokK65SX5KLq1WgtoPf2VsWGw+kxolkwGYHJL/ttE+1E7Nc48qcC
	 l5WPb1Gy70pMzIMUlH05BTwa3QtW/8Mgy10Tr9Ww=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: graceful restart
Message-Id: <CD3835EC-E729-456A-B441-A66D7C4FD092@greenbytes.de>
Date: Tue, 5 Jan 2016 15:21:35 +0100
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)

To the Knowledgable out there: how can I detect that the server is =
gracefully restarting?=20

Backlground is that HTTP/2=20
1. is sometimes in the state of being IDLE, but unable to return to the =
MPM, *could* however terminate the HTTP2 session.=20
2. HTTP2 sessions can be brought down by first announcing that no more =
streams will be processed and then closing, once the existing ones are =
done.

Thanks for the help.

-Stefan=

From dev-return-85134-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan  5 14:24:35 2016
Return-Path: <dev-return-85134-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 235C818088
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  5 Jan 2016 14:24:35 +0000 (UTC)
Received: (qmail 71813 invoked by uid 500); 5 Jan 2016 14:24:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71738 invoked by uid 500); 5 Jan 2016 14:24:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71728 invoked by uid 99); 5 Jan 2016 14:24:34 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Jan 2016 14:24:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 289F51A07DB
	for <dev@httpd.apache.org>; Tue,  5 Jan 2016 14:24:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id LxKESAPh2yLW for <dev@httpd.apache.org>;
	Tue,  5 Jan 2016 14:24:29 +0000 (UTC)
Received: from mail-ig0-f182.google.com (mail-ig0-f182.google.com [209.85.213.182])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id E40C4203BD
	for <dev@httpd.apache.org>; Tue,  5 Jan 2016 14:24:28 +0000 (UTC)
Received: by mail-ig0-f182.google.com with SMTP id z14so9049507igp.0
        for <dev@httpd.apache.org>; Tue, 05 Jan 2016 06:24:28 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=xfyodHjFntPYzankhHs/YHC7E0rtf42kYoyAk06RVno=;
        b=NsmDcyDQ1ZIv8gHI0Iua281YMO4nXjOMUpdtF6ogG9IUgwfSsmQ2bpCSRc+F4KsuiT
         lyg7YLCKn9yJ5tXOMFWP8uoFJl81JeNcC+sFmUP9+EG2T4D95pak+l46CH2Ra74rZqKp
         p/fMQ4dilpq3vgFIYGhqjsiOGgMy20gKDT05UEbiFrC+93WDAWk/JlEHHx2bkBbLxI9l
         09Sba/JiB4Usf1/Hzmo6IN5z0zqC8kimotf1l/VxK3km2XVdwufGdsXRMy06mTSSn5cV
         rdPZJgKm7MrK6xE2DwFILSfQS09zWYWLs5R28QmmSKC4I68K5pJqnRq6mgwGqiexc/Be
         cZLw==
MIME-Version: 1.0
X-Received: by 10.50.43.162 with SMTP id x2mr3777207igl.72.1452003867910; Tue,
 05 Jan 2016 06:24:27 -0800 (PST)
Received: by 10.64.114.199 with HTTP; Tue, 5 Jan 2016 06:24:27 -0800 (PST)
In-Reply-To: <CD3835EC-E729-456A-B441-A66D7C4FD092@greenbytes.de>
References: <CD3835EC-E729-456A-B441-A66D7C4FD092@greenbytes.de>
Date: Tue, 5 Jan 2016 09:24:27 -0500
Message-ID: <CALK=YjNiswf_c5EhWHCe34VUO3LbzJpfaw++=82KN=6mRsAv=Q@mail.gmail.com>
Subject: Re: graceful restart
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Jan 5, 2016 at 9:21 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> To the Knowledgable out there: how can I detect that the server is gracefully restarting?
>
> Backlground is that HTTP/2
> 1. is sometimes in the state of being IDLE, but unable to return to the MPM, *could* however terminate the HTTP2 session.
> 2. HTTP2 sessions can be brought down by first announcing that no more streams will be processed and then closing, once the existing ones are done.
>
> Thanks for the help.

More generally, do you want to know if the child process is trying to
gracefully exit?

I think currently that is tied up in the MPMs and would need to be
exposed, but let's wait for others.
who will know better.

From dev-return-85135-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan  5 16:26:41 2016
Return-Path: <dev-return-85135-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 895D318861
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  5 Jan 2016 16:26:41 +0000 (UTC)
Received: (qmail 83180 invoked by uid 500); 5 Jan 2016 16:26:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83033 invoked by uid 500); 5 Jan 2016 16:26:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82895 invoked by uid 99); 5 Jan 2016 16:26:40 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Jan 2016 16:26:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id CDADBC0B5F
	for <dev@httpd.apache.org>; Tue,  5 Jan 2016 16:26:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.999
X-Spam-Level: **
X-Spam-Status: No, score=2.999 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=3,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id qdptkNqC5hrP for <dev@httpd.apache.org>;
	Tue,  5 Jan 2016 16:26:33 +0000 (UTC)
Received: from mail-io0-f180.google.com (mail-io0-f180.google.com [209.85.223.180])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 833F720A92
	for <dev@httpd.apache.org>; Tue,  5 Jan 2016 16:26:33 +0000 (UTC)
Received: by mail-io0-f180.google.com with SMTP id o67so470878163iof.3
        for <dev@httpd.apache.org>; Tue, 05 Jan 2016 08:26:33 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=13mtWtrdfmwb8l3eKubCiW5jhA6jcmdLHJdeKRtvSyk=;
        b=b07Qxzet4WJS1KxuyvDb7l0upLZVKXFAVddK1z96ixSh76zL0x2DmngLLHJ6Ffj1Dz
         VKAIWtpWHnTWE1DzHLIWrRJ0FyZMOfX3JCCGXOFJb8gAM/if6QD3H4AlJIj2FSvBiEUg
         9FmxwwTSFDZQUhQpazTc4bKeNEEY5xknnaMOFB8tVcPIO7iBP+XR1FtwAXDK2jxXYmx0
         7gfn2+1qGxikMpJiOOcJS3AAhIg+EnvExU/1s9OZVXm8qEQxWy8e6ktuL+zfGnW7Scy4
         +j5cLLJhwl0BFFEsAr4mJE7UzRQpsFjNCCAzHDUgW1lQbkxzksG1yD9z9D7iYxEYVax9
         F5Kw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=13mtWtrdfmwb8l3eKubCiW5jhA6jcmdLHJdeKRtvSyk=;
        b=QF0L9Kujt5FIh1e7plpie8tSiCaUSijsOO4oL/RXVe80iQqDoTAkmmaDCDjvNJqSqL
         Oc0WK+sn1ORoZPB8pXlMe0QDKRW2UeylJ5jgTk5w6aloCcr+2vSj3pLA5Ji/rmZq5Hvx
         4UTNgQW2IjjOxzuEug+1n5IFeD4wtpCl4AxxKoEMIe8lB3ZNKIjySEhWa9lb6y+NPSrk
         3glp8e2N6uk8OBN3HZHj8NOtDAq9d3tkTyif6vRJY0zaZdv4w60FYzq7GHI2ctW5ahvj
         5Q6mOAObaHA0BCizVu8bwNf9qPc5o7cHZRpo+xSzJ/A68sqQAiHivgyapm3njo9+86Ub
         iCLA==
X-Gm-Message-State: ALoCoQlvUmaVswL6Ctcdo0hnva3B2C3jw08LyOfvaJqKG98vEG3BZambH0dAdjWGtgEK24XLAfRsP6yWIfw6ARVnO2oa9QYdgKmp5yTTQ9Z9WGyyzJpWeFM=
MIME-Version: 1.0
X-Received: by 10.107.28.82 with SMTP id c79mr79737621ioc.86.1452011192880;
 Tue, 05 Jan 2016 08:26:32 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Tue, 5 Jan 2016 08:26:32 -0800 (PST)
In-Reply-To: <CALK=YjNiswf_c5EhWHCe34VUO3LbzJpfaw++=82KN=6mRsAv=Q@mail.gmail.com>
References: <CD3835EC-E729-456A-B441-A66D7C4FD092@greenbytes.de>
	<CALK=YjNiswf_c5EhWHCe34VUO3LbzJpfaw++=82KN=6mRsAv=Q@mail.gmail.com>
Date: Tue, 5 Jan 2016 10:26:32 -0600
Message-ID: <CACsi250ZFJBj8pbBdvawtW1=oaS_3F4XiC+3Ugwk6LBPU9ZphQ@mail.gmail.com>
Subject: Re: graceful restart
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11409b985cd2a9052898b35e

--001a11409b985cd2a9052898b35e
Content-Type: text/plain; charset=UTF-8

On Tue, Jan 5, 2016 at 8:24 AM, Eric Covener <covener@gmail.com> wrote:

> On Tue, Jan 5, 2016 at 9:21 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
> > To the Knowledgable out there: how can I detect that the server is
> gracefully restarting?
> >
> > Backlground is that HTTP/2
> > 1. is sometimes in the state of being IDLE, but unable to return to the
> MPM, *could* however terminate the HTTP2 session.
> > 2. HTTP2 sessions can be brought down by first announcing that no more
> streams will be processed and then closing, once the existing ones are done.
> >
> > Thanks for the help.
>
> More generally, do you want to know if the child process is trying to
> gracefully exit?
>
> I think currently that is tied up in the MPMs and would need to be
> exposed, but let's wait for others.
> who will know better.
>

ap_mpm_query should answer such questions, we should expand the answer-set
if not.

Does AP_MPMQ_MPM_STATE report AP_MPMQ_STOPPING?  If not there is clearly a
fourth state, AP_MPMQ_CHILD_STOPPING we should report.  The API change will
be a bit of a hassle for existing modules though... if they wanted to truly
know that the parent will still be running or is stopping.

--001a11409b985cd2a9052898b35e
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div>On Tue, Jan 5, 2016 at 8:24 AM, Eric Covener <span di=
r=3D"ltr">&lt;<a href=3D"mailto:covener@gmail.com" target=3D"_blank">covene=
r@gmail.com</a>&gt;</span> wrote:<br></div><div class=3D"gmail_extra"><div =
class=3D"gmail_quote"><blockquote class=3D"gmail_quote" style=3D"margin:0px=
 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);bor=
der-left-style:solid;padding-left:1ex"><span class=3D"">On Tue, Jan 5, 2016=
 at 9:21 AM, Stefan Eissing<br>
&lt;<a href=3D"mailto:stefan.eissing@greenbytes.de">stefan.eissing@greenbyt=
es.de</a>&gt; wrote:<br>
&gt; To the Knowledgable out there: how can I detect that the server is gra=
cefully restarting?<br>
&gt;<br>
&gt; Backlground is that HTTP/2<br>
&gt; 1. is sometimes in the state of being IDLE, but unable to return to th=
e MPM, *could* however terminate the HTTP2 session.<br>
&gt; 2. HTTP2 sessions can be brought down by first announcing that no more=
 streams will be processed and then closing, once the existing ones are don=
e.<br>
&gt;<br>
&gt; Thanks for the help.<br>
<br>
</span>More generally, do you want to know if the child process is trying t=
o<br>
gracefully exit?<br>
<br>
I think currently that is tied up in the MPMs and would need to be<br>
exposed, but let&#39;s wait for others.<br>
who will know better.<br>
</blockquote></div><br></div><div class=3D"gmail_extra">ap_mpm_query should=
 answer such questions, we should expand the answer-set if not.<br></div><d=
iv class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">Does AP_MPMQ_=
MPM_STATE report AP_MPMQ_STOPPING?=C2=A0 If not there is clearly a fourth s=
tate, AP_MPMQ_CHILD_STOPPING we should report.=C2=A0 The API change will be=
 a bit of a hassle for existing modules though... if they wanted to truly k=
now that the parent will still be running or is stopping.</div><div class=
=3D"gmail_extra"><br></div><div class=3D"gmail_extra"><br></div><div class=
=3D"gmail_extra"><br></div><div class=3D"gmail_extra"><br></div><div class=
=3D"gmail_extra"><br></div><div class=3D"gmail_extra"><br></div><div><br></=
div></div>

--001a11409b985cd2a9052898b35e--

From dev-return-85136-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan  5 16:27:45 2016
Return-Path: <dev-return-85136-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DF74C18875
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  5 Jan 2016 16:27:44 +0000 (UTC)
Received: (qmail 90406 invoked by uid 500); 5 Jan 2016 16:27:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 90331 invoked by uid 500); 5 Jan 2016 16:27:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 90321 invoked by uid 99); 5 Jan 2016 16:27:44 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Jan 2016 16:27:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 8DC9B1A082D
	for <dev@httpd.apache.org>; Tue,  5 Jan 2016 16:27:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id TYvlPMYijOE0 for <dev@httpd.apache.org>;
	Tue,  5 Jan 2016 16:27:38 +0000 (UTC)
Received: from mail-ig0-f171.google.com (mail-ig0-f171.google.com [209.85.213.171])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 84D8D23120
	for <dev@httpd.apache.org>; Tue,  5 Jan 2016 16:27:38 +0000 (UTC)
Received: by mail-ig0-f171.google.com with SMTP id ph11so18156272igc.1
        for <dev@httpd.apache.org>; Tue, 05 Jan 2016 08:27:38 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=yIy5mI4qNJZwDKGREO6ir8IxcUmW90JiwCNzVzklXEw=;
        b=fTu0u01S//RXF1z5IGi3bWwPWuGWo0GWegqYRqh+6MpvYGcnXgPRTXXcqvCUAwsNvu
         DBbzn08m7ic4aObUyaEyZe10RBevi/PFvE7vTuAL37wX3YhYAlb2N9WoPE1/72RsO2+j
         KANzzThR7NzVNWEDJLELqablwehyc0h3U4EGCzTAd4eexSZisgJn/5cVQ9KnXlVC8PXB
         wvF2bNcpZIWfW4EBfbLWKqHl3isBfgAL+/2z5yhHMyURDEhQsjUDUqEze77fDVTLxfF4
         txrozGwqyM6SByX+wbSdUVzw8hg/CyVv/Nb3xBYQJ8P71nlsobe8TVeN1hQ5um0G+aJj
         uz3w==
MIME-Version: 1.0
X-Received: by 10.50.43.162 with SMTP id x2mr4328106igl.72.1452011251473; Tue,
 05 Jan 2016 08:27:31 -0800 (PST)
Received: by 10.64.114.199 with HTTP; Tue, 5 Jan 2016 08:27:31 -0800 (PST)
In-Reply-To: <CACsi250ZFJBj8pbBdvawtW1=oaS_3F4XiC+3Ugwk6LBPU9ZphQ@mail.gmail.com>
References: <CD3835EC-E729-456A-B441-A66D7C4FD092@greenbytes.de>
	<CALK=YjNiswf_c5EhWHCe34VUO3LbzJpfaw++=82KN=6mRsAv=Q@mail.gmail.com>
	<CACsi250ZFJBj8pbBdvawtW1=oaS_3F4XiC+3Ugwk6LBPU9ZphQ@mail.gmail.com>
Date: Tue, 5 Jan 2016 11:27:31 -0500
Message-ID: <CALK=YjNwqnUTOSfE2hzPdgKAd+3qTCW9pbQAiG3oGPK1R1ecuA@mail.gmail.com>
Subject: Re: graceful restart
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Jan 5, 2016 at 11:26 AM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
>   If not there is clearly a fourth state, AP_MPMQ_CHILD_STOPPING we should
> report.

+1

From dev-return-85137-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan  5 16:30:25 2016
Return-Path: <dev-return-85137-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 55D1018884
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  5 Jan 2016 16:30:25 +0000 (UTC)
Received: (qmail 94266 invoked by uid 500); 5 Jan 2016 16:30:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94177 invoked by uid 500); 5 Jan 2016 16:30:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94167 invoked by uid 99); 5 Jan 2016 16:30:24 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Jan 2016 16:30:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 3C00218019E
	for <dev@httpd.apache.org>; Tue,  5 Jan 2016 16:30:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.654
X-Spam-Level:
X-Spam-Status: No, score=-0.654 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=XiN86Xqb;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Lf3XIq1T
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id mM5KATLTZacZ for <dev@httpd.apache.org>;
	Tue,  5 Jan 2016 16:30:15 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 00BD620CC8
	for <dev@httpd.apache.org>; Tue,  5 Jan 2016 16:30:14 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 31E2F15A074F; Tue,  5 Jan 2016 17:30:07 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1452011407; bh=8sNW9FzNlJYhbZuYo73ctjh0ldg4E0oF7ZZLdjoAfXU=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=XiN86XqbIS6bTVv8K0UwQ5t68CleN0YV8Jq+Qyuqx+L427un1V5QEcAv057V+LFBK
	 wpYsKBnBkmCFp4+2KSEiRJppVhFAG2IyxpVC6HVHqMAEJp+5jVgRXFuWtUfU/w1I3X
	 izT4RqwV5hh3SVU3sGAPgT20hjL2ZsgUiXcXkKf0=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 05E8615A040A
	for <dev@httpd.apache.org>; Tue,  5 Jan 2016 17:30:06 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1452011406; bh=8sNW9FzNlJYhbZuYo73ctjh0ldg4E0oF7ZZLdjoAfXU=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=Lf3XIq1TMW5LwUZaPLOUUjO/DFi7TrEajLe8R0egyapls2FQcdUl9Uwdsl3pxvMPo
	 SaNplDHyDEWO5SBr9YUN/W/PCghDFQ/QAHVbgABwX0OVWfvBqBtYuTKXrvus6zFChl
	 sCn/1SCD0uiNYOy9Fi+H6v8VXdOG8tzieNJDHXh4=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: graceful restart
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CACsi250ZFJBj8pbBdvawtW1=oaS_3F4XiC+3Ugwk6LBPU9ZphQ@mail.gmail.com>
Date: Tue, 5 Jan 2016 17:30:05 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <13D72D43-5EDE-4768-8907-966D30554DE3@greenbytes.de>
References: <CD3835EC-E729-456A-B441-A66D7C4FD092@greenbytes.de> <CALK=YjNiswf_c5EhWHCe34VUO3LbzJpfaw++=82KN=6mRsAv=Q@mail.gmail.com> <CACsi250ZFJBj8pbBdvawtW1=oaS_3F4XiC+3Ugwk6LBPU9ZphQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Thanks, I will investigate tomorrow and report back.

> Am 05.01.2016 um 17:26 schrieb William A Rowe Jr =
<wrowe@rowe-clan.net>:
>=20
> On Tue, Jan 5, 2016 at 8:24 AM, Eric Covener <covener@gmail.com> =
wrote:
> On Tue, Jan 5, 2016 at 9:21 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
> > To the Knowledgable out there: how can I detect that the server is =
gracefully restarting?
> >
> > Backlground is that HTTP/2
> > 1. is sometimes in the state of being IDLE, but unable to return to =
the MPM, *could* however terminate the HTTP2 session.
> > 2. HTTP2 sessions can be brought down by first announcing that no =
more streams will be processed and then closing, once the existing ones =
are done.
> >
> > Thanks for the help.
>=20
> More generally, do you want to know if the child process is trying to
> gracefully exit?
>=20
> I think currently that is tied up in the MPMs and would need to be
> exposed, but let's wait for others.
> who will know better.
>=20
> ap_mpm_query should answer such questions, we should expand the =
answer-set if not.
>=20
> Does AP_MPMQ_MPM_STATE report AP_MPMQ_STOPPING?  If not there is =
clearly a fourth state, AP_MPMQ_CHILD_STOPPING we should report.  The =
API change will be a bit of a hassle for existing modules though... if =
they wanted to truly know that the parent will still be running or is =
stopping.
>=20
>=20
>=20
>=20
>=20
>=20
>=20


From dev-return-85138-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan  5 16:33:17 2016
Return-Path: <dev-return-85138-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 49BCB188AB
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  5 Jan 2016 16:33:17 +0000 (UTC)
Received: (qmail 2346 invoked by uid 500); 5 Jan 2016 16:33:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2262 invoked by uid 500); 5 Jan 2016 16:33:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2252 invoked by uid 99); 5 Jan 2016 16:33:16 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Jan 2016 16:33:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 51085C0B5F
	for <dev@httpd.apache.org>; Tue,  5 Jan 2016 16:33:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.999
X-Spam-Level: **
X-Spam-Status: No, score=2.999 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=3,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id BFjD24aMLH4j for <dev@httpd.apache.org>;
	Tue,  5 Jan 2016 16:33:10 +0000 (UTC)
Received: from mail-ig0-f175.google.com (mail-ig0-f175.google.com [209.85.213.175])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5739420A92
	for <dev@httpd.apache.org>; Tue,  5 Jan 2016 16:33:10 +0000 (UTC)
Received: by mail-ig0-f175.google.com with SMTP id to18so15327467igc.0
        for <dev@httpd.apache.org>; Tue, 05 Jan 2016 08:33:10 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=wXUMZ2YOYSpDnLI2JlQ867ROpnHMpI9wf6PrSpK/Srw=;
        b=wk/Dt7SdV/12ESCnF9qY+l2H1F2m1fGwuOtFzODXIDoo9VXkSj+KWzkoh1J7ky/xgh
         Hdub+R2MJOSg5Cot1TlF6gOBE8a0KCEIaJ0ZaQ5yIXhYNIys4QDWCh94vQ7vSu1NLubN
         hb50CWjhdhlJIftXnsSsEPUgUPRBQL5+7o/Fgc7timkK5zPHyORVrCWJbDZFzBK+V72B
         ocxWc/w7hoSQyPlUEfgt8v+jd2zgBdUBwjcD/WODLBWNGnPqehy3B9B+3jvvwaMVVJIZ
         CqPY1dcDodcP9vZtiIUmaDlCNEsr0C6m7pJSVRS6E0D34Ruld3J+y99XcvDAgurN41pI
         KWSA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=wXUMZ2YOYSpDnLI2JlQ867ROpnHMpI9wf6PrSpK/Srw=;
        b=NmICgQWXbyuMpHjRZn0L0rHAIMLE6kTR1bX5iSCZcxu+XmZzPgtjZyzOOGc0QmJq2Z
         FYCdQKkF+eF+JDn7P4RljbtRx2yhBw6HKgA1XwjMrLfGXBUErPKAuzSSDR8HeDWBPSCr
         vFIvo1q2zn2xKyqQUSzXee1328Wp56OhirCE4Lz3AZAS4KmSvDlScTuAP+d4QacWiLU9
         Lr/RLc0jjoCRDnteRnemVY/7KB1YvE+nQZ+3drnUgHwnQ385YmYWzVIFqepVISuiOyhh
         VrcgR0qgYUvA3KNVVDEd2YIV3uTM69Y/tuPK9PWIINbE+4qWaO0A9x1uC2eatXKQrjvA
         yowg==
X-Gm-Message-State: ALoCoQng3xJrApUKagriagO8WFSJFBmmXaQ5iPoYiuaUUyrY4rfDDv8TXZ8yIJZkFtWlr8dwBLnMKObnUDfpQG1scjAMTYqI4H9lJPm2EYI1D1gWAehUeEk=
MIME-Version: 1.0
X-Received: by 10.50.142.66 with SMTP id ru2mr4811766igb.32.1452011589685;
 Tue, 05 Jan 2016 08:33:09 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Tue, 5 Jan 2016 08:33:09 -0800 (PST)
In-Reply-To: <CALK=YjNwqnUTOSfE2hzPdgKAd+3qTCW9pbQAiG3oGPK1R1ecuA@mail.gmail.com>
References: <CD3835EC-E729-456A-B441-A66D7C4FD092@greenbytes.de>
	<CALK=YjNiswf_c5EhWHCe34VUO3LbzJpfaw++=82KN=6mRsAv=Q@mail.gmail.com>
	<CACsi250ZFJBj8pbBdvawtW1=oaS_3F4XiC+3Ugwk6LBPU9ZphQ@mail.gmail.com>
	<CALK=YjNwqnUTOSfE2hzPdgKAd+3qTCW9pbQAiG3oGPK1R1ecuA@mail.gmail.com>
Date: Tue, 5 Jan 2016 10:33:09 -0600
Message-ID: <CACsi251+_csnNxYM9eWM6UOER77QUyk-axptAj9j_AfZ2X5+4g@mail.gmail.com>
Subject: Re: graceful restart
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1130c8400371a6052898cb0f

--001a1130c8400371a6052898cb0f
Content-Type: text/plain; charset=UTF-8

On Tue, Jan 5, 2016 at 10:27 AM, Eric Covener <covener@gmail.com> wrote:

> On Tue, Jan 5, 2016 at 11:26 AM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
> >   If not there is clearly a fourth state, AP_MPMQ_CHILD_STOPPING we
> should
> > report.
>
> +1
>

Better yet, an AP_MPMQ_CHILD_STATE that uses the same response
set but distinguishes server-stopping from process-stopping.  In the single
process -X model, the two responses would be identical.

--001a1130c8400371a6052898cb0f
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
ue, Jan 5, 2016 at 10:27 AM, Eric Covener <span dir=3D"ltr">&lt;<a href=3D"=
mailto:covener@gmail.com" target=3D"_blank">covener@gmail.com</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0=
.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-s=
tyle:solid;padding-left:1ex"><span class=3D"">On Tue, Jan 5, 2016 at 11:26 =
AM, William A Rowe Jr &lt;<a href=3D"mailto:wrowe@rowe-clan.net">wrowe@rowe=
-clan.net</a>&gt; wrote:<br>
&gt;=C2=A0 =C2=A0If not there is clearly a fourth state, AP_MPMQ_CHILD_STOP=
PING we should<br>
&gt; report.<br>
<br>
</span>+1<br>
</blockquote></div><br></div><div class=3D"gmail_extra">Better yet, an=C2=
=A0<span style=3D"font-size:12.8px">AP_MPMQ_CHILD_STATE that uses the same =
response</span></div><div class=3D"gmail_extra"><span style=3D"font-size:12=
.8px">set but distinguishes server-stopping from process-stopping.=C2=A0 In=
 the single</span></div><div class=3D"gmail_extra"><span style=3D"font-size=
:12.8px">process -X model, the two responses would be identical.</span></di=
v><div class=3D"gmail_extra"><span style=3D"font-size:12.8px"><br></span></=
div><div class=3D"gmail_extra"><span style=3D"font-size:12.8px"><br></span>=
</div></div>

--001a1130c8400371a6052898cb0f--

From dev-return-85139-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan  6 02:00:51 2016
Return-Path: <dev-return-85139-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A3C4A18609
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  6 Jan 2016 02:00:51 +0000 (UTC)
Received: (qmail 37342 invoked by uid 500); 6 Jan 2016 02:00:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37260 invoked by uid 500); 6 Jan 2016 02:00:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37250 invoked by uid 99); 6 Jan 2016 02:00:50 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Jan 2016 02:00:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 69BDDC21BF
	for <dev@httpd.apache.org>; Wed,  6 Jan 2016 02:00:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.001
X-Spam-Level: ***
X-Spam-Status: No, score=3.001 tagged_above=-999 required=6.31
	tests=[KAM_BADIPHTTP=2, KAM_LAZY_DOMAIN_SECURITY=1,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id q_ot4io3EbWV for <dev@httpd.apache.org>;
	Wed,  6 Jan 2016 02:00:37 +0000 (UTC)
Received: from gwo5.mbox.net (gwo5.mbox.net [165.212.64.23])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 4236E2316B
	for <dev@httpd.apache.org>; Wed,  6 Jan 2016 02:00:37 +0000 (UTC)
Received: from gwo5.mbox.net (localhost [127.0.0.1])
	by gwo5.mbox.net (Postfix) with ESMTP id 3pZv6Q2nvjzlh6pL
	for <dev@httpd.apache.org>; Wed,  6 Jan 2016 02:00:30 +0000 (UTC)
X-USANET-Received: from gwo5.mbox.net [127.0.0.1] by gwo5.mbox.net via mtad (C8.MAIN.4.02J) 
	with ESMTP id 893uaFcaZ4048Mo5; Wed, 06 Jan 2016 02:00:25 -0000
X-USANET-Routed: 5 gwsout-gwsd Q:gwsd
X-USANET-Routed: 3 gwsout-vs Q:bmvirus
X-USANET-GWS2-Tenant: netacquire.com
X-USANET-GWS2-Tagid: YGPS
Received: from S1P5HUB8.EXCHPROD.USA.NET [165.212.120.254] by gwo5.mbox.net via smtad (C8.MAIN.4.04I) 
	with ESMTPS id XID280uaFcaZ7318Xo5; Wed, 06 Jan 2016 02:00:25 -0000
X-USANET-Source: 165.212.120.254 OUT  scottm@netacquire.com S1P5HUB8.EXCHPROD.USA.NET TLS
X-USANET-MsgId: XID280uaFcaZ7318Xo5
Received: from S1P5DAG4B.EXCHPROD.USA.NET ([169.254.2.99]) by
 S1P5HUB8.EXCHPROD.USA.NET ([10.120.223.38]) with mapi id 14.03.0266.001; Wed,
 6 Jan 2016 02:00:24 +0000
From: Scott Munson <scottm@netacquire.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: HTML hyperlink tag disconnect during rewrite in mod_proxy_html
Thread-Topic: HTML hyperlink tag disconnect during rewrite in mod_proxy_html
Thread-Index: AdFIIoTYQhQmJz0ZQeSsYkc8qgfZMw==
Date: Wed, 6 Jan 2016 02:00:24 +0000
Message-ID: <8CE3E0423A5B74479899E9B97CCE8A7871AAD3FA@S1P5DAG4B.EXCHPROD.USA.NET>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [206.169.238.38]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

We're seeing some unexpected behavior when attempting to proxy hyperlink ta=
gs and was wondering if anyone recognized this behavior as an existing issu=
e or due to something else. The behavior always occurs when a hyperlink tag=
 becomes associated in a parent child (or vice versa) relationship with a t=
able. After running through proxy, the resultant HTML always moves the chil=
d nodes of the hyperlink up to be a sibling of the hyperlink instead of rem=
aining children. E.g. <a><table/></a> becomes <a></a><table/> Example appea=
rs below, although other flavors exist such as a hyperlink within a table <=
a>text here</a> becoming <a></a>text here. Our httpd configuration includes=
 libxml2, mod_proxy_html, and mod_xml2enc for proxying. The entire addition=
al conf file follows the HTML example below.

The behavior occurs as long as ProxyHTMLEnable is on but regardless of whet=
her or not there are ProxyHTMLLinks found that match anything in proxy-html=
.conf. At least one mapping must remain present in order to cause the behav=
ior. E.g. comment out all but "ProxyHTMLLinks form action" and the followin=
g example will continue to exhibit the behavior.

Hyperlink tags not associated with a table are handled as expected. When co=
nfiguring such that hyperlink href attributes should be rewritten results i=
n proper rewrites of the attribute but the node movement behavior still per=
sists. Any insight is much appreciated.

<!DOCTYPE html>
<html>
   <head>
      <title>testing mod_proxy_html</title>
   </head>
   <body>
      <a href=3D"http://www.msn.com">
         <table>
            <tr>
               <td>table wrapped by &lt;a&gt;</td>
            </tr>
         </table>
      </a>
   </body>
</html>

---

LoadFile   /usr/lib/libxml2.so
LoadModule proxy_html_module lib/apache/mod_proxy_html.so
LoadModule xml2enc_module lib/apache/mod_xml2enc.so

ProxyRequests off

Include /etc/httpd/conf/extra/proxy-html.conf

ProxyPass /proxytest http://172.20.0.15/test.html
ProxyHTMLURLMap http://172.20.0.15/test.html /proxytest

<Location /proxytest/>
   ProxyHTMLEnable On
</Location>


From dev-return-85140-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan  6 11:28:56 2016
Return-Path: <dev-return-85140-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 41A73188A6
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  6 Jan 2016 11:28:56 +0000 (UTC)
Received: (qmail 47378 invoked by uid 500); 6 Jan 2016 11:28:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 47309 invoked by uid 500); 6 Jan 2016 11:28:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 47299 invoked by uid 99); 6 Jan 2016 11:28:54 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Jan 2016 11:28:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8FECB18048D
	for <dev@httpd.apache.org>; Wed,  6 Jan 2016 11:28:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 5mUbUbWloZ86 for <dev@httpd.apache.org>;
	Wed,  6 Jan 2016 11:28:54 +0000 (UTC)
Received: from mail-wm0-f49.google.com (mail-wm0-f49.google.com [74.125.82.49])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 8A0E0439E1
	for <dev@httpd.apache.org>; Wed,  6 Jan 2016 11:28:53 +0000 (UTC)
Received: by mail-wm0-f49.google.com with SMTP id b14so70973796wmb.1
        for <dev@httpd.apache.org>; Wed, 06 Jan 2016 03:28:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-type:content-transfer-encoding;
        bh=De2Dsv1v6pMjkecDKf68CV1NQ8GjYYrmxJ3cpP8eF7A=;
        b=g4uljtjsf5LetQ4i3kMhlR+kqtIf+ZuF5uI5tNZY2N7CaVyuTlEIOnUTGWh3HGTwEs
         puz9M536Bisq6maWKqXNfDg8OdWjzJ8WDAF4xajFL0/FevqfkZ7f/GduZnds9uBIX2rh
         ESyn77Zo6FEW5i5q8YTyXX8IVIiDYJsVnv+pLnS4X4dJ7xCk03jzHaPbjfP2QiP83AF8
         hSgdbJp5AnNX81lYUzmO+TlsCvydaR+x0g2lBKP+gGs0YkVQxaqGUeoRx0eXNm45LyPv
         zGG4sdUh3KcEGbooyqel4lX30/nabdQEOphKlAgZz1Fw4m8xvwiveTigb6PKOjHDqz7U
         NcYA==
X-Received: by 10.28.178.206 with SMTP id b197mr9249814wmf.20.1452079732517;
        Wed, 06 Jan 2016 03:28:52 -0800 (PST)
Received: from [192.168.1.37] (112.Red-88-13-75.dynamicIP.rima-tde.net. [88.13.75.112])
        by smtp.gmail.com with ESMTPSA id di6sm33347989wjb.12.2016.01.06.03.28.50
        for <dev@httpd.apache.org>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Wed, 06 Jan 2016 03:28:51 -0800 (PST)
Subject: Re: Weird behaviour with mod_ssl and SSLCryptoDevice
To: dev@httpd.apache.org
References: <566EC054.2040204@gmail.com> <566FFED9.1090102@redhat.com>
 <CAKQ1sVPOVLXs8UGvFzU2Bv4xX=7OFLi4zTu0wsan7W=TcjoLGw@mail.gmail.com>
 <567020B6.5010007@redhat.com>
From: jean-frederic clere <jfclere@gmail.com>
Message-ID: <568CFA71.4000504@gmail.com>
Date: Wed, 6 Jan 2016 12:28:49 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.4.0
MIME-Version: 1.0
In-Reply-To: <567020B6.5010007@redhat.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit

On 12/15/2015 03:16 PM, Jan Kalua wrote:
> On 12/15/2015 02:16 PM, Yann Ylavic wrote:
>> Hi Jan,
>>
>> On Tue, Dec 15, 2015 at 12:51 PM, Jan Kalua <jkaluza@redhat.com> wrote:
>>>
>>> I think I've just fixed that in <http://svn.apache.org/r1720129>. I will
>>> also propose that for 2.4.x and 2.2.x.
>>
>> Shouldn't we do the same for ecparams below?
> 
> Probably yes, I was just checking the arguments which get passed to
> "SSL_CTX_set_*" functions. I think you are right we should call
> EC_GROUP_free there.

According to my tests with trunk there is still a problem, the
ENGINE_cleanup() doesn't finish the engines, I have tried to use
CRYPTO_mem_leaks_fp() to find the leak but there are too many of them to
find where we miss a "free()".

Any idea on the topic?

Cheers

Jean-Frederic

From dev-return-85141-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan  6 12:17:35 2016
Return-Path: <dev-return-85141-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 419B718B11
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  6 Jan 2016 12:17:35 +0000 (UTC)
Received: (qmail 51281 invoked by uid 500); 6 Jan 2016 12:17:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51215 invoked by uid 500); 6 Jan 2016 12:17:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51205 invoked by uid 99); 6 Jan 2016 12:17:34 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Jan 2016 12:17:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 5E5DEC03CE
	for <dev@httpd.apache.org>; Wed,  6 Jan 2016 12:17:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id XurmGeIHIOxg for <dev@httpd.apache.org>;
	Wed,  6 Jan 2016 12:17:33 +0000 (UTC)
Received: from mail-qg0-f49.google.com (mail-qg0-f49.google.com [209.85.192.49])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 92499429C4
	for <dev@httpd.apache.org>; Wed,  6 Jan 2016 12:17:33 +0000 (UTC)
Received: by mail-qg0-f49.google.com with SMTP id o11so300631102qge.2
        for <dev@httpd.apache.org>; Wed, 06 Jan 2016 04:17:33 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=f3dk0jinipj5sJxyjVjMZ5hm5nQLSup/TRxwuF1vRy0=;
        b=YxTzVq0sMLGnAcpP3Nl7sQo2NgJsE9VS/dOmAo1K8b2Ecobt7odH2W7t+HLQrFs00d
         mHAPw6ZM+gpY/cuEQx7zGLXn1Zpqp08cxuyMCDbd8Kb8XtZZJxVukr+JgeW0iUH0e3f4
         Q7feLYxdhwUUdCsMuhG3XS3OPYNCRRO4m3nvsoO6PPP69im5dF7DlshQPVc4vGZLJgvi
         R7ukpB0JB3nr4PxTKQQtHFYfAZV6MlgSfaPCUAWh776P8/UQlb7O+yqFiI4WetVmrdvl
         6N6KkLuuNo1Yx/DeubgYbVFRmMBqG+eAnf7jt5QHwDmOf6z5VZjPeqUxTp1UjBrEOC6n
         DoNQ==
MIME-Version: 1.0
X-Received: by 10.140.18.167 with SMTP id 36mr81724942qgf.38.1452082653320;
 Wed, 06 Jan 2016 04:17:33 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Wed, 6 Jan 2016 04:17:33 -0800 (PST)
In-Reply-To: <568CFA71.4000504@gmail.com>
References: <566EC054.2040204@gmail.com>
	<566FFED9.1090102@redhat.com>
	<CAKQ1sVPOVLXs8UGvFzU2Bv4xX=7OFLi4zTu0wsan7W=TcjoLGw@mail.gmail.com>
	<567020B6.5010007@redhat.com>
	<568CFA71.4000504@gmail.com>
Date: Wed, 6 Jan 2016 13:17:33 +0100
Message-ID: <CAKQ1sVP6Fs5BQDYghwotO-hkUpB=MDdy_6Bq9h8Z+8wHJruhow@mail.gmail.com>
Subject: Re: Weird behaviour with mod_ssl and SSLCryptoDevice
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Jan 6, 2016 at 12:28 PM, jean-frederic clere <jfclere@gmail.com> wr=
ote:
> On 12/15/2015 03:16 PM, Jan Kalu=C5=BEa wrote:
>> On 12/15/2015 02:16 PM, Yann Ylavic wrote:
>>> Hi Jan,
>>>
>>> On Tue, Dec 15, 2015 at 12:51 PM, Jan Kalu=C5=BEa <jkaluza@redhat.com> =
wrote:
>>>>
>>>> I think I've just fixed that in <http://svn.apache.org/r1720129>. I wi=
ll
>>>> also propose that for 2.4.x and 2.2.x.
>>>
>>> Shouldn't we do the same for ecparams below?
>>
>> Probably yes, I was just checking the arguments which get passed to
>> "SSL_CTX_set_*" functions. I think you are right we should call
>> EC_GROUP_free there.
>
> According to my tests with trunk there is still a problem, the
> ENGINE_cleanup() doesn't finish the engines, I have tried to use
> CRYPTO_mem_leaks_fp() to find the leak but there are too many of them to
> find where we miss a "free()".
>
> Any idea on the topic?

I just committed (r1723295) a fix for the leak mentioned above.
Do you also use some custom ecparams in the certificate file?

Regards,
Yann.

From dev-return-85142-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan  7 14:26:03 2016
Return-Path: <dev-return-85142-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9351E18198
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  7 Jan 2016 14:26:03 +0000 (UTC)
Received: (qmail 11160 invoked by uid 500); 7 Jan 2016 14:26:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11081 invoked by uid 500); 7 Jan 2016 14:26:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11071 invoked by uid 99); 7 Jan 2016 14:26:03 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Jan 2016 14:26:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 9AE33C0E87
	for <dev@httpd.apache.org>; Thu,  7 Jan 2016 14:26:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.023
X-Spam-Level:
X-Spam-Status: No, score=-0.023 tagged_above=-999 required=6.31
	tests=[RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RP_MATCHES_RCVD=-0.001, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 5qlWu2OQWYtd for <dev@httpd.apache.org>;
	Thu,  7 Jan 2016 14:26:02 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id D4C9E42A21
	for <dev@httpd.apache.org>; Thu,  7 Jan 2016 14:26:01 +0000 (UTC)
Received: from int-mx09.intmail.prod.int.phx2.redhat.com (int-mx09.intmail.prod.int.phx2.redhat.com [10.5.11.22])
	by mx1.redhat.com (Postfix) with ESMTPS id 0E8C0192450
	for <dev@httpd.apache.org>; Thu,  7 Jan 2016 14:26:00 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com (dhcp-24-111.brq.redhat.com [10.34.24.111])
	by int-mx09.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id u07EPxmv020183
	for <dev@httpd.apache.org>; Thu, 7 Jan 2016 09:26:00 -0500
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: =?UTF-8?Q?Jan_Kalu=c5=bea?= <jkaluza@redhat.com>
Subject: Shouldn't ap_get_remote_host use req->useragent_addr?
Message-ID: <568E7577.6030607@redhat.com>
Date: Thu, 7 Jan 2016 15:25:59 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.3.0
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.22

Hi,

When httpd is running behind a reverse proxy and mod_remoteip is 
configured, the correct client IP is logged (using %a in the LogFormat), 
but the proxy IP is used by 'Require host .mydomain.net'. I would expect 
the host based on IP provided by mod_remoteip to be used here.

Is this expected behaviour? Maybe the ap_get_remote_host method should 
use req->useragent_addr instead of conn->client_addr to obtain the 
REMOTE_HOST.

Or we could introduce new env variable and new auth_provider to work 
with real remote_host of the client even when it is behind the proxy.

Regards,
Jan Kaluza

From dev-return-85143-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan  7 15:06:22 2016
Return-Path: <dev-return-85143-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2B36F184D6
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  7 Jan 2016 15:06:22 +0000 (UTC)
Received: (qmail 26255 invoked by uid 500); 7 Jan 2016 15:06:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26173 invoked by uid 500); 7 Jan 2016 15:06:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26163 invoked by uid 99); 7 Jan 2016 15:06:21 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Jan 2016 15:06:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id BFAE2C0EC2
	for <dev@httpd.apache.org>; Thu,  7 Jan 2016 15:06:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 5PU6MDxgOsQ2 for <dev@httpd.apache.org>;
	Thu,  7 Jan 2016 15:06:20 +0000 (UTC)
Received: from mail-io0-f170.google.com (mail-io0-f170.google.com [209.85.223.170])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 6D54B20F5E
	for <dev@httpd.apache.org>; Thu,  7 Jan 2016 15:06:19 +0000 (UTC)
Received: by mail-io0-f170.google.com with SMTP id 77so223778367ioc.2
        for <dev@httpd.apache.org>; Thu, 07 Jan 2016 07:06:19 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=Xlj8fL3wpOtYX063TOrGFUGJIhFtYsA9BDYpbdAloyI=;
        b=somyUBsV/UZeaxQngrgEp/gVJbHIVMbC7uil5YcZwkL/CA2v767fi+d3RdM0TWukt1
         xxnPsTPHnOGLQB3rVjqxtgPpm3acdLxtN8QWnsfm46n+7Eu+PsP2WadVb42nm1J1yJzm
         HVDq4dk+4FpiC4skCaXogbjDp4BfEqneAtFqGEP/Ic7w62tX28jUHPVsimEp8zeWljWk
         racSuZht/1b7QJdSyGd6h65BzfpYfAALv8H2nEpJvV7rmLynDAt9OwQejyYR6vyhG9Gw
         g7wdpBhosfbBGgbefOsOgtah3fXBGS6sn0fOe/cJKn2dgMg2D16Fp2OAJ3Yi+toIzAvc
         wTCQ==
MIME-Version: 1.0
X-Received: by 10.107.132.162 with SMTP id o34mr92098970ioi.13.1452179171747;
 Thu, 07 Jan 2016 07:06:11 -0800 (PST)
Received: by 10.64.114.199 with HTTP; Thu, 7 Jan 2016 07:06:11 -0800 (PST)
In-Reply-To: <568E7577.6030607@redhat.com>
References: <568E7577.6030607@redhat.com>
Date: Thu, 7 Jan 2016 10:06:11 -0500
Message-ID: <CALK=YjO3bs7A_pSFfBJfQmAqJv24TiCTYW8sgXAR9BJe3g6HFQ@mail.gmail.com>
Subject: Re: Shouldn't ap_get_remote_host use req->useragent_addr?
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Thu, Jan 7, 2016 at 9:25 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrote:
> When httpd is running behind a reverse proxy and mod_remoteip is configur=
ed,
> the correct client IP is logged (using %a in the LogFormat), but the prox=
y
> IP is used by 'Require host .mydomain.net'. I would expect the host based=
 on
> IP provided by mod_remoteip to be used here.
>
> Is this expected behaviour? Maybe the ap_get_remote_host method should us=
e
> req->useragent_addr instead of conn->client_addr to obtain the REMOTE_HOS=
T.

what about "Require ip ..."?

From dev-return-85144-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan  7 16:44:30 2016
Return-Path: <dev-return-85144-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2DEB2189AA
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  7 Jan 2016 16:44:30 +0000 (UTC)
Received: (qmail 81086 invoked by uid 500); 7 Jan 2016 16:44:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 81007 invoked by uid 500); 7 Jan 2016 16:44:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80997 invoked by uid 99); 7 Jan 2016 16:44:29 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Jan 2016 16:44:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 31B1CC0D18
	for <dev@httpd.apache.org>; Thu,  7 Jan 2016 16:44:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.999
X-Spam-Level: **
X-Spam-Status: No, score=2.999 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id xb8wi5SjzjQr for <dev@httpd.apache.org>;
	Thu,  7 Jan 2016 16:44:26 +0000 (UTC)
Received: from mgap1c-mgmt.jacksonnational.com (mgap1c-mgmt.jacksonnational.com [12.148.227.38])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 88DD020C6A
	for <dev@httpd.apache.org>; Thu,  7 Jan 2016 16:44:25 +0000 (UTC)
X-IronPort-AV: E=Sophos;i="5.20,533,1444708800"; 
   d="scan'208,217";a="229980255"
Received: from vtunpep1c.jacksonnational.com (HELO DC03PXMBP003.jacksonnational.com) ([10.12.111.24])
  by mgap1c-mgmt.jacksonnational.com with ESMTP; 07 Jan 2016 11:44:19 -0500
Received: from DC01PXMBP007.jacksonnational.com (10.8.105.36) by
 DC03PXMBP003.jacksonnational.com (10.12.105.32) with Microsoft SMTP Server
 (TLS) id 15.0.1044.25; Thu, 7 Jan 2016 08:44:17 -0800
Received: from DC01PXMBP007.jacksonnational.com ([10.8.105.36]) by
 DC01PXMBP007.jacksonnational.com ([10.8.105.36]) with mapi id 15.00.1044.021;
 Thu, 7 Jan 2016 11:44:17 -0500
From: "Houser, Rick" <rick.houser@jackson.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Subject: SSLProxyCheck* behavior
Thread-Topic: SSLProxyCheck* behavior
Thread-Index: AdFJZS/idWiXTQFmSXKahIJdCfVjYQ==
Date: Thu, 7 Jan 2016 16:44:17 +0000
Message-ID: <fde7cbdcf4a2467eb55f32f1d60fb884@DC01PXMBP007.jacksonnational.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-ms-exchange-transport-fromentityheader: Hosted
x-originating-ip: [10.6.30.191]
x-tm-as-product-ver: SMEX-11.0.0.1251-8.000.1202-22052.000
x-tm-as-result: No--53.276300-0.000000-31
x-tm-as-user-approved-sender: Yes
x-tm-as-user-blocked-sender: No
Content-Type: multipart/alternative;
	boundary="_000_fde7cbdcf4a2467eb55f32f1d60fb884DC01PXMBP007jacksonnati_"
MIME-Version: 1.0
X-DLP-JNL: Passed

--_000_fde7cbdcf4a2467eb55f32f1d60fb884DC01PXMBP007jacksonnati_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I think this just needs clarification in the documentation, but I'd appreci=
ate a confirmation that I undertstand this all before I create a bug and at=
tach a patch.

I'm running a series of web servers fronting a bunch of backend appservers.=
  Many of those are accessed via mod_proxy in some fashion, usually with se=
veral backing nodes.  The links between the web servers and the backends ar=
e encrypted with TLS, and have proper certificates signed by a CA that matc=
h the nodes they run on (ex. cn =3D box235a4c.example.com).

Web traffic comes in via load balancers, to which the end users to connect =
with something like https://servicename.example.com.  The proxy/balancer de=
finitions are using the hostnames that match where the backends run (as per=
 the backend above).

My current configuration includes this:

SSLProxyVerify require
SSLProxyCheckPeerCN off
SSLProxyCheckPeerName off

Under 2.4.18, the SSLProxyCheckPeerCN and SSLProxyCheckPeerName options are=
 defaulting to on, and preventing access to these services.  From what I ca=
n gather, to validate proxy certificates against the hostnames specified in=
 the configuration file, the admin must now specify all 3 lines above, inst=
ead of just the first (a change from 2.2?).  Otherwise, for verification pu=
rposes, the hostname the admin has explicitly supplied will be ignored and =
that value will instead be matched against what the end user provides via t=
he host header.

Different discussion: Doesn't this default behavior allow the end client li=
mited probing capability behind the web proxy when the SSLProxyCheckPeer* o=
ptions aren't set to off?



Rick Houser
Web Administration


--_000_fde7cbdcf4a2467eb55f32f1d60fb884DC01PXMBP007jacksonnati_
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40">
<head>
<meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dus-ascii"=
>
<meta name=3D"Generator" content=3D"Microsoft Word 15 (filtered medium)">
<style><!--
/* Font Definitions */
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:#0563C1;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:#954F72;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:"Calibri",sans-serif;
	color:windowtext;}
.MsoChpDefault
	{mso-style-type:export-only;
	font-family:"Calibri",sans-serif;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]-->
</head>
<body lang=3D"EN-US" link=3D"#0563C1" vlink=3D"#954F72">
<div class=3D"WordSection1">
<p class=3D"MsoNormal">I think this just needs clarification in the documen=
tation, but I&#8217;d appreciate a confirmation that I undertstand this all=
 before I create a bug and attach a patch.<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">I&#8217;m running a series of web servers fronting a=
 bunch of backend appservers.&nbsp; Many of those are accessed via mod_prox=
y in some fashion, usually with several backing nodes.&nbsp; The links betw=
een the web servers and the backends are encrypted
 with TLS, and have proper certificates signed by a CA that match the nodes=
 they run on (ex. cn =3D box235a4c.example.com).<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">Web traffic comes in via load balancers, to which th=
e end users to connect with something like
<a href=3D"https://servicename.example.com">https://servicename.example.com=
</a>.&nbsp; The proxy/balancer definitions are using the hostnames that mat=
ch where the backends run (as per the backend above).<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">My current configuration includes this:<o:p></o:p></=
p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">SSLProxyVerify require<o:p></o:p></p>
<p class=3D"MsoNormal">SSLProxyCheckPeerCN off<o:p></o:p></p>
<p class=3D"MsoNormal">SSLProxyCheckPeerName off<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">Under 2.4.18, the SSLProxyCheckPeerCN and SSLProxyCh=
eckPeerName options are defaulting to on, and preventing access to these se=
rvices.&nbsp; From what I can gather, to validate proxy certificates agains=
t the hostnames specified in the configuration
 file, the admin must now specify all 3 lines above, instead of just the fi=
rst (a change from 2.2?).&nbsp; Otherwise, for verification purposes, the h=
ostname the admin has explicitly supplied will be ignored and that value wi=
ll instead be matched against what the
 end user provides via the host header.<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">Different discussion: Doesn&#8217;t this default beh=
avior allow the end client limited probing capability behind the web proxy =
when the SSLProxyCheckPeer* options aren&#8217;t set to off?<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">Rick Houser<o:p></o:p></p>
<p class=3D"MsoNormal">Web Administration<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
</div>
</body>
</html>

--_000_fde7cbdcf4a2467eb55f32f1d60fb884DC01PXMBP007jacksonnati_--

From dev-return-85145-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 06:23:20 2016
Return-Path: <dev-return-85145-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5B04D18FC7
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 06:23:20 +0000 (UTC)
Received: (qmail 64025 invoked by uid 500); 8 Jan 2016 06:23:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63952 invoked by uid 500); 8 Jan 2016 06:23:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63942 invoked by uid 99); 8 Jan 2016 06:23:19 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 06:23:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 6F05A1A02AF
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 06:23:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.576
X-Spam-Level:
X-Spam-Status: No, score=-0.576 tagged_above=-999 required=6.31
	tests=[RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RP_MATCHES_RCVD=-0.554, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id xw7j0Spn_zCm for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 06:23:18 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 4CC12204D0
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 06:23:18 +0000 (UTC)
Received: from int-mx13.intmail.prod.int.phx2.redhat.com (int-mx13.intmail.prod.int.phx2.redhat.com [10.5.11.26])
	by mx1.redhat.com (Postfix) with ESMTPS id B4326C09FA8F
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 06:23:17 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-28.brq.redhat.com [10.40.204.28])
	by int-mx13.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id u086NGZC008254
	for <dev@httpd.apache.org>; Fri, 8 Jan 2016 01:23:17 -0500
Subject: Re: Shouldn't ap_get_remote_host use req->useragent_addr?
To: dev@httpd.apache.org
References: <568E7577.6030607@redhat.com>
 <CALK=YjO3bs7A_pSFfBJfQmAqJv24TiCTYW8sgXAR9BJe3g6HFQ@mail.gmail.com>
From: =?UTF-8?Q?Jan_Kalu=c5=bea?= <jkaluza@redhat.com>
Message-ID: <568F55D3.1000509@redhat.com>
Date: Fri, 8 Jan 2016 07:23:15 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.3.0
MIME-Version: 1.0
In-Reply-To: <CALK=YjO3bs7A_pSFfBJfQmAqJv24TiCTYW8sgXAR9BJe3g6HFQ@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.26

On 01/07/2016 04:06 PM, Eric Covener wrote:
> On Thu, Jan 7, 2016 at 9:25 AM, Jan Kalua <jkaluza@redhat.com> wrote:
>> When httpd is running behind a reverse proxy and mod_remoteip is configured,
>> the correct client IP is logged (using %a in the LogFormat), but the proxy
>> IP is used by 'Require host .mydomain.net'. I would expect the host based on
>> IP provided by mod_remoteip to be used here.
>>
>> Is this expected behaviour? Maybe the ap_get_remote_host method should use
>> req->useragent_addr instead of conn->client_addr to obtain the REMOTE_HOST.
>
> what about "Require ip ..."?
>

This would work, but we should clarify that in documentation then, 
because both "Require ip" and "Require host" use term "remote client" in 
their description, but for "Require ip", mod_remoteip is respected, 
while for "Require host", the mod_remoteip is not respected.

I think this is really confusing.

Regards,
Jan Kaluza


From dev-return-85146-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 07:19:12 2016
Return-Path: <dev-return-85146-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9A79C172E4
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 07:19:12 +0000 (UTC)
Received: (qmail 53295 invoked by uid 500); 8 Jan 2016 07:19:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53217 invoked by uid 500); 8 Jan 2016 07:19:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53206 invoked by uid 99); 8 Jan 2016 07:19:12 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 07:19:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B20AC18050A
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 07:19:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.191
X-Spam-Level:
X-Spam-Status: No, score=-0.191 tagged_above=-999 required=6.31
	tests=[RDNS_DYNAMIC=0.363, RP_MATCHES_RCVD=-0.554,
	SPF_HELO_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id WDLYMaM5_SmM for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 07:19:04 +0000 (UTC)
Received: from nebula.c8h10n4o2.org.uk (nebula.c8h10n4o2.org.uk [80.68.88.207])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 0B78B2059F
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 07:19:04 +0000 (UTC)
Received: from 188.30.158.168.threembb.co.uk ([188.30.158.168])
	by nebula.c8h10n4o2.org.uk with esmtpsa (TLS1.2:ECDHE_RSA_AES_256_CBC_SHA1:256)
	(Exim 4.84)
	(envelope-from <isoma@c8h10n4o2.org.uk>)
	id 1aHRK3-0003bf-GX
	for dev@httpd.apache.org; Fri, 08 Jan 2016 07:18:55 +0000
User-Agent: K-9 Mail for Android
In-Reply-To: <568F55D3.1000509@redhat.com>
References: <568E7577.6030607@redhat.com> <CALK=YjO3bs7A_pSFfBJfQmAqJv24TiCTYW8sgXAR9BJe3g6HFQ@mail.gmail.com> <568F55D3.1000509@redhat.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Content-Type: text/plain;
 charset=UTF-8
Subject: Re: Shouldn't ap_get_remote_host use req->useragent_addr?
From: Tim Bannister <isoma@c8h10n4o2.org.uk>
Date: Fri, 08 Jan 2016 07:18:52 +0000
To: dev@httpd.apache.org
Message-ID: <88A1A42F-A61D-4A23-9350-740454D4EE6E@c8h10n4o2.org.uk>

On 8 January 2016 06:23:15 GMT, "Jan Kalua" <jkaluza@redhat.com> wrote:
>On 01/07/2016 04:06 PM, Eric Covener wrote:
>> 
>>> Is this expected behaviour? Maybe the ap_get_remote_host method
>should use
>>> req->useragent_addr instead of conn->client_addr to obtain the
>REMOTE_HOST.
>>
>> what about "Require ip ..."?


ip is a minimal and doesn't explain much.

How about, maybe:
Require remote-ip-host 192.0.2.42/30?

I'm assuming that this would succeed  if the TCP peer is in the specified range OR if mod_remoteip makes a similar declaration.

-- 
Tim Bannister  isoma@c8h10n4o2.org.uk

From dev-return-85147-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 07:49:47 2016
Return-Path: <dev-return-85147-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A3948173AD
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 07:49:47 +0000 (UTC)
Received: (qmail 22246 invoked by uid 500); 8 Jan 2016 07:49:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22153 invoked by uid 500); 8 Jan 2016 07:49:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22143 invoked by uid 99); 8 Jan 2016 07:49:46 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 07:49:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5DB721A039D
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 07:49:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.574
X-Spam-Level:
X-Spam-Status: No, score=-0.574 tagged_above=-999 required=6.31
	tests=[RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RP_MATCHES_RCVD=-0.554, SPF_HELO_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id BbPFexe-mKZk for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 07:49:41 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 20DCE204D0
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 07:49:41 +0000 (UTC)
Received: from int-mx10.intmail.prod.int.phx2.redhat.com (int-mx10.intmail.prod.int.phx2.redhat.com [10.5.11.23])
	by mx1.redhat.com (Postfix) with ESMTPS id A9543347A7E
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 07:49:39 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-28.brq.redhat.com [10.40.204.28])
	by int-mx10.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id u087ncpr006961
	for <dev@httpd.apache.org>; Fri, 8 Jan 2016 02:49:39 -0500
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: =?UTF-8?Q?Jan_Kalu=c5=bea?= <jkaluza@redhat.com>
Subject: mod_mime_magic, gzipped tarballs and Docker
Message-ID: <568F6A11.1060309@redhat.com>
Date: Fri, 8 Jan 2016 08:49:37 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.3.0
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.23

Hi,

it seems Docker client has a problem handling httpd responses [1] when 
you run Docker server behind httpd working as a reverse proxy. It is 
caused by "mod_mime_magic" adding following Content-Type and 
Content-Encoding to gzipped tarballs sent as a response by Docker server:

Content-Type: application/x-tar
Content-Encoding: x-gzip

Docker client expects gzipped tarballs to be received, but because it 
receives Content-Encoding: x-gzip, it decompresses the response and 
receives just plain tar (at least that's how I understand it).

Strictly speaking, httpd is probably right here according to RFC:

"""
The Content-Encoding entity-header field is used as a modifier to the 
media-type. When present, its value indicates what additional content 
codings have been applied to the entity-body, and thus what decoding 
mechanisms must be applied in order to obtain the media-type referenced 
by the Content-Type header field.
"""

So, the mod_mime_magic is saying here that the body is tarball encoded 
by gzip.

But I think even we are right here, the Content-Encoding should be used 
only when httpd itself encodes the original content, otherwise it 
confuses clients (I've asked few people and it confuses some web 
browsers too - I can get more info if needed.).

Maybe we could stop setting Content-Encoding in mod_mime_magic and just 
use Content-Type?

[1] https://github.com/docker/docker/issues/17595

Regards,
Jan Kaluza

From dev-return-85148-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 09:27:29 2016
Return-Path: <dev-return-85148-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 95353176DB
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 09:27:29 +0000 (UTC)
Received: (qmail 39721 invoked by uid 500); 8 Jan 2016 09:27:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39651 invoked by uid 500); 8 Jan 2016 09:27:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39640 invoked by uid 99); 8 Jan 2016 09:27:29 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 09:27:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id AF532C1A21
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 09:27:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id kr1ZtxCZ4fpW for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 09:27:27 +0000 (UTC)
Received: from mail-qg0-f42.google.com (mail-qg0-f42.google.com [209.85.192.42])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 07ED031AC4
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 09:27:27 +0000 (UTC)
Received: by mail-qg0-f42.google.com with SMTP id 6so269551436qgy.1
        for <dev@httpd.apache.org>; Fri, 08 Jan 2016 01:27:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=v0wmRYWGgpG3ehaw+uitFS8dflYTb43A6NvBSifeQoU=;
        b=JGV0h4Cyef8zDMz77FRoU0cXplZvlNmKFVojSO+V4RZ4Wq+1cjJoxpqT6EG8RtZ7sV
         QY52OeLvSD0pMs5/Xz17GJR8q1DZjcPvqu106zxSmOHPlffhMGqTbnMBiUxDgI43gynB
         O8dRECFtm7J/O+QMcQ0rBHxBBdvOYPyLGfb2sdt5f1uU1JwK/XCecUY1BqzVAdkOIGt0
         Us3WY2TKd3lrCkJk8Zv2aNBWmv6NYQm6ZKj2ox6F2qIbA33cjOoxdDuFAAynzZukcgzc
         jc8Nu11nBV6JT/CfnwaHzXNEQtsLNFC5srVGjUukH1e/khKYZ12w5nlOy+cxwwe+neBw
         nzqg==
MIME-Version: 1.0
X-Received: by 10.140.179.68 with SMTP id z65mr154848592qhz.70.1452245239956;
 Fri, 08 Jan 2016 01:27:19 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Fri, 8 Jan 2016 01:27:19 -0800 (PST)
In-Reply-To: <568F6A11.1060309@redhat.com>
References: <568F6A11.1060309@redhat.com>
Date: Fri, 8 Jan 2016 10:27:19 +0100
Message-ID: <CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com>
Subject: Re: mod_mime_magic, gzipped tarballs and Docker
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi,

On Fri, Jan 8, 2016 at 8:49 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrote:
>
> Content-Type: application/x-tar
> Content-Encoding: x-gzip
[]
>
> So, the mod_mime_magic is saying here that the body is tarball encoded by
> gzip.

AIUI, mod_mime_magic does indeed try to uncompress the tar.gz and adds
the above headers.

>
> But I think even we are right here, the Content-Encoding should be used o=
nly
> when httpd itself encodes the original content, otherwise it confuses
> clients (I've asked few people and it confuses some web browsers too - I =
can
> get more info if needed.).

Agreed, this looks wrong, the browsers will likely use the .tar file
instead (this adds unnecessary cycles to both the server and client).

>
> Maybe we could stop setting Content-Encoding in mod_mime_magic and just u=
se
> Content-Type?

Since it's always been there, we probably should add a new
mod_mime_magic directive to control the behaviour and avoid breaking
cases.

Something along:

Index: modules/metadata/mod_mime_magic.c
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- modules/metadata/mod_mime_magic.c    (revision 1723283)
+++ modules/metadata/mod_mime_magic.c    (working copy)
@@ -456,6 +456,7 @@ typedef struct {
     const char *magicfile;    /* where magic be found */
     struct magic *magic;      /* head of magic config list */
     struct magic *last;
+    int uncompress;
 } magic_server_config_rec;

 /* per-request info */
@@ -511,6 +512,10 @@ static const command_rec mime_magic_cmds[] =3D
 {
     AP_INIT_TAKE1("MimeMagicFile", set_magicfile, NULL, RSRC_CONF,
      "Path to MIME Magic file (in file(1) format)"),
+    AP_INIT_FLAG("MimeMagicUncompress", ap_set_flag_slot,
+     (void *)APR_OFFSETOF(magic_server_config_rec, uncompress), RSRC_CONF,
+     "Whether MIME should try to render uncompressed content by recognizin=
g "
+     "the underlying type, or not (default)"),
     {NULL}
 };

@@ -2081,6 +2086,9 @@ static int ncompr =3D sizeof(compr) / sizeof(compr[0

 static int zmagic(request_rec *r, unsigned char *buf, apr_size_t nbytes)
 {
+    magic_server_config_rec *conf =3D (magic_server_config_rec *)
+                    ap_get_module_config(r->server->module_config,
+                                         &mime_magic_module);
     unsigned char *newbuf;
     int newsize;
     int i;
@@ -2095,15 +2103,20 @@ static int zmagic(request_rec *r, unsigned char *b
     if (i =3D=3D ncompr)
         return 0;

-    if ((newsize =3D uncompress(r, i, &newbuf, HOWMANY)) > 0) {
-        /* set encoding type in the request record */
-        r->content_encoding =3D compr[i].encoding;
-
+    if (!conf->uncompress) {
+        magic_rsl_puts(r, apr_pstrcat(r->pool, "application/",
+                                      compr[i].encoding, NULL));
+    }
+    else if ((newsize =3D uncompress(r, i, &newbuf, HOWMANY)) > 0) {
         newbuf[newsize-1] =3D '\0';  /* null-terminate uncompressed data *=
/
         /* Try to detect the content type of the uncompressed data */
         if (tryit(r, newbuf, newsize, 0) !=3D OK) {
+            magic_rsl_puts(r, apr_pstrcat(r->pool, "application/",
+                                          compr[i].encoding, NULL));
             return 0;
         }
+        /* set encoding type in the request record */
+        r->content_encoding =3D compr[i].encoding;
     }
     return 1;
 }
--

Regards,
Yann.

From dev-return-85149-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 10:24:52 2016
Return-Path: <dev-return-85149-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8F8C317954
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 10:24:52 +0000 (UTC)
Received: (qmail 45481 invoked by uid 500); 8 Jan 2016 10:24:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 45408 invoked by uid 500); 8 Jan 2016 10:24:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45398 invoked by uid 99); 8 Jan 2016 10:24:51 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 10:24:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 450EB1A033C
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 10:24:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.575
X-Spam-Level:
X-Spam-Status: No, score=-0.575 tagged_above=-999 required=6.31
	tests=[RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RP_MATCHES_RCVD=-0.554, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 1JDnQPDRQoRy for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 10:24:45 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 4169F20534
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 10:24:45 +0000 (UTC)
Received: from int-mx14.intmail.prod.int.phx2.redhat.com (int-mx14.intmail.prod.int.phx2.redhat.com [10.5.11.27])
	by mx1.redhat.com (Postfix) with ESMTPS id B105D461E2
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 10:24:44 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-28.brq.redhat.com [10.40.204.28])
	by int-mx14.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id u08AOhmx031367
	for <dev@httpd.apache.org>; Fri, 8 Jan 2016 05:24:44 -0500
Subject: Re: mod_mime_magic, gzipped tarballs and Docker
To: dev@httpd.apache.org
References: <568F6A11.1060309@redhat.com>
From: =?UTF-8?Q?Jan_Kalu=c5=bea?= <jkaluza@redhat.com>
Message-ID: <568F8E6A.6060603@redhat.com>
Date: Fri, 8 Jan 2016 11:24:42 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.3.0
MIME-Version: 1.0
In-Reply-To: <568F6A11.1060309@redhat.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.27

On 01/08/2016 08:49 AM, Jan Kalua wrote:
> Hi,
>
> it seems Docker client has a problem handling httpd responses [1] when
> you run Docker server behind httpd working as a reverse proxy. It is
> caused by "mod_mime_magic" adding following Content-Type and
> Content-Encoding to gzipped tarballs sent as a response by Docker server:

Just to correct myself a bit. I have found out it's not a reverse-proxy 
case - in that case, mod_mime_magic would not be in the loop. They are 
just serving Docker data using following config:

https://github.com/rbarlow/pulp_docker/blob/master/plugins/etc/httpd/conf.d/pulp_docker.conf

> Content-Type: application/x-tar
> Content-Encoding: x-gzip
>
> Docker client expects gzipped tarballs to be received, but because it
> receives Content-Encoding: x-gzip, it decompresses the response and
> receives just plain tar (at least that's how I understand it).
>
> Strictly speaking, httpd is probably right here according to RFC:
>
> """
> The Content-Encoding entity-header field is used as a modifier to the
> media-type. When present, its value indicates what additional content
> codings have been applied to the entity-body, and thus what decoding
> mechanisms must be applied in order to obtain the media-type referenced
> by the Content-Type header field.
> """
>
> So, the mod_mime_magic is saying here that the body is tarball encoded
> by gzip.
>
> But I think even we are right here, the Content-Encoding should be used
> only when httpd itself encodes the original content, otherwise it
> confuses clients (I've asked few people and it confuses some web
> browsers too - I can get more info if needed.).
>
> Maybe we could stop setting Content-Encoding in mod_mime_magic and just
> use Content-Type?
>
> [1] https://github.com/docker/docker/issues/17595
>
> Regards,
> Jan Kaluza

Regards,
Jan Kaluza


From dev-return-85150-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 12:43:41 2016
Return-Path: <dev-return-85150-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C1B6517DC5
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 12:43:41 +0000 (UTC)
Received: (qmail 64812 invoked by uid 500); 8 Jan 2016 12:43:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64740 invoked by uid 500); 8 Jan 2016 12:43:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64730 invoked by uid 99); 8 Jan 2016 12:43:40 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 12:43:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 701AAC0D15
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 12:43:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id CVPq657Igikh for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 12:43:39 +0000 (UTC)
Received: from resqmta-po-04v.sys.comcast.net (resqmta-po-04v.sys.comcast.net [96.114.154.163])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 5A8C225F81
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 12:43:38 +0000 (UTC)
Received: from resomta-po-02v.sys.comcast.net ([96.114.154.226])
	by resqmta-po-04v.sys.comcast.net with comcast
	id 3Qjc1s0034tLnxL01QjcSS; Fri, 08 Jan 2016 12:43:36 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-02v.sys.comcast.net with comcast
	id 3Qjb1s00K2U0RYt01Qjcrq; Fri, 08 Jan 2016 12:43:36 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_mime_magic, gzipped tarballs and Docker
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com>
Date: Fri, 8 Jan 2016 07:43:35 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <0DA2B72D-6B7E-47EE-AECB-6B79D00FDE8A@jaguNET.com>
References: <568F6A11.1060309@redhat.com> <CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452257016;
	bh=PxYPCBT31omvbptqYjsZ2ZQK/VtRZz9KaFd3r0WVvnk=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=UVAPnawITMDtGODVNrEE7HlkkkVCcOWK037DLak9tR4lLLzvo4T2epEGNJ0voJyJe
	 VqKzXAfdo2WEQ01zD8scjDJEg5aegQM8LK85Ewai8oMWmbVBUl9bhTccnfCZVkdVKl
	 PaWJXYthyKuO/S+3OlUBFgeK8rXoyzhXSyUJja5oiIvkktLJRj3xtN9PP6hk/K8qeM
	 dgs+olfHGd+10BlliuiOENsCKpQ7UxWnQtJsMK/DTAYewBK55pU01I7USfcr4pp+1n
	 Fjz2TjgTs+SjznHM3jEt1EIBMRKEkE6gBJtZqyrmenFXco+saezPOJnyXkKpZlUgB4
	 3+mWhhqYwWXlw==

-0.9...

This seems a very heavy solution to a specific one-off problem.

> On Jan 8, 2016, at 4:27 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>=20
> Hi,
>=20
> On Fri, Jan 8, 2016 at 8:49 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> =
wrote:
>>=20
>> Content-Type: application/x-tar
>> Content-Encoding: x-gzip
> []
>>=20
>> So, the mod_mime_magic is saying here that the body is tarball =
encoded by
>> gzip.
>=20
> AIUI, mod_mime_magic does indeed try to uncompress the tar.gz and adds
> the above headers.
>=20
>>=20
>> But I think even we are right here, the Content-Encoding should be =
used only
>> when httpd itself encodes the original content, otherwise it confuses
>> clients (I've asked few people and it confuses some web browsers too =
- I can
>> get more info if needed.).
>=20
> Agreed, this looks wrong, the browsers will likely use the .tar file
> instead (this adds unnecessary cycles to both the server and client).
>=20
>>=20
>> Maybe we could stop setting Content-Encoding in mod_mime_magic and =
just use
>> Content-Type?
>=20
> Since it's always been there, we probably should add a new
> mod_mime_magic directive to control the behaviour and avoid breaking
> cases.
>=20
> Something along:
>=20
> Index: modules/metadata/mod_mime_magic.c
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> --- modules/metadata/mod_mime_magic.c    (revision 1723283)
> +++ modules/metadata/mod_mime_magic.c    (working copy)
> @@ -456,6 +456,7 @@ typedef struct {
>     const char *magicfile;    /* where magic be found */
>     struct magic *magic;      /* head of magic config list */
>     struct magic *last;
> +    int uncompress;
> } magic_server_config_rec;
>=20
> /* per-request info */
> @@ -511,6 +512,10 @@ static const command_rec mime_magic_cmds[] =3D
> {
>     AP_INIT_TAKE1("MimeMagicFile", set_magicfile, NULL, RSRC_CONF,
>      "Path to MIME Magic file (in file(1) format)"),
> +    AP_INIT_FLAG("MimeMagicUncompress", ap_set_flag_slot,
> +     (void *)APR_OFFSETOF(magic_server_config_rec, uncompress), =
RSRC_CONF,
> +     "Whether MIME should try to render uncompressed content by =
recognizing "
> +     "the underlying type, or not (default)"),
>     {NULL}
> };
>=20
> @@ -2081,6 +2086,9 @@ static int ncompr =3D sizeof(compr) / =
sizeof(compr[0
>=20
> static int zmagic(request_rec *r, unsigned char *buf, apr_size_t =
nbytes)
> {
> +    magic_server_config_rec *conf =3D (magic_server_config_rec *)
> +                    ap_get_module_config(r->server->module_config,
> +                                         &mime_magic_module);
>     unsigned char *newbuf;
>     int newsize;
>     int i;
> @@ -2095,15 +2103,20 @@ static int zmagic(request_rec *r, unsigned =
char *b
>     if (i =3D=3D ncompr)
>         return 0;
>=20
> -    if ((newsize =3D uncompress(r, i, &newbuf, HOWMANY)) > 0) {
> -        /* set encoding type in the request record */
> -        r->content_encoding =3D compr[i].encoding;
> -
> +    if (!conf->uncompress) {
> +        magic_rsl_puts(r, apr_pstrcat(r->pool, "application/",
> +                                      compr[i].encoding, NULL));
> +    }
> +    else if ((newsize =3D uncompress(r, i, &newbuf, HOWMANY)) > 0) {
>         newbuf[newsize-1] =3D '\0';  /* null-terminate uncompressed =
data */
>         /* Try to detect the content type of the uncompressed data */
>         if (tryit(r, newbuf, newsize, 0) !=3D OK) {
> +            magic_rsl_puts(r, apr_pstrcat(r->pool, "application/",
> +                                          compr[i].encoding, NULL));
>             return 0;
>         }
> +        /* set encoding type in the request record */
> +        r->content_encoding =3D compr[i].encoding;
>     }
>     return 1;
> }
> --
>=20
> Regards,
> Yann.


From dev-return-85151-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 12:50:01 2016
Return-Path: <dev-return-85151-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 53D1F17DE8
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 12:50:01 +0000 (UTC)
Received: (qmail 70437 invoked by uid 500); 8 Jan 2016 12:50:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70355 invoked by uid 500); 8 Jan 2016 12:50:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70345 invoked by uid 99); 8 Jan 2016 12:50:00 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 12:50:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 697F31A0320
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 12:50:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 80h7YSE6y4tr for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 12:49:53 +0000 (UTC)
Received: from resqmta-po-12v.sys.comcast.net (resqmta-po-12v.sys.comcast.net [96.114.154.171])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 02B3D20511
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 12:49:52 +0000 (UTC)
Received: from resomta-po-10v.sys.comcast.net ([96.114.154.234])
	by resqmta-po-12v.sys.comcast.net with comcast
	id 3Qpl1s00353iAfU01Qplop; Fri, 08 Jan 2016 12:49:45 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-10v.sys.comcast.net with comcast
	id 3Qpk1s0022U0RYt01QpkJL; Fri, 08 Jan 2016 12:49:45 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: Issues w/ sessions on trunk?
Message-Id: <64A36850-5C6F-4BB7-AFF7-228F908668B2@jaguNET.com>
Date: Fri, 8 Jan 2016 07:49:43 -0500
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452257385;
	bh=RxQK0pr2hnaYf8yeZLn9LYjQykMD/BSCr9x0qDSrRtk=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=GS8/dQiXu42NKJYf3ZbdrDoRX3A9MToq8dIupkJt230Sk496J4rnIFjVX0ryF2iz7
	 J4GVGaRy1g4xMQLPj7/Vf6mnsv4EdIuAf1ac6rhdCi1sy4F/Z60IWxryHjQu5mJ+Ad
	 wdZg6QK5dAll+OmMO3zXS+pRBIWt4XJxP5klLA3wZAxkeBkX/ZCSXNvJMa+FN8ZDxR
	 ysADeQ+s4jFnUcTGDXaSPspzf5QvpgaPk+NazILFL1rbf66sh9yRUet3Ik4hG54AhR
	 aDZtER8YTZX6gSnhiBlx6LTWeaueQVIPtB6E4ezra8XZMX8tzv+hf7R4EFprQSc6tq
	 hljptSs+9GxVw==

Just noticed that the test framework reports issues w/ sessions on =
trunk:

   t/modules/session.t ................. 1/105 # Failed test 8 in =
t/modules/session.t at line 63 fail #2
   # Failed test 18 in t/modules/session.t at line 63 fail #4
   # Failed test 38 in t/modules/session.t at line 63 fail #8
   # Failed test 43 in t/modules/session.t at line 63 fail #9
   # Failed test 48 in t/modules/session.t at line 63 fail #10
   # Failed test 53 in t/modules/session.t at line 63 fail #11 *TODO*
   # Failed test 54 in t/modules/session.t at line 65 fail #11 *TODO*
   # Failed test 58 in t/modules/session.t at line 63 fail #12
   # Failed test 63 in t/modules/session.t at line 63 fail #13
   # Failed test 88 in t/modules/session.t at line 63 fail #18 *TODO*
   # Failed test 89 in t/modules/session.t at line 65 fail #18 *TODO*
   # Failed test 98 in t/modules/session.t at line 63 fail #20

(of course, I am ignoring the TODOs)

Can anyone confirm?=

From dev-return-85152-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 14:17:42 2016
Return-Path: <dev-return-85152-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 587B318081
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 14:17:42 +0000 (UTC)
Received: (qmail 18814 invoked by uid 500); 8 Jan 2016 14:17:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18750 invoked by uid 500); 8 Jan 2016 14:17:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18737 invoked by uid 99); 8 Jan 2016 14:17:41 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 14:17:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 28B4618050A
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 14:17:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.998
X-Spam-Level: **
X-Spam-Status: No, score=2.998 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=3,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id HlzDMfHD0cNz for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 14:17:38 +0000 (UTC)
Received: from mail-ig0-f171.google.com (mail-ig0-f171.google.com [209.85.213.171])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 9576D43A30
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 14:17:38 +0000 (UTC)
Received: by mail-ig0-f171.google.com with SMTP id z14so76005708igp.0
        for <dev@httpd.apache.org>; Fri, 08 Jan 2016 06:17:38 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=aWJfVNwNLuy+fR97X4VoNKDitDn5dGmu+0U/IjCUN2I=;
        b=h2vfZaL07jbfqsbUm9VmNfLvE5xdN70UExRR1z+tTM6uZ5X+gjr/0GLYebEFZjR5Bs
         v8D3ZECR+dYNC4l0BTaSuv/DMprSHBnwKnFKuu1oOYkGTxTt9fgg7x8i3aILg7KizOoD
         qBn1Bcoy+/ag8wzFIdToM6X0HCrmgDHgpkk8NWK76/3MBtod45JztcRM5Cog8Q5TRDwb
         KqIMmz1QHs6vHMh+VPAjWZkCZkSBt1H0nS+x2mgxsgH79+rgNBTsHc2FvKVgZjIv5SPq
         KkFSkfkKyzZ5s44roOa5t3ozvN7tZZ0ws5d8IpWF03dEff2S5TP0WOHp6iNZ+S2ZvXS3
         20IA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=aWJfVNwNLuy+fR97X4VoNKDitDn5dGmu+0U/IjCUN2I=;
        b=VPnlijAsQnPAqVfJkhWP08JQokF8F/qK8L96BFzqNWsBJncvFe6vasztJULgHcsCCM
         I7sAaoCM6on06vyQ7oLxWUz2kof6HlbnwFcoKRpglDyzRU8rnGNSDZXLLoflQoS3gcKd
         flHtmgP8GHjF/MTs8Ws1xFY55Ndsv9cHNfzIWf1uDa0baSwksQrdFScyf9bUxxdAVfVO
         Agip2ho0h/ykJTueR10vsHTaYvjC7IDfkqOHxGmMpccPnqK/t7jngg8/hCoWPNjpjlQF
         OYyb+ipTeojGprE7Sy/2vqH7Hua0gU28FBaBdDYGL4QgD9cfuKYg9tuciCV96rh6TGIP
         njhw==
X-Gm-Message-State: ALoCoQkg9ohVDZAOHYnPSDYuZKwBETFnzTOkrWbWmJvII95hJcvXs8B7oMMjrmaorCNbFutGaD2LzKSwHYt6Xo6qyd/0m4gxPRMvFRDoWojh4/BtmHTeJO0=
MIME-Version: 1.0
X-Received: by 10.50.61.209 with SMTP id s17mr21489460igr.40.1452262658085;
 Fri, 08 Jan 2016 06:17:38 -0800 (PST)
Received: by 10.107.1.149 with HTTP; Fri, 8 Jan 2016 06:17:38 -0800 (PST)
In-Reply-To: <CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com>
References: <568F6A11.1060309@redhat.com>
	<CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com>
Date: Fri, 8 Jan 2016 08:17:38 -0600
Message-ID: <CACsi2511-fjOZp3ostR=1xZ0RognDw+Fw62wsboFkHvChovUzw@mail.gmail.com>
Subject: Re: mod_mime_magic, gzipped tarballs and Docker
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7bdc14e6db66d40528d33fbc

--047d7bdc14e6db66d40528d33fbc
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Fri, Jan 8, 2016 at 3:27 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

>
> On Fri, Jan 8, 2016 at 8:49 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrot=
e:
> >
> > Content-Type: application/x-tar
> > Content-Encoding: x-gzip
> >
> > So, the mod_mime_magic is saying here that the body is tarball encoded =
by
> > gzip.
>
> AIUI, mod_mime_magic does indeed try to uncompress the tar.gz and adds
> the above headers.
>

Well, not strictly true, mod_deflate uncompresses it ;-)

> But I think even we are right here, the Content-Encoding should be used
> only
> > when httpd itself encodes the original content, otherwise it confuses
> > clients (I've asked few people and it confuses some web browsers too - =
I
> can
> > get more info if needed.).
>
> Agreed, this looks wrong, the browsers will likely use the .tar file
> instead (this adds unnecessary cycles to both the server and client).
>

I've observed this on many clients downloading .tar.gz and storing the file
as the
decompressed .tar when I had configured .gz to report Content-Encoding:
x-gzip,
and this is simply using mod_mime configuration directives.  But that was
shooting
myself in the foot, had not stopped to consider what mod_mime_magic might
do.

> Maybe we could stop setting Content-Encoding in mod_mime_magic and just
> use
> > Content-Type?
>
> Since it's always been there, we probably should add a new
> mod_mime_magic directive to control the behaviour and avoid breaking
> cases.
>

Agreed it is configuration, but cant we simply tweak our recommended
conf/magic
file???

# standard unix compress
# Enable the alternate line below to present gzip content as a transfer
encoded
# stream of the underlying content;
#0       string          \037\235        application/octet-stream
 x-compress
0       string          \037\235        application/octet-stream

# gzip (GNU zip, not to be confused with [Info-ZIP/PKWARE] zip archiver)
# Enable the alternate line below to present gzip content as a transfer
encoded
# stream of the underlying content;
#0       string          \037\213        application/octet-stream
 x-gzip
0       string          \037\213        application/octet-stream

WDYT?


> Something along:
>
> Index: modules/metadata/mod_mime_magic.c
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> --- modules/metadata/mod_mime_magic.c    (revision 1723283)
> +++ modules/metadata/mod_mime_magic.c    (working copy)
> @@ -456,6 +456,7 @@ typedef struct {
>      const char *magicfile;    /* where magic be found */
>      struct magic *magic;      /* head of magic config list */
>      struct magic *last;
> +    int uncompress;
>  } magic_server_config_rec;
>
>  /* per-request info */
> @@ -511,6 +512,10 @@ static const command_rec mime_magic_cmds[] =3D
>  {
>      AP_INIT_TAKE1("MimeMagicFile", set_magicfile, NULL, RSRC_CONF,
>       "Path to MIME Magic file (in file(1) format)"),
> +    AP_INIT_FLAG("MimeMagicUncompress", ap_set_flag_slot,
> +     (void *)APR_OFFSETOF(magic_server_config_rec, uncompress), RSRC_CON=
F,
> +     "Whether MIME should try to render uncompressed content by
> recognizing "
> +     "the underlying type, or not (default)"),
>      {NULL}
>  };
>
> @@ -2081,6 +2086,9 @@ static int ncompr =3D sizeof(compr) / sizeof(compr[=
0
>
>  static int zmagic(request_rec *r, unsigned char *buf, apr_size_t nbytes)
>  {
> +    magic_server_config_rec *conf =3D (magic_server_config_rec *)
> +                    ap_get_module_config(r->server->module_config,
> +                                         &mime_magic_module);
>      unsigned char *newbuf;
>      int newsize;
>      int i;
> @@ -2095,15 +2103,20 @@ static int zmagic(request_rec *r, unsigned char *=
b
>      if (i =3D=3D ncompr)
>          return 0;
>
> -    if ((newsize =3D uncompress(r, i, &newbuf, HOWMANY)) > 0) {
> -        /* set encoding type in the request record */
> -        r->content_encoding =3D compr[i].encoding;
> -
> +    if (!conf->uncompress) {
> +        magic_rsl_puts(r, apr_pstrcat(r->pool, "application/",
> +                                      compr[i].encoding, NULL));
> +    }
> +    else if ((newsize =3D uncompress(r, i, &newbuf, HOWMANY)) > 0) {
>          newbuf[newsize-1] =3D '\0';  /* null-terminate uncompressed data=
 */
>          /* Try to detect the content type of the uncompressed data */
>          if (tryit(r, newbuf, newsize, 0) !=3D OK) {
> +            magic_rsl_puts(r, apr_pstrcat(r->pool, "application/",
> +                                          compr[i].encoding, NULL));
>              return 0;
>          }
> +        /* set encoding type in the request record */
> +        r->content_encoding =3D compr[i].encoding;
>      }
>      return 1;
>  }
>

Just trying to understand why conf/magic can't be the lever for this
behavior.

Are you trying to trip this behavior on a per-file/per-directory basis?
That would
be one case where keeping two entire conf/magic[12] files loaded would seem
excessive.

What about adding a MimeMagicItem directive to add/modify just a few lines
not in the master mime magic file table?

--047d7bdc14e6db66d40528d33fbc
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On F=
ri, Jan 8, 2016 at 3:27 AM, Yann Ylavic <span dir=3D"ltr">&lt;<a href=3D"ma=
ilto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;</=
span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0=
px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-le=
ft-style:solid;padding-left:1ex"><br>
On Fri, Jan 8, 2016 at 8:49 AM, Jan Kalu=C5=BEa &lt;<a href=3D"mailto:jkalu=
za@redhat.com">jkaluza@redhat.com</a>&gt; wrote:<br>
&gt;<br>
&gt; Content-Type: application/x-tar<br>
&gt; Content-Encoding: x-gzip<br><span class=3D"">&gt;<br>
&gt; So, the mod_mime_magic is saying here that the body is tarball encoded=
 by<br>
&gt; gzip.<br>
<br>
</span>AIUI, mod_mime_magic does indeed try to uncompress the tar.gz and ad=
ds<br>
the above headers.<span class=3D""><br></span></blockquote><div>=C2=A0</div=
><div>Well, not strictly true, mod_deflate uncompresses it ;-)</div><div><b=
r></div><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex=
;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style=
:solid;padding-left:1ex"><span class=3D"">&gt; But I think even we are righ=
t here, the Content-Encoding should be used only<br>
&gt; when httpd itself encodes the original content, otherwise it confuses<=
br>
&gt; clients (I&#39;ve asked few people and it confuses some web browsers t=
oo - I can<br>
&gt; get more info if needed.).<br>
<br>
</span>Agreed, this looks wrong, the browsers will likely use the .tar file=
<br>
instead (this adds unnecessary cycles to both the server and client).<span =
class=3D""><br></span></blockquote><div>=C2=A0</div><div>I&#39;ve observed =
this on many clients downloading .tar.gz and storing the file as the</div><=
div>decompressed .tar when I had configured .gz to report Content-Encoding:=
 x-gzip,</div><div>and this is simply using mod_mime configuration directiv=
es.=C2=A0 But that was shooting</div><div>myself in the foot, had not stopp=
ed to consider what mod_mime_magic might do.</div><div><br></div><blockquot=
e class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width=
:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-lef=
t:1ex"><span class=3D"">&gt; Maybe we could stop setting Content-Encoding i=
n mod_mime_magic and just use<br>
&gt; Content-Type?<br>
<br>
</span>Since it&#39;s always been there, we probably should add a new<br>
mod_mime_magic directive to control the behaviour and avoid breaking<br>
cases.<br></blockquote><div><br></div><div>Agreed it is configuration, but =
cant we simply tweak our recommended conf/magic</div><div>file???</div><div=
><br></div><div><div># standard unix compress</div><div># Enable the altern=
ate line below to present gzip content as a transfer encoded</div><div># st=
ream of the underlying content;</div><div><div>#0 =C2=A0 =C2=A0 =C2=A0 stri=
ng =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0\037\235 =C2=A0 =C2=A0 =C2=A0 =C2=A0ap=
plication/octet-stream =C2=A0 =C2=A0 =C2=A0 =C2=A0x-compress</div></div><di=
v><div>0 =C2=A0 =C2=A0 =C2=A0 string =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0\037=
\235 =C2=A0 =C2=A0 =C2=A0 =C2=A0application/octet-stream</div></div><div><b=
r></div><div># gzip (GNU zip, not to be confused with [Info-ZIP/PKWARE] zip=
 archiver)</div><div># Enable the alternate line below to present gzip cont=
ent as a transfer encoded</div><div># stream of the underlying content;</di=
v><div>#0 =C2=A0 =C2=A0 =C2=A0 string =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0\03=
7\213 =C2=A0 =C2=A0 =C2=A0 =C2=A0application/octet-stream =C2=A0 =C2=A0 =C2=
=A0 =C2=A0x-gzip</div><div>0 =C2=A0 =C2=A0 =C2=A0 string =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0\037\213 =C2=A0 =C2=A0 =C2=A0 =C2=A0application/octet-stre=
am<br></div></div><div><br></div><div>WDYT?</div><div>=C2=A0</div><blockquo=
te class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-widt=
h:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-le=
ft:1ex">
Something along:<br>
<br>
Index: modules/metadata/mod_mime_magic.c<br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<br>
--- modules/metadata/mod_mime_magic.c=C2=A0 =C2=A0 (revision 1723283)<br>
+++ modules/metadata/mod_mime_magic.c=C2=A0 =C2=A0 (working copy)<br>
@@ -456,6 +456,7 @@ typedef struct {<br>
=C2=A0 =C2=A0 =C2=A0const char *magicfile;=C2=A0 =C2=A0 /* where magic be f=
ound */<br>
=C2=A0 =C2=A0 =C2=A0struct magic *magic;=C2=A0 =C2=A0 =C2=A0 /* head of mag=
ic config list */<br>
=C2=A0 =C2=A0 =C2=A0struct magic *last;<br>
+=C2=A0 =C2=A0 int uncompress;<br>
=C2=A0} magic_server_config_rec;<br>
<br>
=C2=A0/* per-request info */<br>
@@ -511,6 +512,10 @@ static const command_rec mime_magic_cmds[] =3D<br>
=C2=A0{<br>
=C2=A0 =C2=A0 =C2=A0AP_INIT_TAKE1(&quot;MimeMagicFile&quot;, set_magicfile,=
 NULL, RSRC_CONF,<br>
=C2=A0 =C2=A0 =C2=A0 &quot;Path to MIME Magic file (in file(1) format)&quot=
;),<br>
+=C2=A0 =C2=A0 AP_INIT_FLAG(&quot;MimeMagicUncompress&quot;, ap_set_flag_sl=
ot,<br>
+=C2=A0 =C2=A0 =C2=A0(void *)APR_OFFSETOF(magic_server_config_rec, uncompre=
ss), RSRC_CONF,<br>
+=C2=A0 =C2=A0 =C2=A0&quot;Whether MIME should try to render uncompressed c=
ontent by recognizing &quot;<br>
+=C2=A0 =C2=A0 =C2=A0&quot;the underlying type, or not (default)&quot;),<br=
>
=C2=A0 =C2=A0 =C2=A0{NULL}<br>
=C2=A0};<br>
<br>
@@ -2081,6 +2086,9 @@ static int ncompr =3D sizeof(compr) / sizeof(compr[0<=
br>
<br>
=C2=A0static int zmagic(request_rec *r, unsigned char *buf, apr_size_t nbyt=
es)<br>
=C2=A0{<br>
+=C2=A0 =C2=A0 magic_server_config_rec *conf =3D (magic_server_config_rec *=
)<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 ap_g=
et_module_config(r-&gt;server-&gt;module_config,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0&a=
mp;mime_magic_module);<br>
=C2=A0 =C2=A0 =C2=A0unsigned char *newbuf;<br>
=C2=A0 =C2=A0 =C2=A0int newsize;<br>
=C2=A0 =C2=A0 =C2=A0int i;<br>
@@ -2095,15 +2103,20 @@ static int zmagic(request_rec *r, unsigned char *b<=
br>
=C2=A0 =C2=A0 =C2=A0if (i =3D=3D ncompr)<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0return 0;<br>
<br>
-=C2=A0 =C2=A0 if ((newsize =3D uncompress(r, i, &amp;newbuf, HOWMANY)) &gt=
; 0) {<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 /* set encoding type in the request record */<=
br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 r-&gt;content_encoding =3D compr[i].encoding;<=
br>
-<br>
+=C2=A0 =C2=A0 if (!conf-&gt;uncompress) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 magic_rsl_puts(r, apr_pstrcat(r-&gt;pool, &quo=
t;application/&quot;,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 compr[i].encodi=
ng, NULL));<br>
+=C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 else if ((newsize =3D uncompress(r, i, &amp;newbuf, HOWMANY)=
) &gt; 0) {<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0newbuf[newsize-1] =3D &#39;\0&#39;;=C2=A0=
 /* null-terminate uncompressed data */<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0/* Try to detect the content type of the =
uncompressed data */<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0if (tryit(r, newbuf, newsize, 0) !=3D OK)=
 {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 magic_rsl_puts(r, apr_pstrcat(r-=
&gt;pool, &quot;application/&quot;,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 c=
ompr[i].encoding, NULL));<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0return 0;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 /* set encoding type in the request record */<=
br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 r-&gt;content_encoding =3D compr[i].encoding;<=
br>
=C2=A0 =C2=A0 =C2=A0}<br>
=C2=A0 =C2=A0 =C2=A0return 1;<br>
=C2=A0}<br></blockquote><div><br></div><div>Just trying to understand why c=
onf/magic can&#39;t be the lever for this behavior.</div><div><br></div><di=
v>Are you trying to trip this behavior on a per-file/per-directory basis?=
=C2=A0 That would=C2=A0</div><div>be one case where keeping two entire conf=
/magic[12] files loaded would seem</div><div>excessive.</div><div><br></div=
><div>What about adding a MimeMagicItem directive to add/modify just a few =
lines=C2=A0</div><div>not in the master mime magic file table?</div><div><b=
r></div><div><br></div></div><br></div></div>

--047d7bdc14e6db66d40528d33fbc--

From dev-return-85153-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 14:34:17 2016
Return-Path: <dev-return-85153-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DCCAB1815B
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 14:34:17 +0000 (UTC)
Received: (qmail 68445 invoked by uid 500); 8 Jan 2016 14:34:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68363 invoked by uid 500); 8 Jan 2016 14:34:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68353 invoked by uid 99); 8 Jan 2016 14:34:17 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 14:34:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B7AB21804FC
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 14:34:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.003
X-Spam-Level:
X-Spam-Status: No, score=-0.003 tagged_above=-999 required=6.31
	tests=[RCVD_IN_MSPIKE_H2=-0.001, SPF_HELO_PASS=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id hIfEzORcwN_q for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 14:34:16 +0000 (UTC)
Received: from na01-bn1-obe.outbound.protection.outlook.com (mail-bn1bon0136.outbound.protection.outlook.com [157.56.111.136])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id C408943A29
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 14:34:15 +0000 (UTC)
Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=paul.spangler@ni.com; 
Received: from [10.2.33.35] (130.164.62.81) by
 CY1PR0401MB1614.namprd04.prod.outlook.com (10.163.19.20) with Microsoft SMTP
 Server (TLS) id 15.1.361.13; Fri, 8 Jan 2016 14:34:14 +0000
Subject: Re: Issues w/ sessions on trunk?
To: httpd <dev@httpd.apache.org>
References: <64A36850-5C6F-4BB7-AFF7-228F908668B2@jaguNET.com>
From: Paul Spangler <paul.spangler@ni.com>
Message-ID: <568FC8E1.40608@ni.com>
Date: Fri, 8 Jan 2016 08:34:09 -0600
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <64A36850-5C6F-4BB7-AFF7-228F908668B2@jaguNET.com>
Content-Type: text/plain; charset="windows-1252"; format=flowed
Content-Transfer-Encoding: 7bit
X-Originating-IP: [130.164.62.81]
X-ClientProxiedBy: BLUPR0301CA0028.namprd03.prod.outlook.com (25.162.113.166)
 To CY1PR0401MB1614.namprd04.prod.outlook.com (25.163.19.20)
X-Microsoft-Exchange-Diagnostics:
	1;CY1PR0401MB1614;2:vOFULT7ixP+PZXtIntyQuV7n1bWnwKU4w43HoVeBjGxXC3skkZaGdKOW6Ih26QNQWSxOOQRItquh02XpxpcZ9YHI0eEifHvxzO+VNe/Tw/uvl17EcnsNKD1tTIr3mecy3K5tmhnmhkHc8fGCjj8WsQ==;3:ssLOEWIrautoFlisiClDEbWAxYepm30wB+QjUQQrYHq8ZERA9S4jToOOxpGLsg2Si5WjsHRNhbwcM7cwzVfnCcrePA24t8mvdRecSzI7lbeSrvwuBdwFUgW1IAPFVpOU;25:P6Yvr12Ve8x9nHhhPUdUtSY1gI+H2l2+UTfyFkbdjyXbly/7nnaBJiTtjgIkg0X311+YElq8afLxZCMWLn5PrNsidMoEZkK/qfp+aB0N7xkVzjM6V3rnJq5lJX2LI6dY5nkuJvbzA2P873a1uuw26JlpLyNk6k7OirkLtFPoEeG+WNGKOtPJMUsWW7dbZvwTTSN4gO8lLn1DrYNPWLQ0pabD9zvC04jgk4yZCWa6HDdwbhAGmUQWFGwCqY9ciqWV
X-Microsoft-Antispam: UriScan:;BCL:0;PCL:0;RULEID:;SRVR:CY1PR0401MB1614;
X-MS-Office365-Filtering-Correlation-Id: 0df4b7ef-851b-4720-af60-08d31838c849
X-Microsoft-Exchange-Diagnostics:
	1;CY1PR0401MB1614;20:k/op1E8T12wtSF+7fxg9Nxqqdi+xet7Wq4MOIx5qzbObaZJ4uVnznSuPE+jzNHqnJEqnHQ8swPk+kPuhdUdqBsQ2fF/zlgvSuBCyKQmYdnpIhDEeRWsmuOBUw43MBlL7nlP5UKWVq1k3cVCAm/kOtOfkzYPtgrboO127Y3JeMLc5+xdIEOF6Cni4hQ14KRxkTA2HvU9lBkvx4ybtuNAAG767HUGnTLdoBOBm+sgy/YNYZv+h7zyGCgpHDM7oxXzWpNxrMX7bKb84O4g3GHHJ6jABE9gdViNINTbdcHvBuKASWfa3tD1lWeLPNvgK/EYpwVZtqP7j0TSbr0ENKrgYH9fOgamFQI5p5HoV53Xz2Et7NuZaVWm0erdkebixfUdjA03GJh8rapMnk339ltkQARZxy7a97GXxXMHIL03OFVi0ZkRXfYq4LCWCWYIC/MW4jHkz1XL1wyr6l6ub03VeqMHImAFsnFTVpTgsCYDkW8ValhtKcJ/kZJTV2TNSaXkW8J/fNLjWGnJYxQdDG3SETpi9uRxzS/NmTfgx5L0OMjVJqET02XfxRvP5iSIXbAGVtxoHvbhcJG1sXjq6GWKKJsp6U1bxBrWd86JQksX+pLQ=
X-Microsoft-Antispam-PRVS:
	<CY1PR0401MB1614679937E8C2646045816084F60@CY1PR0401MB1614.namprd04.prod.outlook.com>
X-Exchange-Antispam-Report-Test: UriScan:;
X-Exchange-Antispam-Report-CFA-Test:
	BCL:0;PCL:0;RULEID:(601004)(2401047)(5005006)(520078)(8121501046)(10201501046)(3002001);SRVR:CY1PR0401MB1614;BCL:0;PCL:0;RULEID:;SRVR:CY1PR0401MB1614;
X-Microsoft-Exchange-Diagnostics:
	1;CY1PR0401MB1614;4:CdhLbdHn93mdobTpD85CUpka4ac9OlpCvy9oWLYHXY6L9V99guSPPzSGJR1wz6aGYnurOszKl9YIfBBsbNvesb58eh91bzrLkHi6HbSFrFio8MdMelxvDH5O9WPm3n5MoQEvD5klFlXfAU/70GxarkdPE5XUDw2COpGWizuvZukMdKFRKINLpfR2MKJG/QkfJOUwf01ojQROWwn9L2YqRoTusekMFdjZXxMJu+P1j1MO8tX5wVytarlke3Ojvg9xqY3tiaU9kgPmwx6uXUY6jHa927lQYR9izIfmTZmh1QA3v4TrpoNABFeIdW+KUqR4JF8d/75yA8Li3dlqsefF5bL0SHPakG9xNPYOWkM3f7fIQ3EtlY4K3Vu7rQAmcGzR
X-Forefront-PRVS: 0815F8251E
X-Forefront-Antispam-Report:
	SFV:NSPM;SFS:(10019020)(6049001)(6009001)(377454003)(189002)(199003)(24454002)(479174004)(97736004)(42186005)(54356999)(2906002)(23746002)(36756003)(65816999)(101416001)(87976001)(66066001)(6116002)(5890100001)(450100001)(1096002)(33656002)(5008740100001)(64126003)(92566002)(47776003)(65806001)(586003)(76176999)(230700001)(65956001)(83506001)(3846002)(106356001)(40100003)(5001960100002)(4001350100001)(110136002)(50466002)(122386002)(107886002)(105586002)(5004730100002)(81156007)(86362001)(77096005)(50986999)(2950100001)(189998001);DIR:OUT;SFP:1102;SCL:1;SRVR:CY1PR0401MB1614;H:[10.2.33.35];FPR:;SPF:None;PTR:InfoNoRecords;MX:1;A:1;LANG:en;
Received-SPF: None (protection.outlook.com: ni.com does not designate
 permitted sender hosts)
X-Microsoft-Exchange-Diagnostics:
	=?Windows-1252?Q?1;CY1PR0401MB1614;23:TBJkkrVLezdxdfdua8kYZx9Ex6wpvsc6gGL?=
 =?Windows-1252?Q?a5FYDFaR5wMrwZh1mg4ffbOVD2DCFkwVPtrG9tqkdoPpUs7Zi3YRUxzp?=
 =?Windows-1252?Q?dIWtvO7HaeOsMnBXgL5Pg3O2Q/txr0MIZ7XR8pZx8cizAUw0yYGa7Eck?=
 =?Windows-1252?Q?BaOSY+w36O6GcDWR9cQUot8LjnzHNRIU0FJqbe0ThWFZhvJYvDgvHk+q?=
 =?Windows-1252?Q?PMeALz2O9qjbglmok1l24VUrpqtmeJ++37UXHaBQ7F3eUWzB3vIFG4fm?=
 =?Windows-1252?Q?q91qyKwdOdotM2+sQ2jkH+DWUBIMMJ/Y2PWyeq6LU4ViSyrM7mdYx+2I?=
 =?Windows-1252?Q?N5egUr+FUykhHAXrQONrBJY7cK3EOB32uM7HOk6K1QCMYzd6LfcmZQmA?=
 =?Windows-1252?Q?1K4AvsHrbnrRPpsWK1auJt85P0vG59yvMAmGMW5HNBjHUtLYYoMfY4xy?=
 =?Windows-1252?Q?kvOFa8Xj6k36LHxd95hFpAiEb8duOCUtv+V+4je2Bqgr2mLE0KYwAiyt?=
 =?Windows-1252?Q?ImWOlNEEYxFPVKFl+fAXGJ+2lZVSX72OJ7CN5tBveZeRt0hFD7oqC1qV?=
 =?Windows-1252?Q?S99906yG21U8snLZlApclHIudAi7tYYsOepkzf5TQd+4HcP/Osdlz41n?=
 =?Windows-1252?Q?gb9y0eNlAwbXfP7oMceDB6V/6ZWFU6iObxTCQRBpqb1zS2z9oXzCMqlx?=
 =?Windows-1252?Q?ooLTjRiZeQRjHflH4l7lSl4NGUfDFyvN+mvg5pFWABB3oJsYbiINTo/k?=
 =?Windows-1252?Q?YdCt00YxTiIgpTbpGfL/7oOtrjkjUoAD4Mc+gj+z+NeMe2fW8hh5kYfG?=
 =?Windows-1252?Q?miSP7nthBuIN7LWGjs/3CLQhKPlD8DrA0XcyM3qZJYZnbG6+b6fdLOiW?=
 =?Windows-1252?Q?Sygmih2dUw5u0oC29GCaYL23ojF9P2f/HI8DdGAdlZbZPDKefGTXw8ud?=
 =?Windows-1252?Q?zbNv81j+qMdNtKZCFPtFT9jq/JRlmL7tCqxihoVqVwkHPV0PuUWIvHil?=
 =?Windows-1252?Q?eubfMfHD6vuvzXQoXZuHv2+SSzQA1uSJ7YZG041t1ttUZjZbsdbQkMzZ?=
 =?Windows-1252?Q?gxO259uzPCLPw9wWKKggMeUNhBEA3Xxf36c90KiMFNo3LwYVvt4GJTIC?=
 =?Windows-1252?Q?f9tSqfKke5ojPz0JX0v0FNHsGacTaf5BMexoh0FDOlnRTQhQxMuv5Mit?=
 =?Windows-1252?Q?ESfmPJlbL09OaNy2eeIXKQguJX3BzCXrR+y0O80nnXLjkHqWztb+McYE?=
 =?Windows-1252?Q?dkfJqEi+PvXiG7o2bvsMIabgL0ZIm0fV/LXVI/QXKh9pmDUNjytgY8eX?=
 =?Windows-1252?Q?RK8nArZdBgzxewc9lLMYIuXVYHNs6TzGk0GPT61TkVccHlx0=3D?=
X-Microsoft-Exchange-Diagnostics:
	1;CY1PR0401MB1614;5:zJtoJuXCEQLzNj7wEejKTDPQYIjmUqcwGayazVmG5cuKjvi+ZRYrpfNBMbYxixLXs7Nmcx4aE8OTif/eoNNxKXheC/6cNAu6E6GSp1ywJXWm/ToRSfCH3D8IKLuQq4DdC4S5TvGVkDFxhwq8MOjARQ==;24:CMyXYK+9WrqecjerBrw9Je78nYWGBTHXPHU7KFc8AbodVY8hZBuCtV8NZk6VzDjbMwRjA4clncnA18S/PJ1AlEoySFq9GMCWMuTdLAng/U0=
SpamDiagnosticOutput: 1:23
SpamDiagnosticMetadata: NSPM
X-OriginatorOrg: ni.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 08 Jan 2016 14:34:14.4066 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CY1PR0401MB1614

On 1/8/2016 6:49 AM, Jim Jagielski wrote:
> Just noticed that the test framework reports issues w/ sessions on trunk:
>
>     t/modules/session.t ................. 1/105 # Failed test 8 in t/modules/session.t at line 63 fail #2
>     # Failed test 18 in t/modules/session.t at line 63 fail #4
>     # Failed test 38 in t/modules/session.t at line 63 fail #8
>     # Failed test 43 in t/modules/session.t at line 63 fail #9
>     # Failed test 48 in t/modules/session.t at line 63 fail #10
>     # Failed test 53 in t/modules/session.t at line 63 fail #11 *TODO*
>     # Failed test 54 in t/modules/session.t at line 65 fail #11 *TODO*
>     # Failed test 58 in t/modules/session.t at line 63 fail #12
>     # Failed test 63 in t/modules/session.t at line 63 fail #13
>     # Failed test 88 in t/modules/session.t at line 63 fail #18 *TODO*
>     # Failed test 89 in t/modules/session.t at line 65 fail #18 *TODO*
>     # Failed test 98 in t/modules/session.t at line 63 fail #20
>
> (of course, I am ignoring the TODOs)
>
> Can anyone confirm?
>
I believe this is because of the patch committed for PR 57300 
(r1709121), but the test changes that go with it (attached to the bug 
report) did not get committed.

Regards,
-- 
Paul Spangler
LabVIEW R&D
National Instruments

From dev-return-85154-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 15:18:36 2016
Return-Path: <dev-return-85154-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9DD2D182DD
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 15:18:36 +0000 (UTC)
Received: (qmail 61095 invoked by uid 500); 8 Jan 2016 15:18:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 61023 invoked by uid 500); 8 Jan 2016 15:18:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 61012 invoked by uid 99); 8 Jan 2016 15:18:36 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 15:18:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id B933E1A02AB
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 15:18:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id j-YnpdJEUBHP for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 15:18:29 +0000 (UTC)
Received: from resqmta-ch2-02v.sys.comcast.net (resqmta-ch2-02v.sys.comcast.net [69.252.207.34])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 03A4A20103
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 15:18:28 +0000 (UTC)
Received: from resomta-ch2-07v.sys.comcast.net ([69.252.207.103])
	by resqmta-ch2-02v.sys.comcast.net with comcast
	id 3TJM1s0012EPM3101TJNMd; Fri, 08 Jan 2016 15:18:22 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-07v.sys.comcast.net with comcast
	id 3TJM1s00G2U0RYt01TJMks; Fri, 08 Jan 2016 15:18:22 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Work in progress: mod_proxy Health Check module
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com>
Date: Fri, 8 Jan 2016 10:18:21 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <7C8BB910-7D19-4520-BE26-EE25CDC9608F@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452266302;
	bh=YqxmlkNhmgFXilDtRn8xAvTaCbOT405nghkHso9Xarc=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=nazKOzF4IcyhRT9/ayIZUBXnzV44MUm1c8UhWuozd6sVSDiOh9llfXCzNlYsziQbn
	 gR8nse3zmUqPNrkKCGSHFlfP0sdlyjtJYbKaFFp1NUrzeYtq3QufDDXuqiVvmcHxst
	 L/FjJuk3GjDhNVQwmfP7yb+j8ZRddrAhq9J3hbI/zwg42daVCNJXSdoqviKWGfOCj4
	 TF4WnOL6jo0forIHj7jl3OH4crxtVs6dqcuzClHPS4wEF4BaBMXwaYFEHAZlZZUafX
	 6cBq+EuDYI8FQH6uQixljndY4DrFUEyMM5UNJDfahCmCr8lRII8FvS2YHkypzhmnZd
	 +ZUrd0oekZo9Q==

I am thinking about the actual health-check impl a bit more,
hence the lack of commits. As noted, initially I was thinking
about optional functions, defined in mod_proxy_http, mod_proxy_ajp,
etc. Then I started thinking that maybe doing it via providers
might be better, allowing for more "custom" health checks via
the end user. Then I started thinking about doing it rough-and-
ready and just adding 'em in mod_proxy_hcheck...

Before I spend too much time on this, any prefs one way or
another regarding this?

tia

From dev-return-85155-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 15:47:12 2016
Return-Path: <dev-return-85155-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3F53718417
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 15:47:12 +0000 (UTC)
Received: (qmail 56945 invoked by uid 500); 8 Jan 2016 15:47:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56866 invoked by uid 500); 8 Jan 2016 15:47:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56856 invoked by uid 99); 8 Jan 2016 15:47:11 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 15:47:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 301F3C0D2C
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 15:47:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id GsQ5FP1duRgT for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 15:47:00 +0000 (UTC)
Received: from resqmta-po-04v.sys.comcast.net (resqmta-po-04v.sys.comcast.net [96.114.154.163])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 66815213A3
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 15:47:00 +0000 (UTC)
Received: from resomta-po-19v.sys.comcast.net ([96.114.154.243])
	by resqmta-po-04v.sys.comcast.net with comcast
	id 3Tmi1s0045FMDhs01TmuKT; Fri, 08 Jan 2016 15:46:54 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-19v.sys.comcast.net with comcast
	id 3Tmt1s0052U0RYt01TmtUt; Fri, 08 Jan 2016 15:46:54 +0000
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Issues w/ sessions on trunk?
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <568FC8E1.40608@ni.com>
Date: Fri, 8 Jan 2016 10:46:53 -0500
Cc: httpd <dev@httpd.apache.org>
Content-Transfer-Encoding: quoted-printable
Message-Id: <7CBF1740-F1C6-439C-9E6A-0CB7CB884941@jaguNET.com>
References: <64A36850-5C6F-4BB7-AFF7-228F908668B2@jaguNET.com> <568FC8E1.40608@ni.com>
To: Yann Ylavic <ylavic.dev@gmail.com>
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452268014;
	bh=4X+PgOI1Ljk1x4j3KruaYQKDdqGGJR/YF4QPNwWV8gE=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=JQRaJeFhVIFGA2nAbtwVkZDpPm5DCMpFSBQZzMcGr8bObm+RWT/w1LB98WdM2R7ki
	 xPfn0x3eNZYJX6Xff5UEzX7USngEUrg5xdFuZp1EcuGKiIsQmohH+sUYzbZTVZmtRK
	 sHSbIJxz92Lzr4am5yzQ2M2QiR0dS1vfPclP5qJ+/+yHqNVPKw71Nvlt79UtDV19db
	 RcfRK6sgNq5D2vhshlfx0/HaSpd+dUZDdNGbpx7dRSPy/IJFDr/BbpHHJ22KqUGFkF
	 NbAEicj7hZ8Nareq3R9ts2n4bNRaKhRwfjSDcNB7QU8Vb1+K8+8cXl5kuNLsV392iH
	 FFJOa84UeXQQw==

Yann, will you be doing that? Backporting the tests from:

	=
https://bz.apache.org/bugzilla/attachment.cgi?id=3D33187&action=3Ddiff

???

> On Jan 8, 2016, at 9:34 AM, Paul Spangler <paul.spangler@ni.com> =
wrote:
>=20
> On 1/8/2016 6:49 AM, Jim Jagielski wrote:
>> Just noticed that the test framework reports issues w/ sessions on =
trunk:
>>=20
>>    t/modules/session.t ................. 1/105 # Failed test 8 in =
t/modules/session.t at line 63 fail #2
>>    # Failed test 18 in t/modules/session.t at line 63 fail #4
>>    # Failed test 38 in t/modules/session.t at line 63 fail #8
>>    # Failed test 43 in t/modules/session.t at line 63 fail #9
>>    # Failed test 48 in t/modules/session.t at line 63 fail #10
>>    # Failed test 53 in t/modules/session.t at line 63 fail #11 *TODO*
>>    # Failed test 54 in t/modules/session.t at line 65 fail #11 *TODO*
>>    # Failed test 58 in t/modules/session.t at line 63 fail #12
>>    # Failed test 63 in t/modules/session.t at line 63 fail #13
>>    # Failed test 88 in t/modules/session.t at line 63 fail #18 *TODO*
>>    # Failed test 89 in t/modules/session.t at line 65 fail #18 *TODO*
>>    # Failed test 98 in t/modules/session.t at line 63 fail #20
>>=20
>> (of course, I am ignoring the TODOs)
>>=20
>> Can anyone confirm?
>>=20
> I believe this is because of the patch committed for PR 57300 =
(r1709121), but the test changes that go with it (attached to the bug =
report) did not get committed.
>=20
> Regards,
> --=20
> Paul Spangler
> LabVIEW R&D
> National Instruments


From dev-return-85156-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 15:48:53 2016
Return-Path: <dev-return-85156-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D6C3118431
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 15:48:53 +0000 (UTC)
Received: (qmail 64118 invoked by uid 500); 8 Jan 2016 15:48:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64053 invoked by uid 500); 8 Jan 2016 15:48:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64042 invoked by uid 99); 8 Jan 2016 15:48:53 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 15:48:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 8AC1FC1C1B
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 15:48:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id IICiRGZ4TChF for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 15:48:44 +0000 (UTC)
Received: from mail-qg0-f43.google.com (mail-qg0-f43.google.com [209.85.192.43])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id CA2BF43A30
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 15:48:43 +0000 (UTC)
Received: by mail-qg0-f43.google.com with SMTP id o11so354920706qge.2
        for <dev@httpd.apache.org>; Fri, 08 Jan 2016 07:48:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=dktJaMilxsQZ1hWNVnqCS/7E/YHNGzss4kaZSkGBcsA=;
        b=R6rpZ8Pki+WWdS+UCH9tLOXK7Jv7tt9zFe1cZFGOAQRqQyh54051fumc6/t5T7A2Xl
         k2+Qq8pvK+sDIENMlG4BcsnVXYQ+p/Ai0iqginMJMTlVOMmKl4WH+0wH8+nY9yKAXy7y
         aUJPrbL1PJdqutjtYY0evYAOSTnUjU05yXpR7k1dRhCrARy//RebHstux6B+Fb4tcOLN
         mfMrkPxnB9UevR0HHEXd/hIQEOskxTQLbxIGZlszTzA2cL81Wq89iezwutpNZxI5+k/x
         95bpUtt/FKyjrtXnlugde8f8ecIsjEG4wi+EnUgxKP7b6h27f+klRMBGX4WrUTnOauro
         KR1A==
MIME-Version: 1.0
X-Received: by 10.140.101.130 with SMTP id u2mr149883571qge.71.1452268117663;
 Fri, 08 Jan 2016 07:48:37 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Fri, 8 Jan 2016 07:48:37 -0800 (PST)
In-Reply-To: <568FC8E1.40608@ni.com>
References: <64A36850-5C6F-4BB7-AFF7-228F908668B2@jaguNET.com>
	<568FC8E1.40608@ni.com>
Date: Fri, 8 Jan 2016 16:48:37 +0100
Message-ID: <CAKQ1sVOaNZkBr0vz6wsDW+4SdQ_XCs+wiY3wQ=DYToxGKsBsiw@mail.gmail.com>
Subject: Re: Issues w/ sessions on trunk?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Jan 8, 2016 at 3:34 PM, Paul Spangler <paul.spangler@ni.com> wrote:
> On 1/8/2016 6:49 AM, Jim Jagielski wrote:
>>
>> Just noticed that the test framework reports issues w/ sessions on trunk:
>>
>>     t/modules/session.t ................. 1/105 # Failed test 8 in
>> t/modules/session.t at line 63 fail #2
>>     # Failed test 18 in t/modules/session.t at line 63 fail #4
>>     # Failed test 38 in t/modules/session.t at line 63 fail #8
>>     # Failed test 43 in t/modules/session.t at line 63 fail #9
>>     # Failed test 48 in t/modules/session.t at line 63 fail #10
>>     # Failed test 53 in t/modules/session.t at line 63 fail #11 *TODO*
>>     # Failed test 54 in t/modules/session.t at line 65 fail #11 *TODO*
>>     # Failed test 58 in t/modules/session.t at line 63 fail #12
>>     # Failed test 63 in t/modules/session.t at line 63 fail #13
>>     # Failed test 88 in t/modules/session.t at line 63 fail #18 *TODO*
>>     # Failed test 89 in t/modules/session.t at line 65 fail #18 *TODO*
>>     # Failed test 98 in t/modules/session.t at line 63 fail #20
>>
>> (of course, I am ignoring the TODOs)
>>
>> Can anyone confirm?
>>
> I believe this is because of the patch committed for PR 57300 (r1709121),
> but the test changes that go with it (attached to the bug report) did not
> get committed.

Yes my bad, I committed the code changes but got interrupted by
something else, and forgot to come back for committing the associated
tests.

If I recall correctly, there are some changes from r1709121 that are
not taken into account by the tests.
I'll (re)take a look at the whole thing soon.

Regards,
Yann.

From dev-return-85157-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 15:50:57 2016
Return-Path: <dev-return-85157-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB85C18464
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 15:50:57 +0000 (UTC)
Received: (qmail 72049 invoked by uid 500); 8 Jan 2016 15:50:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71978 invoked by uid 500); 8 Jan 2016 15:50:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71968 invoked by uid 99); 8 Jan 2016 15:50:57 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 15:50:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 822D6C1C1C
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 15:50:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Uls__tAXyviY for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 15:50:47 +0000 (UTC)
Received: from resqmta-po-08v.sys.comcast.net (resqmta-po-08v.sys.comcast.net [96.114.154.167])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 958D8434AE
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 15:50:47 +0000 (UTC)
Received: from resomta-po-15v.sys.comcast.net ([96.114.154.239])
	by resqmta-po-08v.sys.comcast.net with comcast
	id 3Tpc1s0065AAYLo01Tqgjz; Fri, 08 Jan 2016 15:50:40 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-15v.sys.comcast.net with comcast
	id 3Tqf1s00P2U0RYt01TqgWT; Fri, 08 Jan 2016 15:50:40 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Issues w/ sessions on trunk?
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVOaNZkBr0vz6wsDW+4SdQ_XCs+wiY3wQ=DYToxGKsBsiw@mail.gmail.com>
Date: Fri, 8 Jan 2016 10:50:39 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <4F537AD0-1B9E-4CF2-AA67-DE9511C93D74@jaguNET.com>
References: <64A36850-5C6F-4BB7-AFF7-228F908668B2@jaguNET.com> <568FC8E1.40608@ni.com> <CAKQ1sVOaNZkBr0vz6wsDW+4SdQ_XCs+wiY3wQ=DYToxGKsBsiw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452268240;
	bh=7wtUjUPQV9jbc+cAf8BBI8hflg9cntPKHzhMm7n+BqQ=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=jk0L75PfGCynj212VhLEaXwXVVjAzolBtSyz2nuop7vLwhOknPLVr+ej64yuZqnQw
	 kS9Lei9iTbkZtc5fvmJ5Q29WCzumEjZjzDfC7klRw3mtfj0WK7axcb9JHnwyxEYQNN
	 ock8lSCULEKFMLi1QGrWUWdxspmRHKLAwtu5hgEDUjxzaRuddl4uT8J5mdQphPhpXp
	 TWRoqw8HvAYM/C6uReGkASofiH9XVyENR5xadEltUu19x8RpP1kYX2H5oOlglJjAiz
	 E3ueKrCB3tcnIt39HXWnPUkt/n2gKv8soni7febGvuV5FRS5BRTvUzz2/J5+bEUhx/
	 +Yw6mx4AgeANw==

I went ahead and committed what was there and ran tests
to make sure it runs clean before doing so.

> On Jan 8, 2016, at 10:48 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> 
> On Fri, Jan 8, 2016 at 3:34 PM, Paul Spangler <paul.spangler@ni.com> wrote:
>> On 1/8/2016 6:49 AM, Jim Jagielski wrote:
>>> 
>>> Just noticed that the test framework reports issues w/ sessions on trunk:
>>> 
>>>    t/modules/session.t ................. 1/105 # Failed test 8 in
>>> t/modules/session.t at line 63 fail #2
>>>    # Failed test 18 in t/modules/session.t at line 63 fail #4
>>>    # Failed test 38 in t/modules/session.t at line 63 fail #8
>>>    # Failed test 43 in t/modules/session.t at line 63 fail #9
>>>    # Failed test 48 in t/modules/session.t at line 63 fail #10
>>>    # Failed test 53 in t/modules/session.t at line 63 fail #11 *TODO*
>>>    # Failed test 54 in t/modules/session.t at line 65 fail #11 *TODO*
>>>    # Failed test 58 in t/modules/session.t at line 63 fail #12
>>>    # Failed test 63 in t/modules/session.t at line 63 fail #13
>>>    # Failed test 88 in t/modules/session.t at line 63 fail #18 *TODO*
>>>    # Failed test 89 in t/modules/session.t at line 65 fail #18 *TODO*
>>>    # Failed test 98 in t/modules/session.t at line 63 fail #20
>>> 
>>> (of course, I am ignoring the TODOs)
>>> 
>>> Can anyone confirm?
>>> 
>> I believe this is because of the patch committed for PR 57300 (r1709121),
>> but the test changes that go with it (attached to the bug report) did not
>> get committed.
> 
> Yes my bad, I committed the code changes but got interrupted by
> something else, and forgot to come back for committing the associated
> tests.
> 
> If I recall correctly, there are some changes from r1709121 that are
> not taken into account by the tests.
> I'll (re)take a look at the whole thing soon.
> 
> Regards,
> Yann.


From dev-return-85158-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 15:52:22 2016
Return-Path: <dev-return-85158-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BAA151847C
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 15:52:22 +0000 (UTC)
Received: (qmail 77731 invoked by uid 500); 8 Jan 2016 15:52:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 77650 invoked by uid 500); 8 Jan 2016 15:52:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 77638 invoked by uid 99); 8 Jan 2016 15:52:22 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 15:52:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 895DCC1CB3
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 15:52:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id UC8A3qUqylXN for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 15:52:10 +0000 (UTC)
Received: from mail-qg0-f46.google.com (mail-qg0-f46.google.com [209.85.192.46])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 86C5543A32
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 15:52:10 +0000 (UTC)
Received: by mail-qg0-f46.google.com with SMTP id b35so225068846qge.0
        for <dev@httpd.apache.org>; Fri, 08 Jan 2016 07:52:10 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=cZ7NWwX2p5tqVFaOmcZt92+c9mjwiLLcIk1+Gb25OM4=;
        b=OtWnyUKkmSZLBWo1VPgPxlNEryxsJAKUOhK4IzI4lj/TDAtKMAEp4G+KsCsvrZL/sZ
         ufcaVnDN8f1HxvfSJOk5hXgzlzcVo9R0B2blEZhnhrujT2FE5TEKVM82RxnhupjE0tA2
         14QxKcU1v+D2fiAg53Ygm7XJOYeISGJMw6jvLpyErt7gfOlcD5kGW/Pf4HL/LMIUZlyo
         h7EBRUMZZLyHsoBwKKkOS4lxC/4ihVTqbITNQfm1T780DfzzAaj+6U/pwrKTTt5YEBai
         o23ahTw5/7doSeQw6vFkYN3X4AtaZHvc2ShviNrBuaGPex8VMNVD0LZAkCj3ffuoMCwU
         Tv1w==
MIME-Version: 1.0
X-Received: by 10.140.248.70 with SMTP id t67mr153079799qhc.97.1452268330346;
 Fri, 08 Jan 2016 07:52:10 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Fri, 8 Jan 2016 07:52:10 -0800 (PST)
In-Reply-To: <4F537AD0-1B9E-4CF2-AA67-DE9511C93D74@jaguNET.com>
References: <64A36850-5C6F-4BB7-AFF7-228F908668B2@jaguNET.com>
	<568FC8E1.40608@ni.com>
	<CAKQ1sVOaNZkBr0vz6wsDW+4SdQ_XCs+wiY3wQ=DYToxGKsBsiw@mail.gmail.com>
	<4F537AD0-1B9E-4CF2-AA67-DE9511C93D74@jaguNET.com>
Date: Fri, 8 Jan 2016 16:52:10 +0100
Message-ID: <CAKQ1sVNV5c1foJLZFQYUH9xgmiy56+i8jGpjPtq741rWYLv-Bw@mail.gmail.com>
Subject: Re: Issues w/ sessions on trunk?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Ok, I'll start from there, thanks.

On Fri, Jan 8, 2016 at 4:50 PM, Jim Jagielski <jim@jagunet.com> wrote:
> I went ahead and committed what was there and ran tests
> to make sure it runs clean before doing so.
>
>> On Jan 8, 2016, at 10:48 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> On Fri, Jan 8, 2016 at 3:34 PM, Paul Spangler <paul.spangler@ni.com> wrote:
>>> On 1/8/2016 6:49 AM, Jim Jagielski wrote:
>>>>
>>>> Just noticed that the test framework reports issues w/ sessions on trunk:
>>>>
>>>>    t/modules/session.t ................. 1/105 # Failed test 8 in
>>>> t/modules/session.t at line 63 fail #2
>>>>    # Failed test 18 in t/modules/session.t at line 63 fail #4
>>>>    # Failed test 38 in t/modules/session.t at line 63 fail #8
>>>>    # Failed test 43 in t/modules/session.t at line 63 fail #9
>>>>    # Failed test 48 in t/modules/session.t at line 63 fail #10
>>>>    # Failed test 53 in t/modules/session.t at line 63 fail #11 *TODO*
>>>>    # Failed test 54 in t/modules/session.t at line 65 fail #11 *TODO*
>>>>    # Failed test 58 in t/modules/session.t at line 63 fail #12
>>>>    # Failed test 63 in t/modules/session.t at line 63 fail #13
>>>>    # Failed test 88 in t/modules/session.t at line 63 fail #18 *TODO*
>>>>    # Failed test 89 in t/modules/session.t at line 65 fail #18 *TODO*
>>>>    # Failed test 98 in t/modules/session.t at line 63 fail #20
>>>>
>>>> (of course, I am ignoring the TODOs)
>>>>
>>>> Can anyone confirm?
>>>>
>>> I believe this is because of the patch committed for PR 57300 (r1709121),
>>> but the test changes that go with it (attached to the bug report) did not
>>> get committed.
>>
>> Yes my bad, I committed the code changes but got interrupted by
>> something else, and forgot to come back for committing the associated
>> tests.
>>
>> If I recall correctly, there are some changes from r1709121 that are
>> not taken into account by the tests.
>> I'll (re)take a look at the whole thing soon.
>>
>> Regards,
>> Yann.
>

From dev-return-85159-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 15:53:32 2016
Return-Path: <dev-return-85159-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5D5331848F
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 15:53:32 +0000 (UTC)
Received: (qmail 86619 invoked by uid 500); 8 Jan 2016 15:53:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86550 invoked by uid 500); 8 Jan 2016 15:53:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86540 invoked by uid 99); 8 Jan 2016 15:53:31 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 15:53:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 1DEE5C1C1C
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 15:53:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 9VBVyfxsB5xi for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 15:53:26 +0000 (UTC)
Received: from mail-io0-f175.google.com (mail-io0-f175.google.com [209.85.223.175])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 2280920103
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 15:53:26 +0000 (UTC)
Received: by mail-io0-f175.google.com with SMTP id 1so243091696ion.1
        for <dev@httpd.apache.org>; Fri, 08 Jan 2016 07:53:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=sSDUr/HFvSM4pAcPhemYh/AcbnK7OZRpo91FpbT908M=;
        b=0uYxOD67pJWMGxnVPBFpfZWcFX7I+Ecll0iNX9/+4ibQ1yapsVS61BW+Vs+/fIe2Nv
         BKJ6p9PKXkw/1chwWMX2v6121b8KtQk4ZE/IV/UZ3cXvHT7WRp0d24REdMEgrQSgEhQu
         o8mF0Evd7FZzC7MXm7sjVQwfF/dbVvYW3AheUkKuwbf1A6uYdFDdZwhsrQB7GlzzFLRk
         bFXW96TO6mNOhQ96YuE0WfTpvQqAp0bZM7Htrztlcq19myghb9YI9DY1uAOCzrIl9swy
         JkP3D/LRkaJJotcXP/GGvz9HzrpoySatTqxWSYrphEjWwqsuxVEiTmQ3TKqbCSRde3C+
         mpYw==
MIME-Version: 1.0
X-Received: by 10.107.132.162 with SMTP id o34mr98271353ioi.13.1452268405628;
 Fri, 08 Jan 2016 07:53:25 -0800 (PST)
Received: by 10.64.114.199 with HTTP; Fri, 8 Jan 2016 07:53:25 -0800 (PST)
In-Reply-To: <7C8BB910-7D19-4520-BE26-EE25CDC9608F@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com>
	<7C8BB910-7D19-4520-BE26-EE25CDC9608F@jaguNET.com>
Date: Fri, 8 Jan 2016 10:53:25 -0500
Message-ID: <CALK=YjNxnUAjX1mGsAXAeXRmHJ3Pz=bfcMnibKTc5j2Yf3QOSw@mail.gmail.com>
Subject: Re: Work in progress: mod_proxy Health Check module
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Jan 8, 2016 at 10:18 AM, Jim Jagielski <jim@jagunet.com> wrote:
> I am thinking about the actual health-check impl a bit more,
> hence the lack of commits. As noted, initially I was thinking
> about optional functions, defined in mod_proxy_http, mod_proxy_ajp,
> etc. Then I started thinking that maybe doing it via providers
> might be better, allowing for more "custom" health checks via
> the end user. Then I started thinking about doing it rough-and-
> ready and just adding 'em in mod_proxy_hcheck...
>
> Before I spend too much time on this, any prefs one way or
> another regarding this?

I haven't looked at the architecture so far -- but I think basics in
mod_proxy_hcheck
and at least one "standalone" provider (as an example) would be a good
middle ground.

Maybe the standalone one would try to deal with the body whereas the
built-in ones
would be TCP up, SSL up, status-code, etc.

From dev-return-85160-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 16:05:15 2016
Return-Path: <dev-return-85160-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 01D82184FD
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 16:05:15 +0000 (UTC)
Received: (qmail 33927 invoked by uid 500); 8 Jan 2016 16:05:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33850 invoked by uid 500); 8 Jan 2016 16:05:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33840 invoked by uid 99); 8 Jan 2016 16:05:14 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 16:05:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 1A8F11A0372
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 16:05:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.554
X-Spam-Level:
X-Spam-Status: No, score=-0.554 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id T8xrUHXmyQKO for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 16:05:02 +0000 (UTC)
Received: from userp1040.oracle.com (userp1040.oracle.com [156.151.31.81])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 9E2E931AB5
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 16:05:01 +0000 (UTC)
Received: from userv0021.oracle.com (userv0021.oracle.com [156.151.31.71])
	by userp1040.oracle.com (Sentrion-MTA-4.3.2/Sentrion-MTA-4.3.2) with ESMTP id u08G4xZk032493
	(version=TLSv1 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Fri, 8 Jan 2016 16:05:00 GMT
Received: from aserv0121.oracle.com (aserv0121.oracle.com [141.146.126.235])
	by userv0021.oracle.com (8.13.8/8.13.8) with ESMTP id u08G4xSU007116
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Fri, 8 Jan 2016 16:04:59 GMT
Received: from abhmp0001.oracle.com (abhmp0001.oracle.com [141.146.116.7])
	by aserv0121.oracle.com (8.13.8/8.13.8) with ESMTP id u08G4xkR023934
	for <dev@httpd.apache.org>; Fri, 8 Jan 2016 16:04:59 GMT
Received: from [10.132.185.71] (/10.132.185.71)
	by default (Oracle Beehive Gateway v4.0)
	with ESMTP ; Fri, 08 Jan 2016 08:04:59 -0800
Subject: Re: svn commit: r1723737 - in /httpd/test/mod_h2/trunk:
 mh2fuzz/h2c_conn.c mh2fuzz/h2c_session.c test/test_frames.sh
To: dev@httpd.apache.org
References: <20160108152616.9EAC43A0185@svn01-us-west.apache.org>
From: Mike Rumph <mike.rumph@oracle.com>
Organization: Oracle Corporation
Message-ID: <568FDE24.4070307@oracle.com>
Date: Fri, 8 Jan 2016 08:04:52 -0800
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.0
MIME-Version: 1.0
In-Reply-To: <20160108152616.9EAC43A0185@svn01-us-west.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Source-IP: userv0021.oracle.com [156.151.31.71]

Comment below.

On 1/8/2016 7:26 AM, icing@apache.org wrote:
> Author: icing
> Date: Fri Jan  8 15:26:16 2016
> New Revision: 1723737
>
> URL: http://svn.apache.org/viewvc?rev=1723737&view=rev
> Log:
> normalized frame output for testing
>
> Modified:
>      httpd/test/mod_h2/trunk/mh2fuzz/h2c_conn.c
>      httpd/test/mod_h2/trunk/mh2fuzz/h2c_session.c
>      httpd/test/mod_h2/trunk/test/test_frames.sh
>
> Modified: httpd/test/mod_h2/trunk/mh2fuzz/h2c_conn.c
> URL: http://svn.apache.org/viewvc/httpd/test/mod_h2/trunk/mh2fuzz/h2c_conn.c?rev=1723737&r1=1723736&r2=1723737&view=diff
> ==============================================================================
> --- httpd/test/mod_h2/trunk/mh2fuzz/h2c_conn.c (original)
> +++ httpd/test/mod_h2/trunk/mh2fuzz/h2c_conn.c Fri Jan  8 15:26:16 2016
> @@ -419,12 +419,14 @@ apr_status_t h2c_conn_shutdown(h2c_conn
>               status = apr_socket_shutdown(c->socket, APR_SHUTDOWN_WRITE);
>           }
>           
> -        apr_socket_timeout_set(c->socket, apr_time_from_msec(250));
>           h2c_conn_want_io(c, H2C_CONN_READ);
>   
>           if (c->ssl) {
>               c->read = tls_shutdown_read;
>           }
> +
> +        status = c->read(c);
> +        status = h2c_conn_close(c);
It seems a bit odd to me to have the status field overlaid like this 
with consecutive calls.
Perhaps you are planning on adding status checking code, correct?
>       }
>       return status;
>   }
>
>


From dev-return-85161-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 16:16:15 2016
Return-Path: <dev-return-85161-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 943B41858E
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 16:16:15 +0000 (UTC)
Received: (qmail 68108 invoked by uid 500); 8 Jan 2016 16:16:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68036 invoked by uid 500); 8 Jan 2016 16:16:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68026 invoked by uid 99); 8 Jan 2016 16:16:15 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 16:16:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A2907C1AAB
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 16:16:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 0fIi32HuW2Nk for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 16:16:08 +0000 (UTC)
Received: from mail-qk0-f169.google.com (mail-qk0-f169.google.com [209.85.220.169])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2C38143A30
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 16:16:08 +0000 (UTC)
Received: by mail-qk0-f169.google.com with SMTP id r67so5059436qke.1
        for <dev@httpd.apache.org>; Fri, 08 Jan 2016 08:16:08 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=18721C3g9yfscyaHDwMU++oNCZnX4XmMSov0SS1Ixq8=;
        b=JVzakO+Ooj39rHDk6zJaoOCx238xADaHit3NbKPcZ8zEA58WUF1xp37eu236epIpat
         Y3ERUNlEsL2rPzvDaZezMzoqwz3vkxlXonlpYjyv5eaz3vbs1u1Uaqvd7/OMGikOsk0p
         TP5w5WSxQHZn/vymfdowZphoNaznHl/1Ub1nANqT6rWyR7rgyxgQGv7221k/9IsCUmqh
         goupIjYMcw4o1UFz/KqGQt3I72ITD58T62QVP4l0O2O4tzgYGPvGbu4KfysKYXKk7peD
         IrxVoW1OEW2OSSVyabJMcp1szhJnwRGnK+IaogAken7kQVOvzwNDy8G0oLYxrtKepUEx
         Nl6g==
MIME-Version: 1.0
X-Received: by 10.55.71.82 with SMTP id u79mr147468932qka.55.1452269762333;
 Fri, 08 Jan 2016 08:16:02 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Fri, 8 Jan 2016 08:16:02 -0800 (PST)
In-Reply-To: <0DA2B72D-6B7E-47EE-AECB-6B79D00FDE8A@jaguNET.com>
References: <568F6A11.1060309@redhat.com>
	<CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com>
	<0DA2B72D-6B7E-47EE-AECB-6B79D00FDE8A@jaguNET.com>
Date: Fri, 8 Jan 2016 17:16:02 +0100
Message-ID: <CAKQ1sVMb0T_LkHpipOb+ZvGyxLqXZKbNTwxgmb4nNi0hydF_hg@mail.gmail.com>
Subject: Re: mod_mime_magic, gzipped tarballs and Docker
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Jan 8, 2016 at 1:43 PM, Jim Jagielski <jim@jagunet.com> wrote:
> -0.9...
>
> This seems a very heavy solution to a specific one-off problem.

Not sure this is the patch which is heavy here...
Anytime mod_mime_magic recognizes the type of a gzip file (by the
magic bytes), it unconditionally starts a new piped-process to
uncompress the file so to determine the type of the gzipped content.
Then, it forces "Content-Encoding: x-gzip" and (eg.) "Content-Type:
x-tar", which causes the browser to think this was an original tarball
compressed by the protocol, and then uncompress it for the user to get
the (supposedly) original file.
(Btw the "Content-Encoding" encoding is set whether or not the
underlying type has been determined successfully, that looks buggy to
me since the browser could get a C-E w/o C-T, so I fixed it in the
proposed patch too).

My patch simply disables this by default (and provides an opt-out to
restore legacy behaviour, but it could easily take the other way too
to preserve existing), such that now mod_mime_magic can also set only
"Content-Type: x-gzip" and let (real) original go out with no special
treatment.

The patch is actually quite small to handle this IMHO...

From dev-return-85162-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 16:27:45 2016
Return-Path: <dev-return-85162-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8A0361862C
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 16:27:45 +0000 (UTC)
Received: (qmail 4704 invoked by uid 500); 8 Jan 2016 16:27:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 4540 invoked by uid 500); 8 Jan 2016 16:27:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 4435 invoked by uid 99); 8 Jan 2016 16:27:43 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 16:27:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id F3E7D1A03AE
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 16:27:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.555
X-Spam-Level:
X-Spam-Status: No, score=-0.555 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id YtG-MBpNzn6l for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 16:27:41 +0000 (UTC)
Received: from lewis.sophia.w3.org (lewis.sophia.w3.org [193.51.208.79])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 275272059F
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 16:27:40 +0000 (UTC)
Received: from mut38-7-78-226-234-114.fbx.proxad.net ([78.226.234.114] helo=kiribati.inrialpes.fr)
	by lewis.sophia.w3.org with esmtpsa (TLS1.2:DHE_RSA_AES_256_CBC_SHA256:256)
	(Exim 4.80)
	(envelope-from <kahan@w3.org>)
	id 1aHZsy-0005FO-Vj
	for dev@httpd.apache.org; Fri, 08 Jan 2016 16:27:33 +0000
Received: by kiribati.inrialpes.fr (Postfix, from userid 50104)
	id 7E79E42E; Fri,  8 Jan 2016 17:27:31 +0100 (CET)
Date: Fri, 8 Jan 2016 17:27:31 +0100
From: Jose Kahan <jose.kahan@w3.org>
To: dev@httpd.apache.org
Subject: mod_index : missing Content-Location header
Message-ID: <20160108162731.GA13299@kiribati.inrialpes.fr>
Reply-To: jose.kahan@w3.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.21 (2010-09-15)

Hi,

Best wishes for 2016!

Does anyone know why mod_dir doesn't generate a Content-Location
header when a URI ending in "/" is requested? This is a behavior
that is common in 2.2 and 2.4.

For some publishing tools, it's useful to know what's the actual
URI that's mapped to "/" thru DirectoryIndex.

I can contribute time to propose a patch that does this. I can
either add this as an in-built feature to mod_dir with configuration
options to disable it or as an optional hook tha's called once 
there's a positive match for a DirectoryIndex entry.

Any comments?

Thanks!

-jose

From dev-return-85163-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 16:31:01 2016
Return-Path: <dev-return-85163-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 98ADA18752
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 16:31:01 +0000 (UTC)
Received: (qmail 35711 invoked by uid 500); 8 Jan 2016 16:31:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35620 invoked by uid 500); 8 Jan 2016 16:31:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35605 invoked by uid 99); 8 Jan 2016 16:31:01 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 16:31:01 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 8CE99C0D2C
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 16:31:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id ukQC-L9LWN3t for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 16:30:55 +0000 (UTC)
Received: from mail-qg0-f48.google.com (mail-qg0-f48.google.com [209.85.192.48])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id BB7B443A43
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 16:30:54 +0000 (UTC)
Received: by mail-qg0-f48.google.com with SMTP id 6so277506414qgy.1
        for <dev@httpd.apache.org>; Fri, 08 Jan 2016 08:30:54 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=JcpvnIvJxrF3qjEDXyJwl2GCjegGibSOIol/sYc7N74=;
        b=xjBsy034BON6cDzvnvJAINdFhfV8MEhsJJzZt0mOnhF7KPXWZ1zrQX8qEO10JRKSxf
         DgGQVTnw3SfG/v2SFICqdtQQQZ9dP3ejs//XJUfCj1EWyYCuKisONHGPt0RD4hQV2nf8
         g51gzXp7AVbS2w8rWOuwAk0K6UZLxN6czXq0U1gVQYTXSnnCLV1fHap7oV5zwnmnMt3R
         oN/mdT69su3PWas9cfPwHobui/KMScdJvIKK88Pe2tuWM++uCJ9bAwx9X+p/mHhEpy1W
         SOMXhGX4beoEr6Inzv9hj9AV6Y8yik+XWK1SKdDLGUfrGbk/U86f9WswGkL3OwHCawcN
         mvNA==
MIME-Version: 1.0
X-Received: by 10.140.248.70 with SMTP id t67mr153384215qhc.97.1452270654391;
 Fri, 08 Jan 2016 08:30:54 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Fri, 8 Jan 2016 08:30:54 -0800 (PST)
In-Reply-To: <CACsi2511-fjOZp3ostR=1xZ0RognDw+Fw62wsboFkHvChovUzw@mail.gmail.com>
References: <568F6A11.1060309@redhat.com>
	<CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com>
	<CACsi2511-fjOZp3ostR=1xZ0RognDw+Fw62wsboFkHvChovUzw@mail.gmail.com>
Date: Fri, 8 Jan 2016 17:30:54 +0100
Message-ID: <CAKQ1sVPL9n2Bx9psx4XkzZOk=XfFXm8Vixer+e+QZkndY5GBDA@mail.gmail.com>
Subject: Re: mod_mime_magic, gzipped tarballs and Docker
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Fri, Jan 8, 2016 at 3:17 PM, William A Rowe Jr <wrowe@rowe-clan.net> wro=
te:
> On Fri, Jan 8, 2016 at 3:27 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>>
>> On Fri, Jan 8, 2016 at 8:49 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wro=
te:
>> >
>> > Content-Type: application/x-tar
>> > Content-Encoding: x-gzip
>> >
>> > So, the mod_mime_magic is saying here that the body is tarball encoded
>> > by
>> > gzip.
>>
>> AIUI, mod_mime_magic does indeed try to uncompress the tar.gz and adds
>> the above headers.
>
>
> Well, not strictly true, mod_deflate uncompresses it ;-)

Hmm, not sure mod_deflate is in the place, at least it doesn't need to
AFAICT from the code.
But sure mod_deflate could be configured to uncompress once more :)

>
>> > Maybe we could stop setting Content-Encoding in mod_mime_magic and jus=
t
>> > use
>> > Content-Type?
>>
>> Since it's always been there, we probably should add a new
>> mod_mime_magic directive to control the behaviour and avoid breaking
>> cases.
>
>
> Agreed it is configuration, but cant we simply tweak our recommended
> conf/magic
> file???
>
> # standard unix compress
> # Enable the alternate line below to present gzip content as a transfer
> encoded
> # stream of the underlying content;
> #0       string          \037\235        application/octet-stream
> x-compress
> 0       string          \037\235        application/octet-stream
>
> # gzip (GNU zip, not to be confused with [Info-ZIP/PKWARE] zip archiver)
> # Enable the alternate line below to present gzip content as a transfer
> encoded
> # stream of the underlying content;
> #0       string          \037\213        application/octet-stream
> x-gzip
> 0       string          \037\213        application/octet-stream
>
> WDYT?

I wasn't aware of conf/magic file, but it seems not used by zmagic()
which hardcodes its types.
I may be missing something though...

From dev-return-85164-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 16:31:57 2016
Return-Path: <dev-return-85164-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E89CF18766
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 16:31:57 +0000 (UTC)
Received: (qmail 38055 invoked by uid 500); 8 Jan 2016 16:31:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37971 invoked by uid 500); 8 Jan 2016 16:31:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37961 invoked by uid 99); 8 Jan 2016 16:31:52 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 16:31:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id EDED2C1CEC
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 16:31:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id GjLr4Zjxmp7h for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 16:31:43 +0000 (UTC)
Received: from resqmta-po-03v.sys.comcast.net (resqmta-po-03v.sys.comcast.net [96.114.154.162])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 3965F20103
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 16:31:43 +0000 (UTC)
Received: from resomta-po-04v.sys.comcast.net ([96.114.154.228])
	by resqmta-po-03v.sys.comcast.net with comcast
	id 3UXS1s0054vw8ds01UXibG; Fri, 08 Jan 2016 16:31:42 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-04v.sys.comcast.net with comcast
	id 3UXh1s00F2U0RYt01UXhQt; Fri, 08 Jan 2016 16:31:42 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_mime_magic, gzipped tarballs and Docker
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVMb0T_LkHpipOb+ZvGyxLqXZKbNTwxgmb4nNi0hydF_hg@mail.gmail.com>
Date: Fri, 8 Jan 2016 11:31:41 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <A000BC31-A7FD-49C4-85F7-F4ED5C99C298@jaguNET.com>
References: <568F6A11.1060309@redhat.com> <CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com> <0DA2B72D-6B7E-47EE-AECB-6B79D00FDE8A@jaguNET.com> <CAKQ1sVMb0T_LkHpipOb+ZvGyxLqXZKbNTwxgmb4nNi0hydF_hg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452270702;
	bh=1Glr2i+IVK+U2PfY/lZpMHrxWo6OakdZC5yxzJHUCXM=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=CaJXGkv4Fuyp+sbxqngw+2Ud9g/Ae4pr5lgGnLWxNh6ziOE953l3jCIe2uG2ZHkoi
	 Jiilq6tTBzwfnC4nEuPG3jXORy0MfOl56N37Hc6gFX53AHm99vHVuiqZ+CuZWA5Xqk
	 Xk3Q8f8ctXuEVxrCd/+PA2qlyraBzZbQVWGCPIQ4kbRWv2DyQravQLDe9AKocCayaB
	 LUr+qYmwKhm8F31w3KDm9lFebptYwhzrs+yovvIMaK2VbgRnZYA3ICm8oCSLl/aicR
	 cKD8oTdOKrtB6KfFmAb6HkRty7BOxPrWptRJJqA3mE36BlVkmyTuRCDYeaS3Fz2xUK
	 i4ilo5PKPzOzg==

It just seems like feature-creep and YetAnotherDirective for
something that is better handled some other way. As OtherBill
notes, a small edit to the magic file "fixes" this.

> On Jan 8, 2016, at 11:16 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> 
> On Fri, Jan 8, 2016 at 1:43 PM, Jim Jagielski <jim@jagunet.com> wrote:
>> -0.9...
>> 
>> This seems a very heavy solution to a specific one-off problem.
> 
> Not sure this is the patch which is heavy here...
> Anytime mod_mime_magic recognizes the type of a gzip file (by the
> magic bytes), it unconditionally starts a new piped-process to
> uncompress the file so to determine the type of the gzipped content.
> Then, it forces "Content-Encoding: x-gzip" and (eg.) "Content-Type:
> x-tar", which causes the browser to think this was an original tarball
> compressed by the protocol, and then uncompress it for the user to get
> the (supposedly) original file.
> (Btw the "Content-Encoding" encoding is set whether or not the
> underlying type has been determined successfully, that looks buggy to
> me since the browser could get a C-E w/o C-T, so I fixed it in the
> proposed patch too).
> 
> My patch simply disables this by default (and provides an opt-out to
> restore legacy behaviour, but it could easily take the other way too
> to preserve existing), such that now mod_mime_magic can also set only
> "Content-Type: x-gzip" and let (real) original go out with no special
> treatment.
> 
> The patch is actually quite small to handle this IMHO...


From dev-return-85165-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 16:57:12 2016
Return-Path: <dev-return-85165-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A01641889F
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 16:57:12 +0000 (UTC)
Received: (qmail 26529 invoked by uid 500); 8 Jan 2016 16:57:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26468 invoked by uid 500); 8 Jan 2016 16:57:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26458 invoked by uid 99); 8 Jan 2016 16:57:11 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 16:57:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 25F26C1A79
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 16:57:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Fzuzyl2s3t1h for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 16:57:05 +0000 (UTC)
Received: from mail-qk0-f172.google.com (mail-qk0-f172.google.com [209.85.220.172])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 43EBE20103
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 16:57:05 +0000 (UTC)
Received: by mail-qk0-f172.google.com with SMTP id q19so147283717qke.3
        for <dev@httpd.apache.org>; Fri, 08 Jan 2016 08:57:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=kijyWZSvCtspcZJWqiZbAR3KkSavANZdNC6U53eegeI=;
        b=h3FoeNC+xUrb6PzJ1bzUXCdoJSrrmLXDnqA0WpesNvaHNRJ8PbV35g3jbQphoLKPqp
         mb03MlCYK0EfRf0KeLBuJMppjZyXzmc1UqPTkuxhX9O0fNFokFfbudGsa14WZ963HX5H
         Wzqqwb2OlUQCZoshO6WzqwipaA1SAbpfSzh8EwqJ+NFIT6XgztdCPjov8fyF/9EitQNc
         ejljlSZWelDIWYNKGvkvjMS7aFe1QmIVyEbJM7BnHloIDKBo1QZxRkrFVVKz6e0aBc4+
         WhbTgg7XuOyAPliSYGocI4qMxuEO1bjH2sk25wLOCqQLjTySEfwPi9e6as/cO97rRuQe
         Thjg==
MIME-Version: 1.0
X-Received: by 10.55.48.130 with SMTP id w124mr141560033qkw.79.1452272224379;
 Fri, 08 Jan 2016 08:57:04 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Fri, 8 Jan 2016 08:57:04 -0800 (PST)
In-Reply-To: <CAKQ1sVPL9n2Bx9psx4XkzZOk=XfFXm8Vixer+e+QZkndY5GBDA@mail.gmail.com>
References: <568F6A11.1060309@redhat.com>
	<CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com>
	<CACsi2511-fjOZp3ostR=1xZ0RognDw+Fw62wsboFkHvChovUzw@mail.gmail.com>
	<CAKQ1sVPL9n2Bx9psx4XkzZOk=XfFXm8Vixer+e+QZkndY5GBDA@mail.gmail.com>
Date: Fri, 8 Jan 2016 17:57:04 +0100
Message-ID: <CAKQ1sVMQzat3r+9uYBU7K=9=nQfbctB_OatLWCqo5AsiBiK8hQ@mail.gmail.com>
Subject: Re: mod_mime_magic, gzipped tarballs and Docker
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Jan 8, 2016 at 5:30 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Fri, Jan 8, 2016 at 3:17 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
>>
>> Agreed it is configuration, but cant we simply tweak our recommended
>> conf/magic
>> file???
>>
>> # standard unix compress
>> # Enable the alternate line below to present gzip content as a transfer
>> encoded
>> # stream of the underlying content;
>> #0       string          \037\235        application/octet-stream
>> x-compress
>> 0       string          \037\235        application/octet-stream
>>
>> # gzip (GNU zip, not to be confused with [Info-ZIP/PKWARE] zip archiver)
>> # Enable the alternate line below to present gzip content as a transfer
>> encoded
>> # stream of the underlying content;
>> #0       string          \037\213        application/octet-stream
>> x-gzip
>> 0       string          \037\213        application/octet-stream
>>
>> WDYT?
>
> I wasn't aware of conf/magic file, but it seems not used by zmagic()
> which hardcodes its types.
> I may be missing something though...

Looks like it is already like this in conf/magic of 2.4.x and 2.2.x.
My bet is that zmagic() is run before softmagic(), so the magic file
is of no help.

Maybe a simpler patch could be:

Index: modules/metadata/mod_mime_magic.c
===================================================================
--- modules/metadata/mod_mime_magic.c    (revision 1723283)
+++ modules/metadata/mod_mime_magic.c    (working copy)
@@ -880,14 +885,6 @@ static int tryit(request_rec *r, unsigned char *bu
                  int checkzmagic)
 {
     /*
-     * Try compression stuff
-     */
-    if (checkzmagic == 1) {
-        if (zmagic(r, buf, nb) == 1)
-            return OK;
-    }
-
-    /*
      * try tests in /etc/magic (or surrogate magic file)
      */
     if (softmagic(r, buf, nb) == 1)
@@ -900,6 +897,14 @@ static int tryit(request_rec *r, unsigned char *bu
         return OK;

     /*
+     * Try compression stuff
+     */
+    if (checkzmagic == 1) {
+        if (zmagic(r, buf, nb) == 1)
+            return OK;
+    }
+
+    /*
      * abandon hope, all ye who remain here
      */
     return DECLINED;
--

From dev-return-85166-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 18:45:07 2016
Return-Path: <dev-return-85166-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 281C718F33
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 18:45:07 +0000 (UTC)
Received: (qmail 75718 invoked by uid 500); 8 Jan 2016 18:45:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75639 invoked by uid 500); 8 Jan 2016 18:45:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75629 invoked by uid 99); 8 Jan 2016 18:45:06 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 18:45:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C2B12C1B01
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 18:45:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.999
X-Spam-Level: **
X-Spam-Status: No, score=2.999 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=3,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 1GDD98_zWoMu for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 18:44:59 +0000 (UTC)
Received: from mail-io0-f177.google.com (mail-io0-f177.google.com [209.85.223.177])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 69CB32059F
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 18:44:59 +0000 (UTC)
Received: by mail-io0-f177.google.com with SMTP id q21so294873060iod.0
        for <dev@httpd.apache.org>; Fri, 08 Jan 2016 10:44:59 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=L1H9WKp4HYXtdUmZfFdkUlvvcHoCCTOKzKSw+Cme4CA=;
        b=dgpdeVthQ73fyKovK0f1tUUDkBuhYMg4FTKGt9x16cAL83LbS4tG135Fk0ugj0JMbO
         Hm+DO9KMz4FabrVAsCgp/tIyF+h5jWf4/ZjAcGXVSSlFFgP1NTvS8FG3XvH/E9ukwuIA
         1VNNJJ86GnDCRSGi6ssZE2ASO4FyTMaiGEtlbe92WZREH42gBny/WJimdb2gBp7ROzgB
         DKS+2Zu3g31b2t6bQCEOgX3ohobBzf6zqlkoQjeCGmrWBgqRyELASHe2tpdERGipML1t
         AFOd2EnztEdOrvL0uItWn2A1VOmLGHlkRy6CQb3dtaVNiaIro7bFGWSJCJdcrusVMkSE
         bNxg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=L1H9WKp4HYXtdUmZfFdkUlvvcHoCCTOKzKSw+Cme4CA=;
        b=Eq1MdNd3b1R/YFDZ/XalF0HN1w+W4QzjeL1hnAxWjE7xRtYwuUBkMu0mDdyDEBrgW6
         uwAdfX7QZJKP6hiY0H5rEagUGnU+yfoH/L7l8sw1Mxu4EB3s+jQDfGG5uo4aVeF1dM/h
         Y1vlPej+9Dl5nd1LOnFMCy4WT4BDWAcQNqngqpQtXBfx9NZRsu7jTfErNPkWSK78C1js
         Epq7Uux6RUK0+mzC1/C5griQVzAHJdSwbrKeFxCsXK6irJm5GJbJWHX7xYISViUFqW6U
         Dri1TI18Rea5FrTyqaYU1OkbX8q2kEqbC43GBXOwXhs+x/0VlMbIsd1aSsU4GyI0vCe1
         /IHg==
X-Gm-Message-State: ALoCoQlAIzUimocWmC1R7A1eVG3Bf8RFKqoovnKV1zPOX8Ut7c+a5DzDdPJ8H3X0MUXfx8Rzylh6IZUIAKJRfSRMCEQfA6T3oTi+SoshX6vdNr26oYQIyCA=
MIME-Version: 1.0
X-Received: by 10.107.28.82 with SMTP id c79mr96338543ioc.86.1452278692006;
 Fri, 08 Jan 2016 10:44:52 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Fri, 8 Jan 2016 10:44:51 -0800 (PST)
In-Reply-To: <CAKQ1sVMQzat3r+9uYBU7K=9=nQfbctB_OatLWCqo5AsiBiK8hQ@mail.gmail.com>
References: <568F6A11.1060309@redhat.com>
	<CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com>
	<CACsi2511-fjOZp3ostR=1xZ0RognDw+Fw62wsboFkHvChovUzw@mail.gmail.com>
	<CAKQ1sVPL9n2Bx9psx4XkzZOk=XfFXm8Vixer+e+QZkndY5GBDA@mail.gmail.com>
	<CAKQ1sVMQzat3r+9uYBU7K=9=nQfbctB_OatLWCqo5AsiBiK8hQ@mail.gmail.com>
Date: Fri, 8 Jan 2016 12:44:51 -0600
Message-ID: <CACsi251oAtGtEgFb9=dqo0eL2NLcgk8dtwe4EDjE+8mpc4_S=Q@mail.gmail.com>
Subject: Re: mod_mime_magic, gzipped tarballs and Docker
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11409b988d6a750528d6fbef

--001a11409b988d6a750528d6fbef
Content-Type: text/plain; charset=UTF-8

Do we have to repeat the softmagic call if checkzmagic resolves to
x-gzip/x-deflate and the internal content type needs to be deciphered?

If so, a tweak to this patch sounds like a winner, and could selectively
recognize different inflation streams including bzip2 etc.

On Fri, Jan 8, 2016 at 10:57 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> On Fri, Jan 8, 2016 at 5:30 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> > On Fri, Jan 8, 2016 at 3:17 PM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
> >>
> >> Agreed it is configuration, but cant we simply tweak our recommended
> >> conf/magic
> >> file???
> >>
> >> # standard unix compress
> >> # Enable the alternate line below to present gzip content as a transfer
> >> encoded
> >> # stream of the underlying content;
> >> #0       string          \037\235        application/octet-stream
> >> x-compress
> >> 0       string          \037\235        application/octet-stream
> >>
> >> # gzip (GNU zip, not to be confused with [Info-ZIP/PKWARE] zip archiver)
> >> # Enable the alternate line below to present gzip content as a transfer
> >> encoded
> >> # stream of the underlying content;
> >> #0       string          \037\213        application/octet-stream
> >> x-gzip
> >> 0       string          \037\213        application/octet-stream
> >>
> >> WDYT?
> >
> > I wasn't aware of conf/magic file, but it seems not used by zmagic()
> > which hardcodes its types.
> > I may be missing something though...
>
> Looks like it is already like this in conf/magic of 2.4.x and 2.2.x.
> My bet is that zmagic() is run before softmagic(), so the magic file
> is of no help.
>
> Maybe a simpler patch could be:
>
> Index: modules/metadata/mod_mime_magic.c
> ===================================================================
> --- modules/metadata/mod_mime_magic.c    (revision 1723283)
> +++ modules/metadata/mod_mime_magic.c    (working copy)
> @@ -880,14 +885,6 @@ static int tryit(request_rec *r, unsigned char *bu
>                   int checkzmagic)
>  {
>      /*
> -     * Try compression stuff
> -     */
> -    if (checkzmagic == 1) {
> -        if (zmagic(r, buf, nb) == 1)
> -            return OK;
> -    }
> -
> -    /*
>       * try tests in /etc/magic (or surrogate magic file)
>       */
>      if (softmagic(r, buf, nb) == 1)
> @@ -900,6 +897,14 @@ static int tryit(request_rec *r, unsigned char *bu
>          return OK;
>
>      /*
> +     * Try compression stuff
> +     */
> +    if (checkzmagic == 1) {
> +        if (zmagic(r, buf, nb) == 1)
> +            return OK;
> +    }
> +
> +    /*
>       * abandon hope, all ye who remain here
>       */
>      return DECLINED;
> --
>

--001a11409b988d6a750528d6fbef
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Do we have to repeat the softmagic call if checkzmagic res=
olves to x-gzip/x-deflate and the internal content type needs to be deciphe=
red?<div><br></div><div>If so, a tweak to this patch sounds like a winner, =
and could selectively recognize different inflation streams including bzip2=
 etc.</div></div><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">=
On Fri, Jan 8, 2016 at 10:57 AM, Yann Ylavic <span dir=3D"ltr">&lt;<a href=
=3D"mailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gmail.com</a>=
&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0=
 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><span class=3D"">On Fr=
i, Jan 8, 2016 at 5:30 PM, Yann Ylavic &lt;<a href=3D"mailto:ylavic.dev@gma=
il.com">ylavic.dev@gmail.com</a>&gt; wrote:<br>
&gt; On Fri, Jan 8, 2016 at 3:17 PM, William A Rowe Jr &lt;<a href=3D"mailt=
o:wrowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt; wrote:<br>
&gt;&gt;<br>
</span><span class=3D"">&gt;&gt; Agreed it is configuration, but cant we si=
mply tweak our recommended<br>
&gt;&gt; conf/magic<br>
&gt;&gt; file???<br>
&gt;&gt;<br>
&gt;&gt; # standard unix compress<br>
&gt;&gt; # Enable the alternate line below to present gzip content as a tra=
nsfer<br>
&gt;&gt; encoded<br>
&gt;&gt; # stream of the underlying content;<br>
&gt;&gt; #0=C2=A0 =C2=A0 =C2=A0 =C2=A0string=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 \037\235=C2=A0 =C2=A0 =C2=A0 =C2=A0 application/octet-stream<br>
&gt;&gt; x-compress<br>
&gt;&gt; 0=C2=A0 =C2=A0 =C2=A0 =C2=A0string=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 \037\235=C2=A0 =C2=A0 =C2=A0 =C2=A0 application/octet-stream<br>
&gt;&gt;<br>
&gt;&gt; # gzip (GNU zip, not to be confused with [Info-ZIP/PKWARE] zip arc=
hiver)<br>
&gt;&gt; # Enable the alternate line below to present gzip content as a tra=
nsfer<br>
&gt;&gt; encoded<br>
&gt;&gt; # stream of the underlying content;<br>
&gt;&gt; #0=C2=A0 =C2=A0 =C2=A0 =C2=A0string=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 \037\213=C2=A0 =C2=A0 =C2=A0 =C2=A0 application/octet-stream<br>
&gt;&gt; x-gzip<br>
&gt;&gt; 0=C2=A0 =C2=A0 =C2=A0 =C2=A0string=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 \037\213=C2=A0 =C2=A0 =C2=A0 =C2=A0 application/octet-stream<br>
&gt;&gt;<br>
&gt;&gt; WDYT?<br>
&gt;<br>
&gt; I wasn&#39;t aware of conf/magic file, but it seems not used by zmagic=
()<br>
&gt; which hardcodes its types.<br>
&gt; I may be missing something though...<br>
<br>
</span>Looks like it is already like this in conf/magic of 2.4.x and 2.2.x.=
<br>
My bet is that zmagic() is run before softmagic(), so the magic file<br>
is of no help.<br>
<br>
Maybe a simpler patch could be:<br>
<span class=3D""><br>
Index: modules/metadata/mod_mime_magic.c<br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<br>
--- modules/metadata/mod_mime_magic.c=C2=A0 =C2=A0 (revision 1723283)<br>
+++ modules/metadata/mod_mime_magic.c=C2=A0 =C2=A0 (working copy)<br>
</span>@@ -880,14 +885,6 @@ static int tryit(request_rec *r, unsigned char =
*bu<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 int checkzma=
gic)<br>
=C2=A0{<br>
=C2=A0 =C2=A0 =C2=A0/*<br>
-=C2=A0 =C2=A0 =C2=A0* Try compression stuff<br>
-=C2=A0 =C2=A0 =C2=A0*/<br>
-=C2=A0 =C2=A0 if (checkzmagic =3D=3D 1) {<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 if (zmagic(r, buf, nb) =3D=3D 1)<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 return OK;<br>
-=C2=A0 =C2=A0 }<br>
-<br>
-=C2=A0 =C2=A0 /*<br>
=C2=A0 =C2=A0 =C2=A0 * try tests in /etc/magic (or surrogate magic file)<br=
>
=C2=A0 =C2=A0 =C2=A0 */<br>
=C2=A0 =C2=A0 =C2=A0if (softmagic(r, buf, nb) =3D=3D 1)<br>
@@ -900,6 +897,14 @@ static int tryit(request_rec *r, unsigned char *bu<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0return OK;<br>
<br>
=C2=A0 =C2=A0 =C2=A0/*<br>
+=C2=A0 =C2=A0 =C2=A0* Try compression stuff<br>
+=C2=A0 =C2=A0 =C2=A0*/<br>
+=C2=A0 =C2=A0 if (checkzmagic =3D=3D 1) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 if (zmagic(r, buf, nb) =3D=3D 1)<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 return OK;<br>
+=C2=A0 =C2=A0 }<br>
+<br>
+=C2=A0 =C2=A0 /*<br>
=C2=A0 =C2=A0 =C2=A0 * abandon hope, all ye who remain here<br>
=C2=A0 =C2=A0 =C2=A0 */<br>
=C2=A0 =C2=A0 =C2=A0return DECLINED;<br>
--<br>
</blockquote></div><br></div>

--001a11409b988d6a750528d6fbef--

From dev-return-85167-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 19:10:17 2016
Return-Path: <dev-return-85167-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B69031813C
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 19:10:17 +0000 (UTC)
Received: (qmail 56365 invoked by uid 500); 8 Jan 2016 19:10:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56291 invoked by uid 500); 8 Jan 2016 19:10:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56280 invoked by uid 99); 8 Jan 2016 19:10:16 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 19:10:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7612918050A
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 19:10:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id eBoBkCKfJaF4 for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 19:10:08 +0000 (UTC)
Received: from resqmta-po-12v.sys.comcast.net (resqmta-po-12v.sys.comcast.net [96.114.154.171])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 4B857204D0
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 19:10:08 +0000 (UTC)
Received: from resomta-po-06v.sys.comcast.net ([96.114.154.230])
	by resqmta-po-12v.sys.comcast.net with comcast
	id 3X9G1s0064yXVJQ01XA1RK; Fri, 08 Jan 2016 19:10:01 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-06v.sys.comcast.net with comcast
	id 3X9z1s00B2U0RYt01X9zWc; Fri, 08 Jan 2016 19:10:00 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Work in progress: mod_proxy Health Check module
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CALK=YjNxnUAjX1mGsAXAeXRmHJ3Pz=bfcMnibKTc5j2Yf3QOSw@mail.gmail.com>
Date: Fri, 8 Jan 2016 14:09:59 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <1012F319-C047-4527-8B01-903CDD0F083D@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com> <7C8BB910-7D19-4520-BE26-EE25CDC9608F@jaguNET.com> <CALK=YjNxnUAjX1mGsAXAeXRmHJ3Pz=bfcMnibKTc5j2Yf3QOSw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452280201;
	bh=L+rKxKnW0r9RkM1ubbzZU3HBrPBjUV3sscq14exnepY=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=dt2EiaCysBlBe6hF/7EQb9QIOXHYK5lahtkW6NBCFHFj6Js1/qobBQJc9Bu5xg9x9
	 H3ZTYG0kDrgJTvNncbrki62T3PeXQR6iNYJRCzq+W9BP34kmypx/XcfvoWZKIFivdO
	 SnLdB4Lif+8awT3++zVMtqxibz8BHSp2EL6iNU4e0kbqEr5I2N33Xe4si3sJJt1tdZ
	 Sw0u6O8fs6WZubIphk0s9I2dMhkPkIC17UDldHYv/hi1eXyu7q9X8AFol6awfLPno3
	 xANo0h54ya2oaiBFzkhstoqjyBagdnahjJDO4kc8ftsvG68aIUdGEGp6OPHrEiLap7
	 /iF2Gbzo1zj9w==

Thx! Any other comments/suggestions?

> On Jan 8, 2016, at 10:53 AM, Eric Covener <covener@gmail.com> wrote:
> 
> On Fri, Jan 8, 2016 at 10:18 AM, Jim Jagielski <jim@jagunet.com> wrote:
>> I am thinking about the actual health-check impl a bit more,
>> hence the lack of commits. As noted, initially I was thinking
>> about optional functions, defined in mod_proxy_http, mod_proxy_ajp,
>> etc. Then I started thinking that maybe doing it via providers
>> might be better, allowing for more "custom" health checks via
>> the end user. Then I started thinking about doing it rough-and-
>> ready and just adding 'em in mod_proxy_hcheck...
>> 
>> Before I spend too much time on this, any prefs one way or
>> another regarding this?
> 
> I haven't looked at the architecture so far -- but I think basics in
> mod_proxy_hcheck
> and at least one "standalone" provider (as an example) would be a good
> middle ground.
> 
> Maybe the standalone one would try to deal with the body whereas the
> built-in ones
> would be TCP up, SSL up, status-code, etc.


From dev-return-85168-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 19:30:43 2016
Return-Path: <dev-return-85168-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3C013182AB
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 19:30:43 +0000 (UTC)
Received: (qmail 23026 invoked by uid 500); 8 Jan 2016 19:30:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22954 invoked by uid 500); 8 Jan 2016 19:30:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22944 invoked by uid 99); 8 Jan 2016 19:30:42 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 19:30:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 4E8BF1A0368
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 19:30:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.196
X-Spam-Level:
X-Spam-Status: No, score=0.196 tagged_above=-999 required=6.31
	tests=[HEADER_FROM_DIFFERENT_DOMAINS=0.001, KAM_INFOUSMEBIZ=0.75,
	RP_MATCHES_RCVD=-0.554, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id mKxX2NyB057Y for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 19:30:34 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 8682543A45
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 19:30:34 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1aHck2-0007Ad-LN
	for dev@httpd.apache.org; Fri, 08 Jan 2016 20:30:30 +0100
Received: from aorleans-552-1-68-152.w92-140.abo.wanadoo.fr ([92.140.155.152])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Fri, 08 Jan 2016 20:30:30 +0100
Received: from christophe.jaillet by aorleans-552-1-68-152.w92-140.abo.wanadoo.fr with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Fri, 08 Jan 2016 20:30:30 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Subject: Re: mod_mime_magic, gzipped tarballs and Docker
Date: Fri, 8 Jan 2016 20:30:22 +0100
Lines: 17
Message-ID: <n6p2oe$va7$1@ger.gmane.org>
References: <568F6A11.1060309@redhat.com>
 <CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com>
 <CACsi2511-fjOZp3ostR=1xZ0RognDw+Fw62wsboFkHvChovUzw@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: aorleans-552-1-68-152.w92-140.abo.wanadoo.fr
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.0
In-Reply-To: <CACsi2511-fjOZp3ostR=1xZ0RognDw+Fw62wsboFkHvChovUzw@mail.gmail.com>
X-Antivirus: avast! (VPS 160108-0, 08/01/2016), Outbound message
X-Antivirus-Status: Clean

Hi,

not directly related to this discussion, but while looking at 
mod_mime_magic, could someone have a look at:
http://svn.apache.org/viewvc?view=revision&sortby=date&revision=1491700


I also tried to get some feedback some time ago 
(http://marc.info/?l=apache-httpd-dev&m=137106479314698) but at that 
time, got no success.

The fix looks obvious to me but I never took enough time to test it.
Any one interested?

Best regards,
CJ



From dev-return-85169-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 20:02:53 2016
Return-Path: <dev-return-85169-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 293B5184A6
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 20:02:53 +0000 (UTC)
Received: (qmail 21701 invoked by uid 500); 8 Jan 2016 20:02:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21625 invoked by uid 500); 8 Jan 2016 20:02:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21614 invoked by uid 99); 8 Jan 2016 20:02:47 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 20:02:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id E64071A040A
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 20:02:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.403
X-Spam-Level: *
X-Spam-Status: No, score=1.403 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, KAM_INFOUSMEBIZ=0.75,
	SPF_NEUTRAL=0.652, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id VqYtdywaA_XS for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 20:02:38 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 5D1F025F81
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 20:02:37 +0000 (UTC)
Received: from resomta-po-16v.sys.comcast.net ([96.114.154.240])
	by resqmta-po-05v.sys.comcast.net with comcast
	id 3Y1T1s0065BUCh401Y2WmL; Fri, 08 Jan 2016 20:02:30 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-16v.sys.comcast.net with comcast
	id 3Y0U1s00P2U0RYt01Y0VVB; Fri, 08 Jan 2016 20:00:30 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_mime_magic, gzipped tarballs and Docker
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <n6p2oe$va7$1@ger.gmane.org>
Date: Fri, 8 Jan 2016 15:00:28 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <60C2359D-F74D-4148-840F-88CB92E7D0E7@jaguNET.com>
References: <568F6A11.1060309@redhat.com> <CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com> <CACsi2511-fjOZp3ostR=1xZ0RognDw+Fw62wsboFkHvChovUzw@mail.gmail.com> <n6p2oe$va7$1@ger.gmane.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452283350;
	bh=4rf4Rsv9BnX3qqCfS71bDJ/sdtmSArFHIywCxYoQlVA=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=XdAinWeb1X3fUQwrftAFgZ9FHQPcBSj1a+d97g3VeSug8pj6ZwNmUuIglMXiZ2JZg
	 594rvVT3zcerpKmo2+HqZagS+0q2R9YHMomeJkRT3LsCIr+NEUN6HmcgBJEQpc0XQQ
	 l8RkyjzpyCkOdH0N3qR3ujnHl0CRTpaOxzPbBOyHmZZZqHKnVQ2v+oHFgI48At3Dlk
	 FZ/r4owAS0yxqPJZRktEseeTdBK6B37lAkj2c/EJHYqIjaoLFMpSxpaijUH5NR9Yre
	 /wALXCoGO8Gc5Dy2Iq2BpW/2/T8SzPRX8N1WIfClXbxUMLru6H0ghcgjOeZTkSzNr2
	 WhuOpBa0qf2mg==

Looks right to me... using the address of a local var is nasty
and broken and for sure will cause grief.

> On Jan 8, 2016, at 2:30 PM, Christophe JAILLET =
<christophe.jaillet@wanadoo.fr> wrote:
>=20
> Hi,
>=20
> not directly related to this discussion, but while looking at =
mod_mime_magic, could someone have a look at:
> =
http://svn.apache.org/viewvc?view=3Drevision&sortby=3Ddate&revision=3D1491=
700
>=20
>=20
> I also tried to get some feedback some time ago =
(http://marc.info/?l=3Dapache-httpd-dev&m=3D137106479314698) but at that =
time, got no success.
>=20
> The fix looks obvious to me but I never took enough time to test it.
> Any one interested?
>=20
> Best regards,
> CJ
>=20
>=20


From dev-return-85170-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan  8 20:05:21 2016
Return-Path: <dev-return-85170-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 71995184BD
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  8 Jan 2016 20:05:21 +0000 (UTC)
Received: (qmail 28032 invoked by uid 500); 8 Jan 2016 20:05:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 27970 invoked by uid 500); 8 Jan 2016 20:05:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 27960 invoked by uid 99); 8 Jan 2016 20:05:20 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Jan 2016 20:05:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 86D471A02DD
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 20:05:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.403
X-Spam-Level: *
X-Spam-Status: No, score=1.403 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, KAM_INFOUSMEBIZ=0.75,
	SPF_NEUTRAL=0.652, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id pZ8WEo-bfjaO for <dev@httpd.apache.org>;
	Fri,  8 Jan 2016 20:05:09 +0000 (UTC)
Received: from resqmta-ch2-06v.sys.comcast.net (resqmta-ch2-06v.sys.comcast.net [69.252.207.38])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id AA849206A7
	for <dev@httpd.apache.org>; Fri,  8 Jan 2016 20:05:09 +0000 (UTC)
Received: from resomta-ch2-19v.sys.comcast.net ([69.252.207.115])
	by resqmta-ch2-06v.sys.comcast.net with comcast
	id 3Y4A1s0032VvR6D01Y53Eb; Fri, 08 Jan 2016 20:05:03 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-19v.sys.comcast.net with comcast
	id 3Y321s00F2U0RYt01Y32DR; Fri, 08 Jan 2016 20:03:03 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_mime_magic, gzipped tarballs and Docker
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <60C2359D-F74D-4148-840F-88CB92E7D0E7@jaguNET.com>
Date: Fri, 8 Jan 2016 15:03:02 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <474C0ADC-58E9-4A06-B434-F7347C6D2753@jaguNET.com>
References: <568F6A11.1060309@redhat.com> <CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com> <CACsi2511-fjOZp3ostR=1xZ0RognDw+Fw62wsboFkHvChovUzw@mail.gmail.com> <n6p2oe$va7$1@ger.gmane.org> <60C2359D-F74D-4148-840F-88CB92E7D0E7@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452283503;
	bh=qLxcW0MxgQlKLuRRVaAD2atYOcOzNTkgODxK9302ndA=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=CDhXOMJg79zqjMmPn16pEY2uaRexBYgpTf0BPFBAFj+66SjV+5pfVesv/toilnD8v
	 Vbrz2m+Vyzhwk56w7eXS6qhgkqybuxCXEyD32qJg62OQjReljNpgN48Uj1KaFEC4ah
	 El/1aqjmi0bO2+BWdt+H0Qtyez0o8UU4wKG7H7anIwwB9TceQpEYV0CXcPw+0iz6hs
	 4jQdQEJxLobyEMmR9dl4wumCA4qOl82+fojCH915r85V0EAz3EzdKSSigegwwUH1Ha
	 MUEvSP4DGnl0SZpn7v6dvkWv+M9SUh1g5OUrXCX9zlYNXXnjthT8VL0v+o+9BrjF3l
	 BNH3yXsAL6mOA==

Alternatively, it could use a global extern var and avoid the dup.

> On Jan 8, 2016, at 3:00 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> Looks right to me... using the address of a local var is nasty
> and broken and for sure will cause grief.
>=20
>> On Jan 8, 2016, at 2:30 PM, Christophe JAILLET =
<christophe.jaillet@wanadoo.fr> wrote:
>>=20
>> Hi,
>>=20
>> not directly related to this discussion, but while looking at =
mod_mime_magic, could someone have a look at:
>> =
http://svn.apache.org/viewvc?view=3Drevision&sortby=3Ddate&revision=3D1491=
700
>>=20
>>=20
>> I also tried to get some feedback some time ago =
(http://marc.info/?l=3Dapache-httpd-dev&m=3D137106479314698) but at that =
time, got no success.
>>=20
>> The fix looks obvious to me but I never took enough time to test it.
>> Any one interested?
>>=20
>> Best regards,
>> CJ
>>=20
>>=20
>=20


From dev-return-85171-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jan  9 02:45:52 2016
Return-Path: <dev-return-85171-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BFC21184BF
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  9 Jan 2016 02:45:52 +0000 (UTC)
Received: (qmail 76460 invoked by uid 500); 9 Jan 2016 02:45:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76380 invoked by uid 500); 9 Jan 2016 02:45:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76367 invoked by uid 99); 9 Jan 2016 02:45:52 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 09 Jan 2016 02:45:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id AACAB1805CD
	for <dev@httpd.apache.org>; Sat,  9 Jan 2016 02:45:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id GZvknhzooagT for <dev@httpd.apache.org>;
	Sat,  9 Jan 2016 02:45:43 +0000 (UTC)
Received: from s2.mail.rcig.net (s2.mail.rcig.net [216.87.38.202])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id E474020511
	for <dev@httpd.apache.org>; Sat,  9 Jan 2016 02:45:42 +0000 (UTC)
Received: from 23-117-14-203.lightspeed.stlsmo.sbcglobal.net ([23.117.14.203]:49790 helo=[192.168.0.2])
	by s2.mail.rcig.net with esmtpa (Exim 4.72)
	(envelope-from <DRuggeri@primary.net>)
	id 1aHjX3-00020Y-JA
	for dev@httpd.apache.org; Fri, 08 Jan 2016 20:45:35 -0600
Subject: Re: Work in progress: mod_proxy Health Check module
To: dev@httpd.apache.org
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com>
 <7C8BB910-7D19-4520-BE26-EE25CDC9608F@jaguNET.com>
 <CALK=YjNxnUAjX1mGsAXAeXRmHJ3Pz=bfcMnibKTc5j2Yf3QOSw@mail.gmail.com>
 <1012F319-C047-4527-8B01-903CDD0F083D@jaguNET.com>
From: Daniel Ruggeri <DRuggeri@primary.net>
X-Enigmail-Draft-Status: N1110
Message-ID: <56907444.2070905@primary.net>
Date: Fri, 8 Jan 2016 20:45:24 -0600
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.0
MIME-Version: 1.0
In-Reply-To: <1012F319-C047-4527-8B01-903CDD0F083D@jaguNET.com>
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: 7bit
X-ACL-Warn: X-The email account used to send this email was: druggeri@primary.net

++1 on this vein of thought. Implementing the health checking similar to
the modularized lb methods makes the most sense to me. I can already
think of several methods (file, conf, external script, lua script) of
obtaining data on how to probe and react.

Just some thoughts worth considering... since you asked :-)
*The module should not probe if a probe is already running against that
backend (hang or takes too long to respond)
*The probes to different backends should be done in parallel rather than
serially to avoid pileups due to a slow responder
*How will the existing balancer re-enable logic interfere with ERR backends?
   *Maybe another flag that avoids retry if the monitor marked it down
requiring the monitor to bring it back up before any traffic is allowed
to go to it?

I've followed along with what you described by using watchdog to trigger
the probing, but I'm curious where your thoughts are for submitting a
request to the backend. Are you planning to simulate one from your
module by directly connecting to the backend or is the plan to run the
request through the existing proxy infrastructure (the former allows
lots of control while the latter permits other directives to come into
play that might be handy like disabling based on status code). I haven't
seen the code, but your previous email said you were thinking of the
former case.

P.S.
Thanks for taking this on. It's been on my own todo list for a long time.

-- 
Daniel Ruggeri

On 1/8/2016 1:09 PM, Jim Jagielski wrote:
> Thx! Any other comments/suggestions?
>
>> On Jan 8, 2016, at 10:53 AM, Eric Covener <covener@gmail.com> wrote:
>>
>> On Fri, Jan 8, 2016 at 10:18 AM, Jim Jagielski <jim@jagunet.com> wrote:
>>> I am thinking about the actual health-check impl a bit more,
>>> hence the lack of commits. As noted, initially I was thinking
>>> about optional functions, defined in mod_proxy_http, mod_proxy_ajp,
>>> etc. Then I started thinking that maybe doing it via providers
>>> might be better, allowing for more "custom" health checks via
>>> the end user. Then I started thinking about doing it rough-and-
>>> ready and just adding 'em in mod_proxy_hcheck...
>>>
>>> Before I spend too much time on this, any prefs one way or
>>> another regarding this?
>> I haven't looked at the architecture so far -- but I think basics in
>> mod_proxy_hcheck
>> and at least one "standalone" provider (as an example) would be a good
>> middle ground.
>>
>> Maybe the standalone one would try to deal with the body whereas the
>> built-in ones
>> would be TCP up, SSL up, status-code, etc.


From dev-return-85172-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jan  9 18:18:34 2016
Return-Path: <dev-return-85172-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E4EE117A6E
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  9 Jan 2016 18:18:34 +0000 (UTC)
Received: (qmail 64284 invoked by uid 500); 9 Jan 2016 18:18:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64201 invoked by uid 500); 9 Jan 2016 18:18:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64191 invoked by uid 99); 9 Jan 2016 18:18:29 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 09 Jan 2016 18:18:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0C623180457
	for <dev@httpd.apache.org>; Sat,  9 Jan 2016 18:18:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id fwrzgajfOIYS for <dev@httpd.apache.org>;
	Sat,  9 Jan 2016 18:18:18 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id E74F925897
	for <dev@httpd.apache.org>; Sat,  9 Jan 2016 18:18:17 +0000 (UTC)
Received: from resomta-po-13v.sys.comcast.net ([96.114.154.237])
	by resqmta-po-05v.sys.comcast.net with comcast
	id 3uJB1s00157bBgG01uJGM7; Sat, 09 Jan 2016 18:18:16 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-13v.sys.comcast.net with comcast
	id 3uJE1s00K2U0RYt01uJFpo; Sat, 09 Jan 2016 18:18:16 +0000
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Work in progress: mod_proxy Health Check module
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56907444.2070905@primary.net>
Date: Sat, 9 Jan 2016 13:18:14 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <D9F39EF2-B1AC-4453-A854-33CBEFF42621@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com> <7C8BB910-7D19-4520-BE26-EE25CDC9608F@jaguNET.com> <CALK=YjNxnUAjX1mGsAXAeXRmHJ3Pz=bfcMnibKTc5j2Yf3QOSw@mail.gmail.com> <1012F319-C047-4527-8B01-903CDD0F083D@jaguNET.com> <56907444.2070905@primary.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452363496;
	bh=3tfM5cQmAZ1UOWB40YxNQvA284sKzKvnmmYjwZzriBI=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=XRJwMp6PjK2ImkpHjY2RFHpJCqk+fPIfGH3qHO9K6PHmaSg2sOOwRzWufTEYH+e9F
	 oalE4nTbs25VujSzmK8BhT3+k5iTFRUEmS2P4n/PgkSS3O1wUDIdYK7wn93VjiPmOT
	 rrt3mYLDUct/auCYAOmWl03pxebxMd23/ubSSB7prH96QF4vPVyg0DDTPmx1o81xna
	 gyqQxmSG5R7Xpui0nk4MLzSR28bIx2amu/EAjANvp1nEInx1AWIOn4G4bs/gpbz4Qq
	 wlrpymJA8OOGwcevWMyWRsSvX2f6KXcXEAbXSsbQyB6yMTMNarE7h2YuNzfZP9LXvx
	 ZJcmZgZyBUmnA==

Here is the general concept:

The health check itself is done via mod_watchdog, and uses
its callback impl. Each worker will have its own check interval,
which can be changed via the new balancer member directives
(hcinterval=3D, hcfails=3D,...); these will also be changable via
the balancer manager.

There will be a set of health checks available, depending on
the scheme of the backend. There will be:

  None
  TCP: a simple 'is socket up check'
  OPTIONS: for http only
  HEAD: http only, sends HEAD /...
  GET: http only, sends GET /...
  CPING: ajp cping/cpong

For the checks that send a URI, we allow for a specific
check URI (hcuri) that gets appended to the worker's url.
We will also read in the response, headers and all, and
create a dummy request_rec from it. Why? That way we can
create 'conditions' which use ap_expr to check for things
like REQUEST_STATUS, etc. These conditions will be
basically stored ap_expr expressions (ala <If>) that will
be applied to the returned response from the backend. Thus,
we can check not only that the backend is "up" (ie, it
responded), but also check the response itself.

These would be one-off requests, connecting directly to
the backend via ap_proxy_acquire_connection()/
ap_proxy_connect_backend()/ap_proxy_connection_create() with
the *dummy* generic reverse proxy worker (instead of the
actual backend worker itself, if you grok). It may make sense
to in addition to having the generic forward and reverse proxy
workers, also have a hcheck one as well, specialized for
this purpose.

I like the idea of parallel requests, and could likely impl
that as a simple thread pool in the watchdog process itself,
but that might be v1.1 or v1.2; I want to get the basic flow
itself right, esp the logic checking. So v1.0 will be serial. :/

> On Jan 8, 2016, at 9:45 PM, Daniel Ruggeri <DRuggeri@primary.net> =
wrote:
>=20
> ++1 on this vein of thought. Implementing the health checking similar =
to
> the modularized lb methods makes the most sense to me. I can already
> think of several methods (file, conf, external script, lua script) of
> obtaining data on how to probe and react.
>=20
> Just some thoughts worth considering... since you asked :-)
> *The module should not probe if a probe is already running against =
that
> backend (hang or takes too long to respond)
> *The probes to different backends should be done in parallel rather =
than
> serially to avoid pileups due to a slow responder
> *How will the existing balancer re-enable logic interfere with ERR =
backends?
>   *Maybe another flag that avoids retry if the monitor marked it down
> requiring the monitor to bring it back up before any traffic is =
allowed
> to go to it?
>=20
> I've followed along with what you described by using watchdog to =
trigger
> the probing, but I'm curious where your thoughts are for submitting a
> request to the backend. Are you planning to simulate one from your
> module by directly connecting to the backend or is the plan to run the
> request through the existing proxy infrastructure (the former allows
> lots of control while the latter permits other directives to come into
> play that might be handy like disabling based on status code). I =
haven't
> seen the code, but your previous email said you were thinking of the
> former case.
>=20
> P.S.
> Thanks for taking this on. It's been on my own todo list for a long =
time.
>=20
> --=20
> Daniel Ruggeri
>=20
> On 1/8/2016 1:09 PM, Jim Jagielski wrote:
>> Thx! Any other comments/suggestions?
>>=20
>>> On Jan 8, 2016, at 10:53 AM, Eric Covener <covener@gmail.com> wrote:
>>>=20
>>> On Fri, Jan 8, 2016 at 10:18 AM, Jim Jagielski <jim@jagunet.com> =
wrote:
>>>> I am thinking about the actual health-check impl a bit more,
>>>> hence the lack of commits. As noted, initially I was thinking
>>>> about optional functions, defined in mod_proxy_http, mod_proxy_ajp,
>>>> etc. Then I started thinking that maybe doing it via providers
>>>> might be better, allowing for more "custom" health checks via
>>>> the end user. Then I started thinking about doing it rough-and-
>>>> ready and just adding 'em in mod_proxy_hcheck...
>>>>=20
>>>> Before I spend too much time on this, any prefs one way or
>>>> another regarding this?
>>> I haven't looked at the architecture so far -- but I think basics in
>>> mod_proxy_hcheck
>>> and at least one "standalone" provider (as an example) would be a =
good
>>> middle ground.
>>>=20
>>> Maybe the standalone one would try to deal with the body whereas the
>>> built-in ones
>>> would be TCP up, SSL up, status-code, etc.
>=20


From dev-return-85173-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jan 10 07:15:17 2016
Return-Path: <dev-return-85173-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7805C185ED
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 10 Jan 2016 07:15:17 +0000 (UTC)
Received: (qmail 85197 invoked by uid 500); 10 Jan 2016 07:15:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85124 invoked by uid 500); 10 Jan 2016 07:15:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85115 invoked by uid 99); 10 Jan 2016 07:15:16 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 10 Jan 2016 07:15:16 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id 8CAA91A006D
	for <dev@httpd.apache.org>; Sun, 10 Jan 2016 07:15:16 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 1ED89604BD; Sun, 10 Jan 2016 07:15:16 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2016/01/10]
Message-Id: <20160110071516.1ED89604BD@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 10 Jan 2016 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24437|Opn|Nor|2003-11-05|mod_auth_ldap doubly-escapes backslash (\) charact|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Enh|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37770|Opn|Blk|2005-12-03|proxy: error reading status line from remote serve|
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Inf|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|Verify that log directories exist in httpd -t conf|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|Opn|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Maj|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47650|Opn|Trv|2009-08-05|httxt2dbm calculates value size incorrectly       |
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51104|Opn|Maj|2011-04-21|C++ support about httpd_config.h                  |
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|Opn|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Blk|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Nor|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|53999|Opn|Nor|2012-10-13|Deadlock between procmgr_send_spawn_cmd()/proctabl|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|Ver|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|New|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|Ver|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|Ver|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|Opn|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|Ver|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|Ver|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|Opn|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57895|New|Min|2015-05-05|missing m4a mimeType in mime.types                |
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
|58089|New|Nor|2015-07-01|mod_authz_host uses proxy IP even when mod_remotei|
|58097|New|Enh|2015-07-03|[feat] Preserve original connecting IP            |
|58101|New|Nor|2015-07-05|DeflateCompressionLevel inside vhost resets logfor|
|58107|New|Blk|2015-07-06|Httpd crashes on startup every time, dump file att|
|58109|New|Nor|2015-07-06|Apache on windows cannot handle the hash symbol (#|
|58118|Inf|Min|2015-07-09|mod_proxy_fcgi logs 503 when user aborts connectio|
|58120|New|Nor|2015-07-10|ProxyPassInherit does not work as expect          |
|58121|New|Nor|2015-07-10|ProxyHTMLMeta seems to ignore all <meta http-equiv|
|58129|New|Nor|2015-07-12|man pages are not generated correctly             |
|58132|New|Nor|2015-07-12|non-standard, non-traditional man page layout make|
|58135|New|Nor|2015-07-14|mod_cache sends client "if-Modified-Since" to back|
|58141|New|Nor|2015-07-15|Apache Service doesn't start when rotatlogs.exe pa|
|58142|New|Nor|2015-07-15|authz_core ignores loglevel                       |
|58158|New|Nor|2015-07-21|Not honoring HTTP spec with regard to Accept-Encod|
|58168|New|Enh|2015-07-21|Would like full request evaluation support in Rewr|
|58171|New|Nor|2015-07-22|ap_session_save saves the wrong session after a de|
|58177|New|Enh|2015-07-24|Mod Proxy forward trailers in http chunked request|
|58180|New|Enh|2015-07-24|ErrorDocument original URL in subsequent <Location|
|58181|New|Enh|2015-07-25|mod_expire should allow "minus" keyword same like |
|58188|New|Nor|2015-07-28|http2 mod_lua: support build with lua 5.2+        |
|58197|New|Nor|2015-07-31|apr-util-1.5.4 build against openldap - "could not|
|58225|New|Reg|2015-08-08|intermitant segfault 11 in session_identity_encode|
|58226|New|Nor|2015-08-08|XSS in Error Page                                 |
|58231|New|Nor|2015-08-11|RewriteCond can add "Host" to the Vary-Header     |
|58235|New|Enh|2015-08-12|Ability to allow from domain but with using forwar|
|58243|New|Nor|2015-08-14|rotatelogs goes infinite at startup               |
|58248|New|Nor|2015-08-17|Error 404 in use some characters of utf8 in url   |
|58257|New|Nor|2015-08-18|require ldap-group does not work if account-fullna|
|58278|Inf|Blk|2015-08-24|apache - mod_security Issue : apache no releasing |
|58280|New|Nor|2015-08-24|Backend connection not closed until timeout if cli|
|58288|New|Blk|2015-08-27|Semaphore amount increase until crash when enablin|
|58292|New|Nor|2015-08-27|FallbackResource breaks chunked encoding sometimes|
|58304|New|Nor|2015-08-30|Unexpected Warnings from Macro Use in 2.4         |
|58305|New|Nor|2015-08-30|mod_cgi documentation not clear about what is pass|
|58306|New|Nor|2015-08-30|documentation needs to make it clear which directi|
|58307|New|Nor|2015-08-31|Segmentation fault in child in "read(__nbytes, __b|
|58317|New|Min|2015-09-02|Error message AH01630 is missing file name on deny|
|58334|New|Min|2015-09-06|WebDAV HTTP access does not include meta tag for c|
|58335|New|Nor|2015-09-07|mod_authnz_ldap mismatch                          |
|58343|New|Nor|2015-09-08|The pdf files come up as a blank page.            |
|58354|New|Maj|2015-09-10|(20014)Internal error (specific information not av|
|58356|New|Blk|2015-09-10|Session jumping due to incorrect route            |
|58364|New|Reg|2015-09-11|Apache Server is restarted time to time (Release 2|
|58417|New|Min|2015-09-16|ApacheBench (ab) won't display Server Software of |
|58419|New|Nor|2015-09-16|ApacheBench (ab) doesn't work with keep-alives aga|
|58423|New|Reg|2015-09-17|Apache >= 2.4.8 PCRE_DUPNAMES causes build failure|
|58467|New|Maj|2015-09-29|Environment Variables in ProxyHTMLURLMap produces |
|58475|New|Nor|2015-10-03|Support append/merge with semicolon-separated head|
|58488|New|Nor|2015-10-08|Stoped PHP-FPM pool in multi-pool system with comu|
|58491|New|Maj|2015-10-09|Core dumps appear when the load increases         |
|58492|Inf|Nor|2015-10-09|I think LDAPConnectionPoolTTL is not being honored|
|58498|New|Nor|2015-10-16|Apache 2.4.17: Regression with mod_autoindex (in c|
|58500|New|Nor|2015-10-16|dav_fs not enabled by default                     |
|58503|New|Cri|2015-10-16|segfault in apr_brigade_cleanup() under high load |
|58509|New|Trv|2015-10-20|2.4.17-dev introduces second core.c handler at sta|
|58524|New|Nor|2015-10-23|mod_http2 segfaults when under heavy load         |
|58528|New|Nor|2015-10-23|AllowOverrideList None gets misparsed and .htacces|
|58529|New|Maj|2015-10-23|Segmentation fault after modifying a proxy Balance|
|58550|New|Enh|2015-10-26|During load, Apache 2.2.x with prefork MPM didn|
|58574|New|Nor|2015-11-02|Apache error AH01630 (client denied) but working  |
|58593|New|Nor|2015-11-06|mod_proxy wrong decision between http and ws      |
|58598|New|Enh|2015-11-08|Internal Server Error (500) when requesting non-ex|
|58602|New|Nor|2015-11-11|Priority issue on DirectoryMatch directive        |
|58604|New|Reg|2015-11-12|Plaintext auth broken in any Explicit FTP/AUTH TLS|
|58612|New|Min|2015-11-16|mod_webdav when write_stream failed should break a|
|58669|New|Nor|2015-11-30|Order of DBDInitSQL and DBDPrepareSQL             |
|58688|New|Nor|2015-12-03|Missing mod_ssl connection-level upgrade headers f|
|58700|New|Nor|2015-12-07|Apache logs not working with mod_remoteip and X-fo|
|58720|New|Enh|2015-12-11|querying server status stalls when scoreboard is f|
|58727|New|Min|2015-12-13|Directories with a ProxyPass directive are not dis|
|58732|New|Nor|2015-12-14|Error Log isn't writing When Apache Shutdown with |
|58739|New|Cri|2015-12-15|Undocumented behavior of REDIRECT_URL and REDIRECT|
|58744|New|Nor|2015-12-17|pthread mutex warning is outdated                 |
|58771|New|Nor|2015-12-27|Mod_fcgid ErrorDocument                           |
|58777|New|Enh|2015-12-28|URLs containing a ? are assumed to be query string|
|58789|Inf|Nor|2016-01-03|header set multiple htaccess                      |
|58798|New|Nor|2016-01-04|Misleading terminology                            |
|58799|New|Nor|2016-01-04|mod_fcgid: FcgidMinProcessesPerClass doesn't seem |
|58803|New|Cri|2016-01-05|HTTP connection is getting closed after 5 mins ( R|
|58806|New|Maj|2016-01-05|HTTP/2 appears to keep workers in KEEPALIVE status|
|58825|Inf|Nor|2016-01-08|Upload really big files with PUT method and XMLHTT|
|58826|New|Cri|2016-01-08|OCSP Stapling does not resolve DNS                |
|58828|New|Maj|2016-01-08|LA-U variables not set depending on the URI       |
+-----+---+---+----------+--------------------------------------------------+
| Total 1556 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-85174-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan 11 07:16:27 2016
Return-Path: <dev-return-85174-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F302D18F96
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 11 Jan 2016 07:16:26 +0000 (UTC)
Received: (qmail 28590 invoked by uid 500); 11 Jan 2016 07:16:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28504 invoked by uid 500); 11 Jan 2016 07:16:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28494 invoked by uid 99); 11 Jan 2016 07:16:25 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Jan 2016 07:16:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 90963C0705
	for <dev@httpd.apache.org>; Mon, 11 Jan 2016 07:16:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id E1YbUj8cs2qv for <dev@httpd.apache.org>;
	Mon, 11 Jan 2016 07:16:24 +0000 (UTC)
Received: from mail-wm0-f46.google.com (mail-wm0-f46.google.com [74.125.82.46])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 848DE20498
	for <dev@httpd.apache.org>; Mon, 11 Jan 2016 07:16:23 +0000 (UTC)
Received: by mail-wm0-f46.google.com with SMTP id f206so253202456wmf.0
        for <dev@httpd.apache.org>; Sun, 10 Jan 2016 23:16:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-type:content-transfer-encoding;
        bh=hrVm9LE43bo1Q9sX+KOZtLFZ/ZBz6Uk9dCtCRi71Gig=;
        b=d2/WzeMlYkj/2ndcEQI/474iHiu7ylt8ljpUIc0wMwSCfIW8O4QMbuNih4Y+7fpD6/
         13rc2WiAmQF1q/0+ANK0CmayY7b4QsEC6hIUVCAi5qVkJGL7iKhCodeH5R8bBv7S00zW
         QNyhGuself60xeHFs6PX2EtpW0p0NbAX+DdfsbcWApFgD/ovNz4IlH9MW6zLX6RwqbtA
         PXtvdibdd74DEL9LcQ0OYcFBB++hAJRzw+vYtTrmU45wFQrqn3piucNksrnNjWutk2A/
         6Otp6rtv0X1rbfM7w1dkMEhdPvxurh4vem/HRYaI1rZjTPayp35dKCyWJjwzkXwZ14b3
         CAag==
X-Received: by 10.195.18.5 with SMTP id gi5mr29660325wjd.167.1452496582184;
        Sun, 10 Jan 2016 23:16:22 -0800 (PST)
Received: from [192.168.1.37] (112.Red-88-13-75.dynamicIP.rima-tde.net. [88.13.75.112])
        by smtp.gmail.com with ESMTPSA id p9sm62739629wjy.41.2016.01.10.23.16.20
        for <dev@httpd.apache.org>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Sun, 10 Jan 2016 23:16:21 -0800 (PST)
Subject: Re: Weird behaviour with mod_ssl and SSLCryptoDevice
To: dev@httpd.apache.org
References: <566EC054.2040204@gmail.com> <566FFED9.1090102@redhat.com>
 <CAKQ1sVPOVLXs8UGvFzU2Bv4xX=7OFLi4zTu0wsan7W=TcjoLGw@mail.gmail.com>
 <567020B6.5010007@redhat.com> <568CFA71.4000504@gmail.com>
 <CAKQ1sVP6Fs5BQDYghwotO-hkUpB=MDdy_6Bq9h8Z+8wHJruhow@mail.gmail.com>
From: jean-frederic clere <jfclere@gmail.com>
Message-ID: <569356C4.4090703@gmail.com>
Date: Mon, 11 Jan 2016 08:16:20 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.4.0
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVP6Fs5BQDYghwotO-hkUpB=MDdy_6Bq9h8Z+8wHJruhow@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit

On 01/06/2016 01:17 PM, Yann Ylavic wrote:
> On Wed, Jan 6, 2016 at 12:28 PM, jean-frederic clere <jfclere@gmail.com> wrote:
>> On 12/15/2015 03:16 PM, Jan Kalua wrote:
>>> On 12/15/2015 02:16 PM, Yann Ylavic wrote:
>>>> Hi Jan,
>>>>
>>>> On Tue, Dec 15, 2015 at 12:51 PM, Jan Kalua <jkaluza@redhat.com> wrote:
>>>>>
>>>>> I think I've just fixed that in <http://svn.apache.org/r1720129>. I will
>>>>> also propose that for 2.4.x and 2.2.x.
>>>>
>>>> Shouldn't we do the same for ecparams below?
>>>
>>> Probably yes, I was just checking the arguments which get passed to
>>> "SSL_CTX_set_*" functions. I think you are right we should call
>>> EC_GROUP_free there.
>>
>> According to my tests with trunk there is still a problem, the
>> ENGINE_cleanup() doesn't finish the engines, I have tried to use
>> CRYPTO_mem_leaks_fp() to find the leak but there are too many of them to
>> find where we miss a "free()".
>>
>> Any idea on the topic?
> 
> I just committed (r1723295) a fix for the leak mentioned above.

It doesn't help :-(

> Do you also use some custom ecparams in the certificate file?

No the core also happens without any parameter in the certificate file.

Cheers

Jean-Frederic

From dev-return-85175-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan 11 09:56:04 2016
Return-Path: <dev-return-85175-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B90D518580
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 11 Jan 2016 09:56:04 +0000 (UTC)
Received: (qmail 50596 invoked by uid 500); 11 Jan 2016 09:56:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50527 invoked by uid 500); 11 Jan 2016 09:56:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50518 invoked by uid 99); 11 Jan 2016 09:56:04 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Jan 2016 09:56:04 +0000
Received: from gauss.localdomain (v4-86134b0f.pool.vitroconnect.de [134.19.75.15])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id CD7A01A0015
	for <dev@httpd.apache.org>; Mon, 11 Jan 2016 09:56:03 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 31FAE329
	for <dev@httpd.apache.org>; Mon, 11 Jan 2016 10:56:01 +0100 (CET)
Subject: Re: svn commit: r1723953 - in /httpd/httpd/trunk/modules/proxy:
 mod_proxy.h mod_proxy_hcheck.c
To: dev@httpd.apache.org
References: <20160110192032.45BB03A0184@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56937C31.5010105@apache.org>
Date: Mon, 11 Jan 2016 10:56:01 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <20160110192032.45BB03A0184@svn01-us-west.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 01/10/2016 08:20 PM, jim@apache.org wrote:
> Author: jim
> Date: Sun Jan 10 19:20:31 2016
> New Revision: 1723953
> 
> URL: http://svn.apache.org/viewvc?rev=1723953&view=rev
> Log:
> Use enums and structs to keep things better organized
> 
> Modified:
>     httpd/httpd/trunk/modules/proxy/mod_proxy.h
>     httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
> 
> Modified: httpd/httpd/trunk/modules/proxy/mod_proxy.h
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy.h?rev=1723953&r1=1723952&r2=1723953&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/proxy/mod_proxy.h (original)
> +++ httpd/httpd/trunk/modules/proxy/mod_proxy.h Sun Jan 10 19:20:31 2016
> @@ -75,6 +75,26 @@ enum enctype {
>      enc_path, enc_search, enc_user, enc_fpath, enc_parm
>  };
>  
> +typedef enum {
> +    NONE, TCP, OPTIONS, HEAD, GET, CPING, PROVIDER, EOT
> +} hcmethod_t;
> +
> +typedef struct {
> +    hcmethod_t method;
> +    char *name;
> +} hcmethods_t;
> +
> +static hcmethods_t hcmethods[] = {
> +        {NONE, "NONE"},
> +        {TCP, "TCP"},
> +        {OPTIONS, "OPTIONS"},
> +        {HEAD, "HEAD"},
> +        {GET, "GET"},
> +        {CPING, "CPING"},
> +        {PROVIDER, "PROVIDER"},
> +        {EOT, NULL}
> +};

Shouldn't the above move over to mod_proxy.c ?

Otherwise we see

mod_proxy.h:87: warning: hcmethods defined but not used

numerous time from c files where mod_proxy.h gets included but hcmethods not used.

Regards

Rdiger


From dev-return-85176-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan 11 12:43:11 2016
Return-Path: <dev-return-85176-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2DD9B18C4D
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 11 Jan 2016 12:43:11 +0000 (UTC)
Received: (qmail 70083 invoked by uid 500); 11 Jan 2016 12:43:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70025 invoked by uid 500); 11 Jan 2016 12:43:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70015 invoked by uid 99); 11 Jan 2016 12:43:10 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Jan 2016 12:43:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id DF1DD1A0A0E
	for <dev@httpd.apache.org>; Mon, 11 Jan 2016 12:43:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 3RXT0IBRZXAG for <dev@httpd.apache.org>;
	Mon, 11 Jan 2016 12:43:03 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 3C2832050D
	for <dev@httpd.apache.org>; Mon, 11 Jan 2016 12:43:03 +0000 (UTC)
Received: from resomta-po-18v.sys.comcast.net ([96.114.154.242])
	by resqmta-po-05v.sys.comcast.net with comcast
	id 4cii1s0015E3ZMc01ciwUs; Mon, 11 Jan 2016 12:42:56 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-18v.sys.comcast.net with comcast
	id 4civ1s0062U0RYt01civWR; Mon, 11 Jan 2016 12:42:56 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1723953 - in /httpd/httpd/trunk/modules/proxy: mod_proxy.h mod_proxy_hcheck.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56937C31.5010105@apache.org>
Date: Mon, 11 Jan 2016 07:42:55 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <4F58AEDC-130B-4626-9E97-84BE3643578F@jaguNET.com>
References: <20160110192032.45BB03A0184@svn01-us-west.apache.org> <56937C31.5010105@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452516176;
	bh=TY0TNk24sM/UCBN8KasMpDHs/Mxntw/p6B8bD3AA24Q=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Mgz08yARMWpXh6T4QBUwjfPWg1hU4wQCIUGBKIM9tS/ngVCXqLBGJr4GNtGvA5KY2
	 gpdz5creqhsld0I3ctcZ2L89QS9v+whgDf7YNWnY0XdT7PXaboHfrwkE0pRoixEUPe
	 x89qXXPSwvTiOEs/+fShSj3HQ5/O2n3GkZn0g3FS8hX/Ki5fEqq1HaIRuoCMnbhLNE
	 ZcuCo3biyuhyRfMDyPgYaD8PfVYbcGV2mNuFqr2ZSO0D48alTxN//D0nWoJasYNunu
	 R+ERyo4jS3MTvLVhyNSpZanc7Ht8lleAtLCD+ivKiksys0SHXnonGhVjMwJMTNEb7g
	 G487Evv8w2OHQ==

I can't recreate that... did you do a clean build?

> On Jan 11, 2016, at 4:56 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>=20
>=20
>=20
> On 01/10/2016 08:20 PM, jim@apache.org wrote:
>> Author: jim
>> Date: Sun Jan 10 19:20:31 2016
>> New Revision: 1723953
>>=20
>> URL: http://svn.apache.org/viewvc?rev=3D1723953&view=3Drev
>> Log:
>> Use enums and structs to keep things better organized
>>=20
>> Modified:
>>    httpd/httpd/trunk/modules/proxy/mod_proxy.h
>>    httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
>>=20
>> Modified: httpd/httpd/trunk/modules/proxy/mod_proxy.h
>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy.h?r=
ev=3D1723953&r1=3D1723952&r2=3D1723953&view=3Ddiff
>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>> --- httpd/httpd/trunk/modules/proxy/mod_proxy.h (original)
>> +++ httpd/httpd/trunk/modules/proxy/mod_proxy.h Sun Jan 10 19:20:31 =
2016
>> @@ -75,6 +75,26 @@ enum enctype {
>>     enc_path, enc_search, enc_user, enc_fpath, enc_parm
>> };
>>=20
>> +typedef enum {
>> +    NONE, TCP, OPTIONS, HEAD, GET, CPING, PROVIDER, EOT
>> +} hcmethod_t;
>> +
>> +typedef struct {
>> +    hcmethod_t method;
>> +    char *name;
>> +} hcmethods_t;
>> +
>> +static hcmethods_t hcmethods[] =3D {
>> +        {NONE, "NONE"},
>> +        {TCP, "TCP"},
>> +        {OPTIONS, "OPTIONS"},
>> +        {HEAD, "HEAD"},
>> +        {GET, "GET"},
>> +        {CPING, "CPING"},
>> +        {PROVIDER, "PROVIDER"},
>> +        {EOT, NULL}
>> +};
>=20
> Shouldn't the above move over to mod_proxy.c ?
>=20
> Otherwise we see
>=20
> mod_proxy.h:87: warning: =E2=80=98hcmethods=E2=80=99 defined but not =
used
>=20
> numerous time from c files where mod_proxy.h gets included but =
hcmethods not used.
>=20
> Regards
>=20
> R=C3=BCdiger


From dev-return-85177-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan 11 12:57:36 2016
Return-Path: <dev-return-85177-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6BBF318C99
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 11 Jan 2016 12:57:36 +0000 (UTC)
Received: (qmail 91691 invoked by uid 500); 11 Jan 2016 12:57:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91609 invoked by uid 500); 11 Jan 2016 12:57:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91599 invoked by uid 99); 11 Jan 2016 12:57:35 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Jan 2016 12:57:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 68F6AC3190
	for <dev@httpd.apache.org>; Mon, 11 Jan 2016 12:57:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.998
X-Spam-Level:
X-Spam-Status: No, score=0.998 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ye9jR9IT27lq for <dev@httpd.apache.org>;
	Mon, 11 Jan 2016 12:57:24 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.140])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id AD26C43CD4
	for <dev@httpd.apache.org>; Mon, 11 Jan 2016 12:57:23 +0000 (UTC)
Received: from [85.158.136.83] by server-4.bemta-5.messagelabs.com id FF/99-24856-DA6A3965; Mon, 11 Jan 2016 12:57:17 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-15.tower-36.messagelabs.com!1452517036!9840875!1
X-Originating-IP: [195.232.244.136]
X-StarScan-Received:
X-StarScan-Version: 7.35.1; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 22321 invoked from network); 11 Jan 2016 12:57:16 -0000
Received: from mailout04.vodafone.com (HELO mailout04.vodafone.com) (195.232.244.136)
  by server-15.tower-36.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 11 Jan 2016 12:57:16 -0000
Received: from mailint01.vodafone.com (mailint01.vodafone.com [195.232.244.198])
	by mailout04.vodafone.com (Postfix) with ESMTP id 3pfFRw2f5GznTYs
	for <dev@httpd.apache.org>; Mon, 11 Jan 2016 13:57:16 +0100 (CET)
Received: from mailint01.vodafone.com (localhost [127.0.0.1])
	by mailint01.vodafone.com (Postfix) with ESMTP id 3pfFRw1YSmzxQPv
	for <dev@httpd.apache.org>; Mon, 11 Jan 2016 13:57:16 +0100 (CET)
Received: from VOEXC06W.internal.vodafone.com (voexc06w.dc-ratingen.de [145.230.101.26])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint01.vodafone.com (Postfix) with ESMTPS id 3pfFRw1V8SzxQGZ
	for <dev@httpd.apache.org>; Mon, 11 Jan 2016 13:57:16 +0100 (CET)
Received: from VOEXC25W.internal.vodafone.com (145.230.103.197) by
 VOEXC06W.internal.vodafone.com (145.230.101.26) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Mon, 11 Jan 2016 13:57:15 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.138]) by voexc25w
 ([145.230.103.197]) with mapi id 14.03.0224.002; Mon, 11 Jan 2016 13:57:14
 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: svn commit: r1723953 - in /httpd/httpd/trunk/modules/proxy:
 mod_proxy.h mod_proxy_hcheck.c
Thread-Topic: svn commit: r1723953 - in /httpd/httpd/trunk/modules/proxy:
 mod_proxy.h mod_proxy_hcheck.c
Thread-Index: AQHRTFZLpNO9V9E7H0uQ/UkcKXKiTJ72Mb+AgAAScrA=
Date: Mon, 11 Jan 2016 12:57:14 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC63CE231@VOEXM10W.internal.vodafone.com>
References: <20160110192032.45BB03A0184@svn01-us-west.apache.org>
 <56937C31.5010105@apache.org>
 <4F58AEDC-130B-4626-9E97-84BE3643578F@jaguNET.com>
In-Reply-To: <4F58AEDC-130B-4626-9E97-84BE3643578F@jaguNET.com>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

RGlkIGENCg0KbWFrZSBleHRyYWNsZWFuID4gL2Rldi9udWxsOyAuL2J1aWxkY29uZjsgLi9jb25m
aWcubmljZTsgbWFrZSAtaiA0ID4gL2Rldi9udWxsDQoNCmFuZCB0aGUgd2FybmluZyBtYWtlcyBz
ZW5zZSB0byBtZSBzaW5jZSB3ZSBjcmVhdGUgdGhlIHN0YXRpYyBpbiBldmVyeSBmaWxlIHdoZXJl
IHdlIGluY2x1ZGUNCm1vZF9wcm94eS5oLiBJZiB3ZSByZWFsbHkgbmVlZCBpdCBhdmFpbGFibGUg
ZXZlcnl3aGVyZSwgSSBndWVzcyB3ZSBzaG91bGQgZGVmaW5lIGl0IGluIG1vZF9wcm94eS5jDQph
cyBnbG9iYWwgbm9uIHN0YXRpYyBhbmQgaGF2ZSBhbiBleHRlcm4gaW4gbW9kX3Byb3h5LmguIE90
aGVyd2lzZSB3ZSBjcmVhdGUgdGhpcyBzdGF0aWMgZGF0YSBpbg0KZWFjaCBvYmplY3QgZmlsZSBz
ZXBhcmF0ZWx5IHRoYXQgaW5jbHVkZXMgbW9kX3Byb3h5LmguDQoNClJlZ2FyZHMNCg0KUsO8ZGln
ZXINCg0KPiAtLS0tLVVyc3Byw7xuZ2xpY2hlIE5hY2hyaWNodC0tLS0tDQo+IFZvbjogSmltIEph
Z2llbHNraSBbbWFpbHRvOmppbUBqYWd1TkVULmNvbV0NCj4gR2VzZW5kZXQ6IE1vbnRhZywgMTEu
IEphbnVhciAyMDE2IDEzOjQzDQo+IEFuOiBkZXZAaHR0cGQuYXBhY2hlLm9yZw0KPiBCZXRyZWZm
OiBSZTogc3ZuIGNvbW1pdDogcjE3MjM5NTMgLSBpbiAvaHR0cGQvaHR0cGQvdHJ1bmsvbW9kdWxl
cy9wcm94eToNCj4gbW9kX3Byb3h5LmggbW9kX3Byb3h5X2hjaGVjay5jDQo+IA0KPiBJIGNhbid0
IHJlY3JlYXRlIHRoYXQuLi4gZGlkIHlvdSBkbyBhIGNsZWFuIGJ1aWxkPw0KPiANCj4gPiBPbiBK
YW4gMTEsIDIwMTYsIGF0IDQ6NTYgQU0sIFJ1ZWRpZ2VyIFBsdWVtIDxycGx1ZW1AYXBhY2hlLm9y
Zz4gd3JvdGU6DQo+ID4NCj4gPg0KPiA+DQo+ID4gT24gMDEvMTAvMjAxNiAwODoyMCBQTSwgamlt
QGFwYWNoZS5vcmcgd3JvdGU6DQo+ID4+IEF1dGhvcjogamltDQo+ID4+IERhdGU6IFN1biBKYW4g
MTAgMTk6MjA6MzEgMjAxNg0KPiA+PiBOZXcgUmV2aXNpb246IDE3MjM5NTMNCj4gPj4NCj4gPj4g
VVJMOiBodHRwOi8vc3ZuLmFwYWNoZS5vcmcvdmlld3ZjP3Jldj0xNzIzOTUzJnZpZXc9cmV2DQo+
ID4+IExvZzoNCj4gPj4gVXNlIGVudW1zIGFuZCBzdHJ1Y3RzIHRvIGtlZXAgdGhpbmdzIGJldHRl
ciBvcmdhbml6ZWQNCj4gPj4NCj4gPj4gTW9kaWZpZWQ6DQo+ID4+ICAgIGh0dHBkL2h0dHBkL3Ry
dW5rL21vZHVsZXMvcHJveHkvbW9kX3Byb3h5LmgNCj4gPj4gICAgaHR0cGQvaHR0cGQvdHJ1bmsv
bW9kdWxlcy9wcm94eS9tb2RfcHJveHlfaGNoZWNrLmMNCj4gPj4NCj4gPj4gTW9kaWZpZWQ6IGh0
dHBkL2h0dHBkL3RydW5rL21vZHVsZXMvcHJveHkvbW9kX3Byb3h5LmgNCj4gPj4gVVJMOg0KPiBo
dHRwOi8vc3ZuLmFwYWNoZS5vcmcvdmlld3ZjL2h0dHBkL2h0dHBkL3RydW5rL21vZHVsZXMvcHJv
eHkvbW9kX3Byb3h5LmgNCj4gP3Jldj0xNzIzOTUzJnIxPTE3MjM5NTImcjI9MTcyMzk1MyZ2aWV3
PWRpZmYNCj4gPj4NCj4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+ID09PT09PQ0KPiA+PiAtLS0gaHR0cGQv
aHR0cGQvdHJ1bmsvbW9kdWxlcy9wcm94eS9tb2RfcHJveHkuaCAob3JpZ2luYWwpDQo+ID4+ICsr
KyBodHRwZC9odHRwZC90cnVuay9tb2R1bGVzL3Byb3h5L21vZF9wcm94eS5oIFN1biBKYW4gMTAg
MTk6MjA6MzENCj4gMjAxNg0KPiA+PiBAQCAtNzUsNiArNzUsMjYgQEAgZW51bSBlbmN0eXBlIHsN
Cj4gPj4gICAgIGVuY19wYXRoLCBlbmNfc2VhcmNoLCBlbmNfdXNlciwgZW5jX2ZwYXRoLCBlbmNf
cGFybQ0KPiA+PiB9Ow0KPiA+Pg0KPiA+PiArdHlwZWRlZiBlbnVtIHsNCj4gPj4gKyAgICBOT05F
LCBUQ1AsIE9QVElPTlMsIEhFQUQsIEdFVCwgQ1BJTkcsIFBST1ZJREVSLCBFT1QNCj4gPj4gK30g
aGNtZXRob2RfdDsNCj4gPj4gKw0KPiA+PiArdHlwZWRlZiBzdHJ1Y3Qgew0KPiA+PiArICAgIGhj
bWV0aG9kX3QgbWV0aG9kOw0KPiA+PiArICAgIGNoYXIgKm5hbWU7DQo+ID4+ICt9IGhjbWV0aG9k
c190Ow0KPiA+PiArDQo+ID4+ICtzdGF0aWMgaGNtZXRob2RzX3QgaGNtZXRob2RzW10gPSB7DQo+
ID4+ICsgICAgICAgIHtOT05FLCAiTk9ORSJ9LA0KPiA+PiArICAgICAgICB7VENQLCAiVENQIn0s
DQo+ID4+ICsgICAgICAgIHtPUFRJT05TLCAiT1BUSU9OUyJ9LA0KPiA+PiArICAgICAgICB7SEVB
RCwgIkhFQUQifSwNCj4gPj4gKyAgICAgICAge0dFVCwgIkdFVCJ9LA0KPiA+PiArICAgICAgICB7
Q1BJTkcsICJDUElORyJ9LA0KPiA+PiArICAgICAgICB7UFJPVklERVIsICJQUk9WSURFUiJ9LA0K
PiA+PiArICAgICAgICB7RU9ULCBOVUxMfQ0KPiA+PiArfTsNCj4gPg0KPiA+IFNob3VsZG4ndCB0
aGUgYWJvdmUgbW92ZSBvdmVyIHRvIG1vZF9wcm94eS5jID8NCj4gPg0KPiA+IE90aGVyd2lzZSB3
ZSBzZWUNCj4gPg0KPiA+IG1vZF9wcm94eS5oOjg3OiB3YXJuaW5nOiDigJhoY21ldGhvZHPigJkg
ZGVmaW5lZCBidXQgbm90IHVzZWQNCj4gPg0KPiA+IG51bWVyb3VzIHRpbWUgZnJvbSBjIGZpbGVz
IHdoZXJlIG1vZF9wcm94eS5oIGdldHMgaW5jbHVkZWQgYnV0DQo+IGhjbWV0aG9kcyBub3QgdXNl
ZC4NCj4gPg0KPiA+IFJlZ2FyZHMNCj4gPg0KPiA+IFLDvGRpZ2VyDQoNCg==

From dev-return-85178-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan 11 13:00:18 2016
Return-Path: <dev-return-85178-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B1D5218CB4
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 11 Jan 2016 13:00:18 +0000 (UTC)
Received: (qmail 3424 invoked by uid 500); 11 Jan 2016 13:00:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3346 invoked by uid 500); 11 Jan 2016 13:00:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3336 invoked by uid 99); 11 Jan 2016 13:00:18 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Jan 2016 13:00:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id B0E461A096A
	for <dev@httpd.apache.org>; Mon, 11 Jan 2016 13:00:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id RL_LlEFBQSzv for <dev@httpd.apache.org>;
	Mon, 11 Jan 2016 13:00:08 +0000 (UTC)
Received: from resqmta-po-03v.sys.comcast.net (resqmta-po-03v.sys.comcast.net [96.114.154.162])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5881320498
	for <dev@httpd.apache.org>; Mon, 11 Jan 2016 13:00:08 +0000 (UTC)
Received: from resomta-po-17v.sys.comcast.net ([96.114.154.241])
	by resqmta-po-03v.sys.comcast.net with comcast
	id 4czx1s0015Clt1L01d02wF; Mon, 11 Jan 2016 13:00:02 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-17v.sys.comcast.net with comcast
	id 4d011s0012U0RYt01d0185; Mon, 11 Jan 2016 13:00:02 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1723953 - in /httpd/httpd/trunk/modules/proxy: mod_proxy.h mod_proxy_hcheck.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC63CE231@VOEXM10W.internal.vodafone.com>
Date: Mon, 11 Jan 2016 08:00:00 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <3823AAFB-2E68-4FAD-A10E-FDF577BECE43@jaguNET.com>
References: <20160110192032.45BB03A0184@svn01-us-west.apache.org> <56937C31.5010105@apache.org> <4F58AEDC-130B-4626-9E97-84BE3643578F@jaguNET.com> <AB1691BE05AE7F4992697F2A0835627AC63CE231@VOEXM10W.internal.vodafone.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452517202;
	bh=fPlHev1Qv3MgKqJRuknZcqR6pb7yAZHh0YUTSM0Yuzs=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=k06mfZZQqY0+c2T6z27Yzv5UUiEGFL3qMg8DNo2Z/QUDfPSyJgtWjb5zcfKpj/xta
	 QQOaVn0YEpAys4ivPH1m+WRaam4JqtIsZsmTkIi1DAvNhWepWYHWtLasp5N4Dao9eO
	 jb98F6ayLFtDc6IDn2vvWph7KjVo16kgxoZqaiMNuUuHlaTAoWpssnquKLfzylh6QZ
	 roJcOKc3ZRkl36aSV2EphBQNBBIqs1exdfezBK74VPryfJU9ii367qCQ9VBy47LrA3
	 UX2iZ9v//ELNFQDL0tbFHmsZRxsIdgzgrh+5yYXcnk4CqY2Arj56/Hpt4Nyj0vZppw
	 n0QIiM27YHnZg==

Hmmm For some reason, I don't get the error, even though I build w/ =
--enable-maintainer-mode

Thx!
> On Jan 11, 2016, at 7:57 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group =
<ruediger.pluem@vodafone.com> wrote:
>=20
> Did a
>=20
> make extraclean > /dev/null; ./buildconf; ./config.nice; make -j 4 > =
/dev/null
>=20
> and the warning makes sense to me since we create the static in every =
file where we include
> mod_proxy.h. If we really need it available everywhere, I guess we =
should define it in mod_proxy.c
> as global non static and have an extern in mod_proxy.h. Otherwise we =
create this static data in
> each object file separately that includes mod_proxy.h.
>=20
> Regards
>=20
> R=C3=BCdiger
>=20
>> -----Urspr=C3=BCngliche Nachricht-----
>> Von: Jim Jagielski [mailto:jim@jaguNET.com]
>> Gesendet: Montag, 11. Januar 2016 13:43
>> An: dev@httpd.apache.org
>> Betreff: Re: svn commit: r1723953 - in =
/httpd/httpd/trunk/modules/proxy:
>> mod_proxy.h mod_proxy_hcheck.c
>>=20
>> I can't recreate that... did you do a clean build?
>>=20
>>> On Jan 11, 2016, at 4:56 AM, Ruediger Pluem <rpluem@apache.org> =
wrote:
>>>=20
>>>=20
>>>=20
>>> On 01/10/2016 08:20 PM, jim@apache.org wrote:
>>>> Author: jim
>>>> Date: Sun Jan 10 19:20:31 2016
>>>> New Revision: 1723953
>>>>=20
>>>> URL: http://svn.apache.org/viewvc?rev=3D1723953&view=3Drev
>>>> Log:
>>>> Use enums and structs to keep things better organized
>>>>=20
>>>> Modified:
>>>>   httpd/httpd/trunk/modules/proxy/mod_proxy.h
>>>>   httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
>>>>=20
>>>> Modified: httpd/httpd/trunk/modules/proxy/mod_proxy.h
>>>> URL:
>> =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy.h
>> ?rev=3D1723953&r1=3D1723952&r2=3D1723953&view=3Ddiff
>>>>=20
>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>> =3D=3D=3D=3D=3D=3D
>>>> --- httpd/httpd/trunk/modules/proxy/mod_proxy.h (original)
>>>> +++ httpd/httpd/trunk/modules/proxy/mod_proxy.h Sun Jan 10 19:20:31
>> 2016
>>>> @@ -75,6 +75,26 @@ enum enctype {
>>>>    enc_path, enc_search, enc_user, enc_fpath, enc_parm
>>>> };
>>>>=20
>>>> +typedef enum {
>>>> +    NONE, TCP, OPTIONS, HEAD, GET, CPING, PROVIDER, EOT
>>>> +} hcmethod_t;
>>>> +
>>>> +typedef struct {
>>>> +    hcmethod_t method;
>>>> +    char *name;
>>>> +} hcmethods_t;
>>>> +
>>>> +static hcmethods_t hcmethods[] =3D {
>>>> +        {NONE, "NONE"},
>>>> +        {TCP, "TCP"},
>>>> +        {OPTIONS, "OPTIONS"},
>>>> +        {HEAD, "HEAD"},
>>>> +        {GET, "GET"},
>>>> +        {CPING, "CPING"},
>>>> +        {PROVIDER, "PROVIDER"},
>>>> +        {EOT, NULL}
>>>> +};
>>>=20
>>> Shouldn't the above move over to mod_proxy.c ?
>>>=20
>>> Otherwise we see
>>>=20
>>> mod_proxy.h:87: warning: =E2=80=98hcmethods=E2=80=99 defined but not =
used
>>>=20
>>> numerous time from c files where mod_proxy.h gets included but
>> hcmethods not used.
>>>=20
>>> Regards
>>>=20
>>> R=C3=BCdiger
>=20


From dev-return-85179-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 12 18:13:32 2016
Return-Path: <dev-return-85179-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 198E118B37
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 12 Jan 2016 18:13:32 +0000 (UTC)
Received: (qmail 39860 invoked by uid 500); 12 Jan 2016 18:13:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39764 invoked by uid 500); 12 Jan 2016 18:13:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39753 invoked by uid 99); 12 Jan 2016 18:13:31 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Jan 2016 18:13:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id F055E180510
	for <dev@httpd.apache.org>; Tue, 12 Jan 2016 18:13:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rcbowen-com.20150623.gappssmtp.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id OA10gWCKBDfp for <dev@httpd.apache.org>;
	Tue, 12 Jan 2016 18:13:20 +0000 (UTC)
Received: from mail-qg0-f53.google.com (mail-qg0-f53.google.com [209.85.192.53])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id CE38231AE5
	for <dev@httpd.apache.org>; Tue, 12 Jan 2016 18:13:19 +0000 (UTC)
Received: by mail-qg0-f53.google.com with SMTP id o11so435109710qge.2
        for <dev@httpd.apache.org>; Tue, 12 Jan 2016 10:13:19 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rcbowen-com.20150623.gappssmtp.com; s=20150623;
        h=to:from:subject:message-id:date:user-agent:mime-version
         :content-type:content-transfer-encoding;
        bh=Egk1Wzb3pRE4OiBgsd51rBVszMywuNOoLFrcvRgB/dQ=;
        b=nOvOh8e+IBRyGvmuPgc1qL0qDyQdQ3/yyJkou05DIMjuOitwUQex+0hkDNF2lfbZT9
         ejXE/9VBD0Y3BG9UjVwt/MSWcedKwCwODHcNw174b47WPbDbAhf3HMemGjfXeTLjCmNn
         V85tDQh3/1oSfJbKV++MH54h+QUMqbU3xiKYxzuAJOjPh5Dkb8ZLjUs8KBpPb30UU6+k
         2IVc3Dtz+CcDiipGDRzvDLofkWOlgSSAsIfkxUsluzjQrVjQJdflGRiEewP9TjpBkysM
         mgTxV7uw/WbInsaET0dnpQqtaFZdASNKnDQNiMff8QtRQn6DMiaOKx96xSyRPMoy2Z3f
         PGyg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:to:from:subject:message-id:date:user-agent
         :mime-version:content-type:content-transfer-encoding;
        bh=Egk1Wzb3pRE4OiBgsd51rBVszMywuNOoLFrcvRgB/dQ=;
        b=WA9v1m6UGSu32YSHIEvGt/PPbBOHHGpOliu3VlSqWRux3U9oMnw5XtKY+itYkZ1Zpv
         9iNtFgvFRsHSgpXl2f0yT2SUCnDwF46gWeV/kcoz0wvnW81qnBkF29MSCRc1vb7kSCTO
         XW/HI+Ov8vHFPIjbNxVMetElqVHve7ytET/j4ksbE+B9rbrjXd30GueG6wM5NDyE2xIi
         JSmoPJl3999twt1ZCj8G/8TI1ZOYjIeOk03xUquAAZiU+2g1gRa00YVrqXO7NjEYr+Cr
         XKRIfiTtjV9mYzJYmm2g4KYteBmNwe1o3/cInt8KI1z5XY8lLU1JW1N1qCdVInKoHNji
         Sj6g==
X-Gm-Message-State: ALoCoQm+WEpEjxRMSfMBhSCw2Xk6IQZN+oIt1FMpFykpGKEqpHyHHupp3re5hne/u6hjBjTniLTVZQHsnUde82cixvQk8HSMBw==
X-Received: by 10.140.141.138 with SMTP id 132mr73415504qhn.74.1452622393462;
        Tue, 12 Jan 2016 10:13:13 -0800 (PST)
Received: from [192.168.0.214] (cpe-74-138-23-246.kya.res.rr.com. [74.138.23.246])
        by smtp.googlemail.com with ESMTPSA id t73sm3128326qki.31.2016.01.12.10.13.11
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Tue, 12 Jan 2016 10:13:11 -0800 (PST)
To: dev@httpd.apache.org
From: Rich Bowen <rbowen@rcbowen.com>
Subject: mod_fcgid and broken doc links
Message-ID: <56954235.2010707@rcbowen.com>
Date: Tue, 12 Jan 2016 13:13:09 -0500
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.4.0
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

mod_fcgid is in a separate repo from the main httpd tree, due to
historical reasons. I presume there are good reasons for this. JimJag
suggested on IRC it's due to its independent release cycle.

Be that as it may, because it uses the standard documentation tools for
the module docs, https://httpd.apache.org/mod_fcgid/mod/mod_fcgid.html
is full of broken links. In particular, try any of the directive and
links to other modules - try the mod_cgi or AddHandler links in the
intro paragraph, and you'll see immediately what the problem is.

Now, we could of course have a separate version of the docs building
tools just for this module, or we could patch the doc manually, but I
was wondering, if there's no strong current reason for the module to be
kept separate, can we please move it into the main httpd tree?

(Note that exactly the same situation applies to mod_ftp, but there's
just fewer links from that doc so we don't hear it as often.)

--Rich

-- 
Rich Bowen - rbowen@rcbowen.com - @rbowen
http://apachecon.com/ - @apachecon

From dev-return-85180-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 13 12:33:59 2016
Return-Path: <dev-return-85180-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 035C018B5F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 13 Jan 2016 12:33:59 +0000 (UTC)
Received: (qmail 92007 invoked by uid 500); 13 Jan 2016 12:33:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91904 invoked by uid 500); 13 Jan 2016 12:33:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91894 invoked by uid 99); 13 Jan 2016 12:33:58 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Jan 2016 12:33:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id E33DF180425
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 12:33:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id G_RtkD_zQu2R for <dev@httpd.apache.org>;
	Wed, 13 Jan 2016 12:33:47 +0000 (UTC)
Received: from resqmta-po-11v.sys.comcast.net (resqmta-po-11v.sys.comcast.net [96.114.154.170])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id CD3E731AC4
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 12:33:46 +0000 (UTC)
Received: from resomta-po-17v.sys.comcast.net ([96.114.154.241])
	by resqmta-po-11v.sys.comcast.net with comcast
	id 5QZl1s0015Clt1L01QZlVJ; Wed, 13 Jan 2016 12:33:45 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-17v.sys.comcast.net with comcast
	id 5QZj1s00A2U0RYt01QZkeX; Wed, 13 Jan 2016 12:33:45 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_fcgid and broken doc links
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56954235.2010707@rcbowen.com>
Date: Wed, 13 Jan 2016 07:33:43 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <61468C5C-7793-4F67-B54F-7AE87A7386D5@jaguNET.com>
References: <56954235.2010707@rcbowen.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452688425;
	bh=XqS/7RQGSGYCmBpsCn86Sl7Z2+0S4e7WEuyZOIOMHz4=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=R0QMZEv/pFfmxgXypH/VdDdl0uTM9MsW9u4Nu08eL9cbaDcqFCEghEjninN3ust7U
	 jdaNllyVt64QHVBumyoGI3jD8yXhN36bK9o579BxCXsjvKCQjxjyi3mZ2hz4IGUXSr
	 wfYVL5tWjkZVzg3AXIMJTb/vlz6VueTwIeHtTrC9ANHE0/h8SjqvR0lvPmLxD4Y2bq
	 MsF8Kd7t2tcs8/KDhzUenPLmfijDlVmUDmXj7u1bjzV4TSeixc/2paAdNFdSKbENId
	 TeFpSiPkVlgw+foDP2R30QmN2Mx95FtVHXOwmeXmw8AAuKvvfXKROeWg7RuixPVjlE
	 R31if+ZVnDSrQ==

Does it make sense to "officially" bundle mod_fcgid w/ httpd?

> On Jan 12, 2016, at 1:13 PM, Rich Bowen <rbowen@rcbowen.com> wrote:
> 
> mod_fcgid is in a separate repo from the main httpd tree, due to
> historical reasons. I presume there are good reasons for this. JimJag
> suggested on IRC it's due to its independent release cycle.
> 
> Be that as it may, because it uses the standard documentation tools for
> the module docs, https://httpd.apache.org/mod_fcgid/mod/mod_fcgid.html
> is full of broken links. In particular, try any of the directive and
> links to other modules - try the mod_cgi or AddHandler links in the
> intro paragraph, and you'll see immediately what the problem is.
> 
> Now, we could of course have a separate version of the docs building
> tools just for this module, or we could patch the doc manually, but I
> was wondering, if there's no strong current reason for the module to be
> kept separate, can we please move it into the main httpd tree?
> 
> (Note that exactly the same situation applies to mod_ftp, but there's
> just fewer links from that doc so we don't hear it as often.)
> 
> --Rich
> 
> -- 
> Rich Bowen - rbowen@rcbowen.com - @rbowen
> http://apachecon.com/ - @apachecon


From dev-return-85181-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 13 13:21:10 2016
Return-Path: <dev-return-85181-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9DD7918CFF
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 13 Jan 2016 13:21:10 +0000 (UTC)
Received: (qmail 94139 invoked by uid 500); 13 Jan 2016 13:21:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94060 invoked by uid 500); 13 Jan 2016 13:21:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94050 invoked by uid 99); 13 Jan 2016 13:21:10 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Jan 2016 13:21:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id A3EF11A0771
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 13:21:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.554
X-Spam-Level:
X-Spam-Status: No, score=-0.554 tagged_above=-999 required=6.31
	tests=[HEADER_FROM_DIFFERENT_DOMAINS=0.001, RP_MATCHES_RCVD=-0.554,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id meguBinx_jhb for <dev@httpd.apache.org>;
	Wed, 13 Jan 2016 13:21:00 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 975DD24C11
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 13:20:59 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1aJLM2-0004qR-GU
	for dev@httpd.apache.org; Wed, 13 Jan 2016 14:20:50 +0100
Received: from 227-116.citynet.ftth.internl.net ([85.223.116.227])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Wed, 13 Jan 2016 14:20:50 +0100
Received: from phpdev by 227-116.citynet.ftth.internl.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Wed, 13 Jan 2016 14:20:50 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Jan Ehrhardt <phpdev@ehrhardt.nl>
Subject: Re: mod_fcgid and broken doc links
Date: Wed, 13 Jan 2016 14:20:30 +0100
Lines: 9
Message-ID: <2gic9b9nbl7ohivcjpft4fbcth90kld0he@4ax.com>
References: <56954235.2010707@rcbowen.com> <61468C5C-7793-4F67-B54F-7AE87A7386D5@jaguNET.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: 227-116.citynet.ftth.internl.net
X-Newsreader: Forte Agent 3.3/32.846

Jim Jagielski in gmane.comp.apache.devel (Wed, 13 Jan 2016 07:33:43
-0500):
>Does it make sense to "officially" bundle mod_fcgid w/ httpd?

FWIW: I always compile mod_fcgid.so together with Apache httpd. I have
made it part of my VC 9/11/14 solution files. I guess that many Windows
users of httpd install mod_fcgid, so for them it makes sense.

Jan


From dev-return-85182-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 13 14:43:46 2016
Return-Path: <dev-return-85182-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9D673180B9
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 13 Jan 2016 14:43:46 +0000 (UTC)
Received: (qmail 25055 invoked by uid 500); 13 Jan 2016 14:43:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 24989 invoked by uid 500); 13 Jan 2016 14:43:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 24979 invoked by uid 99); 13 Jan 2016 14:43:45 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Jan 2016 14:43:45 +0000
Received: from gauss.localdomain (v4-86134b0f.pool.vitroconnect.de [134.19.75.15])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 58EE51A0015
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 14:43:45 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id C3D48226
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 15:43:44 +0100 (CET)
Subject: Re: mod_fcgid and broken doc links
To: dev@httpd.apache.org
References: <56954235.2010707@rcbowen.com>
 <61468C5C-7793-4F67-B54F-7AE87A7386D5@jaguNET.com>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <569662A0.70203@apache.org>
Date: Wed, 13 Jan 2016 15:43:44 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <61468C5C-7793-4F67-B54F-7AE87A7386D5@jaguNET.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit



On 01/13/2016 01:33 PM, Jim Jagielski wrote:
> Does it make sense to "officially" bundle mod_fcgid w/ httpd?

Just for fixing the documention?
In this case I would prefer to investigate other solutions for the documentation and keep it separate.

Regards

Rdiger


From dev-return-85183-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 13 15:03:57 2016
Return-Path: <dev-return-85183-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BC070181B5
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 13 Jan 2016 15:03:57 +0000 (UTC)
Received: (qmail 85877 invoked by uid 500); 13 Jan 2016 15:03:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85800 invoked by uid 500); 13 Jan 2016 15:03:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85790 invoked by uid 99); 13 Jan 2016 15:03:57 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Jan 2016 15:03:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id D6B32C17A1
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 15:03:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.556
X-Spam-Level:
X-Spam-Status: No, score=-0.556 tagged_above=-999 required=6.31
	tests=[RCVD_IN_MSPIKE_H2=-0.001, RP_MATCHES_RCVD=-0.554,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 1yRu49RDL7um for <dev@httpd.apache.org>;
	Wed, 13 Jan 2016 15:03:48 +0000 (UTC)
Received: from aserp1040.oracle.com (aserp1040.oracle.com [141.146.126.69])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 92F7D42ADC
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 15:03:48 +0000 (UTC)
Received: from aserv0021.oracle.com (aserv0021.oracle.com [141.146.126.233])
	by aserp1040.oracle.com (Sentrion-MTA-4.3.2/Sentrion-MTA-4.3.2) with ESMTP id u0DF3fJY008351
	(version=TLSv1 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 15:03:41 GMT
Received: from userv0121.oracle.com (userv0121.oracle.com [156.151.31.72])
	by aserv0021.oracle.com (8.13.8/8.13.8) with ESMTP id u0DF3fjG011365
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 15:03:41 GMT
Received: from abhmp0013.oracle.com (abhmp0013.oracle.com [141.146.116.19])
	by userv0121.oracle.com (8.13.8/8.13.8) with ESMTP id u0DF3eNt010889
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 15:03:40 GMT
Received: from [10.132.185.71] (/10.132.185.71)
	by default (Oracle Beehive Gateway v4.0)
	with ESMTP ; Wed, 13 Jan 2016 07:03:40 -0800
Subject: Re: mod_fcgid and broken doc links
To: dev@httpd.apache.org
References: <56954235.2010707@rcbowen.com>
From: Mike Rumph <mike.rumph@oracle.com>
Organization: Oracle Corporation
Message-ID: <56966746.8020204@oracle.com>
Date: Wed, 13 Jan 2016 07:03:34 -0800
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56954235.2010707@rcbowen.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Source-IP: aserv0021.oracle.com [141.146.126.233]

A background for this request can be seen in bug report 56121.
- https://bz.apache.org/bugzilla/show_bug.cgi?id=56121#c4
This bug also describes a manual method for working around this problem.

On 1/12/2016 10:13 AM, Rich Bowen wrote:
> mod_fcgid is in a separate repo from the main httpd tree, due to
> historical reasons. I presume there are good reasons for this. JimJag
> suggested on IRC it's due to its independent release cycle.
>
> Be that as it may, because it uses the standard documentation tools for
> the module docs, https://httpd.apache.org/mod_fcgid/mod/mod_fcgid.html
> is full of broken links. In particular, try any of the directive and
> links to other modules - try the mod_cgi or AddHandler links in the
> intro paragraph, and you'll see immediately what the problem is.
>
> Now, we could of course have a separate version of the docs building
> tools just for this module, or we could patch the doc manually, but I
> was wondering, if there's no strong current reason for the module to be
> kept separate, can we please move it into the main httpd tree?
>
> (Note that exactly the same situation applies to mod_ftp, but there's
> just fewer links from that doc so we don't hear it as often.)
>
> --Rich
>


From dev-return-85184-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 13 15:07:29 2016
Return-Path: <dev-return-85184-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ED15F181D1
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 13 Jan 2016 15:07:28 +0000 (UTC)
Received: (qmail 92670 invoked by uid 500); 13 Jan 2016 15:07:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92586 invoked by uid 500); 13 Jan 2016 15:07:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92576 invoked by uid 99); 13 Jan 2016 15:07:28 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Jan 2016 15:07:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id E656C180571
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 15:07:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id RyBNFF31iYBi for <dev@httpd.apache.org>;
	Wed, 13 Jan 2016 15:07:21 +0000 (UTC)
Received: from resqmta-po-02v.sys.comcast.net (resqmta-po-02v.sys.comcast.net [96.114.154.161])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 44CAD206A7
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 15:07:21 +0000 (UTC)
Received: from resomta-po-20v.sys.comcast.net ([96.114.154.244])
	by resqmta-po-02v.sys.comcast.net with comcast
	id 5T6l1s0015Geu2801T7EgH; Wed, 13 Jan 2016 15:07:14 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-20v.sys.comcast.net with comcast
	id 5T7D1s00W2U0RYt01T7EUx; Wed, 13 Jan 2016 15:07:14 +0000
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_fcgid and broken doc links
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <569662A0.70203@apache.org>
Date: Wed, 13 Jan 2016 10:07:13 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <F42DD953-FC6B-474F-86E3-69D03D2F4E78@jaguNET.com>
References: <56954235.2010707@rcbowen.com> <61468C5C-7793-4F67-B54F-7AE87A7386D5@jaguNET.com> <569662A0.70203@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452697634;
	bh=ORrMcvf4fmQew4QBvqqPX7hu0X/B5DLtHvYTpZWx2E4=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=YKFjszguLcKq545UFxSR4LPY8VK8TjMwEa/e01HnuDYlbxnsWCU7Ca9HUKZehJ123
	 fruV/DT+LWlmwHezB4RBtClp4qx3LG2fNsIyJWxvlXaIyXFwxT5Q3kDQhei+xvbGiY
	 cf7YLeBhhH+5kqMNfFicAdIl30yMadEbjfX3ZxfbT5SE8cXr/hHHacLPno9U5P5AMt
	 68+oRHceYANj2bl3TDpjVEnEROxm8TaV+eXGhGFwtmkILFa9PTvAkRojGEXlc32Qef
	 Lpv2h7E/NK/0wUcPjZepaiWVoTifqNYgQBi8PPVL+11XQ0/3gEJrgDhSp+rmP6I7Dd
	 d/3wRFInGofpQ==

Not just for that, but to make it easier for people
to use it... Seems stable enough that making it a
bundled module makes sense.

> On Jan 13, 2016, at 9:43 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>=20
>=20
>=20
> On 01/13/2016 01:33 PM, Jim Jagielski wrote:
>> Does it make sense to "officially" bundle mod_fcgid w/ httpd?
>=20
> Just for fixing the documention?
> In this case I would prefer to investigate other solutions for the =
documentation and keep it separate.
>=20
> Regards
>=20
> R=FCdiger
>=20


From dev-return-85185-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 13 16:59:30 2016
Return-Path: <dev-return-85185-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 438EC187BF
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 13 Jan 2016 16:59:30 +0000 (UTC)
Received: (qmail 96811 invoked by uid 500); 13 Jan 2016 16:59:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 96737 invoked by uid 500); 13 Jan 2016 16:59:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 96727 invoked by uid 99); 13 Jan 2016 16:59:29 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Jan 2016 16:59:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 2DC2CC17A1
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 16:59:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.996
X-Spam-Level:
X-Spam-Status: No, score=0.996 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, KAM_INFOUSMEBIZ=0.75,
	RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, UNPARSEABLE_RELAY=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id PmsPQurlblA5 for <dev@httpd.apache.org>;
	Wed, 13 Jan 2016 16:59:26 +0000 (UTC)
Received: from mx.lenk.info (mail.lenk.info [188.40.85.232])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 909302156B
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 16:59:26 +0000 (UTC)
Received: from [192.168.77.232] (port=37938 helo=mailstore.lenk.local)
	by mx.lenk.info with esmtp (Exim 4.82_1-5b7a7c0-XX)
	(envelope-from <micha@lenk.info>)
	id 1aJOlN-0002BK-04
	for dev@httpd.apache.org; Wed, 13 Jan 2016 17:59:13 +0100
Received: from webmail.lenk.info (localhost [IPv6:::1])
	by mailstore.lenk.local (Postfix) with ESMTP id 1FA871A0E6
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 17:59:12 +0100 (CET)
Received: from jhI7GQurNxdGFX6FUZY9tXhGbODhmc3jOdnzpsJftH4=
 (JtyFofU6GAPb8k7CtATH94KTtSL8PHMT)
 by mail.lenk.info
 with HTTP (HTTP/1.1 POST); Wed, 13 Jan 2016 17:59:12 +0100
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII;
 format=flowed
Content-Transfer-Encoding: 7bit
Date: Wed, 13 Jan 2016 17:59:12 +0100
From: Micha Lenk <micha@lenk.info>
To: dev@httpd.apache.org
Subject: AddOutputFilterByType in Apache 2.4 inserts filters as
 =?UTF-8?Q?AP=5FFTYPE=5FRESOURCE?=
Message-ID: <64eebd8fd16ad6b8a4a187b5d349f169@mail.lenk.info>
X-Sender: micha@lenk.info
User-Agent: Roundcube Webmail/1.0.5

Hi,

The directive AddOutputFilterByType can be used to insert filters to the 
output filter chain depending on the content type of the HTTP response. 
So far so good.

PROBLEM DESCRIPTION

I observed that the behavior of this directive changed in Apache 2.4 for 
filters. Starting with Apache 2.4 filters are inserted at an earlier 
place in the filter chain than they were inserted with Apache 2.2. For 
example, if you use the directive

     AddOutputFilterByType DEFLATE text/html

The filter is inserted with AP_FTYPE_RESOURCE, even though it was 
registered in mod_deflate.c as AP_FTYPE_SET_CONTENT.
The effect is that using "AddOutputFilterByType DEFLATE text/html" the 
resulting filter chain is ordered diferrently compared to using 
"SetOutputFilter DEFLATE".

This can be fixed in configuration by adding the following directive 
right after AddOutputFilterByType:

     FilterDeclare BYTYPE:DEFLATE CONTENT_SET

Unfortunately the order and placement of FilterDeclare seems to be 
relevant, i.e. this fix only works if FilterDeclare comes *after* 
AddOutputFilterByType within the same container.

I wonder whether this is an intentional behavior change of 
AddOutputFilterByType or not.

ANALYSIS

Apparently the filter type (ap_filter_rec_t struct member ftype) of the 
filter provider isn't respected anymore.

The intended filter type is provided when registering the output filter 
by calling ap_register_output_filter(). In branch 2.2.x this was 
sufficient, because the conditional filter (based on the MIME type) was 
added directly by name (i.e. by calling ap_add_output_filter() in 
ap_add_output_filters_by_type). In branches 2.4.x and trunk the 
implementation of AddOutputFilterByType apparently moved to mod_filter 
and a layer of indirection (the filter harness) is introduced. But the 
filter harness is apparently created unconditionally with 
AP_FTYPE_RESOURCE.

FIX APPROACH

When implicitly creating a filter harness by calling the function 
add_filter(), we have access to the provider's ap_filter_rec_t anyways. 
So I recommend to just copy it from the filter provider (e.g. DEFLATE) 
to the filter harness (e.g. BYTYPE:DEFLATE).

I've tested this approach with the patch below for a setup without any 
FilterDeclare directive, and it fixed the regression; the DEFLATE filter 
was ordered correctly at AP_FTYPE_CONTENT_SET again.

--------------------- 8>< 
--------------------------------------------------
diff --git a/modules/filters/mod_filter.c b/modules/filters/mod_filter.c
index 7b69223..5b5ecf6 100644
--- a/modules/filters/mod_filter.c
+++ b/modules/filters/mod_filter.c
@@ -444,6 +444,12 @@ static const char *add_filter(cmd_parms *cmd, void 
*CFG,
      ap_expr_info_t *node;
      const char *err = NULL;

+    /* if provider has been registered, we can look it up */
+    provider_frec = ap_get_output_filter_handle(pname);
+    if (!provider_frec) {
+        return apr_psprintf(cmd->pool, "Unknown filter provider %s", 
pname);
+    }
+
      /* fname has been declared with DeclareFilter, so we can look it up 
*/
      frec = apr_hash_get(cfg->live_filters, fname, APR_HASH_KEY_STRING);

@@ -454,17 +460,13 @@ static const char *add_filter(cmd_parms *cmd, void 
*CFG,
              return c;
          }
          frec = apr_hash_get(cfg->live_filters, fname, 
APR_HASH_KEY_STRING);
+        frec->ftype = provider_frec->ftype;
      }

      if (!frec) {
          return apr_psprintf(cmd->pool, "Undeclared smart filter %s", 
fname);
      }

-    /* if provider has been registered, we can look it up */
-    provider_frec = ap_get_output_filter_handle(pname);
-    if (!provider_frec) {
-        return apr_psprintf(cmd->pool, "Unknown filter provider %s", 
pname);
-    }
      provider = apr_palloc(cmd->pool, sizeof(ap_filter_provider_t));
      if (expr) {
          node = ap_expr_parse_cmd(cmd, expr, 0, &err, NULL);
--------------------- 8>< 
--------------------------------------------------

For setups with both, FilterDeclare and AddOutputFilterByType (as 
described above as fix), I observed some issues with properly merging 
the two filter harnesses. However, I have no clue what semantics the 
original author wanted to have in this situation.

I hope my explanations are clear enough for others to follows. If not, 
please don't hesitate to ask.

Best regards,
Micha

From dev-return-85186-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 13 17:29:06 2016
Return-Path: <dev-return-85186-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3BF4418A94
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 13 Jan 2016 17:29:06 +0000 (UTC)
Received: (qmail 54183 invoked by uid 500); 13 Jan 2016 17:29:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54115 invoked by uid 500); 13 Jan 2016 17:29:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54105 invoked by uid 99); 13 Jan 2016 17:29:05 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Jan 2016 17:29:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 52CE11A07D5
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 17:29:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.999
X-Spam-Level: **
X-Spam-Status: No, score=2.999 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=3,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 98BU8HfxfAum for <dev@httpd.apache.org>;
	Wed, 13 Jan 2016 17:28:59 +0000 (UTC)
Received: from mail-io0-f177.google.com (mail-io0-f177.google.com [209.85.223.177])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id B61E243EF6
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 17:28:58 +0000 (UTC)
Received: by mail-io0-f177.google.com with SMTP id g73so230745016ioe.3
        for <dev@httpd.apache.org>; Wed, 13 Jan 2016 09:28:58 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=eSsJtExwmf3cv2G147EoOZPhMMYv495W5Jif7L7ZDeA=;
        b=SMmzZZzvrPp0TTuKKp5H+y1ej1pWblogxdGnAC3e76jxNsJtQ/MM91KZXQ+RJvb4BU
         Q9mUQ1Te/DnwmKVF8iKGpoB5xQHUum65lzGWEZ7f6ZX4nd6zrmXcPd1b5CNqJd2bk0uA
         PMOekO8L8DA4oajEXI5LZeJJPaFXOqAGqZOAc6HvpU1NuQngySgVUAtVFqYh/DU3elhR
         PLSV+V9S/3gaiYPeQdcrhpZEgQVSA49zq73R4zLw8pUYOzj9OHo6YKXnF1TExksbUNSk
         B49jEm57+mozqY/QoHO7PmR3LMGUroJo5Hu1jwfPR1KpdprfWqCLUwvch7i2JZpCleg/
         5Rvg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=eSsJtExwmf3cv2G147EoOZPhMMYv495W5Jif7L7ZDeA=;
        b=DOig8EWnifisEWJwOrP/+jlQJRPfjwL79Z++uWK/TwCcfC8OegO0uvkGIVLcZSZJ/w
         DEVbbhKUgQYd1O6WbJLnWRsbBGW2k6uegU+YsffaxLcB8Gp9R6KXHRXeXpr8g0V3ihHK
         QnSlic0v1bBH/pHUuCVUB/evL0dkgKqY4untzPLkmWzuOG8twqCAXjj6DpaW/QAW3dz8
         pvd0Cj738LrzxMhM/8DeaDORkOhe5NtY17upFaT3KdjSTbfojfBdO5gAodAfvBUwvUDq
         Enn0Q6/OeeIo8kTWJLsRFkbzAAlXERJqrFogzbm8FNyeNCMutY6+Lrtugra0uBU4oyKc
         EGtw==
X-Gm-Message-State: ALoCoQmF44wCmUQ6AlyBNR5XmBTx8DIC9YgFruwMRzNTzDoElqNKcnHbhCXaC+DEBB37N5N4iHz01yvWik2xREt6bROHlRup/72pveK+fDIX3gvy4JASrSA=
MIME-Version: 1.0
X-Received: by 10.107.34.133 with SMTP id i127mr58317ioi.150.1452706138260;
 Wed, 13 Jan 2016 09:28:58 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Wed, 13 Jan 2016 09:28:58 -0800 (PST)
In-Reply-To: <56954235.2010707@rcbowen.com>
References: <56954235.2010707@rcbowen.com>
Date: Wed, 13 Jan 2016 11:28:58 -0600
Message-ID: <CACsi251SHdyRggdaYXSe3DwMwwoCrOgS6qoBZYT3MY+6L+hzOw@mail.gmail.com>
Subject: Re: mod_fcgid and broken doc links
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1140ef8455a1e305293a81c4

--001a1140ef8455a1e305293a81c4
Content-Type: text/plain; charset=UTF-8

On Tue, Jan 12, 2016 at 12:13 PM, Rich Bowen <rbowen@rcbowen.com> wrote:

> mod_fcgid is in a separate repo from the main httpd tree, due to
> historical reasons. I presume there are good reasons for this. JimJag
> suggested on IRC it's due to its independent release cycle.
>
> Be that as it may, because it uses the standard documentation tools for
> the module docs, https://httpd.apache.org/mod_fcgid/mod/mod_fcgid.html
> is full of broken links. In particular, try any of the directive and
> links to other modules - try the mod_cgi or AddHandler links in the
> intro paragraph, and you'll see immediately what the problem is.
>
> Now, we could of course have a separate version of the docs building
> tools just for this module, or we could patch the doc manually, but I
> was wondering, if there's no strong current reason for the module to be
> kept separate, can we please move it into the main httpd tree?
>

The reason for mod_ftp and mod_fcgid separate builds was historically
that the same module, releasing on a different calendar than httpd, have
been build-able independently against 2.0, 2.2 or 2.4.  Maintaining the
sources across the different branches was also something of a PITA.

Maybe more significantly, mod_proxy_fcgi was our 'adopted' solution
to the fcgi case.  mod_fcgid is a different beast with process pool
management. I was always under the impression that for 2.4 and later,
we collectively wanted to express process pools independently of the
mod_proxy_fcgi structure, much like we and tomcat would love to see
folks use mod_proxy_http or _ajp rather than mod_jk.

mod_ftp clearly isn't http:// so it never quite felt appropriate in that
tree, but then again neither is mod_proxy_ajp :)  Which goes to the
gist of it all, code bloat.  We've successfully only killed a tiny handful
of modules in our entire history (imagemap, mem_cache etc).
So once merge to trunk, we own that code bloat for a very long time,
but if it exists separate these can be enhanced or retired based on
our desires.  E.g. if mod_aspdotnet had lived in modules/os/win32/
we would still probably be shipping it, irrespective of how out of date
that module becomes.

I can see us moving those modules into trunk (not 2.4), retaining the
mmn tests for 2.2 and 2.4 compat, and then deriving an fcgid release
out of trunk/modules/fcgid/.  But I'm not clear why we would want to
maintain the duplication between mod_proxy_fcgi and mod_fcgid?
Individually they get little enough attention as it is.

Just my 2c USD, I'm open to ideas.

--001a1140ef8455a1e305293a81c4
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
ue, Jan 12, 2016 at 12:13 PM, Rich Bowen <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:rbowen@rcbowen.com" target=3D"_blank">rbowen@rcbowen.com</a>&gt;</spa=
n> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;b=
order-left:1px #ccc solid;padding-left:1ex">mod_fcgid is in a separate repo=
 from the main httpd tree, due to<br>
historical reasons. I presume there are good reasons for this. JimJag<br>
suggested on IRC it&#39;s due to its independent release cycle.<br>
<br>
Be that as it may, because it uses the standard documentation tools for<br>
the module docs, <a href=3D"https://httpd.apache.org/mod_fcgid/mod/mod_fcgi=
d.html" rel=3D"noreferrer" target=3D"_blank">https://httpd.apache.org/mod_f=
cgid/mod/mod_fcgid.html</a><br>
is full of broken links. In particular, try any of the directive and<br>
links to other modules - try the mod_cgi or AddHandler links in the<br>
intro paragraph, and you&#39;ll see immediately what the problem is.<br>
<br>
Now, we could of course have a separate version of the docs building<br>
tools just for this module, or we could patch the doc manually, but I<br>
was wondering, if there&#39;s no strong current reason for the module to be=
<br>
kept separate, can we please move it into the main httpd tree?<br></blockqu=
ote><div><br></div><div>The reason for mod_ftp and mod_fcgid separate build=
s was historically</div><div>that the same module, releasing on a different=
 calendar than httpd, have</div><div>been build-able independently against =
2.0, 2.2 or 2.4.=C2=A0 Maintaining the=C2=A0</div><div>sources across the d=
ifferent branches was also something of a PITA.</div><div><br></div><div>Ma=
ybe more significantly, mod_proxy_fcgi was our &#39;adopted&#39; solution=
=C2=A0</div><div>to the fcgi case. =C2=A0mod_fcgid is a different beast wit=
h process pool=C2=A0</div><div>management. I was always under the impressio=
n that for 2.4 and later,=C2=A0</div><div>we collectively wanted to express=
 process pools independently of the</div><div>mod_proxy_fcgi structure, muc=
h like we and tomcat would love to see</div><div>folks use mod_proxy_http o=
r _ajp rather than mod_jk.</div><div><br></div><div>mod_ftp clearly isn&#39=
;t http:// so it never quite felt appropriate in that</div><div>tree, but t=
hen again neither is mod_proxy_ajp :) =C2=A0Which goes to the</div><div>gis=
t of it all, code bloat.=C2=A0 We&#39;ve successfully only killed a tiny ha=
ndful</div><div>of modules in our entire history (imagemap, mem_cache etc).=
 =C2=A0</div><div>So once merge to trunk, we own that code bloat for a very=
 long time,</div><div>but if it exists separate these can be enhanced or re=
tired based on</div><div>our desires.=C2=A0 E.g. if mod_aspdotnet had lived=
 in modules/os/win32/</div><div>we would still probably be shipping it, irr=
espective of how out of date</div><div>that module becomes.</div><div><br><=
/div><div>I can see us moving those modules into trunk (not 2.4), retaining=
 the</div><div>mmn tests for 2.2 and 2.4 compat, and then deriving an fcgid=
 release</div><div>out of trunk/modules/fcgid/.=C2=A0 But I&#39;m not clear=
 why we would want to</div><div>maintain the duplication between mod_proxy_=
fcgi and mod_fcgid?</div><div>Individually they get little enough attention=
 as it is.</div><div><br></div><div>Just my 2c USD, I&#39;m open to ideas.<=
/div><div><br></div></div></div></div>

--001a1140ef8455a1e305293a81c4--

From dev-return-85187-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 13 21:44:23 2016
Return-Path: <dev-return-85187-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EA2D6187D9
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 13 Jan 2016 21:44:22 +0000 (UTC)
Received: (qmail 58080 invoked by uid 500); 13 Jan 2016 21:44:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57995 invoked by uid 500); 13 Jan 2016 21:44:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57986 invoked by uid 99); 13 Jan 2016 21:44:22 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Jan 2016 21:44:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id DC949C17A1
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 21:44:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.363
X-Spam-Level: *
X-Spam-Status: No, score=1.363 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RDNS_DYNAMIC=0.363]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id BeuKSjBxzVib for <dev@httpd.apache.org>;
	Wed, 13 Jan 2016 21:44:21 +0000 (UTC)
Received: from gungnir.webthing.com (209-20-83-52.slicehost.net [209.20.83.52])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 86D6E2156B
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 21:44:20 +0000 (UTC)
Received: from [192.168.0.127] (cpc36-newt30-2-0-cust898.19-3.cable.virginm.net [82.32.195.131])
	by gungnir.webthing.com (Postfix) with ESMTPSA id 518EC128459
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 21:44:13 +0000 (UTC)
Message-ID: <1452721451.3884.20.camel@mimir.webthing.com>
Subject: Re: AddOutputFilterByType in Apache 2.4 inserts filters as
 AP_FTYPE_RESOURCE
From: Nick Kew <niq@apache.org>
To: dev@httpd.apache.org
Date: Wed, 13 Jan 2016 21:44:11 +0000
In-Reply-To: <64eebd8fd16ad6b8a4a187b5d349f169@mail.lenk.info>
References: <64eebd8fd16ad6b8a4a187b5d349f169@mail.lenk.info>
Content-Type: text/plain; charset="UTF-8"
X-Mailer: Evolution 3.4.4-3 
Mime-Version: 1.0
Content-Transfer-Encoding: 7bit

On Wed, 2016-01-13 at 17:59 +0100, Micha Lenk wrote:
> Hi,
> 
> The directive AddOutputFilterByType can be used to insert filters to the 
> output filter chain depending on the content type of the HTTP response. 
> So far so good.
> 
> PROBLEM DESCRIPTION

This is probably worth a bugzilla entry.

I think I can clarify a little of what's happened.
AddOutputFilterByType was something of a hacked afterthought
to filtering back in the days of httpd 2.0.  On the one hand,
it met a need.  On the other hand, it worked only in a very
limited range of situations where the content type was known
at the time the filter was to be added.  It had no capacity
to respond to other aspects of the content, or indeed the
request/response.  And there were other issues.

Then came mod_filter and a generalised framework.
AddOutputFilterByType was now obsolete, but too widely-used
to dispense with entirely.  As a compromise it was re-implemented
within mod_filter, where it could co-exist with other dynamic
filter configuration.

Your observation tells us the semantics aren't quite compatible.
And your patch looks good - thanks.

-- 
Nick Kew


From dev-return-85188-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 13 21:50:31 2016
Return-Path: <dev-return-85188-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 269CD18813
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 13 Jan 2016 21:50:31 +0000 (UTC)
Received: (qmail 73320 invoked by uid 500); 13 Jan 2016 21:50:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 73253 invoked by uid 500); 13 Jan 2016 21:50:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 73243 invoked by uid 99); 13 Jan 2016 21:50:30 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Jan 2016 21:50:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 157F81A06EA
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 21:50:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rcbowen-com.20150623.gappssmtp.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 9WyPrSJytj0F for <dev@httpd.apache.org>;
	Wed, 13 Jan 2016 21:50:20 +0000 (UTC)
Received: from mail-qk0-f172.google.com (mail-qk0-f172.google.com [209.85.220.172])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 58599206A7
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 21:50:20 +0000 (UTC)
Received: by mail-qk0-f172.google.com with SMTP id y67so9441708qkc.2
        for <dev@httpd.apache.org>; Wed, 13 Jan 2016 13:50:20 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rcbowen-com.20150623.gappssmtp.com; s=20150623;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-type:content-transfer-encoding;
        bh=uBmg+1ORAh7YLNLIy/KZ08U/tGyY8VxJVE9onfh9yI8=;
        b=DpLNlfRw/600E02LSTxKMQB3OwdkNYQuErmLEOhFruIYAfBQecXLuJZN1NFMtHJRFL
         oUxgK3M1Vtg+roxEubORBuO3k2aOnaLFY+BV2DNCShk5lQ+g2+lovrZEhgQVJI57RIPt
         BTfAgboEHvaTK1PV3K96lyC6QViQdMbHXD69nhMMFPWneqya3NK/MRuXz5X3DHnvtSGx
         lSW4IYTvifya86YPwIKDRBKfSsZh1DcbgDJOY5FNPJJQaEAduMyWTvB4MeBe5NF8Hj71
         JtU7VXQvjA4qIx7fLyxAE4LYOqyNAiX06q/X7DsqME7qDW92pBimEiX4h7JMKFvp0u0D
         Nd2A==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:subject:to:references:from:message-id:date
         :user-agent:mime-version:in-reply-to:content-type
         :content-transfer-encoding;
        bh=uBmg+1ORAh7YLNLIy/KZ08U/tGyY8VxJVE9onfh9yI8=;
        b=f1PuhcQCM0ydJdz6lWyydQHddYFK6S/RXZS33c6FfvE+0P2RJoyfb//h6T5mooi7/f
         tiX+bAHMyXAV7u+9+0sYHW18xJ4XCYk72jaL+jlVj+xlwXI9VOCRrgtb/56Q+4rKQ85d
         nzW3Lqy+9AU5RDnPNQPzJLkpj/KhKhn4K8khdOJShr6deUfMvDbC6aYuwUqhgdGbqhRg
         LilrnIeL9vaO8MHGuo+WG5Ltl3gRbs+h2WDI9v2tRF28eDHZM8KDZo88WKlVhBnOg5+4
         s0wq2TZOyKhMBB+dWR+aKbHb+s9fuD3/GapksuVn6tcvFe3HYPHhFTHEVA3R7ZKi/3lT
         CrNQ==
X-Gm-Message-State: ALoCoQlzaGxpaU/QIj8XnHZDtWeLXFKdABYtcmDE9aeiehabkB7EL43NtAD/vAmoFhbvDDDrvkKqCPHg+H06H9W/jrWEnY0Qug==
X-Received: by 10.55.77.148 with SMTP id a142mr704045qkb.44.1452721819407;
        Wed, 13 Jan 2016 13:50:19 -0800 (PST)
Received: from [192.168.0.214] (cpe-74-138-23-246.kya.res.rr.com. [74.138.23.246])
        by smtp.googlemail.com with ESMTPSA id f3sm1269413qge.44.2016.01.13.13.50.16
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Wed, 13 Jan 2016 13:50:17 -0800 (PST)
Subject: Re: mod_fcgid and broken doc links
To: dev@httpd.apache.org
References: <56954235.2010707@rcbowen.com>
 <CACsi251SHdyRggdaYXSe3DwMwwoCrOgS6qoBZYT3MY+6L+hzOw@mail.gmail.com>
From: Rich Bowen <rbowen@rcbowen.com>
X-Enigmail-Draft-Status: N1110
Message-ID: <5696C696.2030803@rcbowen.com>
Date: Wed, 13 Jan 2016 16:50:14 -0500
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.4.0
MIME-Version: 1.0
In-Reply-To: <CACsi251SHdyRggdaYXSe3DwMwwoCrOgS6qoBZYT3MY+6L+hzOw@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit



On 01/13/2016 12:28 PM, William A Rowe Jr wrote:

> The reason for mod_ftp and mod_fcgid separate builds was historically
> that the same module, releasing on a different calendar than httpd, have
> been build-able independently against 2.0, 2.2 or 2.4.  Maintaining the 
> sources across the different branches was also something of a PITA.
> 
> Maybe more significantly, mod_proxy_fcgi was our 'adopted' solution 
> to the fcgi case.  mod_fcgid is a different beast with process pool 
> management. I was always under the impression that for 2.4 and later, 
> we collectively wanted to express process pools independently of the
> mod_proxy_fcgi structure, much like we and tomcat would love to see
> folks use mod_proxy_http or _ajp rather than mod_jk.
> 
> mod_ftp clearly isn't http:// so it never quite felt appropriate in that
> tree, but then again neither is mod_proxy_ajp :)  Which goes to the
> gist of it all, code bloat.  We've successfully only killed a tiny handful
> of modules in our entire history (imagemap, mem_cache etc). 

mod_imagemap still lives on in trunk. As does mod_cern_meta.

Point taken.

> So once merge to trunk, we own that code bloat for a very long time,
> but if it exists separate these can be enhanced or retired based on
> our desires.  E.g. if mod_aspdotnet had lived in modules/os/win32/
> we would still probably be shipping it, irrespective of how out of date
> that module becomes.
> 
> I can see us moving those modules into trunk (not 2.4), retaining the
> mmn tests for 2.2 and 2.4 compat, and then deriving an fcgid release
> out of trunk/modules/fcgid/.  But I'm not clear why we would want to
> maintain the duplication between mod_proxy_fcgi and mod_fcgid?
> Individually they get little enough attention as it is.

Yes, it would be nice to merge them, from the perspective of explaining
things to users.

-- 
Rich Bowen - rbowen@rcbowen.com - @rbowen
http://apachecon.com/ - @apachecon

From dev-return-85189-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 13 23:19:18 2016
Return-Path: <dev-return-85189-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 990DC18D19
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 13 Jan 2016 23:19:18 +0000 (UTC)
Received: (qmail 44015 invoked by uid 500); 13 Jan 2016 23:19:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 43908 invoked by uid 500); 13 Jan 2016 23:19:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 43897 invoked by uid 99); 13 Jan 2016 23:19:18 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Jan 2016 23:19:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 7DEFBC1E28
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 23:19:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.999
X-Spam-Level: **
X-Spam-Status: No, score=2.999 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=3,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id cmAe1OxeHfmn for <dev@httpd.apache.org>;
	Wed, 13 Jan 2016 23:19:11 +0000 (UTC)
Received: from mail-ig0-f175.google.com (mail-ig0-f175.google.com [209.85.213.175])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 485F624C11
	for <dev@httpd.apache.org>; Wed, 13 Jan 2016 23:19:10 +0000 (UTC)
Received: by mail-ig0-f175.google.com with SMTP id t15so157806249igr.0
        for <dev@httpd.apache.org>; Wed, 13 Jan 2016 15:19:10 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=I7I6KllAh8XbJdT8JmWg68usdEg8Ty7ZPGWrYBC5WDU=;
        b=UqOgymT4cBcJ3VDIXTjE+yr6Ca8jJjtKPMb2MEgOFnLQ2KXtPpeedZ68hoo98bw/ws
         WdfHXEE5ozPfcdN7rhpAIHA9GD1dEWGnjyyRNDcqevmxdgUCQo+rldprfkecO+qBVpYY
         jublTWIuFEFUy4bN8Of+nTDpUmx3nOzrkNGbEdQlYkqS1Oh1J1xfA+edPBU+rCcXSnMe
         cYzycsNr2wCubmojNpFcq9E3biAXh/6B+nCrU0kuRaqckrZj/5x9+xTl2rU964s6ZcHg
         GAs7LNGRPi6yNLYOv1FklpdCIDYoq8tQCFpJginp0GcR+2AdyulyeE9O7V3As+ELPxta
         qKQw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=I7I6KllAh8XbJdT8JmWg68usdEg8Ty7ZPGWrYBC5WDU=;
        b=OkjSOSV2YbWzd1AhfTWWkzosQ5qTSI1axhR/FPdzdqwp0/rh0ycGJ+3j9SlL8j9pOI
         BjmWUogJk6wzQxq4eIClc+IQJaFjy2JePY5LBq2PqGdLosKeGneKosirAWuqqDBn+8ZM
         IeFMygQfkQ0M5xI2tNmit1NU2dA2tkwWfALRpaVfGLYNqjskl44I6Xv+6TUipJF+Eu1N
         rCq43JHMGBYjXa7IIb84zXJyBKiVXPvy17W+f9fj/U6vrYOsqUoIvWhpTQQaXjeJ9ED0
         G472n4xMhkpNYRJert4HmDUX7xrqCnpOwOz1FRLyjslG7TUY5N6x/F85pSSYtQhPQE1B
         W2bQ==
X-Gm-Message-State: ALoCoQkKksfYG1lBTWVR/wXP6C8udluxl+tBQIZMV2PSW1DDcgBJ6TOMWq4AOTds1n34snQ0cT9bgXGvSGydtEPQ/91rx71ZcMWvvSG3B2Oq0QqVvG46MjU=
MIME-Version: 1.0
X-Received: by 10.50.4.38 with SMTP id h6mr1415464igh.32.1452727149209; Wed,
 13 Jan 2016 15:19:09 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Wed, 13 Jan 2016 15:19:09 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Wed, 13 Jan 2016 15:19:09 -0800 (PST)
In-Reply-To: <5696C696.2030803@rcbowen.com>
References: <56954235.2010707@rcbowen.com>
	<CACsi251SHdyRggdaYXSe3DwMwwoCrOgS6qoBZYT3MY+6L+hzOw@mail.gmail.com>
	<5696C696.2030803@rcbowen.com>
Date: Wed, 13 Jan 2016 17:19:09 -0600
Message-ID: <CACsi252czYzKzpszvSmHqS7xXjDsuUfTxwwN-a90D-xo63DBBw@mail.gmail.com>
Subject: Re: mod_fcgid and broken doc links
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11c31322af4ede05293f65d3

--001a11c31322af4ede05293f65d3
Content-Type: text/plain; charset=UTF-8

On Jan 13, 2016 15:50, "Rich Bowen" <rbowen@rcbowen.com> wrote:
>
> Yes, it would be nice to merge them, from the perspective of explaining
> things to users.

Guess I am still confused what you suggest to merge... Docs or both docs
and code...

Also curious about released vs unreleased with respect to docs.  Our
pointers and resources for developers mostly live under
http://httpd.a.o/dev/ per ASF policy, but docs is an exception.  We are
supposed to be pointing users at the released artifacts, and not at
unreleased drafts.

Even http://httpd.apache.org/docs/dev/  might be clearer than trunk/ for
those who stumble upon them.

Thoughts?

--001a11c31322af4ede05293f65d3
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">On Jan 13, 2016 15:50, &quot;Rich Bowen&quot; &lt;<a href=3D=
"mailto:rbowen@rcbowen.com">rbowen@rcbowen.com</a>&gt; wrote:<br>
&gt;<br>
&gt; Yes, it would be nice to merge them, from the perspective of explainin=
g<br>
&gt; things to users.</p>
<p dir=3D"ltr">Guess I am still confused what you suggest to merge... Docs =
or both docs and code...</p>
<p dir=3D"ltr">Also curious about released vs unreleased with respect to do=
cs.=C2=A0 Our pointers and resources for developers mostly live under <a hr=
ef=3D"http://httpd.a.o/dev/">http://httpd.a.o/dev/</a> per ASF policy, but =
docs is an exception.=C2=A0 We are supposed to be pointing users at the rel=
eased artifacts, and not at unreleased drafts.</p>
<p dir=3D"ltr">Even <a href=3D"http://httpd.apache.org/docs/dev/">http://ht=
tpd.apache.org/docs/dev/</a>=C2=A0 might be clearer than trunk/ for those w=
ho stumble upon them.</p>
<p dir=3D"ltr">Thoughts?</p>

--001a11c31322af4ede05293f65d3--

From dev-return-85190-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 14 08:25:27 2016
Return-Path: <dev-return-85190-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7656818032
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 14 Jan 2016 08:25:27 +0000 (UTC)
Received: (qmail 83099 invoked by uid 500); 14 Jan 2016 08:25:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 82931 invoked by uid 500); 14 Jan 2016 08:25:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82910 invoked by uid 99); 14 Jan 2016 08:25:26 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Jan 2016 08:25:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id F124D1A0510;
	Thu, 14 Jan 2016 08:25:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id juILQXQ1rvvd; Thu, 14 Jan 2016 08:25:17 +0000 (UTC)
Received: from mail-qk0-f179.google.com (mail-qk0-f179.google.com [209.85.220.179])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 71ECF2314A;
	Thu, 14 Jan 2016 08:25:17 +0000 (UTC)
Received: by mail-qk0-f179.google.com with SMTP id y67so19859664qkc.2;
        Thu, 14 Jan 2016 00:25:17 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=UZvj4qQP0QOyXJBYkWbH/tjCqeVE5Ez4Wl6IBGS8I3M=;
        b=Di2EOWJjV4qovXWhLxeUHmQHEAxgHx11jkvRJI/4HUOtgIUgvJ/6rEqYCB/GOyNEUM
         qQ+U/9VWCMSFBdbuopDFaLLoh0xtLQHuvNrNvjf4tKVdEYCfxsV3XsMEx4UNWsAvEPzf
         rUDDUagalDM7K037M8deehBVPyrLFd0tvIkjOe425f0hIGfaTyCpx/fWMMQ+RucaA21+
         2TCuQhLZSbNwrTEx0XOlZLoR0qjr+PFdl7AgIPxd2RoPkwSPDgSW33cnBfY/BmoFES91
         3kjLhbgXA0pl7J+yp3G8jnOx62oDTl4a8x//k1HrltLiEfP2qTt81Acsy0QD3IpoGMBo
         +UoQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=UZvj4qQP0QOyXJBYkWbH/tjCqeVE5Ez4Wl6IBGS8I3M=;
        b=jzLmqEX0zwj4gc92joeSbJVlZmKQXv7iu3tA4xvYOoo4OcJ9JkAea8uIc7U6eaCZRk
         LTvbsQYg21iqGl7b9h6WXb1MPKKE855jOW1h2rA5aXohSifjuv4c8IKText/mXv5UJcU
         V3SKDB5QGgfLwcpAwonpqWMOrdWOQPJ967vo3Z/D0MCALl/rEmkxmCSP/nxhLaZrC3Vi
         uIVpXesol5VQFyvYkJD6UwyeKc7FV1Wf9rFb03beXtDFisUG0yuMo2HvKUrry+tLXl8n
         p1ZL7yOUeoua3+DPTf9MoYJx5YEoMfZqb4n5N39PvhvaLrmQJM4Mf7gEu3D2VgGikmsC
         0c+w==
X-Gm-Message-State: ALoCoQkqTF0qlaA4Qz68fIoCXs9nHs2XaRavfDsJhkYwpLIMvJlJ0nCQC76DzuIAvL1igMqSKEhMKKhb9ajoTulx2ErG51P7Ig==
MIME-Version: 1.0
X-Received: by 10.55.73.68 with SMTP id w65mr3399836qka.68.1452759916369; Thu,
 14 Jan 2016 00:25:16 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Thu, 14 Jan 2016 00:25:16 -0800 (PST)
In-Reply-To: <5696F0D8.40002@blenning.no>
References: <bug-55808-56585@https.bz.apache.org/bugzilla/>
	<bug-55808-56585-wzfMd0JVSx@https.bz.apache.org/bugzilla/>
	<5696D835.5050904@blenning.no>
	<CAKQ1sVMU=o24Rrw5zF2oLozgyqMFn5DZKAJbJVOLot+4nX4iBA@mail.gmail.com>
	<5696E637.3080501@blenning.no>
	<CAKQ1sVM2jN=aKaiD20+dR78EUnfKSwKU5GCcB-+ipnx5dj8QqA@mail.gmail.com>
	<5696F0D8.40002@blenning.no>
Date: Thu, 14 Jan 2016 09:25:16 +0100
Message-ID: <CAKQ1sVP8FSa8vu4uxEkSTYn7skVSajGJmM0zzLwKobJ3yRCsTg@mail.gmail.com>
Subject: Re: [Bug 55808] File integrity verification using MD5 and SHA1
From: Yann Ylavic <ylavic.dev@gmail.com>
To: docs@httpd.apache.org, httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

[cross posting @docs => @dev, full thread
http://www.gossamer-threads.com/lists/apache/docs/453401]

On Thu, Jan 14, 2016 at 1:50 AM, Tom Fredrik Blenning Klaussen
<bfg@blenning.no> wrote:
>
> On 14/01/16 01:19, Yann Ylavic wrote:
>>
>> as I said earlier, the way you access the
>> tarball is not that important provided you verify its signature, or
>> its digests from the official repository only.
>
> I understand what you are saying that the proper way is to download
> the checksums from the correct source, which is self-evident. Now
> assume you're a new user, and do not have this previous knowledge.
> This user is security conscious, so the user chooses https on purpose.
> He would go into (https://httpd.apache.org), where he would find a
> link taking him to (https://httpd.apache.org/download.cgi), at this
> point, he would find the link to (http://www.apache.org/dist/httpd/),
> what I'm saying is in order to have some trust in that link, it
> _SHOULD_ be https otherwise assuming you could introduce yourself as a
> MitM, manipulating the signatures would be trivial.

OK, I thought the links to the MD5/SH1/PGP were https: but this is not the case.
I agree that the origin of these files should be trustable.

@dev: should I s/http:/https:/ for those links (only) in
^httpd/site/trunk/content/download.mdtext?
Or possibly use paths instead (i.e. /dist/httpd/...) so that it
depends on /download.cgi is accessed?
Would that be enough for the prod to be updated (via staging)?

Regards,
Yann.

From dev-return-85191-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 14 08:38:39 2016
Return-Path: <dev-return-85191-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 80268180C4
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 14 Jan 2016 08:38:39 +0000 (UTC)
Received: (qmail 8663 invoked by uid 500); 14 Jan 2016 08:38:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 8592 invoked by uid 500); 14 Jan 2016 08:38:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 8583 invoked by uid 99); 14 Jan 2016 08:38:38 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Jan 2016 08:38:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 84F1CC0D4C
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 08:38:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id DfSd70xiXSoH for <dev@httpd.apache.org>;
	Thu, 14 Jan 2016 08:38:37 +0000 (UTC)
Received: from jiboia.ensmp.fr (jiboia.ensmp.fr [194.214.158.137])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 554BD428ED
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 08:38:37 +0000 (UTC)
Received: from cri.ensmp.fr (nat-any-rnt.cri.ensmp.fr [195.83.117.252])
	(authenticated bits=0)
	by jiboia.ensmp.fr (8.15.2/8.15.1/JMMC-22/Oct/2013) with ESMTPSA id u0E8cRdY004168
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 09:38:30 +0100
Date: Thu, 14 Jan 2016 09:38:25 +0100 (CET)
From: Fabien <fabien@apache.org>
X-X-Sender: fabien@sto
To: APACHE development mailing list <dev@httpd.apache.org>
Subject: Re: access control for dynamic hosts
In-Reply-To: <alpine.DEB.2.10.1512200931040.29581@sto>
Message-ID: <alpine.DEB.2.10.1601140936560.28426@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto>
User-Agent: Alpine 2.10 (DEB 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Miltered: at jiboia.ensmp.fr with ID 56975E83.000 by Joe's j-chkmail (http : // j-chkmail dot ensmp dot fr)!
X-j-chkmail-Auth: USER-ID fabien.coelho
X-j-chkmail-Enveloppe: 56975E83.000 from nat-any-rnt.cri.ensmp.fr/nat-any-rnt.cri.ensmp.fr/195.83.117.252/cri.ensmp.fr/<fabien@apache.org>


Hello Apache devs,

Would anyone have an opinion, please?

Although I can just commit the proposed changes, a formal go would be 
nice.

On Sun, 20 Dec 2015, Fabien wrote:

> Date: Sun, 20 Dec 2015 09:44:55 +0100 (CET)
> From: Fabien <fabien@apache.org>
> Reply-To: dev@httpd.apache.org
> To: APACHE development mailing list <dev@httpd.apache.org>
> Subject: access control for dynamic hosts
> 
>
> Hello folks,
>
> I have a simple access control use case for which I have not found a clean 
> solution.
>
> I want to control access to a service based on the name of the client, 
> however the client is a dynamic host, which implies that:
>
> (1) I do not have any control about the reverse DNS
>     => this rules out "Require host"
>
> (2) the IP may change arbitrarily
>     => this rules out "Require ip"
>
> By browsing around it seems that I'm not alone having this issue, and I have 
> not found any solution for that with apache configuration, nor a matching 
> module in "modules.apache.org" listing.
>
> The current workaround is to update the IP manually when it fails. Although I 
> could automate (say query the ip periodically and update & reload the conf if 
> there is a change), ISTM that it really belongs to apache configuration.
>
> I would like something like "Require XXX foo.dynamic-dns.somewhere" (where 
> XXX could be "name", "hostname", "dynamic", ...) which would query the NS 
> when the HTTP request is received and check that the corresponding ip is the 
> client IP.
>
> I'm planing to develop a small module for that, and as it is somehow quite a 
> basic service it could be a candidate for being added to 
> "modules/aaa/mod_authz_host.c".
>
> Another approach could be to extend apache expressions with a function
> to query the DNS, but that seems a little overkill.
>
> Any thoughts?
>
>

-- 
Fabien.

From dev-return-85192-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 14 09:07:37 2016
Return-Path: <dev-return-85192-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DF25218216
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 14 Jan 2016 09:07:37 +0000 (UTC)
Received: (qmail 68286 invoked by uid 500); 14 Jan 2016 09:07:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68218 invoked by uid 500); 14 Jan 2016 09:07:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68208 invoked by uid 99); 14 Jan 2016 09:07:37 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Jan 2016 09:07:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C48A41A05B8
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 09:07:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id febLBeidHoYt for <dev@httpd.apache.org>;
	Thu, 14 Jan 2016 09:07:35 +0000 (UTC)
Received: from mail-wm0-f43.google.com (mail-wm0-f43.google.com [74.125.82.43])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2B6D431AE9
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 09:07:35 +0000 (UTC)
Received: by mail-wm0-f43.google.com with SMTP id l65so331409050wmf.1
        for <dev@httpd.apache.org>; Thu, 14 Jan 2016 01:07:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=njGoTvyyzh5CfHzvl2VjBjY6sWZNXbqPIuaJHJjrFeo=;
        b=yXBIm0e6O5OHQfgYJGAydY8Kp1udUHyI8pYCUtDx2H2t5eoTEgQvYzoGsguVcnDSXD
         JTo/+/3bgg61UVBXn3UiB8pB3Ksvo8xXjauFBNPxD9ItyPgPzJD/LESg5y9hk/7LkbZe
         d9zgaTOtwylg1qmZ9M4PsX+jj3xWF61qd/M3W6uaSD3YEUWUsIKVBO0ntyXYUPzer6YS
         km3/5HPp+Jvt1ADkTEhcztd9ZiZHLuyMYc5scWK2fKKMYB+1s9xOF7cxNRzRYZY7SSqU
         0QYwwQUVbUzYnPBVoeBxcUMit9W59sAoNWjfeM+ISoaO4+KEV9KTZlobt1zTQI+CgC1J
         zJFw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=njGoTvyyzh5CfHzvl2VjBjY6sWZNXbqPIuaJHJjrFeo=;
        b=NjBA15svimHAbZMNehf5l+GixiV/M3t0WldFRbRi9k2Ogoq0YAM5f97IyVYDEh3K6Y
         wLgj1/sN4BlIbwEaRGqASoPCPwwTVc/h1xqgbOjLMAej0Z9qBAMMj48EfMSx9NmcoPfM
         BPllw3r7XtOIvvh1pMTYjPPHlez1fqHRt0ZLrpDuzr9z5g/oc7mnIMWheWzYQBzDSqml
         N3iQ4cEvjug9VGjJLJiaypAXCsFaTmqcQX6UiPvCG9Z9Hmmi1qKLABI2zYO3w7gGxuNn
         r3qokBPkzAZSroDYSUpwUrMkYxXZi73mkRaehKSngpOxDHLB5KyABtCxI7x4K2KhI8eu
         nt+w==
X-Gm-Message-State: ALoCoQndeDwbct8kbnYLNWM4mA8dnCU5sjuQlI+jZKptblJXYsju4X1ensnxAm7XvWtn37aupeo38Hw/fZio7vD4rDISk3UVzw==
MIME-Version: 1.0
X-Received: by 10.28.97.135 with SMTP id v129mr31418094wmb.78.1452762454574;
 Thu, 14 Jan 2016 01:07:34 -0800 (PST)
Received: by 10.28.129.79 with HTTP; Thu, 14 Jan 2016 01:07:34 -0800 (PST)
In-Reply-To: <alpine.DEB.2.10.1512200931040.29581@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto>
Date: Thu, 14 Jan 2016 10:07:34 +0100
Message-ID: <CAA=k7mUMDyTNdfagxsejQM49DF8jh5rw+CmDy3_4fJ3MY0sgCQ@mail.gmail.com>
Subject: Re: access control for dynamic hosts
From: Mario Brandt <jblond@gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi Fabien,

doesn't it work using Require host with a dyndns name? At least my
test was successful.

Cheers
Mario

On 20 December 2015 at 09:44, Fabien <fabien@apache.org> wrote:
>
> Hello folks,
>
> I have a simple access control use case for which I have not found a clean
> solution.
>
> I want to control access to a service based on the name of the client,
> however the client is a dynamic host, which implies that:
>
>  (1) I do not have any control about the reverse DNS
>      => this rules out "Require host"
>
>  (2) the IP may change arbitrarily
>      => this rules out "Require ip"
>
> By browsing around it seems that I'm not alone having this issue, and I have
> not found any solution for that with apache configuration, nor a matching
> module in "modules.apache.org" listing.
>
> The current workaround is to update the IP manually when it fails. Although
> I could automate (say query the ip periodically and update & reload the conf
> if there is a change), ISTM that it really belongs to apache configuration.
>
> I would like something like "Require XXX foo.dynamic-dns.somewhere" (where
> XXX could be "name", "hostname", "dynamic", ...) which would query the NS
> when the HTTP request is received and check that the corresponding ip is the
> client IP.
>
> I'm planing to develop a small module for that, and as it is somehow quite a
> basic service it could be a candidate for being added to
> "modules/aaa/mod_authz_host.c".
>
> Another approach could be to extend apache expressions with a function
> to query the DNS, but that seems a little overkill.
>
> Any thoughts?
>
> --
> Fabien.

From dev-return-85193-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 14 09:33:00 2016
Return-Path: <dev-return-85193-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AC33B182BF
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 14 Jan 2016 09:33:00 +0000 (UTC)
Received: (qmail 9034 invoked by uid 500); 14 Jan 2016 09:33:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 8961 invoked by uid 500); 14 Jan 2016 09:33:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 8950 invoked by uid 99); 14 Jan 2016 09:33:00 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Jan 2016 09:33:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C266EC020E
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 09:32:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.748
X-Spam-Level:
X-Spam-Status: No, score=0.748 tagged_above=-999 required=6.31
	tests=[KAM_INFOUSMEBIZ=0.75, RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id b87v6IzdJ3EE for <dev@httpd.apache.org>;
	Thu, 14 Jan 2016 09:32:58 +0000 (UTC)
Received: from mx.lenk.info (mail.lenk.info [188.40.85.232])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 1553520506
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 09:32:57 +0000 (UTC)
Received: from [192.168.77.232] (port=38253 helo=mailstore.lenk.local)
	by mx.lenk.info with esmtp (Exim 4.82_1-5b7a7c0-XX)
	(envelope-from <micha@lenk.info>)
	id 1aJeGo-0003YO-2o
	for dev@httpd.apache.org; Thu, 14 Jan 2016 10:32:42 +0100
Received: from webmail.lenk.info (localhost [IPv6:::1])
	by mailstore.lenk.local (Postfix) with ESMTP id E8F0E1A0E6
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 10:32:41 +0100 (CET)
Received: from 81BRbfqi1KaTwRR3M9FWTibU6xCghrpS
 by mail.lenk.info
 with HTTP (HTTP/1.1 POST); Thu, 14 Jan 2016 10:32:41 +0100
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII;
 format=flowed
Content-Transfer-Encoding: 7bit
Date: Thu, 14 Jan 2016 10:32:41 +0100
From: Micha Lenk <micha@lenk.info>
To: dev@httpd.apache.org
Subject: Re: AddOutputFilterByType in Apache 2.4 inserts filters as
 =?UTF-8?Q?AP=5FFTYPE=5FRESOURCE?=
In-Reply-To: <1452721451.3884.20.camel@mimir.webthing.com>
References: <64eebd8fd16ad6b8a4a187b5d349f169@mail.lenk.info>
 <1452721451.3884.20.camel@mimir.webthing.com>
Message-ID: <a77e89ce70b0c30abd08f9cb3895c393@mail.lenk.info>
X-Sender: micha@lenk.info
User-Agent: Roundcube Webmail/1.0.5

Hi Nick,

Am 13.01.2016 22:44, schrieb Nick Kew:
>> PROBLEM DESCRIPTION
> 
> This is probably worth a bugzilla entry.

Done. https://bz.apache.org/bugzilla/show_bug.cgi?id=58856

Nick, would you mind to provide some insights on these comments from my 
initial mail:
>> For setups with both, FilterDeclare and AddOutputFilterByType (as
>> described above as fix), I observed some issues with properly merging
>> the two filter harnesses. However, I have no clue what semantics the
>> original author wanted to have in this situation.

Assumed that my patch gets applied, the filter type should be correctly 
set in the filter harness. But what if a user wants to override it? I 
got a few questions in this context:

1.) Should "FilterDeclare" with filter-name "BYTYPE:DEFLATE" (i.e. 
colliding
     with the implicit filter-name created by AddOutputFilterByName) be
     supported at all?

1a.) If yes, the handling of AddOutputFilterByType needs to be fixed so 
that:
      - a globally configured FilterDeclare is also effective for an
        AddOutputFilterByType within a (location) sub-container.
      - a filter type set by "FilterDeclare BYTYPE:<provider> <filter 
type>"
        does not get overwritten by a subsequent
        "AddOutputFilterByType <provider>".

1b.) If no, the code should detect and reject such configurations.

2.) On a related note to 1., Should FilterDeclare allow a filter-name of
     existing filter providers at all? If yes, behavior would we expect?

Nick, I would be really glad if you could share your thoughts.

Best regards,
Micha


From dev-return-85194-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 14 09:53:06 2016
Return-Path: <dev-return-85194-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 590C918360
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 14 Jan 2016 09:53:06 +0000 (UTC)
Received: (qmail 49962 invoked by uid 500); 14 Jan 2016 09:53:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49889 invoked by uid 500); 14 Jan 2016 09:53:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49879 invoked by uid 99); 14 Jan 2016 09:53:05 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Jan 2016 09:53:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 725221A0707
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 09:53:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.654
X-Spam-Level:
X-Spam-Status: No, score=-0.654 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=YvOc2dpS;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=ketk6GAP
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ej3Tnu-dNySa for <dev@httpd.apache.org>;
	Thu, 14 Jan 2016 09:52:59 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id BE48E20506
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 09:52:58 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 0FB2915A0928; Thu, 14 Jan 2016 10:52:51 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1452765171; bh=8E8z4Zbgz4UUcoe8YgygHFAmwaW5MSURcRqJiYZJUc8=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=YvOc2dpSgweoug/NWFJl389qVWE/ai0RvUooJSCv++Fe5+M58J6WKR1X6OPXULAd5
	 m4wQP5H3xtNl4PBmyTdbP1sgQ8sX6ezPYxW5PEW5RJpQAds3Zh91KypqH//1+KuGbQ
	 9M3Ov0FVhCK0CXLtDIeY0/0lwRIYAGWwViA7VqC8=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 4D63415A046D
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 10:52:48 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1452765168; bh=8E8z4Zbgz4UUcoe8YgygHFAmwaW5MSURcRqJiYZJUc8=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=ketk6GAPYtnJqmD0aB5vzwjNlnHIRaeouTktIlQHrZeUqCi7SKn56le7ON9sX6z8I
	 AwWBJyeVDhVQnDITfbISq82KQWZn7gVzhVrdCJYexeNK2+XKrAs22kXHCB+SEkNQW5
	 Rbl/x3t0XrNgmXmW91Ooeuka1YjV8lj/JcBGih4Q=
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Work in progress: mod_proxy Health Check module
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <D9F39EF2-B1AC-4453-A854-33CBEFF42621@jaguNET.com>
Date: Thu, 14 Jan 2016 10:52:51 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <4D09FCA6-210E-4AA2-AA8F-88DE12BFEAF5@greenbytes.de>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com> <7C8BB910-7D19-4520-BE26-EE25CDC9608F@jaguNET.com> <CALK=YjNxnUAjX1mGsAXAeXRmHJ3Pz=bfcMnibKTc5j2Yf3QOSw@mail.gmail.com> <1012F319-C047-4527-8B01-903CDD0F083D@jaguNET.com> <56907444.2070905@primary.net> <D9F39EF2-B1AC-4453-A854-33CBEFF42621@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> Am 09.01.2016 um 19:18 schrieb Jim Jagielski <jim@jagunet.com>:
>=20
> Here is the general concept:
>=20
> The health check itself is done via mod_watchdog, and uses
> its callback impl. Each worker will have its own check interval,
> which can be changed via the new balancer member directives
> (hcinterval=3D, hcfails=3D,...); these will also be changable via
> the balancer manager.
>=20
> There will be a set of health checks available, depending on
> the scheme of the backend. There will be:
>=20
>  None
>  TCP: a simple 'is socket up check'
>  OPTIONS: for http only
>  HEAD: http only, sends HEAD /...
>  GET: http only, sends GET /...
>  CPING: ajp cping/cpong

For completeness: HTTP/2 has a PING frame.

And, yes, I might make an attempt at a http2 proxy modding sometime =
soon... >:-)

-Stefan=

From dev-return-85195-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 14 12:19:18 2016
Return-Path: <dev-return-85195-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 433311878D
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 14 Jan 2016 12:19:18 +0000 (UTC)
Received: (qmail 14783 invoked by uid 500); 14 Jan 2016 12:19:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14710 invoked by uid 500); 14 Jan 2016 12:19:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14699 invoked by uid 99); 14 Jan 2016 12:19:17 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Jan 2016 12:19:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 6C6681A07BD
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 12:19:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 4r3_gBjO3Q0k for <dev@httpd.apache.org>;
	Thu, 14 Jan 2016 12:19:08 +0000 (UTC)
Received: from resqmta-po-04v.sys.comcast.net (resqmta-po-04v.sys.comcast.net [96.114.154.163])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 300172050D
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 12:19:08 +0000 (UTC)
Received: from resomta-po-17v.sys.comcast.net ([96.114.154.241])
	by resqmta-po-04v.sys.comcast.net with comcast
	id 5oK31s0015Clt1L01oK7t5; Thu, 14 Jan 2016 12:19:07 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-17v.sys.comcast.net with comcast
	id 5oK61s00P2U0RYt01oK7vg; Thu, 14 Jan 2016 12:19:07 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_fcgid and broken doc links
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CACsi251SHdyRggdaYXSe3DwMwwoCrOgS6qoBZYT3MY+6L+hzOw@mail.gmail.com>
Date: Thu, 14 Jan 2016 07:19:06 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <ED63EABB-1ED8-4FAD-8C26-04A83E4B2946@jaguNET.com>
References: <56954235.2010707@rcbowen.com> <CACsi251SHdyRggdaYXSe3DwMwwoCrOgS6qoBZYT3MY+6L+hzOw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452773947;
	bh=mVLgx8Ia3WHW8Px1Qub4y8gfNJi17qDove2dKVus/ow=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=DEwhsv0SayS00x1rRJ3eVyu/ajSdJrJQGhJOgJkJ+K0/FQgmW10oPDlLNvcgzIp9M
	 0+Q+PG0D1nHO2Ii2D0eJ9VOWaR8o59xNWCGGuxJ/dmpnCAdKtXAZG6bH/8BETOhPTN
	 iO7rWROykcvbAihfwb9IEnTJPtPONfd+se+XT4GfMmcGkKzOHVB1CS+uY3CngysYAV
	 8/WE+pzhKTqFkL08Z+otv6S+ju4V2M9cCOIXQluXN2mV6hc6kSzwMTNuijPO6DIDJV
	 qYmmbsUwGObMIeRxYWc9ySKbSVtnVRqUT/9JfIi3mNwcy87GqoPBU83gVltZQr/uKa
	 LsrE0V0iAVqsQ==


> On Jan 13, 2016, at 12:28 PM, William A Rowe Jr <wrowe@rowe-clan.net> =
wrote:
>=20
>=20
> I can see us moving those modules into trunk (not 2.4), retaining the
> mmn tests for 2.2 and 2.4 compat, and then deriving an fcgid release
> out of trunk/modules/fcgid/.  But I'm not clear why we would want to
> maintain the duplication between mod_proxy_fcgi and mod_fcgid?
> Individually they get little enough attention as it is.
>=20

Because they are separate solutions to a similar problem,
ala mod_sed and mod_substitute for example. I can site several
more if that is worthwhile (but the point is made) mod_fcgid does
not require the whole mod_proxy overhead, for example, but
lacks some features that mod_proxy_fcgi does have, since the
latter can leverage some of that "overhead".

> Just my 2c USD, I'm open to ideas.

That is good to know.=

From dev-return-85196-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 14 13:05:29 2016
Return-Path: <dev-return-85196-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2873F188D5
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 14 Jan 2016 13:05:29 +0000 (UTC)
Received: (qmail 99841 invoked by uid 500); 14 Jan 2016 13:05:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99769 invoked by uid 500); 14 Jan 2016 13:05:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99759 invoked by uid 99); 14 Jan 2016 13:05:28 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Jan 2016 13:05:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 0905C1A08B0
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 13:05:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.899
X-Spam-Level: **
X-Spam-Status: No, score=2.899 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id z8q9oeDmEab3 for <dev@httpd.apache.org>;
	Thu, 14 Jan 2016 13:05:21 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 7E0BD428ED
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 13:05:21 +0000 (UTC)
Received: by mail-qg0-f52.google.com with SMTP id 6so400614933qgy.1
        for <dev@httpd.apache.org>; Thu, 14 Jan 2016 05:05:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=7JUTX2irYuXiYJx0Dx5e3xC31w0TOJviVx57QzRkTvg=;
        b=xRB3ZXtMZFykGb+rvsu1jm4Wn1qChyvZJRTpFDL/QEo8uLto/q0EEDt7bLg/I+k7gv
         J6V3fctyGLonWtD2H8tNLexfY7hlrAfV5uZzWSVnvaCnNnfQROL/G6YonVWNi/vMfCZe
         hKW1TU6gk3HXXGqkPukAdo5SMXS8wh8vnOAostVrY4AoIXPRSOmQAsTcUeuTROZDIdWn
         cZvqTAROxoYEvkrR6WL5MskLQ2fuLz6nFYP7KzkvemyX7PXxIfsyoG+du1G/gB5E9sL9
         Ep4z310YvSaPXqWc0p3RSjCVBckplHQAprkuSl9Nbzm7nnHc5LkxMz7caqRPdsTNzMYg
         q2NQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=7JUTX2irYuXiYJx0Dx5e3xC31w0TOJviVx57QzRkTvg=;
        b=UnS4V9sU9BgwPNJA0zgKmqJrytJ9ciNy/nIx2Xcm5NTcL5wB0rhlvl7U9Py4F+ajJb
         jrCAlY5qu91AwjZrPoBS1+RLZoGU35NHZxdK5ClDUEdFW0+zEKq1wtFAOAA8kEeohRYE
         5T7vXNR63vXfSHqkqbpA21w0pvX7RydgOfrmSkCP/5okbHtqCqQL6ZlaIcuzuCajSk0X
         1V97VxjBxO9CMByrS0JxhkE3TtUZtb2u4ilPX5l1rjb+TdkBJahL6GI5ybAYrNVgck5T
         ykwNBsb8iUpvbJnYmLmMlJS8EYs5tln0M2v4tQl4lM9ltJeIFKhuwcdQi90RNmmstTro
         4B+Q==
X-Gm-Message-State: ALoCoQlz7ahX4Orqn4yepvTQ6GN45GjNKFYebhtkmQwWooZZtAOtk4ZXv2uQ1mYEfARXUWD8TYB3TZFAXDoN0FZEQeCFoFYx9g==
MIME-Version: 1.0
X-Received: by 10.140.241.197 with SMTP id m188mr3940650qhc.49.1452776721075;
 Thu, 14 Jan 2016 05:05:21 -0800 (PST)
Received: by 10.140.91.6 with HTTP; Thu, 14 Jan 2016 05:05:20 -0800 (PST)
Received: by 10.140.91.6 with HTTP; Thu, 14 Jan 2016 05:05:20 -0800 (PST)
In-Reply-To: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com>
Date: Thu, 14 Jan 2016 05:05:20 -0800
Message-ID: <CAMa9x1RwxrNeNMUmpMBenrsFknhg-Gkz3qxHybkcVSzo_jCNkw@mail.gmail.com>
Subject: Re: Work in progress: mod_proxy Health Check module
From: Ronald Masaya <ronaldmasaya.rm@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a113a7b1065d92b05294af06b

--001a113a7b1065d92b05294af06b
Content-Type: text/plain; charset=UTF-8

On Dec 30, 2015 4:21 AM, "Jim Jagielski" <jim@jagunet.com> wrote:

> Just a note that I've started committing my mod_proxy health
> check module work... it is still a work-in-progress but the
> goal is to always ensure that trunk is buildable and usable.
> Right now, the module needs to be explicitly enabled during
> configuration and all specific health-checks are basically
> noops.
>
> My design thoughts are that for each scheme/protocol allowed,
> the (sub)module that handles that (eg: mod_proxy_http, mod_proxy_ajp,
> etc...) implements an optional function that does the actual
> server call. What constitutes a "success" is also up for
> discussion. I've been mulling over having the check return
> the response headers which can then be checked/verified using
> our Expression routines ala <If>. eg:
>
>         Condition all_good "%{REQUEST_STATUS} in { '200', '304' }"
>
> And there is a 'check' mini-directive:
>
>         BalancerMember http://www.example.com/ method=get check=all_good
>
> which uses the stored condition for the pass/fail test.
>

--001a113a7b1065d92b05294af06b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div class=3D"gmail_quote">On Dec 30, 2015 4:21 AM, &quot;Jim Jagielski&quo=
t; &lt;<a href=3D"mailto:jim@jagunet.com">jim@jagunet.com</a>&gt; wrote:<br=
 type=3D"attribution"><blockquote class=3D"gmail_quote" style=3D"margin:0 0=
 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Just a note that I&#39=
;ve started committing my mod_proxy health<br>
check module work... it is still a work-in-progress but the<br>
goal is to always ensure that trunk is buildable and usable.<br>
Right now, the module needs to be explicitly enabled during<br>
configuration and all specific health-checks are basically<br>
noops.<br>
<br>
My design thoughts are that for each scheme/protocol allowed,<br>
the (sub)module that handles that (eg: mod_proxy_http, mod_proxy_ajp,<br>
etc...) implements an optional function that does the actual<br>
server call. What constitutes a &quot;success&quot; is also up for<br>
discussion. I&#39;ve been mulling over having the check return<br>
the response headers which can then be checked/verified using<br>
our Expression routines ala &lt;If&gt;. eg:<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 Condition all_good &quot;%{REQUEST_STATUS} in {=
 &#39;200&#39;, &#39;304&#39; }&quot;<br>
<br>
And there is a &#39;check&#39; mini-directive:<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 BalancerMember <a href=3D"http://www.example.co=
m/" rel=3D"noreferrer" target=3D"_blank">http://www.example.com/</a> method=
=3Dget check=3Dall_good<br>
<br>
which uses the stored condition for the pass/fail test.<br>
</blockquote></div>

--001a113a7b1065d92b05294af06b--

From dev-return-85197-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 14 15:25:27 2016
Return-Path: <dev-return-85197-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B2B0718DD0
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 14 Jan 2016 15:25:27 +0000 (UTC)
Received: (qmail 46830 invoked by uid 500); 14 Jan 2016 15:25:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46755 invoked by uid 500); 14 Jan 2016 15:25:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46745 invoked by uid 99); 14 Jan 2016 15:25:26 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Jan 2016 15:25:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 46A7EC22B9
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 15:25:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id mSZPhEGk4IX5 for <dev@httpd.apache.org>;
	Thu, 14 Jan 2016 15:25:25 +0000 (UTC)
Received: from mail-ig0-f172.google.com (mail-ig0-f172.google.com [209.85.213.172])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id B1AA220520
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 15:25:25 +0000 (UTC)
Received: by mail-ig0-f172.google.com with SMTP id mw1so171132985igb.1
        for <dev@httpd.apache.org>; Thu, 14 Jan 2016 07:25:25 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=1OtXoQQVo0F8IDxoWIj4wLovtnTLrm+0PV2NivwhtSI=;
        b=PcHkmtAg6urbRVQX2NznlmgggSvLjF7EdwjyVvj0D2NXJdu7JCA3vWbJ3Isi2tS+DX
         U5g7kIX+mp2g7jTETscgDqCo04WInDMYrpphfFOfBxJdaZRTUrtSoURuNGT3FfsiAVkz
         5VnYdEgteF6gHIc806V/AjEWjiuzauqP6vQN1oVRbvNLnwkzaGPfm5E/KtCQsNZG11Fj
         /Q9HgruxB931nXVsEUdDKAcDjS2EVsCCpCPU8k2in7ajsz6Yci0FIK5XYS3lcf2TQXJQ
         7pKREpiX8vkMmqBYb57IYblNPI647OOrDe8tTskpDnFAh+YYs2bqJZcSc8s6cZ7BFonr
         SNKA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=1OtXoQQVo0F8IDxoWIj4wLovtnTLrm+0PV2NivwhtSI=;
        b=kPpF+fgYz2WwXd3ABegZGhSzlmL79h2gg5KUel74A0RwCh0OIpk/jStlBOdZSoT7rB
         buNu2ox+FLSjyImQ/0jYA4xMqVl/Zr8rLN9E3hNfk0sZr7CuHnH+1dV76+KNDJuIjPw6
         Q7i3sbvmQ9klJNJU8ScS0+H+RwP4KFq4NYnS9ZVagWpCT3+hCoZZ0kiBXQsumCQ+YboV
         f8ouxt6+VNs7PQGMb2Ec9RowbQMB6M98BKUOMA7GOZqmmy8ZLEJhkAwW7qRSrc0HIpWw
         1bVPbQbx1m7AJeT1V8Ujj+4g2s3Adb9cMCrrm33qbveBVKjUSM1Z3ecVzNWMnRVi771r
         rJbw==
X-Gm-Message-State: ALoCoQns0UnEo2aOQtnD0AVPouDYSk2oF069KAIWh3y0eJ87YYXVDKgsBxepVX+Y+9czCIqkSrkkEqyF//GyooDbO17VjzIR0g==
MIME-Version: 1.0
X-Received: by 10.50.147.73 with SMTP id ti9mr5161790igb.36.1452785125004;
 Thu, 14 Jan 2016 07:25:25 -0800 (PST)
Received: by 10.64.114.199 with HTTP; Thu, 14 Jan 2016 07:25:24 -0800 (PST)
Date: Thu, 14 Jan 2016 10:25:24 -0500
Message-ID: <CALK=YjNOdLNHW7o55gMucDcdt2qB-vmShVa34PkTt472ucA0MQ@mail.gmail.com>
Subject: help from cache gurus?
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Review please? Didn't want unnecessary churn in svn.

http://people.apache.org/~covener/patches/httpd-trunk-cachecontrol.diff

(whitespace not included)

I think the changing meaning of "exp" over time in that function adds
to the confusion, but pre-patch the issue is that we do not give
Cache-Control s-maxage and max-age priority over Expires (either when
checking if we can cache or determining our own expiry)

The patch is really three tiightly coupled fixes around s-maxage.

Can anyone review / kick the tires?
-- 
Eric Covener
covener@gmail.com

From dev-return-85198-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 14 16:06:47 2016
Return-Path: <dev-return-85198-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6C6211802F
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 14 Jan 2016 16:06:47 +0000 (UTC)
Received: (qmail 5752 invoked by uid 500); 14 Jan 2016 16:06:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5681 invoked by uid 500); 14 Jan 2016 16:06:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5671 invoked by uid 99); 14 Jan 2016 16:06:46 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Jan 2016 16:06:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 8BAA01A08D7
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 16:06:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id aMnQvuSr-TYh for <dev@httpd.apache.org>;
	Thu, 14 Jan 2016 16:06:42 +0000 (UTC)
Received: from resqmta-ch2-12v.sys.comcast.net (resqmta-ch2-12v.sys.comcast.net [69.252.207.44])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id E37B443F31
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 16:06:41 +0000 (UTC)
Received: from resomta-ch2-15v.sys.comcast.net ([69.252.207.111])
	by resqmta-ch2-12v.sys.comcast.net with comcast
	id 5s5N1s0042Qkjl901s6b8N; Thu, 14 Jan 2016 16:06:35 +0000
Received: from [172.25.182.105] ([199.244.219.64])
	by resomta-ch2-15v.sys.comcast.net with comcast
	id 5s4Q1s0031Pxlnr01s4UZd; Thu, 14 Jan 2016 16:04:33 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: help from cache gurus?
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CALK=YjNOdLNHW7o55gMucDcdt2qB-vmShVa34PkTt472ucA0MQ@mail.gmail.com>
Date: Thu, 14 Jan 2016 11:04:23 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <F8455EF4-167A-447C-BEBB-D6D239463EAB@jaguNET.com>
References: <CALK=YjNOdLNHW7o55gMucDcdt2qB-vmShVa34PkTt472ucA0MQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452787595;
	bh=PVeQ1lEV149hZsHAzSIrt0+J2Qis/pTQk7f7+uUJ+jo=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=DG6LKzH2Bvdd5oOuVmjQ/n1FJGL6pltOA0UIvb6SuK03Jn5GdQ1D4wWazkuBJaG33
	 zgEiPACpR2iyNaAWLkIh/m++skWr/SmA+SWDp6GBdJGiaBO7hljxJjjRTZoPLlIi+T
	 wORjBVCqi+gmhVFbhrPeCeKHJETmt8SDLsMAb6PGJ3tG0Wfgj7ViSKNirDeBPoMaqz
	 SA7ra9PzZYcmHiogKVC3zZjK8E9Ieg6chgtULpm6ylsmA7COlSzCnxs7nJLUc4RRZt
	 AH4b0t8hmvgeMdeg2V5reh9VMmDlkN5YpGzjE1aPPoohTxWfPvMNmgli5z/oSIkvzt
	 iV/wn3PppwYTw==

I'll have some time over the weekend...

> On Jan 14, 2016, at 10:25 AM, Eric Covener <covener@gmail.com> wrote:
> 
> Review please? Didn't want unnecessary churn in svn.
> 
> http://people.apache.org/~covener/patches/httpd-trunk-cachecontrol.diff
> 
> (whitespace not included)
> 
> I think the changing meaning of "exp" over time in that function adds
> to the confusion, but pre-patch the issue is that we do not give
> Cache-Control s-maxage and max-age priority over Expires (either when
> checking if we can cache or determining our own expiry)
> 
> The patch is really three tiightly coupled fixes around s-maxage.
> 
> Can anyone review / kick the tires?
> -- 
> Eric Covener
> covener@gmail.com


From dev-return-85199-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 14 21:36:57 2016
Return-Path: <dev-return-85199-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 03F92186AC
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 14 Jan 2016 21:36:57 +0000 (UTC)
Received: (qmail 20295 invoked by uid 500); 14 Jan 2016 21:36:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 20227 invoked by uid 500); 14 Jan 2016 21:36:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 20218 invoked by uid 99); 14 Jan 2016 21:36:56 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Jan 2016 21:36:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 28614C187A
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 21:36:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.001
X-Spam-Level: *
X-Spam-Status: No, score=1.001 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id oy0EpmQBSSTV for <dev@httpd.apache.org>;
	Thu, 14 Jan 2016 21:36:48 +0000 (UTC)
Received: from boipeva.ensmp.fr (boipeva.ensmp.fr [194.214.158.136])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 49C6A258C7
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 21:36:48 +0000 (UTC)
Received: from cri.ensmp.fr (168.200.219.88.rev.sfr.net [88.219.200.168])
	(authenticated bits=0)
	by boipeva.ensmp.fr (8.15.2/8.15.1/JMMC-22/Oct/2013) with ESMTPSA id u0ELaepT019731
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 22:36:41 +0100
Date: Thu, 14 Jan 2016 22:36:38 +0100 (CET)
From: Fabien <fabien@apache.org>
X-X-Sender: fabien@sto
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: Re: access control for dynamic hosts
In-Reply-To: <CAA=k7mUMDyTNdfagxsejQM49DF8jh5rw+CmDy3_4fJ3MY0sgCQ@mail.gmail.com>
Message-ID: <alpine.DEB.2.10.1601142224300.1035@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto> <CAA=k7mUMDyTNdfagxsejQM49DF8jh5rw+CmDy3_4fJ3MY0sgCQ@mail.gmail.com>
User-Agent: Alpine 2.10 (DEB 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; format=flowed; charset=US-ASCII
X-Miltered: at boipeva.ensmp.fr with ID 569814E8.000 by Joe's j-chkmail (http : // j-chkmail dot ensmp dot fr)!
X-j-chkmail-Auth: USER-ID fabien.coelho
X-j-chkmail-Enveloppe: 569814E8.000 from 168.200.219.88.rev.sfr.net/168.200.219.88.rev.sfr.net/88.219.200.168/cri.ensmp.fr/<fabien@apache.org>


Hello Mario,

> doesn't it work using Require host with a dyndns name?

>From the documentation about "Require host ...":

"It will do a reverse DNS lookup on the IP address to find the associated 
hostname, and then do a forward lookup on the hostname to assure that it 
matches the original IP address. Only if the forward and reverse DNS are 
consistent and the hostname matches will access be allowed."

So the reverse DNS must work. A benefit is that it allows to check for a 
full domain.

Note that the source code seems to say the same, although in C:-)

> At least my test was successful.

I'm surprised.

I just tested it again from my home (which use a dynamic dns), and it did 
not work with "Require host" in a <Proxy> context, with "Require host 
NNN":

  sh> netcat XXXX 3128
  GET http://www.google.fr/ HTTP/1.0

  HTTP/1.1 403 Forbidden
  ...

So the client was not authorized, but after a reload with a "Require name 
NNN" from the submitted module:

  sh> netcat XXXX 3128
  GET http://www.google.fr/ HTTP/1.0

  HTTP/1.1 200 OK
  Date: Thu, 14 Jan 2016 21:30:40 GMT
  Server: gws
  ...

Maybe the reverse dns is working on your test address?

-- 
Fabien.

From dev-return-85200-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 14 22:19:42 2016
Return-Path: <dev-return-85200-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 31A18188AD
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 14 Jan 2016 22:19:42 +0000 (UTC)
Received: (qmail 43984 invoked by uid 500); 14 Jan 2016 22:19:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 43918 invoked by uid 500); 14 Jan 2016 22:19:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 43907 invoked by uid 99); 14 Jan 2016 22:19:41 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Jan 2016 22:19:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 388F218063B
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 22:19:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=3,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id qGoT_B80pqIw for <dev@httpd.apache.org>;
	Thu, 14 Jan 2016 22:19:32 +0000 (UTC)
Received: from mail-ig0-f172.google.com (mail-ig0-f172.google.com [209.85.213.172])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 7316A258C7
	for <dev@httpd.apache.org>; Thu, 14 Jan 2016 22:19:31 +0000 (UTC)
Received: by mail-ig0-f172.google.com with SMTP id z14so186905592igp.1
        for <dev@httpd.apache.org>; Thu, 14 Jan 2016 14:19:31 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=UxUTPTovtPHdkoQJ/q7cAQdsHKXyA/HN+68wdY9ii9M=;
        b=ljsmaDIXD7Zz29noyctkzRNTJwljxSPQKcOsUanRAxx5JBsdfJqzhGro0ooNHH5FWs
         fM228Y+mQUX4NX7qznH9kdxfOQGwG982zTBpnfZ/LV9SRP87m6JM3YVd5U0iDE67n7qE
         PhHSNkT2nEp63g3CQb/zsDLMoo4eghQ9oBKUVhRt2517Xe2d9gSyBdWPtG6R4Kky0jhh
         qZt1++cIMdD2eyhGys1T8XntKPw61Hva118LhvqA95RzmK3meuFeVhegWD3kXYVEh8OJ
         wLwYDQDbsnTSI1ulr0cFiesxtUriwO+nFoO7I+RydDSkmpjYLgFDUxjmpYjOtODSyH42
         8Saw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=UxUTPTovtPHdkoQJ/q7cAQdsHKXyA/HN+68wdY9ii9M=;
        b=GJTzAUb6y2fh6v/NrHT6u0eTaLvuSAKNloh1tseUbQfFQa4SJ4VSxutPmAoQdaAl3X
         8x/VTuMvSx/IXsxqTek/ZBzFs5wdvbPEpiF0NB25ZtUIHmbGDGcMdKfu03ZI7TVyTqef
         2V40AepVJk3qkeyAB906kjwxYwvfI6OXVj2f6wlJwDh2PkBPR2kr9ouYFF/pKipyTy9k
         5mAMkewhxvLgwAuuXgvj37dlCgx/3MKbzo3hLD8BdL92NLv97p++O+nwzzJnqbGzx/6v
         L4oRrPANH5f9GaXu5Dx6rT+ImwA0Ekt+vm8AmpdXei+8uWlOmOP0Ez1T+GAs5kq0R2RT
         P2sw==
X-Gm-Message-State: ALoCoQk25OvwMI7+k6Y5wPYs8K+rmWALAZS82ifE21d4feZwInWUjxC4F73f9FVfbU9NROgSsw/COXMwo4+cFBxP9/PahnQB6NvrgMSsRF//lRrk4bcGw0o=
MIME-Version: 1.0
X-Received: by 10.50.12.33 with SMTP id v1mr32741280igb.35.1452809970289; Thu,
 14 Jan 2016 14:19:30 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Thu, 14 Jan 2016 14:19:30 -0800 (PST)
In-Reply-To: <ED63EABB-1ED8-4FAD-8C26-04A83E4B2946@jaguNET.com>
References: <56954235.2010707@rcbowen.com>
	<CACsi251SHdyRggdaYXSe3DwMwwoCrOgS6qoBZYT3MY+6L+hzOw@mail.gmail.com>
	<ED63EABB-1ED8-4FAD-8C26-04A83E4B2946@jaguNET.com>
Date: Thu, 14 Jan 2016 16:19:30 -0600
Message-ID: <CACsi251YKo+TUF7LLNdH5AF=kZjYhKzTCC8H9ZWkF+fPcJeFNQ@mail.gmail.com>
Subject: Re: mod_fcgid and broken doc links
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e0122f81634d0c6052952aedb

--089e0122f81634d0c6052952aedb
Content-Type: text/plain; charset=UTF-8

On Thu, Jan 14, 2016 at 6:19 AM, Jim Jagielski <jim@jagunet.com> wrote:

>
> > On Jan 13, 2016, at 12:28 PM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
> >
> > I can see us moving those modules into trunk (not 2.4), retaining the
> > mmn tests for 2.2 and 2.4 compat, and then deriving an fcgid release
> > out of trunk/modules/fcgid/.  But I'm not clear why we would want to
> > maintain the duplication between mod_proxy_fcgi and mod_fcgid?
> > Individually they get little enough attention as it is.
>
> Because they are separate solutions to a similar problem,
> ala mod_sed and mod_substitute for example. I can site several
> more if that is worthwhile (but the point is made) mod_fcgid does
> not require the whole mod_proxy overhead, for example, but
> lacks some features that mod_proxy_fcgi does have, since the
> latter can leverage some of that "overhead".


Good point with your example, this is something that should
be benchmarked and the winner-take-all, loser bumped from the
trunk/ copy of httpd.  They are slightly different in that sed is one
specific grammar, while substitute uses literal replacements, but
that could be a syntax tweak to mod_sed to allow some literal
replacements.  In any case, it relieves the dozen or so regular
httpd contributors from maintaining two modules which do, for
the most part, the very same thing expressed with redundant
yet different code.

Likewise with fcgid/proxy_fcgi - /if/ we bring mod_fcgid sources
into the trunk, I'd add the caveat that we do so if there is an offer
to eliminate all of the code duplication in the process, or reject
this proposition.  They do perform two different purposes and
overlap in interesting ways, so there has to be something gained
by pushing fcgid upon the entire httpd committer community
to maintain.  It was one thing for the handful of us who commit
to mod_fcgid to deal with that legacy, but another to push it
mainstream.


> > Just my 2c USD, I'm open to ideas.
>
> That is good to know.


Was simply offering backstory for why things ended up as they
have, sans snark, and no snark needed in response :)  Would
love to learn who is interested in helping merge mod_fcgid and
mod_proxy_ftp functionality into a util_fcgi, or otherwise condense
this functionality into something manageable, long term.

--089e0122f81634d0c6052952aedb
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Jan 14, 2016 at 6:19 AM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=3D=
"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span> w=
rote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;borde=
r-left:1px #ccc solid;padding-left:1ex"><span class=3D""><br>
&gt; On Jan 13, 2016, at 12:28 PM, William A Rowe Jr &lt;<a href=3D"mailto:=
wrowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt; wrote:<br>&gt;<br>
&gt; I can see us moving those modules into trunk (not 2.4), retaining the<=
br>
&gt; mmn tests for 2.2 and 2.4 compat, and then deriving an fcgid release<b=
r>
&gt; out of trunk/modules/fcgid/.=C2=A0 But I&#39;m not clear why we would =
want to<br>
&gt; maintain the duplication between mod_proxy_fcgi and mod_fcgid?<br>
&gt; Individually they get little enough attention as it is.<br><br>
</span>Because they are separate solutions to a similar problem,<br>
ala mod_sed and mod_substitute for example. I can site several<br>
more if that is worthwhile (but the point is made) mod_fcgid does<br>
not require the whole mod_proxy overhead, for example, but<br>
lacks some features that mod_proxy_fcgi does have, since the<br>
latter can leverage some of that &quot;overhead&quot;.</blockquote><div><br=
></div><div>Good point with your example, this is something that should=C2=
=A0</div><div>be benchmarked and the winner-take-all, loser bumped from the=
</div><div>trunk/ copy of httpd.=C2=A0 They are slightly different in that =
sed is one</div><div>specific grammar, while substitute uses literal replac=
ements, but</div><div>that could be a syntax tweak to mod_sed to allow some=
 literal</div><div>replacements.=C2=A0 In any case, it relieves the dozen o=
r so regular</div><div>httpd contributors from maintaining two modules whic=
h do, for</div><div>the most part, the very same thing expressed with redun=
dant</div><div>yet different code.</div><div><br></div><div>Likewise with f=
cgid/proxy_fcgi - /if/ we bring mod_fcgid sources</div><div>into the trunk,=
 I&#39;d add the caveat that we do so if there is an offer</div><div>to eli=
minate all of the code duplication in the process, or reject=C2=A0</div><di=
v>this proposition.=C2=A0 They do perform two different purposes and=C2=A0<=
/div><div>overlap in interesting ways, so there has to be something gained=
=C2=A0</div><div>by pushing fcgid upon the entire httpd committer community=
=C2=A0</div><div>to maintain.=C2=A0 It was one thing for the handful of us =
who commit</div><div>to mod_fcgid to deal with that legacy, but another to =
push it</div><div>mainstream.</div><div>=C2=A0<br></div><blockquote class=
=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padd=
ing-left:1ex"><span class=3D"">
&gt; Just my 2c USD, I&#39;m open to ideas.<br>
<br>
</span>That is good to know.</blockquote></div><br></div><div class=3D"gmai=
l_extra">Was simply offering backstory for why things ended up as they</div=
><div class=3D"gmail_extra">have, sans snark, and no snark needed in respon=
se :) =C2=A0Would</div><div class=3D"gmail_extra">love to learn who is inte=
rested in helping merge mod_fcgid and</div><div class=3D"gmail_extra">mod_p=
roxy_ftp functionality into a util_fcgi, or otherwise condense</div><div cl=
ass=3D"gmail_extra">this functionality into something manageable, long term=
.</div><div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra"><br>=
</div><div class=3D"gmail_extra"><br></div></div>

--089e0122f81634d0c6052952aedb--

From dev-return-85201-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 15 11:01:07 2016
Return-Path: <dev-return-85201-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB638183DA
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 15 Jan 2016 11:01:06 +0000 (UTC)
Received: (qmail 10705 invoked by uid 500); 15 Jan 2016 11:01:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10625 invoked by uid 500); 15 Jan 2016 11:01:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10615 invoked by uid 99); 15 Jan 2016 11:01:06 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Jan 2016 11:01:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 11CF5C0BED
	for <dev@httpd.apache.org>; Fri, 15 Jan 2016 11:01:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.001
X-Spam-Level:
X-Spam-Status: No, score=-0.001 tagged_above=-999 required=6.31
	tests=[HEADER_FROM_DIFFERENT_DOMAINS=0.001, RP_MATCHES_RCVD=-0.001,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id otnxnkUcyKFy for <dev@httpd.apache.org>;
	Fri, 15 Jan 2016 11:00:58 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 80C102051D
	for <dev@httpd.apache.org>; Fri, 15 Jan 2016 11:00:57 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1aK27Z-0007Wj-Tv
	for dev@httpd.apache.org; Fri, 15 Jan 2016 12:00:45 +0100
Received: from 227-116.citynet.ftth.internl.net ([85.223.116.227])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Fri, 15 Jan 2016 12:00:45 +0100
Received: from phpdev by 227-116.citynet.ftth.internl.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Fri, 15 Jan 2016 12:00:45 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Jan Ehrhardt <phpdev@ehrhardt.nl>
Subject: 256-bits cipher for HTTP/2 with Chrome
Date: Fri, 15 Jan 2016 12:00:29 +0100
Lines: 12
Message-ID: <57kh9bpk7rcbdpqhj2m63fsm1p3qdpat83@4ax.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: 227-116.citynet.ftth.internl.net
X-Newsreader: Forte Agent 3.3/32.846

No question or issue, just a quick note.

On Apachelounge Mario Brandt (aka James Bond) once asked the question:
"Is there any chance to have a 256 cipher instead of
ECDHE-RSA-AES128-GCM-SHA256?"

It turns out, that there is a 256-bits cipher which will be used by Chrome
for HTTP/2 connections: ECDHE-RSA-CHACHA20-POLY1305

Further reading: https://www.apachelounge.com/viewtopic.php?p=32641#32641
--
Jan


From dev-return-85202-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 15 11:08:00 2016
Return-Path: <dev-return-85202-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AF6F21841C
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 15 Jan 2016 11:08:00 +0000 (UTC)
Received: (qmail 29714 invoked by uid 500); 15 Jan 2016 11:08:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29643 invoked by uid 500); 15 Jan 2016 11:07:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29633 invoked by uid 99); 15 Jan 2016 11:07:59 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Jan 2016 11:07:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5F1CB18044D
	for <dev@httpd.apache.org>; Fri, 15 Jan 2016 11:07:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.555
X-Spam-Level:
X-Spam-Status: No, score=-0.555 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id QkybjmHdJltF for <dev@httpd.apache.org>;
	Fri, 15 Jan 2016 11:07:52 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id F072731A90
	for <dev@httpd.apache.org>; Fri, 15 Jan 2016 11:07:51 +0000 (UTC)
Subject: Re: 256-bits cipher for HTTP/2 with Chrome
To: dev@httpd.apache.org
References: <57kh9bpk7rcbdpqhj2m63fsm1p3qdpat83@4ax.com>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
X-Enigmail-Draft-Status: N1110
Organization: the lounge interactive design
Message-ID: <5698D2FF.5020607@thelounge.net>
Date: Fri, 15 Jan 2016 12:07:43 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.0
MIME-Version: 1.0
In-Reply-To: <57kh9bpk7rcbdpqhj2m63fsm1p3qdpat83@4ax.com>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="AT9CWvrNF3aU8ifOV8B9XicvP4BbbI6sm"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--AT9CWvrNF3aU8ifOV8B9XicvP4BbbI6sm
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: quoted-printable



Am 15.01.2016 um 12:00 schrieb Jan Ehrhardt:
> No question or issue, just a quick note.
>
> On Apachelounge Mario Brandt (aka James Bond) once asked the question:
> "Is there any chance to have a 256 cipher instead of
> ECDHE-RSA-AES128-GCM-SHA256?"
>
> It turns out, that there is a 256-bits cipher which will be used by Chr=
ome
> for HTTP/2 connections: ECDHE-RSA-CHACHA20-POLY1305
>
> Further reading: https://www.apachelounge.com/viewtopic.php?p=3D32641#3=
2641

given that AES is hardware accelerated (on client and server) these days =

and there is no compelling reason to prefer 256 bit because you would=20
need a RSA-16000 (at least for AES256, not sure for CHACHA) while for=20
AES128 RSA-3072 key.....


--AT9CWvrNF3aU8ifOV8B9XicvP4BbbI6sm
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlaY0wAACgkQhmBjz394Ank/ZwCeO55OfPW99fh3wgToRiVNgIXA
eHEAn2qONqQPFtMuu7eb4+6qQmsfvT+5
=87pU
-----END PGP SIGNATURE-----

--AT9CWvrNF3aU8ifOV8B9XicvP4BbbI6sm--

From dev-return-85203-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 15 13:47:02 2016
Return-Path: <dev-return-85203-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F2BDA1884B
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 15 Jan 2016 13:47:01 +0000 (UTC)
Received: (qmail 48866 invoked by uid 500); 15 Jan 2016 13:47:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48799 invoked by uid 500); 15 Jan 2016 13:46:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48789 invoked by uid 99); 15 Jan 2016 13:46:56 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Jan 2016 13:46:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 4B7E9180488
	for <dev@httpd.apache.org>; Fri, 15 Jan 2016 13:46:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id txbkG96sPjMC for <dev@httpd.apache.org>;
	Fri, 15 Jan 2016 13:46:47 +0000 (UTC)
Received: from resqmta-ch2-05v.sys.comcast.net (resqmta-ch2-05v.sys.comcast.net [69.252.207.37])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 8297020520
	for <dev@httpd.apache.org>; Fri, 15 Jan 2016 13:46:47 +0000 (UTC)
Received: from resomta-ch2-13v.sys.comcast.net ([69.252.207.109])
	by resqmta-ch2-05v.sys.comcast.net with comcast
	id 6DlX1s0082N9P4d01DmgcA; Fri, 15 Jan 2016 13:46:40 +0000
Received: from [172.25.182.105] ([199.244.219.64])
	by resomta-ch2-13v.sys.comcast.net with comcast
	id 6DkW1s0081Pxlnr01Dka7A; Fri, 15 Jan 2016 13:44:38 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_fcgid and broken doc links
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CACsi251YKo+TUF7LLNdH5AF=kZjYhKzTCC8H9ZWkF+fPcJeFNQ@mail.gmail.com>
Date: Fri, 15 Jan 2016 08:44:30 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <7EE0E7E6-21E7-4738-B6CA-872D79D363BF@jaguNET.com>
References: <56954235.2010707@rcbowen.com> <CACsi251SHdyRggdaYXSe3DwMwwoCrOgS6qoBZYT3MY+6L+hzOw@mail.gmail.com> <ED63EABB-1ED8-4FAD-8C26-04A83E4B2946@jaguNET.com> <CACsi251YKo+TUF7LLNdH5AF=kZjYhKzTCC8H9ZWkF+fPcJeFNQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452865600;
	bh=P0E8mnVYx+y8RgHT/pqzQrowLGWolKxoYMW0QH8jKYQ=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=aBOCbOIUwps74plpeLNOzlaBo4X5R+dM2IjJo8loJYAHwFj0G97p/PPvQWYMAnMYZ
	 mM+tAJEZHGiyuYA/SeuSwtZ8I/NvazrdXopOL1tgZnjdgKzqmdfPXjD5uZHGWhkkDY
	 PgrFLIq3NWd61ZWT0awsbHic6SK4266nTV+/q74X/u4Ke8/tJIf9dErEroCrba0XND
	 86O3O1b+aEUbZSt0vRVw7n1NMoDLA+cKDZMYMEpsnxoSsjZylHF1J32V6SS5TccOo9
	 ARwMVKgIAE4ls1uqCaPHhyMKQtl3bOldMhPPwQelBqVBokZjFbbx6YOtbT0xdT+JlS
	 kpv7tufkDcMoQ==


> On Jan 14, 2016, at 5:19 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> 
> 
> Good point with your example, this is something that should 
> be benchmarked and the winner-take-all, loser bumped from the
> trunk/ copy of httpd.

-1

You are implying that one would be a winner in all cases. The
whole idea is that there are cases where one is better than
the other. We provide both.

Would you also recommend such a scenario with MPMs, and
having the "winner" take all? I certainly hope not!!!



From dev-return-85204-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jan 16 19:27:23 2016
Return-Path: <dev-return-85204-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7265918B12
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 16 Jan 2016 19:27:23 +0000 (UTC)
Received: (qmail 99526 invoked by uid 500); 16 Jan 2016 19:27:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99449 invoked by uid 500); 16 Jan 2016 19:27:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99439 invoked by uid 99); 16 Jan 2016 19:27:22 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Jan 2016 19:27:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 3C974C023A
	for <dev@httpd.apache.org>; Sat, 16 Jan 2016 19:27:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id lDO-3Km1IrlS for <dev@httpd.apache.org>;
	Sat, 16 Jan 2016 19:27:15 +0000 (UTC)
Received: from resqmta-po-12v.sys.comcast.net (resqmta-po-12v.sys.comcast.net [96.114.154.171])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id C47A431A90
	for <dev@httpd.apache.org>; Sat, 16 Jan 2016 19:27:14 +0000 (UTC)
Received: from resomta-po-12v.sys.comcast.net ([96.114.154.236])
	by resqmta-po-12v.sys.comcast.net with comcast
	id 6jRn1s00D56HXL001jT6ug; Sat, 16 Jan 2016 19:27:06 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-12v.sys.comcast.net with comcast
	id 6jT51s0092U0RYt01jT5NU; Sat, 16 Jan 2016 19:27:06 +0000
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Work in progress: mod_proxy Health Check module
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <D9F39EF2-B1AC-4453-A854-33CBEFF42621@jaguNET.com>
Date: Sat, 16 Jan 2016 14:27:05 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <D8733655-51FC-4C3D-9DBD-BFAECA11E487@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com> <7C8BB910-7D19-4520-BE26-EE25CDC9608F@jaguNET.com> <CALK=YjNxnUAjX1mGsAXAeXRmHJ3Pz=bfcMnibKTc5j2Yf3QOSw@mail.gmail.com> <1012F319-C047-4527-8B01-903CDD0F083D@jaguNET.com> <56907444.2070905@primary.net> <D9F39EF2-B1AC-4453-A854-33CBEFF42621@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1452972426;
	bh=huaFjR7KkKh6oUFOirrK3/nKl0LZ9tQLXtULRMjRI7I=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=LFezIpScTKx5cc5JerU9+EWvvKtTUcbv7K7TjzNeZ+Mbp9IXTPWqCb8i4ktNrMxnY
	 lNaVGEGfJgUYg/FkzJcK6hG7AopJK/CVANM9IC35yikKZIkx6HsjVKDP1Gl0/uaQJQ
	 OwNM4zcDXsKKleUX3oanK8HEGg8WYZ3od0qI8XIk0hjzGaQwxo/U/9GWwMDICZ5jPm
	 xIlz1eady//tU2VwRfqSAy1Mw56vUTP8VsZsfwHr70pZz0RdpLObpbh8Tx78lPYmMK
	 dliDCscN61egYTI+1Z7b2B/LqduwsDarQ3fZf5l2gXXnkH8B9T7HNjtRKGJnBN48v8
	 mFZjOPrqO7Zog==

What's currently in trunk is mostly ready for a more
in-depth look-see. Right now, only the tcp check is
complete, with others coming shortly.

Will work on the docs over the weekend.

From dev-return-85205-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jan 17 07:15:18 2016
Return-Path: <dev-return-85205-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5D82C17A52
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 17 Jan 2016 07:15:18 +0000 (UTC)
Received: (qmail 90368 invoked by uid 500); 17 Jan 2016 07:15:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 90293 invoked by uid 500); 17 Jan 2016 07:15:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 90284 invoked by uid 99); 17 Jan 2016 07:15:17 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Jan 2016 07:15:17 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id F273C1A0149
	for <dev@httpd.apache.org>; Sun, 17 Jan 2016 07:15:16 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 7BEA0600E2; Sun, 17 Jan 2016 07:15:16 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2016/01/17]
Message-Id: <20160117071516.7BEA0600E2@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 17 Jan 2016 07:15:06 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24437|Opn|Nor|2003-11-05|mod_auth_ldap doubly-escapes backslash (\) charact|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Enh|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37770|Opn|Blk|2005-12-03|proxy: error reading status line from remote serve|
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Inf|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|Verify that log directories exist in httpd -t conf|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|Opn|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Maj|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47650|Opn|Trv|2009-08-05|httxt2dbm calculates value size incorrectly       |
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|New|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51104|Opn|Maj|2011-04-21|C++ support about httpd_config.h                  |
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|Opn|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Blk|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Nor|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|53999|Opn|Nor|2012-10-13|Deadlock between procmgr_send_spawn_cmd()/proctabl|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|Ver|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|Opn|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|New|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|Ver|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|Ver|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|Opn|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|Ver|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|Ver|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|Opn|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57895|New|Min|2015-05-05|missing m4a mimeType in mime.types                |
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
|58089|New|Nor|2015-07-01|mod_authz_host uses proxy IP even when mod_remotei|
|58097|New|Enh|2015-07-03|[feat] Preserve original connecting IP            |
|58101|New|Nor|2015-07-05|DeflateCompressionLevel inside vhost resets logfor|
|58107|New|Blk|2015-07-06|Httpd crashes on startup every time, dump file att|
|58109|New|Nor|2015-07-06|Apache on windows cannot handle the hash symbol (#|
|58118|New|Min|2015-07-09|mod_proxy_fcgi logs 503 when user aborts connectio|
|58120|New|Nor|2015-07-10|ProxyPassInherit does not work as expect          |
|58121|New|Nor|2015-07-10|ProxyHTMLMeta seems to ignore all <meta http-equiv|
|58129|New|Nor|2015-07-12|man pages are not generated correctly             |
|58132|New|Nor|2015-07-12|non-standard, non-traditional man page layout make|
|58135|New|Nor|2015-07-14|mod_cache sends client "if-Modified-Since" to back|
|58141|New|Nor|2015-07-15|Apache Service doesn't start when rotatlogs.exe pa|
|58142|New|Nor|2015-07-15|authz_core ignores loglevel                       |
|58158|New|Nor|2015-07-21|Not honoring HTTP spec with regard to Accept-Encod|
|58168|New|Enh|2015-07-21|Would like full request evaluation support in Rewr|
|58171|New|Nor|2015-07-22|ap_session_save saves the wrong session after a de|
|58177|New|Enh|2015-07-24|Mod Proxy forward trailers in http chunked request|
|58180|New|Enh|2015-07-24|ErrorDocument original URL in subsequent <Location|
|58181|New|Enh|2015-07-25|mod_expire should allow "minus" keyword same like |
|58188|New|Nor|2015-07-28|http2 mod_lua: support build with lua 5.2+        |
|58197|New|Nor|2015-07-31|apr-util-1.5.4 build against openldap - "could not|
|58225|New|Reg|2015-08-08|intermitant segfault 11 in session_identity_encode|
|58226|New|Nor|2015-08-08|XSS in Error Page                                 |
|58231|New|Nor|2015-08-11|RewriteCond can add "Host" to the Vary-Header     |
|58235|New|Enh|2015-08-12|Ability to allow from domain but with using forwar|
|58243|New|Nor|2015-08-14|rotatelogs goes infinite at startup               |
|58248|New|Nor|2015-08-17|Error 404 in use some characters of utf8 in url   |
|58257|New|Nor|2015-08-18|require ldap-group does not work if account-fullna|
|58278|Inf|Blk|2015-08-24|apache - mod_security Issue : apache no releasing |
|58280|New|Nor|2015-08-24|Backend connection not closed until timeout if cli|
|58288|New|Blk|2015-08-27|Semaphore amount increase until crash when enablin|
|58292|New|Nor|2015-08-27|FallbackResource breaks chunked encoding sometimes|
|58304|New|Nor|2015-08-30|Unexpected Warnings from Macro Use in 2.4         |
|58305|New|Nor|2015-08-30|mod_cgi documentation not clear about what is pass|
|58306|New|Nor|2015-08-30|documentation needs to make it clear which directi|
|58307|New|Nor|2015-08-31|Segmentation fault in child in "read(__nbytes, __b|
|58317|New|Min|2015-09-02|Error message AH01630 is missing file name on deny|
|58334|New|Min|2015-09-06|WebDAV HTTP access does not include meta tag for c|
|58335|New|Nor|2015-09-07|mod_authnz_ldap mismatch                          |
|58343|New|Nor|2015-09-08|The pdf files come up as a blank page.            |
|58354|New|Maj|2015-09-10|(20014)Internal error (specific information not av|
|58356|New|Blk|2015-09-10|Session jumping due to incorrect route            |
|58364|New|Reg|2015-09-11|Apache Server is restarted time to time (Release 2|
|58417|New|Min|2015-09-16|ApacheBench (ab) won't display Server Software of |
|58419|New|Nor|2015-09-16|ApacheBench (ab) doesn't work with keep-alives aga|
|58423|New|Reg|2015-09-17|Apache >= 2.4.8 PCRE_DUPNAMES causes build failure|
|58467|New|Maj|2015-09-29|Environment Variables in ProxyHTMLURLMap produces |
|58475|New|Nor|2015-10-03|Support append/merge with semicolon-separated head|
|58488|New|Nor|2015-10-08|Stoped PHP-FPM pool in multi-pool system with comu|
|58491|New|Maj|2015-10-09|Core dumps appear when the load increases         |
|58492|Inf|Nor|2015-10-09|I think LDAPConnectionPoolTTL is not being honored|
|58498|New|Nor|2015-10-16|Apache 2.4.17: Regression with mod_autoindex (in c|
|58500|New|Nor|2015-10-16|dav_fs not enabled by default                     |
|58503|New|Cri|2015-10-16|segfault in apr_brigade_cleanup() under high load |
|58509|New|Trv|2015-10-20|2.4.17-dev introduces second core.c handler at sta|
|58524|New|Nor|2015-10-23|mod_http2 segfaults when under heavy load         |
|58528|New|Nor|2015-10-23|AllowOverrideList None gets misparsed and .htacces|
|58529|New|Maj|2015-10-23|Segmentation fault after modifying a proxy Balance|
|58550|New|Enh|2015-10-26|During load, Apache 2.2.x with prefork MPM didn|
|58574|New|Nor|2015-11-02|Apache error AH01630 (client denied) but working  |
|58593|New|Nor|2015-11-06|mod_proxy wrong decision between http and ws      |
|58598|New|Enh|2015-11-08|Internal Server Error (500) when requesting non-ex|
|58602|New|Nor|2015-11-11|Priority issue on DirectoryMatch directive        |
|58604|New|Reg|2015-11-12|Plaintext auth broken in any Explicit FTP/AUTH TLS|
|58612|New|Min|2015-11-16|mod_webdav when write_stream failed should break a|
|58669|New|Nor|2015-11-30|Order of DBDInitSQL and DBDPrepareSQL             |
|58688|New|Nor|2015-12-03|Missing mod_ssl connection-level upgrade headers f|
|58700|New|Nor|2015-12-07|Apache logs not working with mod_remoteip and X-fo|
|58720|New|Enh|2015-12-11|querying server status stalls when scoreboard is f|
|58727|New|Min|2015-12-13|Directories with a ProxyPass directive are not dis|
|58732|New|Nor|2015-12-14|Error Log isn't writing When Apache Shutdown with |
|58739|New|Cri|2015-12-15|Undocumented behavior of REDIRECT_URL and REDIRECT|
|58777|New|Enh|2015-12-28|URLs containing a ? are assumed to be query string|
|58789|New|Nor|2016-01-03|header set multiple htaccess                      |
|58798|New|Nor|2016-01-04|Misleading terminology                            |
|58799|New|Nor|2016-01-04|mod_fcgid: FcgidMinProcessesPerClass doesn't seem |
|58803|New|Cri|2016-01-05|HTTP connection is getting closed after 5 mins ( R|
|58806|New|Maj|2016-01-05|HTTP/2 appears to keep workers in KEEPALIVE status|
|58825|Inf|Nor|2016-01-08|Upload really big files with PUT method and XMLHTT|
|58826|New|Cri|2016-01-08|OCSP Stapling does not resolve DNS                |
|58828|New|Maj|2016-01-08|LA-U variables not set depending on the URI       |
|58834|New|Nor|2016-01-11|ModRewrite fails with .php urls and FPM on Apache |
|58842|New|Nor|2016-01-12|mod_proxy DNS cache with authoritative and no-auth|
|58854|New|Reg|2016-01-13|RewriteRule in .htaccess ignores 'Require all deni|
|58855|New|Enh|2016-01-14|Don't read through entire string when testing for |
|58856|New|Reg|2016-01-14|AddOutputFilterByType in Apache 2.4 inserts filter|
|58871|New|Nor|2016-01-15|HTTP/2 when in use, response size is recorded in t|
|58873|New|Nor|2016-01-15|Chunked encoding, Content Length and mod_deflate  |
|58875|New|Nor|2016-01-15|Updated the documents index.xml.es and custom-erro|
|58880|New|Enh|2016-01-17|Support serving stale content while revalidating c|
+-----+---+---+----------+--------------------------------------------------+
| Total 1562 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-85206-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan 18 10:03:45 2016
Return-Path: <dev-return-85206-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EA4AB18D3E
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 18 Jan 2016 10:03:44 +0000 (UTC)
Received: (qmail 34650 invoked by uid 500); 18 Jan 2016 10:03:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34574 invoked by uid 500); 18 Jan 2016 10:03:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34561 invoked by uid 99); 18 Jan 2016 10:03:44 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Jan 2016 10:03:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id CE8F4C1264;
	Mon, 18 Jan 2016 10:03:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.555
X-Spam-Level:
X-Spam-Status: No, score=-0.555 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id EHx4jgKyL5Bd; Mon, 18 Jan 2016 10:03:42 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 2C05F258DB;
	Mon, 18 Jan 2016 10:03:42 +0000 (UTC)
Received: from [10.105.35.126] (unknown [5.56.169.80])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 0D129820E1;
	Mon, 18 Jan 2016 10:03:35 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1725149 - in /httpd/httpd/trunk: CHANGES docs/manual/mod/core.xml include/ap_mmn.h include/http_core.h server/core.c
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <20160117234009.7167F3A00E7@svn01-us-west.apache.org>
Date: Mon, 18 Jan 2016 12:03:38 +0200
Cc: cvs@httpd.apache.org
Content-Transfer-Encoding: quoted-printable
Message-Id: <F52E679F-B07B-475F-86A8-1155429C4EC1@sharp.fm>
References: <20160117234009.7167F3A00E7@svn01-us-west.apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 18 Jan 2016, at 1:40 AM, covener@apache.org wrote:

> Author: covener
> Date: Sun Jan 17 23:40:09 2016
> New Revision: 1725149
>=20
> URL: http://svn.apache.org/viewvc?rev=3D1725149&view=3Drev
> Log:
> allow expressions to be used in SetHandler. Opt-in with expr=3D =
prefix.

I am -0.9 on the opt-in with expr=3D syntax.

Almost all the directives with expression support simply support =
expressions. Except for the one or two that don=E2=80=99t, which forces =
our end users to either know or constantly check the manual to work out =
which is which. We can=E2=80=99t even cleanly detect a possible error - =
if the person puts in an expression by accident where an expr=3D is =
needed there is no way the server can detect that. This is really nasty.

If we want opt-in expression support we need some kind of Expression =
+Foo statement to control this.

Regards,
Graham
=E2=80=94


From dev-return-85207-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan 18 11:14:03 2016
Return-Path: <dev-return-85207-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D50D51805A
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 18 Jan 2016 11:14:03 +0000 (UTC)
Received: (qmail 12103 invoked by uid 500); 18 Jan 2016 11:14:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12034 invoked by uid 500); 18 Jan 2016 11:14:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12023 invoked by uid 99); 18 Jan 2016 11:14:03 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Jan 2016 11:14:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 777AA18052F
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 11:14:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.575
X-Spam-Level:
X-Spam-Status: No, score=-0.575 tagged_above=-999 required=6.31
	tests=[RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RP_MATCHES_RCVD=-0.554, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 1eL9IsM9svHD for <dev@httpd.apache.org>;
	Mon, 18 Jan 2016 11:13:56 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id B3D1143F5A
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 11:13:55 +0000 (UTC)
Received: from int-mx10.intmail.prod.int.phx2.redhat.com (int-mx10.intmail.prod.int.phx2.redhat.com [10.5.11.23])
	by mx1.redhat.com (Postfix) with ESMTPS id 08CF8C0AA563
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 11:13:55 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-32.brq.redhat.com [10.40.204.32])
	by int-mx10.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id u0IBDqso031673
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 06:13:53 -0500
Subject: Re: mod_mime_magic, gzipped tarballs and Docker
To: dev@httpd.apache.org
References: <568F6A11.1060309@redhat.com>
 <CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com>
 <CACsi2511-fjOZp3ostR=1xZ0RognDw+Fw62wsboFkHvChovUzw@mail.gmail.com>
 <CAKQ1sVPL9n2Bx9psx4XkzZOk=XfFXm8Vixer+e+QZkndY5GBDA@mail.gmail.com>
 <CAKQ1sVMQzat3r+9uYBU7K=9=nQfbctB_OatLWCqo5AsiBiK8hQ@mail.gmail.com>
 <CACsi251oAtGtEgFb9=dqo0eL2NLcgk8dtwe4EDjE+8mpc4_S=Q@mail.gmail.com>
From: =?UTF-8?Q?Jan_Kalu=c5=bea?= <jkaluza@redhat.com>
Message-ID: <569CC8EF.5000301@redhat.com>
Date: Mon, 18 Jan 2016 12:13:51 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.3.0
MIME-Version: 1.0
In-Reply-To: <CACsi251oAtGtEgFb9=dqo0eL2NLcgk8dtwe4EDjE+8mpc4_S=Q@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.23

On 01/08/2016 07:44 PM, William A Rowe Jr wrote:
> Do we have to repeat the softmagic call if checkzmagic resolves to
> x-gzip/x-deflate and the internal content type needs to be deciphered?

That's true.

I think that Yann's patch moving the zmagic call after the softmagic 
call would just mean that zmagic won't be called at all if the softmagic 
recognizes the file format.

We would have to check the softmagic result by something similar to 
"magic_rsl_to_request" and if it's type we want to decompress, we would 
have to run zmagic.

Before really trying to do so, I want to ask if I understand the 
reasoning right. Do we consider this way because users can then remove 
x-gzip from mime magic and will be able to use it to disable the 
mod_mime_magic behaviour discussed in this thread?

Regards,
Jan Kaluza

> If so, a tweak to this patch sounds like a winner, and could selectively
> recognize different inflation streams including bzip2 etc.
>
> On Fri, Jan 8, 2016 at 10:57 AM, Yann Ylavic <ylavic.dev@gmail.com
> <mailto:ylavic.dev@gmail.com>> wrote:
>
>     On Fri, Jan 8, 2016 at 5:30 PM, Yann Ylavic <ylavic.dev@gmail.com
>     <mailto:ylavic.dev@gmail.com>> wrote:
>     > On Fri, Jan 8, 2016 at 3:17 PM, William A Rowe Jr <wrowe@rowe-clan.net <mailto:wrowe@rowe-clan.net>> wrote:
>     >>
>     >> Agreed it is configuration, but cant we simply tweak our recommended
>     >> conf/magic
>     >> file???
>     >>
>     >> # standard unix compress
>     >> # Enable the alternate line below to present gzip content as a transfer
>     >> encoded
>     >> # stream of the underlying content;
>     >> #0       string          \037\235        application/octet-stream
>     >> x-compress
>     >> 0       string          \037\235        application/octet-stream
>     >>
>     >> # gzip (GNU zip, not to be confused with [Info-ZIP/PKWARE] zip archiver)
>     >> # Enable the alternate line below to present gzip content as a transfer
>     >> encoded
>     >> # stream of the underlying content;
>     >> #0       string          \037\213        application/octet-stream
>     >> x-gzip
>     >> 0       string          \037\213        application/octet-stream
>     >>
>     >> WDYT?
>     >
>     > I wasn't aware of conf/magic file, but it seems not used by zmagic()
>     > which hardcodes its types.
>     > I may be missing something though...
>
>     Looks like it is already like this in conf/magic of 2.4.x and 2.2.x.
>     My bet is that zmagic() is run before softmagic(), so the magic file
>     is of no help.
>
>     Maybe a simpler patch could be:
>
>     Index: modules/metadata/mod_mime_magic.c
>     ===================================================================
>     --- modules/metadata/mod_mime_magic.c    (revision 1723283)
>     +++ modules/metadata/mod_mime_magic.c    (working copy)
>     @@ -880,14 +885,6 @@ static int tryit(request_rec *r, unsigned char *bu
>                        int checkzmagic)
>       {
>           /*
>     -     * Try compression stuff
>     -     */
>     -    if (checkzmagic == 1) {
>     -        if (zmagic(r, buf, nb) == 1)
>     -            return OK;
>     -    }
>     -
>     -    /*
>            * try tests in /etc/magic (or surrogate magic file)
>            */
>           if (softmagic(r, buf, nb) == 1)
>     @@ -900,6 +897,14 @@ static int tryit(request_rec *r, unsigned char *bu
>               return OK;
>
>           /*
>     +     * Try compression stuff
>     +     */
>     +    if (checkzmagic == 1) {
>     +        if (zmagic(r, buf, nb) == 1)
>     +            return OK;
>     +    }
>     +
>     +    /*
>            * abandon hope, all ye who remain here
>            */
>           return DECLINED;
>     --
>
>


From dev-return-85208-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan 18 12:25:42 2016
Return-Path: <dev-return-85208-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DDDC018625
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 18 Jan 2016 12:25:42 +0000 (UTC)
Received: (qmail 53932 invoked by uid 500); 18 Jan 2016 12:25:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53853 invoked by uid 500); 18 Jan 2016 12:25:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53843 invoked by uid 99); 18 Jan 2016 12:25:37 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Jan 2016 12:25:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E96B1C2AAD
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 12:25:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.899
X-Spam-Level: **
X-Spam-Status: No, score=2.899 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Aa6ayBYTiVXm for <dev@httpd.apache.org>;
	Mon, 18 Jan 2016 12:25:30 +0000 (UTC)
Received: from mail-qg0-f45.google.com (mail-qg0-f45.google.com [209.85.192.45])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 58BA242A21
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 12:25:30 +0000 (UTC)
Received: by mail-qg0-f45.google.com with SMTP id 6so476375881qgy.1
        for <dev@httpd.apache.org>; Mon, 18 Jan 2016 04:25:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=89KRa7yuifTQ/s1Yo/gbPMpRZXi7GYm+L1T7QdJCXtQ=;
        b=oNdQNo/xoUbyQR2klBuPn5I3YnNtai0l9FiNV2GLRMsZAc63IUatgeyfpFkjRlJt+Q
         UVAzQrO+kcTtzznYU2uuf3HThzgJRUcaJmK/NHCvgtVZ778pTRZmS75S/8rvPMZlgavm
         tB7q7ABH56w02WlL6xywvftz7Kw7Nx1dBH+YfstumyMpHTyCpn37uxdH8+tyCElN6Qus
         ZLI8qhzFG/a0Pi3ccMk0mVwsNqya0sRElYPMJ0P0SwHNUdk7TPPJUX8W4RPgwVzIdA1P
         FrdI9/wJtWHecbee05sOJI8Tmtd40dxpytCiuw+AV4cHhfU++d4uv9Y/akMqgqgwOfwt
         QbQw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=89KRa7yuifTQ/s1Yo/gbPMpRZXi7GYm+L1T7QdJCXtQ=;
        b=U8bdIN+RxZ0FJA1brLqBcNb7Xb4oGi3nBq0mjDQoeqMhnUXuWUNNc++JZu6tiWinD9
         Dik/PLUPGvc56baMTRsBhoenYN8jKLiV74z1ThUAjIrGyvlIoiM4j6CURWBzT4ZT4lH7
         1VnuuER5FA/ESgmENf96f6KlqW/agaPdFJXil1WBHkQThymNp39wXpQ+qL1dGoCXq5D+
         qtGmJIHUuVI/9CTT9sxo6Sh94a8u4CKkPFMEhbYwhQrzPfzoGPJHk/ju66XX+SldlIgD
         eMMMO7TpQY/BWAmo20Uwjj8oPCk1fjpUWT2A1VWg2WXJ1dOjpc9odvI5Q8DNCJXq7/st
         sYiw==
X-Gm-Message-State: ALoCoQkX/rHOecXhyHPmM1OtW7goIyNcY/cCAInD+imnVo6DT5mA8QCYq5KYHifYwVY9g7D0/phr/LdFQpZ+hK8Rp/4ClN5LYA==
MIME-Version: 1.0
X-Received: by 10.140.242.147 with SMTP id n141mr33404488qhc.2.1453119924151;
 Mon, 18 Jan 2016 04:25:24 -0800 (PST)
Received: by 10.140.91.6 with HTTP; Mon, 18 Jan 2016 04:25:23 -0800 (PST)
Received: by 10.140.91.6 with HTTP; Mon, 18 Jan 2016 04:25:23 -0800 (PST)
In-Reply-To: <0DA2B72D-6B7E-47EE-AECB-6B79D00FDE8A@jaguNET.com>
References: <568F6A11.1060309@redhat.com>
	<CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com>
	<0DA2B72D-6B7E-47EE-AECB-6B79D00FDE8A@jaguNET.com>
Date: Mon, 18 Jan 2016 04:25:23 -0800
Message-ID: <CAMa9x1SjOz6Y8Bc54J=-vnzdV_uEOuPPMttMyLWZrEmoj95ykQ@mail.gmail.com>
Subject: Re: mod_mime_magic, gzipped tarballs and Docker
From: Ronald Masaya <ronaldmasaya.rm@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a1139c002e5404e05299ad8bd

--001a1139c002e5404e05299ad8bd
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Clash of clans
On Jan 8, 2016 8:43 PM, "Jim Jagielski" <jim@jagunet.com> wrote:

> -0.9...
>
> This seems a very heavy solution to a specific one-off problem.
>
> > On Jan 8, 2016, at 4:27 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> >
> > Hi,
> >
> > On Fri, Jan 8, 2016 at 8:49 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wr=
ote:
> >>
> >> Content-Type: application/x-tar
> >> Content-Encoding: x-gzip
> > []
> >>
> >> So, the mod_mime_magic is saying here that the body is tarball encoded
> by
> >> gzip.
> >
> > AIUI, mod_mime_magic does indeed try to uncompress the tar.gz and adds
> > the above headers.
> >
> >>
> >> But I think even we are right here, the Content-Encoding should be use=
d
> only
> >> when httpd itself encodes the original content, otherwise it confuses
> >> clients (I've asked few people and it confuses some web browsers too -
> I can
> >> get more info if needed.).
> >
> > Agreed, this looks wrong, the browsers will likely use the .tar file
> > instead (this adds unnecessary cycles to both the server and client).
> >
> >>
> >> Maybe we could stop setting Content-Encoding in mod_mime_magic and jus=
t
> use
> >> Content-Type?
> >
> > Since it's always been there, we probably should add a new
> > mod_mime_magic directive to control the behaviour and avoid breaking
> > cases.
> >
> > Something along:
> >
> > Index: modules/metadata/mod_mime_magic.c
> > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> > --- modules/metadata/mod_mime_magic.c    (revision 1723283)
> > +++ modules/metadata/mod_mime_magic.c    (working copy)
> > @@ -456,6 +456,7 @@ typedef struct {
> >     const char *magicfile;    /* where magic be found */
> >     struct magic *magic;      /* head of magic config list */
> >     struct magic *last;
> > +    int uncompress;
> > } magic_server_config_rec;
> >
> > /* per-request info */
> > @@ -511,6 +512,10 @@ static const command_rec mime_magic_cmds[] =3D
> > {
> >     AP_INIT_TAKE1("MimeMagicFile", set_magicfile, NULL, RSRC_CONF,
> >      "Path to MIME Magic file (in file(1) format)"),
> > +    AP_INIT_FLAG("MimeMagicUncompress", ap_set_flag_slot,
> > +     (void *)APR_OFFSETOF(magic_server_config_rec, uncompress),
> RSRC_CONF,
> > +     "Whether MIME should try to render uncompressed content by
> recognizing "
> > +     "the underlying type, or not (default)"),
> >     {NULL}
> > };
> >
> > @@ -2081,6 +2086,9 @@ static int ncompr =3D sizeof(compr) / sizeof(comp=
r[0
> >
> > static int zmagic(request_rec *r, unsigned char *buf, apr_size_t nbytes=
)
> > {
> > +    magic_server_config_rec *conf =3D (magic_server_config_rec *)
> > +                    ap_get_module_config(r->server->module_config,
> > +                                         &mime_magic_module);
> >     unsigned char *newbuf;
> >     int newsize;
> >     int i;
> > @@ -2095,15 +2103,20 @@ static int zmagic(request_rec *r, unsigned char
> *b
> >     if (i =3D=3D ncompr)
> >         return 0;
> >
> > -    if ((newsize =3D uncompress(r, i, &newbuf, HOWMANY)) > 0) {
> > -        /* set encoding type in the request record */
> > -        r->content_encoding =3D compr[i].encoding;
> > -
> > +    if (!conf->uncompress) {
> > +        magic_rsl_puts(r, apr_pstrcat(r->pool, "application/",
> > +                                      compr[i].encoding, NULL));
> > +    }
> > +    else if ((newsize =3D uncompress(r, i, &newbuf, HOWMANY)) > 0) {
> >         newbuf[newsize-1] =3D '\0';  /* null-terminate uncompressed dat=
a */
> >         /* Try to detect the content type of the uncompressed data */
> >         if (tryit(r, newbuf, newsize, 0) !=3D OK) {
> > +            magic_rsl_puts(r, apr_pstrcat(r->pool, "application/",
> > +                                          compr[i].encoding, NULL));
> >             return 0;
> >         }
> > +        /* set encoding type in the request record */
> > +        r->content_encoding =3D compr[i].encoding;
> >     }
> >     return 1;
> > }
> > --
> >
> > Regards,
> > Yann.
>
>

--001a1139c002e5404e05299ad8bd
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">Clash of clans</p>
<div class=3D"gmail_quote">On Jan 8, 2016 8:43 PM, &quot;Jim Jagielski&quot=
; &lt;<a href=3D"mailto:jim@jagunet.com">jim@jagunet.com</a>&gt; wrote:<br =
type=3D"attribution"><blockquote class=3D"gmail_quote" style=3D"margin:0 0 =
0 .8ex;border-left:1px #ccc solid;padding-left:1ex">-0.9...<br>
<br>
This seems a very heavy solution to a specific one-off problem.<br>
<br>
&gt; On Jan 8, 2016, at 4:27 AM, Yann Ylavic &lt;<a href=3D"mailto:ylavic.d=
ev@gmail.com">ylavic.dev@gmail.com</a>&gt; wrote:<br>
&gt;<br>
&gt; Hi,<br>
&gt;<br>
&gt; On Fri, Jan 8, 2016 at 8:49 AM, Jan Kalu=C5=BEa &lt;<a href=3D"mailto:=
jkaluza@redhat.com">jkaluza@redhat.com</a>&gt; wrote:<br>
&gt;&gt;<br>
&gt;&gt; Content-Type: application/x-tar<br>
&gt;&gt; Content-Encoding: x-gzip<br>
&gt; []<br>
&gt;&gt;<br>
&gt;&gt; So, the mod_mime_magic is saying here that the body is tarball enc=
oded by<br>
&gt;&gt; gzip.<br>
&gt;<br>
&gt; AIUI, mod_mime_magic does indeed try to uncompress the tar.gz and adds=
<br>
&gt; the above headers.<br>
&gt;<br>
&gt;&gt;<br>
&gt;&gt; But I think even we are right here, the Content-Encoding should be=
 used only<br>
&gt;&gt; when httpd itself encodes the original content, otherwise it confu=
ses<br>
&gt;&gt; clients (I&#39;ve asked few people and it confuses some web browse=
rs too - I can<br>
&gt;&gt; get more info if needed.).<br>
&gt;<br>
&gt; Agreed, this looks wrong, the browsers will likely use the .tar file<b=
r>
&gt; instead (this adds unnecessary cycles to both the server and client).<=
br>
&gt;<br>
&gt;&gt;<br>
&gt;&gt; Maybe we could stop setting Content-Encoding in mod_mime_magic and=
 just use<br>
&gt;&gt; Content-Type?<br>
&gt;<br>
&gt; Since it&#39;s always been there, we probably should add a new<br>
&gt; mod_mime_magic directive to control the behaviour and avoid breaking<b=
r>
&gt; cases.<br>
&gt;<br>
&gt; Something along:<br>
&gt;<br>
&gt; Index: modules/metadata/mod_mime_magic.c<br>
&gt; =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<br>
&gt; --- modules/metadata/mod_mime_magic.c=C2=A0 =C2=A0 (revision 1723283)<=
br>
&gt; +++ modules/metadata/mod_mime_magic.c=C2=A0 =C2=A0 (working copy)<br>
&gt; @@ -456,6 +456,7 @@ typedef struct {<br>
&gt;=C2=A0 =C2=A0 =C2=A0const char *magicfile;=C2=A0 =C2=A0 /* where magic =
be found */<br>
&gt;=C2=A0 =C2=A0 =C2=A0struct magic *magic;=C2=A0 =C2=A0 =C2=A0 /* head of=
 magic config list */<br>
&gt;=C2=A0 =C2=A0 =C2=A0struct magic *last;<br>
&gt; +=C2=A0 =C2=A0 int uncompress;<br>
&gt; } magic_server_config_rec;<br>
&gt;<br>
&gt; /* per-request info */<br>
&gt; @@ -511,6 +512,10 @@ static const command_rec mime_magic_cmds[] =3D<br=
>
&gt; {<br>
&gt;=C2=A0 =C2=A0 =C2=A0AP_INIT_TAKE1(&quot;MimeMagicFile&quot;, set_magicf=
ile, NULL, RSRC_CONF,<br>
&gt;=C2=A0 =C2=A0 =C2=A0 &quot;Path to MIME Magic file (in file(1) format)&=
quot;),<br>
&gt; +=C2=A0 =C2=A0 AP_INIT_FLAG(&quot;MimeMagicUncompress&quot;, ap_set_fl=
ag_slot,<br>
&gt; +=C2=A0 =C2=A0 =C2=A0(void *)APR_OFFSETOF(magic_server_config_rec, unc=
ompress), RSRC_CONF,<br>
&gt; +=C2=A0 =C2=A0 =C2=A0&quot;Whether MIME should try to render uncompres=
sed content by recognizing &quot;<br>
&gt; +=C2=A0 =C2=A0 =C2=A0&quot;the underlying type, or not (default)&quot;=
),<br>
&gt;=C2=A0 =C2=A0 =C2=A0{NULL}<br>
&gt; };<br>
&gt;<br>
&gt; @@ -2081,6 +2086,9 @@ static int ncompr =3D sizeof(compr) / sizeof(com=
pr[0<br>
&gt;<br>
&gt; static int zmagic(request_rec *r, unsigned char *buf, apr_size_t nbyte=
s)<br>
&gt; {<br>
&gt; +=C2=A0 =C2=A0 magic_server_config_rec *conf =3D (magic_server_config_=
rec *)<br>
&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 ap_get_module_config(r-&gt;server-&gt;module_config,<br>
&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0&amp;mime_magic_module);<br>
&gt;=C2=A0 =C2=A0 =C2=A0unsigned char *newbuf;<br>
&gt;=C2=A0 =C2=A0 =C2=A0int newsize;<br>
&gt;=C2=A0 =C2=A0 =C2=A0int i;<br>
&gt; @@ -2095,15 +2103,20 @@ static int zmagic(request_rec *r, unsigned cha=
r *b<br>
&gt;=C2=A0 =C2=A0 =C2=A0if (i =3D=3D ncompr)<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0return 0;<br>
&gt;<br>
&gt; -=C2=A0 =C2=A0 if ((newsize =3D uncompress(r, i, &amp;newbuf, HOWMANY)=
) &gt; 0) {<br>
&gt; -=C2=A0 =C2=A0 =C2=A0 =C2=A0 /* set encoding type in the request recor=
d */<br>
&gt; -=C2=A0 =C2=A0 =C2=A0 =C2=A0 r-&gt;content_encoding =3D compr[i].encod=
ing;<br>
&gt; -<br>
&gt; +=C2=A0 =C2=A0 if (!conf-&gt;uncompress) {<br>
&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 magic_rsl_puts(r, apr_pstrcat(r-&gt;pool,=
 &quot;application/&quot;,<br>
&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 compr[i].en=
coding, NULL));<br>
&gt; +=C2=A0 =C2=A0 }<br>
&gt; +=C2=A0 =C2=A0 else if ((newsize =3D uncompress(r, i, &amp;newbuf, HOW=
MANY)) &gt; 0) {<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0newbuf[newsize-1] =3D &#39;\0&#39;;=
=C2=A0 /* null-terminate uncompressed data */<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0/* Try to detect the content type of =
the uncompressed data */<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0if (tryit(r, newbuf, newsize, 0) !=3D=
 OK) {<br>
&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 magic_rsl_puts(r, apr_pstrc=
at(r-&gt;pool, &quot;application/&quot;,<br>
&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 compr[i].encoding, NULL));<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0return 0;<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}<br>
&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 /* set encoding type in the request recor=
d */<br>
&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 r-&gt;content_encoding =3D compr[i].encod=
ing;<br>
&gt;=C2=A0 =C2=A0 =C2=A0}<br>
&gt;=C2=A0 =C2=A0 =C2=A0return 1;<br>
&gt; }<br>
&gt; --<br>
&gt;<br>
&gt; Regards,<br>
&gt; Yann.<br>
<br>
</blockquote></div>

--001a1139c002e5404e05299ad8bd--

From dev-return-85209-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan 18 19:27:25 2016
Return-Path: <dev-return-85209-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5230C1868C
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 18 Jan 2016 19:27:25 +0000 (UTC)
Received: (qmail 49871 invoked by uid 500); 18 Jan 2016 19:27:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49803 invoked by uid 500); 18 Jan 2016 19:27:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49794 invoked by uid 99); 18 Jan 2016 19:27:24 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Jan 2016 19:27:24 +0000
Received: from gauss.localdomain (v4-86134b0f.pool.vitroconnect.de [134.19.75.15])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id C1F771A0040
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 19:27:23 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 2F6392D4
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 20:27:23 +0100 (CET)
Subject: Re: svn commit: r1725018 -
 /httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
To: dev@httpd.apache.org
References: <20160116190754.882A53A01D7@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <569D3C9B.9080203@apache.org>
Date: Mon, 18 Jan 2016 20:27:23 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <20160116190754.882A53A01D7@svn01-us-west.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 01/16/2016 08:07 PM, jim@apache.org wrote:
> Author: jim
> Date: Sat Jan 16 19:07:54 2016
> New Revision: 1725018
> 
> URL: http://svn.apache.org/viewvc?rev=1725018&view=rev
> Log:
> Move to a set of health check workers, mapping to
> each worker itself, instead of a single reused generic
> worker.
> 
> Modified:
>     httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
> 
> Modified: httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c?rev=1725018&r1=1725017&r2=1725018&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c (original)
> +++ httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c Sat Jan 16 19:07:54 2016

> @@ -57,43 +57,81 @@ static void *hc_create_config(apr_pool_t
>      apr_pool_create(&ctx->p, p);
>      ctx->templates = apr_array_make(ctx->p, 10, sizeof(hc_template_t));
>      ctx->conditions = apr_array_make(ctx->p, 10, sizeof(hc_condition_t));
> -    ctx->hc = NULL;
> +    ctx->hcworkers = apr_hash_make(ctx->p);
>      ctx->s = s;
>  
>      return ctx;
>  }
>  
> -static void hc_child_init(apr_pool_t *p, server_rec *s)
> +static proxy_worker *hc_get_hcworker(sctx_t *ctx, proxy_worker *worker)
>  {
>      proxy_worker *hc = NULL;
> +    const char* wptr;
>  
> -    /* TODO */
> -    while (s) {
> -        sctx_t *ctx = (sctx_t *) ap_get_module_config(s->module_config,
> -                                                      &proxy_hcheck_module);
> -        if (!hc) {
> -            ap_proxy_define_worker(ctx->p, &hc, NULL, NULL, "http://www.apache.org", 0);
> -            PROXY_STRNCPY(hc->s->name,     "proxy:hcheck");
> -            PROXY_STRNCPY(hc->s->hostname, "*");
> -            PROXY_STRNCPY(hc->s->scheme,   "*");
> -            hc->hash.def = hc->s->hash.def =
> -                ap_proxy_hashfunc(hc->s->name, PROXY_HASHFUNC_DEFAULT);
> -            hc->hash.fnv = hc->s->hash.fnv =
> -                ap_proxy_hashfunc(hc->s->name, PROXY_HASHFUNC_FNV);
> -            /* Do not disable worker in case of errors */
> -            hc->s->status |= PROXY_WORKER_IGNORE_ERRORS;
> -            /* Mark as the "generic" worker */
> -            hc->s->status |= PROXY_WORKER_GENERIC;
> -            ctx->hc = hc;
> -            ap_proxy_initialize_worker(ctx->hc, s, ctx->p);
> -            /* Enable address cache for generic reverse worker */
> -            hc->s->is_address_reusable = 1;
> +    wptr = apr_psprintf(ctx->p, "%pp", worker);
> +    hc = (proxy_worker *)apr_hash_get(ctx->hcworkers, wptr, APR_HASH_KEY_STRING);
> +    if (!hc) {
> +        ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, ctx->s, APLOGNO()
> +                     "Creating hc worker %s for %s://%s:%d",
> +                     wptr, worker->s->scheme, worker->s->hostname,
> +                     (int)worker->s->port);
> +
> +        ap_proxy_define_worker(ctx->p, &hc, NULL, NULL, worker->s->name, 0);
> +        PROXY_STRNCPY(hc->s->name,     wptr);
> +        PROXY_STRNCPY(hc->s->hostname, worker->s->hostname);
> +        PROXY_STRNCPY(hc->s->scheme,   worker->s->scheme);
> +        hc->hash.def = hc->s->hash.def = ap_proxy_hashfunc(hc->s->name, PROXY_HASHFUNC_DEFAULT);
> +        hc->hash.fnv = hc->s->hash.fnv = ap_proxy_hashfunc(hc->s->name, PROXY_HASHFUNC_FNV);
> +        hc->s->port = worker->s->port;
> +        /* Do not disable worker in case of errors */
> +        hc->s->status |= PROXY_WORKER_IGNORE_ERRORS;
> +        /* Mark as the "generic" worker */
> +        hc->s->status |= PROXY_WORKER_GENERIC;
> +        ap_proxy_initialize_worker(hc, ctx->s, ctx->p);
> +        /* Enable address cache for generic reverse worker */
> +        hc->s->is_address_reusable = 1;

Hm, shouldn't the HC worker use the same setting as the corresponding worker?
If the workers address is not reusable then worker address might resolve to a different IP
each time it resolves which could cause the HC worker to probe the wrong backend.

> +        /* tuck away since we need the preparsed address */
> +        hc->cp->addr = worker->cp->addr;
> +        apr_hash_set(ctx->hcworkers, wptr, APR_HASH_KEY_STRING, hc);
> +    }
> +    return hc;
> +}
> +

Regards

Rdiger

From dev-return-85210-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan 18 19:51:56 2016
Return-Path: <dev-return-85210-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9B1C7187A7
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 18 Jan 2016 19:51:56 +0000 (UTC)
Received: (qmail 4975 invoked by uid 500); 18 Jan 2016 19:51:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 4899 invoked by uid 500); 18 Jan 2016 19:51:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 4889 invoked by uid 99); 18 Jan 2016 19:51:55 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Jan 2016 19:51:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 7FD15C0D53
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 19:51:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id GzjBvmYqgwLR for <dev@httpd.apache.org>;
	Mon, 18 Jan 2016 19:51:49 +0000 (UTC)
Received: from resqmta-po-10v.sys.comcast.net (resqmta-po-10v.sys.comcast.net [96.114.154.169])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id CC85121265
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 19:51:48 +0000 (UTC)
Received: from resomta-po-12v.sys.comcast.net ([96.114.154.236])
	by resqmta-po-10v.sys.comcast.net with comcast
	id 7Xra1s00156HXL001XroLl; Mon, 18 Jan 2016 19:51:48 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-12v.sys.comcast.net with comcast
	id 7Xrn1s0012U0RYt01Xrnr3; Mon, 18 Jan 2016 19:51:48 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1725018 - /httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <569D3C9B.9080203@apache.org>
Date: Mon, 18 Jan 2016 14:51:46 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <DF54A39A-E8DC-4C01-985D-9A9A9A7E0360@jaguNET.com>
References: <20160116190754.882A53A01D7@svn01-us-west.apache.org> <569D3C9B.9080203@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453146708;
	bh=xcNt4aszYwejVtJl6gRwcaioKFM5kVKl/VREpJr+oBE=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=TUnd7/z7bmW5JtOxeilGU+puxqB3VJjZT+YPjKHRHPTeNJ8g7UdEe/bO6fVQYOkwY
	 fzuUiMOo0paynPD74kq9PviC6CUCsY3dYUyt8k3vgb+sJSLEGSIrowiwKG2piiBkLr
	 InEve9ZVEdqoi3srJ5PeVcsTAHFcAnkGiZGZn93yW7KJ2tKt5Yi//XLxt77tWTJZip
	 HKsG3zJhbwkyAvn57nWjwqlw//q4b8Ub0CyHMS5l+A8CGceFxyLFejcZSDMcZj/j2Z
	 LyaPt7PyyrvrUaIsKhqty3kFvvWiM8rh2uo9XS7d2zMlNX70oe2GH74RUcRIsPmyjU
	 pOBM99BiqHplQ==

>=20
> Hm, shouldn't the HC worker use the same setting as the corresponding =
worker?
> If the workers address is not reusable then worker address might =
resolve to a different IP
> each time it resolves which could cause the HC worker to probe the =
wrong backend.
>=20

That is a good point... I was trying to reduce the
overhead, but yeah, that makes sense.


From dev-return-85211-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan 18 20:22:39 2016
Return-Path: <dev-return-85211-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6489318902
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 18 Jan 2016 20:22:39 +0000 (UTC)
Received: (qmail 63847 invoked by uid 500); 18 Jan 2016 20:22:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63781 invoked by uid 500); 18 Jan 2016 20:22:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63771 invoked by uid 99); 18 Jan 2016 20:22:38 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Jan 2016 20:22:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1DE44180571
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 20:22:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.998
X-Spam-Level: **
X-Spam-Status: No, score=2.998 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=3,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id vMHHzS6VKgbC for <dev@httpd.apache.org>;
	Mon, 18 Jan 2016 20:22:36 +0000 (UTC)
Received: from mail-io0-f179.google.com (mail-io0-f179.google.com [209.85.223.179])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 10B6E203BE
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 20:22:36 +0000 (UTC)
Received: by mail-io0-f179.google.com with SMTP id 1so513062523ion.1
        for <dev@httpd.apache.org>; Mon, 18 Jan 2016 12:22:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=kynKQReqs3MsHFoGSgxaQIzNTX7lQEhyilLW+kB70LQ=;
        b=NqThG/0fVcxu8Y9HHBDEQPNyA/M+w8lwmHdKv8W0xY1uNz9b2OPXqHIXM7N06FRSA4
         58ddUVDUR4yCEHW/OJcgsEV+nrs2VxtVQt2/Gwp7DPHMpJ7yCZfVyJ4qupOB2Hy3R8HG
         iKPmod5XWqtZAebG0XJHAK4Kmashq6r3DQhhgaK+PNaFQ9WPh2JK4eGGkmjf4HWLx+e9
         AAyMXAn8+VIr8ByZQRgDd+Y66TtHB1S5c17WXtT/YxfSwyIT61jBhFQhwdXe9Xm0ectG
         pMZDw3TtNZLHD+6fpp0DBBNkmvUbZA+4ava+MqTLCzbfTbZIjdEaGuN50gAJ+ZsDWcxK
         UfSw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=kynKQReqs3MsHFoGSgxaQIzNTX7lQEhyilLW+kB70LQ=;
        b=EYdnwgZXaJ6ze6sEVshLG3ccEa3wyRXEASAG03+jNus5ZKs3/lZ5rOJ9VXfD6qOiYW
         9oOOyG6qcJr8+fv8aMXTRfDPZyAKZZDhZRAUxos/iZhlcfdfoxpc1iEFhSHk3dWUepS6
         fxw6grHWCN2tLz44Q/iiZJpgQzYT88D7J0e8l+RMA9zz1DW6Se+suxTk2HfdlJV1UQQw
         O+qEFHTOs0OfatAwmNKPVxoPV5yFSlIEipjwvLzVbF7xIionNrWIReLFu98n94IDv6F8
         iNbN2HJf4UhWzrDtTz9iUrLZVsVN0V5TMFvCP8JifkoLuTaipUCKXNaTZYFaT+lpZ5t9
         t6ug==
X-Gm-Message-State: ALoCoQlYt6aKp2BFNsLxAc+9X+kGtY7TM94/1Jsv/qjvci8LCZV5byo68ErQLfrTAqcclRTeZITmA/0mngyr9PKnnqGSsK4WAzrFVW7AlOWyAZYW2wBECYA=
MIME-Version: 1.0
X-Received: by 10.107.34.133 with SMTP id i127mr24486989ioi.150.1453148554972;
 Mon, 18 Jan 2016 12:22:34 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Mon, 18 Jan 2016 12:22:34 -0800 (PST)
In-Reply-To: <569CC8EF.5000301@redhat.com>
References: <568F6A11.1060309@redhat.com>
	<CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com>
	<CACsi2511-fjOZp3ostR=1xZ0RognDw+Fw62wsboFkHvChovUzw@mail.gmail.com>
	<CAKQ1sVPL9n2Bx9psx4XkzZOk=XfFXm8Vixer+e+QZkndY5GBDA@mail.gmail.com>
	<CAKQ1sVMQzat3r+9uYBU7K=9=nQfbctB_OatLWCqo5AsiBiK8hQ@mail.gmail.com>
	<CACsi251oAtGtEgFb9=dqo0eL2NLcgk8dtwe4EDjE+8mpc4_S=Q@mail.gmail.com>
	<569CC8EF.5000301@redhat.com>
Date: Mon, 18 Jan 2016 14:22:34 -0600
Message-ID: <CACsi253mbDBvxd4ANsJLRG4bR_U4MJA7TV-WWofH9WY14mUcfA@mail.gmail.com>
Subject: Re: mod_mime_magic, gzipped tarballs and Docker
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1140ef846ceaea0529a183ff

--001a1140ef846ceaea0529a183ff
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Mon, Jan 18, 2016 at 5:13 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrote=
:

> On 01/08/2016 07:44 PM, William A Rowe Jr wrote:
>
>> Do we have to repeat the softmagic call if checkzmagic resolves to
>> x-gzip/x-deflate and the internal content type needs to be deciphered?
>>
>
> That's true.
>
> I think that Yann's patch moving the zmagic call after the softmagic call
> would just mean that zmagic won't be called at all if the softmagic
> recognizes the file format.
>
> We would have to check the softmagic result by something similar to
> "magic_rsl_to_request" and if it's type we want to decompress, we would
> have to run zmagic.
>
> Before really trying to do so, I want to ask if I understand the reasonin=
g
> right. Do we consider this way because users can then remove x-gzip from
> mime magic and will be able to use it to disable the mod_mime_magic
> behaviour discussed in this thread?
>

Yes... and in a more flexible manner that allows us to override any
compression mode, not only deflate, by simply tweaking the magic entries.

Putting magic file entry overrides into the mod_mime_magic directives is a
lot more interesting than simply toggling compression recognition.

--001a1140ef846ceaea0529a183ff
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Jan 18, 2016 at 5:13 AM, Jan Kalu=C5=BEa <span dir=3D"ltr">&lt;<a href=
=3D"mailto:jkaluza@redhat.com" target=3D"_blank">jkaluza@redhat.com</a>&gt;=
</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .=
8ex;border-left:1px #ccc solid;padding-left:1ex"><span class=3D"">On 01/08/=
2016 07:44 PM, William A Rowe Jr wrote:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
Do we have to repeat the softmagic call if checkzmagic resolves to<br>
x-gzip/x-deflate and the internal content type needs to be deciphered?<br>
</blockquote>
<br></span>
That&#39;s true.<br>
<br>
I think that Yann&#39;s patch moving the zmagic call after the softmagic ca=
ll would just mean that zmagic won&#39;t be called at all if the softmagic =
recognizes the file format.<br>
<br>
We would have to check the softmagic result by something similar to &quot;m=
agic_rsl_to_request&quot; and if it&#39;s type we want to decompress, we wo=
uld have to run zmagic.<br>
<br>
Before really trying to do so, I want to ask if I understand the reasoning =
right. Do we consider this way because users can then remove x-gzip from mi=
me magic and will be able to use it to disable the mod_mime_magic behaviour=
 discussed in this thread?<br></blockquote><div><br></div><div>Yes... and i=
n a more flexible manner that allows us to override any compression mode, n=
ot only deflate, by simply tweaking the magic entries.</div></div><br></div=
><div class=3D"gmail_extra">Putting magic file entry overrides into the mod=
_mime_magic directives is a lot more interesting than simply toggling compr=
ession recognition.</div></div>

--001a1140ef846ceaea0529a183ff--

From dev-return-85212-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan 18 20:28:42 2016
Return-Path: <dev-return-85212-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D9E1D1893D
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 18 Jan 2016 20:28:42 +0000 (UTC)
Received: (qmail 70669 invoked by uid 500); 18 Jan 2016 20:28:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70596 invoked by uid 500); 18 Jan 2016 20:28:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70586 invoked by uid 99); 18 Jan 2016 20:28:41 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Jan 2016 20:28:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7F3FC18061D
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 20:28:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=3,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 3-27JvBAzInd for <dev@httpd.apache.org>;
	Mon, 18 Jan 2016 20:28:33 +0000 (UTC)
Received: from mail-io0-f172.google.com (mail-io0-f172.google.com [209.85.223.172])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 5C2F220BFB
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 20:28:32 +0000 (UTC)
Received: by mail-io0-f172.google.com with SMTP id g73so368173234ioe.3
        for <dev@httpd.apache.org>; Mon, 18 Jan 2016 12:28:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=QdUBvZAEdmxYoVd4WanjP1YNKxT/90nLOA9pNeTn9MA=;
        b=ifwqgQcU2Fz3Z+m4wSstXVg5z1iG2TkiwT3MpsUs08HD6XY7p/2q1T1Ylfyx/lrI9Q
         Dyfpxx8XGXP/qoKxBY0F3s4HD2SgQgsSEsC5lnwNghGG65T6RYQtsnVnTyyhqiDSSYSg
         OhiujVD1apG8bSFwH7ZaTOWiYqXaQiyOEbgSDHMGWD6hClWJKjdlpwiHF2yoqRwQhnsM
         RZ8c1CHEBwXTJJRcyDO+G16lxkuesGjTwzU7yfjOld+mLplxG03y0/5xWQqdwsiyYpM9
         tD8xnt6s+KQa6t561kBi8b+JbrXNcbdvdyC+TjuaUKLyFcGQvWktP8sUw5/eyeYs+G1I
         jH1Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=QdUBvZAEdmxYoVd4WanjP1YNKxT/90nLOA9pNeTn9MA=;
        b=c/SLHNOOt1bfmaMNIB7HUhrV6l82npB45fjLttHXaccDN4HGzbZARMQhPVxXrMwDoM
         xV4YDR8P0J2KxOG6D8zwN3QWEmwPx+F9q9h6be0UHZ+JF81/7nNES7NuEsfzR0x9iGNK
         H4dOL7St6/Fw71qjr/5SgNFS8vJ1HMoTgDLi0eDqTy0c6swLYBAPC2PNiAHXSBVwG+39
         OuS/8iG8BsQWMsLLdYEd+kXSc5NBRs+zdrn46C2zPUA5eIDlsyJtFlbISPOhLWSqRDHM
         WGBQ05tu2bzMKedXEIvHwcpJnDaOKXiCWpKt9gAOXbY37JexHwVhiJ4l8NUJAO3eso9F
         y+eQ==
X-Gm-Message-State: ALoCoQl0vBnfdeYsV55/v2meE7pn8bmhtV6LS/1ovdR91zgF7Zu3yCcG2W08yH8RpHhS/vJ0HT02pG3i5FGJyltNCP/y4yOq6Kqc8h4LG+AE6qP/zKCgVYY=
MIME-Version: 1.0
X-Received: by 10.107.34.133 with SMTP id i127mr24505535ioi.150.1453148911335;
 Mon, 18 Jan 2016 12:28:31 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Mon, 18 Jan 2016 12:28:31 -0800 (PST)
In-Reply-To: <7EE0E7E6-21E7-4738-B6CA-872D79D363BF@jaguNET.com>
References: <56954235.2010707@rcbowen.com>
	<CACsi251SHdyRggdaYXSe3DwMwwoCrOgS6qoBZYT3MY+6L+hzOw@mail.gmail.com>
	<ED63EABB-1ED8-4FAD-8C26-04A83E4B2946@jaguNET.com>
	<CACsi251YKo+TUF7LLNdH5AF=kZjYhKzTCC8H9ZWkF+fPcJeFNQ@mail.gmail.com>
	<7EE0E7E6-21E7-4738-B6CA-872D79D363BF@jaguNET.com>
Date: Mon, 18 Jan 2016 14:28:31 -0600
Message-ID: <CACsi2510xygBbu-r53jX6u+04eRM0WygiCFQPERJjFvtqf6-9w@mail.gmail.com>
Subject: Re: mod_fcgid and broken doc links
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1140ef84aa86b20529a198d4

--001a1140ef84aa86b20529a198d4
Content-Type: text/plain; charset=UTF-8

On Fri, Jan 15, 2016 at 7:44 AM, Jim Jagielski <jim@jagunet.com> wrote:

>
> > On Jan 14, 2016, at 5:19 PM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
> >
> > Good point with your example, this is something that should
> > be benchmarked and the winner-take-all, loser bumped from the
> > trunk/ copy of httpd.
>
> -1
>
> You are implying that one would be a winner in all cases. The
> whole idea is that there are cases where one is better than
> the other. We provide both.
>

You might have made that inference, but I'm going to assert that
for this one module, for s/{literal}/{repl}, mod_sed is going to
outperform mod_substitute /if/ we wrote the code correctly.  Whas
is missing is a mod_sed directive for adding literal s/{orig}/{repl}/
patterns that follows the substitute syntax and that admins don't
have to wrap their heads around the special character escaping.
At that point, there is no reason for the redundant module, but
we aren't at that point.

Would you also recommend such a scenario with MPMs, and
> having the "winner" take all? I certainly hope not!!!
>

No, I generally agree with TMTOWTDI.  Glad you raised the MPMs
issue, because my exact complaint about folding in mod_fcgid
"as is" and overlapping with mod_proxy_fcgi was addressed by the
MPM community in pulling out and sharing the mpm_common.c
logic. Great example, thanks Jim!

--001a1140ef84aa86b20529a198d4
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On F=
ri, Jan 15, 2016 at 7:44 AM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=3D=
"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span> w=
rote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;borde=
r-left:1px #ccc solid;padding-left:1ex"><span class=3D""><br>
&gt; On Jan 14, 2016, at 5:19 PM, William A Rowe Jr &lt;<a href=3D"mailto:w=
rowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt; wrote:<br>&gt;<br>
&gt; Good point with your example, this is something that should<br>
&gt; be benchmarked and the winner-take-all, loser bumped from the<br>
&gt; trunk/ copy of httpd.<br>
<br>
</span>-1<br>
<br>
You are implying that one would be a winner in all cases. The<br>
whole idea is that there are cases where one is better than<br>
the other. We provide both.<br></blockquote><div><br></div><div>You might h=
ave made that inference, but I&#39;m going to assert that</div><div>for thi=
s one module, for s/{literal}/{repl}, mod_sed is going to=C2=A0</div><div>o=
utperform mod_substitute /if/ we wrote the code correctly.=C2=A0 Whas</div>=
<div>is missing is a mod_sed directive for adding literal s/{orig}/{repl}/<=
/div><div>patterns that follows the substitute syntax and that admins don&#=
39;t</div><div>have to wrap their heads around the special character escapi=
ng.</div><div>At that point, there is no reason for the redundant module, b=
ut</div><div>we aren&#39;t at that point.</div><div><br></div><blockquote c=
lass=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;=
padding-left:1ex">
Would you also recommend such a scenario with MPMs, and<br>
having the &quot;winner&quot; take all? I certainly hope not!!!<br>
</blockquote></div><br></div><div class=3D"gmail_extra">No, I generally agr=
ee with TMTOWTDI.=C2=A0 Glad you raised the MPMs</div><div class=3D"gmail_e=
xtra">issue, because my exact complaint about folding in mod_fcgid</div><di=
v class=3D"gmail_extra">&quot;as is&quot; and overlapping with mod_proxy_fc=
gi was addressed by the=C2=A0</div><div class=3D"gmail_extra">MPM community=
 in pulling out and sharing the mpm_common.c=C2=A0</div><div class=3D"gmail=
_extra">logic. Great example, thanks Jim!</div><div class=3D"gmail_extra"><=
br></div><div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra"><b=
r></div><div class=3D"gmail_extra"><br></div></div>

--001a1140ef84aa86b20529a198d4--

From dev-return-85213-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan 18 21:06:11 2016
Return-Path: <dev-return-85213-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0CEF318AF0
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 18 Jan 2016 21:06:11 +0000 (UTC)
Received: (qmail 53722 invoked by uid 500); 18 Jan 2016 21:06:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53651 invoked by uid 500); 18 Jan 2016 21:06:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53641 invoked by uid 99); 18 Jan 2016 21:06:05 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Jan 2016 21:06:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 32FDFC0D53
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 21:06:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.499
X-Spam-Level: ***
X-Spam-Status: No, score=3.499 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=2.5,
	RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 9-X07sUZWtBB for <dev@httpd.apache.org>;
	Mon, 18 Jan 2016 21:06:04 +0000 (UTC)
Received: from smtp.smtpout.orange.fr (smtp05.smtpout.orange.fr [80.12.242.127])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 449A642ACA
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 21:06:04 +0000 (UTC)
Received: from [127.0.0.1] ([92.140.156.135])
	by mwinf5d28 with ME
	id 7Z5w1s00F2vZFUU03Z5wlH; Mon, 18 Jan 2016 22:05:57 +0100
X-ME-Helo: [127.0.0.1]
X-ME-Date: Mon, 18 Jan 2016 22:05:57 +0100
X-ME-IP: 92.140.156.135
Subject: Re: svn commit: r1725301 [1/6] - in /httpd/httpd/branches/2.4.x: ./
 docs/manual/mod/ modules/http2/
To: dev@httpd.apache.org
References: <20160118162258.978CA3A0056@svn01-us-west.apache.org>
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Message-ID: <569D53B3.4090407@wanadoo.fr>
Date: Mon, 18 Jan 2016 22:05:55 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <20160118162258.978CA3A0056@svn01-us-west.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 160118-0, 18/01/2016), Outbound message
X-Antivirus-Status: Clean

Le 18/01/2016 17:22, icing@apache.org a crit :
> Author: icing
> Date: Mon Jan 18 16:22:57 2016
> New Revision: 1725301
>
> URL: http://svn.apache.org/viewvc?rev=1725301&view=rev
> Log:
> mod_http2 v1.2.2 from trunk

I guess it is just a typo, but 2.4.x is version 1.2.2 but trunk is 1.2.1.

CJ

From dev-return-85214-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan 18 21:29:40 2016
Return-Path: <dev-return-85214-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5595F18BF0
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 18 Jan 2016 21:29:40 +0000 (UTC)
Received: (qmail 16464 invoked by uid 500); 18 Jan 2016 21:29:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16393 invoked by uid 500); 18 Jan 2016 21:29:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16383 invoked by uid 99); 18 Jan 2016 21:29:39 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Jan 2016 21:29:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 3DD85C2C50
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 21:29:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id KGkfaUMr9nSC for <dev@httpd.apache.org>;
	Mon, 18 Jan 2016 21:29:29 +0000 (UTC)
Received: from resqmta-po-12v.sys.comcast.net (resqmta-po-12v.sys.comcast.net [96.114.154.171])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id CEDD82054B
	for <dev@httpd.apache.org>; Mon, 18 Jan 2016 21:29:29 +0000 (UTC)
Received: from resomta-po-01v.sys.comcast.net ([96.114.154.225])
	by resqmta-po-12v.sys.comcast.net with comcast
	id 7ZVD1s0044s37d401ZVPhe; Mon, 18 Jan 2016 21:29:23 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-01v.sys.comcast.net with comcast
	id 7ZVN1s00G2U0RYt01ZVNaD; Mon, 18 Jan 2016 21:29:23 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_fcgid and broken doc links
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CACsi2510xygBbu-r53jX6u+04eRM0WygiCFQPERJjFvtqf6-9w@mail.gmail.com>
Date: Mon, 18 Jan 2016 16:29:22 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <1441CA88-2B82-4746-BA69-7A60F02CCEA5@jaguNET.com>
References: <56954235.2010707@rcbowen.com> <CACsi251SHdyRggdaYXSe3DwMwwoCrOgS6qoBZYT3MY+6L+hzOw@mail.gmail.com> <ED63EABB-1ED8-4FAD-8C26-04A83E4B2946@jaguNET.com> <CACsi251YKo+TUF7LLNdH5AF=kZjYhKzTCC8H9ZWkF+fPcJeFNQ@mail.gmail.com> <7EE0E7E6-21E7-4738-B6CA-872D79D363BF@jaguNET.com> <CACsi2510xygBbu-r53jX6u+04eRM0WygiCFQPERJjFvtqf6-9w@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453152563;
	bh=z9MZMy7hbPIYAIig0lF7sSsHnggv+HBsTDi66XE0sjs=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=TdiaydQX2ZxEnElgNhrTyImmNoWVmAuaza5gxswiEwRNvzHgxiYcR26yKNCQAqYQ3
	 aNBy4B+UXa8PsnXPBxPBMX1872TF+T7bu4ESlM1JduJaV7EtfhER1MY//ByICervAf
	 bCdp05CCGGuA8pbIxSApyRxbcwRZCSJZSq5bsXCvy+m2pl+ibB0aKbuRZ4YZ9iVnnf
	 umLJgB5/xQAPfH1lOoLSr4PwOGxin4Yox9iH4UtmFVHgkiA0NdWmIr6VfvL9UbIJIY
	 c+Hr7/VGFHMEHnja3vMlAaX7d/i5aAZhB5yqaPlx6xr/ReyJ8pmr4lAk2YvFcc3JK9
	 BQq0UWqrqKkGg==


> On Jan 18, 2016, at 3:28 PM, William A Rowe Jr <wrowe@rowe-clan.net> =
wrote:
>=20
> On Fri, Jan 15, 2016 at 7:44 AM, Jim Jagielski <jim@jagunet.com> =
wrote:
>=20
> > On Jan 14, 2016, at 5:19 PM, William A Rowe Jr <wrowe@rowe-clan.net> =
wrote:
> >
> > Good point with your example, this is something that should
> > be benchmarked and the winner-take-all, loser bumped from the
> > trunk/ copy of httpd.
>=20
> -1
>=20
> You are implying that one would be a winner in all cases. The
> whole idea is that there are cases where one is better than
> the other. We provide both.
>=20
> You might have made that inference, but I'm going to assert that
> for this one module, for s/{literal}/{repl}, mod_sed is going to=20
> outperform mod_substitute /if/ we wrote the code correctly.

I disagree... it's kind of obvious by simple inspection that
mod_substitute has fast paths that mod_sed lacks and, as thus,
can be quite performant and the "better" choice in numerous cases
where that fast path is used.

Me, I don't tend to think of myself as "smarter" than all of
our users, nor do I try to act as Big Brother and remove choices
from people in cases and situations where they are using them.
The ASF itself doesn't do that, nor do projects... so it seems
kinda weird that you would want the httpd project to all of
a sudden start removing choice and options for end users instead
of helping them out and trusting them to know which impl is
best for them.



From dev-return-85215-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 19 02:29:42 2016
Return-Path: <dev-return-85215-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 03C741880B
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 19 Jan 2016 02:29:42 +0000 (UTC)
Received: (qmail 98537 invoked by uid 500); 19 Jan 2016 02:29:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98470 invoked by uid 500); 19 Jan 2016 02:29:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98457 invoked by uid 99); 19 Jan 2016 02:29:41 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Jan 2016 02:29:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 25928C0ECE
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 02:29:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=3,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id HeVsBDvz9Snx for <dev@httpd.apache.org>;
	Tue, 19 Jan 2016 02:29:33 +0000 (UTC)
Received: from mail-io0-f169.google.com (mail-io0-f169.google.com [209.85.223.169])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id A533543F56
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 02:29:32 +0000 (UTC)
Received: by mail-io0-f169.google.com with SMTP id 1so520135631ion.1
        for <dev@httpd.apache.org>; Mon, 18 Jan 2016 18:29:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Epn4079ocyAvu52agqNt6tQ5P952JOiv3u0H2LqKJec=;
        b=Qwf/ckc+EPT3/4NsSJOyRAeFSB0T5pYa0OxQhYHwkQfNjoJZ0acmwxj+ZGNzxA7mVO
         s3z+88kmk6Ay9k7xnn55UaPdKqVMuMLQhFxRUjTY6+XeH+VvuW49/V16y87UsrCcn38I
         NmRdHyhrU3v8bv2ZueDfz5BiMVhiMWZmQ15+hOxj/7JBfxu2DNmkSHEsXuuBxNdPk3B9
         bu1wqW2LM4pg2Z0BC3ZbbCE3O3siYhsiqddhvaN2lcDIN00byUCTYwl+i698T4JPycmo
         OIILdlCLj/0aZZ6REvzN9n4MpMemYt7vperpuumW6HMqR9affx1nzIh8MnGfAvmkEQ1j
         p2uQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=Epn4079ocyAvu52agqNt6tQ5P952JOiv3u0H2LqKJec=;
        b=DZaEO3wQyQn2yDLUtLcdnBjatDa7ZhfvSwjVPuzULst+bQzzqzm7MYYNC9VP4CBWR4
         Mg+e3K8ER4MqMQSKEYlwbqMwUsZnCpOl18mfrnt5AZB3CLlGbzrkiPoo/jTTw4o/lI8F
         kufLXGlFNdK02cGIvUrozJVmMDJ9JQloiU4vh9CR+FyDckAtW0fCTqrILclfqXlkEYes
         t8VM1jzIjtosM+gUElbE6mesde4r3jptfIkjEsU4mS/FqrpJ4gEQqkBGIjzdQDgeBnIL
         VTS4zPOQ/xhwQJx0n4J/vdtCmnsOECndilFPn/Y8qbkjwTU/KCwYB/QYW5AwFinHyO5V
         crMA==
X-Gm-Message-State: ALoCoQnYe67p+VryCszCwz0WwRMWbL2Hn/n3xdl8MqgixY4yuTgWc4hbokyR6G50wr6ShZprh+8Uir6RYCiix4Y393Wlr73mNu2P7+09lqBuat4DO1T7sSY=
MIME-Version: 1.0
X-Received: by 10.107.28.82 with SMTP id c79mr22856618ioc.86.1453170572142;
 Mon, 18 Jan 2016 18:29:32 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Mon, 18 Jan 2016 18:29:31 -0800 (PST)
In-Reply-To: <1441CA88-2B82-4746-BA69-7A60F02CCEA5@jaguNET.com>
References: <56954235.2010707@rcbowen.com>
	<CACsi251SHdyRggdaYXSe3DwMwwoCrOgS6qoBZYT3MY+6L+hzOw@mail.gmail.com>
	<ED63EABB-1ED8-4FAD-8C26-04A83E4B2946@jaguNET.com>
	<CACsi251YKo+TUF7LLNdH5AF=kZjYhKzTCC8H9ZWkF+fPcJeFNQ@mail.gmail.com>
	<7EE0E7E6-21E7-4738-B6CA-872D79D363BF@jaguNET.com>
	<CACsi2510xygBbu-r53jX6u+04eRM0WygiCFQPERJjFvtqf6-9w@mail.gmail.com>
	<1441CA88-2B82-4746-BA69-7A60F02CCEA5@jaguNET.com>
Date: Mon, 18 Jan 2016 20:29:31 -0600
Message-ID: <CACsi251zsfU82DJ5RbEF-ZcS4r8xr0XZw1XanSo6pgB+-b8yBA@mail.gmail.com>
Subject: Re: mod_fcgid and broken doc links
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11409b98c070010529a6a318

--001a11409b98c070010529a6a318
Content-Type: text/plain; charset=UTF-8

On Mon, Jan 18, 2016 at 3:29 PM, Jim Jagielski <jim@jagunet.com> wrote:

>
> > On Jan 18, 2016, at 3:28 PM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
> >
> > On Fri, Jan 15, 2016 at 7:44 AM, Jim Jagielski <jim@jagunet.com> wrote:
> >
> > > On Jan 14, 2016, at 5:19 PM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
> > >
> > > Good point with your example, this is something that should
> > > be benchmarked and the winner-take-all, loser bumped from the
> > > trunk/ copy of httpd.
> >
> > -1
> >
> > You are implying that one would be a winner in all cases. The
> > whole idea is that there are cases where one is better than
> > the other. We provide both.
> >
> > You might have made that inference, but I'm going to assert that
> > for this one module, for s/{literal}/{repl}, mod_sed is going to
> > outperform mod_substitute /if/ we wrote the code correctly.
>
> I disagree... it's kind of obvious by simple inspection that
> mod_substitute has fast paths that mod_sed lacks and, as thus,
> can be quite performant and the "better" choice in numerous cases
> where that fast path is used.
>

Well, only benchmarking is going to prove that one way or the other,
something I don't have free cycles for right now (committed to way too
many other project priorities.)  And it perhaps opens up opportunities
to optimize mod_sed in ways that might have been initially overlooked
when the code was thrown into trunk ;-)


> Me, I don't tend to think of myself as "smarter" than all of
> our users, nor do I try to act as Big Brother and remove choices
> from people in cases and situations where they are using them.
> The ASF itself doesn't do that, nor do projects... so it seems
> kinda weird that you would want the httpd project to all of
> a sudden start removing choice and options for end users instead
> of helping them out and trusting them to know which impl is
> best for them.
>

Thankfully, we aren't, but our users do look at us as experts in the
code they consume, considering that we collectively have authored
and maintain the stuff.  So they do look to us to make the best
choices they don't have the individual time to compare and elect.
Why would I want us to collectively (and for me specifically) to
propose the best solutions to the common use cases, and to
depreciate less maintained code in favor of maintained code?

Can't imagine why I or other project members would be possessed
to do that.  If you figure it out, please share :)

--001a11409b98c070010529a6a318
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Jan 18, 2016 at 3:29 PM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=3D=
"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span> w=
rote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;borde=
r-left:1px #ccc solid;padding-left:1ex"><span class=3D""><br>
&gt; On Jan 18, 2016, at 3:28 PM, William A Rowe Jr &lt;<a href=3D"mailto:w=
rowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt; wrote:<br>
&gt;<br>
&gt; On Fri, Jan 15, 2016 at 7:44 AM, Jim Jagielski &lt;<a href=3D"mailto:j=
im@jagunet.com">jim@jagunet.com</a>&gt; wrote:<br>
&gt;<br>
&gt; &gt; On Jan 14, 2016, at 5:19 PM, William A Rowe Jr &lt;<a href=3D"mai=
lto:wrowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt; wrote:<br>
&gt; &gt;<br>
&gt; &gt; Good point with your example, this is something that should<br>
&gt; &gt; be benchmarked and the winner-take-all, loser bumped from the<br>
&gt; &gt; trunk/ copy of httpd.<br>
&gt;<br>
&gt; -1<br>
&gt;<br>
&gt; You are implying that one would be a winner in all cases. The<br>
&gt; whole idea is that there are cases where one is better than<br>
&gt; the other. We provide both.<br>
&gt;<br>
&gt; You might have made that inference, but I&#39;m going to assert that<b=
r>
&gt; for this one module, for s/{literal}/{repl}, mod_sed is going to<br>
&gt; outperform mod_substitute /if/ we wrote the code correctly.<br>
<br>
</span>I disagree... it&#39;s kind of obvious by simple inspection that<br>
mod_substitute has fast paths that mod_sed lacks and, as thus,<br>
can be quite performant and the &quot;better&quot; choice in numerous cases=
<br>
where that fast path is used.<br></blockquote><div><br></div><div>Well, onl=
y benchmarking is going to prove that one way or the other,</div><div>somet=
hing I don&#39;t have free cycles for right now (committed to way too</div>=
<div>many other project priorities.) =C2=A0And it perhaps opens up opportun=
ities</div><div>to optimize mod_sed in ways that might have been initially =
overlooked</div><div>when the code was thrown into trunk ;-)</div><div>=C2=
=A0</div><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;borde=
r-left:1px #ccc solid;padding-left:1ex">
Me, I don&#39;t tend to think of myself as &quot;smarter&quot; than all of<=
br>
our users, nor do I try to act as Big Brother and remove choices<br>
from people in cases and situations where they are using them.<br>
The ASF itself doesn&#39;t do that, nor do projects... so it seems<br>
kinda weird that you would want the httpd project to all of<br>
a sudden start removing choice and options for end users instead<br>
of helping them out and trusting them to know which impl is<br>
best for them.<br></blockquote><div><br></div><div>Thankfully, we aren&#39;=
t, but our users do look at us as experts in the</div><div>code they consum=
e, considering that we collectively have authored</div><div>and maintain th=
e stuff.=C2=A0 So they do look to us to make the best</div><div>choices the=
y don&#39;t have the individual time to compare and elect.</div><div>Why wo=
uld I want us to collectively (and for me specifically) to</div><div>propos=
e the best solutions to the common use cases, and to</div><div>depreciate l=
ess maintained code in favor of maintained code? =C2=A0</div><div><br></div=
><div>Can&#39;t imagine why I or other project members would be possessed=
=C2=A0</div><div>to do that.=C2=A0 If you figure it out, please share :)</d=
iv><div><br></div></div></div></div>

--001a11409b98c070010529a6a318--

From dev-return-85216-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 19 10:16:36 2016
Return-Path: <dev-return-85216-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B58B6188B9
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 19 Jan 2016 10:16:36 +0000 (UTC)
Received: (qmail 12491 invoked by uid 500); 19 Jan 2016 10:16:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12404 invoked by uid 500); 19 Jan 2016 10:16:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12393 invoked by uid 99); 19 Jan 2016 10:16:35 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Jan 2016 10:16:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6CB5AC2E85
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 10:16:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=o0osfaQZ;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=o0osfaQZ
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 9kakDfwr1BTB for <dev@httpd.apache.org>;
	Tue, 19 Jan 2016 10:16:34 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E81F72016B
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 10:16:33 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 217F115A072B; Tue, 19 Jan 2016 11:16:26 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453198586; bh=conq2bwNuEdCySk6/YCf15+QpFoUzWMXZi0zqwszY2A=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=o0osfaQZrf6rM69nNkPVArc6vBkKBeMevlKxGwXAi0eH1vzIbWGCeqXt13ZV4jqkN
	 97KV5uGavwciDhxh73BDlIiPOLveh9oQG43hIpxbi53CL0ScXli2HlyMDE8nXNIqOi
	 dd1HOBpHw4mYfa4zqLPTibHLTWuBAAGpdNDP8iTw=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 0267215A0424
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 11:16:26 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453198586; bh=conq2bwNuEdCySk6/YCf15+QpFoUzWMXZi0zqwszY2A=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=o0osfaQZrf6rM69nNkPVArc6vBkKBeMevlKxGwXAi0eH1vzIbWGCeqXt13ZV4jqkN
	 97KV5uGavwciDhxh73BDlIiPOLveh9oQG43hIpxbi53CL0ScXli2HlyMDE8nXNIqOi
	 dd1HOBpHw4mYfa4zqLPTibHLTWuBAAGpdNDP8iTw=
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1725301 [1/6] - in /httpd/httpd/branches/2.4.x: ./ docs/manual/mod/ modules/http2/
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <569D53B3.4090407@wanadoo.fr>
Date: Tue, 19 Jan 2016 11:16:29 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <9F9BDA24-D894-4529-936D-6AFA387F7EDE@greenbytes.de>
References: <20160118162258.978CA3A0056@svn01-us-west.apache.org> <569D53B3.4090407@wanadoo.fr>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> Am 18.01.2016 um 22:05 schrieb Christophe JAILLET =
<christophe.jaillet@wanadoo.fr>:
>=20
> Le 18/01/2016 17:22, icing@apache.org a =C3=A9crit :
>> Author: icing
>> Date: Mon Jan 18 16:22:57 2016
>> New Revision: 1725301
>>=20
>> URL: http://svn.apache.org/viewvc?rev=3D1725301&view=3Drev
>> Log:
>> mod_http2 v1.2.2 from trunk
>=20
> I guess it is just a typo, but 2.4.x is version 1.2.2 but trunk is =
1.2.1.

Yes, will be changed by next checkin on trunk. Thanks for watching out.

-Stefan

>=20
> CJ


From dev-return-85217-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 19 10:57:24 2016
Return-Path: <dev-return-85217-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 15B5F18A56
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 19 Jan 2016 10:57:24 +0000 (UTC)
Received: (qmail 87322 invoked by uid 500); 19 Jan 2016 10:57:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 87258 invoked by uid 500); 19 Jan 2016 10:57:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87248 invoked by uid 99); 19 Jan 2016 10:57:23 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Jan 2016 10:57:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 28C17C00ED
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 10:57:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.556
X-Spam-Level:
X-Spam-Status: No, score=-0.556 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id JtX1TAM9em3N for <dev@httpd.apache.org>;
	Tue, 19 Jan 2016 10:57:21 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 1CB542016B
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 10:57:21 +0000 (UTC)
Received: from int-mx13.intmail.prod.int.phx2.redhat.com (int-mx13.intmail.prod.int.phx2.redhat.com [10.5.11.26])
	by mx1.redhat.com (Postfix) with ESMTPS id 60B228EA41
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 10:57:14 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-23.brq.redhat.com [10.40.204.23])
	by int-mx13.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id u0JAvCje002412
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 05:57:13 -0500
Subject: Re: mod_mime_magic, gzipped tarballs and Docker
To: dev@httpd.apache.org
References: <568F6A11.1060309@redhat.com>
 <CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com>
 <CACsi2511-fjOZp3ostR=1xZ0RognDw+Fw62wsboFkHvChovUzw@mail.gmail.com>
 <CAKQ1sVPL9n2Bx9psx4XkzZOk=XfFXm8Vixer+e+QZkndY5GBDA@mail.gmail.com>
 <CAKQ1sVMQzat3r+9uYBU7K=9=nQfbctB_OatLWCqo5AsiBiK8hQ@mail.gmail.com>
 <CACsi251oAtGtEgFb9=dqo0eL2NLcgk8dtwe4EDjE+8mpc4_S=Q@mail.gmail.com>
 <569CC8EF.5000301@redhat.com>
 <CACsi253mbDBvxd4ANsJLRG4bR_U4MJA7TV-WWofH9WY14mUcfA@mail.gmail.com>
From: =?UTF-8?Q?Jan_Kalu=c5=bea?= <jkaluza@redhat.com>
Message-ID: <569E1688.6050407@redhat.com>
Date: Tue, 19 Jan 2016 11:57:12 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.3.0
MIME-Version: 1.0
In-Reply-To: <CACsi253mbDBvxd4ANsJLRG4bR_U4MJA7TV-WWofH9WY14mUcfA@mail.gmail.com>
Content-Type: multipart/mixed;
 boundary="------------050207000605010509050900"
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.26

This is a multi-part message in MIME format.
--------------050207000605010509050900
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

On 01/18/2016 09:22 PM, William A Rowe Jr wrote:
> On Mon, Jan 18, 2016 at 5:13 AM, Jan Kalua <jkaluza@redhat.com
> <mailto:jkaluza@redhat.com>> wrote:
>
>     On 01/08/2016 07:44 PM, William A Rowe Jr wrote:
>
>         Do we have to repeat the softmagic call if checkzmagic resolves to
>         x-gzip/x-deflate and the internal content type needs to be
>         deciphered?
>
>
>     That's true.
>
>     I think that Yann's patch moving the zmagic call after the softmagic
>     call would just mean that zmagic won't be called at all if the
>     softmagic recognizes the file format.
>
>     We would have to check the softmagic result by something similar to
>     "magic_rsl_to_request" and if it's type we want to decompress, we
>     would have to run zmagic.
>
>     Before really trying to do so, I want to ask if I understand the
>     reasoning right. Do we consider this way because users can then
>     remove x-gzip from mime magic and will be able to use it to disable
>     the mod_mime_magic behaviour discussed in this thread?
>
>
> Yes... and in a more flexible manner that allows us to override any
> compression mode, not only deflate, by simply tweaking the magic entries.
>
> Putting magic file entry overrides into the mod_mime_magic directives is
> a lot more interesting than simply toggling compression recognition.

Okay... I have something half-way right now.

Attached patch changes the order of softmagic and zmagic. When softmagic 
recognizes a file, the zmagic is called. zmagic method checks if the 
file has been recognized as "x-gzip" and it tries to uncompress it and 
call "tryit" again with the uncompressed data as before.

I'm now playing with an idea to extend the magic file so we wouldn't 
have to keep the "x-gzip" -> "gzip -dcq" relation hardcoded, but it 
could be defined in the magic file instead.

William, is the patch close to the behaviour you were describing?

Regards,
Jan Kaluza


--------------050207000605010509050900
Content-Type: text/x-diff;
 name="httpd-trunk-mime-magic.patch"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="httpd-trunk-mime-magic.patch"

Index: modules/metadata/mod_mime_magic.c
===================================================================
--- modules/metadata/mod_mime_magic.c	(revision 1725450)
+++ modules/metadata/mod_mime_magic.c	(working copy)
@@ -463,6 +463,8 @@
     magic_rsl *head;          /* result string list */
     magic_rsl *tail;
     unsigned suf_recursion;   /* recursion depth in suffix check */
+    char *type;               /* Content-Type cached value */
+    char *encoding;           /* Content-Encoding cached value */
 } magic_req_rec;
 
 /*
@@ -534,6 +536,8 @@
                                                       sizeof(magic_req_rec));
 
     req_dat->head = req_dat->tail = (magic_rsl *) NULL;
+    req_dat->type = NULL;
+    req_dat->encoding = NULL;
     ap_set_module_config(r->request_config, &mime_magic_module, req_dat);
     return req_dat;
 }
@@ -656,13 +660,26 @@
     return result;
 }
 
-/* states for the state-machine algorithm in magic_rsl_to_request() */
+static int magic_rsl_clear(request_rec *r)
+{
+    magic_req_rec *req_dat = (magic_req_rec *)
+                    ap_get_module_config(r->request_config, &mime_magic_module);
+    req_dat->head = NULL;
+    req_dat->tail = NULL;
+    req_dat->type = NULL;
+    req_dat->encoding = NULL;
+
+    /* success */
+    return 0;
+}
+
+/* states for the state-machine algorithm in magic_rsl_parse() */
 typedef enum {
     rsl_leading_space, rsl_type, rsl_subtype, rsl_separator, rsl_encoding
 } rsl_states;
 
 /* process the RSL and set the MIME info in the request record */
-static int magic_rsl_to_request(request_rec *r)
+static int magic_rsl_parse(request_rec *r, char **type, char **encoding)
 {
     int cur_frag,         /* current fragment number/counter */
         cur_pos,          /* current position within fragment */
@@ -673,7 +690,6 @@
         encoding_pos,     /* content encoding starting point: position */
         encoding_len;     /* content encoding length */
 
-    char *tmp;
     magic_rsl *frag;      /* list-traversal pointer */
     rsl_states state;
 
@@ -686,6 +702,13 @@
         return DECLINED;
     }
 
+    /* check for cached values filled in by previous run */
+    if (req_dat->type) {
+        *type = req_dat->type;
+        *encoding = req_dat->encoding;
+        return OK;
+    }
+
     /* start searching for the type and encoding */
     state = rsl_leading_space;
     type_frag = type_pos = type_len = 0;
@@ -785,24 +808,24 @@
     }
 
     /* save the info in the request record */
-    tmp = rsl_strdup(r, type_frag, type_pos, type_len);
+    *type = rsl_strdup(r, type_frag, type_pos, type_len);
     /* XXX: this could be done at config time I'm sure... but I'm
      * confused by all this magic_rsl stuff. -djg */
-    ap_content_type_tolower(tmp);
-    ap_set_content_type(r, tmp);
+    ap_content_type_tolower(*type);
+    req_dat->type = *type;
 
     if (state == rsl_encoding) {
-        tmp = rsl_strdup(r, encoding_frag,
+        *encoding = rsl_strdup(r, encoding_frag,
                                          encoding_pos, encoding_len);
         /* XXX: this could be done at config time I'm sure... but I'm
          * confused by all this magic_rsl stuff. -djg */
-        ap_str_tolower(tmp);
-        r->content_encoding = tmp;
+        ap_str_tolower(*encoding);
+        req_dat->encoding = *encoding;
     }
 
     /* detect memory allocation or other errors */
-    if (!r->content_type ||
-        (state == rsl_encoding && !r->content_encoding)) {
+    if (!*type ||
+        (state == rsl_encoding && !*encoding)) {
         ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO(01511)
                       MODNAME ": unexpected state %d; could be caused by bad "
                       "data in magic file",
@@ -814,6 +837,43 @@
     return OK;
 }
 
+/* process the RSL and set the MIME info in the request record */
+static int magic_rsl_to_request(request_rec *r)
+{
+    char *type = NULL;
+    char *encoding = NULL;
+    int ret;
+
+    if ((ret = magic_rsl_parse(r, &type, &encoding)) != OK) {
+        return ret;
+    }
+
+    if (type) {
+        ap_set_content_type(r, type);
+    }
+
+    if (encoding) {
+        r->content_encoding = encoding;
+    }
+
+    /* success! */
+    return OK;
+}
+
+static char *magic_rsl_encoding(request_rec *r) {
+    char *type = NULL;
+    char *encoding = NULL;
+    int ret;
+
+    if ((ret = magic_rsl_parse(r, &type, &encoding)) != OK) {
+        return NULL;
+    }
+
+    fprintf(stderr, "XXX %s %s\n", type, encoding);
+
+    return encoding;
+}
+
 /*
  * magic_process - process input file r        Apache API request record
  * (formerly called "process" in file command, prefix added for clarity) Opens
@@ -870,7 +930,6 @@
     }
 
     (void) apr_file_close(fd);
-    (void) magic_rsl_putchar(r, '\n');
 
     return OK;
 }
@@ -880,24 +939,23 @@
                  int checkzmagic)
 {
     /*
-     * Try compression stuff
+     * try tests in /etc/magic (or surrogate magic file)
      */
-    if (checkzmagic == 1) {
-        if (zmagic(r, buf, nb) == 1)
+    if (softmagic(r, buf, nb) == 1) {
+        (void) magic_rsl_putchar(r, '\n');
+        if (checkzmagic && zmagic(r, buf, nb) == 1) {
             return OK;
+        }
+        return OK;
     }
 
     /*
-     * try tests in /etc/magic (or surrogate magic file)
-     */
-    if (softmagic(r, buf, nb) == 1)
-        return OK;
-
-    /*
      * try known keywords, check for ascii-ness too.
      */
-    if (ascmagic(r, buf, nb) == 1)
+    if (ascmagic(r, buf, nb) == 1) {
+        (void) magic_rsl_putchar(r, '\n');
         return OK;
+    }
 
     /*
      * abandon hope, all ye who remain here
@@ -2045,11 +2103,8 @@
  */
 
 static struct {
-    char *magic;
-    apr_size_t maglen;
+    char *encoding;
     char *argv[3];
-    int silent;
-    char *encoding;  /* MUST be lowercase */
 } compr[] = {
 
     /* we use gzip here rather than uncompress because we have to pass
@@ -2057,24 +2112,10 @@
      * ending with .Z
      */
     {
-        "\037\235", 2, {
+        "x-gzip", {
             "gzip", "-dcq", NULL
-        }, 0, "x-compress"
-    },
-    {
-        "\037\213", 2, {
-            "gzip", "-dcq", NULL
-        }, 1, "x-gzip"
-    },
-    /*
-     * XXX pcat does not work, cause I don't know how to make it read stdin,
-     * so we use gzip
-     */
-    {
-        "\037\036", 2, {
-            "gzip", "-dcq", NULL
-        }, 0, "x-gzip"
-    },
+        }
+    }
 };
 
 static int ncompr = sizeof(compr) / sizeof(compr[0]);
@@ -2084,12 +2125,16 @@
     unsigned char *newbuf;
     int newsize;
     int i;
+    char *encoding;
 
+    if ((encoding = magic_rsl_encoding(r)) == NULL) {
+        return 0;
+    }
+
     for (i = 0; i < ncompr; i++) {
-        if (nbytes < compr[i].maglen)
-            continue;
-        if (memcmp(buf, compr[i].magic, compr[i].maglen) == 0)
+        if (strcmp(encoding, compr[i].encoding) == 0) {
             break;
+        }
     }
 
     if (i == ncompr)
@@ -2096,6 +2141,8 @@
         return 0;
 
     if ((newsize = uncompress(r, i, &newbuf, HOWMANY)) > 0) {
+        magic_rsl_clear(r);
+
         /* set encoding type in the request record */
         r->content_encoding = compr[i].encoding;
 

--------------050207000605010509050900--

From dev-return-85218-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 19 11:48:33 2016
Return-Path: <dev-return-85218-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3A46018C18
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 19 Jan 2016 11:48:33 +0000 (UTC)
Received: (qmail 73072 invoked by uid 500); 19 Jan 2016 11:48:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 73000 invoked by uid 500); 19 Jan 2016 11:48:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72990 invoked by uid 99); 19 Jan 2016 11:48:32 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Jan 2016 11:48:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 500EB1A05A5
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 11:48:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 2Y3PLjJo1xKj for <dev@httpd.apache.org>;
	Tue, 19 Jan 2016 11:48:22 +0000 (UTC)
Received: from resqmta-po-07v.sys.comcast.net (resqmta-po-07v.sys.comcast.net [96.114.154.166])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 36EE120BC2
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 11:48:21 +0000 (UTC)
Received: from resomta-po-06v.sys.comcast.net ([96.114.154.230])
	by resqmta-po-07v.sys.comcast.net with comcast
	id 7noC1s0034yXVJQ01noKfb; Tue, 19 Jan 2016 11:48:19 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-06v.sys.comcast.net with comcast
	id 7noJ1s0042U0RYt01noJ1c; Tue, 19 Jan 2016 11:48:19 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_fcgid and broken doc links
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CACsi251zsfU82DJ5RbEF-ZcS4r8xr0XZw1XanSo6pgB+-b8yBA@mail.gmail.com>
Date: Tue, 19 Jan 2016 06:48:18 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <CDCD3303-461B-4694-8751-B253E960AC3A@jaguNET.com>
References: <56954235.2010707@rcbowen.com> <CACsi251SHdyRggdaYXSe3DwMwwoCrOgS6qoBZYT3MY+6L+hzOw@mail.gmail.com> <ED63EABB-1ED8-4FAD-8C26-04A83E4B2946@jaguNET.com> <CACsi251YKo+TUF7LLNdH5AF=kZjYhKzTCC8H9ZWkF+fPcJeFNQ@mail.gmail.com> <7EE0E7E6-21E7-4738-B6CA-872D79D363BF@jaguNET.com> <CACsi2510xygBbu-r53jX6u+04eRM0WygiCFQPERJjFvtqf6-9w@mail.gmail.com> <1441CA88-2B82-4746-BA69-7A60F02CCEA5@jaguNET.com> <CACsi251zsfU82DJ5RbEF-ZcS4r8xr0XZw1XanSo6pgB+-b8yBA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453204099;
	bh=zMmiZBd0EZVIxw6xAfOqIbzeTRU2q9U4eyruXYDVs40=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=ARfsOK9XM11fDqMzLeMQYxFpKpWLb5GBKLuMfgV6flVw1STy2ceeUeGJQ1FbqzkMD
	 MPv/Q2hMSI7zZSFgMwTRnVp1hp+Q1cjgBBSq7GmPZFXtUr5JE//xTQfewdep5b/6Rm
	 rFlkN6MFCG7Yn/egQETaV/bJ+Jyzco6zvmM/Y7ksCyQ46cn91BuavYNYIw0yiykmdw
	 C1sy7VWZo69Xq+aSOQ6XvdAsms/dQ/BDZkmTphOC7DA2S1cNOJ0rRc5l5Cii5RXIAI
	 FYLGMGdj7i2yuK2cjRFn15EHrESxTy+qOLe9ClLC3KTZTrkKbHMwsLYJPmjYajsZ8/
	 f7S1QsQ4EyjqA==

There is a need and an audience for both. We provide
both. I see no reason for us to stop doing that unless
we feel that we can no longer support both in the
manner in which our community expects. FWIW, I don't
see that as the current situation.

> On Jan 18, 2016, at 9:29 PM, William A Rowe Jr <wrowe@rowe-clan.net> =
wrote:
>=20
> On Mon, Jan 18, 2016 at 3:29 PM, Jim Jagielski <jim@jagunet.com> =
wrote:
>=20
> > On Jan 18, 2016, at 3:28 PM, William A Rowe Jr <wrowe@rowe-clan.net> =
wrote:
> >
> > On Fri, Jan 15, 2016 at 7:44 AM, Jim Jagielski <jim@jagunet.com> =
wrote:
> >
> > > On Jan 14, 2016, at 5:19 PM, William A Rowe Jr =
<wrowe@rowe-clan.net> wrote:
> > >
> > > Good point with your example, this is something that should
> > > be benchmarked and the winner-take-all, loser bumped from the
> > > trunk/ copy of httpd.
> >
> > -1
> >
> > You are implying that one would be a winner in all cases. The
> > whole idea is that there are cases where one is better than
> > the other. We provide both.
> >
> > You might have made that inference, but I'm going to assert that
> > for this one module, for s/{literal}/{repl}, mod_sed is going to
> > outperform mod_substitute /if/ we wrote the code correctly.
>=20
> I disagree... it's kind of obvious by simple inspection that
> mod_substitute has fast paths that mod_sed lacks and, as thus,
> can be quite performant and the "better" choice in numerous cases
> where that fast path is used.
>=20
> Well, only benchmarking is going to prove that one way or the other,
> something I don't have free cycles for right now (committed to way too
> many other project priorities.)  And it perhaps opens up opportunities
> to optimize mod_sed in ways that might have been initially overlooked
> when the code was thrown into trunk ;-)
> =20
> Me, I don't tend to think of myself as "smarter" than all of
> our users, nor do I try to act as Big Brother and remove choices
> from people in cases and situations where they are using them.
> The ASF itself doesn't do that, nor do projects... so it seems
> kinda weird that you would want the httpd project to all of
> a sudden start removing choice and options for end users instead
> of helping them out and trusting them to know which impl is
> best for them.
>=20
> Thankfully, we aren't, but our users do look at us as experts in the
> code they consume, considering that we collectively have authored
> and maintain the stuff.  So they do look to us to make the best
> choices they don't have the individual time to compare and elect.
> Why would I want us to collectively (and for me specifically) to
> propose the best solutions to the common use cases, and to
> depreciate less maintained code in favor of maintained code? =20
>=20
> Can't imagine why I or other project members would be possessed=20
> to do that.  If you figure it out, please share :)


From dev-return-85219-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 19 15:52:49 2016
Return-Path: <dev-return-85219-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 71159186ED
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 19 Jan 2016 15:52:49 +0000 (UTC)
Received: (qmail 92313 invoked by uid 500); 19 Jan 2016 15:52:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92243 invoked by uid 500); 19 Jan 2016 15:52:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92233 invoked by uid 99); 19 Jan 2016 15:52:48 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Jan 2016 15:52:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 7B349C4041
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 15:52:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=IDw/tmXR;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=cbLdVEBC
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id TcAXYmlYbyMM for <dev@httpd.apache.org>;
	Tue, 19 Jan 2016 15:52:46 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5629821265
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 15:52:46 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 1403B15A0853; Tue, 19 Jan 2016 16:52:44 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453218764; bh=Qdr+d2XJK57zVms+mhCPcbCzcLDTMfEJU+P7WXo/sfU=;
	h=From:Subject:Date:To:From;
	b=IDw/tmXRuWnVVWqTavINsEs7v/ZWAfqLyIa1wvKYQmmzhStNw68QElwwS64JVeqTT
	 7kfFdq16561yKZQEEVgP/b3JbQrp2WvOYROo05uCBLbivjaE+tPaxW6RlnUEYzQ9iB
	 eJYGr6EjzsyR7tFqEkJ9S7fi7QvzV5mOM/VTb/VM=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id EA7F815A0476
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 16:52:43 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453218763; bh=Qdr+d2XJK57zVms+mhCPcbCzcLDTMfEJU+P7WXo/sfU=;
	h=From:Subject:Date:To:From;
	b=cbLdVEBCSkEbzwU1KXsYmQuDWCxUqHNRZBUYJAA7nYtp16a0JyuLhfOurTMcxNi4w
	 8werwUs8Un94+p9DsTcMngSAFXUlpx0MdEVlrDtU+aj8U5i33r00nwkKeCOu0zRPf+
	 /7mfGXpOgeLuaaEfS2uBZMq5jzHTJhT+pyRgxpKc=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: socket timeouts
Message-Id: <245C07C8-FDE6-4793-8324-484BCA4173D3@greenbytes.de>
Date: Tue, 19 Jan 2016 16:52:43 +0100
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)

A questions for the knowledgable SSL people here:=20

I experimented with setting socket timeouts to 1 second during HTTP/2's =
keepalive reading and closing the connection after n such TIMEUP =
returns. That works nicely on cleartext connections, but https:// return =
APR_EOF on reads after the first APR_ETIMEUP. Am I seeing ghosts or is =
that something in SSL that regards timed-out reads as basically broken?

Thanks.

-Stefan


From dev-return-85220-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 19 16:09:15 2016
Return-Path: <dev-return-85220-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7978F187BF
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 19 Jan 2016 16:09:15 +0000 (UTC)
Received: (qmail 58619 invoked by uid 500); 19 Jan 2016 16:09:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58558 invoked by uid 500); 19 Jan 2016 16:09:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58548 invoked by uid 99); 19 Jan 2016 16:09:13 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Jan 2016 16:09:13 +0000
Received: from gauss.localdomain (v4-86134b0f.pool.vitroconnect.de [134.19.75.15])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 540251A0040
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 16:09:13 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 8BBEE1D8
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 17:09:13 +0100 (CET)
Subject: Re: svn commit: r1725523 - in /httpd/httpd/trunk/modules/proxy:
 mod_proxy.h mod_proxy_hcheck.c
To: dev@httpd.apache.org
References: <20160119141427.78B953A0249@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <569E5FA9.8090607@apache.org>
Date: Tue, 19 Jan 2016 17:09:13 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <20160119141427.78B953A0249@svn01-us-west.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 01/19/2016 03:14 PM, jim@apache.org wrote:
> Author: jim
> Date: Tue Jan 19 14:14:27 2016
> New Revision: 1725523
> 
> URL: http://svn.apache.org/viewvc?rev=1725523&view=rev
> Log:
> For OPTIONS and HEAD, only 2xx and 3xx are considered "passing"
> (until I implement the conditions expr testing)... honor
> the pass/fail count and LOG_INFO when the health check enables
> or disables a backend worker.
> 
> Modified:
>     httpd/httpd/trunk/modules/proxy/mod_proxy.h
>     httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
> 

> 
> Modified: httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c?rev=1725523&r1=1725522&r2=1725523&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c (original)
> +++ httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c Tue Jan 19 14:14:27 2016

> @@ -647,10 +662,29 @@ static void hc_check(sctx_t *ctx, apr_po
>                           "Somehow tried to use unimplemented hcheck method: %d", (int)worker->s->method);
>          return;
>      }
> -    /* TODO Honor fails and passes */
> -    ap_proxy_set_wstatus('#', (rv == APR_SUCCESS ? 0 : 1), worker);
> -    if (rv != APR_SUCCESS) {
> -        worker->s->error_time = now;
> +    /* what state are we in ? */
> +    if (PROXY_WORKER_IS_HCFAILED(worker)) {
> +        if (rv == APR_SUCCESS) {
> +            worker->s->pcount += 1;
> +            if (worker->s->pcount >= worker->s->passes) {
> +                ap_proxy_set_wstatus('#', 0, worker);
> +                worker->s->pcount = 0;
> +                ap_log_error(APLOG_MARK, APLOG_INFO, 0, s, APLOGNO()
> +                             "Health check re-enabling %s", worker->s->name);
> +
> +            }
> +        }
> +    } else {
> +        if (rv != APR_SUCCESS) {
> +            worker->s->error_time = now;
> +            worker->s->fcount += 1;
> +            if (worker->s->fcount >= worker->s->fails) {
> +                ap_proxy_set_wstatus('#', 1, worker);

Wouldn't it be better to use the define from mod_proxy.h instead of the literal?

> +                worker->s->fcount = 0;
> +                ap_log_error(APLOG_MARK, APLOG_INFO, 0, s, APLOGNO()
> +                             "Health check disabling %s", worker->s->name);
> +            }
> +        }
>      }
>      worker->s->updated = now;
>  }
> 
> 
> 


Regards

Rdiger

From dev-return-85221-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 19 17:45:43 2016
Return-Path: <dev-return-85221-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0DD5318C74
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 19 Jan 2016 17:45:43 +0000 (UTC)
Received: (qmail 78619 invoked by uid 500); 19 Jan 2016 17:45:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78547 invoked by uid 500); 19 Jan 2016 17:45:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 78537 invoked by uid 99); 19 Jan 2016 17:45:42 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Jan 2016 17:45:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id CD6931804FC
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 17:45:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id PhwLLriTyziW for <dev@httpd.apache.org>;
	Tue, 19 Jan 2016 17:45:34 +0000 (UTC)
Received: from resqmta-po-07v.sys.comcast.net (resqmta-po-07v.sys.comcast.net [96.114.154.166])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 1755B21265
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 17:45:33 +0000 (UTC)
Received: from resomta-po-15v.sys.comcast.net ([96.114.154.239])
	by resqmta-po-07v.sys.comcast.net with comcast
	id 7tkR1s0085AAYLo01tlT3p; Tue, 19 Jan 2016 17:45:27 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-15v.sys.comcast.net with comcast
	id 7tlR1s00M2U0RYt01tlStY; Tue, 19 Jan 2016 17:45:26 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1725523 - in /httpd/httpd/trunk/modules/proxy: mod_proxy.h mod_proxy_hcheck.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <569E5FA9.8090607@apache.org>
Date: Tue, 19 Jan 2016 12:45:25 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <E3848EAC-9667-48ED-B912-C06E783BF284@jaguNET.com>
References: <20160119141427.78B953A0249@svn01-us-west.apache.org> <569E5FA9.8090607@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453225527;
	bh=ATpO/A/tANx7foawMDSJKyxYV7sJfpp0Xp0NFGfnBwo=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=QbbL9AvPzTmOJh2j7x+sy5wfYbFU0ZXfJ/EWk5nSpb4Tf8jbyMdqfJxNLS3x4Y+rl
	 zr9bdwal7MxCaLX45hc6WzYVIhne8+kFQ0ZwDF8wBINF5eWVGderW7GNt6MgKoJYlr
	 ee2nsH++hufbaKuKeKw54C8G3U20CxKZyX0b8EpDg3JSkYqRBMeMtt5ZTX3UU/9Olg
	 pvhUdmUkWXgLKlSRurKIZ8M5Os+O86AgntYlyj14/3BxLAKaA+/uoTfEpBfq1IoKpQ
	 BEwUqthUENFDJyAcX/ULCon7p/zy0EwO8m8aFebSXlFLpRHP1WwqrEfL+AnbrqO23u
	 4RR5OY/W3//Og==


> On Jan 19, 2016, at 11:09 AM, Ruediger Pluem <rpluem@apache.org> =
wrote:
>=20
>> +    } else {
>> +        if (rv !=3D APR_SUCCESS) {
>> +            worker->s->error_time =3D now;
>> +            worker->s->fcount +=3D 1;
>> +            if (worker->s->fcount >=3D worker->s->fails) {
>> +                ap_proxy_set_wstatus('#', 1, worker);
>=20
> Wouldn't it be better to use the define from mod_proxy.h instead of =
the literal?
>=20

??

Using ap_proxy_set_wstatus() is the standard method for setting
or clearing the bits in the worker status.=

From dev-return-85222-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 19 18:59:47 2016
Return-Path: <dev-return-85222-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C080518132
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 19 Jan 2016 18:59:47 +0000 (UTC)
Received: (qmail 56094 invoked by uid 500); 19 Jan 2016 18:59:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56032 invoked by uid 500); 19 Jan 2016 18:59:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56023 invoked by uid 99); 19 Jan 2016 18:59:47 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Jan 2016 18:59:47 +0000
Received: from gauss.localdomain (v4-86134b0f.pool.vitroconnect.de [134.19.75.15])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id D09B91A01AC
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 18:59:46 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 128841D8
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 19:59:47 +0100 (CET)
Subject: Re: svn commit: r1725523 - in /httpd/httpd/trunk/modules/proxy:
 mod_proxy.h mod_proxy_hcheck.c
To: dev@httpd.apache.org
References: <20160119141427.78B953A0249@svn01-us-west.apache.org>
 <569E5FA9.8090607@apache.org>
 <E3848EAC-9667-48ED-B912-C06E783BF284@jaguNET.com>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <569E87A3.6010406@apache.org>
Date: Tue, 19 Jan 2016 19:59:47 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <E3848EAC-9667-48ED-B912-C06E783BF284@jaguNET.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit



On 01/19/2016 06:45 PM, Jim Jagielski wrote:
> 
>> On Jan 19, 2016, at 11:09 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>>
>>> +    } else {
>>> +        if (rv != APR_SUCCESS) {
>>> +            worker->s->error_time = now;
>>> +            worker->s->fcount += 1;
>>> +            if (worker->s->fcount >= worker->s->fails) {
>>> +                ap_proxy_set_wstatus('#', 1, worker);
>>
>> Wouldn't it be better to use the define from mod_proxy.h instead of the literal?
>>
> 
> ??
> 
> Using ap_proxy_set_wstatus() is the standard method for setting
> or clearing the bits in the worker status.
> 

Sorry for being confusing I meant using PROXY_WORKER_HC_FAIL_FLAG instead of '#'.

Regards

Rdiger

From dev-return-85223-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 19 19:01:30 2016
Return-Path: <dev-return-85223-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4926618149
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 19 Jan 2016 19:01:30 +0000 (UTC)
Received: (qmail 59512 invoked by uid 500); 19 Jan 2016 19:01:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59441 invoked by uid 500); 19 Jan 2016 19:01:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59431 invoked by uid 99); 19 Jan 2016 19:01:29 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Jan 2016 19:01:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 1109A1A09F6
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 19:01:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id cbpSe_6W5qJI for <dev@httpd.apache.org>;
	Tue, 19 Jan 2016 19:01:22 +0000 (UTC)
Received: from resqmta-po-07v.sys.comcast.net (resqmta-po-07v.sys.comcast.net [96.114.154.166])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 841AC20BC2
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 19:01:21 +0000 (UTC)
Received: from resomta-po-16v.sys.comcast.net ([96.114.154.240])
	by resqmta-po-07v.sys.comcast.net with comcast
	id 7v181s0035BUCh401v1EmX; Tue, 19 Jan 2016 19:01:14 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-16v.sys.comcast.net with comcast
	id 7v1D1s00C2U0RYt01v1Dm2; Tue, 19 Jan 2016 19:01:14 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Work in progress: mod_proxy Health Check module
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com>
Date: Tue, 19 Jan 2016 14:01:12 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453230074;
	bh=7qTSMXbA/99jn7WQN23CO/xH+PbtyNujX68DjyMHG6c=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=BHfubLCLOS4pAJ41IY1svfyz5gEtmw5nBsAzr94ZwfhRD/yaXbST5jD41TV9mgKDq
	 BrJX51WV7t9GHAQz7Nlkc46KUDC8O9t+RnUukj1jQkng8JJkK7SCczr6fB8uyqhdbF
	 L76Q1UOkofGaJZogxapOwiOSajcK5/tq0UPtjaCBy9EAFRaAjxmN8cMF5FAVQylfND
	 xjZl3DkEvNFDcP/ifw3yo7F9OYAcyhD1pDP1gBjleRiFvsa8u+Y09CNpJlyS5rrOVK
	 XyWrPm7PL66UqZ0WEiiU4aInHikEjiH/y6hpO15LAdEja9r8VddcAPwVQ0pKL7HioZ
	 sGvFJe8j0FoGg==

Okey dokey... this is quite functional at this stage.
Right now we have:

   o TCP health checking (socket up/down)
   o HTTP OPTIONS checking
   o HTTP HEAD checking
   o Support for ap_expr against the response of
     the backend for OPTIONS/HEAD
   o Ability to add a URI to the worker's path for
     a "health check" URL (eg: /check/up.php)
   o Allow for a set number of successes or failures
     before enabling/disabling the worker.
   o Some basic balancer-manager view

I plan to add updating the health check params via
the bal-manager UI in a bit.

Oh yeah, docs are in place =
(http://httpd.apache.org/docs/trunk/mod/mod_proxy_hcheck.html)



From dev-return-85224-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 19 19:02:30 2016
Return-Path: <dev-return-85224-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EF1B018174
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 19 Jan 2016 19:02:29 +0000 (UTC)
Received: (qmail 62440 invoked by uid 500); 19 Jan 2016 19:02:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62370 invoked by uid 500); 19 Jan 2016 19:02:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62360 invoked by uid 99); 19 Jan 2016 19:02:29 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Jan 2016 19:02:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id DC95D1804F3
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 19:02:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id LfbHw-Sa5OD5 for <dev@httpd.apache.org>;
	Tue, 19 Jan 2016 19:02:22 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id C93A5258DB
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 19:02:21 +0000 (UTC)
Received: from resomta-po-16v.sys.comcast.net ([96.114.154.240])
	by resqmta-po-05v.sys.comcast.net with comcast
	id 7v221s0085BUCh401v2ETT; Tue, 19 Jan 2016 19:02:14 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-16v.sys.comcast.net with comcast
	id 7v1D1s00C2U0RYt01v2EvM; Tue, 19 Jan 2016 19:02:14 +0000
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1725523 - in /httpd/httpd/trunk/modules/proxy: mod_proxy.h mod_proxy_hcheck.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <569E87A3.6010406@apache.org>
Date: Tue, 19 Jan 2016 14:02:14 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <B1458971-491A-49CD-8A9F-D4B552E0D34C@jaguNET.com>
References: <20160119141427.78B953A0249@svn01-us-west.apache.org> <569E5FA9.8090607@apache.org> <E3848EAC-9667-48ED-B912-C06E783BF284@jaguNET.com> <569E87A3.6010406@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453230134;
	bh=OGL9RTrQ7KMQRBojrz9Zy83VrSIQwamWsrIVQEyfaDY=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=EL2RZAbSRptzQ/CVFt/0L4GgpGQICVwkkKg/dTx/afcjNgulCOltwygvbYe3/g4m5
	 UpeqziaLLzyKhFsMhE8v+OWKTWq56hM5l1/lfy7EdhVOjaIAE0hKbw4wq79JzFWb8B
	 aOJvmYcwuj3JslsB0AqnR3ahHZwizxML5VBOZccP4EQiO0r4/Zf0G90qUn22i0cOht
	 cNuIvT5NyeHNrJby3WVe3H5a/qR6XlLpe2BLE569Sqs5bnvIBcEtmjQbjQwwlD2bFE
	 NgFsXa74m6c7bVnKMGQ2B9NlfUjbFx232QSEyrn2ZJ6E25pRcPe4Chh4kW8kHN2SlJ
	 rqWQ5zTY4ZhDw==

Ahhh... yeah, I guess updating all the usages to do
that makes sense.

thx!

> On Jan 19, 2016, at 1:59 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>=20
>=20
>=20
> On 01/19/2016 06:45 PM, Jim Jagielski wrote:
>>=20
>>> On Jan 19, 2016, at 11:09 AM, Ruediger Pluem <rpluem@apache.org> =
wrote:
>>>=20
>>>> +    } else {
>>>> +        if (rv !=3D APR_SUCCESS) {
>>>> +            worker->s->error_time =3D now;
>>>> +            worker->s->fcount +=3D 1;
>>>> +            if (worker->s->fcount >=3D worker->s->fails) {
>>>> +                ap_proxy_set_wstatus('#', 1, worker);
>>>=20
>>> Wouldn't it be better to use the define from mod_proxy.h instead of =
the literal?
>>>=20
>>=20
>> ??
>>=20
>> Using ap_proxy_set_wstatus() is the standard method for setting
>> or clearing the bits in the worker status.
>>=20
>=20
> Sorry for being confusing I meant using PROXY_WORKER_HC_FAIL_FLAG =
instead of '#'.
>=20
> Regards
>=20
> R=FCdiger


From dev-return-85225-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 19 19:44:57 2016
Return-Path: <dev-return-85225-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D1BA81846E
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 19 Jan 2016 19:44:57 +0000 (UTC)
Received: (qmail 14024 invoked by uid 500); 19 Jan 2016 19:44:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13948 invoked by uid 500); 19 Jan 2016 19:44:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13938 invoked by uid 99); 19 Jan 2016 19:44:56 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Jan 2016 19:44:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 96614C0D24
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 19:44:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.555
X-Spam-Level:
X-Spam-Status: No, score=-0.555 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id XcteS-3XWnWo for <dev@httpd.apache.org>;
	Tue, 19 Jan 2016 19:44:55 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 5BB19203BE
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 19:44:54 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0JJimrP010376
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 20:44:48 +0100 (CET)
Subject: Re: svn commit: r1725523 - in /httpd/httpd/trunk/modules/proxy:
 mod_proxy.h mod_proxy_hcheck.c
To: dev@httpd.apache.org
References: <20160119141427.78B953A0249@svn01-us-west.apache.org>
 <569E5FA9.8090607@apache.org>
 <E3848EAC-9667-48ED-B912-C06E783BF284@jaguNET.com>
 <569E87A3.6010406@apache.org>
 <B1458971-491A-49CD-8A9F-D4B552E0D34C@jaguNET.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <569E922D.2090700@kippdata.de>
Date: Tue, 19 Jan 2016 20:44:45 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <B1458971-491A-49CD-8A9F-D4B552E0D34C@jaguNET.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

Am 19.01.2016 um 20:02 schrieb Jim Jagielski:
> Ahhh... yeah, I guess updating all the usages to do
> that makes sense.

Done in r1725602.

>> On Jan 19, 2016, at 1:59 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>>
>>
>>
>> On 01/19/2016 06:45 PM, Jim Jagielski wrote:
>>>
>>>> On Jan 19, 2016, at 11:09 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>>>>
>>>>> +    } else {
>>>>> +        if (rv != APR_SUCCESS) {
>>>>> +            worker->s->error_time = now;
>>>>> +            worker->s->fcount += 1;
>>>>> +            if (worker->s->fcount >= worker->s->fails) {
>>>>> +                ap_proxy_set_wstatus('#', 1, worker);
>>>>
>>>> Wouldn't it be better to use the define from mod_proxy.h instead of the literal?
>>>>
>>>
>>> ??
>>>
>>> Using ap_proxy_set_wstatus() is the standard method for setting
>>> or clearing the bits in the worker status.
>>>
>>
>> Sorry for being confusing I meant using PROXY_WORKER_HC_FAIL_FLAG instead of '#'.
>>
>> Regards
>>
>> Rdiger

From dev-return-85226-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 19 20:55:45 2016
Return-Path: <dev-return-85226-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1B54918809
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 19 Jan 2016 20:55:45 +0000 (UTC)
Received: (qmail 27300 invoked by uid 500); 19 Jan 2016 20:55:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 27239 invoked by uid 500); 19 Jan 2016 20:55:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 27229 invoked by uid 99); 19 Jan 2016 20:55:44 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Jan 2016 20:55:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id DD17DC0DC7
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 20:55:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id C3IrWiPm_wiT for <dev@httpd.apache.org>;
	Tue, 19 Jan 2016 20:55:37 +0000 (UTC)
Received: from resqmta-ch2-02v.sys.comcast.net (resqmta-ch2-02v.sys.comcast.net [69.252.207.34])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 1C5FC42A21
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 20:55:37 +0000 (UTC)
Received: from resomta-ch2-08v.sys.comcast.net ([69.252.207.104])
	by resqmta-ch2-02v.sys.comcast.net with comcast
	id 7wty1s0072Fh1PH01wvWUk; Tue, 19 Jan 2016 20:55:30 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-08v.sys.comcast.net with comcast
	id 7wvV1s0032U0RYt01wvVud; Tue, 19 Jan 2016 20:55:30 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: help from cache gurus?
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CALK=YjNOdLNHW7o55gMucDcdt2qB-vmShVa34PkTt472ucA0MQ@mail.gmail.com>
Date: Tue, 19 Jan 2016 15:55:28 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <2F995F21-251E-4D42-B816-C9E12C497C03@jaguNET.com>
References: <CALK=YjNOdLNHW7o55gMucDcdt2qB-vmShVa34PkTt472ucA0MQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453236930;
	bh=MBGKPrmSV6zqMwoTI5aspOWeRTmA2LdlnUZKe+pr3ig=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Ww1wGeI04WVJW/bb01NLweYCUkKyaqiHSqWTuyVEp2gHy23g2VPETVy7ZMcj/xMWw
	 Pygv4fcF0uFDzUwte5DLjk4zs+5EorfQgXhKadBMvpRKTtkMwewkTxuEaABXdHiCvO
	 1V3MMPjaxD3bvS0i2oOj3G0FdfY+NfyuOjSSUHUtDjgfV1MRZ9sfbXygE6w/V682TM
	 qGcGIGxHuIpM3QCAGYq4B/HpKSxQ9N080wGwlgFTjXZqaOqX3+lmf77YyOEmWYR4Ec
	 8N82HXuE2fMSxnEAc7Ap/ukzmXA4njr6oPZ9ynoKQfEGmxrHKLgKSg+Ac71LsEqf0+
	 KQ3djynCnEEGQ==

fwiw, this tested out fine 

Thx!

> On Jan 14, 2016, at 10:25 AM, Eric Covener <covener@gmail.com> wrote:
> 
> Review please? Didn't want unnecessary churn in svn.
> 
> http://people.apache.org/~covener/patches/httpd-trunk-cachecontrol.diff
> 
> (whitespace not included)
> 
> I think the changing meaning of "exp" over time in that function adds
> to the confusion, but pre-patch the issue is that we do not give
> Cache-Control s-maxage and max-age priority over Expires (either when
> checking if we can cache or determining our own expiry)
> 
> The patch is really three tiightly coupled fixes around s-maxage.
> 
> Can anyone review / kick the tires?
> -- 
> Eric Covener
> covener@gmail.com


From dev-return-85227-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 19 22:14:29 2016
Return-Path: <dev-return-85227-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DEE9618E4D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 19 Jan 2016 22:14:28 +0000 (UTC)
Received: (qmail 70078 invoked by uid 500); 19 Jan 2016 22:14:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70010 invoked by uid 500); 19 Jan 2016 22:14:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70000 invoked by uid 99); 19 Jan 2016 22:14:28 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Jan 2016 22:14:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B38F2C064C
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 22:14:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.362
X-Spam-Level: *
X-Spam-Status: No, score=1.362 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RDNS_DYNAMIC=0.363,
	RP_MATCHES_RCVD=-0.001, SPF_HELO_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id CZalPTNo8rWj for <dev@httpd.apache.org>;
	Tue, 19 Jan 2016 22:14:18 +0000 (UTC)
Received: from nebula.c8h10n4o2.org.uk (nebula.c8h10n4o2.org.uk [80.68.88.207])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 9150B2054B
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 22:14:18 +0000 (UTC)
Received: from 0.0.0.8.0.0.0.0.0.0.0.0.0.0.0.0.1.0.0.0.e.e.a.c.0.b.8.0.1.0.0.2.ip6.arpa ([2001:8b0:caee:1::8000])
	by nebula.c8h10n4o2.org.uk with esmtpsa (TLS1.2:ECDHE_RSA_AES_256_CBC_SHA1:256)
	(Exim 4.84)
	(envelope-from <isoma@c8h10n4o2.org.uk>)
	id 1aLeXS-0000SC-Jb
	for dev@httpd.apache.org; Tue, 19 Jan 2016 22:14:10 +0000
User-Agent: K-9 Mail for Android
In-Reply-To: <25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com> <25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Content-Type: text/plain;
 charset=UTF-8
Subject: Re: Work in progress: mod_proxy Health Check module
From: Tim Bannister <isoma@c8h10n4o2.org.uk>
Date: Tue, 19 Jan 2016 22:14:08 +0000
To: dev@httpd.apache.org
Message-ID: <9EE59597-7931-484A-A61E-1A4715D9F5A3@c8h10n4o2.org.uk>

On 19 January 2016 19:01:12 GMT, Jim Jagielski <jim@jaguNET.com> wrote:
>Okey dokey... this is quite functional at this stage.
>Right now we have:
>
>   o TCP health checking (socket up/down)
>   o HTTP OPTIONS checking
>   o HTTP HEAD checking
>   o Support for ap_expr against the response of
>     the backend for OPTIONS/HEAD
>   o Ability to add a URI to the worker's path for
>     a "health check" URL (eg: /check/up.php)
>   o Allow for a set number of successes or failures
>     before enabling/disabling the worker.
>   o Some basic balancer-manager view

That looks really good.

In the longer term, what do people think about the idea of supporting GET as a health check method?

up.php or whatever might supply a special response which an ap_expr checks for. I've seen this approach used to protect against serving an apparently healthy backend (2xx status) which is actually serving the wrong page, eg this domain is for sale!


-- 
Tim Bannister  isoma@c8h10n4o2.org.uk

From dev-return-85228-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 19 23:30:46 2016
Return-Path: <dev-return-85228-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E115D182CA
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 19 Jan 2016 23:30:46 +0000 (UTC)
Received: (qmail 11233 invoked by uid 500); 19 Jan 2016 23:30:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11164 invoked by uid 500); 19 Jan 2016 23:30:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11154 invoked by uid 99); 19 Jan 2016 23:30:46 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Jan 2016 23:30:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id DDD23C0DC7
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 23:30:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.899
X-Spam-Level: **
X-Spam-Status: No, score=2.899 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id VSaYQKC9xfWM for <dev@httpd.apache.org>;
	Tue, 19 Jan 2016 23:30:39 +0000 (UTC)
Received: from mail-qg0-f54.google.com (mail-qg0-f54.google.com [209.85.192.54])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 431AC43B36
	for <dev@httpd.apache.org>; Tue, 19 Jan 2016 23:30:39 +0000 (UTC)
Received: by mail-qg0-f54.google.com with SMTP id e32so505636761qgf.3
        for <dev@httpd.apache.org>; Tue, 19 Jan 2016 15:30:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Q1oQl5iMWqBQCHNDxK4/MS0e9OG1S6nkzxULwssxsvc=;
        b=rdHHyUIM+Iw4g5sOccPUVA3APGnq4V7FS1RImRrBRF+ok4Hyr/7Fp9sh6MrlYPaTSs
         cmxPIBMQ1gm6Pt8OMS/OawZn7ujvJ4hetvJB4ltMFENdGc5Sw0c1G/7KrXUe4gM5KQwm
         ffUslPXLC/PcIYHApiS5j6IctCtYzHigBleTiscAfq/69x714hYPFuufCtuEQdKiN/HP
         /QswLDvM1xkP4NS/Crfs32th+3P9KM3VvHRFjTN3ywJaL5OVi/bKoXPXEMEfdxPN6x9j
         Edzeo1GeuqEzNFcNCK68H4Qx6srzTuRiXe55beWdU3JM5kDlEmkfMhTxvh4ut26UO45l
         1iiw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=Q1oQl5iMWqBQCHNDxK4/MS0e9OG1S6nkzxULwssxsvc=;
        b=XplAXEXeYuwNgqwItQzieXdnhMr5qAiBwTa9ykQZ/0OmB5dlIm4yS5raq7SlGU0FiT
         /sC/JlfkZlJQRdreU+o6Kdf+ks7FKTtfyxnaVvI92tQwhooDdeQBoU+6CcFz9MWYAZ7c
         S6425j6xmQ7bGGOPO6PSSYMQ1ukRLeXuy/R/+K33WXBmeM1okSu7X5L46Rxw4JmEEqRx
         WZJLpGLgS5QgRLwwMlCY5cnPVGC/8YyMpg/gjvzCduUq7QYhEL9QP+kP+tR+F47UmosV
         KrY0O79wJaNTLhMcaCy/bA29nm/ZxLJ++HVkmTfHKtkDSwdI2mzg2XyVqZK14BMOrfbw
         6AHw==
X-Gm-Message-State: ALoCoQnIcHxvNfJMqdh53VYPs0Vo71kbG0Tj1/6N9aBVGfLRycXy3xj6fSbvGtnVXO2MHk7ePPdmRKLVaAHSmGWaiQNip9Vfig==
MIME-Version: 1.0
X-Received: by 10.140.97.2 with SMTP id l2mr41543897qge.30.1453246239044; Tue,
 19 Jan 2016 15:30:39 -0800 (PST)
Received: by 10.140.91.6 with HTTP; Tue, 19 Jan 2016 15:30:38 -0800 (PST)
Received: by 10.140.91.6 with HTTP; Tue, 19 Jan 2016 15:30:38 -0800 (PST)
In-Reply-To: <CACsi253mbDBvxd4ANsJLRG4bR_U4MJA7TV-WWofH9WY14mUcfA@mail.gmail.com>
References: <568F6A11.1060309@redhat.com>
	<CAKQ1sVMoNo0d51J7x_DOLoo9vHbjVVYfUueg2zTb1PcAXyrNDw@mail.gmail.com>
	<CACsi2511-fjOZp3ostR=1xZ0RognDw+Fw62wsboFkHvChovUzw@mail.gmail.com>
	<CAKQ1sVPL9n2Bx9psx4XkzZOk=XfFXm8Vixer+e+QZkndY5GBDA@mail.gmail.com>
	<CAKQ1sVMQzat3r+9uYBU7K=9=nQfbctB_OatLWCqo5AsiBiK8hQ@mail.gmail.com>
	<CACsi251oAtGtEgFb9=dqo0eL2NLcgk8dtwe4EDjE+8mpc4_S=Q@mail.gmail.com>
	<569CC8EF.5000301@redhat.com>
	<CACsi253mbDBvxd4ANsJLRG4bR_U4MJA7TV-WWofH9WY14mUcfA@mail.gmail.com>
Date: Tue, 19 Jan 2016 15:30:38 -0800
Message-ID: <CAMa9x1RdmchGxhHMBm+rOZzFtiXg5eJ4UW_yHevhGkD4nryh3w@mail.gmail.com>
Subject: Re: mod_mime_magic, gzipped tarballs and Docker
From: Ronald Masaya <ronaldmasaya.rm@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a113ab66ad978270529b841d5

--001a113ab66ad978270529b841d5
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Accept
On Jan 19, 2016 4:22 AM, "William A Rowe Jr" <wrowe@rowe-clan.net> wrote:

> On Mon, Jan 18, 2016 at 5:13 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wro=
te:
>
>> On 01/08/2016 07:44 PM, William A Rowe Jr wrote:
>>
>>> Do we have to repeat the softmagic call if checkzmagic resolves to
>>> x-gzip/x-deflate and the internal content type needs to be deciphered?
>>>
>>
>> That's true.
>>
>> I think that Yann's patch moving the zmagic call after the softmagic cal=
l
>> would just mean that zmagic won't be called at all if the softmagic
>> recognizes the file format.
>>
>> We would have to check the softmagic result by something similar to
>> "magic_rsl_to_request" and if it's type we want to decompress, we would
>> have to run zmagic.
>>
>> Before really trying to do so, I want to ask if I understand the
>> reasoning right. Do we consider this way because users can then remove
>> x-gzip from mime magic and will be able to use it to disable the
>> mod_mime_magic behaviour discussed in this thread?
>>
>
> Yes... and in a more flexible manner that allows us to override any
> compression mode, not only deflate, by simply tweaking the magic entries.
>
> Putting magic file entry overrides into the mod_mime_magic directives is =
a
> lot more interesting than simply toggling compression recognition.
>

--001a113ab66ad978270529b841d5
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">Accept</p>
<div class=3D"gmail_quote">On Jan 19, 2016 4:22 AM, &quot;William A Rowe Jr=
&quot; &lt;<a href=3D"mailto:wrowe@rowe-clan.net">wrowe@rowe-clan.net</a>&g=
t; wrote:<br type=3D"attribution"><blockquote class=3D"gmail_quote" style=
=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=
=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On Mon, Jan =
18, 2016 at 5:13 AM, Jan Kalu=C5=BEa <span dir=3D"ltr">&lt;<a href=3D"mailt=
o:jkaluza@redhat.com" target=3D"_blank">jkaluza@redhat.com</a>&gt;</span> w=
rote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;borde=
r-left:1px #ccc solid;padding-left:1ex"><span>On 01/08/2016 07:44 PM, Willi=
am A Rowe Jr wrote:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
Do we have to repeat the softmagic call if checkzmagic resolves to<br>
x-gzip/x-deflate and the internal content type needs to be deciphered?<br>
</blockquote>
<br></span>
That&#39;s true.<br>
<br>
I think that Yann&#39;s patch moving the zmagic call after the softmagic ca=
ll would just mean that zmagic won&#39;t be called at all if the softmagic =
recognizes the file format.<br>
<br>
We would have to check the softmagic result by something similar to &quot;m=
agic_rsl_to_request&quot; and if it&#39;s type we want to decompress, we wo=
uld have to run zmagic.<br>
<br>
Before really trying to do so, I want to ask if I understand the reasoning =
right. Do we consider this way because users can then remove x-gzip from mi=
me magic and will be able to use it to disable the mod_mime_magic behaviour=
 discussed in this thread?<br></blockquote><div><br></div><div>Yes... and i=
n a more flexible manner that allows us to override any compression mode, n=
ot only deflate, by simply tweaking the magic entries.</div></div><br></div=
><div class=3D"gmail_extra">Putting magic file entry overrides into the mod=
_mime_magic directives is a lot more interesting than simply toggling compr=
ession recognition.</div></div>
</blockquote></div>

--001a113ab66ad978270529b841d5--

From dev-return-85229-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 00:58:22 2016
Return-Path: <dev-return-85229-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C6BE71863C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 00:58:22 +0000 (UTC)
Received: (qmail 8747 invoked by uid 500); 20 Jan 2016 00:58:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 8662 invoked by uid 500); 20 Jan 2016 00:58:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 8652 invoked by uid 99); 20 Jan 2016 00:58:17 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 00:58:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id D42781A0A35
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 00:58:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id C2mMQPVWYL6b for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 00:58:06 +0000 (UTC)
Received: from resqmta-po-04v.sys.comcast.net (resqmta-po-04v.sys.comcast.net [96.114.154.163])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id DB03E43B36
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 00:58:05 +0000 (UTC)
Received: from resomta-po-12v.sys.comcast.net ([96.114.154.236])
	by resqmta-po-04v.sys.comcast.net with comcast
	id 80xV1s00256HXL0010xz2M; Wed, 20 Jan 2016 00:57:59 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-12v.sys.comcast.net with comcast
	id 80xy1s0032U0RYt010xyBr; Wed, 20 Jan 2016 00:57:59 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Work in progress: mod_proxy Health Check module
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <9EE59597-7931-484A-A61E-1A4715D9F5A3@c8h10n4o2.org.uk>
Date: Tue, 19 Jan 2016 19:57:57 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <41F5D009-7C4E-47AB-8FE7-0B0C97E569FA@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com> <25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com> <9EE59597-7931-484A-A61E-1A4715D9F5A3@c8h10n4o2.org.uk>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453251479;
	bh=jZeK3AsS4BglUjgNM6ADR/hxi+HY3E/lhntop3Sr2JA=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=ErBC/wED1DQSNDRdJzkww2SzTbbys+PNGCIDZll5Zg/HIsyC4Tvsc+FJmi/1qfO1p
	 SfeQwz2b/IRw1hg4+mq2yfVyxMK+WeHRCoIk+RjTeZ3R1WVqTZTO63W0padIfSlPC7
	 QjASf6vMM6qJihMxrmThmVLMlBtB8GrpafCDxgSfsrtHXTlv4K8e3tY8648a+OKvqC
	 PyUxLFUkKvyIBJm0e38vrgClAzuHD3dwcXEbU7wsGlh94/cewBnQ9xK4ZldoRCnEm6
	 bz8AaL29iMzBAz7YuTReGDNZsCw5zJcfe2vZwjHu7ifj3s8na1K1JHOyEr/5g5VkJV
	 d7VK+Sg7p8Wkw==

Right now GET and CPING (as well as provider) is on my
TODO, in fact, they are currently set as "unimplemented"
although the hooks are there.

The main issue is that we need to worry about a (possibly)
large response body and some method of checking against
that. I have some ideas, but it's not as "easy" as it
was using ap_expr.

> On Jan 19, 2016, at 5:14 PM, Tim Bannister <isoma@c8h10n4o2.org.uk> =
wrote:
>=20
> On 19 January 2016 19:01:12 GMT, Jim Jagielski <jim@jaguNET.com> =
wrote:
>> Okey dokey... this is quite functional at this stage.
>> Right now we have:
>>=20
>>  o TCP health checking (socket up/down)
>>  o HTTP OPTIONS checking
>>  o HTTP HEAD checking
>>  o Support for ap_expr against the response of
>>    the backend for OPTIONS/HEAD
>>  o Ability to add a URI to the worker's path for
>>    a "health check" URL (eg: /check/up.php)
>>  o Allow for a set number of successes or failures
>>    before enabling/disabling the worker.
>>  o Some basic balancer-manager view
>=20
> That looks really good.
>=20
> In the longer term, what do people think about the idea of supporting =
GET as a health check method?
>=20
> =E2=80=9Cup.php=E2=80=9D or whatever might supply a special response =
which an ap_expr checks for. I've seen this approach used to protect =
against serving an apparently healthy backend (2xx status) which is =
actually serving the wrong page, eg =E2=80=9Cthis domain is for sale!=E2=80=
=9D
>=20
>=20
> --=20
> Tim Bannister =E2=80=93 isoma@c8h10n4o2.org.uk


From dev-return-85230-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 08:34:33 2016
Return-Path: <dev-return-85230-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 32A27185EE
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 08:34:33 +0000 (UTC)
Received: (qmail 52102 invoked by uid 500); 20 Jan 2016 08:34:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52015 invoked by uid 500); 20 Jan 2016 08:34:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52005 invoked by uid 99); 20 Jan 2016 08:34:32 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 08:34:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B181CC362E
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 08:34:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.001
X-Spam-Level:
X-Spam-Status: No, score=-0.001 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id gGEvywqvdfpd for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 08:34:23 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id E6BDF20D3F
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 08:34:22 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0K8YEjJ015963
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 09:34:14 +0100 (CET)
Subject: Re: Work in progress: mod_proxy Health Check module
To: dev@httpd.apache.org
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com>
 <25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com>
 <9EE59597-7931-484A-A61E-1A4715D9F5A3@c8h10n4o2.org.uk>
 <41F5D009-7C4E-47AB-8FE7-0B0C97E569FA@jaguNET.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <569F4683.8020206@kippdata.de>
Date: Wed, 20 Jan 2016 09:34:11 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <41F5D009-7C4E-47AB-8FE7-0B0C97E569FA@jaguNET.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

Am 20.01.2016 um 01:57 schrieb Jim Jagielski:
> Right now GET and CPING (as well as provider) is on my
> TODO, in fact, they are currently set as "unimplemented"
> although the hooks are there.
>
> The main issue is that we need to worry about a (possibly)
> large response body and some method of checking against
> that. I have some ideas, but it's not as "easy" as it
> was using ap_expr.

I wouldn't worry to much about the resource use in case of large 
response bodies. As long as we warn in the docs. Most uses of this 
advanced feature should end up using a special probing page in the 
backend (application). GET instead of HEAD is nice though, because that 
page can include some small status info which can be evaluated using the 
expr.

Cool stuff!

Regards,

Rainer

>> On Jan 19, 2016, at 5:14 PM, Tim Bannister <isoma@c8h10n4o2.org.uk> wrote:
>>
>> On 19 January 2016 19:01:12 GMT, Jim Jagielski <jim@jaguNET.com> wrote:
>>> Okey dokey... this is quite functional at this stage.
>>> Right now we have:
>>>
>>>   o TCP health checking (socket up/down)
>>>   o HTTP OPTIONS checking
>>>   o HTTP HEAD checking
>>>   o Support for ap_expr against the response of
>>>     the backend for OPTIONS/HEAD
>>>   o Ability to add a URI to the worker's path for
>>>     a "health check" URL (eg: /check/up.php)
>>>   o Allow for a set number of successes or failures
>>>     before enabling/disabling the worker.
>>>   o Some basic balancer-manager view
>>
>> That looks really good.
>>
>> In the longer term, what do people think about the idea of supporting GET as a health check method?
>>
>> up.php or whatever might supply a special response which an ap_expr checks for. I've seen this approach used to protect against serving an apparently healthy backend (2xx status) which is actually serving the wrong page, eg this domain is for sale!
>>
>>
>> --
>> Tim Bannister  isoma@c8h10n4o2.org.uk

From dev-return-85231-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 10:37:06 2016
Return-Path: <dev-return-85231-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CD14218A9F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 10:37:06 +0000 (UTC)
Received: (qmail 15769 invoked by uid 500); 20 Jan 2016 10:37:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15697 invoked by uid 500); 20 Jan 2016 10:37:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15686 invoked by uid 99); 20 Jan 2016 10:37:05 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 10:37:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E02F3C0179
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 10:22:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.196
X-Spam-Level:
X-Spam-Status: No, score=0.196 tagged_above=-999 required=6.31
	tests=[KAM_INFOUSMEBIZ=0.75, RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001,
	UNPARSEABLE_RELAY=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id nnhCXUqt8RC8 for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 10:22:57 +0000 (UTC)
Received: from mx.lenk.info (mail.lenk.info [188.40.85.232])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 7ADA420CB8
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 10:22:56 +0000 (UTC)
Received: from [192.168.77.232] (port=40812 helo=mailstore.lenk.local)
	by mx.lenk.info with esmtp (Exim 4.82_1-5b7a7c0-XX)
	(envelope-from <micha@lenk.info>)
	id 1aLpuR-0006dV-29
	for dev@httpd.apache.org; Wed, 20 Jan 2016 11:22:39 +0100
Received: from webmail.lenk.info (localhost [IPv6:::1])
	by mailstore.lenk.local (Postfix) with ESMTP id BFFA41A0E6
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 11:22:38 +0100 (CET)
Received: from M9oH4vW5dIl+I3QhH4MekPT9u6oTbbW9cmrJ3qbszuw=
 (wHSzMzgD0Pg0xx3/eKQ6t5GN84s6udxB)
 by mail.lenk.info
 with HTTP (HTTP/1.1 POST); Wed, 20 Jan 2016 11:22:38 +0100
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII;
 format=flowed
Content-Transfer-Encoding: 7bit
Date: Wed, 20 Jan 2016 11:22:38 +0100
From: Micha Lenk <micha@lenk.info>
To: dev@httpd.apache.org
Subject: Re: AddOutputFilterByType in Apache 2.4 inserts filters as
 =?UTF-8?Q?AP=5FFTYPE=5FRESOURCE?=
In-Reply-To: <1452721451.3884.20.camel@mimir.webthing.com>
References: <64eebd8fd16ad6b8a4a187b5d349f169@mail.lenk.info>
 <1452721451.3884.20.camel@mimir.webthing.com>
Message-ID: <2dc0e98f13f7497c388ade813741d684@mail.lenk.info>
X-Sender: micha@lenk.info
User-Agent: Roundcube Webmail/1.0.5

Hi Nick,

if the patch looks good, as you wrote, what is needed to get it applied 
to trunk and backported to 2.4.x?

Have you seen my follow-up questions in the other mail?

Best regards,
Micha


Am 13.01.2016 22:44, schrieb Nick Kew:
> On Wed, 2016-01-13 at 17:59 +0100, Micha Lenk wrote:
>> Hi,
>> 
>> The directive AddOutputFilterByType can be used to insert filters to 
>> the
>> output filter chain depending on the content type of the HTTP 
>> response.
>> So far so good.
>> 
>> PROBLEM DESCRIPTION
> 
> This is probably worth a bugzilla entry.
> 
> I think I can clarify a little of what's happened.
> AddOutputFilterByType was something of a hacked afterthought
> to filtering back in the days of httpd 2.0.  On the one hand,
> it met a need.  On the other hand, it worked only in a very
> limited range of situations where the content type was known
> at the time the filter was to be added.  It had no capacity
> to respond to other aspects of the content, or indeed the
> request/response.  And there were other issues.
> 
> Then came mod_filter and a generalised framework.
> AddOutputFilterByType was now obsolete, but too widely-used
> to dispense with entirely.  As a compromise it was re-implemented
> within mod_filter, where it could co-exist with other dynamic
> filter configuration.
> 
> Your observation tells us the semantics aren't quite compatible.
> And your patch looks good - thanks.


From dev-return-85232-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 12:59:43 2016
Return-Path: <dev-return-85232-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C727518E75
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 12:59:43 +0000 (UTC)
Received: (qmail 60321 invoked by uid 500); 20 Jan 2016 12:59:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60270 invoked by uid 500); 20 Jan 2016 12:59:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60259 invoked by uid 99); 20 Jan 2016 12:59:40 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 12:59:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 733B3C0179
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 12:59:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id qKGScyiibppB for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 12:59:31 +0000 (UTC)
Received: from resqmta-po-08v.sys.comcast.net (resqmta-po-08v.sys.comcast.net [96.114.154.167])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 6764745BEC
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 12:59:31 +0000 (UTC)
Received: from resomta-po-01v.sys.comcast.net ([96.114.154.225])
	by resqmta-po-08v.sys.comcast.net with comcast
	id 8Cyz1s0014s37d401CzW82; Wed, 20 Jan 2016 12:59:30 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-01v.sys.comcast.net with comcast
	id 8CzV1s00H2U0RYt01CzWRo; Wed, 20 Jan 2016 12:59:30 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Work in progress: mod_proxy Health Check module
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <569F4683.8020206@kippdata.de>
Date: Wed, 20 Jan 2016 07:59:29 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <23C0818C-160A-4907-B574-B8853CF582A1@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com> <25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com> <9EE59597-7931-484A-A61E-1A4715D9F5A3@c8h10n4o2.org.uk> <41F5D009-7C4E-47AB-8FE7-0B0C97E569FA@jaguNET.com> <569F4683.8020206@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453294770;
	bh=NjhVfTp3drIUD1P1i/rhTP5YLaZO3TK4YtBHfotNqaM=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=MoH047xwesR7k4pf9r28agluH0Nh+n3bG2qdmseBa+DsMqODBCblLn1mX6EG5eKTJ
	 WNycQDJ9IcA5t0TQSWbKVspuSEZmIg/ZkthsZnWAANEQO+RCzUXfOtKdzbvQIuS12D
	 WGe2Lx2C+drCOayPufa+9H+HWAxWtFWPZCcGHmSDO0GTUTmcw0YdMktqJAO0nnk1T/
	 DpzCWInrvIgwHmtA2wvyi6hkW/CbzT3IOo+ZTurggcnifXxYzJjwMwA3TIGFwq1EGZ
	 TmcSEUAc+ZkBHx+Kc+zLojP4h3QfRAoRX9MvFj30dpTlZRbGPkdE+REUNxmkPRy/py
	 RQ+OfcWZq6oGQ==


> On Jan 20, 2016, at 3:34 AM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>=20
> Am 20.01.2016 um 01:57 schrieb Jim Jagielski:
>> Right now GET and CPING (as well as provider) is on my
>> TODO, in fact, they are currently set as "unimplemented"
>> although the hooks are there.
>>=20
>> The main issue is that we need to worry about a (possibly)
>> large response body and some method of checking against
>> that. I have some ideas, but it's not as "easy" as it
>> was using ap_expr.
>=20
> I wouldn't worry to much about the resource use in case of large =
response bodies. As long as we warn in the docs. Most uses of this =
advanced feature should end up using a special probing page in the =
backend (application). GET instead of HEAD is nice though, because that =
page can include some small status info which can be evaluated using the =
expr.
>=20

The only thing I can't figure out yet is that ap_expr doesn't
seem to be able to work on the response *body*, at least,
I haven't seen where it is able to do so. So I'll need to figure
out how to "trick" it to do so.

> Cool stuff!
>=20

Thx!

> Regards,
>=20
> Rainer


From dev-return-85233-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 13:08:42 2016
Return-Path: <dev-return-85233-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 08D7A18EC6
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 13:08:42 +0000 (UTC)
Received: (qmail 75745 invoked by uid 500); 20 Jan 2016 13:08:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75640 invoked by uid 500); 20 Jan 2016 13:08:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75528 invoked by uid 99); 20 Jan 2016 13:08:40 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 13:08:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C3DCBC0179
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 13:08:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Hxpp6gTuE0yP for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 13:08:30 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2429942A54
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 13:08:30 +0000 (UTC)
Received: from resomta-po-01v.sys.comcast.net ([96.114.154.225])
	by resqmta-po-05v.sys.comcast.net with comcast
	id 8D811s0054s37d401D8PBa; Wed, 20 Jan 2016 13:08:23 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-01v.sys.comcast.net with comcast
	id 8D8N1s0072U0RYt01D8NA8; Wed, 20 Jan 2016 13:08:23 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Work in progress: mod_proxy Health Check module
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <23C0818C-160A-4907-B574-B8853CF582A1@jaguNET.com>
Date: Wed, 20 Jan 2016 08:08:22 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <91142A15-43F3-4AE2-8227-8866EA5F9DE4@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com> <25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com> <9EE59597-7931-484A-A61E-1A4715D9F5A3@c8h10n4o2.org.uk> <41F5D009-7C4E-47AB-8FE7-0B0C97E569FA@jaguNET.com> <569F4683.8020206@kippdata.de> <23C0818C-160A-4907-B574-B8853CF582A1@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453295303;
	bh=SQeeiPVghs7ZrwqQ5y+NL747xZp/lPD3vrGbPPNJ1Fw=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=l2ECu7KE78kezkRi6tbq2Lw/IIntF6rY3uAIu/Zv0ywC6UxTNnXFd2q6Kl4ScNwoZ
	 OLTKuQTmsKQ+ceLOExyNTUfa8H3OE98hEHOUilgJnrlUPjTa+Heuc8m/p/5+jyHRgE
	 7rROEwMKl2vFLv87NN43hD9dWA6Zq+nPsmwvKdJ2v1u6wCphM9yjAWvUoYKkIjxYAL
	 WNhaV0427tbFWRAPmbwARUEtQbXmYLxEw4xiRzuJlogw+qcxImvupRzJUwfU6g2kZ0
	 knHxi+HgzUx/f51UmeOSV+29PBESEIkghAlF2ukqyHsXhTC656D6DgM5PYZAArewRL
	 ZGyMbkTKUOzHg==


> On Jan 20, 2016, at 7:59 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
>>=20
>> On Jan 20, 2016, at 3:34 AM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>>=20
>> Am 20.01.2016 um 01:57 schrieb Jim Jagielski:
>>> Right now GET and CPING (as well as provider) is on my
>>> TODO, in fact, they are currently set as "unimplemented"
>>> although the hooks are there.
>>>=20
>>> The main issue is that we need to worry about a (possibly)
>>> large response body and some method of checking against
>>> that. I have some ideas, but it's not as "easy" as it
>>> was using ap_expr.
>>=20
>> I wouldn't worry to much about the resource use in case of large =
response bodies. As long as we warn in the docs. Most uses of this =
advanced feature should end up using a special probing page in the =
backend (application). GET instead of HEAD is nice though, because that =
page can include some small status info which can be evaluated using the =
expr.
>>=20
>=20
> The only thing I can't figure out yet is that ap_expr doesn't
> seem to be able to work on the response *body*, at least,
> I haven't seen where it is able to do so. So I'll need to figure
> out how to "trick" it to do so.

I guess I could shove the response body in the request note
array... let me see.=

From dev-return-85234-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 14:57:48 2016
Return-Path: <dev-return-85234-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2F3EE182F6
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 14:57:48 +0000 (UTC)
Received: (qmail 34068 invoked by uid 500); 20 Jan 2016 14:57:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33992 invoked by uid 500); 20 Jan 2016 14:57:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33982 invoked by uid 99); 20 Jan 2016 14:57:47 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 14:57:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 22FB8C383B
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 14:57:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id es1U8V4eUPwi for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 14:57:37 +0000 (UTC)
Received: from resqmta-po-02v.sys.comcast.net (resqmta-po-02v.sys.comcast.net [96.114.154.161])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 7314C429A6
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 14:57:37 +0000 (UTC)
Received: from resomta-po-16v.sys.comcast.net ([96.114.154.240])
	by resqmta-po-02v.sys.comcast.net with comcast
	id 8ExW1s0085BUCh401ExWxs; Wed, 20 Jan 2016 14:57:30 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-16v.sys.comcast.net with comcast
	id 8ExW1s0022U0RYt01ExWQ2; Wed, 20 Jan 2016 14:57:30 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Work in progress: mod_proxy Health Check module
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <91142A15-43F3-4AE2-8227-8866EA5F9DE4@jaguNET.com>
Date: Wed, 20 Jan 2016 09:57:29 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <F5D5F1DE-0882-4A2D-92BD-FE5893AEAAE5@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com> <25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com> <9EE59597-7931-484A-A61E-1A4715D9F5A3@c8h10n4o2.org.uk> <41F5D009-7C4E-47AB-8FE7-0B0C97E569FA@jaguNET.com> <569F4683.8020206@kippdata.de> <23C0818C-160A-4907-B574-B8853CF582A1@jaguNET.com> <91142A15-43F3-4AE2-8227-8866EA5F9DE4@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453301850;
	bh=b4RW2M35zYdtj9pvrEN3rvQ9u7qrF6AFo7IKEYNCfJM=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=PUbfV/y8taGwR/K+dBQbXkuCU/IAYJrB/zfLkNIdqABqMzW81dFBriAjMFeM1p4Qa
	 q6VuIxayyXZ2L4nNQg9xWUQPmNQe+zqMERf2qxRnFtVEvMEfKJD65G9DFlnO33v31i
	 /PZFEUzwmVaOUy27nW172POyhhYh1a4z4/wZK4nbqMJx2980eL79JjZGOubMgXbcIJ
	 UZAE2Cq8kGOq4lcdfKHf/qXhpvYDPB/O22rDg239/c4QQkUJQdV/2r6qf8uXoPKhdQ
	 OXYP99MOR/Sj147Nc2I7cldUT38WRUgOkNdJM9WfydlS02D/dl8QHycPPL7DkESndC
	 GT7GbAXErBJwA==

It would *REALLY* be nice if ap_expr was r->kept_body
aware.

I could look at folding that in, but my goal is that all the
health-check stuff is 2.4-backport-able, and don't want to
hack ap_expr to allow that and have someone block that backport
due to, well... whatever. Some people just like blocking back-
ports, especially from people who's 1st and last names have the
same letters :)

> On Jan 20, 2016, at 8:08 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
>>=20
>> On Jan 20, 2016, at 7:59 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>=20
>>>=20
>>> On Jan 20, 2016, at 3:34 AM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>>>=20
>>> Am 20.01.2016 um 01:57 schrieb Jim Jagielski:
>>>> Right now GET and CPING (as well as provider) is on my
>>>> TODO, in fact, they are currently set as "unimplemented"
>>>> although the hooks are there.
>>>>=20
>>>> The main issue is that we need to worry about a (possibly)
>>>> large response body and some method of checking against
>>>> that. I have some ideas, but it's not as "easy" as it
>>>> was using ap_expr.
>>>=20
>>> I wouldn't worry to much about the resource use in case of large =
response bodies. As long as we warn in the docs. Most uses of this =
advanced feature should end up using a special probing page in the =
backend (application). GET instead of HEAD is nice though, because that =
page can include some small status info which can be evaluated using the =
expr.
>>>=20
>>=20
>> The only thing I can't figure out yet is that ap_expr doesn't
>> seem to be able to work on the response *body*, at least,
>> I haven't seen where it is able to do so. So I'll need to figure
>> out how to "trick" it to do so.
>=20
> I guess I could shove the response body in the request note
> array... let me see.


From dev-return-85235-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 15:28:50 2016
Return-Path: <dev-return-85235-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AD99E184CC
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 15:28:50 +0000 (UTC)
Received: (qmail 34988 invoked by uid 500); 20 Jan 2016 15:28:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34913 invoked by uid 500); 20 Jan 2016 15:28:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34902 invoked by uid 99); 20 Jan 2016 15:28:50 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 15:28:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id AC300C0044
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 15:28:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id mFOsD6ixrgds for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 15:28:39 +0000 (UTC)
Received: from resqmta-po-03v.sys.comcast.net (resqmta-po-03v.sys.comcast.net [96.114.154.162])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 81F37439A7
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 15:28:39 +0000 (UTC)
Received: from resomta-po-10v.sys.comcast.net ([96.114.154.234])
	by resqmta-po-03v.sys.comcast.net with comcast
	id 8FTc1s00353iAfU01FUZXv; Wed, 20 Jan 2016 15:28:33 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-10v.sys.comcast.net with comcast
	id 8FUY1s0082U0RYt01FUYiR; Wed, 20 Jan 2016 15:28:33 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Work in progress: mod_proxy Health Check module
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <F5D5F1DE-0882-4A2D-92BD-FE5893AEAAE5@jaguNET.com>
Date: Wed, 20 Jan 2016 10:28:32 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <F14DA3A0-E5E6-4687-9D96-38669354A276@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com> <25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com> <9EE59597-7931-484A-A61E-1A4715D9F5A3@c8h10n4o2.org.uk> <41F5D009-7C4E-47AB-8FE7-0B0C97E569FA@jaguNET.com> <569F4683.8020206@kippdata.de> <23C0818C-160A-4907-B574-B8853CF582A1@jaguNET.com> <91142A15-43F3-4AE2-8227-8866EA5F9DE4@jaguNET.com> <F5D5F1DE-0882-4A2D-92BD-FE5893AEAAE5@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453303713;
	bh=96Cu03Wq1df4lJvh4L7r53TjLSXImhBZTZLPGAJVAQg=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=ODsWc1DZAZxwh7Z/0qdXyV6EWFnF31XuHbSJMGIoHv01Urfq22LaJfs5DTszPJagP
	 g/Ijfx1f6v8kvC7rb+jXNyQJItxn6ROt1BkrwAV6/3JJjDry4HbpUYODvFV1hKiO4Z
	 INZGxkD/8BHqAkN8FeyNhhu7fq8bNa3tNs31cvYPK37Wte/IaV7ifV0NjOE8u6ZH6R
	 AbD8KN6t2oXK1Z6IcO8Yy2+p/2r2+1kcbZfPz3qbJx+aeALn7mJHkFNpBhB0zev/Sm
	 Z4kDbadfkUss4y4n5hA2yuBgaoRY9eRM967drtrxzywSxvx2c7OUUIARzY2GVJphiq
	 JdEZI3N8J2cYg==


> On Jan 20, 2016, at 9:57 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> It would *REALLY* be nice if ap_expr was r->kept_body
> aware.
>=20

Actually, that does NOT look that difficult...=20

Comments? Should I go for it?

> I could look at folding that in, but my goal is that all the
> health-check stuff is 2.4-backport-able, and don't want to
> hack ap_expr to allow that and have someone block that backport
> due to, well... whatever. Some people just like blocking back-
> ports, especially from people who's 1st and last names have the
> same letters :)
>=20
>> On Jan 20, 2016, at 8:08 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>=20
>>>=20
>>> On Jan 20, 2016, at 7:59 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>>=20
>>>>=20
>>>> On Jan 20, 2016, at 3:34 AM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>>>>=20
>>>> Am 20.01.2016 um 01:57 schrieb Jim Jagielski:
>>>>> Right now GET and CPING (as well as provider) is on my
>>>>> TODO, in fact, they are currently set as "unimplemented"
>>>>> although the hooks are there.
>>>>>=20
>>>>> The main issue is that we need to worry about a (possibly)
>>>>> large response body and some method of checking against
>>>>> that. I have some ideas, but it's not as "easy" as it
>>>>> was using ap_expr.
>>>>=20
>>>> I wouldn't worry to much about the resource use in case of large =
response bodies. As long as we warn in the docs. Most uses of this =
advanced feature should end up using a special probing page in the =
backend (application). GET instead of HEAD is nice though, because that =
page can include some small status info which can be evaluated using the =
expr.
>>>>=20
>>>=20
>>> The only thing I can't figure out yet is that ap_expr doesn't
>>> seem to be able to work on the response *body*, at least,
>>> I haven't seen where it is able to do so. So I'll need to figure
>>> out how to "trick" it to do so.
>>=20
>> I guess I could shove the response body in the request note
>> array... let me see.
>=20


From dev-return-85236-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 15:50:16 2016
Return-Path: <dev-return-85236-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AE3DB185D0
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 15:50:16 +0000 (UTC)
Received: (qmail 1586 invoked by uid 500); 20 Jan 2016 15:50:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1523 invoked by uid 500); 20 Jan 2016 15:50:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1513 invoked by uid 99); 20 Jan 2016 15:50:16 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 15:50:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C1662180459
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 15:50:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.553
X-Spam-Level:
X-Spam-Status: No, score=-0.553 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id iPKkCkh6mDN3 for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 15:50:04 +0000 (UTC)
Received: from aserp1040.oracle.com (aserp1040.oracle.com [141.146.126.69])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id F25A242A54
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 15:50:03 +0000 (UTC)
Received: from userv0021.oracle.com (userv0021.oracle.com [156.151.31.71])
	by aserp1040.oracle.com (Sentrion-MTA-4.3.2/Sentrion-MTA-4.3.2) with ESMTP id u0KFo2Wg020622
	(version=TLSv1 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 15:50:03 GMT
Received: from userv0121.oracle.com (userv0121.oracle.com [156.151.31.72])
	by userv0021.oracle.com (8.13.8/8.13.8) with ESMTP id u0KFo25O025017
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 15:50:02 GMT
Received: from abhmp0010.oracle.com (abhmp0010.oracle.com [141.146.116.16])
	by userv0121.oracle.com (8.13.8/8.13.8) with ESMTP id u0KFo2kN027534
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 15:50:02 GMT
Received: from [10.132.185.71] (/10.132.185.71)
	by default (Oracle Beehive Gateway v4.0)
	with ESMTP ; Wed, 20 Jan 2016 07:50:02 -0800
Subject: Re: svn commit: r1725339 -
 /httpd/httpd/trunk/docs/manual/index.xml.es
To: dev@httpd.apache.org
References: <20160118202024.5930B3A0056@svn01-us-west.apache.org>
From: Mike Rumph <mike.rumph@oracle.com>
Organization: Oracle Corporation
Message-ID: <569FACA4.6090500@oracle.com>
Date: Wed, 20 Jan 2016 07:49:56 -0800
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <20160118202024.5930B3A0056@svn01-us-west.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Source-IP: userv0021.oracle.com [156.151.31.71]



On 1/18/2016 12:20 PM, jailletc36@apache.org wrote:
> Author: jailletc36
> Date: Mon Jan 18 20:20:24 2016
> New Revision: 1725339
>
> URL: http://svn.apache.org/viewvc?rev=1725339&view=rev
> Log:
> Spanish XML update
>
> Modified:
>      httpd/httpd/trunk/docs/manual/index.xml.es
>
> Modified: httpd/httpd/trunk/docs/manual/index.xml.es
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/index.xml.es?rev=1725339&r1=1725338&r2=1725339&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/docs/manual/index.xml.es (original)
> +++ httpd/httpd/trunk/docs/manual/index.xml.es Mon Jan 18 20:20:24 2016
> @@ -1,8 +1,9 @@
>   <?xml version="1.0" encoding="UTF-8" ?>
>   <!DOCTYPE indexpage SYSTEM "./style/sitemap.dtd">
>   <?xml-stylesheet type="text/xsl" href="./style/manual.es.xsl"?>
> -<!-- English Revision: 105989:1447968 (outdated) -->
> +<!-- $LastChangedRevision: 1447968 $ -->
>   
> +<!-- =========== Translated by: Luis Gil de Bernab  -->
>   <!--
>    Licensed to the Apache Software Foundation (ASF) under one or more
>    contributor license agreements.  See the NOTICE file distributed with
Is there some reason why the license information is not translated into 
Spanish?
> @@ -23,73 +24,75 @@
>   <indexpage metafile="index.xml.meta">
>   <parentdocument href="http://httpd.apache.org/docs-project/" />
>   
>


From dev-return-85237-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 16:09:37 2016
Return-Path: <dev-return-85237-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 53F4B1869F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 16:09:37 +0000 (UTC)
Received: (qmail 46907 invoked by uid 500); 20 Jan 2016 16:09:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46824 invoked by uid 500); 20 Jan 2016 16:09:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46813 invoked by uid 99); 20 Jan 2016 16:09:36 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 16:09:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 713401A0B5A
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:09:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.501
X-Spam-Level: ***
X-Spam-Status: No, score=3.501 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=2.5,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ngseKoTSJdNj for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 16:09:26 +0000 (UTC)
Received: from jupiter.hal-nine-zero-zero-zero.net (jupiter.hal-nine-zero-zero-zero.net [212.227.252.63])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with SMTP id 2F28920DE6
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:09:25 +0000 (UTC)
Received: (qmail 31555 invoked from network); 20 Jan 2016 16:01:48 -0000
Received: from unknown (HELO localhost) (212.227.252.63)
  by jupiter.hal-nine-zero-zero-zero.net with SMTP; 20 Jan 2016 16:01:48 -0000
From: =?utf-8?q?Andr=C3=A9_Malo?= <nd@perlig.de>
Organization: TIMTOWTDI
To: dev@httpd.apache.org,
 docs@httpd.apache.org
Subject: Re: svn commit: r1725339 - /httpd/httpd/trunk/docs/manual/index.xml.es
Date: Wed, 20 Jan 2016 17:09:18 +0100
User-Agent: KMail/1.9.10
References: <20160118202024.5930B3A0056@svn01-us-west.apache.org> <569FACA4.6090500@oracle.com>
In-Reply-To: <569FACA4.6090500@oracle.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <201601201709.18944@news.perlig.de>

* Mike Rumph wrote:

> Is there some reason why the license information is not translated into
> Spanish?

Yes. It would not have any legal power. There is no official translation of=
=20
the apache license (AFAIK).

Cheers,
nd
=2D-=20
package Hacker::Perl::Another::Just;print
qq~@{[reverse split/::/ =3D>__PACKAGE__]}~;

#  Andr=C3=A9 Malo  #  http://pub.perlig.de  #

From dev-return-85238-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 16:11:40 2016
Return-Path: <dev-return-85238-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 91BD4186D6
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 16:11:40 +0000 (UTC)
Received: (qmail 56292 invoked by uid 500); 20 Jan 2016 16:11:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56140 invoked by uid 500); 20 Jan 2016 16:11:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56115 invoked by uid 99); 20 Jan 2016 16:11:39 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 16:11:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 5F61AC0599
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:11:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.554
X-Spam-Level:
X-Spam-Status: No, score=-0.554 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id uT1zA-DRYX6R for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 16:11:29 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id D6356203BE
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:11:28 +0000 (UTC)
Received: from [195.227.30.209] (notebook-rj [195.227.30.209])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0KGBSpP020339
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 17:11:28 +0100 (CET)
Subject: Re: Work in progress: mod_proxy Health Check module
To: dev@httpd.apache.org
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com>
 <25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com>
 <9EE59597-7931-484A-A61E-1A4715D9F5A3@c8h10n4o2.org.uk>
 <41F5D009-7C4E-47AB-8FE7-0B0C97E569FA@jaguNET.com>
 <569F4683.8020206@kippdata.de>
 <23C0818C-160A-4907-B574-B8853CF582A1@jaguNET.com>
 <91142A15-43F3-4AE2-8227-8866EA5F9DE4@jaguNET.com>
 <F5D5F1DE-0882-4A2D-92BD-FE5893AEAAE5@jaguNET.com>
 <F14DA3A0-E5E6-4687-9D96-38669354A276@jaguNET.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <569FB1A8.9080208@kippdata.de>
Date: Wed, 20 Jan 2016 17:11:20 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <F14DA3A0-E5E6-4687-9D96-38669354A276@jaguNET.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 20.01.2016 um 16:28 schrieb Jim Jagielski:
>
>> On Jan 20, 2016, at 9:57 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>
>> It would *REALLY* be nice if ap_expr was r->kept_body
>> aware.
>>
>
> Actually, that does NOT look that difficult...
>
> Comments? Should I go for it?

No personal preference. The expression parser until now mostly is used 
on the request side, so there's no immediate reuse of making it response 
aware. So I'd decide on how much it distracts you from HC. Simply 
implementing a dirty workaround for HC should be fine as well. Those 
requests do not run with very high frequency (<< 100/s).

Regards,

Rainer

>> I could look at folding that in, but my goal is that all the
>> health-check stuff is 2.4-backport-able, and don't want to
>> hack ap_expr to allow that and have someone block that backport
>> due to, well... whatever. Some people just like blocking back-
>> ports, especially from people who's 1st and last names have the
>> same letters :)
>>
>>> On Jan 20, 2016, at 8:08 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>>
>>>>
>>>> On Jan 20, 2016, at 7:59 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>>>
>>>>>
>>>>> On Jan 20, 2016, at 3:34 AM, Rainer Jung <rainer.jung@kippdata.de> wrote:
>>>>>
>>>>> Am 20.01.2016 um 01:57 schrieb Jim Jagielski:
>>>>>> Right now GET and CPING (as well as provider) is on my
>>>>>> TODO, in fact, they are currently set as "unimplemented"
>>>>>> although the hooks are there.
>>>>>>
>>>>>> The main issue is that we need to worry about a (possibly)
>>>>>> large response body and some method of checking against
>>>>>> that. I have some ideas, but it's not as "easy" as it
>>>>>> was using ap_expr.
>>>>>
>>>>> I wouldn't worry to much about the resource use in case of large response bodies. As long as we warn in the docs. Most uses of this advanced feature should end up using a special probing page in the backend (application). GET instead of HEAD is nice though, because that page can include some small status info which can be evaluated using the expr.
>>>>>
>>>>
>>>> The only thing I can't figure out yet is that ap_expr doesn't
>>>> seem to be able to work on the response *body*, at least,
>>>> I haven't seen where it is able to do so. So I'll need to figure
>>>> out how to "trick" it to do so.
>>>
>>> I guess I could shove the response body in the request note
>>> array... let me see.

From dev-return-85239-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 16:16:53 2016
Return-Path: <dev-return-85239-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1612418719
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 16:16:53 +0000 (UTC)
Received: (qmail 78333 invoked by uid 500); 20 Jan 2016 16:16:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78259 invoked by uid 500); 20 Jan 2016 16:16:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 78249 invoked by uid 99); 20 Jan 2016 16:16:52 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 16:16:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 18574C0DB3
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:16:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.555
X-Spam-Level:
X-Spam-Status: No, score=-0.555 tagged_above=-999 required=6.31
	tests=[RCVD_IN_MSPIKE_H2=-0.001, RP_MATCHES_RCVD=-0.554,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id b2efcxa6bGDY for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 16:16:40 +0000 (UTC)
Received: from aserp1040.oracle.com (aserp1040.oracle.com [141.146.126.69])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 3A0454293A
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:16:40 +0000 (UTC)
Received: from userv0021.oracle.com (userv0021.oracle.com [156.151.31.71])
	by aserp1040.oracle.com (Sentrion-MTA-4.3.2/Sentrion-MTA-4.3.2) with ESMTP id u0KGGdoU001342
	(version=TLSv1 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:16:39 GMT
Received: from aserv0121.oracle.com (aserv0121.oracle.com [141.146.126.235])
	by userv0021.oracle.com (8.13.8/8.13.8) with ESMTP id u0KGGcb2021914
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:16:38 GMT
Received: from abhmp0013.oracle.com (abhmp0013.oracle.com [141.146.116.19])
	by aserv0121.oracle.com (8.13.8/8.13.8) with ESMTP id u0KGGcUa010045
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:16:38 GMT
Received: from [10.132.185.71] (/10.132.185.71)
	by default (Oracle Beehive Gateway v4.0)
	with ESMTP ; Wed, 20 Jan 2016 08:16:38 -0800
Subject: Re: svn commit: r1725339 -
 /httpd/httpd/trunk/docs/manual/index.xml.es
To: dev@httpd.apache.org
References: <20160118202024.5930B3A0056@svn01-us-west.apache.org>
 <569FACA4.6090500@oracle.com> <201601201709.18944@news.perlig.de>
From: Mike Rumph <mike.rumph@oracle.com>
Organization: Oracle Corporation
Message-ID: <569FB2E0.9020000@oracle.com>
Date: Wed, 20 Jan 2016 08:16:32 -0800
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <201601201709.18944@news.perlig.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Source-IP: userv0021.oracle.com [156.151.31.71]

Okay.  Thanks.
I thought it would be something like that.

On 1/20/2016 8:09 AM, Andr Malo wrote:
> * Mike Rumph wrote:
>
>> Is there some reason why the license information is not translated into
>> Spanish?
> Yes. It would not have any legal power. There is no official translation of
> the apache license (AFAIK).
>
> Cheers,
> nd


From dev-return-85240-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 16:26:28 2016
Return-Path: <dev-return-85240-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C814418788
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 16:26:28 +0000 (UTC)
Received: (qmail 9467 invoked by uid 500); 20 Jan 2016 16:26:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 9398 invoked by uid 500); 20 Jan 2016 16:26:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 9388 invoked by uid 99); 20 Jan 2016 16:26:28 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 16:26:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B1C09C38B8
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:26:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=J36l6C0r;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=J36l6C0r
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id KQuwVNSVj1wj for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 16:26:26 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2442A429A6
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:26:26 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id A5E0815A06B2; Wed, 20 Jan 2016 17:26:18 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453307178; bh=YCGE+78mfhPub1jbO3slx2VlXY+JUTd8xQcQAR+IXkI=;
	h=From:Subject:Date:To:From;
	b=J36l6C0rQIY9IxKiEzpITkrjau3HVcPd333pmZF1Wb7Yh08NkIzYQ57cbyN0DnOAV
	 y4CXPwsyeAOLLDUru+shbmdceHeX5wvvM+LWdgp4wLOmNCQ07JQOWRMeTI1U8qseJN
	 7sZulWeHa7ZWGOSGqfTo2lGHQFba7tvQttNLVrTM=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 7FB2815A035F
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 17:26:18 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453307178; bh=YCGE+78mfhPub1jbO3slx2VlXY+JUTd8xQcQAR+IXkI=;
	h=From:Subject:Date:To:From;
	b=J36l6C0rQIY9IxKiEzpITkrjau3HVcPd333pmZF1Wb7Yh08NkIzYQ57cbyN0DnOAV
	 y4CXPwsyeAOLLDUru+shbmdceHeX5wvvM+LWdgp4wLOmNCQ07JQOWRMeTI1U8qseJN
	 7sZulWeHa7ZWGOSGqfTo2lGHQFba7tvQttNLVrTM=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: multipart/mixed; boundary="Apple-Mail=_DE6DDAC6-82DE-43B3-854B-747808ED20AF"
Subject: mod_status, server, protocol
Message-Id: <34A6947A-0068-4D0E-A533-03CBD02F8A1B@greenbytes.de>
Date: Wed, 20 Jan 2016 17:26:18 +0100
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)


--Apple-Mail=_DE6DDAC6-82DE-43B3-854B-747808ED20AF
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=us-ascii

I'd like some feedback to a small scoreboard/mod_status patch. It makes =
the following changes:
- new method ap_update_child_status_from_server(ap_sb_handle_t *sbh, int =
status, conn_rec *c, server_rec *s); in the API
- mod_ssl uses that to announce servers selected by TLS servername =
*before* the first request comes in for vhost
- worker_score has an additional member char protoccol[16] that records =
ap_get_protocol(c) when a connection is given in an update
- mod_status introduces a new columne 'Protocol' for displaying the =
connection protocol used.
- vhost is no longer NULLed when a request ends
- status SERVER_READY explicitly clears client/vhost/request/protocol

1. I am not sure if it is sensitive to add a columns to mod_status =
output. It is html after all.
2. 16 bytes for protocol seems much, but 8 is too little for http/1.1 =
and websocket would also need more...
3. http/1.1 clear and http/1.1+tls could be worth a differentiation, but =
not done for now
4. I was considering to show some HTTP/2 information in the "Request" =
field, but maybe that is only confusing?

Feedback appreciated.

-Stefan





--Apple-Mail=_DE6DDAC6-82DE-43B3-854B-747808ED20AF
Content-Disposition: attachment;
	filename=proto_status_trunk.patch
Content-Type: application/octet-stream;
	name="proto_status_trunk.patch"
Content-Transfer-Encoding: 7bit

Index: include/scoreboard.h
===================================================================
--- include/scoreboard.h	(revision 1725693)
+++ include/scoreboard.h	(working copy)
@@ -115,6 +115,7 @@
     char client[40];            /* Keep 'em small... but large enough to hold an IPv6 address */
     char request[64];           /* We just want an idea... */
     char vhost[32];             /* What virtual host is being accessed? */
+    char protocol[16];          /* What protocol is used on the connection? */
 };
 
 typedef struct {
@@ -181,6 +182,7 @@
 AP_DECLARE(int) ap_update_child_status_from_indexes(int child_num, int thread_num,
                                                     int status, request_rec *r);
 AP_DECLARE(int) ap_update_child_status_from_conn(ap_sb_handle_t *sbh, int status, conn_rec *c);
+AP_DECLARE(int) ap_update_child_status_from_server(ap_sb_handle_t *sbh, int status, conn_rec *c, server_rec *s);
 AP_DECLARE(void) ap_time_process_request(ap_sb_handle_t *sbh, int status);
 
 AP_DECLARE(worker_score *) ap_get_scoreboard_worker(ap_sb_handle_t *sbh);
Index: modules/generators/mod_status.c
===================================================================
--- modules/generators/mod_status.c	(revision 1725693)
+++ modules/generators/mod_status.c	(working copy)
@@ -662,7 +662,7 @@
 #endif
                      "<th>SS</th><th>Req</th>"
                      "<th>Conn</th><th>Child</th><th>Slot</th>"
-                     "<th>Client</th><th>VHost</th>"
+                     "<th>Client</th><th>Protocol</th><th>VHost</th>"
                      "<th>Request</th></tr>\n\n", r);
 
         for (i = 0; i < server_limit; ++i) {
@@ -776,7 +776,7 @@
                     format_byte_out(r, bytes);
                     ap_rputs(")\n", r);
                     ap_rprintf(r,
-                               " <i>%s {%s}</i> <b>[%s]</b><br />\n\n",
+                               " <i>%s {%s}</i> <i>(%s)</i><b>[%s]</b><br />\n\n",
                                ap_escape_html(r->pool,
                                               ws_record->client),
                                ap_escape_html(r->pool,
@@ -783,6 +783,8 @@
                                               ap_escape_logitem(r->pool,
                                                                 ws_record->request)),
                                ap_escape_html(r->pool,
+                                              ws_record->protocol),
+                               ap_escape_html(r->pool,
                                               ws_record->vhost));
                 }
                 else { /* !no_table_report */
@@ -860,11 +862,13 @@
                                (float)conn_bytes / KBYTE, (float) my_bytes / MBYTE,
                                (float)bytes / MBYTE);
 
-                    ap_rprintf(r, "</td><td>%s</td><td nowrap>%s</td>"
+                    ap_rprintf(r, "</td><td>%s</td><td>%s</td><td nowrap>%s</td>"
                                   "<td nowrap>%s</td></tr>\n\n",
                                ap_escape_html(r->pool,
                                               ws_record->client),
                                ap_escape_html(r->pool,
+                                              ws_record->protocol),
+                               ap_escape_html(r->pool,
                                               ws_record->vhost),
                                ap_escape_html(r->pool,
                                               ap_escape_logitem(r->pool,
Index: modules/ssl/ssl_engine_kernel.c
===================================================================
--- modules/ssl/ssl_engine_kernel.c	(revision 1725693)
+++ modules/ssl/ssl_engine_kernel.c	(working copy)
@@ -31,6 +31,7 @@
 #include "ssl_private.h"
 #include "mod_ssl.h"
 #include "util_md5.h"
+#include "scoreboard.h"
 
 static void ssl_configure_env(request_rec *r, SSLConnRec *sslconn);
 #ifdef HAVE_TLSEXT
@@ -2218,6 +2219,7 @@
         sslcon->server = s;
         sslcon->cipher_suite = sc->server->auth.cipher_suite;
         
+        ap_update_child_status_from_server(c->sbh, SERVER_BUSY_READ, c, s);
         /*
          * There is one special filter callback, which is set
          * very early depending on the base_server's log level.
Index: server/scoreboard.c
===================================================================
--- server/scoreboard.c	(revision 1725693)
+++ server/scoreboard.c	(working copy)
@@ -32,6 +32,7 @@
 #include "http_main.h"
 #include "http_core.h"
 #include "http_config.h"
+#include "http_protocol.h"
 #include "ap_mpm.h"
 
 #include "scoreboard.h"
@@ -457,6 +458,7 @@
                                         int thread_num,
                                         int status,
                                         conn_rec *c,
+                                        server_rec *s,
                                         request_rec *r)
 {
     int old_status;
@@ -490,28 +492,42 @@
             ws->conn_bytes = 0;
             ws->last_used = apr_time_now();
         }
-        if (r) {
-            const char *client = ap_get_remote_host(c, r->per_dir_config,
-                                 REMOTE_NOLOOKUP, NULL);
-            if (!client || !strcmp(client, c->client_ip)) {
-                apr_cpystrn(ws->client, r->useragent_ip, sizeof(ws->client));
+        if (status == SERVER_READY) {
+            ws->client[0]='\0';
+            ws->vhost[0]='\0';
+            ws->request[0]='\0';
+            ws->protocol[0]='\0';
+        }
+        else {
+            if (r) {
+                const char *client = ap_get_remote_host(c, r->per_dir_config,
+                                                        REMOTE_NOLOOKUP, NULL);
+                if (!client || !strcmp(client, c->client_ip)) {
+                    apr_cpystrn(ws->client, r->useragent_ip, sizeof(ws->client));
+                }
+                else {
+                    apr_cpystrn(ws->client, client, sizeof(ws->client));
+                }
+                copy_request(ws->request, sizeof(ws->request), r);
             }
-            else {
-                apr_cpystrn(ws->client, client, sizeof(ws->client));
+            else if (c) {
+                apr_cpystrn(ws->client, ap_get_remote_host(c, NULL,
+                                                           REMOTE_NOLOOKUP, NULL), sizeof(ws->client));
+                ws->request[0]='\0';
             }
-            copy_request(ws->request, sizeof(ws->request), r);
-            if (r->server) {
-                apr_snprintf(ws->vhost, sizeof(ws->vhost), "%s:%d",
-                             r->server->server_hostname,
-                             r->connection->local_addr->port);
+            if (s) {
+                if (c) {
+                    apr_snprintf(ws->vhost, sizeof(ws->vhost), "%s:%d",
+                                 s->server_hostname, c->local_addr->port);
+                }
+                else {
+                    apr_cpystrn(ws->vhost, s->server_hostname, sizeof(ws->vhost));
+                }
             }
+            if (c) {
+                apr_cpystrn(ws->protocol, ap_get_protocol(c), sizeof(ws->protocol));
+            }
         }
-        else if (c) {
-            apr_cpystrn(ws->client, ap_get_remote_host(c, NULL,
-                        REMOTE_NOLOOKUP, NULL), sizeof(ws->client));
-            ws->request[0]='\0';
-            ws->vhost[0]='\0';
-        }
     }
 
     return old_status;
@@ -528,6 +544,7 @@
 
     return update_child_status_internal(child_num, thread_num, status,
                                         r ? r->connection : NULL,
+                                        r ? r->server : NULL,
                                         r);
 }
 
@@ -540,19 +557,30 @@
     return update_child_status_internal(sbh->child_num, sbh->thread_num,
                                         status,
                                         r ? r->connection : NULL,
+                                        r ? r->server : NULL,
                                         r);
 }
 
 AP_DECLARE(int) ap_update_child_status_from_conn(ap_sb_handle_t *sbh, int status,
-                                       conn_rec *c)
+                                                 conn_rec *c)
 {
     if (!sbh || (sbh->child_num < 0))
         return -1;
 
     return update_child_status_internal(sbh->child_num, sbh->thread_num,
-                                        status, c, NULL);
+                                        status, c, NULL, NULL);
 }
 
+AP_DECLARE(int) ap_update_child_status_from_server(ap_sb_handle_t *sbh, int status, 
+                                                   conn_rec *c, server_rec *s)
+{
+    if (!sbh || (sbh->child_num < 0))
+        return -1;
+
+    return update_child_status_internal(sbh->child_num, sbh->thread_num,
+                                        status, c, s, NULL);
+}
+
 AP_DECLARE(void) ap_time_process_request(ap_sb_handle_t *sbh, int status)
 {
     worker_score *ws;
@@ -605,6 +633,7 @@
     dest->client[sizeof(dest->client) - 1] = '\0';
     dest->request[sizeof(dest->request) - 1] = '\0';
     dest->vhost[sizeof(dest->vhost) - 1] = '\0';
+    dest->protocol[sizeof(dest->protocol) - 1] = '\0';
 }
 
 AP_DECLARE(process_score *) ap_get_scoreboard_process(int x)

--Apple-Mail=_DE6DDAC6-82DE-43B3-854B-747808ED20AF--

From dev-return-85241-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 16:31:25 2016
Return-Path: <dev-return-85241-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AF3CA187BA
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 16:31:25 +0000 (UTC)
Received: (qmail 32110 invoked by uid 500); 20 Jan 2016 16:31:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32021 invoked by uid 500); 20 Jan 2016 16:31:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32010 invoked by uid 99); 20 Jan 2016 16:31:25 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 16:31:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A648AC38BB
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:31:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id iKZbCVDhhhUK for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 16:31:15 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 29E43215D6
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:31:13 +0000 (UTC)
Received: from resomta-po-13v.sys.comcast.net ([96.114.154.237])
	by resqmta-po-05v.sys.comcast.net with comcast
	id 8GW41s00857bBgG01GXCQj; Wed, 20 Jan 2016 16:31:12 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-13v.sys.comcast.net with comcast
	id 8GXB1s0092U0RYt01GXBfL; Wed, 20 Jan 2016 16:31:12 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Work in progress: mod_proxy Health Check module
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <569FB1A8.9080208@kippdata.de>
Date: Wed, 20 Jan 2016 11:31:11 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <2E486C0B-230B-48D2-8A91-07FF37E876DC@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com> <25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com> <9EE59597-7931-484A-A61E-1A4715D9F5A3@c8h10n4o2.org.uk> <41F5D009-7C4E-47AB-8FE7-0B0C97E569FA@jaguNET.com> <569F4683.8020206@kippdata.de> <23C0818C-160A-4907-B574-B8853CF582A1@jaguNET.com> <91142A15-43F3-4AE2-8227-8866EA5F9DE4@jaguNET.com> <F5D5F1DE-0882-4A2D-92BD-FE5893AEAAE5@jaguNET.com> <F14DA3A0-E5E6-4687-9D96-38669354A276@jaguNET.com> <569FB1A8.9080208@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453307472;
	bh=FTF9ungcxCJ43tWJwUCJvqQPJ0xD8KXSFVA8ECVgk8Q=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=hdSdygF0qk719yvCvQashg2yYX0GQ2Nd7+R35jIL/dJcHRRt7oCnmY92FmJp5oiuF
	 /G3l2DYgSQ5NRplCUIaN+GPT1GA2Bb91Jq+Vlgmu3DtDdM0YRcgRogB/ZG+YQtLDQy
	 TiynDyrcPpcJYHEKlOKZ7Nb7+vhYuGzUGeFSxO1uk7Gjhuyfm3HLFgn0lcCjwGyT7/
	 vAW1YaiZfR/Lq5FTw0fNeW7Q4eTcvww3vAhHIVaRUnyWwoNuyfD3voqPrKuHk7j+Uu
	 jueHWE+y2sZoiGYoBaDTYrj2CuJLY1WylEzmmIbyo1K34K5/B87uzCax3JkbqKlnjD
	 ptDqn3euTUhng==

=46rom what I can see, this is the full patch required (minus docs):

diff --git a/server/util_expr_eval.c b/server/util_expr_eval.c
index 5a8f207..e97df88 100644
--- a/server/util_expr_eval.c
+++ b/server/util_expr_eval.c
@@ -1049,6 +1049,25 @@ static const char =
*req_table_func(ap_expr_eval_ctx_t *ctx, const void *data,
     return apr_table_get(t, arg);
 }
=20
+static const char *kb_func(ap_expr_eval_ctx_t *ctx, const void *data,
+                                  const char *arg)
+{
+    apr_off_t *length;
+    apr_status_t rv;
+    const char *buf;
+
+    if (!ctx->r || !ctx->r->kept_body)
+        return "";
+
+    rv =3D apr_brigade_length(ctx->r->kept_body, 1, &length);
+    if (rv !=3D APR_SUCCESS || length =3D=3D 0)
+        return "";
+
+    buf =3D apr_palloc(ctx->r->pool, length+1);
+    apr_brigade_flatten(ctx->r->kept_body, buf, length);
+    return buf;
+}
+
 static const char *env_func(ap_expr_eval_ctx_t *ctx, const void *data,
                             const char *arg)
 {
@@ -1785,6 +1804,7 @@ static const struct expr_provider_single =
string_func_providers[] =3D {
     { unbase64_func,        "unbase64",       NULL, 0 },
     { sha1_func,            "sha1",           NULL, 0 },
     { md5_func,             "md5",            NULL, 0 },
+    { kb_func,             "kept_body",       NULL, 0 },
 #if APR_VERSION_AT_LEAST(1,6,0)
     { ldap_func,            "ldap",           NULL, 0 },
 #endif

in other words, pretty brain dead easy...


> On Jan 20, 2016, at 11:11 AM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>=20
> Am 20.01.2016 um 16:28 schrieb Jim Jagielski:
>>=20
>>> On Jan 20, 2016, at 9:57 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>>=20
>>> It would *REALLY* be nice if ap_expr was r->kept_body
>>> aware.
>>>=20
>>=20
>> Actually, that does NOT look that difficult...
>>=20
>> Comments? Should I go for it?
>=20
> No personal preference. The expression parser until now mostly is used =
on the request side, so there's no immediate reuse of making it response =
aware. So I'd decide on how much it distracts you from HC. Simply =
implementing a dirty workaround for HC should be fine as well. Those =
requests do not run with very high frequency (<< 100/s).
>=20
> Regards,
>=20
> Rainer
>=20
>>> I could look at folding that in, but my goal is that all the
>>> health-check stuff is 2.4-backport-able, and don't want to
>>> hack ap_expr to allow that and have someone block that backport
>>> due to, well... whatever. Some people just like blocking back-
>>> ports, especially from people who's 1st and last names have the
>>> same letters :)
>>>=20
>>>> On Jan 20, 2016, at 8:08 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>>>=20
>>>>>=20
>>>>> On Jan 20, 2016, at 7:59 AM, Jim Jagielski <jim@jaguNET.com> =
wrote:
>>>>>=20
>>>>>>=20
>>>>>> On Jan 20, 2016, at 3:34 AM, Rainer Jung =
<rainer.jung@kippdata.de> wrote:
>>>>>>=20
>>>>>> Am 20.01.2016 um 01:57 schrieb Jim Jagielski:
>>>>>>> Right now GET and CPING (as well as provider) is on my
>>>>>>> TODO, in fact, they are currently set as "unimplemented"
>>>>>>> although the hooks are there.
>>>>>>>=20
>>>>>>> The main issue is that we need to worry about a (possibly)
>>>>>>> large response body and some method of checking against
>>>>>>> that. I have some ideas, but it's not as "easy" as it
>>>>>>> was using ap_expr.
>>>>>>=20
>>>>>> I wouldn't worry to much about the resource use in case of large =
response bodies. As long as we warn in the docs. Most uses of this =
advanced feature should end up using a special probing page in the =
backend (application). GET instead of HEAD is nice though, because that =
page can include some small status info which can be evaluated using the =
expr.
>>>>>>=20
>>>>>=20
>>>>> The only thing I can't figure out yet is that ap_expr doesn't
>>>>> seem to be able to work on the response *body*, at least,
>>>>> I haven't seen where it is able to do so. So I'll need to figure
>>>>> out how to "trick" it to do so.
>>>>=20
>>>> I guess I could shove the response body in the request note
>>>> array... let me see.


From dev-return-85242-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 16:37:12 2016
Return-Path: <dev-return-85242-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B0B331881B
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 16:37:12 +0000 (UTC)
Received: (qmail 65064 invoked by uid 500); 20 Jan 2016 16:37:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65007 invoked by uid 500); 20 Jan 2016 16:37:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64997 invoked by uid 99); 20 Jan 2016 16:37:12 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 16:37:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B97FFC38C5
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:37:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id IxOqnp1VEHcV for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 16:37:01 +0000 (UTC)
Received: from resqmta-po-03v.sys.comcast.net (resqmta-po-03v.sys.comcast.net [96.114.154.162])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 27F232565F
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:37:01 +0000 (UTC)
Received: from resomta-po-08v.sys.comcast.net ([96.114.154.232])
	by resqmta-po-03v.sys.comcast.net with comcast
	id 8GcG1s009516pyw01Gcu4J; Wed, 20 Jan 2016 16:36:54 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-08v.sys.comcast.net with comcast
	id 8Gct1s0032U0RYt01GctBo; Wed, 20 Jan 2016 16:36:54 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: ap_expr
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <2E486C0B-230B-48D2-8A91-07FF37E876DC@jaguNET.com>
Date: Wed, 20 Jan 2016 11:36:52 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <E3CC9683-FAEF-441B-A247-091E1F1F4A0E@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com> <25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com> <9EE59597-7931-484A-A61E-1A4715D9F5A3@c8h10n4o2.org.uk> <41F5D009-7C4E-47AB-8FE7-0B0C97E569FA@jaguNET.com> <569F4683.8020206@kippdata.de> <23C0818C-160A-4907-B574-B8853CF582A1@jaguNET.com> <91142A15-43F3-4AE2-8227-8866EA5F9DE4@jaguNET.com> <F5D5F1DE-0882-4A2D-92BD-FE5893AEAAE5@jaguNET.com> <F14DA3A0-E5E6-4687-9D96-38669354A276@jaguNET.com> <569FB1A8.9080208@kippdata.de> <2E486C0B-230B-48D2-8A91-07FF37E876DC@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453307814;
	bh=8ETFfeyUdEitxLqv4uCjHHWgmgoRKwzPAU9x93mVvL0=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=UPNMM/sFK0oUGHEVEdo5CEaVOhomZH/xgub0CuvH1ugpedslwzVUdIVE9Ltn5+JzO
	 zjr/2bkRD9Nh3LtFCs5NCZOZiYpyJ+rLJSf/s+QhzyuuC43SlUCoy9Wxxuy6yTkklz
	 fbNHHYC+aBZJO57s0+/e+dMesxBKUkYPYhWBrcASWictYsm74Md3GLmpCAIuAo960J
	 iAbMHypC+KA5sV2ykT59n116gnbuzMnLGHoujH/EvflWRX7b7VC53AijdZ1m6lz+/+
	 6l+sSaA5iH4s7OUFYf51K+GwoYoBHdWPAtQ5ZF2yHm/tJ+AniR7auVuVfyX0WXVH40
	 4AD0NZe9O+mqw==

Ugg... it seems that updating ap_expr results in bison stepping
in and redoing stuff... Thing is, I have Bison 3.0.4 and the old
files seems to have been based on 2.7:

diff --git a/server/util_expr_parse.c b/server/util_expr_parse.c
index d5891c6..b9ad317 100644
--- a/server/util_expr_parse.c
+++ b/server/util_expr_parse.c
@@ -1,19 +1,19 @@
-/* A Bison parser, made by GNU Bison 2.7.12-4996.  */
+/* A Bison parser, made by GNU Bison 3.0.4.  */

 /* Bison implementation for Yacc-like parsers in C
-
-      Copyright (C) 1984, 1989-1990, 2000-2013 Free Software =
Foundation, Inc.
-
+
+   Copyright (C) 1984, 1989-1990, 2000-2015 Free Software Foundation, =
Inc.
+



> On Jan 20, 2016, at 11:31 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> =46rom what I can see, this is the full patch required (minus docs):
>=20
> diff --git a/server/util_expr_eval.c b/server/util_expr_eval.c
> index 5a8f207..e97df88 100644
> --- a/server/util_expr_eval.c
> +++ b/server/util_expr_eval.c
> @@ -1049,6 +1049,25 @@ static const char =
*req_table_func(ap_expr_eval_ctx_t *ctx, const void *data,
>     return apr_table_get(t, arg);
> }
>=20
> +static const char *kb_func(ap_expr_eval_ctx_t *ctx, const void *data,
> +                                  const char *arg)
> +{
> +    apr_off_t *length;
> +    apr_status_t rv;
> +    const char *buf;
> +
> +    if (!ctx->r || !ctx->r->kept_body)
> +        return "";
> +
> +    rv =3D apr_brigade_length(ctx->r->kept_body, 1, &length);
> +    if (rv !=3D APR_SUCCESS || length =3D=3D 0)
> +        return "";
> +
> +    buf =3D apr_palloc(ctx->r->pool, length+1);
> +    apr_brigade_flatten(ctx->r->kept_body, buf, length);
> +    return buf;
> +}
> +
> static const char *env_func(ap_expr_eval_ctx_t *ctx, const void *data,
>                             const char *arg)
> {
> @@ -1785,6 +1804,7 @@ static const struct expr_provider_single =
string_func_providers[] =3D {
>     { unbase64_func,        "unbase64",       NULL, 0 },
>     { sha1_func,            "sha1",           NULL, 0 },
>     { md5_func,             "md5",            NULL, 0 },
> +    { kb_func,             "kept_body",       NULL, 0 },
> #if APR_VERSION_AT_LEAST(1,6,0)
>     { ldap_func,            "ldap",           NULL, 0 },
> #endif
>=20
> in other words, pretty brain dead easy...
>=20
>=20
>> On Jan 20, 2016, at 11:11 AM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>>=20
>> Am 20.01.2016 um 16:28 schrieb Jim Jagielski:
>>>=20
>>>> On Jan 20, 2016, at 9:57 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>>>=20
>>>> It would *REALLY* be nice if ap_expr was r->kept_body
>>>> aware.
>>>>=20
>>>=20
>>> Actually, that does NOT look that difficult...
>>>=20
>>> Comments? Should I go for it?
>>=20
>> No personal preference. The expression parser until now mostly is =
used on the request side, so there's no immediate reuse of making it =
response aware. So I'd decide on how much it distracts you from HC. =
Simply implementing a dirty workaround for HC should be fine as well. =
Those requests do not run with very high frequency (<< 100/s).
>>=20
>> Regards,
>>=20
>> Rainer
>>=20
>>>> I could look at folding that in, but my goal is that all the
>>>> health-check stuff is 2.4-backport-able, and don't want to
>>>> hack ap_expr to allow that and have someone block that backport
>>>> due to, well... whatever. Some people just like blocking back-
>>>> ports, especially from people who's 1st and last names have the
>>>> same letters :)
>>>>=20
>>>>> On Jan 20, 2016, at 8:08 AM, Jim Jagielski <jim@jaguNET.com> =
wrote:
>>>>>=20
>>>>>>=20
>>>>>> On Jan 20, 2016, at 7:59 AM, Jim Jagielski <jim@jaguNET.com> =
wrote:
>>>>>>=20
>>>>>>>=20
>>>>>>> On Jan 20, 2016, at 3:34 AM, Rainer Jung =
<rainer.jung@kippdata.de> wrote:
>>>>>>>=20
>>>>>>> Am 20.01.2016 um 01:57 schrieb Jim Jagielski:
>>>>>>>> Right now GET and CPING (as well as provider) is on my
>>>>>>>> TODO, in fact, they are currently set as "unimplemented"
>>>>>>>> although the hooks are there.
>>>>>>>>=20
>>>>>>>> The main issue is that we need to worry about a (possibly)
>>>>>>>> large response body and some method of checking against
>>>>>>>> that. I have some ideas, but it's not as "easy" as it
>>>>>>>> was using ap_expr.
>>>>>>>=20
>>>>>>> I wouldn't worry to much about the resource use in case of large =
response bodies. As long as we warn in the docs. Most uses of this =
advanced feature should end up using a special probing page in the =
backend (application). GET instead of HEAD is nice though, because that =
page can include some small status info which can be evaluated using the =
expr.
>>>>>>>=20
>>>>>>=20
>>>>>> The only thing I can't figure out yet is that ap_expr doesn't
>>>>>> seem to be able to work on the response *body*, at least,
>>>>>> I haven't seen where it is able to do so. So I'll need to figure
>>>>>> out how to "trick" it to do so.
>>>>>=20
>>>>> I guess I could shove the response body in the request note
>>>>> array... let me see.
>=20


From dev-return-85243-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 16:37:32 2016
Return-Path: <dev-return-85243-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D98DB18820
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 16:37:32 +0000 (UTC)
Received: (qmail 66297 invoked by uid 500); 20 Jan 2016 16:37:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 66229 invoked by uid 500); 20 Jan 2016 16:37:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 66215 invoked by uid 99); 20 Jan 2016 16:37:31 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 16:37:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 848F71A0AB1
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:37:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id HeTeV4HJbH2d for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 16:37:18 +0000 (UTC)
Received: from resqmta-po-11v.sys.comcast.net (resqmta-po-11v.sys.comcast.net [96.114.154.170])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 3188F20DE6
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:37:18 +0000 (UTC)
Received: from resomta-po-08v.sys.comcast.net ([96.114.154.232])
	by resqmta-po-11v.sys.comcast.net with comcast
	id 8GdG1s001516pyw01GdH4C; Wed, 20 Jan 2016 16:37:17 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-08v.sys.comcast.net with comcast
	id 8Gct1s0032U0RYt01GdHEz; Wed, 20 Jan 2016 16:37:17 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Work in progress: mod_proxy Health Check module
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <2E486C0B-230B-48D2-8A91-07FF37E876DC@jaguNET.com>
Date: Wed, 20 Jan 2016 11:37:17 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <02FA677D-0F2A-43F3-BB4E-B966067199C3@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com> <25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com> <9EE59597-7931-484A-A61E-1A4715D9F5A3@c8h10n4o2.org.uk> <41F5D009-7C4E-47AB-8FE7-0B0C97E569FA@jaguNET.com> <569F4683.8020206@kippdata.de> <23C0818C-160A-4907-B574-B8853CF582A1@jaguNET.com> <91142A15-43F3-4AE2-8227-8866EA5F9DE4@jaguNET.com> <F5D5F1DE-0882-4A2D-92BD-FE5893AEAAE5@jaguNET.com> <F14DA3A0-E5E6-4687-9D96-38669354A276@jaguNET.com> <569FB1A8.9080208@kippdata.de> <2E486C0B-230B-48D2-8A91-07FF37E876DC@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453307837;
	bh=NlIodB12+dqtjAQJXRwddabbLSWWQC3PQt8FoYlUIXU=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=YV6ADHwAwMjX/Tjfx96Kfx6tot71KwixtflNVlfMESXcPrLwdlgFsXbU6pKuPtRpd
	 pzmACU+azIaSvKi8xvHqWbXZ11OGtPhcsyEjWXKBe9/KlKkmTfIGG41kXj4pT7obyQ
	 xtYku28Bquqav/+LMdF8qFJ5mQZZ+7mpFjLZu6jg9CFBXn9w4Eb2QPN21bDanzYOW8
	 nRcV7DZHYIMs8JaMSSTmmUUF9PB1FbZh3RzGIN8p2vtLPV8TurLR7b1fsHCbwe4H2I
	 O+HSNWjEPPNu+0NNmDj901yic/HC2jUVMoaYmUAPP1YArP5vAnwp1MrTBGrbqqa8qK
	 hq7zMWgJNKWWg==

Pseudo-patch... that is.

> On Jan 20, 2016, at 11:31 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> =46rom what I can see, this is the full patch required (minus docs):
>=20
> diff --git a/server/util_expr_eval.c b/server/util_expr_eval.c
> index 5a8f207..e97df88 100644
> --- a/server/util_expr_eval.c
> +++ b/server/util_expr_eval.c
> @@ -1049,6 +1049,25 @@ static const char =
*req_table_func(ap_expr_eval_ctx_t *ctx, const void *data,
>     return apr_table_get(t, arg);
> }
>=20
> +static const char *kb_func(ap_expr_eval_ctx_t *ctx, const void *data,
> +                                  const char *arg)
> +{
> +    apr_off_t *length;
> +    apr_status_t rv;
> +    const char *buf;
> +
> +    if (!ctx->r || !ctx->r->kept_body)
> +        return "";
> +
> +    rv =3D apr_brigade_length(ctx->r->kept_body, 1, &length);
> +    if (rv !=3D APR_SUCCESS || length =3D=3D 0)
> +        return "";
> +
> +    buf =3D apr_palloc(ctx->r->pool, length+1);
> +    apr_brigade_flatten(ctx->r->kept_body, buf, length);
> +    return buf;
> +}
> +
> static const char *env_func(ap_expr_eval_ctx_t *ctx, const void *data,
>                             const char *arg)
> {
> @@ -1785,6 +1804,7 @@ static const struct expr_provider_single =
string_func_providers[] =3D {
>     { unbase64_func,        "unbase64",       NULL, 0 },
>     { sha1_func,            "sha1",           NULL, 0 },
>     { md5_func,             "md5",            NULL, 0 },
> +    { kb_func,             "kept_body",       NULL, 0 },
> #if APR_VERSION_AT_LEAST(1,6,0)
>     { ldap_func,            "ldap",           NULL, 0 },
> #endif
>=20
> in other words, pretty brain dead easy...
>=20
>=20
>> On Jan 20, 2016, at 11:11 AM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>>=20
>> Am 20.01.2016 um 16:28 schrieb Jim Jagielski:
>>>=20
>>>> On Jan 20, 2016, at 9:57 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>>>=20
>>>> It would *REALLY* be nice if ap_expr was r->kept_body
>>>> aware.
>>>>=20
>>>=20
>>> Actually, that does NOT look that difficult...
>>>=20
>>> Comments? Should I go for it?
>>=20
>> No personal preference. The expression parser until now mostly is =
used on the request side, so there's no immediate reuse of making it =
response aware. So I'd decide on how much it distracts you from HC. =
Simply implementing a dirty workaround for HC should be fine as well. =
Those requests do not run with very high frequency (<< 100/s).
>>=20
>> Regards,
>>=20
>> Rainer
>>=20
>>>> I could look at folding that in, but my goal is that all the
>>>> health-check stuff is 2.4-backport-able, and don't want to
>>>> hack ap_expr to allow that and have someone block that backport
>>>> due to, well... whatever. Some people just like blocking back-
>>>> ports, especially from people who's 1st and last names have the
>>>> same letters :)
>>>>=20
>>>>> On Jan 20, 2016, at 8:08 AM, Jim Jagielski <jim@jaguNET.com> =
wrote:
>>>>>=20
>>>>>>=20
>>>>>> On Jan 20, 2016, at 7:59 AM, Jim Jagielski <jim@jaguNET.com> =
wrote:
>>>>>>=20
>>>>>>>=20
>>>>>>> On Jan 20, 2016, at 3:34 AM, Rainer Jung =
<rainer.jung@kippdata.de> wrote:
>>>>>>>=20
>>>>>>> Am 20.01.2016 um 01:57 schrieb Jim Jagielski:
>>>>>>>> Right now GET and CPING (as well as provider) is on my
>>>>>>>> TODO, in fact, they are currently set as "unimplemented"
>>>>>>>> although the hooks are there.
>>>>>>>>=20
>>>>>>>> The main issue is that we need to worry about a (possibly)
>>>>>>>> large response body and some method of checking against
>>>>>>>> that. I have some ideas, but it's not as "easy" as it
>>>>>>>> was using ap_expr.
>>>>>>>=20
>>>>>>> I wouldn't worry to much about the resource use in case of large =
response bodies. As long as we warn in the docs. Most uses of this =
advanced feature should end up using a special probing page in the =
backend (application). GET instead of HEAD is nice though, because that =
page can include some small status info which can be evaluated using the =
expr.
>>>>>>>=20
>>>>>>=20
>>>>>> The only thing I can't figure out yet is that ap_expr doesn't
>>>>>> seem to be able to work on the response *body*, at least,
>>>>>> I haven't seen where it is able to do so. So I'll need to figure
>>>>>> out how to "trick" it to do so.
>>>>>=20
>>>>> I guess I could shove the response body in the request note
>>>>> array... let me see.
>=20


From dev-return-85244-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 16:52:04 2016
Return-Path: <dev-return-85244-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4B34218912
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 16:52:04 +0000 (UTC)
Received: (qmail 9656 invoked by uid 500); 20 Jan 2016 16:52:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 9567 invoked by uid 500); 20 Jan 2016 16:52:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 9554 invoked by uid 99); 20 Jan 2016 16:52:03 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 16:52:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 31E94180459
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:52:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rcbowen-com.20150623.gappssmtp.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id RRMuRkg9bsm8 for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 16:51:51 +0000 (UTC)
Received: from mail-qk0-f172.google.com (mail-qk0-f172.google.com [209.85.220.172])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 0228C2054B
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:51:50 +0000 (UTC)
Received: by mail-qk0-f172.google.com with SMTP id o6so5334787qkc.2
        for <dev@httpd.apache.org>; Wed, 20 Jan 2016 08:51:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rcbowen-com.20150623.gappssmtp.com; s=20150623;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-type:content-transfer-encoding;
        bh=D5MrKuV27dJVhk9wqLp6dfYO7F8j+9Sj/aYH9tchIjY=;
        b=Yknxg7mWCHGxyC/ZnNkBDqKD6RiqaLwq/frngS9B8pDeGoOsuVRgbfRaOoYK125Xrr
         v6eZcuTbj+5H6w8U3cneLMH5uPw9/X4DLI4KjH0FSmUKjrWLvd40sfyGejOs9Ehlcpxo
         S2Erc8Ztzi/llOR63/1yxWdpLMIDoO9EDvPlZ7FHMl0ooMt6CGnNDnlUgLiw8szkmPYR
         xlESIDzPpd44Pz1TxdtbPwIeQvhCm09B2FjUNshSJQBPWTycfRstF5poUGhahqEeOToi
         91KqO0XdgETmYHHFPT3hC06TZYopLMHx3mHgOLcj9TcwjxDjiflmUkWZXKcPrWCoMk9c
         g1xQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:subject:to:references:from:message-id:date
         :user-agent:mime-version:in-reply-to:content-type
         :content-transfer-encoding;
        bh=D5MrKuV27dJVhk9wqLp6dfYO7F8j+9Sj/aYH9tchIjY=;
        b=U1Z62Onb26O+tJ4qPxNjFZC3wYscodNK+CSR2THT22zmKCCp4h36crG7XERNJKGy9S
         rudyoZoSERAEBpcllTd/b4O6eFmcl2PFSRlWXED/GyfrXSbbtHiOqiEb83TTpEXdPAxH
         xpCNZ9c6ZjUqLuA9+OmT7Y8ItjvK/HYZB4pblUnckNtR0b1zFJTeR/OxAfETtS0Lb4XU
         e+D9ZHE/AuYWF8AildIkO3k8ztExr6Ah3hs+59no69oXODmw2gt2q1CxI0xn9OXgZ1mi
         mfuZFbVrPzkOks4Z1LwKSLmScLZGquh6ZIBT1BZ3+L/Kh2fgHSFcjN7XnBKqRJvEhbqq
         KAAQ==
X-Gm-Message-State: ALoCoQnFNkOrpZCwrciGYW/4F9s7fJ2SN6/hUPzd47c0EImiER44bRGb0gwF5UNscHyLL+C5R+gC82wDNbbDvUT/E4dUQuuY6A==
X-Received: by 10.55.221.66 with SMTP id n63mr45795916qki.64.1453308710067;
        Wed, 20 Jan 2016 08:51:50 -0800 (PST)
Received: from [192.168.0.214] (cpe-74-138-23-246.kya.res.rr.com. [74.138.23.246])
        by smtp.googlemail.com with ESMTPSA id u78sm14585185qge.27.2016.01.20.08.51.48
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Wed, 20 Jan 2016 08:51:48 -0800 (PST)
Subject: Re: svn commit: r1725339 -
 /httpd/httpd/trunk/docs/manual/index.xml.es
To: dev@httpd.apache.org
References: <20160118202024.5930B3A0056@svn01-us-west.apache.org>
 <569FACA4.6090500@oracle.com> <201601201709.18944@news.perlig.de>
From: Rich Bowen <rbowen@rcbowen.com>
Message-ID: <569FBB22.70503@rcbowen.com>
Date: Wed, 20 Jan 2016 11:51:46 -0500
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.0
MIME-Version: 1.0
In-Reply-To: <201601201709.18944@news.perlig.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit



On 01/20/2016 11:09 AM, Andr Malo wrote:
> * Mike Rumph wrote:
> 
>> Is there some reason why the license information is not translated into
>> Spanish?
> 
> Yes. It would not have any legal power. There is no official translation of 
> the apache license (AFAIK).


In particular, in order to provide a translation, we would either need
to retain an attorney to do the translation, or make it abundantly clear
that the translation is NOT a legal document.


-- 
Rich Bowen - rbowen@rcbowen.com - @rbowen
http://apachecon.com/ - @apachecon

From dev-return-85245-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 17:01:54 2016
Return-Path: <dev-return-85245-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9678B189D5
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 17:01:53 +0000 (UTC)
Received: (qmail 50215 invoked by uid 500); 20 Jan 2016 17:01:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50134 invoked by uid 500); 20 Jan 2016 17:01:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50124 invoked by uid 99); 20 Jan 2016 17:01:53 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 17:01:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A5D47C0044
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 17:01:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id SvoIm6j_78US for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 17:01:42 +0000 (UTC)
Received: from resqmta-po-03v.sys.comcast.net (resqmta-po-03v.sys.comcast.net [96.114.154.162])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 279D3258C7
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 17:01:41 +0000 (UTC)
Received: from resomta-po-01v.sys.comcast.net ([96.114.154.225])
	by resqmta-po-03v.sys.comcast.net with comcast
	id 8H1R1s0014s37d401H1f5K; Wed, 20 Jan 2016 17:01:39 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-01v.sys.comcast.net with comcast
	id 8H1f1s0012U0RYt01H1fwN; Wed, 20 Jan 2016 17:01:39 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Work in progress: mod_proxy Health Check module
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <02FA677D-0F2A-43F3-BB4E-B966067199C3@jaguNET.com>
Date: Wed, 20 Jan 2016 12:01:38 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <C72F9F66-7C19-481E-A903-1903F9EA08F2@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com> <25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com> <9EE59597-7931-484A-A61E-1A4715D9F5A3@c8h10n4o2.org.uk> <41F5D009-7C4E-47AB-8FE7-0B0C97E569FA@jaguNET.com> <569F4683.8020206@kippdata.de> <23C0818C-160A-4907-B574-B8853CF582A1@jaguNET.com> <91142A15-43F3-4AE2-8227-8866EA5F9DE4@jaguNET.com> <F5D5F1DE-0882-4A2D-92BD-FE5893AEAAE5@jaguNET.com> <F14DA3A0-E5E6-4687-9D96-38669354A276@jaguNET.com> <569FB1A8.9080208@kippdata.de> <2E486C0B-230B-48D2-8A91-07FF37E876DC@jaguNET.com> <02FA677D-0F2A-43F3-BB4E-B966067199C3@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453309299;
	bh=FeteEehDfZtnIAzajezszq9oiob7Ikaz0FopegAMn1w=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=wFjk0jPHsoSr/4IAIVE1q39whTQisMugIffNWfuK+98UeYIBfpZsXfN1XoT8oOYps
	 k0vUkeQijL/6UDZAF0yua+dFB9snNiWpYaNjRJM6mo5aGNxsMU8uwq130HYehwSkfd
	 5Xlc5nY/RnMLVBt1WnHjGWMVHTgWy9k9rabo7eWGyZnRTRK7xwR6BKauIsr7XiZ5YU
	 7LdgqOUkVnHwsXjNWW7lDMCg7bjvRvtoGnvCl9ditGDemTC79ZEOqSp9piTSqJN85y
	 YVyXlSRPFv4t9zDQH5UMw4+nu1W1yZ/+YKwNwrKfjTYYlpm3OOFhsqyF70N5AayANh
	 ayxil5oTdnpcA==

Committed revision 1725755.

> On Jan 20, 2016, at 11:37 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> Pseudo-patch... that is.
>=20
>> On Jan 20, 2016, at 11:31 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>=20
>> =46rom what I can see, this is the full patch required (minus docs):
>>=20
>> diff --git a/server/util_expr_eval.c b/server/util_expr_eval.c
>> index 5a8f207..e97df88 100644
>> --- a/server/util_expr_eval.c
>> +++ b/server/util_expr_eval.c
>> @@ -1049,6 +1049,25 @@ static const char =
*req_table_func(ap_expr_eval_ctx_t *ctx, const void *data,
>>    return apr_table_get(t, arg);
>> }
>>=20
>> +static const char *kb_func(ap_expr_eval_ctx_t *ctx, const void =
*data,
>> +                                  const char *arg)
>> +{
>> +    apr_off_t *length;
>> +    apr_status_t rv;
>> +    const char *buf;
>> +
>> +    if (!ctx->r || !ctx->r->kept_body)
>> +        return "";
>> +
>> +    rv =3D apr_brigade_length(ctx->r->kept_body, 1, &length);
>> +    if (rv !=3D APR_SUCCESS || length =3D=3D 0)
>> +        return "";
>> +
>> +    buf =3D apr_palloc(ctx->r->pool, length+1);
>> +    apr_brigade_flatten(ctx->r->kept_body, buf, length);
>> +    return buf;
>> +}
>> +
>> static const char *env_func(ap_expr_eval_ctx_t *ctx, const void =
*data,
>>                            const char *arg)
>> {
>> @@ -1785,6 +1804,7 @@ static const struct expr_provider_single =
string_func_providers[] =3D {
>>    { unbase64_func,        "unbase64",       NULL, 0 },
>>    { sha1_func,            "sha1",           NULL, 0 },
>>    { md5_func,             "md5",            NULL, 0 },
>> +    { kb_func,             "kept_body",       NULL, 0 },
>> #if APR_VERSION_AT_LEAST(1,6,0)
>>    { ldap_func,            "ldap",           NULL, 0 },
>> #endif
>>=20
>> in other words, pretty brain dead easy...
>>=20
>>=20
>>> On Jan 20, 2016, at 11:11 AM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>>>=20
>>> Am 20.01.2016 um 16:28 schrieb Jim Jagielski:
>>>>=20
>>>>> On Jan 20, 2016, at 9:57 AM, Jim Jagielski <jim@jaguNET.com> =
wrote:
>>>>>=20
>>>>> It would *REALLY* be nice if ap_expr was r->kept_body
>>>>> aware.
>>>>>=20
>>>>=20
>>>> Actually, that does NOT look that difficult...
>>>>=20
>>>> Comments? Should I go for it?
>>>=20
>>> No personal preference. The expression parser until now mostly is =
used on the request side, so there's no immediate reuse of making it =
response aware. So I'd decide on how much it distracts you from HC. =
Simply implementing a dirty workaround for HC should be fine as well. =
Those requests do not run with very high frequency (<< 100/s).
>>>=20
>>> Regards,
>>>=20
>>> Rainer
>>>=20
>>>>> I could look at folding that in, but my goal is that all the
>>>>> health-check stuff is 2.4-backport-able, and don't want to
>>>>> hack ap_expr to allow that and have someone block that backport
>>>>> due to, well... whatever. Some people just like blocking back-
>>>>> ports, especially from people who's 1st and last names have the
>>>>> same letters :)
>>>>>=20
>>>>>> On Jan 20, 2016, at 8:08 AM, Jim Jagielski <jim@jaguNET.com> =
wrote:
>>>>>>=20
>>>>>>>=20
>>>>>>> On Jan 20, 2016, at 7:59 AM, Jim Jagielski <jim@jaguNET.com> =
wrote:
>>>>>>>=20
>>>>>>>>=20
>>>>>>>> On Jan 20, 2016, at 3:34 AM, Rainer Jung =
<rainer.jung@kippdata.de> wrote:
>>>>>>>>=20
>>>>>>>> Am 20.01.2016 um 01:57 schrieb Jim Jagielski:
>>>>>>>>> Right now GET and CPING (as well as provider) is on my
>>>>>>>>> TODO, in fact, they are currently set as "unimplemented"
>>>>>>>>> although the hooks are there.
>>>>>>>>>=20
>>>>>>>>> The main issue is that we need to worry about a (possibly)
>>>>>>>>> large response body and some method of checking against
>>>>>>>>> that. I have some ideas, but it's not as "easy" as it
>>>>>>>>> was using ap_expr.
>>>>>>>>=20
>>>>>>>> I wouldn't worry to much about the resource use in case of =
large response bodies. As long as we warn in the docs. Most uses of this =
advanced feature should end up using a special probing page in the =
backend (application). GET instead of HEAD is nice though, because that =
page can include some small status info which can be evaluated using the =
expr.
>>>>>>>>=20
>>>>>>>=20
>>>>>>> The only thing I can't figure out yet is that ap_expr doesn't
>>>>>>> seem to be able to work on the response *body*, at least,
>>>>>>> I haven't seen where it is able to do so. So I'll need to figure
>>>>>>> out how to "trick" it to do so.
>>>>>>=20
>>>>>> I guess I could shove the response body in the request note
>>>>>> array... let me see.
>>=20
>=20


From dev-return-85246-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 20:50:20 2016
Return-Path: <dev-return-85246-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 80719189A5
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 20:50:20 +0000 (UTC)
Received: (qmail 25366 invoked by uid 500); 20 Jan 2016 20:50:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25285 invoked by uid 500); 20 Jan 2016 20:50:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25275 invoked by uid 99); 20 Jan 2016 20:50:15 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 20:50:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 7A8171A0A7D
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 20:50:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id tV0f9JSiTdeX for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 20:50:08 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 80268203BE
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 20:50:07 +0000 (UTC)
Received: by mail-qg0-f52.google.com with SMTP id e32so16442078qgf.3
        for <dev@httpd.apache.org>; Wed, 20 Jan 2016 12:50:07 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=0I5GEdAWNawbzUpPSUSGah5ngpD7a+zRfhhEuTcFHn0=;
        b=qOiqb0m0Zax7OTw89eGX3yd1noXMTKbMWGWUhbWCCNWDTzhB1r5l1Bmm33Z1Nzi6a1
         Rllgp+ja2FzlmhFOnFYS5/wB3n5x2t36fjxee+Dr6gRrRgD5WXKnyBwp6gV+8zG53vNK
         tcFq9wRh+Vy+WCpkuXs7rmwhGF+IztamKzs8pSj1Zhqg3oEvZQrl0+d6ao+hoCD3pBc1
         SzgQFt9XimL/kMRA59k7vmEuK02/ZVEns9FI3A9rj0ZX0aEIlnGBIUCjahes7j6fctMX
         PsD4cc9a4+g4kFaBTjj4Jl6OVFxi4lBUSFNDYYCmg5LlDfX/2W42PftwBK1RIUrINuUk
         6IdA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=0I5GEdAWNawbzUpPSUSGah5ngpD7a+zRfhhEuTcFHn0=;
        b=Djvlx+uMH9r0PesOde5y4XiqWDLIMcjhQCBEd5Pfcs2yZiBQTPLmiezSYnONuXFrRg
         /ux5y5quatv9PX1svgqUuZN5LqbH+hTOHtq6JOT5UaN5s4ZwNUAASnS623qbAITw8YNa
         bw/tBQfMeoBweVkZFsSaqGAsRJK1NYIiejvDtiItpoLJpHX8pDcq87x/l/L3jGdB1UgF
         1Sbd20chuHY+uubLw4XnH6+BKPYXZrA7eLZYw59Ni+SvoI94RgEM2PCAmNeJosU9Bdkw
         7Kih/6sNOcmVrFvn2AjDmNP2YDsDSgxLgL4o41Qcs50mEii8yTb+Vu2/jP50km0b7zfs
         bpWw==
X-Gm-Message-State: ALoCoQnYxdJaNy39yG5k8QP+veu8kYPUtAvMjTEjJNQz6RC3nPdtXloHblDW5ieppKZ2BZ74qMoEymJ1rKlunR/vpB8ZifohWQ==
MIME-Version: 1.0
X-Received: by 10.140.167.135 with SMTP id n129mr48242331qhn.73.1453323006315;
 Wed, 20 Jan 2016 12:50:06 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Wed, 20 Jan 2016 12:50:06 -0800 (PST)
In-Reply-To: <245C07C8-FDE6-4793-8324-484BCA4173D3@greenbytes.de>
References: <245C07C8-FDE6-4793-8324-484BCA4173D3@greenbytes.de>
Date: Wed, 20 Jan 2016 21:50:06 +0100
Message-ID: <CAKQ1sVPs0uWjmW_gV+PW0aRPJZN+kuBe8wt2Wpz0YXPK0DBnkw@mail.gmail.com>
Subject: Re: socket timeouts
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Jan 19, 2016 at 4:52 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
>
> I experimented with setting socket timeouts to 1 second during
> HTTP/2's keepalive reading and closing the connection after n such
> TIMEUP returns. That works nicely on cleartext connections, but
> https:// return APR_EOF on reads after the first APR_ETIMEUP. Am I
> seeing ghosts or is that something in SSL that regards timed-out
> reads as basically broken?

Maybe mod_ssl could preserve downstream status when it's already an error?

Index: modules/ssl/ssl_engine_io.c
===================================================================
--- modules/ssl/ssl_engine_io.c    (revision 1725250)
+++ modules/ssl/ssl_engine_io.c    (working copy)
@@ -679,7 +679,7 @@ static apr_status_t ssl_io_input_read(bio_filter_i
                 if (*len > 0) {
                     inctx->rc = APR_SUCCESS;
                 }
-                else {
+                else if (inctx->rc == APR_SUCCESS) {
                     inctx->rc = APR_EOF;
                 }
                 break;
--

From dev-return-85247-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 22:10:49 2016
Return-Path: <dev-return-85247-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9D3E518EC4
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 22:10:49 +0000 (UTC)
Received: (qmail 6781 invoked by uid 500); 20 Jan 2016 22:10:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6691 invoked by uid 500); 20 Jan 2016 22:10:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6681 invoked by uid 99); 20 Jan 2016 22:10:49 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 22:10:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 93C77C0179
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 22:10:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.65
X-Spam-Level:
X-Spam-Status: No, score=0.65 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_INFOUSMEBIZ=0.75, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id lOc9PGldJdsa for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 22:10:38 +0000 (UTC)
Received: from mail-qg0-f48.google.com (mail-qg0-f48.google.com [209.85.192.48])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 7D7E34293A
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 22:10:38 +0000 (UTC)
Received: by mail-qg0-f48.google.com with SMTP id 6so17977530qgy.1
        for <dev@httpd.apache.org>; Wed, 20 Jan 2016 14:10:38 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=1+5ehdXSnKB/1zJnV7fLTSGUPy+EC8OWW555uoZRPuo=;
        b=jAAde1lFsBuB9IkMxjwMtIRbCbMd/9jmN9bk3ar59VreD9w2Q3IIo2S2T458d2P2xs
         c31IQuQ6vz9IsATgh/pqZ0zBjr9/uLNTNs1dHTjzrN+hME6Xnjumf0hinJSc6R/6NCA2
         PrNy09t+02J9VOfXjG1wL1e0YumPypujk9+JOgtQ20NfstsmqhKUX1dJZhtf+n+EX9AW
         Sk20DIZ94kBR7BBsOXsulc3P9cwtfZ0uBDzidTATcliOKYSjxEAU8I9fy9oiqroT5F4K
         bMYIHm6MiRyqFQcPJU0ScN3dbGvp+EMDQuXHYyLMdGJPatu7jgHn4yKyfqWuKUdHicp0
         xcRw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=1+5ehdXSnKB/1zJnV7fLTSGUPy+EC8OWW555uoZRPuo=;
        b=LtCKccZJGX0WrgFmHu2VEed82dtjzEEyRp4gYgoU6Uh5YP1UA80yHf+8qoa96H0xSY
         1FuGyC0/uRjm+izxHiLK2fPk9TY4M0ncbBfX7p/uhVvAxsAKAnShg7vrnhmSgOB9IyYv
         jWeKmlqrVB9AqMaaRm4yAUM+4Eu9I9Wsk29cSyD+5DovnyZldkdmh7dhyiG27MOzCrBH
         oY3ya8Rg++evvu3sGaFxG86/w5rISHdNDG1FaNMzZqnVJldDnOv7mXDkOlW6yipmZXCX
         O+FafMy8k3Gmnu6OI051tWuKs9sgi7Hnh09o93C/sK1ViCn5Z5sFr2fg4wnZt0gZgv5h
         XPSQ==
X-Gm-Message-State: ALoCoQkTPnBp6Bx2yBnwpEBZrvL9RiV9BDbJBOKRGfYBMZ31B4txP8OBNFMjj27+V80QWH0T6pQEClRBeyFWNUg8Ka9ovFofPg==
MIME-Version: 1.0
X-Received: by 10.140.92.35 with SMTP id a32mr48112110qge.92.1453327838076;
 Wed, 20 Jan 2016 14:10:38 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Wed, 20 Jan 2016 14:10:38 -0800 (PST)
In-Reply-To: <E3CC9683-FAEF-441B-A247-091E1F1F4A0E@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com>
	<25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com>
	<9EE59597-7931-484A-A61E-1A4715D9F5A3@c8h10n4o2.org.uk>
	<41F5D009-7C4E-47AB-8FE7-0B0C97E569FA@jaguNET.com>
	<569F4683.8020206@kippdata.de>
	<23C0818C-160A-4907-B574-B8853CF582A1@jaguNET.com>
	<91142A15-43F3-4AE2-8227-8866EA5F9DE4@jaguNET.com>
	<F5D5F1DE-0882-4A2D-92BD-FE5893AEAAE5@jaguNET.com>
	<F14DA3A0-E5E6-4687-9D96-38669354A276@jaguNET.com>
	<569FB1A8.9080208@kippdata.de>
	<2E486C0B-230B-48D2-8A91-07FF37E876DC@jaguNET.com>
	<E3CC9683-FAEF-441B-A247-091E1F1F4A0E@jaguNET.com>
Date: Wed, 20 Jan 2016 23:10:38 +0100
Message-ID: <CAKQ1sVPPErNd3NZq=q7CGGfQeLsSqPUtPpgwZ1J0wXFNidFfwg@mail.gmail.com>
Subject: Re: ap_expr
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Jan 20, 2016 at 5:36 PM, Jim Jagielski <jim@jagunet.com> wrote:
> Ugg... it seems that updating ap_expr results in bison stepping
> in and redoing stuff... Thing is, I have Bison 3.0.4 and the old
> files seems to have been based on 2.7:

Last time I changed util_expr_parse.y, I had to build and run
bison-2.7.1 ([2]) locally.
Gregg proposed we notice that in .[ly] files ([1]), note sure it gets committed.

[1] http://ftp.gnu.org/gnu/bison/bison-2.7.1.tar.gz
[2] http://marc.info/?l=apache-httpd-dev&m=141807424727716&w=2

From dev-return-85248-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 22:24:35 2016
Return-Path: <dev-return-85248-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0C86F18006
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 22:24:35 +0000 (UTC)
Received: (qmail 50031 invoked by uid 500); 20 Jan 2016 22:24:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49958 invoked by uid 500); 20 Jan 2016 22:24:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49939 invoked by uid 99); 20 Jan 2016 22:24:34 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 22:24:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id EFFD6C0313;
	Wed, 20 Jan 2016 22:24:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.099
X-Spam-Level:
X-Spam-Status: No, score=-0.099 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id kZ-rbYZWbLmt; Wed, 20 Jan 2016 22:24:19 +0000 (UTC)
Received: from mail-qk0-f171.google.com (mail-qk0-f171.google.com [209.85.220.171])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 1AED3203BE;
	Wed, 20 Jan 2016 22:24:18 +0000 (UTC)
Received: by mail-qk0-f171.google.com with SMTP id s5so9133668qkd.0;
        Wed, 20 Jan 2016 14:24:18 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=4GG1k+8teq5xYwNy81uCli+vSvPrjGaE2LbLRF1hohA=;
        b=jn5Jh0sJ7UoTbu/CuQzybKg6k1nXboZLg8vZqXgrhgucV9Tr+yBefoxWk9m11d92VE
         X6yZ8Tg8ZPaP3jaFnHWt6LCgMXMpuT481/RBcrCdA31zIzOgJgsL1vy/iy641idzaHJI
         94oT0zlAHGOhuTSbdct9GqImy7LpxMOCdfkVaX7prY1OJNFpNfWdTTmT8YI2LMxH/2RM
         qitCmu2+aN2VU/AHB7YflvKrahb/X/GQbZIAUBJzn+SZj5QlQUeTuO1LK++VfIpO0Z8u
         aQAJwziKuR4judKiy6JnSChYjHCamFbbcvFTxMS97Hzeu4Anyj/P/50cnMO+hzURra1f
         4Big==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=4GG1k+8teq5xYwNy81uCli+vSvPrjGaE2LbLRF1hohA=;
        b=RHGWkiwNtIIRS1k0trM+cLNCiDl37nH2kTueELz0oNKvTx4WIMFppG1efwEQ26CiGM
         Ny3UhsoTPydeZXgW4tjIBnYDDHG4eza3xJzYIRo/ytd1uzEhzFgrrjAiJDo07AE4CC9r
         VbbyJuYGptn1Ph50Bghb0ImonNSbji553Sekq/iAp5bBL96w5O2O2+wA4Zes+ZDU3wdJ
         kyfKz5T2tcW4nps2JssxAQ1tgj6muIQG/Q1YQCZ6SX5MH8Ru0I2+6tGPwGL/zKapJTvU
         p0vSx1M6DAPgUIsqWawPdR+pFHWPjfh4n5ubx/YR0nVGK62kLYOs1lDosc21789mnhyO
         JpSA==
X-Gm-Message-State: ALoCoQnTYzOQGFVsOxbWeOs0xTfbmIN2bP+l4qmuQ2j1i3zgG/9tMTAzIaPlOaQzPG+H2jPCYeGZLWnLiMN+SzVljzAyWYrg0Q==
MIME-Version: 1.0
X-Received: by 10.55.71.195 with SMTP id u186mr47977902qka.38.1453328650009;
 Wed, 20 Jan 2016 14:24:10 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Wed, 20 Jan 2016 14:24:09 -0800 (PST)
In-Reply-To: <CAKQ1sVP8FSa8vu4uxEkSTYn7skVSajGJmM0zzLwKobJ3yRCsTg@mail.gmail.com>
References: <bug-55808-56585@https.bz.apache.org/bugzilla/>
	<bug-55808-56585-wzfMd0JVSx@https.bz.apache.org/bugzilla/>
	<5696D835.5050904@blenning.no>
	<CAKQ1sVMU=o24Rrw5zF2oLozgyqMFn5DZKAJbJVOLot+4nX4iBA@mail.gmail.com>
	<5696E637.3080501@blenning.no>
	<CAKQ1sVM2jN=aKaiD20+dR78EUnfKSwKU5GCcB-+ipnx5dj8QqA@mail.gmail.com>
	<5696F0D8.40002@blenning.no>
	<CAKQ1sVP8FSa8vu4uxEkSTYn7skVSajGJmM0zzLwKobJ3yRCsTg@mail.gmail.com>
Date: Wed, 20 Jan 2016 23:24:09 +0100
Message-ID: <CAKQ1sVMWVFScKax4MtM1b79TmmG+_rK2+OK9inZ4vkZWjihUqg@mail.gmail.com>
Subject: Re: [Bug 55808] File integrity verification using MD5 and SHA1
From: Yann Ylavic <ylavic.dev@gmail.com>
To: docs@httpd.apache.org, httpd-dev <dev@httpd.apache.org>
Content-Type: multipart/mixed; boundary=001a114a8bf8ed19fc0529cb7146

--001a114a8bf8ed19fc0529cb7146
Content-Type: text/plain; charset=UTF-8

On Thu, Jan 14, 2016 at 9:25 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> [cross posting @docs => @dev, full thread
> http://www.gossamer-threads.com/lists/apache/docs/453401]
>
> On Thu, Jan 14, 2016 at 1:50 AM, Tom Fredrik Blenning Klaussen
> <bfg@blenning.no> wrote:
>>
>> On 14/01/16 01:19, Yann Ylavic wrote:
>>>
>>> as I said earlier, the way you access the
>>> tarball is not that important provided you verify its signature, or
>>> its digests from the official repository only.
>>
>> I understand what you are saying that the proper way is to download
>> the checksums from the correct source, which is self-evident. Now
>> assume you're a new user, and do not have this previous knowledge.
>> This user is security conscious, so the user chooses https on purpose.
>> He would go into (https://httpd.apache.org), where he would find a
>> link taking him to (https://httpd.apache.org/download.cgi), at this
>> point, he would find the link to (http://www.apache.org/dist/httpd/),
>> what I'm saying is in order to have some trust in that link, it
>> _SHOULD_ be https otherwise assuming you could introduce yourself as a
>> MitM, manipulating the signatures would be trivial.
>
> OK, I thought the links to the MD5/SH1/PGP were https: but this is not the case.
> I agree that the origin of these files should be trustable.
>
> @dev: should I s/http:/https:/ for those links (only) in
> ^httpd/site/trunk/content/download.mdtext?
> Or possibly use paths instead (i.e. /dist/httpd/...) so that it
> depends on /download.cgi is accessed?
> Would that be enough for the prod to be updated (via staging)?

Would attached patch be appropriate, so that MD5/SHA1/ASC/KEYS files
are under https://*.apache.org's certification?

--001a114a8bf8ed19fc0529cb7146
Content-Type: application/x-download; name="httpd-site-trunk-https.patch"
Content-Disposition: attachment; filename="httpd-site-trunk-https.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ijneb6q40

SW5kZXg6IGNvbnRlbnQvZG93bmxvYWQubWR0ZXh0Cj09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIGNvbnRlbnQvZG93
bmxvYWQubWR0ZXh0CShyZXZpc2lvbiAxNzI0NTMyKQorKysgY29udGVudC9kb3dubG9hZC5tZHRl
eHQJKHdvcmtpbmcgY29weSkKQEAgLTcxLDE0ICs3MSwxNCBAQCB0aGUgW0NIQU5HRVNfMi40XShb
cHJlZmVycmVkXS9odHRwZC9DSEFOR0VTXzIuNCkgYQogW0NIQU5HRVNfMi40LjE4XShbcHJlZmVy
cmVkXS9odHRwZC9DSEFOR0VTXzIuNC4xOCkgbGlzdHMKIAogLSBTb3VyY2U6IFtodHRwZC0yLjQu
MTgudGFyLmJ6Ml0oW3ByZWZlcnJlZF0vaHR0cGQvaHR0cGQtMi40LjE4LnRhci5iejIpCi1bIFtQ
R1BdKGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9kaXN0L2h0dHBkL2h0dHBkLTIuNC4xOC50YXIuYnoy
LmFzYykgXSBbCi1bTUQ1XShodHRwOi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9odHRwZC0y
LjQuMTgudGFyLmJ6Mi5tZDUpIF0gWwotW1NIQTFdKGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9kaXN0
L2h0dHBkL2h0dHBkLTIuNC4xOC50YXIuYnoyLnNoYTEpIF0KK1sgW1BHUF0oaHR0cHM6Ly93d3cu
YXBhY2hlLm9yZy9kaXN0L2h0dHBkL2h0dHBkLTIuNC4xOC50YXIuYnoyLmFzYykgXSBbCitbTUQ1
XShodHRwczovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0cGQvaHR0cGQtMi40LjE4LnRhci5iejIu
bWQ1KSBdIFsKK1tTSEExXShodHRwczovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0cGQvaHR0cGQt
Mi40LjE4LnRhci5iejIuc2hhMSkgXQogCiAtIFNvdXJjZTogW2h0dHBkLTIuNC4xOC50YXIuZ3pd
KFtwcmVmZXJyZWRdL2h0dHBkL2h0dHBkLTIuNC4xOC50YXIuZ3opIFsKLVtQR1BdKGh0dHA6Ly93
d3cuYXBhY2hlLm9yZy9kaXN0L2h0dHBkL2h0dHBkLTIuNC4xOC50YXIuZ3ouYXNjKSBdIFsKLVtN
RDVdKGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9kaXN0L2h0dHBkL2h0dHBkLTIuNC4xOC50YXIuZ3ou
bWQ1KSBdIFsKLVtTSEExXShodHRwOi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9odHRwZC0y
LjQuMTgudGFyLmd6LnNoYTEpIF0KK1tQR1BdKGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9o
dHRwZC9odHRwZC0yLjQuMTgudGFyLmd6LmFzYykgXSBbCitbTUQ1XShodHRwczovL3d3dy5hcGFj
aGUub3JnL2Rpc3QvaHR0cGQvaHR0cGQtMi40LjE4LnRhci5nei5tZDUpIF0gWworW1NIQTFdKGh0
dHBzOi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9odHRwZC0yLjQuMTgudGFyLmd6LnNoYTEp
IF0KIAogLSBbQmluYXJpZXNdKFtwcmVmZXJyZWRdL2h0dHBkL2JpbmFyaWVzLykgCiAKQEAgLTEw
NSwyMSArMTA1LDIxIEBAIGZyb20gdGhlc2UgcHJldmlvdXMgdmVyc2lvbnMuIE1vZHVsZXMgY29t
cGlsZWQgZm9yCiBjb250aW51ZSB0byB3b3JrIGZvciBhbGwgMi4yLnggcmVsZWFzZXMuCiAKIC0g
U291cmNlOiBbaHR0cGQtMi4yLjMxLnRhci5nel0oW3ByZWZlcnJlZF0vaHR0cGQvaHR0cGQtMi4y
LjMxLnRhci5neikKLVsgW1BHUF0oaHR0cDovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0cGQvaHR0
cGQtMi4yLjMxLnRhci5nei5hc2MpIF0gWwotW01ENV0oaHR0cDovL3d3dy5hcGFjaGUub3JnL2Rp
c3QvaHR0cGQvaHR0cGQtMi4yLjMxLnRhci5nei5tZDUpIF0gWwotW1NIQTFdKGh0dHA6Ly93d3cu
YXBhY2hlLm9yZy9kaXN0L2h0dHBkL2h0dHBkLTIuMi4zMS50YXIuZ3ouc2hhMSkgXQorWyBbUEdQ
XShodHRwczovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0cGQvaHR0cGQtMi4yLjMxLnRhci5nei5h
c2MpIF0gWworW01ENV0oaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9kaXN0L2h0dHBkL2h0dHBkLTIu
Mi4zMS50YXIuZ3oubWQ1KSBdIFsKK1tTSEExXShodHRwczovL3d3dy5hcGFjaGUub3JnL2Rpc3Qv
aHR0cGQvaHR0cGQtMi4yLjMxLnRhci5nei5zaGExKSBdCiAKIC0gU291cmNlOgogW2h0dHBkLTIu
Mi4zMS50YXIuYnoyXShbcHJlZmVycmVkXS9odHRwZC9odHRwZC0yLjIuMzEudGFyLmJ6MikgWwot
W1BHUF0oaHR0cDovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0cGQvaHR0cGQtMi4yLjMxLnRhci5i
ejIuYXNjKSBdIFsKLVtNRDVdKGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9kaXN0L2h0dHBkL2h0dHBk
LTIuMi4zMS50YXIuYnoyLm1kNSkgXSBbCi1bU0hBMV0oaHR0cDovL3d3dy5hcGFjaGUub3JnL2Rp
c3QvaHR0cGQvaHR0cGQtMi4yLjMxLnRhci5iejIuc2hhMSkgXQorW1BHUF0oaHR0cHM6Ly93d3cu
YXBhY2hlLm9yZy9kaXN0L2h0dHBkL2h0dHBkLTIuMi4zMS50YXIuYnoyLmFzYykgXSBbCitbTUQ1
XShodHRwczovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0cGQvaHR0cGQtMi4yLjMxLnRhci5iejIu
bWQ1KSBdIFsKK1tTSEExXShodHRwczovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0cGQvaHR0cGQt
Mi4yLjMxLnRhci5iejIuc2hhMSkgXQogCiAtIFdpbjMyLCBOZXR3YXJlIG9yIE9TLzIgU291cmNl
IHdpdGggQ1IvTEYgbGluZSBlbmRpbmdzOgogW2h0dHBkLTIuMi4zMS13aW4zMi1zcmMuemlwXShb
cHJlZmVycmVkXS9odHRwZC9odHRwZC0yLjIuMzEtd2luMzItc3JjLnppcCkgWwotW1BHUF0oaHR0
cDovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0cGQvaHR0cGQtMi4yLjMxLXdpbjMyLXNyYy56aXAu
YXNjKSBdIFsKLVtNRDVdKGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9kaXN0L2h0dHBkL2h0dHBkLTIu
Mi4zMS13aW4zMi1zcmMuemlwLm1kNSkgXSBbCi1bU0hBMV0oaHR0cDovL3d3dy5hcGFjaGUub3Jn
L2Rpc3QvaHR0cGQvaHR0cGQtMi4yLjMxLXdpbjMyLXNyYy56aXAuc2hhMSkgXQorW1BHUF0oaHR0
cHM6Ly93d3cuYXBhY2hlLm9yZy9kaXN0L2h0dHBkL2h0dHBkLTIuMi4zMS13aW4zMi1zcmMuemlw
LmFzYykgXSBbCitbTUQ1XShodHRwczovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0cGQvaHR0cGQt
Mi4yLjMxLXdpbjMyLXNyYy56aXAubWQ1KSBdIFsKK1tTSEExXShodHRwczovL3d3dy5hcGFjaGUu
b3JnL2Rpc3QvaHR0cGQvaHR0cGQtMi4yLjMxLXdpbjMyLXNyYy56aXAuc2hhMSkgXQogCiAtIFtC
aW5hcmllc10oW3ByZWZlcnJlZF0vaHR0cGQvYmluYXJpZXMvKSAKIApAQCAtMTQwLDMxICsxNDAs
MzEgQEAgcHJvamVjdCBwYWdlXShodHRwOi8vaHR0cGQuYXBhY2hlLm9yZy9tb2RfZmNnaWQvKS4K
IC0gU291cmNlIGFzIGd6aXAgd2l0aCBMRiBsaW5lIGVuZGluZ3M6CiBbbW9kX2ZjZ2lkLTIuMy45
LnRhci5nel0oW3ByZWZlcnJlZF0vaHR0cGQvbW9kX2ZjZ2lkL21vZF9mY2dpZC0yLjMuOS50YXIu
Z3opCiBbCi1bUEdQXShodHRwOi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9tb2RfZmNnaWQv
bW9kX2ZjZ2lkLTIuMy45LnRhci5nei5hc2MpCitbUEdQXShodHRwczovL3d3dy5hcGFjaGUub3Jn
L2Rpc3QvaHR0cGQvbW9kX2ZjZ2lkL21vZF9mY2dpZC0yLjMuOS50YXIuZ3ouYXNjKQogXSBbCi1b
TUQ1XShodHRwOi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9tb2RfZmNnaWQvbW9kX2ZjZ2lk
LTIuMy45LnRhci5nei5tZDUpCitbTUQ1XShodHRwczovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0
cGQvbW9kX2ZjZ2lkL21vZF9mY2dpZC0yLjMuOS50YXIuZ3oubWQ1KQogXSBbCi1bU0hBMV0oaHR0
cDovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0cGQvbW9kX2ZjZ2lkL21vZF9mY2dpZC0yLjMuOS50
YXIuZ3ouc2hhMSkKK1tTSEExXShodHRwczovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0cGQvbW9k
X2ZjZ2lkL21vZF9mY2dpZC0yLjMuOS50YXIuZ3ouc2hhMSkKIF0KIAogLSBTb3VyY2UgYXMgYnoy
IHdpdGggTEYgbGluZSBlbmRpbmdzOgogW21vZF9mY2dpZC0yLjMuOS50YXIuYnoyXShbcHJlZmVy
cmVkXS9odHRwZC9tb2RfZmNnaWQvbW9kX2ZjZ2lkLTIuMy45LnRhci5iejIpCiBbCi1bUEdQXSho
dHRwOi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9tb2RfZmNnaWQvbW9kX2ZjZ2lkLTIuMy45
LnRhci5iejIuYXNjKQorW1BHUF0oaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9kaXN0L2h0dHBkL21v
ZF9mY2dpZC9tb2RfZmNnaWQtMi4zLjkudGFyLmJ6Mi5hc2MpCiBdIFsKLVtNRDVdKGh0dHA6Ly93
d3cuYXBhY2hlLm9yZy9kaXN0L2h0dHBkL21vZF9mY2dpZC9tb2RfZmNnaWQtMi4zLjkudGFyLmJ6
Mi5tZDUpCitbTUQ1XShodHRwczovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0cGQvbW9kX2ZjZ2lk
L21vZF9mY2dpZC0yLjMuOS50YXIuYnoyLm1kNSkKIF0gWwotW1NIQTFdKGh0dHA6Ly93d3cuYXBh
Y2hlLm9yZy9kaXN0L2h0dHBkL21vZF9mY2dpZC9tb2RfZmNnaWQtMi4zLjkudGFyLmJ6Mi5zaGEx
KQorW1NIQTFdKGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9tb2RfZmNnaWQvbW9k
X2ZjZ2lkLTIuMy45LnRhci5iejIuc2hhMSkKIF0KIAogLSBXaW4zMiwgTmV0d2FyZSBvciBPUy8y
IFNvdXJjZSB3aXRoIENSL0xGIGxpbmUgZW5kaW5nczoKIFttb2RfZmNnaWQtMi4zLjktY3JsZi56
aXBdKFtwcmVmZXJyZWRdL2h0dHBkL21vZF9mY2dpZC9tb2RfZmNnaWQtMi4zLjktY3JsZi56aXAp
CiBbCi1bUEdQXShodHRwOi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9tb2RfZmNnaWQvbW9k
X2ZjZ2lkLTIuMy45LWNybGYuemlwLmFzYykKK1tQR1BdKGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcv
ZGlzdC9odHRwZC9tb2RfZmNnaWQvbW9kX2ZjZ2lkLTIuMy45LWNybGYuemlwLmFzYykKIF0gWwot
W01ENV0oaHR0cDovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0cGQvbW9kX2ZjZ2lkL21vZF9mY2dp
ZC0yLjMuOS1jcmxmLnppcC5tZDUpCitbTUQ1XShodHRwczovL3d3dy5hcGFjaGUub3JnL2Rpc3Qv
aHR0cGQvbW9kX2ZjZ2lkL21vZF9mY2dpZC0yLjMuOS1jcmxmLnppcC5tZDUpCiBdIFsKLVtTSEEx
XShodHRwOi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9tb2RfZmNnaWQvbW9kX2ZjZ2lkLTIu
My45LWNybGYuemlwLnNoYTEpCitbU0hBMV0oaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9kaXN0L2h0
dHBkL21vZF9mY2dpZC9tb2RfZmNnaWQtMi4zLjktY3JsZi56aXAuc2hhMSkKIF0KIAogIyBBcGFj
aGUgRlRQIG1vZHVsZSBmb3IgQXBhY2hlIEhUVFAgU2VydmVyIHJlbGVhc2VkIGFzIDAuOS42LWJl
dGEgPHNwYW4+MjAwOC0xMC0wODwvc3Bhbj4gIyB7I21vZF9mdHB9CkBAIC0xNzksNDEgKzE3OSw0
MSBAQCBwYWdlXShodHRwOi8vaHR0cGQuYXBhY2hlLm9yZy9tb2RfZnRwLykuCiAtIFNvdXJjZSB3
aXRoIExGIGxpbmUgZW5kaW5ncyAoYnppcDIgY29tcHJlc3NlZCk6CiBbbW9kX2Z0cC0wLjkuNi1i
ZXRhLnRhci5iejJdKFtwcmVmZXJyZWRdL2h0dHBkL21vZF9mdHAvbW9kX2Z0cC0wLjkuNi1iZXRh
LnRhci5iejIpCiBbCi1bUEdQXShodHRwOi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9tb2Rf
ZnRwL21vZF9mdHAtMC45LjYtYmV0YS50YXIuYnoyLmFzYykKK1tQR1BdKGh0dHBzOi8vd3d3LmFw
YWNoZS5vcmcvZGlzdC9odHRwZC9tb2RfZnRwL21vZF9mdHAtMC45LjYtYmV0YS50YXIuYnoyLmFz
YykKIF0gWwotW1NIQTFdKGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9kaXN0L2h0dHBkL21vZF9mdHAv
bW9kX2Z0cC0wLjkuNi1iZXRhLnRhci5iejIuc2hhMSkKK1tTSEExXShodHRwczovL3d3dy5hcGFj
aGUub3JnL2Rpc3QvaHR0cGQvbW9kX2Z0cC9tb2RfZnRwLTAuOS42LWJldGEudGFyLmJ6Mi5zaGEx
KQogXSBbCi1bTUQ1XShodHRwOi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9tb2RfZnRwL21v
ZF9mdHAtMC45LjYtYmV0YS50YXIuYnoyLm1kNSkKK1tNRDVdKGh0dHBzOi8vd3d3LmFwYWNoZS5v
cmcvZGlzdC9odHRwZC9tb2RfZnRwL21vZF9mdHAtMC45LjYtYmV0YS50YXIuYnoyLm1kNSkKIF0K
IAogLSBTb3VyY2Ugd2l0aCBMRiBsaW5lIGVuZGluZ3MgKGd6aXAgY29tcHJlc3NlZCk6CiBbbW9k
X2Z0cC0wLjkuNi1iZXRhLnRhci5nel0oW3ByZWZlcnJlZF0vaHR0cGQvbW9kX2Z0cC9tb2RfZnRw
LTAuOS42LWJldGEudGFyLmd6KQogWwotW1BHUF0oaHR0cDovL3d3dy5hcGFjaGUub3JnL2Rpc3Qv
aHR0cGQvbW9kX2Z0cC9tb2RfZnRwLTAuOS42LWJldGEudGFyLmd6LmFzYykKK1tQR1BdKGh0dHBz
Oi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9tb2RfZnRwL21vZF9mdHAtMC45LjYtYmV0YS50
YXIuZ3ouYXNjKQogXSBbCi1bU0hBMV0oaHR0cDovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0cGQv
bW9kX2Z0cC9tb2RfZnRwLTAuOS42LWJldGEudGFyLmd6LnNoYTEpCitbU0hBMV0oaHR0cHM6Ly93
d3cuYXBhY2hlLm9yZy9kaXN0L2h0dHBkL21vZF9mdHAvbW9kX2Z0cC0wLjkuNi1iZXRhLnRhci5n
ei5zaGExKQogXSBbCi1bTUQ1XShodHRwOi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9tb2Rf
ZnRwL21vZF9mdHAtMC45LjYtYmV0YS50YXIuZ3oubWQ1KQorW01ENV0oaHR0cHM6Ly93d3cuYXBh
Y2hlLm9yZy9kaXN0L2h0dHBkL21vZF9mdHAvbW9kX2Z0cC0wLjkuNi1iZXRhLnRhci5nei5tZDUp
CiBdCiAKIC0gV2luMzIsIE5ldHdhcmUgb3IgT1MvMiBTb3VyY2Ugd2l0aCBDUi9MRiBsaW5lIGVu
ZGluZ3M6CiBbbW9kX2Z0cC0wLjkuNi1iZXRhLWNybGYuemlwXShbcHJlZmVycmVkXS9odHRwZC9t
b2RfZnRwL21vZF9mdHAtMC45LjYtYmV0YS1jcmxmLnppcCkKIFsKLVtQR1BdKGh0dHA6Ly93d3cu
YXBhY2hlLm9yZy9kaXN0L2h0dHBkL21vZF9mdHAvbW9kX2Z0cC0wLjkuNi1iZXRhLWNybGYuemlw
LmFzYykKK1tQR1BdKGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9tb2RfZnRwL21v
ZF9mdHAtMC45LjYtYmV0YS1jcmxmLnppcC5hc2MpCiBdIFsKLVtTSEExXShodHRwOi8vd3d3LmFw
YWNoZS5vcmcvZGlzdC9odHRwZC9tb2RfZnRwL21vZF9mdHAtMC45LjYtYmV0YS1jcmxmLnppcC5z
aGExKQorW1NIQTFdKGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9tb2RfZnRwL21v
ZF9mdHAtMC45LjYtYmV0YS1jcmxmLnppcC5zaGExKQogXSBbCi1bTUQ1XShodHRwOi8vd3d3LmFw
YWNoZS5vcmcvZGlzdC9odHRwZC9tb2RfZnRwL21vZF9mdHAtMC45LjYtYmV0YS1jcmxmLnppcC5t
ZDUpCitbTUQ1XShodHRwczovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0cGQvbW9kX2Z0cC9tb2Rf
ZnRwLTAuOS42LWJldGEtY3JsZi56aXAubWQ1KQogXQogCiAtIFdpbjMyIGJpbmFyeSBidWlsZCAo
dW56aXAgb3ZlciB0aGUgaW5zdGFsbGVkIEFwYWNoZSAyLjIgZGlyZWN0b3J5KToKIFttb2RfZnRw
LTAuOS42LWJldGEtd2luMzIteDg2LnppcF0oW3ByZWZlcnJlZF0vaHR0cGQvYmluYXJpZXMvd2lu
MzIvbW9kX2Z0cC0wLjkuNi1iZXRhLXdpbjMyLXg4Ni56aXApCiBbCi1bUEdQXShodHRwOi8vd3d3
LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9iaW5hcmllcy93aW4zMi9tb2RfZnRwLTAuOS42LWJldGEt
d2luMzIteDg2LnppcC5hc2MpCitbUEdQXShodHRwczovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0
cGQvYmluYXJpZXMvd2luMzIvbW9kX2Z0cC0wLjkuNi1iZXRhLXdpbjMyLXg4Ni56aXAuYXNjKQog
XSBbCi1bU0hBMV0oaHR0cDovL3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0cGQvYmluYXJpZXMvd2lu
MzIvbW9kX2Z0cC0wLjkuNi1iZXRhLXdpbjMyLXg4Ni56aXAuc2hhMSkKK1tTSEExXShodHRwczov
L3d3dy5hcGFjaGUub3JnL2Rpc3QvaHR0cGQvYmluYXJpZXMvd2luMzIvbW9kX2Z0cC0wLjkuNi1i
ZXRhLXdpbjMyLXg4Ni56aXAuc2hhMSkKIF0gWwotW01ENV0oaHR0cDovL3d3dy5hcGFjaGUub3Jn
L2Rpc3QvaHR0cGQvYmluYXJpZXMvd2luMzIvbW9kX2Z0cC0wLjkuNi1iZXRhLXdpbjMyLXg4Ni56
aXAubWQ1KQorW01ENV0oaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9kaXN0L2h0dHBkL2JpbmFyaWVz
L3dpbjMyL21vZF9mdHAtMC45LjYtYmV0YS13aW4zMi14ODYuemlwLm1kNSkKIF0KIAogIyBWZXJp
ZnkgdGhlIGludGVncml0eSBvZiB0aGUgZmlsZXMgIyB7I3ZlcmlmeX0KQEAgLTIyNCw3ICsyMjQs
NyBAQCBSZWxlYXNlc10oL2Rldi92ZXJpZmljYXRpb24uaHRtbCkgZm9yIG1vcmUgaW5mb3JtYQog
dmVyaWZ5IG91ciByZWxlYXNlcy4KIAogVGhlIFBHUCBzaWduYXR1cmVzIGNhbiBiZSB2ZXJpZmll
ZCB1c2luZyBQR1Agb3IgR1BHLiBGaXJzdCBkb3dubG9hZCB0aGUKLVtLRVlTXShodHRwOi8vd3d3
LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9LRVlTKSBhcyB3ZWxsIGFzIHRoZSBgYXNjYAorW0tFWVNd
KGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9odHRwZC9LRVlTKSBhcyB3ZWxsIGFzIHRoZSBg
YXNjYAogc2lnbmF0dXJlIGZpbGUgZm9yIHRoZSByZWxldmFudCBkaXN0cmlidXRpb24uIE1ha2Ug
c3VyZSB5b3UgZ2V0IHRoZXNlIGZpbGVzCiBmcm9tIHRoZSBbbWFpbiBkaXN0cmlidXRpb24gZGly
ZWN0b3J5XShodHRwOi8vd3d3LmFwYWNoZS5vcmcvZGlzdC9odHRwZC8pICwKIHJhdGhlciB0aGFu
IGZyb20gYSBtaXJyb3IuIFRoZW4gdmVyaWZ5IHRoZSBzaWduYXR1cmVzIHVzaW5nCg==
--001a114a8bf8ed19fc0529cb7146--

From dev-return-85249-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 23:17:58 2016
Return-Path: <dev-return-85249-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 23A7A183A8
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 23:17:58 +0000 (UTC)
Received: (qmail 80343 invoked by uid 500); 20 Jan 2016 23:17:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 80254 invoked by uid 500); 20 Jan 2016 23:17:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80244 invoked by uid 99); 20 Jan 2016 23:17:57 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 23:17:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id F263318017A
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 23:17:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 0WdxT4mS2i5C for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 23:17:56 +0000 (UTC)
Received: from mail-qg0-f41.google.com (mail-qg0-f41.google.com [209.85.192.41])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 79FF020CB8
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 23:17:55 +0000 (UTC)
Received: by mail-qg0-f41.google.com with SMTP id b35so19205290qge.0
        for <dev@httpd.apache.org>; Wed, 20 Jan 2016 15:17:55 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=UI/g+myyh9tS9jfJM2VJVhF29sCH+ajIEYBKTiuYSZU=;
        b=h8LE5cpvTV0SPv3iUnvq5yCmMHXmnW7UAPg2624R2PmWgShmovg6J+X/bbNMulm5g5
         qOje+fTvMksZKbqQE0sVU8AQ9jyBGc+uB5hiAzGxX3t7+7HgpIa2ZrNs4gR+Pw1c6DME
         JE5onkuvmlXKWI109aShvdehJoIJnmj9z7OfVwfMPTarEM9mAvYHJ7hdFW21a+kTRIEC
         MtpDWvu9f4+ZYpue0rLoNyQWy+U0p2vkBnOJ33XuiKVPecDO01xUpzC2oman3BGkB6IH
         MFui8g7gVlsm9XkJwRHzjPzdVLYPhi031ryq2zRtqIxLGLAPHqS3HnVshN9WKQUXzbJG
         5kkQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=UI/g+myyh9tS9jfJM2VJVhF29sCH+ajIEYBKTiuYSZU=;
        b=dztyC87war7M4M97ZFzL717HYLF+0RFBVUqcq278CC6OFpdexuTTFkAEA0Vdcbu3VV
         Pte1aUGzYrOFq+UgVZ/vxfDvFFwenWQ2JSBJUVMJiqtYjmNqshNc+Fm+8UWKVdI2PhNK
         HfEtoYZyfQWKujUPo/P1EoOHeP25S8rbRTZEyhDXKkxzMxKOrQIzaEiDVPbLS4RB9wE3
         2gCqdEBIQQZVPxnLvsCR/YU2jz743bfqBznAYpmecI2/pW5hJm317q1rJjlGpvHvzQ7+
         d16SuGLRXWMk3XyxeUExM1faNCEfqhyFdj/bEtzXvFxvSNdmtrQyObHkB5ejnzEW6HER
         w2aw==
X-Gm-Message-State: AG10YORstLH6dCZ7HsYocFEZElDuWOds8+PfmY0rMw88N5AtXJOSCfsIH1xnA5XMyosoDBld5JvQOTYyeFLieA==
MIME-Version: 1.0
X-Received: by 10.140.248.213 with SMTP id t204mr38785486qhc.97.1453331868555;
 Wed, 20 Jan 2016 15:17:48 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Wed, 20 Jan 2016 15:17:48 -0800 (PST)
In-Reply-To: <20160119154544.585663A0249@svn01-us-west.apache.org>
References: <20160119154544.585663A0249@svn01-us-west.apache.org>
Date: Thu, 21 Jan 2016 00:17:48 +0100
Message-ID: <CAKQ1sVPwDTSrYvy_kgTeskAa4_TKYt9mSrVp4UH1AtR9WLS+Jg@mail.gmail.com>
Subject: Re: svn commit: r1725551 - /httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Jan 19, 2016 at 4:45 PM,  <rjung@apache.org> wrote:
> Author: rjung
> Date: Tue Jan 19 15:45:44 2016
> New Revision: 1725551
>
> URL: http://svn.apache.org/viewvc?rev=1725551&view=rev
> Log:
> Improve spatch for APLOGNO a bit.
>
> Modified:
>     httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci
>
> Modified: httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci?rev=1725551&r1=1725550&r2=1725551&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci (original)
> +++ httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci Tue Jan 19 15:45:44 2016
> @@ -39,9 +39,10 @@ identifier level =~ "^APLOG_(EMERG|ALERT
>  expression rv, p, s, cert;
>  constant char[] fmt !~ "^APLOGNO";
>  identifier level =~ "^APLOG_(EMERG|ALERT|CRIT|ERR|WARNING|NOTICE|INFO|STARTUP|DEBUG)$";
> +identifier fn =~ "^ssl_log_x(|r|c)error$";

Typo "ssl_log_x(|r|c)" => "ssl_log_(x|r|c)"?

Regards,
Yann.

From dev-return-85250-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 23:19:14 2016
Return-Path: <dev-return-85250-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BBA9F183D5
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 23:19:14 +0000 (UTC)
Received: (qmail 84175 invoked by uid 500); 20 Jan 2016 23:19:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84089 invoked by uid 500); 20 Jan 2016 23:19:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84079 invoked by uid 99); 20 Jan 2016 23:19:14 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 23:19:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id B347CC0DC5
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 23:19:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Mds3eCvEkcpr for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 23:19:12 +0000 (UTC)
Received: from mail-pa0-f51.google.com (mail-pa0-f51.google.com [209.85.220.51])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id DB77C203BE
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 23:19:11 +0000 (UTC)
Received: by mail-pa0-f51.google.com with SMTP id cy9so12136361pac.0
        for <dev@httpd.apache.org>; Wed, 20 Jan 2016 15:19:11 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-type:content-transfer-encoding;
        bh=+AGFy5Fu2qYfjDBrqfUTeZx2sorf7q3YWe7DmgtixsU=;
        b=waOO34g0bkGvNJrq16WWGh8SS+BjHmUgNnpzMPxtlSS4kKQ9Lb4Dg5UOy0kEJzAX8P
         ilAjA3HYxkS6OKR9g59Tdfo0CNJ7wyrBzN2yu7w/VjiTzXhHTllSXUFyfOgqwhiZ4hxm
         VK8tqWO2PQx3hVzDJ7WnHS4nKharGDwdLgcqmBCzq0w0Jle7j7/Bke7GoXr8Y2oy/9j1
         YyEo00693xme2f1JBAHd+nRsmNWHKNcFXrW13Ppe0R9r3yzmq0HxIc8H4al57p3wdTB9
         MBBGhhpi2IU+Fme705tjPo9r2XtCNoCXTgIyWj9uekPfQeReML5/jLCfzeni9KzP3R9S
         viGQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:subject:to:references:from:message-id:date
         :user-agent:mime-version:in-reply-to:content-type
         :content-transfer-encoding;
        bh=+AGFy5Fu2qYfjDBrqfUTeZx2sorf7q3YWe7DmgtixsU=;
        b=FvceJx/Mhow8bQF+hZ7P74Himz9BI3ctOxRbCy/s/NWNA0U2TllknGYVASrmfNqEng
         RoXOFg9+4ZZOMKxPSGldT/xOAj4yzJC6d1jMuNW4ikzIOvwAgcP5wJ5I9mK+oBvumYm0
         YFtZsH7iDf/VH0LM01+yfUuEiA/oqpUL+rpIfcP+BF7MfYV0KZdhBQOsM5JGSwcEdb1I
         F+Qw/VagxMFqLJAttisn9/cboMpgmp4bc0hEehR3Dh0CVCP801yNCR4fpgPuhIeIMqfh
         1Uhxv9bWgOnGjusNKtX2XvhGPDT3umZLSfh86HBl2CvfWL4W/4jtgm+HKNrOeroe0Hex
         bM2w==
X-Gm-Message-State: ALoCoQnrKsYu2QVC/7fkYan27Xxbxmo9eHDddOrqZe6LEZkr4znjBq/mlL4jRIS2QLLtu9MdBvLpiBIoKHP7cH14De8zPtqShw==
X-Received: by 10.66.236.103 with SMTP id ut7mr56060002pac.4.1453331950648;
        Wed, 20 Jan 2016 15:19:10 -0800 (PST)
Received: from [192.168.1.8] (50-39-119-28.bvtn.or.frontiernet.net. [50.39.119.28])
        by smtp.gmail.com with ESMTPSA id 68sm50995969pfa.78.2016.01.20.15.19.09
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Wed, 20 Jan 2016 15:19:09 -0800 (PST)
Subject: Re: mod_status, server, protocol
To: dev@httpd.apache.org
References: <34A6947A-0068-4D0E-A533-03CBD02F8A1B@greenbytes.de>
From: Jacob Champion <champion.p@gmail.com>
Message-ID: <56A015EC.5090607@gmail.com>
Date: Wed, 20 Jan 2016 15:19:08 -0800
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <34A6947A-0068-4D0E-A533-03CBD02F8A1B@greenbytes.de>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit

Stefan,

(I'm coming at this from more of a user's perspective than a code 
reviewer's.)

On 01/20/2016 08:26 AM, Stefan Eissing wrote:
> - mod_status introduces a new columne 'Protocol' for displaying the connection protocol used.

I originally wondered at the purpose of the new Protocol column, since 
the Request line often has the protocol in it ('GET / HTTP/1.1'), but 
the Request line can be chopped off before the end, and things like 
WebSocket will display a request line containing HTTP/1.1 even though 
the connection has since been upgraded, so I think I like this 
"promotion" of Protocol into its own column.

Purely bikeshedding: the lack of a space between '(protocol)' and 
'[virtualhost]' in the no-table output is a bit strange to my eye.

> 3. http/1.1 clear and http/1.1+tls could be worth a differentiation, but not done for now

I agree that this would be useful. Most of the time you can figure it 
out from the context clues (the VHost port), but if you're running 
something more complicated like TLS Upgrade, having it called out 
explicitly would be good.

> 4. I was considering to show some HTTP/2 information in the "Request" field, but maybe that is only confusing?

What kind of information? I ask because I was wondering to myself what a 
WebSocket module might provide in its own status... since its "basic" 
status line (with your proposed changes) is likely to look something like

    Protocol       VHost            Request
    websocket+tls  example.com:443  GET /socket HTTP/1.1

which will stay static the entire time the connection is active. Some 
more dynamic information *might* be useful for troubleshooting...

--Jacob

From dev-return-85251-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 20 23:35:35 2016
Return-Path: <dev-return-85251-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EEDFB18520
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 20 Jan 2016 23:35:34 +0000 (UTC)
Received: (qmail 29778 invoked by uid 500); 20 Jan 2016 23:35:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29716 invoked by uid 500); 20 Jan 2016 23:35:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29706 invoked by uid 99); 20 Jan 2016 23:35:34 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Jan 2016 23:35:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 1660BC068B
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 23:35:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.002
X-Spam-Level:
X-Spam-Status: No, score=-0.002 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 4DwEZ6-4LrMb for <dev@httpd.apache.org>;
	Wed, 20 Jan 2016 23:35:32 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 3459F20D7C
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 23:35:25 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0KNZNfV023213
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 00:35:24 +0100 (CET)
Subject: Re: svn commit: r1725551 -
 /httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci
To: dev@httpd.apache.org
References: <20160119154544.585663A0249@svn01-us-west.apache.org>
 <CAKQ1sVPwDTSrYvy_kgTeskAa4_TKYt9mSrVp4UH1AtR9WLS+Jg@mail.gmail.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56A019B8.80902@kippdata.de>
Date: Thu, 21 Jan 2016 00:35:20 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVPwDTSrYvy_kgTeskAa4_TKYt9mSrVp4UH1AtR9WLS+Jg@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 21.01.2016 um 00:17 schrieb Yann Ylavic:
> On Tue, Jan 19, 2016 at 4:45 PM,  <rjung@apache.org> wrote:
>> Author: rjung
>> Date: Tue Jan 19 15:45:44 2016
>> New Revision: 1725551
>>
>> URL: http://svn.apache.org/viewvc?rev=1725551&view=rev
>> Log:
>> Improve spatch for APLOGNO a bit.
>>
>> Modified:
>>      httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci
>>
>> Modified: httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci?rev=1725551&r1=1725550&r2=1725551&view=diff
>> ==============================================================================
>> --- httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci (original)
>> +++ httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci Tue Jan 19 15:45:44 2016
>> @@ -39,9 +39,10 @@ identifier level =~ "^APLOG_(EMERG|ALERT
>>   expression rv, p, s, cert;
>>   constant char[] fmt !~ "^APLOGNO";
>>   identifier level =~ "^APLOG_(EMERG|ALERT|CRIT|ERR|WARNING|NOTICE|INFO|STARTUP|DEBUG)$";
>> +identifier fn =~ "^ssl_log_x(|r|c)error$";
>
> Typo "ssl_log_x(|r|c)" => "ssl_log_(x|r|c)"?

Close: the functions are

- ssl_log_xerror
- ssl_log_cxerror
- ssl_log_rxerror

so "xerror" is the fixed suffix. Should be fixed now by r1725837.

Thanks and regards,

Rainer


From dev-return-85252-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 00:33:55 2016
Return-Path: <dev-return-85252-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 51834187CE
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 00:33:55 +0000 (UTC)
Received: (qmail 70273 invoked by uid 500); 21 Jan 2016 00:33:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70214 invoked by uid 500); 21 Jan 2016 00:33:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70204 invoked by uid 99); 21 Jan 2016 00:33:54 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 00:33:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 54EF81A0121
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 00:33:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Fn1cL6eQ71LN for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 00:33:48 +0000 (UTC)
Received: from mail-qk0-f181.google.com (mail-qk0-f181.google.com [209.85.220.181])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 223404293A
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 00:33:48 +0000 (UTC)
Received: by mail-qk0-f181.google.com with SMTP id o6so10228666qkc.2
        for <dev@httpd.apache.org>; Wed, 20 Jan 2016 16:33:48 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=v5JMo1U/4tbYO4EHzxp9lYQoA0b/A2lSooNuO86rE4k=;
        b=e/PsrA/5BDzkheEfDWEDuA0FMqbj4DZRM655lVde3jDrFa5s+HnxhPqE7ZxH0/v1ag
         1z6oWTDfY6CzFarGuwsM+mQz+lGowIw0mjnJM3Gn69p7ySuNx1Sf6+sDpbyX+5oVxwKV
         aBeCIHc/b9pPsHrhky70/OBa876UFguwlerkiFFX04ZUfWW8YFESI1VTvXy5cS/Baos8
         fOQCULQKRIf2TBiudMUGjQdt+QyGW36LpLJVFGJT05JpjCJbmG+Z856yO936iKRJacl+
         sU/2HazK6eU/xZAyGiySpqxGPPZgo/etXFpI3D1xEZ6ZZCOXgoCmVmP4cD6NCVz3K5Xn
         L0GQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=v5JMo1U/4tbYO4EHzxp9lYQoA0b/A2lSooNuO86rE4k=;
        b=NU2gZrG1YjVB+wF8xxYK2ZC+mCkCVh908EYS1K9HgUKqzCudCPlN1T81T4Wyr5GteH
         dgbZutf+0+9/CAhDfogKbAXbpA6a4hum6MXSizBnyWCNcnZVanjftZgD2QSS4W3svB6B
         HHkaNtF5xZIp0zt14m/nKL2V21XcZKWB1lJmDzINJPXjoQNScr6zQcgMc5+jPcV+C6ei
         r96Xu9lGW+QX0Uq3fPrmZr15hkCnzi2BJw7Pc9NPsyEa8MCAlHchoYwm7aEAD1zNqTxK
         J6xLq84m/UmTbrw2TqhCOlxsFph31ITXENS7Fj2CG+kRCBRLuq5lz52xK3X5GbPZx1j9
         BCJA==
X-Gm-Message-State: ALoCoQmD2jf6PxRQ6Z6+MwyJyYjN8iOLfdF626t4s+HiRrf/oRWnSS1rLMwJHcVtJNgTr8acWWlEGYHXo4lx6IXv5zbNXlh7TQ==
MIME-Version: 1.0
X-Received: by 10.55.73.68 with SMTP id w65mr48070841qka.68.1453336427914;
 Wed, 20 Jan 2016 16:33:47 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Wed, 20 Jan 2016 16:33:47 -0800 (PST)
In-Reply-To: <56A019B8.80902@kippdata.de>
References: <20160119154544.585663A0249@svn01-us-west.apache.org>
	<CAKQ1sVPwDTSrYvy_kgTeskAa4_TKYt9mSrVp4UH1AtR9WLS+Jg@mail.gmail.com>
	<56A019B8.80902@kippdata.de>
Date: Thu, 21 Jan 2016 01:33:47 +0100
Message-ID: <CAKQ1sVOM+6hycEyWYDPpVbvHp7cXf3dCHF-h5gm4qx+nqeXL=g@mail.gmail.com>
Subject: Re: svn commit: r1725551 - /httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Jan 21, 2016 at 12:35 AM, Rainer Jung <rainer.jung@kippdata.de> wrote:
> Am 21.01.2016 um 00:17 schrieb Yann Ylavic:
>>
>> On Tue, Jan 19, 2016 at 4:45 PM,  <rjung@apache.org> wrote:
>>>
>>> Author: rjung
>>> Date: Tue Jan 19 15:45:44 2016
>>> New Revision: 1725551
>>>
>>> URL: http://svn.apache.org/viewvc?rev=1725551&view=rev
>>> Log:
>>> Improve spatch for APLOGNO a bit.
>>>
>>> Modified:
>>>      httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci
>>>
>>> Modified: httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci
>>> URL:
>>> http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci?rev=1725551&r1=1725550&r2=1725551&view=diff
>>>
>>> ==============================================================================
>>> --- httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci
>>> (original)
>>> +++ httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci Tue Jan
>>> 19 15:45:44 2016
>>> @@ -39,9 +39,10 @@ identifier level =~ "^APLOG_(EMERG|ALERT
>>>   expression rv, p, s, cert;
>>>   constant char[] fmt !~ "^APLOGNO";
>>>   identifier level =~
>>> "^APLOG_(EMERG|ALERT|CRIT|ERR|WARNING|NOTICE|INFO|STARTUP|DEBUG)$";
>>> +identifier fn =~ "^ssl_log_x(|r|c)error$";
>>
>>
>> Typo "ssl_log_x(|r|c)" => "ssl_log_(x|r|c)"?
>
>
> Close: the functions are
>
> - ssl_log_xerror
> - ssl_log_cxerror
> - ssl_log_rxerror

Ah, right.

>
> so "xerror" is the fixed suffix. Should be fixed now by r1725837.

"^ssl_log_(|r|c)xerror$" => "^ssl_log_(r|c)?xerror$"?
Or is it some special coccinelle regex syntax?

Thanks,
Yann.

From dev-return-85253-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 02:18:07 2016
Return-Path: <dev-return-85253-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D238918C24
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 02:18:07 +0000 (UTC)
Received: (qmail 87414 invoked by uid 500); 21 Jan 2016 02:18:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 87332 invoked by uid 500); 21 Jan 2016 02:18:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87322 invoked by uid 99); 21 Jan 2016 02:18:06 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 02:18:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 55C01C09B6
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 02:18:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=gbiv.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id raTQ473CR7GD for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 02:18:05 +0000 (UTC)
Received: from homiemail-a29.g.dreamhost.com (sub4.mail.dreamhost.com [69.163.253.135])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 8081220D7F
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 02:18:05 +0000 (UTC)
Received: from homiemail-a29.g.dreamhost.com (localhost [127.0.0.1])
	by homiemail-a29.g.dreamhost.com (Postfix) with ESMTP id 0C106674058
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 18:18:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed; d=gbiv.com; h=content-type
	:mime-version:subject:from:in-reply-to:date
	:content-transfer-encoding:message-id:references:to; s=gbiv.com;
	 bh=Yk4RGk+yx9jjDur+tRD5EFVVbt8=; b=X15L0vtQI1wrVFs34TJoOHIMXtgP
	JO0CBvxUDtYB+B3mqKxNkSTnxe9nLrvE+cuz7uF8S1oO/wHdgnQRXZE4m0LM0u/t
	RzY3ZP26s9stke+aWHtB4kczo3SQbf6Xm1Ck+j3V/2pvn7qM3vpJQR7Sj7rVpZe9
	CJt/eQazFDgQwBo=
Received: from [192.168.1.2] (ip68-228-71-159.oc.oc.cox.net [68.228.71.159])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	(Authenticated sender: fielding@gbiv.com)
	by homiemail-a29.g.dreamhost.com (Postfix) with ESMTPSA id E32DD674057
	for <dev@httpd.apache.org>; Wed, 20 Jan 2016 18:18:04 -0800 (PST)
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1725349 - /httpd/httpd/trunk/docs/manual/env.xml
From: "Roy T. Fielding" <fielding@gbiv.com>
In-Reply-To: <20160118211447.16BFB3A0046@svn01-us-west.apache.org>
Date: Wed, 20 Jan 2016 18:18:03 -0800
Content-Transfer-Encoding: quoted-printable
Message-Id: <04161A59-3FCD-4338-AA0A-DA85E2068F37@gbiv.com>
References: <20160118211447.16BFB3A0046@svn01-us-west.apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

I don't understand this comment.  RFC7230 doesn't recommend sending =
HTTP/1.0.
It certainly allows it as a workaround for a broken client, but =
force-response-1.0
is not recommended for general use.

....Roy

> On Jan 18, 2016, at 1:14 PM, covener@apache.org wrote:
>=20
> Author: covener
> Date: Mon Jan 18 21:14:46 2016
> New Revision: 1725349
>=20
> URL: http://svn.apache.org/viewvc?rev=3D1725349&view=3Drev
> Log:
> emphasize http/1.0 clients, mention RFC7230 calling this
> envvar a SHOULD.
>=20
> --This line, and those below, will be inored--
>=20
> M    env.xml
>=20
> Modified:
>    httpd/httpd/trunk/docs/manual/env.xml
>=20
> Modified: httpd/httpd/trunk/docs/manual/env.xml
> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/env.xml?rev=3D1=
725349&r1=3D1725348&r2=3D1725349&view=3Ddiff
> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
> --- httpd/httpd/trunk/docs/manual/env.xml (original)
> +++ httpd/httpd/trunk/docs/manual/env.xml Mon Jan 18 21:14:46 2016
> @@ -322,12 +322,15 @@
>     <section id=3D"force-response">
>         <title>force-response-1.0</title>
>=20
> -      <p>This forces an HTTP/1.0 response to clients making an =
HTTP/1.0
> -      request. It was originally
> -      implemented as a result of a problem with AOL's proxies. Some
> +      <p>This forces an HTTP/1.0 response to clients making an=20
> +      <em>HTTP/1.0</em> request. It was originally
> +      implemented as a result of a problem with AOL's proxies during =
the
> +      early days of HTTP/1.1. Some
>       HTTP/1.0 clients may not behave correctly when given an HTTP/1.1
> -      response, and this can be used to interoperate with them.</p>
> -
> +      response, and this can be used to interoperate with them.  =
Later
> +      revisions of the HTTP/1.1 spec (RFC 7230) recommend this =
behavior=20
> +      for HTTP/1.0 clients.</p>
> +=20
>     </section>
>=20
>     <section id=3D"gzip-only-text-html">
>=20
>=20


From dev-return-85254-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 02:22:16 2016
Return-Path: <dev-return-85254-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 774F218C5A
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 02:22:16 +0000 (UTC)
Received: (qmail 2485 invoked by uid 500); 21 Jan 2016 02:22:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2395 invoked by uid 500); 21 Jan 2016 02:22:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2385 invoked by uid 99); 21 Jan 2016 02:22:16 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 02:22:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 9C5E1C0AAA
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 02:22:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 7gHlPnC67sMr for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 02:22:09 +0000 (UTC)
Received: from mail-ig0-f173.google.com (mail-ig0-f173.google.com [209.85.213.173])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 4A182429A6
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 02:22:09 +0000 (UTC)
Received: by mail-ig0-f173.google.com with SMTP id z14so114454065igp.0
        for <dev@httpd.apache.org>; Wed, 20 Jan 2016 18:22:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=v/w8z3tr5pqgs0ZOHKC1jtqbsCdnAzpKNtriiwe8iAo=;
        b=r82srFLEYZB1K7L2e8SM7PEQogzZG7F7Xm5p5kJCiDiIyG2E4Uptqaez5zRQC3Flg1
         CHWnEF8UAUbNaKrIoTpc28HytU541LzGCOJCQo+AqKYB3neSdP3jHrGH07TsaJCYtwpq
         HHZfuGXmaEAJzZSCZ5PDeOSG08cFMEUxtQpABuxnFh/R1BNbcT8jQaDkgib+cPzuorbR
         CUwgCb7+a3LF1F2+qVYUocjGEmdZXgwpuQS8NAXPSjz0Hu5oVTr/E3edTRHDw2YLfb/O
         Ax12MYYlLjFOndYhrmuHQDRl1Da/mgHPDYv08uA3yO/cSxzCR1Ep3AfSKlbX0/WC9Ff+
         vuuQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=v/w8z3tr5pqgs0ZOHKC1jtqbsCdnAzpKNtriiwe8iAo=;
        b=Gh8coHMlkx1GEtC9OhAu8ajCkXQ4RFNWDAROJYoTdbhVVBMBBO3s3q0TKkY3f1IV19
         iF9yvJeyl9CZgz0a9ulSRSHCthuW3+HvKqRsjel54AxdhPzFdK3m61e0E2phjV977f+D
         7X7HDGUgOzWGk3bpsRzxavWwNi7XqhFHbFVhXxiHK54EEUpY8cw8/Ojgr+3WshVaRSvK
         6iXjnjg3Wvk3wXnyBWsFTTaDiR8wQxIm8OUu454opfqr2Q0HWoJO6Tc0JOeSrg3yJC3+
         7aqSWipN/2Q93DLv3AdwSJfhgH22LaxPbIdAPSo0rvqFACXQO9D7bGwaF6M+oAiUwR95
         BGEQ==
X-Gm-Message-State: AG10YOSlS6vEBOP7jhYNQUiNuIBoXi1cFSi5V3EtJP9dtwzqsbzPVRiKUk8nf9fb3X4YExSfuNU4rbbBjwk/0w==
MIME-Version: 1.0
X-Received: by 10.50.3.39 with SMTP id 7mr6435752igz.56.1453342928942; Wed, 20
 Jan 2016 18:22:08 -0800 (PST)
Received: by 10.64.72.6 with HTTP; Wed, 20 Jan 2016 18:22:08 -0800 (PST)
In-Reply-To: <04161A59-3FCD-4338-AA0A-DA85E2068F37@gbiv.com>
References: <20160118211447.16BFB3A0046@svn01-us-west.apache.org>
	<04161A59-3FCD-4338-AA0A-DA85E2068F37@gbiv.com>
Date: Wed, 20 Jan 2016 21:22:08 -0500
Message-ID: <CALK=YjM40jvPu5d=nwYjbSLfP03tO=mC3hZb6RWZX=VkudGXAg@mail.gmail.com>
Subject: Re: svn commit: r1725349 - /httpd/httpd/trunk/docs/manual/env.xml
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Jan 20, 2016 at 9:18 PM, Roy T. Fielding <fielding@gbiv.com> wrote:
> I don't understand this comment.  RFC7230 doesn't recommend sending HTTP/1.0.
> It certainly allows it as a workaround for a broken client, but force-response-1.0
> is not recommended for general use.


You're right, I missed "major" in "major version" in 7230. Will axe it.

From dev-return-85255-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 04:37:07 2016
Return-Path: <dev-return-85255-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E1DF41803C
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 04:37:07 +0000 (UTC)
Received: (qmail 98018 invoked by uid 500); 21 Jan 2016 04:37:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97947 invoked by uid 500); 21 Jan 2016 04:37:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97936 invoked by uid 99); 21 Jan 2016 04:37:07 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 04:37:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D39C818055F
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 04:37:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.553
X-Spam-Level:
X-Spam-Status: No, score=-0.553 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id Z4zQGc0Y7HVr for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 04:37:01 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id ED19C20D37
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 04:37:00 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0L4awQ4024712
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 05:36:59 +0100 (CET)
Subject: Re: svn commit: r1725551 -
 /httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci
To: dev@httpd.apache.org
References: <20160119154544.585663A0249@svn01-us-west.apache.org>
 <CAKQ1sVPwDTSrYvy_kgTeskAa4_TKYt9mSrVp4UH1AtR9WLS+Jg@mail.gmail.com>
 <56A019B8.80902@kippdata.de>
 <CAKQ1sVOM+6hycEyWYDPpVbvHp7cXf3dCHF-h5gm4qx+nqeXL=g@mail.gmail.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56A06066.2020208@kippdata.de>
Date: Thu, 21 Jan 2016 05:36:54 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVOM+6hycEyWYDPpVbvHp7cXf3dCHF-h5gm4qx+nqeXL=g@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 21.01.2016 um 01:33 schrieb Yann Ylavic:
> On Thu, Jan 21, 2016 at 12:35 AM, Rainer Jung <rainer.jung@kippdata.de> wrote:
>> Am 21.01.2016 um 00:17 schrieb Yann Ylavic:
>>>
>>> On Tue, Jan 19, 2016 at 4:45 PM,  <rjung@apache.org> wrote:
>>>>
>>>> Author: rjung
>>>> Date: Tue Jan 19 15:45:44 2016
>>>> New Revision: 1725551
>>>>
>>>> URL: http://svn.apache.org/viewvc?rev=1725551&view=rev
>>>> Log:
>>>> Improve spatch for APLOGNO a bit.
>>>>
>>>> Modified:
>>>>       httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci
>>>>
>>>> Modified: httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci
>>>> URL:
>>>> http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci?rev=1725551&r1=1725550&r2=1725551&view=diff
>>>>
>>>> ==============================================================================
>>>> --- httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci
>>>> (original)
>>>> +++ httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci Tue Jan
>>>> 19 15:45:44 2016
>>>> @@ -39,9 +39,10 @@ identifier level =~ "^APLOG_(EMERG|ALERT
>>>>    expression rv, p, s, cert;
>>>>    constant char[] fmt !~ "^APLOGNO";
>>>>    identifier level =~
>>>> "^APLOG_(EMERG|ALERT|CRIT|ERR|WARNING|NOTICE|INFO|STARTUP|DEBUG)$";
>>>> +identifier fn =~ "^ssl_log_x(|r|c)error$";
>>>
>>>
>>> Typo "ssl_log_x(|r|c)" => "ssl_log_(x|r|c)"?
>>
>>
>> Close: the functions are
>>
>> - ssl_log_xerror
>> - ssl_log_cxerror
>> - ssl_log_rxerror
>
> Ah, right.
>
>>
>> so "xerror" is the fixed suffix. Should be fixed now by r1725837.
>
> "^ssl_log_(|r|c)xerror$" => "^ssl_log_(r|c)?xerror$"?
> Or is it some special coccinelle regex syntax?

I have chosen the same regexp style as higher above in the same file. 
"(|r|c) means either empty, or "r" or "c". So it results in the same 
matches like your proposed solution. Nothing coccinelle specific.

Regards,

Rainer


From dev-return-85256-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 10:19:58 2016
Return-Path: <dev-return-85256-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0F8F718B05
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 10:19:58 +0000 (UTC)
Received: (qmail 88555 invoked by uid 500); 21 Jan 2016 10:19:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88493 invoked by uid 500); 21 Jan 2016 10:19:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88483 invoked by uid 99); 21 Jan 2016 10:19:57 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 10:19:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id A66D11A0124
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 10:19:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.654
X-Spam-Level:
X-Spam-Status: No, score=-0.654 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Y6aoYEk3;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=C7cuxfMH
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 2sHitm2biMZB for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 10:19:50 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id C480C20D77
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 10:19:49 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 411E415A0E58; Thu, 21 Jan 2016 11:19:41 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453371581; bh=22ABlntsdI0CplJQ6J+KQUSPk7hmFi/r2GCjFggfEfM=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=Y6aoYEk3IALHDxEX3uffmCI5Z8ffzI4l7EyaOKBy9f07MYkXoU9FMCRAAp33wI4XL
	 jQA3v2QUu3t+NYRRf5+xPFhhJqrGP9fwRH0pga/teDxdSJB50ZIJ/PfO1c4twma+sw
	 iO0Yn3Qkej7UAulksO6tiU1twg37Nnug9VkYyNGA=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id ADE9215A056B
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 11:19:39 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453371579; bh=22ABlntsdI0CplJQ6J+KQUSPk7hmFi/r2GCjFggfEfM=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=C7cuxfMHzn3yyklCQFK4DAuu306zziKeTPTR8KQ2pWrPnobnYouIkOsvrkq9CqL6b
	 vh6iiQ2amET3034nHxKsKa7HLa8jxKUAqGI+65S3LCILwWsvacJiHti8bpJKJ2P6XW
	 D6OUxm6sgFosZHrH7pq8cxQZHn0xpGg53ByrL004=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: socket timeouts
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVPs0uWjmW_gV+PW0aRPJZN+kuBe8wt2Wpz0YXPK0DBnkw@mail.gmail.com>
Date: Thu, 21 Jan 2016 11:19:39 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <A77B53A2-9727-446F-8E0B-5695F7AF9A46@greenbytes.de>
References: <245C07C8-FDE6-4793-8324-484BCA4173D3@greenbytes.de> <CAKQ1sVPs0uWjmW_gV+PW0aRPJZN+kuBe8wt2Wpz0YXPK0DBnkw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Thanks, Yann! First tests show that that change does not help, though. =
Will experiment with tweaking ssl_engine_io some...

> Am 20.01.2016 um 21:50 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Tue, Jan 19, 2016 at 4:52 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>>=20
>> I experimented with setting socket timeouts to 1 second during
>> HTTP/2's keepalive reading and closing the connection after n such
>> TIMEUP returns. That works nicely on cleartext connections, but
>> https:// return APR_EOF on reads after the first APR_ETIMEUP. Am I
>> seeing ghosts or is that something in SSL that regards timed-out
>> reads as basically broken?
>=20
> Maybe mod_ssl could preserve downstream status when it's already an =
error?
>=20
> Index: modules/ssl/ssl_engine_io.c
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> --- modules/ssl/ssl_engine_io.c    (revision 1725250)
> +++ modules/ssl/ssl_engine_io.c    (working copy)
> @@ -679,7 +679,7 @@ static apr_status_t ssl_io_input_read(bio_filter_i
>                 if (*len > 0) {
>                     inctx->rc =3D APR_SUCCESS;
>                 }
> -                else {
> +                else if (inctx->rc =3D=3D APR_SUCCESS) {
>                     inctx->rc =3D APR_EOF;
>                 }
>                 break;
> --


From dev-return-85257-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 10:52:47 2016
Return-Path: <dev-return-85257-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BC86A18C02
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 10:52:47 +0000 (UTC)
Received: (qmail 53850 invoked by uid 500); 21 Jan 2016 10:52:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53781 invoked by uid 500); 21 Jan 2016 10:52:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53769 invoked by uid 99); 21 Jan 2016 10:52:46 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 10:52:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 648DDC1547
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 10:52:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.699
X-Spam-Level:
X-Spam-Status: No, score=0.699 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=CJiOzJmt;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=MGUIwer3
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 5PaggG2KIxPE for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 10:52:38 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 9CC16215D6
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 10:52:37 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 111C015A0E58; Thu, 21 Jan 2016 11:52:29 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453373549; bh=irlwfNkwLhg9DOOD3vDqqi5WS7bvwX75G5STX1l9hpw=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=CJiOzJmtO1cMdEUD2o3F14R3faP43ztGbuvsuXLj1aNfcpw/cr0QSGTUG+t+RVMiC
	 osL+tDLzdMlnuGgHS3jKU+t4dtH9P/9pw7DxRuDLNACjlWe27cW5XyTd5mId2+/Khw
	 eh/tjHw8Rf1hUPaJAEno1Dn2qsFDGKLuuMQ8uuRw=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id AC2E715A0577
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 11:52:27 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453373547; bh=irlwfNkwLhg9DOOD3vDqqi5WS7bvwX75G5STX1l9hpw=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=MGUIwer3VryYN5gBCP2mRLLaEWzt93DCEyPEFcIWLKo0cE0PV01058zEYhK1aWCE/
	 I198u5eYgrAjpWCnDf+HfiE0E5oY3eS6EQqonC7b/o5AMOXMJbt/gPmdrATWzJ6/cx
	 7BOjnjZ4+PWAhdDX7kUdg3CX7oAzPYh8lvzFg784=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: socket timeouts
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVPs0uWjmW_gV+PW0aRPJZN+kuBe8wt2Wpz0YXPK0DBnkw@mail.gmail.com>
Date: Thu, 21 Jan 2016 11:52:27 +0100
Content-Transfer-Encoding: 7bit
Message-Id: <371B7745-1143-40CB-BD11-79AEFD537895@greenbytes.de>
References: <245C07C8-FDE6-4793-8324-484BCA4173D3@greenbytes.de> <CAKQ1sVPs0uWjmW_gV+PW0aRPJZN+kuBe8wt2Wpz0YXPK0DBnkw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

However seems to do it. Anyone for/against applying it?

===================================================================
--- modules/ssl/ssl_engine_io.c	(revision 1725894)
+++ modules/ssl/ssl_engine_io.c	(working copy)
@@ -506,6 +506,12 @@
             return -1;
         }
 
+        if (block == APR_BLOCK_READ 
+            && APR_STATUS_IS_TIMEUP(inctx->rc)
+            && APR_BRIGADE_EMPTY(inctx->bb)) {
+            /* don't give up, just return the timeout */
+            return -1;
+        }
         if (inctx->rc != APR_SUCCESS) {
             /* Unexpected errors discard the brigade */

> Am 20.01.2016 um 21:50 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
> 
> On Tue, Jan 19, 2016 at 4:52 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> 
>> I experimented with setting socket timeouts to 1 second during
>> HTTP/2's keepalive reading and closing the connection after n such
>> TIMEUP returns. That works nicely on cleartext connections, but
>> https:// return APR_EOF on reads after the first APR_ETIMEUP. Am I
>> seeing ghosts or is that something in SSL that regards timed-out
>> reads as basically broken?
> 
> Maybe mod_ssl could preserve downstream status when it's already an error?
> 
> Index: modules/ssl/ssl_engine_io.c
> ===================================================================
> --- modules/ssl/ssl_engine_io.c    (revision 1725250)
> +++ modules/ssl/ssl_engine_io.c    (working copy)
> @@ -679,7 +679,7 @@ static apr_status_t ssl_io_input_read(bio_filter_i
>                 if (*len > 0) {
>                     inctx->rc = APR_SUCCESS;
>                 }
> -                else {
> +                else if (inctx->rc == APR_SUCCESS) {
>                     inctx->rc = APR_EOF;
>                 }
>                 break;
> --


From dev-return-85258-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 11:03:26 2016
Return-Path: <dev-return-85258-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7E3A318C6B
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 11:03:26 +0000 (UTC)
Received: (qmail 87632 invoked by uid 500); 21 Jan 2016 11:03:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 87561 invoked by uid 500); 21 Jan 2016 11:03:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87551 invoked by uid 99); 21 Jan 2016 11:03:25 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 11:03:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 25823C0860
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 11:03:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.655
X-Spam-Level:
X-Spam-Status: No, score=-0.655 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=UkMWpA9i;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=UkMWpA9i
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 3aHzKZTMhc_l for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 11:03:24 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id B29E243EF5
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 11:03:23 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 350B315A0E58; Thu, 21 Jan 2016 12:03:22 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453374202; bh=EfrRWr9PTekYuIvuH+kXn62bY9m7MIU1Fj0aSnN67J0=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=UkMWpA9iOpTifr+4RmqvfKNVYr6Lw++YSZKk9rAPyZs171CSh/eYOLlTWNMNpb3g7
	 estBi/7i3HXfppIA8j0abLVoG3nKCbaGsEPyjAnKF6bdW85ibu4NTQ4V8wc+ZRWGkt
	 swE8RQanZ7sBokROsSu0GwDZ7PkY31PPLHfC2q4k=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 01C8C15A0230
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 12:03:21 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453374202; bh=EfrRWr9PTekYuIvuH+kXn62bY9m7MIU1Fj0aSnN67J0=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=UkMWpA9iOpTifr+4RmqvfKNVYr6Lw++YSZKk9rAPyZs171CSh/eYOLlTWNMNpb3g7
	 estBi/7i3HXfppIA8j0abLVoG3nKCbaGsEPyjAnKF6bdW85ibu4NTQ4V8wc+ZRWGkt
	 swE8RQanZ7sBokROsSu0GwDZ7PkY31PPLHfC2q4k=
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_status, server, protocol
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56A015EC.5090607@gmail.com>
Date: Thu, 21 Jan 2016 12:03:21 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <63800386-9157-4533-8E8A-B5E07D2CC833@greenbytes.de>
References: <34A6947A-0068-4D0E-A533-03CBD02F8A1B@greenbytes.de> <56A015EC.5090607@gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Jacob,

> Am 21.01.2016 um 00:19 schrieb Jacob Champion <champion.p@gmail.com>:
>=20
> Stefan,
>=20
> (I'm coming at this from more of a user's perspective than a code =
reviewer's.)
>=20
> On 01/20/2016 08:26 AM, Stefan Eissing wrote:
>> - mod_status introduces a new columne 'Protocol' for displaying the =
connection protocol used.
>=20
> I originally wondered at the purpose of the new Protocol column, since =
the Request line often has the protocol in it ('GET / HTTP/1.1'), but =
the Request line can be chopped off before the end, and things like =
WebSocket will display a request line containing HTTP/1.1 even though =
the connection has since been upgraded, so I think I like this =
"promotion" of Protocol into its own column.
>=20
> Purely bikeshedding: the lack of a space between '(protocol)' and =
'[virtualhost]' in the no-table output is a bit strange to my eye.

Will change.

>> 3. http/1.1 clear and http/1.1+tls could be worth a differentiation, =
but not done for now
>=20
> I agree that this would be useful. Most of the time you can figure it =
out from the context clues (the VHost port), but if you're running =
something more complicated like TLS Upgrade, having it called out =
explicitly would be good.

It should be a separate column. Since protocol upgrades may happen =
inside a TLS connection, the protocol does not necessarily reflect the =
use of TLS, as is the case with HTTP/2. So, a "tls+protocol" seems a =
good content.

>> 4. I was considering to show some HTTP/2 information in the "Request" =
field, but maybe that is only confusing?
>=20
> What kind of information? I ask because I was wondering to myself what =
a WebSocket module might provide in its own status... since its "basic" =
status line (with your proposed changes) is likely to look something =
like
>=20
>   Protocol       VHost            Request
>   websocket+tls  example.com:443  GET /socket HTTP/1.1
>=20
> which will stay static the entire time the connection is active. Some =
more dynamic information *might* be useful for troubleshooting...

For HTTP/2, I would like to reflect at least the # of open requests, =
plus a bit more detail about the connection state. I think it will take =
some feedback from users to see what of that is missing there and what =
should become its own column.

So, I would like to rename "Request" to something more general...

-Stefan


From dev-return-85259-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 12:18:14 2016
Return-Path: <dev-return-85259-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 267B918EDC
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 12:18:14 +0000 (UTC)
Received: (qmail 31534 invoked by uid 500); 21 Jan 2016 12:18:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 31459 invoked by uid 500); 21 Jan 2016 12:18:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 31449 invoked by uid 99); 21 Jan 2016 12:18:13 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 12:18:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C39D2C15E1
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 12:18:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id lTr-YniOzhN7 for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 12:18:06 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 327F4215D6
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 12:18:05 +0000 (UTC)
Received: by mail-qg0-f52.google.com with SMTP id e32so29900781qgf.3
        for <dev@httpd.apache.org>; Thu, 21 Jan 2016 04:18:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=hTAeiaFZks+MeN1zly+h3zqhZEXM1kZhmS77JJbZG7k=;
        b=H9TLws0Q+zqGOnkvGseLogto0OUHqnC6uj8CoGOJfA9mD5m2BwARQs/nHVg+ew3T6l
         h8MFBXJVK7DQt0dVk3uTuzm6YcArnI92aLJ5rc9Z1UlWRpRgZRHT0mpFm1hUjRokiXNZ
         xOIdkEZlILcXLb/M7PokCj4wefA560lpPBi1k29I2wB8CmR2XgW0kofMLEeHdtJisBk1
         ojm0vOFATZ11wVcom9iVHNcC7k3j7xY0zCVE8AADEQvu8nfGPNANMeji/O5I2TdPQ9dC
         t+F5+5gI+Br3BUhCDkPilht2Y475Q8hgGpCaLKhnuA/Cjlo3CzAKFxDZUtDSQd+2hLpO
         llAA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=hTAeiaFZks+MeN1zly+h3zqhZEXM1kZhmS77JJbZG7k=;
        b=DGz6ownpIx799Sh+1hIDEzdOf8KxHHsZI5CcNEkHJ56+Zxo+v3HFaI6eOwjAjL+pLZ
         a6oE6FWeITLMXofCa2mDcUr2iCGVz4QNXrdpgHslA0yDwr7ZHGEWSTQnlkw8+jme9h1K
         Nf84W3uxjoMaDPx0HMGKOGiIU5CLw8ENmYfQVV4k7wy6dkyfJJ8PYlAvz/6DXV9HxDzv
         82XDlT4g2h6TcnFtpklVEfRM4A234553TrIv/rGUhlDsoYev+mE7iQHXCI2RqYfh4rZ8
         rJLwNdX2uEeURXgtkY6czKWs2ZFJA0cmf088z17y+4CVslJ/A4Y7wd7huQYRWZlVP98M
         bDZw==
X-Gm-Message-State: ALoCoQmxQoLkmG9j159zxIG4lhYfv8440AvX1Y4QPbrx8nv4EfSGmpRwOWytkvf4xqnWnl638Q0qIyC4U4oxgWGDO3h20dXjXg==
MIME-Version: 1.0
X-Received: by 10.140.179.68 with SMTP id z65mr56209660qhz.70.1453378684308;
 Thu, 21 Jan 2016 04:18:04 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Thu, 21 Jan 2016 04:18:04 -0800 (PST)
In-Reply-To: <371B7745-1143-40CB-BD11-79AEFD537895@greenbytes.de>
References: <245C07C8-FDE6-4793-8324-484BCA4173D3@greenbytes.de>
	<CAKQ1sVPs0uWjmW_gV+PW0aRPJZN+kuBe8wt2Wpz0YXPK0DBnkw@mail.gmail.com>
	<371B7745-1143-40CB-BD11-79AEFD537895@greenbytes.de>
Date: Thu, 21 Jan 2016 13:18:04 +0100
Message-ID: <CAKQ1sVPLT7ui0eg-HC_mP55Az1rO8UBBznz_yvktnzmNtTyO6w@mail.gmail.com>
Subject: Re: socket timeouts
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Jan 21, 2016 at 11:52 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> However seems to do it. Anyone for/against applying it?

Looks good to me, APR_TIMEUP is recoverable after all (other httpd
callsites would fail as usual).
This will raise an INFO log line per timeup though (useful in the
failing case still).
If that's an issue you'd need to handle this "out of band" (e.g. new
optional_fn in mod_ssl), probably overkill...

From dev-return-85260-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 12:30:19 2016
Return-Path: <dev-return-85260-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2A7E918F5E
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 12:30:19 +0000 (UTC)
Received: (qmail 64283 invoked by uid 500); 21 Jan 2016 12:30:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64217 invoked by uid 500); 21 Jan 2016 12:30:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64207 invoked by uid 99); 21 Jan 2016 12:30:18 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 12:30:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 3E378C15F5
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 12:30:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.799
X-Spam-Level: *
X-Spam-Status: No, score=1.799 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_HELO_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id moYv4aDBYGWR for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 12:30:07 +0000 (UTC)
Received: from mail1.bemta3.messagelabs.com (mail1.bemta3.messagelabs.com [195.245.230.172])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D170324EB7
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 12:30:06 +0000 (UTC)
Received: from [85.158.138.179] by server-12.bemta-3.messagelabs.com id 79/A9-06010-84FC0A65; Thu, 21 Jan 2016 12:30:00 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-3.tower-169.messagelabs.com!1453379400!15758963!1
X-Originating-IP: [195.232.244.136]
X-StarScan-Received:
X-StarScan-Version: 7.35.1; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 21656 invoked from network); 21 Jan 2016 12:30:00 -0000
Received: from mailout04.vodafone.com (HELO mailout04.vodafone.com) (195.232.244.136)
  by server-3.tower-169.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 21 Jan 2016 12:30:00 -0000
Received: from mailint01.vodafone.com (mailint01.vodafone.com [195.232.244.198])
	by mailout04.vodafone.com (Postfix) with ESMTP id 3pmNMr2NvYznTYS
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 13:30:00 +0100 (CET)
Received: from mailint01.vodafone.com (localhost [127.0.0.1])
	by mailint01.vodafone.com (Postfix) with ESMTP id 3pmNMr1BYtzxPcf
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 13:30:00 +0100 (CET)
Received: from VOEXC02W.internal.vodafone.com (voexc02w.dc-ratingen.de [145.230.101.22])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint01.vodafone.com (Postfix) with ESMTPS id 3pmNMr0qZvzxPXl
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 13:30:00 +0100 (CET)
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.138]) by
 VOEXC02W.internal.vodafone.com ([145.230.101.22]) with mapi id
 14.03.0224.002; Thu, 21 Jan 2016 13:29:59 +0100
From: =?iso-8859-1?Q?Pl=FCm=2C_R=FCdiger=2C_Vodafone_Group?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: socket timeouts
Thread-Topic: socket timeouts
Thread-Index: AQHRUtF0nENhWpLnskGrPOGnzgNUHp8E0eIAgADrWYCAACrnQA==
Date: Thu, 21 Jan 2016 12:29:58 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC63E9214@VOEXM10W.internal.vodafone.com>
References: <245C07C8-FDE6-4793-8324-484BCA4173D3@greenbytes.de>
 <CAKQ1sVPs0uWjmW_gV+PW0aRPJZN+kuBe8wt2Wpz0YXPK0DBnkw@mail.gmail.com>
 <371B7745-1143-40CB-BD11-79AEFD537895@greenbytes.de>
In-Reply-To: <371B7745-1143-40CB-BD11-79AEFD537895@greenbytes.de>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Sorry for being devils advocate, but I have no time to check in depth curre=
ntly on my own. So
two points worth checking:

If the consumer is not prepared to handle TIMEOUTS, how do we ensure that t=
he possible remaining content of inctx->bb

1. is not creating a memory leak.
2. is not delivered to the next consumer (some kind of request splitting).

As said no time to investigate deeper on my own. Maybe needless fears on my=
 side.

Regards

R=FCdiger

> -----Urspr=FCngliche Nachricht-----
> Von: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]
> Gesendet: Donnerstag, 21. Januar 2016 11:52
> An: dev@httpd.apache.org
> Betreff: Re: socket timeouts
>=20
> However seems to do it. Anyone for/against applying it?
>=20
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> --- modules/ssl/ssl_engine_io.c	(revision 1725894)
> +++ modules/ssl/ssl_engine_io.c	(working copy)
> @@ -506,6 +506,12 @@
>              return -1;
>          }
>=20
> +        if (block =3D=3D APR_BLOCK_READ
> +            && APR_STATUS_IS_TIMEUP(inctx->rc)
> +            && APR_BRIGADE_EMPTY(inctx->bb)) {
> +            /* don't give up, just return the timeout */
> +            return -1;
> +        }
>          if (inctx->rc !=3D APR_SUCCESS) {
>              /* Unexpected errors discard the brigade */
>=20
> > Am 20.01.2016 um 21:50 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
> >
> > On Tue, Jan 19, 2016 at 4:52 PM, Stefan Eissing
> > <stefan.eissing@greenbytes.de> wrote:
> >>
> >> I experimented with setting socket timeouts to 1 second during
> >> HTTP/2's keepalive reading and closing the connection after n such
> >> TIMEUP returns. That works nicely on cleartext connections, but
> >> https:// return APR_EOF on reads after the first APR_ETIMEUP. Am I
> >> seeing ghosts or is that something in SSL that regards timed-out
> >> reads as basically broken?
> >
> > Maybe mod_ssl could preserve downstream status when it's already an
> error?
> >
> > Index: modules/ssl/ssl_engine_io.c
> > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> > --- modules/ssl/ssl_engine_io.c    (revision 1725250)
> > +++ modules/ssl/ssl_engine_io.c    (working copy)
> > @@ -679,7 +679,7 @@ static apr_status_t ssl_io_input_read(bio_filter_i
> >                 if (*len > 0) {
> >                     inctx->rc =3D APR_SUCCESS;
> >                 }
> > -                else {
> > +                else if (inctx->rc =3D=3D APR_SUCCESS) {
> >                     inctx->rc =3D APR_EOF;
> >                 }
> >                 break;
> > --


From dev-return-85261-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 12:36:35 2016
Return-Path: <dev-return-85261-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 36CE318F9A
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 12:36:35 +0000 (UTC)
Received: (qmail 83574 invoked by uid 500); 21 Jan 2016 12:36:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83509 invoked by uid 500); 21 Jan 2016 12:36:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83499 invoked by uid 99); 21 Jan 2016 12:36:34 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 12:36:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 426A8C15FC
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 12:36:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.699
X-Spam-Level:
X-Spam-Status: No, score=0.699 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=r8TXdQOx;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=r8TXdQOx
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 7WMhdkNcy3QH for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 12:36:26 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 7C7D521195
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 12:36:25 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id D2FD315A0EF7; Thu, 21 Jan 2016 13:36:24 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453379784; bh=nJldK6TB1IyK6LReTR/m2d7TntM+42bPnePU6Kjczb4=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=r8TXdQOx/4gshq/b+sLjBwdYZnRjx6gukVeAxOIcKcab7Ea/XWEp9rQ0Q3Oz4ZVZr
	 fKH0JhM9kHpvixEoD0UPM6QE4RhogrRbthWrbB7Dpoz//YkO8E7Fn+0CJdM1qQrg3O
	 bgh73P1lhh/eR0Bgsct4fp8q8GHQGF9JgKhA4RI4=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 7493515A0577
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 13:36:24 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453379784; bh=nJldK6TB1IyK6LReTR/m2d7TntM+42bPnePU6Kjczb4=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=r8TXdQOx/4gshq/b+sLjBwdYZnRjx6gukVeAxOIcKcab7Ea/XWEp9rQ0Q3Oz4ZVZr
	 fKH0JhM9kHpvixEoD0UPM6QE4RhogrRbthWrbB7Dpoz//YkO8E7Fn+0CJdM1qQrg3O
	 bgh73P1lhh/eR0Bgsct4fp8q8GHQGF9JgKhA4RI4=
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: socket timeouts
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC63E9214@VOEXM10W.internal.vodafone.com>
Date: Thu, 21 Jan 2016 13:36:24 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <0031D007-F48E-4A8F-BBF9-B293E29D6CE2@greenbytes.de>
References: <245C07C8-FDE6-4793-8324-484BCA4173D3@greenbytes.de> <CAKQ1sVPs0uWjmW_gV+PW0aRPJZN+kuBe8wt2Wpz0YXPK0DBnkw@mail.gmail.com> <371B7745-1143-40CB-BD11-79AEFD537895@greenbytes.de> <AB1691BE05AE7F4992697F2A0835627AC63E9214@VOEXM10W.internal.vodafone.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

I think the patch handles that by checking that
a) the call was done in blocking mode and, more importantly,
b) the brigade is empty

So, a TIMEUP happening with a non-empty brigade would still trigger the =
existing behaviour.=20

It is the specific case where a blocking read returns nothing but the =
timeout that I am interested in. For synchronous MPMs this would keep =
the server responsive to graceful restarts/shutdowns even in the face of =
long KeepAlive settings. Currently, a dying child will simply hang while =
waiting to a KeepAlive timer to expire. At least, the HTTP/2 code =
exhibits that. I think reqtimeout does the same.

But I may have overlooked something...

-Stefan

> Am 21.01.2016 um 13:29 schrieb Pl=FCm, R=FCdiger, Vodafone Group =
<ruediger.pluem@vodafone.com>:
>=20
> Sorry for being devils advocate, but I have no time to check in depth =
currently on my own. So
> two points worth checking:
>=20
> If the consumer is not prepared to handle TIMEOUTS, how do we ensure =
that the possible remaining content of inctx->bb
>=20
> 1. is not creating a memory leak.
> 2. is not delivered to the next consumer (some kind of request =
splitting).
>=20
> As said no time to investigate deeper on my own. Maybe needless fears =
on my side.
>=20
> Regards
>=20
> R=FCdiger
>=20
>> -----Urspr=FCngliche Nachricht-----
>> Von: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]
>> Gesendet: Donnerstag, 21. Januar 2016 11:52
>> An: dev@httpd.apache.org
>> Betreff: Re: socket timeouts
>>=20
>> However seems to do it. Anyone for/against applying it?
>>=20
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>> --- modules/ssl/ssl_engine_io.c	(revision 1725894)
>> +++ modules/ssl/ssl_engine_io.c	(working copy)
>> @@ -506,6 +506,12 @@
>>             return -1;
>>         }
>>=20
>> +        if (block =3D=3D APR_BLOCK_READ
>> +            && APR_STATUS_IS_TIMEUP(inctx->rc)
>> +            && APR_BRIGADE_EMPTY(inctx->bb)) {
>> +            /* don't give up, just return the timeout */
>> +            return -1;
>> +        }
>>         if (inctx->rc !=3D APR_SUCCESS) {
>>             /* Unexpected errors discard the brigade */
>>=20
>>> Am 20.01.2016 um 21:50 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>>=20
>>> On Tue, Jan 19, 2016 at 4:52 PM, Stefan Eissing
>>> <stefan.eissing@greenbytes.de> wrote:
>>>>=20
>>>> I experimented with setting socket timeouts to 1 second during
>>>> HTTP/2's keepalive reading and closing the connection after n such
>>>> TIMEUP returns. That works nicely on cleartext connections, but
>>>> https:// return APR_EOF on reads after the first APR_ETIMEUP. Am I
>>>> seeing ghosts or is that something in SSL that regards timed-out
>>>> reads as basically broken?
>>>=20
>>> Maybe mod_ssl could preserve downstream status when it's already an
>> error?
>>>=20
>>> Index: modules/ssl/ssl_engine_io.c
>>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>>> --- modules/ssl/ssl_engine_io.c    (revision 1725250)
>>> +++ modules/ssl/ssl_engine_io.c    (working copy)
>>> @@ -679,7 +679,7 @@ static apr_status_t =
ssl_io_input_read(bio_filter_i
>>>                if (*len > 0) {
>>>                    inctx->rc =3D APR_SUCCESS;
>>>                }
>>> -                else {
>>> +                else if (inctx->rc =3D=3D APR_SUCCESS) {
>>>                    inctx->rc =3D APR_EOF;
>>>                }
>>>                break;
>>> --
>=20


From dev-return-85262-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 12:46:13 2016
Return-Path: <dev-return-85262-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0B54318030
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 12:46:13 +0000 (UTC)
Received: (qmail 11580 invoked by uid 500); 21 Jan 2016 12:46:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11490 invoked by uid 500); 21 Jan 2016 12:46:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11480 invoked by uid 99); 21 Jan 2016 12:46:11 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 12:46:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 69674C161C
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 12:46:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id PbbfIr2qh-xk for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 12:46:05 +0000 (UTC)
Received: from mail-qg0-f45.google.com (mail-qg0-f45.google.com [209.85.192.45])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2099F439BE
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 12:46:05 +0000 (UTC)
Received: by mail-qg0-f45.google.com with SMTP id o11so30193517qge.2
        for <dev@httpd.apache.org>; Thu, 21 Jan 2016 04:46:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=nfaXIVz4eIZmqUQtcMBsRheH98bKKcnO+11izl6s7T0=;
        b=OnAJ04WKH3vb8oYJ2dnTmlhQ4WsizQXpuqDr9uRVrd3aqE7nqf/TBH/opIlOsfdbHN
         2ZXOHzpaAVt06v3W5l2lufiEIwrY+bw0gUvmcH8qCNBdkc2zg6hzKhm2qa66SIs6aS7z
         U9ivFVOktBO8rYwtVsRsB0d9q6cxEcK2pmf+T5x2gaPuqX3o2XpdqOdComeVqqmmTlNw
         gdYUGhvKkLCOrwdEC2mocTw/oko1Isp/2PB+d/RPq/zSJN2Ik7m7QA0g3NA2FrBQa45l
         lO93C2OF5VOy5ZOIvIUTdQfEA/g5uuUNCCPdEfbjL7tVSQe+FQ36ygNkGdidmRt+Cljx
         3eaA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=nfaXIVz4eIZmqUQtcMBsRheH98bKKcnO+11izl6s7T0=;
        b=Jlq7jLQW2vUKTGM93hyAaAvDHwUPh5w4PZexRUmhHXIFukDgkp1/0sUdEYzykiFaFc
         uRFbnMjIfVhM+AzG8HSxh82/4v5aefGdVDQHzQIgXfmDNzsYNH8U9cmzNmm7WswNYwzD
         Ymmh8/6MkOcMzNdN6Eb7wZQHRvAJ31COzrJjcA97QwbQe0KZdfy5TPNFgUOum4duqym/
         nxxkIxKSohgeiuvN0Ti61lhn3sJCBKi4jRYqofXD2cuURt+WTlqpJ3Nq08jUDUQrrahJ
         eV+xaLnFHOD0cmJ7DAPE9s7+lC9afcCeFceAKcFW4HZAzNWn2efGcDnT0YSRa9NiQ7k1
         pGlA==
X-Gm-Message-State: ALoCoQm8u3ESN25ymOjHAJL17wLzqd64Gv8EOHLtQ+WFHFicpkytsf5htbBELZWnlI07IgHLaNpZZ5uKOzNtYhVUHacUSjzYuw==
MIME-Version: 1.0
X-Received: by 10.140.167.135 with SMTP id n129mr52168844qhn.73.1453380359287;
 Thu, 21 Jan 2016 04:45:59 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Thu, 21 Jan 2016 04:45:59 -0800 (PST)
In-Reply-To: <56A06066.2020208@kippdata.de>
References: <20160119154544.585663A0249@svn01-us-west.apache.org>
	<CAKQ1sVPwDTSrYvy_kgTeskAa4_TKYt9mSrVp4UH1AtR9WLS+Jg@mail.gmail.com>
	<56A019B8.80902@kippdata.de>
	<CAKQ1sVOM+6hycEyWYDPpVbvHp7cXf3dCHF-h5gm4qx+nqeXL=g@mail.gmail.com>
	<56A06066.2020208@kippdata.de>
Date: Thu, 21 Jan 2016 13:45:59 +0100
Message-ID: <CAKQ1sVNo+u4in6KydJ2pg5M5PY_t-QJUpMYRnBpt_5xi89asSg@mail.gmail.com>
Subject: Re: svn commit: r1725551 - /httpd/httpd/trunk/docs/log-message-tags/find-messages.cocci
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Jan 21, 2016 at 5:36 AM, Rainer Jung <rainer.jung@kippdata.de> wrote:
> Am 21.01.2016 um 01:33 schrieb Yann Ylavic:
>>
>> "^ssl_log_(|r|c)xerror$" => "^ssl_log_(r|c)?xerror$"?
>> Or is it some special coccinelle regex syntax?
>
>
> I have chosen the same regexp style as higher above in the same file.
> "(|r|c) means either empty, or "r" or "c". So it results in the same matches
> like your proposed solution. Nothing coccinelle specific.

Huh, right, the empty match...
So my first report did accidentally mean something :)

From dev-return-85263-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 12:57:25 2016
Return-Path: <dev-return-85263-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3A0F118098
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 12:57:25 +0000 (UTC)
Received: (qmail 39360 invoked by uid 500); 21 Jan 2016 12:57:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39287 invoked by uid 500); 21 Jan 2016 12:57:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39277 invoked by uid 99); 21 Jan 2016 12:57:24 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 12:57:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 314DA1A0404
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 12:57:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.499
X-Spam-Level: ***
X-Spam-Status: No, score=3.499 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=2.5,
	SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 4xxSakPV-oQT for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 12:57:13 +0000 (UTC)
Received: from mail1.bemta3.messagelabs.com (mail1.bemta3.messagelabs.com [195.245.230.176])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 12AE143EEE
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 12:57:12 +0000 (UTC)
Received: from [195.245.230.51] by server-16.bemta-3.messagelabs.com id 7F/4A-07451-2A5D0A65; Thu, 21 Jan 2016 12:57:06 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-3.tower-33.messagelabs.com!1453381025!11663884!1
X-Originating-IP: [195.232.244.134]
X-StarScan-Received:
X-StarScan-Version: 7.35.1; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 26512 invoked from network); 21 Jan 2016 12:57:06 -0000
Received: from mailout02.vodafone.com (HELO mailout02.vodafone.com) (195.232.244.134)
  by server-3.tower-33.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 21 Jan 2016 12:57:06 -0000
Received: from mailint02.vodafone.com (mailint02.vodafone.com [195.232.244.199])
	by mailout02.vodafone.com (Postfix) with ESMTP id 3pmNz42cDTzbdNG
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 13:57:04 +0100 (CET)
Received: from mailint02.vodafone.com (localhost [127.0.0.1])
	by mailint02.vodafone.com (Postfix) with ESMTP id 3pmNvv140yzQrPD
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 13:54:19 +0100 (CET)
Received: from VOEXC04W.internal.vodafone.com (voexc04w.dc-ratingen.de [145.230.101.24])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint02.vodafone.com (Postfix) with ESMTPS id 3pmNvv0kRZzQkFx
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 13:54:19 +0100 (CET)
Received: from VOEXC25W.internal.vodafone.com (145.230.103.197) by
 VOEXC04W.internal.vodafone.com (145.230.101.24) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Thu, 21 Jan 2016 13:54:17 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.138]) by voexc25w
 ([145.230.103.197]) with mapi id 14.03.0224.002; Thu, 21 Jan 2016 13:54:16
 +0100
From: =?iso-8859-1?Q?Pl=FCm=2C_R=FCdiger=2C_Vodafone_Group?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: socket timeouts
Thread-Topic: socket timeouts
Thread-Index: AQHRUtF0nENhWpLnskGrPOGnzgNUHp8E0eIAgADrWYCAACrnQP//8iUAgAAUC+A=
Date: Thu, 21 Jan 2016 12:54:16 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC63E926B@VOEXM10W.internal.vodafone.com>
References: <245C07C8-FDE6-4793-8324-484BCA4173D3@greenbytes.de>
 <CAKQ1sVPs0uWjmW_gV+PW0aRPJZN+kuBe8wt2Wpz0YXPK0DBnkw@mail.gmail.com>
 <371B7745-1143-40CB-BD11-79AEFD537895@greenbytes.de>
 <AB1691BE05AE7F4992697F2A0835627AC63E9214@VOEXM10W.internal.vodafone.com>
 <0031D007-F48E-4A8F-BBF9-B293E29D6CE2@greenbytes.de>
In-Reply-To: <0031D007-F48E-4A8F-BBF9-B293E29D6CE2@greenbytes.de>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0



> -----Urspr=FCngliche Nachricht-----
> Von: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]
> Gesendet: Donnerstag, 21. Januar 2016 13:36
> An: dev@httpd.apache.org
> Betreff: Re: socket timeouts
>=20
> I think the patch handles that by checking that
> a) the call was done in blocking mode and, more importantly,
> b) the brigade is empty

Very good point. Missed that somehow when I raised my concerns.
So I guess this addresses my concerns. I was sure I missed something :-)


Regards

R=FCdiger


From dev-return-85264-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 14:05:49 2016
Return-Path: <dev-return-85264-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2538418373
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 14:05:49 +0000 (UTC)
Received: (qmail 16140 invoked by uid 500); 21 Jan 2016 14:05:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16066 invoked by uid 500); 21 Jan 2016 14:05:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16056 invoked by uid 99); 21 Jan 2016 14:05:48 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 14:05:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 24E7718060E
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 14:05:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id kG5jhmrClFfn for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 14:05:39 +0000 (UTC)
Received: from resqmta-po-02v.sys.comcast.net (resqmta-po-02v.sys.comcast.net [96.114.154.161])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 74CA6203BE
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 14:05:38 +0000 (UTC)
Received: from resomta-po-10v.sys.comcast.net ([96.114.154.234])
	by resqmta-po-02v.sys.comcast.net with comcast
	id 8e5H1s00753iAfU01e5XkE; Thu, 21 Jan 2016 14:05:31 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-10v.sys.comcast.net with comcast
	id 8e5W1s0032U0RYt01e5Wrh; Thu, 21 Jan 2016 14:05:31 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_status, server, protocol
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <34A6947A-0068-4D0E-A533-03CBD02F8A1B@greenbytes.de>
Date: Thu, 21 Jan 2016 09:05:30 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <9EE84D17-C588-4D02-933B-623CE30FAE89@jaguNET.com>
References: <34A6947A-0068-4D0E-A533-03CBD02F8A1B@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453385131;
	bh=N/sD2lQauFNitTobmp/F3p6LbpXX9xYYrwfc87skxgw=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=N7rEZ6OSgzeDfbCCzixHnGRNFf6BWdt0QbqH/uBx2fvqua0EaNvre3yYECrKvcfcT
	 /MvNA82mOWOHo2zcm64qM+OztcGZdNpJ7n7nbvuRxlVgPGFMj/lwvOmLGt7mnDNz6P
	 x1VEfxYQO4ikhcnJS1ZcryZI0yO1HvqJtmmJBe7NZjgTSsS4ex+hqxrNb4jz2YAuyd
	 CVLYRmuW/BFkPTGPFoMqkQX00stwO/Y7sIiiauWYh6F7YczBy2vvn6NTGhJXPho19+
	 Fzzhh6S3GEhTQJeyNdJ7T5bJmCp9AKu9ZhzREAU7KimusZ29oP9ldRqvHx0DqXSBCS
	 keA06XJJYA4SQ==

I think that we should always ensure that mod_status provides the info =
and
insight that our users want and need, so +1 on adding fields and columns
as required.

It *might* make sense to add them at the end, almost as if we were
adding additional fields to a struct and wanted to maintain an API,
because some users may be screen scraping, but it could also be argued
that '?auto' is exactly what that is there for, so we should have the
html screen look as "correct" as possible.

All that being said, I'm +1 for the patch. Thx!!
> On Jan 20, 2016, at 11:26 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
> I'd like some feedback to a small scoreboard/mod_status patch. It =
makes the following changes:
> - new method ap_update_child_status_from_server(ap_sb_handle_t *sbh, =
int status, conn_rec *c, server_rec *s); in the API
> - mod_ssl uses that to announce servers selected by TLS servername =
*before* the first request comes in for vhost
> - worker_score has an additional member char protoccol[16] that =
records ap_get_protocol(c) when a connection is given in an update
> - mod_status introduces a new columne 'Protocol' for displaying the =
connection protocol used.
> - vhost is no longer NULLed when a request ends
> - status SERVER_READY explicitly clears client/vhost/request/protocol
>=20
> 1. I am not sure if it is sensitive to add a columns to mod_status =
output. It is html after all.
> 2. 16 bytes for protocol seems much, but 8 is too little for http/1.1 =
and websocket would also need more...
> 3. http/1.1 clear and http/1.1+tls could be worth a differentiation, =
but not done for now
> 4. I was considering to show some HTTP/2 information in the "Request" =
field, but maybe that is only confusing?
>=20
> Feedback appreciated.
>=20
> -Stefan
>=20
>=20
>=20
>=20
> <proto_status_trunk.patch>


From dev-return-85265-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 14:35:56 2016
Return-Path: <dev-return-85265-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EFCC8184B4
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 14:35:55 +0000 (UTC)
Received: (qmail 88645 invoked by uid 500); 21 Jan 2016 14:35:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88578 invoked by uid 500); 21 Jan 2016 14:35:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88568 invoked by uid 99); 21 Jan 2016 14:35:55 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 14:35:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id E9ACB1A066B
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 14:35:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id IZfX3oi4zyRh for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 14:35:46 +0000 (UTC)
Received: from resqmta-po-02v.sys.comcast.net (resqmta-po-02v.sys.comcast.net [96.114.154.161])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id E533F42BC3
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 14:35:45 +0000 (UTC)
Received: from resomta-po-16v.sys.comcast.net ([96.114.154.240])
	by resqmta-po-02v.sys.comcast.net with comcast
	id 8ebd1s0055BUCh401eblph; Thu, 21 Jan 2016 14:35:45 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-16v.sys.comcast.net with comcast
	id 8ebj1s00E2U0RYt01ebkU7; Thu, 21 Jan 2016 14:35:45 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1725523 - in /httpd/httpd/trunk/modules/proxy: mod_proxy.h mod_proxy_hcheck.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <569E922D.2090700@kippdata.de>
Date: Thu, 21 Jan 2016 09:35:43 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <C5A3FFB9-F88D-4564-AA7A-84452B3D1697@jaguNET.com>
References: <20160119141427.78B953A0249@svn01-us-west.apache.org> <569E5FA9.8090607@apache.org> <E3848EAC-9667-48ED-B912-C06E783BF284@jaguNET.com> <569E87A3.6010406@apache.org> <B1458971-491A-49CD-8A9F-D4B552E0D34C@jaguNET.com> <569E922D.2090700@kippdata.de>
To: httpd <dev@httpd.apache.org>,
 Rainer Jung <rainer.jung@kippdata.de>
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453386945;
	bh=SxLN2JWNNr2E0ZzjlBanuWsPXb1N81j/YAhpIPOkmXE=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=NNVJCMroccVjYj2mPBQoeqeLtpX/KA8i5xz/jAoww3PvTDUeJH5sq8GEBIhzBJleA
	 zAmiN8wLQD+t6gioq6wA/2jpcKCmVCPYxjcjDnZZZzhP/ykjsh4xezk8xTA28yURM+
	 7RL93cF5qrR5eebw2NoBWQu9Pob++Qshk0eFjxW6X4dahDtMimxXL7pHyGKM3oRWU+
	 VQwwM7kLMpoTVBXW+T/XkCRJReJJZzlbHL6iswvrY5u6ya3NN7UwcHV6qCYS6z0dz1
	 tNqHC0GZROYcGwUwDJaMupJt9tSQg0BMI5N246JrbHHhopcyKxq6EF9nVamrH7K/7e
	 kJGGZbUldXbDg==

Thx!

BTW, do you have pointers on how to use your "new" Coccinelle/spatch
script to assign AH log numbers?

> On Jan 19, 2016, at 2:44 PM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>=20
> Am 19.01.2016 um 20:02 schrieb Jim Jagielski:
>> Ahhh... yeah, I guess updating all the usages to do
>> that makes sense.
>=20
> Done in r1725602.
>=20
>>> On Jan 19, 2016, at 1:59 PM, Ruediger Pluem <rpluem@apache.org> =
wrote:
>>>=20
>>>=20
>>>=20
>>> On 01/19/2016 06:45 PM, Jim Jagielski wrote:
>>>>=20
>>>>> On Jan 19, 2016, at 11:09 AM, Ruediger Pluem <rpluem@apache.org> =
wrote:
>>>>>=20
>>>>>> +    } else {
>>>>>> +        if (rv !=3D APR_SUCCESS) {
>>>>>> +            worker->s->error_time =3D now;
>>>>>> +            worker->s->fcount +=3D 1;
>>>>>> +            if (worker->s->fcount >=3D worker->s->fails) {
>>>>>> +                ap_proxy_set_wstatus('#', 1, worker);
>>>>>=20
>>>>> Wouldn't it be better to use the define from mod_proxy.h instead =
of the literal?
>>>>>=20
>>>>=20
>>>> ??
>>>>=20
>>>> Using ap_proxy_set_wstatus() is the standard method for setting
>>>> or clearing the bits in the worker status.
>>>>=20
>>>=20
>>> Sorry for being confusing I meant using PROXY_WORKER_HC_FAIL_FLAG =
instead of '#'.
>>>=20
>>> Regards
>>>=20
>>> R=C3=BCdiger


From dev-return-85266-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 15:12:53 2016
Return-Path: <dev-return-85266-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9FDAC186BC
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 15:12:53 +0000 (UTC)
Received: (qmail 27081 invoked by uid 500); 21 Jan 2016 15:12:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 27012 invoked by uid 500); 21 Jan 2016 15:12:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 27002 invoked by uid 99); 21 Jan 2016 15:12:53 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 15:12:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id BFE26C144A
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 15:12:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.002
X-Spam-Level:
X-Spam-Status: No, score=-0.002 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id U_Xhn2FGA45T for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 15:12:51 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 06E9042BC3
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 15:12:50 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0LFChjr002851
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 16:12:44 +0100 (CET)
Subject: Re: svn commit: r1725523 - in /httpd/httpd/trunk/modules/proxy:
 mod_proxy.h mod_proxy_hcheck.c
To: httpd <dev@httpd.apache.org>
References: <20160119141427.78B953A0249@svn01-us-west.apache.org>
 <569E5FA9.8090607@apache.org>
 <E3848EAC-9667-48ED-B912-C06E783BF284@jaguNET.com>
 <569E87A3.6010406@apache.org>
 <B1458971-491A-49CD-8A9F-D4B552E0D34C@jaguNET.com>
 <569E922D.2090700@kippdata.de>
 <C5A3FFB9-F88D-4564-AA7A-84452B3D1697@jaguNET.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56A0F567.5020408@kippdata.de>
Date: Thu, 21 Jan 2016 16:12:39 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <C5A3FFB9-F88D-4564-AA7A-84452B3D1697@jaguNET.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi Jim,

Am 21.01.2016 um 15:35 schrieb Jim Jagielski:
> BTW, do you have pointers on how to use your "new" Coccinelle/spatch
> script to assign AH log numbers?

first I had to build OCAML and coccinelle (which provides spatch) on 
Solaris. As usual not much fun. I assume, you can find ready-to-go 
packages for those in your favorite Linux package repos. So I spare you 
those details.

Then I followed the simple description in docs/log-message-tags/README, 
especially running

DIR=docs/log-message-tags
spatch -sp_file $DIR/find-messages.cocci \
-in_place \
-macro_file $DIR/macros.h FILESTOCHECK

where FILESTOCHECK is the list of C files you want spatch to work on.

The spatch patch (the cocci file) adds "APLOGNO()," to all eligible log 
statements it identifies. To finally replace the empty "APLOGNO()," with 
a real number, I ran

perl docs/log-message-tags/update-log-msg-tags FILESTOFIX

It will put real numbers in and update docs/log-message-tags/next-number.

There's also a make task, which I didn't use.

If your version of spatch (coccinelle) isn't build with pcre support 
(mine on Solaris wasn't) you need to fix the 
docs/log-message-tags/find-messages.cocci file. In all lines defining a 
regexp (look for "=~") replace all "|" by "\|" and all "(" resp. ")" 
with "\(" and "\)" because that is the default regexp style in ocaml.

HTH!

Regards,

Rainer


From dev-return-85267-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 15:19:33 2016
Return-Path: <dev-return-85267-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1B994186EC
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 15:19:33 +0000 (UTC)
Received: (qmail 52844 invoked by uid 500); 21 Jan 2016 15:19:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52775 invoked by uid 500); 21 Jan 2016 15:19:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52765 invoked by uid 99); 21 Jan 2016 15:19:32 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 15:19:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 13F2EC1487
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 15:19:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id gFu9bnzIicgX for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 15:19:21 +0000 (UTC)
Received: from resqmta-po-08v.sys.comcast.net (resqmta-po-08v.sys.comcast.net [96.114.154.167])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 88277439BE
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 15:19:21 +0000 (UTC)
Received: from resomta-po-04v.sys.comcast.net ([96.114.154.228])
	by resqmta-po-08v.sys.comcast.net with comcast
	id 8fJ71s0044vw8ds01fKFJM; Thu, 21 Jan 2016 15:19:15 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-04v.sys.comcast.net with comcast
	id 8fKD1s00H2U0RYt01fKE9y; Thu, 21 Jan 2016 15:19:14 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1725523 - in /httpd/httpd/trunk/modules/proxy: mod_proxy.h mod_proxy_hcheck.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56A0F567.5020408@kippdata.de>
Date: Thu, 21 Jan 2016 10:19:13 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <CEC739D4-1581-4A78-ABB4-4D2F47850509@jaguNET.com>
References: <20160119141427.78B953A0249@svn01-us-west.apache.org> <569E5FA9.8090607@apache.org> <E3848EAC-9667-48ED-B912-C06E783BF284@jaguNET.com> <569E87A3.6010406@apache.org> <B1458971-491A-49CD-8A9F-D4B552E0D34C@jaguNET.com> <569E922D.2090700@kippdata.de> <C5A3FFB9-F88D-4564-AA7A-84452B3D1697@jaguNET.com> <56A0F567.5020408@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453389555;
	bh=BavhFwqI0846bEos758+tCq1fTWxP7bVO5dpXFM1Prw=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=USmd2IOSweSdVBrNWSl70eIw/38tng+NnCtEc03c5jk8iO8SOntkMfcvc3PeKr91b
	 wjy6XaQp4Wh5siDh3wMoNhTPFm0mtEW773owfR87RJGaZbqwm6GrLcc7/wl4eisQXo
	 k8IJmEpnzbPkWU7JuZwwcU/sDIOjevG97QQfyaip9Nso078TYz1kbdHd4aNl/EvPS8
	 2Ch+5eLQK4FpOYLQNRRWCFjNofL9kT3qzIFPt5XyhYSuMIHkz5v3cNyjCLNLKOyUS5
	 L2s7LIoWg7pkLpxKQN6mWgEhvJuzFT/bps61hyRqJX8PAYa64ZWbQTh6rJgUKeg5X5
	 UTiXymDqDxTCA==

THX!

> On Jan 21, 2016, at 10:12 AM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>=20
> Hi Jim,
>=20
> Am 21.01.2016 um 15:35 schrieb Jim Jagielski:
>> BTW, do you have pointers on how to use your "new" Coccinelle/spatch
>> script to assign AH log numbers?
>=20
> first I had to build OCAML and coccinelle (which provides spatch) on =
Solaris. As usual not much fun. I assume, you can find ready-to-go =
packages for those in your favorite Linux package repos. So I spare you =
those details.
>=20
> Then I followed the simple description in =
docs/log-message-tags/README, especially running
>=20
> DIR=3Ddocs/log-message-tags
> spatch -sp_file $DIR/find-messages.cocci \
> -in_place \
> -macro_file $DIR/macros.h FILESTOCHECK
>=20
> where FILESTOCHECK is the list of C files you want spatch to work on.
>=20
> The spatch patch (the cocci file) adds "APLOGNO()," to all eligible =
log statements it identifies. To finally replace the empty "APLOGNO()," =
with a real number, I ran
>=20
> perl docs/log-message-tags/update-log-msg-tags FILESTOFIX
>=20
> It will put real numbers in and update =
docs/log-message-tags/next-number.
>=20
> There's also a make task, which I didn't use.
>=20
> If your version of spatch (coccinelle) isn't build with pcre support =
(mine on Solaris wasn't) you need to fix the =
docs/log-message-tags/find-messages.cocci file. In all lines defining a =
regexp (look for "=3D~") replace all "|" by "\|" and all "(" resp. ")" =
with "\(" and "\)" because that is the default regexp style in ocaml.
>=20
> HTH!
>=20
> Regards,
>=20
> Rainer
>=20


From dev-return-85268-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 15:23:42 2016
Return-Path: <dev-return-85268-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1AD2318731
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 15:23:42 +0000 (UTC)
Received: (qmail 67513 invoked by uid 500); 21 Jan 2016 15:23:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67455 invoked by uid 500); 21 Jan 2016 15:23:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67445 invoked by uid 99); 21 Jan 2016 15:23:41 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 15:23:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 1FBCAC178B
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 15:23:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.002
X-Spam-Level:
X-Spam-Status: No, score=-0.002 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id FNZ5rFEF0V4y for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 15:23:40 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id AA29F2054B
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 15:23:39 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0LFNV9v002964
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 16:23:32 +0100 (CET)
Subject: Re: svn commit: r1725949 - /httpd/httpd/trunk/docs/manual/expr.xml
To: dev@httpd.apache.org
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56A0F7EF.9040801@kippdata.de>
Date: Thu, 21 Jan 2016 16:23:27 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <20160121135441.A67163A01D9@svn01-us-west.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

I should have asked earlier: wouldn't it be more suitable to implement 
to response body as a variable instead of a function?

When looking at server/util_expr_eval.c, I find request_var_names and 
request_var_fn. The former is a list of variable names, and the latter 
implements returning the values from parts of the request struct. 
Returning the flattened kept_body should be a good fit there as well, 
without having users wonder, why it is a function that requires an argument.

If we expect further response stuff coming, we could also clone 
request_var_names and request_var_fn with new response_var_names and 
response_var_fn and add the variable as the first and currently only one 
there.

The variable name could be KEPT_BODY.

WDYT? I can also do the little reorg, but which way do we prefer?

Regards,

Rainer

Am 21.01.2016 um 14:54 schrieb jim@apache.org:
> Author: jim
> Date: Thu Jan 21 13:54:41 2016
> New Revision: 1725949
>
> URL: http://svn.apache.org/viewvc?rev=1725949&view=rev
> Log:
> Note that as a function, kept_body requires an argument,
> but the value of that argument is completely moot.
>
> Modified:
>      httpd/httpd/trunk/docs/manual/expr.xml
>
> Modified: httpd/httpd/trunk/docs/manual/expr.xml
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/expr.xml?rev=1725949&r1=1725948&r2=1725949&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/docs/manual/expr.xml (original)
> +++ httpd/httpd/trunk/docs/manual/expr.xml Thu Jan 21 13:54:41 2016
> @@ -502,7 +502,9 @@ listfunction ::= listfuncname "<strong>(
>       <tr><td><code>note</code></td>
>           <td>Lookup request note</td><td></td></tr>
>       <tr><td><code>kept_body</code></td>
> -        <td>Lookup response body if available in <code>r->kept_body</code></td><td></td></tr>
> +        <td>Lookup response body if available in <code>r->kept_body</code>. <em>Note:</em>
> +        function argument is required but ignored.
> +        </td><td></td></tr>
>       <tr><td><code>env</code></td>
>           <td>Return first match of <code>note</code>, <code>reqenv</code>,
>               <code>osenv</code></td><td></td></tr>

From dev-return-85269-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 15:25:50 2016
Return-Path: <dev-return-85269-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A33A518766
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 15:25:50 +0000 (UTC)
Received: (qmail 75502 invoked by uid 500); 21 Jan 2016 15:25:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75428 invoked by uid 500); 21 Jan 2016 15:25:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75418 invoked by uid 99); 21 Jan 2016 15:25:50 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 15:25:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 93FAEC178B
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 15:25:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id nYBu0PkAJpkU for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 15:25:40 +0000 (UTC)
Received: from resqmta-po-09v.sys.comcast.net (resqmta-po-09v.sys.comcast.net [96.114.154.168])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id ABB6720CE7
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 15:25:40 +0000 (UTC)
Received: from resomta-po-01v.sys.comcast.net ([96.114.154.225])
	by resqmta-po-09v.sys.comcast.net with comcast
	id 8fPJ1s0094s37d401fRavU; Thu, 21 Jan 2016 15:25:34 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-01v.sys.comcast.net with comcast
	id 8fRZ1s00Y2U0RYt01fRaC5; Thu, 21 Jan 2016 15:25:34 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1725949 - /httpd/httpd/trunk/docs/manual/expr.xml
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56A0F7EF.9040801@kippdata.de>
Date: Thu, 21 Jan 2016 10:25:33 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com>
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org> <56A0F7EF.9040801@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453389934;
	bh=i8Nc0PvuqlUuytvU3zQyLT5wsw2DVQecqyNXZJuvEqc=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=sdLtVWGILvFoHCmu+fgoqKjIXEB9aiYk56AR6UkdHUfs63aVnoG96tD900JcQuvy7
	 NuJ62xFRvcoVbJiG78Fn8TRHCNTSEfQ82bY/ZKEHFMvGzFlS+GVOoSp2bJUDK0LkzA
	 zE8jMPndkb0EO+lGmGYROg7B3UIMGRlablJ9wQR/pBHxpJlJBePDqC+sTJ3eRtznsw
	 LmmABq24MLPMtIsiW+Yvnah/9qAo/rYtKBWAg1H7eJE2PtbjV4xGC/W4Deo5FQeRd3
	 /y9MZ0xkm+lN/y2L9XhZp44ZUr7UWPNG/U/a6fFBmvRdqLYIxgmgHD9nwoiibzm5N6
	 LS2CWGqk5R6XQ==

Sounds good to me!!

thx!

> On Jan 21, 2016, at 10:23 AM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>=20
> I should have asked earlier: wouldn't it be more suitable to implement =
to response body as a variable instead of a function?
>=20
> When looking at server/util_expr_eval.c, I find request_var_names and =
request_var_fn. The former is a list of variable names, and the latter =
implements returning the values from parts of the request struct. =
Returning the flattened kept_body should be a good fit there as well, =
without having users wonder, why it is a function that requires an =
argument.
>=20
> If we expect further response stuff coming, we could also clone =
request_var_names and request_var_fn with new response_var_names and =
response_var_fn and add the variable as the first and currently only one =
there.
>=20
> The variable name could be KEPT_BODY.
>=20
> WDYT? I can also do the little reorg, but which way do we prefer?
>=20
> Regards,
>=20
> Rainer
>=20
> Am 21.01.2016 um 14:54 schrieb jim@apache.org:
>> Author: jim
>> Date: Thu Jan 21 13:54:41 2016
>> New Revision: 1725949
>>=20
>> URL: http://svn.apache.org/viewvc?rev=3D1725949&view=3Drev
>> Log:
>> Note that as a function, kept_body requires an argument,
>> but the value of that argument is completely moot.
>>=20
>> Modified:
>>     httpd/httpd/trunk/docs/manual/expr.xml
>>=20
>> Modified: httpd/httpd/trunk/docs/manual/expr.xml
>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/expr.xml?rev=3D=
1725949&r1=3D1725948&r2=3D1725949&view=3Ddiff
>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>> --- httpd/httpd/trunk/docs/manual/expr.xml (original)
>> +++ httpd/httpd/trunk/docs/manual/expr.xml Thu Jan 21 13:54:41 2016
>> @@ -502,7 +502,9 @@ listfunction ::=3D listfuncname "<strong>(
>>      <tr><td><code>note</code></td>
>>          <td>Lookup request note</td><td></td></tr>
>>      <tr><td><code>kept_body</code></td>
>> -        <td>Lookup response body if available in =
<code>r->kept_body</code></td><td></td></tr>
>> +        <td>Lookup response body if available in =
<code>r->kept_body</code>. <em>Note:</em>
>> +        function argument is required but ignored.
>> +        </td><td></td></tr>
>>      <tr><td><code>env</code></td>
>>          <td>Return first match of <code>note</code>, =
<code>reqenv</code>,
>>              <code>osenv</code></td><td></td></tr>


From dev-return-85270-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 15:26:22 2016
Return-Path: <dev-return-85270-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A8CD41876B
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 15:26:22 +0000 (UTC)
Received: (qmail 76677 invoked by uid 500); 21 Jan 2016 15:26:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76607 invoked by uid 500); 21 Jan 2016 15:26:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76597 invoked by uid 99); 21 Jan 2016 15:26:22 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 15:26:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id B60E1C0E80
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 15:26:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.555
X-Spam-Level:
X-Spam-Status: No, score=-0.555 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id uaogISgsz3iI for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 15:26:20 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 3772A23016
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 15:26:20 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0LFQE5Z002991
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 16:26:14 +0100 (CET)
Subject: Re: mod_status, server, protocol
To: dev@httpd.apache.org
References: <34A6947A-0068-4D0E-A533-03CBD02F8A1B@greenbytes.de>
 <9EE84D17-C588-4D02-933B-623CE30FAE89@jaguNET.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56A0F892.3020001@kippdata.de>
Date: Thu, 21 Jan 2016 16:26:10 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <9EE84D17-C588-4D02-933B-623CE30FAE89@jaguNET.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 21.01.2016 um 15:05 schrieb Jim Jagielski:
> I think that we should always ensure that mod_status provides the info and
> insight that our users want and need, so +1 on adding fields and columns
> as required.
>
> It *might* make sense to add them at the end, almost as if we were
> adding additional fields to a struct and wanted to maintain an API,
> because some users may be screen scraping, but it could also be argued
> that '?auto' is exactly what that is there for, so we should have the
> html screen look as "correct" as possible.

Especially because the auto variant information is very close to the 
html one since 2.4.13.

> All that being said, I'm +1 for the patch. Thx!!

+1

Rainer

From dev-return-85271-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 15:29:34 2016
Return-Path: <dev-return-85271-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1F56B187A6
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 15:29:34 +0000 (UTC)
Received: (qmail 97894 invoked by uid 500); 21 Jan 2016 15:29:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97806 invoked by uid 500); 21 Jan 2016 15:29:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97796 invoked by uid 99); 21 Jan 2016 15:29:33 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 15:29:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id DBADA180610
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 15:29:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 7saVlSaykVDE for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 15:29:23 +0000 (UTC)
Received: from mail-qk0-f180.google.com (mail-qk0-f180.google.com [209.85.220.180])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A00252582D
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 15:29:22 +0000 (UTC)
Received: by mail-qk0-f180.google.com with SMTP id x1so17097959qkc.1
        for <dev@httpd.apache.org>; Thu, 21 Jan 2016 07:29:22 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=GHpHksYUN+/GJNsT22cliRerylkQ32bJLmKECYzH40s=;
        b=O9yUus6WOCZ5+PHaQRp5ikC9ZsWEXKQsfgN6/KAcdn6akCsrCwN300BQqqUKXH3qJ5
         gXYv3QqllcnnkvVlfQ/fAbY0ZGgAjavLbSIDhHofhslK3agwDKOa2+wXBeZDkscwrU5m
         ZdXRPTBgNoln77llMwLErREr6z2nU8wc879I9mzl4PzdKC6FQbIcbbR964J/35zD9TbU
         V/EbBFE7e6pkOI66uUOl/qx0mtl8uCeTPzdXL6sqi8s3mHsAG+cUeGc9JA0pgrwq7Thf
         4jv9tfFyfYmyE37hFcMiG8GDPAwvfhUBpA3o6Wbuwa2H+mAox4eU7ijF9aGmlU5X3FyM
         uXRw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=GHpHksYUN+/GJNsT22cliRerylkQ32bJLmKECYzH40s=;
        b=MkUGPyNu1TFJ3lWb5rFpbtCkj6wad4a5HMAxYhBSBh/DDod8TB9hLCLdeL5g8zRTJC
         kfYbmdFoTcjhuUS0jc5jBvmJZS1z3CeiSih1tK/JL8w5EM3+OgPyC4zaGo2Ut91qSvDB
         zSmZ4Gr/iLaF/0LLeDzyJT0Kv/holKLlkyz9meznglkFdikfL+2BwlU16gibVKRqjHZx
         gLLoZJRnRQSDzGCdhXCEMHMvoNidoEwirCk28GS+kiGoeEo3eNg3SncLb+PvfKTR9ys3
         wiqvo7XVC9YbginHkWuNsOKzkShsoGD2X5+oB46Ep4F/91Cgc6oQiff6wvcqevvyuEEd
         x4jg==
X-Gm-Message-State: ALoCoQkSy2eF55DzEvK/ziJplqfmfnwVMUIH01kjQB5njToLD3Xow03y4tsoWJv+7c7rnzCej8GmC95Cfg3HpItZNmGtkLzt9w==
MIME-Version: 1.0
X-Received: by 10.55.200.90 with SMTP id c87mr51053577qkj.79.1453390156426;
 Thu, 21 Jan 2016 07:29:16 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Thu, 21 Jan 2016 07:29:16 -0800 (PST)
In-Reply-To: <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com>
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org>
	<56A0F7EF.9040801@kippdata.de>
	<76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com>
Date: Thu, 21 Jan 2016 16:29:16 +0100
Message-ID: <CAKQ1sVMVbFr5ivWq-+otKpvwn=D5XhYmW2hYxzoTLrAqcSgZGQ@mail.gmail.com>
Subject: Re: svn commit: r1725949 - /httpd/httpd/trunk/docs/manual/expr.xml
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Is r->kept_body ever initiallized on the backend side, wouldn't
mod_proxy need to somehow add mod_request's filters?

On Thu, Jan 21, 2016 at 4:25 PM, Jim Jagielski <jim@jagunet.com> wrote:
> Sounds good to me!!
>
> thx!
>
>> On Jan 21, 2016, at 10:23 AM, Rainer Jung <rainer.jung@kippdata.de> wrot=
e:
>>
>> I should have asked earlier: wouldn't it be more suitable to implement t=
o response body as a variable instead of a function?
>>
>> When looking at server/util_expr_eval.c, I find request_var_names and re=
quest_var_fn. The former is a list of variable names, and the latter implem=
ents returning the values from parts of the request struct. Returning the f=
lattened kept_body should be a good fit there as well, without having users=
 wonder, why it is a function that requires an argument.
>>
>> If we expect further response stuff coming, we could also clone request_=
var_names and request_var_fn with new response_var_names and response_var_f=
n and add the variable as the first and currently only one there.
>>
>> The variable name could be KEPT_BODY.
>>
>> WDYT? I can also do the little reorg, but which way do we prefer?
>>
>> Regards,
>>
>> Rainer
>>
>> Am 21.01.2016 um 14:54 schrieb jim@apache.org:
>>> Author: jim
>>> Date: Thu Jan 21 13:54:41 2016
>>> New Revision: 1725949
>>>
>>> URL: http://svn.apache.org/viewvc?rev=3D1725949&view=3Drev
>>> Log:
>>> Note that as a function, kept_body requires an argument,
>>> but the value of that argument is completely moot.
>>>
>>> Modified:
>>>     httpd/httpd/trunk/docs/manual/expr.xml
>>>
>>> Modified: httpd/httpd/trunk/docs/manual/expr.xml
>>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/expr.xm=
l?rev=3D1725949&r1=3D1725948&r2=3D1725949&view=3Ddiff
>>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D
>>> --- httpd/httpd/trunk/docs/manual/expr.xml (original)
>>> +++ httpd/httpd/trunk/docs/manual/expr.xml Thu Jan 21 13:54:41 2016
>>> @@ -502,7 +502,9 @@ listfunction ::=3D listfuncname "<strong>(
>>>      <tr><td><code>note</code></td>
>>>          <td>Lookup request note</td><td></td></tr>
>>>      <tr><td><code>kept_body</code></td>
>>> -        <td>Lookup response body if available in <code>r->kept_body</c=
ode></td><td></td></tr>
>>> +        <td>Lookup response body if available in <code>r->kept_body</c=
ode>. <em>Note:</em>
>>> +        function argument is required but ignored.
>>> +        </td><td></td></tr>
>>>      <tr><td><code>env</code></td>
>>>          <td>Return first match of <code>note</code>, <code>reqenv</cod=
e>,
>>>              <code>osenv</code></td><td></td></tr>
>

From dev-return-85272-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 15:35:01 2016
Return-Path: <dev-return-85272-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 431DF187FE
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 15:35:01 +0000 (UTC)
Received: (qmail 25562 invoked by uid 500); 21 Jan 2016 15:35:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25482 invoked by uid 500); 21 Jan 2016 15:35:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25472 invoked by uid 99); 21 Jan 2016 15:35:00 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 15:35:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4D7E8C178F
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 15:35:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 9TKKvPZqHp6M for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 15:34:50 +0000 (UTC)
Received: from resqmta-po-07v.sys.comcast.net (resqmta-po-07v.sys.comcast.net [96.114.154.166])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 8CED143F6F
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 15:34:50 +0000 (UTC)
Received: from resomta-po-02v.sys.comcast.net ([96.114.154.226])
	by resqmta-po-07v.sys.comcast.net with comcast
	id 8fYU1s0014tLnxL01fakCs; Thu, 21 Jan 2016 15:34:44 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-02v.sys.comcast.net with comcast
	id 8faj1s0062U0RYt01fajTl; Thu, 21 Jan 2016 15:34:43 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1725949 - /httpd/httpd/trunk/docs/manual/expr.xml
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVMVbFr5ivWq-+otKpvwn=D5XhYmW2hYxzoTLrAqcSgZGQ@mail.gmail.com>
Date: Thu, 21 Jan 2016 10:34:42 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <E1AE88A1-A56F-4205-9B18-2E44ECDEF913@jaguNET.com>
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org> <56A0F7EF.9040801@kippdata.de> <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com> <CAKQ1sVMVbFr5ivWq-+otKpvwn=D5XhYmW2hYxzoTLrAqcSgZGQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453390484;
	bh=O+qvjiPSmorZvVZl8K1oqTaAp7EENkkfPjo1IKKJB5w=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=ogRgD5HtayEAVdddD19IbQjeM0mvM5Tco0tUYjTrchtxUxoPy0R/Jz3EO0PL01KWP
	 /RxwR5y2g0GBR18X4DSmbPtwCS50S5Pg13p0vsDevTQ3xg+uUlJSclz83LkU/CIFtJ
	 mMdmg0fqHZmy2foH3b5oJcnpujw5JpO0Yk9Evf2bibnA5Kz3Vck8JSLR7lbRCL2jPh
	 esEkA4relBNQ72YZ7WUCwVsSvl7uPhxiCEwXCXIS8HvWbaF68iJRu5pIRxYlz65lLs
	 RkTmvhBPsOaP/qgRlvpTdjkcr3fwPRBDAogKz1OpGs33UH5EiRmT2ISJp55KDSOtqk
	 k5KB6OjDIp31w==

Well, mod_proxy_hcheck is actually abusing the r->kept_body brigade
for its own uses. When we issue a GET for the health check, we simply
copy the buckets from the response from the backend that comprises the
body to r->kept_body. That way, ap_expr can now apply expressions
against it to check if the backend is healthy or not.

It's totally self-contained.


> On Jan 21, 2016, at 10:29 AM, Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
>=20
> Is r->kept_body ever initiallized on the backend side, wouldn't
> mod_proxy need to somehow add mod_request's filters?
>=20
> On Thu, Jan 21, 2016 at 4:25 PM, Jim Jagielski <jim@jagunet.com> =
wrote:
>> Sounds good to me!!
>>=20
>> thx!
>>=20
>>> On Jan 21, 2016, at 10:23 AM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>>>=20
>>> I should have asked earlier: wouldn't it be more suitable to =
implement to response body as a variable instead of a function?
>>>=20
>>> When looking at server/util_expr_eval.c, I find request_var_names =
and request_var_fn. The former is a list of variable names, and the =
latter implements returning the values from parts of the request struct. =
Returning the flattened kept_body should be a good fit there as well, =
without having users wonder, why it is a function that requires an =
argument.
>>>=20
>>> If we expect further response stuff coming, we could also clone =
request_var_names and request_var_fn with new response_var_names and =
response_var_fn and add the variable as the first and currently only one =
there.
>>>=20
>>> The variable name could be KEPT_BODY.
>>>=20
>>> WDYT? I can also do the little reorg, but which way do we prefer?
>>>=20
>>> Regards,
>>>=20
>>> Rainer
>>>=20
>>> Am 21.01.2016 um 14:54 schrieb jim@apache.org:
>>>> Author: jim
>>>> Date: Thu Jan 21 13:54:41 2016
>>>> New Revision: 1725949
>>>>=20
>>>> URL: http://svn.apache.org/viewvc?rev=3D1725949&view=3Drev
>>>> Log:
>>>> Note that as a function, kept_body requires an argument,
>>>> but the value of that argument is completely moot.
>>>>=20
>>>> Modified:
>>>>    httpd/httpd/trunk/docs/manual/expr.xml
>>>>=20
>>>> Modified: httpd/httpd/trunk/docs/manual/expr.xml
>>>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/expr.xml?rev=3D=
1725949&r1=3D1725948&r2=3D1725949&view=3Ddiff
>>>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>>>> --- httpd/httpd/trunk/docs/manual/expr.xml (original)
>>>> +++ httpd/httpd/trunk/docs/manual/expr.xml Thu Jan 21 13:54:41 2016
>>>> @@ -502,7 +502,9 @@ listfunction ::=3D listfuncname "<strong>(
>>>>     <tr><td><code>note</code></td>
>>>>         <td>Lookup request note</td><td></td></tr>
>>>>     <tr><td><code>kept_body</code></td>
>>>> -        <td>Lookup response body if available in =
<code>r->kept_body</code></td><td></td></tr>
>>>> +        <td>Lookup response body if available in =
<code>r->kept_body</code>. <em>Note:</em>
>>>> +        function argument is required but ignored.
>>>> +        </td><td></td></tr>
>>>>     <tr><td><code>env</code></td>
>>>>         <td>Return first match of <code>note</code>, =
<code>reqenv</code>,
>>>>             <code>osenv</code></td><td></td></tr>
>>=20


From dev-return-85273-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 15:38:12 2016
Return-Path: <dev-return-85273-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EF49E1882C
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 15:38:12 +0000 (UTC)
Received: (qmail 44559 invoked by uid 500); 21 Jan 2016 15:38:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 44499 invoked by uid 500); 21 Jan 2016 15:38:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 44489 invoked by uid 99); 21 Jan 2016 15:38:12 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 15:38:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 0457DC1796
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 15:38:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id KMPIFZcruMYc for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 15:38:03 +0000 (UTC)
Received: from mail-qk0-f175.google.com (mail-qk0-f175.google.com [209.85.220.175])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 92B6D2054B
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 15:38:03 +0000 (UTC)
Received: by mail-qk0-f175.google.com with SMTP id s68so17138397qkh.3
        for <dev@httpd.apache.org>; Thu, 21 Jan 2016 07:38:03 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=sNouMdvVp/E+2r27zMoUTiylvUuBXkaMkekxq6DdpJQ=;
        b=NnivQrZnAgxi7Ivw0kDQNgoMz98Y9HbKAB/vhTjSM76rrGWsoAmApI7F/i1kmi12Wz
         WsNbtMYiA3HW8sl6VeJK8tVY5fxtUG7fJlMcDUTXuA9QBMK9KzBdFeJaxxqbkBRMd5u0
         aygHIS41bmChoR966d8tUGuvMIV2OH5WZG28qhnp7fiHVo63rb/bgyAfDTWWyF0Ef2Rd
         r1YharOpnjSNxjFZ5OFPdR89riMpZCMIhv6bJLIIHHA0g2YT7i3jBFysJRi7RACHSe3d
         SP7+LBxjdsvdyx8SnP/mmZsuN9gefM/FmZlLAjfZgOseQnRaLb8uBii+YgMIOu0HeX8w
         pxFg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=sNouMdvVp/E+2r27zMoUTiylvUuBXkaMkekxq6DdpJQ=;
        b=mYi+WN7y9NGuuq4Sp08rYHo4UGhQXwhASdrKo7ZjDEoAiWWz2CQJpQVx/8yrl7ZSM/
         hLRA3CFKhQpc8kJHbrd9XdQLdiRglPCD6JJhKeQ3qGAjkRxpq3Gvd35hqWkCMuMn4HyM
         2AW8fQhY/eRetlm0+MINwvZlmUDp+Y/Qg2hHvj4EL8af4ASYEdfb5cEdUU4OvWgnGmv1
         3FQ6SFScafCGhJ16QBFC8Wz8ZxLkfsxVUjo+9LSjTPljYnGc9TN9LAYCZRhXYXQuNRGp
         Q41LdEKQ68YGhNgiZdAe3t4xn8rEC/lYHdgBkaijR7sdSdKxjOO5QimsAbJ5Hq/KoOqS
         eN1w==
X-Gm-Message-State: ALoCoQn2AlGDsm5T+SEU41uJSuFrBRaxU7QIo1EQvvpacjgz2T7rVvWzZw9PtByuKx7SExB88Djq7VaTqknU3zeRRXmCUn2dJQ==
MIME-Version: 1.0
X-Received: by 10.55.73.68 with SMTP id w65mr52060382qka.68.1453390677478;
 Thu, 21 Jan 2016 07:37:57 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Thu, 21 Jan 2016 07:37:57 -0800 (PST)
In-Reply-To: <E1AE88A1-A56F-4205-9B18-2E44ECDEF913@jaguNET.com>
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org>
	<56A0F7EF.9040801@kippdata.de>
	<76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com>
	<CAKQ1sVMVbFr5ivWq-+otKpvwn=D5XhYmW2hYxzoTLrAqcSgZGQ@mail.gmail.com>
	<E1AE88A1-A56F-4205-9B18-2E44ECDEF913@jaguNET.com>
Date: Thu, 21 Jan 2016 16:37:57 +0100
Message-ID: <CAKQ1sVOOxLCmTj1_WnMMRPbV+ooRCA24FiD5Jz1F5=-=9++Sgw@mail.gmail.com>
Subject: Re: svn commit: r1725949 - /httpd/httpd/trunk/docs/manual/expr.xml
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Ah ok, nice, I'll have a look.
Thanks for the quick explanation.


On Thu, Jan 21, 2016 at 4:34 PM, Jim Jagielski <jim@jagunet.com> wrote:
> Well, mod_proxy_hcheck is actually abusing the r->kept_body brigade
> for its own uses. When we issue a GET for the health check, we simply
> copy the buckets from the response from the backend that comprises the
> body to r->kept_body. That way, ap_expr can now apply expressions
> against it to check if the backend is healthy or not.
>
> It's totally self-contained.
>
>
>> On Jan 21, 2016, at 10:29 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> Is r->kept_body ever initiallized on the backend side, wouldn't
>> mod_proxy need to somehow add mod_request's filters?
>>
>> On Thu, Jan 21, 2016 at 4:25 PM, Jim Jagielski <jim@jagunet.com> wrote:
>>> Sounds good to me!!
>>>
>>> thx!
>>>
>>>> On Jan 21, 2016, at 10:23 AM, Rainer Jung <rainer.jung@kippdata.de> wr=
ote:
>>>>
>>>> I should have asked earlier: wouldn't it be more suitable to implement=
 to response body as a variable instead of a function?
>>>>
>>>> When looking at server/util_expr_eval.c, I find request_var_names and =
request_var_fn. The former is a list of variable names, and the latter impl=
ements returning the values from parts of the request struct. Returning the=
 flattened kept_body should be a good fit there as well, without having use=
rs wonder, why it is a function that requires an argument.
>>>>
>>>> If we expect further response stuff coming, we could also clone reques=
t_var_names and request_var_fn with new response_var_names and response_var=
_fn and add the variable as the first and currently only one there.
>>>>
>>>> The variable name could be KEPT_BODY.
>>>>
>>>> WDYT? I can also do the little reorg, but which way do we prefer?
>>>>
>>>> Regards,
>>>>
>>>> Rainer
>>>>
>>>> Am 21.01.2016 um 14:54 schrieb jim@apache.org:
>>>>> Author: jim
>>>>> Date: Thu Jan 21 13:54:41 2016
>>>>> New Revision: 1725949
>>>>>
>>>>> URL: http://svn.apache.org/viewvc?rev=3D1725949&view=3Drev
>>>>> Log:
>>>>> Note that as a function, kept_body requires an argument,
>>>>> but the value of that argument is completely moot.
>>>>>
>>>>> Modified:
>>>>>    httpd/httpd/trunk/docs/manual/expr.xml
>>>>>
>>>>> Modified: httpd/httpd/trunk/docs/manual/expr.xml
>>>>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/expr.=
xml?rev=3D1725949&r1=3D1725948&r2=3D1725949&view=3Ddiff
>>>>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D
>>>>> --- httpd/httpd/trunk/docs/manual/expr.xml (original)
>>>>> +++ httpd/httpd/trunk/docs/manual/expr.xml Thu Jan 21 13:54:41 2016
>>>>> @@ -502,7 +502,9 @@ listfunction ::=3D listfuncname "<strong>(
>>>>>     <tr><td><code>note</code></td>
>>>>>         <td>Lookup request note</td><td></td></tr>
>>>>>     <tr><td><code>kept_body</code></td>
>>>>> -        <td>Lookup response body if available in <code>r->kept_body<=
/code></td><td></td></tr>
>>>>> +        <td>Lookup response body if available in <code>r->kept_body<=
/code>. <em>Note:</em>
>>>>> +        function argument is required but ignored.
>>>>> +        </td><td></td></tr>
>>>>>     <tr><td><code>env</code></td>
>>>>>         <td>Return first match of <code>note</code>, <code>reqenv</co=
de>,
>>>>>             <code>osenv</code></td><td></td></tr>
>>>
>

From dev-return-85274-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 16:03:29 2016
Return-Path: <dev-return-85274-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 82D95189BA
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 16:03:29 +0000 (UTC)
Received: (qmail 19358 invoked by uid 500); 21 Jan 2016 16:03:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19269 invoked by uid 500); 21 Jan 2016 16:03:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19259 invoked by uid 99); 21 Jan 2016 16:03:29 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 16:03:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8129A1805F4
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 16:03:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 0PeOGVS7mm6m for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 16:03:17 +0000 (UTC)
Received: from resqmta-ch2-07v.sys.comcast.net (resqmta-ch2-07v.sys.comcast.net [69.252.207.39])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 62C0D20EBF
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 16:03:17 +0000 (UTC)
Received: from resomta-ch2-03v.sys.comcast.net ([69.252.207.99])
	by resqmta-ch2-07v.sys.comcast.net with comcast
	id 8fzL1s00829Cfhx01g398n; Thu, 21 Jan 2016 16:03:09 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-03v.sys.comcast.net with comcast
	id 8g381s00f2U0RYt01g39PH; Thu, 21 Jan 2016 16:03:09 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1725949 - /httpd/httpd/trunk/docs/manual/expr.xml
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com>
Date: Thu, 21 Jan 2016 11:03:08 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com>
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org> <56A0F7EF.9040801@kippdata.de> <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453392189;
	bh=zeyDTYa8OC7RN86Tp2tTZ47iIaB5Xtz4ovPHcIPxcGY=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=PRVw6MTEDS0S8tGnXEGr1Km+Kuc0grhHjJelfB+HL4da0T6JJktVoks6+kkCHVZ9m
	 qz97LMT8QgQmTIfp4zlJ1S1UAgl+rrw4BJxpZwi3cdyLjyOH4L/9Qg/Smx+19F90hU
	 yC5CRl1OilsybOa/xx8X40zhf4gbCM6sP2EyOT7snwc83SPSjJZl2bcK0pwdEGkWr+
	 ViQEaScOW0Ihmfwlji7bvBDl6OBzgouinnTWuioXkrIZfoBaSgBswmU42pMIbMgS1g
	 ddoM3+U8J3v0r9xtu51Gj1SbUfwG1twlzavBN/1j3uYZIunSSTBCt5bNSD+edHMQJG
	 8UAv5f0uswnPQ==

Did you want me to work on it, or are you?

> On Jan 21, 2016, at 10:25 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> Sounds good to me!!
>=20
> thx!
>=20
>> On Jan 21, 2016, at 10:23 AM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>>=20
>> I should have asked earlier: wouldn't it be more suitable to =
implement to response body as a variable instead of a function?
>>=20
>> When looking at server/util_expr_eval.c, I find request_var_names and =
request_var_fn. The former is a list of variable names, and the latter =
implements returning the values from parts of the request struct. =
Returning the flattened kept_body should be a good fit there as well, =
without having users wonder, why it is a function that requires an =
argument.
>>=20
>> If we expect further response stuff coming, we could also clone =
request_var_names and request_var_fn with new response_var_names and =
response_var_fn and add the variable as the first and currently only one =
there.
>>=20
>> The variable name could be KEPT_BODY.
>>=20
>> WDYT? I can also do the little reorg, but which way do we prefer?
>>=20
>> Regards,
>>=20
>> Rainer
>>=20
>> Am 21.01.2016 um 14:54 schrieb jim@apache.org:
>>> Author: jim
>>> Date: Thu Jan 21 13:54:41 2016
>>> New Revision: 1725949
>>>=20
>>> URL: http://svn.apache.org/viewvc?rev=3D1725949&view=3Drev
>>> Log:
>>> Note that as a function, kept_body requires an argument,
>>> but the value of that argument is completely moot.
>>>=20
>>> Modified:
>>>    httpd/httpd/trunk/docs/manual/expr.xml
>>>=20
>>> Modified: httpd/httpd/trunk/docs/manual/expr.xml
>>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/expr.xml?rev=3D=
1725949&r1=3D1725948&r2=3D1725949&view=3Ddiff
>>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>>> --- httpd/httpd/trunk/docs/manual/expr.xml (original)
>>> +++ httpd/httpd/trunk/docs/manual/expr.xml Thu Jan 21 13:54:41 2016
>>> @@ -502,7 +502,9 @@ listfunction ::=3D listfuncname "<strong>(
>>>     <tr><td><code>note</code></td>
>>>         <td>Lookup request note</td><td></td></tr>
>>>     <tr><td><code>kept_body</code></td>
>>> -        <td>Lookup response body if available in =
<code>r->kept_body</code></td><td></td></tr>
>>> +        <td>Lookup response body if available in =
<code>r->kept_body</code>. <em>Note:</em>
>>> +        function argument is required but ignored.
>>> +        </td><td></td></tr>
>>>     <tr><td><code>env</code></td>
>>>         <td>Return first match of <code>note</code>, =
<code>reqenv</code>,
>>>             <code>osenv</code></td><td></td></tr>
>=20


From dev-return-85275-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 16:49:13 2016
Return-Path: <dev-return-85275-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1735418C84
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 16:49:13 +0000 (UTC)
Received: (qmail 86941 invoked by uid 500); 21 Jan 2016 16:49:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86868 invoked by uid 500); 21 Jan 2016 16:49:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86858 invoked by uid 99); 21 Jan 2016 16:49:07 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 16:49:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 02ACC1A0733
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 16:49:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id p0vf6hgSFkhu for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 16:49:00 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E589120EE2
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 16:48:53 +0000 (UTC)
Received: from resomta-po-09v.sys.comcast.net ([96.114.154.233])
	by resqmta-po-05v.sys.comcast.net with comcast
	id 8gmr1s00152QWKC01gos5Z; Thu, 21 Jan 2016 16:48:52 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-09v.sys.comcast.net with comcast
	id 8gor1s00U2U0RYt01gosxk; Thu, 21 Jan 2016 16:48:52 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: ap_casecmpstr()
Message-Id: <8780D4E1-211B-4E60-86B9-32D889B812F9@jaguNET.com>
Date: Thu, 21 Jan 2016 11:48:51 -0500
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453394932;
	bh=puFCajPGhdCQV3kFIG9z2CxCU6DMSKQIQ+6YJtQwsJ8=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=AhqEWpWYUp/nH0VGif9/axpS+sH8/Lq0BzLrwcjJmQUViZIS+OhM+Y9g+vgLtO1TH
	 sU7gIUuPjnemwDC/PO8V4kAYxcduGLh7lOhnclyMZqBjdrmNqzFjurV9472A2FSSQz
	 47GjmkPyg8WMQYPI6VA9nBIoGi1yYz3ztoZo2D1G6Z+ALtI3KLX1TZFOXEiGnSf8JP
	 rz9WxDlcJNxil+jTL6F3m5GZWDHUT0zmvIO2JSihw/zDmc+WfhyX8JMUNkgzVFQPZb
	 TgsQN7u4CjHwnZNzGX7S4ztaDqI44jeTsTadxVTFjnYp/ZFPn6gLabBUFwHuxEd5YH
	 Q+prfITLENJbw==

Where are we with this? Trunk uses this. Should a backport
proposal be done for 2.4??

From dev-return-85276-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 16:50:52 2016
Return-Path: <dev-return-85276-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6EB3818CA2
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 16:50:52 +0000 (UTC)
Received: (qmail 94252 invoked by uid 500); 21 Jan 2016 16:50:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94175 invoked by uid 500); 21 Jan 2016 16:50:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94165 invoked by uid 99); 21 Jan 2016 16:50:51 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 16:50:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6127BC1817
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 16:50:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=MXvdAH6/;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=MXvdAH6/
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id J6-DWAbWrif4 for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 16:50:42 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2F491429C2
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 16:50:42 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id A49B815A0E1F; Thu, 21 Jan 2016 17:50:34 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453395034; bh=pFyObKi5SYz2FUV/VB0SvT6mZ8GdRBZFySZio+uiqxI=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=MXvdAH6/NmhCORjaODw0AGpqt6mDxRRiPG/9vEGQP9LSdnaFUcG/jV3P6OF62DkMm
	 R4UL7HqyGHRq+HuRHC1VjnMKq+QRj4YY3h7XK4TVHj3M96otk0+1kB1Eejg0YPbJ8a
	 QCrlXx7zfm1qWM+o5alKEfYF79Yd8d4HkFtVYkr4=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 5A56C15A008E
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 17:50:34 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453395034; bh=pFyObKi5SYz2FUV/VB0SvT6mZ8GdRBZFySZio+uiqxI=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=MXvdAH6/NmhCORjaODw0AGpqt6mDxRRiPG/9vEGQP9LSdnaFUcG/jV3P6OF62DkMm
	 R4UL7HqyGHRq+HuRHC1VjnMKq+QRj4YY3h7XK4TVHj3M96otk0+1kB1Eejg0YPbJ8a
	 QCrlXx7zfm1qWM+o5alKEfYF79Yd8d4HkFtVYkr4=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: ap_casecmpstr()
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <8780D4E1-211B-4E60-86B9-32D889B812F9@jaguNET.com>
Date: Thu, 21 Jan 2016 17:50:34 +0100
Content-Transfer-Encoding: 7bit
Message-Id: <F029BC69-7CEC-4AEB-A3D7-A88604733A53@greenbytes.de>
References: <8780D4E1-211B-4E60-86B9-32D889B812F9@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> Am 21.01.2016 um 17:48 schrieb Jim Jagielski <jim@jaguNET.com>:
> 
> Where are we with this? Trunk uses this. Should a backport
> proposal be done for 2.4??

+1

From dev-return-85277-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 16:52:06 2016
Return-Path: <dev-return-85277-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D06E818CC0
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 16:52:06 +0000 (UTC)
Received: (qmail 98061 invoked by uid 500); 21 Jan 2016 16:52:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97991 invoked by uid 500); 21 Jan 2016 16:52:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97977 invoked by uid 99); 21 Jan 2016 16:52:06 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 16:52:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id ED7201A0590
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 16:52:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.554
X-Spam-Level:
X-Spam-Status: No, score=-0.554 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ag_Sw1V2BQsH for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 16:51:56 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 43A0020656
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 16:51:55 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0LGps6D004098
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 17:51:54 +0100 (CET)
Subject: Re: svn commit: r1725949 - /httpd/httpd/trunk/docs/manual/expr.xml
To: dev@httpd.apache.org
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org>
 <56A0F7EF.9040801@kippdata.de>
 <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com>
 <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56A10CA6.2030807@kippdata.de>
Date: Thu, 21 Jan 2016 17:51:50 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 21.01.2016 um 17:03 schrieb Jim Jagielski:
> Did you want me to work on it, or are you?

I just had some late lunch and started to think closer about it. Since 
kept_body was previously only used for request bodies, wouldn't it be 
nicer to *not* expose the HC response body under that name in the 
expression parser, and instead register an expr extension from HC which 
handles a new function, say hc(), with a first supported argument 
"body"? So hc(body) returns whatever HC wants to.

You could still use the kept_body field in your impl (or some other 
place now or later) but we wouldn't expose this implementation detail to 
the outside world.

I have already done an expr function extension in some custom module, it 
is pretty easy to do (and httpd uses that feature e.g. in mod_ssl).

So yes, if you like I can do it. But do you like the idea?

Regards,

Rainer

>> On Jan 21, 2016, at 10:25 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>
>> Sounds good to me!!
>>
>> thx!
>>
>>> On Jan 21, 2016, at 10:23 AM, Rainer Jung <rainer.jung@kippdata.de> wrote:
>>>
>>> I should have asked earlier: wouldn't it be more suitable to implement to response body as a variable instead of a function?
>>>
>>> When looking at server/util_expr_eval.c, I find request_var_names and request_var_fn. The former is a list of variable names, and the latter implements returning the values from parts of the request struct. Returning the flattened kept_body should be a good fit there as well, without having users wonder, why it is a function that requires an argument.
>>>
>>> If we expect further response stuff coming, we could also clone request_var_names and request_var_fn with new response_var_names and response_var_fn and add the variable as the first and currently only one there.
>>>
>>> The variable name could be KEPT_BODY.
>>>
>>> WDYT? I can also do the little reorg, but which way do we prefer?
>>>
>>> Regards,
>>>
>>> Rainer

From dev-return-85278-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 16:54:34 2016
Return-Path: <dev-return-85278-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EAF6A18CFC
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 16:54:34 +0000 (UTC)
Received: (qmail 17205 invoked by uid 500); 21 Jan 2016 16:54:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17140 invoked by uid 500); 21 Jan 2016 16:54:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17130 invoked by uid 99); 21 Jan 2016 16:54:34 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 16:54:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id EE2B2C0860
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 16:54:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.452
X-Spam-Level: *
X-Spam-Status: No, score=1.452 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, KAM_ASCII_DIVIDERS=0.8,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id y39xhuAKPD5y for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 16:54:27 +0000 (UTC)
Received: from resqmta-po-06v.sys.comcast.net (resqmta-po-06v.sys.comcast.net [96.114.154.165])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 2D78B20656
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 16:54:27 +0000 (UTC)
Received: from resomta-po-02v.sys.comcast.net ([96.114.154.226])
	by resqmta-po-06v.sys.comcast.net with comcast
	id 8gtF1s0064tLnxL01guLzF; Thu, 21 Jan 2016 16:54:20 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-02v.sys.comcast.net with comcast
	id 8guK1s00A2U0RYt01guKC0; Thu, 21 Jan 2016 16:54:20 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1726009 - in /httpd/httpd/trunk: include/scoreboard.h modules/generators/mod_status.c modules/ssl/ssl_engine_kernel.c server/scoreboard.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <20160121163633.CA1003A008E@svn01-us-west.apache.org>
Date: Thu, 21 Jan 2016 11:54:18 -0500
Cc: cvs@httpd.apache.org
Content-Transfer-Encoding: quoted-printable
Message-Id: <D0AB1FED-35DA-468C-9961-FA8FC735A028@jaguNET.com>
References: <20160121163633.CA1003A008E@svn01-us-west.apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453395260;
	bh=JKxhnn3aHagA6LZCbynuynV8hRyjfrVrJxStFRww0Dg=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=iuPPe0KOXRxjdjZsNYTLc688aWl38Podd6IsN3G7HwKnOK9o1UdSwqTVJfbQXoLu2
	 leSWDvw9eeKzaxCwBxbUPMl5SbIhV5N/sWwR8h7c1JlNtiHz2JqsuBC6ZNDrO+oiot
	 yBX1xn5bLcHIix+QThdbU/FPr+qFtsPlxTm9UQAu70lEhRadq9t75hKKHb5w1EZ8s+
	 /4YXUKl6Gz2mhcMi+Y7uQ2TabwxJzRjqEXytypc6ltVyQrDRc/wDJw9m8Fgduhxwqa
	 vTAkpDPeg+BQZJZUJitm9C8B71Vzf0GCc4yHsXDn+Gb3ySK6cNiJ49CoFe3pwLZigD
	 Trr6W9gNW2cxA==

Not seeing a mmn bump... ?

> On Jan 21, 2016, at 11:36 AM, icing@apache.org wrote:
>=20
> Author: icing
> Date: Thu Jan 21 16:36:33 2016
> New Revision: 1726009
>=20
> URL: http://svn.apache.org/viewvc?rev=3D1726009&view=3Drev
> Log:
> scoreboard addition of protocol, new ap_udpte_child_status methods
>=20
> Modified:
>    httpd/httpd/trunk/include/scoreboard.h
>    httpd/httpd/trunk/modules/generators/mod_status.c
>    httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
>    httpd/httpd/trunk/server/scoreboard.c
>=20
> Modified: httpd/httpd/trunk/include/scoreboard.h
> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/include/scoreboard.h?rev=3D=
1726009&r1=3D1726008&r2=3D1726009&view=3Ddiff
> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
> --- httpd/httpd/trunk/include/scoreboard.h (original)
> +++ httpd/httpd/trunk/include/scoreboard.h Thu Jan 21 16:36:33 2016
> @@ -115,6 +115,7 @@ struct worker_score {
>     char client[40];            /* Keep 'em small... but large enough =
to hold an IPv6 address */
>     char request[64];           /* We just want an idea... */
>     char vhost[32];             /* What virtual host is being =
accessed? */
> +    char protocol[16];          /* What protocol is used on the =
connection? */
> };
>=20
> typedef struct {
> @@ -181,6 +182,10 @@ AP_DECLARE(int) ap_update_child_status(a
> AP_DECLARE(int) ap_update_child_status_from_indexes(int child_num, int =
thread_num,
>                                                     int status, =
request_rec *r);
> AP_DECLARE(int) ap_update_child_status_from_conn(ap_sb_handle_t *sbh, =
int status, conn_rec *c);
> +AP_DECLARE(int) ap_update_child_status_from_server(ap_sb_handle_t =
*sbh, int status,=20
> +                                                   conn_rec *c, =
server_rec *s);
> +AP_DECLARE(int) ap_update_child_status_descr(ap_sb_handle_t *sbh, int =
status, const char *descr);
> +
> AP_DECLARE(void) ap_time_process_request(ap_sb_handle_t *sbh, int =
status);
>=20
> AP_DECLARE(worker_score *) ap_get_scoreboard_worker(ap_sb_handle_t =
*sbh);
>=20
> Modified: httpd/httpd/trunk/modules/generators/mod_status.c
> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/generators/mod_stat=
us.c?rev=3D1726009&r1=3D1726008&r2=3D1726009&view=3Ddiff
> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
> --- httpd/httpd/trunk/modules/generators/mod_status.c (original)
> +++ httpd/httpd/trunk/modules/generators/mod_status.c Thu Jan 21 =
16:36:33 2016
> @@ -662,7 +662,7 @@ static int status_handler(request_rec *r
> #endif
>                      "<th>SS</th><th>Req</th>"
>                      "<th>Conn</th><th>Child</th><th>Slot</th>"
> -                     "<th>Client</th><th>VHost</th>"
> +                     "<th>Client</th><th>Protocol</th><th>VHost</th>"
>                      "<th>Request</th></tr>\n\n", r);
>=20
>         for (i =3D 0; i < server_limit; ++i) {
> @@ -776,13 +776,15 @@ static int status_handler(request_rec *r
>                     format_byte_out(r, bytes);
>                     ap_rputs(")\n", r);
>                     ap_rprintf(r,
> -                               " <i>%s {%s}</i> <b>[%s]</b><br =
/>\n\n",
> +                               " <i>%s {%s}</i> <i>(%s)</i> =
<b>[%s]</b><br />\n\n",
>                                ap_escape_html(r->pool,
>                                               ws_record->client),
>                                ap_escape_html(r->pool,
>                                               =
ap_escape_logitem(r->pool,
>                                                                 =
ws_record->request)),
>                                ap_escape_html(r->pool,
> +                                              ws_record->protocol),
> +                               ap_escape_html(r->pool,
>                                               ws_record->vhost));
>                 }
>                 else { /* !no_table_report */
> @@ -860,11 +862,13 @@ static int status_handler(request_rec *r
>                                (float)conn_bytes / KBYTE, (float) =
my_bytes / MBYTE,
>                                (float)bytes / MBYTE);
>=20
> -                    ap_rprintf(r, "</td><td>%s</td><td =
nowrap>%s</td>"
> +                    ap_rprintf(r, "</td><td>%s</td><td>%s</td><td =
nowrap>%s</td>"
>                                   "<td nowrap>%s</td></tr>\n\n",
>                                ap_escape_html(r->pool,
>                                               ws_record->client),
>                                ap_escape_html(r->pool,
> +                                              ws_record->protocol),
> +                               ap_escape_html(r->pool,
>                                               ws_record->vhost),
>                                ap_escape_html(r->pool,
>                                               =
ap_escape_logitem(r->pool,
>=20
> Modified: httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_engine_kern=
el.c?rev=3D1726009&r1=3D1726008&r2=3D1726009&view=3Ddiff
> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
> --- httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c (original)
> +++ httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c Thu Jan 21 =
16:36:33 2016
> @@ -31,6 +31,7 @@
> #include "ssl_private.h"
> #include "mod_ssl.h"
> #include "util_md5.h"
> +#include "scoreboard.h"
>=20
> static void ssl_configure_env(request_rec *r, SSLConnRec *sslconn);
> #ifdef HAVE_TLSEXT
> @@ -2218,6 +2219,7 @@ static int ssl_find_vhost(void *serverna
>         sslcon->server =3D s;
>         sslcon->cipher_suite =3D sc->server->auth.cipher_suite;
>=20
> +        ap_update_child_status_from_server(c->sbh, SERVER_BUSY_READ, =
c, s);
>         /*
>          * There is one special filter callback, which is set
>          * very early depending on the base_server's log level.
>=20
> Modified: httpd/httpd/trunk/server/scoreboard.c
> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/server/scoreboard.c?rev=3D1=
726009&r1=3D1726008&r2=3D1726009&view=3Ddiff
> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
> --- httpd/httpd/trunk/server/scoreboard.c (original)
> +++ httpd/httpd/trunk/server/scoreboard.c Thu Jan 21 16:36:33 2016
> @@ -32,6 +32,7 @@
> #include "http_main.h"
> #include "http_core.h"
> #include "http_config.h"
> +#include "http_protocol.h"
> #include "ap_mpm.h"
>=20
> #include "scoreboard.h"
> @@ -457,7 +458,9 @@ static int update_child_status_internal(
>                                         int thread_num,
>                                         int status,
>                                         conn_rec *c,
> -                                        request_rec *r)
> +                                        server_rec *s,
> +                                        request_rec *r,
> +                                        const char *descr)
> {
>     int old_status;
>     worker_score *ws;
> @@ -466,18 +469,22 @@ static int update_child_status_internal(
>=20
>     ws =3D &ap_scoreboard_image->servers[child_num][thread_num];
>     old_status =3D ws->status;
> -    ws->status =3D status;
> -
> -    ps =3D &ap_scoreboard_image->parent[child_num];
> -
> -    if (status =3D=3D SERVER_READY
> -        && old_status =3D=3D SERVER_STARTING) {
> -        ws->thread_num =3D child_num * thread_limit + thread_num;
> -        ap_mpm_query(AP_MPMQ_GENERATION, &mpm_generation);
> -        ps->generation =3D mpm_generation;
> +    if (status >=3D 0) {
> +        ws->status =3D status;
> +       =20
> +        ps =3D &ap_scoreboard_image->parent[child_num];
> +       =20
> +        if (status =3D=3D SERVER_READY
> +            && old_status =3D=3D SERVER_STARTING) {
> +            ws->thread_num =3D child_num * thread_limit + thread_num;
> +            ap_mpm_query(AP_MPMQ_GENERATION, &mpm_generation);
> +            ps->generation =3D mpm_generation;
> +        }
>     }
>=20
>     if (ap_extended_status) {
> +        const char *val;
> +       =20
>         if (status =3D=3D SERVER_READY || status =3D=3D SERVER_DEAD) {
>             /*
>              * Reset individual counters
> @@ -490,27 +497,42 @@ static int update_child_status_internal(
>             ws->conn_bytes =3D 0;
>             ws->last_used =3D apr_time_now();
>         }
> -        if (r) {
> -            const char *client =3D ap_get_remote_host(c, =
r->per_dir_config,
> -                                 REMOTE_NOLOOKUP, NULL);
> -            if (!client || !strcmp(client, c->client_ip)) {
> -                apr_cpystrn(ws->client, r->useragent_ip, =
sizeof(ws->client));
> +        if (status =3D=3D SERVER_READY) {
> +            ws->client[0]=3D'\0';
> +            ws->vhost[0]=3D'\0';
> +            ws->request[0]=3D'\0';
> +            ws->protocol[0]=3D'\0';
> +        }
> +        else {
> +            if (descr) {
> +                apr_cpystrn(ws->request, descr, sizeof(ws->request));
>             }
> -            else {
> -                apr_cpystrn(ws->client, client, sizeof(ws->client));
> +            else if (r) {
> +                copy_request(ws->request, sizeof(ws->request), r);
>             }
> -            copy_request(ws->request, sizeof(ws->request), r);
> -            if (r->server) {
> -                apr_snprintf(ws->vhost, sizeof(ws->vhost), "%s:%d",
> -                             r->server->server_hostname,
> -                             r->connection->local_addr->port);
> +            if (r || c) {
> +                val =3D ap_get_remote_host(c, r? r->per_dir_config : =
NULL,=20
> +                                         REMOTE_NOLOOKUP, NULL);
> +                if (r && (!val || !strcmp(val, c->client_ip))) {
> +                    apr_cpystrn(ws->client, r->useragent_ip, =
sizeof(ws->client));
> +                }
> +                else {
> +                    apr_cpystrn(ws->client, val, sizeof(ws->client));
> +                }
> +            }
> +            if (s) {
> +                if (c) {
> +                    apr_snprintf(ws->vhost, sizeof(ws->vhost), =
"%s:%d",
> +                                 s->server_hostname, =
c->local_addr->port);
> +                }
> +                else {
> +                    apr_cpystrn(ws->vhost, s->server_hostname, =
sizeof(ws->vhost));
> +                }
> +            }
> +            if (c) {
> +                val =3D ap_get_protocol(c);
> +                apr_cpystrn(ws->protocol, val, sizeof(ws->protocol));
>             }
> -        }
> -        else if (c) {
> -            apr_cpystrn(ws->client, ap_get_remote_host(c, NULL,
> -                        REMOTE_NOLOOKUP, NULL), sizeof(ws->client));
> -            ws->request[0]=3D'\0';
> -            ws->vhost[0]=3D'\0';
>         }
>     }
>=20
> @@ -528,7 +550,8 @@ AP_DECLARE(int) ap_update_child_status_f
>=20
>     return update_child_status_internal(child_num, thread_num, status,
>                                         r ? r->connection : NULL,
> -                                        r);
> +                                        r ? r->server : NULL,
> +                                        r, NULL);
> }
>=20
> AP_DECLARE(int) ap_update_child_status(ap_sb_handle_t *sbh, int =
status,
> @@ -540,17 +563,37 @@ AP_DECLARE(int) ap_update_child_status(a
>     return update_child_status_internal(sbh->child_num, =
sbh->thread_num,
>                                         status,
>                                         r ? r->connection : NULL,
> -                                        r);
> +                                        r ? r->server : NULL,
> +                                        r, NULL);
> }
>=20
> AP_DECLARE(int) ap_update_child_status_from_conn(ap_sb_handle_t *sbh, =
int status,
> -                                       conn_rec *c)
> +                                                 conn_rec *c)
> +{
> +    if (!sbh || (sbh->child_num < 0))
> +        return -1;
> +
> +    return update_child_status_internal(sbh->child_num, =
sbh->thread_num,
> +                                        status, c, NULL, NULL, NULL);
> +}
> +
> +AP_DECLARE(int) ap_update_child_status_from_server(ap_sb_handle_t =
*sbh, int status,=20
> +                                                   conn_rec *c, =
server_rec *s)
> +{
> +    if (!sbh || (sbh->child_num < 0))
> +        return -1;
> +
> +    return update_child_status_internal(sbh->child_num, =
sbh->thread_num,
> +                                        status, c, s, NULL, NULL);
> +}
> +
> +AP_DECLARE(int) ap_update_child_status_descr(ap_sb_handle_t *sbh, int =
status, const char *descr)
> {
>     if (!sbh || (sbh->child_num < 0))
>         return -1;
>=20
>     return update_child_status_internal(sbh->child_num, =
sbh->thread_num,
> -                                        status, c, NULL);
> +                                        status, NULL, NULL, NULL, =
descr);
> }
>=20
> AP_DECLARE(void) ap_time_process_request(ap_sb_handle_t *sbh, int =
status)
> @@ -605,6 +648,7 @@ AP_DECLARE(void) ap_copy_scoreboard_work
>     dest->client[sizeof(dest->client) - 1] =3D '\0';
>     dest->request[sizeof(dest->request) - 1] =3D '\0';
>     dest->vhost[sizeof(dest->vhost) - 1] =3D '\0';
> +    dest->protocol[sizeof(dest->protocol) - 1] =3D '\0';
> }
>=20
> AP_DECLARE(process_score *) ap_get_scoreboard_process(int x)
>=20
>=20


From dev-return-85279-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 16:55:47 2016
Return-Path: <dev-return-85279-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8672E18D23
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 16:55:47 +0000 (UTC)
Received: (qmail 21451 invoked by uid 500); 21 Jan 2016 16:55:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21390 invoked by uid 500); 21 Jan 2016 16:55:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21367 invoked by uid 99); 21 Jan 2016 16:55:47 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 16:55:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 80F0F1805F4
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 16:55:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id jQ1MlrGhhe9N for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 16:55:36 +0000 (UTC)
Received: from resqmta-po-11v.sys.comcast.net (resqmta-po-11v.sys.comcast.net [96.114.154.170])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 9B7BD2054B
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 16:55:36 +0000 (UTC)
Received: from resomta-po-08v.sys.comcast.net ([96.114.154.232])
	by resqmta-po-11v.sys.comcast.net with comcast
	id 8gvL1s007516pyw01gvVTG; Thu, 21 Jan 2016 16:55:29 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-08v.sys.comcast.net with comcast
	id 8gvU1s00P2U0RYt01gvVHe; Thu, 21 Jan 2016 16:55:29 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1725949 - /httpd/httpd/trunk/docs/manual/expr.xml
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56A10CA6.2030807@kippdata.de>
Date: Thu, 21 Jan 2016 11:55:28 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com>
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org> <56A0F7EF.9040801@kippdata.de> <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com> <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com> <56A10CA6.2030807@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453395329;
	bh=5lYfhICtrX4SBfJsr5UWUVkk50dNhz3gV9aY2nN3ox0=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=UCS63Ue4MVriBrreFikSlnNlvdJHZg9YpsBcC321hV8w9KObsKQZVPHDgwWLjN3gK
	 FtcJC60PGNblDW/hDusq7y1a3V/n35iiMuhelw8oqMieYB7qbdXsIInF1gEd1iw2TQ
	 Kso/983TyCngYTNGhV1e3PeYB/+m/mb25SntvW1dfdEmE9KGU6dVmpfp06rHFIfZU9
	 smIqRJZYjvkeaMN3jstVrKHRaixRdEDdm4US5jKbC16831eYf5GRUpRRLHsDA0bFvQ
	 +cE3xMqIattpiGDL/xrlbU6AVqgxSlLHPm70ZS3cZ0CqXwiRTuNW4wwBWg55mEE0/U
	 zttmtCCchja3g==

even better!

sounds cool.

> On Jan 21, 2016, at 11:51 AM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>=20
> Am 21.01.2016 um 17:03 schrieb Jim Jagielski:
>> Did you want me to work on it, or are you?
>=20
> I just had some late lunch and started to think closer about it. Since =
kept_body was previously only used for request bodies, wouldn't it be =
nicer to *not* expose the HC response body under that name in the =
expression parser, and instead register an expr extension from HC which =
handles a new function, say hc(), with a first supported argument =
"body"? So hc(body) returns whatever HC wants to.
>=20
> You could still use the kept_body field in your impl (or some other =
place now or later) but we wouldn't expose this implementation detail to =
the outside world.
>=20
> I have already done an expr function extension in some custom module, =
it is pretty easy to do (and httpd uses that feature e.g. in mod_ssl).
>=20
> So yes, if you like I can do it. But do you like the idea?
>=20
> Regards,
>=20
> Rainer
>=20
>>> On Jan 21, 2016, at 10:25 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>>=20
>>> Sounds good to me!!
>>>=20
>>> thx!
>>>=20
>>>> On Jan 21, 2016, at 10:23 AM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>>>>=20
>>>> I should have asked earlier: wouldn't it be more suitable to =
implement to response body as a variable instead of a function?
>>>>=20
>>>> When looking at server/util_expr_eval.c, I find request_var_names =
and request_var_fn. The former is a list of variable names, and the =
latter implements returning the values from parts of the request struct. =
Returning the flattened kept_body should be a good fit there as well, =
without having users wonder, why it is a function that requires an =
argument.
>>>>=20
>>>> If we expect further response stuff coming, we could also clone =
request_var_names and request_var_fn with new response_var_names and =
response_var_fn and add the variable as the first and currently only one =
there.
>>>>=20
>>>> The variable name could be KEPT_BODY.
>>>>=20
>>>> WDYT? I can also do the little reorg, but which way do we prefer?
>>>>=20
>>>> Regards,
>>>>=20
>>>> Rainer


From dev-return-85280-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 16:57:58 2016
Return-Path: <dev-return-85280-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 35DC418D37
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 16:57:58 +0000 (UTC)
Received: (qmail 25373 invoked by uid 500); 21 Jan 2016 16:57:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25315 invoked by uid 500); 21 Jan 2016 16:57:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25305 invoked by uid 99); 21 Jan 2016 16:57:57 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 16:57:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 47E4FC181A
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 16:57:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.7
X-Spam-Level:
X-Spam-Status: No, score=0.7 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, MIME_QP_LONG_LINE=0.001,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=QB/Souue;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=i9+1EGBG
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id EEl8BK-s9Do3 for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 16:57:51 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 9B02F20656
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 16:57:50 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 8845F15A0723; Thu, 21 Jan 2016 17:57:48 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453395468; bh=Jw4uG3N4pfWaCPenNXrXEtyTiyh3a/sSxf2NhJY+2N8=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=QB/Souue9ZHcdvYnASMsbGpZK+9vYqNJDxRzESZjgGQfmSUgUsWY3VFqM5lmnxalE
	 LmBSD7BcOWKohKNkyL9cBeUzMaSwXbT8vWRuKs+0nzevEOIisuCzxFRg+Zhq/vswnX
	 q5TAFiiUh2pIRlTmVzufEVrsJmzIrklUyx+/t9Q4=
Received: from [192.168.1.146] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 20EF515A0577
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 17:57:47 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453395467; bh=Jw4uG3N4pfWaCPenNXrXEtyTiyh3a/sSxf2NhJY+2N8=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=i9+1EGBGBnFUAjGunI0tFa6jOJPuqIVkdUq+HIvwDkxHQjO39j1DwJC+f+b4aiDSm
	 hkdQNzUN6suina/kW2VRQ2EqyQUYsWcLQeVbw/flbmegkuX0qEHhOvaf4SYcvQKp1C
	 yDsqyTjuIkBm7ZJUTaxO8Slt33+AzdVsG7XSlbkA=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: svn commit: r1726009 - in /httpd/httpd/trunk: include/scoreboard.h modules/generators/mod_status.c modules/ssl/ssl_engine_kernel.c server/scoreboard.c
Message-Id: <25E0E088-0A8C-48C3-9893-3B70C5D3ABD7@greenbytes.de>
Date: Thu, 21 Jan 2016 17:57:46 +0100
References: <20160121163633.CA1003A008E@svn01-us-west.apache.org> <D0AB1FED-35DA-468C-9961-FA8FC735A028@jaguNET.com>
In-Reply-To: <D0AB1FED-35DA-468C-9961-FA8FC735A028@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: iPhone Mail (13D15)

Ah, of course, just a moment...

> Am 21.01.2016 um 17:54 schrieb Jim Jagielski <jim@jaguNET.com>:
>=20
> Not seeing a mmn bump... ?
>=20
>> On Jan 21, 2016, at 11:36 AM, icing@apache.org wrote:
>>=20
>> Author: icing
>> Date: Thu Jan 21 16:36:33 2016
>> New Revision: 1726009
>>=20
>> URL: http://svn.apache.org/viewvc?rev=3D1726009&view=3Drev
>> Log:
>> scoreboard addition of protocol, new ap_udpte_child_status methods
>>=20
>> Modified:
>>   httpd/httpd/trunk/include/scoreboard.h
>>   httpd/httpd/trunk/modules/generators/mod_status.c
>>   httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
>>   httpd/httpd/trunk/server/scoreboard.c
>>=20
>> Modified: httpd/httpd/trunk/include/scoreboard.h
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/include/scoreboard.h?=
rev=3D1726009&r1=3D1726008&r2=3D1726009&view=3Ddiff
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D
>> --- httpd/httpd/trunk/include/scoreboard.h (original)
>> +++ httpd/httpd/trunk/include/scoreboard.h Thu Jan 21 16:36:33 2016
>> @@ -115,6 +115,7 @@ struct worker_score {
>>    char client[40];            /* Keep 'em small... but large enough to h=
old an IPv6 address */
>>    char request[64];           /* We just want an idea... */
>>    char vhost[32];             /* What virtual host is being accessed? */=

>> +    char protocol[16];          /* What protocol is used on the connecti=
on? */
>> };
>>=20
>> typedef struct {
>> @@ -181,6 +182,10 @@ AP_DECLARE(int) ap_update_child_status(a
>> AP_DECLARE(int) ap_update_child_status_from_indexes(int child_num, int th=
read_num,
>>                                                    int status, request_re=
c *r);
>> AP_DECLARE(int) ap_update_child_status_from_conn(ap_sb_handle_t *sbh, int=
 status, conn_rec *c);
>> +AP_DECLARE(int) ap_update_child_status_from_server(ap_sb_handle_t *sbh, i=
nt status,=20
>> +                                                   conn_rec *c, server_r=
ec *s);
>> +AP_DECLARE(int) ap_update_child_status_descr(ap_sb_handle_t *sbh, int st=
atus, const char *descr);
>> +
>> AP_DECLARE(void) ap_time_process_request(ap_sb_handle_t *sbh, int status)=
;
>>=20
>> AP_DECLARE(worker_score *) ap_get_scoreboard_worker(ap_sb_handle_t *sbh);=

>>=20
>> Modified: httpd/httpd/trunk/modules/generators/mod_status.c
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/generators/mo=
d_status.c?rev=3D1726009&r1=3D1726008&r2=3D1726009&view=3Ddiff
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D
>> --- httpd/httpd/trunk/modules/generators/mod_status.c (original)
>> +++ httpd/httpd/trunk/modules/generators/mod_status.c Thu Jan 21 16:36:33=
 2016
>> @@ -662,7 +662,7 @@ static int status_handler(request_rec *r
>> #endif
>>                     "<th>SS</th><th>Req</th>"
>>                     "<th>Conn</th><th>Child</th><th>Slot</th>"
>> -                     "<th>Client</th><th>VHost</th>"
>> +                     "<th>Client</th><th>Protocol</th><th>VHost</th>"
>>                     "<th>Request</th></tr>\n\n", r);
>>=20
>>        for (i =3D 0; i < server_limit; ++i) {
>> @@ -776,13 +776,15 @@ static int status_handler(request_rec *r
>>                    format_byte_out(r, bytes);
>>                    ap_rputs(")\n", r);
>>                    ap_rprintf(r,
>> -                               " <i>%s {%s}</i> <b>[%s]</b><br />\n\n",
>> +                               " <i>%s {%s}</i> <i>(%s)</i> <b>[%s]</b><=
br />\n\n",
>>                               ap_escape_html(r->pool,
>>                                              ws_record->client),
>>                               ap_escape_html(r->pool,
>>                                              ap_escape_logitem(r->pool,
>>                                                                ws_record-=
>request)),
>>                               ap_escape_html(r->pool,
>> +                                              ws_record->protocol),
>> +                               ap_escape_html(r->pool,
>>                                              ws_record->vhost));
>>                }
>>                else { /* !no_table_report */
>> @@ -860,11 +862,13 @@ static int status_handler(request_rec *r
>>                               (float)conn_bytes / KBYTE, (float) my_bytes=
 / MBYTE,
>>                               (float)bytes / MBYTE);
>>=20
>> -                    ap_rprintf(r, "</td><td>%s</td><td nowrap>%s</td>"
>> +                    ap_rprintf(r, "</td><td>%s</td><td>%s</td><td nowrap=
>%s</td>"
>>                                  "<td nowrap>%s</td></tr>\n\n",
>>                               ap_escape_html(r->pool,
>>                                              ws_record->client),
>>                               ap_escape_html(r->pool,
>> +                                              ws_record->protocol),
>> +                               ap_escape_html(r->pool,
>>                                              ws_record->vhost),
>>                               ap_escape_html(r->pool,
>>                                              ap_escape_logitem(r->pool,
>>=20
>> Modified: httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_engin=
e_kernel.c?rev=3D1726009&r1=3D1726008&r2=3D1726009&view=3Ddiff
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D
>> --- httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c (original)
>> +++ httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c Thu Jan 21 16:36:33=
 2016
>> @@ -31,6 +31,7 @@
>> #include "ssl_private.h"
>> #include "mod_ssl.h"
>> #include "util_md5.h"
>> +#include "scoreboard.h"
>>=20
>> static void ssl_configure_env(request_rec *r, SSLConnRec *sslconn);
>> #ifdef HAVE_TLSEXT
>> @@ -2218,6 +2219,7 @@ static int ssl_find_vhost(void *serverna
>>        sslcon->server =3D s;
>>        sslcon->cipher_suite =3D sc->server->auth.cipher_suite;
>>=20
>> +        ap_update_child_status_from_server(c->sbh, SERVER_BUSY_READ, c, s=
);
>>        /*
>>         * There is one special filter callback, which is set
>>         * very early depending on the base_server's log level.
>>=20
>> Modified: httpd/httpd/trunk/server/scoreboard.c
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/scoreboard.c?r=
ev=3D1726009&r1=3D1726008&r2=3D1726009&view=3Ddiff
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D
>> --- httpd/httpd/trunk/server/scoreboard.c (original)
>> +++ httpd/httpd/trunk/server/scoreboard.c Thu Jan 21 16:36:33 2016
>> @@ -32,6 +32,7 @@
>> #include "http_main.h"
>> #include "http_core.h"
>> #include "http_config.h"
>> +#include "http_protocol.h"
>> #include "ap_mpm.h"
>>=20
>> #include "scoreboard.h"
>> @@ -457,7 +458,9 @@ static int update_child_status_internal(
>>                                        int thread_num,
>>                                        int status,
>>                                        conn_rec *c,
>> -                                        request_rec *r)
>> +                                        server_rec *s,
>> +                                        request_rec *r,
>> +                                        const char *descr)
>> {
>>    int old_status;
>>    worker_score *ws;
>> @@ -466,18 +469,22 @@ static int update_child_status_internal(
>>=20
>>    ws =3D &ap_scoreboard_image->servers[child_num][thread_num];
>>    old_status =3D ws->status;
>> -    ws->status =3D status;
>> -
>> -    ps =3D &ap_scoreboard_image->parent[child_num];
>> -
>> -    if (status =3D=3D SERVER_READY
>> -        && old_status =3D=3D SERVER_STARTING) {
>> -        ws->thread_num =3D child_num * thread_limit + thread_num;
>> -        ap_mpm_query(AP_MPMQ_GENERATION, &mpm_generation);
>> -        ps->generation =3D mpm_generation;
>> +    if (status >=3D 0) {
>> +        ws->status =3D status;
>> +       =20
>> +        ps =3D &ap_scoreboard_image->parent[child_num];
>> +       =20
>> +        if (status =3D=3D SERVER_READY
>> +            && old_status =3D=3D SERVER_STARTING) {
>> +            ws->thread_num =3D child_num * thread_limit + thread_num;
>> +            ap_mpm_query(AP_MPMQ_GENERATION, &mpm_generation);
>> +            ps->generation =3D mpm_generation;
>> +        }
>>    }
>>=20
>>    if (ap_extended_status) {
>> +        const char *val;
>> +       =20
>>        if (status =3D=3D SERVER_READY || status =3D=3D SERVER_DEAD) {
>>            /*
>>             * Reset individual counters
>> @@ -490,27 +497,42 @@ static int update_child_status_internal(
>>            ws->conn_bytes =3D 0;
>>            ws->last_used =3D apr_time_now();
>>        }
>> -        if (r) {
>> -            const char *client =3D ap_get_remote_host(c, r->per_dir_conf=
ig,
>> -                                 REMOTE_NOLOOKUP, NULL);
>> -            if (!client || !strcmp(client, c->client_ip)) {
>> -                apr_cpystrn(ws->client, r->useragent_ip, sizeof(ws->clie=
nt));
>> +        if (status =3D=3D SERVER_READY) {
>> +            ws->client[0]=3D'\0';
>> +            ws->vhost[0]=3D'\0';
>> +            ws->request[0]=3D'\0';
>> +            ws->protocol[0]=3D'\0';
>> +        }
>> +        else {
>> +            if (descr) {
>> +                apr_cpystrn(ws->request, descr, sizeof(ws->request));
>>            }
>> -            else {
>> -                apr_cpystrn(ws->client, client, sizeof(ws->client));
>> +            else if (r) {
>> +                copy_request(ws->request, sizeof(ws->request), r);
>>            }
>> -            copy_request(ws->request, sizeof(ws->request), r);
>> -            if (r->server) {
>> -                apr_snprintf(ws->vhost, sizeof(ws->vhost), "%s:%d",
>> -                             r->server->server_hostname,
>> -                             r->connection->local_addr->port);
>> +            if (r || c) {
>> +                val =3D ap_get_remote_host(c, r? r->per_dir_config : NUL=
L,=20
>> +                                         REMOTE_NOLOOKUP, NULL);
>> +                if (r && (!val || !strcmp(val, c->client_ip))) {
>> +                    apr_cpystrn(ws->client, r->useragent_ip, sizeof(ws->=
client));
>> +                }
>> +                else {
>> +                    apr_cpystrn(ws->client, val, sizeof(ws->client));
>> +                }
>> +            }
>> +            if (s) {
>> +                if (c) {
>> +                    apr_snprintf(ws->vhost, sizeof(ws->vhost), "%s:%d",
>> +                                 s->server_hostname, c->local_addr->port=
);
>> +                }
>> +                else {
>> +                    apr_cpystrn(ws->vhost, s->server_hostname, sizeof(ws=
->vhost));
>> +                }
>> +            }
>> +            if (c) {
>> +                val =3D ap_get_protocol(c);
>> +                apr_cpystrn(ws->protocol, val, sizeof(ws->protocol));
>>            }
>> -        }
>> -        else if (c) {
>> -            apr_cpystrn(ws->client, ap_get_remote_host(c, NULL,
>> -                        REMOTE_NOLOOKUP, NULL), sizeof(ws->client));
>> -            ws->request[0]=3D'\0';
>> -            ws->vhost[0]=3D'\0';
>>        }
>>    }
>>=20
>> @@ -528,7 +550,8 @@ AP_DECLARE(int) ap_update_child_status_f
>>=20
>>    return update_child_status_internal(child_num, thread_num, status,
>>                                        r ? r->connection : NULL,
>> -                                        r);
>> +                                        r ? r->server : NULL,
>> +                                        r, NULL);
>> }
>>=20
>> AP_DECLARE(int) ap_update_child_status(ap_sb_handle_t *sbh, int status,
>> @@ -540,17 +563,37 @@ AP_DECLARE(int) ap_update_child_status(a
>>    return update_child_status_internal(sbh->child_num, sbh->thread_num,
>>                                        status,
>>                                        r ? r->connection : NULL,
>> -                                        r);
>> +                                        r ? r->server : NULL,
>> +                                        r, NULL);
>> }
>>=20
>> AP_DECLARE(int) ap_update_child_status_from_conn(ap_sb_handle_t *sbh, int=
 status,
>> -                                       conn_rec *c)
>> +                                                 conn_rec *c)
>> +{
>> +    if (!sbh || (sbh->child_num < 0))
>> +        return -1;
>> +
>> +    return update_child_status_internal(sbh->child_num, sbh->thread_num,=

>> +                                        status, c, NULL, NULL, NULL);
>> +}
>> +
>> +AP_DECLARE(int) ap_update_child_status_from_server(ap_sb_handle_t *sbh, i=
nt status,=20
>> +                                                   conn_rec *c, server_r=
ec *s)
>> +{
>> +    if (!sbh || (sbh->child_num < 0))
>> +        return -1;
>> +
>> +    return update_child_status_internal(sbh->child_num, sbh->thread_num,=

>> +                                        status, c, s, NULL, NULL);
>> +}
>> +
>> +AP_DECLARE(int) ap_update_child_status_descr(ap_sb_handle_t *sbh, int st=
atus, const char *descr)
>> {
>>    if (!sbh || (sbh->child_num < 0))
>>        return -1;
>>=20
>>    return update_child_status_internal(sbh->child_num, sbh->thread_num,
>> -                                        status, c, NULL);
>> +                                        status, NULL, NULL, NULL, descr)=
;
>> }
>>=20
>> AP_DECLARE(void) ap_time_process_request(ap_sb_handle_t *sbh, int status)=

>> @@ -605,6 +648,7 @@ AP_DECLARE(void) ap_copy_scoreboard_work
>>    dest->client[sizeof(dest->client) - 1] =3D '\0';
>>    dest->request[sizeof(dest->request) - 1] =3D '\0';
>>    dest->vhost[sizeof(dest->vhost) - 1] =3D '\0';
>> +    dest->protocol[sizeof(dest->protocol) - 1] =3D '\0';
>> }
>>=20
>> AP_DECLARE(process_score *) ap_get_scoreboard_process(int x)
>=20

From dev-return-85281-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 17:51:12 2016
Return-Path: <dev-return-85281-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 82A5918197
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 17:51:12 +0000 (UTC)
Received: (qmail 19483 invoked by uid 500); 21 Jan 2016 17:51:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19417 invoked by uid 500); 21 Jan 2016 17:51:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19407 invoked by uid 99); 21 Jan 2016 17:51:11 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 17:51:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C4149C0860
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 17:51:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.554
X-Spam-Level:
X-Spam-Status: No, score=-0.554 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 7-4GxOVvL8w5 for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 17:51:01 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id C6B1C203BE
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 17:51:00 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0LHoxYs004573
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:51:00 +0100 (CET)
Subject: Re: svn commit: r1725949 - /httpd/httpd/trunk/docs/manual/expr.xml
To: dev@httpd.apache.org
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org>
 <56A0F7EF.9040801@kippdata.de>
 <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com>
 <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com>
 <56A10CA6.2030807@kippdata.de>
 <4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56A11A7F.2000607@kippdata.de>
Date: Thu, 21 Jan 2016 18:50:55 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 21.01.2016 um 17:55 schrieb Jim Jagielski:
> even better!
>
> sounds cool.

First impl done in r1726038.

I guess you have everything in place to do a quick test? That would be nice.

svn log is:

Implement expr lookup in mod_proxy_hcheck for
variables whose names start with "HC_" and for
the new function hc().

Currently only HC_BODY and hc(body) are supported.
Both return the saved body of the health check
response to be used in an expr that decides about
success of a check.

Regards,

Rainer

>> On Jan 21, 2016, at 11:51 AM, Rainer Jung <rainer.jung@kippdata.de> wrote:
>>
>> Am 21.01.2016 um 17:03 schrieb Jim Jagielski:
>>> Did you want me to work on it, or are you?
>>
>> I just had some late lunch and started to think closer about it. Since kept_body was previously only used for request bodies, wouldn't it be nicer to *not* expose the HC response body under that name in the expression parser, and instead register an expr extension from HC which handles a new function, say hc(), with a first supported argument "body"? So hc(body) returns whatever HC wants to.
>>
>> You could still use the kept_body field in your impl (or some other place now or later) but we wouldn't expose this implementation detail to the outside world.
>>
>> I have already done an expr function extension in some custom module, it is pretty easy to do (and httpd uses that feature e.g. in mod_ssl).
>>
>> So yes, if you like I can do it. But do you like the idea?
>>
>> Regards,
>>
>> Rainer
>>
>>>> On Jan 21, 2016, at 10:25 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>>>
>>>> Sounds good to me!!
>>>>
>>>> thx!
>>>>
>>>>> On Jan 21, 2016, at 10:23 AM, Rainer Jung <rainer.jung@kippdata.de> wrote:
>>>>>
>>>>> I should have asked earlier: wouldn't it be more suitable to implement to response body as a variable instead of a function?
>>>>>
>>>>> When looking at server/util_expr_eval.c, I find request_var_names and request_var_fn. The former is a list of variable names, and the latter implements returning the values from parts of the request struct. Returning the flattened kept_body should be a good fit there as well, without having users wonder, why it is a function that requires an argument.
>>>>>
>>>>> If we expect further response stuff coming, we could also clone request_var_names and request_var_fn with new response_var_names and response_var_fn and add the variable as the first and currently only one there.
>>>>>
>>>>> The variable name could be KEPT_BODY.
>>>>>
>>>>> WDYT? I can also do the little reorg, but which way do we prefer?
>>>>>
>>>>> Regards,
>>>>>
>>>>> Rainer

From dev-return-85282-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 17:56:49 2016
Return-Path: <dev-return-85282-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 26792181BD
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 17:56:49 +0000 (UTC)
Received: (qmail 31371 invoked by uid 500); 21 Jan 2016 17:56:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 31310 invoked by uid 500); 21 Jan 2016 17:56:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 31300 invoked by uid 99); 21 Jan 2016 17:56:48 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 17:56:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 35AF8C17B0
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 17:56:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id ymL3KT_biTcW for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 17:56:42 +0000 (UTC)
Received: from resqmta-ch2-11v.sys.comcast.net (resqmta-ch2-11v.sys.comcast.net [69.252.207.43])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 64A2F439A7
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 17:56:42 +0000 (UTC)
Received: from resomta-ch2-09v.sys.comcast.net ([69.252.207.105])
	by resqmta-ch2-11v.sys.comcast.net with comcast
	id 8hvP1s00M2GyhjZ01hwcNv; Thu, 21 Jan 2016 17:56:36 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-09v.sys.comcast.net with comcast
	id 8hvs1s00Q2U0RYt01hwESg; Thu, 21 Jan 2016 17:56:14 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1726038 - /httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <20160121174922.32B953A01D9@svn01-us-west.apache.org>
Date: Thu, 21 Jan 2016 12:55:52 -0500
Cc: cvs@httpd.apache.org
Content-Transfer-Encoding: quoted-printable
Message-Id: <852C03FD-5797-4517-8A40-D51A34F494AB@jaguNET.com>
References: <20160121174922.32B953A01D9@svn01-us-west.apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453398996;
	bh=T30xrVk2Aue2Z3yReuK5be2T9NvxBUz9ZITugCbUiEM=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=ilNcNj7Ts1boPmUiWMXPMLVuedrIDSuZs9gFfExyQaGYLr5BdkB9w6IDNI+DTuZM8
	 Yleml4xhi/7arSPQLDDZSYxIdLdwPD+BAaYGCyCttcKGtC2S/8+Vc3PrrFEY7JHamt
	 tUpFJlYYrdJRzw7aB4sWkU8ky1pEkmDqVQF8k3XrGPC05SU7Ei6+abWnOUKD844oOY
	 gIjOVst/uXmLB/w6hKqxv9Eey/RZBTDVLFLGE4g3By2MQrEfMyt0alUCIQV+tcWdYq
	 Kx1lT4symV7NqF2oY98gOe9RqxTfQJyqFc1XMzs4mqtV9/3mJUrC/nfdlqBtZTfke+
	 7dkq6Qrgvuu0g==

This implies that the kept_body() func added to ap_expr should
be removed, right?=20

> On Jan 21, 2016, at 12:49 PM, rjung@apache.org wrote:
>=20
> Author: rjung
> Date: Thu Jan 21 17:49:21 2016
> New Revision: 1726038
>=20
> URL: http://svn.apache.org/viewvc?rev=3D1726038&view=3Drev
> Log:
> Implement expr lookup in mod_proxy_hcheck for
> variables whose names start with "HC_" and for
> the new function hc().
>=20
> Currently only HC_BODY and hc(body) are supported.
> Both return the saved body of the health check
> response to be used in an expr that decides about
> success of a check.
>=20
> Modified:
>    httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
>=20
> Modified: httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_hch=
eck.c?rev=3D1726038&r1=3D1726037&r2=3D1726038&view=3Ddiff
> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
> --- httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c (original)
> +++ httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c Thu Jan 21 =
17:49:21 2016
> @@ -926,6 +926,75 @@ static void hc_show_exprs(request_rec *r
>     ap_rputs("</table><hr/>\n", r);
> }
>=20
> +static const char *hc_get_body(request_rec *r)
> +{
> +    apr_off_t length;
> +    apr_size_t len;
> +    apr_status_t rv;
> +    char *buf;
> +
> +    if (!r || !r->kept_body)
> +        return "";
> +
> +    rv =3D apr_brigade_length(r->kept_body, 1, &length);
> +    len =3D (apr_size_t)length;
> +    if (rv !=3D APR_SUCCESS || len =3D=3D 0)
> +        return "";
> +
> +    buf =3D apr_palloc(r->pool, len + 1);
> +    rv =3D apr_brigade_flatten(r->kept_body, buf, &len);
> +    if (rv !=3D APR_SUCCESS)
> +        return "";
> +    buf[len] =3D '\0'; /* ensure */
> +    return (const char*)buf;
> +}
> +
> +static const char *hc_expr_var_fn(ap_expr_eval_ctx_t *ctx, const void =
*data)
> +{
> +    char *var =3D (char *)data;
> +
> +    if (var && *var && ctx->r && ap_casecmpstr(var, "BODY") =3D=3D 0) =
{
> +        return hc_get_body(ctx->r);
> +    }
> +    return NULL;
> +}
> +
> +static const char *hc_expr_func_fn(ap_expr_eval_ctx_t *ctx, const =
void *data,
> +                                const char *arg)
> +{
> +    char *var =3D (char *)arg;
> +
> +    if (var && *var && ctx->r && ap_casecmpstr(var, "BODY") =3D=3D 0) =
{
> +        return hc_get_body(ctx->r);
> +    }
> +    return NULL;
> +}
> +
> +static int hc_expr_lookup(ap_expr_lookup_parms *parms)
> +{
> +    switch (parms->type) {
> +    case AP_EXPR_FUNC_VAR:
> +        /* for now, we just handle everything that starts with HC_.
> +         */
> +        if (strncasecmp(parms->name, "HC_", 3) =3D=3D 0) {
> +            *parms->func =3D hc_expr_var_fn;
> +            *parms->data =3D parms->name + 4;
> +            return OK;
> +        }
> +        break;
> +    case AP_EXPR_FUNC_STRING:
> +        /* Function HC() is implemented by us.
> +         */
> +        if (strcasecmp(parms->name, "HC") =3D=3D 0) {
> +            *parms->func =3D hc_expr_func_fn;
> +            *parms->data =3D NULL;
> +            return OK;
> +        }
> +        break;
> +    }
> +    return DECLINED;
> +}
> +
> static const command_rec command_table[] =3D {
>     AP_INIT_RAW_ARGS("ProxyHCTemplate", set_hc_template, NULL, =
OR_FILEINFO,
>                      "Health check template"),
> @@ -941,6 +1010,7 @@ static void hc_register_hooks(apr_pool_t
>     APR_REGISTER_OPTIONAL_FN(set_worker_hc_param);
>     APR_REGISTER_OPTIONAL_FN(hc_show_exprs);
>     ap_hook_post_config(hc_post_config, aszPre, aszSucc, =
APR_HOOK_LAST);
> +    ap_hook_expr_lookup(hc_expr_lookup, NULL, NULL, APR_HOOK_MIDDLE);
> }
>=20
> /* the main config structure */
>=20
>=20


From dev-return-85283-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 18:00:26 2016
Return-Path: <dev-return-85283-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AD1BB181E9
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 18:00:26 +0000 (UTC)
Received: (qmail 37765 invoked by uid 500); 21 Jan 2016 18:00:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37698 invoked by uid 500); 21 Jan 2016 18:00:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37688 invoked by uid 99); 21 Jan 2016 18:00:26 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 18:00:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C77C2C1879
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:00:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 9lod_wOSmbOp for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 18:00:16 +0000 (UTC)
Received: from resqmta-po-07v.sys.comcast.net (resqmta-po-07v.sys.comcast.net [96.114.154.166])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 21FB0256E0
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:00:16 +0000 (UTC)
Received: from resomta-po-19v.sys.comcast.net ([96.114.154.243])
	by resqmta-po-07v.sys.comcast.net with comcast
	id 8i041s00D5FMDhs01i09Tz; Thu, 21 Jan 2016 18:00:09 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-19v.sys.comcast.net with comcast
	id 8hz21s00R2U0RYt01hzQEu; Thu, 21 Jan 2016 17:59:24 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1726038 - /httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <852C03FD-5797-4517-8A40-D51A34F494AB@jaguNET.com>
Date: Thu, 21 Jan 2016 12:59:02 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <903EB6B4-D3A9-4289-9E09-C6880ACB5370@jaguNET.com>
References: <20160121174922.32B953A01D9@svn01-us-west.apache.org> <852C03FD-5797-4517-8A40-D51A34F494AB@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453399209;
	bh=VxF/fKlF41mwV+TRofwPsgfvtaCH53Wg1dxIoD/oG9Y=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=V9IadEHpOI9K1juXfE0P/2WXgBAnAmiX5bZCZ6nIx8QJrH+mwBH674/4lb0SQuSmK
	 TQyOGqjC+JtXzUjab5FOx8wXPaKYgqYv7nMGpveoIzoQnBRoGdQM6UeNjrSNFIaWzD
	 dlZ4nHAbi/zrMT/UpVBUMweuDdUpOLVGE+QTPCxIyPjVqXjkQMwGyFzWloV3CzMCNZ
	 gbARQjk366luwBRGmD1shDXgubmcgRHpjoXkzxK1o/e1mKLeOkezQ8MElJKPXYsVlB
	 LhyvgxfDRq8Niri31/ThhFNtuG9UdABsTwURkJuwW6IW4u2BB8oND62RDBPOjqhosO
	 6vnJ/sA2Qkb7Q==

BTW: that is so cool. No idea we could do that w/ ap_expr!

> On Jan 21, 2016, at 12:55 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> This implies that the kept_body() func added to ap_expr should
> be removed, right?=20
>=20
>> On Jan 21, 2016, at 12:49 PM, rjung@apache.org wrote:
>>=20
>> Author: rjung
>> Date: Thu Jan 21 17:49:21 2016
>> New Revision: 1726038
>>=20
>> URL: http://svn.apache.org/viewvc?rev=3D1726038&view=3Drev
>> Log:
>> Implement expr lookup in mod_proxy_hcheck for
>> variables whose names start with "HC_" and for
>> the new function hc().
>>=20
>> Currently only HC_BODY and hc(body) are supported.
>> Both return the saved body of the health check
>> response to be used in an expr that decides about
>> success of a check.
>>=20
>> Modified:
>>   httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
>>=20
>> Modified: httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_hch=
eck.c?rev=3D1726038&r1=3D1726037&r2=3D1726038&view=3Ddiff
>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>> --- httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c (original)
>> +++ httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c Thu Jan 21 =
17:49:21 2016
>> @@ -926,6 +926,75 @@ static void hc_show_exprs(request_rec *r
>>    ap_rputs("</table><hr/>\n", r);
>> }
>>=20
>> +static const char *hc_get_body(request_rec *r)
>> +{
>> +    apr_off_t length;
>> +    apr_size_t len;
>> +    apr_status_t rv;
>> +    char *buf;
>> +
>> +    if (!r || !r->kept_body)
>> +        return "";
>> +
>> +    rv =3D apr_brigade_length(r->kept_body, 1, &length);
>> +    len =3D (apr_size_t)length;
>> +    if (rv !=3D APR_SUCCESS || len =3D=3D 0)
>> +        return "";
>> +
>> +    buf =3D apr_palloc(r->pool, len + 1);
>> +    rv =3D apr_brigade_flatten(r->kept_body, buf, &len);
>> +    if (rv !=3D APR_SUCCESS)
>> +        return "";
>> +    buf[len] =3D '\0'; /* ensure */
>> +    return (const char*)buf;
>> +}
>> +
>> +static const char *hc_expr_var_fn(ap_expr_eval_ctx_t *ctx, const =
void *data)
>> +{
>> +    char *var =3D (char *)data;
>> +
>> +    if (var && *var && ctx->r && ap_casecmpstr(var, "BODY") =3D=3D =
0) {
>> +        return hc_get_body(ctx->r);
>> +    }
>> +    return NULL;
>> +}
>> +
>> +static const char *hc_expr_func_fn(ap_expr_eval_ctx_t *ctx, const =
void *data,
>> +                                const char *arg)
>> +{
>> +    char *var =3D (char *)arg;
>> +
>> +    if (var && *var && ctx->r && ap_casecmpstr(var, "BODY") =3D=3D =
0) {
>> +        return hc_get_body(ctx->r);
>> +    }
>> +    return NULL;
>> +}
>> +
>> +static int hc_expr_lookup(ap_expr_lookup_parms *parms)
>> +{
>> +    switch (parms->type) {
>> +    case AP_EXPR_FUNC_VAR:
>> +        /* for now, we just handle everything that starts with HC_.
>> +         */
>> +        if (strncasecmp(parms->name, "HC_", 3) =3D=3D 0) {
>> +            *parms->func =3D hc_expr_var_fn;
>> +            *parms->data =3D parms->name + 4;
>> +            return OK;
>> +        }
>> +        break;
>> +    case AP_EXPR_FUNC_STRING:
>> +        /* Function HC() is implemented by us.
>> +         */
>> +        if (strcasecmp(parms->name, "HC") =3D=3D 0) {
>> +            *parms->func =3D hc_expr_func_fn;
>> +            *parms->data =3D NULL;
>> +            return OK;
>> +        }
>> +        break;
>> +    }
>> +    return DECLINED;
>> +}
>> +
>> static const command_rec command_table[] =3D {
>>    AP_INIT_RAW_ARGS("ProxyHCTemplate", set_hc_template, NULL, =
OR_FILEINFO,
>>                     "Health check template"),
>> @@ -941,6 +1010,7 @@ static void hc_register_hooks(apr_pool_t
>>    APR_REGISTER_OPTIONAL_FN(set_worker_hc_param);
>>    APR_REGISTER_OPTIONAL_FN(hc_show_exprs);
>>    ap_hook_post_config(hc_post_config, aszPre, aszSucc, =
APR_HOOK_LAST);
>> +    ap_hook_expr_lookup(hc_expr_lookup, NULL, NULL, =
APR_HOOK_MIDDLE);
>> }
>>=20
>> /* the main config structure */
>>=20
>>=20
>=20


From dev-return-85284-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 18:06:54 2016
Return-Path: <dev-return-85284-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 38E481823A
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 18:06:54 +0000 (UTC)
Received: (qmail 58287 invoked by uid 500); 21 Jan 2016 18:06:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58227 invoked by uid 500); 21 Jan 2016 18:06:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58217 invoked by uid 99); 21 Jan 2016 18:06:53 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 18:06:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 494ECC187F
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:06:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id a-ELePv3-umH for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 18:06:43 +0000 (UTC)
Received: from resqmta-po-06v.sys.comcast.net (resqmta-po-06v.sys.comcast.net [96.114.154.165])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 8E772428ED
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:06:43 +0000 (UTC)
Received: from resomta-po-12v.sys.comcast.net ([96.114.154.236])
	by resqmta-po-06v.sys.comcast.net with comcast
	id 8i501s00856HXL001i6dwe; Thu, 21 Jan 2016 18:06:37 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-12v.sys.comcast.net with comcast
	id 8i6c1s00B2U0RYt01i6c1M; Thu, 21 Jan 2016 18:06:37 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1725949 - /httpd/httpd/trunk/docs/manual/expr.xml
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56A11A7F.2000607@kippdata.de>
Date: Thu, 21 Jan 2016 13:06:36 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <473DB6E1-87EE-41A5-AF40-529E2D6C073B@jaguNET.com>
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org> <56A0F7EF.9040801@kippdata.de> <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com> <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com> <56A10CA6.2030807@kippdata.de> <4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com> <56A11A7F.2000607@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453399597;
	bh=/XtHqpBhIY8yMEaEmyyuUisa7U3NJRq5MZBpB67m4n4=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=OfTFGvcp7THzlPyAvBAvqH7COZ1AFCD/+/O7diL4i6m6v9nXUMELI3moBHmq2AG3Y
	 3dBLpFGQngN1Rg9vunDQcBvU0q0R8DkJ5tK06+zaAOOy+1jWdanbVTWN/WxtVE2TeQ
	 JGMdMTZEcnAHIouA1kpWN5QVGlqtIzPwSJEkUNEk6YSWTDmFmFm87MwbUPFazF0ym9
	 q5ua1nwL0/CmuUNcqxBYHryS+EPIXWI/NJa78xoIsJDVtlxPBuxCDiRwf1R33Xlock
	 31PtgrvOKx9mp4kzQ+rHFjMIpepIqfysG71fu0E6ODCMOn9/0ucMlPw2A1C3pybst6
	 UIqdMmlXjv/Gg==

I get:

    AH00102: [Thu Jan 21 18:05:44 2016] file util_expr_eval.c, line 218, =
assertion "data !=3D ((void*)0)" failed


> On Jan 21, 2016, at 12:50 PM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>=20
> Am 21.01.2016 um 17:55 schrieb Jim Jagielski:
>> even better!
>>=20
>> sounds cool.
>=20
> First impl done in r1726038.
>=20
> I guess you have everything in place to do a quick test? That would be =
nice.
>=20
> svn log is:
>=20
> Implement expr lookup in mod_proxy_hcheck for
> variables whose names start with "HC_" and for
> the new function hc().
>=20
> Currently only HC_BODY and hc(body) are supported.
> Both return the saved body of the health check
> response to be used in an expr that decides about
> success of a check.
>=20
> Regards,
>=20
> Rainer
>=20
>>> On Jan 21, 2016, at 11:51 AM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>>>=20
>>> Am 21.01.2016 um 17:03 schrieb Jim Jagielski:
>>>> Did you want me to work on it, or are you?
>>>=20
>>> I just had some late lunch and started to think closer about it. =
Since kept_body was previously only used for request bodies, wouldn't it =
be nicer to *not* expose the HC response body under that name in the =
expression parser, and instead register an expr extension from HC which =
handles a new function, say hc(), with a first supported argument =
"body"? So hc(body) returns whatever HC wants to.
>>>=20
>>> You could still use the kept_body field in your impl (or some other =
place now or later) but we wouldn't expose this implementation detail to =
the outside world.
>>>=20
>>> I have already done an expr function extension in some custom =
module, it is pretty easy to do (and httpd uses that feature e.g. in =
mod_ssl).
>>>=20
>>> So yes, if you like I can do it. But do you like the idea?
>>>=20
>>> Regards,
>>>=20
>>> Rainer
>>>=20
>>>>> On Jan 21, 2016, at 10:25 AM, Jim Jagielski <jim@jaguNET.com> =
wrote:
>>>>>=20
>>>>> Sounds good to me!!
>>>>>=20
>>>>> thx!
>>>>>=20
>>>>>> On Jan 21, 2016, at 10:23 AM, Rainer Jung =
<rainer.jung@kippdata.de> wrote:
>>>>>>=20
>>>>>> I should have asked earlier: wouldn't it be more suitable to =
implement to response body as a variable instead of a function?
>>>>>>=20
>>>>>> When looking at server/util_expr_eval.c, I find request_var_names =
and request_var_fn. The former is a list of variable names, and the =
latter implements returning the values from parts of the request struct. =
Returning the flattened kept_body should be a good fit there as well, =
without having users wonder, why it is a function that requires an =
argument.
>>>>>>=20
>>>>>> If we expect further response stuff coming, we could also clone =
request_var_names and request_var_fn with new response_var_names and =
response_var_fn and add the variable as the first and currently only one =
there.
>>>>>>=20
>>>>>> The variable name could be KEPT_BODY.
>>>>>>=20
>>>>>> WDYT? I can also do the little reorg, but which way do we prefer?
>>>>>>=20
>>>>>> Regards,
>>>>>>=20
>>>>>> Rainer


From dev-return-85285-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 18:06:58 2016
Return-Path: <dev-return-85285-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5E5F01823F
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 18:06:58 +0000 (UTC)
Received: (qmail 59390 invoked by uid 500); 21 Jan 2016 18:06:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59316 invoked by uid 500); 21 Jan 2016 18:06:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59245 invoked by uid 99); 21 Jan 2016 18:06:57 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 18:06:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7AFE7180519
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:06:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.555
X-Spam-Level:
X-Spam-Status: No, score=-0.555 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id sVijgbDBKgko for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 18:06:55 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id CC91723016
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:06:54 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0LI6roL004751
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 19:06:54 +0100 (CET)
Subject: Re: svn commit: r1726038 -
 /httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
To: dev@httpd.apache.org
References: <20160121174922.32B953A01D9@svn01-us-west.apache.org>
 <852C03FD-5797-4517-8A40-D51A34F494AB@jaguNET.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56A11E39.7060101@kippdata.de>
Date: Thu, 21 Jan 2016 19:06:49 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <852C03FD-5797-4517-8A40-D51A34F494AB@jaguNET.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 21.01.2016 um 18:55 schrieb Jim Jagielski:
> This implies that the kept_body() func added to ap_expr should
> be removed, right?

At least it is no longer needed for proxy_hcheck. If we want to provide 
the original kept_body as used by mod_request to expr we can keep it. I 
don't know whether such use is sensible, but maybe best at this point to 
remove it after you can confirm the new approach works for you.

Regards,

Rainer

>> On Jan 21, 2016, at 12:49 PM, rjung@apache.org wrote:
>>
>> Author: rjung
>> Date: Thu Jan 21 17:49:21 2016
>> New Revision: 1726038
>>
>> URL: http://svn.apache.org/viewvc?rev=1726038&view=rev
>> Log:
>> Implement expr lookup in mod_proxy_hcheck for
>> variables whose names start with "HC_" and for
>> the new function hc().
>>
>> Currently only HC_BODY and hc(body) are supported.
>> Both return the saved body of the health check
>> response to be used in an expr that decides about
>> success of a check.
>>
>> Modified:
>>     httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
>>
>> Modified: httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c?rev=1726038&r1=1726037&r2=1726038&view=diff
>> ==============================================================================
>> --- httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c (original)
>> +++ httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c Thu Jan 21 17:49:21 2016
>> @@ -926,6 +926,75 @@ static void hc_show_exprs(request_rec *r
>>      ap_rputs("</table><hr/>\n", r);
>> }
>>
>> +static const char *hc_get_body(request_rec *r)
>> +{
>> +    apr_off_t length;
>> +    apr_size_t len;
>> +    apr_status_t rv;
>> +    char *buf;
>> +
>> +    if (!r || !r->kept_body)
>> +        return "";
>> +
>> +    rv = apr_brigade_length(r->kept_body, 1, &length);
>> +    len = (apr_size_t)length;
>> +    if (rv != APR_SUCCESS || len == 0)
>> +        return "";
>> +
>> +    buf = apr_palloc(r->pool, len + 1);
>> +    rv = apr_brigade_flatten(r->kept_body, buf, &len);
>> +    if (rv != APR_SUCCESS)
>> +        return "";
>> +    buf[len] = '\0'; /* ensure */
>> +    return (const char*)buf;
>> +}
>> +
>> +static const char *hc_expr_var_fn(ap_expr_eval_ctx_t *ctx, const void *data)
>> +{
>> +    char *var = (char *)data;
>> +
>> +    if (var && *var && ctx->r && ap_casecmpstr(var, "BODY") == 0) {
>> +        return hc_get_body(ctx->r);
>> +    }
>> +    return NULL;
>> +}
>> +
>> +static const char *hc_expr_func_fn(ap_expr_eval_ctx_t *ctx, const void *data,
>> +                                const char *arg)
>> +{
>> +    char *var = (char *)arg;
>> +
>> +    if (var && *var && ctx->r && ap_casecmpstr(var, "BODY") == 0) {
>> +        return hc_get_body(ctx->r);
>> +    }
>> +    return NULL;
>> +}
>> +
>> +static int hc_expr_lookup(ap_expr_lookup_parms *parms)
>> +{
>> +    switch (parms->type) {
>> +    case AP_EXPR_FUNC_VAR:
>> +        /* for now, we just handle everything that starts with HC_.
>> +         */
>> +        if (strncasecmp(parms->name, "HC_", 3) == 0) {
>> +            *parms->func = hc_expr_var_fn;
>> +            *parms->data = parms->name + 4;
>> +            return OK;
>> +        }
>> +        break;
>> +    case AP_EXPR_FUNC_STRING:
>> +        /* Function HC() is implemented by us.
>> +         */
>> +        if (strcasecmp(parms->name, "HC") == 0) {
>> +            *parms->func = hc_expr_func_fn;
>> +            *parms->data = NULL;
>> +            return OK;
>> +        }
>> +        break;
>> +    }
>> +    return DECLINED;
>> +}
>> +
>> static const command_rec command_table[] = {
>>      AP_INIT_RAW_ARGS("ProxyHCTemplate", set_hc_template, NULL, OR_FILEINFO,
>>                       "Health check template"),
>> @@ -941,6 +1010,7 @@ static void hc_register_hooks(apr_pool_t
>>      APR_REGISTER_OPTIONAL_FN(set_worker_hc_param);
>>      APR_REGISTER_OPTIONAL_FN(hc_show_exprs);
>>      ap_hook_post_config(hc_post_config, aszPre, aszSucc, APR_HOOK_LAST);
>> +    ap_hook_expr_lookup(hc_expr_lookup, NULL, NULL, APR_HOOK_MIDDLE);
>> }
>>
>> /* the main config structure */

From dev-return-85286-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 18:09:04 2016
Return-Path: <dev-return-85286-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8E7A518249
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 18:09:04 +0000 (UTC)
Received: (qmail 63040 invoked by uid 500); 21 Jan 2016 18:09:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62976 invoked by uid 500); 21 Jan 2016 18:09:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62966 invoked by uid 99); 21 Jan 2016 18:09:04 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 18:09:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 8F94DC1883
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:09:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 1nRakYcC2lZX for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 18:08:53 +0000 (UTC)
Received: from resqmta-ch2-01v.sys.comcast.net (resqmta-ch2-01v.sys.comcast.net [69.252.207.33])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id C6108428ED
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:08:52 +0000 (UTC)
Received: from resomta-ch2-14v.sys.comcast.net ([69.252.207.110])
	by resqmta-ch2-01v.sys.comcast.net with comcast
	id 8i6w1s0072PT3Qt01i8sxM; Thu, 21 Jan 2016 18:08:52 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-14v.sys.comcast.net with comcast
	id 8i8q1s0062U0RYt01i8qF2; Thu, 21 Jan 2016 18:08:52 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1725949 - /httpd/httpd/trunk/docs/manual/expr.xml
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <473DB6E1-87EE-41A5-AF40-529E2D6C073B@jaguNET.com>
Date: Thu, 21 Jan 2016 13:08:50 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <CB3FF225-DF9C-4CC1-A4B2-AABD38700AEF@jaguNET.com>
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org> <56A0F7EF.9040801@kippdata.de> <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com> <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com> <56A10CA6.2030807@kippdata.de> <4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com> <56A11A7F.2000607@kippdata.de> <473DB6E1-87EE-41A5-AF40-529E2D6C073B@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453399732;
	bh=29J+ZyU9j7DlXoBiSOLTr7kQluue8ur+1Cnogo/jAKg=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=ev4VepXliHhCEZ+DrWA8t8F/e7AMHoRJmjh6pFzmr6y1z6/tm2DyIDigX9HsJUQBw
	 KXW0lT7KvDhAPKCsqJtA0MZ9GATGhrqHvHPQcn4dV6/78U6k+gBm194ax1sVwWbLUN
	 y36oQ5fs6R7WdGPsdj08lrCXyfUWvixo0I/+KYZAD1QHTCXME/DDVyiGpW8xukoVlV
	 nIzO7ZWsNqdSQThtpMZARX/Irv8Dxz5tJmgsnBbSv5YxkeK/SuujxR6pATm0IAy7V+
	 DZ824Fnkp3iHthN3jo9B/+eeho6r6Lv9IddVADzntbyOtg8C6gfuOsyFNAgzA0Ea6s
	 EGYa5073EIq/g==

That is with:

  ProxyHCExpr foof2 {hc('body') !~ /domain is established/}

With

  ProxyHCExpr foof2 {kept_body('body') !~ /domain is established/}

it works as expected.

Thx!
> On Jan 21, 2016, at 1:06 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> I get:
>=20
>    AH00102: [Thu Jan 21 18:05:44 2016] file util_expr_eval.c, line =
218, assertion "data !=3D ((void*)0)" failed
>=20
>=20
>> On Jan 21, 2016, at 12:50 PM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>>=20
>> Am 21.01.2016 um 17:55 schrieb Jim Jagielski:
>>> even better!
>>>=20
>>> sounds cool.
>>=20
>> First impl done in r1726038.
>>=20
>> I guess you have everything in place to do a quick test? That would =
be nice.
>>=20
>> svn log is:
>>=20
>> Implement expr lookup in mod_proxy_hcheck for
>> variables whose names start with "HC_" and for
>> the new function hc().
>>=20
>> Currently only HC_BODY and hc(body) are supported.
>> Both return the saved body of the health check
>> response to be used in an expr that decides about
>> success of a check.
>>=20
>> Regards,
>>=20
>> Rainer
>>=20
>>>> On Jan 21, 2016, at 11:51 AM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>>>>=20
>>>> Am 21.01.2016 um 17:03 schrieb Jim Jagielski:
>>>>> Did you want me to work on it, or are you?
>>>>=20
>>>> I just had some late lunch and started to think closer about it. =
Since kept_body was previously only used for request bodies, wouldn't it =
be nicer to *not* expose the HC response body under that name in the =
expression parser, and instead register an expr extension from HC which =
handles a new function, say hc(), with a first supported argument =
"body"? So hc(body) returns whatever HC wants to.
>>>>=20
>>>> You could still use the kept_body field in your impl (or some other =
place now or later) but we wouldn't expose this implementation detail to =
the outside world.
>>>>=20
>>>> I have already done an expr function extension in some custom =
module, it is pretty easy to do (and httpd uses that feature e.g. in =
mod_ssl).
>>>>=20
>>>> So yes, if you like I can do it. But do you like the idea?
>>>>=20
>>>> Regards,
>>>>=20
>>>> Rainer
>>>>=20
>>>>>> On Jan 21, 2016, at 10:25 AM, Jim Jagielski <jim@jaguNET.com> =
wrote:
>>>>>>=20
>>>>>> Sounds good to me!!
>>>>>>=20
>>>>>> thx!
>>>>>>=20
>>>>>>> On Jan 21, 2016, at 10:23 AM, Rainer Jung =
<rainer.jung@kippdata.de> wrote:
>>>>>>>=20
>>>>>>> I should have asked earlier: wouldn't it be more suitable to =
implement to response body as a variable instead of a function?
>>>>>>>=20
>>>>>>> When looking at server/util_expr_eval.c, I find =
request_var_names and request_var_fn. The former is a list of variable =
names, and the latter implements returning the values from parts of the =
request struct. Returning the flattened kept_body should be a good fit =
there as well, without having users wonder, why it is a function that =
requires an argument.
>>>>>>>=20
>>>>>>> If we expect further response stuff coming, we could also clone =
request_var_names and request_var_fn with new response_var_names and =
response_var_fn and add the variable as the first and currently only one =
there.
>>>>>>>=20
>>>>>>> The variable name could be KEPT_BODY.
>>>>>>>=20
>>>>>>> WDYT? I can also do the little reorg, but which way do we =
prefer?
>>>>>>>=20
>>>>>>> Regards,
>>>>>>>=20
>>>>>>> Rainer
>=20


From dev-return-85287-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 18:12:25 2016
Return-Path: <dev-return-85287-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D73BB18272
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 18:12:25 +0000 (UTC)
Received: (qmail 70563 invoked by uid 500); 21 Jan 2016 18:12:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70486 invoked by uid 500); 21 Jan 2016 18:12:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70476 invoked by uid 99); 21 Jan 2016 18:12:25 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 18:12:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E82B6C0179
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:12:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.554
X-Spam-Level:
X-Spam-Status: No, score=-0.554 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 1f7Pv9R1Q13r for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 18:12:17 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 767AE428ED
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:12:17 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0LICGHQ004807
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 19:12:16 +0100 (CET)
Subject: Re: svn commit: r1726038 -
 /httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
To: dev@httpd.apache.org
References: <20160121174922.32B953A01D9@svn01-us-west.apache.org>
 <852C03FD-5797-4517-8A40-D51A34F494AB@jaguNET.com>
 <903EB6B4-D3A9-4289-9E09-C6880ACB5370@jaguNET.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56A11F7B.6060009@kippdata.de>
Date: Thu, 21 Jan 2016 19:12:11 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <903EB6B4-D3A9-4289-9E09-C6880ACB5370@jaguNET.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 21.01.2016 um 18:59 schrieb Jim Jagielski:
> BTW: that is so cool. No idea we could do that w/ ap_expr!

Don't know whether it is useful but you can now easily provide more 
hcheck info to expr as long as there's code that returns that info and 
using it in success formulas is helpful. Like success or failure count 
(number of consecutive successes or failures) via hc(successes) or 
hc(failures). Simply connect the argument names with a function that 
returns the info.

Regards,

Rainer

>> On Jan 21, 2016, at 12:55 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>>
>> This implies that the kept_body() func added to ap_expr should
>> be removed, right?
>>
>>> On Jan 21, 2016, at 12:49 PM, rjung@apache.org wrote:
>>>
>>> Author: rjung
>>> Date: Thu Jan 21 17:49:21 2016
>>> New Revision: 1726038
>>>
>>> URL: http://svn.apache.org/viewvc?rev=1726038&view=rev
>>> Log:
>>> Implement expr lookup in mod_proxy_hcheck for
>>> variables whose names start with "HC_" and for
>>> the new function hc().
>>>
>>> Currently only HC_BODY and hc(body) are supported.
>>> Both return the saved body of the health check
>>> response to be used in an expr that decides about
>>> success of a check.
>>>
>>> Modified:
>>>    httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
>>>
>>> Modified: httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
>>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c?rev=1726038&r1=1726037&r2=1726038&view=diff
>>> ==============================================================================
>>> --- httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c (original)
>>> +++ httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c Thu Jan 21 17:49:21 2016
>>> @@ -926,6 +926,75 @@ static void hc_show_exprs(request_rec *r
>>>     ap_rputs("</table><hr/>\n", r);
>>> }
>>>
>>> +static const char *hc_get_body(request_rec *r)
>>> +{
>>> +    apr_off_t length;
>>> +    apr_size_t len;
>>> +    apr_status_t rv;
>>> +    char *buf;
>>> +
>>> +    if (!r || !r->kept_body)
>>> +        return "";
>>> +
>>> +    rv = apr_brigade_length(r->kept_body, 1, &length);
>>> +    len = (apr_size_t)length;
>>> +    if (rv != APR_SUCCESS || len == 0)
>>> +        return "";
>>> +
>>> +    buf = apr_palloc(r->pool, len + 1);
>>> +    rv = apr_brigade_flatten(r->kept_body, buf, &len);
>>> +    if (rv != APR_SUCCESS)
>>> +        return "";
>>> +    buf[len] = '\0'; /* ensure */
>>> +    return (const char*)buf;
>>> +}
>>> +
>>> +static const char *hc_expr_var_fn(ap_expr_eval_ctx_t *ctx, const void *data)
>>> +{
>>> +    char *var = (char *)data;
>>> +
>>> +    if (var && *var && ctx->r && ap_casecmpstr(var, "BODY") == 0) {
>>> +        return hc_get_body(ctx->r);
>>> +    }
>>> +    return NULL;
>>> +}
>>> +
>>> +static const char *hc_expr_func_fn(ap_expr_eval_ctx_t *ctx, const void *data,
>>> +                                const char *arg)
>>> +{
>>> +    char *var = (char *)arg;
>>> +
>>> +    if (var && *var && ctx->r && ap_casecmpstr(var, "BODY") == 0) {
>>> +        return hc_get_body(ctx->r);
>>> +    }
>>> +    return NULL;
>>> +}
>>> +
>>> +static int hc_expr_lookup(ap_expr_lookup_parms *parms)
>>> +{
>>> +    switch (parms->type) {
>>> +    case AP_EXPR_FUNC_VAR:
>>> +        /* for now, we just handle everything that starts with HC_.
>>> +         */
>>> +        if (strncasecmp(parms->name, "HC_", 3) == 0) {
>>> +            *parms->func = hc_expr_var_fn;
>>> +            *parms->data = parms->name + 4;
>>> +            return OK;
>>> +        }
>>> +        break;
>>> +    case AP_EXPR_FUNC_STRING:
>>> +        /* Function HC() is implemented by us.
>>> +         */
>>> +        if (strcasecmp(parms->name, "HC") == 0) {
>>> +            *parms->func = hc_expr_func_fn;
>>> +            *parms->data = NULL;
>>> +            return OK;
>>> +        }
>>> +        break;
>>> +    }
>>> +    return DECLINED;
>>> +}
>>> +
>>> static const command_rec command_table[] = {
>>>     AP_INIT_RAW_ARGS("ProxyHCTemplate", set_hc_template, NULL, OR_FILEINFO,
>>>                      "Health check template"),
>>> @@ -941,6 +1010,7 @@ static void hc_register_hooks(apr_pool_t
>>>     APR_REGISTER_OPTIONAL_FN(set_worker_hc_param);
>>>     APR_REGISTER_OPTIONAL_FN(hc_show_exprs);
>>>     ap_hook_post_config(hc_post_config, aszPre, aszSucc, APR_HOOK_LAST);
>>> +    ap_hook_expr_lookup(hc_expr_lookup, NULL, NULL, APR_HOOK_MIDDLE);
>>> }
>>>
>>> /* the main config structure */

From dev-return-85288-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 18:13:00 2016
Return-Path: <dev-return-85288-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4E76A18280
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 18:13:00 +0000 (UTC)
Received: (qmail 77065 invoked by uid 500); 21 Jan 2016 18:12:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76857 invoked by uid 500); 21 Jan 2016 18:12:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76778 invoked by uid 99); 21 Jan 2016 18:12:57 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 18:12:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 53D8FC1632
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:12:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id r3Del9RkzXAZ for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 18:12:46 +0000 (UTC)
Received: from resqmta-po-09v.sys.comcast.net (resqmta-po-09v.sys.comcast.net [96.114.154.168])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 1EB2C20656
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:12:46 +0000 (UTC)
Received: from resomta-po-19v.sys.comcast.net ([96.114.154.243])
	by resqmta-po-09v.sys.comcast.net with comcast
	id 8iBb1s0035FMDhs01iCl4s; Thu, 21 Jan 2016 18:12:45 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-19v.sys.comcast.net with comcast
	id 8iCk1s00s2U0RYt01iCl9z; Thu, 21 Jan 2016 18:12:45 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1725949 - /httpd/httpd/trunk/docs/manual/expr.xml
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CB3FF225-DF9C-4CC1-A4B2-AABD38700AEF@jaguNET.com>
Date: Thu, 21 Jan 2016 13:12:44 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <D46615E4-8BDF-4C52-AAFE-EC295DA25108@jaguNET.com>
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org> <56A0F7EF.9040801@kippdata.de> <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com> <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com> <56A10CA6.2030807@kippdata.de> <4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com> <56A11A7F.2000607@kippdata.de> <473DB6E1-87EE-41A5-AF40-529E2D6C073B@jaguNET.com> <CB3FF225-DF9C-4CC1-A4B2-AABD38700AEF@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453399965;
	bh=kvw5KdoyxptjKzZZoe8T6/BaWoFQLLAWXeV4SRWppVc=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=X3Avd599N1tkICFy9usMTFKniQ0JFHVfzYC3VgBMleduwxyLwFO/74aHwHDtA2DL/
	 9iyMegM8yC+5hA/wbEpGMxaExY/dhYfuPVBKYCvQhJ1WWNunoZx/TBV7h7oDdNHxwY
	 xeVLbTzWExwO566ERkEq4T335T8h2Kr/f4A7+4Hsgu4dxqndeDHuBs9sF5T91BGbsI
	 mAHnPN59rnyQaRgM/PlFeh1zG1j9G/bAUpzTIlPdAOOaYvRn+/2I1YSOViKAeY5u0C
	 z0OgISHYXbVXiNiamVsmIASy03DVLtbscTgjV5J8vSPJzUwJ2ZsAa1XBpnCHcXOGs0
	 NN7collzxtCAw==

This looks wrong:

    case AP_EXPR_FUNC_STRING:
        /* Function HC() is implemented by us.
         */
        if (strcasecmp(parms->name, "HC") =3D=3D 0) {
            *parms->func =3D hc_expr_func_fn;
            *parms->data =3D NULL;
            return OK;
        }
        break;

Specifically:
  *parms->data =3D NULL;

> On Jan 21, 2016, at 1:08 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> That is with:
>=20
>  ProxyHCExpr foof2 {hc('body') !~ /domain is established/}
>=20
> With
>=20
>  ProxyHCExpr foof2 {kept_body('body') !~ /domain is established/}
>=20
> it works as expected.
>=20
> Thx!
>> On Jan 21, 2016, at 1:06 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>>=20
>> I get:
>>=20
>>   AH00102: [Thu Jan 21 18:05:44 2016] file util_expr_eval.c, line =
218, assertion "data !=3D ((void*)0)" failed
>>=20
>>=20
>>> On Jan 21, 2016, at 12:50 PM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>>>=20
>>> Am 21.01.2016 um 17:55 schrieb Jim Jagielski:
>>>> even better!
>>>>=20
>>>> sounds cool.
>>>=20
>>> First impl done in r1726038.
>>>=20
>>> I guess you have everything in place to do a quick test? That would =
be nice.
>>>=20
>>> svn log is:
>>>=20
>>> Implement expr lookup in mod_proxy_hcheck for
>>> variables whose names start with "HC_" and for
>>> the new function hc().
>>>=20
>>> Currently only HC_BODY and hc(body) are supported.
>>> Both return the saved body of the health check
>>> response to be used in an expr that decides about
>>> success of a check.
>>>=20
>>> Regards,
>>>=20
>>> Rainer
>>>=20
>>>>> On Jan 21, 2016, at 11:51 AM, Rainer Jung =
<rainer.jung@kippdata.de> wrote:
>>>>>=20
>>>>> Am 21.01.2016 um 17:03 schrieb Jim Jagielski:
>>>>>> Did you want me to work on it, or are you?
>>>>>=20
>>>>> I just had some late lunch and started to think closer about it. =
Since kept_body was previously only used for request bodies, wouldn't it =
be nicer to *not* expose the HC response body under that name in the =
expression parser, and instead register an expr extension from HC which =
handles a new function, say hc(), with a first supported argument =
"body"? So hc(body) returns whatever HC wants to.
>>>>>=20
>>>>> You could still use the kept_body field in your impl (or some =
other place now or later) but we wouldn't expose this implementation =
detail to the outside world.
>>>>>=20
>>>>> I have already done an expr function extension in some custom =
module, it is pretty easy to do (and httpd uses that feature e.g. in =
mod_ssl).
>>>>>=20
>>>>> So yes, if you like I can do it. But do you like the idea?
>>>>>=20
>>>>> Regards,
>>>>>=20
>>>>> Rainer
>>>>>=20
>>>>>>> On Jan 21, 2016, at 10:25 AM, Jim Jagielski <jim@jaguNET.com> =
wrote:
>>>>>>>=20
>>>>>>> Sounds good to me!!
>>>>>>>=20
>>>>>>> thx!
>>>>>>>=20
>>>>>>>> On Jan 21, 2016, at 10:23 AM, Rainer Jung =
<rainer.jung@kippdata.de> wrote:
>>>>>>>>=20
>>>>>>>> I should have asked earlier: wouldn't it be more suitable to =
implement to response body as a variable instead of a function?
>>>>>>>>=20
>>>>>>>> When looking at server/util_expr_eval.c, I find =
request_var_names and request_var_fn. The former is a list of variable =
names, and the latter implements returning the values from parts of the =
request struct. Returning the flattened kept_body should be a good fit =
there as well, without having users wonder, why it is a function that =
requires an argument.
>>>>>>>>=20
>>>>>>>> If we expect further response stuff coming, we could also clone =
request_var_names and request_var_fn with new response_var_names and =
response_var_fn and add the variable as the first and currently only one =
there.
>>>>>>>>=20
>>>>>>>> The variable name could be KEPT_BODY.
>>>>>>>>=20
>>>>>>>> WDYT? I can also do the little reorg, but which way do we =
prefer?
>>>>>>>>=20
>>>>>>>> Regards,
>>>>>>>>=20
>>>>>>>> Rainer
>>=20
>=20


From dev-return-85289-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 18:14:45 2016
Return-Path: <dev-return-85289-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A4924182A2
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 18:14:45 +0000 (UTC)
Received: (qmail 90528 invoked by uid 500); 21 Jan 2016 18:14:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 90456 invoked by uid 500); 21 Jan 2016 18:14:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 90446 invoked by uid 99); 21 Jan 2016 18:14:45 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 18:14:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id B73771A06F2
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:14:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.554
X-Spam-Level:
X-Spam-Status: No, score=-0.554 tagged_above=-999 required=6.31
	tests=[HEADER_FROM_DIFFERENT_DOMAINS=0.001, RP_MATCHES_RCVD=-0.554,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id SsetdBmvSpGV for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 18:14:36 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 8BF8420D77
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:14:35 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1aMJkZ-0001yZ-3n
	for dev@httpd.apache.org; Thu, 21 Jan 2016 19:14:27 +0100
Received: from aorleans-552-1-69-135.w92-140.abo.wanadoo.fr ([92.140.156.135])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Thu, 21 Jan 2016 19:14:27 +0100
Received: from christophe.jaillet by aorleans-552-1-69-135.w92-140.abo.wanadoo.fr with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Thu, 21 Jan 2016 19:14:27 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Subject: Re: Question about "Trailer" header field
Date: Thu, 21 Jan 2016 19:14:17 +0100
Lines: 22
Message-ID: <n7r75s$sc2$1@ger.gmane.org>
References: <n18o57$ugg$1@ger.gmane.org>
 <D6D5AF33-6348-4AF7-8AB2-FE5B8232A4DD@c8h10n4o2.org.uk>
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: aorleans-552-1-69-135.w92-140.abo.wanadoo.fr
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
In-Reply-To: <D6D5AF33-6348-4AF7-8AB2-FE5B8232A4DD@c8h10n4o2.org.uk>
X-Antivirus: avast! (VPS 160121-1, 21/01/2016), Outbound message
X-Antivirus-Status: Clean

Le 03/11/2015 00:00, Tim Bannister a crit :
> On 2 Nov 2015, at 22:29, Christophe Jaillet wrote:
>> Severals places in httpd seems to deal with RFC2616 13.5.1 End-to-end and Hop-by-hop Headers.
>>    Line 1211 of cache_util.c [1]
>>    Line 1311 and 1562 of mod_proxy_http.c [2]
>>    Line 3567 of proxy_util.c [3]
>>
>>
>> 1) [1] is an exact copy of what is said in RFC2616 13.5.1
>> However, I wonder if the Trailers here, should not be a Trailer (without s)
>> Trailers (with a s) does not seem to a header field, just a keyword for TE.
>> Is this a typo in the RFC?
> With [1], I think you're right that this is a typo in RFC2616 which has been copied into httpd.
>
> [...]
>

Confirmed.

http://www.rfc-editor.org/errata_search.php?rfc=2616&eid=4522

CJ


From dev-return-85290-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 18:19:19 2016
Return-Path: <dev-return-85290-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7E741182D5
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 18:19:19 +0000 (UTC)
Received: (qmail 98379 invoked by uid 500); 21 Jan 2016 18:19:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98284 invoked by uid 500); 21 Jan 2016 18:19:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98274 invoked by uid 99); 21 Jan 2016 18:19:18 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 18:19:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 6C69EC0860
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:19:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.554
X-Spam-Level:
X-Spam-Status: No, score=-0.554 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id IgI2DU7-NPZF for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 18:19:10 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 3385120CC7
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:19:09 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0LIJ8UI004874
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 19:19:08 +0100 (CET)
Subject: Re: svn commit: r1725949 - /httpd/httpd/trunk/docs/manual/expr.xml
To: dev@httpd.apache.org
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org>
 <56A0F7EF.9040801@kippdata.de>
 <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com>
 <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com>
 <56A10CA6.2030807@kippdata.de>
 <4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com>
 <56A11A7F.2000607@kippdata.de>
 <473DB6E1-87EE-41A5-AF40-529E2D6C073B@jaguNET.com>
 <CB3FF225-DF9C-4CC1-A4B2-AABD38700AEF@jaguNET.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56A12118.1090800@kippdata.de>
Date: Thu, 21 Jan 2016 19:19:04 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <CB3FF225-DF9C-4CC1-A4B2-AABD38700AEF@jaguNET.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 21.01.2016 um 19:08 schrieb Jim Jagielski:
> That is with:
>
>    ProxyHCExpr foof2 {hc('body') !~ /domain is established/}
>
> With
>
>    ProxyHCExpr foof2 {kept_body('body') !~ /domain is established/}

Can you provide a simple but somehow complete proxy_hcheck config 
snippet? I'll set up a test and check what's wrong.

Regards,

Rainer

> it works as expected.
>
> Thx!
>> On Jan 21, 2016, at 1:06 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>>
>> I get:
>>
>>     AH00102: [Thu Jan 21 18:05:44 2016] file util_expr_eval.c, line 218, assertion "data != ((void*)0)" failed
>>
>>
>>> On Jan 21, 2016, at 12:50 PM, Rainer Jung <rainer.jung@kippdata.de> wrote:
>>>
>>> Am 21.01.2016 um 17:55 schrieb Jim Jagielski:
>>>> even better!
>>>>
>>>> sounds cool.
>>>
>>> First impl done in r1726038.
>>>
>>> I guess you have everything in place to do a quick test? That would be nice.
>>>
>>> svn log is:
>>>
>>> Implement expr lookup in mod_proxy_hcheck for
>>> variables whose names start with "HC_" and for
>>> the new function hc().
>>>
>>> Currently only HC_BODY and hc(body) are supported.
>>> Both return the saved body of the health check
>>> response to be used in an expr that decides about
>>> success of a check.
>>>
>>> Regards,
>>>
>>> Rainer
>>>
>>>>> On Jan 21, 2016, at 11:51 AM, Rainer Jung <rainer.jung@kippdata.de> wrote:
>>>>>
>>>>> Am 21.01.2016 um 17:03 schrieb Jim Jagielski:
>>>>>> Did you want me to work on it, or are you?
>>>>>
>>>>> I just had some late lunch and started to think closer about it. Since kept_body was previously only used for request bodies, wouldn't it be nicer to *not* expose the HC response body under that name in the expression parser, and instead register an expr extension from HC which handles a new function, say hc(), with a first supported argument "body"? So hc(body) returns whatever HC wants to.
>>>>>
>>>>> You could still use the kept_body field in your impl (or some other place now or later) but we wouldn't expose this implementation detail to the outside world.
>>>>>
>>>>> I have already done an expr function extension in some custom module, it is pretty easy to do (and httpd uses that feature e.g. in mod_ssl).
>>>>>
>>>>> So yes, if you like I can do it. But do you like the idea?
>>>>>
>>>>> Regards,
>>>>>
>>>>> Rainer
>>>>>
>>>>>>> On Jan 21, 2016, at 10:25 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>>>>>>
>>>>>>> Sounds good to me!!
>>>>>>>
>>>>>>> thx!
>>>>>>>
>>>>>>>> On Jan 21, 2016, at 10:23 AM, Rainer Jung <rainer.jung@kippdata.de> wrote:
>>>>>>>>
>>>>>>>> I should have asked earlier: wouldn't it be more suitable to implement to response body as a variable instead of a function?
>>>>>>>>
>>>>>>>> When looking at server/util_expr_eval.c, I find request_var_names and request_var_fn. The former is a list of variable names, and the latter implements returning the values from parts of the request struct. Returning the flattened kept_body should be a good fit there as well, without having users wonder, why it is a function that requires an argument.
>>>>>>>>
>>>>>>>> If we expect further response stuff coming, we could also clone request_var_names and request_var_fn with new response_var_names and response_var_fn and add the variable as the first and currently only one there.
>>>>>>>>
>>>>>>>> The variable name could be KEPT_BODY.
>>>>>>>>
>>>>>>>> WDYT? I can also do the little reorg, but which way do we prefer?
>>>>>>>>
>>>>>>>> Regards,
>>>>>>>>
>>>>>>>> Rainer

From dev-return-85291-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 18:33:07 2016
Return-Path: <dev-return-85291-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 435271837C
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 18:33:07 +0000 (UTC)
Received: (qmail 23685 invoked by uid 500); 21 Jan 2016 18:33:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23612 invoked by uid 500); 21 Jan 2016 18:33:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23602 invoked by uid 99); 21 Jan 2016 18:33:04 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 18:33:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 8CA61C0179
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:33:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id lGEHz4gp76SN for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 18:32:58 +0000 (UTC)
Received: from resqmta-ch2-10v.sys.comcast.net (resqmta-ch2-10v.sys.comcast.net [69.252.207.42])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id C2DFB429C2
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 18:32:57 +0000 (UTC)
Received: from resomta-ch2-12v.sys.comcast.net ([69.252.207.108])
	by resqmta-ch2-10v.sys.comcast.net with comcast
	id 8iXY1s00A2LrikM01iYrSD; Thu, 21 Jan 2016 18:32:51 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-12v.sys.comcast.net with comcast
	id 8iYq1s0092U0RYt01iYqg2; Thu, 21 Jan 2016 18:32:51 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1725949 - /httpd/httpd/trunk/docs/manual/expr.xml
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56A12118.1090800@kippdata.de>
Date: Thu, 21 Jan 2016 13:32:50 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <FE819F91-654F-4677-B318-5718571536A3@jaguNET.com>
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org> <56A0F7EF.9040801@kippdata.de> <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com> <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com> <56A10CA6.2030807@kippdata.de> <4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com> <56A11A7F.2000607@kippdata.de> <473DB6E1-87EE-41A5-AF40-529E2D6C073B@jaguNET.com> <CB3FF225-DF9C-4CC1-A4B2-AABD38700AEF@jaguNET.com> <56A12118.1090800@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453401171;
	bh=1n+oiLtNzbpuJaQmokSZmnW3ADpE2Ww+7tTIp1GDMmo=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Gkt4jtDBCiS7NZVEyF2jvoPTl+MmwHUC4o3KiTze9CUV8uCgK8eEmX7qBYGhl8qhH
	 tSyWx5nU+ST+PRo55P4K043VOCqvqAB/OcYpfPuncHJx5I+wckDkWg30PrxUlZlPY+
	 EMIeCM9HFdTHWUUQPUol4G4aY8LGoXV5uLy3IB34VqLpKh0iYCs27hzn89vBWamjc5
	 0YFRxIMocQs22JFxmItar9UP8Xwflw1fSWB3I2znqdZJt5WqE867yV3Wscrpue8ksh
	 KSx309q5EMzMFGFv2vzHI0z5R9hNk0R329n1YGMcP0ck49h508wpyK1gXXcxPhPmAn
	 68UZfXI5cOqNA==

As I read ap_expr, it should be:

diff --git a/modules/proxy/mod_proxy_hcheck.c =
b/modules/proxy/mod_proxy_hcheck.c
index 1667e77..b211d1c 100644
--- a/modules/proxy/mod_proxy_hcheck.c
+++ b/modules/proxy/mod_proxy_hcheck.c
@@ -987,7 +987,7 @@ static int hc_expr_lookup(ap_expr_lookup_parms =
*parms)
          */
         if (strcasecmp(parms->name, "HC") =3D=3D 0) {
             *parms->func =3D hc_expr_func_fn;
-            *parms->data =3D NULL;
+            *parms->data =3D parms->arg;
             return OK;
         }
         break;

At least, with that in place it all works fine.=

From dev-return-85292-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 19:09:32 2016
Return-Path: <dev-return-85292-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 877451858D
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 19:09:32 +0000 (UTC)
Received: (qmail 35607 invoked by uid 500); 21 Jan 2016 19:09:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35534 invoked by uid 500); 21 Jan 2016 19:09:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35523 invoked by uid 99); 21 Jan 2016 19:09:32 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 19:09:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 92C9BC0E80
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 19:09:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id LKMqKGhkbnWn for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 19:09:22 +0000 (UTC)
Received: from resqmta-po-10v.sys.comcast.net (resqmta-po-10v.sys.comcast.net [96.114.154.169])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D62E9215D6
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 19:09:21 +0000 (UTC)
Received: from resomta-po-18v.sys.comcast.net ([96.114.154.242])
	by resqmta-po-10v.sys.comcast.net with comcast
	id 8j901s0025E3ZMc01j9LgV; Thu, 21 Jan 2016 19:09:20 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-18v.sys.comcast.net with comcast
	id 8j9J1s00S2U0RYt01j9KaA; Thu, 21 Jan 2016 19:09:20 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1725949 - /httpd/httpd/trunk/docs/manual/expr.xml
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56A12118.1090800@kippdata.de>
Date: Thu, 21 Jan 2016 14:09:18 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <0033EE5C-B48A-405E-AC9C-8A3053DBEA85@jaguNET.com>
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org> <56A0F7EF.9040801@kippdata.de> <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com> <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com> <56A10CA6.2030807@kippdata.de> <4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com> <56A11A7F.2000607@kippdata.de> <473DB6E1-87EE-41A5-AF40-529E2D6C073B@jaguNET.com> <CB3FF225-DF9C-4CC1-A4B2-AABD38700AEF@jaguNET.com> <56A12118.1090800@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453403360;
	bh=apxLbNBlA/+xDrLyRTBdYL/utrwsvGyIY9U0DfBtm8A=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=ixLYtaxOMoX9liwNzexuV5KKwWju2JkbnL+BxFEs/aNU7yylJvsO7P3hNkTw+XJAO
	 /wFHlXVr3YlkKvu9roRVEWZUJQJtUiQyTIlGcqzdH6BJRyziLqNrBp+NBi5JKxR/5u
	 wyngLctdxbPKzyYpkSFBWLrOT82PlJQojfxg8KxLySoKrZOHdrVHf+mXc8usstpcsK
	 MN1NVIu5a18ZhrThkj+IBLnfWxR4zAs8Qxe9B1CKYc6HWfKOGfTZIBdwUTQTR/iN55
	 vCWzEMTB4Eqga0TeLOrOdCrkZLdB8RIyTcQ4Pbr0uRMmlz8koRSCz8c/J3MjMd5p37
	 8BeTN+97gBL8Q==


> On Jan 21, 2016, at 1:19 PM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>=20
> Can you provide a simple but somehow complete proxy_hcheck config =
snippet? I'll set up a test and check what's wrong.
>=20
> Regards,
>=20

A very simple one is:

ProxyHCExpr foof2 {hc('body') !~ /domain is established/}

<Proxy balancer://hc>
  BalancerMember http://www.example.com/  hcmethod=3Dget hcexpr=3Dfoof2
</Proxy>

it is designed to, as soon as it checks www.example.com, set
that worker to HC failed, via checking the response body and
looking for the 'domain is established' phrase.

To make sure that it is NOT disabled, change the '!~' to '=3D~'



From dev-return-85293-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 19:59:59 2016
Return-Path: <dev-return-85293-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A8BD5187F6
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 19:59:59 +0000 (UTC)
Received: (qmail 18593 invoked by uid 500); 21 Jan 2016 19:59:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18528 invoked by uid 500); 21 Jan 2016 19:59:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18518 invoked by uid 99); 21 Jan 2016 19:59:59 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 19:59:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D29AD180621
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 19:59:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.554
X-Spam-Level:
X-Spam-Status: No, score=-0.554 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id aQ1SbYP2y1VN for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 19:59:51 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 6BC0820CC7
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 19:59:50 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0LJxmic005552
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 20:59:49 +0100 (CET)
Subject: Bus error for proxy_hcheck on Solaris
To: dev@httpd.apache.org
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org>
 <56A0F7EF.9040801@kippdata.de>
 <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com>
 <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com>
 <56A10CA6.2030807@kippdata.de>
 <4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com>
 <56A11A7F.2000607@kippdata.de>
 <473DB6E1-87EE-41A5-AF40-529E2D6C073B@jaguNET.com>
 <CB3FF225-DF9C-4CC1-A4B2-AABD38700AEF@jaguNET.com>
 <56A12118.1090800@kippdata.de>
 <0033EE5C-B48A-405E-AC9C-8A3053DBEA85@jaguNET.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56A138B0.1040103@kippdata.de>
Date: Thu, 21 Jan 2016 20:59:44 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <0033EE5C-B48A-405E-AC9C-8A3053DBEA85@jaguNET.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Probably an alignment problem, but I don't immediately see how:

at modules/proxy/mod_proxy_hcheck.c:410
         wctx = 0x70706461
So this is not an address usable for a pointer.

But wctx comes from hc->s->context:

{name = "f9328\000/www.kippdata.de/", '\000' <repeats 232 times>, scheme 
= "http", '\000' <repeats 11 times>, hostname = "www.kippdata.de", 
'\000' <repeats 80 times>,
   route = '\000' <repeats 95 times>, redirect = '\000' <repeats 95 
times>, flusher = '\000' <repeats 15 times>, uds_path = '\000' <repeats 
255 times>,
   hcuri = '\000' <repeats 95 times>, hcexpr = '\000' <repeats 15 
times>, "\001", lbset = 0, retries = 0, lbstatus = 0, lbfactor = 10000, 
min = 0, smax = 1, hmax = 0,
   flush_wait = 1, index = 0, passes = 1815278865, pcount = -1571419579, 
fails = 3, fcount = 0, hash = {def = 2239854630, fnv = 2173387474}, 
status = 10,
   flush_packets = flush_off, method = GET, updated = 0, error_time = 
60000000, ttl = 0, retry = 0, timeout = 0, acquire = 0, ping_timeout = 
30000000, conn_timeout = 0,
   interval = 0, recv_buffer_size = 5242880, io_buffer_size = 0, elected 
= 0, busy = 0, port = 80, transferred = 536870912, read = 
3400067598672358249, context = 0x70706461,
   keepalive = 0, disablereuse = 0, is_address_reusable = 0, retry_set = 
1, timeout_set = 0, acquire_set = 1, ping_timeout_set = 0, 
conn_timeout_set = 0,
   recv_buffer_size_set = 0, io_buffer_size_set = 1, keepalive_set = 1, 
disablereuse_set = 0, was_malloced = 0, is_name_matchable = 0}

and the context member gets set in line 403:

hc->context = wctx;

If I add a debug statement there the address looks different and fine. I 
don't immediately see where the address changes. Sparc is known to be 
picky about alignment. One might not observe this on x86.

Regards,

Rainer

From dev-return-85294-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 20:08:56 2016
Return-Path: <dev-return-85294-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0AA8B1885A
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 20:08:56 +0000 (UTC)
Received: (qmail 44590 invoked by uid 500); 21 Jan 2016 20:08:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 44519 invoked by uid 500); 21 Jan 2016 20:08:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 44509 invoked by uid 99); 21 Jan 2016 20:08:55 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 20:08:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id BB14E1805F4
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 20:08:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.554
X-Spam-Level:
X-Spam-Status: No, score=-0.554 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id BGl9fst9ajCA for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 20:08:48 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 7B8A12054B
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 20:08:47 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0LK8jfT005630
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 21:08:46 +0100 (CET)
Subject: Re: Bus error for proxy_hcheck on Solaris
Reply-To: dev@httpd.apache.org
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org>
 <56A0F7EF.9040801@kippdata.de>
 <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com>
 <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com>
 <56A10CA6.2030807@kippdata.de>
 <4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com>
 <56A11A7F.2000607@kippdata.de>
 <473DB6E1-87EE-41A5-AF40-529E2D6C073B@jaguNET.com>
 <CB3FF225-DF9C-4CC1-A4B2-AABD38700AEF@jaguNET.com>
 <56A12118.1090800@kippdata.de>
 <0033EE5C-B48A-405E-AC9C-8A3053DBEA85@jaguNET.com>
 <56A138B0.1040103@kippdata.de>
To: dev@httpd.apache.org
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56A13AC9.8080505@kippdata.de>
Date: Thu, 21 Jan 2016 21:08:41 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56A138B0.1040103@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

I should add I'm using prefork (other problems with event and worker) 
and I didn't access the web server. Simply starting it and waiting a bit 
results in those cores.

A complete stack:

#0  hc_get_hcworker (ctx=ctx@entry=0xe3818, worker=worker@entry=0xf9328, 
p=p@entry=0x11ff38)
     at modules/proxy/mod_proxy_hcheck.c:410
         wctx = 0x70706461
         hc = 0xe59f8
         wptr = 0xe6058 "f9328"

#1  0xfeb432f4 in hc_check_http (worker=0xf9328, p=0x11ff38, 
ctx=0xe3818) at modules/proxy/mod_proxy_hcheck.c:650
         status = <optimized out>
         c = {pool = 0xfeeba558, base_server = 0xfe8fbe60, 
vhost_lookup_data = 0xff08a398, local_addr = 0x0, client_addr = 0x1c00, 
client_ip = 0x0, remote_host = 0x0,
           remote_logname = 0x0, local_ip = 0x5f5e100 <Address 0x5f5e100 
out of bounds>,
           local_host = 0xfeb49788 "modules/proxy/mod_proxy_hcheck.c", 
id = -21649064, conn_config = 0x529dd,
           notes = 0x6ed21e3c, input_filters = 0x529dd, output_filters = 
0xe3818, sbh = 0xcc290, bucket_alloc = 0xfeb5a0fc, cs = 0x0, 
data_in_input_filters = 100000,
           data_in_output_filters = 0, clogging_input_filters = 0, 
double_reverse = -1, aborted = 0, keepalive = 1800008, keepalives = 
-24133952, log = 0xfecc2b7c,
           log_id = 0xfe8fbec0 
"y`\223\060\207\220\222\217<", current_thread = 
0xfecc2aec, slaves = 0x0, master = 0x0, ctx = 0xfecc8b18,
           suspended_baton = 0xfe8fbf20, requests = 0x0, empty = 0x0, 
filters = 0x56a136d3, async_filter = 335104}
         wctx = <optimized out>
         cond = 0x4
         backend = 0x0
         hc = <optimized out>
         r = 0x6ed21e3c
         method = <optimized out>

#2  hc_check (worker=0xf9328, now=1453405907335111, p=0x11ff38, 
ctx=0xe3818) at modules/proxy/mod_proxy_hcheck.c:757
         s = 0xcc290
         rv = <optimized out>

#3  hc_watchdog_callback (state=<optimized out>, data=0xe3818, 
pool=<optimized out>) at modules/proxy/mod_proxy_hcheck.c:839
         n = 0
         workers = 0xf8bb0
         worker = 0xf9328
         i = <optimized out>
         rv = <optimized out>
         now = <optimized out>
         balancer = <optimized out>
         ctx = 0xe3818
         s = <optimized out>
         conf = <optimized out>
         p = 0x11ff38
#4  0xfecc2d08 in wd_worker (thread=<optimized out>, data=0xd3710) at 
modules/core/mod_watchdog.c:203
         ctx = 0x11df30
         curr = 1453405907235104
         wl = 0xd37f8
         w = 0xd3710
         rv = <optimized out>
         locked = 1
         probed = <optimized out>
         inited = 0
         mpmq_s = 1
#5  0xff095468 in dummy_worker (opaque=0x107f88) at 
apr-1.5.2/threadproc/unix/thread.c:142
         thread = 0x107f88

Config in global server:

ProxyHCExpr ok234 {%{REQUEST_STATUS} =~ /^[234]/}

ProxyPass "/" "balancer://mycluster/"
<Proxy balancer://mycluster>
     BalancerMember "http://www.kippdata.de/" \
         hcexpr=ok234 hcmethod=GET hcinterval=10
</Proxy>

Regards,

Rainer

Am 21.01.2016 um 20:59 schrieb Rainer Jung:
> Probably an alignment problem, but I don't immediately see how:
>
> at modules/proxy/mod_proxy_hcheck.c:410
>          wctx = 0x70706461
> So this is not an address usable for a pointer.
>
> But wctx comes from hc->s->context:
>
> {name = "f9328\000/www.kippdata.de/", '\000' <repeats 232 times>, scheme
> = "http", '\000' <repeats 11 times>, hostname = "www.kippdata.de",
> '\000' <repeats 80 times>,
>    route = '\000' <repeats 95 times>, redirect = '\000' <repeats 95
> times>, flusher = '\000' <repeats 15 times>, uds_path = '\000' <repeats
> 255 times>,
>    hcuri = '\000' <repeats 95 times>, hcexpr = '\000' <repeats 15
> times>, "\001", lbset = 0, retries = 0, lbstatus = 0, lbfactor = 10000,
> min = 0, smax = 1, hmax = 0,
>    flush_wait = 1, index = 0, passes = 1815278865, pcount = -1571419579,
> fails = 3, fcount = 0, hash = {def = 2239854630, fnv = 2173387474},
> status = 10,
>    flush_packets = flush_off, method = GET, updated = 0, error_time =
> 60000000, ttl = 0, retry = 0, timeout = 0, acquire = 0, ping_timeout =
> 30000000, conn_timeout = 0,
>    interval = 0, recv_buffer_size = 5242880, io_buffer_size = 0, elected
> = 0, busy = 0, port = 80, transferred = 536870912, read =
> 3400067598672358249, context = 0x70706461,
>    keepalive = 0, disablereuse = 0, is_address_reusable = 0, retry_set =
> 1, timeout_set = 0, acquire_set = 1, ping_timeout_set = 0,
> conn_timeout_set = 0,
>    recv_buffer_size_set = 0, io_buffer_size_set = 1, keepalive_set = 1,
> disablereuse_set = 0, was_malloced = 0, is_name_matchable = 0}
>
> and the context member gets set in line 403:
>
> hc->context = wctx;
>
> If I add a debug statement there the address looks different and fine. I
> don't immediately see where the address changes. Sparc is known to be
> picky about alignment. One might not observe this on x86.
>
> Regards,
>
> Rainer

From dev-return-85295-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 20:11:32 2016
Return-Path: <dev-return-85295-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9BFC71887A
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 20:11:32 +0000 (UTC)
Received: (qmail 49621 invoked by uid 500); 21 Jan 2016 20:11:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49543 invoked by uid 500); 21 Jan 2016 20:11:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49533 invoked by uid 99); 21 Jan 2016 20:11:27 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 20:11:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 88FBA1A00BC
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 20:11:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Dbz_s4Y1ys8r for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 20:11:18 +0000 (UTC)
Received: from resqmta-po-10v.sys.comcast.net (resqmta-po-10v.sys.comcast.net [96.114.154.169])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id BDF8120656
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 20:11:17 +0000 (UTC)
Received: from resomta-po-19v.sys.comcast.net ([96.114.154.243])
	by resqmta-po-10v.sys.comcast.net with comcast
	id 8kAo1s0075FMDhs01kBHUS; Thu, 21 Jan 2016 20:11:17 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-19v.sys.comcast.net with comcast
	id 8kBG1s0072U0RYt01kBG5A; Thu, 21 Jan 2016 20:11:17 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Bus error for proxy_hcheck on Solaris
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56A138B0.1040103@kippdata.de>
Date: Thu, 21 Jan 2016 15:11:16 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <6C5F50DD-9378-4302-B739-12EF4C074ED0@jaguNET.com>
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org> <56A0F7EF.9040801@kippdata.de> <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com> <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com> <56A10CA6.2030807@kippdata.de> <4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com> <56A11A7F.2000607@kippdata.de> <473DB6E1-87EE-41A5-AF40-529E2D6C073B@jaguNET.com> <CB3FF225-DF9C-4CC1-A4B2-AABD38700AEF@jaguNET.com> <56A12118.1090800@kippdata.de> <0033EE5C-B48A-405E-AC9C-8A3053DBEA85@jaguNET.com> <56A138B0.1040103@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453407077;
	bh=euRlxaUAJa4J2e+tUqFszJSVYtk4QXtYXjBLyCkd91U=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=TU4mCc9Bc5Sd9gpw1vs2Eo2FWYzSFVKhhMD0Vx1/Wkq4AXfAWsYho/FOESOQmnLwD
	 DEgaVD3mg89d5S4q4bjqLF48Tv1MYQGXTPLrw0r8wQuCJqHSaXiW/yeuPoxcNhrsAk
	 pHhbU29ENL3Kzijpu6SwNpRjzw6I/S5yaszDFHLm1RLIfVKOBcGzc1T55o4gm6X6ee
	 RcHZuK9UeYbsWH6LPaxFvLFtQHp3Wp7BJY7Cs59lT07LPUdzR13kwSVInxFsyFB8v5
	 GQXFsqCV1EWJ5CUbLpsA9bZx9JcvjSkxbJNceAj9GSHeAo1thz4ASUWXWFdZTlA0Lo
	 U/0/MQ85Vttuw==

That is weird... does this help?

    hc->context =3D (void *)wctx;

??

> On Jan 21, 2016, at 2:59 PM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>=20
> Probably an alignment problem, but I don't immediately see how:
>=20
> at modules/proxy/mod_proxy_hcheck.c:410
>        wctx =3D 0x70706461
> So this is not an address usable for a pointer.
>=20
> But wctx comes from hc->s->context:
>=20
> {name =3D "f9328\000/www.kippdata.de/", '\000' <repeats 232 times>, =
scheme =3D "http", '\000' <repeats 11 times>, hostname =3D =
"www.kippdata.de", '\000' <repeats 80 times>,
>  route =3D '\000' <repeats 95 times>, redirect =3D '\000' <repeats 95 =
times>, flusher =3D '\000' <repeats 15 times>, uds_path =3D '\000' =
<repeats 255 times>,
>  hcuri =3D '\000' <repeats 95 times>, hcexpr =3D '\000' <repeats 15 =
times>, "\001", lbset =3D 0, retries =3D 0, lbstatus =3D 0, lbfactor =3D =
10000, min =3D 0, smax =3D 1, hmax =3D 0,
>  flush_wait =3D 1, index =3D 0, passes =3D 1815278865, pcount =3D =
-1571419579, fails =3D 3, fcount =3D 0, hash =3D {def =3D 2239854630, =
fnv =3D 2173387474}, status =3D 10,
>  flush_packets =3D flush_off, method =3D GET, updated =3D 0, =
error_time =3D 60000000, ttl =3D 0, retry =3D 0, timeout =3D 0, acquire =
=3D 0, ping_timeout =3D 30000000, conn_timeout =3D 0,
>  interval =3D 0, recv_buffer_size =3D 5242880, io_buffer_size =3D 0, =
elected =3D 0, busy =3D 0, port =3D 80, transferred =3D 536870912, read =
=3D 3400067598672358249, context =3D 0x70706461,
>  keepalive =3D 0, disablereuse =3D 0, is_address_reusable =3D 0, =
retry_set =3D 1, timeout_set =3D 0, acquire_set =3D 1, ping_timeout_set =
=3D 0, conn_timeout_set =3D 0,
>  recv_buffer_size_set =3D 0, io_buffer_size_set =3D 1, keepalive_set =3D=
 1, disablereuse_set =3D 0, was_malloced =3D 0, is_name_matchable =3D 0}
>=20
> and the context member gets set in line 403:
>=20
> hc->context =3D wctx;
>=20
> If I add a debug statement there the address looks different and fine. =
I don't immediately see where the address changes. Sparc is known to be =
picky about alignment. One might not observe this on x86.
>=20
> Regards,
>=20
> Rainer


From dev-return-85296-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 20:15:25 2016
Return-Path: <dev-return-85296-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7DDEC188B7
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 20:15:25 +0000 (UTC)
Received: (qmail 61177 invoked by uid 500); 21 Jan 2016 20:15:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 61120 invoked by uid 500); 21 Jan 2016 20:15:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 61110 invoked by uid 99); 21 Jan 2016 20:15:24 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 20:15:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 05A9C1805F4
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 20:15:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H2=-0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id IdAiLeTJlnGw for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 20:15:22 +0000 (UTC)
Received: from smtp.smtpout.orange.fr (smtp10.smtpout.orange.fr [80.12.242.132])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 1287D20656
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 20:15:21 +0000 (UTC)
Received: from [127.0.0.1] ([92.140.156.135])
	by mwinf5d19 with ME
	id 8kFD1s00V2vZFUU03kFDVd; Thu, 21 Jan 2016 21:15:14 +0100
X-ME-Helo: [127.0.0.1]
X-ME-Date: Thu, 21 Jan 2016 21:15:14 +0100
X-ME-IP: 92.140.156.135
Subject: Re: ap_casecmpstr()
To: dev@httpd.apache.org
References: <8780D4E1-211B-4E60-86B9-32D889B812F9@jaguNET.com>
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Message-ID: <56A13C4F.7080802@wanadoo.fr>
Date: Thu, 21 Jan 2016 21:15:11 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <8780D4E1-211B-4E60-86B9-32D889B812F9@jaguNET.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 160121-1, 21/01/2016), Outbound message
X-Antivirus-Status: Clean

Le 21/01/2016 17:48, Jim Jagielski a crit :
> Where are we with this? Trunk uses this. Should a backport
> proposal be done for 2.4??
>
+++1
(trying to keep trunk and 2.4.x more or less in line will be a nightmare 
as long as this is not synch)



BTW, one of my reticence for such a big patch was related to the fact 
that apr_table_ functions would not get the speed increase. So why 
bother for just a "half patch" ?
I was wrong.
apr_table_ functions first make a quick, case insensitive, test using 
the COMPUTE_KEY_CHECKSUM macro.

Here, the case-insensitive test is not made byte by byte using a lookup 
table, but up to the 4 first bytes are converted to uppercase using a "& 
0xdf".
The "slow" strcasecmp is only performed afterwards if these 4 bytes 
don't match.


Such an implementation could be benchmarked against latest Yann's 
version to see if a few test/shift/and statements perform better than 
memory access in a lookup table.


This also means that APR is already a mix of "ASCII case-folding, POSIX 
compliant" (i.e. takes advantage of upper = lower & 0xdf) and local 
codepage aware functions (i.e. strcasecmp) when using apr_table_ functions.

CJ


+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+

#if APR_CHARSET_EBCDIC
#define CASE_MASK 0xbfbfbfbf
#else
#define CASE_MASK 0xdfdfdfdf
#endif

[...]

/* Compute the "checksum" for a key, consisting of the first
  * 4 bytes, normalized for case-insensitivity and packed into
  * an int...this checksum allows us to do a single integer
  * comparison as a fast check to determine whether we can
  * skip a strcasecmp
  */
#define COMPUTE_KEY_CHECKSUM(key, checksum)    \
{                                              \
     const char *k = (key);                     \
     apr_uint32_t c = (apr_uint32_t)*k;         \
     (checksum) = c;                            \
     (checksum) <<= 8;                          \
     if (c) {                                   \
         c = (apr_uint32_t)*++k;                \
         checksum |= c;                         \
     }                                          \
     (checksum) <<= 8;                          \
     if (c) {                                   \
         c = (apr_uint32_t)*++k;                \
         checksum |= c;                         \
     }                                          \
     (checksum) <<= 8;                          \
     if (c) {                                   \
         c = (apr_uint32_t)*++k;                \
         checksum |= c;                         \
     }                                          \
     checksum &= CASE_MASK;                     \
}


From dev-return-85297-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 20:15:51 2016
Return-Path: <dev-return-85297-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A681188C5
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 20:15:51 +0000 (UTC)
Received: (qmail 65243 invoked by uid 500); 21 Jan 2016 20:15:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65177 invoked by uid 500); 21 Jan 2016 20:15:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65166 invoked by uid 99); 21 Jan 2016 20:15:50 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 20:15:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 4D0B51A0494
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 20:15:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id aGp4XjAPkjHT for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 20:15:49 +0000 (UTC)
Received: from resqmta-po-03v.sys.comcast.net (resqmta-po-03v.sys.comcast.net [96.114.154.162])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id C4A49258C7
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 20:15:39 +0000 (UTC)
Received: from resomta-po-02v.sys.comcast.net ([96.114.154.226])
	by resqmta-po-03v.sys.comcast.net with comcast
	id 8kEh1s0064tLnxL01kFXF6; Thu, 21 Jan 2016 20:15:31 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-02v.sys.comcast.net with comcast
	id 8kFX1s0012U0RYt01kFX11; Thu, 21 Jan 2016 20:15:31 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Bus error for proxy_hcheck on Solaris
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56A138B0.1040103@kippdata.de>
Date: Thu, 21 Jan 2016 15:15:30 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <8DE86DF3-90A9-4697-93EF-427FE4CBEA28@jaguNET.com>
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org> <56A0F7EF.9040801@kippdata.de> <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com> <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com> <56A10CA6.2030807@kippdata.de> <4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com> <56A11A7F.2000607@kippdata.de> <473DB6E1-87EE-41A5-AF40-529E2D6C073B@jaguNET.com> <CB3FF225-DF9C-4CC1-A4B2-AABD38700AEF@jaguNET.com> <56A12118.1090800@kippdata.de> <0033EE5C-B48A-405E-AC9C-8A3053DBEA85@jaguNET.com> <56A138B0.1040103@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453407331;
	bh=2VO8WOuILLeKZ1r964W/WpdW2Xm1vooQAdoN+mHEoNI=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=YfY/NKW3ZVz9Xi/ZUEzNN5md2dXRue2pvP6+JGIRxarONfJT1qp8wQU5AKdGu4qd5
	 J+mHFZGuQ2S83iO7u8PFtbEst3690NJ5NkyYAu0iq7+wYqgTNo00e2TdWD0IQ+KjtF
	 ZDEe82c2jD1Q92CvzGlBwBq3uRS7BVS0bUONpxfBEnNsuoNZugNAotMZEffjxoNh6/
	 R6j5SNC4HFReSXBJudyhZR6LOkpGvABAr/z6Jix4vc3TRGJ5ZHeUMnmPpxJIe/+pSU
	 GD4FfqPhFrIAduZJvluYySeFc4Js0nBcquZCFSa3TtE2yVBuuGNd+4u0e1O45mKqkA
	 MsrUXN14z82/w==

Hold in a tic... I don't use the context field in ->s.


From dev-return-85298-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 20:22:45 2016
Return-Path: <dev-return-85298-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3AA7B18961
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 20:22:45 +0000 (UTC)
Received: (qmail 78116 invoked by uid 500); 21 Jan 2016 20:22:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78044 invoked by uid 500); 21 Jan 2016 20:22:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 78034 invoked by uid 99); 21 Jan 2016 20:22:44 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 20:22:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 34C6D1A0732
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 20:22:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id b84VAAwDn1gM for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 20:22:37 +0000 (UTC)
Received: from resqmta-po-11v.sys.comcast.net (resqmta-po-11v.sys.comcast.net [96.114.154.170])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 7F71B20CC7
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 20:22:37 +0000 (UTC)
Received: from resomta-po-11v.sys.comcast.net ([96.114.154.235])
	by resqmta-po-11v.sys.comcast.net with comcast
	id 8kNd1s00154zqzk01kNdLh; Thu, 21 Jan 2016 20:22:37 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-11v.sys.comcast.net with comcast
	id 8kNc1s00H2U0RYt01kNcF9; Thu, 21 Jan 2016 20:22:37 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Bus error for proxy_hcheck on Solaris
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <8DE86DF3-90A9-4697-93EF-427FE4CBEA28@jaguNET.com>
Date: Thu, 21 Jan 2016 15:22:36 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <3976DDA0-D3D8-44B2-BF6D-5599D61D74C3@jaguNET.com>
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org> <56A0F7EF.9040801@kippdata.de> <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com> <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com> <56A10CA6.2030807@kippdata.de> <4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com> <56A11A7F.2000607@kippdata.de> <473DB6E1-87EE-41A5-AF40-529E2D6C073B@jaguNET.com> <CB3FF225-DF9C-4CC1-A4B2-AABD38700AEF@jaguNET.com> <56A12118.1090800@kippdata.de> <0033EE5C-B48A-405E-AC9C-8A3053DBEA85@jaguNET.com> <56A138B0.1040103@kippdata.de> <8DE86DF3-90A9-4697-93EF-427FE4CBEA28@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453407757;
	bh=MtrqTQuEc2fEgApBY7I/7PqY20BwX+PSajx1kgJ07fc=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=CwsQJjKw5bFUUqQKxq71mrpTvwcCB/llEh2Imd+R397ZgRvFKbmorwtuoe6pp3ctb
	 dcDY0oHmNQJy+UBy9X/S72AJ3yvXvOjjA2Un2AVGHLS4OD6P2dh7VHQJKw7qJvMTN7
	 2whTEzP7vqA9yxUoUNFmcvtP9nlcwfNuAYE4c45IMQ08mXRUpNrRY0Y6Q7LN2XSYLE
	 xWN5XEMZRVqgh8LS/Np9xzDEo7xCc7V5NSSVTzq8ihY8OHlkH3KSQkymg3KJrRjpWv
	 ME+fwZowYNmwJz2VVDY/VE/I8ecBS0aQIvUs/IE5LkMtUVl+NLc0UG1Uvh9/BNksPB
	 xu5go5igMR5zQ==

I found one place, which we should never hit, that
does adjust hc->context, but that's only if the
bal-mgr changes settings, which so far it can't.

Anyone, removed that.

From dev-return-85299-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 20:29:08 2016
Return-Path: <dev-return-85299-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D1AFD189A0
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 20:29:08 +0000 (UTC)
Received: (qmail 88548 invoked by uid 500); 21 Jan 2016 20:29:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88474 invoked by uid 500); 21 Jan 2016 20:29:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88464 invoked by uid 99); 21 Jan 2016 20:29:08 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 20:29:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E4EE0C18F8
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 20:29:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 2r667gwLWPVZ for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 20:28:59 +0000 (UTC)
Received: from resqmta-po-04v.sys.comcast.net (resqmta-po-04v.sys.comcast.net [96.114.154.163])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 2F0BC20656
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 20:28:59 +0000 (UTC)
Received: from resomta-po-02v.sys.comcast.net ([96.114.154.226])
	by resqmta-po-04v.sys.comcast.net with comcast
	id 8kTU1s0074tLnxL01kUyN5; Thu, 21 Jan 2016 20:28:58 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-02v.sys.comcast.net with comcast
	id 8kUy1s0042U0RYt01kUyry; Thu, 21 Jan 2016 20:28:58 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Bus error for proxy_hcheck on Solaris
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <3976DDA0-D3D8-44B2-BF6D-5599D61D74C3@jaguNET.com>
Date: Thu, 21 Jan 2016 15:28:57 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <CAA57F5B-C69E-42E4-B178-1432C24C2B9E@jaguNET.com>
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org> <56A0F7EF.9040801@kippdata.de> <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com> <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com> <56A10CA6.2030807@kippdata.de> <4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com> <56A11A7F.2000607@kippdata.de> <473DB6E1-87EE-41A5-AF40-529E2D6C073B@jaguNET.com> <CB3FF225-DF9C-4CC1-A4B2-AABD38700AEF@jaguNET.com> <56A12118.1090800@kippdata.de> <0033EE5C-B48A-405E-AC9C-8A3053DBEA85@jaguNET.com> <56A138B0.1040103@kippdata.de> <8DE86DF3-90A9-4697-93EF-427FE4CBEA28@jaguNET.com> <3976DDA0-D3D8-44B2-BF6D-5599D61D74C3@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453408138;
	bh=eO+1b1JHrh6+nYjf0q6t8PKYdtClydRUP7LpjNyAjb8=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=suUhvQQhO77k5GSci7dUl7+QwP62idGDrWZGzQ4GCkyOkZorVJGBjzY5ZJy99+mKY
	 i6L+ZtFuQXbMNWepzCgnvp95PHZNupHDv4vxjiwwoBUQreuX6hyT+4kgQXADQVfCT5
	 hEntzZS3y4XyPG8cfsr4dkvWL2Svm4Q96xRCZkucl1W02dFNC2Q4qEdQE1D5PTnmBG
	 QgfZ+FFCUuAbbYr35ZXiFeYV5reX7VK0kNxDc6yRblPDBsi6Jrxo9Dz2yv5u7LKEaI
	 beIc9vDFV9OT1SLym4f8wKRsVs6VJpbAGDG5qMoVqq9nYxIgRfguUqJAX6Zn9oWrfd
	 imW2ZbFh8fJOw==

Based on your stack, then that was the section you hit. But I
have no idea how you hit it. The test is:

    if (hc->s->method != worker->s->method)

but neither is ever changed :/

> On Jan 21, 2016, at 3:22 PM, Jim Jagielski <jim@jaguNET.com> wrote:
> 
> I found one place, which we should never hit, that
> does adjust hc->context, but that's only if the
> bal-mgr changes settings, which so far it can't.
> 
> Anyone, removed that.


From dev-return-85300-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 20:54:05 2016
Return-Path: <dev-return-85300-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ACCFA18ACE
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 20:54:05 +0000 (UTC)
Received: (qmail 37910 invoked by uid 500); 21 Jan 2016 20:54:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37849 invoked by uid 500); 21 Jan 2016 20:54:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37839 invoked by uid 99); 21 Jan 2016 20:54:05 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 20:54:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id CF064C192A
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 20:54:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.001
X-Spam-Level:
X-Spam-Status: No, score=-0.001 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id goReUIV8OF9y for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 20:53:58 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 4EFE242A28
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 20:53:58 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0LKrvvf005870
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 21:53:57 +0100 (CET)
Subject: Re: Bus error for proxy_hcheck on Solaris
To: dev@httpd.apache.org
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org>
 <56A0F7EF.9040801@kippdata.de>
 <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com>
 <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com>
 <56A10CA6.2030807@kippdata.de>
 <4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com>
 <56A11A7F.2000607@kippdata.de>
 <473DB6E1-87EE-41A5-AF40-529E2D6C073B@jaguNET.com>
 <CB3FF225-DF9C-4CC1-A4B2-AABD38700AEF@jaguNET.com>
 <56A12118.1090800@kippdata.de>
 <0033EE5C-B48A-405E-AC9C-8A3053DBEA85@jaguNET.com>
 <56A138B0.1040103@kippdata.de>
 <8DE86DF3-90A9-4697-93EF-427FE4CBEA28@jaguNET.com>
 <3976DDA0-D3D8-44B2-BF6D-5599D61D74C3@jaguNET.com>
 <CAA57F5B-C69E-42E4-B178-1432C24C2B9E@jaguNET.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56A14560.1070209@kippdata.de>
Date: Thu, 21 Jan 2016 21:53:52 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <CAA57F5B-C69E-42E4-B178-1432C24C2B9E@jaguNET.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

At least it works now, does probing and also hc() works. Cool.

Rainer

Am 21.01.2016 um 21:28 schrieb Jim Jagielski:
> Based on your stack, then that was the section you hit. But I
> have no idea how you hit it. The test is:
>
>      if (hc->s->method != worker->s->method)

I'll have a look.

> but neither is ever changed :/
>
>> On Jan 21, 2016, at 3:22 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>>
>> I found one place, which we should never hit, that
>> does adjust hc->context, but that's only if the
>> bal-mgr changes settings, which so far it can't.
>>
>> Anyone, removed that.

From dev-return-85301-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 20:59:47 2016
Return-Path: <dev-return-85301-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 33E8918AFD
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 20:59:47 +0000 (UTC)
Received: (qmail 58765 invoked by uid 500); 21 Jan 2016 20:59:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58690 invoked by uid 500); 21 Jan 2016 20:59:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58680 invoked by uid 99); 21 Jan 2016 20:59:46 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 20:59:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 327DC18061C
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 20:59:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id T0KhenaRNZcK for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 20:59:35 +0000 (UTC)
Received: from resqmta-po-02v.sys.comcast.net (resqmta-po-02v.sys.comcast.net [96.114.154.161])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 28EBD23016
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 20:59:35 +0000 (UTC)
Received: from resomta-po-17v.sys.comcast.net ([96.114.154.241])
	by resqmta-po-02v.sys.comcast.net with comcast
	id 8kyH1s0075Clt1L01kzZRF; Thu, 21 Jan 2016 20:59:33 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-17v.sys.comcast.net with comcast
	id 8kzY1s0022U0RYt01kzY3t; Thu, 21 Jan 2016 20:59:33 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Bus error for proxy_hcheck on Solaris
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56A14560.1070209@kippdata.de>
Date: Thu, 21 Jan 2016 15:59:31 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <F5B10352-089B-4DD8-BC9B-B72B354F5FF3@jaguNET.com>
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org> <56A0F7EF.9040801@kippdata.de> <76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com> <B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com> <56A10CA6.2030807@kippdata.de> <4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com> <56A11A7F.2000607@kippdata.de> <473DB6E1-87EE-41A5-AF40-529E2D6C073B@jaguNET.com> <CB3FF225-DF9C-4CC1-A4B2-AABD38700AEF@jaguNET.com> <56A12118.1090800@kippdata.de> <0033EE5C-B48A-405E-AC9C-8A3053DBEA85@jaguNET.com> <56A138B0.1040103@kippdata.de> <8DE86DF3-90A9-4697-93EF-427FE4CBEA28@jaguNET.com> <3976DDA0-D3D8-44B2-BF6D-5599D61D74C3@jaguNET.com> <CAA57F5B-C69E-42E4-B178-1432C24C2B9E@jaguNET.com> <56A14560.1070209@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453409973;
	bh=wSj85vXNlzH+n6AkcWPZlv1t43I+Nlf5W+vpfH/zkVM=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=CGppE1cPQOT80HfnVwmRh0kiu1HXWnsQLWicPmf1i2m8OmwkdrwmxJI1NTWcvBjO+
	 yfPdzB8WZSt+7ZSLYmEh8vn+I2w1GvpR6NWmt+ot6ODF9SFdVcArMrq7Gz+yZW2ult
	 5lnHHhttdkMzC1nrXmvv0aJR6/SgP36Eiqirj1+3FpNgAke+OmCgJgo9vBjkzh4FeG
	 yhgidpw09eqnkn9U5pHtpM8dyCugsos0TT3quJ8BXry8ygynIKz7vmjXrnexfy6xxA
	 xvitbULpdhsllKeBe/0XHnE8dyAlGWmCY5O/s7mF8ZPNszn87EXeZ8Cek1DG9CCBLC
	 KdUIXMuf3F7eg==

I added logging to that section... let me know if you see
'Updating hc worker ...' (it's @ DEBUG) because, if you do,
something is wonky.

> On Jan 21, 2016, at 3:53 PM, Rainer Jung <rainer.jung@kippdata.de> wrote:
> 
> At least it works now, does probing and also hc() works. Cool.
> 
> Rainer
> 
> Am 21.01.2016 um 21:28 schrieb Jim Jagielski:
>> Based on your stack, then that was the section you hit. But I
>> have no idea how you hit it. The test is:
>> 
>>     if (hc->s->method != worker->s->method)
> 
> I'll have a look.
> 
>> but neither is ever changed :/
>> 
>>> On Jan 21, 2016, at 3:22 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>>> 
>>> I found one place, which we should never hit, that
>>> does adjust hc->context, but that's only if the
>>> bal-mgr changes settings, which so far it can't.
>>> 
>>> Anyone, removed that.


From dev-return-85302-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 21:15:58 2016
Return-Path: <dev-return-85302-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C8B4218B95
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 21:15:58 +0000 (UTC)
Received: (qmail 86778 invoked by uid 500); 21 Jan 2016 21:15:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86717 invoked by uid 500); 21 Jan 2016 21:15:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86706 invoked by uid 99); 21 Jan 2016 21:15:57 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 21:15:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 8B7981A06F7
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 21:15:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.555
X-Spam-Level:
X-Spam-Status: No, score=-0.555 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id vsR_dJyr4oz1 for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 21:15:56 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id BD104428ED
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 21:15:55 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0LLFsdp006006
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 22:15:54 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: Rainer Jung <rainer.jung@kippdata.de>
Subject: proxy_hcheck: Expr name in balancer manager after graceful restart
Message-ID: <56A14A86.2090704@kippdata.de>
Date: Thu, 21 Jan 2016 22:15:50 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

The name shown in the Expr table of the balancer manager changes after a 
graceful restart. Before restart it is the symbolic name used in the 
config, e.g. ok234. After the restart it is the full path name of the 
shared memory file.

The expression itself shown in the second column is OK before and after, 
also the expr name given in the worker table.

Regards,

Rainer


From dev-return-85303-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 21:41:33 2016
Return-Path: <dev-return-85303-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6570818C71
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 21:41:33 +0000 (UTC)
Received: (qmail 28240 invoked by uid 500); 21 Jan 2016 21:41:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28164 invoked by uid 500); 21 Jan 2016 21:41:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28154 invoked by uid 99); 21 Jan 2016 21:41:32 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 21:41:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 696111A0789
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 21:41:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id lhmzoLWguEyj for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 21:41:26 +0000 (UTC)
Received: from mail-qg0-f48.google.com (mail-qg0-f48.google.com [209.85.192.48])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 20E7142A28
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 21:41:26 +0000 (UTC)
Received: by mail-qg0-f48.google.com with SMTP id b35so43165987qge.0
        for <dev@httpd.apache.org>; Thu, 21 Jan 2016 13:41:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=gzdap+qn8JVXZfUQ9OWR1s9ccAF4H/U2Mmlfc4pfsKg=;
        b=nbNA2dCvTLEzKOXJbm0oV8SLi9YSuIzdiaHuqsfrEN56CODYWlWnRacID/UAgMZGx4
         ABaNdyiWAUMToMHx1neOK45K2YE1sjPc+E+NNgJY41GRjr577RWZpgkWx6qJWsBODMVs
         q0wEe+RhlLQOCoDsS2mgKYx3Lwr986HnpisuEoQWOXLWv9T/He3btMHf07L955u7sxSt
         GSU75744mYhvp7i3A6wYE7goNRybYQIM/O4zorgAxh3NQAhsjAJZPA6DC657fPy3UchO
         QTzlBymwh/BtnTyAKX9EgxEuWTRHUktbxg/fl5k5gQPz2lfg11XbZ4y/u5UZnjweh/9s
         G9cg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=gzdap+qn8JVXZfUQ9OWR1s9ccAF4H/U2Mmlfc4pfsKg=;
        b=XByDNqJ2XhXg+S5nHAZBMqFj9WkiCV7WYPPJ1mTywLXYHX7c1/IE3yd3s1SbvWQcSA
         U2S7tGXGO2G5eZKSIlogsxEPehLblaQExP4lZ5KbS8/pHPEWfPZNBieNbSq5DCVO5W1o
         tOer6AYasf9fxiwK+83Ug5iB/R6W508SgboZA9MF5ppDS6nNi7XVELS2ckxPwI+GSIbi
         WDbhgqJJ/gh1K5l4ggCoqlrbeX06cqCOSQ8LimDfdSz7M3QBUfn4hlOrHsrPLx5N4Q3N
         X5utqYV2yDoodlvpib+4eerHQch5F+Ftoq316UKVQUHAe3SSk2J/XgPzULOW/0mozVQV
         IgLQ==
X-Gm-Message-State: AG10YOQPWnm9ErnKaF3XsYh0mBQCavv0CXWg+GJfCcDm7GG47Fs779OoOy/4NRxdSGHXyOkzG/Ve6Tqp5PHhXw==
MIME-Version: 1.0
X-Received: by 10.140.222.146 with SMTP id s140mr32477667qhb.24.1453412480345;
 Thu, 21 Jan 2016 13:41:20 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Thu, 21 Jan 2016 13:41:20 -0800 (PST)
In-Reply-To: <56A14560.1070209@kippdata.de>
References: <20160121135441.A67163A01D9@svn01-us-west.apache.org>
	<56A0F7EF.9040801@kippdata.de>
	<76D9DE98-6DD2-460D-B2F6-D616EC37315F@jaguNET.com>
	<B5353963-8D1F-4691-A426-7AA62848BC7B@jaguNET.com>
	<56A10CA6.2030807@kippdata.de>
	<4F5C969C-8D8E-41F4-A0D5-3765B8BADE11@jaguNET.com>
	<56A11A7F.2000607@kippdata.de>
	<473DB6E1-87EE-41A5-AF40-529E2D6C073B@jaguNET.com>
	<CB3FF225-DF9C-4CC1-A4B2-AABD38700AEF@jaguNET.com>
	<56A12118.1090800@kippdata.de>
	<0033EE5C-B48A-405E-AC9C-8A3053DBEA85@jaguNET.com>
	<56A138B0.1040103@kippdata.de>
	<8DE86DF3-90A9-4697-93EF-427FE4CBEA28@jaguNET.com>
	<3976DDA0-D3D8-44B2-BF6D-5599D61D74C3@jaguNET.com>
	<CAA57F5B-C69E-42E4-B178-1432C24C2B9E@jaguNET.com>
	<56A14560.1070209@kippdata.de>
Date: Thu, 21 Jan 2016 22:41:20 +0100
Message-ID: <CAKQ1sVPg7NGFJVTtXnSyB63WB25D79tjD7TL0Um5UVGXnhjTOg@mail.gmail.com>
Subject: Re: Bus error for proxy_hcheck on Solaris
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Jan 21, 2016 at 9:53 PM, Rainer Jung <rainer.jung@kippdata.de> wrote:
>
> Am 21.01.2016 um 21:28 schrieb Jim Jagielski:
>>
>> Based on your stack, then that was the section you hit. But I
>> have no idea how you hit it. The test is:
>>
>>      if (hc->s->method != worker->s->method)
>
>
> I'll have a look.

Could it be that sizeof(flush_packets) == 1 in struct
proxy_worker_shared (still 'apr_time_t updated' would be aligned but
possibly not 'method')?
What's APR_OFFSETOF(proxy_worker_shared, method)?

(Btw, shouldn't new 'method' field go to the end of the struct?)

From dev-return-85304-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 22:40:27 2016
Return-Path: <dev-return-85304-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B187B18232
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 22:40:27 +0000 (UTC)
Received: (qmail 40299 invoked by uid 500); 21 Jan 2016 22:40:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 40229 invoked by uid 500); 21 Jan 2016 22:40:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 40219 invoked by uid 99); 21 Jan 2016 22:40:27 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 22:40:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id D04BB1A06FF
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 22:40:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id njLbOsMDJ7Bp for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 22:40:17 +0000 (UTC)
Received: from resqmta-po-12v.sys.comcast.net (resqmta-po-12v.sys.comcast.net [96.114.154.171])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 73ED920D77
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 22:40:17 +0000 (UTC)
Received: from resomta-po-07v.sys.comcast.net ([96.114.154.231])
	by resqmta-po-12v.sys.comcast.net with comcast
	id 8mg91s0024zp9eg01mgHJF; Thu, 21 Jan 2016 22:40:17 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-07v.sys.comcast.net with comcast
	id 8mg51s00T2U0RYt01mgGsa; Thu, 21 Jan 2016 22:40:16 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: proxy_hcheck: Expr name in balancer manager after graceful restart
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56A14A86.2090704@kippdata.de>
Date: Thu, 21 Jan 2016 17:40:05 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <E8ED5580-E3AB-47E8-AA71-465B12B6C0EE@jaguNET.com>
References: <56A14A86.2090704@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453416017;
	bh=vAhIg4uHDEFNTve6/j+SFj/aKuJxq59ytHm5gsR5g1o=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=A16feGh5o4aV9FsZPVFbiBmraTS42LYJ+Hq+PnlvdN1eIMYzTZ34xE1/8uypfDXBn
	 6DLpBEpVX2J/W3bAPhdmfV5Vzi7SY4XKRPCamJ3EDL2Lp9CHRiIGg5BQ74w7RCJLBs
	 6+mxTqRdZ3+9dB7CqCOeY3WZg6zQVc/q/qMgmfDawI2fQx/DfPbS9WJOUJVk5uWqH7
	 WR+8XHlNuEP9jNScCMnQ9xPYgT59gux621JP6tNMhuBNaGoHaw9NLiRYxYYNEACfq0
	 foe1KtKaMZ3lsJKCXFSZyN0j/7N34ZiNTWr0ZzE1jneHwjfe2rqng44OPD3wg0Nh+j
	 mZuaHRIbBXV7A==

Thx... will look into it. I wonder if it's a pool lifetime
thing or something else.

> On Jan 21, 2016, at 4:15 PM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>=20
> The name shown in the Expr table of the balancer manager changes after =
a graceful restart. Before restart it is the symbolic name used in the =
config, e.g. ok234. After the restart it is the full path name of the =
shared memory file.
>=20
> The expression itself shown in the second column is OK before and =
after, also the expr name given in the worker table.
>=20
> Regards,
>=20
> Rainer
>=20


From dev-return-85305-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 21 23:03:15 2016
Return-Path: <dev-return-85305-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 43E32183BA
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 21 Jan 2016 23:03:15 +0000 (UTC)
Received: (qmail 21272 invoked by uid 500); 21 Jan 2016 23:03:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21209 invoked by uid 500); 21 Jan 2016 23:03:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21198 invoked by uid 99); 21 Jan 2016 23:03:13 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Jan 2016 23:03:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 395D31A0645
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 23:03:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id JXFs5hz-KhJC for <dev@httpd.apache.org>;
	Thu, 21 Jan 2016 23:03:03 +0000 (UTC)
Received: from resqmta-po-03v.sys.comcast.net (resqmta-po-03v.sys.comcast.net [96.114.154.162])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 3D39F203BE
	for <dev@httpd.apache.org>; Thu, 21 Jan 2016 23:03:01 +0000 (UTC)
Received: from resomta-po-18v.sys.comcast.net ([96.114.154.242])
	by resqmta-po-03v.sys.comcast.net with comcast
	id 8n2w1s0065E3ZMc01n306D; Thu, 21 Jan 2016 23:03:00 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-18v.sys.comcast.net with comcast
	id 8n2z1s00T2U0RYt01n30GD; Thu, 21 Jan 2016 23:03:00 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: proxy_hcheck: Expr name in balancer manager after graceful restart
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <E8ED5580-E3AB-47E8-AA71-465B12B6C0EE@jaguNET.com>
Date: Thu, 21 Jan 2016 18:02:59 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <8A71CA0B-F189-441B-8EDB-AA6B566EE0A5@jaguNET.com>
References: <56A14A86.2090704@kippdata.de> <E8ED5580-E3AB-47E8-AA71-465B12B6C0EE@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453417380;
	bh=fQ5ya3fYLiWokejjxhjlC1fqCC26ydlAZCpUHA5u4jo=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=drZfBqVDbZXeU6SiAIVyGPrHJpBiW8INsc0CP+8LmlrS3AJfd+ixPItPDvZr/9KqA
	 VXt43MoIFlv28fxHXihUNaZOQRwWNltFboJu7j7nq4WYs9JlGWYsyKEtk5cZyxG2Ex
	 n5dZEFwb2CM5UoRfIE1WSmexKIft1DAXZxIjQPpN+XUsX8KbsuUpc5zuB9B5yEi/AD
	 XXVFOucRG1k/SA/GOgYgDtW0AkfAu9qfqGYum9aJp5UaLzjzYTJgLSOC2Xah1H+8WB
	 SvglqqPVuEHMD5KgQzfBVw/PjzgE8fAIXNxD/L8RGqp23hxK9E+irZThUYsFr61Oea
	 BckMCqBKGWagA==

Almost. ctx->conditions is a per-server struct created during
the create per-server phase. It is populated by set_hc_condition()
which is run when config directives are run during normal command
directive processing. So when we do a graceful restart, I think we
create ctx->conditions anew, but we never populate it because for
some reason, we seem to be bypassing set_hc_condition() :/

Me confused.

> On Jan 21, 2016, at 5:40 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> Thx... will look into it. I wonder if it's a pool lifetime
> thing or something else.
>=20
>> On Jan 21, 2016, at 4:15 PM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>>=20
>> The name shown in the Expr table of the balancer manager changes =
after a graceful restart. Before restart it is the symbolic name used in =
the config, e.g. ok234. After the restart it is the full path name of =
the shared memory file.
>>=20
>> The expression itself shown in the second column is OK before and =
after, also the expr name given in the worker table.
>>=20
>> Regards,
>>=20
>> Rainer
>>=20
>=20


From dev-return-85306-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 22 00:03:49 2016
Return-Path: <dev-return-85306-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 02B1418709
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 22 Jan 2016 00:03:49 +0000 (UTC)
Received: (qmail 32550 invoked by uid 500); 22 Jan 2016 00:03:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32478 invoked by uid 500); 22 Jan 2016 00:03:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32468 invoked by uid 99); 22 Jan 2016 00:03:47 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Jan 2016 00:03:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 91833C17C6
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 00:03:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.555
X-Spam-Level:
X-Spam-Status: No, score=-0.555 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id jmFhnTsJ1V4B for <dev@httpd.apache.org>;
	Fri, 22 Jan 2016 00:03:46 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 88A1220CE7
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 00:03:45 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u0M03ieV006850
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 01:03:44 +0100 (CET)
Subject: Re: proxy_hcheck: Expr name in balancer manager after graceful
 restart
To: dev@httpd.apache.org
References: <56A14A86.2090704@kippdata.de>
 <E8ED5580-E3AB-47E8-AA71-465B12B6C0EE@jaguNET.com>
 <8A71CA0B-F189-441B-8EDB-AA6B566EE0A5@jaguNET.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56A171DB.9050301@kippdata.de>
Date: Fri, 22 Jan 2016 01:03:39 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <8A71CA0B-F189-441B-8EDB-AA6B566EE0A5@jaguNET.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 22.01.2016 um 00:02 schrieb Jim Jagielski:
> Almost. ctx->conditions is a per-server struct created during
> the create per-server phase. It is populated by set_hc_condition()
> which is run when config directives are run during normal command
> directive processing. So when we do a graceful restart, I think we
> create ctx->conditions anew, but we never populate it because for
> some reason, we seem to be bypassing set_hc_condition() :/
>
> Me confused.

You fixed it with r1726129.

Thanks!

Rainer

From dev-return-85307-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 22 14:13:05 2016
Return-Path: <dev-return-85307-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 603BB18587
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 22 Jan 2016 14:13:05 +0000 (UTC)
Received: (qmail 89184 invoked by uid 500); 22 Jan 2016 14:13:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89106 invoked by uid 500); 22 Jan 2016 14:13:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89096 invoked by uid 99); 22 Jan 2016 14:13:00 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Jan 2016 14:13:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C2525C0606
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 14:12:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.655
X-Spam-Level:
X-Spam-Status: No, score=-0.655 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=TadJhv1X;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=TadJhv1X
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id a641rLUNwVJr for <dev@httpd.apache.org>;
	Fri, 22 Jan 2016 14:12:59 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id B6F452054D
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 14:12:55 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 5AEC515A0F77; Fri, 22 Jan 2016 15:12:54 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453471974; bh=QTDQDZ+AEQPyQ71Km2cWBNLgRfnow71wEndTVwZ8li0=;
	h=From:Subject:Date:To:From;
	b=TadJhv1XtNTmsdOXhgwOGxIct6rPu9iCV7pbRbJOEPTklNObuVmo2DLpTkvtAbouP
	 44StTxRyI734ahDaLWlBPkt1IpuKVp4UDkRuq054NS+mG9K6X6VZ5AwZi47qk9p41b
	 xK0aOvkSNfcSfASIKf5VVgxWoFZJkmmGVTuY6ya4=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 37A9F15A04E3
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 15:12:53 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453471974; bh=QTDQDZ+AEQPyQ71Km2cWBNLgRfnow71wEndTVwZ8li0=;
	h=From:Subject:Date:To:From;
	b=TadJhv1XtNTmsdOXhgwOGxIct6rPu9iCV7pbRbJOEPTklNObuVmo2DLpTkvtAbouP
	 44StTxRyI734ahDaLWlBPkt1IpuKVp4UDkRuq054NS+mG9K6X6VZ5AwZi47qk9p41b
	 xK0aOvkSNfcSfASIKf5VVgxWoFZJkmmGVTuY6ya4=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: async keepalive in http/2
Message-Id: <A2355D97-B984-472A-AC59-E5A483E55F35@greenbytes.de>
Date: Fri, 22 Jan 2016 15:12:53 +0100
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)

With the timeout behaviour of SSL reads fixed, I am making another =
attempt at have http/2 connections behave properly in async MPMs, e.g. =
event. One thing for that necessary as change in server is the hook to =
send a last GOAWAY frame before the connection is closed. Not sending it =
seems to confuse browsers, leading to unwanted failure of the subsequent =
request.

You opinion therefore is required. On inspection of the connection =
shutdown handling, it seems that *all* MPM modules call, directly or =
indirectly, ap_start_lingering_close(). Keepalive connections are still =
healthy at this point and pool cleanup happens later, so this seems to =
be the place to install a new hook:

AP_DECLARE_HOOK(int,pre_close_connection,(conn_rec *c)) as RUN_ALL

Does this seem like the right place? Is the name any good?=20

(forget the question about naming, should not have disturbed the =
beast...)

Cheers,

  Stefan



From dev-return-85308-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 22 14:16:17 2016
Return-Path: <dev-return-85308-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AA99918590
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 22 Jan 2016 14:16:17 +0000 (UTC)
Received: (qmail 91877 invoked by uid 500); 22 Jan 2016 14:16:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91814 invoked by uid 500); 22 Jan 2016 14:16:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91804 invoked by uid 99); 22 Jan 2016 14:16:17 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Jan 2016 14:16:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A24E8C0606
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 14:16:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id MN4l_wP4LTJs for <dev@httpd.apache.org>;
	Fri, 22 Jan 2016 14:16:11 +0000 (UTC)
Received: from mail-ig0-f180.google.com (mail-ig0-f180.google.com [209.85.213.180])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 5968621195
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 14:16:10 +0000 (UTC)
Received: by mail-ig0-f180.google.com with SMTP id t15so150031233igr.0
        for <dev@httpd.apache.org>; Fri, 22 Jan 2016 06:16:10 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=2TSJl/zgeTaHmnRpdYuGKuMLjVTVZ/XNecVzaooSN6E=;
        b=RQqgCpbXEaD+N7SxTc7uFVVUwR1y37KblDn1811/BIFsC8CSU76S7xZihVTV/SF8lB
         z+YsebQNVUBBBOGH4OVwg88KYujDvoWisjqjLuAz6+aQ8VmdHsNT1g6pSiFBPSgS56e1
         cRWZLR2UrZqrVtRFgts3Fy3SmUbZaj/naSRI39CM4qnMguRUH3mxFgE01krhYDo37rbU
         AIWqCG1DgdwgfxpHn0fAOfWfB7lGWlkl6E+e8p/RKao5QwbMh6DQIpAmy9vnmJunisXc
         MbTNBe5hTwBF8MGe0+FJ3bqaHSG3WdMDdlBklKUbfiVtkVdwBTJpnSIZVXyTFFXK5Wvn
         GyEw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=2TSJl/zgeTaHmnRpdYuGKuMLjVTVZ/XNecVzaooSN6E=;
        b=Nj53mHIVZwwUUTJla8tdqAnXd3dfaw9fGBNFO4gnLQ2f8SpL3sAHqyQDMkY9RyI2rB
         Qz+pjjilmQIjPMuXDVRNKBA66SICvex9LU++aXfS0ww0nm5KXti+rLvRLVQvUZvslIg/
         NM9ztEAhdNSfyPg1PcDTWHOuKz9YJYzF7SLZFsSZQu20Nx8S+PJkwK6RTFPXQ68b0cGM
         ijJmY3i5cLS/U2X46Q8N5c4PUebR3gO/D21Zzv9qwRpXN0I7/GL6EkUXGD4QV42UtsUE
         eQYNxZHLcVkyh9iE4N/C7Z4Hnsh583FLjEN8CP2nYflVcYqLTmvA1yTJIbpwxgDLA2HS
         BW1Q==
X-Gm-Message-State: AG10YOQO0R2rPcojOUn4jTbDCT32obCSW2SitYEnZyWOZpn4chE1KkpO1tPymts5qNVUc2mUox8jdjqvDldysA==
MIME-Version: 1.0
X-Received: by 10.50.3.39 with SMTP id 7mr3572992igz.56.1453472169315; Fri, 22
 Jan 2016 06:16:09 -0800 (PST)
Received: by 10.64.72.6 with HTTP; Fri, 22 Jan 2016 06:16:09 -0800 (PST)
In-Reply-To: <A2355D97-B984-472A-AC59-E5A483E55F35@greenbytes.de>
References: <A2355D97-B984-472A-AC59-E5A483E55F35@greenbytes.de>
Date: Fri, 22 Jan 2016 09:16:09 -0500
Message-ID: <CALK=YjNmZpv3rv7vZ0vhbwy-OzFEa5p_5hRcRMhzMX8zH_WS4w@mail.gmail.com>
Subject: Re: async keepalive in http/2
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Fri, Jan 22, 2016 at 9:12 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> With the timeout behaviour of SSL reads fixed, I am making another attemp=
t at have http/2 connections behave properly in async MPMs, e.g. event. One=
 thing for that necessary as change in server is the hook to send a last GO=
AWAY frame before the connection is closed. Not sending it seems to confuse=
 browsers, leading to unwanted failure of the subsequent request.
>
> You opinion therefore is required. On inspection of the connection shutdo=
wn handling, it seems that *all* MPM modules call, directly or indirectly, =
ap_start_lingering_close(). Keepalive connections are still healthy at this=
 point and pool cleanup happens later, so this seems to be the place to ins=
tall a new hook:
>
> AP_DECLARE_HOOK(int,pre_close_connection,(conn_rec *c)) as RUN_ALL
>
> Does this seem like the right place? Is the name any good?
>
> (forget the question about naming, should not have disturbed the beast...=
)

Sounds reasonable, and c->pool cleanups you probably found are too
late to write anything.

From dev-return-85309-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 22 14:17:34 2016
Return-Path: <dev-return-85309-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 41D7318594
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 22 Jan 2016 14:17:34 +0000 (UTC)
Received: (qmail 93152 invoked by uid 500); 22 Jan 2016 14:17:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 93083 invoked by uid 500); 22 Jan 2016 14:17:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 93072 invoked by uid 99); 22 Jan 2016 14:17:33 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Jan 2016 14:17:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 387AD1804C8
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 14:17:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.654
X-Spam-Level:
X-Spam-Status: No, score=-0.654 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=mKMpPT0/;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=mKMpPT0/
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id RGve6ITVTN5b for <dev@httpd.apache.org>;
	Fri, 22 Jan 2016 14:17:27 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id DD71D215D6
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 14:17:26 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 2F73D15A0F77; Fri, 22 Jan 2016 15:17:19 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453472239; bh=b+udO4WEh2c81arYYpWMHoSCYIAOBPTauxELRJ95bFs=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=mKMpPT0/98//zDxf11w/mGCXkw743JNW4ZduJQcE6TWqnY8upLjCZswkwqdC/DJzY
	 SlnSqBc6/jzzhGHh+ZOEwbJSIEbFt4BsuN3KcDxupOLjf0lOyCj5AiOWxZnqK1TOZh
	 R4s6Gxp44+BscboruGil2143pc5rBKhcaNdcIqsU=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 0500215A04E3
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 15:17:19 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453472239; bh=b+udO4WEh2c81arYYpWMHoSCYIAOBPTauxELRJ95bFs=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=mKMpPT0/98//zDxf11w/mGCXkw743JNW4ZduJQcE6TWqnY8upLjCZswkwqdC/DJzY
	 SlnSqBc6/jzzhGHh+ZOEwbJSIEbFt4BsuN3KcDxupOLjf0lOyCj5AiOWxZnqK1TOZh
	 R4s6Gxp44+BscboruGil2143pc5rBKhcaNdcIqsU=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: async keepalive in http/2
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CALK=YjNmZpv3rv7vZ0vhbwy-OzFEa5p_5hRcRMhzMX8zH_WS4w@mail.gmail.com>
Date: Fri, 22 Jan 2016 15:17:18 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <9C32A969-7CD1-4C13-B9F6-67AB06385C59@greenbytes.de>
References: <A2355D97-B984-472A-AC59-E5A483E55F35@greenbytes.de> <CALK=YjNmZpv3rv7vZ0vhbwy-OzFEa5p_5hRcRMhzMX8zH_WS4w@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> Am 22.01.2016 um 15:16 schrieb Eric Covener <covener@gmail.com>:
>=20
> On Fri, Jan 22, 2016 at 9:12 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> With the timeout behaviour of SSL reads fixed, I am making another =
attempt at have http/2 connections behave properly in async MPMs, e.g. =
event. One thing for that necessary as change in server is the hook to =
send a last GOAWAY frame before the connection is closed. Not sending it =
seems to confuse browsers, leading to unwanted failure of the subsequent =
request.
>>=20
>> You opinion therefore is required. On inspection of the connection =
shutdown handling, it seems that *all* MPM modules call, directly or =
indirectly, ap_start_lingering_close(). Keepalive connections are still =
healthy at this point and pool cleanup happens later, so this seems to =
be the place to install a new hook:
>>=20
>> AP_DECLARE_HOOK(int,pre_close_connection,(conn_rec *c)) as RUN_ALL
>>=20
>> Does this seem like the right place? Is the name any good?
>>=20
>> (forget the question about naming, should not have disturbed the =
beast...)
>=20
> Sounds reasonable, and c->pool cleanups you probably found are too
> late to write anything.

Indeed. All MPMs seem to cleanup pools way afterwards. Which is correct, =
I believe.=

From dev-return-85310-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 22 15:13:48 2016
Return-Path: <dev-return-85310-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6628E1881B
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 22 Jan 2016 15:13:48 +0000 (UTC)
Received: (qmail 55955 invoked by uid 500); 22 Jan 2016 15:13:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55889 invoked by uid 500); 22 Jan 2016 15:13:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55879 invoked by uid 99); 22 Jan 2016 15:13:47 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Jan 2016 15:13:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 565DAC0D6B
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 15:13:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id BgCB4nHQlk8t for <dev@httpd.apache.org>;
	Fri, 22 Jan 2016 15:13:38 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 782FC20526
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 15:13:38 +0000 (UTC)
Received: from resomta-po-16v.sys.comcast.net ([96.114.154.240])
	by resqmta-po-05v.sys.comcast.net with comcast
	id 93CV1s0035BUCh4013DYtQ; Fri, 22 Jan 2016 15:13:32 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-16v.sys.comcast.net with comcast
	id 93DX1s0012U0RYt013DXhM; Fri, 22 Jan 2016 15:13:32 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: async keepalive in http/2
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <9C32A969-7CD1-4C13-B9F6-67AB06385C59@greenbytes.de>
Date: Fri, 22 Jan 2016 10:13:30 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <845B6B3E-258C-476C-9CAD-A4B0CCBB5AC0@jaguNET.com>
References: <A2355D97-B984-472A-AC59-E5A483E55F35@greenbytes.de> <CALK=YjNmZpv3rv7vZ0vhbwy-OzFEa5p_5hRcRMhzMX8zH_WS4w@mail.gmail.com> <9C32A969-7CD1-4C13-B9F6-67AB06385C59@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453475612;
	bh=RID046iuu7sGo2N8rFtXAkR/xuNY6p9Ikj2/xcZ5s4k=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=nG2LcQF/TL8LTT6nH2Pg/rQv/oKADD9xT1OAb9pQxRSEubQcIxy0Kjw4+kzWPvLiP
	 4+rjDvxQ5V4m8UA2YP7Y8qwZ0YQDE9a5fWeB0DmY0scbL2GMeG24B0KrjSLYVAWiZR
	 gjs9d9p09lY47mevxsmo5BHJvUXlQkicqV++Cjol4sZ6H5ng07xJNXAu4g05RaUN6s
	 5eGMNXgeYkhCLH7lXaRSx4/8w1RvXamrun6Q22XU/lUdp0wMXhHRenEJozE2gBcj5J
	 ys1nGPMoIDCDRQh+XYodUvWj7gXSahPQbFuv/ckgi8X4EFre2yk9rb+tBR2aJ+D9bO
	 lEj5KO7QMuzkA==

+1

> On Jan 22, 2016, at 9:17 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
>=20
>> Am 22.01.2016 um 15:16 schrieb Eric Covener <covener@gmail.com>:
>>=20
>> On Fri, Jan 22, 2016 at 9:12 AM, Stefan Eissing
>> <stefan.eissing@greenbytes.de> wrote:
>>> With the timeout behaviour of SSL reads fixed, I am making another =
attempt at have http/2 connections behave properly in async MPMs, e.g. =
event. One thing for that necessary as change in server is the hook to =
send a last GOAWAY frame before the connection is closed. Not sending it =
seems to confuse browsers, leading to unwanted failure of the subsequent =
request.
>>>=20
>>> You opinion therefore is required. On inspection of the connection =
shutdown handling, it seems that *all* MPM modules call, directly or =
indirectly, ap_start_lingering_close(). Keepalive connections are still =
healthy at this point and pool cleanup happens later, so this seems to =
be the place to install a new hook:
>>>=20
>>> AP_DECLARE_HOOK(int,pre_close_connection,(conn_rec *c)) as RUN_ALL
>>>=20
>>> Does this seem like the right place? Is the name any good?
>>>=20
>>> (forget the question about naming, should not have disturbed the =
beast...)
>>=20
>> Sounds reasonable, and c->pool cleanups you probably found are too
>> late to write anything.
>=20
> Indeed. All MPMs seem to cleanup pools way afterwards. Which is =
correct, I believe.


From dev-return-85311-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 22 15:24:32 2016
Return-Path: <dev-return-85311-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C093918884
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 22 Jan 2016 15:24:32 +0000 (UTC)
Received: (qmail 96687 invoked by uid 500); 22 Jan 2016 15:24:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 96609 invoked by uid 500); 22 Jan 2016 15:24:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 96598 invoked by uid 99); 22 Jan 2016 15:24:32 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Jan 2016 15:24:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id B3BC2C0D1B
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 15:24:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.654
X-Spam-Level:
X-Spam-Status: No, score=-0.654 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=CO8aWry0;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=dd4SHjco
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id AQby7VlcWBvx for <dev@httpd.apache.org>;
	Fri, 22 Jan 2016 15:24:21 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 3556B43F5A
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 15:24:21 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id BDC8315A0F77; Fri, 22 Jan 2016 16:24:19 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453476259; bh=e5zycsQP6X7nrkByCO5xuWUoIipbGJsrdYr9jnC6V5o=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=CO8aWry0O47I87mmEO/t3s3UbgL90iQ1J+h3LbEJIsclgfY/drPRreASdsHlrXZjr
	 T3ORcG2xUxjBM2SVI7LbA7gS3wWTUhMNsQ1wkBj4Cx3e9cK5Ew6ln4uYZQKtfRjTGN
	 t4T9SpIOXOs2YukZwBZrgTAE9fYuCkK79XsoXnX0=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id CDFDC15A0442
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 16:24:18 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453476258; bh=e5zycsQP6X7nrkByCO5xuWUoIipbGJsrdYr9jnC6V5o=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=dd4SHjcocCXZ065IFe+T1vMxmBo36JQjS58tSMCIMfx3ihBUrS3wLZMBIMt6MCxew
	 nC3BFIYvybF8wQVYOXmHNw6TNndHeqgAMKtpqZgo+olV5lqtygOSLmrOLEAjIHTVbK
	 ofxXcSWENvoyDpS3TNSVCQQfe7SeVUyaR6s7KPp8=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: async keepalive in http/2
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <845B6B3E-258C-476C-9CAD-A4B0CCBB5AC0@jaguNET.com>
Date: Fri, 22 Jan 2016 16:24:18 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <13B94AA7-9EA5-4AAC-925A-8CAF15EDA365@greenbytes.de>
References: <A2355D97-B984-472A-AC59-E5A483E55F35@greenbytes.de> <CALK=YjNmZpv3rv7vZ0vhbwy-OzFEa5p_5hRcRMhzMX8zH_WS4w@mail.gmail.com> <9C32A969-7CD1-4C13-B9F6-67AB06385C59@greenbytes.de> <845B6B3E-258C-476C-9CAD-A4B0CCBB5AC0@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

First experiments show that event does not always call =
ap_start_lingering_close(c) and exactly for the interesting cases.

As I read it, the reason is that ap_start_lingering_close() does a flush =
on the connection and event wants to start lingering close when shifting =
the connection from its keepalive queue to the proper lingering queue. =
It is not holding a lock, but its a tight loop where it does not like to =
block.

So, event has its own variants of start_lingering_close. I added=20

ap_prep_lingering_close(c)

to the API which is then called from everyone and runs the pre_close =
hook. With that in place, I see proper GOAWAYs in Chrome on a keepalive =
connection.=20

However if a pre_close hook wants to do more, or if we do care about =
protocols that need a real conversation on a keep alive shutdown, we =
need some mechanism to let the protocol indicate, maybe as return from =
pre_close (making it run_first) that the connection should be =
transferred back from
keepalive to normal processing. It would then be up to the protocol =
handler to manage the state and all...

More complicated and probably overkill for the <32 bytes http/2 likes to =
send. I just wanted to mention it...

Cheers,

  Stefan



> Am 22.01.2016 um 16:13 schrieb Jim Jagielski <jim@jaguNET.com>:
>=20
> +1
>=20
>> On Jan 22, 2016, at 9:17 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>>=20
>>=20
>>> Am 22.01.2016 um 15:16 schrieb Eric Covener <covener@gmail.com>:
>>>=20
>>> On Fri, Jan 22, 2016 at 9:12 AM, Stefan Eissing
>>> <stefan.eissing@greenbytes.de> wrote:
>>>> With the timeout behaviour of SSL reads fixed, I am making another =
attempt at have http/2 connections behave properly in async MPMs, e.g. =
event. One thing for that necessary as change in server is the hook to =
send a last GOAWAY frame before the connection is closed. Not sending it =
seems to confuse browsers, leading to unwanted failure of the subsequent =
request.
>>>>=20
>>>> You opinion therefore is required. On inspection of the connection =
shutdown handling, it seems that *all* MPM modules call, directly or =
indirectly, ap_start_lingering_close(). Keepalive connections are still =
healthy at this point and pool cleanup happens later, so this seems to =
be the place to install a new hook:
>>>>=20
>>>> AP_DECLARE_HOOK(int,pre_close_connection,(conn_rec *c)) as RUN_ALL
>>>>=20
>>>> Does this seem like the right place? Is the name any good?
>>>>=20
>>>> (forget the question about naming, should not have disturbed the =
beast...)
>>>=20
>>> Sounds reasonable, and c->pool cleanups you probably found are too
>>> late to write anything.
>>=20
>> Indeed. All MPMs seem to cleanup pools way afterwards. Which is =
correct, I believe.
>=20


From dev-return-85312-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 22 17:29:25 2016
Return-Path: <dev-return-85312-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 97F8418EF8
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 22 Jan 2016 17:29:25 +0000 (UTC)
Received: (qmail 33466 invoked by uid 500); 22 Jan 2016 17:29:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33402 invoked by uid 500); 22 Jan 2016 17:29:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33387 invoked by uid 99); 22 Jan 2016 17:29:24 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Jan 2016 17:29:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 142C8C0606
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 17:29:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id cgvU9xDDsKxd for <dev@httpd.apache.org>;
	Fri, 22 Jan 2016 17:29:17 +0000 (UTC)
Received: from resqmta-po-04v.sys.comcast.net (resqmta-po-04v.sys.comcast.net [96.114.154.163])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 654CA204CE
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 17:29:17 +0000 (UTC)
Received: from resomta-po-13v.sys.comcast.net ([96.114.154.237])
	by resqmta-po-04v.sys.comcast.net with comcast
	id 95UK1s00757bBgG015VBtG; Fri, 22 Jan 2016 17:29:11 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-13v.sys.comcast.net with comcast
	id 95VA1s0022U0RYt015VASP; Fri, 22 Jan 2016 17:29:11 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Work in progress: mod_proxy Health Check module
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <C72F9F66-7C19-481E-A903-1903F9EA08F2@jaguNET.com>
Date: Fri, 22 Jan 2016 12:29:09 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <03BB2B9D-9AEE-4804-877F-0270C155D418@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com> <25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com> <9EE59597-7931-484A-A61E-1A4715D9F5A3@c8h10n4o2.org.uk> <41F5D009-7C4E-47AB-8FE7-0B0C97E569FA@jaguNET.com> <569F4683.8020206@kippdata.de> <23C0818C-160A-4907-B574-B8853CF582A1@jaguNET.com> <91142A15-43F3-4AE2-8227-8866EA5F9DE4@jaguNET.com> <F5D5F1DE-0882-4A2D-92BD-FE5893AEAAE5@jaguNET.com> <F14DA3A0-E5E6-4687-9D96-38669354A276@jaguNET.com> <569FB1A8.9080208@kippdata.de> <2E486C0B-230B-48D2-8A91-07FF37E876DC@jaguNET.com> <02FA677D-0F2A-43F3-BB4E-B966067199C3@jaguNET.com> <C72F9F66-7C19-481E-A903-1903F9EA08F2@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453483751;
	bh=ZMqtjaKKl6r2xPJ8x19vqY78b7ZE6cSYiW19eS8BkHw=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=gwddCa2Ln1eAAnDmMHeKrrmUfGe2dH+bdSANY0XCDSTqHWuM801WjU3iZlJL2UgtB
	 9y31SurGD9bkEt3iPp+GFZnKNQaA2vn3816QrqieWbq3J7oKxUwONzZT1EEKNq6M/i
	 46MsuwLQHSjEA6YLS4wI+ltFtTwjhBesTST5xeCx0FkwA6l/O8pL0+b7Njf5sBb3mo
	 vU1DQAb5avD+OtaXyXkoSQVZjQKx0UcS20AZOZOSlQB5xvFVLqQx4lDLL99bdjv5Hx
	 lnpAZGvAgP4H+Hu3dNIGzHm9+WIUJ6GgnfzAmtT1dSUH/Tj3HaN7mBU1nu5DGqh017
	 HtJ/sq2TH3NNQ==

At this point GET is now implemented as well as checking
the response via ap_expr...

I think this is at a stage to let it sit for a bit
and have people whack away at it.

I have some ideas on extending it to use a thread-pool
in the watchdog, to allow for parallel health-checks.
Eventually, using some sort of non-blocking impl and/or
Apache serf is also on the drawing board.

From dev-return-85313-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 22 17:36:19 2016
Return-Path: <dev-return-85313-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A8A6A18F57
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 22 Jan 2016 17:36:19 +0000 (UTC)
Received: (qmail 55816 invoked by uid 500); 22 Jan 2016 17:36:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55738 invoked by uid 500); 22 Jan 2016 17:36:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55726 invoked by uid 99); 22 Jan 2016 17:36:19 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Jan 2016 17:36:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 97FBBC0D6B
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 17:36:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id mv4PuvHxM5ME for <dev@httpd.apache.org>;
	Fri, 22 Jan 2016 17:36:12 +0000 (UTC)
Received: from mail-qg0-f49.google.com (mail-qg0-f49.google.com [209.85.192.49])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 2D619204CE
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 17:36:12 +0000 (UTC)
Received: by mail-qg0-f49.google.com with SMTP id o11so62660538qge.2
        for <dev@httpd.apache.org>; Fri, 22 Jan 2016 09:36:12 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=37cuTQm5zF3j1LN7Z6s6NyzaEjL7XvFDHHxefiNkxWE=;
        b=jkCAGgkYyB3CQEepJUodO0W4tMdVaNbwLnZAUJVw4SqOKiGU6Ao9Hl5gi+YeNH5ZbC
         U6+tbFpIiJ+nE/sHQ7IS4ruhQauA3n2OV2CbdHD1SusV8KFvodWO6Fx6rQehaMqxp/WM
         RzTKBkXmtQ12x+iv5tgyxCinJy1pr75Y+neNnBGgIEWJkgGPET/Q9waHLFd7kNfl0BAo
         qR36ruboCIxhXIpeqD8RHqOuIeODrY6OF5HEyPgd3O144rxSzPIw6jZZgHYzjAq5ek/d
         6qtGF9pek5YyqkGJVhc3K+ZGpIG4gsaz3cki5XKRoO28Lygq12O1vqtuH7ECYYtKed5/
         bd6g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=37cuTQm5zF3j1LN7Z6s6NyzaEjL7XvFDHHxefiNkxWE=;
        b=XJEr9ZMK263DVOx7oov30G9J641OMmXmIJtUwTQybh0UyJT0yX0rY6bGGspRynAsDe
         twWyjWfmRw7iI8iOea825uA0muWASrihflQ3TMp3dQxIkfL3dAqMUJaprNutKSK8zA/x
         mmjZfp5pKYmh9jiVjYk9jxDwwfpx1F6bqGoXah7ZGRCSzdfTlPZFVmbe50hl2/GGzcjg
         rZz3wYarGrd+er1iDjvmJvgc6QxeAAxHIvH2MiTbUEsZs+hdzZcR2W8GOhVDWP+oC3NF
         HPlKNX8VfHSo2HOawYnQFtFrhVYxUwgjO+kbg977dK10RP9hcS0Jz2uKtcauRny2P7DO
         XAnA==
X-Gm-Message-State: AG10YOSD8vO3TSHpITmTev+2lWZzFNPBDWzuevdCY++t8xRVN1VhtHL164lMHj+/jLnDfB5Qzbh/mqtqwEoNzg==
MIME-Version: 1.0
X-Received: by 10.140.179.68 with SMTP id z65mr5665012qhz.70.1453484171205;
 Fri, 22 Jan 2016 09:36:11 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Fri, 22 Jan 2016 09:36:11 -0800 (PST)
In-Reply-To: <03BB2B9D-9AEE-4804-877F-0270C155D418@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com>
	<25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com>
	<9EE59597-7931-484A-A61E-1A4715D9F5A3@c8h10n4o2.org.uk>
	<41F5D009-7C4E-47AB-8FE7-0B0C97E569FA@jaguNET.com>
	<569F4683.8020206@kippdata.de>
	<23C0818C-160A-4907-B574-B8853CF582A1@jaguNET.com>
	<91142A15-43F3-4AE2-8227-8866EA5F9DE4@jaguNET.com>
	<F5D5F1DE-0882-4A2D-92BD-FE5893AEAAE5@jaguNET.com>
	<F14DA3A0-E5E6-4687-9D96-38669354A276@jaguNET.com>
	<569FB1A8.9080208@kippdata.de>
	<2E486C0B-230B-48D2-8A91-07FF37E876DC@jaguNET.com>
	<02FA677D-0F2A-43F3-BB4E-B966067199C3@jaguNET.com>
	<C72F9F66-7C19-481E-A903-1903F9EA08F2@jaguNET.com>
	<03BB2B9D-9AEE-4804-877F-0270C155D418@jaguNET.com>
Date: Fri, 22 Jan 2016 18:36:11 +0100
Message-ID: <CAKQ1sVNCD+3wfm9GDY+r8v=hM3k7gZ73nEMsTVbDaouOTpypww@mail.gmail.com>
Subject: Re: Work in progress: mod_proxy Health Check module
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Jan 22, 2016 at 6:29 PM, Jim Jagielski <jim@jagunet.com> wrote:
> At this point GET is now implemented as well as checking
> the response via ap_expr...

Thanks Jim, this is great!

From dev-return-85314-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 22 19:16:49 2016
Return-Path: <dev-return-85314-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5CE60185B9
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 22 Jan 2016 19:16:49 +0000 (UTC)
Received: (qmail 82459 invoked by uid 500); 22 Jan 2016 19:16:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 82397 invoked by uid 500); 22 Jan 2016 19:16:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82387 invoked by uid 99); 22 Jan 2016 19:16:48 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Jan 2016 19:16:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 64383C0D68
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 19:16:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id NIIe8i8a6OrB for <dev@httpd.apache.org>;
	Fri, 22 Jan 2016 19:16:47 +0000 (UTC)
Received: from mail-ig0-f175.google.com (mail-ig0-f175.google.com [209.85.213.175])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 7282B20549
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 19:16:47 +0000 (UTC)
Received: by mail-ig0-f175.google.com with SMTP id ik10so17449638igb.1
        for <dev@httpd.apache.org>; Fri, 22 Jan 2016 11:16:47 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=irdWbMJviKHY1i5MLKoVRRUFstIw1kXjJ/U3sexDzzo=;
        b=D0/AyCLUEEznf6C3DNxbadjNiLFbUIOfsPNH0QMCsKIH4H/9LR+hRGwmsMpysWN5j5
         GgH7AeaQ1K8WQ8KKJPckM9Wo3BMlbtx1zOsBHElYH9fVQiQUOuGlDNu259XIcgihp+S7
         u3btGibTn/nk0bX06R26PEDgo7dO/u6JwLf5dHT6TDUXua+OyycieWT/31tk4zlJM3P7
         L8z69iXPkZwPeE8vdPCTA4g4YpCKwaogyb/1obYOCbv2uF2LaR+TDMKoorAoYq3fWw/P
         b9jk5fKqZXe+vL/F4zrkOlKPzl78qcODbC/ayIbC2NX6xKE6nvfL05NmbvgrW0V+cJaI
         wozw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=irdWbMJviKHY1i5MLKoVRRUFstIw1kXjJ/U3sexDzzo=;
        b=CtYWhjg9ejf7nCtB++TYW/wGihCErHRughOWkm7sSRidt/Y8zpnhfQU5KKQEWs2D5O
         lpguS93Vn6Vj1DZ0HnwC3Sp4c+qq/4xp+kkUWoP/GbBhnVH7N9iAt4Y5JVL161g/Qo7+
         JCPS93xYZd+m/R1wpw01rdRlygjgNhYeZQJnGyOmrbf2pG7FCw4FXxCOq28K6F9KQ1gd
         BTVO3L64lztSW2tsi8pgzednvqpwGxKdURWDhZIcMeT15K8Wylys987jzt8KbsrOtaCJ
         TcBARPequkziCiAs8Y5Vf/YUqG6PvwcGjUyYv8YDNJodrHasFp5tZilXAd/dJZXj+Npj
         ZLqA==
X-Gm-Message-State: AG10YOQUQC1avAlV5uyp1QFMh4XguyqRgvP9J2//xHvn1x2xX6e7UnqXlMbVx/d6BEJLuDaTKDGrNlJ19Lr5nQ==
MIME-Version: 1.0
X-Received: by 10.50.3.39 with SMTP id 7mr4902887igz.56.1453490201768; Fri, 22
 Jan 2016 11:16:41 -0800 (PST)
Received: by 10.64.72.6 with HTTP; Fri, 22 Jan 2016 11:16:41 -0800 (PST)
In-Reply-To: <CALK=YjNA=hpgJB11NzZujoSxhh95JdkFvEwi1Mk9hdG14EiCuw@mail.gmail.com>
References: <CALK=YjOwDPyAwsBv15AHF3YF3PSFFb_rt8yE8QnbuydNRH8W=w@mail.gmail.com>
	<CAKQ1sVPpaboK5CNRTK4s07jv7sKpScyKti-JmDQ3fs_iANxpSA@mail.gmail.com>
	<CALK=YjNA=hpgJB11NzZujoSxhh95JdkFvEwi1Mk9hdG14EiCuw@mail.gmail.com>
Date: Fri, 22 Jan 2016 14:16:41 -0500
Message-ID: <CALK=YjMFR3ac4WcdsKHU96MhSFQka5hQd3AnZcAuKC6+yy7rtw@mail.gmail.com>
Subject: Re: ap_init_rng / apr_random question
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>, "dev@apr.apache.org" <dev@apr.apache.org>
Content-Type: text/plain; charset=UTF-8

Maybe another topic for 1.6. Is it wise to keep this code around?

On Sun, Nov 1, 2015 at 10:20 AM, Eric Covener <covener@gmail.com> wrote:
> On Tue, Oct 27, 2015 at 8:00 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> On Tue, Oct 27, 2015 at 6:57 PM, Eric Covener <covener@gmail.com> wrote:
>>> IIUC, it takes something like 32k of /dev/random to initialize apr_random.
>>>
>>> APR_RANDOM_DEFAULT_POOLS*APR_RANDOM_DEFAULT_RESEED_SIZE*APR_RANDOM_DEFAULT_G_FOR_INSECURE
>>> (32*32*32)
>>>
>>> But ap_init_rng() does this with ~4000 8-byte reads of /dev/random.
>>>
>>> I am working on a platform where access to the crypto facility
>>> underneath /dev/random is sometimes audited.  Does anyone have any
>>> hints about whether larger reads from /dev/random would be better
>>> elsewhere? Or if the startup requirement is really this high for data
>>> from /dev/random?
>>
>> AFAICT, /dev/urandom itself only requires 256 bits (32 bytes) of
>> (secret) entropy to be secure (cryptographically strong), so I don't
>> think more would be needed for httpd (or APR).
>> It seems to me that asking for more than 32 bytes of random bytes by
>> something like a minute is not very sound (both for the requester AND
>> the "others"), so IMHO we should really take that into consideration.
>
> Adding Ben directly (sorry Ben).    Ben, you might recall the APR PRNG
> http://svn.apache.org/viewvc/apr/apr/trunk/random/unix/apr_random.c?view=log
>
> We noticed it is awfully /dev/random hungry at startup because the
> bytes fed to it (AFAICT) get  sprayed across 32 pools that need to be
> reseeded 32 times each to be able to reach 32 generations to flip over
> to being ready to provide insecure bytes.  I'm wondering if any of
> those factors is somehow inadvertent or if there's any other light you
> can shed on it (defaults optimized for hypothetical daemon mode, etc)
>
> (My original report was exacerbated by httpd feeding in entropy 8
> bytes at a time)



-- 
Eric Covener
covener@gmail.com

From dev-return-85315-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 22 20:25:21 2016
Return-Path: <dev-return-85315-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0E16D1883F
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 22 Jan 2016 20:25:21 +0000 (UTC)
Received: (qmail 49229 invoked by uid 500); 22 Jan 2016 20:25:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49153 invoked by uid 500); 22 Jan 2016 20:25:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49131 invoked by uid 99); 22 Jan 2016 20:25:20 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Jan 2016 20:25:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 2D6CF1804F0
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 20:25:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id f6NqwKiEMU3W for <dev@httpd.apache.org>;
	Fri, 22 Jan 2016 20:25:11 +0000 (UTC)
Received: from resqmta-po-11v.sys.comcast.net (resqmta-po-11v.sys.comcast.net [96.114.154.170])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 63757256E0
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 20:25:09 +0000 (UTC)
Received: from resomta-po-07v.sys.comcast.net ([96.114.154.231])
	by resqmta-po-11v.sys.comcast.net with comcast
	id 98QN1s0064zp9eg018R2Mu; Fri, 22 Jan 2016 20:25:02 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-07v.sys.comcast.net with comcast
	id 98R11s00L2U0RYt018R1iF; Fri, 22 Jan 2016 20:25:02 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Work in progress: mod_proxy Health Check module
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVNCD+3wfm9GDY+r8v=hM3k7gZ73nEMsTVbDaouOTpypww@mail.gmail.com>
Date: Fri, 22 Jan 2016 15:25:01 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <3FD2F91E-8A21-4B30-BC5F-0B1FFA397ADF@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com> <25B13108-E732-422F-B3C2-41B5E0EB22D1@jaguNET.com> <9EE59597-7931-484A-A61E-1A4715D9F5A3@c8h10n4o2.org.uk> <41F5D009-7C4E-47AB-8FE7-0B0C97E569FA@jaguNET.com> <569F4683.8020206@kippdata.de> <23C0818C-160A-4907-B574-B8853CF582A1@jaguNET.com> <91142A15-43F3-4AE2-8227-8866EA5F9DE4@jaguNET.com> <F5D5F1DE-0882-4A2D-92BD-FE5893AEAAE5@jaguNET.com> <F14DA3A0-E5E6-4687-9D96-38669354A276@jaguNET.com> <569FB1A8.9080208@kippdata.de> <2E486C0B-230B-48D2-8A91-07FF37E876DC@jaguNET.com> <02FA677D-0F2A-43F3-BB4E-B966067199C3@jaguNET.com> <C72F9F66-7C19-481E-A903-1903F9EA08F2@jaguNET.com> <03BB2B9D-9AEE-4804-877F-0270C155D418@jaguNET.com> <CAKQ1sVNCD+3wfm9GDY+r8v=hM3k7gZ73nEMsTVbDaouOTpypww@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453494302;
	bh=hZvCA+WneEjh5gjtbQrs5fyG74h8OZnyazCuUX8wGGE=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=vq0bM83eKA3SwvkTV90dKquR5u+agnUhVVFtquwL1Ez8qiVfunwcf+1sCTauV0QSv
	 3bSK1wJgtGhWM30KLDbKVn0KQTrD5WtkTr0mhaDxx4dMmelao8eyQeCxmjV0Ni6bKy
	 kmOMgAh4hnRwdKmek9chbJpJF4gdpFmx9XYNDg09aeHBGuEZgn/WNkk8+w7+A8/7b8
	 Tx665c+sDiZRs/NqtGUKFDrSuIW537mPEFVTdsKUG4tXQpe/XgAgQgaqNmqiaxGENx
	 cXv9LtqAFz6E/fUda1JhC0n5SPE1sjmYdWICiLB6eIoXK7GeqllxcluPITcxyetAlN
	 ywggZgDJhbx7Q==

I had some cycles before the snow hit so added usage
of threadpools, so that the checks are done in parallel
rather than series...

Quick impl.
> On Jan 22, 2016, at 12:36 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> 
> On Fri, Jan 22, 2016 at 6:29 PM, Jim Jagielski <jim@jagunet.com> wrote:
>> At this point GET is now implemented as well as checking
>> the response via ap_expr...
> 
> Thanks Jim, this is great!


From dev-return-85316-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 22 20:55:41 2016
Return-Path: <dev-return-85316-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 784E5189A7
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 22 Jan 2016 20:55:41 +0000 (UTC)
Received: (qmail 62433 invoked by uid 500); 22 Jan 2016 20:55:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62368 invoked by uid 500); 22 Jan 2016 20:55:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62357 invoked by uid 99); 22 Jan 2016 20:55:40 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Jan 2016 20:55:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 146BC1A00BA
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 20:55:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.555
X-Spam-Level:
X-Spam-Status: No, score=-0.555 tagged_above=-999 required=6.31
	tests=[HEADER_FROM_DIFFERENT_DOMAINS=0.001, RP_MATCHES_RCVD=-0.554,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id BA23a2MYUo-1 for <dev@httpd.apache.org>;
	Fri, 22 Jan 2016 20:55:39 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 0058020506
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 20:55:38 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1aMijq-0006sJ-F4
	for dev@httpd.apache.org; Fri, 22 Jan 2016 21:55:22 +0100
Received: from aorleans-552-1-81-247.w92-140.abo.wanadoo.fr ([92.140.160.247])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Fri, 22 Jan 2016 21:55:22 +0100
Received: from christophe.jaillet by aorleans-552-1-81-247.w92-140.abo.wanadoo.fr with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Fri, 22 Jan 2016 21:55:22 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Subject: A few comments on mod_proxy_hc
Date: Fri, 22 Jan 2016 21:55:11 +0100
Lines: 38
Message-ID: <n7u4vi$8is$1@ger.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: aorleans-552-1-81-247.w92-140.abo.wanadoo.fr
X-Mozilla-News-Host: news://news.gmane.org:119
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
X-Antivirus: avast! (VPS 160122-1, 22/01/2016), Outbound message
X-Antivirus-Status: Clean

Hi,

My 2 cents on mod_proxy_hc:


1) around line 278:

I think that a:
     template->hcexpr = NULL;
is missing.



2) line 363
     r->protocol = (char*)"HTTP/1.1";
This is just fine for me, but r->protocol is not const.
Other places uses apr_pstrdup for that. (around line 617 and 637 of 
protocol.c for example)
These other places could, IMHO, avoid the apr_pstrdup. And "struct 
request_rec...protocol" could be marked as const.



3) A '{' seems to be missing in the following line, in doc:
    ProxyHCExpr gdown %{REQUEST_STATUS} =~ /^[5]/}
                      ^
                      |______



4) Should we really add a ProxyHCTemplate directive?
I understand that it is convenient, but:
    - why limit it to HC?
    - couldn't the same goal be achieved with mod_macro? Syntax would be 
different, but the mechanism would be more generic.


CJ


From dev-return-85317-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 22 21:11:16 2016
Return-Path: <dev-return-85317-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A55018AB3
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 22 Jan 2016 21:11:16 +0000 (UTC)
Received: (qmail 23595 invoked by uid 500); 22 Jan 2016 21:11:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23531 invoked by uid 500); 22 Jan 2016 21:11:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23520 invoked by uid 99); 22 Jan 2016 21:11:16 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Jan 2016 21:11:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 97BBBC0D6F
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 21:11:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id RI2EvzcgI0Np for <dev@httpd.apache.org>;
	Fri, 22 Jan 2016 21:11:09 +0000 (UTC)
Received: from resqmta-po-06v.sys.comcast.net (resqmta-po-06v.sys.comcast.net [96.114.154.165])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id BFD5C43F5C
	for <dev@httpd.apache.org>; Fri, 22 Jan 2016 21:11:08 +0000 (UTC)
Received: from resomta-po-07v.sys.comcast.net ([96.114.154.231])
	by resqmta-po-06v.sys.comcast.net with comcast
	id 999v1s0054zp9eg019B2vi; Fri, 22 Jan 2016 21:11:02 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-07v.sys.comcast.net with comcast
	id 99B11s00A2U0RYt019B1UP; Fri, 22 Jan 2016 21:11:02 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: A few comments on mod_proxy_hc
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <n7u4vi$8is$1@ger.gmane.org>
Date: Fri, 22 Jan 2016 16:11:01 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <283E6838-A04B-442A-BE18-04C74C7EE1C4@jaguNET.com>
References: <n7u4vi$8is$1@ger.gmane.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453497062;
	bh=TQuQ9bm6LrR8NDstRDQTVOkrKSiSM2si/Yn0JGyK6+k=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=KBFyMz4UTELrjKZQe/6IEfmUShSjBnIGzwgTKSTi7MQU2ohmU5+Zaw2GuuvdrS8As
	 FiYu2uQVT5hXQJ33iss+yOtAyYa2CXsVohMbSJrkp145O9X+vUtJQLEpP4NIzI87CZ
	 bPZnmZ4Zk0cXNBtZkbCXe3HXyhi8hJzi3dzr+iYTvdEOTi0RTzr5GOPr5201qyFqaf
	 gNrjFcGQ28Y8avQs8yUEFrMLsWjZ2lPtslGk8UuLKn8Vz4pazA/JLmgV0UQPdZzvob
	 LRIk6xZAcmV9hN6ja8NYJKNHSsDc4+RCDwYxDraN2NWKqm7I/y8Jje7TMaKMa4dvom
	 T3hVSJiY/c5/A==


> On Jan 22, 2016, at 3:55 PM, Christophe JAILLET =
<christophe.jaillet@wanadoo.fr> wrote:
>=20
> Hi,
>=20
> My 2 cents on mod_proxy_hc:
>=20
>=20
> 1) around line 278:
>=20
> I think that a:
>    template->hcexpr =3D NULL;
> is missing.
>=20

Thx.

>=20
>=20
> 2) line 363
>    r->protocol =3D (char*)"HTTP/1.1";
> This is just fine for me, but r->protocol is not const.
> Other places uses apr_pstrdup for that. (around line 617 and 637 of =
protocol.c for example)
> These other places could, IMHO, avoid the apr_pstrdup. And "struct =
request_rec...protocol" could be marked as const.
>=20

The thing is, we never really use it :)
>=20
>=20
> 3) A '{' seems to be missing in the following line, in doc:
>   ProxyHCExpr gdown %{REQUEST_STATUS} =3D~ /^[5]/}
>                     ^
>                     |______
>=20
Thx!
>=20
>=20
> 4) Should we really add a ProxyHCTemplate directive?
> I understand that it is convenient, but:
>   - why limit it to HC?
>   - couldn't the same goal be achieved with mod_macro? Syntax would be =
different, but the mechanism would be more generic.
>=20

I guess... I'm not married to it one way or another :)

THX!=

From dev-return-85318-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jan 23 21:14:49 2016
Return-Path: <dev-return-85318-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 265E61847F
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 23 Jan 2016 21:14:49 +0000 (UTC)
Received: (qmail 9923 invoked by uid 500); 23 Jan 2016 21:14:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 9833 invoked by uid 500); 23 Jan 2016 21:14:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 9823 invoked by uid 99); 23 Jan 2016 21:14:43 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Jan 2016 21:14:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 3C1161805F1
	for <dev@httpd.apache.org>; Sat, 23 Jan 2016 21:14:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0
X-Spam-Level:
X-Spam-Status: No, score=0 tagged_above=-999 required=6.31 tests=[none]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id dJBoq1GJcUTk for <dev@httpd.apache.org>;
	Sat, 23 Jan 2016 21:14:38 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2414920F0A
	for <dev@httpd.apache.org>; Sat, 23 Jan 2016 21:14:38 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 08C8522BEF
	for <dev@httpd.apache.org>; Sat, 23 Jan 2016 22:14:31 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0k7FVkfwiGLG for <dev@httpd.apache.org>;
	Sat, 23 Jan 2016 22:14:30 +0100 (CET)
Received: from [10.0.0.1] (CPE-121-217-46-182.lnse1.cht.bigpond.net.au [121.217.46.182])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id A87DF206EF
	for <dev@httpd.apache.org>; Sat, 23 Jan 2016 22:14:29 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: Additional export from proxy_util for NetWare build.
Message-ID: <56A3ED2C.1000200@gknw.net>
Date: Sun, 24 Jan 2016 08:14:20 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.0
MIME-Version: 1.0
Content-Type: multipart/mixed;
 boundary="------------050201010906000101030106"

This is a multi-part message in MIME format.
--------------050201010906000101030106
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Greetings all for 2016.
Can someone with commit clout add the attached diff to httpd-trunk please?
TIA,
Norm

--------------050201010906000101030106
Content-Type: text/x-patch;
 name="proxy_util_add_export.diff"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="proxy_util_add_export.diff"

Index: modules/proxy/NWGNUproxy
===================================================================
--- modules/proxy/NWGNUproxy	(revision 1726451)
+++ modules/proxy/NWGNUproxy	(working copy)
@@ -312,6 +312,7 @@
 	@echo $(DL) ap_proxy_set_wstatus,$(DL)>> $@
 	@echo $(DL) ap_proxy_share_balancer,$(DL)>> $@
 	@echo $(DL) ap_proxy_share_worker,$(DL)>> $@
+	@echo $(DL) ap_proxy_show_hcmethod,$(DL)>> $@
 	@echo $(DL) ap_proxy_ssl_connection_cleanup,$(DL)>> $@
 	@echo $(DL) ap_proxy_ssl_disable,$(DL)>> $@
 	@echo $(DL) ap_proxy_ssl_enable,$(DL)>> $@

--------------050201010906000101030106--

From dev-return-85319-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jan 23 21:48:51 2016
Return-Path: <dev-return-85319-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8E2D2184D6
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 23 Jan 2016 21:48:51 +0000 (UTC)
Received: (qmail 46802 invoked by uid 500); 23 Jan 2016 21:48:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46734 invoked by uid 500); 23 Jan 2016 21:48:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46723 invoked by uid 99); 23 Jan 2016 21:48:51 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Jan 2016 21:48:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id AF4741805EA
	for <dev@httpd.apache.org>; Sat, 23 Jan 2016 21:48:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id SmaDbLQAPmzh for <dev@httpd.apache.org>;
	Sat, 23 Jan 2016 21:48:41 +0000 (UTC)
Received: from resqmta-po-09v.sys.comcast.net (resqmta-po-09v.sys.comcast.net [96.114.154.168])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 9765B202FE
	for <dev@httpd.apache.org>; Sat, 23 Jan 2016 21:48:41 +0000 (UTC)
Received: from resomta-po-01v.sys.comcast.net ([96.114.154.225])
	by resqmta-po-09v.sys.comcast.net with comcast
	id 9Zo61s0014s37d401Zoa08; Sat, 23 Jan 2016 21:48:35 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-01v.sys.comcast.net with comcast
	id 9ZoZ1s00A2U0RYt01ZoZbx; Sat, 23 Jan 2016 21:48:34 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Additional export from proxy_util for NetWare build.
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56A3ED2C.1000200@gknw.net>
Date: Sat, 23 Jan 2016 16:48:33 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <BA7F6E3E-E1A0-49CE-99E9-BF2886F182B0@jaguNET.com>
References: <56A3ED2C.1000200@gknw.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453585715;
	bh=qERDvX+a2Q8viCtgBZMORZQq0fNJJidRnCPpw8xoBpE=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Oyp87oFc9QPNctR5Xmbtb/3/dapOXnlKDQ3NRMV8DVa+rl3HNkYnIyseVc9+6XFbe
	 724nst56lLk3pdCKQ4p0kZMk//c44ox9xSnNn94CfIekejnOTy7XY7d0WCYiWXaqBV
	 83QsFPrJmf37ysQZt72s300oyVyterpwXek9mghPVUxjPhmvuvmd0IhuyPX38O+l7q
	 1JGjPxnV+8VJDHi7rJPsBkKCSOHXuP91NLG6n79H+gLS4IdMr9y9krg2jykK6qeloV
	 rTXAVdJcJ1qdjjMX4u6ik9rnXNTJ2dUZY4e2deJLr2eZ9UwCg9cM+qWhn1qyiiHAcR
	 TlE0K1XQKbgIg==

Sending        NWGNUproxy
Transmitting file data .done
Committing transaction...
Committed revision 1726453.

All done! Thx!

> On Jan 23, 2016, at 4:14 PM, NormW <normw@gknw.net> wrote:
> 
> Greetings all for 2016.
> Can someone with commit clout add the attached diff to httpd-trunk please?
> TIA,
> Norm
> <proxy_util_add_export.diff>


From dev-return-85320-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jan 23 21:49:55 2016
Return-Path: <dev-return-85320-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4AC08184DD
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 23 Jan 2016 21:49:55 +0000 (UTC)
Received: (qmail 48367 invoked by uid 500); 23 Jan 2016 21:49:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48292 invoked by uid 500); 23 Jan 2016 21:49:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48281 invoked by uid 99); 23 Jan 2016 21:49:54 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Jan 2016 21:49:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 516E31A00E8
	for <dev@httpd.apache.org>; Sat, 23 Jan 2016 21:49:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Nm2u6cRS_EzZ for <dev@httpd.apache.org>;
	Sat, 23 Jan 2016 21:49:45 +0000 (UTC)
Received: from resqmta-po-09v.sys.comcast.net (resqmta-po-09v.sys.comcast.net [96.114.154.168])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id E599443EF5
	for <dev@httpd.apache.org>; Sat, 23 Jan 2016 21:49:44 +0000 (UTC)
Received: from resomta-po-07v.sys.comcast.net ([96.114.154.231])
	by resqmta-po-09v.sys.comcast.net with comcast
	id 9Zpc1s0014zp9eg01Zpe7K; Sat, 23 Jan 2016 21:49:38 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-07v.sys.comcast.net with comcast
	id 9Zpd1s00N2U0RYt01Zpem6; Sat, 23 Jan 2016 21:49:38 +0000
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Work in progress: mod_proxy Health Check module
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56907444.2070905@primary.net>
Date: Sat, 23 Jan 2016 16:49:37 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <4672982B-9D4E-477E-844F-58C4625464DB@jaguNET.com>
References: <F3D7A615-23EF-4809-9BC3-9E1CA44212A5@jaguNET.com> <7C8BB910-7D19-4520-BE26-EE25CDC9608F@jaguNET.com> <CALK=YjNxnUAjX1mGsAXAeXRmHJ3Pz=bfcMnibKTc5j2Yf3QOSw@mail.gmail.com> <1012F319-C047-4527-8B01-903CDD0F083D@jaguNET.com> <56907444.2070905@primary.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453585778;
	bh=X7KirolJvgGZ5bAASuNnaUfG17vmzE2AkdOz9EdEv8s=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=X792865HMmvgWsn1tOtw5e0A+gEDd1LUe+uWz8XP57EmI6cdOpY06sSg/ntLOkMQO
	 I/ELZkKuXUtxZHz78iHTW/ZaayoBQxHcxYBrLczIFZl0WaqMAI0nm8rPETviiviM1F
	 NtxuuvL9h33r4+zEBTBTE+Gba3BkWkZLqjWDk1NrkYlb3MIxO+8WNLcNnjhcefB9Aw
	 Rk+7qQvG7C6Dpr88vhQOQDmLoEXTz7MPYeCt8WR71mQLXKyyAzMBo2gwVqiap+Uz4k
	 xGC7iMBUECJyDHAfuE3n9/q3u5lI12fh86JSi/fUAmZmz4F8f/BwwqXvQ56Ko/jmTm
	 u0FCfj/2W9pfg==


> On Jan 8, 2016, at 9:45 PM, Daniel Ruggeri <DRuggeri@primary.net> wrote:
> 
> *The probes to different backends should be done in parallel rather than
> serially to avoid pileups due to a slow responder

I just implemented use of a threadpool to accommodate that. ;)



From dev-return-85321-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jan 23 21:57:56 2016
Return-Path: <dev-return-85321-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BD94618506
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 23 Jan 2016 21:57:56 +0000 (UTC)
Received: (qmail 64052 invoked by uid 500); 23 Jan 2016 21:57:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63988 invoked by uid 500); 23 Jan 2016 21:57:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63972 invoked by uid 99); 23 Jan 2016 21:57:56 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Jan 2016 21:57:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id CC986C0A2D
	for <dev@httpd.apache.org>; Sat, 23 Jan 2016 21:57:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id AnF4ENbBBs_F for <dev@httpd.apache.org>;
	Sat, 23 Jan 2016 21:57:54 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 466EF202FE
	for <dev@httpd.apache.org>; Sat, 23 Jan 2016 21:57:53 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id B1DE022BEF
	for <dev@httpd.apache.org>; Sat, 23 Jan 2016 22:57:45 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 4jB-hqby0gWy for <dev@httpd.apache.org>;
	Sat, 23 Jan 2016 22:57:45 +0100 (CET)
Received: from [10.0.0.1] (CPE-121-217-46-182.lnse1.cht.bigpond.net.au [121.217.46.182])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 9898920EAC
	for <dev@httpd.apache.org>; Sat, 23 Jan 2016 22:57:43 +0100 (CET)
Subject: Re: Additional export from proxy_util for NetWare build.
To: dev@httpd.apache.org
References: <56A3ED2C.1000200@gknw.net>
 <BA7F6E3E-E1A0-49CE-99E9-BF2886F182B0@jaguNET.com>
From: NormW <normw@gknw.net>
Message-ID: <56A3F75A.3050907@gknw.net>
Date: Sun, 24 Jan 2016 08:57:46 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.0
MIME-Version: 1.0
In-Reply-To: <BA7F6E3E-E1A0-49CE-99E9-BF2886F182B0@jaguNET.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit

On 24/01/2016 8:48 AM, Jim Jagielski wrote:
> Sending        NWGNUproxy
> Transmitting file data .done
> Committing transaction...
> Committed revision 1726453.
>
> All done! Thx!
Thank You!
N.


From dev-return-85322-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jan 24 07:15:16 2016
Return-Path: <dev-return-85322-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C807518FA8
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 24 Jan 2016 07:15:16 +0000 (UTC)
Received: (qmail 12365 invoked by uid 500); 24 Jan 2016 07:15:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12281 invoked by uid 500); 24 Jan 2016 07:15:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12272 invoked by uid 99); 24 Jan 2016 07:15:16 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 24 Jan 2016 07:15:16 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id B82101A060E
	for <dev@httpd.apache.org>; Sun, 24 Jan 2016 07:15:15 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 4DAC4604F4; Sun, 24 Jan 2016 07:15:15 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2016/01/24]
Message-Id: <20160124071515.4DAC4604F4@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 24 Jan 2016 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24437|Opn|Nor|2003-11-05|mod_auth_ldap doubly-escapes backslash (\) charact|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Enh|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37770|Opn|Blk|2005-12-03|proxy: error reading status line from remote serve|
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Inf|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|Verify that log directories exist in httpd -t conf|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|Opn|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Maj|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47650|Opn|Trv|2009-08-05|httxt2dbm calculates value size incorrectly       |
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|New|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51104|Opn|Maj|2011-04-21|C++ support about httpd_config.h                  |
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|Opn|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Blk|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Nor|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|53999|Opn|Nor|2012-10-13|Deadlock between procmgr_send_spawn_cmd()/proctabl|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|Ver|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|Inf|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|Opn|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|New|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|Ver|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|Ver|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|Opn|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|Ver|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|Ver|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|Opn|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57895|New|Min|2015-05-05|missing m4a mimeType in mime.types                |
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
|58089|New|Nor|2015-07-01|mod_authz_host uses proxy IP even when mod_remotei|
|58097|New|Enh|2015-07-03|[feat] Preserve original connecting IP            |
|58101|New|Nor|2015-07-05|DeflateCompressionLevel inside vhost resets logfor|
|58107|New|Blk|2015-07-06|Httpd crashes on startup every time, dump file att|
|58109|New|Nor|2015-07-06|Apache on windows cannot handle the hash symbol (#|
|58118|New|Min|2015-07-09|mod_proxy_fcgi logs 503 when user aborts connectio|
|58120|New|Nor|2015-07-10|ProxyPassInherit does not work as expect          |
|58121|New|Nor|2015-07-10|ProxyHTMLMeta seems to ignore all <meta http-equiv|
|58129|New|Nor|2015-07-12|man pages are not generated correctly             |
|58132|New|Nor|2015-07-12|non-standard, non-traditional man page layout make|
|58135|New|Nor|2015-07-14|mod_cache sends client "if-Modified-Since" to back|
|58141|New|Nor|2015-07-15|Apache Service doesn't start when rotatlogs.exe pa|
|58142|New|Nor|2015-07-15|authz_core ignores loglevel                       |
|58158|New|Nor|2015-07-21|Not honoring HTTP spec with regard to Accept-Encod|
|58168|New|Enh|2015-07-21|Would like full request evaluation support in Rewr|
|58171|New|Nor|2015-07-22|ap_session_save saves the wrong session after a de|
|58177|New|Enh|2015-07-24|Mod Proxy forward trailers in http chunked request|
|58180|New|Enh|2015-07-24|ErrorDocument original URL in subsequent <Location|
|58181|New|Enh|2015-07-25|mod_expire should allow "minus" keyword same like |
|58188|New|Nor|2015-07-28|http2 mod_lua: support build with lua 5.2+        |
|58197|New|Nor|2015-07-31|apr-util-1.5.4 build against openldap - "could not|
|58225|New|Reg|2015-08-08|intermitant segfault 11 in session_identity_encode|
|58226|New|Nor|2015-08-08|XSS in Error Page                                 |
|58231|New|Nor|2015-08-11|RewriteCond can add "Host" to the Vary-Header     |
|58235|New|Enh|2015-08-12|Ability to allow from domain but with using forwar|
|58243|New|Nor|2015-08-14|rotatelogs goes infinite at startup               |
|58248|New|Nor|2015-08-17|Error 404 in use some characters of utf8 in url   |
|58257|New|Nor|2015-08-18|require ldap-group does not work if account-fullna|
|58278|Inf|Blk|2015-08-24|apache - mod_security Issue : apache no releasing |
|58280|New|Nor|2015-08-24|Backend connection not closed until timeout if cli|
|58288|New|Blk|2015-08-27|Semaphore amount increase until crash when enablin|
|58292|New|Nor|2015-08-27|FallbackResource breaks chunked encoding sometimes|
|58304|New|Nor|2015-08-30|Unexpected Warnings from Macro Use in 2.4         |
|58305|New|Nor|2015-08-30|mod_cgi documentation not clear about what is pass|
|58306|New|Nor|2015-08-30|documentation needs to make it clear which directi|
|58307|New|Nor|2015-08-31|Segmentation fault in child in "read(__nbytes, __b|
|58317|New|Min|2015-09-02|Error message AH01630 is missing file name on deny|
|58334|New|Min|2015-09-06|WebDAV HTTP access does not include meta tag for c|
|58335|New|Nor|2015-09-07|mod_authnz_ldap mismatch                          |
|58343|New|Nor|2015-09-08|The pdf files come up as a blank page.            |
|58354|New|Maj|2015-09-10|(20014)Internal error (specific information not av|
|58356|New|Blk|2015-09-10|Session jumping due to incorrect route            |
|58364|New|Reg|2015-09-11|Apache Server is restarted time to time (Release 2|
|58417|New|Min|2015-09-16|ApacheBench (ab) won't display Server Software of |
|58419|New|Nor|2015-09-16|ApacheBench (ab) doesn't work with keep-alives aga|
|58423|New|Reg|2015-09-17|Apache >= 2.4.8 PCRE_DUPNAMES causes build failure|
|58467|New|Maj|2015-09-29|Environment Variables in ProxyHTMLURLMap produces |
|58475|New|Nor|2015-10-03|Support append/merge with semicolon-separated head|
|58488|New|Nor|2015-10-08|Stoped PHP-FPM pool in multi-pool system with comu|
|58491|New|Maj|2015-10-09|Core dumps appear when the load increases         |
|58492|Inf|Nor|2015-10-09|I think LDAPConnectionPoolTTL is not being honored|
|58498|New|Nor|2015-10-16|Apache 2.4.17: Regression with mod_autoindex (in c|
|58500|New|Nor|2015-10-16|dav_fs not enabled by default                     |
|58503|New|Cri|2015-10-16|segfault in apr_brigade_cleanup() under high load |
|58509|New|Trv|2015-10-20|2.4.17-dev introduces second core.c handler at sta|
|58524|New|Nor|2015-10-23|mod_http2 segfaults when under heavy load         |
|58528|New|Nor|2015-10-23|AllowOverrideList None gets misparsed and .htacces|
|58529|New|Maj|2015-10-23|Segmentation fault after modifying a proxy Balance|
|58550|New|Enh|2015-10-26|During load, Apache 2.2.x with prefork MPM didn|
|58574|New|Nor|2015-11-02|Apache error AH01630 (client denied) but working  |
|58593|New|Nor|2015-11-06|mod_proxy wrong decision between http and ws      |
|58598|New|Enh|2015-11-08|Internal Server Error (500) when requesting non-ex|
|58602|New|Nor|2015-11-11|Priority issue on DirectoryMatch directive        |
|58604|New|Reg|2015-11-12|Plaintext auth broken in any Explicit FTP/AUTH TLS|
|58612|New|Min|2015-11-16|mod_webdav when write_stream failed should break a|
|58669|New|Nor|2015-11-30|Order of DBDInitSQL and DBDPrepareSQL             |
|58688|New|Nor|2015-12-03|Missing mod_ssl connection-level upgrade headers f|
|58700|New|Nor|2015-12-07|Apache logs not working with mod_remoteip and X-fo|
|58720|New|Enh|2015-12-11|querying server status stalls when scoreboard is f|
|58727|New|Min|2015-12-13|Directories with a ProxyPass directive are not dis|
|58732|New|Nor|2015-12-14|Error Log isn't writing When Apache Shutdown with |
|58739|New|Cri|2015-12-15|Undocumented behavior of REDIRECT_URL and REDIRECT|
|58777|New|Enh|2015-12-28|URLs containing a ? are assumed to be query string|
|58789|New|Nor|2016-01-03|header set multiple htaccess                      |
|58798|New|Nor|2016-01-04|Misleading terminology                            |
|58799|New|Nor|2016-01-04|mod_fcgid: FcgidMinProcessesPerClass doesn't seem |
|58803|New|Cri|2016-01-05|HTTP connection is getting closed after 5 mins ( R|
|58806|New|Maj|2016-01-05|HTTP/2 appears to keep workers in KEEPALIVE status|
|58825|Inf|Nor|2016-01-08|Upload really big files with PUT method and XMLHTT|
|58826|New|Cri|2016-01-08|OCSP Stapling does not resolve DNS                |
|58828|New|Maj|2016-01-08|LA-U variables not set depending on the URI       |
|58834|New|Nor|2016-01-11|ModRewrite fails with .php urls and FPM on Apache |
|58842|New|Nor|2016-01-12|mod_proxy DNS cache with authoritative and no-auth|
|58854|New|Reg|2016-01-13|RewriteRule in .htaccess ignores 'Require all deni|
|58855|New|Enh|2016-01-14|Don't read through entire string when testing for |
|58856|New|Reg|2016-01-14|AddOutputFilterByType in Apache 2.4 inserts filter|
|58873|New|Nor|2016-01-15|Chunked encoding, Content Length and mod_deflate  |
|58875|New|Nor|2016-01-15|Updated the documents index.xml.es and custom-erro|
|58880|New|Enh|2016-01-17|Support serving stale content while revalidating c|
|58887|New|Nor|2016-01-18|Updated install.xml.es and took out the html code |
|58889|New|Blk|2016-01-19|mod_proxy mixes random chars to the backend reques|
|58890|New|Nor|2016-01-19|Address comments on expression parser doc         |
|58892|New|Nor|2016-01-19|Remove 'advanced' rewrite doc, and organize by top|
|58893|New|Nor|2016-01-19|Document that RewriteMap names must be unique acro|
|58894|New|Nor|2016-01-20|Updates and Translated into Spanish new features 2|
|58901|New|Nor|2016-01-21|Download of large file is aborted in SSL_write on |
|58907|New|Nor|2016-01-21|Translated document  sitemap.xml.es into Spanish  |
+-----+---+---+----------+--------------------------------------------------+
| Total 1568 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-85323-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jan 24 17:12:59 2016
Return-Path: <dev-return-85323-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 22F2218DE7
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 24 Jan 2016 17:12:59 +0000 (UTC)
Received: (qmail 94456 invoked by uid 500); 24 Jan 2016 17:12:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94365 invoked by uid 500); 24 Jan 2016 17:12:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94355 invoked by uid 99); 24 Jan 2016 17:12:58 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 24 Jan 2016 17:12:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1368DC09D5
	for <dev@httpd.apache.org>; Sun, 24 Jan 2016 17:12:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 00b8_TVyeuPx for <dev@httpd.apache.org>;
	Sun, 24 Jan 2016 17:12:51 +0000 (UTC)
Received: from mail-io0-f172.google.com (mail-io0-f172.google.com [209.85.223.172])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D0B1C2582D
	for <dev@httpd.apache.org>; Sun, 24 Jan 2016 17:12:50 +0000 (UTC)
Received: by mail-io0-f172.google.com with SMTP id q21so131606960iod.0
        for <dev@httpd.apache.org>; Sun, 24 Jan 2016 09:12:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=06qN23u1nnSdosTBRhgJDA3mj2sBa0A35MI1p0dW0Dc=;
        b=y0MACHJNRDYmtcxEWt29lSamw0f/2yWr+Z4XSzvwKnNJhEJxk2Svywmgoz24vDOF8X
         oLkb9bx8BPijvWHu5Ci6IS+o6ImvYyVD8MyQmv9GvdCF2c/Gbh+okzzeyycdWc6YfY1T
         A3ZBTgbLJUuY6aTqEVgqwkBwhzNie3UUaYNoDmztWlWDkMNCbB7h9RWFixSfCg6oYJKm
         gKPfwbWtw3d6twfMRov5RJOFM10PKoUDs4bSGRYDzhuy/yTVgP7S4s0pwAGTPoxIY6MR
         ymQKLGS45iTwa2k2gkugTVBIThUZAyKL7mHj59eGd14iyz9j/ncliom2tfB7qFTJOsRe
         YnKQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=06qN23u1nnSdosTBRhgJDA3mj2sBa0A35MI1p0dW0Dc=;
        b=NglgjwcpFk+KY2X5wDBeq03esb7VSdauci5zGu/hD0M+ojJ0bAGucQ9oveRpvVVApE
         kYN7DqbkKpuchjHNjY3xBu2d3dMD+TS7UE1eR+9bAamcvjAveHx9MaGXCiKyQxGRgxHx
         fF/svje3tDVkA9T1mVRpWe2mUABwr0pXaMjPqBQjjuz6ukSFSnzwr2rBE2epDizFhzfz
         iShRkad4hbmtoK4MV1W9BMLJvWHutPguvnwmVj7InKunxmxveRVn1oTc3CY+qr6Ye4QD
         ICFbSLNtDtPCb8GMJNptT9SgfvdwdhlLO9ChamlxqhzgyqvVNMPxdrNKbZSnHpNqllXO
         pjGA==
X-Gm-Message-State: AG10YOQchSGMtFlseorxTxMkn4a0zRxKFiFNtNDJDLSIueCPQ3PQjau7u3/XQ99mYd4HTEeIr+OamQ8GveNVJw==
MIME-Version: 1.0
X-Received: by 10.107.6.42 with SMTP id 42mr13608430iog.90.1453655563737; Sun,
 24 Jan 2016 09:12:43 -0800 (PST)
Received: by 10.64.72.6 with HTTP; Sun, 24 Jan 2016 09:12:43 -0800 (PST)
In-Reply-To: <20160124170448.4E3A93A087A@svn01-us-west.apache.org>
References: <20160124170448.4E3A93A087A@svn01-us-west.apache.org>
Date: Sun, 24 Jan 2016 12:12:43 -0500
Message-ID: <CALK=YjPQWR4O7kZ9s7TkH-1bR+KMY+evvDBVwr14GySFhNeG2Q@mail.gmail.com>
Subject: Re: svn commit: r1726510 - in /httpd/httpd/trunk/docs/manual:
 expr.html.en expr.xml.meta mod/mod_cgi.html.en mod/mod_cgi.xml.fr
 mod/mod_cgi.xml.ja mod/mod_cgi.xml.ko mod/mod_cgi.xml.meta
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Sun, Jan 24, 2016 at 12:04 PM,  <elukey@apache.org> wrote:
> @@ -115,7 +115,15 @@
>
>        <dd>This will only be set if the CGI script is subject to
>        authentication.</dd>
> +
>      </dl>
> +    <p>This module also leverages the core functions
> +       <a href="https://ci.apache.org/projects/httpd/trunk/doxygen/group__APACHE__CORE__SCRIPT.html#ga0e81f9571a8a73f5da0e89e1f46d34b1">ap_add_common_vars</a> and
> +       <a href="https://ci.apache.org/projects/httpd/trunk/doxygen/group__APACHE__CORE__SCRIPT.html#ga6b975cd7ff27a338cb8752381a4cc14f">ap_add_cgi_vars</a>
> +       to add common CGI environment variables like <code>DOCUMENT_ROOT</code>
> +       (this one from the related <code class="directive"><a href="../mod/core.html#documentroot">DocumentRoot</a></code> directive).
> +       For an exhaustive list please check the code in the appropriate httpd branch.
> +    </p>

Is this content really helpful for users? I'm not familiar with the
specific feedback this is from, but a user generally wants to know the
variables they can expect to be set and perhaps a bit of an
explanation (after all, they could run "env" as a test to see what the
varaiables are).

From dev-return-85324-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jan 24 19:48:23 2016
Return-Path: <dev-return-85324-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A38418291
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 24 Jan 2016 19:48:23 +0000 (UTC)
Received: (qmail 74129 invoked by uid 500); 24 Jan 2016 19:48:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 74040 invoked by uid 500); 24 Jan 2016 19:48:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 74030 invoked by uid 99); 24 Jan 2016 19:48:22 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 24 Jan 2016 19:48:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id DEDCAC09D5
	for <dev@httpd.apache.org>; Sun, 24 Jan 2016 19:48:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.88
X-Spam-Level: **
X-Spam-Status: No, score=2.88 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id QD9wiN5fEFHn for <dev@httpd.apache.org>;
	Sun, 24 Jan 2016 19:48:15 +0000 (UTC)
Received: from mail-lb0-f177.google.com (mail-lb0-f177.google.com [209.85.217.177])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 3CB6325E93
	for <dev@httpd.apache.org>; Sun, 24 Jan 2016 19:48:14 +0000 (UTC)
Received: by mail-lb0-f177.google.com with SMTP id cl12so64119480lbc.1
        for <dev@httpd.apache.org>; Sun, 24 Jan 2016 11:48:14 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=OXiG8D82t5F3yO66P7ffcwAs7WHRTE7hV38XnLbJK40=;
        b=ejE2NIqXvLIYtZ+Ya8EX24MuCJ/rCzGNsDVqnaXhIB4BNQlfebp4ZeoU7PwyeRPTQ6
         GZJQDS9Jyml5GgRRuea3RGVdH5tjnTsIpSn2ua1tv3/mb4WDHEejeNpreM3xHtYiDSSe
         wnknGkcyTwCP5fDZiP005Mw3fDZgTZlsIxO8gul8Ldp02CTkWzPtWD2hsBQ+5drOnDjf
         N5NJ7eD3ssht228rg1DYV4b8lZeFkxR8odzmyayJKaB0z4p2bR3SMl2lCjoP+ppL4Ryl
         YIXhFyG0DhGSlnrKsK4OOZ02xT1fG4FMMto++GST0WNWMaRaNCA+yj4mLbTVKzgB//xD
         j5HA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=OXiG8D82t5F3yO66P7ffcwAs7WHRTE7hV38XnLbJK40=;
        b=m3P7kWlBrhuCosGOO63pEw0fjdzPMzcLpPgB24Bvmwjd8hm0KYLyuoO/vO8mIcsMZ7
         tVNUwzPrldEbjivPu3Kw99GjGVZawQqQ7j12elq3L+ScLDYao0X5q9b9xQzyCbiv/SxT
         xq2G9zApOwfR6OU52BKdEiSQEIbrONBGK94i2ya3OF7QEC9g2SJttZhwgxngK1TF6B15
         0KeCZtu9V4wvOVVnhS33QQo9mZEejXTjuM8OvN7d8j/BJRFNUCyaddZCfPZuc4wBl9dP
         1Z5NfzSswaiiiV+C+26zt9dw5CuTYvfXK0R6Bau49XAYz1EZrfeSBfnsXt+55gzwBxIW
         cI/Q==
X-Gm-Message-State: AG10YOTumVbLavS4vfg8jizNC/v+404fRfOR8kFUhSzX4tnzyJsjFeYuKCsiKGIEm0IcnJt6ArAiB3mbWexxeA==
MIME-Version: 1.0
X-Received: by 10.112.143.68 with SMTP id sc4mr4801995lbb.122.1453664893672;
 Sun, 24 Jan 2016 11:48:13 -0800 (PST)
Received: by 10.25.210.146 with HTTP; Sun, 24 Jan 2016 11:48:13 -0800 (PST)
In-Reply-To: <CALK=YjPQWR4O7kZ9s7TkH-1bR+KMY+evvDBVwr14GySFhNeG2Q@mail.gmail.com>
References: <20160124170448.4E3A93A087A@svn01-us-west.apache.org>
	<CALK=YjPQWR4O7kZ9s7TkH-1bR+KMY+evvDBVwr14GySFhNeG2Q@mail.gmail.com>
Date: Sun, 24 Jan 2016 20:48:13 +0100
Message-ID: <CAFedD427BPjrYb98hc67UNX+f-dGeYODfZtYHPqzds+McW7WzQ@mail.gmail.com>
Subject: Re: svn commit: r1726510 - in /httpd/httpd/trunk/docs/manual:
 expr.html.en expr.xml.meta mod/mod_cgi.html.en mod/mod_cgi.xml.fr
 mod/mod_cgi.xml.ja mod/mod_cgi.xml.ko mod/mod_cgi.xml.meta
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=089e011770cf9c2603052a19bb9b

--089e011770cf9c2603052a19bb9b
Content-Type: text/plain; charset=UTF-8

Hi Eric,

2016-01-24 18:12 GMT+01:00 Eric Covener <covener@gmail.com>:
>
>
> Is this content really helpful for users? I'm not familiar with the
> specific feedback this is from, but a user generally wants to know the
> variables they can expect to be set and perhaps a bit of an
> explanation (after all, they could run "env" as a test to see what the
> varaiables are).
>

a bit of context:
- https://bz.apache.org/bugzilla/show_bug.cgi?id=58305
- https://bz.apache.org/bugzilla/show_bug.cgi?id=58306

The user asked the following things (in the context of httpd and CGI
scripts):
- Is the env var DOCUMENT_ROOT passed by httpd to CGI?
- What are the httpd Directives (like DocumentRoot) that have the
consequence of setting/passing an environment variable to the CGI script?

This commit answers the first question and adds context for the people that
might need a quick "where to look" reference for the second one. The long
term plan is for me to study those functions and add a precise list of
variables in the mod_cgi's page (but it will requires a bit of time).

Having some precise information to clarify some doubts can bring value to
the documentation in my opinion, but I agree with you that I can do a more
precise work (as stated above). Dumping the environment variables from the
CGI script can be an option, but the result might vary with the Apache
directives set, so at least a reference in the docs that this might happen
can help in my opinion.

So this is the long story, if I didn't convince you I'll revert the commit
asap and I'll work on something better :)

Let me know!

Luca

--089e011770cf9c2603052a19bb9b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi Eric,<br><div class=3D"gmail_extra"><br><div class=3D"g=
mail_quote">2016-01-24 18:12 GMT+01:00 Eric Covener <span dir=3D"ltr">&lt;<=
a href=3D"mailto:covener@gmail.com" target=3D"_blank">covener@gmail.com</a>=
&gt;</span>:<blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0=
.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-s=
tyle:solid;padding-left:1ex">
<br>
Is this content really helpful for users? I&#39;m not familiar with the<br>
specific feedback this is from, but a user generally wants to know the<br>
variables they can expect to be set and perhaps a bit of an<br>
explanation (after all, they could run &quot;env&quot; as a test to see wha=
t the<br>
varaiables are).<br>
</blockquote></div><br></div><div class=3D"gmail_extra">a bit of context:</=
div><div class=3D"gmail_extra">- <a href=3D"https://bz.apache.org/bugzilla/=
show_bug.cgi?id=3D58305">https://bz.apache.org/bugzilla/show_bug.cgi?id=3D5=
8305</a><br></div><div class=3D"gmail_extra">-=C2=A0<a href=3D"https://bz.a=
pache.org/bugzilla/show_bug.cgi?id=3D58306">https://bz.apache.org/bugzilla/=
show_bug.cgi?id=3D58306</a></div><div class=3D"gmail_extra"><br></div><div =
class=3D"gmail_extra">The user asked the following things (in the context o=
f httpd and CGI scripts):</div><div class=3D"gmail_extra">- Is the env var =
DOCUMENT_ROOT passed by httpd to CGI?</div><div class=3D"gmail_extra">- Wha=
t are the httpd Directives (like DocumentRoot) that have the consequence of=
 setting/passing an environment variable to the CGI script?</div><div class=
=3D"gmail_extra"><br></div><div class=3D"gmail_extra">This commit answers t=
he first question and adds context for the people that might need a quick &=
quot;where to look&quot; reference for the second one. The long term plan i=
s for me to study those functions and add a precise list of variables in th=
e mod_cgi&#39;s page (but it will requires a bit of time).=C2=A0</div><div =
class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">Having some prec=
ise information to clarify some doubts can bring value to the documentation=
 in my opinion, but I agree with you that I can do a more precise work (as =
stated above). Dumping the environment variables from the CGI script can be=
 an option, but the result might vary with the Apache directives set, so at=
 least a reference in the docs that this might happen can help in my opinio=
n.</div><div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">So =
this is the long story, if I didn&#39;t convince you I&#39;ll revert the co=
mmit asap and I&#39;ll work on something better :)</div><div class=3D"gmail=
_extra"><br></div><div class=3D"gmail_extra">Let me know!</div><div class=
=3D"gmail_extra"><br></div><div class=3D"gmail_extra">Luca=C2=A0</div><div =
class=3D"gmail_extra"><br></div><div class=3D"gmail_extra"><br></div></div>

--089e011770cf9c2603052a19bb9b--

From dev-return-85325-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan 25 14:54:06 2016
Return-Path: <dev-return-85325-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4956F18241
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 25 Jan 2016 14:54:06 +0000 (UTC)
Received: (qmail 8195 invoked by uid 500); 25 Jan 2016 14:54:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 8110 invoked by uid 500); 25 Jan 2016 14:54:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 8100 invoked by uid 99); 25 Jan 2016 14:54:05 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Jan 2016 14:54:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 29BBF180185
	for <dev@httpd.apache.org>; Mon, 25 Jan 2016 14:54:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.899
X-Spam-Level: **
X-Spam-Status: No, score=2.899 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id pzg6I_gVdK5n for <dev@httpd.apache.org>;
	Mon, 25 Jan 2016 14:53:55 +0000 (UTC)
Received: from mail-qg0-f46.google.com (mail-qg0-f46.google.com [209.85.192.46])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 52F6F20534
	for <dev@httpd.apache.org>; Mon, 25 Jan 2016 14:53:55 +0000 (UTC)
Received: by mail-qg0-f46.google.com with SMTP id e32so110562406qgf.3
        for <dev@httpd.apache.org>; Mon, 25 Jan 2016 06:53:55 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=OC5OBmzbMz52DRv99xVFqE576HHZazuuJR79zQJd7AM=;
        b=QTNggh3o7liZ184cGbcxS0JqTFuPGAfhXturixEJS+2bxVZ+EX0FtmkLZdmUPPsima
         LjfCPR6zlSHZmgzi4gZQVWE6CW7p/nLLUCSnjL3O777rWISZOBMIFVLZIJ9LjDMCW6+C
         /kogMpDwXUeMwX2cGB+Z02DqbfWH0UgGv9en6A2CL33CuPvH+mwWF4neSAyUkVEs3+pI
         EGBvDhgijAl8a+W0RK+Am1PwFPvMstbt18kpyJTdCuTD1HIlaHPwy9O714QHtE4BsM+g
         ey2VZCFuJAuTdrq8AouOshnxlJCSHk3aVsvvVHOfCQjmjkLHWRONFKy0bOBeEo9LWtqh
         RRjw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=OC5OBmzbMz52DRv99xVFqE576HHZazuuJR79zQJd7AM=;
        b=VP3lEMcmF4Qy7mqAJ6oO6GDveteEP4PZ2V3s12KCrQCFpcnNSqgpZRNhIUyEJkFlTu
         D707VOp2ON99ix+h935JeIHmHiG7spSNiSrkljtdpgk7OyUWfhxM5tMjRuVCDxrwg84X
         u2LlMb34HFX8ujq2nT8Q1BM1CeIwVUvfAYtX+rvnL8lmpsbG2WDi477sp41G6b0Y2diX
         JWJOxt2W9hthbxU+kd42BcssY/0xEQlD+LDKDJekryLAQqg2aoFsC2pp4h3fxAbC3iZv
         y+gdCnQNYK+ayJcXsZJON06e68x9PP3aKnNbC3wY+HtYfblMqGrZY3wybx2VXuF4k5r+
         DlNQ==
X-Gm-Message-State: AG10YOTqda9sKuj2Z+7+8r9dqMWONUWPnC36ssEJFuylCU3FvB4FcZP8/bO+dbvSn8Fk4D1TYI6m+TouA9lj/w==
MIME-Version: 1.0
X-Received: by 10.140.20.80 with SMTP id 74mr21297259qgi.15.1453733634659;
 Mon, 25 Jan 2016 06:53:54 -0800 (PST)
Received: by 10.55.103.205 with HTTP; Mon, 25 Jan 2016 06:53:54 -0800 (PST)
Received: by 10.55.103.205 with HTTP; Mon, 25 Jan 2016 06:53:54 -0800 (PST)
Date: Mon, 25 Jan 2016 08:53:54 -0600
Message-ID: <CAAR2etNcei2UuJwhw97nudVmHOsTrckO6N_6Hqu2KPieH9QB4A@mail.gmail.com>
Subject: Fwd: [jira] [Apache Infrastructure] Participation in Code Signing by
 HTTP Server project, as I am offering to resume builds, not that these are
 either better or worse than other third part builds.
From: "William A. Rowe Jr." <wmrowe@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11c13122e45f79052a29bc4e

--001a11c13122e45f79052a29bc4e
Content-Type: text/plain; charset=UTF-8

Just an FYI, I've raised a ticket with infra expressing interest in code
signing.

Not that these would be any better or worse than the other great third
party builds out there.  And we still have some license clarifications if
we include compiled lgpl or especially gpl bindings.

This is also predicated on working up a wix or other .msi schema that is
upgradable, this time around.  It might be worth baking in available
upgrade notification into ApacheMonitor, as well.

But VC14 seems to have started to address my aversion to MS's disdain
toward long term msvcrt support (now the universal crt --- shipping in
Windows 10 and deployable to older versions) and posix type declarations
(they actually have a rational ssize_t for the first time) so this arch
finally looks to be worth supporting again.

---------- Forwarded message ----------
Date: Jan 25, 2016 08:28
Subject: [jira] [Apache Infrastructure] Participation in Code Signing by
HTTP Server project

> New comment for the request "Participation in Code Signing by HTTP Server
project" with key INFRA-11118 has been added...
> Apache Infrastructure - Something else...
> Reference: INFRA-11118
> Participation in Code Signing by HTTP Server project Waiting for Infra
> Mark Thomas
> Today 08:27
> We are still in discussions with Syantec about renewal.
>
> Knowing that httpd is interested in using the service is helpful since
that helps us judge whether or not the pricing framework offered by
Symantec for the renewal is cost effective for the ASF.
> You can view the full request
> Details
> Description
> Raising a ticket to express interest...
>
> For some time, the value of an ASF shipping Windows httpd binary has been
negligible, as various lgpl and gpl components could be combined by other
parties and assembled as a more complete version of httpd. It has been a
few years since the httpd project has shipped Windows binaries.
>
> With the introduction of code signing, this becomes interesting once
again for httpd to ship what are the official sources built for Windows,
particularly with the introduction of a persistent runtime in Visual C 14.
I'm willing to take this on if the Code signing service agreement can be
extended.
>
> Note that an httpd 2.4 package consists of about 48 programs and dynamic
libraries, and some 108 modules. Internal to the installer there is a
script rewriting binary and the install package itself, for a total of soon
to be 160 signed objects per release. Releases of 2.4 occur about 4 times a
year with releases of the legacy package (2.2 at present) which occur 2
times a year.
>
> Given the number of components, some batch submission mechanism is
required to consider this effort.
>
> Please provide feedback about the commitment to renewing the Symantec
service, and I would like to participate in this offering, going forwards,
if the commitment is there.
> Component/s
> Codesigning
>
> This message is automatically generated by JIRA Service Desk.
> If you think it was sent incorrectly, please contact your JIRA
administrators.
> For more information on JIRA Service Desk, see:
http://www.atlassian.com/software/jira/service-desk

--001a11c13122e45f79052a29bc4e
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">Just an FYI, I&#39;ve raised a ticket with infra expressing =
interest in code signing.</p>
<p dir=3D"ltr">Not that these would be any better or worse than the other g=
reat third party builds out there.=C2=A0 And we still have some license cla=
rifications if we include compiled lgpl or especially gpl bindings.</p>
<p dir=3D"ltr">This is also predicated on working up a wix or other .msi sc=
hema that is upgradable, this time around.=C2=A0 It might be worth baking i=
n available upgrade notification into ApacheMonitor, as well.</p>
<p dir=3D"ltr">But VC14 seems to have started to address my aversion to MS&=
#39;s disdain toward long term msvcrt support (now the universal crt --- sh=
ipping in Windows 10 and deployable to older versions) and posix type decla=
rations (they actually have a rational ssize_t for the first time) so this =
arch finally looks to be worth supporting again.<br><br></p>
<p dir=3D"ltr">---------- Forwarded message ----------<br>
Date: Jan 25, 2016 08:28<br>
Subject: [jira] [Apache Infrastructure] Participation in Code Signing by HT=
TP Server project</p>
<p dir=3D"ltr">&gt; New comment for the request &quot;Participation in Code=
 Signing by HTTP Server project&quot; with key INFRA-11118 has been added..=
. =C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0<br>
&gt; Apache Infrastructure - Something else...<br>
&gt; Reference: INFRA-11118<br>
&gt; Participation in Code Signing by HTTP Server project Waiting for Infra=
<br>
&gt; Mark Thomas<br>
&gt; Today 08:27<br>
&gt; We are still in discussions with Syantec about renewal. <br>
&gt;<br>
&gt; Knowing that httpd is interested in using the service is helpful since=
 that helps us judge whether or not the pricing framework offered by Symant=
ec for the renewal is cost effective for the ASF.<br>
&gt; You can view the full request<br>
&gt; Details<br>
&gt; Description<br>
&gt; Raising a ticket to express interest... <br>
&gt;<br>
&gt; For some time, the value of an ASF shipping Windows httpd binary has b=
een negligible, as various lgpl and gpl components could be combined by oth=
er parties and assembled as a more complete version of httpd. It has been a=
 few years since the httpd project has shipped Windows binaries. <br>
&gt;<br>
&gt; With the introduction of code signing, this becomes interesting once a=
gain for httpd to ship what are the official sources built for Windows, par=
ticularly with the introduction of a persistent runtime in Visual C 14. I&#=
39;m willing to take this on if the Code signing service agreement can be e=
xtended. <br>
&gt;<br>
&gt; Note that an httpd 2.4 package consists of about 48 programs and dynam=
ic libraries, and some 108 modules. Internal to the installer there is a sc=
ript rewriting binary and the install package itself, for a total of soon t=
o be 160 signed objects per release. Releases of 2.4 occur about 4 times a =
year with releases of the legacy package (2.2 at present) which occur 2 tim=
es a year. <br>
&gt;<br>
&gt; Given the number of components, some batch submission mechanism is req=
uired to consider this effort. <br>
&gt;<br>
&gt; Please provide feedback about the commitment to renewing the Symantec =
service, and I would like to participate in this offering, going forwards, =
if the commitment is there.<br>
&gt; Component/s<br>
&gt; Codesigning<br>
&gt;<br>
&gt; This message is automatically generated by JIRA Service Desk.<br>
&gt; If you think it was sent incorrectly, please contact your JIRA adminis=
trators.<br>
&gt; For more information on JIRA Service Desk, see: <a href=3D"http://www.=
atlassian.com/software/jira/service-desk">http://www.atlassian.com/software=
/jira/service-desk</a></p>

--001a11c13122e45f79052a29bc4e--

From dev-return-85326-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jan 25 19:48:38 2016
Return-Path: <dev-return-85326-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D0C09185B8
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 25 Jan 2016 19:48:38 +0000 (UTC)
Received: (qmail 9931 invoked by uid 500); 25 Jan 2016 19:48:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 9866 invoked by uid 500); 25 Jan 2016 19:48:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 9856 invoked by uid 99); 25 Jan 2016 19:48:38 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Jan 2016 19:48:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A31EB180600
	for <dev@httpd.apache.org>; Mon, 25 Jan 2016 19:48:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id bbMeqji6yEOF for <dev@httpd.apache.org>;
	Mon, 25 Jan 2016 19:48:37 +0000 (UTC)
Received: from mail-io0-f173.google.com (mail-io0-f173.google.com [209.85.223.173])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id CBF1842BD1
	for <dev@httpd.apache.org>; Mon, 25 Jan 2016 19:48:36 +0000 (UTC)
Received: by mail-io0-f173.google.com with SMTP id q21so163453958iod.0
        for <dev@httpd.apache.org>; Mon, 25 Jan 2016 11:48:36 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=tAtAOT5zvyvxk1Ye9mPErFhkKBYMDjIpLdQ+yUQ2U3M=;
        b=iQDnAUDDrMOW5epkepXUgjy+VAJ9V2FeomEUHvN60ntqdeJ45k7U+VDw9mUiyJCzWd
         TmH2UopKAP52BGfT+ncaOk+OXOKoDsdGB6prAvbs/pqwJ1MlToXF1DDeRczxkxDPfCZa
         IGz5OaL0dDnTyvfRVn/qhrME0cvPbm1phZsFzG0Eey9ejEliPcllj4HkE+eRBjjvODYD
         YIpFzEVXdjIiPXShzMfdIPggezvuq0Np6MjHKfpTPlLQn5raZaiqXYhRfdUgC3TSDzMU
         9U7FCIpcwh5bCKjDMv4uzDb7pC81UPG5r6G+P5ZAuJcJuMDuupN6vAoBLnhJzIDXo6gG
         padg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=tAtAOT5zvyvxk1Ye9mPErFhkKBYMDjIpLdQ+yUQ2U3M=;
        b=YzqgQK9s9te3Lv/pBlzaFJJ3BvziHkGZP6fI4bd6iQ/uS8j861h/8VGxcw45KzFnWZ
         IPGpnZYnXLYKkb355fB0Mr/eCUT7wcLuDQ4SKTfs1NGUGv4LH0VexizAxmLodURFHX4T
         dxrjZlvdJkaIICCvMO/5tRHZDBtk53orOURNK+hc1pafZJLHlr4RecY/SJENFo12o7OA
         S4YSV0Jna0RqRuGbVDFuH/HCmAc9SOTUTbtnzTLkCQ48msoZfM1E+hLDzIamUZXQ8fVM
         lGkfFX5h3qEjSCPodwJR4iKBJlb07SVZrngVFOT+G0wPS4HV/ddPNzjfGkL5K37dxccG
         0ELg==
X-Gm-Message-State: AG10YOSXJaxl5OFrB33Og55o5E7++pm6gq1VZRs7MefI3pNqQCMWro6YD5tWF4ZSaxeuEgGkne9Tfu5UoP1PBQ==
MIME-Version: 1.0
X-Received: by 10.107.6.42 with SMTP id 42mr19204557iog.90.1453751316462; Mon,
 25 Jan 2016 11:48:36 -0800 (PST)
Received: by 10.64.72.6 with HTTP; Mon, 25 Jan 2016 11:48:36 -0800 (PST)
Date: Mon, 25 Jan 2016 14:48:36 -0500
Message-ID: <CALK=YjMyQv=YEFuQdirbtdUNxbQzUhAwybNTVhWcGByi847kcg@mail.gmail.com>
Subject: SERVER_BUSY_READ in worker
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

I was looking at an issue today and noticed that the server never
really flips an SBH into SERVER_BUSY_READ after the first request
under worker.

ap_process_http_sync_connection:

    ap_update_child_status_from_conn(c->sbh, SERVER_BUSY_READ, c);
    while ((r = ap_read_request(c)) != NULL) {
...
        ap_update_child_status(c->sbh, SERVER_BUSY_KEEPALIVE, NULL);
...
    }

I was thinking we could at least transition to this state when
read_request_line() returns -- although non-malicious delays after
that seem pretty unlikely it might make for a better mod_status when
something unusual is happening.

(event changes to SERVER_BUSY_READ when when the request line is readable)

-- 
Eric Covener
covener@gmail.com

From dev-return-85327-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 26 18:41:15 2016
Return-Path: <dev-return-85327-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2292A18623
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 26 Jan 2016 18:41:15 +0000 (UTC)
Received: (qmail 57319 invoked by uid 500); 26 Jan 2016 18:41:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57239 invoked by uid 500); 26 Jan 2016 18:41:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57229 invoked by uid 99); 26 Jan 2016 18:41:14 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Jan 2016 18:41:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id F3B43C17C4
	for <dev@httpd.apache.org>; Tue, 26 Jan 2016 18:41:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id IwfTF7RR9ThB for <dev@httpd.apache.org>;
	Tue, 26 Jan 2016 18:41:07 +0000 (UTC)
Received: from resqmta-ch2-08v.sys.comcast.net (resqmta-ch2-08v.sys.comcast.net [69.252.207.40])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 40322205FA
	for <dev@httpd.apache.org>; Tue, 26 Jan 2016 18:41:07 +0000 (UTC)
Received: from resomta-ch2-18v.sys.comcast.net ([69.252.207.114])
	by resqmta-ch2-08v.sys.comcast.net with comcast
	id Aig61s0062Udklx01ih0tQ; Tue, 26 Jan 2016 18:41:00 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-18v.sys.comcast.net with comcast
	id Aigz1s0022U0RYt01igzyk; Tue, 26 Jan 2016 18:40:59 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: BalancerMembers (workers): stopped and disabled
Message-Id: <5C781A20-8988-4EC2-BFB7-55A38D4BDB46@jaguNET.com>
Date: Tue, 26 Jan 2016 13:40:58 -0500
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453833660;
	bh=jdyRnCCjVbPEzDejZZ5HmqdjybrCY00mCShqFYBqNdU=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=SWnVGMNqQ+RrCTpRHzwLoHJ/1Xy9xAWBu+l3yeWATF+Ka+9Z20KAqWz0xcwoa5h0s
	 GWrc7S7TXTnbDLg9dPmQeT772fq2gKfhL/1RWLcVH5YY8l8sftRQE38LdeZaS9xDbQ
	 yKlRgOUMKkAgLT3FNhZt1BVTAsXOqHfxo6hK4uCb7ferS/rFTJNys0uLmTipZ5N7LY
	 KFBoAEROHwFs4xNxLfpHgcoxj5cj/y9p+iiQN7j4A/DAWYhGd2ek8IRm6RUrksLuhh
	 vtVZp62iCCJq0AxdKXs7f5ukBfUUZZPn5z6O2tCHr9f67ihoykxD5+9jL/ZZUs37E9
	 nA9RvtzY2VOMQ==

Currently, the idea and "logic" associated w/ stopped and disabled
workers are kind of similar. There is a higher concept that one is
more 'admin' controlled and the other more 'autonomous' controlled,
but we really don't enforce any sort of conditions related to that.

I think it's time we start doing that, and use stopped and disabled
for similar but distinctly different conditions...

comments?

PS: yeah, this all comes about due to how the health-check module
    should interact w/ those states...

From dev-return-85328-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 26 18:58:47 2016
Return-Path: <dev-return-85328-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4A4721872C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 26 Jan 2016 18:58:47 +0000 (UTC)
Received: (qmail 7687 invoked by uid 500); 26 Jan 2016 18:58:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 7624 invoked by uid 500); 26 Jan 2016 18:58:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 7614 invoked by uid 99); 26 Jan 2016 18:58:46 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Jan 2016 18:58:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 5F4E8C244E
	for <dev@httpd.apache.org>; Tue, 26 Jan 2016 18:58:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.999
X-Spam-Level: **
X-Spam-Status: No, score=2.999 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=3,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id uXu4zGSgmd7v for <dev@httpd.apache.org>;
	Tue, 26 Jan 2016 18:58:40 +0000 (UTC)
Received: from mail-io0-f173.google.com (mail-io0-f173.google.com [209.85.223.173])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id C54D542A54
	for <dev@httpd.apache.org>; Tue, 26 Jan 2016 18:58:39 +0000 (UTC)
Received: by mail-io0-f173.google.com with SMTP id 1so195996162ion.1
        for <dev@httpd.apache.org>; Tue, 26 Jan 2016 10:58:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=uVTVuFqAYHLo6RZ3DducA+7lwtYRU2Z5KzeHZeYVBBI=;
        b=aBgwKoLhtaKig7BVut6oot0KREJ5FNhxMzlvgN2vAVj4q3plzujDG6v13w4vSB6jiA
         5yOi1wKP9snNYT+dOnpFhJmFs+JQBHa+50IYoYvOS0/XH7uNMgU32HDcaVOlBrIzNJCO
         ftZSDhLtO7Trq8g0DlTM1UAZfupjWRs9Ap+4IozOAoDbO25ahiecZPU3GDi63Va+6efK
         2impKMQtiljs5wyKg/JaqkSus//tKuirj8NJbMWyIlzl65W2LHyIMNiWcqVtegoKOVsM
         LMk2948OkE27QH7a5TuvYw/UIeJ15Jr86B0fG3mceVHT9Kl+Y5KuwWi4rY+iWnZe23XW
         8zQQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=uVTVuFqAYHLo6RZ3DducA+7lwtYRU2Z5KzeHZeYVBBI=;
        b=SRfPTReXG+UIwRddcwoQNKGftxkIRWZmPzgnbsxTbTLYeYLr9DnaD1BLmXtaflQPCm
         f18GlUeIdMWIVADRFT+Jb4DxaUu5iRtmVjq4H1SYY215qiZpxVHoVgw0vywnqwbx/IbH
         KyfmhMDQBk2R16M9gzViocPME1tefwPLyT0hgPeEEDOSt5o92aKgyKnVE36fGP7S00l1
         ryYNoAhnd35aCjNO9ttYVELwfWb5w8RYU0OLTQNe4+8KGSlLHPYcObyZV+TRb39jgXvZ
         CKX4a15JdVO69iLv0juDqVXw8HvRK9O8zuiEKjC4zC7GqhOvLmPb1rEVLz4jVld+m34M
         KJxA==
X-Gm-Message-State: AG10YORZRJlfu8lSzrq6hssML/V7MVdVyyANbaX5pJGDpU5Ph3FMq/n63QdWPdgh6Qn0a17MICaMZqHsktO9vQlZ
MIME-Version: 1.0
X-Received: by 10.107.28.82 with SMTP id c79mr22598803ioc.86.1453834719419;
 Tue, 26 Jan 2016 10:58:39 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Tue, 26 Jan 2016 10:58:39 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Tue, 26 Jan 2016 10:58:39 -0800 (PST)
In-Reply-To: <5C781A20-8988-4EC2-BFB7-55A38D4BDB46@jaguNET.com>
References: <5C781A20-8988-4EC2-BFB7-55A38D4BDB46@jaguNET.com>
Date: Tue, 26 Jan 2016 12:58:39 -0600
Message-ID: <CACsi250s3vN9M019wwGiMPe_Yh0yFAwqSbazr4h8fGMQm98qrA@mail.gmail.com>
Subject: Re: BalancerMembers (workers): stopped and disabled
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11409b980379b9052a4146c2

--001a11409b980379b9052a4146c2
Content-Type: text/plain; charset=UTF-8

What semantics do you suggest for each?

True that they have been effectively identical (and redundant) so far...
On Jan 26, 2016 12:41, "Jim Jagielski" <jim@jagunet.com> wrote:

> Currently, the idea and "logic" associated w/ stopped and disabled
> workers are kind of similar. There is a higher concept that one is
> more 'admin' controlled and the other more 'autonomous' controlled,
> but we really don't enforce any sort of conditions related to that.
>
> I think it's time we start doing that, and use stopped and disabled
> for similar but distinctly different conditions...
>
> comments?
>
> PS: yeah, this all comes about due to how the health-check module
>     should interact w/ those states...
>

--001a11409b980379b9052a4146c2
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">What semantics do you suggest for each?</p>
<p dir=3D"ltr">True that they have been effectively identical (and redundan=
t) so far...</p>
<div class=3D"gmail_quote">On Jan 26, 2016 12:41, &quot;Jim Jagielski&quot;=
 &lt;<a href=3D"mailto:jim@jagunet.com">jim@jagunet.com</a>&gt; wrote:<br t=
ype=3D"attribution"><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0=
 .8ex;border-left:1px #ccc solid;padding-left:1ex">Currently, the idea and =
&quot;logic&quot; associated w/ stopped and disabled<br>
workers are kind of similar. There is a higher concept that one is<br>
more &#39;admin&#39; controlled and the other more &#39;autonomous&#39; con=
trolled,<br>
but we really don&#39;t enforce any sort of conditions related to that.<br>
<br>
I think it&#39;s time we start doing that, and use stopped and disabled<br>
for similar but distinctly different conditions...<br>
<br>
comments?<br>
<br>
PS: yeah, this all comes about due to how the health-check module<br>
=C2=A0 =C2=A0 should interact w/ those states...<br>
</blockquote></div>

--001a11409b980379b9052a4146c2--

From dev-return-85329-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 26 19:11:41 2016
Return-Path: <dev-return-85329-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 02D5D187F0
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 26 Jan 2016 19:11:41 +0000 (UTC)
Received: (qmail 55964 invoked by uid 500); 26 Jan 2016 19:11:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55896 invoked by uid 500); 26 Jan 2016 19:11:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55886 invoked by uid 99); 26 Jan 2016 19:11:40 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Jan 2016 19:11:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1C63F1804E9
	for <dev@httpd.apache.org>; Tue, 26 Jan 2016 19:11:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id iKxdwptTbSPB for <dev@httpd.apache.org>;
	Tue, 26 Jan 2016 19:11:28 +0000 (UTC)
Received: from resqmta-po-10v.sys.comcast.net (resqmta-po-10v.sys.comcast.net [96.114.154.169])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id E4C0920E9B
	for <dev@httpd.apache.org>; Tue, 26 Jan 2016 19:11:27 +0000 (UTC)
Received: from resomta-po-10v.sys.comcast.net ([96.114.154.234])
	by resqmta-po-10v.sys.comcast.net with comcast
	id Aj8c1s00653iAfU01jBLYg; Tue, 26 Jan 2016 19:11:20 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-10v.sys.comcast.net with comcast
	id AjBK1s0062U0RYt01jBK5Q; Tue, 26 Jan 2016 19:11:20 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: BalancerMembers (workers): stopped and disabled
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CACsi250s3vN9M019wwGiMPe_Yh0yFAwqSbazr4h8fGMQm98qrA@mail.gmail.com>
Date: Tue, 26 Jan 2016 14:11:19 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <D5F131F1-4E98-48C3-B2D0-332F582E1ED0@jaguNET.com>
References: <5C781A20-8988-4EC2-BFB7-55A38D4BDB46@jaguNET.com> <CACsi250s3vN9M019wwGiMPe_Yh0yFAwqSbazr4h8fGMQm98qrA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453835480;
	bh=UtklDUsNDuCHmCy3qlF44HqOCb73JL6Ou2y/4MqzoLs=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=aYLHjRwarnMJUOZolnTdk7yCP9ZQJuU7lG8CClTl8+j+3Zwx2PmycF7TqiV4mWle1
	 yIuAKdMtEiN6UKujxOnWtfvDRXmaRWE5fjdgesRI2YkyoSF3csk937pylfj+qPyv9+
	 k63ZTkl4v2MjxEFP578gZncIhhuhRaMeuu1VJaw8z4KBoHYKJukFf9bDcpnQUDZPEW
	 n2KVK2hXqN0wsBPbOVtopLqEaM7rRW4wwaV+laU3/iscc737fEykFc8utqr8cizFh4
	 o5/rtrbfKOTH8UHx3a2v9/xgozRpLvNEE1c160xB+2Uumn2AJop0Rzy3LP8VXMUeOP
	 t+3EF00UUQOnA==

My thoughts are that STOPPED means that health checks won't be
done, nor will retry be done. It means stopped-and-won't-automatically-
restart. Disabled is currently-offline-due-to-can't-be-accessed
and so health checks and retries will be done on those.

Or:

 o Disabled: automatically detected as unavailable; will
             automatically re-enabled when the server is
             successfully retried/checked

 o Stopped:  Administratively stopped. Will never automatically
             be re-enabled; must be explicitly re-enabled.


> On Jan 26, 2016, at 1:58 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> 
> What semantics do you suggest for each?
> 
> True that they have been effectively identical (and redundant) so far...
> 
> On Jan 26, 2016 12:41, "Jim Jagielski" <jim@jagunet.com> wrote:
> Currently, the idea and "logic" associated w/ stopped and disabled
> workers are kind of similar. There is a higher concept that one is
> more 'admin' controlled and the other more 'autonomous' controlled,
> but we really don't enforce any sort of conditions related to that.
> 
> I think it's time we start doing that, and use stopped and disabled
> for similar but distinctly different conditions...
> 
> comments?
> 
> PS: yeah, this all comes about due to how the health-check module
>     should interact w/ those states...


From dev-return-85330-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 26 19:27:35 2016
Return-Path: <dev-return-85330-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 03D28188C9
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 26 Jan 2016 19:27:35 +0000 (UTC)
Received: (qmail 15330 invoked by uid 500); 26 Jan 2016 19:27:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15261 invoked by uid 500); 26 Jan 2016 19:27:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15251 invoked by uid 99); 26 Jan 2016 19:27:34 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Jan 2016 19:27:34 +0000
Received: from gauss.localdomain (v4-86134b0f.pool.vitroconnect.de [134.19.75.15])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 40DDC1A003F
	for <dev@httpd.apache.org>; Tue, 26 Jan 2016 19:27:34 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id A2EF8186
	for <dev@httpd.apache.org>; Tue, 26 Jan 2016 20:27:28 +0100 (CET)
Subject: Re: BalancerMembers (workers): stopped and disabled
To: dev@httpd.apache.org
References: <5C781A20-8988-4EC2-BFB7-55A38D4BDB46@jaguNET.com>
 <CACsi250s3vN9M019wwGiMPe_Yh0yFAwqSbazr4h8fGMQm98qrA@mail.gmail.com>
 <D5F131F1-4E98-48C3-B2D0-332F582E1ED0@jaguNET.com>
From: Ruediger Pluem <rpluem@apache.org>
X-Enigmail-Draft-Status: N1110
Message-ID: <56A7C8A0.1000306@apache.org>
Date: Tue, 26 Jan 2016 20:27:28 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <D5F131F1-4E98-48C3-B2D0-332F582E1ED0@jaguNET.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit



On 01/26/2016 08:11 PM, Jim Jagielski wrote:
> My thoughts are that STOPPED means that health checks won't be
> done, nor will retry be done. It means stopped-and-won't-automatically-
> restart. Disabled is currently-offline-due-to-can't-be-accessed
> and so health checks and retries will be done on those.
> 
> Or:
> 
>  o Disabled: automatically detected as unavailable; will
>              automatically re-enabled when the server is
>              successfully retried/checked

How this this related to the error state of a worker?

Regards

Rdiger

> 
>  o Stopped:  Administratively stopped. Will never automatically
>              be re-enabled; must be explicitly re-enabled.
> 
> 
>> On Jan 26, 2016, at 1:58 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
>>
>> What semantics do you suggest for each?
>>
>> True that they have been effectively identical (and redundant) so far...
>>
>> On Jan 26, 2016 12:41, "Jim Jagielski" <jim@jagunet.com> wrote:
>> Currently, the idea and "logic" associated w/ stopped and disabled
>> workers are kind of similar. There is a higher concept that one is
>> more 'admin' controlled and the other more 'autonomous' controlled,
>> but we really don't enforce any sort of conditions related to that.
>>
>> I think it's time we start doing that, and use stopped and disabled
>> for similar but distinctly different conditions...
>>
>> comments?
>>
>> PS: yeah, this all comes about due to how the health-check module
>>     should interact w/ those states...
> 
> 

From dev-return-85331-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jan 26 20:34:27 2016
Return-Path: <dev-return-85331-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6332B18CDC
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 26 Jan 2016 20:34:27 +0000 (UTC)
Received: (qmail 60739 invoked by uid 500); 26 Jan 2016 20:34:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60676 invoked by uid 500); 26 Jan 2016 20:34:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60666 invoked by uid 99); 26 Jan 2016 20:34:26 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Jan 2016 20:34:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id F3FFC1805F1
	for <dev@httpd.apache.org>; Tue, 26 Jan 2016 20:34:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id VIn9Pn_jRWDn for <dev@httpd.apache.org>;
	Tue, 26 Jan 2016 20:34:15 +0000 (UTC)
Received: from resqmta-po-06v.sys.comcast.net (resqmta-po-06v.sys.comcast.net [96.114.154.165])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 42E32439AC
	for <dev@httpd.apache.org>; Tue, 26 Jan 2016 20:34:15 +0000 (UTC)
Received: from resomta-po-10v.sys.comcast.net ([96.114.154.234])
	by resqmta-po-06v.sys.comcast.net with comcast
	id AkYW1s00953iAfU01kaESm; Tue, 26 Jan 2016 20:34:14 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-10v.sys.comcast.net with comcast
	id AkaD1s00P2U0RYt01kaEPH; Tue, 26 Jan 2016 20:34:14 +0000
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: BalancerMembers (workers): stopped and disabled
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56A7C8A0.1000306@apache.org>
Date: Tue, 26 Jan 2016 15:34:13 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <B4DFD0A9-38A8-4116-99D1-D5EF7AD6B10E@jaguNET.com>
References: <5C781A20-8988-4EC2-BFB7-55A38D4BDB46@jaguNET.com> <CACsi250s3vN9M019wwGiMPe_Yh0yFAwqSbazr4h8fGMQm98qrA@mail.gmail.com> <D5F131F1-4E98-48C3-B2D0-332F582E1ED0@jaguNET.com> <56A7C8A0.1000306@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453840454;
	bh=iyw9ETei1KuRBIZ9YUDvVJWseiSvSyJB/HJ4eLEUN0A=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=bpgUaOXN4Gsv9iNNiuxZAz7o7Pwvu83slh/1PWJTeh2Kdfa+OJPBZbgNh0MzUjcLO
	 90Hs4/azi8hFNcJJmc9X2DjkKmGbhDtGVTRvcvgdu56JdPeFr9+XNpR31KnxNYk/ci
	 fFMflx9ZVwxpG2HGf+uRdp+7+wjz2ASZoaC7W9KtaJ5al+Bk36kYtPb9j1eQ+Ox8JV
	 XQwOXC3NtiPJL7JMGMYRb5dv9OSz0IuGhHsNCqknwAsuRtM/3ZNspgLF3cSb9/k58T
	 0ky9BSnqArQ/SXPEhh5kKdm8Ud9LlDi6cNC7tghH+KRtxBGNw6AjaM7c6logtMJTxw
	 9E5112y8CRQuQ==


> On Jan 26, 2016, at 2:27 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>=20
>=20
>=20
> On 01/26/2016 08:11 PM, Jim Jagielski wrote:
>> My thoughts are that STOPPED means that health checks won't be
>> done, nor will retry be done. It means =
stopped-and-won't-automatically-
>> restart. Disabled is currently-offline-due-to-can't-be-accessed
>> and so health checks and retries will be done on those.
>>=20
>> Or:
>>=20
>> o Disabled: automatically detected as unavailable; will
>>             automatically re-enabled when the server is
>>             successfully retried/checked
>=20
> How this this related to the error state of a worker?
>=20

Basically, "disabled" would be "in error" as in, "I detected
an error on this worker" (I =3D=3D httpd). stopped wouldn't be
considered "in error" because it wasn't remove due to
any sort of (automatic) error.

So stopped is admintratively removed; disabled is automatically removed,
as it were.

I'd need to check all the places where we check for a usable worker, a
worker in "error" etc, but that's all part of my plan to better define
the diffs between these 2 states.

> Regards
>=20
> R=FCdiger
>=20
>>=20
>> o Stopped:  Administratively stopped. Will never automatically
>>             be re-enabled; must be explicitly re-enabled.
>>=20
>>=20
>>> On Jan 26, 2016, at 1:58 PM, William A Rowe Jr <wrowe@rowe-clan.net> =
wrote:
>>>=20
>>> What semantics do you suggest for each?
>>>=20
>>> True that they have been effectively identical (and redundant) so =
far...
>>>=20
>>> On Jan 26, 2016 12:41, "Jim Jagielski" <jim@jagunet.com> wrote:
>>> Currently, the idea and "logic" associated w/ stopped and disabled
>>> workers are kind of similar. There is a higher concept that one is
>>> more 'admin' controlled and the other more 'autonomous' controlled,
>>> but we really don't enforce any sort of conditions related to that.
>>>=20
>>> I think it's time we start doing that, and use stopped and disabled
>>> for similar but distinctly different conditions...
>>>=20
>>> comments?
>>>=20
>>> PS: yeah, this all comes about due to how the health-check module
>>>    should interact w/ those states...
>>=20
>>=20


From dev-return-85332-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 27 08:15:04 2016
Return-Path: <dev-return-85332-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1BEF11888B
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 27 Jan 2016 08:15:04 +0000 (UTC)
Received: (qmail 63300 invoked by uid 500); 27 Jan 2016 08:15:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63231 invoked by uid 500); 27 Jan 2016 08:15:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63221 invoked by uid 99); 27 Jan 2016 08:15:03 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Jan 2016 08:15:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 172C51804FD
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 08:15:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 2bqdY6EuTwO7 for <dev@httpd.apache.org>;
	Wed, 27 Jan 2016 08:15:02 +0000 (UTC)
Received: from mail-qg0-f53.google.com (mail-qg0-f53.google.com [209.85.192.53])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id E40BC31ACC
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 08:15:01 +0000 (UTC)
Received: by mail-qg0-f53.google.com with SMTP id o11so851408qge.2
        for <dev@httpd.apache.org>; Wed, 27 Jan 2016 00:15:01 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=536/6rgmBY2y0xw77pLQt22JRGw67kdT1pZkgKKoQdQ=;
        b=kqG8HQ1Gami3XJO8ZJg7eKRTJSOswZ/fyQ97B67MX2a4keq1PTwz0fAblM6EZ8HFDA
         A3P+5sbG7o1pBrETIOvy5IasG754hU2dmfE9CW4ikqMTojZkjP6FTjQILFJadx03+aAW
         ywuywJ66g42KCaVexX1ez21hLGMxQIa630TGpUWzt2sISe+w18CNajpQSjK1QCCgqzpW
         zcQfzEpOZ6er7+KSnhW3dZ6VDUCkbEbBk9K9jNAbteWS90hFF0CHc1S3m3SpSVVmi3UK
         MU/h2A+LUx3VrtUrM8BD7a439EKz+vcJau4TBtHOQANtRHQcFtgYaobxGO9tC+NGl5PT
         NB/Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=536/6rgmBY2y0xw77pLQt22JRGw67kdT1pZkgKKoQdQ=;
        b=Gni5JlG7xgpx0ws7V2683/SVrJBwP0UoYZhq3HMg2qeRQvxAQI40LY2OWDVWk6h+LC
         EmMcYYDHV3a4+Dsg6XQPUxYzXQI2FSy7879/ErPYMmqH39A2z7+rEYVluULdNPhXU5oU
         xOFeIVRXuICIEZitN8iPBcpXykJwcL6OdMIWFu/0vryqfunjdzw8Bn5EGkYELyVLfdJM
         +1VovdGTYRePrfzH2AB6rKJj646FlaR481KxtjQ0w9Gh/BAIckagtbWHyTMehn8wZQ+a
         kF9+3+I3imtS36sONWVDJr5LFaVCLBP23RJ65KCz7h48FEJO8ETMusUJE1Q+KYNkCHPv
         +QEA==
X-Gm-Message-State: AG10YOSmry06Kyt6Hk1W6ZYA4fnS884LlGpZ7fNjQd+18RkjCZs7JV8+0ChHNcZZiTkjHoMmN3WJsDsCGTJVqg==
MIME-Version: 1.0
X-Received: by 10.140.222.146 with SMTP id s140mr34583135qhb.24.1453882495185;
 Wed, 27 Jan 2016 00:14:55 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Wed, 27 Jan 2016 00:14:55 -0800 (PST)
In-Reply-To: <20160126125718.90E3E3A00E7@svn01-us-west.apache.org>
References: <20160126125718.90E3E3A00E7@svn01-us-west.apache.org>
Date: Wed, 27 Jan 2016 09:14:55 +0100
Message-ID: <CAKQ1sVMuz7gGmPOfRDADn7ONNVLuK3SmcKyZupjGbJycUXS0nA@mail.gmail.com>
Subject: Re: svn commit: r1726787 - /httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Jan 26, 2016 at 1:57 PM,  <rpluem@apache.org> wrote:
> Author: rpluem
> Date: Tue Jan 26 12:57:18 2016
> New Revision: 1726787
>
> URL: http://svn.apache.org/viewvc?rev=1726787&view=rev
> Log:
> * Transform the buckets to the correct lifetime of the brigade, connection and filter stack that processes it.

I'm not sure the buckets can be destroyed while in flight in
mod_proxy_wstunnel, unlike with mod_proxy_http where the backend
connection/request may be cleared before all data are out.

ISTM that this can't happen here because we flush out on every write
(btw that could be optimized to flush outside the loop).
So provided we clear the working brigade before leaving, isn't that
enough already?

Regards,
Yann.

From dev-return-85333-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 27 09:03:05 2016
Return-Path: <dev-return-85333-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 75DDA18A6C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 27 Jan 2016 09:03:05 +0000 (UTC)
Received: (qmail 59907 invoked by uid 500); 27 Jan 2016 09:03:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59820 invoked by uid 500); 27 Jan 2016 09:03:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59809 invoked by uid 99); 27 Jan 2016 09:03:05 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Jan 2016 09:03:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 8D55F1A061A
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 09:03:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id b47LIFBI7Bo2 for <dev@httpd.apache.org>;
	Wed, 27 Jan 2016 09:02:53 +0000 (UTC)
Received: from mail1.bemta14.messagelabs.com (mail1.bemta14.messagelabs.com [193.109.254.118])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 1064A20FF3
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 09:02:51 +0000 (UTC)
Received: from [193.109.254.3] by server-14.bemta-14.messagelabs.com id 49/D3-07165-4B788A65; Wed, 27 Jan 2016 09:02:44 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-7.tower-184.messagelabs.com!1453885363!19524231!1
X-Originating-IP: [195.232.244.136]
X-StarScan-Received:
X-StarScan-Version: 7.35.1; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 13246 invoked from network); 27 Jan 2016 09:02:44 -0000
Received: from mailout04.vodafone.com (HELO mailout04.vodafone.com) (195.232.244.136)
  by server-7.tower-184.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 27 Jan 2016 09:02:44 -0000
Received: from mailint01.vodafone.com (mailint01.vodafone.com [195.232.244.198])
	by mailout04.vodafone.com (Postfix) with ESMTP id 3pqzTv5dDlznTYm
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 10:02:43 +0100 (CET)
Received: from mailint01.vodafone.com (localhost [127.0.0.1])
	by mailint01.vodafone.com (Postfix) with ESMTP id 3pqzTv4bnJzxPwf
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 10:02:43 +0100 (CET)
Received: from VOEXC01W.internal.vodafone.com (voexc01w.dc-ratingen.de [145.230.101.21])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint01.vodafone.com (Postfix) with ESMTPS id 3pqzTv4FzxzxP8n
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 10:02:43 +0100 (CET)
Received: from VOEXC28W.internal.vodafone.com (145.230.103.200) by
 VOEXC01W.internal.vodafone.com (145.230.101.21) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Wed, 27 Jan 2016 10:02:43 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.138]) by voexc28w
 ([145.230.103.200]) with mapi id 14.03.0224.002; Wed, 27 Jan 2016 10:02:42
 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: svn commit: r1726787 -
 /httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
Thread-Topic: svn commit: r1726787 -
 /httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
Thread-Index: AQHRWNrWNk1Z8gHZZUya48SaFi3yc58PDr9A
Date: Wed, 27 Jan 2016 09:02:42 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC640AB06@VOEXM10W.internal.vodafone.com>
References: <20160126125718.90E3E3A00E7@svn01-us-west.apache.org>
 <CAKQ1sVMuz7gGmPOfRDADn7ONNVLuK3SmcKyZupjGbJycUXS0nA@mail.gmail.com>
In-Reply-To: <CAKQ1sVMuz7gGmPOfRDADn7ONNVLuK3SmcKyZupjGbJycUXS0nA@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogWWFubiBZbGF2aWMgW21h
aWx0bzp5bGF2aWMuZGV2QGdtYWlsLmNvbV0NCj4gU2VudDogTWl0dHdvY2gsIDI3LiBKYW51YXIg
MjAxNiAwOToxNQ0KPiBUbzogaHR0cGQtZGV2DQo+IFN1YmplY3Q6IFJlOiBzdm4gY29tbWl0OiBy
MTcyNjc4NyAtDQo+IC9odHRwZC9odHRwZC90cnVuay9tb2R1bGVzL3Byb3h5L21vZF9wcm94eV93
c3R1bm5lbC5jDQo+IA0KPiBPbiBUdWUsIEphbiAyNiwgMjAxNiBhdCAxOjU3IFBNLCAgPHJwbHVl
bUBhcGFjaGUub3JnPiB3cm90ZToNCj4gPiBBdXRob3I6IHJwbHVlbQ0KPiA+IERhdGU6IFR1ZSBK
YW4gMjYgMTI6NTc6MTggMjAxNg0KPiA+IE5ldyBSZXZpc2lvbjogMTcyNjc4Nw0KPiA+DQo+ID4g
VVJMOiBodHRwOi8vc3ZuLmFwYWNoZS5vcmcvdmlld3ZjP3Jldj0xNzI2Nzg3JnZpZXc9cmV2DQo+
ID4gTG9nOg0KPiA+ICogVHJhbnNmb3JtIHRoZSBidWNrZXRzIHRvIHRoZSBjb3JyZWN0IGxpZmV0
aW1lIG9mIHRoZSBicmlnYWRlLA0KPiBjb25uZWN0aW9uIGFuZCBmaWx0ZXIgc3RhY2sgdGhhdCBw
cm9jZXNzZXMgaXQuDQo+IA0KPiBJJ20gbm90IHN1cmUgdGhlIGJ1Y2tldHMgY2FuIGJlIGRlc3Ry
b3llZCB3aGlsZSBpbiBmbGlnaHQgaW4NCj4gbW9kX3Byb3h5X3dzdHVubmVsLCB1bmxpa2Ugd2l0
aCBtb2RfcHJveHlfaHR0cCB3aGVyZSB0aGUgYmFja2VuZA0KPiBjb25uZWN0aW9uL3JlcXVlc3Qg
bWF5IGJlIGNsZWFyZWQgYmVmb3JlIGFsbCBkYXRhIGFyZSBvdXQuDQo+IA0KPiBJU1RNIHRoYXQg
dGhpcyBjYW4ndCBoYXBwZW4gaGVyZSBiZWNhdXNlIHdlIGZsdXNoIG91dCBvbiBldmVyeSB3cml0
ZQ0KDQpJbiB0aGVvcnkgdGhpcyBzaG91bGQgYmUgdGhlIGNhc2UsIGJ1dCBJIHRoaW5rIGhhdmlu
ZyBicmlnYWRlIGFuZCBidWNrZXRzIGFsbG9jYXRlZCBmcm9tDQp0aGUgc2FtZSBidWNrZXQgYWxs
b2NhdG9yIGlzIGEgImJldHRlciBzYWZlIHRoYW4gc29ycnkiIGFwcHJvYWNoIHRoYXQgY2F0Y2hl
cyBwb3NzaWJsZQ0KZWRnZSBjYXNlIG5vdyBvciBpbiB0aGUgZnV0dXJlICh0aGluayBvZiBHcmFo
YW1zIGlkZWFzIHRvIGhhdmUgc3VzcGVuZGluZyBmaWx0ZXJzKS4NClRoZSBpc3N1ZSB3aXRoIHRo
ZXNlIHBvc3NpYmxlIGVkZ2UgY2FzZXMgaXMgdGhhdCBpdCB3aWxsIGJlIGhhcmQgdG8gZmluZCB0
aGUgcm9vdCBjYXVzZSwNCmJlY2F1c2Ugd2UgbGlrZWx5IHNlZ2ZhdWx0IHNvbWV3aGVyZSBlbHNl
Lg0KQW5kIGluIGZhY3QgaXQgc2hvdWxkIGNvc3QgdXMgbm90IG11Y2ggaGVyZSBhcyB0aGUgYnVj
a2V0cyBhcmUgbGlrZWx5IG1lbW9yeSBidWNrZXRzIGFscmVhZHkNCmFuZCBub3RoaW5nIGlzIHJl
YWxseSBkb25lIHdpdGggdGhlIGNvbnRlbnQgaWYgbm8gb25lIHNldHMgaXQgYXNpZGUuDQoNCj4g
KGJ0dyB0aGF0IGNvdWxkIGJlIG9wdGltaXplZCB0byBmbHVzaCBvdXRzaWRlIHRoZSBsb29wKS4N
Cg0KQ291bGQgYmUuIFRoZSBxdWVzdGlvbiBpcywgd2hldGhlciB0aGlzIGlzIG9rIGZyb20gdGhl
IHdlYnNvY2tldHMgcmVzcG9uc2l2ZW5lc3MgcG9pbnQgb2Ygdmlldy4NCk9UT0ggd2UgZG8gYW4g
bm9uIGJsb2NraW5nIHJlYWQuIFNvIHRoaXMgc2hvdWxkIGJlIGZpbmUuDQoNCj4gU28gcHJvdmlk
ZWQgd2UgY2xlYXIgdGhlIHdvcmtpbmcgYnJpZ2FkZSBiZWZvcmUgbGVhdmluZywgaXNuJ3QgdGhh
dA0KPiBlbm91Z2ggYWxyZWFkeT8NCg0KQXMgc2FpZCBhYm92ZSwgSSBmZWVsIGEgbGl0dGxlIGJp
dCB1bmVhc3kgYWJvdXQgc3R1ZmYgdGhhdCBjb3VsZCBoYXBwZW4gaW4gdGhlIGZpbHRlciBjaGFp
biBoYXZpbmcgdGhlc2UNCmJ1Y2tldHMgc3RpbGwgYWxpdmUgaW4gZGlmZmVyZW50IGJyaWdhZGVz
Lg0KDQpSZWdhcmRzDQoNClLDvGRpZ2VyDQoNCg0K

From dev-return-85334-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 27 11:46:43 2016
Return-Path: <dev-return-85334-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 65A6418102
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 27 Jan 2016 11:46:43 +0000 (UTC)
Received: (qmail 15892 invoked by uid 500); 27 Jan 2016 11:46:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15808 invoked by uid 500); 27 Jan 2016 11:46:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15798 invoked by uid 99); 27 Jan 2016 11:46:38 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Jan 2016 11:46:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id ABA34C0D3F
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 11:46:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id unkpzkIz0Rj6 for <dev@httpd.apache.org>;
	Wed, 27 Jan 2016 11:46:33 +0000 (UTC)
Received: from mail-qk0-f179.google.com (mail-qk0-f179.google.com [209.85.220.179])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id AEFB620426
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 11:46:32 +0000 (UTC)
Received: by mail-qk0-f179.google.com with SMTP id x1so2062661qkc.1
        for <dev@httpd.apache.org>; Wed, 27 Jan 2016 03:46:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=JhrJP/gNW3hzExI6XwASK7PstypWCUUbyKWgWytgvMg=;
        b=CnIkUdqwr8XWoP0N0EUAjezqB3aAuklWTXoXlrmW4E6vVUzL4tw/DYv3BKOrPcWlqp
         G8vb+9oE5Ye56BcYMGTygaw4QrDJgn5vdzxlcLwyPMtYtc/7A3srccqxlgICTrxbl7aR
         elUydxGNg6xPXjjheS+wp09NxmzHFw7zpctHBBaVHdaRwTDiXgfd4XysvQh21qkalQh7
         czbfoB+hrzvX3VD8FubvyTzWH/4+nwvi9dkC0VLanFaxjJn2IugJFQJ8EKsNvwkljDx2
         hRtuV6Qi9KT+YJPsHvDRfEbtWFTk8Z5XXaBdyu7ONmb8FbeAVxLTGtz/d9b3mwIxHPdJ
         1r7Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=JhrJP/gNW3hzExI6XwASK7PstypWCUUbyKWgWytgvMg=;
        b=hf7Wia+ciJNcbCKaQC6YWc90RX5BOWpKJi1b5kn0dudLzSXaw7cZ9Yoi1v2VXInXjY
         RE99xMQrU5VU1nS7nmLrV/LSGoxFQDI4nLSt8G3pVANHk36aEpA0jTA3bwuQizIAVfxy
         pyP7TGTSLGtJwZm0LZgefxh8Yg1Qw/9gf5Sb+/EM3RWhFmev4tpRxdE2+n9Xpra4AmQ+
         msCxO4k5bXViFcxukC5ocWuwxo5GW3gbNdk9TMOhCpnIjRpe/BUuXm2fL8b51RStGWMi
         jBoH/TUj4U3I8HWeECF+eLkoxkXOBva/KygrBYLDn9tmix5yBicgOy5lKkHl5+CnjPkO
         ZItA==
X-Gm-Message-State: AG10YORBaen31Mj9+RqCR5bDOYboDGDgTJNUjUCXYOiwePVHWql8BfJ+joG8hBdUGn1qjSwXavDa4MblhF6xWg==
MIME-Version: 1.0
X-Received: by 10.55.209.27 with SMTP id s27mr1190342qki.55.1453895186687;
 Wed, 27 Jan 2016 03:46:26 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Wed, 27 Jan 2016 03:46:26 -0800 (PST)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC640AB06@VOEXM10W.internal.vodafone.com>
References: <20160126125718.90E3E3A00E7@svn01-us-west.apache.org>
	<CAKQ1sVMuz7gGmPOfRDADn7ONNVLuK3SmcKyZupjGbJycUXS0nA@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC640AB06@VOEXM10W.internal.vodafone.com>
Date: Wed, 27 Jan 2016 12:46:26 +0100
Message-ID: <CAKQ1sVNzTS0JWBPuhz+XD4+3a6xL9LyAyHa8sLyAM9qUHOQjHA@mail.gmail.com>
Subject: Re: svn commit: r1726787 - /httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Jan 27, 2016 at 10:02 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
>
>> -----Original Message-----
>> From: Yann Ylavic [mailto:ylavic.dev@gmail.com]
>> Sent: Mittwoch, 27. Januar 2016 09:15
>> To: httpd-dev
>> Subject: Re: svn commit: r1726787 -
>> /httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
>>
>> I'm not sure the buckets can be destroyed while in flight in
>> mod_proxy_wstunnel, unlike with mod_proxy_http where the backend
>> connection/request may be cleared before all data are out.
>>
>> ISTM that this can't happen here because we flush out on every write
>
> In theory this should be the case, but I think having brigade and buckets=
 allocated from
> the same bucket allocator is a "better safe than sorry" approach that cat=
ches possible
> edge case now or in the future (think of Grahams ideas to have suspending=
 filters).
> The issue with these possible edge cases is that it will be hard to find =
the root cause,
> because we likely segfault somewhere else.

I agree that a safe approach is needed for buckets' lifetime from
input to output filters.
I'd prefer this to be handled at the source though (by the input
filter and callees that fill in the brigade), possibly in
ap_core_input_filter() and ap_filter_reinstate_brigade() only.
These would ap_buckets_lifetime_transform() buckets from their aside
brigade to the caller's one (which could be a simple move if the
lifetime is already fine, ie. non proxy case).
Maybe that would require some apr_bucket_copy_ex() (or setaside_ex()?)
which would allow heap buffers (and file/mmap/..., via refcounting)
moves from one bucket_alloc to another (given as _ex()'s arg).
Possibly I'm minimizing this task :p
Overall I think that could avoid unnecessary allocations/copies (which
may still happen currently), putting this logic at the right place
IMHO (the caller decides where the buffers are allocated according to
its needs by creating the brigade, the input filters use
bb->bucket_alloc (and bb->r) to create/move their buckets).

> And in fact it should cost us not much here as the buckets are likely mem=
ory buckets already
> and nothing is really done with the content if no one sets it aside.

Walking the brigades (and creating transient buckets) may be a
noticeable overhead in the websocket case, I wish we could rely on the
flush...

>
>> (btw that could be optimized to flush outside the loop).
>
> Could be. The question is, whether this is ok from the websockets respons=
iveness point of view.
> OTOH we do an non blocking read. So this should be fine.

Yes, while successive non-blocking reads give us data I don't think we
should "fragment" on the other side, let the core/socket buffers
handle it.

Regards,
Yann.

From dev-return-85335-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 27 12:21:10 2016
Return-Path: <dev-return-85335-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2EBFB1827D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 27 Jan 2016 12:21:10 +0000 (UTC)
Received: (qmail 1171 invoked by uid 500); 27 Jan 2016 12:20:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1091 invoked by uid 500); 27 Jan 2016 12:20:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1081 invoked by uid 99); 27 Jan 2016 12:20:56 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Jan 2016 12:20:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 8EFB8C2981
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 12:20:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id UyadjghH4TyP for <dev@httpd.apache.org>;
	Wed, 27 Jan 2016 12:20:46 +0000 (UTC)
Received: from resqmta-po-06v.sys.comcast.net (resqmta-po-06v.sys.comcast.net [96.114.154.165])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id C0E3720D77
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 12:20:46 +0000 (UTC)
Received: from resomta-po-17v.sys.comcast.net ([96.114.154.241])
	by resqmta-po-06v.sys.comcast.net with comcast
	id B0L01s0055Clt1L010Lmvd; Wed, 27 Jan 2016 12:20:46 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-17v.sys.comcast.net with comcast
	id B0Ll1s00A2U0RYt010LllS; Wed, 27 Jan 2016 12:20:46 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1726787 - /httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC640AB06@VOEXM10W.internal.vodafone.com>
Date: Wed, 27 Jan 2016 07:20:45 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <312D41AC-A248-475D-83F2-CE8E6EF7354A@jaguNET.com>
References: <20160126125718.90E3E3A00E7@svn01-us-west.apache.org> <CAKQ1sVMuz7gGmPOfRDADn7ONNVLuK3SmcKyZupjGbJycUXS0nA@mail.gmail.com> <AB1691BE05AE7F4992697F2A0835627AC640AB06@VOEXM10W.internal.vodafone.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453897246;
	bh=atGfm5tEj7mu8crXPmQcHYrxnnwchuOD1A8prbxpX70=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=dYXJSVTtREqL0lL8FWqTCGWqi3nh3EDId0dzqvh5w83p7BXZj5xmu4UG2nVxuKk/7
	 1q1bXVV91yGcSWX1L1Lboevb42Ar+t8i6Wk/MYPxspawXIp6E5vChDkcDoDYC7BnxT
	 BsNfUXUL0tck16KwuPRT4gphcjFTCd4oXxHYBDzFhEhHnv9W29gOAiGS/U6nSylM6D
	 pKUmQ5/KpIKDs++hOdeDweaxkWSdgnhIGHWhbgSWR4IQcxMV3cqcVr//i8WGiqhxRN
	 oj27kzZlDVSqCovV30x9rBNsE6Xf57LyqTbn18UUprPP/0Kto/x68spY5e5ZYFyYOw
	 lC1eY/PFG+Lxg==


> On Jan 27, 2016, at 4:02 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group =
<ruediger.pluem@vodafone.com> wrote:
>=20
>=20
>=20
>> -----Original Message-----
>> From: Yann Ylavic [mailto:ylavic.dev@gmail.com]
>> Sent: Mittwoch, 27. Januar 2016 09:15
>> To: httpd-dev
>> Subject: Re: svn commit: r1726787 -
>> /httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
>>=20
>> On Tue, Jan 26, 2016 at 1:57 PM,  <rpluem@apache.org> wrote:
>>> Author: rpluem
>>> Date: Tue Jan 26 12:57:18 2016
>>> New Revision: 1726787
>>>=20
>>> URL: http://svn.apache.org/viewvc?rev=3D1726787&view=3Drev
>>> Log:
>>> * Transform the buckets to the correct lifetime of the brigade,
>> connection and filter stack that processes it.
>>=20
>> I'm not sure the buckets can be destroyed while in flight in
>> mod_proxy_wstunnel, unlike with mod_proxy_http where the backend
>> connection/request may be cleared before all data are out.
>>=20
>> ISTM that this can't happen here because we flush out on every write
>=20
> In theory this should be the case, but I think having brigade and =
buckets allocated from
> the same bucket allocator is a "better safe than sorry" approach that =
catches possible
> edge case now or in the future (think of Grahams ideas to have =
suspending filters).
> The issue with these possible edge cases is that it will be hard to =
find the root cause,
> because we likely segfault somewhere else.
> And in fact it should cost us not much here as the buckets are likely =
memory buckets already
> and nothing is really done with the content if no one sets it aside.
>=20

Makes sense to me... +1


From dev-return-85336-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 27 15:35:45 2016
Return-Path: <dev-return-85336-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DE07E18F26
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 27 Jan 2016 15:35:44 +0000 (UTC)
Received: (qmail 72328 invoked by uid 500); 27 Jan 2016 15:34:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 72244 invoked by uid 500); 27 Jan 2016 15:34:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72234 invoked by uid 99); 27 Jan 2016 15:34:46 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Jan 2016 15:34:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 95D7EC0D4B
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 15:34:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id CEUGreJgrE9v for <dev@httpd.apache.org>;
	Wed, 27 Jan 2016 15:34:39 +0000 (UTC)
Received: from resqmta-ch2-04v.sys.comcast.net (resqmta-ch2-04v.sys.comcast.net [69.252.207.36])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id CBD5342BD1
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 15:34:38 +0000 (UTC)
Received: from resomta-ch2-13v.sys.comcast.net ([69.252.207.109])
	by resqmta-ch2-04v.sys.comcast.net with comcast
	id B3aM1s0092N9P4d013aYs9; Wed, 27 Jan 2016 15:34:32 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-13v.sys.comcast.net with comcast
	id B3aX1s00N2U0RYt013aXvy; Wed, 27 Jan 2016 15:34:32 +0000
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: BalancerMembers (workers): stopped and disabled
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <B4DFD0A9-38A8-4116-99D1-D5EF7AD6B10E@jaguNET.com>
Date: Wed, 27 Jan 2016 10:34:31 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <643FC0E6-0472-43C2-8740-FF7996FA8A8C@jaguNET.com>
References: <5C781A20-8988-4EC2-BFB7-55A38D4BDB46@jaguNET.com> <CACsi250s3vN9M019wwGiMPe_Yh0yFAwqSbazr4h8fGMQm98qrA@mail.gmail.com> <D5F131F1-4E98-48C3-B2D0-332F582E1ED0@jaguNET.com> <56A7C8A0.1000306@apache.org> <B4DFD0A9-38A8-4116-99D1-D5EF7AD6B10E@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1453908872;
	bh=YHiskTw8kQeqyX5A72JDHGy2LRiYZEBE3SM8RVWC7xY=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=bhsC20JV0Qm6KodNttj676L+Km5NZuGL7Yy5j7nd73Jaxqu0mTsPSZr/8MuS7H5MZ
	 0Q9+fiEkmHcixty1S5VnsFUeGbhybX28Sccujn3EkK2M6tnK//NlBzFIB3um5VXKpn
	 8QBwmbL0+bsJjrUyDi4V2sD9lX/mHjjCIKn2sAfA/WqjZBbR4DFtoZZjm8SIbPrzEP
	 gAqPEaPPFa+tlFDscboGzKOrk2jpt2baB1WPoqTTPgp7O65An/xIHPzAvEo42/abmY
	 Opc/UfL0UC7okbB0Kwt+za09IPfHvYwAppMcndf1StqdEMO7294Sri9i1YoL6qog3h
	 MDkOj775brzcQ==

Anymore thoughts about this? I'd like to start work on
this while I make some of the hcheck params changable via
the balancer-manager.

From dev-return-85337-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 27 15:38:42 2016
Return-Path: <dev-return-85337-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B334018F54
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 27 Jan 2016 15:38:42 +0000 (UTC)
Received: (qmail 84483 invoked by uid 500); 27 Jan 2016 15:38:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84406 invoked by uid 500); 27 Jan 2016 15:38:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84397 invoked by uid 99); 27 Jan 2016 15:38:36 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Jan 2016 15:38:36 +0000
Received: from gauss.localdomain (v4-86134b0f.pool.vitroconnect.de [134.19.75.15])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 35D161A003F
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 15:38:36 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 1DF0F1A70
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 16:38:34 +0100 (CET)
Subject: Re: svn commit: r1727071 - in /httpd/httpd/trunk: CHANGES
 include/http_connection.h server/connection.c server/mpm/event/event.c
To: dev@httpd.apache.org
References: <20160127145153.585553A0873@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56A8E47A.9050903@apache.org>
Date: Wed, 27 Jan 2016 16:38:34 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <20160127145153.585553A0873@svn01-us-west.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 01/27/2016 03:51 PM, icing@apache.org wrote:
> Author: icing
> Date: Wed Jan 27 14:51:53 2016
> New Revision: 1727071
> 
> URL: http://svn.apache.org/viewvc?rev=1727071&view=rev
> Log:
> new hook pre_close_connection
> 
> Modified:
>     httpd/httpd/trunk/CHANGES
>     httpd/httpd/trunk/include/http_connection.h
>     httpd/httpd/trunk/server/connection.c
>     httpd/httpd/trunk/server/mpm/event/event.c
> 


> Modified: httpd/httpd/trunk/server/connection.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/connection.c?rev=1727071&r1=1727070&r2=1727071&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/server/connection.c (original)
> +++ httpd/httpd/trunk/server/connection.c Wed Jan 27 14:51:53 2016

> @@ -92,6 +95,17 @@ AP_CORE_DECLARE(void) ap_flush_conn(conn
>      (void)ap_shutdown_conn(c, 1);
>  }
>  
> +AP_DECLARE(int) ap_prep_lingering_close(conn_rec *c)
> +{
> +    /* Give protocol handlers one last chance to raise their voice */
> +    ap_run_pre_close_connection(c);
> +    
> +    if (c->sbh) {
> +        ap_update_child_status(c->sbh, SERVER_CLOSING, NULL);
> +    }
> +    return 0;
> +}
> +
>  /* we now proceed to read from the client until we get EOF, or until
>   * MAX_SECS_TO_LINGER has passed.  The reasons for doing this are
>   * documented in a draft:
> @@ -112,10 +126,10 @@ AP_DECLARE(int) ap_start_lingering_close
>          return 1;
>      }
>  
> -    if (c->sbh) {
> -        ap_update_child_status(c->sbh, SERVER_CLOSING, NULL);
> +    if (!ap_prep_lingering_close(c)) {

This is always true. So effectively we disable the code below.

> +        return 1;
>      }
> -
> +    
>      /* Close the connection, being careful to send out whatever is still
>       * in our buffers.  If possible, try to avoid a hard close until the
>       * client has ACKed our FIN and/or has stopped sending us data.
> 


Regards

Rdiger

From dev-return-85338-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 27 19:50:57 2016
Return-Path: <dev-return-85338-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3708C18DBA
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 27 Jan 2016 19:50:57 +0000 (UTC)
Received: (qmail 5418 invoked by uid 500); 27 Jan 2016 19:50:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5343 invoked by uid 500); 27 Jan 2016 19:50:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5334 invoked by uid 99); 27 Jan 2016 19:50:56 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Jan 2016 19:50:56 +0000
Received: from gauss.localdomain (v4-86134b0f.pool.vitroconnect.de [134.19.75.15])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 393CE1A003F
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 19:50:56 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 6EAC51A70
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 20:50:56 +0100 (CET)
Subject: Re: svn commit: r1726787 -
 /httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
To: dev@httpd.apache.org
References: <20160126125718.90E3E3A00E7@svn01-us-west.apache.org>
 <CAKQ1sVMuz7gGmPOfRDADn7ONNVLuK3SmcKyZupjGbJycUXS0nA@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC640AB06@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVNzTS0JWBPuhz+XD4+3a6xL9LyAyHa8sLyAM9qUHOQjHA@mail.gmail.com>
From: Ruediger Pluem <rpluem@apache.org>
X-Enigmail-Draft-Status: N1110
Message-ID: <56A91FA0.2070605@apache.org>
Date: Wed, 27 Jan 2016 20:50:56 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVNzTS0JWBPuhz+XD4+3a6xL9LyAyHa8sLyAM9qUHOQjHA@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 01/27/2016 12:46 PM, Yann Ylavic wrote:
> On Wed, Jan 27, 2016 at 10:02 AM, Plm, Rdiger, Vodafone Group
> <ruediger.pluem@vodafone.com> wrote:
>>
>>> -----Original Message-----
>>> From: Yann Ylavic [mailto:ylavic.dev@gmail.com]
>>> Sent: Mittwoch, 27. Januar 2016 09:15
>>> To: httpd-dev
>>> Subject: Re: svn commit: r1726787 -
>>> /httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
>>>
>>> I'm not sure the buckets can be destroyed while in flight in
>>> mod_proxy_wstunnel, unlike with mod_proxy_http where the backend
>>> connection/request may be cleared before all data are out.
>>>
>>> ISTM that this can't happen here because we flush out on every write
>>
>> In theory this should be the case, but I think having brigade and buckets allocated from
>> the same bucket allocator is a "better safe than sorry" approach that catches possible
>> edge case now or in the future (think of Grahams ideas to have suspending filters).
>> The issue with these possible edge cases is that it will be hard to find the root cause,
>> because we likely segfault somewhere else.

Just saw that the code for mod_proxy_connect is very similar to the one from mod_proxy_wstunnel
and thus could impose the same issues. Maybe it should be fixed as well.

> 
> I agree that a safe approach is needed for buckets' lifetime from
> input to output filters.
> I'd prefer this to be handled at the source though (by the input
> filter and callees that fill in the brigade), possibly in
> ap_core_input_filter() and ap_filter_reinstate_brigade() only.

Why ap_core_input_filter?

Not all filters are using ap_filter_reinstate_brigade() so far. Some just tuck away
parts of the brigade in brigades stored in their filter context.
As far as I can tell the only thing we say about that API wise is that the filter
MUST setaside the buckets then. Nothing more. So IMHO we would need to make the API
more tight here for the consumers if we have other expectations.

> These would ap_buckets_lifetime_transform() buckets from their aside
> brigade to the caller's one (which could be a simple move if the
> lifetime is already fine, ie. non proxy case).
> Maybe that would require some apr_bucket_copy_ex() (or setaside_ex()?)
> which would allow heap buffers (and file/mmap/..., via refcounting)
> moves from one bucket_alloc to another (given as _ex()'s arg).
> Possibly I'm minimizing this task :p

Haven't looked at this so far. Hence I do not know how difficult it is to do that,
but the current approach especially for heap buckets looks efficient to me.
A read on the heap bucket is nearly for free as is a creation of a transient bucket
with the buffer of the heap bucket. Only in case of a setaside we copy the memory
and I see no way how to change the lifetime of the data in the buffer by other means.
And this all happens with the current code :-)

> Overall I think that could avoid unnecessary allocations/copies (which
> may still happen currently), putting this logic at the right place
> IMHO (the caller decides where the buffers are allocated according to
> its needs by creating the brigade, the input filters use
> bb->bucket_alloc (and bb->r) to create/move their buckets).

Not really getting the idea so far. Can you please elaborate?

> 
>> And in fact it should cost us not much here as the buckets are likely memory buckets already
>> and nothing is really done with the content if no one sets it aside.
> 
> Walking the brigades (and creating transient buckets) may be a
> noticeable overhead in the websocket case, I wish we could rely on the
> flush...

I agree that it is some overhead, but IMHO the improved safety / stability outweighs this overhead.
But I agree that this is subject to personal opinion somehow.

> 
>>
>>> (btw that could be optimized to flush outside the loop).
>>
>> Could be. The question is, whether this is ok from the websockets responsiveness point of view.
>> OTOH we do an non blocking read. So this should be fine.
> 
> Yes, while successive non-blocking reads give us data I don't think we
> should "fragment" on the other side, let the core/socket buffers
> handle it.

I am fine with flushing at the end of the loop. If no one opposes I can do this.


Regards

Rdiger

From dev-return-85339-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jan 27 20:54:02 2016
Return-Path: <dev-return-85339-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CE32C1813D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 27 Jan 2016 20:54:02 +0000 (UTC)
Received: (qmail 84876 invoked by uid 500); 27 Jan 2016 20:53:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84805 invoked by uid 500); 27 Jan 2016 20:53:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84795 invoked by uid 99); 27 Jan 2016 20:53:59 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Jan 2016 20:53:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id CAA5F1804CB
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 20:53:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id SO-q_sxW8O8N for <dev@httpd.apache.org>;
	Wed, 27 Jan 2016 20:53:49 +0000 (UTC)
Received: from mail-wm0-f52.google.com (mail-wm0-f52.google.com [74.125.82.52])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 379C131ADE
	for <dev@httpd.apache.org>; Wed, 27 Jan 2016 20:53:49 +0000 (UTC)
Received: by mail-wm0-f52.google.com with SMTP id r129so160903901wmr.0
        for <dev@httpd.apache.org>; Wed, 27 Jan 2016 12:53:49 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=kaYKEP30m9cABrUDPPskSSvpbWXVC1RJPD0QPhTBewM=;
        b=Er+Ui8vZ38ns6NGFKQDe2aHTWRwbg/1xx2OsIm0RnaBvLhQyMj09bkYGyE2Kw+MCZt
         j7n04bzekQLoEDz+k++3WEaZwfPr9IgofOnmYAs395xY5H5bAMGZktTlGEQ9VuQ0guU+
         pEfVcLRkZzn9LoRmGG8xdv2ym37hag1gCeChhiabIMHL4jRbcV84O7fpcGKBalxuWFKT
         lyfuSDL1Ey/SiavhseStQZoS+oRBgc5BoBe4NgVEOhFsrXTifzQr0VTjmXt1U1TUiv5H
         q38F80oXwxXNI8N61kZwRDdmdFABWxPyezp5fSAX9/IGWhsrk81FodIdDOSvGh9vcO1a
         0ADQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=kaYKEP30m9cABrUDPPskSSvpbWXVC1RJPD0QPhTBewM=;
        b=AbaOXyYthnkpfljutPQ5pfOGfkMyVO4hQWE7bbxdAczLvzIBhy2q+bCc3MY6g0gz2K
         wOgi1T5sOju7sGbdnmR9vhBNUJEouG4ZffXFRDSyPfcFjwkKey86m15e83V6lPtVI9BA
         BjTXdIsxi+WZPEToj5TlWgvzk9JYVHPdqUVLyCpFvoPHABkLHcrklzvSN4ShRcwMd/+W
         7VWwi9bSKP8Gpw5k7tar3S3hVUzAJWtgWHJKIGzzoTOKiOv9uY3a+cV+qWFnJTaIUpdn
         jpH9sItEFYmu3EUumOlU4/tH4ARJ8H5iszlaL7nL/f/SpXOEYu7oNYOwDS53PSpw/yDs
         6Img==
X-Gm-Message-State: AG10YOQ8vwnHLZUsMns091IJPCOy/bpHyo2YPjAc/f56VJViv33POCua1UOYjPs+xdDj8lRnDuKh4njzJsipmQ==
MIME-Version: 1.0
X-Received: by 10.28.90.133 with SMTP id o127mr34663165wmb.101.1453928028969;
 Wed, 27 Jan 2016 12:53:48 -0800 (PST)
Received: by 10.194.37.198 with HTTP; Wed, 27 Jan 2016 12:53:48 -0800 (PST)
Date: Wed, 27 Jan 2016 23:53:48 +0300
Message-ID: <CAL7UUk-qyES+aMMSN6aBGi1rb=K3Q+pif4FbU__Lqkku7f2t0w@mail.gmail.com>
Subject: collaboration request - apache server automation testing with swat tool
From: Alexey Melezhik <melezhik@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Hi! I am the author of swat - https://github.com/melezhik/swat -
perl/curl based DSL for web services test automation.
I'd like to contribute in at apache server automated testing. Please
take a look at _simple_ example of swat test suite for apache web
server -  https://sparrowhub.org/info/swat-apache?v=0.000004

Some swat features ( more info could be found at
https://github.com/melezhik/swat ) which possibly could be of
interested for you:

* swat is DSL for rapid test scenarios development for various web
services and application
* swat is written on Perl and could be extended by Perl if you need
something more complicated when  DSL is not enough
* swat has minimal dependencies ( mostly core perl modules plus few
CPAN ones )  and easy to install
* swat relies on perl prove as internal test runner and so yield test
reports  in portable TAP format
* swat relies on curl to make http requests against tested
application, so there is almost no limit for you - sending, saving
cookies, complicated http headers, make html form uploads, etc
* swat allow both simple (smoke) tests development and complicated
integration tests - with sequential, coupled http requests, saving
intermediate state, code reuse, etc. This is classical program API for
complex things combined with intuitive simple DSL ( for simple and
medium things )

* not only httpd server but other a Apache Foundation products could
be tested with swat ( tomcat, ... ) - take a look at
https://sparrowhub.org/ - central swat test suite repository to get
more examples.

I'd be glad to get feedback from you guys.

Feel free to ask any further questions.

Alexey Melezhik - the author of swat and sparrow.

From dev-return-85340-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 28 02:33:52 2016
Return-Path: <dev-return-85340-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 017DC18FD6
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 28 Jan 2016 02:33:52 +0000 (UTC)
Received: (qmail 90349 invoked by uid 500); 28 Jan 2016 02:33:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 90281 invoked by uid 500); 28 Jan 2016 02:33:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 90271 invoked by uid 99); 28 Jan 2016 02:33:51 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Jan 2016 02:33:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 1237A1A07FE
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 02:33:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=3,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id oepL7SK1zpTp for <dev@httpd.apache.org>;
	Thu, 28 Jan 2016 02:33:40 +0000 (UTC)
Received: from mail-ig0-f182.google.com (mail-ig0-f182.google.com [209.85.213.182])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 23A7F429EF
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 02:33:40 +0000 (UTC)
Received: by mail-ig0-f182.google.com with SMTP id h5so3363403igh.0
        for <dev@httpd.apache.org>; Wed, 27 Jan 2016 18:33:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=9dkBGbQvLvduZ6M0gE+7D3y6a31YwOEH92bxvM1a7ZM=;
        b=RyD5Yh8DBpZb8O9r3L2GJJXfa4a+Qk0I/FYHTWDym3Zn0WVcI/BIb0AqwYGzFAbvsH
         G0eoktPAeYs37X034P+SeP4YmP9+mZB+htBRWtLrDsFHbHs459J4m7EE+/tzzlw2vpOP
         PXl9tyt2u6oIwFf+/7fe2whRyPwu3ZKCo3bEoeXRVpx/bjgPTqcl9v2wF/tiATOXwgQA
         njKGVTqBSBRmeO3xVqh3u/6zOF5YelYdIBNOgnZ1R+3Y/CZbPhdCP82s/loB38AaZrDN
         8vfDyUqdrdONYSGrSgKxOEN07XtLzqIXyQg8iBJsSOK8mJtfcWe79f5TeKEDC1gIK3Uq
         1aFA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=9dkBGbQvLvduZ6M0gE+7D3y6a31YwOEH92bxvM1a7ZM=;
        b=e7ILqjEDxbl9m/smXKQU/zGloEMP6mJK6mgyu8DpweD5jXO7xBcgpUXwG0ztuIviGD
         NPLhYjCTPpyIt99YDVRTrXVhK6T211DG3viaCrtyr1FWd+nUlXGuDMmv8kgRzlfEer2L
         q35HaZBdC6LthFDCsHNBT4Elh9ZxZkIcpN0re7Jb68s0Q98sZLY4G7Mner3FpqBx0OPb
         dDtZoMaYohBnKx8+W/4jqvOehHwtOYdkJdz8cWrxDt7RGAiSM3QLjS6JwS/YaN+4WNPA
         0g2GtmVbKygiBNRpOqke4TiUkkUHAYdaQis4foy1hbR3Is7MFwzNLZpY0SFmeUTOJVHn
         slXA==
X-Gm-Message-State: AG10YOTAWd4K3du5LPrCQrkgaBMj8t764HXbjSOsu53skJqlDy/aGM/ZtIm3PoS2kL1HjRWoNgaBjFagAZqL2G1x
MIME-Version: 1.0
X-Received: by 10.50.171.200 with SMTP id aw8mr528367igc.77.1453948412844;
 Wed, 27 Jan 2016 18:33:32 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Wed, 27 Jan 2016 18:33:32 -0800 (PST)
In-Reply-To: <CAL7UUk-qyES+aMMSN6aBGi1rb=K3Q+pif4FbU__Lqkku7f2t0w@mail.gmail.com>
References: <CAL7UUk-qyES+aMMSN6aBGi1rb=K3Q+pif4FbU__Lqkku7f2t0w@mail.gmail.com>
Date: Wed, 27 Jan 2016 20:33:32 -0600
Message-ID: <CACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com>
Subject: Re: collaboration request - apache server automation testing with
 swat tool
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e010d9562ab799c052a5bbe50

--089e010d9562ab799c052a5bbe50
Content-Type: text/plain; charset=UTF-8

On Wed, Jan 27, 2016 at 2:53 PM, Alexey Melezhik <melezhik@gmail.com> wrote:

> Hi! I am the author of swat - https://github.com/melezhik/swat -
> perl/curl based DSL for web services test automation.
> I'd like to contribute in at apache server automated testing. Please
> take a look at _simple_ example of swat test suite for apache web
> server -  https://sparrowhub.org/info/swat-apache?v=0.000004
>
> Some swat features ( more info could be found at
> https://github.com/melezhik/swat ) which possibly could be of
> interested for you:
>
> * swat is DSL for rapid test scenarios development for various web
> services and application
> * swat is written on Perl and could be extended by Perl if you need
> something more complicated when  DSL is not enough
> * swat has minimal dependencies ( mostly core perl modules plus few
> CPAN ones )  and easy to install
> * swat relies on perl prove as internal test runner and so yield test
> reports  in portable TAP format
> * swat relies on curl to make http requests against tested
> application, so there is almost no limit for you - sending, saving
> cookies, complicated http headers, make html form uploads, etc
> * swat allow both simple (smoke) tests development and complicated
> integration tests - with sequential, coupled http requests, saving
> intermediate state, code reuse, etc. This is classical program API for
> complex things combined with intuitive simple DSL ( for simple and
> medium things )
>
> * not only httpd server but other a Apache Foundation products could
> be tested with swat ( tomcat, ... ) - take a look at
> https://sparrowhub.org/ - central swat test suite repository to get
> more examples.
>
> I'd be glad to get feedback from you guys.
>
> Feel free to ask any further questions.
>
> Alexey Melezhik - the author of swat and sparrow.
>

Thanks for the pointers and your efforts.  IMHO more suites are
always a benefit, not a competition between test tools.

For a sense of what we actively review today, please do take a quick
look at http://svn.apache.org/repos/asf/httpd/test/framework/trunk/
to understand the scope of the current framework.

I personally don't care precisely which tool or framework I use, as long
as it is comprehensive.  I'm looking forward to looking at what you have
put together, but wanted you to be aware that it will be a challenge to
bring the resource to bear to replicate what is being done right now
under our existing framework.

Props and cheers,

Bill

--089e010d9562ab799c052a5bbe50
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On W=
ed, Jan 27, 2016 at 2:53 PM, Alexey Melezhik <span dir=3D"ltr">&lt;<a href=
=3D"mailto:melezhik@gmail.com" target=3D"_blank">melezhik@gmail.com</a>&gt;=
</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px=
 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-=
left-style:solid;padding-left:1ex">Hi! I am the author of swat - <a href=3D=
"https://github.com/melezhik/swat" rel=3D"noreferrer" target=3D"_blank">htt=
ps://github.com/melezhik/swat</a> -<br>
perl/curl based DSL for web services test automation.<br>
I&#39;d like to contribute in at apache server automated testing. Please<br=
>
take a look at _simple_ example of swat test suite for apache web<br>
server -=C2=A0 <a href=3D"https://sparrowhub.org/info/swat-apache?v=3D0.000=
004" rel=3D"noreferrer" target=3D"_blank">https://sparrowhub.org/info/swat-=
apache?v=3D0.000004</a><br>
<br>
Some swat features ( more info could be found at<br>
<a href=3D"https://github.com/melezhik/swat" rel=3D"noreferrer" target=3D"_=
blank">https://github.com/melezhik/swat</a> ) which possibly could be of<br=
>
interested for you:<br>
<br>
* swat is DSL for rapid test scenarios development for various web<br>
services and application<br>
* swat is written on Perl and could be extended by Perl if you need<br>
something more complicated when=C2=A0 DSL is not enough<br>
* swat has minimal dependencies ( mostly core perl modules plus few<br>
CPAN ones )=C2=A0 and easy to install<br>
* swat relies on perl prove as internal test runner and so yield test<br>
reports=C2=A0 in portable TAP format<br>
* swat relies on curl to make http requests against tested<br>
application, so there is almost no limit for you - sending, saving<br>
cookies, complicated http headers, make html form uploads, etc<br>
* swat allow both simple (smoke) tests development and complicated<br>
integration tests - with sequential, coupled http requests, saving<br>
intermediate state, code reuse, etc. This is classical program API for<br>
complex things combined with intuitive simple DSL ( for simple and<br>
medium things )<br>
<br>
* not only httpd server but other a Apache Foundation products could<br>
be tested with swat ( tomcat, ... ) - take a look at<br>
<a href=3D"https://sparrowhub.org/" rel=3D"noreferrer" target=3D"_blank">ht=
tps://sparrowhub.org/</a> - central swat test suite repository to get<br>
more examples.<br>
<br>
I&#39;d be glad to get feedback from you guys.<br>
<br>
Feel free to ask any further questions.<br>
<br>
Alexey Melezhik - the author of swat and sparrow.<br>
</blockquote></div><br></div><div class=3D"gmail_extra">Thanks for the poin=
ters and your efforts.=C2=A0 IMHO more suites are=C2=A0</div><div class=3D"=
gmail_extra">always a benefit, not a competition between test tools.</div><=
div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">For a sense =
of what we actively review today, please do take a quick</div><div class=3D=
"gmail_extra">look at=C2=A0<a href=3D"http://svn.apache.org/repos/asf/httpd=
/test/framework/trunk/">http://svn.apache.org/repos/asf/httpd/test/framewor=
k/trunk/</a></div><div class=3D"gmail_extra">to understand the scope of the=
 current framework.</div><div class=3D"gmail_extra"><br></div><div class=3D=
"gmail_extra">I personally don&#39;t care precisely which tool or framework=
 I use, as long</div><div class=3D"gmail_extra">as it is comprehensive.=C2=
=A0 I&#39;m looking forward to looking at what you have</div><div class=3D"=
gmail_extra">put together, but wanted you to be aware that it will be a cha=
llenge to</div><div class=3D"gmail_extra">bring the resource to bear to rep=
licate what is being done right now</div><div class=3D"gmail_extra">under o=
ur existing framework.</div><div class=3D"gmail_extra"><br></div><div class=
=3D"gmail_extra">Props and cheers,</div><div class=3D"gmail_extra"><br></di=
v><div class=3D"gmail_extra">Bill</div><div class=3D"gmail_extra"><br></div=
></div>

--089e010d9562ab799c052a5bbe50--

From dev-return-85341-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 28 03:52:08 2016
Return-Path: <dev-return-85341-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B2C7518271
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 28 Jan 2016 03:52:08 +0000 (UTC)
Received: (qmail 69289 invoked by uid 500); 28 Jan 2016 03:51:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 69211 invoked by uid 500); 28 Jan 2016 03:51:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69201 invoked by uid 99); 28 Jan 2016 03:51:55 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Jan 2016 03:51:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1259BC0D4B
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 03:51:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.999
X-Spam-Level: **
X-Spam-Status: No, score=2.999 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=3,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id wzL56Z4U2NKH for <dev@httpd.apache.org>;
	Thu, 28 Jan 2016 03:51:49 +0000 (UTC)
Received: from mail-io0-f174.google.com (mail-io0-f174.google.com [209.85.223.174])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id EFF3720426
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 03:51:48 +0000 (UTC)
Received: by mail-io0-f174.google.com with SMTP id 1so41832090ion.1
        for <dev@httpd.apache.org>; Wed, 27 Jan 2016 19:51:48 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=/8gaRhEV5V9y1Byxp81BtpHbReUvJXGEh54fg9agx0A=;
        b=XgFGVwwLmSFSGuSdMdeoA9TE8SsgA1fwi2oulO3EWionPUwQPdl68viJTkOHQkXF90
         bwOcQJNuOY+WlEOdv1fio0H9Rlpp/SY4koAc2f4rH58fzhVX5MINIl+9MtKSDAk4I4qx
         Uj4zAbOcsqUrcYghROyCgyPok30E9nxjzl2OzGhZGvd3oA/KelfYEs4zpmf8V5j1ezrj
         5j5dkfboSSivhLrRfcCanqmj2bJAQaFzMC0zNDSUqRsJuaO1nlpgFooPQETU28JMKPBL
         k1rPzzDrYt8K/OOQlM8UXF9AOYezLPJLY1YLTF6vSu+WbtCq/TJMRfbmHbsuB2RvZmGp
         d78g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=/8gaRhEV5V9y1Byxp81BtpHbReUvJXGEh54fg9agx0A=;
        b=RXmJ9SEomN2r9CdW8+vwcsztDE1gj1vqC4R7yRCoSFpbNN8tAPhHCx1kLc1yubHJvO
         FxE4d3FCLokIhNzfn8giHeaKmcqzXjouhHLcrKZCNhN1R9BRKYhBZSdyDtGdNGKJq5r7
         YRmw+7wEAOg0MLaTy1xxb1fi11ARTzWt+62aZK6AsDyUHIvsyBtPyHJOR2UwQ1weziDr
         qhRsKMbes7dT/YMDhoq7EUnGeSAD282VcXt9rq2i0GHS94zfdxu0TEv6CR7TtTJmwAb1
         S8Qdy2tslvpmQ/Yd7FOPy4RCeMNd/1KMlewfHv8ggXOawpy5tv4nBV6ze+Z7Wp8B2as2
         1vkg==
X-Gm-Message-State: AG10YOQOMfP1udLIY44NAeqW4l1vRXugS/xgTEsYaRXXwOV7z9MdIApRUdhbQOc1EIqDdgcBDS0kOEXff1zxQnyB
MIME-Version: 1.0
X-Received: by 10.107.34.133 with SMTP id i127mr1598199ioi.150.1453953108302;
 Wed, 27 Jan 2016 19:51:48 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Wed, 27 Jan 2016 19:51:48 -0800 (PST)
Date: Wed, 27 Jan 2016 21:51:48 -0600
Message-ID: <CACsi253Qa-PKrKgvLvJGUtetTcDeNaMtv47=B_5RqbfO4A8Gig@mail.gmail.com>
Subject: Missing reference...
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1140ef848a778a052a5cd65b

--001a1140ef848a778a052a5cd65b
Content-Type: text/plain; charset=UTF-8

I noted that https://en.wikipedia.org/wiki/Apache_HTTP_Server
doesn't contain a "References in Popular Culture" section...

... does anyone have the link to Bill's Foxtrot panels about
Jason grabbing his copy of Apache 2.0 Beta?

--001a1140ef848a778a052a5cd65b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">I noted that=C2=A0<a href=3D"https://en.wikipedia.org/wiki=
/Apache_HTTP_Server">https://en.wikipedia.org/wiki/Apache_HTTP_Server</a><d=
iv>doesn&#39;t contain a &quot;References in Popular Culture&quot; section.=
..</div><div><br></div><div>... does anyone have the link to Bill&#39;s Fox=
trot panels about=C2=A0</div><div>Jason grabbing his copy of Apache 2.0 Bet=
a?</div></div>

--001a1140ef848a778a052a5cd65b--

From dev-return-85342-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 28 04:57:09 2016
Return-Path: <dev-return-85342-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A690218413
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 28 Jan 2016 04:57:09 +0000 (UTC)
Received: (qmail 86660 invoked by uid 500); 28 Jan 2016 04:57:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86322 invoked by uid 500); 28 Jan 2016 04:57:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86312 invoked by uid 99); 28 Jan 2016 04:57:09 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Jan 2016 04:57:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A3CD9C0D4B
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 04:57:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.111
X-Spam-Level: ***
X-Spam-Status: No, score=3.111 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, HTML_MESSAGE=3, T_DKIM_INVALID=0.01,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new); dkim=neutral
	reason="invalid (public key: missing p= tag)" header.d=ymkatz.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id lmJS0mKzHBuw for <dev@httpd.apache.org>;
	Thu, 28 Jan 2016 04:56:57 +0000 (UTC)
Received: from mail-wm0-f47.google.com (mail-wm0-f47.google.com [74.125.82.47])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D3CDB30413
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 04:56:56 +0000 (UTC)
Received: by mail-wm0-f47.google.com with SMTP id n5so8078002wmn.0
        for <dev@httpd.apache.org>; Wed, 27 Jan 2016 20:56:56 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=ymkatz.net; s=g;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=MpnRKc6CLjcmMJXSNfKkv5Ze5BPoAsygwqRFFbUzhBM=;
        b=Bbvp1FwCHcJHaLXJWj+zQfR2g6Es0YCY6WIWBURGY4Fz4wpoeaJqwace57AELLWf+f
         /JuFBcZgNFfHvtwcwTkFEPQ5RUEj6M3ec4DI5bNOrn7xwvV+w66X6yRgS+fCjjwQTzOA
         Xd9lyhEdaa4LYFj63dfE6XEB4mAX0zA4CmNig=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=MpnRKc6CLjcmMJXSNfKkv5Ze5BPoAsygwqRFFbUzhBM=;
        b=Jn6xyysFzJQHrCjlhxyfXayDexCItqLePDZ0IBb7BrmSN+gvAH7YzkkGqsXbLcOYrj
         UKg3cluotuTqHbT+zgEmrnXEPVg3f+VT7ixcwmYr1CGWv8utc/Y8RF+jD70OVRjKt6kN
         XMDG+a0aRLrszT0PhwFmtzsPMSIpYFANVx0/TEpbgRsMbmjG35z0puAIiYUCH1W4GZug
         PkNfdlUGTtiF2EmW/WLdwpzirmC66To9pozN1b/JccE0twMV+wJxghR9F7DbvKk0Bj33
         ogyhFjMdcS90djqsO2x4ooqFfrEDqy39ksckqhDV5PoOSZdNWmXKru6GbM9+oacVyGkc
         yN+g==
X-Gm-Message-State: AG10YOTQ7GkQmq/Svk0Xq+6Y7Mk/IBN9kt1XmBdehW1jgTOpMp66ue+F2ux2RptdCvzTKCAb
X-Received: by 10.28.6.213 with SMTP id 204mr735924wmg.47.1453957010379;
        Wed, 27 Jan 2016 20:56:50 -0800 (PST)
Received: from mail-wm0-f47.google.com (mail-wm0-f47.google.com. [74.125.82.47])
        by smtp.gmail.com with ESMTPSA id w66sm365420wmd.2.2016.01.27.20.56.48
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Wed, 27 Jan 2016 20:56:49 -0800 (PST)
Received: by mail-wm0-f47.google.com with SMTP id n5so8987506wmn.1
        for <dev@httpd.apache.org>; Wed, 27 Jan 2016 20:56:48 -0800 (PST)
X-Received: by 10.28.104.87 with SMTP id d84mr233883wmc.56.1453957008636; Wed,
 27 Jan 2016 20:56:48 -0800 (PST)
MIME-Version: 1.0
Received: by 10.28.221.136 with HTTP; Wed, 27 Jan 2016 20:56:28 -0800 (PST)
In-Reply-To: <CACsi253Qa-PKrKgvLvJGUtetTcDeNaMtv47=B_5RqbfO4A8Gig@mail.gmail.com>
References: <CACsi253Qa-PKrKgvLvJGUtetTcDeNaMtv47=B_5RqbfO4A8Gig@mail.gmail.com>
From: Yehuda Katz <yehuda@ymkatz.net>
Date: Wed, 27 Jan 2016 23:56:28 -0500
X-Gmail-Original-Message-ID: <CAGBAQ46A1fgp0iwpZ+Gn17K0Z7vGaUWndLSg74r7rk_SLBnpTA@mail.gmail.com>
Message-ID: <CAGBAQ46A1fgp0iwpZ+Gn17K0Z7vGaUWndLSg74r7rk_SLBnpTA@mail.gmail.com>
Subject: Re: Missing reference...
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a114b2f3204c934052a5dbf84

--001a114b2f3204c934052a5dbf84
Content-Type: text/plain; charset=UTF-8

On Wed, Jan 27, 2016 at 10:51 PM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> I noted that https://en.wikipedia.org/wiki/Apache_HTTP_Server
> doesn't contain a "References in Popular Culture" section...
>
> ... does anyone have the link to Bill's Foxtrot panels about
> Jason grabbing his copy of Apache 2.0 Beta?
>

The link: http://www.gocomics.com/foxtrot/2005/01/11/

Wikipedia was on a "References in Popular Culture" purge cycle recently, so
it might not stick.

See also: https://en.wikipedia.org/wiki/Wikipedia:Xkcd_in_popular_culture

- Y

--001a114b2f3204c934052a5dbf84
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On W=
ed, Jan 27, 2016 at 10:51 PM, William A Rowe Jr <span dir=3D"ltr">&lt;<a hr=
ef=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>=
&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px=
 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);bor=
der-left-style:solid;padding-left:1ex"><div dir=3D"ltr">I noted that=C2=A0<=
a href=3D"https://en.wikipedia.org/wiki/Apache_HTTP_Server" target=3D"_blan=
k">https://en.wikipedia.org/wiki/Apache_HTTP_Server</a><div>doesn&#39;t con=
tain a &quot;References in Popular Culture&quot; section...</div><div><br><=
/div><div>... does anyone have the link to Bill&#39;s Foxtrot panels about=
=C2=A0</div><div>Jason grabbing his copy of Apache 2.0 Beta?</div></div>
</blockquote></div><br></div><div class=3D"gmail_extra">The link: <a href=
=3D"http://www.gocomics.com/foxtrot/2005/01/11/">http://www.gocomics.com/fo=
xtrot/2005/01/11/</a><br></div><div class=3D"gmail_extra"><br></div><div cl=
ass=3D"gmail_extra">Wikipedia was on a=C2=A0&quot;References in Popular Cul=
ture&quot; purge cycle recently, so it might not stick.<br></div><div class=
=3D"gmail_extra"><br></div><div>See also:=C2=A0<a href=3D"https://en.wikipe=
dia.org/wiki/Wikipedia:Xkcd_in_popular_culture">https://en.wikipedia.org/wi=
ki/Wikipedia:Xkcd_in_popular_culture</a></div><div><br></div><div>- Y</div>=
</div>

--001a114b2f3204c934052a5dbf84--

From dev-return-85343-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 28 05:56:55 2016
Return-Path: <dev-return-85343-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CD17E18679
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 28 Jan 2016 05:56:55 +0000 (UTC)
Received: (qmail 8666 invoked by uid 500); 28 Jan 2016 05:56:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 8592 invoked by uid 500); 28 Jan 2016 05:56:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 8582 invoked by uid 99); 28 Jan 2016 05:56:52 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Jan 2016 05:56:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D5C891804F1
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 05:56:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=3,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id BT848ZP4jEt3 for <dev@httpd.apache.org>;
	Thu, 28 Jan 2016 05:56:40 +0000 (UTC)
Received: from mail-ig0-f170.google.com (mail-ig0-f170.google.com [209.85.213.170])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id C8F5920977
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 05:56:39 +0000 (UTC)
Received: by mail-ig0-f170.google.com with SMTP id ik10so6490748igb.1
        for <dev@httpd.apache.org>; Wed, 27 Jan 2016 21:56:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=0bUMO8UsD7vPcUYh5loBW9H5ZFZJACon/eXa0Z2Anag=;
        b=GRre1zPmdDCTIGy8EWV9ozl7jroDc5Z40Tty1hes5Yhc93uxU4tyQBwPlzL9FIQzQ9
         DwHBjMrWnx06OZTrgCCApWA0syY7oNTw3luxrdAT4SAC4qvMCyApYUbMfQ3arMJSI8og
         iK+/b4AbhUos1rB1VcXXxiyoPlMeAff4TUDRsDMc+/9ZjIqxFHO8GcBmPAo9QUv94Ou3
         de9+3CSj9tSKhZB7JTp2kbPibi9ke+WjMvyjlOIitDR4cnr8HD+au9rZn3g6YmDN//w0
         nXbtqFdPSSXpQta2mAanyT0Tj0wCi7GEiItdJIt/3LN3LrVrKXps7UHqzQ0fTGCG20GY
         kLGw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=0bUMO8UsD7vPcUYh5loBW9H5ZFZJACon/eXa0Z2Anag=;
        b=i8iNcsu/ZrG+qh9dFwsXmz1pRLo9hUYnGavt4o/oUvrwWAq/dp/gL7gktpkRkvcbdd
         2LecfQHi5FVgTdNqpyEl6ATZi4Z8ZMf0qdGQZ3/9jv81iBvnOzf6H0qW0Y9KWuNOKuWD
         cFcs6GScZc6zvGyU3xKsN5IjuaOWFGAOISkJwCg6MZ+HIyD77qTk+am5MFyHpXfGcswe
         HuvtRYm6uAFL32qtS8Ivn3mCP2pktQ/Jb5sdQOai//Adu7WHyU3KwRNkyiXU9Dotqaes
         lyR09gsND8hpm3wQzXBF741RdAH2IDwTYmJEm9ri+DyF1l/Z0dW0jvfzTG5t0lMWqN0M
         fhRQ==
X-Gm-Message-State: AG10YOT6N4d9XBrKDX6vtX32uJq8cH0JP5nBe3DE1RnuM0y5qUPEL8106sW6IhYpm1yGN036fm8ZCkK2zti44WRF
MIME-Version: 1.0
X-Received: by 10.50.171.162 with SMTP id av2mr1362485igc.32.1453960599273;
 Wed, 27 Jan 2016 21:56:39 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Wed, 27 Jan 2016 21:56:39 -0800 (PST)
In-Reply-To: <CAGBAQ46A1fgp0iwpZ+Gn17K0Z7vGaUWndLSg74r7rk_SLBnpTA@mail.gmail.com>
References: <CACsi253Qa-PKrKgvLvJGUtetTcDeNaMtv47=B_5RqbfO4A8Gig@mail.gmail.com>
	<CAGBAQ46A1fgp0iwpZ+Gn17K0Z7vGaUWndLSg74r7rk_SLBnpTA@mail.gmail.com>
Date: Wed, 27 Jan 2016 23:56:39 -0600
Message-ID: <CACsi250An7JT0BKTGKbMhmZzAkB+UJvqQi-G_4mbHNbC+y4zsA@mail.gmail.com>
Subject: Re: Missing reference...
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e0118429e09a374052a5e95d4

--089e0118429e09a374052a5e95d4
Content-Type: text/plain; charset=UTF-8

On Wed, Jan 27, 2016 at 10:56 PM, Yehuda Katz <yehuda@ymkatz.net> wrote:

> On Wed, Jan 27, 2016 at 10:51 PM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
>
>> I noted that https://en.wikipedia.org/wiki/Apache_HTTP_Server
>> doesn't contain a "References in Popular Culture" section...
>>
>> ... does anyone have the link to Bill's Foxtrot panels about
>> Jason grabbing his copy of Apache 2.0 Beta?
>>
>
> The link: http://www.gocomics.com/foxtrot/2005/01/11/
>
> Wikipedia was on a "References in Popular Culture" purge cycle recently,
> so it might not stick.
>
> See also: https://en.wikipedia.org/wiki/Wikipedia:Xkcd_in_popular_culture
>

TYVM, I will read the policy before I edit, but really, thanks!!!

Tags: Bill Amend Foxtrot Apache 2.0 Beta

[In hopes that google gets me back to this post, next search in 2026 ;-]

--089e0118429e09a374052a5e95d4
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On W=
ed, Jan 27, 2016 at 10:56 PM, Yehuda Katz <span dir=3D"ltr">&lt;<a href=3D"=
mailto:yehuda@ymkatz.net" target=3D"_blank">yehuda@ymkatz.net</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bo=
rder-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div><div class=
=3D"h5"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On Wed, Jan 2=
7, 2016 at 10:51 PM, William A Rowe Jr <span dir=3D"ltr">&lt;<a href=3D"mai=
lto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&gt;</spa=
n> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px =
0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-=
style:solid;padding-left:1ex"><div dir=3D"ltr">I noted that=C2=A0<a href=3D=
"https://en.wikipedia.org/wiki/Apache_HTTP_Server" target=3D"_blank">https:=
//en.wikipedia.org/wiki/Apache_HTTP_Server</a><div>doesn&#39;t contain a &q=
uot;References in Popular Culture&quot; section...</div><div><br></div><div=
>... does anyone have the link to Bill&#39;s Foxtrot panels about=C2=A0</di=
v><div>Jason grabbing his copy of Apache 2.0 Beta?</div></div>
</blockquote></div><br></div></div></div><div class=3D"gmail_extra">The lin=
k: <a href=3D"http://www.gocomics.com/foxtrot/2005/01/11/" target=3D"_blank=
">http://www.gocomics.com/foxtrot/2005/01/11/</a><br></div><div class=3D"gm=
ail_extra"><br></div><div class=3D"gmail_extra">Wikipedia was on a=C2=A0&qu=
ot;References in Popular Culture&quot; purge cycle recently, so it might no=
t stick.<br></div><div class=3D"gmail_extra"><br></div><div>See also:=C2=A0=
<a href=3D"https://en.wikipedia.org/wiki/Wikipedia:Xkcd_in_popular_culture"=
 target=3D"_blank">https://en.wikipedia.org/wiki/Wikipedia:Xkcd_in_popular_=
culture</a></div><span class=3D"HOEnZb"><font color=3D"#888888"><div></div>=
</font></span></div></blockquote></div><br></div><div class=3D"gmail_extra"=
>TYVM, I will read the policy before I edit, but really, thanks!!!</div><di=
v class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">Tags: Bill Ame=
nd Foxtrot Apache 2.0 Beta</div><div class=3D"gmail_extra"><br></div><div c=
lass=3D"gmail_extra">[In hopes that google gets me back to this post, next =
search in 2026 ;-]</div></div>

--089e0118429e09a374052a5e95d4--

From dev-return-85344-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 28 06:02:05 2016
Return-Path: <dev-return-85344-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D2156186AB
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 28 Jan 2016 06:02:05 +0000 (UTC)
Received: (qmail 17141 invoked by uid 500); 28 Jan 2016 06:02:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17063 invoked by uid 500); 28 Jan 2016 06:02:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17053 invoked by uid 99); 28 Jan 2016 06:02:01 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Jan 2016 06:02:01 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 70D8E1A081B
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 06:02:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=3,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Ie7F4RLK6Eau for <dev@httpd.apache.org>;
	Thu, 28 Jan 2016 06:01:50 +0000 (UTC)
Received: from mail-ig0-f180.google.com (mail-ig0-f180.google.com [209.85.213.180])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 8081F31A90
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 06:01:49 +0000 (UTC)
Received: by mail-ig0-f180.google.com with SMTP id mw1so5760816igb.1
        for <dev@httpd.apache.org>; Wed, 27 Jan 2016 22:01:49 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=gQMCNHF5mLJBrFsvrkgvaqvY1bztWWxhjOEY6DTI/fI=;
        b=bQs6QJzO0Y9K6veejwRoNKAofD4SxDfgvLM+g1s2+Nsbn5bgadSn7sMwAfbq0rxQk4
         kRGs9bVmhsRkFkPJiGHm41gNwWJ9OJgLNoYmaYYRObGTBi+q+awmtYeo0Fcx7yQRBJko
         yRdw7H4tvyxsF8BGL/zfniejjk93b86RsqTuO0WdQSV5fODUgKOFkSk+qb56xR85mGi8
         Gsio8UB/dt/30UDkaYPkUVBVNvGwSeETBlz/9cE/x+iTK7AwxZXwqsJsokVPhiy2QHP4
         sqhBgHKJH0pZk2gYkZsX0pjUsUPCsXwEXkXIiLez3e+AQrzS2+DgaCp624Y2WZkW4mHx
         S5ig==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=gQMCNHF5mLJBrFsvrkgvaqvY1bztWWxhjOEY6DTI/fI=;
        b=IbrHbZjvpc7oMgvEBgZFB+tTCeSAo4Il+dNf0IZkdGUT82KWH+GAanPsrCnVeED6Bm
         HGJKLkbQADrH9VSdM61p0Fe7enEiDz5OhqNlJhBrcqE9Ka5WaDianuy4/YTf9u1HC4Ox
         /eS88xGRZ5jcre2pYc+lwl36Dyx7FyuKE5Rw/YzatXwqO07PE9FWzJwR2kVql/Hq3ghg
         QGzgSJ0QUEROKQuldnJDnF/sjdXGzVWHn+W2DkVAvnqHrT/b2nT0ymojX76QKdHDCqa7
         bnPtN91IA/1kNEWjEGcKPav3c+Awct5fMJODyP+1ZNR7bVmy28LGPkAkI+R038uEQ9nl
         ji4A==
X-Gm-Message-State: AG10YORYkaFGXRXjFqMqS4HJH3w4/csMSPJy2odgbpMGUwmbLyOkION7Dlk5gja7z+vKPpxwd8KUGeUe3kpY9ooN
MIME-Version: 1.0
X-Received: by 10.50.171.162 with SMTP id av2mr1384150igc.32.1453960908456;
 Wed, 27 Jan 2016 22:01:48 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Wed, 27 Jan 2016 22:01:48 -0800 (PST)
In-Reply-To: <CAGBAQ46A1fgp0iwpZ+Gn17K0Z7vGaUWndLSg74r7rk_SLBnpTA@mail.gmail.com>
References: <CACsi253Qa-PKrKgvLvJGUtetTcDeNaMtv47=B_5RqbfO4A8Gig@mail.gmail.com>
	<CAGBAQ46A1fgp0iwpZ+Gn17K0Z7vGaUWndLSg74r7rk_SLBnpTA@mail.gmail.com>
Date: Thu, 28 Jan 2016 00:01:48 -0600
Message-ID: <CACsi251LX+QU=PJVEpd=BpPAanFKzY_4RefCNsQLY8BC2+=-nw@mail.gmail.com>
Subject: Re: Missing reference...
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>, Yehuda Katz <yehuda@ymkatz.net>
Content-Type: multipart/alternative; boundary=089e0118429e775634052a5ea728

--089e0118429e775634052a5ea728
Content-Type: text/plain; charset=UTF-8

That might be 2/2, I thought he was originally chatting with his sister...

On Wed, Jan 27, 2016 at 10:56 PM, Yehuda Katz <yehuda@ymkatz.net> wrote:

> On Wed, Jan 27, 2016 at 10:51 PM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
>
>> I noted that https://en.wikipedia.org/wiki/Apache_HTTP_Server
>> doesn't contain a "References in Popular Culture" section...
>>
>> ... does anyone have the link to Bill's Foxtrot panels about
>> Jason grabbing his copy of Apache 2.0 Beta?
>>
>
> The link: http://www.gocomics.com/foxtrot/2005/01/11/
>
> Wikipedia was on a "References in Popular Culture" purge cycle recently,
> so it might not stick.
>
> See also: https://en.wikipedia.org/wiki/Wikipedia:Xkcd_in_popular_culture
>
> - Y
>

--089e0118429e775634052a5ea728
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">That might be 2/2, I thought he was originally chatting wi=
th his sister...</div><div class=3D"gmail_extra"><br><div class=3D"gmail_qu=
ote">On Wed, Jan 27, 2016 at 10:56 PM, Yehuda Katz <span dir=3D"ltr">&lt;<a=
 href=3D"mailto:yehuda@ymkatz.net" target=3D"_blank">yehuda@ymkatz.net</a>&=
gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 =
0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div><=
div class=3D"h5"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On W=
ed, Jan 27, 2016 at 10:51 PM, William A Rowe Jr <span dir=3D"ltr">&lt;<a hr=
ef=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>=
&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px=
 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);bor=
der-left-style:solid;padding-left:1ex"><div dir=3D"ltr">I noted that=C2=A0<=
a href=3D"https://en.wikipedia.org/wiki/Apache_HTTP_Server" target=3D"_blan=
k">https://en.wikipedia.org/wiki/Apache_HTTP_Server</a><div>doesn&#39;t con=
tain a &quot;References in Popular Culture&quot; section...</div><div><br><=
/div><div>... does anyone have the link to Bill&#39;s Foxtrot panels about=
=C2=A0</div><div>Jason grabbing his copy of Apache 2.0 Beta?</div></div>
</blockquote></div><br></div></div></div><div class=3D"gmail_extra">The lin=
k: <a href=3D"http://www.gocomics.com/foxtrot/2005/01/11/" target=3D"_blank=
">http://www.gocomics.com/foxtrot/2005/01/11/</a><br></div><div class=3D"gm=
ail_extra"><br></div><div class=3D"gmail_extra">Wikipedia was on a=C2=A0&qu=
ot;References in Popular Culture&quot; purge cycle recently, so it might no=
t stick.<br></div><div class=3D"gmail_extra"><br></div><div>See also:=C2=A0=
<a href=3D"https://en.wikipedia.org/wiki/Wikipedia:Xkcd_in_popular_culture"=
 target=3D"_blank">https://en.wikipedia.org/wiki/Wikipedia:Xkcd_in_popular_=
culture</a></div><span class=3D"HOEnZb"><font color=3D"#888888"><div><br></=
div><div>- Y</div></font></span></div>
</blockquote></div><br></div>

--089e0118429e775634052a5ea728--

From dev-return-85345-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 28 09:58:08 2016
Return-Path: <dev-return-85345-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DED3918107
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 28 Jan 2016 09:58:08 +0000 (UTC)
Received: (qmail 23496 invoked by uid 500); 28 Jan 2016 09:57:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23435 invoked by uid 500); 28 Jan 2016 09:57:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23424 invoked by uid 99); 28 Jan 2016 09:57:54 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Jan 2016 09:57:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 980D1C2EC1
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 09:57:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id f5L4IamREg93 for <dev@httpd.apache.org>;
	Thu, 28 Jan 2016 09:57:42 +0000 (UTC)
Received: from mail-wm0-f68.google.com (mail-wm0-f68.google.com [74.125.82.68])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2A2E942A21
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 09:57:42 +0000 (UTC)
Received: by mail-wm0-f68.google.com with SMTP id p63so2624007wmp.1
        for <dev@httpd.apache.org>; Thu, 28 Jan 2016 01:57:42 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=owHoBvCfv+/FLmuSEONTHQmcLNgl/UTGyauLZG//4a4=;
        b=GoDsEyjZDtx0uDq/wsWv0Zf0eKXNKsrkXD8p8QTn26CyHxz1jxjb6ImFm6s4xqjpu7
         IByOGEVezadK17SiNpiEaEXzogbkyesfLzUwM0dJ0L0loH64XsJtWCrUFX+fMwyCy//8
         c5rsGkVivoVAraZxBrb6g5XhX3Z9ncPDk2c5wil5yXDeVhfBlwyAqXygA9jwpblPPSQ7
         1WNhGwW+4n+YRzsnG2lNgu5x1n7fwxt+OaqcPUBGaPar3fI7Ca8nSUV51u+jOH1KxkYd
         wb5/hXQFTV0+6/wgdfqjBic3ULkZchhISdJSEDiTYzSYfmzEk9xV65eidDyhXRlfosd2
         nF0g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=owHoBvCfv+/FLmuSEONTHQmcLNgl/UTGyauLZG//4a4=;
        b=jOWvzs3yG7u0luWVDLXdX4P9pwutZGwi3NnvJGP9D/e+KUv6ckKR/CorpYQRwZ4mPA
         mE5Ggehm0veKlvpFhOQ9Jy8zI6+1D7Fvyz7pPKMPb3mr+OSFUK1Ldg3w/Ny8aS1YLK/9
         wAY+ddW6tvsMTdnnZyq6BIvUBciJ5zArTn3nRT6Heid6mWPTa14sG+vz6PrWw4T/RrVu
         m8I4+a5mUkJdDzz30Bjf6qYPDS7GEwRd8w8Td4Ecoku4AiA2R2rqqMKWVg33+p7nUCPH
         CmwEkHDPL7N+1CkxRRbUsWVF+GSgw7qUxiLahdL8JeuIV6roXPj3+lvHM26qz40C/3+s
         2/rQ==
X-Gm-Message-State: AG10YORmSGRxFoq3e83BQaHWOcDwihVDqH0yq4UoQleRUGIG4cVPtVoazrEFRtWSPOFMJC+MvM0WeUJ3iJRVFQ==
MIME-Version: 1.0
X-Received: by 10.194.77.137 with SMTP id s9mr1989095wjw.171.1453975061418;
 Thu, 28 Jan 2016 01:57:41 -0800 (PST)
Received: by 10.194.37.198 with HTTP; Thu, 28 Jan 2016 01:57:41 -0800 (PST)
In-Reply-To: <CACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com>
References: <CAL7UUk-qyES+aMMSN6aBGi1rb=K3Q+pif4FbU__Lqkku7f2t0w@mail.gmail.com>
	<CACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com>
Date: Thu, 28 Jan 2016 12:57:41 +0300
Message-ID: <CAL7UUk9Ap1=5sZHKup-iOWr90jL2fcp33Vqz6FwzkL_qQTQnkA@mail.gmail.com>
Subject: Re: collaboration request - apache server automation testing with
 swat tool
From: Alexey Melezhik <melezhik@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Bill! Thanks a lot for your answer. Quick remarks.

> IMHO more suites are
always a benefit, not a competition between test tools.

Completely agree with you


> that it will be a challenge to
bring the resource to bear to replicate what is being done right now

I see. I am not going to replace your current framework by mine, sure.

But what I can suggest. There are some gaps I may be covered by swat.
Let me say a couple:

1)  consider INTEGRATION TESTING under various platforms and
environments ( debian, ubuntu, centos, gentoo ... ). Chef folks use
tool called test-kitchen which is simple way to get desired OS and
install something there and then run some tests against installed
product. They use this extensively in chef cookbook  development.
Indeed the same workflow could be used for testing apache. Consider
this:

 - install apache ( via vendored package ) on specific platform
(centos, ubuntu, fedora, suse slackware - whatever ) - and the run
some (smoke? sanity ) integration tests so to discovery environment
specific gray zones / issues with apache - which of course might arise
!

Having a extensive experiences in devops,chef, configuration
management I may give you a good help in writing such tests (using
swat)  and automating tests environments ( using chef, test kitchen,
travis, vagrant )


2) Cover unresolved issues or test cases ( listed at "Tests to be
written:"  http://svn.apache.org/repos/asf/httpd/test/framework/trunk/STATUS
) using swat.

Sometimes there is no much time to write a tests, is it ? (: Swat test
development in _most cases_ take a minimal amount of time. What if I
try to "prove"  it? ((: What about writing  tests from "Tests to be
written:" section ( with some moderate help of apache gurus on apache
specific details if need ):

    * t/apache
      - simulations of network failures (incomplete POST bodies,
        chunked and unchunked; missing POST bodies; slooow
        client connexions, such as taking 1 minute to send
        1KiB; ...)

    * t/modules/autoindex
      - something seems possibly broken with inheritance on 2.0

    * t/ssl
      - SSLPassPhraseDialog exec:
      - SSLRandomSeed exec:


That's it. Please follow up.

Thanks



2016-01-28 5:33 GMT+03:00 William A Rowe Jr <wrowe@rowe-clan.net>:
> On Wed, Jan 27, 2016 at 2:53 PM, Alexey Melezhik <melezhik@gmail.com> wrote:
>>
>> Hi! I am the author of swat - https://github.com/melezhik/swat -
>> perl/curl based DSL for web services test automation.
>> I'd like to contribute in at apache server automated testing. Please
>> take a look at _simple_ example of swat test suite for apache web
>> server -  https://sparrowhub.org/info/swat-apache?v=0.000004
>>
>> Some swat features ( more info could be found at
>> https://github.com/melezhik/swat ) which possibly could be of
>> interested for you:
>>
>> * swat is DSL for rapid test scenarios development for various web
>> services and application
>> * swat is written on Perl and could be extended by Perl if you need
>> something more complicated when  DSL is not enough
>> * swat has minimal dependencies ( mostly core perl modules plus few
>> CPAN ones )  and easy to install
>> * swat relies on perl prove as internal test runner and so yield test
>> reports  in portable TAP format
>> * swat relies on curl to make http requests against tested
>> application, so there is almost no limit for you - sending, saving
>> cookies, complicated http headers, make html form uploads, etc
>> * swat allow both simple (smoke) tests development and complicated
>> integration tests - with sequential, coupled http requests, saving
>> intermediate state, code reuse, etc. This is classical program API for
>> complex things combined with intuitive simple DSL ( for simple and
>> medium things )
>>
>> * not only httpd server but other a Apache Foundation products could
>> be tested with swat ( tomcat, ... ) - take a look at
>> https://sparrowhub.org/ - central swat test suite repository to get
>> more examples.
>>
>> I'd be glad to get feedback from you guys.
>>
>> Feel free to ask any further questions.
>>
>> Alexey Melezhik - the author of swat and sparrow.
>
>
> Thanks for the pointers and your efforts.  IMHO more suites are
> always a benefit, not a competition between test tools.
>
> For a sense of what we actively review today, please do take a quick
> look at http://svn.apache.org/repos/asf/httpd/test/framework/trunk/
> to understand the scope of the current framework.
>
> I personally don't care precisely which tool or framework I use, as long
> as it is comprehensive.  I'm looking forward to looking at what you have
> put together, but wanted you to be aware that it will be a challenge to
> bring the resource to bear to replicate what is being done right now
> under our existing framework.
>
> Props and cheers,
>
> Bill
>

From dev-return-85346-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 28 10:50:18 2016
Return-Path: <dev-return-85346-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CAF0E1836F
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 28 Jan 2016 10:50:18 +0000 (UTC)
Received: (qmail 53517 invoked by uid 500); 28 Jan 2016 10:49:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53440 invoked by uid 500); 28 Jan 2016 10:49:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53430 invoked by uid 99); 28 Jan 2016 10:49:43 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Jan 2016 10:49:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 7B8571A06E9
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 10:49:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.654
X-Spam-Level:
X-Spam-Status: No, score=-0.654 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=OIlg/iBM;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=KU+uyS4H
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id iNGhURzHM66n for <dev@httpd.apache.org>;
	Thu, 28 Jan 2016 10:49:35 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 965C531A90
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 10:49:34 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 06B8115A0E58; Thu, 28 Jan 2016 11:49:28 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453978168; bh=OfWLB/Zxwm+s4bxXGSAjFz8RaNOZeaj7BvSQckR5wRU=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=OIlg/iBMiItB88rdgvxazZEG6RFg15Kw1WjCs5pXFb8I3HaTFcpVirNj8QBOh8356
	 oNT0YbaOl12S6g4YjBp52SPnDNqlDYIh0HqDQ4WWHIuvvwRCU1AnChxYqT6PzzbV4G
	 ngG7sce9E8vH+jmiBXd1gqQjrmuVzN5BmkLnf4+g=
Received: from [192.168.1.48] (unknown [87.78.131.64])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 6D1D515A035E
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 11:49:27 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1453978167; bh=OfWLB/Zxwm+s4bxXGSAjFz8RaNOZeaj7BvSQckR5wRU=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=KU+uyS4HXDImpubmNiXxwOX1GaYKfrOG/FcAEbKVCViKM5Cb3Uc/QeSgAahECEpiv
	 kuUNJJ7DEyhCcC3P+BaXlrB3c2cN+52aVbARbVEQR+RX7guusJbZ9Kv46bRu6b1Gte
	 qs6gBqTh+Vr4IJAAeB4H2Sz2ZCdsbHocgzFY/bpU=
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1726787 - /httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56A91FA0.2070605@apache.org>
Date: Thu, 28 Jan 2016 11:49:26 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <F4EDB7A8-66D6-4230-BD70-978990C29917@greenbytes.de>
References: <20160126125718.90E3E3A00E7@svn01-us-west.apache.org> <CAKQ1sVMuz7gGmPOfRDADn7ONNVLuK3SmcKyZupjGbJycUXS0nA@mail.gmail.com> <AB1691BE05AE7F4992697F2A0835627AC640AB06@VOEXM10W.internal.vodafone.com> <CAKQ1sVNzTS0JWBPuhz+XD4+3a6xL9LyAyHa8sLyAM9qUHOQjHA@mail.gmail.com> <56A91FA0.2070605@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Interesting discussion. mod_http2 had similar issues to overcome and =
there should be plenty of room for improvements...

> Am 27.01.2016 um 20:50 schrieb Ruediger Pluem <rpluem@apache.org>:
> On 01/27/2016 12:46 PM, Yann Ylavic wrote:
>> On Wed, Jan 27, 2016 at 10:02 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone =
Group
>> <ruediger.pluem@vodafone.com> wrote:
>>>=20
>>>> -----Original Message-----
>>>> From: Yann Ylavic [mailto:ylavic.dev@gmail.com]
>>>> Sent: Mittwoch, 27. Januar 2016 09:15
>>>> To: httpd-dev
>>>> Subject: Re: svn commit: r1726787 -
>>>> /httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
>>>>=20
>>>> I'm not sure the buckets can be destroyed while in flight in
>>>> mod_proxy_wstunnel, unlike with mod_proxy_http where the backend
>>>> connection/request may be cleared before all data are out.
>>>>=20
>>>> ISTM that this can't happen here because we flush out on every =
write
>>>=20
>>> In theory this should be the case, but I think having brigade and =
buckets allocated from
>>> the same bucket allocator is a "better safe than sorry" approach =
that catches possible
>>> edge case now or in the future (think of Grahams ideas to have =
suspending filters).
>>> The issue with these possible edge cases is that it will be hard to =
find the root cause,
>>> because we likely segfault somewhere else.
>=20
> Just saw that the code for mod_proxy_connect is very similar to the =
one from mod_proxy_wstunnel
> and thus could impose the same issues. Maybe it should be fixed as =
well.

Just for my understanding of ap_buckets_lifetime_transform():=20
- duplicates buckets from one brigade+allocator to another
- optimizes the case where source buckets live at least as=20
  long as the copied ones
- can therefore use transient buckets and avoids buffer copies

mod_http2:
- does not make that lifetime assumption. needs to copy.
- has optimization for transferring file buckets by setaside'ing=20
  the apr_file to the target pool

Maybe both approaches could benefit from each other.

What are the tasks to synchronize:
  A. reading from somewhere into a source brigade
  B. transferring from source to another target brigade
  C. writing the target brigade to somewhere else
where A and C keep the current brigade API.=20

Maybe we could introduce something like a "Transfer Window" that
keeps track of target buckets and their destruction which then
triggers - maybe at another point in time / another thread - the
destruction of the corresponding source buckets.

There should be a maximum memory footprint for the "transfer window"=20
which suspends further transfers until target buckets have been=20
destroyed. The transfer window could be given mutex and cond for
working multi-threaded.

Ideally, this would be chainable, so that we have more than two=20
brigades involved.

-Stefan


From dev-return-85347-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 28 17:10:23 2016
Return-Path: <dev-return-85347-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 32FEB17974
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 28 Jan 2016 17:10:23 +0000 (UTC)
Received: (qmail 48865 invoked by uid 500); 28 Jan 2016 17:10:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48802 invoked by uid 500); 28 Jan 2016 17:10:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48792 invoked by uid 99); 28 Jan 2016 17:10:22 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Jan 2016 17:10:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 0FFD11A0172
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 17:10:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id eYG8npPaeNgQ for <dev@httpd.apache.org>;
	Thu, 28 Jan 2016 17:10:12 +0000 (UTC)
Received: from resqmta-po-12v.sys.comcast.net (resqmta-po-12v.sys.comcast.net [96.114.154.171])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 1E24F43ECF
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 17:10:12 +0000 (UTC)
Received: from resomta-po-12v.sys.comcast.net ([96.114.154.236])
	by resqmta-po-12v.sys.comcast.net with comcast
	id BV8a1s00256HXL001VA5tz; Thu, 28 Jan 2016 17:10:05 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-12v.sys.comcast.net with comcast
	id BVA41s0052U0RYt01VA44w; Thu, 28 Jan 2016 17:10:05 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: Apache httpd 2.4 talk at Great Wide Open
Message-Id: <8C32359D-78D4-4B96-A7BC-C823EBF7BFE0@jaguNET.com>
Date: Thu, 28 Jan 2016 12:10:03 -0500
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1454001005;
	bh=hAnEdpHNJobBzaceHo9rWqG3G/y5Td76M6zBZ/WmUx8=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=SDO7YCxQjk2N+Dj+WQiww8l6A6D00gBAQ66HlU67RKh++0pn5eEd9BfTgWi7BvadW
	 ZCGktVP0ka1+3nBaYWLpoLb202+jfGiG1W1K1OOA6gKvIYkjsfqQHG4WqdhrUmdm3n
	 xneL62gDLpiUj//SddAzRkFTQJBkiYc9mAW1omA8PKsRGktMHDKnAkMWB8So4OoGfC
	 KuNpAaLXTIsQZw2ztNo9s0cmYqERjgXtZ9pftaebGwAXzp6RBvQBOee0AThkrxcqJg
	 lZ693ibNOkxzf/uEgO6oHRUChf2CGtP3A5Jw3t6MGEQqTSNAgS7li/Z5ypwIP7BLuR
	 wxA2aOXP/Mi7w==

My proposed session for the Great Wide Open conference[1]
about Apache httpd 2.4 has been accepted!

1. http://greatwideopen.org/schedule/

From dev-return-85348-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jan 28 20:31:31 2016
Return-Path: <dev-return-85348-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C2DC518545
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 28 Jan 2016 20:31:31 +0000 (UTC)
Received: (qmail 67685 invoked by uid 500); 28 Jan 2016 20:31:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67619 invoked by uid 500); 28 Jan 2016 20:31:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67609 invoked by uid 99); 28 Jan 2016 20:31:30 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Jan 2016 20:31:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5EFBE18053D
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 20:31:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id AXho9n8kF9en for <dev@httpd.apache.org>;
	Thu, 28 Jan 2016 20:31:24 +0000 (UTC)
Received: from mail-ig0-f176.google.com (mail-ig0-f176.google.com [209.85.213.176])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id D16EB206F3
	for <dev@httpd.apache.org>; Thu, 28 Jan 2016 20:31:23 +0000 (UTC)
Received: by mail-ig0-f176.google.com with SMTP id h5so20173525igh.0
        for <dev@httpd.apache.org>; Thu, 28 Jan 2016 12:31:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=2hunPGVNu3Jpv9wNwT0irvM17/y9EYyftQAWK2ss+bo=;
        b=k4bBqOGjp+SaDMIGb3WY10GuyYVHqOD87ns3e1CjGMZet25OKABTINoUg2lVcUAxl7
         GZxEabOKdT0n/zV34cSQ3qto8ruoQfoLrECdUPY8yi+wcO0ixnNF8mqLl6YIkXy0/A2W
         UtmOawvSlScCQVIAfYWumWFL8MUwxMUfCic0Br+szH9nFD6THfRuqK78csEk1RW4GvC9
         qClVqp988Ri4kbSR4DInWmSpm/L+YkLx/cHoY4cwHBieUnCVkUEVcNtu0qTeZM+UwyO/
         w9WaQV2cP1/j6mVrtqrF5b9Cqavh6Zl2Yyur6tKy+OeiUvv1dijgXEMX+XWd5x2Cmr0u
         WVOg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=2hunPGVNu3Jpv9wNwT0irvM17/y9EYyftQAWK2ss+bo=;
        b=nOOZ0jIs7HRYJtpeMk38De/N7MyCwioiwxixL7GM7D2V6W/bk0Pqd4smZW8YchOH/f
         E13xoP8vmEqPqPlY35eNQ1w4EFEWW1PHfv/OZfM3Tj98k4tyavPcIk5Ai4CXXExwI9fL
         w6N9yCKFHuIFre3IbP+Q4jPCvYsa80cbikq8jETgLnta1y2TIG3H8ChdtvJfDg4jt5hl
         wsuEMyc7prEVDmnXSQglIHIv8KB9ngUX4/MC/iZsqXgCimZIv5dGnA+AO/Z0knfJJnfC
         b2ayAL5Q2Zg5HzRhl1u6pYiIS9IKM15CksHBVBOtAAPnaiskZTtFy761oCSXF0sQ14Fy
         naPw==
X-Gm-Message-State: AG10YOQpqTVy9HiB90PaLihD0Dz1YnYIjn3/RnlSQlWYSvX1UvfY/hqK/VQ/zV8DUXWOpu01f19TpuDrAVkoBg==
MIME-Version: 1.0
X-Received: by 10.50.3.39 with SMTP id 7mr5340784igz.56.1454013083312; Thu, 28
 Jan 2016 12:31:23 -0800 (PST)
Received: by 10.64.72.6 with HTTP; Thu, 28 Jan 2016 12:31:23 -0800 (PST)
In-Reply-To: <B86BB7B2-C5B7-48DD-B582-C33C0E200634@sharp.fm>
References: <B86BB7B2-C5B7-48DD-B582-C33C0E200634@sharp.fm>
Date: Thu, 28 Jan 2016 15:31:23 -0500
Message-ID: <CALK=YjNs1ek8H6UojEyoLzAPeXuPjptykLcyGSk1PA3NVz_3LQ@mail.gmail.com>
Subject: Re: ap_directory_walk() marking non existent files as APR_DIR
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Tue, Mar 31, 2015 at 6:36 PM, Graham Leggett <minfrin@sharp.fm> wrote:
> I am picking apart some strange behaviour where use of the Alias directiv=
e inside a Location along with a file path that doesn=E2=80=99t exist (/_th=
umbs/i/dont/exist.jpg) triggers a loop of redirects to =E2=80=A6/index.html=
/index.html/index.html/=E2=80=A6


Just had a user hit this in a misconfig with AliasMatch too, 301
redirects from mod_dir.

--=20
Eric Covener
covener@gmail.com

From dev-return-85349-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 29 08:37:54 2016
Return-Path: <dev-return-85349-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C545018146
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 29 Jan 2016 08:37:53 +0000 (UTC)
Received: (qmail 46008 invoked by uid 500); 29 Jan 2016 08:37:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 45937 invoked by uid 500); 29 Jan 2016 08:37:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45927 invoked by uid 99); 29 Jan 2016 08:37:48 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Jan 2016 08:37:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id E46E11A09A6
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 08:37:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.654
X-Spam-Level:
X-Spam-Status: No, score=-0.654 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=pFqVR7Zi;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=VeAn6OQK
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id aNQjH59S4Gqb for <dev@httpd.apache.org>;
	Fri, 29 Jan 2016 08:37:38 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A917220C6A
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 08:37:37 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 48C2315A0E1F; Fri, 29 Jan 2016 09:37:36 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454056656; bh=jQIly9jnHyIbh71nJLyphpr77mLQe77MXhy6p4zcQAE=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=pFqVR7ZiTFqo40+n4364kFsAK3t+NIOKf+hA6RFm1y+zYowmPwbMc1KzEBi+LLt/X
	 tIcodMHCC2lNsVIJk+SdnHsVZgdQLUzbPMP4mlW4wUMV8Zv33Jy5kk5P7swfT3jWQ9
	 Plt5g05nBqktioV8bsi56tW+WZOcMr4sTD6Y09XA=
Received: from [192.168.1.48] (unknown [87.78.31.144])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 3189415A0680
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 09:37:33 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454056654; bh=jQIly9jnHyIbh71nJLyphpr77mLQe77MXhy6p4zcQAE=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=VeAn6OQKty5ybZfp2I8o6QYo/fJTItegrsS7mwtZWfJakejYNV0aHN0PpxTQeXtCk
	 lP/+03a6a70nQlSGo2niVkKvbHUrrMD5Y0E7CEkzMW+SpbRdJk+7EXf80KcLx/tgbM
	 I3KLvOYIw58vgIAzd4x664RW3WHyRJCBzOtGIMKM=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Apache httpd 2.4 talk at Great Wide Open
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <8C32359D-78D4-4B96-A7BC-C823EBF7BFE0@jaguNET.com>
Date: Fri, 29 Jan 2016 09:37:27 +0100
Content-Transfer-Encoding: 7bit
Message-Id: <AEADA8F4-3647-4DAC-9E23-304CE682B21F@greenbytes.de>
References: <8C32359D-78D4-4B96-A7BC-C823EBF7BFE0@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Congrats!

> Am 28.01.2016 um 18:10 schrieb Jim Jagielski <jim@jaguNET.com>:
> 
> My proposed session for the Great Wide Open conference[1]
> about Apache httpd 2.4 has been accepted!
> 
> 1. http://greatwideopen.org/schedule/


From dev-return-85350-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 29 09:01:20 2016
Return-Path: <dev-return-85350-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D3AF71823A
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 29 Jan 2016 09:01:20 +0000 (UTC)
Received: (qmail 96221 invoked by uid 500); 29 Jan 2016 09:01:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 96149 invoked by uid 500); 29 Jan 2016 09:01:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 96139 invoked by uid 99); 29 Jan 2016 09:01:07 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Jan 2016 09:01:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 29784C0D97
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 09:01:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.901
X-Spam-Level: **
X-Spam-Status: No, score=2.901 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id nbHOsX7n1lJt for <dev@httpd.apache.org>;
	Fri, 29 Jan 2016 09:00:56 +0000 (UTC)
Received: from mail-lf0-f49.google.com (mail-lf0-f49.google.com [209.85.215.49])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id D8A0A205F5
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 09:00:55 +0000 (UTC)
Received: by mail-lf0-f49.google.com with SMTP id s81so42925801lfd.0
        for <dev@httpd.apache.org>; Fri, 29 Jan 2016 01:00:55 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type;
        bh=q6j/Hcy3bP3VdvPEZ+VsGRBWvDnr0YJ6FHODzVXNQ3c=;
        b=onVamMSa/6U3RDyqvFvrj/ln9wBMuMFU9rL5wMrpIpFBC5OZj5VOplO1djIxZcYBTO
         ETuWHqXCzOsmpmcqMoyedrL3Er/9vx9qXFd9xMxSBA75p0IcOGC9dtXJtjrR4eBIOoPO
         9PU6qfXut39VkE93pL6mU96tjTok4csqg9vYgwXLy+KBFxDhxmM6qZZhDzvx8LxePjO4
         l7bW1mrICob1PTkmDXHsjn4ir5U/qtAhst4sN/XmU8VqQrJjojPR1UAAbhlf5DEOLRdW
         naHzhDDMDd3lHcuSoQQZl+pec6StcEar3Aa9c5SmP4MvlmbiWsY9lO5/yGCKUUjaRZKy
         Qzig==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:references:in-reply-to:from:date
         :message-id:subject:to:content-type;
        bh=q6j/Hcy3bP3VdvPEZ+VsGRBWvDnr0YJ6FHODzVXNQ3c=;
        b=hvquD7xPZP0gYi3J+AgIp5Zk3m6sjfQtrNEK7Lz3zLNCNMsvJXw+7iNmC5OWxZb6Pq
         DNJtV8JtpdrhjTGavawA4AZtXogMcpkPxsA3i3jIR1RjxXHj8Dfi85VzSfkUNAb003ee
         thTlOLFbQszLziTsqkZjJoTHd/1ddaehv5AuyCCELp6uMjJxUooRyas4YW1ao+9rVdpG
         hNfyYw1mvsoPNLmj6SJyo+okdmLDrKiV733tq1vQc8eC+YT+8wZoI4SNpXEir3rrrxV6
         ixU5v05hsRe1x1Fy0vho6yb35KRYXMlYH7Tx/VQGp5VUULyt4+h2+vPBHJ/xmAJcGUyH
         X3aw==
X-Gm-Message-State: AG10YOQ9zioe/mTZsdjPlkZ74AH/4k0EVMQe+cxl5y+SCuSWzQYYjMT6yPnvPull7aS4AnlyGFRdUjZGzlBVJQ==
X-Received: by 10.25.20.228 with SMTP id 97mr2898288lfu.25.1454058054335; Fri,
 29 Jan 2016 01:00:54 -0800 (PST)
MIME-Version: 1.0
References: <8C32359D-78D4-4B96-A7BC-C823EBF7BFE0@jaguNET.com> <AEADA8F4-3647-4DAC-9E23-304CE682B21F@greenbytes.de>
In-Reply-To: <AEADA8F4-3647-4DAC-9E23-304CE682B21F@greenbytes.de>
From: Daniel <dferradal@gmail.com>
Date: Fri, 29 Jan 2016 09:00:44 +0000
Message-ID: <CAHti5NFV4YKj+9bnmkvKkSMqi1WmxhGv41GCiVbWgm-9-EoM0g@mail.gmail.com>
Subject: Re: Apache httpd 2.4 talk at Great Wide Open
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a113fa848cfc274052a75451b

--001a113fa848cfc274052a75451b
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Will there be a video of the session?

El vie., 29 de ene. de 2016 9:37, Stefan Eissing <
stefan.eissing@greenbytes.de> escribi=C3=B3:

> Congrats!
>
> > Am 28.01.2016 um 18:10 schrieb Jim Jagielski <jim@jaguNET.com>:
> >
> > My proposed session for the Great Wide Open conference[1]
> > about Apache httpd 2.4 has been accepted!
> >
> > 1. http://greatwideopen.org/schedule/
>
>

--001a113fa848cfc274052a75451b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">Will there be a video of the session? </p>
<br><div class=3D"gmail_quote"><div dir=3D"ltr">El vie., 29 de ene. de 2016=
 9:37, Stefan Eissing &lt;<a href=3D"mailto:stefan.eissing@greenbytes.de">s=
tefan.eissing@greenbytes.de</a>&gt; escribi=C3=B3:<br></div><blockquote cla=
ss=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;pa=
dding-left:1ex">Congrats!<br>
<br>
&gt; Am 28.01.2016 um 18:10 schrieb Jim Jagielski &lt;jim@jaguNET.com&gt;:<=
br>
&gt;<br>
&gt; My proposed session for the Great Wide Open conference[1]<br>
&gt; about Apache httpd 2.4 has been accepted!<br>
&gt;<br>
&gt; 1. <a href=3D"http://greatwideopen.org/schedule/" rel=3D"noreferrer" t=
arget=3D"_blank">http://greatwideopen.org/schedule/</a><br>
<br>
</blockquote></div>

--001a113fa848cfc274052a75451b--

From dev-return-85351-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 29 10:33:23 2016
Return-Path: <dev-return-85351-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4EDEA1869A
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 29 Jan 2016 10:33:23 +0000 (UTC)
Received: (qmail 41712 invoked by uid 500); 29 Jan 2016 10:33:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41634 invoked by uid 500); 29 Jan 2016 10:33:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41625 invoked by uid 99); 29 Jan 2016 10:33:13 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Jan 2016 10:33:13 +0000
Received: from gauss.localdomain (v4-86134b0f.pool.vitroconnect.de [134.19.75.15])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 7E3101A00E8
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 10:33:12 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 6F8FE1DA
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 11:33:13 +0100 (CET)
Subject: Re: svn commit: r1726787 -
 /httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
To: dev@httpd.apache.org
References: <20160126125718.90E3E3A00E7@svn01-us-west.apache.org>
 <CAKQ1sVMuz7gGmPOfRDADn7ONNVLuK3SmcKyZupjGbJycUXS0nA@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC640AB06@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVNzTS0JWBPuhz+XD4+3a6xL9LyAyHa8sLyAM9qUHOQjHA@mail.gmail.com>
 <56A91FA0.2070605@apache.org>
 <F4EDB7A8-66D6-4230-BD70-978990C29917@greenbytes.de>
From: Ruediger Pluem <rpluem@apache.org>
X-Enigmail-Draft-Status: N1110
Message-ID: <56AB3FE9.8000105@apache.org>
Date: Fri, 29 Jan 2016 11:33:13 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <F4EDB7A8-66D6-4230-BD70-978990C29917@greenbytes.de>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 01/28/2016 11:49 AM, Stefan Eissing wrote:
> Interesting discussion. mod_http2 had similar issues to overcome and there should be plenty of room for improvements...
> 
>> Am 27.01.2016 um 20:50 schrieb Ruediger Pluem <rpluem@apache.org>:
>> On 01/27/2016 12:46 PM, Yann Ylavic wrote:
>>> On Wed, Jan 27, 2016 at 10:02 AM, Plm, Rdiger, Vodafone Group
>>> <ruediger.pluem@vodafone.com> wrote:
>>>>
>>>>> -----Original Message-----
>>>>> From: Yann Ylavic [mailto:ylavic.dev@gmail.com]
>>>>> Sent: Mittwoch, 27. Januar 2016 09:15
>>>>> To: httpd-dev
>>>>> Subject: Re: svn commit: r1726787 -
>>>>> /httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
>>>>>
>>>>> I'm not sure the buckets can be destroyed while in flight in
>>>>> mod_proxy_wstunnel, unlike with mod_proxy_http where the backend
>>>>> connection/request may be cleared before all data are out.
>>>>>
>>>>> ISTM that this can't happen here because we flush out on every write
>>>>
>>>> In theory this should be the case, but I think having brigade and buckets allocated from
>>>> the same bucket allocator is a "better safe than sorry" approach that catches possible
>>>> edge case now or in the future (think of Grahams ideas to have suspending filters).
>>>> The issue with these possible edge cases is that it will be hard to find the root cause,
>>>> because we likely segfault somewhere else.
>>
>> Just saw that the code for mod_proxy_connect is very similar to the one from mod_proxy_wstunnel
>> and thus could impose the same issues. Maybe it should be fixed as well.
> 
> Just for my understanding of ap_buckets_lifetime_transform(): 
> - duplicates buckets from one brigade+allocator to another
> - optimizes the case where source buckets live at least as 
>   long as the copied ones
> - can therefore use transient buckets and avoids buffer copies

Yes and no. Just to clarify. It is assumed that the source buckets live as long as we are
in the same "processing cycle". If someone in the chain (be it in the filter chain,
or be it the proxy handler that frees up the backend connection early) cannot process
them as long as we know that the sources exists they must set the buckets aside which triggers
the copying. The beauty of the solution is that if the above does not happen no copy
is needed and that we do not need to decide in ap_buckets_lifetime_transform if a copy
is needed or not but defer that decision to the consumers in the later processing cyle
who should know much better then we know. And they then just need to do what they are used to
do in such situations: Setting the buckets aside.

> 
> mod_http2:
> - does not make that lifetime assumption. needs to copy.

Maybe it could if it waits to destroy the sources until passing to the filter chain returns.
In this case the buckets should be either consumed or set aside.

> - has optimization for transferring file buckets by setaside'ing 
>   the apr_file to the target pool
> 
> Maybe both approaches could benefit from each other.
> 
> What are the tasks to synchronize:
>   A. reading from somewhere into a source brigade
>   B. transferring from source to another target brigade
>   C. writing the target brigade to somewhere else
> where A and C keep the current brigade API. 
> 
> Maybe we could introduce something like a "Transfer Window" that
> keeps track of target buckets and their destruction which then
> triggers - maybe at another point in time / another thread - the
> destruction of the corresponding source buckets.

Hm. This might be difficult with the current pool and allocator lifetimes,
as you would probably block other data from being freed if just one source
bucket is still needed.

> 
> There should be a maximum memory footprint for the "transfer window" 
> which suspends further transfers until target buckets have been 
> destroyed. The transfer window could be given mutex and cond for
> working multi-threaded.
> 
> Ideally, this would be chainable, so that we have more than two 
> brigades involved.
> 

Regards

Rdiger


From dev-return-85353-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 29 12:55:29 2016
Return-Path: <dev-return-85353-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ED85618B38
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 29 Jan 2016 12:55:28 +0000 (UTC)
Received: (qmail 97851 invoked by uid 500); 29 Jan 2016 12:55:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97793 invoked by uid 500); 29 Jan 2016 12:55:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97784 invoked by uid 99); 29 Jan 2016 12:55:28 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Jan 2016 12:55:28 +0000
Received: from gauss.localdomain (v4-86134b0f.pool.vitroconnect.de [134.19.75.15])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 0797F1A00E8
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 12:55:27 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 303BB1DA
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 13:55:29 +0100 (CET)
Subject: Re: svn commit: r1727071 - in /httpd/httpd/trunk: CHANGES
 include/http_connection.h server/connection.c server/mpm/event/event.c
To: dev@httpd.apache.org
References: <20160127145153.585553A0873@svn01-us-west.apache.org>
 <56A8E47A.9050903@apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56AB6141.6020109@apache.org>
Date: Fri, 29 Jan 2016 13:55:29 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <56A8E47A.9050903@apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 01/27/2016 04:38 PM, Ruediger Pluem wrote:
> 
> 
> On 01/27/2016 03:51 PM, icing@apache.org wrote:
>> Author: icing
>> Date: Wed Jan 27 14:51:53 2016
>> New Revision: 1727071
>>
>> URL: http://svn.apache.org/viewvc?rev=1727071&view=rev
>> Log:
>> new hook pre_close_connection
>>
>> Modified:
>>     httpd/httpd/trunk/CHANGES
>>     httpd/httpd/trunk/include/http_connection.h
>>     httpd/httpd/trunk/server/connection.c
>>     httpd/httpd/trunk/server/mpm/event/event.c
>>
> 
> 
>> Modified: httpd/httpd/trunk/server/connection.c
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/connection.c?rev=1727071&r1=1727070&r2=1727071&view=diff
>> ==============================================================================
>> --- httpd/httpd/trunk/server/connection.c (original)
>> +++ httpd/httpd/trunk/server/connection.c Wed Jan 27 14:51:53 2016
> 
>> @@ -92,6 +95,17 @@ AP_CORE_DECLARE(void) ap_flush_conn(conn
>>      (void)ap_shutdown_conn(c, 1);
>>  }
>>  
>> +AP_DECLARE(int) ap_prep_lingering_close(conn_rec *c)
>> +{
>> +    /* Give protocol handlers one last chance to raise their voice */
>> +    ap_run_pre_close_connection(c);
>> +    
>> +    if (c->sbh) {
>> +        ap_update_child_status(c->sbh, SERVER_CLOSING, NULL);
>> +    }
>> +    return 0;
>> +}
>> +
>>  /* we now proceed to read from the client until we get EOF, or until
>>   * MAX_SECS_TO_LINGER has passed.  The reasons for doing this are
>>   * documented in a draft:
>> @@ -112,10 +126,10 @@ AP_DECLARE(int) ap_start_lingering_close
>>          return 1;
>>      }
>>  
>> -    if (c->sbh) {
>> -        ap_update_child_status(c->sbh, SERVER_CLOSING, NULL);
>> +    if (!ap_prep_lingering_close(c)) {
> 
> This is always true. So effectively we disable the code below.
> 
>> +        return 1;
>>      }
>> -
>> +    
>>      /* Close the connection, being careful to send out whatever is still
>>       * in our buffers.  If possible, try to avoid a hard close until the
>>       * client has ACKed our FIN and/or has stopped sending us data.
>>

And in effect this now causes the following failures in the test suite:

t/apache/chunkinput.t             (Wstat: 13 Tests: 22 Failed: 0)
  Non-zero wait status: 13
  Parse errors: Bad plan.  You planned 37 tests but ran 22.
t/apache/pr35292.t                (Wstat: 0 Tests: 3 Failed: 1)
  Failed test:  2
t/ssl/headers.t                   (Wstat: 0 Tests: 3 Failed: 3)
  Failed tests:  1-3

Regards

Rdiger

From dev-return-85352-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 29 13:01:59 2016
Return-Path: <dev-return-85352-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 04E9C18B6F
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 29 Jan 2016 13:01:59 +0000 (UTC)
Received: (qmail 56499 invoked by uid 500); 29 Jan 2016 12:35:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56413 invoked by uid 500); 29 Jan 2016 12:35:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56403 invoked by uid 99); 29 Jan 2016 12:35:19 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Jan 2016 12:35:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A4F11C1471
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 12:35:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id xXz_ID5-UulM for <dev@httpd.apache.org>;
	Fri, 29 Jan 2016 12:35:07 +0000 (UTC)
Received: from mail-wm0-f41.google.com (mail-wm0-f41.google.com [74.125.82.41])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 604CB43B36
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 12:35:07 +0000 (UTC)
Received: by mail-wm0-f41.google.com with SMTP id l66so52554791wml.0
        for <dev@httpd.apache.org>; Fri, 29 Jan 2016 04:35:07 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=N98p7vU7msEQGvhrFkk+aikBCaNSWXNW6WbaPKWeFEo=;
        b=Qg1dMN6Idla4NJby0QZsaOAJN1NQlzKSlTi+ALY2y8BakY69MJbXGBZwIa4/pfvn7B
         NuUyUKq+d8ZBERFHd228xK+jLLTwjX1tv2K/d0yHohxOBPx8JliGTcGtPuaZOx+94QFK
         HXY0T/aS/6a23aGDY0mJCGeDj7M61aEvOEGD98XnwIGtSoT/v28VQHPKui6ZJxk7ghqt
         baaSoM6CW2Z0qLDWgRSeCfkUynAWTuuFDX2xbYQir15RGxipi5X7zc/2G5z+RF3GjkrK
         gTPO6Hpob4TBt0gvP0yUCvbQOAKPsU2tpMfTTPQd2WCj8t7mmXH9Y9SKsO7tviHQ7oo7
         EpVA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=N98p7vU7msEQGvhrFkk+aikBCaNSWXNW6WbaPKWeFEo=;
        b=A6Xil1rC3W9ackKRM5AQYKSaKoJRDax+pm8Udw0R51EH+FUIM3L7PZuQNw2QiN2rWr
         JksnG5a1ePs++1UOYu8Xgu5YZxtLekRNhqX4UuR1xOP41y7MbBjWnhcy1ERQEItTrdfh
         BLh4AfziY5r4F0PAO2N00fvSM8gpKExpOtpS5XybCWaSKNGW3sgkjhT+wlsUx0YlITyg
         wdgYu4M224W+xd5UetH2YhlJZH9bUCFxojgarabxE1SkOo1+hE/yj6u3Q+25dX0o6l8v
         r7LzMVJ0Tsxfd1EGw2wDq5CO3AkpA2/WDI7MsYY11gWz89IuhwXSgroqtuDWsdHv5DlO
         iPFw==
X-Gm-Message-State: AG10YOQkvV+OztBhavw+UwTotyPKeXZDSO13Enlrtbxg1Ljk2W335LMdDmwR2IGyTqhMB2/cc0pk8CjlcorUmQ==
MIME-Version: 1.0
X-Received: by 10.28.6.213 with SMTP id 204mr8586093wmg.47.1454070906623; Fri,
 29 Jan 2016 04:35:06 -0800 (PST)
Received: by 10.194.37.198 with HTTP; Fri, 29 Jan 2016 04:35:06 -0800 (PST)
In-Reply-To: <CACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com>
References: <CAL7UUk-qyES+aMMSN6aBGi1rb=K3Q+pif4FbU__Lqkku7f2t0w@mail.gmail.com>
	<CACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com>
Date: Fri, 29 Jan 2016 15:35:06 +0300
Message-ID: <CAL7UUk_z-CgL1255w8ScgUW+oFtpuybvzoK_kQykbQNv025N_g@mail.gmail.com>
Subject: Re: collaboration request - apache server automation testing with
 swat tool
From: Alexey Melezhik <melezhik@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Bill!

Any news? ( Please see my previous reply ...)

Thanks


2016-01-28 5:33 GMT+03:00 William A Rowe Jr <wrowe@rowe-clan.net>:
> On Wed, Jan 27, 2016 at 2:53 PM, Alexey Melezhik <melezhik@gmail.com> wrote:
>>
>> Hi! I am the author of swat - https://github.com/melezhik/swat -
>> perl/curl based DSL for web services test automation.
>> I'd like to contribute in at apache server automated testing. Please
>> take a look at _simple_ example of swat test suite for apache web
>> server -  https://sparrowhub.org/info/swat-apache?v=0.000004
>>
>> Some swat features ( more info could be found at
>> https://github.com/melezhik/swat ) which possibly could be of
>> interested for you:
>>
>> * swat is DSL for rapid test scenarios development for various web
>> services and application
>> * swat is written on Perl and could be extended by Perl if you need
>> something more complicated when  DSL is not enough
>> * swat has minimal dependencies ( mostly core perl modules plus few
>> CPAN ones )  and easy to install
>> * swat relies on perl prove as internal test runner and so yield test
>> reports  in portable TAP format
>> * swat relies on curl to make http requests against tested
>> application, so there is almost no limit for you - sending, saving
>> cookies, complicated http headers, make html form uploads, etc
>> * swat allow both simple (smoke) tests development and complicated
>> integration tests - with sequential, coupled http requests, saving
>> intermediate state, code reuse, etc. This is classical program API for
>> complex things combined with intuitive simple DSL ( for simple and
>> medium things )
>>
>> * not only httpd server but other a Apache Foundation products could
>> be tested with swat ( tomcat, ... ) - take a look at
>> https://sparrowhub.org/ - central swat test suite repository to get
>> more examples.
>>
>> I'd be glad to get feedback from you guys.
>>
>> Feel free to ask any further questions.
>>
>> Alexey Melezhik - the author of swat and sparrow.
>
>
> Thanks for the pointers and your efforts.  IMHO more suites are
> always a benefit, not a competition between test tools.
>
> For a sense of what we actively review today, please do take a quick
> look at http://svn.apache.org/repos/asf/httpd/test/framework/trunk/
> to understand the scope of the current framework.
>
> I personally don't care precisely which tool or framework I use, as long
> as it is comprehensive.  I'm looking forward to looking at what you have
> put together, but wanted you to be aware that it will be a challenge to
> bring the resource to bear to replicate what is being done right now
> under our existing framework.
>
> Props and cheers,
>
> Bill
>

From dev-return-85354-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 29 13:02:03 2016
Return-Path: <dev-return-85354-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 318C418B73
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 29 Jan 2016 13:02:03 +0000 (UTC)
Received: (qmail 12336 invoked by uid 500); 29 Jan 2016 13:01:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12258 invoked by uid 500); 29 Jan 2016 13:01:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12248 invoked by uid 99); 29 Jan 2016 13:01:46 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Jan 2016 13:01:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6E17BC1303
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 13:01:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=hWOc93d3;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=hWOc93d3
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id PNvMX3rwrk1b for <dev@httpd.apache.org>;
	Fri, 29 Jan 2016 13:01:41 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 364892050B
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 13:01:41 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 6902B15A0729; Fri, 29 Jan 2016 14:01:32 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454072492; bh=8EjW22EYADfTeR6uFAuZaneeME2KMOzNZKIhOT66WKs=;
	h=From:Subject:Date:To:From;
	b=hWOc93d3Bk5v/pXsG+42l47ZNuI7yjfF7HF8K3QGEP1UM6Z04b0a2MGYpqeeyY3tP
	 2tn0cFqx2yHIGc7fo/p+HHlRlz9lnfkjoG1QV9r0vOF/vdXkX5zb927tRJGbf+p/Ie
	 Mt3NL9cWPa3XnoivqmMceqRwK7SGQIa0F8HkEMnU=
Received: from [192.168.1.48] (unknown [87.78.31.144])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 1693F15A008E
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 14:01:32 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454072492; bh=8EjW22EYADfTeR6uFAuZaneeME2KMOzNZKIhOT66WKs=;
	h=From:Subject:Date:To:From;
	b=hWOc93d3Bk5v/pXsG+42l47ZNuI7yjfF7HF8K3QGEP1UM6Z04b0a2MGYpqeeyY3tP
	 2tn0cFqx2yHIGc7fo/p+HHlRlz9lnfkjoG1QV9r0vOF/vdXkX5zb927tRJGbf+p/Ie
	 Mt3NL9cWPa3XnoivqmMceqRwK7SGQIa0F8HkEMnU=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: multipart/mixed; boundary="Apple-Mail=_6CB0B781-9F8C-4721-A5CC-48EBE09BDCB0"
Subject: event mpm and slave connections
Message-Id: <EA7D420F-B62E-4C06-A2F6-94661AE1E4DB@greenbytes.de>
Date: Fri, 29 Jan 2016 14:01:30 +0100
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)


--Apple-Mail=_6CB0B781-9F8C-4721-A5CC-48EBE09BDCB0
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=us-ascii

I would like to propose some additions to event that help me get rid of =
two ugly hacks in mod_http2:

1. Initialization of slave connections
   event registers on pre_connection hook and checks if c is a slave =
(c->master) and if the connection state is either not there or the same =
as master (pointer copy). It then sets up a new cs using the slave =
connection pool.

2. Initialization of server config
   event keeps in its private connection state parts the server =
configuration (queues for timeouts and keepalives) that are unique to =
each server because of Timeout and KeepAliveTimeout settings. Normally, =
theses are set on post_read_request hooks which is fine and well. On =
master connections however, these hooks may never get called so the =
server config remains stuck on the connections base server.
   In the case of SNI however, we know which server this connection is =
intended for and should use its Timeouts. This is done by installing an =
early protocol_switch hook that sees connections updates and server_rec =
and initializes its connection state accordingly.

Please vote on the attached patch. I do not want to mess with event =
without having some moral backup...

-Stefan


--Apple-Mail=_6CB0B781-9F8C-4721-A5CC-48EBE09BDCB0
Content-Disposition: attachment;
	filename=event_fix_slaves.patch
Content-Type: application/octet-stream;
	name="event_fix_slaves.patch"
Content-Transfer-Encoding: 7bit

Index: server/mpm/event/event.c
===================================================================
--- server/mpm/event/event.c	(revision 1727544)
+++ server/mpm/event/event.c	(working copy)
@@ -3293,6 +3293,55 @@
     return OK;
 }
 
+static void setup_slave_conn(conn_rec *c, void *csd) 
+{
+    event_conn_state_t *mcs;
+    event_conn_state_t *cs;
+    
+    mcs = ap_get_module_config(c->master->conn_config, &mpm_event_module);
+    
+    cs = apr_pcalloc(c->pool, sizeof(*cs));
+    cs->c = c;
+    cs->r = NULL;
+    cs->sc = mcs->sc;
+    cs->suspended = 0;
+    cs->p = c->pool;
+    cs->bucket_alloc = c->bucket_alloc;
+    cs->pfd = mcs->pfd;
+    cs->pub = mcs->pub;
+    cs->pub.state = CONN_STATE_READ_REQUEST_LINE;
+    cs->pub.sense = CONN_SENSE_DEFAULT;
+    
+    c->cs = &(cs->pub);
+    ap_set_module_config(c->conn_config, &mpm_event_module, cs);
+}
+
+static int event_pre_connection(conn_rec *c, void *csd)
+{
+    if (c->master && (!c->cs || c->cs == c->master->cs)) {
+        setup_slave_conn(c, csd);
+    }
+    return OK;
+}
+
+static int event_protocol_switch(conn_rec *c, request_rec *r, server_rec *s,
+                                 const char *protocol)
+{
+    if (!r && s) {
+        /* connection based switching of protocol, set the correct server
+         * configuration, so that timeouts, keepalives and such are used
+         * for the server that the connection was switched on.
+         * Normally, we set this on post_read_request, but on a protocol
+         * other than http/1.1, this might never happen.
+         */
+        event_conn_state_t *cs;
+        
+        cs = ap_get_module_config(c->conn_config, &mpm_event_module);
+        cs->sc = ap_get_module_config(s->module_config, &mpm_event_module);
+    }
+    return DECLINED;
+}
+
 /* This really should be a post_config hook, but the error log is already
  * redirected by that point, so we need to do this in the open_logs phase.
  */
@@ -3791,6 +3840,9 @@
     ap_hook_post_read_request(event_post_read_request, NULL, NULL, APR_HOOK_MIDDLE);
     ap_hook_mpm_get_name(event_get_name, NULL, NULL, APR_HOOK_MIDDLE);
     ap_hook_mpm_resume_suspended(event_resume_suspended, NULL, NULL, APR_HOOK_MIDDLE);
+
+    ap_hook_pre_connection(event_pre_connection, NULL, NULL, APR_HOOK_REALLY_FIRST);
+    ap_hook_protocol_switch(event_protocol_switch, NULL, NULL, APR_HOOK_REALLY_FIRST);
 }
 
 static const char *set_daemons_to_start(cmd_parms *cmd, void *dummy,

--Apple-Mail=_6CB0B781-9F8C-4721-A5CC-48EBE09BDCB0--

From dev-return-85355-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 29 13:16:33 2016
Return-Path: <dev-return-85355-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A88B218BEB
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 29 Jan 2016 13:16:33 +0000 (UTC)
Received: (qmail 56886 invoked by uid 500); 29 Jan 2016 13:16:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56808 invoked by uid 500); 29 Jan 2016 13:16:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56798 invoked by uid 99); 29 Jan 2016 13:16:32 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Jan 2016 13:16:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 68D0F1A0493
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 13:16:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.655
X-Spam-Level:
X-Spam-Status: No, score=-0.655 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=NO6C6wvb;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=NO6C6wvb
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id GWWl23Wu29vA for <dev@httpd.apache.org>;
	Fri, 29 Jan 2016 13:16:30 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 8B6AB20C6A
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 13:16:30 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 506ED15A0729; Fri, 29 Jan 2016 14:16:24 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454073384; bh=bXvbjsIInYWqnTHFe4ZGiL0jBDqatJFECbYZhDbsgos=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=NO6C6wvbIu9EvTFzFkqsIebuAaslgOXsd6Slll4Ll0pYaK7flZ5AN5NleF2D1WcPd
	 nROnQjpfnbFvkUu9lIx6gi7fi4/Uv2c+RiwyWu8XW5Zl3iV94XhK6sOeefSk1wJmH0
	 8cqF3FWn2OEqxuOHc/ljp2OfNenIkRWSfG3QhW80=
Received: from [192.168.1.48] (unknown [87.78.31.144])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id EF55415A008E
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 14:16:23 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454073384; bh=bXvbjsIInYWqnTHFe4ZGiL0jBDqatJFECbYZhDbsgos=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=NO6C6wvbIu9EvTFzFkqsIebuAaslgOXsd6Slll4Ll0pYaK7flZ5AN5NleF2D1WcPd
	 nROnQjpfnbFvkUu9lIx6gi7fi4/Uv2c+RiwyWu8XW5Zl3iV94XhK6sOeefSk1wJmH0
	 8cqF3FWn2OEqxuOHc/ljp2OfNenIkRWSfG3QhW80=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1727071 - in /httpd/httpd/trunk: CHANGES include/http_connection.h server/connection.c server/mpm/event/event.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56AB6141.6020109@apache.org>
Date: Fri, 29 Jan 2016 14:16:22 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <034CCE28-F0AF-424E-899F-133C4C15A4D1@greenbytes.de>
References: <20160127145153.585553A0873@svn01-us-west.apache.org> <56A8E47A.9050903@apache.org> <56AB6141.6020109@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> Am 29.01.2016 um 13:55 schrieb Ruediger Pluem <rpluem@apache.org>:
>=20
>=20
>=20
> On 01/27/2016 04:38 PM, Ruediger Pluem wrote:
>>=20
>>=20
>> On 01/27/2016 03:51 PM, icing@apache.org wrote:
>>> Author: icing
>>> Date: Wed Jan 27 14:51:53 2016
>>> New Revision: 1727071
>>>=20
>>> URL: http://svn.apache.org/viewvc?rev=3D1727071&view=3Drev
>>> Log:
>>> new hook pre_close_connection
>>>=20
>>> Modified:
>>>    httpd/httpd/trunk/CHANGES
>>>    httpd/httpd/trunk/include/http_connection.h
>>>    httpd/httpd/trunk/server/connection.c
>>>    httpd/httpd/trunk/server/mpm/event/event.c
>>>=20
>>=20
>>=20
>>> Modified: httpd/httpd/trunk/server/connection.c
>>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/server/connection.c?rev=3D1=
727071&r1=3D1727070&r2=3D1727071&view=3Ddiff
>>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>>> --- httpd/httpd/trunk/server/connection.c (original)
>>> +++ httpd/httpd/trunk/server/connection.c Wed Jan 27 14:51:53 2016
>>=20
>>> @@ -92,6 +95,17 @@ AP_CORE_DECLARE(void) ap_flush_conn(conn
>>>     (void)ap_shutdown_conn(c, 1);
>>> }
>>>=20
>>> +AP_DECLARE(int) ap_prep_lingering_close(conn_rec *c)
>>> +{
>>> +    /* Give protocol handlers one last chance to raise their voice =
*/
>>> +    ap_run_pre_close_connection(c);
>>> +   =20
>>> +    if (c->sbh) {
>>> +        ap_update_child_status(c->sbh, SERVER_CLOSING, NULL);
>>> +    }
>>> +    return 0;
>>> +}
>>> +
>>> /* we now proceed to read from the client until we get EOF, or until
>>>  * MAX_SECS_TO_LINGER has passed.  The reasons for doing this are
>>>  * documented in a draft:
>>> @@ -112,10 +126,10 @@ AP_DECLARE(int) ap_start_lingering_close
>>>         return 1;
>>>     }
>>>=20
>>> -    if (c->sbh) {
>>> -        ap_update_child_status(c->sbh, SERVER_CLOSING, NULL);
>>> +    if (!ap_prep_lingering_close(c)) {
>>=20
>> This is always true. So effectively we disable the code below.
>>=20
>>> +        return 1;
>>>     }
>>> -
>>> +   =20
>>>     /* Close the connection, being careful to send out whatever is =
still
>>>      * in our buffers.  If possible, try to avoid a hard close until =
the
>>>      * client has ACKed our FIN and/or has stopped sending us data.
>>>=20
>=20
> And in effect this now causes the following failures in the test =
suite:
>=20
> t/apache/chunkinput.t             (Wstat: 13 Tests: 22 Failed: 0)
>  Non-zero wait status: 13
>  Parse errors: Bad plan.  You planned 37 tests but ran 22.
> t/apache/pr35292.t                (Wstat: 0 Tests: 3 Failed: 1)
>  Failed test:  2
> t/ssl/headers.t                   (Wstat: 0 Tests: 3 Failed: 3)
>  Failed tests:  1-3

Fixed in r1727573. Did not see the chunkinput failures, but the other =
ones on OS X.=20

-Stefan=

From dev-return-85356-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 29 14:49:44 2016
Return-Path: <dev-return-85356-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DEB1A171B6
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 29 Jan 2016 14:49:44 +0000 (UTC)
Received: (qmail 7325 invoked by uid 500); 29 Jan 2016 14:49:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 7247 invoked by uid 500); 29 Jan 2016 14:49:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 7231 invoked by uid 99); 29 Jan 2016 14:49:31 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Jan 2016 14:49:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 72A2CC13F6
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 14:49:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id AKw7QCno_L45 for <dev@httpd.apache.org>;
	Fri, 29 Jan 2016 14:49:22 +0000 (UTC)
Received: from resqmta-po-08v.sys.comcast.net (resqmta-po-08v.sys.comcast.net [96.114.154.167])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 8A33620426
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 14:49:22 +0000 (UTC)
Received: from resomta-po-13v.sys.comcast.net ([96.114.154.237])
	by resqmta-po-08v.sys.comcast.net with comcast
	id BqpJ1s00157bBgG01qpNg0; Fri, 29 Jan 2016 14:49:22 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-13v.sys.comcast.net with comcast
	id BqpA1s00L2U0RYt01qpBr3; Fri, 29 Jan 2016 14:49:11 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: event mpm and slave connections
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <EA7D420F-B62E-4C06-A2F6-94661AE1E4DB@greenbytes.de>
Date: Fri, 29 Jan 2016 09:49:10 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <8DB2BD1A-E4BC-4664-85CE-E6C8B5BCD361@jaguNET.com>
References: <EA7D420F-B62E-4C06-A2F6-94661AE1E4DB@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1454078962;
	bh=ljYn5msbuqgCA6zujWBGqTOhQrhnCa1Hi+pSf05Te0g=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=uf873VjElVjZ4dMRvpkg+5rvItvGv9r4HYUImxOs+eezEblbo4fj+XgaA9AwheTki
	 7rNBjmQ0BBMKiwxrPoC0HFH/5Uq5zTZMXPwZDR0hd24YGS2iRCfdeu4nZ99VLGatTD
	 dC+HT8Y00YReRU0xyhdGywXFm6dw/qHZCxd6CSYsGGRiusKMtMuVj6pY7iTGFFMg+L
	 EsyMcsRLtCf80D22TkUWGH2p/DbDikZLxghLuKypGOqn5ql9ymMieHgKQzH8V4gPNB
	 UueTkcfVD2XtIEVgctTOh4Dqg9Kj4m7RrFkKeDEPgWLXIi4U/nBrQK6lvqUwOLmQZC
	 Gf6B/s9E1PLDg==

Looks good to me... If it results in problems or issues,
we'll fix 'em as the come along ;)

> On Jan 29, 2016, at 8:01 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
> I would like to propose some additions to event that help me get rid =
of two ugly hacks in mod_http2:
>=20
> 1. Initialization of slave connections
>   event registers on pre_connection hook and checks if c is a slave =
(c->master) and if the connection state is either not there or the same =
as master (pointer copy). It then sets up a new cs using the slave =
connection pool.
>=20
> 2. Initialization of server config
>   event keeps in its private connection state parts the server =
configuration (queues for timeouts and keepalives) that are unique to =
each server because of Timeout and KeepAliveTimeout settings. Normally, =
theses are set on post_read_request hooks which is fine and well. On =
master connections however, these hooks may never get called so the =
server config remains stuck on the connections base server.
>   In the case of SNI however, we know which server this connection is =
intended for and should use its Timeouts. This is done by installing an =
early protocol_switch hook that sees connections updates and server_rec =
and initializes its connection state accordingly.
>=20
> Please vote on the attached patch. I do not want to mess with event =
without having some moral backup...
>=20
> -Stefan
>=20
> <event_fix_slaves.patch>


From dev-return-85357-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 29 15:33:52 2016
Return-Path: <dev-return-85357-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E8DD9173B5
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 29 Jan 2016 15:33:51 +0000 (UTC)
Received: (qmail 45342 invoked by uid 500); 29 Jan 2016 15:33:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 45276 invoked by uid 500); 29 Jan 2016 15:33:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45266 invoked by uid 99); 29 Jan 2016 15:33:51 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Jan 2016 15:33:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D9532180633
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 15:33:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 9waTIrJoHH0W for <dev@httpd.apache.org>;
	Fri, 29 Jan 2016 15:33:39 +0000 (UTC)
Received: from mail-ig0-f173.google.com (mail-ig0-f173.google.com [209.85.213.173])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 3222331AA9
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 15:33:39 +0000 (UTC)
Received: by mail-ig0-f173.google.com with SMTP id mw1so36244123igb.1
        for <dev@httpd.apache.org>; Fri, 29 Jan 2016 07:33:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=fE/lplsPbBKpyB6vJRZhzFaAhpkXdDreKNef7C7LzDk=;
        b=wwehrUuQvXmpt5vkOc7XkpZIoo6rv8yRkTw84pvtPQbJO7weuXohKFgL/x9xDwGJhL
         1qhqCrfNf86ahd6HGYOVn0gOGjBxJishZ8Oac2sc16hwrTYLntmNg5lW1BNzzn4rufhi
         DmNPQdGDsVaJrxk9YWTIpvNT+buA/q45vGM8J5pqOXIU9kNlLYl4XOCo7TJoHHex8iFk
         BiQxVi7KTOs+brOfX6u3BLM606ieCzX04ya2aspn4IedJBdRvQNgTR81wvtfgflvxxkx
         xWBHznyrG0lLlLB88EJk3sOGyJcVNd496z5lxAAa8TYD+P2maPksHHzOagySMC8M6iDL
         HndA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=fE/lplsPbBKpyB6vJRZhzFaAhpkXdDreKNef7C7LzDk=;
        b=CuuJAJg3dwhm0NoheBu2ZerSVCTbm48eageYu69e5zA0iwGOSvxRhTMLdlOXkDyAej
         wNg5E77T8acj6pEDF8XE+5m087a4cD7JP6A9O24BV8+8VqOvPJ5KTLzeq3JpSGs/G8I1
         9Ta124TS+XMZXpgIsa2MtJGjZXoaV82g4sVxK4+dBCy7VMjVTFHBGW8zlqQfSW+3/VMS
         ZJ3pQLyYyaC7nJ+Gh/AK3Bu99GAiSURGjX6ZO/wp1wBBAukgPOjepy6m8ctlNyB6yThe
         sDxkfgX33wGkN9FJKBd9MIYBTSPoAAyDG6qi+Es/MOOXIgX2GM1GYtiwoWot6P6ZnMtw
         DPsg==
X-Gm-Message-State: AG10YORffw5TcjAWIYOGExCPyZgy9PnhItRs5GQYjDdkg8mR4pxHZ9qehsxcs60qms+URZaXyZ1esbSKYkX41w==
MIME-Version: 1.0
X-Received: by 10.50.30.134 with SMTP id s6mr9794305igh.36.1454081618143; Fri,
 29 Jan 2016 07:33:38 -0800 (PST)
Received: by 10.64.72.6 with HTTP; Fri, 29 Jan 2016 07:33:38 -0800 (PST)
In-Reply-To: <8DB2BD1A-E4BC-4664-85CE-E6C8B5BCD361@jaguNET.com>
References: <EA7D420F-B62E-4C06-A2F6-94661AE1E4DB@greenbytes.de>
	<8DB2BD1A-E4BC-4664-85CE-E6C8B5BCD361@jaguNET.com>
Date: Fri, 29 Jan 2016 10:33:38 -0500
Message-ID: <CALK=YjNgaRtkGGxrnr3yqOteRAhC-xTBSKVq55EVE6t7nZgsyw@mail.gmail.com>
Subject: Re: event mpm and slave connections
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Ditto, didn't see anything controversial.

On Fri, Jan 29, 2016 at 9:49 AM, Jim Jagielski <jim@jagunet.com> wrote:
> Looks good to me... If it results in problems or issues,
> we'll fix 'em as the come along ;)
>
>> On Jan 29, 2016, at 8:01 AM, Stefan Eissing <stefan.eissing@greenbytes.d=
e> wrote:
>>
>> I would like to propose some additions to event that help me get rid of =
two ugly hacks in mod_http2:
>>
>> 1. Initialization of slave connections
>>   event registers on pre_connection hook and checks if c is a slave (c->=
master) and if the connection state is either not there or the same as mast=
er (pointer copy). It then sets up a new cs using the slave connection pool=
.
>>
>> 2. Initialization of server config
>>   event keeps in its private connection state parts the server configura=
tion (queues for timeouts and keepalives) that are unique to each server be=
cause of Timeout and KeepAliveTimeout settings. Normally, theses are set on=
 post_read_request hooks which is fine and well. On master connections howe=
ver, these hooks may never get called so the server config remains stuck on=
 the connections base server.
>>   In the case of SNI however, we know which server this connection is in=
tended for and should use its Timeouts. This is done by installing an early=
 protocol_switch hook that sees connections updates and server_rec and init=
ializes its connection state accordingly.
>>
>> Please vote on the attached patch. I do not want to mess with event with=
out having some moral backup...
>>
>> -Stefan
>>
>> <event_fix_slaves.patch>
>



--=20
Eric Covener
covener@gmail.com

From dev-return-85358-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jan 29 17:44:59 2016
Return-Path: <dev-return-85358-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9042817B50
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 29 Jan 2016 17:44:59 +0000 (UTC)
Received: (qmail 51129 invoked by uid 500); 29 Jan 2016 17:44:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51044 invoked by uid 500); 29 Jan 2016 17:44:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51034 invoked by uid 99); 29 Jan 2016 17:44:50 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Jan 2016 17:44:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E3C1CC1328
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 17:44:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.998
X-Spam-Level: **
X-Spam-Status: No, score=2.998 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=3,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id eYGYOE5Rr5C8 for <dev@httpd.apache.org>;
	Fri, 29 Jan 2016 17:44:48 +0000 (UTC)
Received: from mail-io0-f172.google.com (mail-io0-f172.google.com [209.85.223.172])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5EE9620426
	for <dev@httpd.apache.org>; Fri, 29 Jan 2016 17:44:48 +0000 (UTC)
Received: by mail-io0-f172.google.com with SMTP id d63so79566656ioj.2
        for <dev@httpd.apache.org>; Fri, 29 Jan 2016 09:44:48 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=oBf/WxnrckmLFbkDre/qd50mET9ztGjRAQ2F8VrLzKo=;
        b=ocrQWQnCczMVqBdwYp+BEv/pjO/CBvpOoyG1OlACcf2prTUV2yNlCviXGq0SFyn9J0
         pZBzhVAmEyhlNJErw6LS13kBy4Qlvhh6kHBLMXh6L+r89iRtVXcP6l0Z3p6iUNJ5ErGM
         8+ah6rbu9bUsN/UMbpNm0UBjK3k6j3M8yruChKwJzxJJGTim61iNeMKAF+kRfDj8JXmN
         8W80EsYY7zZptwBLjUD3O4qvfu6vwbyAZquBNR7+lhS+e3dk4fgWbb5PE9cUo+4IEaAP
         oRSVMA68i6jRbru0IeyGHEmpWpZGDgLoGbxrMUsTmakpo5+dGjb1tfL8BIS0cunJ5bP9
         G44Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=oBf/WxnrckmLFbkDre/qd50mET9ztGjRAQ2F8VrLzKo=;
        b=LyIwqMZ2gEretAumG9yumWsizLftbAfoRCVA3pn1uHQ2q23uLK8C+onHSgNbO3zcqb
         ypvh7+rPy1nEfXKis9bAv2nOSgYYBYRVjJ7umdWTZDqhued2dsNBtuH+CIZ9M56vesoa
         1rCuzlf8emeN+HsqL94qCs1BJZeSOJI18p4pSwY5jKgv1/xYYtc0odnG4/oeXBN5Xnjm
         mFzjN0QD+OSCGiooeLR3Ch/ByXQZfnY06QH2Pu2MmSCL4IHJvMuILBi6G12JQp1YQKiP
         aZqDKXdsxDB7FRJ9RVi2nffk4aQBnXY4De5eZ9gU+tspPzjDqoSPval1RfAaOIVDGq5r
         pmYA==
X-Gm-Message-State: AG10YOSjvrEUYAWQ/xlh2GvyBWgjLC5oVYEGxfEW97U4MiKpIabvi2juNCl9+IqZx8Aw8crOXltvWkEhCt/Mufyg
MIME-Version: 1.0
X-Received: by 10.107.34.133 with SMTP id i127mr11689421ioi.150.1454089487778;
 Fri, 29 Jan 2016 09:44:47 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Fri, 29 Jan 2016 09:44:47 -0800 (PST)
In-Reply-To: <CAL7UUk_z-CgL1255w8ScgUW+oFtpuybvzoK_kQykbQNv025N_g@mail.gmail.com>
References: <CAL7UUk-qyES+aMMSN6aBGi1rb=K3Q+pif4FbU__Lqkku7f2t0w@mail.gmail.com>
	<CACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com>
	<CAL7UUk_z-CgL1255w8ScgUW+oFtpuybvzoK_kQykbQNv025N_g@mail.gmail.com>
Date: Fri, 29 Jan 2016 11:44:47 -0600
Message-ID: <CACsi251twJxjTjEbjEnFuE2x49KX-BrVi=MSAs3-7L=ypaKQ7Q@mail.gmail.com>
Subject: Re: collaboration request - apache server automation testing with
 swat tool
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1140ef84642269052a7c9792

--001a1140ef84642269052a7c9792
Content-Type: text/plain; charset=UTF-8

On Fri, Jan 29, 2016 at 6:35 AM, Alexey Melezhik <melezhik@gmail.com> wrote:

> Hi Bill!
>
> Any news? ( Please see my previous reply ...)
> Intr


Intrigued :)  But my responses will be delayed, I personally
won't have time to look further myself until other backlogged
commitments to httpd are caught up some more.

Be aware many of us have only a few hours to participate in the
httpd project itself, so it will take several days or more to gather
feedback on your interest and perhaps a champion to drive such
an effort if it is actively driven from this side.  Of course that
should not stop you from assembling some ideas at the vcs of
your choice, and sharing a link for those who want to look at an
early draft of such an effort!

Cheers,

Bill

--001a1140ef84642269052a7c9792
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On F=
ri, Jan 29, 2016 at 6:35 AM, Alexey Melezhik <span dir=3D"ltr">&lt;<a href=
=3D"mailto:melezhik@gmail.com" target=3D"_blank">melezhik@gmail.com</a>&gt;=
</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .=
8ex;border-left:1px #ccc solid;padding-left:1ex">Hi Bill!<br>
<br>
Any news? ( Please see my previous reply ...)<br>Intr</blockquote><div><br>=
</div><div>Intrigued :) =C2=A0But my responses will be delayed, I personall=
y=C2=A0</div><div>won&#39;t have time to look further myself until other ba=
cklogged=C2=A0</div><div>commitments to httpd are caught up some more.</div=
></div><br></div><div class=3D"gmail_extra">Be aware many of us have only a=
 few hours to participate in the</div><div class=3D"gmail_extra">httpd proj=
ect itself, so it will take several days or more to gather</div><div class=
=3D"gmail_extra">feedback on your interest and perhaps a champion to drive =
such</div><div class=3D"gmail_extra">an effort if it is actively driven fro=
m this side.=C2=A0 Of course that</div><div class=3D"gmail_extra">should no=
t stop you from assembling some ideas at the vcs of</div><div class=3D"gmai=
l_extra">your choice, and sharing a link for those who want to look at an</=
div><div class=3D"gmail_extra">early draft of such an effort!</div><div cla=
ss=3D"gmail_extra"><br></div><div class=3D"gmail_extra">Cheers,</div><div c=
lass=3D"gmail_extra"><br></div><div class=3D"gmail_extra">Bill</div></div>

--001a1140ef84642269052a7c9792--

From dev-return-85359-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jan 30 05:04:54 2016
Return-Path: <dev-return-85359-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B3AA218827
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 30 Jan 2016 05:04:54 +0000 (UTC)
Received: (qmail 86456 invoked by uid 500); 30 Jan 2016 05:04:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86379 invoked by uid 500); 30 Jan 2016 05:04:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86359 invoked by uid 99); 30 Jan 2016 05:04:54 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 30 Jan 2016 05:04:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id A8B1E1A0730
	for <dev@httpd.apache.org>; Sat, 30 Jan 2016 05:04:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.999
X-Spam-Level: **
X-Spam-Status: No, score=2.999 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=3,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Vin5mUdSu7Vq for <dev@httpd.apache.org>;
	Sat, 30 Jan 2016 05:04:46 +0000 (UTC)
Received: from mail-io0-f176.google.com (mail-io0-f176.google.com [209.85.223.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D165D258C7
	for <dev@httpd.apache.org>; Sat, 30 Jan 2016 05:04:45 +0000 (UTC)
Received: by mail-io0-f176.google.com with SMTP id d63so92528538ioj.2
        for <dev@httpd.apache.org>; Fri, 29 Jan 2016 21:04:45 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=PIKajNVd0kbNWbJALB9RrzFRlGE3U6n/kfj57uyasio=;
        b=hjApiKui3haRgL5zGNrGkFkafaKZ2uO9sFlqN1aEdoN7T2mSABhpL3jkdJqZu27QOE
         IgGVwd+ngY2gp1yKAu4O1ciuJ0VbEbg4HQemeY2X0sdQPQmESojl6ZjeA+9xNFsFHjOn
         35xxCplKEq1KuH4zXcHSEV1cnxZ34oWvspZMP8eG9KAvWSrfGeQXjCUaNX/AykYaEAIG
         dJ5b4bG7EGLwHayw5sxD6MD7F+1h0nridaMf+3ynjaJ7SJuO8u0If1+Nf2YlBighkrsY
         YquLYvbrKzp+6qVNxtR0l54RB05GmQBHB59keXEUvxsgogbYVrNP6aalSnJPB5ryPfu4
         MqCQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=PIKajNVd0kbNWbJALB9RrzFRlGE3U6n/kfj57uyasio=;
        b=EgxVOH8rPkacIf3ZMNpbhh1CZwpaahX9heWGh8APo67XZBkH3H14vqRrcs5t4jk+sC
         Z53qUwPBVsb0Yd614rO+mFx8ZqNKJEI7QuusDzm3uGjj+TYyuEq2ScpZVLwrl52NiiJw
         Jt6Ufyz7bR8AItUie8NFQ1kJqjcbsRPOQ3fQW7XYTx+mQKs07QKtsxePgTSJHg6cddz4
         QuL22afb6ED8IYLB4L0oBStzbd7YMHVM5xiXhC2XUpbEAURqmbLOOO65exsEDOTDtwtf
         xwBE+iRPYDUOZjpOltJp/2Y2YnMe1Z/QfzBWn3wRmityks23Nd3ro2MUw3zOmdlkBYoq
         71mg==
X-Gm-Message-State: AG10YORXdli3f8HCcCJEpVS9hr6kE5PXhtdHaz+lQ0WuS+VP5xx++McLHZ4dfDJ1lvBF9p6K4r1McRUgORt6FIff
MIME-Version: 1.0
X-Received: by 10.107.34.133 with SMTP id i127mr13935369ioi.150.1454130279504;
 Fri, 29 Jan 2016 21:04:39 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Fri, 29 Jan 2016 21:04:39 -0800 (PST)
In-Reply-To: <EA7D420F-B62E-4C06-A2F6-94661AE1E4DB@greenbytes.de>
References: <EA7D420F-B62E-4C06-A2F6-94661AE1E4DB@greenbytes.de>
Date: Fri, 29 Jan 2016 23:04:39 -0600
Message-ID: <CACsi253R7TNHF_xyYCURgMQ6YM7fcJVkUtxyE_=xuUwbFhYDPA@mail.gmail.com>
Subject: Re: event mpm and slave connections
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1140ef84c47a2d052a861675

--001a1140ef84c47a2d052a861675
Content-Type: text/plain; charset=UTF-8

If you can give me a few days (not httpd'ing again until
late Sun eve) - this is very close to the issues we have
in mod_ftp with the data connection/request aside the
control connection.  The right patch will improve both
sets of dirty hacks :)

Thanks for the proposal!

Bill

On Fri, Jan 29, 2016 at 7:01 AM, Stefan Eissing <
stefan.eissing@greenbytes.de> wrote:

> I would like to propose some additions to event that help me get rid of
> two ugly hacks in mod_http2:
>
> 1. Initialization of slave connections
>    event registers on pre_connection hook and checks if c is a slave
> (c->master) and if the connection state is either not there or the same as
> master (pointer copy). It then sets up a new cs using the slave connection
> pool.
>
> 2. Initialization of server config
>    event keeps in its private connection state parts the server
> configuration (queues for timeouts and keepalives) that are unique to each
> server because of Timeout and KeepAliveTimeout settings. Normally, theses
> are set on post_read_request hooks which is fine and well. On master
> connections however, these hooks may never get called so the server config
> remains stuck on the connections base server.
>    In the case of SNI however, we know which server this connection is
> intended for and should use its Timeouts. This is done by installing an
> early protocol_switch hook that sees connections updates and server_rec and
> initializes its connection state accordingly.
>
> Please vote on the attached patch. I do not want to mess with event
> without having some moral backup...
>
> -Stefan
>
>

--001a1140ef84c47a2d052a861675
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">If you can give me a few days (not httpd&#39;ing again unt=
il=C2=A0<div>late Sun eve) - this is very close to the issues we have</div>=
<div>in mod_ftp with the data connection/request aside the</div><div>contro=
l connection.=C2=A0 The right patch will improve both</div><div>sets of dir=
ty hacks :)</div><div><br></div><div>Thanks for the proposal!</div><div><br=
></div><div>Bill</div></div><div class=3D"gmail_extra"><br><div class=3D"gm=
ail_quote">On Fri, Jan 29, 2016 at 7:01 AM, Stefan Eissing <span dir=3D"ltr=
">&lt;<a href=3D"mailto:stefan.eissing@greenbytes.de" target=3D"_blank">ste=
fan.eissing@greenbytes.de</a>&gt;</span> wrote:<br><blockquote class=3D"gma=
il_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-lef=
t:1ex">I would like to propose some additions to event that help me get rid=
 of two ugly hacks in mod_http2:<br>
<br>
1. Initialization of slave connections<br>
=C2=A0 =C2=A0event registers on pre_connection hook and checks if c is a sl=
ave (c-&gt;master) and if the connection state is either not there or the s=
ame as master (pointer copy). It then sets up a new cs using the slave conn=
ection pool.<br>
<br>
2. Initialization of server config<br>
=C2=A0 =C2=A0event keeps in its private connection state parts the server c=
onfiguration (queues for timeouts and keepalives) that are unique to each s=
erver because of Timeout and KeepAliveTimeout settings. Normally, theses ar=
e set on post_read_request hooks which is fine and well. On master connecti=
ons however, these hooks may never get called so the server config remains =
stuck on the connections base server.<br>
=C2=A0 =C2=A0In the case of SNI however, we know which server this connecti=
on is intended for and should use its Timeouts. This is done by installing =
an early protocol_switch hook that sees connections updates and server_rec =
and initializes its connection state accordingly.<br>
<br>
Please vote on the attached patch. I do not want to mess with event without=
 having some moral backup...<br>
<span class=3D"HOEnZb"><font color=3D"#888888"><br>
-Stefan<br>
<br>
</font></span></blockquote></div><br></div>

--001a1140ef84c47a2d052a861675--

From dev-return-85360-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jan 30 18:36:17 2016
Return-Path: <dev-return-85360-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 55487177C4
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 30 Jan 2016 18:36:17 +0000 (UTC)
Received: (qmail 62828 invoked by uid 500); 30 Jan 2016 18:36:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62737 invoked by uid 500); 30 Jan 2016 18:36:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62727 invoked by uid 99); 30 Jan 2016 18:36:16 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 30 Jan 2016 18:36:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 720FC1A0041
	for <dev@httpd.apache.org>; Sat, 30 Jan 2016 18:36:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.9
X-Spam-Level: *
X-Spam-Status: No, score=1.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_BADIPHTTP=2, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id hZ7jKWRH-xCo for <dev@httpd.apache.org>;
	Sat, 30 Jan 2016 18:36:06 +0000 (UTC)
Received: from mail-wm0-f54.google.com (mail-wm0-f54.google.com [74.125.82.54])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id F412D429C7
	for <dev@httpd.apache.org>; Sat, 30 Jan 2016 18:36:05 +0000 (UTC)
Received: by mail-wm0-f54.google.com with SMTP id p63so20354502wmp.1
        for <dev@httpd.apache.org>; Sat, 30 Jan 2016 10:36:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=eedyxwJGeQQNv/grT+qKQ52MYBNsiXQMEj5EyaFJgTc=;
        b=GLtGfwLrQQXM3gIfjf0iF2y75rOxckj9Kb+kMBKe0DjG953XqAAKlr/RQtPqy+BMGU
         RMBGiBuB6sVR/XXMh9TaRJ+BSx1MeAp5LbG7grHl7il2L1V3JjCNvl5wmoleZAVsHT29
         IPqTgTJTX/edaEAv679/iKR2Pib380KpcHXlokX7iSMskNaAQZ9GYu1WbDWp1GYdwyH/
         Kx3u9NgvYLzkawQMlF1gHuKIxG+lXmcDB4B/H9cQ+jC3UveP9CvF6b/7pFIajt8nXC94
         aGvm1tCICmTLyWkPPzZLiJYv8oxLWZ1d+OE23TJJLQEgGPPIxC8I8Wb8r1keCFfexOol
         Uy+Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=eedyxwJGeQQNv/grT+qKQ52MYBNsiXQMEj5EyaFJgTc=;
        b=Qd86wGeOqzm32uEGjME0A6bEyVAdPZxKFIH+3BBzkjnvoS+L8jkg1es6ssOz26crVZ
         lp0DtJXVIJD+nizGNAgMpEhJ582/Z3/nAAGQ140E2JPbOHqAxfa+JAPvzd+g7k8k6qIU
         cgvFCeBeWYTEVHXja6b7qKIduCK6EeoJc++zMsrtul7EeeaDzJg4IsBMTf8NL4OzAtUr
         GHBV2e+obGq8pzqMZFQ1BMCuT+L1R64Q9yDp8ko5vB9DokXIgcaXUNxO9wHojqiCAkSj
         2U28M4W8v+KvoDiN7SZQlAdGnvq7J7vgntP989fDENl7/ouFCzZFPIon1ijin2hSry8C
         nc7Q==
X-Gm-Message-State: AG10YOQuO9e3Gqgj1jtO4EdbP+3Jf+YJlHO6KukIxcwwOTTknd4fGUNOoUcO4Y01jl5+iBIU1MV7mIu0gXox0Q==
MIME-Version: 1.0
X-Received: by 10.194.6.98 with SMTP id z2mr14491690wjz.101.1454178964914;
 Sat, 30 Jan 2016 10:36:04 -0800 (PST)
Received: by 10.194.37.198 with HTTP; Sat, 30 Jan 2016 10:36:04 -0800 (PST)
In-Reply-To: <CACsi251twJxjTjEbjEnFuE2x49KX-BrVi=MSAs3-7L=ypaKQ7Q@mail.gmail.com>
References: <CAL7UUk-qyES+aMMSN6aBGi1rb=K3Q+pif4FbU__Lqkku7f2t0w@mail.gmail.com>
	<CACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com>
	<CAL7UUk_z-CgL1255w8ScgUW+oFtpuybvzoK_kQykbQNv025N_g@mail.gmail.com>
	<CACsi251twJxjTjEbjEnFuE2x49KX-BrVi=MSAs3-7L=ypaKQ7Q@mail.gmail.com>
Date: Sat, 30 Jan 2016 21:36:04 +0300
Message-ID: <CAL7UUk_1rvLqgNsOMKN-1GxeBWXb2Q3XVAjbbn4+1th9GdAOcw@mail.gmail.com>
Subject: Re: collaboration request - apache server automation testing with
 swat tool
From: Alexey Melezhik <melezhik@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Bill!

I have started to assemble swat tests  for apache2 issues coming from
https://bz.apache.org/bugzilla

And this the first one - https://bz.apache.org/bugzilla/show_bug.cgi?id=44221 ,

Test suite is failed for the moment :


vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ swat -t 44221
/home/vagrant/.swat/.cache/384/prove/44221/foo.baz/00.GET.t ...
ok 1 - GET 127.0.0.1/44221/foo.baz succeeded
# http headers saved to /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ.hdr
# body saved to /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ
ok 2 - output match '200 OK'
1..2
ok
/home/vagrant/.swat/.cache/384/prove/44221/FOO.bar/00.GET.t ...
ok 1 - GET 127.0.0.1/44221/FOO.bar succeeded
# http headers saved to /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe.hdr
# body saved to /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe
ok 2 - output match '200 OK'
ok 3 - output match /Location: \S+/
ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
1..4
ok
/home/vagrant/.swat/.cache/384/prove/44221/foo.BAR/00.GET.t ...
ok 1 - GET 127.0.0.1/44221/foo.BAR succeeded
# http headers saved to /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ.hdr
# body saved to /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ
ok 2 - output match '200 OK'
ok 3 - output match /Location: \S+/
ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
1..4
ok
/home/vagrant/.swat/.cache/384/prove/44221/foo.bar/00.GET.t ...
ok 1 - GET 127.0.0.1/44221/foo.bar succeeded
# http headers saved to /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv.hdr
# body saved to /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv
ok 2 - output match '200 OK'
1..2
ok
/home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t ..
ok 1 - GET 127.0.0.1/44221/foo.html succeeded
# http headers saved to /home/vagrant/.swat/.cache/384/prove/tW2L511eym.hdr
# body saved to /home/vagrant/.swat/.cache/384/prove/tW2L511eym
ok 2 - output match /HTTP\/(\S+) (\d+) \S+/
not ok 3 - 'HTTP/1.1 300 Multiple Choices' match /404 /

#   Failed test ''HTTP/1.1 300 Multiple Choices' match /404 /'
#   at /usr/local/share/perl/5.20.2/swat.pm line 218.
not ok 4 - output match 'Not Found'

#   Failed test 'output match 'Not Found''
#   at /usr/local/share/perl/5.20.2/swat.pm line 218.
1..4
# Looks like you failed 2 tests of 4.
Dubious, test returned 2 (wstat 512, 0x200)
Failed 2/4 subtests

Test Summary Report
-------------------
/home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t (Wstat:
512 Tests: 4 Failed: 2)
  Failed tests:  3-4
  Non-zero exit status: 2
Files=5, Tests=16,  0 wallclock secs ( 0.03 usr  0.00 sys +  0.27 cusr
 0.00 csys =  0.30 CPU)
Result: FAIL

...

Ok, this is just the beginning ;-))) , watch soon updates at -
https://github.com/melezhik/apache-swat

2016-01-29 20:44 GMT+03:00 William A Rowe Jr <wrowe@rowe-clan.net>:
> On Fri, Jan 29, 2016 at 6:35 AM, Alexey Melezhik <melezhik@gmail.com> wrote:
>>
>> Hi Bill!
>>
>> Any news? ( Please see my previous reply ...)
>> Intr
>
>
> Intrigued :)  But my responses will be delayed, I personally
> won't have time to look further myself until other backlogged
> commitments to httpd are caught up some more.
>
> Be aware many of us have only a few hours to participate in the
> httpd project itself, so it will take several days or more to gather
> feedback on your interest and perhaps a champion to drive such
> an effort if it is actively driven from this side.  Of course that
> should not stop you from assembling some ideas at the vcs of
> your choice, and sharing a link for those who want to look at an
> early draft of such an effort!
>
> Cheers,
>
> Bill

From dev-return-85361-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jan 31 00:00:00 2016
Return-Path: <dev-return-85361-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 07D3A17F53
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 31 Jan 2016 00:00:00 +0000 (UTC)
Received: (qmail 85007 invoked by uid 500); 30 Jan 2016 23:59:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84944 invoked by uid 500); 30 Jan 2016 23:59:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84934 invoked by uid 99); 30 Jan 2016 23:59:59 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 30 Jan 2016 23:59:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D02EF180475
	for <dev@httpd.apache.org>; Sat, 30 Jan 2016 23:59:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.8
X-Spam-Level:
X-Spam-Status: No, score=0.8 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id VMYNOHVKQ2Cr for <dev@httpd.apache.org>;
	Sat, 30 Jan 2016 23:59:53 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 940E042A26
	for <dev@httpd.apache.org>; Sat, 30 Jan 2016 23:59:53 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 9C07120EAB
	for <dev@httpd.apache.org>; Sun, 31 Jan 2016 00:59:51 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id I2SzhrA-7V8D for <dev@httpd.apache.org>;
	Sun, 31 Jan 2016 00:59:51 +0100 (CET)
Received: from [10.0.0.1] (CPE-121-217-101-142.lnse2.cht.bigpond.net.au [121.217.101.142])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 6CD4620632
	for <dev@httpd.apache.org>; Sun, 31 Jan 2016 00:59:50 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: Proxy_Util needs another export.
Message-ID: <56AD4E6D.2010208@gknw.net>
Date: Sun, 31 Jan 2016 10:59:41 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.0
MIME-Version: 1.0
Content-Type: multipart/mixed;
 boundary="------------010504020909030906040304"

This is a multi-part message in MIME format.
--------------010504020909030906040304
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G'Day,
Recent changes to mod_proxy_[connect/wstunnel] prompt another export 
from proxy_util. Wouldn't an awk script simplify symbol extraction from 
proxy_util and obviate the need for tweaking manual lists?

Diff also attached.
> Index: modules/proxy/NWGNUproxy
> ===================================================================
> --- modules/proxy/NWGNUproxy	(revision 1727764)
> +++ modules/proxy/NWGNUproxy	(working copy)
> @@ -274,6 +274,7 @@
>  	@echo $(DL) proxy_run_scheme_handler,$(DL)>> $@
>  	@echo $(DL) ap_proxy_acquire_connection,$(DL)>> $@
>  	@echo $(DL) ap_proxy_backend_broke,$(DL)>> $@
> +	@echo $(DL) ap_proxy_buckets_lifetime_transform$(DL)>> $@
>  	@echo $(DL) ap_proxy_c2hex,$(DL)>> $@
>  	@echo $(DL) ap_proxy_canon_netloc,$(DL)>> $@
>  	@echo $(DL) ap_proxy_canonenc,$(DL)>> $@

Could someone vet the proposed patch and apply as time allows.
Thx.
Norm

--------------010504020909030906040304
Content-Type: text/x-patch;
 name="one_more_proxy_util_exp.diff"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="one_more_proxy_util_exp.diff"

Index: modules/proxy/NWGNUproxy
===================================================================
--- modules/proxy/NWGNUproxy	(revision 1727764)
+++ modules/proxy/NWGNUproxy	(working copy)
@@ -274,6 +274,7 @@
 	@echo $(DL) proxy_run_scheme_handler,$(DL)>> $@
 	@echo $(DL) ap_proxy_acquire_connection,$(DL)>> $@
 	@echo $(DL) ap_proxy_backend_broke,$(DL)>> $@
+	@echo $(DL) ap_proxy_buckets_lifetime_transform$(DL)>> $@
 	@echo $(DL) ap_proxy_c2hex,$(DL)>> $@
 	@echo $(DL) ap_proxy_canon_netloc,$(DL)>> $@
 	@echo $(DL) ap_proxy_canonenc,$(DL)>> $@

--------------010504020909030906040304--

From dev-return-85362-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jan 31 07:15:18 2016
Return-Path: <dev-return-85362-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5274818601
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 31 Jan 2016 07:15:18 +0000 (UTC)
Received: (qmail 21588 invoked by uid 500); 31 Jan 2016 07:15:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21520 invoked by uid 500); 31 Jan 2016 07:15:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21511 invoked by uid 99); 31 Jan 2016 07:15:17 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 31 Jan 2016 07:15:17 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id 39E1F1A0323
	for <dev@httpd.apache.org>; Sun, 31 Jan 2016 07:15:17 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id BE986603C9; Sun, 31 Jan 2016 07:15:16 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2016/01/31]
Message-Id: <20160131071516.BE986603C9@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 31 Jan 2016 07:15:06 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24437|Opn|Nor|2003-11-05|mod_auth_ldap doubly-escapes backslash (\) charact|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Enh|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37770|Opn|Blk|2005-12-03|proxy: error reading status line from remote serve|
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Inf|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|Verify that log directories exist in httpd -t conf|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|Opn|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Maj|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47650|Opn|Trv|2009-08-05|httxt2dbm calculates value size incorrectly       |
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|New|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51104|Opn|Maj|2011-04-21|C++ support about httpd_config.h                  |
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|Opn|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Blk|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Nor|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|53999|Opn|Nor|2012-10-13|Deadlock between procmgr_send_spawn_cmd()/proctabl|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|Ver|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|Inf|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|New|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|Ver|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|Ver|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|Ver|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|Ver|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Enh|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|Opn|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57895|New|Min|2015-05-05|missing m4a mimeType in mime.types                |
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
|58089|New|Nor|2015-07-01|mod_authz_host uses proxy IP even when mod_remotei|
|58097|New|Enh|2015-07-03|[feat] Preserve original connecting IP            |
|58101|New|Nor|2015-07-05|DeflateCompressionLevel inside vhost resets logfor|
|58107|New|Blk|2015-07-06|Httpd crashes on startup every time, dump file att|
|58109|New|Nor|2015-07-06|Apache on windows cannot handle the hash symbol (#|
|58118|New|Min|2015-07-09|mod_proxy_fcgi logs 503 when user aborts connectio|
|58120|New|Nor|2015-07-10|ProxyPassInherit does not work as expect          |
|58121|New|Nor|2015-07-10|ProxyHTMLMeta seems to ignore all <meta http-equiv|
|58129|New|Nor|2015-07-12|man pages are not generated correctly             |
|58132|New|Nor|2015-07-12|non-standard, non-traditional man page layout make|
|58135|New|Nor|2015-07-14|mod_cache sends client "if-Modified-Since" to back|
|58141|New|Nor|2015-07-15|Apache Service doesn't start when rotatlogs.exe pa|
|58142|New|Nor|2015-07-15|authz_core ignores loglevel                       |
|58158|New|Nor|2015-07-21|Not honoring HTTP spec with regard to Accept-Encod|
|58168|New|Enh|2015-07-21|Would like full request evaluation support in Rewr|
|58171|New|Nor|2015-07-22|ap_session_save saves the wrong session after a de|
|58177|New|Enh|2015-07-24|Mod Proxy forward trailers in http chunked request|
|58180|New|Enh|2015-07-24|ErrorDocument original URL in subsequent <Location|
|58181|New|Enh|2015-07-25|mod_expire should allow "minus" keyword same like |
|58188|New|Nor|2015-07-28|http2 mod_lua: support build with lua 5.2+        |
|58197|New|Nor|2015-07-31|apr-util-1.5.4 build against openldap - "could not|
|58225|New|Reg|2015-08-08|intermitant segfault 11 in session_identity_encode|
|58226|New|Nor|2015-08-08|XSS in Error Page                                 |
|58231|New|Nor|2015-08-11|RewriteCond can add "Host" to the Vary-Header     |
|58235|New|Enh|2015-08-12|Ability to allow from domain but with using forwar|
|58243|New|Nor|2015-08-14|rotatelogs goes infinite at startup               |
|58248|New|Nor|2015-08-17|Error 404 in use some characters of utf8 in url   |
|58257|New|Nor|2015-08-18|require ldap-group does not work if account-fullna|
|58278|Inf|Blk|2015-08-24|apache - mod_security Issue : apache no releasing |
|58280|New|Nor|2015-08-24|Backend connection not closed until timeout if cli|
|58288|New|Blk|2015-08-27|Semaphore amount increase until crash when enablin|
|58292|New|Nor|2015-08-27|FallbackResource breaks chunked encoding sometimes|
|58304|New|Nor|2015-08-30|Unexpected Warnings from Macro Use in 2.4         |
|58306|Inf|Nor|2015-08-30|documentation needs to make it clear which directi|
|58307|New|Nor|2015-08-31|Segmentation fault in child in "read(__nbytes, __b|
|58317|New|Min|2015-09-02|Error message AH01630 is missing file name on deny|
|58334|New|Min|2015-09-06|WebDAV HTTP access does not include meta tag for c|
|58335|New|Nor|2015-09-07|mod_authnz_ldap mismatch                          |
|58343|New|Nor|2015-09-08|The pdf files come up as a blank page.            |
|58354|New|Maj|2015-09-10|(20014)Internal error (specific information not av|
|58356|New|Blk|2015-09-10|Session jumping due to incorrect route            |
|58364|New|Reg|2015-09-11|Apache Server is restarted time to time (Release 2|
|58417|New|Min|2015-09-16|ApacheBench (ab) won't display Server Software of |
|58419|New|Nor|2015-09-16|ApacheBench (ab) doesn't work with keep-alives aga|
|58423|New|Reg|2015-09-17|Apache >= 2.4.8 PCRE_DUPNAMES causes build failure|
|58467|New|Maj|2015-09-29|Environment Variables in ProxyHTMLURLMap produces |
|58475|New|Nor|2015-10-03|Support append/merge with semicolon-separated head|
|58488|New|Nor|2015-10-08|Stoped PHP-FPM pool in multi-pool system with comu|
|58491|New|Maj|2015-10-09|Core dumps appear when the load increases         |
|58492|Inf|Nor|2015-10-09|I think LDAPConnectionPoolTTL is not being honored|
|58498|New|Nor|2015-10-16|Apache 2.4.17: Regression with mod_autoindex (in c|
|58500|New|Nor|2015-10-16|dav_fs not enabled by default                     |
|58503|New|Cri|2015-10-16|segfault in apr_brigade_cleanup() under high load |
|58509|New|Trv|2015-10-20|2.4.17-dev introduces second core.c handler at sta|
|58524|New|Nor|2015-10-23|mod_http2 segfaults when under heavy load         |
|58528|New|Nor|2015-10-23|AllowOverrideList None gets misparsed and .htacces|
|58529|New|Maj|2015-10-23|Segmentation fault after modifying a proxy Balance|
|58550|New|Enh|2015-10-26|During load, Apache 2.2.x with prefork MPM didn|
|58574|New|Nor|2015-11-02|Apache error AH01630 (client denied) but working  |
|58593|New|Nor|2015-11-06|mod_proxy wrong decision between http and ws      |
|58598|New|Enh|2015-11-08|Internal Server Error (500) when requesting non-ex|
|58602|New|Nor|2015-11-11|Priority issue on DirectoryMatch directive        |
|58604|New|Reg|2015-11-12|Plaintext auth broken in any Explicit FTP/AUTH TLS|
|58612|New|Min|2015-11-16|mod_webdav when write_stream failed should break a|
|58669|New|Nor|2015-11-30|Order of DBDInitSQL and DBDPrepareSQL             |
|58688|New|Nor|2015-12-03|Missing mod_ssl connection-level upgrade headers f|
|58700|New|Nor|2015-12-07|Apache logs not working with mod_remoteip and X-fo|
|58720|New|Enh|2015-12-11|querying server status stalls when scoreboard is f|
|58727|New|Min|2015-12-13|Directories with a ProxyPass directive are not dis|
|58732|New|Nor|2015-12-14|Error Log isn't writing When Apache Shutdown with |
|58739|New|Cri|2015-12-15|Undocumented behavior of REDIRECT_URL and REDIRECT|
|58777|New|Enh|2015-12-28|URLs containing a ? are assumed to be query string|
|58789|New|Nor|2016-01-03|header set multiple htaccess                      |
|58798|New|Nor|2016-01-04|Misleading terminology                            |
|58799|New|Nor|2016-01-04|mod_fcgid: FcgidMinProcessesPerClass doesn't seem |
|58803|New|Cri|2016-01-05|HTTP connection is getting closed after 5 mins ( R|
|58806|New|Maj|2016-01-05|HTTP/2 appears to keep workers in KEEPALIVE status|
|58825|Inf|Nor|2016-01-08|Upload really big files with PUT method and XMLHTT|
|58826|New|Cri|2016-01-08|OCSP Stapling does not resolve DNS                |
|58828|New|Maj|2016-01-08|LA-U variables not set depending on the URI       |
|58834|New|Nor|2016-01-11|ModRewrite fails with .php urls and FPM on Apache |
|58842|New|Nor|2016-01-12|mod_proxy DNS cache with authoritative and no-auth|
|58854|New|Reg|2016-01-13|RewriteRule in .htaccess ignores 'Require all deni|
|58855|New|Enh|2016-01-14|Don't read through entire string when testing for |
|58856|New|Reg|2016-01-14|AddOutputFilterByType in Apache 2.4 inserts filter|
|58873|New|Nor|2016-01-15|Chunked encoding, Content Length and mod_deflate  |
|58880|New|Enh|2016-01-17|Support serving stale content while revalidating c|
|58887|Inf|Nor|2016-01-18|Updated install.xml.es and took out the html code |
|58889|New|Blk|2016-01-19|mod_proxy mixes random chars to the backend reques|
|58890|New|Nor|2016-01-19|Address comments on expression parser doc         |
|58892|New|Nor|2016-01-19|Remove 'advanced' rewrite doc, and organize by top|
|58893|New|Nor|2016-01-19|Document that RewriteMap names must be unique acro|
|58894|Inf|Nor|2016-01-20|Updates and Translated into Spanish new features 2|
|58901|New|Nor|2016-01-21|Download of large file is aborted in SSL_write on |
|58907|Inf|Nor|2016-01-21|Translated document  sitemap.xml.es into Spanish  |
|58921|New|Nor|2016-01-26|Compiler removal of code to clear password buffer |
|58926|New|Nor|2016-01-28|[Patchset] Improvements for apxs                  |
|58929|New|Maj|2016-01-28|coredump when sending illegal CONNECT request     |
|58934|New|Nor|2016-01-29|mod_proxy initial BalancerMember settings not appl|
|58944|New|Nor|2016-01-30|configure script breaks openssl static library dep|
|58945|New|Nor|2016-01-30|Custom-error.xml.es Translated to Spanish.        |
|58948|New|Trv|2016-01-30|http://httpd.apache.org/: "We hope that [...] that|
+-----+---+---+----------+--------------------------------------------------+
| Total 1570 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-85363-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jan 31 23:40:41 2016
Return-Path: <dev-return-85363-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 58C11186A2
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 31 Jan 2016 23:40:41 +0000 (UTC)
Received: (qmail 95991 invoked by uid 500); 31 Jan 2016 23:40:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95907 invoked by uid 500); 31 Jan 2016 23:40:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95881 invoked by uid 99); 31 Jan 2016 23:40:40 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 31 Jan 2016 23:40:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 56C4E1A0145;
	Sun, 31 Jan 2016 23:40:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.879
X-Spam-Level: **
X-Spam-Status: No, score=2.879 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id j5o92DF8XazO; Sun, 31 Jan 2016 23:40:39 +0000 (UTC)
Received: from mail-yk0-f180.google.com (mail-yk0-f180.google.com [209.85.160.180])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 7EB6B20271;
	Sun, 31 Jan 2016 23:40:39 +0000 (UTC)
Received: by mail-yk0-f180.google.com with SMTP id r207so84388553ykd.2;
        Sun, 31 Jan 2016 15:40:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=w4AN77iKTZCXwa7PkZnhP0fjJlfJRTif6HO5ytAM+yI=;
        b=ajFw/D0rbaxiBCurBiXTuklVqpa874g6qWcTIuGh8zdsGKrfNCwC/7hcQT3loYKfmc
         AFFEkCuCh5xus3EQKk+XL/zDUX1K7FOOwM4zm1L1mekEH6NWWcg9FCTHD8ilcZcO1VWV
         2P/YRqDZN20kFXg8ENHG2uyYNSGpm+Bfcna1Z1E+Oar7J1cYy5ydeohTMnDZQgcolafn
         xg9QDJsPzGxP64pJj6KQg09XqH0PrrJDiCWiNn/8+22xpuEf3wfFy9amG3HBRhy6b/C2
         BnxtUI7SoUiEzCWsZMTX6V9dq8Ha7LVHM2bKq3/sOM3gfrkrldpPwtc+05nZcSUbI/9o
         5WmA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=w4AN77iKTZCXwa7PkZnhP0fjJlfJRTif6HO5ytAM+yI=;
        b=k5Kt1UfnL95vgH1O+9Vf3FzeVKoUZ7SAD2DVdUmpRp0YxW9So5tA86y2BX1TTZhapH
         6Il3sIqPU2N2zAoKzp/PDkALmetL0B2Lv6WlOft61J5EFuf8GUj3IjNKVTmIfcBGoVhU
         ds8y8dLVN2tD3z1XkQGTnxW3QbNbssmJDbemEr5PycFZGDIemfkZDz1Wju3Am0SV0RAT
         aq3EgyK09TG51IMuckz7UQ047BhAqm+CKo2DI1zMirvnQgL9sld/wJALma6gGCknqOSm
         YTN1gSS7emH1b32fqByIcUuK6CzIhIArkSXXfl8VvQT09Bc5ermCxIc8btipMt9u12eW
         k6ZA==
X-Gm-Message-State: AG10YOS3o/g3EaU1ib1oCPD6/Y8Hfstq2UI2RIGCHkQKOjMHoMTshjcwVCtQSPvlJeC6f3YeifIajSxYpR8xTQ==
MIME-Version: 1.0
X-Received: by 10.129.91.6 with SMTP id p6mr9790116ywb.325.1454283632927; Sun,
 31 Jan 2016 15:40:32 -0800 (PST)
Received: by 10.129.128.1 with HTTP; Sun, 31 Jan 2016 15:40:32 -0800 (PST)
Date: Sun, 31 Jan 2016 15:40:32 -0800
Message-ID: <CAJJCyeaZ5b24Ev=D5jhGDtx3ZC2PMOyT0QhBxjzLYBVrPFB9sg@mail.gmail.com>
Subject: Did someone take over my JIRA account?
From: Abhijit Sarkar <abhijit.sarcar@gmail.com>
To: dev@httpd.apache.org, dev-help@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a114c888c57ec49052aa9cb25

--001a114c888c57ec49052aa9cb25
Content-Type: text/plain; charset=UTF-8

Hi,
I used to have a JIRA account and I went to check the status of a ticket I
created in early 2015. However, the display name and the password seem to
have been changed. Is this the result of someone taking over my JIRA
account?

https://issues.apache.org/jira/browse/MENFORCER-225

--001a114c888c57ec49052aa9cb25
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_default" style=3D"font-family:georgia,=
serif;font-size:small;color:#000000">Hi,<br></div><div class=3D"gmail_quote=
"><div dir=3D"ltr"><div class=3D"gmail_quote"><div dir=3D"ltr"><div class=
=3D"gmail_quote"><div dir=3D"ltr"><div style=3D"font-family:georgia,serif;f=
ont-size:small;color:rgb(0,0,0)">I used to have a JIRA account and I went t=
o check the status of a ticket I created in early 2015. However, the displa=
y name and the password seem to have been changed. Is this the result of so=
meone taking over my JIRA account?</div><div style=3D"font-family:georgia,s=
erif;font-size:small;color:rgb(0,0,0)"><br></div><div><font color=3D"#00000=
0" face=3D"georgia, serif"><a href=3D"https://issues.apache.org/jira/browse=
/MENFORCER-225" target=3D"_blank">https://issues.apache.org/jira/browse/MEN=
FORCER-225</a></font><br></div></div>
</div><br></div>
</div><br></div>
</div><br></div>

--001a114c888c57ec49052aa9cb25--

