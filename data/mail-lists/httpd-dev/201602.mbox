From dev-return-85364-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 01:30:43 2016
Return-Path: <dev-return-85364-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4D807189EE
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 01:30:43 +0000 (UTC)
Received: (qmail 86361 invoked by uid 500); 1 Feb 2016 01:30:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86294 invoked by uid 500); 1 Feb 2016 01:30:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86283 invoked by uid 99); 1 Feb 2016 01:30:42 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 01:30:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 745E41A0125
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 01:30:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.09
X-Spam-Level: ***
X-Spam-Status: No, score=3.09 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, T_DKIM_INVALID=0.01] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new); dkim=neutral
	reason="invalid (public key: missing p= tag)" header.d=ymkatz.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id oM4PoDjg6LiF for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 01:30:41 +0000 (UTC)
Received: from mail-wm0-f42.google.com (mail-wm0-f42.google.com [74.125.82.42])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 09E2F43A19
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 01:30:40 +0000 (UTC)
Received: by mail-wm0-f42.google.com with SMTP id 128so49998762wmz.1
        for <dev@httpd.apache.org>; Sun, 31 Jan 2016 17:30:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=ymkatz.net; s=g;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=K4Vc9br54XgzluOE+ssCjRDfeq/W2qoTH7wbb6nk9/I=;
        b=TltR21WHDicosyz+j6LsgBSSD26yREtlTL11Dq/JkP7ZTX+1hJGFyaUUIjcCgc0AyD
         nAHMTFju40+Q0GIEtApk/gbLaIbbSuVcmTH8AFkVRj0kCUvgQfwYZJKtelJvCwhC/V4G
         l4gSi5v2gc9dXGQSEOQZ1E7CLj04kCAgvvPkY=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=K4Vc9br54XgzluOE+ssCjRDfeq/W2qoTH7wbb6nk9/I=;
        b=P/7z+YMHVGBPaqqQLBFfZF/GFt6EgVN9mStu5mUXYE/ASXsCRUum/T9xZbz8ofvZBj
         nCODWeZzQRHA4INwfKRAXZUZH9DOwXtnJDXR5D1bQLO1/TGDYC7ZMg9xjTh1iexcxIws
         vf//l9wSuLjyO2mjTfr+emeOBbB8dncQAZ3HQ1Bxpy1d2Ap4H3gLxAEckNNl9JQ/zysm
         ITTpvlLHprLA3MWGLOYbOG/sW+V5pBQs3ZO8SPgJMvVwv3pgimj7SPeoX3WEm4Khq16O
         F0aC2vj5K6BgXB+TGNEQKMMtB6XjPGi1bHd9qi75oaXKqdMtdVbkfrQ0VJ3Rc8AK+dhw
         Q/vA==
X-Gm-Message-State: AG10YOSVwsfTnqQUJPJnBGg8ORJDygQ10QAcdsrAMMy9uSfId9whyJp4LpX/T7+g5NSmGCD2
X-Received: by 10.28.150.72 with SMTP id y69mr8313498wmd.17.1454290240046;
        Sun, 31 Jan 2016 17:30:40 -0800 (PST)
Received: from mail-wm0-f42.google.com (mail-wm0-f42.google.com. [74.125.82.42])
        by smtp.gmail.com with ESMTPSA id 73sm9019422wmm.7.2016.01.31.17.30.38
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Sun, 31 Jan 2016 17:30:39 -0800 (PST)
Received: by mail-wm0-f42.google.com with SMTP id r129so49128232wmr.0
        for <dev@httpd.apache.org>; Sun, 31 Jan 2016 17:30:38 -0800 (PST)
X-Received: by 10.28.30.198 with SMTP id e189mr5914877wme.60.1454290238763;
 Sun, 31 Jan 2016 17:30:38 -0800 (PST)
MIME-Version: 1.0
Received: by 10.28.221.136 with HTTP; Sun, 31 Jan 2016 17:30:19 -0800 (PST)
In-Reply-To: <CAJJCyeaZ5b24Ev=D5jhGDtx3ZC2PMOyT0QhBxjzLYBVrPFB9sg@mail.gmail.com>
References: <CAJJCyeaZ5b24Ev=D5jhGDtx3ZC2PMOyT0QhBxjzLYBVrPFB9sg@mail.gmail.com>
From: Yehuda Katz <yehuda@ymkatz.net>
Date: Sun, 31 Jan 2016 20:30:19 -0500
X-Gmail-Original-Message-ID: <CAGBAQ44D3_9-_C_jE4axQ_tPOSYRQgknzNDf26_XXauBt9HbqA@mail.gmail.com>
Message-ID: <CAGBAQ44D3_9-_C_jE4axQ_tPOSYRQgknzNDf26_XXauBt9HbqA@mail.gmail.com>
Subject: Re: Did someone take over my JIRA account?
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a114b33de14fd76052aab5579

--001a114b33de14fd76052aab5579
Content-Type: text/plain; charset=UTF-8

This mailing list is for HTTPD dev. I think you want to contact infra (
http://www.apache.org/dev/infra-contact) for Jira issues.
It is possible someone on this list has the necessary access to Jira to
help you, but HTTPD uses Bugzilla, not Jira, so you are not likely to get
help here.

- Y

On Sun, Jan 31, 2016 at 6:40 PM, Abhijit Sarkar <abhijit.sarcar@gmail.com>
wrote:

> Hi,
> I used to have a JIRA account and I went to check the status of a ticket I
> created in early 2015. However, the display name and the password seem to
> have been changed. Is this the result of someone taking over my JIRA
> account?
>
> https://issues.apache.org/jira/browse/MENFORCER-225
>
>
>
>

--001a114b33de14fd76052aab5579
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">This mailing list is for HTTPD dev. I think you want to co=
ntact infra (<a href=3D"http://www.apache.org/dev/infra-contact">http://www=
.apache.org/dev/infra-contact</a>) for Jira issues.<div>It is possible some=
one on this list has the necessary access to Jira to help you, but HTTPD us=
es Bugzilla, not Jira, so you are not likely to get help here.<br><div><br>=
</div><div>- Y</div></div></div><div class=3D"gmail_extra"><br><div class=
=3D"gmail_quote">On Sun, Jan 31, 2016 at 6:40 PM, Abhijit Sarkar <span dir=
=3D"ltr">&lt;<a href=3D"mailto:abhijit.sarcar@gmail.com" target=3D"_blank">=
abhijit.sarcar@gmail.com</a>&gt;</span> wrote:<br><blockquote class=3D"gmai=
l_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left=
:1ex"><div dir=3D"ltr"><div class=3D"gmail_default" style=3D"font-family:ge=
orgia,serif;font-size:small;color:#000000">Hi,<br></div><div class=3D"gmail=
_quote"><div dir=3D"ltr"><div class=3D"gmail_quote"><div dir=3D"ltr"><div c=
lass=3D"gmail_quote"><div dir=3D"ltr"><div style=3D"font-family:georgia,ser=
if;font-size:small;color:rgb(0,0,0)">I used to have a JIRA account and I we=
nt to check the status of a ticket I created in early 2015. However, the di=
splay name and the password seem to have been changed. Is this the result o=
f someone taking over my JIRA account?</div><div style=3D"font-family:georg=
ia,serif;font-size:small;color:rgb(0,0,0)"><br></div><div><font color=3D"#0=
00000" face=3D"georgia, serif"><a href=3D"https://issues.apache.org/jira/br=
owse/MENFORCER-225" target=3D"_blank">https://issues.apache.org/jira/browse=
/MENFORCER-225</a></font><br></div></div>
</div><br></div>
</div><br></div>
</div><br></div>
</blockquote></div><br></div>

--001a114b33de14fd76052aab5579--

From dev-return-85365-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 02:41:16 2016
Return-Path: <dev-return-85365-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8B9ED18B87
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 02:41:16 +0000 (UTC)
Received: (qmail 61099 invoked by uid 500); 1 Feb 2016 02:41:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 61026 invoked by uid 500); 1 Feb 2016 02:41:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 61016 invoked by uid 99); 1 Feb 2016 02:41:09 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 02:41:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 72FC9C0D80
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 02:41:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.655
X-Spam-Level:
X-Spam-Status: No, score=-0.655 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=kraut.ca
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id BmU56nmp2ISL for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 02:41:08 +0000 (UTC)
Received: from penguin.kraut.ca (penguin.kraut.ca [96.53.60.142])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D7A4031AC3
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 02:41:07 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=kraut.ca;
	 s=20151017; h=Subject:Content-Transfer-Encoding:Content-Type:MIME-Version:
	Date:Message-ID:To:From; bh=GeSqrR12M1hoLbDnXh2QXqZNttUVSUAzKZksWmmIST0=; b=s
	fDCW0YBhXxeLqt6bVbbmO4eMGKMd7i79HCtJjFjS2gseKY8m0JQJcr0EEtcjOwtkdUiynsHgrP37V
	TO9dWTR7ltxiiB8wyA88IJh2gIgddr8YcqpuIw1IIpkgulOxjrQwR+rTo+4Bk/L7hRWOo1TPjyXuz
	IczIZ7swym4hYO6w=;
Received: from speed-demon.kraut.ca ([192.168.100.7])
	by penguin.kraut.ca with esmtpsa (TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128)
	(Exim 4.86)
	(envelope-from <joachim@kraut.ca>)
	id 1aQ4QM-0008Tz-Cj
	for dev@httpd.apache.org; Sun, 31 Jan 2016 18:41:07 -0800
From: Joachim Achtzehnter <joachim@kraut.ca>
To: dev@httpd.apache.org
Message-ID: <56AEC5EF.6030201@kraut.ca>
Date: Sun, 31 Jan 2016 18:41:51 -0800
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 192.168.100.7
X-SA-Exim-Mail-From: joachim@kraut.ca
Subject: HTTPS connections lock-up with 2.4.18
X-SA-Exim-Version: 4.2.1 (built Mon, 06 Jul 2015 07:28:29 +0000)
X-SA-Exim-Scanned: Yes (on penguin.kraut.ca)

After upgrading from 2.4.12 to 2.4.18 we find that some requests for 
files cause a lock-up when HTTPS is used, but not with plain HTTP. After 
some debugging it seems the problem is that the mod_ssl no longer 
explicitly flushes the output it produced before going back to reading a 
new request on the same connection.

This is a 32-bit Intel Linux platform, and by stepping through the 
mod_ssl output filter in the debugger I can see that the files that 
cause problems are being read by Apache using the mmap approach.

Restoring the explicit flushing from 2.4.12 gets the 2.4.18 version of 
mod-ssl working for us. Here is the patch:


--- ssl_engine_io.c.orig	2015-11-19 11:55:25.000000000 -0800
+++ ssl_engine_io.c	2016-01-31 17:22:54.586227441 -0800
@@ -466,6 +466,21 @@
          return -1;
      }

+    /* In theory, OpenSSL should flush as necessary, but it is known
+     * not to do so correctly in some cases; see PR 46952.
+     *
+     * Historically, this flush call was performed only for an SSLv2
+     * connection or for a proxy connection.  Calling _out_flush
+     * should be very cheap in cases where it is unnecessary (and no
+     * output is buffered) so the performance impact of doing it
+     * unconditionally should be minimal.
+     */
+    if (bio_filter_out_flush(inctx->bio_out) < 0) {
+        bio_filter_out_ctx_t *outctx = inctx->bio_out->ptr;
+        inctx->rc = outctx->rc;
+        return -1;
+    }
+
      BIO_clear_retry_flags(bio);

      if (!inctx->bb) {




From dev-return-85366-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 08:06:34 2016
Return-Path: <dev-return-85366-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 505E4183D1
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 08:06:34 +0000 (UTC)
Received: (qmail 38166 invoked by uid 500); 1 Feb 2016 08:06:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38100 invoked by uid 500); 1 Feb 2016 08:06:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38088 invoked by uid 99); 1 Feb 2016 08:06:21 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 08:06:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 9EE8AC0873
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 08:06:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id F3qZqaUh7TMF for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 08:06:15 +0000 (UTC)
Received: from mail-qg0-f50.google.com (mail-qg0-f50.google.com [209.85.192.50])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id CEFEC31ACD
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 08:06:14 +0000 (UTC)
Received: by mail-qg0-f50.google.com with SMTP id 6so111357069qgy.1
        for <dev@httpd.apache.org>; Mon, 01 Feb 2016 00:06:14 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=52KCLSVye84YpP6/4W/JvC4dFYRJ3UrZP/H6J9UCaE0=;
        b=cHsNmehcLvfEApnpA+JeelWXs/EDBynNbNXny9NXEGSMzs3DK6cDDwcdForaw9EBIt
         0T161YzIw4I2jTRciXw2GVOf7mXC+ywySkHe+22p/5UEfK36nQD6B60h89o7dPOwv+hq
         lK3hef5vePshKBOnioSowZy7xttLGfl2w4w6E4nKX8gjCtTyMvIwCa/mWM4++QzEInsg
         IGIYb/Y+OzrmSk5LMEyuYUic+0RkGexIvNqxqI8sKtSuhDvUjOHwlaeaMBxW5bEg4w4H
         tHHbDvGOdYH7Sg7WZwS/uDGhfZmaz30vr/rM82scPms0aj0p+Yli+MV46jkLgylHylzT
         LYZA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=52KCLSVye84YpP6/4W/JvC4dFYRJ3UrZP/H6J9UCaE0=;
        b=bU9uz7A+mR8oxvZUsZdSNen/Q1NmvXQU1VxDRQhH3bpmHetiXbbw8CSEtmxv7IJz3B
         ZP3G7QiIKQfuxe/0dpXekX7ppYXeqIPAf10uBpjYI+Bhr0hInqr272eQfWmVyITr+zlH
         TYlrWHe/W/F/N2oHYjwmokZTCfxw2009+y7Xa5hgaiL9RtNdkfBx2LV3SUWnVg+zPIq2
         rGv//jfe3QkXd/MTGFXd/ktYeWbV1H9UYMPfHwrPnKFH02UMCpjlKMjIkNFL19bxwsCy
         Rba6Fb9X/ty2mpONbgty7SzYXL7tQoVI1MPcOItbJNlulylJU6gMglz33aXHhnYYY7eS
         WXEA==
X-Gm-Message-State: AG10YORlGZjD2h9SP33Rue9GXT0qVQHul7nlO2BTle891RTydZ8biRKyhiyycrJgZ5EuI3qopBe/F5aG4NzeRg==
MIME-Version: 1.0
X-Received: by 10.140.179.216 with SMTP id z207mr27976816qhz.70.1454313973897;
 Mon, 01 Feb 2016 00:06:13 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Mon, 1 Feb 2016 00:06:13 -0800 (PST)
In-Reply-To: <56AEC5EF.6030201@kraut.ca>
References: <56AEC5EF.6030201@kraut.ca>
Date: Mon, 1 Feb 2016 09:06:13 +0100
Message-ID: <CAKQ1sVMbkyYzNzp3iRMRx-rYFHmAX+Bku=Y6Qmxw4DMhHvyiJA@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, Feb 1, 2016 at 3:41 AM, Joachim Achtzehnter <joachim@kraut.ca> wrote:
> After upgrading from 2.4.12 to 2.4.18 we find that some requests for files
> cause a lock-up when HTTPS is used, but not with plain HTTP. After some
> debugging it seems the problem is that the mod_ssl no longer explicitly
> flushes the output it produced before going back to reading a new request on
> the same connection.
>
> This is a 32-bit Intel Linux platform, and by stepping through the mod_ssl
> output filter in the debugger I can see that the files that cause problems
> are being read by Apache using the mmap approach.
>
> Restoring the explicit flushing from 2.4.12 gets the 2.4.18 version of
> mod-ssl working for us. Here is the patch:

Which system and openssl versions are you using?
Did you build 2.4.18 yourself, against the same version of openssl the
system is running?

Regards,
Yann.

From dev-return-85367-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 09:09:54 2016
Return-Path: <dev-return-85367-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 27750185C8
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 09:09:54 +0000 (UTC)
Received: (qmail 52929 invoked by uid 500); 1 Feb 2016 09:09:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52848 invoked by uid 500); 1 Feb 2016 09:09:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52838 invoked by uid 99); 1 Feb 2016 09:09:47 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 09:09:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 07FD2C07BB
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 09:09:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.645
X-Spam-Level:
X-Spam-Status: No, score=-0.645 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.545, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=kraut.ca
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id JAK98UC1Du6s for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 09:09:36 +0000 (UTC)
Received: from penguin.kraut.ca (penguin.kraut.ca [96.53.60.142])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id E36FD31AE2
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 09:09:35 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=kraut.ca;
	 s=20151017; h=Subject:Content-Transfer-Encoding:Content-Type:In-Reply-To:
	MIME-Version:Date:Message-ID:From:References:To;
	bh=K9LYH6lpBR6LvclcYtIltNLIgSMFEW4mxSobf7Zi+G8=; b=gxeURWQwlPYUaoB74tEX+ueXN2
	AucFLiiOovAiIKwdQayTXOab/m8wiuBGsGZCtZaJZo6y2KcvpkP8wWGfxLI8k8X0H6ebQPHRSSJ/u
	dS7WaMUpOmB5RqZ7w8BB/RruGQxoA+xm+6tC3/bBHuSJO2zdWbcb92E3UaXJDWCfKK+s=;
Received: from speed-demon.kraut.ca ([192.168.100.7])
	by penguin.kraut.ca with esmtpsa (TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128)
	(Exim 4.86)
	(envelope-from <joachim@kraut.ca>)
	id 1aQAUG-0001AO-0x
	for dev@httpd.apache.org; Mon, 01 Feb 2016 01:09:34 -0800
To: dev@httpd.apache.org
References: <56AEC5EF.6030201@kraut.ca>
 <CAKQ1sVMbkyYzNzp3iRMRx-rYFHmAX+Bku=Y6Qmxw4DMhHvyiJA@mail.gmail.com>
From: Joachim Achtzehnter <joachim@kraut.ca>
Message-ID: <56AF20F8.5080204@kraut.ca>
Date: Mon, 1 Feb 2016 01:10:16 -0800
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVMbkyYzNzp3iRMRx-rYFHmAX+Bku=Y6Qmxw4DMhHvyiJA@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 192.168.100.7
X-SA-Exim-Mail-From: joachim@kraut.ca
Subject: Re: HTTPS connections lock-up with 2.4.18
X-SA-Exim-Version: 4.2.1 (built Mon, 06 Jul 2015 07:28:29 +0000)
X-SA-Exim-Scanned: Yes (on penguin.kraut.ca)

The problem was first discovered with Apache 2.4.18 compiled against 
OpenSSL/1.0.1m. The running system, which is an i686 Linux system, used 
the same versions.

We then installed our old mod_ssl.so from Apache 2.4.12, everything else 
unchanged, and this worked. This was enough of a hint to debug the 
2.4.18 version of the module. Before doing this, we downloaded the 
latest apr/apr-util, and OpenSSL packages, and rebuilt everything. 
OpenSSL is now at 1.0.2f. All of this was installed on the running 
system, and it behaved the same way, with some files causing the client 
to hang forever.

Applying the patch I included in the previous message gets it working 
for us.

Joachim


On 2016-02-01 12:06 AM, Yann Ylavic wrote:
> On Mon, Feb 1, 2016 at 3:41 AM, Joachim Achtzehnter <joachim@kraut.ca> wrote:
>> After upgrading from 2.4.12 to 2.4.18 we find that some requests for files
>> cause a lock-up when HTTPS is used, but not with plain HTTP. After some
>> debugging it seems the problem is that the mod_ssl no longer explicitly
>> flushes the output it produced before going back to reading a new request on
>> the same connection.
>>
>> This is a 32-bit Intel Linux platform, and by stepping through the mod_ssl
>> output filter in the debugger I can see that the files that cause problems
>> are being read by Apache using the mmap approach.
>>
>> Restoring the explicit flushing from 2.4.12 gets the 2.4.18 version of
>> mod-ssl working for us. Here is the patch:
>
> Which system and openssl versions are you using?
> Did you build 2.4.18 yourself, against the same version of openssl the
> system is running?
>
> Regards,
> Yann.


-- 
joachim@kraut.ca   www.kraut.ca

From dev-return-85368-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 09:17:54 2016
Return-Path: <dev-return-85368-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D3CD41861F
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 09:17:54 +0000 (UTC)
Received: (qmail 72316 invoked by uid 500); 1 Feb 2016 09:17:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 72234 invoked by uid 500); 1 Feb 2016 09:17:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72224 invoked by uid 99); 1 Feb 2016 09:17:48 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 09:17:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id AF7DE1804D6
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 09:17:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.879
X-Spam-Level: **
X-Spam-Status: No, score=2.879 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id Y9NQWv3VQ7As for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 09:17:46 +0000 (UTC)
Received: from mail-lf0-f48.google.com (mail-lf0-f48.google.com [209.85.215.48])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 9AE9C43F64
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 09:17:45 +0000 (UTC)
Received: by mail-lf0-f48.google.com with SMTP id 78so43144727lfy.3
        for <dev@httpd.apache.org>; Mon, 01 Feb 2016 01:17:45 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=nBnVl3VcjUGenLKrG64elSnGztIpAUYKph3RPeMlj5o=;
        b=KfS/UNTGKUfAMIaXk33+y9a+7xJ9FTqdYHBauXrYpZhODdLxqDKWZ95ky2XRfPBqad
         9cy1R+dtx5ItXImanNd5/A/stPtDRbjjq8VJkYZTFhYd4qxRtI7Bd5kKj3HBWwR7M86B
         jqLQfom8P8F8DBwYOtYAO3UOWdB80ZUcPUzsJRFX1WO7DL4GWcBmeXGm0LVxd6fwW8Z+
         8cV6oJ8nxx3BpwACLjSwgmVpgdZs0bmi/qEmV1QRxGuDQKS/iB0+bMf3YCoIbO9nmpan
         nhlSGqb17mhzj5bNHa7LZk33Vf+bIu7XFj4ev3xmWyDzlM7xxOUj1Nylqkji4onIPitB
         M9ww==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=nBnVl3VcjUGenLKrG64elSnGztIpAUYKph3RPeMlj5o=;
        b=hxl9VHszHG+0yD4+UkT/gq/qvq1RC6tWKLlIyvZBS0RWiqQjCVEAXhr+HZTecPGcpr
         OurTPohCjo7/CEYCNlpojAkR43TdpcNx75l49pL/3nkZrJ6WJo6DnHOzp+e5R2txPQ0i
         nHevRKU2kkyQUofpIoFRdF9eT9gwahvj/7bVFuL9DcyZ5dqlNEDCgLx7bTvgB3SlH4yK
         ixZH4L+VwLnK0mOw23aY9pTj/j4ZlXj8rkIbfDhYHpDxwJuIfTceBHdgEl2lW76rZ6vw
         MigGz7iq6shFM/H00QswCY/XcOTFpEj8jCjorYTYeTsYzRVXOIeBOBxkf2SavvvqjNll
         GxUw==
X-Gm-Message-State: AG10YORfPHOztTrsoXenDxLpcOS+uXlDcsFNhP8NL+JTqxKWAE8m33divZy8447PoG0n/jyzJMAvvLbANOI9oQ==
MIME-Version: 1.0
X-Received: by 10.25.162.202 with SMTP id l193mr8037682lfe.138.1454318264584;
 Mon, 01 Feb 2016 01:17:44 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Mon, 1 Feb 2016 01:17:44 -0800 (PST)
Date: Mon, 1 Feb 2016 10:17:44 +0100
Message-ID: <CAFedD43ZE8sgyp-VAvJJhLusqcePmgDJFshMUBa96ijWzwnX9g@mail.gmail.com>
Subject: Questions about mod_event's documentation
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a114119ec8d13bf052ab1db75

--001a114119ec8d13bf052ab1db75
Content-Type: text/plain; charset=UTF-8

Hi Apache Devs!

I am trying to understand if
https://httpd.apache.org/docs/2.4/mod/event.html could use some
documentation improvements or if I am the only one not getting the whole
picture correctly.

I'd like to write a summary of my understanding of the module to get some
feedback:

- mod_event reuses mod_worker's architecture using forking processes that
in turn create several threads (controlled using the ThreadPerChild
directive). A special thread for each process is called the listener (like
in worker) and it keeps track of the connections/sockets "assigned" to its
parent.

- mod_event's listener thread is smarter than its brother in mod_worker
since it keeps a list of sockets in: keep alive, flushing data to client
only (after the output chain has finished to process the response) and
complete new request/response to handle.

- when a socket changes its state, the listener checks free workers among
its thread pool and assign either some "small" work like handling keep
alives or flushing data, or a whole new request to handle.

- mod_ssl and mod_deflate are examples of filters that needs to act on the
whole response so a worker gets stuck flushing data to slow clients rather
than giving up the socket earlier to the listener and doing a different
work.

- AsyncRequestWorkerFactor is used to regulate the amount of requests that
a single process/threads block can handle, calculating the value
periodically using the idle threads/workers available. In case of workers
maxed out, the keep alive sockets/connections are closed to free some space.


If my understanding is correct (I doubt it but let's assume this) then I
have the following questions:

- Would it be worth to add more info in the "how it works" section? A first
read may bring the user to think that the listening thread is the one doing
the actual work, rather than the workers, being a bit puzzled when reading
the AsyncRequestWorkerFactor section.

- Would it make sense to expand the summary to add more info about the fact
that most of worker's directives needs to be used? The "how it works"
section dominates and a reader is more keen to read it first and skip the
summary in my opinion.

- An interesting question has been filed a while ago in the comments: "This
documentation does not make it clear whether the event MPM at least allows
for keepalives on SSL connections to conserve a thread. Does it require the
use of a thread while transmitting only, or also while the kept-alive SSL
connection is idle?" - If my understanding is correct, the answer should be
that a slow client can still block a worker for a keep alive response due
to mod_ssl requirements, but that idle times are managed by the listener.

- The summary talks about "supporting threads" and given the fact that
AsyncRequestWorkerFactor
is added to ThreadsPerChild, it raises the question about how many of them
are created at startup. Conversely, is it a way to say: the number of
threads for each process are ThreadsPerChild but since they now perform
also small bursts of work (like keep alive house keeping and flushing data
to clients) the total amount of connections allowed should be more to make
room for all these connection/socket states?

Apologies for the loooong email, hope that what I've written makes sense!
If not, I'll start reading again! :)

Luca

--001a114119ec8d13bf052ab1db75
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi Apache Devs!<div><br></div><div>I am trying to understa=
nd if=C2=A0<a href=3D"https://httpd.apache.org/docs/2.4/mod/event.html">htt=
ps://httpd.apache.org/docs/2.4/mod/event.html</a> could use some documentat=
ion improvements or if I am the only one not getting the whole picture corr=
ectly.=C2=A0</div><div><br></div><div>I&#39;d like to write a summary of my=
 understanding of the module to get some feedback:</div><div><br></div><div=
>- mod_event reuses mod_worker&#39;s architecture using forking processes t=
hat in turn create several threads (controlled using the ThreadPerChild dir=
ective). A special thread for each process is called the listener (like in =
worker) and it keeps track of the connections/sockets &quot;assigned&quot; =
to its parent.</div><div><br></div><div>- mod_event&#39;s listener thread i=
s smarter than its brother in mod_worker since it keeps a list of sockets i=
n: keep alive, flushing data to client only (after the output chain has fin=
ished to process the response) and complete new request/response to handle.=
=C2=A0</div><div><br></div><div>- when a socket changes its state, the list=
ener checks free workers among its thread pool and assign either some &quot=
;small&quot; work like handling keep alives or flushing data, or a whole ne=
w request to handle.=C2=A0</div><div><br></div><div>- mod_ssl and mod_defla=
te are examples of filters that needs to act on the whole response so a wor=
ker gets stuck flushing data to slow clients rather than giving up the sock=
et earlier to the listener and doing a different work.</div><div><br></div>=
<div>- AsyncRequestWorkerFactor is used to regulate the amount of requests =
that a single process/threads block can handle, calculating the value perio=
dically using the idle threads/workers available. In case of workers maxed =
out, the keep alive sockets/connections are closed to free some space.</div=
><div><br></div><div><br></div><div>If my understanding is correct (I doubt=
 it but let&#39;s assume this) then I have the following questions:</div><d=
iv><br></div><div>- Would it be worth to add more info in the &quot;how it =
works&quot; section? A first read may bring the user to think that the list=
ening thread is the one doing the actual work, rather than the workers, bei=
ng a bit puzzled when reading the AsyncRequestWorkerFactor section.</div><d=
iv><br></div><div>- Would it make sense to expand the summary to add more i=
nfo about the fact that most of worker&#39;s directives needs to be used? T=
he &quot;how it works&quot; section dominates and a reader is more keen to =
read it first and skip the summary in my opinion.=C2=A0</div><div><br></div=
><div>- An interesting question has been filed a while ago in the comments:=
 &quot;<span style=3D"color:rgb(0,0,51);font-family:Arial,Helvetica,sans-se=
rif;font-size:13px;line-height:16.9px;white-space:pre-wrap;background-color=
:rgb(254,254,254)">This documentation does not make it clear whether the ev=
ent MPM at least allows for keepalives on SSL connections to conserve a thr=
ead.  Does it require the use of a thread while transmitting only, or also =
while the kept-alive SSL connection is idle?&quot; - If my understanding is=
 correct, the answer should be that a slow client can still block a worker =
for a keep alive response due to mod_ssl requirements, but that idle times =
are managed by the listener. </span><br></div><div><span style=3D"color:rgb=
(0,0,51);font-family:Arial,Helvetica,sans-serif;font-size:13px;line-height:=
16.9px;white-space:pre-wrap;background-color:rgb(254,254,254)"><br></span><=
/div><div><span style=3D"color:rgb(0,0,51);font-family:Arial,Helvetica,sans=
-serif;font-size:13px;line-height:16.9px;white-space:pre-wrap;background-co=
lor:rgb(254,254,254)">- The summary talks about &quot;supporting threads&qu=
ot; and given the fact that </span>AsyncRequestWorkerFactor is added to Thr=
eadsPerChild, it raises the question about how many of them are created at =
startup. Conversely, is it a way to say: the number of threads for each pro=
cess are ThreadsPerChild but since they now perform also small bursts of wo=
rk (like keep alive house keeping and flushing data to clients) the total a=
mount of connections allowed should be more to make room for all these conn=
ection/socket states?</div><div><br></div><div>Apologies for the loooong em=
ail, hope that what I&#39;ve written makes sense! If not, I&#39;ll start re=
ading again! :)</div><div><br></div><div>Luca</div><div><span style=3D"colo=
r:rgb(0,0,51);font-family:Arial,Helvetica,sans-serif;font-size:13px;line-he=
ight:16.9px;white-space:pre-wrap;background-color:rgb(254,254,254)"><br></s=
pan></div><div><span style=3D"color:rgb(0,0,51);font-family:Arial,Helvetica=
,sans-serif;font-size:13px;line-height:16.9px;white-space:pre-wrap;backgrou=
nd-color:rgb(254,254,254)"><br></span></div><div><span style=3D"color:rgb(0=
,0,51);font-family:Arial,Helvetica,sans-serif;font-size:13px;line-height:16=
.9px;white-space:pre-wrap;background-color:rgb(254,254,254)"><br></span></d=
iv></div>

--001a114119ec8d13bf052ab1db75--

From dev-return-85369-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 09:28:25 2016
Return-Path: <dev-return-85369-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 446A7186DB
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 09:28:25 +0000 (UTC)
Received: (qmail 92139 invoked by uid 500); 1 Feb 2016 09:28:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92060 invoked by uid 500); 1 Feb 2016 09:28:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92038 invoked by uid 99); 1 Feb 2016 09:28:15 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 09:28:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id CA1451A01BA
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 09:28:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.654
X-Spam-Level:
X-Spam-Status: No, score=-0.654 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=clqlPVFK;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=AkWqD25u
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 6JPxPc2CII6K for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 09:28:06 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 73D3631AE0
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 09:28:05 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 13C4215A0A39; Mon,  1 Feb 2016 10:27:59 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454318879; bh=qNRPAvpuw59j755AGE4wh9Db4LnTxgfXJrsENrnAA+o=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=clqlPVFKzlaNomWN2/ti4a38VtyHJR+hM73jraAe2AHieksxlBkQz0WwMEPuZj3Tt
	 1Ec8sZmgXfXMty79ik3ZTsHtV4IaO6yEIZMq8pjMAlrIc5uqnBQkxl01tWEYscqpFa
	 5Qwaj2/E28FDS1qIgbOQc+V17VFEQ3V3W/knAauY=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id CC73415A0440
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 10:27:57 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454318877; bh=qNRPAvpuw59j755AGE4wh9Db4LnTxgfXJrsENrnAA+o=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=AkWqD25umINBDIfEozj6Po7VNNEPSTbTz9+DjxDfXDxYdApsNd61RbQs3+7uAJUcb
	 YU+Y5FInNQoxxsVYVnASZZ2wmdkjhw/Oj+1Qb5+0oEo/XYrQCLYldeDAK5n0cEQLgy
	 LKo9kB5RRBqhonsy4AfMJjp0kbADmkFgqWnHfVEw=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: event mpm and slave connections
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CACsi253R7TNHF_xyYCURgMQ6YM7fcJVkUtxyE_=xuUwbFhYDPA@mail.gmail.com>
Date: Mon, 1 Feb 2016 10:27:57 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <BC11D1EE-3DE6-4229-B5F8-D365B68F095E@greenbytes.de>
References: <EA7D420F-B62E-4C06-A2F6-94661AE1E4DB@greenbytes.de> <CACsi253R7TNHF_xyYCURgMQ6YM7fcJVkUtxyE_=xuUwbFhYDPA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Sure, Bill. Love to have your feedback on this and make it work for =
mod_ftp, too.

> Am 30.01.2016 um 06:04 schrieb William A Rowe Jr =
<wrowe@rowe-clan.net>:
>=20
> If you can give me a few days (not httpd'ing again until=20
> late Sun eve) - this is very close to the issues we have
> in mod_ftp with the data connection/request aside the
> control connection.  The right patch will improve both
> sets of dirty hacks :)
>=20
> Thanks for the proposal!
>=20
> Bill
>=20
> On Fri, Jan 29, 2016 at 7:01 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
> I would like to propose some additions to event that help me get rid =
of two ugly hacks in mod_http2:
>=20
> 1. Initialization of slave connections
>    event registers on pre_connection hook and checks if c is a slave =
(c->master) and if the connection state is either not there or the same =
as master (pointer copy). It then sets up a new cs using the slave =
connection pool.
>=20
> 2. Initialization of server config
>    event keeps in its private connection state parts the server =
configuration (queues for timeouts and keepalives) that are unique to =
each server because of Timeout and KeepAliveTimeout settings. Normally, =
theses are set on post_read_request hooks which is fine and well. On =
master connections however, these hooks may never get called so the =
server config remains stuck on the connections base server.
>    In the case of SNI however, we know which server this connection is =
intended for and should use its Timeouts. This is done by installing an =
early protocol_switch hook that sees connections updates and server_rec =
and initializes its connection state accordingly.
>=20
> Please vote on the attached patch. I do not want to mess with event =
without having some moral backup...
>=20
> -Stefan
>=20
>=20


From dev-return-85370-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 09:54:49 2016
Return-Path: <dev-return-85370-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5267C18884
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 09:54:49 +0000 (UTC)
Received: (qmail 64655 invoked by uid 500); 1 Feb 2016 09:54:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64578 invoked by uid 500); 1 Feb 2016 09:54:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64568 invoked by uid 99); 1 Feb 2016 09:54:48 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 09:54:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 12B2FC0DB3
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 09:54:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.655
X-Spam-Level:
X-Spam-Status: No, score=-0.655 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=XFh+/EsL;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=XFh+/EsL
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id iQZkVQfmc9df for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 09:54:46 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 0692D20271
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 09:54:45 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 6634315A0A30; Mon,  1 Feb 2016 10:54:38 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454320478; bh=2hy98F6Vd3w7R3TcK6G9cPU2HPZ1k3RClX0qCQwmQsc=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=XFh+/EsLaCYF6nygOsTnVKLNY4pHygwXaggOdxHHFVlS4qNMcJVh91zvTWKfMF27M
	 dWsD5p11T6hsile1lcUbuHlDLa55BPMgFjPsEyWoT3vq9RO/KPcILZKRd6nfzZr5EP
	 WCTko5wfDAL1RThCso+dSb2OxjUoXwjw2w7nt9zI=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 1835F15A02F2
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 10:54:38 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454320478; bh=2hy98F6Vd3w7R3TcK6G9cPU2HPZ1k3RClX0qCQwmQsc=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=XFh+/EsLaCYF6nygOsTnVKLNY4pHygwXaggOdxHHFVlS4qNMcJVh91zvTWKfMF27M
	 dWsD5p11T6hsile1lcUbuHlDLa55BPMgFjPsEyWoT3vq9RO/KPcILZKRd6nfzZr5EP
	 WCTko5wfDAL1RThCso+dSb2OxjUoXwjw2w7nt9zI=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Questions about mod_event's documentation
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAFedD43ZE8sgyp-VAvJJhLusqcePmgDJFshMUBa96ijWzwnX9g@mail.gmail.com>
Date: Mon, 1 Feb 2016 10:54:37 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <20E45478-F2D6-4DA4-AFC1-CEB04C500B15@greenbytes.de>
References: <CAFedD43ZE8sgyp-VAvJJhLusqcePmgDJFshMUBa96ijWzwnX9g@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Luca,

thanks for the long mail. I am looking forward to read the answers to =
your questions, as I have *assumptions* about them, but am myself not =
certain.

> Am 01.02.2016 um 10:17 schrieb Luca Toscano <toscano.luca@gmail.com>:
>=20
> Hi Apache Devs!
>=20
> I am trying to understand if =
https://httpd.apache.org/docs/2.4/mod/event.html could use some =
documentation improvements or if I am the only one not getting the whole =
picture correctly.=20
>=20
> I'd like to write a summary of my understanding of the module to get =
some feedback:
>=20
> - mod_event reuses mod_worker's architecture using forking processes =
that in turn create several threads (controlled using the ThreadPerChild =
directive). A special thread for each process is called the listener =
(like in worker) and it keeps track of the connections/sockets =
"assigned" to its parent.
>=20
> - mod_event's listener thread is smarter than its brother in =
mod_worker since it keeps a list of sockets in: keep alive, flushing =
data to client only (after the output chain has finished to process the =
response) and complete new request/response to handle.=20

My read: Not only in keepalive, but also in timeout, depending on the =
connection state.

> - when a socket changes its state, the listener checks free workers =
among its thread pool and assign either some "small" work like handling =
keep alives or flushing data, or a whole new request to handle.=20

"changes its state" -> raises an event. If the event needs processing by =
a worker...

> - mod_ssl and mod_deflate are examples of filters that needs to act on =
the whole response so a worker gets stuck flushing data to slow clients =
rather than giving up the socket earlier to the listener and doing a =
different work.

Hmm, not sure I understand your point. Every part in the process of =
generating the bytes sent out on the socket is involved here. The =
crucial difference between the worker and the event mpm is:
- worker keeps the response state on the stack
- event keeps the response state in the heap
which means that calls to response processing=20
- on worker, need to return when all is done
- on event, may return whenever a READ/WRITE event or TIMEOUT/KEEPALIVE =
is needed.=20

In that way, writing a response with event is "stutter stepping" it. =
Write until EWOULDBLOCK, return, queued, event, write until =
EWOULDBLOCK,...

(my understanding)

> - AsyncRequestWorkerFactor is used to regulate the amount of requests =
that a single process/threads block can handle, calculating the value =
periodically using the idle threads/workers available. In case of =
workers maxed out, the keep alive sockets/connections are closed to free =
some space.
>=20
>=20
> If my understanding is correct (I doubt it but let's assume this) then =
I have the following questions:
>=20
> - Would it be worth to add more info in the "how it works" section? A =
first read may bring the user to think that the listening thread is the =
one doing the actual work, rather than the workers, being a bit puzzled =
when reading the AsyncRequestWorkerFactor section.
+1

> - Would it make sense to expand the summary to add more info about the =
fact that most of worker's directives needs to be used? The "how it =
works" section dominates and a reader is more keen to read it first and =
skip the summary in my opinion.=20
+1

> - An interesting question has been filed a while ago in the comments: =
"This documentation does not make it clear whether the event MPM at =
least allows for keepalives on SSL connections to conserve a thread.  =
Does it require the use of a thread while transmitting only, or also =
while the kept-alive SSL connection is idle?" - If my understanding is =
correct, the answer should be that a slow client can still block a =
worker for a keep alive response due to mod_ssl requirements, but that =
idle times are managed by the listener.=20
There is some ongoing work done in trunk in regard to this...

> - The summary talks about "supporting threads" and given the fact that =
AsyncRequestWorkerFactor is added to ThreadsPerChild, it raises the =
question about how many of them are created at startup. Conversely, is =
it a way to say: the number of threads for each process are =
ThreadsPerChild but since they now perform also small bursts of work =
(like keep alive house keeping and flushing data to clients) the total =
amount of connections allowed should be more to make room for all these =
connection/socket states?
>=20
> Apologies for the loooong email, hope that what I've written makes =
sense! If not, I'll start reading again! :)
>=20
> Luca
>=20
>=20
>=20


From dev-return-85371-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 10:24:12 2016
Return-Path: <dev-return-85371-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3E29C18993
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 10:24:12 +0000 (UTC)
Received: (qmail 18643 invoked by uid 500); 1 Feb 2016 10:23:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18566 invoked by uid 500); 1 Feb 2016 10:23:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18556 invoked by uid 99); 1 Feb 2016 10:23:37 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 10:23:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 20745C0873
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 10:23:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.9
X-Spam-Level: *
X-Spam-Status: No, score=1.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_BADIPHTTP=2, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id agWZITO3Ok6v for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 10:23:27 +0000 (UTC)
Received: from mail-wm0-f43.google.com (mail-wm0-f43.google.com [74.125.82.43])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 43796439F8
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 10:23:27 +0000 (UTC)
Received: by mail-wm0-f43.google.com with SMTP id p63so63472212wmp.1
        for <dev@httpd.apache.org>; Mon, 01 Feb 2016 02:23:27 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=rschKVpT9++6Q8uDmgvXpdsoUBjIwkI1mQravCOX7n4=;
        b=E3HHbPrGLI009v57QqCwNRztEj9f0DEJWXIp9D4pRslKnqk0mCtBZjJ1Aw/29Idtp5
         bwAli1trVLd2kgiRaKf/uTusndbZ58CIJxKnKaLrtIBjxjwo05AFOkwjIpy3NxhDqPh0
         vg6eivkOYZlzNlM1swfSsOZzud97v28/INjZs8zWD+SHRJ/TWBB9eEyWeyf7vQTWChqR
         jd7CCSxgQTWc/APkJ8fwb7v+pPhJA8TwezSxM6gHUeZ4IZqueEyc8F4W9Rt6X0PMt7bW
         qBjG/Th8hVGoMPTfCMRrNm+dfBM0t3atoJgBHW+au40fLOnfQja4ByHZpg/jz1DAAoAv
         mXjA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=rschKVpT9++6Q8uDmgvXpdsoUBjIwkI1mQravCOX7n4=;
        b=HQ89cpe1YZM/zVGPVLjuYE5N7E61SXkbh8tR6A3bdcjgRqEyBG/Gv1AjM5krfX6Z6a
         AH5GuTuSyg31jH7TUKCgFdm0MDmt8ep+vnwH1NcJ8gOBAuqJfYR0MOks4lC7tv0Ly6RO
         tR7Gp0tapDaqxpjDdwmdSPdhR8SdbgDjxhhsz7sXMP0RjJUzBWOG+SSXr4kCT7ySb7U9
         eeouA6s/Ax51Aa8E1cwj2zUg0f+5G3b4UkWqfGeA3IUqKpg+yRIB4BYwNmmaja4rtz5U
         wu0OxCIRujf1ZcBWS1YDrFim7KQfdX0nOW3/Bb9Yjyp9TUh3QdDrznp2AUB6p3TFWUJ8
         yAaQ==
X-Gm-Message-State: AG10YOT4Azi/EcUfsWvZYdT2SSkNMHOzwilD3fCV9xqfaVLktJjGVY71eD5B7GQVPlrQC4LEQRt7xlA4PHLBTg==
MIME-Version: 1.0
X-Received: by 10.28.65.193 with SMTP id o184mr10380296wma.15.1454322206514;
 Mon, 01 Feb 2016 02:23:26 -0800 (PST)
Received: by 10.194.37.198 with HTTP; Mon, 1 Feb 2016 02:23:26 -0800 (PST)
In-Reply-To: <CAL7UUk_1rvLqgNsOMKN-1GxeBWXb2Q3XVAjbbn4+1th9GdAOcw@mail.gmail.com>
References: <CAL7UUk-qyES+aMMSN6aBGi1rb=K3Q+pif4FbU__Lqkku7f2t0w@mail.gmail.com>
	<CACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com>
	<CAL7UUk_z-CgL1255w8ScgUW+oFtpuybvzoK_kQykbQNv025N_g@mail.gmail.com>
	<CACsi251twJxjTjEbjEnFuE2x49KX-BrVi=MSAs3-7L=ypaKQ7Q@mail.gmail.com>
	<CAL7UUk_1rvLqgNsOMKN-1GxeBWXb2Q3XVAjbbn4+1th9GdAOcw@mail.gmail.com>
Date: Mon, 1 Feb 2016 13:23:26 +0300
Message-ID: <CAL7UUk9Mc=MUVaQXPvc+mcaoik+=pFW7EW_ccTXbBmo9W0JB1Q@mail.gmail.com>
Subject: Re: collaboration request - apache server automation testing with
 swat tool
From: Alexey Melezhik <melezhik@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Here the list of existed issues I was able to automate tests for:

vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ ls -1 | grep -P '\d'
44221
46751
58789
58828
58854


I have informed developers at https://bz.apache.org/bugzilla/ about
these, so they rely upon them. Or you have some pre-release testing,
so run all of these in a whole chunk?

Regards

Alexey

PS chaining issues / tests listing  as always -
https://github.com/melezhik/apache-swat

PS2 it'd be could to verify tests as well against "bleeding edge"
apache version gets installed from SCM, but I don't know how to do
this.
Currently I use http://httpd.apache.org/download.cgi ( last stable release )



2016-01-30 21:36 GMT+03:00 Alexey Melezhik <melezhik@gmail.com>:
> Hi Bill!
>
> I have started to assemble swat tests  for apache2 issues coming from
> https://bz.apache.org/bugzilla
>
> And this the first one - https://bz.apache.org/bugzilla/show_bug.cgi?id=44221 ,
>
> Test suite is failed for the moment :
>
>
> vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ swat -t 44221
> /home/vagrant/.swat/.cache/384/prove/44221/foo.baz/00.GET.t ...
> ok 1 - GET 127.0.0.1/44221/foo.baz succeeded
> # http headers saved to /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ.hdr
> # body saved to /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ
> ok 2 - output match '200 OK'
> 1..2
> ok
> /home/vagrant/.swat/.cache/384/prove/44221/FOO.bar/00.GET.t ...
> ok 1 - GET 127.0.0.1/44221/FOO.bar succeeded
> # http headers saved to /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe.hdr
> # body saved to /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe
> ok 2 - output match '200 OK'
> ok 3 - output match /Location: \S+/
> ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
> 1..4
> ok
> /home/vagrant/.swat/.cache/384/prove/44221/foo.BAR/00.GET.t ...
> ok 1 - GET 127.0.0.1/44221/foo.BAR succeeded
> # http headers saved to /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ.hdr
> # body saved to /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ
> ok 2 - output match '200 OK'
> ok 3 - output match /Location: \S+/
> ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
> 1..4
> ok
> /home/vagrant/.swat/.cache/384/prove/44221/foo.bar/00.GET.t ...
> ok 1 - GET 127.0.0.1/44221/foo.bar succeeded
> # http headers saved to /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv.hdr
> # body saved to /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv
> ok 2 - output match '200 OK'
> 1..2
> ok
> /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t ..
> ok 1 - GET 127.0.0.1/44221/foo.html succeeded
> # http headers saved to /home/vagrant/.swat/.cache/384/prove/tW2L511eym.hdr
> # body saved to /home/vagrant/.swat/.cache/384/prove/tW2L511eym
> ok 2 - output match /HTTP\/(\S+) (\d+) \S+/
> not ok 3 - 'HTTP/1.1 300 Multiple Choices' match /404 /
>
> #   Failed test ''HTTP/1.1 300 Multiple Choices' match /404 /'
> #   at /usr/local/share/perl/5.20.2/swat.pm line 218.
> not ok 4 - output match 'Not Found'
>
> #   Failed test 'output match 'Not Found''
> #   at /usr/local/share/perl/5.20.2/swat.pm line 218.
> 1..4
> # Looks like you failed 2 tests of 4.
> Dubious, test returned 2 (wstat 512, 0x200)
> Failed 2/4 subtests
>
> Test Summary Report
> -------------------
> /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t (Wstat:
> 512 Tests: 4 Failed: 2)
>   Failed tests:  3-4
>   Non-zero exit status: 2
> Files=5, Tests=16,  0 wallclock secs ( 0.03 usr  0.00 sys +  0.27 cusr
>  0.00 csys =  0.30 CPU)
> Result: FAIL
>
> ...
>
> Ok, this is just the beginning ;-))) , watch soon updates at -
> https://github.com/melezhik/apache-swat
>
> 2016-01-29 20:44 GMT+03:00 William A Rowe Jr <wrowe@rowe-clan.net>:
>> On Fri, Jan 29, 2016 at 6:35 AM, Alexey Melezhik <melezhik@gmail.com> wrote:
>>>
>>> Hi Bill!
>>>
>>> Any news? ( Please see my previous reply ...)
>>> Intr
>>
>>
>> Intrigued :)  But my responses will be delayed, I personally
>> won't have time to look further myself until other backlogged
>> commitments to httpd are caught up some more.
>>
>> Be aware many of us have only a few hours to participate in the
>> httpd project itself, so it will take several days or more to gather
>> feedback on your interest and perhaps a champion to drive such
>> an effort if it is actively driven from this side.  Of course that
>> should not stop you from assembling some ideas at the vcs of
>> your choice, and sharing a link for those who want to look at an
>> early draft of such an effort!
>>
>> Cheers,
>>
>> Bill

From dev-return-85372-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 11:42:22 2016
Return-Path: <dev-return-85372-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 210DB18C0A
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 11:42:22 +0000 (UTC)
Received: (qmail 86712 invoked by uid 500); 1 Feb 2016 11:42:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86645 invoked by uid 500); 1 Feb 2016 11:42:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86635 invoked by uid 99); 1 Feb 2016 11:42:15 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 11:42:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 833BEC0873
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 11:42:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id EBEBOsm8etaU for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 11:42:04 +0000 (UTC)
Received: from resqmta-po-08v.sys.comcast.net (resqmta-po-08v.sys.comcast.net [96.114.154.167])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 4916B429BC
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 11:42:04 +0000 (UTC)
Received: from resomta-po-07v.sys.comcast.net ([96.114.154.231])
	by resqmta-po-08v.sys.comcast.net with comcast
	id Czhx1s0044zp9eg01zhxzC; Mon, 01 Feb 2016 11:41:57 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-07v.sys.comcast.net with comcast
	id Czhw1s0012U0RYt01zhwvg; Mon, 01 Feb 2016 11:41:57 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56AEC5EF.6030201@kraut.ca>
Date: Mon, 1 Feb 2016 06:41:55 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <42E083B8-D29C-4D35-AC33-037FCE7CA718@jaguNET.com>
References: <56AEC5EF.6030201@kraut.ca>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1454326917;
	bh=K9RNCI5PSDccphsciDB6yLDR0LO+8z2d2SxJ1wYkpZQ=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=e0tVsny61FaOrT0hyu6cjzbKLEo8e2PTe+MIELDK7AUeTCV6Fq/Jk6jLBCrvLwXXq
	 ozjTfHAyNjZMK/XNJ+OE+7tfXPXUhsD/mPkP7vez/uij+syCaDDJuTiLBs4DIRyDRb
	 7/k994MLKhYz2NAQhEYvltX8UeiWcgtLNq83N6z7jWox2kmO3abMzA79Uypz05WhMF
	 gpYgGsGyHgHrII5n7fFL+qEco0TUXGWLSYoc2MQuPpf9FQ+smoZk8ZKafJGf5FKUm6
	 ndcIrKmOsfxP8F1d6IKOc6qBFFVG1At/QbOAJsBH1GA84fm/TwSQ98Y3wo5QM3zwcb
	 d9nBiu2mCK8nQ==

Looks like this is "fallout" from:

    http://svn.apache.org/viewvc?view=3Drevision&revision=3D1707230


> On Jan 31, 2016, at 9:41 PM, Joachim Achtzehnter <joachim@kraut.ca> =
wrote:
>=20
> After upgrading from 2.4.12 to 2.4.18 we find that some requests for =
files cause a lock-up when HTTPS is used, but not with plain HTTP. After =
some debugging it seems the problem is that the mod_ssl no longer =
explicitly flushes the output it produced before going back to reading a =
new request on the same connection.
>=20
> This is a 32-bit Intel Linux platform, and by stepping through the =
mod_ssl output filter in the debugger I can see that the files that =
cause problems are being read by Apache using the mmap approach.
>=20
> Restoring the explicit flushing from 2.4.12 gets the 2.4.18 version of =
mod-ssl working for us. Here is the patch:
>=20
>=20
> --- ssl_engine_io.c.orig	2015-11-19 11:55:25.000000000 -0800
> +++ ssl_engine_io.c	2016-01-31 17:22:54.586227441 -0800
> @@ -466,6 +466,21 @@
>         return -1;
>     }
>=20
> +    /* In theory, OpenSSL should flush as necessary, but it is known
> +     * not to do so correctly in some cases; see PR 46952.
> +     *
> +     * Historically, this flush call was performed only for an SSLv2
> +     * connection or for a proxy connection.  Calling _out_flush
> +     * should be very cheap in cases where it is unnecessary (and no
> +     * output is buffered) so the performance impact of doing it
> +     * unconditionally should be minimal.
> +     */
> +    if (bio_filter_out_flush(inctx->bio_out) < 0) {
> +        bio_filter_out_ctx_t *outctx =3D inctx->bio_out->ptr;
> +        inctx->rc =3D outctx->rc;
> +        return -1;
> +    }
> +
>     BIO_clear_retry_flags(bio);
>=20
>     if (!inctx->bb) {
>=20
>=20
>=20


From dev-return-85373-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 12:12:04 2016
Return-Path: <dev-return-85373-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 784CA18CDE
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 12:12:04 +0000 (UTC)
Received: (qmail 29513 invoked by uid 500); 1 Feb 2016 12:11:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29436 invoked by uid 500); 1 Feb 2016 12:11:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29426 invoked by uid 99); 1 Feb 2016 12:11:57 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 12:11:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 0919F1A010C
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 12:11:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.899
X-Spam-Level: **
X-Spam-Status: No, score=2.899 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id bOeg4dB62X7e for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 12:11:50 +0000 (UTC)
Received: from mail-lb0-f175.google.com (mail-lb0-f175.google.com [209.85.217.175])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 46B504359E
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 12:11:50 +0000 (UTC)
Received: by mail-lb0-f175.google.com with SMTP id x4so74545986lbm.0
        for <dev@httpd.apache.org>; Mon, 01 Feb 2016 04:11:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=+s+4BsXlgAoLQzbaIsSZyEEN4yqYjLK4StaTZEMe4bo=;
        b=mMBdqfNgfjM8iUIHHOeUcdzRobxw/Rf6AdIdB7ylHsgLUGMtlZ0x5IMUhw9aFwdsZ2
         Wj+Hi/LQaQroFkUHT9+oKoddQve0a9m2IDLj1SdTxybBaDMjSblMppf4UbsKCcMLooNL
         d9e8Od9riPoGXbPJqISt6k4PvzShLW5TyAHf8fUJfYkNF6Wg4aOHgOrmLa+GSop/zDnc
         /zavHdYI9j14Jw2ET36NEkhQPfLrXApx/bRSaw5qNC77aAjb7jGFBBTU+7j3WYiSyfol
         pGHb2ghIUL6KqICp+P62eJmlfPv3h+kEEFfn1JmPSPJewdwrAuMMcTBJmy5pOhtN74lD
         3UmA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=+s+4BsXlgAoLQzbaIsSZyEEN4yqYjLK4StaTZEMe4bo=;
        b=Ynd7pQ18SvGqLKL/VWYcq5wniouXLLJDSkLdUFSygxboJ26lyM69TJAibSX2oOZRLI
         Z8LhXjXjlJ4HWmj/XfwrOHsQX3t85gWzI++aV81S50JfkpHdO/JnxB0AEW9gaRGW7VoC
         zXFZkrJg+lvkpLHDkOiXWKs5o1lWCa1G6S8kkwz7OSnu3tGCAiKyDh2RlmH2d1coDDZg
         ozmz2sgnR2NQhqzeLIjbHJWnYc4bzRujGobX18bpJRHq+/Ug6DFeBHxjETw0zjaX3Dts
         nwBXDe+jNQDnlaiUVsY91p5lFuIOxA4wSjlqpdRJsLsYWACFAZiYLktXkYBo0Zg6eBR7
         80CQ==
X-Gm-Message-State: AG10YOR8xpEp74/K/J6GdULNYR3xZhvag2FDQGif2ia6ZdYsHRq7xOATro/e3HaIuWl9hUZVbHGc76fZqzeo3g==
MIME-Version: 1.0
X-Received: by 10.112.144.226 with SMTP id sp2mr8337452lbb.70.1454328709219;
 Mon, 01 Feb 2016 04:11:49 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Mon, 1 Feb 2016 04:11:49 -0800 (PST)
In-Reply-To: <20E45478-F2D6-4DA4-AFC1-CEB04C500B15@greenbytes.de>
References: <CAFedD43ZE8sgyp-VAvJJhLusqcePmgDJFshMUBa96ijWzwnX9g@mail.gmail.com>
	<20E45478-F2D6-4DA4-AFC1-CEB04C500B15@greenbytes.de>
Date: Mon, 1 Feb 2016 13:11:49 +0100
Message-ID: <CAFedD43+BmYGAYeU-_M5Bsemzq0yiNcGi_EJP7QG=fUC_ZQY=w@mail.gmail.com>
Subject: Re: Questions about mod_event's documentation
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=047d7b342fd4198e46052ab44a30

--047d7b342fd4198e46052ab44a30
Content-Type: text/plain; charset=UTF-8

Hi Stefan,

thanks for the answers! Commenting inline:

2016-02-01 10:54 GMT+01:00 Stefan Eissing <stefan.eissing@greenbytes.de>:
>
>
> > - mod_ssl and mod_deflate are examples of filters that needs to act on
> the whole response so a worker gets stuck flushing data to slow clients
> rather than giving up the socket earlier to the listener and doing a
> different work.
>
> Hmm, not sure I understand your point. Every part in the process of
> generating the bytes sent out on the socket is involved here. The crucial
> difference between the worker and the event mpm is:
> - worker keeps the response state on the stack
> - event keeps the response state in the heap
> which means that calls to response processing
> - on worker, need to return when all is done
> - on event, may return whenever a READ/WRITE event or TIMEOUT/KEEPALIVE is
> needed.
>
> In that way, writing a response with event is "stutter stepping" it. Write
> until EWOULDBLOCK, return, queued, event, write until EWOULDBLOCK,...
>
> (my understanding)
>

Really sorry for my poor explanation, but I am still in early phases when
you bang your head against httpd's code until you get something out of it :)

More context from the doc:

"A similar restriction is currently present for requests involving an
output filter that needs to read and/or modify the whole response body,
like for example mod_ssl, mod_deflate, or mod_include. If the connection to
the client blocks while the filter is processing the data, and the amount
of data produced by the filter is too big to be buffered in memory, the
thread used for the request is not freed while httpd waits until the
pending data is sent to the client."

After a chat in #httpd-dev I realised that this use case is not the
standard one for processing a https connection with event, but only a
corner case. For some reason this lead me to think that event was handling
HTTPS connections like worker in all the use cases (some sysadmin friends
thought the same too). It might be necessary only to add this note and
everything would be clearer in my opinion.

My goal is to reduce the time to understand mod-event (and to appreciate
all its greatness) for the "standard guy" like me. I now realise that the
docs are containing all the info that I needed but for some reason I wasn't
getting the correct picture out of it (some processing errors in my brain
might also be part of the problem but I can't easily fix it :)

Thanks! Looking forward to have other feedbacks!

Luca

--047d7b342fd4198e46052ab44a30
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi <span style=3D"font-size:12.8px;white-space:nowrap">Ste=
fan,</span><div><span style=3D"font-size:12.8px;white-space:nowrap"><br></s=
pan></div><div><span style=3D"font-size:12.8px;white-space:nowrap">thanks f=
or the answers! Commenting inline:</span></div><div class=3D"gmail_extra"><=
br><div class=3D"gmail_quote">2016-02-01 10:54 GMT+01:00 Stefan Eissing <sp=
an dir=3D"ltr">&lt;<a href=3D"mailto:stefan.eissing@greenbytes.de" target=
=3D"_blank">stefan.eissing@greenbytes.de</a>&gt;</span>:<blockquote class=
=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;bo=
rder-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">
<span class=3D""><br>
&gt; - mod_ssl and mod_deflate are examples of filters that needs to act on=
 the whole response so a worker gets stuck flushing data to slow clients ra=
ther than giving up the socket earlier to the listener and doing a differen=
t work.<br>
<br>
</span>Hmm, not sure I understand your point. Every part in the process of =
generating the bytes sent out on the socket is involved here. The crucial d=
ifference between the worker and the event mpm is:<br>
- worker keeps the response state on the stack<br>
- event keeps the response state in the heap<br>
which means that calls to response processing<br>
- on worker, need to return when all is done<br>
- on event, may return whenever a READ/WRITE event or TIMEOUT/KEEPALIVE is =
needed.<br>
<br>
In that way, writing a response with event is &quot;stutter stepping&quot; =
it. Write until EWOULDBLOCK, return, queued, event, write until EWOULDBLOCK=
,...<br>
<br>
(my understanding)<br></blockquote><div><br></div><div>Really sorry for my =
poor explanation, but I am still in early phases when you bang your head ag=
ainst httpd&#39;s code until you get something out of it :)</div><div><br><=
/div><div>More context from the doc:</div><div><br></div><div>&quot;A simil=
ar restriction is currently present for requests involving an output filter=
 that needs to read and/or modify the whole response body, like for example=
 mod_ssl, mod_deflate, or mod_include. If the connection to the client bloc=
ks while the filter is processing the data, and the amount of data produced=
 by the filter is too big to be buffered in memory, the thread used for the=
 request is not freed while httpd waits until the pending data is sent to t=
he client.&quot;</div><div><br></div><div>After a chat in #httpd-dev I real=
ised that this use case is not the standard one for processing a https conn=
ection with event, but only a corner case. For some reason this lead me to =
think that event was handling HTTPS connections like worker in all the use =
cases (some sysadmin friends thought the same too). It might be necessary o=
nly to add this note and everything would be clearer in my opinion.=C2=A0</=
div><div>=C2=A0</div><div>My goal is to reduce the time to understand mod-e=
vent (and to appreciate all its greatness) for the &quot;standard guy&quot;=
 like me. I now realise that the docs are containing all the info that I ne=
eded but for some reason I wasn&#39;t getting the correct picture out of it=
 (some processing errors in my brain might also be part of the problem but =
I can&#39;t easily fix it :)</div><div><br></div><div>Thanks! Looking forwa=
rd to have other feedbacks!</div><div><br></div><div>Luca</div></div><br></=
div></div>

--047d7b342fd4198e46052ab44a30--

From dev-return-85374-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 12:19:31 2016
Return-Path: <dev-return-85374-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7F44818D1B
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 12:19:31 +0000 (UTC)
Received: (qmail 54133 invoked by uid 500); 1 Feb 2016 12:19:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54068 invoked by uid 500); 1 Feb 2016 12:19:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54058 invoked by uid 99); 1 Feb 2016 12:19:18 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 12:19:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id EBD8AC099A
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 12:19:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id H1rxOxXLt7E1 for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 12:19:08 +0000 (UTC)
Received: from mail-qg0-f53.google.com (mail-qg0-f53.google.com [209.85.192.53])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id D772D207E1
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 12:19:07 +0000 (UTC)
Received: by mail-qg0-f53.google.com with SMTP id 6so115494679qgy.1
        for <dev@httpd.apache.org>; Mon, 01 Feb 2016 04:19:07 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ijdhw1mhWtsv+3rEp2iOn+JOzOqHkphbB3ycYhPalQE=;
        b=zZrjS23A9EtC1TCDKeYjTdU5G3mzdFxm1/N//2zodtdABHzqoMG/xgIzmaXQ4BmEQQ
         1htSl60EgbP8vzh+HnMOWRG03kbwj16dnTicxdxt3kU0sVzK7x+yTUOv+5TP2wtrgFba
         bSW4pQGwBsGnQ2CbEvqBR1YRPEefua+CUKmgRQwpKQyrCn9hAGHVFg6UrARBEcL8RVkg
         0JaAMtntIf7j9mzON2UjOy0DAO0ZEf3JosURqyTGCZzZkDmcicwMZfUfB8iYH10sQQTe
         l4W68CPkInT9X6BEFHosj3EqfxgdJBbYChh21wuNrcoq/8DDt8YH57HDD2X5Y27d/LtB
         C63w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=ijdhw1mhWtsv+3rEp2iOn+JOzOqHkphbB3ycYhPalQE=;
        b=FOfmvN++rfoX2O6Sb7qHPApfJPqBQfSHVbx6VNxpQoPa7bKrJ/sc1x2797MHeDXSNs
         A8RhV1PV/ScvsWzxTOvg0ZdI1z4O6E+YVC5yLe0qnf4bAxQNfWbArzK0TP8fIfoLn/38
         4sCqwDPd51dHO8zNj9f/ReyzwBq1V//Qqx7yfwLGIQnAE3a4g0sh5agfrYWstqFiyJP5
         Ol5YM0TwadotjdwNFEovz4/OLcVEZuwxYhSMMhXFCAMyj/Y45Ozd0sRnHKRhSXgDyFet
         xG8WM7XMVdr89/LvJwMeUB2JM/e9CRil3Oodec2hTp1xsqfyCzobDMMEQ1XPqBTcEGvr
         0CGg==
X-Gm-Message-State: AG10YOT+Rc+i18WPYj+AWAYRQLgNFqL3cwoWEgsGl6iM3LKNVxRVIz/oAAZp6iqFZ310qkxxzB5W/S3Tupp14Q==
MIME-Version: 1.0
X-Received: by 10.140.179.216 with SMTP id z207mr29294920qhz.70.1454329147045;
 Mon, 01 Feb 2016 04:19:07 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Mon, 1 Feb 2016 04:19:06 -0800 (PST)
In-Reply-To: <56AF20F8.5080204@kraut.ca>
References: <56AEC5EF.6030201@kraut.ca>
	<CAKQ1sVMbkyYzNzp3iRMRx-rYFHmAX+Bku=Y6Qmxw4DMhHvyiJA@mail.gmail.com>
	<56AF20F8.5080204@kraut.ca>
Date: Mon, 1 Feb 2016 13:19:06 +0100
Message-ID: <CAKQ1sVPjhn1_NLsWTr+CA0gDDUB2L4sz9Z3cnDPRPqQSFjTb0A@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: multipart/mixed; boundary=001a113a9d763263fe052ab464bb

--001a113a9d763263fe052ab464bb
Content-Type: text/plain; charset=UTF-8

On Mon, Feb 1, 2016 at 10:10 AM, Joachim Achtzehnter <joachim@kraut.ca> wrote:
> The problem was first discovered with Apache 2.4.18 compiled against
> OpenSSL/1.0.1m. The running system, which is an i686 Linux system, used the
> same versions.
>
> We then installed our old mod_ssl.so from Apache 2.4.12, everything else
> unchanged, and this worked. This was enough of a hint to debug the 2.4.18
> version of the module. Before doing this, we downloaded the latest
> apr/apr-util, and OpenSSL packages, and rebuilt everything. OpenSSL is now
> at 1.0.2f. All of this was installed on the running system, and it behaved
> the same way, with some files causing the client to hang forever.

Thanks for the details.

>
> Applying the patch I included in the previous message gets it working for
> us.

This restores the previous (pre 2.4.18) behaviour of flushing output
on every read, which I'd prefer to avoid, if possible.

Could you provide some network capture (tcpdump, wireshark...) when
the lock-up occurs?
Is EnableMMap somehow always involded here (you mention it in the
original message)?
That would help to build a reproducer...

Maybe the attached patch could be "enough" to fix the issue?
This patch also includes some minimal logging (level NOTICE) to help
diagnose in case of lock-up, still.
It may be necessary to apply patch [1] before (conflict with current
2.4.x, which the attached patch is based on).

Regards,
Yann.

[1] http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/modules/ssl/ssl_engine_io.c?r1=1722179&r2=1722178&pathrev=1722179&view=patch

--001a113a9d763263fe052ab464bb
Content-Type: text/diff; charset=US-ASCII; name="modssl_ssl_need_flush.patch"
Content-Disposition: attachment; filename="modssl_ssl_need_flush.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ik3xp8wr0

SW5kZXg6IG1vZHVsZXMvc3NsL3NzbF9lbmdpbmVfaW8uYwo9PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVz
L3NzbC9zc2xfZW5naW5lX2lvLmMJKHJldmlzaW9uIDE3Mjc5MjMpCisrKyBtb2R1bGVzL3NzbC9z
c2xfZW5naW5lX2lvLmMJKHdvcmtpbmcgY29weSkKQEAgLTE4MywxMSArMTgzLDE5IEBAIHN0YXRp
YyBpbnQgYmlvX2ZpbHRlcl9vdXRfcmVhZChCSU8gKmJpbywgY2hhciAqb3V0CiAgICAgcmV0dXJu
IC0xOwogfQogCitzdGF0aWMgaW50IG1vZHNzbF9zc2xfbmVlZF9mbHVzaChTU0wgKnNzbCkKK3sK
KyNpZiBPUEVOU1NMX1ZFUlNJT05fTlVNQkVSIDwgMHgwMDA5MDgwZGYKKyAgICAgcmV0dXJuICFT
U0xfaXNfaW5pdF9maW5pc2hlZChzc2wpOworI2Vsc2UKKyAgICAgcmV0dXJuIFNTTF9pbl9jb25u
ZWN0X2luaXQoc3NsKTsKKyNlbmRpZgorfQorCiBzdGF0aWMgaW50IGJpb19maWx0ZXJfb3V0X3dy
aXRlKEJJTyAqYmlvLCBjb25zdCBjaGFyICppbiwgaW50IGlubCkKIHsKICAgICBiaW9fZmlsdGVy
X291dF9jdHhfdCAqb3V0Y3R4ID0gKGJpb19maWx0ZXJfb3V0X2N0eF90ICopKGJpby0+cHRyKTsK
ICAgICBhcHJfYnVja2V0ICplOwotICAgIGludCBuZWVkX2ZsdXNoOwogCiAgICAgLyogQWJvcnQg
ZWFybHkgaWYgdGhlIGNsaWVudCBoYXMgaW5pdGlhdGVkIGEgcmVuZWdvdGlhdGlvbi4gKi8KICAg
ICBpZiAob3V0Y3R4LT5maWx0ZXJfY3R4LT5jb25maWctPnJlbmVnX3N0YXRlID09IFJFTkVHX0FC
T1JUKSB7CkBAIC0yMTAsMjQgKzIxOCwyMCBAQCBzdGF0aWMgaW50IGJpb19maWx0ZXJfb3V0X3dy
aXRlKEJJTyAqYmlvLCBjb25zdCBjaAogICAgICAqIG5vdCB0byBkbyBzbyBjb3JyZWN0bHkgaW4g
c29tZSBjYXNlcyAoPCAwLjkuOG07IHNlZSBQUiA0Njk1MiksCiAgICAgICogb3Igb24gdGhlIHBy
b3h5L2NsaWVudCBzaWRlIChhZnRlciBzc2wyM19jbGllbnRfaGVsbG8oKSwgZS5nLgogICAgICAq
IHNzbC9wcm94eS50IHRlc3Qgc3VpdGUpLgotICAgICAqCi0gICAgICogSGlzdG9yaWNhbGx5LCB0
aGlzIGZsdXNoIGNhbGwgd2FzIHBlcmZvcm1lZCBvbmx5IGZvciBhbiBTU0x2MgotICAgICAqIGNv
bm5lY3Rpb24gb3IgZm9yIGEgcHJveHkgY29ubmVjdGlvbi4gIENhbGxpbmcgX291dF9mbHVzaCBj
YW4KLSAgICAgKiBiZSBleHBlbnNpdmUgaW4gY2FzZXMgd2hlcmUgcmVxdWVzdHMvcmVwb25zZXMg
YXJlIHBpcGVsaW5lZCwKLSAgICAgKiBzbyBsaW1pdCB0aGUgcGVyZm9ybWFuY2UgaW1wYWN0IHRv
IGhhbmRzaGFrZSB0aW1lLgogICAgICAqLwotI2lmIE9QRU5TU0xfVkVSU0lPTl9OVU1CRVIgPCAw
eDAwMDkwODBkZgotICAgICBuZWVkX2ZsdXNoID0gIVNTTF9pc19pbml0X2ZpbmlzaGVkKG91dGN0
eC0+ZmlsdGVyX2N0eC0+cHNzbCk7Ci0jZWxzZQotICAgICBuZWVkX2ZsdXNoID0gU1NMX2luX2Nv
bm5lY3RfaW5pdChvdXRjdHgtPmZpbHRlcl9jdHgtPnBzc2wpOwotI2VuZGlmCi0gICAgaWYgKG5l
ZWRfZmx1c2gpIHsKLSAgICAgICAgZSA9IGFwcl9idWNrZXRfZmx1c2hfY3JlYXRlKG91dGN0eC0+
YmItPmJ1Y2tldF9hbGxvYyk7Ci0gICAgICAgIEFQUl9CUklHQURFX0lOU0VSVF9UQUlMKG91dGN0
eC0+YmIsIGUpOworICAgIGlmICghbW9kc3NsX3NzbF9uZWVkX2ZsdXNoKG91dGN0eC0+ZmlsdGVy
X2N0eC0+cHNzbCkpIHsKKyAgICAgICAgYXBfbG9nX2NlcnJvcihBUExPR19NQVJLLCBBUExPR19O
T1RJQ0UsIDAsIG91dGN0eC0+YywKKyAgICAgICAgICAgICAgICAgICAgICAiYmlvWyVwcF0gb3V0
OiBwYXNzaW5nICVkIGJ5dGVzIiwgYmlvLCBpbmwpOworICAgICAgICBpZiAoYmlvX2ZpbHRlcl9v
dXRfcGFzcyhvdXRjdHgpIDwgMCkgeworICAgICAgICAgICAgcmV0dXJuIC0xOworICAgICAgICB9
CiAgICAgfQotCi0gICAgaWYgKGJpb19maWx0ZXJfb3V0X3Bhc3Mob3V0Y3R4KSA8IDApIHsKLSAg
ICAgICAgcmV0dXJuIC0xOworICAgIGVsc2UgeworICAgICAgICBhcF9sb2dfY2Vycm9yKEFQTE9H
X01BUkssIEFQTE9HX05PVElDRSwgMCwgb3V0Y3R4LT5jLAorICAgICAgICAgICAgICAgICAgICAg
ICJiaW9bJXBwXSBvdXQ6IGZsdXNoaW5nICVkIGJ5dGVzIiwgYmlvLCBpbmwpOworICAgICAgICBp
ZiAoYmlvX2ZpbHRlcl9vdXRfZmx1c2goYmlvKSA8IDApIHsKKyAgICAgICAgICAgIHJldHVybiAt
MTsKKyAgICAgICAgfQogICAgIH0KIAogICAgIHJldHVybiBpbmw7CkBAIC00NjgsNiArNDcyLDMx
IEBAIHN0YXRpYyBpbnQgYmlvX2ZpbHRlcl9pbl9yZWFkKEJJTyAqYmlvLCBjaGFyICppbiwKIAog
ICAgIEJJT19jbGVhcl9yZXRyeV9mbGFncyhiaW8pOwogCisgICAgLyogSW4gdGhlb3J5LCBPcGVu
U1NMIHNob3VsZCBmbHVzaCBhcyBuZWNlc3NhcnksIGJ1dCBpdCBpcyBrbm93bgorICAgICAqIG5v
dCB0byBkbyBzbyBjb3JyZWN0bHkgaW4gc29tZSBjYXNlcyAoPCAwLjkuOG07IHNlZSBQUiA0Njk1
MiksCisgICAgICogb3Igb24gdGhlIHByb3h5L2NsaWVudCBzaWRlIChhZnRlciBzc2wyM19jbGll
bnRfaGVsbG8oKSwgZS5nLgorICAgICAqIHNzbC9wcm94eS50IHRlc3Qgc3VpdGUpLgorICAgICAq
CisgICAgICogSGlzdG9yaWNhbGx5LCB0aGlzIGZsdXNoIGNhbGwgd2FzIHBlcmZvcm1lZCBvbmx5
IGZvciBhbiBTU0x2MgorICAgICAqIGNvbm5lY3Rpb24gb3IgZm9yIGEgcHJveHkgY29ubmVjdGlv
bi4gIENhbGxpbmcgX291dF9mbHVzaCBjYW4KKyAgICAgKiBiZSBleHBlbnNpdmUgaW4gY2FzZXMg
d2hlcmUgcmVxdWVzdHMvcmVwb25zZXMgYXJlIHBpcGVsaW5lZCwKKyAgICAgKiBzbyBsaW1pdCB0
aGUgcGVyZm9ybWFuY2UgaW1wYWN0IHRvIGhhbmRzaGFrZSB0aW1lLgorICAgICAqLworICAgIGlm
IChtb2Rzc2xfc3NsX25lZWRfZmx1c2goaW5jdHgtPmZpbHRlcl9jdHgtPnBzc2wpKSB7CisgICAg
ICAgIGJpb19maWx0ZXJfb3V0X2N0eF90ICpvdXRjdHggPSBpbmN0eC0+YmlvX291dC0+cHRyOwor
ICAgICAgICBhcF9sb2dfY2Vycm9yKEFQTE9HX01BUkssIEFQTE9HX05PVElDRSwgMCwgb3V0Y3R4
LT5jLAorICAgICAgICAgICAgICAgICAgICAgICJiaW9bJXBwXSBpbjogZmx1c2hpbmciLCBpbmN0
eC0+YmlvX291dCk7CisgICAgICAgIGlmIChiaW9fZmlsdGVyX291dF9mbHVzaChpbmN0eC0+Ymlv
X291dCkgPCAwKSB7CisgICAgICAgICAgICBpbmN0eC0+cmMgPSBvdXRjdHgtPnJjOworICAgICAg
ICAgICAgcmV0dXJuIC0xOworICAgICAgICB9CisgICAgfQorICAgIGVsc2UgeworICAgICAgICBj
b25uX3JlYyAqYyA9IFNTTF9nZXRfYXBwX2RhdGEoaW5jdHgtPmZpbHRlcl9jdHgtPnBzc2wpOwor
ICAgICAgICBhcF9sb2dfY2Vycm9yKEFQTE9HX01BUkssIEFQTE9HX05PVElDRSwgMCwgYywKKyAg
ICAgICAgICAgICAgICAgICAgICAiYmlvWyVwcF0gaW46IG5vdCBmbHVzaGluZyIsIGluY3R4LT5i
aW9fb3V0KTsKKyAgICB9CisKICAgICBpZiAoIWluY3R4LT5iYikgewogICAgICAgICBpbmN0eC0+
cmMgPSBBUFJfRU9GOwogICAgICAgICByZXR1cm4gLTE7Cg==
--001a113a9d763263fe052ab464bb--

From dev-return-85375-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 12:42:29 2016
Return-Path: <dev-return-85375-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 78C1A18DB0
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 12:42:29 +0000 (UTC)
Received: (qmail 4937 invoked by uid 500); 1 Feb 2016 12:42:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 4864 invoked by uid 500); 1 Feb 2016 12:42:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 4854 invoked by uid 99); 1 Feb 2016 12:42:28 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 12:42:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 1FFAC1A0739
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 12:42:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id IU2VeGMYolhu for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 12:42:27 +0000 (UTC)
Received: from mail-qk0-f171.google.com (mail-qk0-f171.google.com [209.85.220.171])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A25E72565F
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 12:42:26 +0000 (UTC)
Received: by mail-qk0-f171.google.com with SMTP id s5so49815174qkd.0
        for <dev@httpd.apache.org>; Mon, 01 Feb 2016 04:42:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=8zDMPgq/wv2b15YvpoloqEnhXUbDZL4yES7sb/mu4LQ=;
        b=Os2QMpTkvUmfm97VPxBJWBd1ztVtHyWCTcmz5qXQX4vUR8y1jypyyCmNPXH0bRcHUp
         Gj8gPbh4lMGlQcn1oNIjApH+iTp/Km53WSljatbpg0rl0XlzTEWFGg89NoG5VelhcV+F
         cy2VO8LEzEXTrmam92dFl+rnowGWRTLSo1Z9MkQpRf0uQrK7iTQABnNqWFW/H9Lmk37T
         sCg6gjzjENkxOKNLjO0hheonDU1GYme2Qw8HS8FV9zycKhoXrKNt4DmHL3NTrbUrLJRz
         pHzRe68DG+1sDQMQekmR2A/W4kwDLyZrmumtcuzMhVcBhsdDXeg1Gi7v8K/+gdaeVO8H
         ppcA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=8zDMPgq/wv2b15YvpoloqEnhXUbDZL4yES7sb/mu4LQ=;
        b=P4V1iDJiwiMA6NE+4+OV604in2JnywYg4lYEb/wAGyz2g884GN8moKbbaAdl34RY8g
         ITj60O/rQ3+AUOIKDRHs8jQYLRr09qpZrhwQyAegHN+ZJaS4lhjSx9m+Llb4/pQoUBwa
         BIAIJr4zh5lnZ8Y3aU+xXcAE/SjcBkHSGZkSWYpzNkvnTcQ2YUoOFgSaSjPFDecE39uW
         mj8SCZx0E7KbvxOq/0BoNFaag22nJzg18E0U3bexncJcoPAq/dP/hiBRr8/7Ntzo6tn/
         xN7Ehkoh+davEOi+CLBI/6WbfzPt0jvXZ0lpcKFzH4Whs+Qp0RwjfscGZE+rIZhLEwjv
         UAtA==
X-Gm-Message-State: AG10YOR2P960K8zz0ENAdSn4RlISeiX2BU9AOvnNB7Z8kUwNnr/rTkBjl65TRgJrfLV9u1w/oGcn6HzbeE7zSg==
MIME-Version: 1.0
X-Received: by 10.55.75.203 with SMTP id y194mr28537131qka.2.1454330545779;
 Mon, 01 Feb 2016 04:42:25 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Mon, 1 Feb 2016 04:42:25 -0800 (PST)
In-Reply-To: <CAKQ1sVPjhn1_NLsWTr+CA0gDDUB2L4sz9Z3cnDPRPqQSFjTb0A@mail.gmail.com>
References: <56AEC5EF.6030201@kraut.ca>
	<CAKQ1sVMbkyYzNzp3iRMRx-rYFHmAX+Bku=Y6Qmxw4DMhHvyiJA@mail.gmail.com>
	<56AF20F8.5080204@kraut.ca>
	<CAKQ1sVPjhn1_NLsWTr+CA0gDDUB2L4sz9Z3cnDPRPqQSFjTb0A@mail.gmail.com>
Date: Mon, 1 Feb 2016 13:42:25 +0100
Message-ID: <CAKQ1sVPHQpdpOMCPog2YAf9_q6fLGxA3Dk7Q3DfKQ2V1y0iYqw@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

A little precision:

On Mon, Feb 1, 2016 at 1:19 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> Could you provide some network capture (tcpdump, wireshark...) when
> the lock-up occurs?

I mean a pcap format here, the goal is correlating with the SSL
handshake (or renegotiation) which should be the only times where we
need to flush output.
It could be hard to parse the handshake with a simple text capture...

You may send it to me privately if it's a concern.

Thanks,
Yann.

From dev-return-85376-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 14:20:19 2016
Return-Path: <dev-return-85376-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C33571818A
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 14:20:19 +0000 (UTC)
Received: (qmail 10033 invoked by uid 500); 1 Feb 2016 14:19:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 9972 invoked by uid 500); 1 Feb 2016 14:19:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 9962 invoked by uid 99); 1 Feb 2016 14:19:45 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 14:19:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id AFA9BC0873
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 14:19:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id mHux4eaZP7za for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 14:19:35 +0000 (UTC)
Received: from resqmta-po-11v.sys.comcast.net (resqmta-po-11v.sys.comcast.net [96.114.154.170])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 632FF42B96
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 14:19:35 +0000 (UTC)
Received: from resomta-po-02v.sys.comcast.net ([96.114.154.226])
	by resqmta-po-11v.sys.comcast.net with comcast
	id D2Jy1s0054tLnxL012Ka9L; Mon, 01 Feb 2016 14:19:34 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-02v.sys.comcast.net with comcast
	id D2KZ1s0092U0RYt012KZgq; Mon, 01 Feb 2016 14:19:34 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Proxy_Util needs another export.
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56AD4E6D.2010208@gknw.net>
Date: Mon, 1 Feb 2016 09:19:33 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <88AEE4D6-590E-470B-A7FC-CF23D689EADA@jaguNET.com>
References: <56AD4E6D.2010208@gknw.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1454336374;
	bh=zihyYUwTLRR1WaWTlm15jo7RGS3cJVHwwrTSUbdsmhk=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=p9qVEzBYYdDGZsxW7Bbi4yL1dacy2X3tgHRBThuOX65L8jLutn306fKV+wVQ0z/I2
	 8wJbpiTuGyefo0VffcSkH4zri7rL+73zs747PaBkpXcazCWW6hq1KguXLuoDUrdwuh
	 VkydHdCOTwoEtS2FBb2f4mf0RYSHf3YzWvG+gL4vTHHoJe6C1ynIMX8t4WUMsLrtmE
	 uiP8M65Ckir0qz+dqRl1tPLw5GQsgNQJFGKYm5dxrmjgrKrGd9qIRojCYmKkSd0KSB
	 aUjw4vzfhsf5XOVN6yO0h/9uiLjhxgLD15ZBcOe1h+jQ6uc9CVHqEIXATfj884L/zp
	 AuPWyXt261NWg==

Applied!
> On Jan 30, 2016, at 6:59 PM, NormW <normw@gknw.net> wrote:
> 
> <one_more_proxy_util_exp.diff>


From dev-return-85377-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 14:20:43 2016
Return-Path: <dev-return-85377-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AB11218192
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 14:20:43 +0000 (UTC)
Received: (qmail 11281 invoked by uid 500); 1 Feb 2016 14:20:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11208 invoked by uid 500); 1 Feb 2016 14:20:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11198 invoked by uid 99); 1 Feb 2016 14:20:27 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 14:20:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id D17E31A002E
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 14:20:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id prvCuTWm46oW for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 14:20:15 +0000 (UTC)
Received: from resqmta-po-04v.sys.comcast.net (resqmta-po-04v.sys.comcast.net [96.114.154.163])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 9218043A19
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 14:20:15 +0000 (UTC)
Received: from resomta-po-02v.sys.comcast.net ([96.114.154.226])
	by resqmta-po-04v.sys.comcast.net with comcast
	id D2Ka1s0024tLnxL012L9Z7; Mon, 01 Feb 2016 14:20:09 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-02v.sys.comcast.net with comcast
	id D2KZ1s0092U0RYt012L8kD; Mon, 01 Feb 2016 14:20:08 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Proxy_Util needs another export.
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56AD4E6D.2010208@gknw.net>
Date: Mon, 1 Feb 2016 09:20:08 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <261DAB5D-F271-40A5-BE65-C70465376117@jaguNET.com>
References: <56AD4E6D.2010208@gknw.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1454336409;
	bh=mhjS6lD0guGzhn4FyilsONSLUrdNx9yBeuec/Uvjhyo=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=TWVexKUxWeXPH3VJdg1HdVzTVgKhe2PnSsfClBvUk1SghDL01Zgw77qlbVyXUaEZa
	 Z/1nKVHlPmcGpWBYeapOAR8TlAsiaNGMU2AHDfZ64qMmGTAYBQmO+kmrwvDO80/cSc
	 6R0Ks2zLX4r/nhQW+zBxx09D/liNJcoR/YqVxlVpKKuFm6zfY4xGXxXmwPHJUgReAP
	 Fr6f6mDWn2wk9qnoAttJvJaEfNrDTbGtFYBHnfjc6RWxFliHOqjnNWqdbd+UT5zdbb
	 Wq5lIuzrk+8ZLdekY9FwtlRNM0dHmPrupOfkrP9ahPnHgEguRGpXskcs5mIjD/pzQL
	 6BXhv0pjyYRZg==


> On Jan 30, 2016, at 6:59 PM, NormW <normw@gknw.net> wrote:
>=20
> G'Day,
> Wouldn't an awk script simplify symbol extraction from proxy_util and =
obviate the need for tweaking manual lists?
>=20

awk or perl or something, yeah :)


From dev-return-85378-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 14:32:12 2016
Return-Path: <dev-return-85378-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 858C21825D
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 14:32:12 +0000 (UTC)
Received: (qmail 47684 invoked by uid 500); 1 Feb 2016 14:32:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 47606 invoked by uid 500); 1 Feb 2016 14:32:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 47597 invoked by uid 99); 1 Feb 2016 14:32:11 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 14:32:11 +0000
Received: from gauss.localdomain (v4-86134b0f.pool.vitroconnect.de [134.19.75.15])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 588C11A0149
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 14:32:11 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 886CC1A0
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 15:32:08 +0100 (CET)
Subject: Re: svn commit: r1726787 -
 /httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
To: dev@httpd.apache.org
References: <20160126125718.90E3E3A00E7@svn01-us-west.apache.org>
 <CAKQ1sVMuz7gGmPOfRDADn7ONNVLuK3SmcKyZupjGbJycUXS0nA@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC640AB06@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVNzTS0JWBPuhz+XD4+3a6xL9LyAyHa8sLyAM9qUHOQjHA@mail.gmail.com>
 <56A91FA0.2070605@apache.org>
From: Ruediger Pluem <rpluem@apache.org>
X-Enigmail-Draft-Status: N1110
Message-ID: <56AF6C68.3090704@apache.org>
Date: Mon, 1 Feb 2016 15:32:08 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <56A91FA0.2070605@apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 01/27/2016 08:50 PM, Ruediger Pluem wrote:
> 
> 
> On 01/27/2016 12:46 PM, Yann Ylavic wrote:
>> On Wed, Jan 27, 2016 at 10:02 AM, Plm, Rdiger, Vodafone Group
>> <ruediger.pluem@vodafone.com> wrote:
>>>
>>>> -----Original Message-----
>>>> From: Yann Ylavic [mailto:ylavic.dev@gmail.com]
>>>> Sent: Mittwoch, 27. Januar 2016 09:15
>>>> To: httpd-dev
>>>> Subject: Re: svn commit: r1726787 -

> 
>>
>>>
>>>> (btw that could be optimized to flush outside the loop).
>>>
>>> Could be. The question is, whether this is ok from the websockets responsiveness point of view.
>>> OTOH we do an non blocking read. So this should be fine.
>>
>> Yes, while successive non-blocking reads give us data I don't think we
>> should "fragment" on the other side, let the core/socket buffers
>> handle it.
> 
> I am fine with flushing at the end of the loop. If no one opposes I can do this.
> 

Looking into this in more detail the following thoughts came up:

What do we think how much iterations do we do in this loop in the typical case
a.k.a how often do we call ap_get_brigade with a non blocking read?
My gut feeling tells me that we only do this once at least in the websocket case.
If this is the case the discussion whether to flush after the loop or in the loop wouldn't be
relevant any longer, but more important:
If it is ok to flush in the loop I think it would be better to add the flush bucket
directly to bb_out instead of calling ap_fflush afterwards. The reason for this is
that it gives downstream filters a better information on what they should do. With the current
approach they might set the buckets aside and store them for later processing and only
process them in the second round when they see the flush. If the flush would be on the first
brigade at least some of them would process the buckets directly without setting them aside.
Comments?

Regards

Rdiger

From dev-return-85379-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 14:54:34 2016
Return-Path: <dev-return-85379-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D724918374
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 14:54:34 +0000 (UTC)
Received: (qmail 94948 invoked by uid 500); 1 Feb 2016 14:54:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94881 invoked by uid 500); 1 Feb 2016 14:54:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94870 invoked by uid 99); 1 Feb 2016 14:54:34 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 14:54:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id DFA72180599
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 14:54:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id Ds-sHkPEzpeF for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 14:54:32 +0000 (UTC)
Received: from mail-qg0-f45.google.com (mail-qg0-f45.google.com [209.85.192.45])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 4E9F2207E1
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 14:54:32 +0000 (UTC)
Received: by mail-qg0-f45.google.com with SMTP id e32so120223006qgf.3
        for <dev@httpd.apache.org>; Mon, 01 Feb 2016 06:54:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=sK7yubo0bkijb3EO5V/o1hTIWsk2KzcNJDalDAhZ4Pk=;
        b=IW1/X+e1qLjHace5vnCu49Umbo5JIGhsBYLo6BytGeHOMHYpxijd/85ZPNWC2sgzlo
         GiiENaD7F5Zlo09aXQJJH0aqJQyHRdkn8phis7CLgeuUvq1NGd28wbRymhvbTInqUrqF
         hz7UThKZfSX+54runrDMx2/T35xfZi++iFbARScDUV9QBPAssQCxr/pJfvc8iWYlprXy
         AO/wQTWClnIC1fpEAWX/VEIAdq7JBnBUysbDiYRo/jBWcu6bHlFTnXbMdYzeGELulRJS
         ZMIDSCmCTqzu5RcaV67LnpCf959tcaNoJMZGmZmT/XKxgsgYxp+eFHdOZqZJaexZ78lO
         qieA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=sK7yubo0bkijb3EO5V/o1hTIWsk2KzcNJDalDAhZ4Pk=;
        b=FmhYWy+kjOJPkF8gf9/uKaqwd/LKsXXpRNmOLx51Bi0pX2JhjBRjVSR/sSUWHF8IjB
         sB0pTJStB/aB1wY7ZMteoh+iw8J892/bGj5/alEn66J0PrdJTJBjzJe7qFtj4TXSa5ZC
         t50RoEDz8fezOijsbn04WFAU5YTMcBVBHXbX3akAxOYuA2loAZniu9caaTE9mVJooXBs
         x3fGvsj7PqAG5X12l9XZrRsnIs9rxhp189L5scJeU8ZFv8fDxl8AtqizTCv1E17e9Lwh
         n77o6jq5PetXAxhGxvFcuai4uZ0Pt39rzFmZ2ZdSqKvEbec9mAcYkHXbU/vs2GO2qwJs
         elBA==
X-Gm-Message-State: AG10YOSZy4g6uiYIrnbXTc8Aq6abBorye/hVfsdd5vrzjjz1s2KUitkvRo4vvryUgGgupoVkowaXXOO3kRhZXg==
MIME-Version: 1.0
X-Received: by 10.140.172.213 with SMTP id s204mr12396993qhs.97.1454338471524;
 Mon, 01 Feb 2016 06:54:31 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Mon, 1 Feb 2016 06:54:31 -0800 (PST)
In-Reply-To: <56AF6C68.3090704@apache.org>
References: <20160126125718.90E3E3A00E7@svn01-us-west.apache.org>
	<CAKQ1sVMuz7gGmPOfRDADn7ONNVLuK3SmcKyZupjGbJycUXS0nA@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC640AB06@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVNzTS0JWBPuhz+XD4+3a6xL9LyAyHa8sLyAM9qUHOQjHA@mail.gmail.com>
	<56A91FA0.2070605@apache.org>
	<56AF6C68.3090704@apache.org>
Date: Mon, 1 Feb 2016 15:54:31 +0100
Message-ID: <CAKQ1sVOh+OcxBsD=ZBDjS94r4bUNDxt1z85yAchJH9mc-Gq7yQ@mail.gmail.com>
Subject: Re: svn commit: r1726787 - /httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, Feb 1, 2016 at 3:32 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>>
>> I am fine with flushing at the end of the loop. If no one opposes I can do this.
>>
>
> Looking into this in more detail the following thoughts came up:
>
> What do we think how much iterations do we do in this loop in the typical case
> a.k.a how often do we call ap_get_brigade with a non blocking read?
> My gut feeling tells me that we only do this once at least in the websocket case.

I guess it depends on the size of the outgoing traffic, it the backend
sometimes sends large data at once we may end up needing more than one
non-blocking read (AP_IOBUFSIZE/8K each) to forward the fragments.

> If this is the case the discussion whether to flush after the loop or in the loop wouldn't be
> relevant any longer, but more important:
> If it is ok to flush in the loop I think it would be better to add the flush bucket
> directly to bb_out instead of calling ap_fflush afterwards. The reason for this is
> that it gives downstream filters a better information on what they should do.

+1

> With the current
> approach they might set the buckets aside and store them for later processing and only
> process them in the second round when they see the flush. If the flush would be on the first
> brigade at least some of them would process the buckets directly without setting them aside.
> Comments?

That's the "issue" with transient buckets, the core output will almost
always set them aside if not flushed (including in the mod_proxy_http
case).
It wouldn't have to (or this would be a noop) if the buckets were
allocated on its bucket_alloc instead of the origin's.
But I agree that for now your approach makes sense.

Regards,
Yann.

From dev-return-85380-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 18:26:44 2016
Return-Path: <dev-return-85380-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A8A0218990
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 18:26:44 +0000 (UTC)
Received: (qmail 133 invoked by uid 500); 1 Feb 2016 18:25:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99970 invoked by uid 500); 1 Feb 2016 18:25:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99960 invoked by uid 99); 1 Feb 2016 18:25:45 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 18:25:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 3FD5A1A0792
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 18:25:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 0lYU8AhXxTzd for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 18:25:44 +0000 (UTC)
Received: from mail-pa0-f68.google.com (mail-pa0-f68.google.com [209.85.220.68])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 67CC820532
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 18:25:44 +0000 (UTC)
Received: by mail-pa0-f68.google.com with SMTP id yy13so7500117pab.1
        for <dev@httpd.apache.org>; Mon, 01 Feb 2016 10:25:44 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=from:subject:to:message-id:date:user-agent:mime-version
         :content-type:content-transfer-encoding;
        bh=N0h1yWblVntLA1BpMmVxTu4L9mUAaM+v0Ihn5oiLQnA=;
        b=qrdxB5/R4Sk77ly7oo7eTfVVazbk0Y0RmXIB6f9sruG4YJK/u1Q2musGuV6pUtErwC
         sA4g3gHT+pNvdpQJVBVNb+gRpN/VThXnnuv6QS0TtiXCn/9hTh3Wo7JIYuvQ47t833q2
         dhfMNK3yRT1HYuwH+GLEk+2itJbj8DtsIp52TVfhjxeKpdppvhWrDsj0MOFbCjKvtD5E
         3k6p+ExlgnmdKUNNG+JWi0yZqwY1k9QqJKzCnPcd2ZY+J6DinXPaIJTWgN5WTuxoqtv9
         6zyjl5E+liZPbBSPgZzYD6zKfbQhHvZW3T5brhM20txBkLNN7kFkXKQl7YNZp8OwMwZa
         fjuw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:from:subject:to:message-id:date:user-agent
         :mime-version:content-type:content-transfer-encoding;
        bh=N0h1yWblVntLA1BpMmVxTu4L9mUAaM+v0Ihn5oiLQnA=;
        b=UsTkoSzcBsByfgLlxhvW3qWb7KeXMxbR5MdjyjkbXoNpP+2Idk4CY6PphQbsSK4eMM
         m+7/W0fGxFfHsjgXJQzrB4MNVJBOGZP0EUATOXPYG/Jrw86xhuXiII+Sg4K6VQmwGTZU
         QCLwIKLs2O7BKOI4MBTiHWStsfOshNx+2rhhC2jEFxfjO9U05IrIOlT8fY8sfhnqLMIU
         CfMMgE6aUbC5KKpfFofzHJK9sbO9oh80bozKxYPuqCjGlwviwbbzz2iMofDCgdPJSdFz
         2j87HV/rrH8hZKgwS/EuSeMRvBcu5Kn4IAhrFLhZFx/ai0my5efnJCCkRL9+/O6ZwB/M
         AIZg==
X-Gm-Message-State: AG10YOSYIMEbUHG9SlN5JkbD1p/rEo2/HHV2n7fykUi6Z3eBTiYVGXlUfI6Z+U95Lr7IZw==
X-Received: by 10.66.237.66 with SMTP id va2mr40411872pac.87.1454351143966;
        Mon, 01 Feb 2016 10:25:43 -0800 (PST)
Received: from [192.168.1.4] (50-39-119-28.bvtn.or.frontiernet.net. [50.39.119.28])
        by smtp.gmail.com with ESMTPSA id xm10sm20871291pab.12.2016.02.01.10.25.42
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Mon, 01 Feb 2016 10:25:42 -0800 (PST)
From: Jacob Champion <champion.p@gmail.com>
Subject: [PATCH 58926] Minor improvements to apxs
To: dev@httpd.apache.org
Message-ID: <56AFA325.9010205@gmail.com>
Date: Mon, 1 Feb 2016 10:25:41 -0800
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi all,

I posted a four-patch set for apxs -- two functionality changes, and two 
cosmetic/refactoring changes -- last week after a quick conversation 
with Eric Covener on IRC. The motivation is primarily to improve (or 
disable) the auto-detection of module names during installation when the 
source is not available. As it turns out, one of the fixes was already 
posted as a bug/patch under PR43033.

     https://bz.apache.org/bugzilla/show_bug.cgi?id=58926

Please let me know what you think!

Thanks,
--Jacob

From dev-return-85381-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 19:29:43 2016
Return-Path: <dev-return-85381-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0254B18E7D
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 19:29:43 +0000 (UTC)
Received: (qmail 79751 invoked by uid 500); 1 Feb 2016 19:23:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 79679 invoked by uid 500); 1 Feb 2016 19:23:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 79670 invoked by uid 99); 1 Feb 2016 19:23:03 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 19:23:03 +0000
Received: from gauss.localdomain (v4-86134b0f.pool.vitroconnect.de [134.19.75.15])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 183591A0278
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 19:23:02 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 823E41A0
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 20:23:00 +0100 (CET)
Subject: Re: svn commit: r1726787 -
 /httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
To: dev@httpd.apache.org
References: <20160126125718.90E3E3A00E7@svn01-us-west.apache.org>
 <CAKQ1sVMuz7gGmPOfRDADn7ONNVLuK3SmcKyZupjGbJycUXS0nA@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC640AB06@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVNzTS0JWBPuhz+XD4+3a6xL9LyAyHa8sLyAM9qUHOQjHA@mail.gmail.com>
 <56A91FA0.2070605@apache.org> <56AF6C68.3090704@apache.org>
 <CAKQ1sVOh+OcxBsD=ZBDjS94r4bUNDxt1z85yAchJH9mc-Gq7yQ@mail.gmail.com>
From: Ruediger Pluem <rpluem@apache.org>
X-Enigmail-Draft-Status: N1110
Message-ID: <56AFB094.6040308@apache.org>
Date: Mon, 1 Feb 2016 20:23:00 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVOh+OcxBsD=ZBDjS94r4bUNDxt1z85yAchJH9mc-Gq7yQ@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 02/01/2016 03:54 PM, Yann Ylavic wrote:
> On Mon, Feb 1, 2016 at 3:32 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>>>
>>> I am fine with flushing at the end of the loop. If no one opposes I can do this.
>>>
>>
>> Looking into this in more detail the following thoughts came up:
>>
>> What do we think how much iterations do we do in this loop in the typical case
>> a.k.a how often do we call ap_get_brigade with a non blocking read?
>> My gut feeling tells me that we only do this once at least in the websocket case.
> 
> I guess it depends on the size of the outgoing traffic, it the backend
> sometimes sends large data at once we may end up needing more than one
> non-blocking read (AP_IOBUFSIZE/8K each) to forward the fragments.

True and I guess this is often the case for mod_proxy_connect. For mod_proxy_wstunnel I would
expect that we see stuff below 8k, e.g. chat messages and alike in most use cases.

> 
>> If this is the case the discussion whether to flush after the loop or in the loop wouldn't be
>> relevant any longer, but more important:
>> If it is ok to flush in the loop I think it would be better to add the flush bucket
>> directly to bb_out instead of calling ap_fflush afterwards. The reason for this is
>> that it gives downstream filters a better information on what they should do.
> 
> +1
> 
>> With the current
>> approach they might set the buckets aside and store them for later processing and only
>> process them in the second round when they see the flush. If the flush would be on the first
>> brigade at least some of them would process the buckets directly without setting them aside.
>> Comments?
> 
> That's the "issue" with transient buckets, the core output will almost
> always set them aside if not flushed (including in the mod_proxy_http
> case).
> It wouldn't have to (or this would be a noop) if the buckets were
> allocated on its bucket_alloc instead of the origin's.
> But I agree that for now your approach makes sense.

I guess I will hack something up and we discuss further once I have a proposal.

Regards

Rdiger


From dev-return-85382-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 20:35:20 2016
Return-Path: <dev-return-85382-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 07E4F18316
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 20:35:20 +0000 (UTC)
Received: (qmail 47112 invoked by uid 500); 1 Feb 2016 20:35:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 47040 invoked by uid 500); 1 Feb 2016 20:35:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 47029 invoked by uid 99); 1 Feb 2016 20:35:19 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 20:35:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id CFF791A009A
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 20:35:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.654
X-Spam-Level:
X-Spam-Status: No, score=-0.654 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.554, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=kraut.ca
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id iLcSRmR5U7fo for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 20:35:10 +0000 (UTC)
Received: from penguin.kraut.ca (penguin.kraut.ca [96.53.60.142])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A30CD2148A
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 20:35:09 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=kraut.ca;
	 s=20151017; h=Subject:Content-Type:In-Reply-To:MIME-Version:Date:Message-ID:
	From:References:To; bh=nrY6alelJq/ZwRtKbM5unOUeLGvw31hYFfE0mOqHT7U=; b=Or8krB
	NyHIz/4dAWhibz9ghVDj99ZFyZBktec6kRSRuCBO1ItzBc4efAoPBBK3YKJxqxFwJMxMMTGRLk/By
	ucHqOPlBK3vlAiOl6ty+W8hWL1OfxEYEJde0789MfWWz8dzBotcluYVHOTF7h48QBJXQdXRK9X3R3
	WhrP1SN8JAA=;
Received: from [184.71.173.194] (helo=[205.159.216.152])
	by penguin.kraut.ca with esmtpsa (TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128)
	(Exim 4.86)
	(envelope-from <joachim@kraut.ca>)
	id 1aQLBa-0003OQ-7x
	for dev@httpd.apache.org; Mon, 01 Feb 2016 12:35:06 -0800
To: dev@httpd.apache.org
References: <56AEC5EF.6030201@kraut.ca>
 <CAKQ1sVMbkyYzNzp3iRMRx-rYFHmAX+Bku=Y6Qmxw4DMhHvyiJA@mail.gmail.com>
 <56AF20F8.5080204@kraut.ca>
 <CAKQ1sVPjhn1_NLsWTr+CA0gDDUB2L4sz9Z3cnDPRPqQSFjTb0A@mail.gmail.com>
From: Joachim Achtzehnter <joachim@kraut.ca>
Message-ID: <56AFC16B.6010200@kraut.ca>
Date: Mon, 1 Feb 2016 12:34:51 -0800
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVPjhn1_NLsWTr+CA0gDDUB2L4sz9Z3cnDPRPqQSFjTb0A@mail.gmail.com>
Content-Type: multipart/mixed;
 boundary="------------060704030906020807080508"
X-SA-Exim-Connect-IP: 184.71.173.194
X-SA-Exim-Mail-From: joachim@kraut.ca
Subject: Re: HTTPS connections lock-up with 2.4.18
X-SA-Exim-Version: 4.2.1 (built Mon, 06 Jul 2015 07:28:29 +0000)
X-SA-Exim-Scanned: Yes (on penguin.kraut.ca)

This is a multi-part message in MIME format.
--------------060704030906020807080508
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit

On 2016-02-01 4:19, Yann Ylavic wrote:
> This restores the previous (pre 2.4.18) behaviour of flushing output
> on every read, which I'd prefer to avoid, if possible.
>
> Could you provide some network capture (tcpdump, wireshark...) when
> the lock-up occurs?

I'll work on capturing this, in the meantime I tried your patch below.

> Is EnableMMap somehow always involded here (you mention it in the
> original message)?

I had mentioned this because we have some requests passed through a 
custom handler, not serviced from the filesystem, and these never seem 
to exhibit the problem. All the failing requests I've debugged were 
serviced by Apache itself directly from the filesystem, and Apache used 
mmap for this. I can try disabling mmap to see if the problem goes away.

> That would help to build a reproducer...
>
> Maybe the attached patch could be "enough" to fix the issue?

It does not. The behaviour is exactly as with the original 2.4.18 
version. Note, that the problem is reproduced consistently. Requests 
that get stuck always get stuck every time I try to repeat it. If this 
was somehow related to renegotiation, would it not be more variable?

> This patch also includes some minimal logging (level NOTICE) to help
> diagnose in case of lock-up, still.

The log output for a failing request is attached.

Thanks,

Joachim

-- 
joachim@kraut.ca http://www.kraut.ca

--------------060704030906020807080508
Content-Type: text/plain; charset=UTF-8;
 name="ssl_log.txt"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="ssl_log.txt"

[Mon Feb 01 12:30:12.289534 2016] [ssl:info] [pid 2436] [client 205.159.216.185:47084] AH01964: Connection to child 0 established (server localhost:443)
[Mon Feb 01 12:30:12.289915 2016] [ssl:notice] [pid 2436] [client 205.159.216.185:47084] bio[9813d50] in: not flushing
[Mon Feb 01 12:30:12.290009 2016] [ssl:notice] [pid 2436] [client 205.159.216.185:47084] bio[9813d50] in: not flushing
[Mon Feb 01 12:30:12.290058 2016] [ssl:debug] [pid 2436] ssl_engine_kernel.c(2103): [client 205.159.216.185:47084] AH02044: No matching SSL virtual host for servername na171 found (using default/first virtual host)
[Mon Feb 01 12:30:12.295817 2016] [ssl:notice] [pid 2436] [client 205.159.216.185:47084] bio[9813d50] out: passing 1004 bytes
[Mon Feb 01 12:30:12.295897 2016] [ssl:notice] [pid 2436] [client 205.159.216.185:47084] bio[9813d50] in: not flushing
[Mon Feb 01 12:30:12.300456 2016] [ssl:notice] [pid 2436] [client 205.159.216.185:47084] bio[9813d50] in: not flushing
[Mon Feb 01 12:30:12.302417 2016] [ssl:notice] [pid 2436] [client 205.159.216.185:47084] bio[9813d50] in: not flushing
[Mon Feb 01 12:30:12.302429 2016] [ssl:notice] [pid 2436] [client 205.159.216.185:47084] bio[9813d50] in: not flushing
[Mon Feb 01 12:30:12.302542 2016] [ssl:notice] [pid 2436] [client 205.159.216.185:47084] bio[9813d50] in: not flushing
[Mon Feb 01 12:30:12.302554 2016] [ssl:notice] [pid 2436] [client 205.159.216.185:47084] bio[9813d50] in: not flushing
[Mon Feb 01 12:30:12.302656 2016] [ssl:notice] [pid 2436] [client 205.159.216.185:47084] bio[9813d50] out: passing 51 bytes
[Mon Feb 01 12:30:12.302757 2016] [socache_shmcb:debug] [pid 2436] mod_socache_shmcb.c(491): AH00831: socache_shmcb_store (0x9e -> subcache 30)
[Mon Feb 01 12:30:12.302775 2016] [socache_shmcb:debug] [pid 2436] mod_socache_shmcb.c(845): AH00847: insert happened at idx=0, data=(0:32)
[Mon Feb 01 12:30:12.302782 2016] [socache_shmcb:debug] [pid 2436] mod_socache_shmcb.c(850): AH00848: finished insert, subcache: idx_pos/idx_used=0/1, data_pos/data_used=0/189
[Mon Feb 01 12:30:12.302838 2016] [socache_shmcb:debug] [pid 2436] mod_socache_shmcb.c(512): AH00834: leaving socache_shmcb_store successfully
[Mon Feb 01 12:30:12.302883 2016] [ssl:debug] [pid 2436] ssl_engine_kernel.c(2023): [client 205.159.216.185:47084] AH02041: Protocol: TLSv1.2, Cipher: ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits)
[Mon Feb 01 12:30:12.302938 2016] [ssl:notice] [pid 2436] [client 205.159.216.185:47084] bio[9813d50] in: not flushing
[Mon Feb 01 12:30:12.303955 2016] [ssl:notice] [pid 2436] [client 205.159.216.185:47084] bio[9813d50] in: not flushing
[Mon Feb 01 12:30:12.304074 2016] [ssl:debug] [pid 2436] ssl_engine_kernel.c(354): [client 205.159.216.185:47084] AH02034: Initial (No.1) HTTPS request received for child 0 (server localhost:443)
[Mon Feb 01 12:30:12.304248 2016] [authz_core:debug] [pid 2436] mod_authz_core.c(809): [client 205.159.216.185:47084] AH01626: authorization result of Require all granted: granted
[Mon Feb 01 12:30:12.304259 2016] [authz_core:debug] [pid 2436] mod_authz_core.c(809): [client 205.159.216.185:47084] AH01626: authorization result of <RequireAny>: granted
[Mon Feb 01 12:30:12.304398 2016] [ssl:notice] [pid 2436] [client 205.159.216.185:47084] bio[9813d50] out: passing 271 bytes
[Mon Feb 01 12:30:12.304509 2016] [ssl:notice] [pid 2436] [client 205.159.216.185:47084] bio[9813d50] out: passing 1727 bytes
[Mon Feb 01 12:30:12.304568 2016] [ssl:notice] [pid 2436] [client 205.159.216.185:47084] bio[9813d50] in: not flushing

--------------060704030906020807080508--

From dev-return-85383-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  1 22:50:42 2016
Return-Path: <dev-return-85383-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3A36918A99
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Feb 2016 22:50:42 +0000 (UTC)
Received: (qmail 32918 invoked by uid 500); 1 Feb 2016 22:50:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32850 invoked by uid 500); 1 Feb 2016 22:50:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32833 invoked by uid 99); 1 Feb 2016 22:50:32 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Feb 2016 22:50:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 106A4C0E44
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 22:50:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.645
X-Spam-Level:
X-Spam-Status: No, score=-0.645 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.545, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=kraut.ca
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 2zAyp_ALwViH for <dev@httpd.apache.org>;
	Mon,  1 Feb 2016 22:50:23 +0000 (UTC)
Received: from penguin.kraut.ca (penguin.kraut.ca [96.53.60.142])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 29CB143F46
	for <dev@httpd.apache.org>; Mon,  1 Feb 2016 22:50:23 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=kraut.ca;
	 s=20151017; h=Subject:Content-Transfer-Encoding:Content-Type:In-Reply-To:
	MIME-Version:Date:Message-ID:From:References:To;
	bh=vgge4XZvugZ/sXzdTFma4K438u1eeIu5aBVJO/HFXFs=; b=Lurewi+APh3FocotuLuPXEEoVN
	8MzZraO0kcbMiYOC5ejzWsu4OtSgZJre0z8j2uxDA1THqTRdRVIKDX18sYTjMcsFe6mX/IaWCMiKP
	5CBXNJVO+zCc94uMVv04taDjDZLb9vJ4zkuZ4O12pZ9V7ijwBzcBR/siL3CRLxB+uF8s=;
Received: from [184.71.173.194] (helo=[205.159.216.152])
	by penguin.kraut.ca with esmtpsa (TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128)
	(Exim 4.86)
	(envelope-from <joachim@kraut.ca>)
	id 1aQNIX-0003gZ-F1
	for dev@httpd.apache.org; Mon, 01 Feb 2016 14:50:21 -0800
To: dev@httpd.apache.org
References: <56AEC5EF.6030201@kraut.ca>
 <CAKQ1sVMbkyYzNzp3iRMRx-rYFHmAX+Bku=Y6Qmxw4DMhHvyiJA@mail.gmail.com>
 <56AF20F8.5080204@kraut.ca>
 <CAKQ1sVPjhn1_NLsWTr+CA0gDDUB2L4sz9Z3cnDPRPqQSFjTb0A@mail.gmail.com>
 <56AFC16B.6010200@kraut.ca>
From: Joachim Achtzehnter <joachim@kraut.ca>
Message-ID: <56AFE122.7000904@kraut.ca>
Date: Mon, 1 Feb 2016 14:50:10 -0800
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56AFC16B.6010200@kraut.ca>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 184.71.173.194
X-SA-Exim-Mail-From: joachim@kraut.ca
Subject: Re: HTTPS connections lock-up with 2.4.18
X-SA-Exim-Version: 4.2.1 (built Mon, 06 Jul 2015 07:28:29 +0000)
X-SA-Exim-Scanned: Yes (on penguin.kraut.ca)

The Wireshark trace confirms what one may have predicted from the
observed symptoms. There is no response from the server to the GET
request on the wire. The pcap file and dissected text file were sent to
Yann privately.

I've now also tried with "EnableMMAP Off" and this makes no difference.

The problem does not occur for all files. I have not done an exhaustive
test with all our static files, but it seems that the problem
occurs primarily with small files. For example, these two files cause
the lock-up:

   -rw-rw-r-- 1 root naadmin 2509 Jan 19 14:10 css/home_styles.css
   -rw-rw-r-- 1 root naadmin 1698 Jan 19 14:10 css/subpage.css

These three files work fine:

   -rw-rw-r-- 1 root naadmin 6478 Jan 19 14:10 css/application.css
   -rw-rw-r-- 1 root naadmin 3991 Jan 19 14:10 css/homepage.css
   -rw-rw-r-- 1 root naadmin 1239621 Jan 19 14:10 jar/jconfig.jar

Joachim


On 2016-02-01 12:34, Joachim Achtzehnter wrote:
> On 2016-02-01 4:19, Yann Ylavic wrote:
>> This restores the previous (pre 2.4.18) behaviour of flushing
>> output on every read, which I'd prefer to avoid, if possible.
>>
>> Could you provide some network capture (tcpdump, wireshark...) when
>> the lock-up occurs?
>
> I'll work on capturing this, in the meantime I tried your patch
> below.
>
>> Is EnableMMap somehow always involded here (you mention it in the
>> original message)?
>
> I had mentioned this because we have some requests passed through a
> custom handler, not serviced from the filesystem, and these never
> seem to exhibit the problem. All the failing requests I've debugged
> were serviced by Apache itself directly from the filesystem, and
> Apache used mmap for this. I can try disabling mmap to see if the
> problem goes away.
>
>> That would help to build a reproducer...
>>
>> Maybe the attached patch could be "enough" to fix the issue?
>
> It does not. The behaviour is exactly as with the original 2.4.18
> version. Note, that the problem is reproduced consistently. Requests
> that get stuck always get stuck every time I try to repeat it. If
> this was somehow related to renegotiation, would it not be more
> variable?
>
>> This patch also includes some minimal logging (level NOTICE) to
>> help diagnose in case of lock-up, still.
>
> The log output for a failing request is attached.
>
> Thanks,
>
> Joachim
>

-- 
joachim@kraut.ca http://www.kraut.ca

From dev-return-85384-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  2 08:58:25 2016
Return-Path: <dev-return-85384-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 10FDA182E7
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Feb 2016 08:58:25 +0000 (UTC)
Received: (qmail 54308 invoked by uid 500); 2 Feb 2016 08:58:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54217 invoked by uid 500); 2 Feb 2016 08:58:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54207 invoked by uid 99); 2 Feb 2016 08:58:24 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Feb 2016 08:58:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A6CCF1805F8
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 08:58:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 9zqJgrc2swsN for <dev@httpd.apache.org>;
	Tue,  2 Feb 2016 08:58:17 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id C45C642B96
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 08:58:16 +0000 (UTC)
Received: by mail-qg0-f52.google.com with SMTP id b35so142109729qge.0
        for <dev@httpd.apache.org>; Tue, 02 Feb 2016 00:58:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=z4ULabCSasbV/SeqQRmZZXCExsBFYTkeZAk/Q41JKnE=;
        b=Z7/VLJ+rFyYLooI+qryxNOdY+0akxune/5tr/Wveh/fte/8Xl/P/TIEXFLj/ThuZT6
         FX524l5OW8Oa2s/KQTdytqVOmgfESlPOPvQxb/HjQdqxZkgIYRh43WVMBYyusRA3I7/Y
         TWAO7WywksEJEmHvRxLUm0Wo57xpMQGhH0/FzLoMbf7fzRbNFDJjs40MwhSJrwX2AFR0
         28iiLlwA0LxHY7miH/gRGiuXax5+3hjYfKyiGC+KHj9/Ds/ybPwIdWthsCq6ptzJkbS9
         1wkawlNp+uXgLcXEMjzp6vbMdjCWdbI6/Wt4tpNrLSFjUilYxe7kdln0O4L8Ldnd+Akq
         5oBw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=z4ULabCSasbV/SeqQRmZZXCExsBFYTkeZAk/Q41JKnE=;
        b=PWP1Yjc/K5dx9vfus1q7EL/O3qQdELlS1GEXz0luaS8u7yp+gMxXZ+GeC+sxlhPVyl
         01mmOxGk7Qkhozui36coK4UlSdG5wUEvQiCfETWK1S77Ogia0VFo+5E8fRqrGTEXIWtN
         i5RIU9iYpeIBkkaMhoPyv+B39FD0iuWcpQ+1xLoRlke8ds8t33JGViub4jQKnY0/nXzL
         prXntAP1Eqt40amiXOC/yQJrkC1DuZUDkJCRz9BJ4GOCZFZ5F5RQwmRYTuptW8I6wsGr
         FG3rqG27NHhkN6UmhVqNFfp+RnZ1/gLTtbn3PqZtcxWVz3Ni4d6eLPFNWBhSnNkKCfOF
         Jvpw==
X-Gm-Message-State: AG10YORBr2XjWjz9JCIu1ESil+zVbLVn7LUyCbAtqtVZ6Dj9mxap82ShVWjmznT6PS/yQXSYOf1dzhjMZS2xfw==
MIME-Version: 1.0
X-Received: by 10.140.92.35 with SMTP id a32mr33600704qge.92.1454403489790;
 Tue, 02 Feb 2016 00:58:09 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Tue, 2 Feb 2016 00:58:09 -0800 (PST)
In-Reply-To: <56AFE122.7000904@kraut.ca>
References: <56AEC5EF.6030201@kraut.ca>
	<CAKQ1sVMbkyYzNzp3iRMRx-rYFHmAX+Bku=Y6Qmxw4DMhHvyiJA@mail.gmail.com>
	<56AF20F8.5080204@kraut.ca>
	<CAKQ1sVPjhn1_NLsWTr+CA0gDDUB2L4sz9Z3cnDPRPqQSFjTb0A@mail.gmail.com>
	<56AFC16B.6010200@kraut.ca>
	<56AFE122.7000904@kraut.ca>
Date: Tue, 2 Feb 2016 09:58:09 +0100
Message-ID: <CAKQ1sVME8pOFYj8ysNJcYFhkr+ozVhwfkX_t-c-efXGZPxKwZA@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: multipart/mixed; boundary=001a113a98e45f0799052ac5b346

--001a113a98e45f0799052ac5b346
Content-Type: text/plain; charset=UTF-8

On Mon, Feb 1, 2016 at 11:50 PM, Joachim Achtzehnter <joachim@kraut.ca> wrote:
> The Wireshark trace confirms what one may have predicted from the
> observed symptoms. There is no response from the server to the GET
> request on the wire.

There are some missing TLS records from the server during handshake,
OpenSSL does not seem to flush appropriately, still...

Could you please try this new (attached) patch?
If it does not work better (it should), could you change the "#if 0"
to "#if 1" in bio_filter_in_read(), and retry?
Thanks for providing the log output with the new change(s).

Regards,
Yann.

--001a113a98e45f0799052ac5b346
Content-Type: text/diff; charset=US-ASCII; name="modssl_ssl_need_flush-v2.patch"
Content-Disposition: attachment; filename="modssl_ssl_need_flush-v2.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ik569fsc0

SW5kZXg6IG1vZHVsZXMvc3NsL3NzbF9lbmdpbmVfaW8uYwo9PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVz
L3NzbC9zc2xfZW5naW5lX2lvLmMJKHJldmlzaW9uIDE3Mjc5MjMpCisrKyBtb2R1bGVzL3NzbC9z
c2xfZW5naW5lX2lvLmMJKHdvcmtpbmcgY29weSkKQEAgLTE0Nyw2ICsxNDcsOSBAQCBzdGF0aWMg
aW50IGJpb19maWx0ZXJfb3V0X2ZsdXNoKEJJTyAqYmlvKQogICAgIGJpb19maWx0ZXJfb3V0X2N0
eF90ICpvdXRjdHggPSAoYmlvX2ZpbHRlcl9vdXRfY3R4X3QgKikoYmlvLT5wdHIpOwogICAgIGFw
cl9idWNrZXQgKmU7CiAKKyAgICBhcF9sb2dfY2Vycm9yKEFQTE9HX01BUkssIEFQTE9HX05PVElD
RSwgMCwgb3V0Y3R4LT5jLAorICAgICAgICAgICAgICAgICAgImJpb1slcHBdIG91dDogRkxVU0gi
LCBiaW8pOworCiAgICAgQVBfREVCVUdfQVNTRVJUKEFQUl9CUklHQURFX0VNUFRZKG91dGN0eC0+
YmIpKTsKIAogICAgIGUgPSBhcHJfYnVja2V0X2ZsdXNoX2NyZWF0ZShvdXRjdHgtPmJiLT5idWNr
ZXRfYWxsb2MpOwpAQCAtMTg3LDcgKzE5MCw2IEBAIHN0YXRpYyBpbnQgYmlvX2ZpbHRlcl9vdXRf
d3JpdGUoQklPICpiaW8sIGNvbnN0IGNoCiB7CiAgICAgYmlvX2ZpbHRlcl9vdXRfY3R4X3QgKm91
dGN0eCA9IChiaW9fZmlsdGVyX291dF9jdHhfdCAqKShiaW8tPnB0cik7CiAgICAgYXByX2J1Y2tl
dCAqZTsKLSAgICBpbnQgbmVlZF9mbHVzaDsKIAogICAgIC8qIEFib3J0IGVhcmx5IGlmIHRoZSBj
bGllbnQgaGFzIGluaXRpYXRlZCBhIHJlbmVnb3RpYXRpb24uICovCiAgICAgaWYgKG91dGN0eC0+
ZmlsdGVyX2N0eC0+Y29uZmlnLT5yZW5lZ19zdGF0ZSA9PSBSRU5FR19BQk9SVCkgewpAQCAtMjE2
LDE1ICsyMTgsMTYgQEAgc3RhdGljIGludCBiaW9fZmlsdGVyX291dF93cml0ZShCSU8gKmJpbywg
Y29uc3QgY2gKICAgICAgKiBiZSBleHBlbnNpdmUgaW4gY2FzZXMgd2hlcmUgcmVxdWVzdHMvcmVw
b25zZXMgYXJlIHBpcGVsaW5lZCwKICAgICAgKiBzbyBsaW1pdCB0aGUgcGVyZm9ybWFuY2UgaW1w
YWN0IHRvIGhhbmRzaGFrZSB0aW1lLgogICAgICAqLwotI2lmIE9QRU5TU0xfVkVSU0lPTl9OVU1C
RVIgPCAweDAwMDkwODBkZgotICAgICBuZWVkX2ZsdXNoID0gIVNTTF9pc19pbml0X2ZpbmlzaGVk
KG91dGN0eC0+ZmlsdGVyX2N0eC0+cHNzbCk7Ci0jZWxzZQotICAgICBuZWVkX2ZsdXNoID0gU1NM
X2luX2Nvbm5lY3RfaW5pdChvdXRjdHgtPmZpbHRlcl9jdHgtPnBzc2wpOwotI2VuZGlmCi0gICAg
aWYgKG5lZWRfZmx1c2gpIHsKKyAgICBpZiAoIVNTTF9pc19pbml0X2ZpbmlzaGVkKG91dGN0eC0+
ZmlsdGVyX2N0eC0+cHNzbCkpIHsKKyAgICAgICAgYXBfbG9nX2NlcnJvcihBUExPR19NQVJLLCBB
UExPR19OT1RJQ0UsIDAsIG91dGN0eC0+YywKKyAgICAgICAgICAgICAgICAgICAgICAiYmlvWyVw
cF0gb3V0OiBmbHVzaCAlZCBieXRlcyIsIGJpbywgaW5sKTsKICAgICAgICAgZSA9IGFwcl9idWNr
ZXRfZmx1c2hfY3JlYXRlKG91dGN0eC0+YmItPmJ1Y2tldF9hbGxvYyk7CiAgICAgICAgIEFQUl9C
UklHQURFX0lOU0VSVF9UQUlMKG91dGN0eC0+YmIsIGUpOwogICAgIH0KKyAgICBlbHNlIHsKKyAg
ICAgICAgYXBfbG9nX2NlcnJvcihBUExPR19NQVJLLCBBUExPR19OT1RJQ0UsIDAsIG91dGN0eC0+
YywKKyAgICAgICAgICAgICAgICAgICAgICAiYmlvWyVwcF0gb3V0OiBwYXNzICVkIGJ5dGVzIiwg
YmlvLCBpbmwpOworICAgIH0KIAogICAgIGlmIChiaW9fZmlsdGVyX291dF9wYXNzKG91dGN0eCkg
PCAwKSB7CiAgICAgICAgIHJldHVybiAtMTsKQEAgLTQ3Myw2ICs0NzYsMTggQEAgc3RhdGljIGlu
dCBiaW9fZmlsdGVyX2luX3JlYWQoQklPICpiaW8sIGNoYXIgKmluLAogICAgICAgICByZXR1cm4g
LTE7CiAgICAgfQogCisjaWYgMAorICAgIGlmICghU1NMX2lzX2luaXRfZmluaXNoZWQoaW5jdHgt
PmZpbHRlcl9jdHgtPnBzc2wpKSB7CisgICAgICAgIGJpb19maWx0ZXJfb3V0X2N0eF90ICpvdXRj
dHggPSBpbmN0eC0+YmlvX291dC0+cHRyOworICAgICAgICBhcF9sb2dfY2Vycm9yKEFQTE9HX01B
UkssIEFQTE9HX05PVElDRSwgMCwgb3V0Y3R4LT5jLAorICAgICAgICAgICAgICAgICAgICAgICJi
aW9bJXBwXSBpbjogZmx1c2ggJXBwIiwgYmlvLCBpbmN0eC0+YmlvX291dCk7CisgICAgICAgIGlm
IChiaW9fZmlsdGVyX291dF9mbHVzaChpbmN0eC0+YmlvX291dCkgPCAwKSB7CisgICAgICAgICAg
ICBpbmN0eC0+cmMgPSBvdXRjdHgtPnJjOworICAgICAgICAgICAgcmV0dXJuIC0xOworICAgICAg
ICB9CisgICAgfQorI2VuZGlmCisKICAgICBpZiAoQVBSX0JSSUdBREVfRU1QVFkoaW5jdHgtPmJi
KSkgewogCiAgICAgICAgIGluY3R4LT5yYyA9IGFwX2dldF9icmlnYWRlKGluY3R4LT5mLT5uZXh0
LCBpbmN0eC0+YmIsCkBAIC00OTksNiArNTE0LDEwIEBAIHN0YXRpYyBpbnQgYmlvX2ZpbHRlcl9p
bl9yZWFkKEJJTyAqYmlvLCBjaGFyICppbiwKIAogICAgIGluY3R4LT5yYyA9IGJyaWdhZGVfY29u
c3VtZShpbmN0eC0+YmIsIGJsb2NrLCBpbiwgJmlubCk7CiAKKyAgICBhcF9sb2dfY2Vycm9yKEFQ
TE9HX01BUkssIEFQTE9HX05PVElDRSwgaW5jdHgtPnJjLAorICAgICAgICAgICAgICAgICAgU1NM
X2dldF9hcHBfZGF0YShpbmN0eC0+ZmlsdGVyX2N0eC0+cHNzbCksCisgICAgICAgICAgICAgICAg
ICAiYmlvWyVwcF0gaW46IHJlYWQgJSIgQVBSX1NJWkVfVF9GTVQgImJ5dGVzIiwgYmlvLCBpbmwp
OworCiAgICAgaWYgKGluY3R4LT5yYyA9PSBBUFJfU1VDQ0VTUykgewogICAgICAgICByZXR1cm4g
KGludClpbmw7CiAgICAgfQo=
--001a113a98e45f0799052ac5b346--

From dev-return-85385-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  2 10:09:35 2016
Return-Path: <dev-return-85385-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 14AC618679
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Feb 2016 10:09:35 +0000 (UTC)
Received: (qmail 95914 invoked by uid 500); 2 Feb 2016 10:09:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95840 invoked by uid 500); 2 Feb 2016 10:09:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95821 invoked by uid 99); 2 Feb 2016 10:09:34 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Feb 2016 10:09:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id CC9FE1A01DC;
	Tue,  2 Feb 2016 10:09:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id tANCb0IfOXvi; Tue,  2 Feb 2016 10:09:32 +0000 (UTC)
Received: from mail-qk0-f177.google.com (mail-qk0-f177.google.com [209.85.220.177])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 3216843A15;
	Tue,  2 Feb 2016 10:09:32 +0000 (UTC)
Received: by mail-qk0-f177.google.com with SMTP id x1so63398131qkc.1;
        Tue, 02 Feb 2016 02:09:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=gX1XbzpdGKcHnx8XU6/PKws6VgEK0os6PblqFgp3jNI=;
        b=f+C0VOBy0LHJcdSOXdposA7DRy8VxZG442/UKyZJ5DqTE/3xAcao4GJ/UEOx8/m2pL
         8zJM1TpnUqyzale7vtTof08oUni7wpqpPt4HbyvNpHWJy95sACA/vQubbt7Yr4ypGfn3
         uxA4AcIxHW89UNWL5EYIaAmyO69PXKJL0S8mXLdSW94zm8TxnVmJWu5Xl11co816rdM2
         f6tV0eYU74Bb1re8VuFv1BCxvxIB0l3cs4grXDg/tTw7icw8cd5jIS5n2brr82QnK+1C
         hKLjf48WBAgCT6X6hCz51+/OkVSxg6odE7GHZkcUaXBrr+iLVcEhEdsY9rrRNVUL+mLd
         q3uA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=gX1XbzpdGKcHnx8XU6/PKws6VgEK0os6PblqFgp3jNI=;
        b=V4ymCuJa6QEXgpnBqFw4f/2laQiHrYjrgLrWnFCmWoa9YWiRyp2qiPeTe3cPocol5G
         j5Oivhx3efYYpPMLDMU+6BJ/EkNkONkeXu1ug48gM2n0meNxeVYbWfA0Ei/wCdFkY+Df
         946cOw7GuTXQDmkZB7QDHZuvtnYdxbgbF3yh+CYPQDC+3UZYMmKcU7uOaHxE2nsBfk6c
         KxYCK3QDGy+C6IHToULKKxl6S7NxkUKgOF3u+kvg7eM/C1PkYgdGWTd35DPO+sWpmS4n
         ZT12ODiZlVBWxiLERFMQ711w3vHsctDu9vD8dmblbVLXSS4LYn8etsRWECb3Rje+pufC
         +8nw==
X-Gm-Message-State: AG10YOQ1pnBdWPh9aeBEYRC9HK4tqnMLYgLt64HBZX7Zrk121VW52t+uvT7WeR+GLIGKnfj51Xdor5agm41O5A==
MIME-Version: 1.0
X-Received: by 10.55.75.203 with SMTP id y194mr34592006qka.2.1454407766074;
 Tue, 02 Feb 2016 02:09:26 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Tue, 2 Feb 2016 02:09:25 -0800 (PST)
In-Reply-To: <CAKQ1sVMWVFScKax4MtM1b79TmmG+_rK2+OK9inZ4vkZWjihUqg@mail.gmail.com>
References: <bug-55808-56585@https.bz.apache.org/bugzilla/>
	<bug-55808-56585-wzfMd0JVSx@https.bz.apache.org/bugzilla/>
	<5696D835.5050904@blenning.no>
	<CAKQ1sVMU=o24Rrw5zF2oLozgyqMFn5DZKAJbJVOLot+4nX4iBA@mail.gmail.com>
	<5696E637.3080501@blenning.no>
	<CAKQ1sVM2jN=aKaiD20+dR78EUnfKSwKU5GCcB-+ipnx5dj8QqA@mail.gmail.com>
	<5696F0D8.40002@blenning.no>
	<CAKQ1sVP8FSa8vu4uxEkSTYn7skVSajGJmM0zzLwKobJ3yRCsTg@mail.gmail.com>
	<CAKQ1sVMWVFScKax4MtM1b79TmmG+_rK2+OK9inZ4vkZWjihUqg@mail.gmail.com>
Date: Tue, 2 Feb 2016 11:09:25 +0100
Message-ID: <CAKQ1sVPoWXEpRQ8nfaVELwtAmfCoaKkyRiwwkCUxFkhPHCcsDw@mail.gmail.com>
Subject: Re: [Bug 55808] File integrity verification using MD5 and SHA1
From: Yann Ylavic <ylavic.dev@gmail.com>
To: docs@httpd.apache.org, bfg@blenning.no
Cc: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Jan 20, 2016 at 11:24 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> Would attached patch be appropriate, so that MD5/SHA1/ASC/KEYS files
> are under https://*.apache.org's certification?

Assuming lazy consensus, committed in r1728066.

Thanks Tom Fredrik.

Regards,
Yann.

From dev-return-85386-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  2 12:46:56 2016
Return-Path: <dev-return-85386-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8703D18D43
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Feb 2016 12:46:56 +0000 (UTC)
Received: (qmail 79525 invoked by uid 500); 2 Feb 2016 12:46:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 79453 invoked by uid 500); 2 Feb 2016 12:46:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 79443 invoked by uid 99); 2 Feb 2016 12:46:33 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Feb 2016 12:46:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 3AEEA1804F0
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 12:46:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id jU5iGic-n38u for <dev@httpd.apache.org>;
	Tue,  2 Feb 2016 12:46:27 +0000 (UTC)
Received: from mail-qg0-f50.google.com (mail-qg0-f50.google.com [209.85.192.50])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 1E6DD20969
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 12:46:27 +0000 (UTC)
Received: by mail-qg0-f50.google.com with SMTP id u30so11751196qge.1
        for <dev@httpd.apache.org>; Tue, 02 Feb 2016 04:46:27 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=+GGd7Oj71AXyEXBBnNA+U7bwSr7murlRpB2StAz1jOk=;
        b=tE01Xg8mdqpS+Z/QvdH4HHRBn/o7dyKLsW3we9W8ig/N1nvSvCE3XUPvBscMMal4mY
         krUrgmobFfG1bO4UajedVGngBMna0u7GoUxBvecsVmuqJL8gQt/7uV488eJa8JlY5IFN
         uixo3ZyHAzpCJpfuN3r+o6VCGSNsx5WlWI6t3zHiCPQIr+fuIRmPKgwpiR6ijEprwrwt
         6H2jledSv52pkPDapyW4b/EYcBTlurx7GtiduTX4RZJxDzfcICSWFwwTIBTdqtQDN6OM
         yp97/X2SVAYLTy8p6gOS4UPc/OKniLM81gn+YgtPz9IELnyrCdi7X2AvonhtgRFefyrC
         vOwA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=+GGd7Oj71AXyEXBBnNA+U7bwSr7murlRpB2StAz1jOk=;
        b=Z9eAhhd8p4EdDKOIOag8lp2/lXmz0Wo8TI63efNS2Rkk6L4VFBTV7/iOcUMTExLmD6
         B4tluG/JivlIkSJRwdtnoTRRt/JtA7lkr6IJOChS4UXslv0ElgeCowPwDAVQ6+shy/mk
         8ul7isZoL0YL6I9lcgpl2qrUzEZNfkTeutzTvWwY2q/RoDI8ooIeVqpQh4yUsYFA5XaS
         cM2wM98ZQFmn7nBGc39WbMVyoRzy7C4mur9O75+oZo6j8bv6Smc5P7US7rMA6rZ/kftq
         Wn4HxXXZh3mkMGGPqtllKxdpzsz9KTOYEr0qoe/1q8+uKOEOyuTZYLEe1+7tkH435prk
         V8HA==
X-Gm-Message-State: AG10YOT69icnxkNgJdb7aW9+kW+zKduFty5z2MB85ree7CZNzxS2Kk/IvjaaCfXxEanUJuZ4bz7Gs4qKseYUyA==
MIME-Version: 1.0
X-Received: by 10.140.43.116 with SMTP id d107mr34222309qga.51.1454417186354;
 Tue, 02 Feb 2016 04:46:26 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Tue, 2 Feb 2016 04:46:26 -0800 (PST)
In-Reply-To: <56B0803B.6080209@kraut.ca>
References: <56B0803B.6080209@kraut.ca>
Date: Tue, 2 Feb 2016 13:46:26 +0100
Message-ID: <CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Cc: Joachim Achtzehnter <joachim@kraut.ca>
Content-Type: multipart/mixed; boundary=001a113a73f8bfb3c6052ac8e399

--001a113a73f8bfb3c6052ac8e399
Content-Type: text/plain; charset=UTF-8

Back to the list...
(Attaching the logs provided privately by Joachim, with the client IP
- the only possible sensitive informatition - replaced with
XXX.XXX.XXX.XXX).

On Tue, Feb 2, 2016 at 11:08 AM, Joachim Achtzehnter <joachim@kraut.ca> wrote:
>
> Applied you patch, built, installed, and then tested. There was no
> improvement. I've attached the log messages as "ssl_log-v2.txt".
>
> The I changed "#if 0" to #if 1" and it is still not working. Th elog
> messages for this case are attached as "ssl_log-v2-if1.txt".

These logs show that the flush on read is *not* necessary (at least
from mod_ssl POV), provided each write is flushed during handshake.
Unfortunately OpenSSL does not seem to do it by itself: there is no
"bio[%pp] out: FLUSH" outside implicit onces from
bio_filter_out_write().
So if the "#if 1" patch seems unnecessary, the "#if 0" one looks needed.

>
> So far, the only version that worked was the old approach, to always flush
> before blocking on the read.

Everything is flushed (during handshake) with this new patch, however
we can't say anything about the HTTP response itself at the end of the
request (the flushes not initiated by mod_ssl are not logged with my
patch, nor LogLevel debug).
Attached is (yet) another patch which also outputs METADATA buckets
passing through mod_ssl, so that we can see whether the HTTP response
is finally flushed or not (there were other changes in 2.4.18
regarding this, i.e. in check_pipeline_flush).
A simultaneous network capture (pcap) would also be very valuable
(btw, where your previous capture taken from, on the server or client
side?).
This patch shouldn't make it work though, it's just more logging stuff
compared to the previous one, unless maybe you change the new "#if 0"
(elsewhere this time) to an "#if 1"?

Thanks (again) for testing Joachim.

Regards,
Yann.

--001a113a73f8bfb3c6052ac8e399
Content-Type: application/x-download; name="modssl_ssl_need_flush-v3.patch"
Content-Disposition: attachment; filename="modssl_ssl_need_flush-v3.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ik5efrhw2

SW5kZXg6IG1vZHVsZXMvc3NsL3NzbF9lbmdpbmVfaW8uYwo9PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVz
L3NzbC9zc2xfZW5naW5lX2lvLmMJKHJldmlzaW9uIDE3Mjc5MjMpCisrKyBtb2R1bGVzL3NzbC9z
c2xfZW5naW5lX2lvLmMJKHdvcmtpbmcgY29weSkKQEAgLTE0Nyw2ICsxNDcsOSBAQCBzdGF0aWMg
aW50IGJpb19maWx0ZXJfb3V0X2ZsdXNoKEJJTyAqYmlvKQogICAgIGJpb19maWx0ZXJfb3V0X2N0
eF90ICpvdXRjdHggPSAoYmlvX2ZpbHRlcl9vdXRfY3R4X3QgKikoYmlvLT5wdHIpOwogICAgIGFw
cl9idWNrZXQgKmU7CiAKKyAgICBhcF9sb2dfY2Vycm9yKEFQTE9HX01BUkssIEFQTE9HX05PVElD
RSwgMCwgb3V0Y3R4LT5jLAorICAgICAgICAgICAgICAgICAgImJpb1slcHBdIG91dDogRkxVU0gi
LCBiaW8pOworCiAgICAgQVBfREVCVUdfQVNTRVJUKEFQUl9CUklHQURFX0VNUFRZKG91dGN0eC0+
YmIpKTsKIAogICAgIGUgPSBhcHJfYnVja2V0X2ZsdXNoX2NyZWF0ZShvdXRjdHgtPmJiLT5idWNr
ZXRfYWxsb2MpOwpAQCAtMTg3LDcgKzE5MCw2IEBAIHN0YXRpYyBpbnQgYmlvX2ZpbHRlcl9vdXRf
d3JpdGUoQklPICpiaW8sIGNvbnN0IGNoCiB7CiAgICAgYmlvX2ZpbHRlcl9vdXRfY3R4X3QgKm91
dGN0eCA9IChiaW9fZmlsdGVyX291dF9jdHhfdCAqKShiaW8tPnB0cik7CiAgICAgYXByX2J1Y2tl
dCAqZTsKLSAgICBpbnQgbmVlZF9mbHVzaDsKIAogICAgIC8qIEFib3J0IGVhcmx5IGlmIHRoZSBj
bGllbnQgaGFzIGluaXRpYXRlZCBhIHJlbmVnb3RpYXRpb24uICovCiAgICAgaWYgKG91dGN0eC0+
ZmlsdGVyX2N0eC0+Y29uZmlnLT5yZW5lZ19zdGF0ZSA9PSBSRU5FR19BQk9SVCkgewpAQCAtMjE2
LDE1ICsyMTgsMTYgQEAgc3RhdGljIGludCBiaW9fZmlsdGVyX291dF93cml0ZShCSU8gKmJpbywg
Y29uc3QgY2gKICAgICAgKiBiZSBleHBlbnNpdmUgaW4gY2FzZXMgd2hlcmUgcmVxdWVzdHMvcmVw
b25zZXMgYXJlIHBpcGVsaW5lZCwKICAgICAgKiBzbyBsaW1pdCB0aGUgcGVyZm9ybWFuY2UgaW1w
YWN0IHRvIGhhbmRzaGFrZSB0aW1lLgogICAgICAqLwotI2lmIE9QRU5TU0xfVkVSU0lPTl9OVU1C
RVIgPCAweDAwMDkwODBkZgotICAgICBuZWVkX2ZsdXNoID0gIVNTTF9pc19pbml0X2ZpbmlzaGVk
KG91dGN0eC0+ZmlsdGVyX2N0eC0+cHNzbCk7Ci0jZWxzZQotICAgICBuZWVkX2ZsdXNoID0gU1NM
X2luX2Nvbm5lY3RfaW5pdChvdXRjdHgtPmZpbHRlcl9jdHgtPnBzc2wpOwotI2VuZGlmCi0gICAg
aWYgKG5lZWRfZmx1c2gpIHsKKyAgICBpZiAoIVNTTF9pc19pbml0X2ZpbmlzaGVkKG91dGN0eC0+
ZmlsdGVyX2N0eC0+cHNzbCkpIHsKKyAgICAgICAgYXBfbG9nX2NlcnJvcihBUExPR19NQVJLLCBB
UExPR19OT1RJQ0UsIDAsIG91dGN0eC0+YywKKyAgICAgICAgICAgICAgICAgICAgICAiYmlvWyVw
cF0gb3V0OiBmbHVzaCAlZCBieXRlcyIsIGJpbywgaW5sKTsKICAgICAgICAgZSA9IGFwcl9idWNr
ZXRfZmx1c2hfY3JlYXRlKG91dGN0eC0+YmItPmJ1Y2tldF9hbGxvYyk7CiAgICAgICAgIEFQUl9C
UklHQURFX0lOU0VSVF9UQUlMKG91dGN0eC0+YmIsIGUpOwogICAgIH0KKyAgICBlbHNlIHsKKyAg
ICAgICAgYXBfbG9nX2NlcnJvcihBUExPR19NQVJLLCBBUExPR19OT1RJQ0UsIDAsIG91dGN0eC0+
YywKKyAgICAgICAgICAgICAgICAgICAgICAiYmlvWyVwcF0gb3V0OiBwYXNzICVkIGJ5dGVzIiwg
YmlvLCBpbmwpOworICAgIH0KIAogICAgIGlmIChiaW9fZmlsdGVyX291dF9wYXNzKG91dGN0eCkg
PCAwKSB7CiAgICAgICAgIHJldHVybiAtMTsKQEAgLTQ5OSw2ICs1MDIsMTAgQEAgc3RhdGljIGlu
dCBiaW9fZmlsdGVyX2luX3JlYWQoQklPICpiaW8sIGNoYXIgKmluLAogCiAgICAgaW5jdHgtPnJj
ID0gYnJpZ2FkZV9jb25zdW1lKGluY3R4LT5iYiwgYmxvY2ssIGluLCAmaW5sKTsKIAorICAgIGFw
X2xvZ19jZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfTk9USUNFLCBpbmN0eC0+cmMsCisgICAgICAg
ICAgICAgICAgICBTU0xfZ2V0X2FwcF9kYXRhKGluY3R4LT5maWx0ZXJfY3R4LT5wc3NsKSwKKyAg
ICAgICAgICAgICAgICAgICJiaW9bJXBwXSBpbjogcmVhZCAlIiBBUFJfU0laRV9UX0ZNVCAiYnl0
ZXMiLCBiaW8sIGlubCk7CisKICAgICBpZiAoaW5jdHgtPnJjID09IEFQUl9TVUNDRVNTKSB7CiAg
ICAgICAgIHJldHVybiAoaW50KWlubDsKICAgICB9CkBAIC0xNjIyLDYgKzE2MjksMTAgQEAgc3Rh
dGljIGFwcl9zdGF0dXNfdCBzc2xfaW9fZmlsdGVyX291dHB1dChhcF9maWx0ZXIKICAgICAgICAg
YXByX2J1Y2tldCAqYnVja2V0ID0gQVBSX0JSSUdBREVfRklSU1QoYmIpOwogCiAgICAgICAgIGlm
IChBUFJfQlVDS0VUX0lTX01FVEFEQVRBKGJ1Y2tldCkpIHsKKyAgICAgICAgICAgIGFwX2xvZ19j
ZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfTk9USUNFLCAwLCBmLT5jLAorICAgICAgICAgICAgICAg
ICAgICAgICAgICAiYmlvWyVwcF0gb3V0OiBNRVRBREFUQSAlcyIsCisgICAgICAgICAgICAgICAg
ICAgICAgICAgIGZpbHRlcl9jdHgtPnBiaW9Xcml0ZSwKKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgYnVja2V0LT50eXBlLT5uYW1lKTsKICAgICAgICAgICAgIC8qIFBhc3MgdGhyb3VnaCBtZXRh
ZGF0YSBidWNrZXRzIHVudG91Y2hlZC4gIEVPQyBpcwogICAgICAgICAgICAgICogc3BlY2lhbDsg
dGVybWluYXRlIHRoZSBTU0wgbGF5ZXIgZmlyc3QuICovCiAgICAgICAgICAgICBpZiAoQVBfQlVD
S0VUX0lTX0VPQyhidWNrZXQpKSB7CkBAIC0xNjM0LDcgKzE2NDUsMTEgQEAgc3RhdGljIGFwcl9z
dGF0dXNfdCBzc2xfaW9fZmlsdGVyX291dHB1dChhcF9maWx0ZXIKICAgICAgICAgICAgICAqIG91
dGN0eC0+YmIgYXMgYSB0cnVlIGJ1ZmZlciBhbmQgaW50ZXJsZWF2ZSB0aGVzZSB3aXRoCiAgICAg
ICAgICAgICAgKiBkYXRhIGJ1Y2tldHMuICovCiAgICAgICAgICAgICBBUFJfQlVDS0VUX1JFTU9W
RShidWNrZXQpOworI2lmIDAKKyAgICAgICAgICAgIEFQUl9CUklHQURFX0lOU0VSVF9UQUlMKG91
dGN0eC0+YmIsIGJ1Y2tldCk7CisjZWxzZQogICAgICAgICAgICAgQVBSX0JSSUdBREVfSU5TRVJU
X0hFQUQob3V0Y3R4LT5iYiwgYnVja2V0KTsKKyNlbmRpZgogICAgICAgICAgICAgc3RhdHVzID0g
YXBfcGFzc19icmlnYWRlKGYtPm5leHQsIG91dGN0eC0+YmIpOwogICAgICAgICAgICAgaWYgKHN0
YXR1cyA9PSBBUFJfU1VDQ0VTUyAmJiBmLT5jLT5hYm9ydGVkKQogICAgICAgICAgICAgICAgIHN0
YXR1cyA9IEFQUl9FQ09OTlJFU0VUOwo=
--001a113a73f8bfb3c6052ac8e399--

From dev-return-85387-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  2 12:48:42 2016
Return-Path: <dev-return-85387-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EBC4B18D5C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Feb 2016 12:48:42 +0000 (UTC)
Received: (qmail 87527 invoked by uid 500); 2 Feb 2016 12:48:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 87453 invoked by uid 500); 2 Feb 2016 12:48:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87442 invoked by uid 99); 2 Feb 2016 12:48:42 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Feb 2016 12:48:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id E98721804F0
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 12:48:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id g_Rg0XdO6_3A for <dev@httpd.apache.org>;
	Tue,  2 Feb 2016 12:48:36 +0000 (UTC)
Received: from mail-qg0-f53.google.com (mail-qg0-f53.google.com [209.85.192.53])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 36BF620271
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 12:48:36 +0000 (UTC)
Received: by mail-qg0-f53.google.com with SMTP id o11so146065602qge.2
        for <dev@httpd.apache.org>; Tue, 02 Feb 2016 04:48:36 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=kB9rqjGWyLXtpGbnZ+Tm67ruuzaDdbD8QyQP8kZl2NE=;
        b=o202MPUpL62jkMzuPhl+5R44K9XCPmxLaSVPjqGkhoECP3VI3qwoo2Jx78alUnng25
         hC3fb1F9blD+pBw2D052QgtkiaKuOOC+Fikkb042WI0QZ2V6VvZTHnbgzTNYbUCgD0rr
         o1XaI5pkvNO+ynFsPT9osvZ0Sx3AgFUr+crr+RwT2ms9EkZQylBxq6w2qy33iuKqVOKK
         mkDejOD9U8mIhElpJGr7aR3VJCEZFYoTZEG4XhiqtnXMf0D/0vbszuX9KUZHJKZV4w68
         t3Ls1ayA68n7q60ciMUP4RAOwUodNhocmlHcIe4czp6BoQ68MEuSzGfh5icYwVxFssKo
         8WPA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=kB9rqjGWyLXtpGbnZ+Tm67ruuzaDdbD8QyQP8kZl2NE=;
        b=h4nV9XtW2XzoCGGaqgos0O4iYPulgdLK5ou3+1T3TO8lK693mEp40kUr/M7qDZ2deP
         Vd0GOMn6T01wEbEgpNb60j0az5m6nbQw7w9aYeqEFr4yPntwG5d5SnucSMGYo4avtxZo
         APcPLBQy2GxELGAf6hwc/hoii2nFMBbJGJtOxkrsRgPq7jSrFBEn8QnoUa8R3WZCtg2e
         /IKT7EoRBNvoY5Cm7FzmJiGEeUxbRjQaztFd2hH2lSRjY7EuDxAmUndovsW3fjmHXgJP
         vZyTCMs7Lfomuknpu5J/TMW7cYGAY3Z2pdaco6ZbOtc24jgih7oqS4LgNHNKPkU4DLYM
         FJdQ==
X-Gm-Message-State: AG10YORzjcDS6N5enwazwwdAmxfh1+qXkrXhloYwKs6CM6Sx17O3yl9rciFkbs+cxiRizdRdhikh0S6q4ifbmA==
MIME-Version: 1.0
X-Received: by 10.140.43.116 with SMTP id d107mr34231289qga.51.1454417315560;
 Tue, 02 Feb 2016 04:48:35 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Tue, 2 Feb 2016 04:48:35 -0800 (PST)
In-Reply-To: <CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
References: <56B0803B.6080209@kraut.ca>
	<CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
Date: Tue, 2 Feb 2016 13:48:35 +0100
Message-ID: <CAKQ1sVMzWT4OQ0N4x2qXgwEAKwGnwiz-u80bpcrpouLiAjBOGg@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: multipart/mixed; boundary=001a113a73f873660f052ac8eb44

--001a113a73f873660f052ac8eb44
Content-Type: text/plain; charset=UTF-8

On Tue, Feb 2, 2016 at 1:46 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> Back to the list...
> (Attaching the logs provided privately by Joachim, with the client IP
> - the only possible sensitive informatition - replaced with
> XXX.XXX.XXX.XXX).

Oups, here there are.

--001a113a73f873660f052ac8eb44
Content-Type: text/plain; charset=US-ASCII; name="ssl_log-v2.txt"
Content-Disposition: attachment; filename="ssl_log-v2.txt"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ik5ei4941

W1R1ZSBGZWIgMDIgMDE6NDY6MTQuNDUyNjY2IDIwMTZdIFtzc2w6aW5mb10gW3BpZCAyNjQ2XSBb
Y2xpZW50IFhYWC5YWFguWFhYLlhYWDo0NzgxNl0gQUgwMTk2NDogQ29ubmVjdGlvbiB0byBjaGls
ZCAwIGVzdGFibGlzaGVkIChzZXJ2ZXIgbG9jYWxob3N0OjQ0MykNCltUdWUgRmViIDAyIDAxOjQ2
OjE0LjQ1Mjk4NiAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAyNjQ2XSBbY2xpZW50IFhYWC5YWFgu
WFhYLlhYWDo0NzgxNl0gYmlvWzg3NjY2ZDhdIGluOiByZWFkIDExYnl0ZXMNCltUdWUgRmViIDAy
IDAxOjQ2OjE0LjQ1MzAxMSAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAyNjQ2XSBbY2xpZW50IFhY
WC5YWFguWFhYLlhYWDo0NzgxNl0gYmlvWzg3NjY2ZDhdIGluOiByZWFkIDE1NmJ5dGVzDQpbVHVl
IEZlYiAwMiAwMTo0NjoxNC40NTMwNDggMjAxNl0gW3NzbDpkZWJ1Z10gW3BpZCAyNjQ2XSBzc2xf
ZW5naW5lX2tlcm5lbC5jKDIxMDMpOiBbY2xpZW50IFhYWC5YWFguWFhYLlhYWDo0NzgxNl0gQUgw
MjA0NDogTm8gbWF0Y2hpbmcgU1NMIHZpcnR1YWwgaG9zdCBmb3Igc2VydmVybmFtZSBuYTE3MSBm
b3VuZCAodXNpbmcgZGVmYXVsdC9maXJzdCB2aXJ0dWFsIGhvc3QpDQpbVHVlIEZlYiAwMiAwMTo0
NjoxNC40NTg3MzcgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMjY0Nl0gW2NsaWVudCBYWFguWFhY
LlhYWC5YWFg6NDc4MTZdIGJpb1s4NzU4ZDUwXSBvdXQ6IGZsdXNoIDEwMDQgYnl0ZXMNCltUdWUg
RmViIDAyIDAxOjQ2OjE0LjQ1ODc3NCAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAyNjQ2XSBbY2xp
ZW50IFhYWC5YWFguWFhYLlhYWDo0NzgxNl0gYmlvWzg3NThkNTBdIG91dDogRkxVU0gNCltUdWUg
RmViIDAyIDAxOjQ2OjE0LjQ2NDI1MCAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAyNjQ2XSBbY2xp
ZW50IFhYWC5YWFguWFhYLlhYWDo0NzgxNl0gYmlvWzg3NjY2ZDhdIGluOiByZWFkIDVieXRlcw0K
W1R1ZSBGZWIgMDIgMDE6NDY6MTQuNDY0MjY1IDIwMTZdIFtzc2w6bm90aWNlXSBbcGlkIDI2NDZd
IFtjbGllbnQgWFhYLlhYWC5YWFguWFhYOjQ3ODE2XSBiaW9bODc2NjZkOF0gaW46IHJlYWQgNzBi
eXRlcw0KW1R1ZSBGZWIgMDIgMDE6NDY6MTQuNDY2MzA3IDIwMTZdIFtzc2w6bm90aWNlXSBbcGlk
IDI2NDZdIFtjbGllbnQgWFhYLlhYWC5YWFguWFhYOjQ3ODE2XSBiaW9bODc2NjZkOF0gaW46IHJl
YWQgNWJ5dGVzDQpbVHVlIEZlYiAwMiAwMTo0NjoxNC40NjYzMjUgMjAxNl0gW3NzbDpub3RpY2Vd
IFtwaWQgMjY0Nl0gW2NsaWVudCBYWFguWFhYLlhYWC5YWFg6NDc4MTZdIGJpb1s4NzY2NmQ4XSBp
bjogcmVhZCAxYnl0ZXMNCltUdWUgRmViIDAyIDAxOjQ2OjE0LjQ2NjM5NyAyMDE2XSBbc3NsOm5v
dGljZV0gW3BpZCAyNjQ2XSBbY2xpZW50IFhYWC5YWFguWFhYLlhYWDo0NzgxNl0gYmlvWzg3NjY2
ZDhdIGluOiByZWFkIDVieXRlcw0KW1R1ZSBGZWIgMDIgMDE6NDY6MTQuNDY2NDEyIDIwMTZdIFtz
c2w6bm90aWNlXSBbcGlkIDI2NDZdIFtjbGllbnQgWFhYLlhYWC5YWFguWFhYOjQ3ODE2XSBiaW9b
ODc2NjZkOF0gaW46IHJlYWQgNDBieXRlcw0KW1R1ZSBGZWIgMDIgMDE6NDY6MTQuNDY2NDcyIDIw
MTZdIFtzc2w6bm90aWNlXSBbcGlkIDI2NDZdIFtjbGllbnQgWFhYLlhYWC5YWFguWFhYOjQ3ODE2
XSBiaW9bODc1OGQ1MF0gb3V0OiBmbHVzaCA1MSBieXRlcw0KW1R1ZSBGZWIgMDIgMDE6NDY6MTQu
NDY2NDg5IDIwMTZdIFtzc2w6bm90aWNlXSBbcGlkIDI2NDZdIFtjbGllbnQgWFhYLlhYWC5YWFgu
WFhYOjQ3ODE2XSBiaW9bODc1OGQ1MF0gb3V0OiBGTFVTSA0KW1R1ZSBGZWIgMDIgMDE6NDY6MTQu
NDY2NTQxIDIwMTZdIFtzb2NhY2hlX3NobWNiOmRlYnVnXSBbcGlkIDI2NDZdIG1vZF9zb2NhY2hl
X3NobWNiLmMoNDkxKTogQUgwMDgzMTogc29jYWNoZV9zaG1jYl9zdG9yZSAoMHgxMCAtPiBzdWJj
YWNoZSAxNikNCltUdWUgRmViIDAyIDAxOjQ2OjE0LjQ2NjU2MCAyMDE2XSBbc29jYWNoZV9zaG1j
YjpkZWJ1Z10gW3BpZCAyNjQ2XSBtb2Rfc29jYWNoZV9zaG1jYi5jKDg0NSk6IEFIMDA4NDc6IGlu
c2VydCBoYXBwZW5lZCBhdCBpZHg9MCwgZGF0YT0oMDozMikNCltUdWUgRmViIDAyIDAxOjQ2OjE0
LjQ2NjU2NiAyMDE2XSBbc29jYWNoZV9zaG1jYjpkZWJ1Z10gW3BpZCAyNjQ2XSBtb2Rfc29jYWNo
ZV9zaG1jYi5jKDg1MCk6IEFIMDA4NDg6IGZpbmlzaGVkIGluc2VydCwgc3ViY2FjaGU6IGlkeF9w
b3MvaWR4X3VzZWQ9MC8xLCBkYXRhX3Bvcy9kYXRhX3VzZWQ9MC8xODkNCltUdWUgRmViIDAyIDAx
OjQ2OjE0LjQ2NjU3MSAyMDE2XSBbc29jYWNoZV9zaG1jYjpkZWJ1Z10gW3BpZCAyNjQ2XSBtb2Rf
c29jYWNoZV9zaG1jYi5jKDUxMik6IEFIMDA4MzQ6IGxlYXZpbmcgc29jYWNoZV9zaG1jYl9zdG9y
ZSBzdWNjZXNzZnVsbHkNCltUdWUgRmViIDAyIDAxOjQ2OjE0LjQ2NjU4MyAyMDE2XSBbc3NsOmRl
YnVnXSBbcGlkIDI2NDZdIHNzbF9lbmdpbmVfa2VybmVsLmMoMjAyMyk6IFtjbGllbnQgWFhYLlhY
WC5YWFguWFhYOjQ3ODE2XSBBSDAyMDQxOiBQcm90b2NvbDogVExTdjEuMiwgQ2lwaGVyOiBFQ0RI
RS1SU0EtQUVTMTI4LUdDTS1TSEEyNTYgKDEyOC8xMjggYml0cykNCltUdWUgRmViIDAyIDAxOjQ2
OjE0LjQ2NzI3MyAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAyNjQ2XSBbY2xpZW50IFhYWC5YWFgu
WFhYLlhYWDo0NzgxNl0gYmlvWzg3NjY2ZDhdIGluOiByZWFkIDVieXRlcw0KW1R1ZSBGZWIgMDIg
MDE6NDY6MTQuNDY3Mjg2IDIwMTZdIFtzc2w6bm90aWNlXSBbcGlkIDI2NDZdIFtjbGllbnQgWFhY
LlhYWC5YWFguWFhYOjQ3ODE2XSBiaW9bODc2NjZkOF0gaW46IHJlYWQgMTA4Ynl0ZXMNCltUdWUg
RmViIDAyIDAxOjQ2OjE0LjQ2NzM1NSAyMDE2XSBbc3NsOmRlYnVnXSBbcGlkIDI2NDZdIHNzbF9l
bmdpbmVfa2VybmVsLmMoMzU0KTogW2NsaWVudCBYWFguWFhYLlhYWC5YWFg6NDc4MTZdIEFIMDIw
MzQ6IEluaXRpYWwgKE5vLjEpIEhUVFBTIHJlcXVlc3QgcmVjZWl2ZWQgZm9yIGNoaWxkIDAgKHNl
cnZlciBsb2NhbGhvc3Q6NDQzKQ0KW1R1ZSBGZWIgMDIgMDE6NDY6MTQuNDY3NTM3IDIwMTZdIFth
dXRoel9jb3JlOmRlYnVnXSBbcGlkIDI2NDZdIG1vZF9hdXRoel9jb3JlLmMoODA5KTogW2NsaWVu
dCBYWFguWFhYLlhYWC5YWFg6NDc4MTZdIEFIMDE2MjY6IGF1dGhvcml6YXRpb24gcmVzdWx0IG9m
IFJlcXVpcmUgYWxsIGdyYW50ZWQ6IGdyYW50ZWQNCltUdWUgRmViIDAyIDAxOjQ2OjE0LjQ2NzU0
NiAyMDE2XSBbYXV0aHpfY29yZTpkZWJ1Z10gW3BpZCAyNjQ2XSBtb2RfYXV0aHpfY29yZS5jKDgw
OSk6IFtjbGllbnQgWFhYLlhYWC5YWFguWFhYOjQ3ODE2XSBBSDAxNjI2OiBhdXRob3JpemF0aW9u
IHJlc3VsdCBvZiA8UmVxdWlyZUFueT46IGdyYW50ZWQNCltUdWUgRmViIDAyIDAxOjQ2OjE0LjQ2
NzYyMyAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAyNjQ2XSBbY2xpZW50IFhYWC5YWFguWFhYLlhY
WDo0NzgxNl0gYmlvWzg3NThkNTBdIG91dDogcGFzcyAyNzEgYnl0ZXMNCltUdWUgRmViIDAyIDAx
OjQ2OjE0LjQ2NzY5MiAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAyNjQ2XSBbY2xpZW50IFhYWC5Y
WFguWFhYLlhYWDo0NzgxNl0gYmlvWzg3NThkNTBdIG91dDogcGFzcyAxNzI3IGJ5dGVzDQo=
--001a113a73f873660f052ac8eb44
Content-Type: text/plain; charset=US-ASCII; name="ssl_log-v2-if1.txt"
Content-Disposition: attachment; filename="ssl_log-v2-if1.txt"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ik5ei49j2

W1R1ZSBGZWIgMDIgMDE6NTE6NTYuNjc0MDIyIDIwMTZdIFtzc2w6aW5mb10gW3BpZCAyNjgwXSBb
Y2xpZW50IFhYWC5YWFguWFhYLlhYWDo0NzgyNl0gQUgwMTk2NDogQ29ubmVjdGlvbiB0byBjaGls
ZCAxIGVzdGFibGlzaGVkIChzZXJ2ZXIgbG9jYWxob3N0OjQ0MykNCltUdWUgRmViIDAyIDAxOjUx
OjU2LjY3NDM0MCAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAyNjgwXSBbY2xpZW50IFhYWC5YWFgu
WFhYLlhYWDo0NzgyNl0gYmlvWzg3NGI2ZDhdIGluOiBmbHVzaCA4NzNkZDUwDQpbVHVlIEZlYiAw
MiAwMTo1MTo1Ni42NzQzNjQgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMjY4MF0gW2NsaWVudCBY
WFguWFhYLlhYWC5YWFg6NDc4MjZdIGJpb1s4NzNkZDUwXSBvdXQ6IEZMVVNIDQpbVHVlIEZlYiAw
MiAwMTo1MTo1Ni42NzQ0MDUgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMjY4MF0gW2NsaWVudCBY
WFguWFhYLlhYWC5YWFg6NDc4MjZdIGJpb1s4NzRiNmQ4XSBpbjogcmVhZCAxMWJ5dGVzDQpbVHVl
IEZlYiAwMiAwMTo1MTo1Ni42NzQ0MjUgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMjY4MF0gW2Ns
aWVudCBYWFguWFhYLlhYWC5YWFg6NDc4MjZdIGJpb1s4NzRiNmQ4XSBpbjogZmx1c2ggODczZGQ1
MA0KW1R1ZSBGZWIgMDIgMDE6NTE6NTYuNjc0NDMyIDIwMTZdIFtzc2w6bm90aWNlXSBbcGlkIDI2
ODBdIFtjbGllbnQgWFhYLlhYWC5YWFguWFhYOjQ3ODI2XSBiaW9bODczZGQ1MF0gb3V0OiBGTFVT
SA0KW1R1ZSBGZWIgMDIgMDE6NTE6NTYuNjc0NDQwIDIwMTZdIFtzc2w6bm90aWNlXSBbcGlkIDI2
ODBdIFtjbGllbnQgWFhYLlhYWC5YWFguWFhYOjQ3ODI2XSBiaW9bODc0YjZkOF0gaW46IHJlYWQg
MTU2Ynl0ZXMNCltUdWUgRmViIDAyIDAxOjUxOjU2LjY3NDQ4MCAyMDE2XSBbc3NsOmRlYnVnXSBb
cGlkIDI2ODBdIHNzbF9lbmdpbmVfa2VybmVsLmMoMjEwMyk6IFtjbGllbnQgWFhYLlhYWC5YWFgu
WFhYOjQ3ODI2XSBBSDAyMDQ0OiBObyBtYXRjaGluZyBTU0wgdmlydHVhbCBob3N0IGZvciBzZXJ2
ZXJuYW1lIG5hMTcxIGZvdW5kICh1c2luZyBkZWZhdWx0L2ZpcnN0IHZpcnR1YWwgaG9zdCkNCltU
dWUgRmViIDAyIDAxOjUxOjU2LjY4MDA4MyAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAyNjgwXSBb
Y2xpZW50IFhYWC5YWFguWFhYLlhYWDo0NzgyNl0gYmlvWzg3M2RkNTBdIG91dDogZmx1c2ggMTAw
NCBieXRlcw0KW1R1ZSBGZWIgMDIgMDE6NTE6NTYuNjgwMTM0IDIwMTZdIFtzc2w6bm90aWNlXSBb
cGlkIDI2ODBdIFtjbGllbnQgWFhYLlhYWC5YWFguWFhYOjQ3ODI2XSBiaW9bODczZGQ1MF0gb3V0
OiBGTFVTSA0KW1R1ZSBGZWIgMDIgMDE6NTE6NTYuNjgwMTQzIDIwMTZdIFtzc2w6bm90aWNlXSBb
cGlkIDI2ODBdIFtjbGllbnQgWFhYLlhYWC5YWFguWFhYOjQ3ODI2XSBiaW9bODc0YjZkOF0gaW46
IGZsdXNoIDg3M2RkNTANCltUdWUgRmViIDAyIDAxOjUxOjU2LjY4MDE3MCAyMDE2XSBbc3NsOm5v
dGljZV0gW3BpZCAyNjgwXSBbY2xpZW50IFhYWC5YWFguWFhYLlhYWDo0NzgyNl0gYmlvWzg3M2Rk
NTBdIG91dDogRkxVU0gNCltUdWUgRmViIDAyIDAxOjUxOjU2LjY4NDQwMSAyMDE2XSBbc3NsOm5v
dGljZV0gW3BpZCAyNjgwXSBbY2xpZW50IFhYWC5YWFguWFhYLlhYWDo0NzgyNl0gYmlvWzg3NGI2
ZDhdIGluOiByZWFkIDVieXRlcw0KW1R1ZSBGZWIgMDIgMDE6NTE6NTYuNjg0NDE0IDIwMTZdIFtz
c2w6bm90aWNlXSBbcGlkIDI2ODBdIFtjbGllbnQgWFhYLlhYWC5YWFguWFhYOjQ3ODI2XSBiaW9b
ODc0YjZkOF0gaW46IGZsdXNoIDg3M2RkNTANCltUdWUgRmViIDAyIDAxOjUxOjU2LjY4NDQyMiAy
MDE2XSBbc3NsOm5vdGljZV0gW3BpZCAyNjgwXSBbY2xpZW50IFhYWC5YWFguWFhYLlhYWDo0Nzgy
Nl0gYmlvWzg3M2RkNTBdIG91dDogRkxVU0gNCltUdWUgRmViIDAyIDAxOjUxOjU2LjY4NDQzMiAy
MDE2XSBbc3NsOm5vdGljZV0gW3BpZCAyNjgwXSBbY2xpZW50IFhYWC5YWFguWFhYLlhYWDo0Nzgy
Nl0gYmlvWzg3NGI2ZDhdIGluOiByZWFkIDcwYnl0ZXMNCltUdWUgRmViIDAyIDAxOjUxOjU2LjY4
NjMyOCAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAyNjgwXSBbY2xpZW50IFhYWC5YWFguWFhYLlhY
WDo0NzgyNl0gYmlvWzg3NGI2ZDhdIGluOiBmbHVzaCA4NzNkZDUwDQpbVHVlIEZlYiAwMiAwMTo1
MTo1Ni42ODYzMzYgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMjY4MF0gW2NsaWVudCBYWFguWFhY
LlhYWC5YWFg6NDc4MjZdIGJpb1s4NzNkZDUwXSBvdXQ6IEZMVVNIDQpbVHVlIEZlYiAwMiAwMTo1
MTo1Ni42ODYzNDIgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMjY4MF0gW2NsaWVudCBYWFguWFhY
LlhYWC5YWFg6NDc4MjZdIGJpb1s4NzRiNmQ4XSBpbjogcmVhZCA1Ynl0ZXMNCltUdWUgRmViIDAy
IDAxOjUxOjU2LjY4NjM0OCAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAyNjgwXSBbY2xpZW50IFhY
WC5YWFguWFhYLlhYWDo0NzgyNl0gYmlvWzg3NGI2ZDhdIGluOiBmbHVzaCA4NzNkZDUwDQpbVHVl
IEZlYiAwMiAwMTo1MTo1Ni42ODYzNTMgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMjY4MF0gW2Ns
aWVudCBYWFguWFhYLlhYWC5YWFg6NDc4MjZdIGJpb1s4NzNkZDUwXSBvdXQ6IEZMVVNIDQpbVHVl
IEZlYiAwMiAwMTo1MTo1Ni42ODYzNTggMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMjY4MF0gW2Ns
aWVudCBYWFguWFhYLlhYWC5YWFg6NDc4MjZdIGJpb1s4NzRiNmQ4XSBpbjogcmVhZCAxYnl0ZXMN
CltUdWUgRmViIDAyIDAxOjUxOjU2LjY4NjQyOSAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAyNjgw
XSBbY2xpZW50IFhYWC5YWFguWFhYLlhYWDo0NzgyNl0gYmlvWzg3NGI2ZDhdIGluOiBmbHVzaCA4
NzNkZDUwDQpbVHVlIEZlYiAwMiAwMTo1MTo1Ni42ODY0MzYgMjAxNl0gW3NzbDpub3RpY2VdIFtw
aWQgMjY4MF0gW2NsaWVudCBYWFguWFhYLlhYWC5YWFg6NDc4MjZdIGJpb1s4NzNkZDUwXSBvdXQ6
IEZMVVNIDQpbVHVlIEZlYiAwMiAwMTo1MTo1Ni42ODY0NDIgMjAxNl0gW3NzbDpub3RpY2VdIFtw
aWQgMjY4MF0gW2NsaWVudCBYWFguWFhYLlhYWC5YWFg6NDc4MjZdIGJpb1s4NzRiNmQ4XSBpbjog
cmVhZCA1Ynl0ZXMNCltUdWUgRmViIDAyIDAxOjUxOjU2LjY4NjQ0NyAyMDE2XSBbc3NsOm5vdGlj
ZV0gW3BpZCAyNjgwXSBbY2xpZW50IFhYWC5YWFguWFhYLlhYWDo0NzgyNl0gYmlvWzg3NGI2ZDhd
IGluOiBmbHVzaCA4NzNkZDUwDQpbVHVlIEZlYiAwMiAwMTo1MTo1Ni42ODY0NTIgMjAxNl0gW3Nz
bDpub3RpY2VdIFtwaWQgMjY4MF0gW2NsaWVudCBYWFguWFhYLlhYWC5YWFg6NDc4MjZdIGJpb1s4
NzNkZDUwXSBvdXQ6IEZMVVNIDQpbVHVlIEZlYiAwMiAwMTo1MTo1Ni42ODY0NTggMjAxNl0gW3Nz
bDpub3RpY2VdIFtwaWQgMjY4MF0gW2NsaWVudCBYWFguWFhYLlhYWC5YWFg6NDc4MjZdIGJpb1s4
NzRiNmQ4XSBpbjogcmVhZCA0MGJ5dGVzDQpbVHVlIEZlYiAwMiAwMTo1MTo1Ni42ODY1MTcgMjAx
Nl0gW3NzbDpub3RpY2VdIFtwaWQgMjY4MF0gW2NsaWVudCBYWFguWFhYLlhYWC5YWFg6NDc4MjZd
IGJpb1s4NzNkZDUwXSBvdXQ6IGZsdXNoIDUxIGJ5dGVzDQpbVHVlIEZlYiAwMiAwMTo1MTo1Ni42
ODY1MzQgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMjY4MF0gW2NsaWVudCBYWFguWFhYLlhYWC5Y
WFg6NDc4MjZdIGJpb1s4NzNkZDUwXSBvdXQ6IEZMVVNIDQpbVHVlIEZlYiAwMiAwMTo1MTo1Ni42
ODY1ODUgMjAxNl0gW3NvY2FjaGVfc2htY2I6ZGVidWddIFtwaWQgMjY4MF0gbW9kX3NvY2FjaGVf
c2htY2IuYyg0OTEpOiBBSDAwODMxOiBzb2NhY2hlX3NobWNiX3N0b3JlICgweDBmIC0+IHN1YmNh
Y2hlIDE1KQ0KW1R1ZSBGZWIgMDIgMDE6NTE6NTYuNjg2NjA0IDIwMTZdIFtzb2NhY2hlX3NobWNi
OmRlYnVnXSBbcGlkIDI2ODBdIG1vZF9zb2NhY2hlX3NobWNiLmMoODQ1KTogQUgwMDg0NzogaW5z
ZXJ0IGhhcHBlbmVkIGF0IGlkeD0wLCBkYXRhPSgwOjMyKQ0KW1R1ZSBGZWIgMDIgMDE6NTE6NTYu
Njg2NjEwIDIwMTZdIFtzb2NhY2hlX3NobWNiOmRlYnVnXSBbcGlkIDI2ODBdIG1vZF9zb2NhY2hl
X3NobWNiLmMoODUwKTogQUgwMDg0ODogZmluaXNoZWQgaW5zZXJ0LCBzdWJjYWNoZTogaWR4X3Bv
cy9pZHhfdXNlZD0wLzEsIGRhdGFfcG9zL2RhdGFfdXNlZD0wLzE4OQ0KW1R1ZSBGZWIgMDIgMDE6
NTE6NTYuNjg2NjE1IDIwMTZdIFtzb2NhY2hlX3NobWNiOmRlYnVnXSBbcGlkIDI2ODBdIG1vZF9z
b2NhY2hlX3NobWNiLmMoNTEyKTogQUgwMDgzNDogbGVhdmluZyBzb2NhY2hlX3NobWNiX3N0b3Jl
IHN1Y2Nlc3NmdWxseQ0KW1R1ZSBGZWIgMDIgMDE6NTE6NTYuNjg2NjI3IDIwMTZdIFtzc2w6ZGVi
dWddIFtwaWQgMjY4MF0gc3NsX2VuZ2luZV9rZXJuZWwuYygyMDIzKTogW2NsaWVudCBYWFguWFhY
LlhYWC5YWFg6NDc4MjZdIEFIMDIwNDE6IFByb3RvY29sOiBUTFN2MS4yLCBDaXBoZXI6IEVDREhF
LVJTQS1BRVMxMjgtR0NNLVNIQTI1NiAoMTI4LzEyOCBiaXRzKQ0KW1R1ZSBGZWIgMDIgMDE6NTE6
NTYuNjg3ODg0IDIwMTZdIFtzc2w6bm90aWNlXSBbcGlkIDI2ODBdIFtjbGllbnQgWFhYLlhYWC5Y
WFguWFhYOjQ3ODI2XSBiaW9bODc0YjZkOF0gaW46IHJlYWQgNWJ5dGVzDQpbVHVlIEZlYiAwMiAw
MTo1MTo1Ni42ODc4OTcgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMjY4MF0gW2NsaWVudCBYWFgu
WFhYLlhYWC5YWFg6NDc4MjZdIGJpb1s4NzRiNmQ4XSBpbjogcmVhZCAxMDhieXRlcw0KW1R1ZSBG
ZWIgMDIgMDE6NTE6NTYuNjg3OTQ3IDIwMTZdIFtzc2w6ZGVidWddIFtwaWQgMjY4MF0gc3NsX2Vu
Z2luZV9rZXJuZWwuYygzNTQpOiBbY2xpZW50IFhYWC5YWFguWFhYLlhYWDo0NzgyNl0gQUgwMjAz
NDogSW5pdGlhbCAoTm8uMSkgSFRUUFMgcmVxdWVzdCByZWNlaXZlZCBmb3IgY2hpbGQgMSAoc2Vy
dmVyIGxvY2FsaG9zdDo0NDMpDQpbVHVlIEZlYiAwMiAwMTo1MTo1Ni42ODgxMTUgMjAxNl0gW2F1
dGh6X2NvcmU6ZGVidWddIFtwaWQgMjY4MF0gbW9kX2F1dGh6X2NvcmUuYyg4MDkpOiBbY2xpZW50
IFhYWC5YWFguWFhYLlhYWDo0NzgyNl0gQUgwMTYyNjogYXV0aG9yaXphdGlvbiByZXN1bHQgb2Yg
UmVxdWlyZSBhbGwgZ3JhbnRlZDogZ3JhbnRlZA0KW1R1ZSBGZWIgMDIgMDE6NTE6NTYuNjg4MTIz
IDIwMTZdIFthdXRoel9jb3JlOmRlYnVnXSBbcGlkIDI2ODBdIG1vZF9hdXRoel9jb3JlLmMoODA5
KTogW2NsaWVudCBYWFguWFhYLlhYWC5YWFg6NDc4MjZdIEFIMDE2MjY6IGF1dGhvcml6YXRpb24g
cmVzdWx0IG9mIDxSZXF1aXJlQW55PjogZ3JhbnRlZA0KW1R1ZSBGZWIgMDIgMDE6NTE6NTYuNjg4
MTk4IDIwMTZdIFtzc2w6bm90aWNlXSBbcGlkIDI2ODBdIFtjbGllbnQgWFhYLlhYWC5YWFguWFhY
OjQ3ODI2XSBiaW9bODczZGQ1MF0gb3V0OiBwYXNzIDI3MSBieXRlcw0KW1R1ZSBGZWIgMDIgMDE6
NTE6NTYuNjg4MjY5IDIwMTZdIFtzc2w6bm90aWNlXSBbcGlkIDI2ODBdIFtjbGllbnQgWFhYLlhY
WC5YWFguWFhYOjQ3ODI2XSBiaW9bODczZGQ1MF0gb3V0OiBwYXNzIDE3MjcgYnl0ZXMNCg==
--001a113a73f873660f052ac8eb44--

From dev-return-85388-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  2 16:13:34 2016
Return-Path: <dev-return-85388-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F40311865E
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Feb 2016 16:13:33 +0000 (UTC)
Received: (qmail 47916 invoked by uid 500); 2 Feb 2016 16:12:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 47849 invoked by uid 500); 2 Feb 2016 16:12:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 47839 invoked by uid 99); 2 Feb 2016 16:12:30 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Feb 2016 16:12:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id B54C41A0127
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 16:12:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.554
X-Spam-Level:
X-Spam-Status: No, score=-0.554 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.553, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 21MrRCauyCB5 for <dev@httpd.apache.org>;
	Tue,  2 Feb 2016 16:12:27 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 2D901204CE
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 16:12:26 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u12GCI15018557
	for <dev@httpd.apache.org>; Tue, 2 Feb 2016 17:12:18 +0100 (CET)
Subject: Re: Questions about mod_event's documentation
To: dev@httpd.apache.org
References: <CAFedD43ZE8sgyp-VAvJJhLusqcePmgDJFshMUBa96ijWzwnX9g@mail.gmail.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56B0D561.5090006@kippdata.de>
Date: Tue, 2 Feb 2016 17:12:17 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <CAFedD43ZE8sgyp-VAvJJhLusqcePmgDJFshMUBa96ijWzwnX9g@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi Luca,

some fragmentary answer:

Am 01.02.2016 um 10:17 schrieb Luca Toscano:

...

> - AsyncRequestWorkerFactor is used to regulate the amount of requests
> that a single process/threads block can handle, calculating the value
> periodically using the idle threads/workers available. In case of
> workers maxed out, the keep alive sockets/connections are closed to free
> some space.

...

> If my understanding is correct (I doubt it but let's assume this) then I
> have the following questions:
>
> - Would it be worth to add more info in the "how it works" section? A
> first read may bring the user to think that the listening thread is the
> one doing the actual work, rather than the workers, being a bit puzzled
> when reading the AsyncRequestWorkerFactor section.

...

> - The summary talks about "supporting threads" and given the fact that
> AsyncRequestWorkerFactor is added to ThreadsPerChild, it raises the
> question about how many of them are created at startup. Conversely, is
> it a way to say: the number of threads for each process are
> ThreadsPerChild but since they now perform also small bursts of work
> (like keep alive house keeping and flushing data to clients) the total
> amount of connections allowed should be more to make room for all these
> connection/socket states?

The number of worker threads per process is constant during the lifetime 
from the process creation to its end. It is equals to ThreadsPerChild 
and the sole purpose of this configuration item.

AsyncRequestWorkerFactor  comes into the image, because in contrast to 
the traditional MPMs prefork, worker and winnt, event does not have a 
1:1 relation between worker threads and client connections. Event is 
designed to scale better than those in terms of connections. It should 
handle a lot more connections with the same number of threads. How can 
this work? It works by freeing the worker threads from the connection 
handling in certain situations where the thread would actually simply 
wait until it can write back the next part of the response or until the 
next request on the same connection arrives. But this design results in 
some over commitment. What happens if by bad luck over time we accepted 
lots of connections, which were mostly idle and then suddenly many of 
them start activity which needs a worker thread for each of them. Then 
it might happen, that we do not have enough worker threads in the 
process that accepted the connections. We don't have a way to move such 
connections to another child process. Once the connection is accepted it 
stays with the same process.

To reduce the likeliness of such shortage in free worker threads, the 
number of connections we accept per process is limited. The limit is not 
a fixed number or some fixed multiple of ThreadsPerChild, but instead it 
is calculated based on the number of idle worker threads. If that number 
gets small during run time, the number of additional connections we 
accept decreases until at some point that process won't accept any new 
connections. This situation can be monitored via mod_status.

Let's have a look at the formula: The docs say:

ThreadsPerChild + (AsyncRequestWorkerFactor * number of idle workers)

is the number of new connections a process will still accept (not 
counting connections in closing state). Ignoring for a moment the 
"closing state" stuff, we can write:

max_connections = ThreadsPerChild + (AsyncRequestWorkerFactor * 
idle_workers)

Let's replace ThreadsPerChild by (idle_workers + busy_workers):

max_connections = (idle_workers + busy_workers) + 
(AsyncRequestWorkerFactor * idle_workers)
    = busy_workers + (AsyncRequestWorkerFactor + 1) * idle_workers

Now splitting connections in busy and idle ones and defining a busy 
connection as one needing a worker thread so that the number of busy 
connections equals the number of busy workers, we get:

max_idle_connections + busy_workers = busy_workers + 
(AsyncRequestWorkerFactor + 1) * idle_workers

and thus

max_idle_connections = (AsyncRequestWorkerFactor + 1) * idle_workers

So although we only have idle_workers left, we accept up to 
(AsyncRequestWorkerFactor + 1) * idle_workers as the number of idle 
connections. Since AsyncRequestWorkerFactor by default has the value 2, 
it means by default we accept 3 times as many connections, as we have 
idle workers. That's a handy formulation for our type of over commitment.

Of course the formula is not always true. If many connections turn over 
into busy ones, than we might suddenly have more (old) idle connections 
than allowed by this formula. E.g. if for a moment all workers are idle, 
we would allow 3*ThreadsPerChild (idle) connections. Then assume 
ThreadsPerChild of them start to be busy, then we would allow no idle 
connections because no idle workers are left, but we would still have 
2*ThreadsPerChild old idle connections. The formula only tells us how 
many we are willing to handle unless we are already over the limit 
because to many turned into busy ones.

I have not done the math if we also add "connections in closing state" 
into the game.

There's no easy way to tune AsyncRequestWorkerFactor since it somehow 
depends on the activity pattern of connections, which is hard to 
estimate. It is best to monitor the status via mod_status to get an 
idea, if one can save more threads with a higher value (more over 
commitment), or if one needs to stay on the conservative side. Sometimes 
it is better to work with higher ThreadsPerChild, so that the activity 
patterns on more connections per process gives a better average behavior.

HTH a bit w.r.t. AsyncRequestWorkerFactor (and also hoping that I didn't 
make mistakes in explaining).

Regards,

Rainer

From dev-return-85389-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  2 17:01:41 2016
Return-Path: <dev-return-85389-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2571C18906
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Feb 2016 17:01:41 +0000 (UTC)
Received: (qmail 6395 invoked by uid 500); 2 Feb 2016 17:01:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6233 invoked by uid 500); 2 Feb 2016 17:01:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6188 invoked by uid 99); 2 Feb 2016 17:01:40 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Feb 2016 17:01:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C44DD1A01AE
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 17:01:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.38
X-Spam-Level: **
X-Spam-Status: No, score=2.38 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2.5, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 5Cs_jg560Gmc for <dev@httpd.apache.org>;
	Tue,  2 Feb 2016 17:01:32 +0000 (UTC)
Received: from mail-lb0-f181.google.com (mail-lb0-f181.google.com [209.85.217.181])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5540B204CE
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 17:01:32 +0000 (UTC)
Received: by mail-lb0-f181.google.com with SMTP id x4so99636908lbm.0
        for <dev@httpd.apache.org>; Tue, 02 Feb 2016 09:01:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=qObjb+D4U+Fqp8QPWYvXrUCBZScct/Q/YXkHCfOyvik=;
        b=onzpQwr4BUQd6Kywc5+dRwp86ejMkEWNU1fffwZh9uo2KeN2BpHspUL46vkJS4i/3T
         4lDK168MqPIVHanw9IqcFeSbd6STkbmT2lpU11uZspYyqmxGE5tuBq235Ctij2uTdGGY
         WaOLjtK7rHfXNx1NM0Th/FKI0OpQJpxt9EVzJHlpIalfvJ0tvFuomYJgujerKdBLudPw
         76abPMnhxeQoMbBvLZTeI3kuwX1/D41U0IUdoLh0Xq9HQI1Cu9UGqJTtd7922U9FJWhy
         OCnsKywSYrs1ZfrEdDSXBN2q4ksnFCjD1W3n6QkjeL5axrzMeAkXRPslM0mL2mV/1Vwv
         d89g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=qObjb+D4U+Fqp8QPWYvXrUCBZScct/Q/YXkHCfOyvik=;
        b=bzT0p9mn8IVrlpYA0b9jutpuFACJnbJMGts3q4Ln9tpsPRbAuaxLF8rGmfRWQqK3ez
         5hPmt26MtWwnkV9zeZZFy5/+5C5YW1Re4WscGipO+DM/VxcpNKdtBOrUw20v+Evt0mPQ
         f0DHUym2vNWeB3mEfJiRWty00WMg3vlhTxC0t0bXJx+wP6LmFXaG3UdIVjhSXyioOQUe
         ceHIT4r2pbXM5n/W1stq7GEnMoYLo8nm+KyjUh06E0U82yjVVIlUhnqd8pRKBtHxfenR
         /JL3bwkctCGW7VdeRh2GpGY8sUdaCdoMgE3XKr8Qy9+4ZBBAt0on9OuIrX4IZYidMi16
         H0Lg==
X-Gm-Message-State: AG10YORuSnwm1hsV2Fr2ejFN5HSAh0Lt/O6BbYW7uU/bXkPk/c3fYji+QCX9icus/naiItUCFhia7/gSygTwCg==
MIME-Version: 1.0
X-Received: by 10.112.40.168 with SMTP id y8mr11599683lbk.67.1454432490849;
 Tue, 02 Feb 2016 09:01:30 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Tue, 2 Feb 2016 09:01:30 -0800 (PST)
In-Reply-To: <56B0D561.5090006@kippdata.de>
References: <CAFedD43ZE8sgyp-VAvJJhLusqcePmgDJFshMUBa96ijWzwnX9g@mail.gmail.com>
	<56B0D561.5090006@kippdata.de>
Date: Tue, 2 Feb 2016 18:01:30 +0100
Message-ID: <CAFedD41Midu7yxpOyRcx4c-WEDZjPBtLnOhtHnJjDnD=AGJb2Q@mail.gmail.com>
Subject: Re: Questions about mod_event's documentation
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a1134c436f78ebb052acc7305

--001a1134c436f78ebb052acc7305
Content-Type: text/plain; charset=UTF-8

Hi Rainer,

thank you 100 times for this email, it was really helpful! Comments inline:

2016-02-02 17:12 GMT+01:00 Rainer Jung <rainer.jung@kippdata.de>:
>
>
> The number of worker threads per process is constant during the lifetime
> from the process creation to its end. It is equals to ThreadsPerChild and
> the sole purpose of this configuration item.
>

This information is not completely trivial to establish simply reading the
documentation, even if all the information are there. Reading mod_worker's
doc can lead to think about this option, but there is always the space for
some doubts..


>
> AsyncRequestWorkerFactor  comes into the image, because in contrast to the
> traditional MPMs prefork, worker and winnt, event does not have a 1:1
> relation between worker threads and client connections. Event is designed
> to scale better than those in terms of connections. It should handle a lot
> more connections with the same number of threads. How can this work? It
> works by freeing the worker threads from the connection handling in certain
> situations where the thread would actually simply wait until it can write
> back the next part of the response or until the next request on the same
> connection arrives. But this design results in some over commitment. What
> happens if by bad luck over time we accepted lots of connections, which
> were mostly idle and then suddenly many of them start activity which needs
> a worker thread for each of them. Then it might happen, that we do not have
> enough worker threads in the process that accepted the connections. We
> don't have a way to move such connections to another child process. Once
> the connection is accepted it stays with the same process.
>

The only thing that I would like to expand a bit would be: "in certain
situations where the thread would actually simply wait until it can write
back the next part of the response or until the next request on the same
connection arrives.", but as Eric told me on #httpd-dev it is a bit
complicate to summarise in few sentences (an easy one is keep alive). It
might not be needed in the documentation, but it would be good for the
people interested in an in depth look without reading the code.

The rest of the explanation is simply great, very easy and straightforward.
I would really like to add some of it to the how it works section because I
think it would help a lot of people.


> ...
>
> HTH a bit w.r.t. AsyncRequestWorkerFactor (and also hoping that I didn't
> make mistakes in explaining).
>
>
Same thing for the second part of the email, I believe that the directive
AsyncRequestWorkerFactor should get more information, maybe with a little
section explaining some directions to take for tuning it.

I want to re-state my point: httpd's documentation contains often all the
information needed but sometimes it misses the necessary background for the
people not heavily involved in the httpd community to get the whole picture
straight away.

I'll work on a small patch for the mod_event's documentation, and I'll send
it to the mailing list to get some feedback to get your opinion.

Thanks again!

Luca

--001a1134c436f78ebb052acc7305
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi=C2=A0<span style=3D"font-size:12.8px">Rainer,</span><di=
v><span style=3D"font-size:12.8px"><br></span></div><div><span style=3D"fon=
t-size:12.8px">thank you 100 times for this email, it was really helpful! C=
omments inline:</span></div><div class=3D"gmail_extra"><br><div class=3D"gm=
ail_quote">2016-02-02 17:12 GMT+01:00 Rainer Jung <span dir=3D"ltr">&lt;<a =
href=3D"mailto:rainer.jung@kippdata.de" target=3D"_blank">rainer.jung@kippd=
ata.de</a>&gt;</span>:<blockquote class=3D"gmail_quote" style=3D"margin:0px=
 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);bor=
der-left-style:solid;padding-left:1ex"><span class=3D"">
<br></span>
The number of worker threads per process is constant during the lifetime fr=
om the process creation to its end. It is equals to ThreadsPerChild and the=
 sole purpose of this configuration item.<br></blockquote><div><br></div><d=
iv>This information is not completely trivial to establish simply reading t=
he documentation, even if all the information are there. Reading mod_worker=
&#39;s doc can lead to think about this option, but there is always the spa=
ce for some doubts..=C2=A0</div><div>=C2=A0</div><blockquote class=3D"gmail=
_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left=
-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">
<br>
AsyncRequestWorkerFactor=C2=A0 comes into the image, because in contrast to=
 the traditional MPMs prefork, worker and winnt, event does not have a 1:1 =
relation between worker threads and client connections. Event is designed t=
o scale better than those in terms of connections. It should handle a lot m=
ore connections with the same number of threads. How can this work? It work=
s by freeing the worker threads from the connection handling in certain sit=
uations where the thread would actually simply wait until it can write back=
 the next part of the response or until the next request on the same connec=
tion arrives. But this design results in some over commitment. What happens=
 if by bad luck over time we accepted lots of connections, which were mostl=
y idle and then suddenly many of them start activity which needs a worker t=
hread for each of them. Then it might happen, that we do not have enough wo=
rker threads in the process that accepted the connections. We don&#39;t hav=
e a way to move such connections to another child process. Once the connect=
ion is accepted it stays with the same process.<br></blockquote><div><br></=
div><div>The only thing that I would like to expand a bit would be: &quot;i=
n certain situations where the thread would actually simply wait until it c=
an write back the next part of the response or until the next request on th=
e same connection arrives.&quot;, but as Eric told me on #httpd-dev it is a=
 bit complicate to summarise in few sentences (an easy one is keep alive). =
It might not be needed in the documentation, but it would be good for the p=
eople interested in an in depth look without reading the code.</div><div><b=
r></div><div>The rest of the explanation is simply great, very easy and str=
aightforward. I would really like to add some of it to the how it works sec=
tion because I think it would help a lot of people.</div><div>=C2=A0</div><=
blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-l=
eft-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;pa=
dding-left:1ex">...<br>
<br>
HTH a bit w.r.t.=C2=A0AsyncRequestWorkerFactor=C2=A0(and also hoping that I=
 didn&#39;t make mistakes in explaining).<br><br></blockquote><div><br></di=
v><div>Same thing for the second part of the email, I believe that the dire=
ctive AsyncRequestWorkerFactor should get more information, maybe with a li=
ttle section explaining some directions to take for tuning it.</div><div><b=
r></div><div>I want to re-state my point: httpd&#39;s documentation contain=
s often all the information needed but sometimes it misses the necessary ba=
ckground for the people not heavily involved in the httpd community to get =
the whole picture straight away.</div><div><br></div><div>I&#39;ll work on =
a small patch for the mod_event&#39;s documentation, and I&#39;ll send it t=
o the mailing list to get some feedback to get your opinion.</div><div><br>=
</div><div>Thanks again!</div><div><br></div><div>Luca</div><div><br></div>=
<div><br></div></div><br></div></div>

--001a1134c436f78ebb052acc7305--

From dev-return-85390-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  2 17:28:06 2016
Return-Path: <dev-return-85390-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EEB4F18AEA
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Feb 2016 17:28:05 +0000 (UTC)
Received: (qmail 13257 invoked by uid 500); 2 Feb 2016 17:27:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13188 invoked by uid 500); 2 Feb 2016 17:27:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13168 invoked by uid 99); 2 Feb 2016 17:27:59 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Feb 2016 17:27:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 00783C1842;
	Tue,  2 Feb 2016 17:27:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.679
X-Spam-Level: *
X-Spam-Status: No, score=1.679 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2.5, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id dT8XzQ8fo8YK; Tue,  2 Feb 2016 17:27:58 +0000 (UTC)
Received: from mail-lf0-f49.google.com (mail-lf0-f49.google.com [209.85.215.49])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id BC19020969;
	Tue,  2 Feb 2016 17:27:57 +0000 (UTC)
Received: by mail-lf0-f49.google.com with SMTP id m1so48772070lfg.0;
        Tue, 02 Feb 2016 09:27:57 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=c1YLlJ0OvpDmU1REdpDhtISGtlJjlcS9JHY4o+PwRjo=;
        b=laMVVUXtwJVOBjE1pDxqmAJUpuy3twb6GYW6qAv/7CZtAwp9PauB1oRAFWBqMBXiyx
         aLk312FCzSLrzFFgJYQ0U9RBYz2+irUFqF4vyd88H2YPvybe7cxH40NAM4riTn+YfL7S
         xrNIBZWNsKMT46SSnCB/k5eltJxH583/N1Dhcv5/Dmoka7ZpGlz5gHRtsI/Q/ZK3A/52
         3sRbA+OjjSHqxmZkeLOhYm2Tb7jNByUd1HJRdnObV/X7G3cxxpjztFGZlTVB4nyjD0mq
         H7+uzqosYp9wkmx6RapDOi2RTvneJ+95VvtTfxFz5KZEq+zwfg22xc9pgdRYEBc2pc++
         vUtQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=c1YLlJ0OvpDmU1REdpDhtISGtlJjlcS9JHY4o+PwRjo=;
        b=ShIO7nchpWQeHWBw6R2x2Z70MthVhJQ6n9sUK0l9cRfzbqxJ0iEoQQnnRGwU1YBeTW
         IbJ40+ff8KQnQLMm914r1nrjgw7W5Xhb6MllIEFm1LnrF2i0FhjfliIBTjDNde0ApxB6
         6o+X4lBighq0yiYav1tnJYW55QPC/7Lv9tHccCMv4wA/I/VX8sTBC3VSs2bhYFOhLADa
         Lu89Br6ps24bH4WLpHyrJkXf5b55rHq5AMGvSswazj9dXe5LX+YaBl4SwztmMf+4L5CY
         KpFX57JHhmXAE8WYBy58LKbh1Wlsa7LaQAi5g8ehUtENOXf6Gweq8sXcCWPax9FkTwKA
         eN7A==
X-Gm-Message-State: AG10YOSiNf8of+ru22s8EYM2viCi8/T7EJt30gjqrXBatVUSp0O/Vab3sn8gAujYxy6S7K4G/vz8JaogUsFypg==
MIME-Version: 1.0
X-Received: by 10.25.167.74 with SMTP id q71mr9668275lfe.22.1454434076274;
 Tue, 02 Feb 2016 09:27:56 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Tue, 2 Feb 2016 09:27:56 -0800 (PST)
In-Reply-To: <CAKQ1sVPoWXEpRQ8nfaVELwtAmfCoaKkyRiwwkCUxFkhPHCcsDw@mail.gmail.com>
References: <bug-55808-56585@https.bz.apache.org/bugzilla/>
	<bug-55808-56585-wzfMd0JVSx@https.bz.apache.org/bugzilla/>
	<5696D835.5050904@blenning.no>
	<CAKQ1sVMU=o24Rrw5zF2oLozgyqMFn5DZKAJbJVOLot+4nX4iBA@mail.gmail.com>
	<5696E637.3080501@blenning.no>
	<CAKQ1sVM2jN=aKaiD20+dR78EUnfKSwKU5GCcB-+ipnx5dj8QqA@mail.gmail.com>
	<5696F0D8.40002@blenning.no>
	<CAKQ1sVP8FSa8vu4uxEkSTYn7skVSajGJmM0zzLwKobJ3yRCsTg@mail.gmail.com>
	<CAKQ1sVMWVFScKax4MtM1b79TmmG+_rK2+OK9inZ4vkZWjihUqg@mail.gmail.com>
	<CAKQ1sVPoWXEpRQ8nfaVELwtAmfCoaKkyRiwwkCUxFkhPHCcsDw@mail.gmail.com>
Date: Tue, 2 Feb 2016 18:27:56 +0100
Message-ID: <CAFedD40EVfUPLohS75a1rvtsD-zrC+BTD9i0fsTQocVOWdtCqA@mail.gmail.com>
Subject: Re: [Bug 55808] File integrity verification using MD5 and SHA1
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Cc: docs@httpd.apache.org, Tom Fredrik Blenning Klaussen <bfg@blenning.no>
Content-Type: multipart/alternative; boundary=001a113dbd1a773993052accd2d8

--001a113dbd1a773993052accd2d8
Content-Type: text/plain; charset=UTF-8

Hi Yann,

sorry for the lack of response but I didn't notice the patch. I checked the
links in staging and published the patch to
https://httpd.apache.org/download.cgi (hope that it is ok for you).

Thanks Tom!

Luca

2016-02-02 11:09 GMT+01:00 Yann Ylavic <ylavic.dev@gmail.com>:

> On Wed, Jan 20, 2016 at 11:24 PM, Yann Ylavic <ylavic.dev@gmail.com>
> wrote:
> >
> > Would attached patch be appropriate, so that MD5/SHA1/ASC/KEYS files
> > are under https://*.apache.org's certification?
>
> Assuming lazy consensus, committed in r1728066.
>
> Thanks Tom Fredrik.
>
> Regards,
> Yann.
>

--001a113dbd1a773993052accd2d8
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi Yann,<div><br></div><div>sorry for the lack of response=
 but I didn&#39;t notice the patch. I checked the links in staging and publ=
ished the patch to=C2=A0<a href=3D"https://httpd.apache.org/download.cgi">h=
ttps://httpd.apache.org/download.cgi</a> (hope that it is ok for you).</div=
><div><br></div><div>Thanks Tom!</div><div><br></div><div>Luca</div></div><=
div class=3D"gmail_extra"><br><div class=3D"gmail_quote">2016-02-02 11:09 G=
MT+01:00 Yann Ylavic <span dir=3D"ltr">&lt;<a href=3D"mailto:ylavic.dev@gma=
il.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;</span>:<br><blockquo=
te class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc so=
lid;padding-left:1ex"><span class=3D"">On Wed, Jan 20, 2016 at 11:24 PM, Ya=
nn Ylavic &lt;<a href=3D"mailto:ylavic.dev@gmail.com">ylavic.dev@gmail.com<=
/a>&gt; wrote:<br>
&gt;<br>
&gt; Would attached patch be appropriate, so that MD5/SHA1/ASC/KEYS files<b=
r>
&gt; are under https://*.<a href=3D"http://apache.org" rel=3D"noreferrer" t=
arget=3D"_blank">apache.org</a>&#39;s certification?<br>
<br>
</span>Assuming lazy consensus, committed in r1728066.<br>
<br>
Thanks Tom Fredrik.<br>
<br>
Regards,<br>
Yann.<br>
</blockquote></div><br></div>

--001a113dbd1a773993052accd2d8--

From dev-return-85391-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  2 17:41:16 2016
Return-Path: <dev-return-85391-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 21E9618B9A
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Feb 2016 17:41:16 +0000 (UTC)
Received: (qmail 60621 invoked by uid 500); 2 Feb 2016 17:41:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60555 invoked by uid 500); 2 Feb 2016 17:41:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60545 invoked by uid 99); 2 Feb 2016 17:41:15 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Feb 2016 17:41:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1A21418027C
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 17:41:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 9rCDpOWWDv3Y for <dev@httpd.apache.org>;
	Tue,  2 Feb 2016 17:41:14 +0000 (UTC)
Received: from mail-qg0-f53.google.com (mail-qg0-f53.google.com [209.85.192.53])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 6154842A20
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 17:41:14 +0000 (UTC)
Received: by mail-qg0-f53.google.com with SMTP id o11so154378265qge.2
        for <dev@httpd.apache.org>; Tue, 02 Feb 2016 09:41:14 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Uf0fuP7L34uO4UH/6ZEA/9o/YnSbhjP0jz6SPWMUi7w=;
        b=yJoJOlOfpqMdAbwng3f31s8BdRObfouGw128YDoRbZ5uQE0KVMemrC9L2WpLggRVYS
         t1zdmLRkbVxmT7lcvLqkhC5qzQFxFI1SivMaiIoHAG//Dj937EHltH9572vxMGxx1KDG
         DqWJWQMHtfJ7n+tjryTz9xIQpuhODb6L9HBceLFzDIjJagnP58BrnUOP5Gxd2uQdyjQM
         mmV6a6rxJ3JyqgnPtppTxvQfNZk1tw19pUONCJdjilkTKIa4Ylj8+80a6wyv3OQQ08Ee
         bCf3kt1wXf2yyUdP+aIe8kUnaIJncfh/XriMZ4MK41Z0q/+t8BIpG3JIsLUgIMceMUTP
         A1Eg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=Uf0fuP7L34uO4UH/6ZEA/9o/YnSbhjP0jz6SPWMUi7w=;
        b=nFexXmis5fdQs4gWMhb7SQnseGs4mtft/DG5iYyk3iuZpWBqOHP7/jGzVNaTij3Pv9
         ihRQW4gAcJcaUhp+qNHlkpRztXxllLC+nXv52wONTno3F/OV5F8z3/coesmgxboWKqFZ
         Kq5KYRGhoTj/rXscYwjyZ3D7V7tG6CM2j055pkoRJAv9rif9lJy4sv9vaXQrcJq94hGd
         qQOiryBEDHdYky8Y5KML5Nl9JBYkosURE+q+6h2+SBN899VfJF0NchoBbJQ9y2znZHkl
         kO5AtUNiT4cSCkJhJCt/fiEOBtxaKhquGSqaEqEtFLg7PUVS399Ko30kFJghqzEvr2jh
         hJ9A==
X-Gm-Message-State: AG10YORHsYDsUn/dEHUruD/yFX2mfBAGCBvnTNxCcGsOQnN/5gZmz9o7t5IwgSoqLsNFBuMUwXz5EmzJ8iNOgQ==
MIME-Version: 1.0
X-Received: by 10.140.167.135 with SMTP id n129mr36921045qhn.73.1454434868111;
 Tue, 02 Feb 2016 09:41:08 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Tue, 2 Feb 2016 09:41:07 -0800 (PST)
In-Reply-To: <CAFedD40EVfUPLohS75a1rvtsD-zrC+BTD9i0fsTQocVOWdtCqA@mail.gmail.com>
References: <bug-55808-56585@https.bz.apache.org/bugzilla/>
	<bug-55808-56585-wzfMd0JVSx@https.bz.apache.org/bugzilla/>
	<5696D835.5050904@blenning.no>
	<CAKQ1sVMU=o24Rrw5zF2oLozgyqMFn5DZKAJbJVOLot+4nX4iBA@mail.gmail.com>
	<5696E637.3080501@blenning.no>
	<CAKQ1sVM2jN=aKaiD20+dR78EUnfKSwKU5GCcB-+ipnx5dj8QqA@mail.gmail.com>
	<5696F0D8.40002@blenning.no>
	<CAKQ1sVP8FSa8vu4uxEkSTYn7skVSajGJmM0zzLwKobJ3yRCsTg@mail.gmail.com>
	<CAKQ1sVMWVFScKax4MtM1b79TmmG+_rK2+OK9inZ4vkZWjihUqg@mail.gmail.com>
	<CAKQ1sVPoWXEpRQ8nfaVELwtAmfCoaKkyRiwwkCUxFkhPHCcsDw@mail.gmail.com>
	<CAFedD40EVfUPLohS75a1rvtsD-zrC+BTD9i0fsTQocVOWdtCqA@mail.gmail.com>
Date: Tue, 2 Feb 2016 18:41:07 +0100
Message-ID: <CAKQ1sVOTmD44PvN2bgmZvx3MM+TcD7b6JpyukwQEOk-bZjZZVw@mail.gmail.com>
Subject: Re: [Bug 55808] File integrity verification using MD5 and SHA1
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi Luca,

On Tue, Feb 2, 2016 at 6:27 PM, Luca Toscano <toscano.luca@gmail.com> wrote:
>
> sorry for the lack of response but I didn't notice the patch.

No problem.

> I checked the
> links in staging and published the patch to
> https://httpd.apache.org/download.cgi (hope that it is ok for you).

How do you do the "publish" part?

Regards,
Yann.

From dev-return-85392-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  2 17:47:20 2016
Return-Path: <dev-return-85392-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 82C8918BE5
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Feb 2016 17:47:20 +0000 (UTC)
Received: (qmail 82329 invoked by uid 500); 2 Feb 2016 17:47:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 82267 invoked by uid 500); 2 Feb 2016 17:47:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82257 invoked by uid 99); 2 Feb 2016 17:47:19 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Feb 2016 17:47:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 95AA4C0179
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 17:47:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id JThv69c_9DQ0 for <dev@httpd.apache.org>;
	Tue,  2 Feb 2016 17:47:13 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id DCD2D204CE
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 17:47:12 +0000 (UTC)
Received: from resomta-po-18v.sys.comcast.net ([96.114.154.242])
	by resqmta-po-05v.sys.comcast.net with comcast
	id DVld1s00E5E3ZMc01Vn6hC; Tue, 02 Feb 2016 17:47:06 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-18v.sys.comcast.net with comcast
	id DVn51s00E2U0RYt01Vn5uu; Tue, 02 Feb 2016 17:47:06 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: [PATCH 58926] Minor improvements to apxs
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56AFA325.9010205@gmail.com>
Date: Tue, 2 Feb 2016 12:47:05 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <CA08E09F-1799-4B43-8A33-05784E6D8A4F@jaguNET.com>
References: <56AFA325.9010205@gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1454435226;
	bh=zmzWPtb78KX9++aujR7qNJEpBgAnvug75QZCWvdoDmk=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=LSXvnZ5vK+OJSkE6SpwZ2788ZH7cgKM6qGHWD7tQONYKaRqR2AlxgH5Y8Om3shpU/
	 2FnqmGEzdw7wTao3FUhLa43DqpiYDC7KZXYsm/5UI0SYUuB2EKkeVPMjwE3w1zq1Dl
	 gVKJ4GmCC0b8+FcCHoV7ShUODXRDn462pje0o51Q3TGbC5GtSANrwdhYOH2o3AIOaQ
	 I96CsxpJAYRESRQJ50RcYXwgvbP647bwrLVJS4gJOFcbStT6Hq8vZtDmmm4R6vTG+Y
	 D6Zs7r0Igbornl3xD97JZRoo9QD5GFTaq2348mhppDQR8/CibVvrryOga52sN4cNb3
	 z+/DhsRG9WWgQ==

Thx... looks good via inspection. Not tested though.

> On Feb 1, 2016, at 1:25 PM, Jacob Champion <champion.p@gmail.com> =
wrote:
>=20
> Hi all,
>=20
> I posted a four-patch set for apxs -- two functionality changes, and =
two cosmetic/refactoring changes -- last week after a quick conversation =
with Eric Covener on IRC. The motivation is primarily to improve (or =
disable) the auto-detection of module names during installation when the =
source is not available. As it turns out, one of the fixes was already =
posted as a bug/patch under PR43033.
>=20
>    https://bz.apache.org/bugzilla/show_bug.cgi?id=3D58926
>=20
> Please let me know what you think!
>=20
> Thanks,
> --Jacob


From dev-return-85394-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  2 17:58:18 2016
Return-Path: <dev-return-85394-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 492CC18C6B
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Feb 2016 17:58:18 +0000 (UTC)
Received: (qmail 6562 invoked by uid 500); 2 Feb 2016 17:58:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6483 invoked by uid 500); 2 Feb 2016 17:58:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6473 invoked by uid 99); 2 Feb 2016 17:58:17 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Feb 2016 17:58:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 572D0C16AA
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 17:58:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.698
X-Spam-Level: *
X-Spam-Status: No, score=1.698 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2.5, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id d2wMkdO8ObCT for <dev@httpd.apache.org>;
	Tue,  2 Feb 2016 17:58:16 +0000 (UTC)
Received: from mail-lb0-f175.google.com (mail-lb0-f175.google.com [209.85.217.175])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 283CE204CE
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 17:58:16 +0000 (UTC)
Received: by mail-lb0-f175.google.com with SMTP id bc4so99272947lbc.2
        for <dev@httpd.apache.org>; Tue, 02 Feb 2016 09:58:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=+tkoqoRpIxZVt00C6a909iBBz5fCWgrrbcjh4LC2mOA=;
        b=qmpi7yBRpaYcIoU8X4bz/6Mz37jtCFpx0MAq8h8yI93V/wAtFUjB0c270E0AMmJniC
         GtnPJ7UJ3Gcuhoe++4jfjSwWPkLSTH2K+sq2EK8iXhFKXjic3ElYue/cYRWJ9LNAeD7E
         vY6kdj9DCQZI90+2hWcestDsIVqK2HylCrAYfD26dxJPEP1TL1yHYd9VnhPgEEjBb4tP
         4RggUQEaLlzopTt6bD/JdQjRT+On+XAsWuP2H/tqwFBsQxab2PtI9Ud6Y+2MHLZnYb8N
         XQCF/dYxughur5avf/dhaoJqTYSejNQAAUi6D200LBM/OS7vuE7LtDenKvgQyViPYVlA
         WSEg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=+tkoqoRpIxZVt00C6a909iBBz5fCWgrrbcjh4LC2mOA=;
        b=GiT9qEc61R/E902eYAye62dzTFyDuJbvkSI/5oMqzUR/i4QpAm+A726v+6LWELHcV8
         KZT3L8AG2Czqf1Kww/2K9DIyx1N4Ar90liuOGJMjEF0y5D2D3C66iFFalLWVGzwU/gw3
         ei2dqZxc46i2G4EMwcPEmPZ3tJXUl+ohbA37+Jk70jYWQlvzM3tkEKoFXre/7Nvyhiut
         49nXmb+jS5WEtjD2XQ24Ad5TNg8d6czudm9tfKJNipl8MVM3HFuDMfbJpliW2+nU8oBd
         HX8ZtbQalC2rig+Kal4UhXwWewKEEGPI08wab0Dwma3Vmv9iVvMgVyVbqqVVV0paLEGW
         tXfA==
X-Gm-Message-State: AG10YORn7+GNZAMr997kefUYXoahj+N+vxm2JMdy74Lh23wtce2UzZjqOVjpuSjq+UeMnfidOikWG2EHGHikdA==
MIME-Version: 1.0
X-Received: by 10.112.160.232 with SMTP id xn8mr9955058lbb.22.1454435889592;
 Tue, 02 Feb 2016 09:58:09 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Tue, 2 Feb 2016 09:58:09 -0800 (PST)
In-Reply-To: <CAKQ1sVOTmD44PvN2bgmZvx3MM+TcD7b6JpyukwQEOk-bZjZZVw@mail.gmail.com>
References: <bug-55808-56585@https.bz.apache.org/bugzilla/>
	<bug-55808-56585-wzfMd0JVSx@https.bz.apache.org/bugzilla/>
	<5696D835.5050904@blenning.no>
	<CAKQ1sVMU=o24Rrw5zF2oLozgyqMFn5DZKAJbJVOLot+4nX4iBA@mail.gmail.com>
	<5696E637.3080501@blenning.no>
	<CAKQ1sVM2jN=aKaiD20+dR78EUnfKSwKU5GCcB-+ipnx5dj8QqA@mail.gmail.com>
	<5696F0D8.40002@blenning.no>
	<CAKQ1sVP8FSa8vu4uxEkSTYn7skVSajGJmM0zzLwKobJ3yRCsTg@mail.gmail.com>
	<CAKQ1sVMWVFScKax4MtM1b79TmmG+_rK2+OK9inZ4vkZWjihUqg@mail.gmail.com>
	<CAKQ1sVPoWXEpRQ8nfaVELwtAmfCoaKkyRiwwkCUxFkhPHCcsDw@mail.gmail.com>
	<CAFedD40EVfUPLohS75a1rvtsD-zrC+BTD9i0fsTQocVOWdtCqA@mail.gmail.com>
	<CAKQ1sVOTmD44PvN2bgmZvx3MM+TcD7b6JpyukwQEOk-bZjZZVw@mail.gmail.com>
Date: Tue, 2 Feb 2016 18:58:09 +0100
Message-ID: <CAFedD42XotwqvCQnPpbzwMjvT5UrGWFPHA05Ux_on8KZ_5ug4g@mail.gmail.com>
Subject: Re: [Bug 55808] File integrity verification using MD5 and SHA1
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11c38e508c452e052acd3e69

--001a11c38e508c452e052acd3e69
Content-Type: text/plain; charset=UTF-8

Hi Yann,

2016-02-02 18:41 GMT+01:00 Yann Ylavic <ylavic.dev@gmail.com>:

>
> How do you do the "publish" part?
>
>
I use the bookmarklet outlined in http://www.apache.org/dev/cms.html#usage
(didn't know what it was until Humbedooh explained to me with extreme
patience :)

I usually go to http://httpd.staging.apache.org/ after committing, and hit
the bookmark to access the CMS page. Then the "Publish" button will push
the changes to http://httpd.apache.org/

Luca

--001a11c38e508c452e052acd3e69
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi Yann,<br><div class=3D"gmail_extra"><br><div class=3D"g=
mail_quote">2016-02-02 18:41 GMT+01:00 Yann Ylavic <span dir=3D"ltr">&lt;<a=
 href=3D"mailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gmail.co=
m</a>&gt;</span>:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px =
0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);bord=
er-left-style:solid;padding-left:1ex"><span class=3D""><br>
</span>How do you do the &quot;publish&quot; part?<br><br></blockquote><div=
><br></div><div>I use the bookmarklet outlined in=C2=A0<a href=3D"http://ww=
w.apache.org/dev/cms.html#usage">http://www.apache.org/dev/cms.html#usage</=
a> (didn&#39;t know what it was until Humbedooh explained to me with extrem=
e patience :)</div><div><br></div><div>I usually go to=C2=A0<a href=3D"http=
://httpd.staging.apache.org/">http://httpd.staging.apache.org/</a> after co=
mmitting, and hit the bookmark to access the CMS page. Then the &quot;Publi=
sh&quot; button will push the changes to <a href=3D"http://httpd.apache.org=
/">http://httpd.apache.org/</a></div><div><br></div><div>Luca</div><div>=C2=
=A0</div></div><br></div></div>

--001a11c38e508c452e052acd3e69--

From dev-return-85395-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  2 18:07:14 2016
Return-Path: <dev-return-85395-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 11FB318CF5
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Feb 2016 18:07:14 +0000 (UTC)
Received: (qmail 30287 invoked by uid 500); 2 Feb 2016 18:07:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30210 invoked by uid 500); 2 Feb 2016 18:07:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30200 invoked by uid 99); 2 Feb 2016 18:07:09 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Feb 2016 18:07:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 4966AC1466
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 18:07:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id c71bWWql3xCS for <dev@httpd.apache.org>;
	Tue,  2 Feb 2016 18:07:08 +0000 (UTC)
Received: from mail-qk0-f179.google.com (mail-qk0-f179.google.com [209.85.220.179])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D27FA2565F
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 18:07:07 +0000 (UTC)
Received: by mail-qk0-f179.google.com with SMTP id x1so69299877qkc.1
        for <dev@httpd.apache.org>; Tue, 02 Feb 2016 10:07:07 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=YO+stBaiz/gKxwzFSMeXclAS0+X5wjJduq7sZcA6WPM=;
        b=aTE10el8cx7hR0ara1+KkrUoPIOmG4gWZ7N1O07C+AOFgaxUuC3xH3xj3tFVGIYqWh
         xlCMc9aoS+Qmb8jJX6xQUlA/rZQKzFwJvrVHNZ9acXuRXnS4pZ44HZjo6FmdopCkmxlI
         h5bvm/SylSvrTdOKh5Ttt88NR0HtkZX5IB/z/pnfgPGpRc1DJMRAa5lFg8nYj6fGzB63
         HVfQjMY8zQCgIaw307S+A8Yw1sZpIi8eA8VZJ+IdCRS0Td77GFOejmDCBwNmPBsC73qt
         h9MKdA8nfFh6vEOcD+aXUooGJkXS2mnzVbafPaFPfLcPicqdfaGVtSMUT4lIY7+nM2W2
         nkNg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=YO+stBaiz/gKxwzFSMeXclAS0+X5wjJduq7sZcA6WPM=;
        b=SoUlYhQUSWfIN9JZe3NIbm+WBHc0OYq27W2Iw90XI2AoZZ6R2DSnHM7HiVNvjTS/Tx
         Xrj6t4PkTSWTIqgogF60QbgBIijocFYEwGxOYYIEM2GCa7eh33BESjx/dTVjXsIabpZt
         /H2yhhTg7U584flJ/X71lmP4U/A9GQZlxCbb+Ad6PWd4w3YKxLBdtWfgBGS1uOcxX0gR
         h0Lx5McaqKvwcHYKEZ2gRsX2jtupvwmD3c1NgwYEEXAzYbK+7zNLaP0Vlfkie35VrA51
         82lwKNhLWA2BZZAG5gDhZYfeK1AqCWSulU/X374TOVixt0lwLCKgedHeqgybh3qHh+qR
         Qxww==
X-Gm-Message-State: AG10YOQPICcskX31hBgVXum6xPCaipa4vWaIRYSoLpPDuwZvxwmhS2lKXinKFE8TYyRgooLUfC44/0MJrPUx/A==
MIME-Version: 1.0
X-Received: by 10.55.209.27 with SMTP id s27mr37116207qki.55.1454436426828;
 Tue, 02 Feb 2016 10:07:06 -0800 (PST)
Received: by 10.55.65.85 with HTTP; Tue, 2 Feb 2016 10:07:06 -0800 (PST)
In-Reply-To: <CAFedD42XotwqvCQnPpbzwMjvT5UrGWFPHA05Ux_on8KZ_5ug4g@mail.gmail.com>
References: <bug-55808-56585@https.bz.apache.org/bugzilla/>
	<bug-55808-56585-wzfMd0JVSx@https.bz.apache.org/bugzilla/>
	<5696D835.5050904@blenning.no>
	<CAKQ1sVMU=o24Rrw5zF2oLozgyqMFn5DZKAJbJVOLot+4nX4iBA@mail.gmail.com>
	<5696E637.3080501@blenning.no>
	<CAKQ1sVM2jN=aKaiD20+dR78EUnfKSwKU5GCcB-+ipnx5dj8QqA@mail.gmail.com>
	<5696F0D8.40002@blenning.no>
	<CAKQ1sVP8FSa8vu4uxEkSTYn7skVSajGJmM0zzLwKobJ3yRCsTg@mail.gmail.com>
	<CAKQ1sVMWVFScKax4MtM1b79TmmG+_rK2+OK9inZ4vkZWjihUqg@mail.gmail.com>
	<CAKQ1sVPoWXEpRQ8nfaVELwtAmfCoaKkyRiwwkCUxFkhPHCcsDw@mail.gmail.com>
	<CAFedD40EVfUPLohS75a1rvtsD-zrC+BTD9i0fsTQocVOWdtCqA@mail.gmail.com>
	<CAKQ1sVOTmD44PvN2bgmZvx3MM+TcD7b6JpyukwQEOk-bZjZZVw@mail.gmail.com>
	<CAFedD42XotwqvCQnPpbzwMjvT5UrGWFPHA05Ux_on8KZ_5ug4g@mail.gmail.com>
Date: Tue, 2 Feb 2016 19:07:06 +0100
Message-ID: <CAKQ1sVN1weTVYw-k6eCgm4__CQ5xODLCs36nM-TZkY_dhc0uSw@mail.gmail.com>
Subject: Re: [Bug 55808] File integrity verification using MD5 and SHA1
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Thanks, I'll read this!

On Tue, Feb 2, 2016 at 6:58 PM, Luca Toscano <toscano.luca@gmail.com> wrote:
> Hi Yann,
>
> 2016-02-02 18:41 GMT+01:00 Yann Ylavic <ylavic.dev@gmail.com>:
>>
>>
>> How do you do the "publish" part?
>>
>
> I use the bookmarklet outlined in http://www.apache.org/dev/cms.html#usage
> (didn't know what it was until Humbedooh explained to me with extreme
> patience :)
>
> I usually go to http://httpd.staging.apache.org/ after committing, and hit
> the bookmark to access the CMS page. Then the "Publish" button will push the
> changes to http://httpd.apache.org/
>
> Luca
>
>

From dev-return-85393-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  2 18:49:46 2016
Return-Path: <dev-return-85393-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 10F6718FEA
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Feb 2016 18:49:46 +0000 (UTC)
Received: (qmail 85185 invoked by uid 500); 2 Feb 2016 17:47:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85103 invoked by uid 500); 2 Feb 2016 17:47:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85093 invoked by uid 99); 2 Feb 2016 17:47:45 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Feb 2016 17:47:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 54F321804F0
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 17:47:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.553
X-Spam-Level:
X-Spam-Status: No, score=-0.553 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.553, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id UiAc3lRPbWDe for <dev@httpd.apache.org>;
	Tue,  2 Feb 2016 17:47:39 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id DEC9125E93
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 17:47:38 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u12HlWIv019523
	for <dev@httpd.apache.org>; Tue, 2 Feb 2016 18:47:32 +0100 (CET)
Subject: Re: Questions about mod_event's documentation
To: dev@httpd.apache.org
References: <CAFedD43ZE8sgyp-VAvJJhLusqcePmgDJFshMUBa96ijWzwnX9g@mail.gmail.com>
 <56B0D561.5090006@kippdata.de>
 <CAFedD41Midu7yxpOyRcx4c-WEDZjPBtLnOhtHnJjDnD=AGJb2Q@mail.gmail.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56B0EBB3.7050205@kippdata.de>
Date: Tue, 2 Feb 2016 18:47:31 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <CAFedD41Midu7yxpOyRcx4c-WEDZjPBtLnOhtHnJjDnD=AGJb2Q@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 02.02.2016 um 18:01 schrieb Luca Toscano:
> Hi Rainer,
>
> thank you 100 times for this email, it was really helpful! Comments inline:
>
> 2016-02-02 17:12 GMT+01:00 Rainer Jung <rainer.jung@kippdata.de
> <mailto:rainer.jung@kippdata.de>>:
>
>
>     The number of worker threads per process is constant during the
>     lifetime from the process creation to its end. It is equals to
>     ThreadsPerChild and the sole purpose of this configuration item.

> This information is not completely trivial to establish simply reading
> the documentation, even if all the information are there. Reading
> mod_worker's doc can lead to think about this option, but there is
> always the space for some doubts..

You are right and it should be made clear in the docs, that all those 
MPMs work on a fixed number of threads per process basis. If they need 
to grow, they can only grow by producing new processes (with each again 
having the same fixed number of threads).

>     AsyncRequestWorkerFactor  comes into the image, because in contrast
>     to the traditional MPMs prefork, worker and winnt, event does not
>     have a 1:1 relation between worker threads and client connections.
>     Event is designed to scale better than those in terms of
>     connections. It should handle a lot more connections with the same
>     number of threads. How can this work? It works by freeing the worker
>     threads from the connection handling in certain situations where the
>     thread would actually simply wait until it can write back the next
>     part of the response or until the next request on the same
>     connection arrives. But this design results in some over commitment.
>     What happens if by bad luck over time we accepted lots of
>     connections, which were mostly idle and then suddenly many of them
>     start activity which needs a worker thread for each of them. Then it
>     might happen, that we do not have enough worker threads in the
>     process that accepted the connections. We don't have a way to move
>     such connections to another child process. Once the connection is
>     accepted it stays with the same process.
>
>
> The only thing that I would like to expand a bit would be: "in certain
> situations where the thread would actually simply wait until it can
> write back the next part of the response or until the next request on
> the same connection arrives.", but as Eric told me on #httpd-dev it is a
> bit complicate to summarise in few sentences (an easy one is keep
> alive). It might not be needed in the documentation, but it would be
> good for the people interested in an in depth look without reading the code.

Maybe the mod_status output can be a guidline about interesting states. 
Have a look at the table part visible under

http://www.apache.org/server-status

The last three columns are all under "Async connections". Thos are 
connection states which would need a fixed worker thread in the old 
style MPMs (not event), but need no worker thread for event MPM:

- writing
   Writing back the answer to the client, but the TCP write buffer is 
full, because the connection to the client is too slow so packets pile 
up. When the next write would block, we instead free the worker thread 
and wait for that connection to get writable again. Not 100% sure, but I 
think this only happens when we serve static content. Not in the case of 
a proxy.

- keep-alive
   The response is finished and we wait for the next request to arrive, 
more precisely for the first packet of the next request.

- closing
   Sometimes we need to do a lingering close. That means we want to send 
back an error or similar, but the error condition happened, before we 
have read the whole request from the client. If we would simply write 
back the response and then close the connection, the client - still 
trying to send the rest of the request -would get a connection reset and 
could not read our answer. So in such cases, we try to read the rest of 
the request although we are not interested any more in it, simply to 
allow the client to consume our response after completing sending the 
request. There's a time limit for this lingering close but it can take 
relatively long time. The waits for the next packets from the clients 
here again happen without a dedicated worker thread.

These three cases are connections, that are not really idle, but need to 
wait for something to happen. During the waits we free the worker thread 
(decouple from the connection and allow it to work on another one).

Looking further at the status output, roughly the number "Connections 
total" would be equals to the sum of the three "Async connections" count 
plus "Threads busy". In theory this is not rue, because the numbers are 
retrieved while the output is generated, so some of them change during 
counting others (the numbers are not retrieved in an atomic way).

If you see in the "accepting" column a "no", it either means, that our 
over commitment limit is reached, or - more often - that this process is 
scheduled to end because it has reached it MaxConnectionsPerChild, or we 
have to many idle processes (MaxSpareThreads) or someone issued 
"apachectl graceful" etc.

> The rest of the explanation is simply great, very easy and
> straightforward. I would really like to add some of it to the how it
> works section because I think it would help a lot of people.
>
>     ...
>
>     HTH a bit w.r.t. AsyncRequestWorkerFactor (and also hoping that I
>     didn't make mistakes in explaining).
>
>
> Same thing for the second part of the email, I believe that the
> directive AsyncRequestWorkerFactor should get more information, maybe
> with a little section explaining some directions to take for tuning it.
>
> I want to re-state my point: httpd's documentation contains often all
> the information needed but sometimes it misses the necessary background
> for the people not heavily involved in the httpd community to get the
> whole picture straight away.

Fully agreed.

> I'll work on a small patch for the mod_event's documentation, and I'll
> send it to the mailing list to get some feedback to get your opinion.

Thanks a bunch!

Rainer


From dev-return-85396-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  2 20:34:21 2016
Return-Path: <dev-return-85396-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 48E59186ED
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Feb 2016 20:34:21 +0000 (UTC)
Received: (qmail 9697 invoked by uid 500); 2 Feb 2016 20:34:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 9625 invoked by uid 500); 2 Feb 2016 20:34:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 9615 invoked by uid 99); 2 Feb 2016 20:34:11 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Feb 2016 20:34:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 0E86BC0179
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 20:34:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id T9P3ZARd1csO for <dev@httpd.apache.org>;
	Tue,  2 Feb 2016 20:34:04 +0000 (UTC)
Received: from resqmta-po-12v.sys.comcast.net (resqmta-po-12v.sys.comcast.net [96.114.154.171])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 8AE4731AB2
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 20:34:03 +0000 (UTC)
Received: from resomta-po-16v.sys.comcast.net ([96.114.154.240])
	by resqmta-po-12v.sys.comcast.net with comcast
	id DYZ61s0025BUCh401YZwPU; Tue, 02 Feb 2016 20:33:56 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-16v.sys.comcast.net with comcast
	id DYZu1s00K2U0RYt01YZvhy; Tue, 02 Feb 2016 20:33:56 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: health check
Message-Id: <4B0DBD03-3572-408A-B61B-81A989447D43@jaguNET.com>
Date: Tue, 2 Feb 2016 15:33:54 -0500
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1454445236;
	bh=n6x9Gk+o+eGIGlkCFHKJlFdDrfggJOz6jGgjX2HEylA=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=pzEeMx4HFcqzMe7ObM7NG9svPgazlNddIR36iJP+v3eNYN9NOhvoBzMVwljjCYoBK
	 8mRTaGT8KjCjy/NZXYv5gUIfY3EKn3ywPQ7GVfikoUtTAyksv+pHgJ0sEvWCMy6FXr
	 9RGn8J9DpS5YnzIlOoDbVgvsrZfKVCWu0t+UUQRa8d3CwiUqOKwOsNNBlTMlpPy4iE
	 LoHor/1Moxt2AcJ2C/YSR87BqD+1V2jcggfW7q98G9vksI+KAjpfJqIiPk6HPi9GdU
	 5HU6cZonll+mNZcqMFqtnCXagyoUYfMl18eZy19aF6EeNqI0gmOsRox4YgHsjxCTnu
	 YHjmHouYJvqYw==

As people can see, if following the commit list, I've been
plugging away on the health check functionality. I just finished
making the HC params dynamically adjustable via the balancer-
manager. Need to do some more error checking, but I think
the rough spots are smoothed down.

Comments encouraged! :)

From dev-return-85397-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  2 21:44:53 2016
Return-Path: <dev-return-85397-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AC0CB18B86
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Feb 2016 21:44:53 +0000 (UTC)
Received: (qmail 59811 invoked by uid 500); 2 Feb 2016 21:44:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59742 invoked by uid 500); 2 Feb 2016 21:44:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59730 invoked by uid 99); 2 Feb 2016 21:44:19 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Feb 2016 21:44:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id E4BBE1A027B
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 21:44:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 6uGiAPzHs4B9 for <dev@httpd.apache.org>;
	Tue,  2 Feb 2016 21:44:12 +0000 (UTC)
Received: from resqmta-po-11v.sys.comcast.net (resqmta-po-11v.sys.comcast.net [96.114.154.170])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 1732142BC3
	for <dev@httpd.apache.org>; Tue,  2 Feb 2016 21:44:11 +0000 (UTC)
Received: from resomta-po-04v.sys.comcast.net ([96.114.154.228])
	by resqmta-po-11v.sys.comcast.net with comcast
	id DZj31s0044vw8ds01Zk5a6; Tue, 02 Feb 2016 21:44:05 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-04v.sys.comcast.net with comcast
	id DZk41s00N2U0RYt01Zk5T8; Tue, 02 Feb 2016 21:44:05 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: Worker states for balancer members
Message-Id: <DC1EE0D9-2CE4-48B3-9EC3-0E6706FBAB77@jaguNET.com>
Date: Tue, 2 Feb 2016 16:44:04 -0500
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1454449445;
	bh=oNCjiPFe1Pf31WAdMXWJyvQ11cPYgOBRgmKF9+kDWl8=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=wldbM74FW3ozJawFupsYvgPoVxmUlLWqXG/A2GwRgIEx36zQlhusRn0Xt/V+/ySAN
	 nNkhKJsVAjQ7BnX/41xOS+6lmyLyf1DWLf0WgMH4TarCr8vE+TJll8ObfmYhra6Pu8
	 uaSRlfutfXwUWth1805yYqy13Sor7vonoFJyzDSYctvhjsutilWBvv76yo3fC28Euw
	 OoQNea8APOejmU5VIKz3izR1p09FTv9uZU/cWy1FfqRHNu9QSVnROXyQqoV+sW/3Ut
	 hl/48Y6aRyWtdTQ+PzEhoSI6deJYgmOdbJ/1z/RwJJWK6RAxNEnWuYTnLlgM9hmA9X
	 PL3FeYIiyZbHQ==

Getting back to this discussion...

Right now we have:

   o #define PROXY_WORKER_DISABLED       0x0020
   o #define PROXY_WORKER_STOPPED        0x0040
   o #define PROXY_WORKER_IN_ERROR       0x0080
   o #define PROXY_WORKER_HC_FAIL        0x0400
 
Are these bit flags part of our API?? Could I, for example,
make PROXY_WORKER_DISABLED == PROXY_WORKER_STOPPED == 0x0060
for example?

A reminder:
  o IN_ERROR is when a worker can't be connected to during
    the proxying of a request.
  o HC_FAIL is when a worker is taken out of rotation during
    the health check checks
  o There is no difference between DISABLED and STOPPED.
    Now can I think of a way to differentiate between the 2
    in any situation, or any reason why we would need 2 additional
    "stopped" states.


From dev-return-85398-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 05:31:36 2016
Return-Path: <dev-return-85398-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 55D1A1820A
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 05:31:36 +0000 (UTC)
Received: (qmail 50020 invoked by uid 500); 3 Feb 2016 05:31:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49951 invoked by uid 500); 3 Feb 2016 05:31:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49941 invoked by uid 99); 3 Feb 2016 05:31:35 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 05:31:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 2DA9A18027C
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 05:31:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.645
X-Spam-Level:
X-Spam-Status: No, score=-0.645 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.545, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=kraut.ca
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id JkHgoEa1v9ON for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 05:31:24 +0000 (UTC)
Received: from penguin.kraut.ca (penguin.kraut.ca [96.53.60.142])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id C9550204CE
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 05:31:22 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=kraut.ca;
	 s=20151017; h=Subject:Content-Type:In-Reply-To:MIME-Version:Date:Message-ID:
	From:References:To; bh=O0HSycN2dSRtHUX94wviXLJ+KowHWQzL1uBMFczVLJQ=; b=MTKfRx
	C51axT6pN6x+Y3+cy0CkOqeUF6y3utsAUXJGW28LjunuG2lIa/ULK9yXqtFQLG5k0pzOCR72xqfQ0
	fFZFUOSIthfyf0xCgFTPmfeotR47LHuxq9hUkb0GdI3ffxy52qchEibot1QUrCmeYx8KLpSs6MLMF
	Pn/maM8HSsQ=;
Received: from [184.71.173.194] (helo=[205.159.216.152])
	by penguin.kraut.ca with esmtpsa (TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128)
	(Exim 4.86)
	(envelope-from <joachim@kraut.ca>)
	id 1aQq23-0006fx-Ga
	for dev@httpd.apache.org; Tue, 02 Feb 2016 21:31:16 -0800
To: dev@httpd.apache.org
References: <56B0803B.6080209@kraut.ca>
 <CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
From: Joachim Achtzehnter <joachim@kraut.ca>
Message-ID: <56B19098.4060303@kraut.ca>
Date: Tue, 2 Feb 2016 21:31:04 -0800
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
Content-Type: multipart/mixed;
 boundary="------------030503090207000805070302"
X-SA-Exim-Connect-IP: 184.71.173.194
X-SA-Exim-Mail-From: joachim@kraut.ca
Subject: Re: HTTPS connections lock-up with 2.4.18
X-SA-Exim-Version: 4.2.1 (built Mon, 06 Jul 2015 07:28:29 +0000)
X-SA-Exim-Scanned: Yes (on penguin.kraut.ca)

This is a multi-part message in MIME format.
--------------030503090207000805070302
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi Yann,

Attached is file "ssl_log-v3.txt" with the log messages seen when using 
your v3 patch. The other two files are the corresponding Wireshark 
traces, collected on the client-side where Firefox was trying to 
retrieve the file.

While exploring a final fix for this, can I ask for your opinion about 
the following work-around we currently rely on until there is an 
official fix. We continue to use Apache 2.4.18, but have replaced 
mod_ssl.so with the one from Apache 2.4.12. Is this likely to be safe? 
or do you not recommend mixing versions?

Thanks,

Joachim



On 2016-02-02 4:46, Yann Ylavic wrote:
> Back to the list...
> (Attaching the logs provided privately by Joachim, with the client IP
> - the only possible sensitive informatition - replaced with
> XXX.XXX.XXX.XXX).
>
> On Tue, Feb 2, 2016 at 11:08 AM, Joachim Achtzehnter <joachim@kraut.ca> wrote:
>>
>> Applied you patch, built, installed, and then tested. There was no
>> improvement. I've attached the log messages as "ssl_log-v2.txt".
>>
>> The I changed "#if 0" to #if 1" and it is still not working. Th elog
>> messages for this case are attached as "ssl_log-v2-if1.txt".
>
> These logs show that the flush on read is *not* necessary (at least
> from mod_ssl POV), provided each write is flushed during handshake.
> Unfortunately OpenSSL does not seem to do it by itself: there is no
> "bio[%pp] out: FLUSH" outside implicit onces from
> bio_filter_out_write().
> So if the "#if 1" patch seems unnecessary, the "#if 0" one looks needed.
>
>>
>> So far, the only version that worked was the old approach, to always flush
>> before blocking on the read.
>
> Everything is flushed (during handshake) with this new patch, however
> we can't say anything about the HTTP response itself at the end of the
> request (the flushes not initiated by mod_ssl are not logged with my
> patch, nor LogLevel debug).
> Attached is (yet) another patch which also outputs METADATA buckets
> passing through mod_ssl, so that we can see whether the HTTP response
> is finally flushed or not (there were other changes in 2.4.18
> regarding this, i.e. in check_pipeline_flush).
> A simultaneous network capture (pcap) would also be very valuable
> (btw, where your previous capture taken from, on the server or client
> side?).
> This patch shouldn't make it work though, it's just more logging stuff
> compared to the previous one, unless maybe you change the new "#if 0"
> (elsewhere this time) to an "#if 1"?
>
> Thanks (again) for testing Joachim.
>
> Regards,
> Yann.
>

-- 
joachim@kraut.ca http://www.kraut.ca

--------------030503090207000805070302
Content-Type: text/plain; charset=UTF-8;
 name="ssltrace-v3.txt"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
 filename="ssltrace-v3.txt"

Tm8uICAgICBUaW1lICAgICAgICAgICAgICAgU291cmNlICAgICAgICAgICAgICAgIERlc3Rp
bmF0aW9uICAgICAgICAgICBQcm90b2NvbCBJbmZvDQogICAgICAxIDIxOjE2OjIzLjgxMDUx
OCAgICAyMDUuMTU5LjIxNi4xNTIgICAgICAgMjA1LjE1OS4yMTYuMTcxICAgICAgIFRDUCAg
ICAgIDU4MjEwIOKGkiBodHRwcyBbU1lOXSBTZXE9NzYwNDA0NDE1IFdpbj04MTkyIExlbj0w
IE1TUz0xNDYwIFdTPTI1NiBTQUNLX1BFUk09MQ0KDQpGcmFtZSAxOiA2NiBieXRlcyBvbiB3
aXJlICg1MjggYml0cyksIDY2IGJ5dGVzIGNhcHR1cmVkICg1MjggYml0cykNCkV0aGVybmV0
IElJLCBTcmM6IEFzdXN0ZWtDX2ZlOjc3OjhhICgwMDoyNjoxODpmZTo3Nzo4YSksIERzdDog
QWR2YW50ZWNfNjA6MWM6OWQgKDAwOjBiOmFiOjYwOjFjOjlkKQ0KSW50ZXJuZXQgUHJvdG9j
b2wgVmVyc2lvbiA0LCBTcmM6IDIwNS4xNTkuMjE2LjE1MiwgRHN0OiAyMDUuMTU5LjIxNi4x
NzENClRyYW5zbWlzc2lvbiBDb250cm9sIFByb3RvY29sLCBTcmMgUG9ydDogNTgyMTAgKDU4
MjEwKSwgRHN0IFBvcnQ6IGh0dHBzICg0NDMpLCBTZXE6IDc2MDQwNDQxNSwgTGVuOiAwDQoN
Ck5vLiAgICAgVGltZSAgICAgICAgICAgICAgIFNvdXJjZSAgICAgICAgICAgICAgICBEZXN0
aW5hdGlvbiAgICAgICAgICAgUHJvdG9jb2wgSW5mbw0KICAgICAgMiAyMToxNjoyMy44MTA2
OTggICAgMjA1LjE1OS4yMTYuMTcxICAgICAgIDIwNS4xNTkuMjE2LjE1MiAgICAgICBUQ1Ag
ICAgICBodHRwcyDihpIgNTgyMTAgW1NZTiwgQUNLXSBTZXE9MjEzNjU1NjA3NSBBY2s9NzYw
NDA0NDE2IFdpbj0yOTIwMCBMZW49MCBNU1M9MTQ2MCBTQUNLX1BFUk09MSBXUz0xMjgNCg0K
RnJhbWUgMjogNjYgYnl0ZXMgb24gd2lyZSAoNTI4IGJpdHMpLCA2NiBieXRlcyBjYXB0dXJl
ZCAoNTI4IGJpdHMpDQpFdGhlcm5ldCBJSSwgU3JjOiBBZHZhbnRlY182MDoxYzo5ZCAoMDA6
MGI6YWI6NjA6MWM6OWQpLCBEc3Q6IEFzdXN0ZWtDX2ZlOjc3OjhhICgwMDoyNjoxODpmZTo3
Nzo4YSkNCkludGVybmV0IFByb3RvY29sIFZlcnNpb24gNCwgU3JjOiAyMDUuMTU5LjIxNi4x
NzEsIERzdDogMjA1LjE1OS4yMTYuMTUyDQpUcmFuc21pc3Npb24gQ29udHJvbCBQcm90b2Nv
bCwgU3JjIFBvcnQ6IGh0dHBzICg0NDMpLCBEc3QgUG9ydDogNTgyMTAgKDU4MjEwKSwgU2Vx
OiAyMTM2NTU2MDc1LCBBY2s6IDc2MDQwNDQxNiwgTGVuOiAwDQoNCk5vLiAgICAgVGltZSAg
ICAgICAgICAgICAgIFNvdXJjZSAgICAgICAgICAgICAgICBEZXN0aW5hdGlvbiAgICAgICAg
ICAgUHJvdG9jb2wgSW5mbw0KICAgICAgMyAyMToxNjoyMy44MTA3MzEgICAgMjA1LjE1OS4y
MTYuMTUyICAgICAgIDIwNS4xNTkuMjE2LjE3MSAgICAgICBUQ1AgICAgICA1ODIxMCDihpIg
aHR0cHMgW0FDS10gU2VxPTc2MDQwNDQxNiBBY2s9MjEzNjU1NjA3NiBXaW49NjU1MzYgTGVu
PTANCg0KRnJhbWUgMzogNTQgYnl0ZXMgb24gd2lyZSAoNDMyIGJpdHMpLCA1NCBieXRlcyBj
YXB0dXJlZCAoNDMyIGJpdHMpDQpFdGhlcm5ldCBJSSwgU3JjOiBBc3VzdGVrQ19mZTo3Nzo4
YSAoMDA6MjY6MTg6ZmU6Nzc6OGEpLCBEc3Q6IEFkdmFudGVjXzYwOjFjOjlkICgwMDowYjph
Yjo2MDoxYzo5ZCkNCkludGVybmV0IFByb3RvY29sIFZlcnNpb24gNCwgU3JjOiAyMDUuMTU5
LjIxNi4xNTIsIERzdDogMjA1LjE1OS4yMTYuMTcxDQpUcmFuc21pc3Npb24gQ29udHJvbCBQ
cm90b2NvbCwgU3JjIFBvcnQ6IDU4MjEwICg1ODIxMCksIERzdCBQb3J0OiBodHRwcyAoNDQz
KSwgU2VxOiA3NjA0MDQ0MTYsIEFjazogMjEzNjU1NjA3NiwgTGVuOiAwDQoNCk5vLiAgICAg
VGltZSAgICAgICAgICAgICAgIFNvdXJjZSAgICAgICAgICAgICAgICBEZXN0aW5hdGlvbiAg
ICAgICAgICAgUHJvdG9jb2wgSW5mbw0KICAgICAgNCAyMToxNjoyMy44MTA4ODMgICAgMjA1
LjE1OS4yMTYuMTUyICAgICAgIDIwNS4xNTkuMjE2LjE3MSAgICAgICBUTFN2MS4yICBDbGll
bnQgSGVsbG8NCg0KRnJhbWUgNDogMjMzIGJ5dGVzIG9uIHdpcmUgKDE4NjQgYml0cyksIDIz
MyBieXRlcyBjYXB0dXJlZCAoMTg2NCBiaXRzKQ0KRXRoZXJuZXQgSUksIFNyYzogQXN1c3Rl
a0NfZmU6Nzc6OGEgKDAwOjI2OjE4OmZlOjc3OjhhKSwgRHN0OiBBZHZhbnRlY182MDoxYzo5
ZCAoMDA6MGI6YWI6NjA6MWM6OWQpDQpJbnRlcm5ldCBQcm90b2NvbCBWZXJzaW9uIDQsIFNy
YzogMjA1LjE1OS4yMTYuMTUyLCBEc3Q6IDIwNS4xNTkuMjE2LjE3MQ0KVHJhbnNtaXNzaW9u
IENvbnRyb2wgUHJvdG9jb2wsIFNyYyBQb3J0OiA1ODIxMCAoNTgyMTApLCBEc3QgUG9ydDog
aHR0cHMgKDQ0MyksIFNlcTogNzYwNDA0NDE2LCBBY2s6IDIxMzY1NTYwNzYsIExlbjogMTc5
DQpTZWN1cmUgU29ja2V0cyBMYXllcg0KICAgIFRMU3YxLjIgUmVjb3JkIExheWVyOiBIYW5k
c2hha2UgUHJvdG9jb2w6IENsaWVudCBIZWxsbw0KICAgICAgICBDb250ZW50IFR5cGU6IEhh
bmRzaGFrZSAoMjIpDQogICAgICAgIFZlcnNpb246IFRMUyAxLjAgKDB4MDMwMSkNCiAgICAg
ICAgTGVuZ3RoOiAxNzQNCiAgICAgICAgSGFuZHNoYWtlIFByb3RvY29sOiBDbGllbnQgSGVs
bG8NCiAgICAgICAgICAgIEhhbmRzaGFrZSBUeXBlOiBDbGllbnQgSGVsbG8gKDEpDQogICAg
ICAgICAgICBMZW5ndGg6IDE3MA0KICAgICAgICAgICAgVmVyc2lvbjogVExTIDEuMiAoMHgw
MzAzKQ0KICAgICAgICAgICAgUmFuZG9tDQogICAgICAgICAgICBTZXNzaW9uIElEIExlbmd0
aDogMA0KICAgICAgICAgICAgQ2lwaGVyIFN1aXRlcyBMZW5ndGg6IDIyDQogICAgICAgICAg
ICBDaXBoZXIgU3VpdGVzICgxMSBzdWl0ZXMpDQogICAgICAgICAgICBDb21wcmVzc2lvbiBN
ZXRob2RzIExlbmd0aDogMQ0KICAgICAgICAgICAgQ29tcHJlc3Npb24gTWV0aG9kcyAoMSBt
ZXRob2QpDQogICAgICAgICAgICBFeHRlbnNpb25zIExlbmd0aDogMTA3DQogICAgICAgICAg
ICBFeHRlbnNpb246IHNlcnZlcl9uYW1lDQogICAgICAgICAgICBFeHRlbnNpb246IHJlbmVn
b3RpYXRpb25faW5mbw0KICAgICAgICAgICAgRXh0ZW5zaW9uOiBlbGxpcHRpY19jdXJ2ZXMN
CiAgICAgICAgICAgIEV4dGVuc2lvbjogZWNfcG9pbnRfZm9ybWF0cw0KICAgICAgICAgICAg
RXh0ZW5zaW9uOiBTZXNzaW9uVGlja2V0IFRMUw0KICAgICAgICAgICAgRXh0ZW5zaW9uOiBu
ZXh0X3Byb3RvY29sX25lZ290aWF0aW9uDQogICAgICAgICAgICBFeHRlbnNpb246IEFwcGxp
Y2F0aW9uIExheWVyIFByb3RvY29sIE5lZ290aWF0aW9uDQogICAgICAgICAgICBFeHRlbnNp
b246IHN0YXR1c19yZXF1ZXN0DQogICAgICAgICAgICBFeHRlbnNpb246IHNpZ25hdHVyZV9h
bGdvcml0aG1zDQoNCk5vLiAgICAgVGltZSAgICAgICAgICAgICAgIFNvdXJjZSAgICAgICAg
ICAgICAgICBEZXN0aW5hdGlvbiAgICAgICAgICAgUHJvdG9jb2wgSW5mbw0KICAgICAgNSAy
MToxNjoyMy44MTEwOTMgICAgMjA1LjE1OS4yMTYuMTcxICAgICAgIDIwNS4xNTkuMjE2LjE1
MiAgICAgICBUQ1AgICAgICBodHRwcyDihpIgNTgyMTAgW0FDS10gU2VxPTIxMzY1NTYwNzYg
QWNrPTc2MDQwNDU5NSBXaW49MzAzMzYgTGVuPTANCg0KRnJhbWUgNTogNjAgYnl0ZXMgb24g
d2lyZSAoNDgwIGJpdHMpLCA2MCBieXRlcyBjYXB0dXJlZCAoNDgwIGJpdHMpDQpFdGhlcm5l
dCBJSSwgU3JjOiBBZHZhbnRlY182MDoxYzo5ZCAoMDA6MGI6YWI6NjA6MWM6OWQpLCBEc3Q6
IEFzdXN0ZWtDX2ZlOjc3OjhhICgwMDoyNjoxODpmZTo3Nzo4YSkNCkludGVybmV0IFByb3Rv
Y29sIFZlcnNpb24gNCwgU3JjOiAyMDUuMTU5LjIxNi4xNzEsIERzdDogMjA1LjE1OS4yMTYu
MTUyDQpUcmFuc21pc3Npb24gQ29udHJvbCBQcm90b2NvbCwgU3JjIFBvcnQ6IGh0dHBzICg0
NDMpLCBEc3QgUG9ydDogNTgyMTAgKDU4MjEwKSwgU2VxOiAyMTM2NTU2MDc2LCBBY2s6IDc2
MDQwNDU5NSwgTGVuOiAwDQoNCk5vLiAgICAgVGltZSAgICAgICAgICAgICAgIFNvdXJjZSAg
ICAgICAgICAgICAgICBEZXN0aW5hdGlvbiAgICAgICAgICAgUHJvdG9jb2wgSW5mbw0KICAg
ICAgNiAyMToxNjoyMy44MTgxNjIgICAgMjA1LjE1OS4yMTYuMTcxICAgICAgIDIwNS4xNTku
MjE2LjE1MiAgICAgICBUTFN2MS4yICBTZXJ2ZXIgSGVsbG8sIENlcnRpZmljYXRlLCBTZXJ2
ZXIgS2V5IEV4Y2hhbmdlLCBTZXJ2ZXIgSGVsbG8gRG9uZQ0KDQpGcmFtZSA2OiAxMDQ1IGJ5
dGVzIG9uIHdpcmUgKDgzNjAgYml0cyksIDEwNDUgYnl0ZXMgY2FwdHVyZWQgKDgzNjAgYml0
cykNCkV0aGVybmV0IElJLCBTcmM6IEFkdmFudGVjXzYwOjFjOjlkICgwMDowYjphYjo2MDox
Yzo5ZCksIERzdDogQXN1c3Rla0NfZmU6Nzc6OGEgKDAwOjI2OjE4OmZlOjc3OjhhKQ0KSW50
ZXJuZXQgUHJvdG9jb2wgVmVyc2lvbiA0LCBTcmM6IDIwNS4xNTkuMjE2LjE3MSwgRHN0OiAy
MDUuMTU5LjIxNi4xNTINClRyYW5zbWlzc2lvbiBDb250cm9sIFByb3RvY29sLCBTcmMgUG9y
dDogaHR0cHMgKDQ0MyksIERzdCBQb3J0OiA1ODIxMCAoNTgyMTApLCBTZXE6IDIxMzY1NTYw
NzYsIEFjazogNzYwNDA0NTk1LCBMZW46IDk5MQ0KU2VjdXJlIFNvY2tldHMgTGF5ZXINCiAg
ICBUTFN2MS4yIFJlY29yZCBMYXllcjogSGFuZHNoYWtlIFByb3RvY29sOiBTZXJ2ZXIgSGVs
bG8NCiAgICAgICAgQ29udGVudCBUeXBlOiBIYW5kc2hha2UgKDIyKQ0KICAgICAgICBWZXJz
aW9uOiBUTFMgMS4yICgweDAzMDMpDQogICAgICAgIExlbmd0aDogNzYNCiAgICAgICAgSGFu
ZHNoYWtlIFByb3RvY29sOiBTZXJ2ZXIgSGVsbG8NCiAgICAgICAgICAgIEhhbmRzaGFrZSBU
eXBlOiBTZXJ2ZXIgSGVsbG8gKDIpDQogICAgICAgICAgICBMZW5ndGg6IDcyDQogICAgICAg
ICAgICBWZXJzaW9uOiBUTFMgMS4yICgweDAzMDMpDQogICAgICAgICAgICBSYW5kb20NCiAg
ICAgICAgICAgIFNlc3Npb24gSUQgTGVuZ3RoOiAwDQogICAgICAgICAgICBDaXBoZXIgU3Vp
dGU6IFRMU19FQ0RIRV9SU0FfV0lUSF9BRVNfMTI4X0dDTV9TSEEyNTYgKDB4YzAyZikNCiAg
ICAgICAgICAgIENvbXByZXNzaW9uIE1ldGhvZDogbnVsbCAoMCkNCiAgICAgICAgICAgIEV4
dGVuc2lvbnMgTGVuZ3RoOiAzMg0KICAgICAgICAgICAgRXh0ZW5zaW9uOiByZW5lZ290aWF0
aW9uX2luZm8NCiAgICAgICAgICAgIEV4dGVuc2lvbjogZWNfcG9pbnRfZm9ybWF0cw0KICAg
ICAgICAgICAgRXh0ZW5zaW9uOiBTZXNzaW9uVGlja2V0IFRMUw0KICAgICAgICAgICAgRXh0
ZW5zaW9uOiBBcHBsaWNhdGlvbiBMYXllciBQcm90b2NvbCBOZWdvdGlhdGlvbg0KICAgIFRM
U3YxLjIgUmVjb3JkIExheWVyOiBIYW5kc2hha2UgUHJvdG9jb2w6IENlcnRpZmljYXRlDQog
ICAgICAgIENvbnRlbnQgVHlwZTogSGFuZHNoYWtlICgyMikNCiAgICAgICAgVmVyc2lvbjog
VExTIDEuMiAoMHgwMzAzKQ0KICAgICAgICBMZW5ndGg6IDY4Ng0KICAgICAgICBIYW5kc2hh
a2UgUHJvdG9jb2w6IENlcnRpZmljYXRlDQogICAgICAgICAgICBIYW5kc2hha2UgVHlwZTog
Q2VydGlmaWNhdGUgKDExKQ0KICAgICAgICAgICAgTGVuZ3RoOiA2ODINCiAgICAgICAgICAg
IENlcnRpZmljYXRlcyBMZW5ndGg6IDY3OQ0KICAgICAgICAgICAgQ2VydGlmaWNhdGVzICg2
NzkgYnl0ZXMpDQogICAgVExTdjEuMiBSZWNvcmQgTGF5ZXI6IEhhbmRzaGFrZSBQcm90b2Nv
bDogU2VydmVyIEtleSBFeGNoYW5nZQ0KICAgICAgICBDb250ZW50IFR5cGU6IEhhbmRzaGFr
ZSAoMjIpDQogICAgICAgIFZlcnNpb246IFRMUyAxLjIgKDB4MDMwMykNCiAgICAgICAgTGVu
Z3RoOiAyMDUNCiAgICAgICAgSGFuZHNoYWtlIFByb3RvY29sOiBTZXJ2ZXIgS2V5IEV4Y2hh
bmdlDQogICAgICAgICAgICBIYW5kc2hha2UgVHlwZTogU2VydmVyIEtleSBFeGNoYW5nZSAo
MTIpDQogICAgICAgICAgICBMZW5ndGg6IDIwMQ0KICAgICAgICAgICAgRUMgRGlmZmllLUhl
bGxtYW4gU2VydmVyIFBhcmFtcw0KICAgIFRMU3YxLjIgUmVjb3JkIExheWVyOiBIYW5kc2hh
a2UgUHJvdG9jb2w6IFNlcnZlciBIZWxsbyBEb25lDQogICAgICAgIENvbnRlbnQgVHlwZTog
SGFuZHNoYWtlICgyMikNCiAgICAgICAgVmVyc2lvbjogVExTIDEuMiAoMHgwMzAzKQ0KICAg
ICAgICBMZW5ndGg6IDQNCiAgICAgICAgSGFuZHNoYWtlIFByb3RvY29sOiBTZXJ2ZXIgSGVs
bG8gRG9uZQ0KICAgICAgICAgICAgSGFuZHNoYWtlIFR5cGU6IFNlcnZlciBIZWxsbyBEb25l
ICgxNCkNCiAgICAgICAgICAgIExlbmd0aDogMA0KDQpOby4gICAgIFRpbWUgICAgICAgICAg
ICAgICBTb3VyY2UgICAgICAgICAgICAgICAgRGVzdGluYXRpb24gICAgICAgICAgIFByb3Rv
Y29sIEluZm8NCiAgICAgIDcgMjE6MTY6MjMuODI0MzQ1ICAgIDIwNS4xNTkuMjE2LjE1MiAg
ICAgICAyMDUuMTU5LjIxNi4xNzEgICAgICAgVExTdjEuMiAgQ2xpZW50IEtleSBFeGNoYW5n
ZSwgQ2hhbmdlIENpcGhlciBTcGVjLCBGaW5pc2hlZA0KDQpGcmFtZSA3OiAxODAgYnl0ZXMg
b24gd2lyZSAoMTQ0MCBiaXRzKSwgMTgwIGJ5dGVzIGNhcHR1cmVkICgxNDQwIGJpdHMpDQpF
dGhlcm5ldCBJSSwgU3JjOiBBc3VzdGVrQ19mZTo3Nzo4YSAoMDA6MjY6MTg6ZmU6Nzc6OGEp
LCBEc3Q6IEFkdmFudGVjXzYwOjFjOjlkICgwMDowYjphYjo2MDoxYzo5ZCkNCkludGVybmV0
IFByb3RvY29sIFZlcnNpb24gNCwgU3JjOiAyMDUuMTU5LjIxNi4xNTIsIERzdDogMjA1LjE1
OS4yMTYuMTcxDQpUcmFuc21pc3Npb24gQ29udHJvbCBQcm90b2NvbCwgU3JjIFBvcnQ6IDU4
MjEwICg1ODIxMCksIERzdCBQb3J0OiBodHRwcyAoNDQzKSwgU2VxOiA3NjA0MDQ1OTUsIEFj
azogMjEzNjU1NzA2NywgTGVuOiAxMjYNClNlY3VyZSBTb2NrZXRzIExheWVyDQogICAgVExT
djEuMiBSZWNvcmQgTGF5ZXI6IEhhbmRzaGFrZSBQcm90b2NvbDogQ2xpZW50IEtleSBFeGNo
YW5nZQ0KICAgICAgICBDb250ZW50IFR5cGU6IEhhbmRzaGFrZSAoMjIpDQogICAgICAgIFZl
cnNpb246IFRMUyAxLjIgKDB4MDMwMykNCiAgICAgICAgTGVuZ3RoOiA3MA0KICAgICAgICBI
YW5kc2hha2UgUHJvdG9jb2w6IENsaWVudCBLZXkgRXhjaGFuZ2UNCiAgICAgICAgICAgIEhh
bmRzaGFrZSBUeXBlOiBDbGllbnQgS2V5IEV4Y2hhbmdlICgxNikNCiAgICAgICAgICAgIExl
bmd0aDogNjYNCiAgICAgICAgICAgIEVDIERpZmZpZS1IZWxsbWFuIENsaWVudCBQYXJhbXMN
CiAgICBUTFN2MS4yIFJlY29yZCBMYXllcjogQ2hhbmdlIENpcGhlciBTcGVjIFByb3RvY29s
OiBDaGFuZ2UgQ2lwaGVyIFNwZWMNCiAgICAgICAgQ29udGVudCBUeXBlOiBDaGFuZ2UgQ2lw
aGVyIFNwZWMgKDIwKQ0KICAgICAgICBWZXJzaW9uOiBUTFMgMS4yICgweDAzMDMpDQogICAg
ICAgIExlbmd0aDogMQ0KICAgICAgICBDaGFuZ2UgQ2lwaGVyIFNwZWMgTWVzc2FnZQ0KICAg
IFRMU3YxLjIgUmVjb3JkIExheWVyOiBIYW5kc2hha2UgUHJvdG9jb2w6IEZpbmlzaGVkDQog
ICAgICAgIENvbnRlbnQgVHlwZTogSGFuZHNoYWtlICgyMikNCiAgICAgICAgVmVyc2lvbjog
VExTIDEuMiAoMHgwMzAzKQ0KICAgICAgICBMZW5ndGg6IDQwDQogICAgICAgIEhhbmRzaGFr
ZSBQcm90b2NvbDogRmluaXNoZWQNCiAgICAgICAgICAgIEhhbmRzaGFrZSBUeXBlOiBGaW5p
c2hlZCAoMjApDQogICAgICAgICAgICBMZW5ndGg6IDEyDQogICAgICAgICAgICBWZXJpZnkg
RGF0YQ0KDQpOby4gICAgIFRpbWUgICAgICAgICAgICAgICBTb3VyY2UgICAgICAgICAgICAg
ICAgRGVzdGluYXRpb24gICAgICAgICAgIFByb3RvY29sIEluZm8NCiAgICAgIDggMjE6MTY6
MjMuODI1OTM1ICAgIDIwNS4xNTkuMjE2LjE1MiAgICAgICAyMDUuMTU5LjIxNi4xNzEgICAg
ICAgVENQICAgICAgW1RDUCBzZWdtZW50IG9mIGEgcmVhc3NlbWJsZWQgUERVXQ0KDQpGcmFt
ZSA4OiAxNTE0IGJ5dGVzIG9uIHdpcmUgKDEyMTEyIGJpdHMpLCAxNTE0IGJ5dGVzIGNhcHR1
cmVkICgxMjExMiBiaXRzKQ0KRXRoZXJuZXQgSUksIFNyYzogQXN1c3Rla0NfZmU6Nzc6OGEg
KDAwOjI2OjE4OmZlOjc3OjhhKSwgRHN0OiBBZHZhbnRlY182MDoxYzo5ZCAoMDA6MGI6YWI6
NjA6MWM6OWQpDQpJbnRlcm5ldCBQcm90b2NvbCBWZXJzaW9uIDQsIFNyYzogMjA1LjE1OS4y
MTYuMTUyLCBEc3Q6IDIwNS4xNTkuMjE2LjE3MQ0KVHJhbnNtaXNzaW9uIENvbnRyb2wgUHJv
dG9jb2wsIFNyYyBQb3J0OiA1ODIxMCAoNTgyMTApLCBEc3QgUG9ydDogaHR0cHMgKDQ0Myks
IFNlcTogNzYwNDA0NzIxLCBBY2s6IDIxMzY1NTcwNjcsIExlbjogMTQ2MA0KDQpOby4gICAg
IFRpbWUgICAgICAgICAgICAgICBTb3VyY2UgICAgICAgICAgICAgICAgRGVzdGluYXRpb24g
ICAgICAgICAgIFByb3RvY29sIEluZm8NCiAgICAgIDkgMjE6MTY6MjMuODI1OTQxICAgIDIw
NS4xNTkuMjE2LjE1MiAgICAgICAyMDUuMTU5LjIxNi4xNzEgICAgICAgVENQICAgICAgW1RD
UCBzZWdtZW50IG9mIGEgcmVhc3NlbWJsZWQgUERVXQ0KDQpGcmFtZSA5OiAxNTE0IGJ5dGVz
IG9uIHdpcmUgKDEyMTEyIGJpdHMpLCAxNTE0IGJ5dGVzIGNhcHR1cmVkICgxMjExMiBiaXRz
KQ0KRXRoZXJuZXQgSUksIFNyYzogQXN1c3Rla0NfZmU6Nzc6OGEgKDAwOjI2OjE4OmZlOjc3
OjhhKSwgRHN0OiBBZHZhbnRlY182MDoxYzo5ZCAoMDA6MGI6YWI6NjA6MWM6OWQpDQpJbnRl
cm5ldCBQcm90b2NvbCBWZXJzaW9uIDQsIFNyYzogMjA1LjE1OS4yMTYuMTUyLCBEc3Q6IDIw
NS4xNTkuMjE2LjE3MQ0KVHJhbnNtaXNzaW9uIENvbnRyb2wgUHJvdG9jb2wsIFNyYyBQb3J0
OiA1ODIxMCAoNTgyMTApLCBEc3QgUG9ydDogaHR0cHMgKDQ0MyksIFNlcTogNzYwNDA2MTgx
LCBBY2s6IDIxMzY1NTcwNjcsIExlbjogMTQ2MA0KDQpOby4gICAgIFRpbWUgICAgICAgICAg
ICAgICBTb3VyY2UgICAgICAgICAgICAgICAgRGVzdGluYXRpb24gICAgICAgICAgIFByb3Rv
Y29sIEluZm8NCiAgICAgMTAgMjE6MTY6MjMuODI2MTg4ICAgIDIwNS4xNTkuMjE2LjE3MSAg
ICAgICAyMDUuMTU5LjIxNi4xNTIgICAgICAgVENQICAgICAgaHR0cHMg4oaSIDU4MjEwIFtB
Q0tdIFNlcT0yMTM2NTU3MDY3IEFjaz03NjA0MDc2NDEgV2luPTM2MjI0IExlbj0wDQoNCkZy
YW1lIDEwOiA2MCBieXRlcyBvbiB3aXJlICg0ODAgYml0cyksIDYwIGJ5dGVzIGNhcHR1cmVk
ICg0ODAgYml0cykNCkV0aGVybmV0IElJLCBTcmM6IEFkdmFudGVjXzYwOjFjOjlkICgwMDow
YjphYjo2MDoxYzo5ZCksIERzdDogQXN1c3Rla0NfZmU6Nzc6OGEgKDAwOjI2OjE4OmZlOjc3
OjhhKQ0KSW50ZXJuZXQgUHJvdG9jb2wgVmVyc2lvbiA0LCBTcmM6IDIwNS4xNTkuMjE2LjE3
MSwgRHN0OiAyMDUuMTU5LjIxNi4xNTINClRyYW5zbWlzc2lvbiBDb250cm9sIFByb3RvY29s
LCBTcmMgUG9ydDogaHR0cHMgKDQ0MyksIERzdCBQb3J0OiA1ODIxMCAoNTgyMTApLCBTZXE6
IDIxMzY1NTcwNjcsIEFjazogNzYwNDA3NjQxLCBMZW46IDANCg0KTm8uICAgICBUaW1lICAg
ICAgICAgICAgICAgU291cmNlICAgICAgICAgICAgICAgIERlc3RpbmF0aW9uICAgICAgICAg
ICBQcm90b2NvbCBJbmZvDQogICAgIDExIDIxOjE2OjIzLjgyNjIwOCAgICAyMDUuMTU5LjIx
Ni4xNTIgICAgICAgMjA1LjE1OS4yMTYuMTcxICAgICAgIEhUVFAgICAgIEdFVCAvY3NzL3N1
YnBhZ2UuY3NzIEhUVFAvMS4xIA0KDQpGcmFtZSAxMTogMTQ5NCBieXRlcyBvbiB3aXJlICgx
MTk1MiBiaXRzKSwgMTQ5NCBieXRlcyBjYXB0dXJlZCAoMTE5NTIgYml0cykNCkV0aGVybmV0
IElJLCBTcmM6IEFzdXN0ZWtDX2ZlOjc3OjhhICgwMDoyNjoxODpmZTo3Nzo4YSksIERzdDog
QWR2YW50ZWNfNjA6MWM6OWQgKDAwOjBiOmFiOjYwOjFjOjlkKQ0KSW50ZXJuZXQgUHJvdG9j
b2wgVmVyc2lvbiA0LCBTcmM6IDIwNS4xNTkuMjE2LjE1MiwgRHN0OiAyMDUuMTU5LjIxNi4x
NzENClRyYW5zbWlzc2lvbiBDb250cm9sIFByb3RvY29sLCBTcmMgUG9ydDogNTgyMTAgKDU4
MjEwKSwgRHN0IFBvcnQ6IGh0dHBzICg0NDMpLCBTZXE6IDc2MDQwNzY0MSwgQWNrOiAyMTM2
NTU3MDY3LCBMZW46IDE0NDANClszIFJlYXNzZW1ibGVkIFRDUCBTZWdtZW50cyAoNDM2MCBi
eXRlcyk6ICM4KDE0NjApLCAjOSgxNDYwKSwgIzExKDE0NDApXQ0KU2VjdXJlIFNvY2tldHMg
TGF5ZXINCiAgICBUTFN2MS4yIFJlY29yZCBMYXllcjogQXBwbGljYXRpb24gRGF0YSBQcm90
b2NvbDogaHR0cA0KICAgICAgICBDb250ZW50IFR5cGU6IEFwcGxpY2F0aW9uIERhdGEgKDIz
KQ0KICAgICAgICBWZXJzaW9uOiBUTFMgMS4yICgweDAzMDMpDQogICAgICAgIExlbmd0aDog
NDM1NQ0KICAgICAgICBFbmNyeXB0ZWQgQXBwbGljYXRpb24gRGF0YTogMDAwMDAwMDAwMDAw
MDAwMTUyMzJiM2RjYjM2MWYwOTk4MTFiNzQ0YTdmMDMyNGRlLi4uDQpIeXBlcnRleHQgVHJh
bnNmZXIgUHJvdG9jb2wNCiAgICBHRVQgL2Nzcy9zdWJwYWdlLmNzcyBIVFRQLzEuMVxyXG4N
CiAgICAgICAgW0V4cGVydCBJbmZvIChDaGF0L1NlcXVlbmNlKTogR0VUIC9jc3Mvc3VicGFn
ZS5jc3MgSFRUUC8xLjFcclxuXQ0KICAgICAgICAgICAgW0dFVCAvY3NzL3N1YnBhZ2UuY3Nz
IEhUVFAvMS4xXHJcbl0NCiAgICAgICAgICAgIFtTZXZlcml0eSBsZXZlbDogQ2hhdF0NCiAg
ICAgICAgICAgIFtHcm91cDogU2VxdWVuY2VdDQogICAgICAgIFJlcXVlc3QgTWV0aG9kOiBH
RVQNCiAgICAgICAgUmVxdWVzdCBVUkk6IC9jc3Mvc3VicGFnZS5jc3MNCiAgICAgICAgUmVx
dWVzdCBWZXJzaW9uOiBIVFRQLzEuMQ0KICAgIEhvc3Q6IG5hMTcxXHJcbg0KICAgIFVzZXIt
QWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IHJ2OjQzLjApIEdl
Y2tvLzIwMTAwMTAxIEZpcmVmb3gvNDMuMFxyXG4NCiAgICBBY2NlcHQ6IHRleHQvaHRtbCxh
cHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LCovKjtxPTAuOFxy
XG4NCiAgICBBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTLGVuO3E9MC41XHJcbg0KICAgIEFjY2Vw
dC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZVxyXG4NCiAgICAgW3RydW5jYXRlZF1Db29raWU6
IG1hcC5zZWw9dGlja19zZmlkOyBkZmQuaW5zdD1EYXRhIEZsb3cgNDQ7IHNtLmluc3Q9U2Vj
dXJpdHlNYW5hZ2VyOyBuZXRjZmcuaW5zdD1ORVQgMDsgc2VyaWFsLmluc3Q9Nzsgc2lvZ2Vu
Lmluc3Q9U0lPIEdlbmVyYXRvciAwOyB0aW1lbWdyLmluc3Q9VGltZSBNYW5hZ2VyOyBkZW11
eC5pbnN0PUNvbVR1bm5lbCA3OyBtdXguaW5zdD1Db21UdW5uZWwgMDsgYmVydC5pbnN0PUJF
UlQgMA0KICAgIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcclxuDQogICAgXHJcbg0KICAgIFtG
dWxsIHJlcXVlc3QgVVJJOiBodHRwczovL25hMTcxL2Nzcy9zdWJwYWdlLmNzc10NCiAgICBb
SFRUUCByZXF1ZXN0IDEvMV0NCg0KTm8uICAgICBUaW1lICAgICAgICAgICAgICAgU291cmNl
ICAgICAgICAgICAgICAgIERlc3RpbmF0aW9uICAgICAgICAgICBQcm90b2NvbCBJbmZvDQog
ICAgIDEyIDIxOjE2OjIzLjgyNjY5NiAgICAyMDUuMTU5LjIxNi4xNzEgICAgICAgMjA1LjE1
OS4yMTYuMTUyICAgICAgIFRMU3YxLjIgIE5ldyBTZXNzaW9uIFRpY2tldCwgQ2hhbmdlIENp
cGhlciBTcGVjLCBGaW5pc2hlZA0KDQpGcmFtZSAxMjogMzEyIGJ5dGVzIG9uIHdpcmUgKDI0
OTYgYml0cyksIDMxMiBieXRlcyBjYXB0dXJlZCAoMjQ5NiBiaXRzKQ0KRXRoZXJuZXQgSUks
IFNyYzogQWR2YW50ZWNfNjA6MWM6OWQgKDAwOjBiOmFiOjYwOjFjOjlkKSwgRHN0OiBBc3Vz
dGVrQ19mZTo3Nzo4YSAoMDA6MjY6MTg6ZmU6Nzc6OGEpDQpJbnRlcm5ldCBQcm90b2NvbCBW
ZXJzaW9uIDQsIFNyYzogMjA1LjE1OS4yMTYuMTcxLCBEc3Q6IDIwNS4xNTkuMjE2LjE1Mg0K
VHJhbnNtaXNzaW9uIENvbnRyb2wgUHJvdG9jb2wsIFNyYyBQb3J0OiBodHRwcyAoNDQzKSwg
RHN0IFBvcnQ6IDU4MjEwICg1ODIxMCksIFNlcTogMjEzNjU1NzA2NywgQWNrOiA3NjA0MDkw
ODEsIExlbjogMjU4DQpTZWN1cmUgU29ja2V0cyBMYXllcg0KICAgIFRMU3YxLjIgUmVjb3Jk
IExheWVyOiBIYW5kc2hha2UgUHJvdG9jb2w6IE5ldyBTZXNzaW9uIFRpY2tldA0KICAgICAg
ICBDb250ZW50IFR5cGU6IEhhbmRzaGFrZSAoMjIpDQogICAgICAgIFZlcnNpb246IFRMUyAx
LjIgKDB4MDMwMykNCiAgICAgICAgTGVuZ3RoOiAyMDINCiAgICAgICAgSGFuZHNoYWtlIFBy
b3RvY29sOiBOZXcgU2Vzc2lvbiBUaWNrZXQNCiAgICAgICAgICAgIEhhbmRzaGFrZSBUeXBl
OiBOZXcgU2Vzc2lvbiBUaWNrZXQgKDQpDQogICAgICAgICAgICBMZW5ndGg6IDE5OA0KICAg
ICAgICAgICAgVExTIFNlc3Npb24gVGlja2V0DQogICAgVExTdjEuMiBSZWNvcmQgTGF5ZXI6
IENoYW5nZSBDaXBoZXIgU3BlYyBQcm90b2NvbDogQ2hhbmdlIENpcGhlciBTcGVjDQogICAg
ICAgIENvbnRlbnQgVHlwZTogQ2hhbmdlIENpcGhlciBTcGVjICgyMCkNCiAgICAgICAgVmVy
c2lvbjogVExTIDEuMiAoMHgwMzAzKQ0KICAgICAgICBMZW5ndGg6IDENCiAgICAgICAgQ2hh
bmdlIENpcGhlciBTcGVjIE1lc3NhZ2UNCiAgICBUTFN2MS4yIFJlY29yZCBMYXllcjogSGFu
ZHNoYWtlIFByb3RvY29sOiBGaW5pc2hlZA0KICAgICAgICBDb250ZW50IFR5cGU6IEhhbmRz
aGFrZSAoMjIpDQogICAgICAgIFZlcnNpb246IFRMUyAxLjIgKDB4MDMwMykNCiAgICAgICAg
TGVuZ3RoOiA0MA0KICAgICAgICBIYW5kc2hha2UgUHJvdG9jb2w6IEZpbmlzaGVkDQogICAg
ICAgICAgICBIYW5kc2hha2UgVHlwZTogRmluaXNoZWQgKDIwKQ0KICAgICAgICAgICAgTGVu
Z3RoOiAxMg0KICAgICAgICAgICAgVmVyaWZ5IERhdGENCg0KTm8uICAgICBUaW1lICAgICAg
ICAgICAgICAgU291cmNlICAgICAgICAgICAgICAgIERlc3RpbmF0aW9uICAgICAgICAgICBQ
cm90b2NvbCBJbmZvDQogICAgIDEzIDIxOjE2OjI0LjAyNzA2NiAgICAyMDUuMTU5LjIxNi4x
NzEgICAgICAgMjA1LjE1OS4yMTYuMTUyICAgICAgIFRDUCAgICAgIFtUQ1AgUmV0cmFuc21p
c3Npb25dIGh0dHBzIOKGkiA1ODIxMCBbUFNILCBBQ0tdIFNlcT0yMTM2NTU3MDY3IEFjaz03
NjA0MDkwODEgV2luPTM5MDQwIExlbj0yNTgNCg0KRnJhbWUgMTM6IDMxMiBieXRlcyBvbiB3
aXJlICgyNDk2IGJpdHMpLCAzMTIgYnl0ZXMgY2FwdHVyZWQgKDI0OTYgYml0cykNCkV0aGVy
bmV0IElJLCBTcmM6IEFkdmFudGVjXzYwOjFjOjlkICgwMDowYjphYjo2MDoxYzo5ZCksIERz
dDogQXN1c3Rla0NfZmU6Nzc6OGEgKDAwOjI2OjE4OmZlOjc3OjhhKQ0KSW50ZXJuZXQgUHJv
dG9jb2wgVmVyc2lvbiA0LCBTcmM6IDIwNS4xNTkuMjE2LjE3MSwgRHN0OiAyMDUuMTU5LjIx
Ni4xNTINClRyYW5zbWlzc2lvbiBDb250cm9sIFByb3RvY29sLCBTcmMgUG9ydDogaHR0cHMg
KDQ0MyksIERzdCBQb3J0OiA1ODIxMCAoNTgyMTApLCBTZXE6IDIxMzY1NTcwNjcsIEFjazog
NzYwNDA5MDgxLCBMZW46IDI1OA0KDQpOby4gICAgIFRpbWUgICAgICAgICAgICAgICBTb3Vy
Y2UgICAgICAgICAgICAgICAgRGVzdGluYXRpb24gICAgICAgICAgIFByb3RvY29sIEluZm8N
CiAgICAgMTQgMjE6MTY6MjQuMDI3MTAwICAgIDIwNS4xNTkuMjE2LjE1MiAgICAgICAyMDUu
MTU5LjIxNi4xNzEgICAgICAgVENQICAgICAgNTgyMTAg4oaSIGh0dHBzIFtBQ0tdIFNlcT03
NjA0MDkwODEgQWNrPTIxMzY1NTczMjUgV2luPTY0MjU2IExlbj0wIFNMRT0yMTM2NTU3MDY3
IFNSRT0yMTM2NTU3MzI1DQoNCkZyYW1lIDE0OiA2NiBieXRlcyBvbiB3aXJlICg1MjggYml0
cyksIDY2IGJ5dGVzIGNhcHR1cmVkICg1MjggYml0cykNCkV0aGVybmV0IElJLCBTcmM6IEFz
dXN0ZWtDX2ZlOjc3OjhhICgwMDoyNjoxODpmZTo3Nzo4YSksIERzdDogQWR2YW50ZWNfNjA6
MWM6OWQgKDAwOjBiOmFiOjYwOjFjOjlkKQ0KSW50ZXJuZXQgUHJvdG9jb2wgVmVyc2lvbiA0
LCBTcmM6IDIwNS4xNTkuMjE2LjE1MiwgRHN0OiAyMDUuMTU5LjIxNi4xNzENClRyYW5zbWlz
c2lvbiBDb250cm9sIFByb3RvY29sLCBTcmMgUG9ydDogNTgyMTAgKDU4MjEwKSwgRHN0IFBv
cnQ6IGh0dHBzICg0NDMpLCBTZXE6IDc2MDQwOTA4MSwgQWNrOiAyMTM2NTU3MzI1LCBMZW46
IDANCg0KTm8uICAgICBUaW1lICAgICAgICAgICAgICAgU291cmNlICAgICAgICAgICAgICAg
IERlc3RpbmF0aW9uICAgICAgICAgICBQcm90b2NvbCBJbmZvDQogICAgIDE1IDIxOjE2OjMz
LjgzMTk5MCAgICAyMDUuMTU5LjIxNi4xNTIgICAgICAgMjA1LjE1OS4yMTYuMTcxICAgICAg
IFRDUCAgICAgIFtUQ1AgS2VlcC1BbGl2ZV0gNTgyMTAg4oaSIGh0dHBzIFtBQ0tdIFNlcT03
NjA0MDkwODAgQWNrPTIxMzY1NTczMjUgV2luPTY0MjU2IExlbj0xW1JlYXNzZW1ibHkgZXJy
b3IsIHByb3RvY29sIFRDUDogTmV3IGZyYWdtZW50IG92ZXJsYXBzIG9sZCBkYXRhIChyZXRy
YW5zbWlzc2lvbj8pXQ0KDQpGcmFtZSAxNTogNTUgYnl0ZXMgb24gd2lyZSAoNDQwIGJpdHMp
LCA1NSBieXRlcyBjYXB0dXJlZCAoNDQwIGJpdHMpDQpFdGhlcm5ldCBJSSwgU3JjOiBBc3Vz
dGVrQ19mZTo3Nzo4YSAoMDA6MjY6MTg6ZmU6Nzc6OGEpLCBEc3Q6IEFkdmFudGVjXzYwOjFj
OjlkICgwMDowYjphYjo2MDoxYzo5ZCkNCkludGVybmV0IFByb3RvY29sIFZlcnNpb24gNCwg
U3JjOiAyMDUuMTU5LjIxNi4xNTIsIERzdDogMjA1LjE1OS4yMTYuMTcxDQpUcmFuc21pc3Np
b24gQ29udHJvbCBQcm90b2NvbCwgU3JjIFBvcnQ6IDU4MjEwICg1ODIxMCksIERzdCBQb3J0
OiBodHRwcyAoNDQzKSwgU2VxOiA3NjA0MDkwODAsIEFjazogMjEzNjU1NzMyNSwgTGVuOiAx
DQpbUmVhc3NlbWJseSBlcnJvciwgcHJvdG9jb2wgVENQOiBOZXcgZnJhZ21lbnQgb3Zlcmxh
cHMgb2xkIGRhdGEgKHJldHJhbnNtaXNzaW9uPyldDQogICAgW0V4cGVydCBJbmZvIChFcnJv
ci9NYWxmb3JtZWQpOiBOZXcgZnJhZ21lbnQgb3ZlcmxhcHMgb2xkIGRhdGEgKHJldHJhbnNt
aXNzaW9uPyldDQogICAgICAgIFtOZXcgZnJhZ21lbnQgb3ZlcmxhcHMgb2xkIGRhdGEgKHJl
dHJhbnNtaXNzaW9uPyldDQogICAgICAgIFtTZXZlcml0eSBsZXZlbDogRXJyb3JdDQogICAg
ICAgIFtHcm91cDogTWFsZm9ybWVkXQ0KDQpOby4gICAgIFRpbWUgICAgICAgICAgICAgICBT
b3VyY2UgICAgICAgICAgICAgICAgRGVzdGluYXRpb24gICAgICAgICAgIFByb3RvY29sIElu
Zm8NCiAgICAgMTYgMjE6MTY6MzMuODMyMjAzICAgIDIwNS4xNTkuMjE2LjE3MSAgICAgICAy
MDUuMTU5LjIxNi4xNTIgICAgICAgVENQICAgICAgW1RDUCBLZWVwLUFsaXZlIEFDS10gaHR0
cHMg4oaSIDU4MjEwIFtBQ0tdIFNlcT0yMTM2NTU3MzI1IEFjaz03NjA0MDkwODEgV2luPTM5
MDQwIExlbj0wIFNMRT03NjA0MDkwODAgU1JFPTc2MDQwOTA4MQ0KDQpGcmFtZSAxNjogNjYg
Ynl0ZXMgb24gd2lyZSAoNTI4IGJpdHMpLCA2NiBieXRlcyBjYXB0dXJlZCAoNTI4IGJpdHMp
DQpFdGhlcm5ldCBJSSwgU3JjOiBBZHZhbnRlY182MDoxYzo5ZCAoMDA6MGI6YWI6NjA6MWM6
OWQpLCBEc3Q6IEFzdXN0ZWtDX2ZlOjc3OjhhICgwMDoyNjoxODpmZTo3Nzo4YSkNCkludGVy
bmV0IFByb3RvY29sIFZlcnNpb24gNCwgU3JjOiAyMDUuMTU5LjIxNi4xNzEsIERzdDogMjA1
LjE1OS4yMTYuMTUyDQpUcmFuc21pc3Npb24gQ29udHJvbCBQcm90b2NvbCwgU3JjIFBvcnQ6
IGh0dHBzICg0NDMpLCBEc3QgUG9ydDogNTgyMTAgKDU4MjEwKSwgU2VxOiAyMTM2NTU3MzI1
LCBBY2s6IDc2MDQwOTA4MSwgTGVuOiAwDQo=
--------------030503090207000805070302
Content-Type: text/plain; charset=UTF-8;
 name="ssl_log-v3.txt"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
 filename="ssl_log-v3.txt"

W1R1ZSBGZWIgMDIgMjE6MTY6MjQuMDg5NzE4IDIwMTZdIFtzc2w6aW5mb10gW3BpZCAxMzU2
XSBbY2xpZW50IDIwNS4xNTkuMjE2LjE1Mjo1ODIxMF0gQUgwMTk2NDogQ29ubmVjdGlvbiB0
byBjaGlsZCAwIGVzdGFibGlzaGVkIChzZXJ2ZXIgbG9jYWxob3N0OjQ0MykNCltUdWUgRmVi
IDAyIDIxOjE2OjI0LjA5MDk1NSAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAxMzU2XSBbY2xp
ZW50IDIwNS4xNTkuMjE2LjE1Mjo1ODIxMF0gYmlvWzkxNzk2ZDhdIGluOiByZWFkIDExYnl0
ZXMNCltUdWUgRmViIDAyIDIxOjE2OjI0LjA5MDk4MyAyMDE2XSBbc3NsOm5vdGljZV0gW3Bp
ZCAxMzU2XSBbY2xpZW50IDIwNS4xNTkuMjE2LjE1Mjo1ODIxMF0gYmlvWzkxNzk2ZDhdIGlu
OiByZWFkIDE2OGJ5dGVzDQpbVHVlIEZlYiAwMiAyMToxNjoyNC4wOTEwMTIgMjAxNl0gW3Nz
bDpkZWJ1Z10gW3BpZCAxMzU2XSBzc2xfZW5naW5lX2tlcm5lbC5jKDIxMDMpOiBbY2xpZW50
IDIwNS4xNTkuMjE2LjE1Mjo1ODIxMF0gQUgwMjA0NDogTm8gbWF0Y2hpbmcgU1NMIHZpcnR1
YWwgaG9zdCBmb3Igc2VydmVybmFtZSBuYTE3MSBmb3VuZCAodXNpbmcgZGVmYXVsdC9maXJz
dCB2aXJ0dWFsIGhvc3QpDQpbVHVlIEZlYiAwMiAyMToxNjoyNC4wOTEwMjIgMjAxNl0gW2Nv
cmU6ZGVidWddIFtwaWQgMTM1Nl0gcHJvdG9jb2wuYygxODkxKTogW2NsaWVudCAyMDUuMTU5
LjIxNi4xNTI6NTgyMTBdIHNlbGVjdCBwcm90b2NvbCBmcm9tICwgY2hvaWNlcz1oMixzcGR5
LzMuMSxodHRwLzEuMSBmb3Igc2VydmVyIGxvY2FsaG9zdA0KW1R1ZSBGZWIgMDIgMjE6MTY6
MjQuMDkxMDMxIDIwMTZdIFtzc2w6ZGVidWddIFtwaWQgMTM1Nl0gc3NsX2VuZ2luZV9rZXJu
ZWwuYygyMTAzKTogW2NsaWVudCAyMDUuMTU5LjIxNi4xNTI6NTgyMTBdIEFIMDIwNDQ6IE5v
IG1hdGNoaW5nIFNTTCB2aXJ0dWFsIGhvc3QgZm9yIHNlcnZlcm5hbWUgbmExNzEgZm91bmQg
KHVzaW5nIGRlZmF1bHQvZmlyc3QgdmlydHVhbCBob3N0KQ0KW1R1ZSBGZWIgMDIgMjE6MTY6
MjQuMDk2Njg4IDIwMTZdIFtzc2w6bm90aWNlXSBbcGlkIDEzNTZdIFtjbGllbnQgMjA1LjE1
OS4yMTYuMTUyOjU4MjEwXSBiaW9bOTE2YmQ1MF0gb3V0OiBmbHVzaCA5OTEgYnl0ZXMNCltU
dWUgRmViIDAyIDIxOjE2OjI0LjA5NjcyOCAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAxMzU2
XSBbY2xpZW50IDIwNS4xNTkuMjE2LjE1Mjo1ODIxMF0gYmlvWzkxNmJkNTBdIG91dDogRkxV
U0gNCltUdWUgRmViIDAyIDIxOjE2OjI0LjEwMzA1MyAyMDE2XSBbc3NsOm5vdGljZV0gW3Bp
ZCAxMzU2XSBbY2xpZW50IDIwNS4xNTkuMjE2LjE1Mjo1ODIxMF0gYmlvWzkxNzk2ZDhdIGlu
OiByZWFkIDVieXRlcw0KW1R1ZSBGZWIgMDIgMjE6MTY6MjQuMTAzMDY4IDIwMTZdIFtzc2w6
bm90aWNlXSBbcGlkIDEzNTZdIFtjbGllbnQgMjA1LjE1OS4yMTYuMTUyOjU4MjEwXSBiaW9b
OTE3OTZkOF0gaW46IHJlYWQgNzBieXRlcw0KW1R1ZSBGZWIgMDIgMjE6MTY6MjQuMTA1MDQw
IDIwMTZdIFtzc2w6bm90aWNlXSBbcGlkIDEzNTZdIFtjbGllbnQgMjA1LjE1OS4yMTYuMTUy
OjU4MjEwXSBiaW9bOTE3OTZkOF0gaW46IHJlYWQgNWJ5dGVzDQpbVHVlIEZlYiAwMiAyMTox
NjoyNC4xMDUwNDkgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMTM1Nl0gW2NsaWVudCAyMDUu
MTU5LjIxNi4xNTI6NTgyMTBdIGJpb1s5MTc5NmQ4XSBpbjogcmVhZCAxYnl0ZXMNCltUdWUg
RmViIDAyIDIxOjE2OjI0LjEwNTEyMiAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAxMzU2XSBb
Y2xpZW50IDIwNS4xNTkuMjE2LjE1Mjo1ODIxMF0gYmlvWzkxNzk2ZDhdIGluOiByZWFkIDVi
eXRlcw0KW1R1ZSBGZWIgMDIgMjE6MTY6MjQuMTA1MTUyIDIwMTZdIFtzc2w6bm90aWNlXSBb
cGlkIDEzNTZdIFtjbGllbnQgMjA1LjE1OS4yMTYuMTUyOjU4MjEwXSBiaW9bOTE3OTZkOF0g
aW46IHJlYWQgNDBieXRlcw0KW1R1ZSBGZWIgMDIgMjE6MTY6MjQuMTA1MjYwIDIwMTZdIFtz
c2w6bm90aWNlXSBbcGlkIDEzNTZdIFtjbGllbnQgMjA1LjE1OS4yMTYuMTUyOjU4MjEwXSBi
aW9bOTE2YmQ1MF0gb3V0OiBmbHVzaCAyNTggYnl0ZXMNCltUdWUgRmViIDAyIDIxOjE2OjI0
LjEwNTI3OCAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAxMzU2XSBbY2xpZW50IDIwNS4xNTku
MjE2LjE1Mjo1ODIxMF0gYmlvWzkxNmJkNTBdIG91dDogRkxVU0gNCltUdWUgRmViIDAyIDIx
OjE2OjI0LjEwNTMxMyAyMDE2XSBbc3NsOmRlYnVnXSBbcGlkIDEzNTZdIHNzbF9lbmdpbmVf
a2VybmVsLmMoMjAyMyk6IFtjbGllbnQgMjA1LjE1OS4yMTYuMTUyOjU4MjEwXSBBSDAyMDQx
OiBQcm90b2NvbDogVExTdjEuMiwgQ2lwaGVyOiBFQ0RIRS1SU0EtQUVTMTI4LUdDTS1TSEEy
NTYgKDEyOC8xMjggYml0cykNCltUdWUgRmViIDAyIDIxOjE2OjI0LjEwNTM0MCAyMDE2XSBb
c3NsOm5vdGljZV0gW3BpZCAxMzU2XSBbY2xpZW50IDIwNS4xNTkuMjE2LjE1Mjo1ODIxMF0g
YmlvWzkxNzk2ZDhdIGluOiByZWFkIDVieXRlcw0KW1R1ZSBGZWIgMDIgMjE6MTY6MjQuMTA1
MzUwIDIwMTZdIFtzc2w6bm90aWNlXSBbcGlkIDEzNTZdIFtjbGllbnQgMjA1LjE1OS4yMTYu
MTUyOjU4MjEwXSBiaW9bOTE3OTZkOF0gaW46IHJlYWQgNDM1NWJ5dGVzDQpbVHVlIEZlYiAw
MiAyMToxNjoyNC4xMDU1MDkgMjAxNl0gW3NzbDpkZWJ1Z10gW3BpZCAxMzU2XSBzc2xfZW5n
aW5lX2tlcm5lbC5jKDM1NCk6IFtjbGllbnQgMjA1LjE1OS4yMTYuMTUyOjU4MjEwXSBBSDAy
MDM0OiBJbml0aWFsIChOby4xKSBIVFRQUyByZXF1ZXN0IHJlY2VpdmVkIGZvciBjaGlsZCAw
IChzZXJ2ZXIgbG9jYWxob3N0OjQ0MykNCltUdWUgRmViIDAyIDIxOjE2OjI0LjEwNTY1MCAy
MDE2XSBbYXV0aHpfY29yZTpkZWJ1Z10gW3BpZCAxMzU2XSBtb2RfYXV0aHpfY29yZS5jKDgw
OSk6IFtjbGllbnQgMjA1LjE1OS4yMTYuMTUyOjU4MjEwXSBBSDAxNjI2OiBhdXRob3JpemF0
aW9uIHJlc3VsdCBvZiBSZXF1aXJlIGFsbCBncmFudGVkOiBncmFudGVkDQpbVHVlIEZlYiAw
MiAyMToxNjoyNC4xMDU2NTggMjAxNl0gW2F1dGh6X2NvcmU6ZGVidWddIFtwaWQgMTM1Nl0g
bW9kX2F1dGh6X2NvcmUuYyg4MDkpOiBbY2xpZW50IDIwNS4xNTkuMjE2LjE1Mjo1ODIxMF0g
QUgwMTYyNjogYXV0aG9yaXphdGlvbiByZXN1bHQgb2YgPFJlcXVpcmVBbnk+OiBncmFudGVk
DQpbVHVlIEZlYiAwMiAyMToxNjoyNC4xMDU3NDUgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQg
MTM1Nl0gW2NsaWVudCAyMDUuMTU5LjIxNi4xNTI6NTgyMTBdIGJpb1s5MTZiZDUwXSBvdXQ6
IHBhc3MgMzI3IGJ5dGVzDQpbVHVlIEZlYiAwMiAyMToxNjoyNC4xMDU4MjMgMjAxNl0gW3Nz
bDpub3RpY2VdIFtwaWQgMTM1Nl0gW2NsaWVudCAyMDUuMTU5LjIxNi4xNTI6NTgyMTBdIGJp
b1s5MTZiZDUwXSBvdXQ6IHBhc3MgMTcyNyBieXRlcw0KW1R1ZSBGZWIgMDIgMjE6MTY6MjQu
MTA1ODM1IDIwMTZdIFtzc2w6bm90aWNlXSBbcGlkIDEzNTZdIFtjbGllbnQgMjA1LjE1OS4y
MTYuMTUyOjU4MjEwXSBiaW9bOTE2YmQ1MF0gb3V0OiBNRVRBREFUQSBFT1MNCltUdWUgRmVi
IDAyIDIxOjE2OjI0LjEwNTg0NiAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAxMzU2XSBbY2xp
ZW50IDIwNS4xNTkuMjE2LjE1Mjo1ODIxMF0gYmlvWzkxNmJkNTBdIG91dDogTUVUQURBVEEg
RU9SDQo=
--------------030503090207000805070302
Content-Type: application/octet-stream;
 name="ssltrace-v3.pcap"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
 filename="ssltrace-v3.pcap"

1MOyoQIABAAAAAAAAAAAAAAABAABAAAAJ42xVhZeDABCAAAAQgAAAAALq2AcnQAmGP53iggA
RQAANHI0QACABjwMzZ/YmM2f2KvjYgG7LVLZvwAAAACAAiAAFl0AAAIEBbQBAwMIAQEEAieN
sVbKXgwAQgAAAEIAAAAAJhj+d4oAC6tgHJ0IAEUAADQAAEAAQAbuQM2f2KvNn9iYAbvjYn9Z
QistUtnAgBJyEAK4AAACBAW0AQEEAgEDAwcnjbFW614MADYAAAA2AAAAAAurYBydACYY/neK
CABFAAAocjVAAIAGPBfNn9iYzZ/Yq+NiAbstUtnAf1lCLFAQAQC0mgAAJ42xVoNfDADpAAAA
6QAAAAALq2AcnQAmGP53iggARQAA23I2QACABjtjzZ/YmM2f2KvjYgG7LVLZwH9ZQixQGAEA
EdgAABYDAQCuAQAAqgMDQ+ePLjoTbOCEWfvxKNSCFc52kQEm1DCX23VVLLNSxXMAABbAK8Av
wArACcATwBQAMwA5AC8ANQAKAQAAawAAAAoACAAABW5hMTcx/wEAAQAACgAIAAYAFwAYABkA
CwACAQAAIwAAM3QAAAAQABcAFQJoMghzcGR5LzMuMQhodHRwLzEuMQAFAAUBAAAAAAANABYA
FAQBBQEGAQIBBAMFAwYDAgMEAgICJ42xVlVgDAA8AAAAPAAAAAAmGP53igALq2AcnQgARQAA
KGEoQABABo0kzZ/Yq82f2JgBu+Nif1lCLC1S2nNQEADts/oAAAAAAAAAACeNsVbyewwAFQQA
ABUEAAAAJhj+d4oAC6tgHJ0IAEUABAdhKUAAQAaJRM2f2KvNn9iYAbvjYn9ZQiwtUtpzUBgA
7XGbAAAWAwMATAIAAEgDA5aHkKfyj5oPhvhL3RcY+gfKGPGFpY44NEwRinQ//Y7NAMAvAAAg
/wEAAQAACwAEAwABAgAjAAAAEAALAAkIaHR0cC8xLjEWAwMCrgsAAqoAAqcAAqQwggKgMIIC
CaADAgECAgQDJYoDMA0GCSqGSIb3DQEBBQUAMHoxHzAdBgNVBAoMFk5ldEFjcXVpcmUgQ29y
cG9yYXRpb24xKjAoBgNVBAMMIU5ldEFjcXVpcmUgU2VydmVyIDIwNS4xNTkuMjE2LjE3MTER
MA8GA1UEBwwIS2lya2xhbmQxCzAJBgNVBAgMAldBMQswCQYDVQQGEwJVUzAeFw0xNjAxMzAw
NDI2NTJaFw0yMTAxMjgwNDI2NTJaMHoxHzAdBgNVBAoMFk5ldEFjcXVpcmUgQ29ycG9yYXRp
b24xKjAoBgNVBAMMIU5ldEFjcXVpcmUgU2VydmVyIDIwNS4xNTkuMjE2LjE3MTERMA8GA1UE
BwwIS2lya2xhbmQxCzAJBgNVBAgMAldBMQswCQYDVQQGEwJVUzCBnTANBgkqhkiG9w0BAQEF
AAOBiwAwgYcCgYEAxsPPojMKFWYYVhDZ9zQ0gRg2sspBc88VWu/iTuxe8597ic1h5gQizOuh
xv+FAlt9BTDoj1iswiGoRwPt8ly2aQd69DrFg0G3kt/RPyhucKPqD2Iz8J4zO1MA+UmJN3Fu
NupCUOxxr1jCMRfG4CmVRtx6H00DXgxTARP0epxA/p8CAQOjNTAzMDEGA1UdEQQqMCiHBM2f
2KuCDzIwNS4xNTkuMjE2LjE3MYcEfwAAAYIJMTI3LjAuMC4xMA0GCSqGSIb3DQEBBQUAA4GB
ACffVfdDJadUOadeJjkJP36ArkCCXn64bArJLrhbZkqDfjpY9QjmDxz6uKm1AmI1mwt7x7Vx
So9ervmZ2zBjpKDP/wTq/9JJrK6Z8KumSr336pgVRXfm5/kv2+nZjqqpqjtCFPgfdQMcsQ/n
GY7/gJl2MbQZ6iaDWKxu2lH4+HLiFgMDAM0MAADJAwAXQQSAbTARyUMDPefodnh0etylBaqZ
IPXE1H8Pc/69O9KxuGKNwfrBkt5BEzD7i0L0wpz48MOBYW+1mFSaUrAoDARfBAEAgIxsx1vP
aqNCHMuIljROW/FKN+4mJfCtELH060D8aU7hMJj9V4fwrhESuBAvEWnMbufGLu5DSAyIH8KC
VlBM0mnmUpO90I9j+3D/7zLrVgfC9cOrtwjBG1ht8skGM5q/XS7HfysLO2OBM+4xN6tjTwed
+XhvNXrxfXkQFj4x++xCFgMDAAQOAAAAJ42xVhmUDAC0AAAAtAAAAAALq2AcnQAmGP53iggA
RQAApnI3QACABjuXzZ/YmM2f2KvjYgG7LVLac39ZRgtQGAD8MYsAABYDAwBGEAAAQkEEAvI+
fgjf+9IzKH8eHGlThefsVQQoPGkE0DBdiS5E/04cV+coZywK4/GgoRKkun9WhtEv7noncz9z
iAC8BSAiEhQDAwABARYDAwAoAAAAAAAAAAA57lRU1DB/9mhBxFkz47jAB6jh/ZqnkPgw+w20
CSOwjieNsVZPmgwA6gUAAOoFAAAAC6tgHJ0AJhj+d4oIAEUABdxyOEAAgAY2YM2f2JjNn9ir
42IBuy1S2vF/WUYLUBAA/Dn2AAAXAwMRAwAAAAAAAAABUjKz3LNh8JmBG3RKfwMk3keYxRiG
USK1F0Zj9r/o6+y0aSvoAt7SVj57eatUBgmb1SP65zINue1lqZVtuLuZ1UfEhfFxH0Vs6saf
yNa3yltvAiSm4Z0eY6kPEttYOsG3XSc2SdmHKHja8yWxhzjp3J0CCBa2q2T8N1QQbxE3oDqg
ESFW5LNqZeFHGDAfcsNfQxa9QVrZkv+JN8Gcumb13+2v4uSskrIR0nb5h4kRmM6r4o4v1UTN
E57aLWrEpf42Jzk9XowJmn6yvsRDzmU2CaxcjVWnlA5PzK8sLlC4dy0+6YDRaWHMvzhSVuGj
N0FT9r9gGezfRT369kFzYhzIShDvIJNro7PrYhioPkspkMfY1t0wC1RCFQ9Yx0zkjgLSFv/8
6TgpLetl4znzEdTJExV6ZHYMBwGeH1dyR/5mPX0JcspA6tvqYn9ehHP5kaCqX+A1m0DB/dp7
whDrJmpzt/tn+lnObUPL/uFVwecbsukzXZTIpBO6PYkM2taJC8GCkv8Ce3S5KR+6j2E7iM1u
4wcC/iixZOYhLBEhjQ7txpHpBJTy+FQgsNXjL6+kBgUbsoq/3+YEJaMD9Y8t4ee8snfco5ZL
GctzA7XzRQ6nd5tZscfOMH80S3zFU1VMxEmOTzNWZP0hDZ7sPXxam/0dosI1EYBphjfxyj8a
oAXt51OSdhiTBbtVJRbw7X3BZKbWgZIXnmM3jMwIkaWu8iAdNyrV575CbUbJyOq04Mn9lnKp
yMwZR7u5+tTz4vNK7HR1R+nV2hzaSeKedu0AhPEl1KUVv8Xvnzu9Hf8pmgPk2VbZbGjfpC1R
HZcjCr6xj2bYK2DF2fCgiCjxOC2dBwvjPtVfGx6C31jdK8gExQ7ciR/+0R/aB2/YZuKyKk82
bHs8y4f1mhXD3wf9TgzRohhvvu3Ej1J/kzD/Cllb1jQVXSRCeiYFzBgFpqOC3ESy87pSk9Vp
41vBqJpq3U5wuJ4qK+eiHCFD87pQRpMpGk/RTvHiirwftFLRaTMFKiWSrJvPpSvSD+dA88Q7
oGyUUgZsjgw3WlIdcCHkTTg6YKOC/OV8mdr72i5E5zSjJxr4rker4LEGDmL61BSRLoubaWxt
/j4NSx1/ym99L7X0AVV+N1K7TuR0Po4IIz6c0ILS6QU7YH/ePLW2agXDqd3o2yjDhzox3Vyb
5gLNiB3knQbHRbVSyiN3yNoadWF6acG819l2kEtvzwLqpoTJk6U55XbuwZAcRgSP6U6STcf9
iDESW1ElEZLxcCqM4/vPiI5tWYVxJDuPDaPsnkTgpbb3kgnB86ulLo+yxHWrmEUxg5ZkdL7a
FIDooT9SN3WMr7ruo+e0oVCdi3UVe22AlG73WEXLXjQRnA4cifsT8w56hsITxLwE9UonDB7j
pIaY4E55KhO6xTLdEBeI4pSjj/AF9tohqL1C1SK9/0S+P1QXy5m7UD1vW0WIEA2B6my2A+9/
4yOiBNPU0PKzt7hq8DTU6Xl+/5P9DOAUJFZsfXPJhJtpLbhCQ56wDMOqHpUiK/95e6SPuLhS
W6Uw8UYf4Ne66DubSmjD2AEVBXQHRxOrTiG0DQcXgFX5kjwYx4WODcRfWOWOH6AcSiiMjJ41
fRm/kYZPHSk+hDfYtNVQwfuV2jiyzh+zD8dcNBpPtFxWdYIGuHAHwkO94p9ffEOWwVHv550v
VoR/sI36LORW8wxD5RW237f0iNpRjiZG+aE/giE6p2vmSqg9Tw3aEtHwIALUugGyipCGnoVd
JDedg5tvpdqFCAdx34Rgomrr9dhUCi7dGxaqRAfOgnDxFqVdAmHR5gGfPiMQGmgtISqNJkwq
FLZI6i2WREguaLBktnuCl9p44QcklK+mpNPwefboJ9RtqAEQBZibYDGxcrRFc4ob2Nv5hvYj
O4Jk90aGfPORhKHQlQWyrT5V+A+59SeNsVZVmgwA6gUAAOoFAAAAC6tgHJ0AJhj+d4oIAEUA
BdxyOUAAgAY2X82f2JjNn9ir42IBuy1S4KV/WUYLUBAA/LzaAAB8pG5mUQvLCKJ64icbWQVF
Kn4gMIL1rNf05Gb53ovOS+0XI0Pa04/xyqfAngHN2dg4Pv637OMdhio3OXuHfR9CQHYFKycn
C0uDYwo//lyGIQPkdpZDErEb/AxoTzm71RG9WjJq57TJGvkFilGoxqlMmmBwmdDC1Sxc0agP
G8QY/PXH9jZWs1/VaUgif4djsTwP3jQCti4M8yrPaTMgCjrR1SvYwYDwRT8VOs8tXeW8W/v2
xmSKYFkLsH0Za3Qvydecld7RRrmHYnIHfgE7LDyQ5r9hccOwoNSNWsqJrumsIrSQZubWat4d
OLAQ1jaRgs8+ySOjsJA2kl847cc7ABXJVD4HMFPzmul/y0qRSLY5PXM9kRIYOLK7yPudPJtO
RRDQTAhMM5LKMfhvrt7P6f2u/Aw/sXhKP7QTjzuAWyYfAwmAYuHPRgoxYuWXJSFy+0rJ3Sgg
F1LrvWpk/9xwuJeqgnPZ6u/PxFxT1iIaJW+xasD0T94WpGzcDsl24P1P195Rz0ZNgap+Etle
k66IAYkymfTb/agIVDY6RYXq8vfReQJfV4PwTJd/6HGMOeMmjT9O9O1QLtXQwmUMJtwDBCNX
fTmpCz40EZzhgkuk7jA/ekxoKgP5xYt/SBpXxN4RGb9Up2AH4UY6ABfHggFSHScFTvApv30Q
7Hlcsmbk6KXeBd+sAfI6HaQJENBZkTqRsJbxuKzNV9LuUdsHYUj9XA+BHrkE/VQtfr1MuOeN
wf4yleuzQNeW2LhJW8bvIrozzVmBLjR/7RzNhjL1a0+eyvGSfHYJwyyTt8M7/J7kQIuhRqdT
LSSMsKRFqnsdBTIkKQGDlENSEbASexV/2ZV/7euCHI+Vv9Kk/7A3ZC6ig+U5XWRzE43H+uD1
1bSkM5NUph7H+I4G6j9tQ0lxW9yWRmo4SjYVMjkJvW8y9tdHdtYXoJ1lphQk2I2y5pBUsIis
ex0dIjQb78PJXIXG72Yy5I+bRjSghys58pugZnLa33Apy1e3b5GjDFOV6x80ekvy6nzR3Vov
Wozt9zWiVAUCu2uyIIBmQS+/yJ9ZfrjLPOkq587Yb8ZH+xeCo9sW0JHkwbVLdbqszpK9IXKA
KjtQgUe/mgFPTLWRbRO9VBuY2bygvnp+Jn7TaoSM85u1DZi7TPs8ZmOSo5bgjLArpLdpYbq4
s3TJDrujh73Y/9r4rkaJ9vJh/CmK4rOBq6S3rgKMjmKO8pGeMt2XiH7fDk7cJpuxrynK0Qp9
2jyg6HDjx6XCsUJv1VcgnboTeme9Vvmfo5frM5/Eeti1jIjfZyA7LJFw6Tza302F2dU4IVS3
GcvavQAojnTL6M8tUUmcoS8i93JkCUEik9/eL5bTkxQn/Me/Z8eOm5HrkUQOgi+imeJ7wX4f
pTu/VyGJaEXpfqMh/+yU0H6qQ0JsPkIiKRxe2l+t6dETopNjlb4X94NMrjz2H/0/fs4UjYcG
k1+BB1AQH250RjX7XVENcDL1/KUglRbaZATZZOOVtyaXuWsL7hZaCodo60cc1CDlFqjFExyX
NH39OW+dXCnwac2AX0UkVnaQwz/DGC1t5lzVdwrg2sQPqmtH3LwWygzdQmoKT37IjYK+KdMk
PA0lFu1LqL3crrAWvFRkpsshatblKdwziJtk9dEVVfge4zKVsgTsZdmfivEZjK/+vq/asAKE
FlzU6m5io9cxlzXi3PaHpgETrfvC4FJmPJC+8xP7dlaQa51dKc4mYioozWqcuPvnwr5VLGnW
rdGSjQiaWuRqBd9JReMSoNN1ZQv7JqyYvHHmXwGz+1KEtoSAhp2DrvQdOkP3YkbnTEeWzyIE
FP6M5npipo9kM7ycwbKgU8cpNWAO4ARfN7S3lr+I/YxkfHbikENLVxgtyjqhh4NRW+oSJNOv
suIEz9tHCXL4oBhQCbFWKHD+PLqF3TFxDV7qk7HBW3VFIzZCMSQuDCeNsVZMmwwAPAAAADwA
AAAAJhj+d4oAC6tgHJ0IAEUAAChhKkAAQAaNIs2f2KvNn9iYAbvjYn9ZRgstUuZZUBABG6QH
AAAAAAAAAAAnjbFWYJsMANYFAADWBQAAAAurYBydACYY/neKCABFAAXIcjpAAIAGNnLNn9iY
zZ/Yq+NiAbstUuZZf1lGC1AYAPx3QgAAWcJvfVDsoTsimhSlo96Z+7rcPX5MCM4CraQ1EWlk
ca+p1keURM+VS6nYdEW09wPSD9yPpamMxA4NGi47IlGhfCwAZ6E1EedO712MzezlGkci1V9j
fwWsHoWdm3PKiGcmKuwyewjLwrvWmpBc4JR1WSSQqy3Zuke4JpB/DBJ1j1M2ltr4SjrR6tKn
Ut1adJoiw35jof5yRjuU5HS7w+GlBCxcd7aPwUnlxrIWKO2yzYjEs2AqcBVTSnka4Gvwo/L4
Vau9YY/81YW0M+pOpX1MVCi/U4VJpj+nSyF99B4MmqlfZ50edmbY9PUXzm6sqYv/cXYXCPez
8hxpOmMuBQJfMz6rZzwpY+xScVe0WCFH3VeoRkl9MBdaW02gUmKI4qPa7Sm729TLa9E2OIGV
mlbND4NUL6/vmx7uhnvuq6D/Z3khIWOy1WU7UAxs+4GhBu+J61HcMbF1tF21hsX0wuiNws7P
NGN4LBD1j6dQiqntjZEMMOiQtHkqFmB8hxUpWMcJdw8bN3BobmTANRpe3ZVAeO8brpFgafzI
wwZ29zT/dBwDHIoSx8vtDpooDgPbZokG8b+lUk9VNrwfyZbG7Eimwbwb4fec6SVHtpAp6vUH
X4Rw6Su5dvQfL32mtUmnekGnVS6seBve5AvLgLQtRjIaSRFWLdcVyUP+e0ry5USE00Pw6PL7
UehhavJ1BeGuYtibIbwcc8rYCy0j9TAFqOeIXunZ9eDV7tfmZz99iJB0Q/3GTZqmo1PIjMAO
Dv/6knORhBuTSAET5Aer5VmYc2EC1oXWE9o2FmRitIar2nUdUY9yPQF7NurYzpOjtXyfjN+o
F3OoAQDov8gLYaXitm2xCIUVhUswuHsKKbUebpVeCb/AA6RYvJTn199YrUAewWLJ6e2Uso3x
QXT297P4xko5AAjxDVTRycLz8VuhoBFXCWvraXa0dlfns6HNuREl3U8VYh6mDF2MBSWekl1C
Di+M4nw95hE3GQSNhRFqpSDb6x1gxiiffhNOmfMhCtgnLGF4kX16sGUVJdjigyVaGvBHKKPP
vxzKPym67Hmyeu6MGk8c7jsdpKi7n3uJGUwogSdTXEtG3ITb9FJDJVNyM89PWmqvhtHgSuhD
ASaxaJyYqnlnn4Yjzz9eXwy5mFsqz8abXxPu3wx7+xaeKj9//v6XG5X8xXHz9ikhu1RLuIKh
LGjxRMs7JzPYQkbuGyMieU09cq/HPJjgc0Y6FIILUuRDaUhXxFzr8neVkwP2mbeisTVjzk6C
qQowj7zEYXjm4pfIZb5T22WbKWgl8p0/d8izR4RJt7QoXHXESZfBUjqZdSEg0Ac8yBu2ZcKq
yldU6zbj3b5SDmRrwc67QkmPnkAs3BFBT56l1UAd1Bd9myocX7xV3mol7RG4xGi6unOxGwFz
EEQzVpgMI+qX94h8aj3Xi4WaQ0EE8FCeeCIM3/Duku5uKh/FCU+WAF1qwpAh6A6N9VmHH5as
y40BGbSQWkcKZ3k79L0LCIAd3cE+sHtSeqQeBi6psW/+YWrRrAGKA/7/Jf6uLtgMvQt4oKau
LNZAzJlaLTsdM10Ope5YmSx9Z/nLdUkiOVneIIgT6blncm+3T2qlyWiJTAs3b+o0L1tSdsXJ
JuZtRiiQ2oK10Xs7F4udwA8ZJTYOYrB01gY3Gp9IP2KvWDHxdpDZeVIRFTijTniL/lwz2svS
WcGrqXDgADzqkFq47ThLhVz2qF8D9+WLfESdTdAHvO2yPeb1sZy+InFS3iNh7+fiFZ2tu2rn
lskZHgJsYE1bPls1OCRAZXk8N4NMJr0zf/TR0Iv6OwrGOGE4Taj9q6v2ERgF6EpAUL1VG0/+
XtkO4hmeZUNZHwawZ8gPqa00Xy6ud7LUZGwgyAfxyiwAXiTbVgjhd1pcLSkreYyDwz0F+8Nn
rH8eBF6ZJ42xVkidDAA4AQAAOAEAAAAmGP53igALq2AcnQgARQABKmErQABABowfzZ/Yq82f
2JgBu+Nif1lGCy1S6/lQGAEx5S8AABYDAwDKBAAAxgAAASwAwExRI663u0/IJXFiK2yhlOMa
9zs1vC/6T36eWtbI2PgiPyyS+R11llsJaQ18QXAFhMOV3zFUsxdLhqw7yHg/srBpPUHsPI73
ClrAzAmM/fYOz0gYa6CTKDdSr/1TKqHhth/CEC2KzmzR7B/6nEN5OZzuuyKT2D7aMJ5Zhl0x
QwAH7bqotRMKo2U5cq6lYId2ktC4uUMFp9OCR1H+AfCFIlgnCEkREpBcvf23VfM7JU216gok
2JjSr/zjKmzxiDTbEhQDAwABARYDAwAoME66MS2vueiZojv0l4N9dKoL0JqoCK0mQRoXu2nF
GLR3vQBxw0q6HiiNsVa6aQAAOAEAADgBAAAAJhj+d4oAC6tgHJ0IAEUAASphLEAAQAaMHs2f
2KvNn9iYAbvjYn9ZRgstUuv5UBgBMeUvAAAWAwMAygQAAMYAAAEsAMBMUSOut7tPyCVxYits
oZTjGvc7Nbwv+k9+nlrWyNj4Ij8skvkddZZbCWkNfEFwBYTDld8xVLMXS4asO8h4P7KwaT1B
7DyO9wpawMwJjP32Ds9IGGugkyg3Uq/9Uyqh4bYfwhAtis5s0ewf+pxDeTmc7rsik9g+2jCe
WYZdMUMAB+26qLUTCqNlOXKupWCHdpLQuLlDBafTgkdR/gHwhSJYJwhJERKQXL39t1XzOyVN
teoKJNiY0q/84yps8Yg02xIUAwMAAQEWAwMAKDBOujEtr7nomaI79JeDfXSqC9CaqAitJkEa
F7tpxRi0d70AccNKuh4ojbFW3GkAAEIAAABCAAAAAAurYBydACYY/neKCABFAAA0cjtAAIAG
PAXNn9iYzZ/Yq+NiAbstUuv5f1lHDYAQAPvbogAAAQEFCn9ZRgt/WUcNMY2xVvaxDAA3AAAA
NwAAAAALq2AcnQAmGP53iggARQAAKXJBQACABjwKzZ/YmM2f2KvjYgG7LVLr+H9ZRw1QEAD7
nYUAAAAxjbFWy7IMAEIAAABCAAAAACYY/neKAAurYBydCABFAAA0YS1AAEAGjRPNn9irzZ/Y
mAG742J/WUcNLVLr+YAQATE0oQAAAQEFCi1S6/gtUuv5
--------------030503090207000805070302--


From dev-return-85399-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 08:10:49 2016
Return-Path: <dev-return-85399-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 078F418706
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 08:10:49 +0000 (UTC)
Received: (qmail 34899 invoked by uid 500); 3 Feb 2016 08:10:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34808 invoked by uid 500); 3 Feb 2016 08:10:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34798 invoked by uid 99); 3 Feb 2016 08:10:48 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 08:10:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B382A180234
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 08:10:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.998
X-Spam-Level:
X-Spam-Status: No, score=0.998 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id NawAQ5y4pDHq for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 08:10:36 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.147])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 1BEE442A42
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 08:10:35 +0000 (UTC)
Received: from [85.158.136.83] by server-11.bemta-5.messagelabs.com id E5/D8-25857-5F5B1B65; Wed, 03 Feb 2016 08:10:29 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-15.tower-36.messagelabs.com!1454487028!13960479!1
X-Originating-IP: [195.232.244.136]
X-StarScan-Received:
X-StarScan-Version: 7.35.1; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 25139 invoked from network); 3 Feb 2016 08:10:29 -0000
Received: from mailout04.vodafone.com (HELO mailout04.vodafone.com) (195.232.244.136)
  by server-15.tower-36.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 3 Feb 2016 08:10:29 -0000
Received: from mailint01.vodafone.com (mailint01.vodafone.com [195.232.244.198])
	by mailout04.vodafone.com (Postfix) with ESMTP id 3pwG0L6mgJznTm6
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 09:10:26 +0100 (CET)
Received: from mailint01.vodafone.com (localhost [127.0.0.1])
	by mailint01.vodafone.com (Postfix) with ESMTP id 3pwFzy0FVSzxRYg
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 09:10:06 +0100 (CET)
Received: from VOEXC01W.internal.vodafone.com (voexc01w.dc-ratingen.de [145.230.101.21])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint01.vodafone.com (Postfix) with ESMTPS id 3pwFzx72f3zxRYT
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 09:10:05 +0100 (CET)
Received: from VOEXC29W.internal.vodafone.com (145.230.103.201) by
 VOEXC01W.internal.vodafone.com (145.230.101.21) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Wed, 3 Feb 2016 09:10:05 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.216]) by voexc29w
 ([145.230.103.201]) with mapi id 14.03.0224.002; Wed, 3 Feb 2016 09:10:05
 +0100
From: =?iso-8859-1?Q?Pl=FCm=2C_R=FCdiger=2C_Vodafone_Group?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: Worker states for balancer members
Thread-Topic: Worker states for balancer members
Thread-Index: AQHRXgLhqzOCNQaZT0qQv9tViFGzGJ8Z91jw
Date: Wed, 3 Feb 2016 08:10:04 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC9FF1496@VOEXM10W.internal.vodafone.com>
References: <DC1EE0D9-2CE4-48B3-9EC3-0E6706FBAB77@jaguNET.com>
In-Reply-To: <DC1EE0D9-2CE4-48B3-9EC3-0E6706FBAB77@jaguNET.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0



> -----Original Message-----
> From: Jim Jagielski [mailto:jim@jaguNET.com]
> Sent: Dienstag, 2. Februar 2016 22:44
> To: httpd
> Subject: Worker states for balancer members
>=20
> Getting back to this discussion...
>=20
> Right now we have:
>=20
>    o #define PROXY_WORKER_DISABLED       0x0020
>    o #define PROXY_WORKER_STOPPED        0x0040
>    o #define PROXY_WORKER_IN_ERROR       0x0080
>    o #define PROXY_WORKER_HC_FAIL        0x0400
>=20
> Are these bit flags part of our API?? Could I, for example,

I think they are as they are part of mod_proxy.h and other 3rd party
proxy modules may have consumed them.


> make PROXY_WORKER_DISABLED =3D=3D PROXY_WORKER_STOPPED =3D=3D 0x0060
> for example?

Hm. What if 3rd party modules only set 0x0040 or 0x0020 as they are using t=
he old
values? Wouldn't that create some possible weird side effects?
I mean no issue for trunk, but don't think this would be correct for backpo=
rting.

Regards

R=FCdiger


From dev-return-85400-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 08:20:49 2016
Return-Path: <dev-return-85400-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6678A18775
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 08:20:49 +0000 (UTC)
Received: (qmail 47360 invoked by uid 500); 3 Feb 2016 08:20:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 47286 invoked by uid 500); 3 Feb 2016 08:20:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 47276 invoked by uid 99); 3 Feb 2016 08:20:48 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 08:20:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 7EBAFC0D7F
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 08:20:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, SPF_HELO_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id RoK0i1cUatr4 for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 08:20:35 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.139])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 4B49C428ED
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 08:20:35 +0000 (UTC)
Received: from [85.158.139.163] by server-3.bemta-5.messagelabs.com id 70/50-13487-C48B1B65; Wed, 03 Feb 2016 08:20:28 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-11.tower-188.messagelabs.com!1454487628!14621018!1
X-Originating-IP: [195.232.244.134]
X-StarScan-Received:
X-StarScan-Version: 7.35.1; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 28933 invoked from network); 3 Feb 2016 08:20:28 -0000
Received: from mailout02.vodafone.com (HELO mailout02.vodafone.com) (195.232.244.134)
  by server-11.tower-188.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 3 Feb 2016 08:20:28 -0000
Received: from mailint01.vodafone.com (mailint01.vodafone.com [195.232.244.198])
	by mailout02.vodafone.com (Postfix) with ESMTP id 3pwGCt2qcyzbdNZ
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 09:20:26 +0100 (CET)
Received: from mailint01.vodafone.com (localhost [127.0.0.1])
	by mailint01.vodafone.com (Postfix) with ESMTP id 3pwGBC5ZcbzxRMh
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 09:18:59 +0100 (CET)
Received: from VOEXC03W.internal.vodafone.com (voexc03w.dc-ratingen.de [145.230.101.23])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint01.vodafone.com (Postfix) with ESMTPS id 3pwGBC5Vx2zxRMZ
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 09:18:59 +0100 (CET)
Received: from VOEXC14W.internal.vodafone.com (145.230.101.16) by
 VOEXC03W.internal.vodafone.com (145.230.101.23) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Wed, 3 Feb 2016 09:18:59 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.216]) by
 voexc14w.internal.vodafone.com ([145.230.101.16]) with mapi id
 14.03.0224.002; Wed, 3 Feb 2016 09:18:58 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: HTTPS connections lock-up with 2.4.18
Thread-Topic: HTTPS connections lock-up with 2.4.18
Thread-Index: AQHRXbe6uEk6ckROb0abdFq6M/zyOZ8Zu/MAgAA/T5A=
Date: Wed, 3 Feb 2016 08:18:58 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC9FF14A7@VOEXM10W.internal.vodafone.com>
References: <56B0803B.6080209@kraut.ca>
 <CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
 <56B19098.4060303@kraut.ca>
In-Reply-To: <56B19098.4060303@kraut.ca>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

V2hhdCBpcyB0aGUgY29uZmlndXJhdGlvbiBvZiB5b3VyIGh0dHBzIGhvc3RzPyBEbyB5b3UgaGF2
ZSBtdWx0aXBsZSBuYW1lIGJhc2VkIG9uZT8gRGlkIHlvdSBlbmFibGUgbW9kX2h0dHAyPw0KDQpS
ZWdhcmRzDQoNClLDvGRpZ2VyDQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJv
bTogSm9hY2hpbSBBY2h0emVobnRlciBbbWFpbHRvOmpvYWNoaW1Aa3JhdXQuY2FdDQo+IFNlbnQ6
IE1pdHR3b2NoLCAzLiBGZWJydWFyIDIwMTYgMDY6MzENCj4gVG86IGRldkBodHRwZC5hcGFjaGUu
b3JnDQo+IFN1YmplY3Q6IFJlOiBIVFRQUyBjb25uZWN0aW9ucyBsb2NrLXVwIHdpdGggMi40LjE4
DQo+IA0KPiBIaSBZYW5uLA0KPiANCj4gQXR0YWNoZWQgaXMgZmlsZSAic3NsX2xvZy12My50eHQi
IHdpdGggdGhlIGxvZyBtZXNzYWdlcyBzZWVuIHdoZW4gdXNpbmcNCj4geW91ciB2MyBwYXRjaC4g
VGhlIG90aGVyIHR3byBmaWxlcyBhcmUgdGhlIGNvcnJlc3BvbmRpbmcgV2lyZXNoYXJrDQo+IHRy
YWNlcywgY29sbGVjdGVkIG9uIHRoZSBjbGllbnQtc2lkZSB3aGVyZSBGaXJlZm94IHdhcyB0cnlp
bmcgdG8NCj4gcmV0cmlldmUgdGhlIGZpbGUuDQo+IA0KPiBXaGlsZSBleHBsb3JpbmcgYSBmaW5h
bCBmaXggZm9yIHRoaXMsIGNhbiBJIGFzayBmb3IgeW91ciBvcGluaW9uIGFib3V0DQo+IHRoZSBm
b2xsb3dpbmcgd29yay1hcm91bmQgd2UgY3VycmVudGx5IHJlbHkgb24gdW50aWwgdGhlcmUgaXMg
YW4NCj4gb2ZmaWNpYWwgZml4LiBXZSBjb250aW51ZSB0byB1c2UgQXBhY2hlIDIuNC4xOCwgYnV0
IGhhdmUgcmVwbGFjZWQNCj4gbW9kX3NzbC5zbyB3aXRoIHRoZSBvbmUgZnJvbSBBcGFjaGUgMi40
LjEyLiBJcyB0aGlzIGxpa2VseSB0byBiZSBzYWZlPw0KPiBvciBkbyB5b3Ugbm90IHJlY29tbWVu
ZCBtaXhpbmcgdmVyc2lvbnM/DQo+IA0KPiBUaGFua3MsDQo+IA0KPiBKb2FjaGltDQo+IA0KPiAN
Cj4gDQo+IE9uIDIwMTYtMDItMDIgNDo0NiwgWWFubiBZbGF2aWMgd3JvdGU6DQo+ID4gQmFjayB0
byB0aGUgbGlzdC4uLg0KPiA+IChBdHRhY2hpbmcgdGhlIGxvZ3MgcHJvdmlkZWQgcHJpdmF0ZWx5
IGJ5IEpvYWNoaW0sIHdpdGggdGhlIGNsaWVudCBJUA0KPiA+IC0gdGhlIG9ubHkgcG9zc2libGUg
c2Vuc2l0aXZlIGluZm9ybWF0aXRpb24gLSByZXBsYWNlZCB3aXRoDQo+ID4gWFhYLlhYWC5YWFgu
WFhYKS4NCj4gPg0KPiA+IE9uIFR1ZSwgRmViIDIsIDIwMTYgYXQgMTE6MDggQU0sIEpvYWNoaW0g
QWNodHplaG50ZXIgPGpvYWNoaW1Aa3JhdXQuY2E+DQo+IHdyb3RlOg0KPiA+Pg0KPiA+PiBBcHBs
aWVkIHlvdSBwYXRjaCwgYnVpbHQsIGluc3RhbGxlZCwgYW5kIHRoZW4gdGVzdGVkLiBUaGVyZSB3
YXMgbm8NCj4gPj4gaW1wcm92ZW1lbnQuIEkndmUgYXR0YWNoZWQgdGhlIGxvZyBtZXNzYWdlcyBh
cyAic3NsX2xvZy12Mi50eHQiLg0KPiA+Pg0KPiA+PiBUaGUgSSBjaGFuZ2VkICIjaWYgMCIgdG8g
I2lmIDEiIGFuZCBpdCBpcyBzdGlsbCBub3Qgd29ya2luZy4gVGggZWxvZw0KPiA+PiBtZXNzYWdl
cyBmb3IgdGhpcyBjYXNlIGFyZSBhdHRhY2hlZCBhcyAic3NsX2xvZy12Mi1pZjEudHh0Ii4NCj4g
Pg0KPiA+IFRoZXNlIGxvZ3Mgc2hvdyB0aGF0IHRoZSBmbHVzaCBvbiByZWFkIGlzICpub3QqIG5l
Y2Vzc2FyeSAoYXQgbGVhc3QNCj4gPiBmcm9tIG1vZF9zc2wgUE9WKSwgcHJvdmlkZWQgZWFjaCB3
cml0ZSBpcyBmbHVzaGVkIGR1cmluZyBoYW5kc2hha2UuDQo+ID4gVW5mb3J0dW5hdGVseSBPcGVu
U1NMIGRvZXMgbm90IHNlZW0gdG8gZG8gaXQgYnkgaXRzZWxmOiB0aGVyZSBpcyBubw0KPiA+ICJi
aW9bJXBwXSBvdXQ6IEZMVVNIIiBvdXRzaWRlIGltcGxpY2l0IG9uY2VzIGZyb20NCj4gPiBiaW9f
ZmlsdGVyX291dF93cml0ZSgpLg0KPiA+IFNvIGlmIHRoZSAiI2lmIDEiIHBhdGNoIHNlZW1zIHVu
bmVjZXNzYXJ5LCB0aGUgIiNpZiAwIiBvbmUgbG9va3MgbmVlZGVkLg0KPiA+DQo+ID4+DQo+ID4+
IFNvIGZhciwgdGhlIG9ubHkgdmVyc2lvbiB0aGF0IHdvcmtlZCB3YXMgdGhlIG9sZCBhcHByb2Fj
aCwgdG8gYWx3YXlzDQo+IGZsdXNoDQo+ID4+IGJlZm9yZSBibG9ja2luZyBvbiB0aGUgcmVhZC4N
Cj4gPg0KPiA+IEV2ZXJ5dGhpbmcgaXMgZmx1c2hlZCAoZHVyaW5nIGhhbmRzaGFrZSkgd2l0aCB0
aGlzIG5ldyBwYXRjaCwgaG93ZXZlcg0KPiA+IHdlIGNhbid0IHNheSBhbnl0aGluZyBhYm91dCB0
aGUgSFRUUCByZXNwb25zZSBpdHNlbGYgYXQgdGhlIGVuZCBvZiB0aGUNCj4gPiByZXF1ZXN0ICh0
aGUgZmx1c2hlcyBub3QgaW5pdGlhdGVkIGJ5IG1vZF9zc2wgYXJlIG5vdCBsb2dnZWQgd2l0aCBt
eQ0KPiA+IHBhdGNoLCBub3IgTG9nTGV2ZWwgZGVidWcpLg0KPiA+IEF0dGFjaGVkIGlzICh5ZXQp
IGFub3RoZXIgcGF0Y2ggd2hpY2ggYWxzbyBvdXRwdXRzIE1FVEFEQVRBIGJ1Y2tldHMNCj4gPiBw
YXNzaW5nIHRocm91Z2ggbW9kX3NzbCwgc28gdGhhdCB3ZSBjYW4gc2VlIHdoZXRoZXIgdGhlIEhU
VFAgcmVzcG9uc2UNCj4gPiBpcyBmaW5hbGx5IGZsdXNoZWQgb3Igbm90ICh0aGVyZSB3ZXJlIG90
aGVyIGNoYW5nZXMgaW4gMi40LjE4DQo+ID4gcmVnYXJkaW5nIHRoaXMsIGkuZS4gaW4gY2hlY2tf
cGlwZWxpbmVfZmx1c2gpLg0KPiA+IEEgc2ltdWx0YW5lb3VzIG5ldHdvcmsgY2FwdHVyZSAocGNh
cCkgd291bGQgYWxzbyBiZSB2ZXJ5IHZhbHVhYmxlDQo+ID4gKGJ0dywgd2hlcmUgeW91ciBwcmV2
aW91cyBjYXB0dXJlIHRha2VuIGZyb20sIG9uIHRoZSBzZXJ2ZXIgb3IgY2xpZW50DQo+ID4gc2lk
ZT8pLg0KPiA+IFRoaXMgcGF0Y2ggc2hvdWxkbid0IG1ha2UgaXQgd29yayB0aG91Z2gsIGl0J3Mg
anVzdCBtb3JlIGxvZ2dpbmcgc3R1ZmYNCj4gPiBjb21wYXJlZCB0byB0aGUgcHJldmlvdXMgb25l
LCB1bmxlc3MgbWF5YmUgeW91IGNoYW5nZSB0aGUgbmV3ICIjaWYgMCINCj4gPiAoZWxzZXdoZXJl
IHRoaXMgdGltZSkgdG8gYW4gIiNpZiAxIj8NCj4gPg0KPiA+IFRoYW5rcyAoYWdhaW4pIGZvciB0
ZXN0aW5nIEpvYWNoaW0uDQo+ID4NCj4gPiBSZWdhcmRzLA0KPiA+IFlhbm4uDQo+ID4NCj4gDQo+
IC0tDQo+IGpvYWNoaW1Aa3JhdXQuY2EgaHR0cDovL3d3dy5rcmF1dC5jYQ0K

From dev-return-85401-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 08:45:02 2016
Return-Path: <dev-return-85401-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4908C18844
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 08:45:02 +0000 (UTC)
Received: (qmail 93140 invoked by uid 500); 3 Feb 2016 08:44:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 93058 invoked by uid 500); 3 Feb 2016 08:44:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 93048 invoked by uid 99); 3 Feb 2016 08:44:03 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 08:44:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E1D76C0D7F
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 08:44:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id LSdpRdY-xCOy for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 08:43:53 +0000 (UTC)
Received: from mail-qg0-f53.google.com (mail-qg0-f53.google.com [209.85.192.53])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id D19D9428ED
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 08:43:52 +0000 (UTC)
Received: by mail-qg0-f53.google.com with SMTP id y9so5913945qgd.3
        for <dev@httpd.apache.org>; Wed, 03 Feb 2016 00:43:52 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=+v2i+0kr/RG3vDDQN4FYAqqJ3dKP9oLxr8a0Tcg4JcY=;
        b=XlJdo32DNBX8hwdeOYERgnkPcRf896092Ma72kKxjHUl0pQ78wgFPrzggYf2uzTebd
         ZWBB4AQ25q0Zb2poUg4sNh0JD472djqlkabYTS1nLIGaFdwIHTkf2HCW/e++OFLXKPYP
         RA3CAF8CHwhmhKGQV3NekTFif0lxWDMTNuzZUk+5M2vCudmYVgv6+rPefI8by9VA2SsT
         fQYEkjPZr3xMISYh7T1SOgD8nLqLEyyTLGXs8nhDAwyat9FLipyyq8BmcxG+6ASY0Pva
         lshEh7jXQx0medO4Y2BIJYkQHpts1TXVfqLzWCatKPUUlMndveE1Jiq6azXEcUG3ptgN
         gd3Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=+v2i+0kr/RG3vDDQN4FYAqqJ3dKP9oLxr8a0Tcg4JcY=;
        b=a5inBY9dk+89EpAr9S+T1zY4MYq427J3bSdVql8ACNn1VGlWHEXW0mEZbJk65XtmLg
         WhZSazinxKpAyr7I0X8VIKT7pbwx1K56cB9ghnCjE45XMnparLX6RJbwWSeHHPDIjE53
         vdwvTbJPVk1w6GscEHqZ9+lG/u18402053tLpyicx4Yu+7514oBs50Y5U0GrWzWP2/Eo
         vuHVyJvFTBHDtbGPuszvyChCK6S+bym5T+gHBLJic/6Bf9EMFhRC3aRi52FPj9ZXxTny
         bEtQaTcXtBi2q+FqfhWAtO4FBNSchGzKHXvQhMMg/fBd3pCpP/OGeXTYSOw78NcQcEqD
         DIJg==
X-Gm-Message-State: AG10YORU4Gs739VA8yrIKmId38Br5Uhgfc3peOgW/jFXnHjGPLZVlYy1AMVfvhmZbdC+CRKptvpaItv9HtM1Pg==
MIME-Version: 1.0
X-Received: by 10.140.31.8 with SMTP id e8mr334134qge.14.1454489032674; Wed,
 03 Feb 2016 00:43:52 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 3 Feb 2016 00:43:52 -0800 (PST)
In-Reply-To: <56B19098.4060303@kraut.ca>
References: <56B0803B.6080209@kraut.ca>
	<CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
	<56B19098.4060303@kraut.ca>
Date: Wed, 3 Feb 2016 09:43:52 +0100
Message-ID: <CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Feb 3, 2016 at 6:31 AM, Joachim Achtzehnter <joachim@kraut.ca> wrote:
>
> Attached is file "ssl_log-v3.txt" with the log messages seen when using your
> v3 patch. The other two files are the corresponding Wireshark traces,
> collected on the client-side where Firefox was trying to retrieve the file.

Looks OK on the httpd side now with explicit flushes on write (during
handshake), but the issue seems to be on the client side now.

The "Encrypted Handshake Message" it uses to finalize its handshake
looks really weird, and it doesn't wait for the server to finalize the
handshake before sending the HTTP request (the complete handshake
response will only be read by the client when it expects the HTTP
response).

I can't tell about the underlying HTTP data here, but I suspect there
is more than a single HTTP request sent by the client, which makes
httpd believe requests are pipelined, and hence never flush its output
until the client stops pipelining requests.
The client is now blocked waiting for the first response...

Before 2.4.18, since simply reading on the connection flushed the
output data on the server side, the client had its response while the
server was reading the second (pipelined) request.

I'd need more info to confirm (or invalidate) this, like LogLevel
trace8 (possibly privately, still).

>
> While exploring a final fix for this, can I ask for your opinion about the
> following work-around we currently rely on until there is an official fix.
> We continue to use Apache 2.4.18, but have replaced mod_ssl.so with the one
> from Apache 2.4.12. Is this likely to be safe? or do you not recommend
> mixing versions?

This looks "risky" to me, recompiling 2.4.18 with your original patch
is much better IMHO.

Regards,
Yann.

From dev-return-85402-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 08:52:31 2016
Return-Path: <dev-return-85402-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 646A518893
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 08:52:31 +0000 (UTC)
Received: (qmail 7592 invoked by uid 500); 3 Feb 2016 08:51:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 7517 invoked by uid 500); 3 Feb 2016 08:51:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 7507 invoked by uid 99); 3 Feb 2016 08:51:57 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 08:51:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id A35FF1A011E
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 08:51:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 1SqAzv3OyzhO for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 08:51:54 +0000 (UTC)
Received: from mail-qg0-f54.google.com (mail-qg0-f54.google.com [209.85.192.54])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A18BC2565F
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 08:51:53 +0000 (UTC)
Received: by mail-qg0-f54.google.com with SMTP id u30so11092714qge.1
        for <dev@httpd.apache.org>; Wed, 03 Feb 2016 00:51:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=8x07Nc066ntGi38n8uXEfxWS9LcZyiFBsHTfCLVrNKw=;
        b=u8+KfDpNLC7BxWlO/gKeHFXqTJE78R+tzuQSjyittHAnCvFNIoqErHoX/Hcai6upBj
         h5ziq2i9U/fsoB9ORNr4jcXEXR5rrmsMu8ar8dWgcWO57bWHh9y9hNje0Sp+p+1Gk8jr
         x/mGnQay6qWH6N8I9RZhyQPMn2qWgjsMKyYRwaN7OHozthRwbo8YnT2E+4JRGSN2VoxD
         kp8xCJLLO0dKerE6GR+ibWWh0tFQhoI2jNi7Z7YTiHscdmPIn6Xl9NBKMcpcNseieqL8
         6Z2l4obgZgpi7KTlASumoDJd6G3b3ACqClqq2EnS+WCq1Dg6Deu31DhwAvWmB/6q5P/l
         FkSA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=8x07Nc066ntGi38n8uXEfxWS9LcZyiFBsHTfCLVrNKw=;
        b=cc1QmbJaN5g0e9JwzFqmjRMxNChhv502K37pV8Kc22TKTjltSERIUgy8oqNwzxXuqC
         0uiYxTjDvHn0bWRA+l2OcbUMdVKuw1mfEwK0pr+upGGBHs6/HRJA/n+1XBe1cXK5cU1k
         WXSmLk76OvRdb2fUpO4J6FjXF+w25MpvcRTMzBLWDIB7pRxrTgiWsl3n94C//dqy0BFY
         K/qVl3wnElvPqlx7D2xa2379IaTFRcEJkWPjnRQ1op+O866nZpBc/DfaM1qzm1nZWNCH
         3Zp81zxbX3DbwnhWMuxgKxs79k47iQXICIYcyHY/Jje2eXNTfvUPAuBjTsB5e6W3OdRi
         v4ag==
X-Gm-Message-State: AG10YOSgUs44kMXB9BQc7Xoj5jw6LZgFFu1AXyTGiEpilCkAijPvmuQFBlsbJp6pe8iPE+MeV4Hz0ccMentO2A==
MIME-Version: 1.0
X-Received: by 10.140.43.116 with SMTP id d107mr304173qga.51.1454489512806;
 Wed, 03 Feb 2016 00:51:52 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 3 Feb 2016 00:51:52 -0800 (PST)
In-Reply-To: <CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
References: <56B0803B.6080209@kraut.ca>
	<CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
	<56B19098.4060303@kraut.ca>
	<CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
Date: Wed, 3 Feb 2016 09:51:52 +0100
Message-ID: <CAKQ1sVPn1kPNEDGkLVpfi5Lw0axXsCoUXkexDbb3ZHGdUvwXbg@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Feb 3, 2016 at 9:43 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> I can't tell about the underlying HTTP data here, but I suspect there
> is more than a single HTTP request sent by the client, which makes
> httpd believe requests are pipelined, and hence never flush its output
> until the client stops pipelining requests.
> The client is now blocked waiting for the first response...

I forgot to ask, when it works (either with your patch on 2.4.18 or
with 2.4.12), is the next (keepalive) request triggering an error
message (in the log) or not?

>
> Regards,
> Yann.

From dev-return-85403-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 09:02:50 2016
Return-Path: <dev-return-85403-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 520BC18921
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 09:02:50 +0000 (UTC)
Received: (qmail 29857 invoked by uid 500); 3 Feb 2016 09:02:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29785 invoked by uid 500); 3 Feb 2016 09:02:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29775 invoked by uid 99); 3 Feb 2016 09:02:27 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 09:02:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 6885F1800EE
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 09:02:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_HELO_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id W1jpLTcQeMUc for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 09:02:14 +0000 (UTC)
Received: from mail1.bemta14.messagelabs.com (mail1.bemta14.messagelabs.com [193.109.254.117])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 3615A20CD0
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 09:02:13 +0000 (UTC)
Received: from [193.109.254.3] by server-13.bemta-14.messagelabs.com id 08/14-08347-C02C1B65; Wed, 03 Feb 2016 09:02:04 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-3.tower-184.messagelabs.com!1454490123!21275181!1
X-Originating-IP: [195.232.244.135]
X-StarScan-Received:
X-StarScan-Version: 7.35.1; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 12869 invoked from network); 3 Feb 2016 09:02:03 -0000
Received: from mailout03.vodafone.com (HELO mailout03.vodafone.com) (195.232.244.135)
  by server-3.tower-184.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 3 Feb 2016 09:02:03 -0000
Received: from mailint01.vodafone.com (mailint01.vodafone.com [195.232.244.198])
	by mailout03.vodafone.com (Postfix) with ESMTP id 3pwH7v3MRSz17KhH
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 10:02:03 +0100 (CET)
Received: from mailint01.vodafone.com (localhost [127.0.0.1])
	by mailint01.vodafone.com (Postfix) with ESMTP id 3pwH4S6LGNzxRSR
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 09:59:04 +0100 (CET)
Received: from VOEXC03W.internal.vodafone.com (voexc03w.dc-ratingen.de [145.230.101.23])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint01.vodafone.com (Postfix) with ESMTPS id 3pwH4S5jhfzxRTB
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 09:59:04 +0100 (CET)
Received: from VOEXC29W.internal.vodafone.com (145.230.103.201) by
 VOEXC03W.internal.vodafone.com (145.230.101.23) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Wed, 3 Feb 2016 09:59:03 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.216]) by voexc29w
 ([145.230.103.201]) with mapi id 14.03.0224.002; Wed, 3 Feb 2016 09:59:03
 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: HTTPS connections lock-up with 2.4.18
Thread-Topic: HTTPS connections lock-up with 2.4.18
Thread-Index: AQHRXbe6uEk6ckROb0abdFq6M/zyOZ8Zu/MAgAA/T5CAAAt6AA==
Date: Wed, 3 Feb 2016 08:59:02 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC9FF24FA@VOEXM10W.internal.vodafone.com>
References: <56B0803B.6080209@kraut.ca>
 <CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
 <56B19098.4060303@kraut.ca>
 <AB1691BE05AE7F4992697F2A0835627AC9FF14A7@VOEXM10W.internal.vodafone.com>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC9FF14A7@VOEXM10W.internal.vodafone.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

V2hhdCBpcyB0aGUgc2l6ZSBvZiAvY3NzL3N1YnBhZ2UuY3NzPw0KDQpSZWdhcmRzDQoNClLDvGRp
Z2VyDQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogUGzDvG0sIFLDvGRp
Z2VyLCBWb2RhZm9uZSBHcm91cA0KPiBTZW50OiBNaXR0d29jaCwgMy4gRmVicnVhciAyMDE2IDA5
OjE5DQo+IFRvOiBkZXZAaHR0cGQuYXBhY2hlLm9yZw0KPiBTdWJqZWN0OiBSRTogSFRUUFMgY29u
bmVjdGlvbnMgbG9jay11cCB3aXRoIDIuNC4xOA0KPiANCj4gV2hhdCBpcyB0aGUgY29uZmlndXJh
dGlvbiBvZiB5b3VyIGh0dHBzIGhvc3RzPyBEbyB5b3UgaGF2ZSBtdWx0aXBsZSBuYW1lDQo+IGJh
c2VkIG9uZT8gRGlkIHlvdSBlbmFibGUgbW9kX2h0dHAyPw0KPiANCj4gUmVnYXJkcw0KPiANCj4g
UsO8ZGlnZXINCj4gDQo+ID4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gPiBGcm9tOiBK
b2FjaGltIEFjaHR6ZWhudGVyIFttYWlsdG86am9hY2hpbUBrcmF1dC5jYV0NCj4gPiBTZW50OiBN
aXR0d29jaCwgMy4gRmVicnVhciAyMDE2IDA2OjMxDQo+ID4gVG86IGRldkBodHRwZC5hcGFjaGUu
b3JnDQo+ID4gU3ViamVjdDogUmU6IEhUVFBTIGNvbm5lY3Rpb25zIGxvY2stdXAgd2l0aCAyLjQu
MTgNCj4gPg0KPiA+IEhpIFlhbm4sDQo+ID4NCj4gPiBBdHRhY2hlZCBpcyBmaWxlICJzc2xfbG9n
LXYzLnR4dCIgd2l0aCB0aGUgbG9nIG1lc3NhZ2VzIHNlZW4gd2hlbiB1c2luZw0KPiA+IHlvdXIg
djMgcGF0Y2guIFRoZSBvdGhlciB0d28gZmlsZXMgYXJlIHRoZSBjb3JyZXNwb25kaW5nIFdpcmVz
aGFyaw0KPiA+IHRyYWNlcywgY29sbGVjdGVkIG9uIHRoZSBjbGllbnQtc2lkZSB3aGVyZSBGaXJl
Zm94IHdhcyB0cnlpbmcgdG8NCj4gPiByZXRyaWV2ZSB0aGUgZmlsZS4NCj4gPg0KPiA+IFdoaWxl
IGV4cGxvcmluZyBhIGZpbmFsIGZpeCBmb3IgdGhpcywgY2FuIEkgYXNrIGZvciB5b3VyIG9waW5p
b24gYWJvdXQNCj4gPiB0aGUgZm9sbG93aW5nIHdvcmstYXJvdW5kIHdlIGN1cnJlbnRseSByZWx5
IG9uIHVudGlsIHRoZXJlIGlzIGFuDQo+ID4gb2ZmaWNpYWwgZml4LiBXZSBjb250aW51ZSB0byB1
c2UgQXBhY2hlIDIuNC4xOCwgYnV0IGhhdmUgcmVwbGFjZWQNCj4gPiBtb2Rfc3NsLnNvIHdpdGgg
dGhlIG9uZSBmcm9tIEFwYWNoZSAyLjQuMTIuIElzIHRoaXMgbGlrZWx5IHRvIGJlIHNhZmU/DQo+
ID4gb3IgZG8geW91IG5vdCByZWNvbW1lbmQgbWl4aW5nIHZlcnNpb25zPw0KPiA+DQo+ID4gVGhh
bmtzLA0KPiA+DQo+ID4gSm9hY2hpbQ0KPiA+DQo+ID4NCj4gPg0KPiA+IE9uIDIwMTYtMDItMDIg
NDo0NiwgWWFubiBZbGF2aWMgd3JvdGU6DQo+ID4gPiBCYWNrIHRvIHRoZSBsaXN0Li4uDQo+ID4g
PiAoQXR0YWNoaW5nIHRoZSBsb2dzIHByb3ZpZGVkIHByaXZhdGVseSBieSBKb2FjaGltLCB3aXRo
IHRoZSBjbGllbnQgSVANCj4gPiA+IC0gdGhlIG9ubHkgcG9zc2libGUgc2Vuc2l0aXZlIGluZm9y
bWF0aXRpb24gLSByZXBsYWNlZCB3aXRoDQo+ID4gPiBYWFguWFhYLlhYWC5YWFgpLg0KPiA+ID4N
Cj4gPiA+IE9uIFR1ZSwgRmViIDIsIDIwMTYgYXQgMTE6MDggQU0sIEpvYWNoaW0gQWNodHplaG50
ZXINCj4gPGpvYWNoaW1Aa3JhdXQuY2E+DQo+ID4gd3JvdGU6DQo+ID4gPj4NCj4gPiA+PiBBcHBs
aWVkIHlvdSBwYXRjaCwgYnVpbHQsIGluc3RhbGxlZCwgYW5kIHRoZW4gdGVzdGVkLiBUaGVyZSB3
YXMgbm8NCj4gPiA+PiBpbXByb3ZlbWVudC4gSSd2ZSBhdHRhY2hlZCB0aGUgbG9nIG1lc3NhZ2Vz
IGFzICJzc2xfbG9nLXYyLnR4dCIuDQo+ID4gPj4NCj4gPiA+PiBUaGUgSSBjaGFuZ2VkICIjaWYg
MCIgdG8gI2lmIDEiIGFuZCBpdCBpcyBzdGlsbCBub3Qgd29ya2luZy4gVGggZWxvZw0KPiA+ID4+
IG1lc3NhZ2VzIGZvciB0aGlzIGNhc2UgYXJlIGF0dGFjaGVkIGFzICJzc2xfbG9nLXYyLWlmMS50
eHQiLg0KPiA+ID4NCj4gPiA+IFRoZXNlIGxvZ3Mgc2hvdyB0aGF0IHRoZSBmbHVzaCBvbiByZWFk
IGlzICpub3QqIG5lY2Vzc2FyeSAoYXQgbGVhc3QNCj4gPiA+IGZyb20gbW9kX3NzbCBQT1YpLCBw
cm92aWRlZCBlYWNoIHdyaXRlIGlzIGZsdXNoZWQgZHVyaW5nIGhhbmRzaGFrZS4NCj4gPiA+IFVu
Zm9ydHVuYXRlbHkgT3BlblNTTCBkb2VzIG5vdCBzZWVtIHRvIGRvIGl0IGJ5IGl0c2VsZjogdGhl
cmUgaXMgbm8NCj4gPiA+ICJiaW9bJXBwXSBvdXQ6IEZMVVNIIiBvdXRzaWRlIGltcGxpY2l0IG9u
Y2VzIGZyb20NCj4gPiA+IGJpb19maWx0ZXJfb3V0X3dyaXRlKCkuDQo+ID4gPiBTbyBpZiB0aGUg
IiNpZiAxIiBwYXRjaCBzZWVtcyB1bm5lY2Vzc2FyeSwgdGhlICIjaWYgMCIgb25lIGxvb2tzDQo+
IG5lZWRlZC4NCj4gPiA+DQo+ID4gPj4NCj4gPiA+PiBTbyBmYXIsIHRoZSBvbmx5IHZlcnNpb24g
dGhhdCB3b3JrZWQgd2FzIHRoZSBvbGQgYXBwcm9hY2gsIHRvIGFsd2F5cw0KPiA+IGZsdXNoDQo+
ID4gPj4gYmVmb3JlIGJsb2NraW5nIG9uIHRoZSByZWFkLg0KPiA+ID4NCj4gPiA+IEV2ZXJ5dGhp
bmcgaXMgZmx1c2hlZCAoZHVyaW5nIGhhbmRzaGFrZSkgd2l0aCB0aGlzIG5ldyBwYXRjaCwgaG93
ZXZlcg0KPiA+ID4gd2UgY2FuJ3Qgc2F5IGFueXRoaW5nIGFib3V0IHRoZSBIVFRQIHJlc3BvbnNl
IGl0c2VsZiBhdCB0aGUgZW5kIG9mIHRoZQ0KPiA+ID4gcmVxdWVzdCAodGhlIGZsdXNoZXMgbm90
IGluaXRpYXRlZCBieSBtb2Rfc3NsIGFyZSBub3QgbG9nZ2VkIHdpdGggbXkNCj4gPiA+IHBhdGNo
LCBub3IgTG9nTGV2ZWwgZGVidWcpLg0KPiA+ID4gQXR0YWNoZWQgaXMgKHlldCkgYW5vdGhlciBw
YXRjaCB3aGljaCBhbHNvIG91dHB1dHMgTUVUQURBVEEgYnVja2V0cw0KPiA+ID4gcGFzc2luZyB0
aHJvdWdoIG1vZF9zc2wsIHNvIHRoYXQgd2UgY2FuIHNlZSB3aGV0aGVyIHRoZSBIVFRQIHJlc3Bv
bnNlDQo+ID4gPiBpcyBmaW5hbGx5IGZsdXNoZWQgb3Igbm90ICh0aGVyZSB3ZXJlIG90aGVyIGNo
YW5nZXMgaW4gMi40LjE4DQo+ID4gPiByZWdhcmRpbmcgdGhpcywgaS5lLiBpbiBjaGVja19waXBl
bGluZV9mbHVzaCkuDQo+ID4gPiBBIHNpbXVsdGFuZW91cyBuZXR3b3JrIGNhcHR1cmUgKHBjYXAp
IHdvdWxkIGFsc28gYmUgdmVyeSB2YWx1YWJsZQ0KPiA+ID4gKGJ0dywgd2hlcmUgeW91ciBwcmV2
aW91cyBjYXB0dXJlIHRha2VuIGZyb20sIG9uIHRoZSBzZXJ2ZXIgb3IgY2xpZW50DQo+ID4gPiBz
aWRlPykuDQo+ID4gPiBUaGlzIHBhdGNoIHNob3VsZG4ndCBtYWtlIGl0IHdvcmsgdGhvdWdoLCBp
dCdzIGp1c3QgbW9yZSBsb2dnaW5nIHN0dWZmDQo+ID4gPiBjb21wYXJlZCB0byB0aGUgcHJldmlv
dXMgb25lLCB1bmxlc3MgbWF5YmUgeW91IGNoYW5nZSB0aGUgbmV3ICIjaWYgMCINCj4gPiA+IChl
bHNld2hlcmUgdGhpcyB0aW1lKSB0byBhbiAiI2lmIDEiPw0KPiA+ID4NCj4gPiA+IFRoYW5rcyAo
YWdhaW4pIGZvciB0ZXN0aW5nIEpvYWNoaW0uDQo+ID4gPg0KPiA+ID4gUmVnYXJkcywNCj4gPiA+
IFlhbm4uDQo+ID4gPg0KPiA+DQo+ID4gLS0NCj4gPiBqb2FjaGltQGtyYXV0LmNhIGh0dHA6Ly93
d3cua3JhdXQuY2ENCg==

From dev-return-85404-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 09:14:19 2016
Return-Path: <dev-return-85404-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BA591189BC
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 09:14:19 +0000 (UTC)
Received: (qmail 58208 invoked by uid 500); 3 Feb 2016 09:14:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58129 invoked by uid 500); 3 Feb 2016 09:14:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58119 invoked by uid 99); 3 Feb 2016 09:14:19 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 09:14:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id BB3CC1A027B
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 09:14:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.454
X-Spam-Level: ***
X-Spam-Status: No, score=3.454 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.545, SPF_PASS=-0.001, URIBL_SBL=4, URIBL_SBL_A=0.1]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=kraut.ca
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id V8RcZ3jKNz5V for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 09:14:17 +0000 (UTC)
Received: from penguin.kraut.ca (penguin.kraut.ca [96.53.60.142])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5572D20CDE
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 09:14:17 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=kraut.ca;
	 s=20151017; h=Subject:Content-Transfer-Encoding:Content-Type:In-Reply-To:
	References:To:MIME-Version:From:Date:Message-ID;
	bh=YYYiJw55dYzsQbtSy2lKfUicfn+Kv6V/+PSYssnQJG8=; b=oobof3m3WO4pqDXpitVkPHdN9T
	czW04A7yrVQgSCPgDqtueleKcAagNvnVILheQ3EXjgRKkbl47PNXS7uhvhASrHaYi3d3IZBZA3/Hl
	FFz0wM4wMPbSyXHC3RBQQ0y9e5r3EH0asQ1w7WAM7ub9jFx9F88003zDYhq52LD6JvRc=;
Received: from [2001:470:b:7cf:d90a:c070:9423:d730]
	by penguin.kraut.ca with esmtpsa (TLS1.0:ECDHE_RSA_AES_128_CBC_SHA1:128)
	(Exim 4.86)
	(envelope-from <joachim@kraut.ca>)
	id 1aQtVs-00070A-Na
	for dev@httpd.apache.org; Wed, 03 Feb 2016 01:14:16 -0800
Message-ID: <56B1C4E9.3050306@kraut.ca>
Date: Wed, 03 Feb 2016 01:14:17 -0800
From: Joachim Achtzehnter <joachim@kraut.ca>
User-Agent: Mozilla/5.0 (Windows NT 6.3; WOW64; rv:24.0) Gecko/20100101 Thunderbird/24.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
References: <56B0803B.6080209@kraut.ca>	<CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>	<56B19098.4060303@kraut.ca> <CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
In-Reply-To: <CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 2001:470:b:7cf:d90a:c070:9423:d730
X-SA-Exim-Mail-From: joachim@kraut.ca
Subject: Re: HTTPS connections lock-up with 2.4.18
X-SA-Exim-Version: 4.2.1 (built Mon, 06 Jul 2015 07:28:29 +0000)
X-SA-Exim-Scanned: Yes (on penguin.kraut.ca)

Late at night here and I'm not at work, but see the embedded responses 
to clarify some things...

On 2016-02-03 12:43 AM, Yann Ylavic wrote:
> On Wed, Feb 3, 2016 at 6:31 AM, Joachim Achtzehnter <joachim@kraut.ca> wrote:
>>
>> Attached is file "ssl_log-v3.txt" with the log messages seen when using your
>> v3 patch. The other two files are the corresponding Wireshark traces,
>> collected on the client-side where Firefox was trying to retrieve the file.
>
> Looks OK on the httpd side now with explicit flushes on write (during
> handshake), but the issue seems to be on the client side now.
>
> The "Encrypted Handshake Message" it uses to finalize its handshake
> looks really weird, and it doesn't wait for the server to finalize the
> handshake before sending the HTTP request (the complete handshake
> response will only be read by the client when it expects the HTTP
> response).
>
> I can't tell about the underlying HTTP data here, but I suspect there
> is more than a single HTTP request sent by the client,

No, there is definitely only one request for this test. In the real 
application there is an HTML page, which triggers multiple requests for 
style sheets, scripts, images, etc., and these may well be pipelined or 
submitted via parallel connections. This still locked-up, 100% 
reproducible. The test I use to collect the traces and logs is 
retrieving a single small style sheet. No other files are involved. In 
order to allow Wireshark to decrypt the SSL data I used Firefox, but for 
my own testing and debugging I usually submit the request with curl. The 
outcome is the same with both Firefox and curl.

> which makes httpd believe requests are pipelined,

How does it make this determination?

> and hence never  flush its output
> until the client stops pipelining requests.
> The client is now blocked waiting for the first response...

Yes, it is waiting forever.

> Before 2.4.18, since simply reading on the connection flushed the
> output data on the server side, the client had its response while the
> server was reading the second (pipelined) request.

Except that in this test there is no second request.

Some more details: The application offer the exact same Web 
functionality in one of two modes:

1) HTTP only, configuration does not use virtual hosts

2) HTTPS with HTTP redirected to the corresponding HTTPS URL. The exact 
same functionality as above is now defined in a virtual host for port 
number 443. The virtual host for port number 80 simply sends a redirect 
response back to the client.

With Apache 2.4.12 this all works. After upgrading to 2.4.18 mode 1 
still works perfectly, but with mode 2 some https requests never get a 
response and the application stalls.

> I'd need more info to confirm (or invalidate) this, like LogLevel
> trace8 (possibly privately, still).
>
>>
>> While exploring a final fix for this, can I ask for your opinion about the
>> following work-around we currently rely on until there is an official fix.
>> We continue to use Apache 2.4.18, but have replaced mod_ssl.so with the one
>> from Apache 2.4.12. Is this likely to be safe? or do you not recommend
>> mixing versions?
>
> This looks "risky" to me, recompiling 2.4.18 with your original patch
> is much better IMHO.

Thanks,

Joachim


> Regards,
> Yann.
>

From dev-return-85405-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 09:20:04 2016
Return-Path: <dev-return-85405-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 50E24189E8
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 09:20:04 +0000 (UTC)
Received: (qmail 70186 invoked by uid 500); 3 Feb 2016 09:20:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70109 invoked by uid 500); 3 Feb 2016 09:20:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70099 invoked by uid 99); 3 Feb 2016 09:20:03 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 09:20:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5B0F41A045C
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 09:20:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.454
X-Spam-Level: ***
X-Spam-Status: No, score=3.454 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.545, SPF_PASS=-0.001, URIBL_SBL=4, URIBL_SBL_A=0.1]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=kraut.ca
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id BFt95JP98d-d for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 09:20:02 +0000 (UTC)
Received: from penguin.kraut.ca (penguin.kraut.ca [96.53.60.142])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 294D720CD0
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 09:20:02 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=kraut.ca;
	 s=20151017; h=Subject:Content-Transfer-Encoding:Content-Type:In-Reply-To:
	References:To:MIME-Version:From:Date:Message-ID;
	bh=TFBpJpD5Ou0AOxPtS7qcJZSuPwEw8znBhd3yJRG2dtk=; b=Rv8WpaN0Sylmw+AL/nf/0tmmlG
	AgVdXDpPD0IqoPKZaE1fl4tzvwxjl6Z0mXaNoUbkwjm4ZdWL56NkiDUK8WrXVdg58oUt4U6PgbN5u
	tq0J6U+AjVROOY0erePCNtUQyUDVnYAToOjv/vihYZ0Rw5SkgkcwCcjaeOBu7+TGgVbI=;
Received: from [2001:470:b:7cf:4520:36b:400d:d2c8]
	by penguin.kraut.ca with esmtpsa (TLS1.0:ECDHE_RSA_AES_128_CBC_SHA1:128)
	(Exim 4.86)
	(envelope-from <joachim@kraut.ca>)
	id 1aQtbU-00070R-Lo
	for dev@httpd.apache.org; Wed, 03 Feb 2016 01:20:02 -0800
Message-ID: <56B1C649.7050609@kraut.ca>
Date: Wed, 03 Feb 2016 01:20:09 -0800
From: Joachim Achtzehnter <joachim@kraut.ca>
User-Agent: Mozilla/5.0 (Windows NT 6.3; WOW64; rv:24.0) Gecko/20100101 Thunderbird/24.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
References: <56B0803B.6080209@kraut.ca> <CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com> <56B19098.4060303@kraut.ca> <AB1691BE05AE7F4992697F2A0835627AC9FF14A7@VOEXM10W.internal.vodafone.com> <AB1691BE05AE7F4992697F2A0835627AC9FF24FA@VOEXM10W.internal.vodafone.com>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC9FF24FA@VOEXM10W.internal.vodafone.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-SA-Exim-Connect-IP: 2001:470:b:7cf:4520:36b:400d:d2c8
X-SA-Exim-Mail-From: joachim@kraut.ca
Subject: Re: HTTPS connections lock-up with 2.4.18
X-SA-Exim-Version: 4.2.1 (built Mon, 06 Jul 2015 07:28:29 +0000)
X-SA-Exim-Scanned: Yes (on penguin.kraut.ca)

On 2016-02-03 12:59 AM, Plm, Rdiger, Vodafone Group wrote:
> What is the size of /css/subpage.css?

It is fairly small, 1698 bytes to be exact. As I wrote in an earlier 
message, it seems that the problem happens with smaller files, but not 
with bigger files. Another file that fails consistently has a size of 
2509 bytes. Three files that work consistently are 3991, 6478, and 
1239621 bytes long, respectively. Might there be something special going 
on if the response, headers plus data, fits in a single bucket?

Thanks,

Joachim


> Regards
>
> Rdiger
>
>> -----Original Message-----
>> From: Plm, Rdiger, Vodafone Group
>> Sent: Mittwoch, 3. Februar 2016 09:19
>> To: dev@httpd.apache.org
>> Subject: RE: HTTPS connections lock-up with 2.4.18
>>
>> What is the configuration of your https hosts? Do you have multiple name
>> based one? Did you enable mod_http2?
>>
>> Regards
>>
>> Rdiger
>>
>>> -----Original Message-----
>>> From: Joachim Achtzehnter [mailto:joachim@kraut.ca]
>>> Sent: Mittwoch, 3. Februar 2016 06:31
>>> To: dev@httpd.apache.org
>>> Subject: Re: HTTPS connections lock-up with 2.4.18
>>>
>>> Hi Yann,
>>>
>>> Attached is file "ssl_log-v3.txt" with the log messages seen when using
>>> your v3 patch. The other two files are the corresponding Wireshark
>>> traces, collected on the client-side where Firefox was trying to
>>> retrieve the file.
>>>
>>> While exploring a final fix for this, can I ask for your opinion about
>>> the following work-around we currently rely on until there is an
>>> official fix. We continue to use Apache 2.4.18, but have replaced
>>> mod_ssl.so with the one from Apache 2.4.12. Is this likely to be safe?
>>> or do you not recommend mixing versions?
>>>
>>> Thanks,
>>>
>>> Joachim
>>>
>>>
>>>
>>> On 2016-02-02 4:46, Yann Ylavic wrote:
>>>> Back to the list...
>>>> (Attaching the logs provided privately by Joachim, with the client IP
>>>> - the only possible sensitive informatition - replaced with
>>>> XXX.XXX.XXX.XXX).
>>>>
>>>> On Tue, Feb 2, 2016 at 11:08 AM, Joachim Achtzehnter
>> <joachim@kraut.ca>
>>> wrote:
>>>>>
>>>>> Applied you patch, built, installed, and then tested. There was no
>>>>> improvement. I've attached the log messages as "ssl_log-v2.txt".
>>>>>
>>>>> The I changed "#if 0" to #if 1" and it is still not working. Th elog
>>>>> messages for this case are attached as "ssl_log-v2-if1.txt".
>>>>
>>>> These logs show that the flush on read is *not* necessary (at least
>>>> from mod_ssl POV), provided each write is flushed during handshake.
>>>> Unfortunately OpenSSL does not seem to do it by itself: there is no
>>>> "bio[%pp] out: FLUSH" outside implicit onces from
>>>> bio_filter_out_write().
>>>> So if the "#if 1" patch seems unnecessary, the "#if 0" one looks
>> needed.
>>>>
>>>>>
>>>>> So far, the only version that worked was the old approach, to always
>>> flush
>>>>> before blocking on the read.
>>>>
>>>> Everything is flushed (during handshake) with this new patch, however
>>>> we can't say anything about the HTTP response itself at the end of the
>>>> request (the flushes not initiated by mod_ssl are not logged with my
>>>> patch, nor LogLevel debug).
>>>> Attached is (yet) another patch which also outputs METADATA buckets
>>>> passing through mod_ssl, so that we can see whether the HTTP response
>>>> is finally flushed or not (there were other changes in 2.4.18
>>>> regarding this, i.e. in check_pipeline_flush).
>>>> A simultaneous network capture (pcap) would also be very valuable
>>>> (btw, where your previous capture taken from, on the server or client
>>>> side?).
>>>> This patch shouldn't make it work though, it's just more logging stuff
>>>> compared to the previous one, unless maybe you change the new "#if 0"
>>>> (elsewhere this time) to an "#if 1"?
>>>>
>>>> Thanks (again) for testing Joachim.
>>>>
>>>> Regards,
>>>> Yann.
>>>>
>>>
>>> --
>>> joachim@kraut.ca http://www.kraut.ca

From dev-return-85406-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 10:22:15 2016
Return-Path: <dev-return-85406-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CB5BA18CDF
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 10:22:15 +0000 (UTC)
Received: (qmail 7973 invoked by uid 500); 3 Feb 2016 10:22:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 7909 invoked by uid 500); 3 Feb 2016 10:22:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 7890 invoked by uid 99); 3 Feb 2016 10:22:12 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 10:22:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id AA7E0C1B97
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 10:22:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.298
X-Spam-Level: ***
X-Spam-Status: No, score=3.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001,
	URIBL_SBL=4, URIBL_SBL_A=0.1] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id uY4IIUuxAdvX for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 10:22:10 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 9E817207E1
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 10:22:10 +0000 (UTC)
Received: by mail-qg0-f52.google.com with SMTP id b35so12328622qge.0
        for <dev@httpd.apache.org>; Wed, 03 Feb 2016 02:22:10 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Rhox+uAf2mtYTFeoAofnMRq6Z82I1UINmvI92ykluBE=;
        b=ZQpEAhAoI7tkYJwgsV6GBHk3aeK0GFkdmvHsKl1a+6qwBs4y96ZWmyXc1ffm/I9Nsi
         HOiY2MMBNDMRKeLZJ310qfHaLGqW0AI9IOVcZJwTrUFGmQjYKtpnz4/v+kqlySfxAhCo
         1o8VVRfP+H5QoUNGHRvE2fNLLIUnESxjUXn/NfhqpBM+nsADkdw0YN7qgvWhvLLoTK1M
         eT298E/vzWEmM2hVzKF9bFe1V9GEjTP5pOfUVJPPtj5vx1VlY+9TyhYw7xSIvh3WLfVg
         FWyXXIKe51zM20VKgp0SpOFL+dZLEx+6KQRO5oNyUGvk0ZbsulL1CAOsUkOmHTY8Jeu9
         asUg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=Rhox+uAf2mtYTFeoAofnMRq6Z82I1UINmvI92ykluBE=;
        b=JBQIQHDVNI2xEUD95Pr7Lk3a9LqWCW/W2CezKva18Wbe/Booq8ZrBC37/l37PgenRI
         DOL2xwRDU7v6zgeZB6tBxdHhakPDjWGhnpQJgzl3C3TpSHRkzpKjXr1sFnofXkIuJArp
         gQa6LLAshuFN1yGf9y3Ud1ztD5D9Mh1z/66EP6iNN6rTLp4MVNOOmIOiWO0j9G65ogo3
         1z6tYEbkYN1s6Z9YUTO8nB9YMUspxtnPAcK+WLxiEMB4qXp7LzRug7KpkH/EmvbmHuBu
         ENTD6M/b7QmQmc7js4m2nPtoHrTBxLR5UFjmEWI/bZ0FSy7Yh2vbstEDFl+usmKgMFwY
         fobA==
X-Gm-Message-State: AG10YOQaLMMsdmPszewcnukAycc+fRfH/JbUWG14bhuaXYvP4YM+tXtTOGZnibBtyfr86YHTcqeQaNlxphQUDw==
MIME-Version: 1.0
X-Received: by 10.140.43.116 with SMTP id d107mr622835qga.51.1454494929851;
 Wed, 03 Feb 2016 02:22:09 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 3 Feb 2016 02:22:09 -0800 (PST)
In-Reply-To: <56B1C4E9.3050306@kraut.ca>
References: <56B0803B.6080209@kraut.ca>
	<CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
	<56B19098.4060303@kraut.ca>
	<CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
	<56B1C4E9.3050306@kraut.ca>
Date: Wed, 3 Feb 2016 11:22:09 +0100
Message-ID: <CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Feb 3, 2016 at 10:14 AM, Joachim Achtzehnter <joachim@kraut.ca> wrote:
> Late at night here and I'm not at work, but see the embedded responses to
> clarify some things...
>
> On 2016-02-03 12:43 AM, Yann Ylavic wrote:
>>
>> I can't tell about the underlying HTTP data here, but I suspect there
>> is more than a single HTTP request sent by the client,

Actually I didn't notice that ssltrace-v3.txt contained the plain HTTP
request (thought it was the text version of the raw capture).

>
> No, there is definitely only one request for this test. In the real
> application there is an HTML page, which triggers multiple requests for
> style sheets, scripts, images, etc., and these may well be pipelined or
> submitted via parallel connections. This still locked-up, 100% reproducible.
> The test I use to collect the traces and logs is retrieving a single small
> style sheet. No other files are involved. In order to allow Wireshark to
> decrypt the SSL data I used Firefox, but for my own testing and debugging I
> usually submit the request with curl. The outcome is the same with both
> Firefox and curl.

OK, so there must be an issue in the check_pipeline() function...

>
>> which makes httpd believe requests are pipelined,
>
>
> How does it make this determination?

By reading the pipe (non-blocking) before entering keepalive state,
and if that succeeds (ignoring blank lines since 2.4.18, another
change introduced in this version) the next request is processed
immediatly without flushing output.
IOW, pipelined requests imply batched responses.

Could you please provide the output of this new patch on top of the
previous (latest) one?

Index: modules/http/http_request.c
===================================================================
--- modules/http/http_request.c    (revision 1727923)
+++ modules/http/http_request.c    (working copy)
@@ -254,6 +254,10 @@ static void check_pipeline(conn_rec *c, apr_bucket
                               "Can't consume pipelined empty lines");
                 c->keepalive = AP_CONN_CLOSE;
             }
+            else {
+                ap_log_cerror(APLOG_MARK, APLOG_NOTICE, rv, c,
+                              "check_pipeline: no data");
+            }
             break;
         }

@@ -284,6 +288,10 @@ static void check_pipeline(conn_rec *c, apr_bucket
             break;
         }

+        ap_log_cerror(APLOG_MARK, APLOG_NOTICE, rv, c,
+                      "check_pipeline: got 0x%x",
+                      (int)(cr ? buf[1] : buf[0]));
+
         if (mode == AP_MODE_READBYTES) {
             mode = AP_MODE_SPECULATIVE;
             cr = 0;
@@ -319,6 +327,11 @@ static void check_pipeline(conn_rec *c, apr_bucket
             c->keepalive = AP_CONN_CLOSE;
         }
     }
+
+    ap_log_cerror(APLOG_MARK, APLOG_NOTICE, rv, c,
+                  "check_pipeline: data_in_input_filters = %i",
+                  c->data_in_input_filters);
+
 }

--

Thanks,
Yann.

From dev-return-85407-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 10:31:52 2016
Return-Path: <dev-return-85407-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D3C9618D33
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 10:31:52 +0000 (UTC)
Received: (qmail 26174 invoked by uid 500); 3 Feb 2016 10:31:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26100 invoked by uid 500); 3 Feb 2016 10:31:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26090 invoked by uid 99); 3 Feb 2016 10:31:45 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 10:31:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 62DB81A039E
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 10:31:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.798
X-Spam-Level: **
X-Spam-Status: No, score=2.798 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_MED=-2.3,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_HELO_PASS=-0.001, URIBL_SBL=4,
	URIBL_SBL_A=0.1] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id zMd69Gnxwu0q for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 10:31:43 +0000 (UTC)
Received: from mail1.bemta14.messagelabs.com (mail1.bemta14.messagelabs.com [193.109.254.119])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 9866220CD0
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 10:31:42 +0000 (UTC)
Received: from [193.109.255.99] by server-15.bemta-14.messagelabs.com id 06/11-10115-607D1B65; Wed, 03 Feb 2016 10:31:34 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-2.tower-48.messagelabs.com!1454495493!24423650!1
X-Originating-IP: [195.232.244.133]
X-StarScan-Received:
X-StarScan-Version: 7.35.1; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 438 invoked from network); 3 Feb 2016 10:31:33 -0000
Received: from mailout01.vodafone.com (HELO mailout01.vodafone.com) (195.232.244.133)
  by server-2.tower-48.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 3 Feb 2016 10:31:33 -0000
Received: from mailint04.vodafone.com (mailint04.vodafone.com [195.232.244.201])
	by mailout01.vodafone.com (Postfix) with ESMTP id 3pwK793LgXz1yL4
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 11:31:33 +0100 (CET)
Received: from mailint04.vodafone.com (localhost [127.0.0.1])
	by mailint04.vodafone.com (Postfix) with ESMTP id 3pwK530Ywdzfb5x
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 11:29:43 +0100 (CET)
Received: from VOEXC04W.internal.vodafone.com (voexc04w.dc-ratingen.de [145.230.101.24])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint04.vodafone.com (Postfix) with ESMTPS id 3pwK530CX4zfb1X
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 11:29:43 +0100 (CET)
Received: from VOEXC20W.internal.vodafone.com (145.230.103.125) by
 VOEXC04W.internal.vodafone.com (145.230.101.24) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Wed, 3 Feb 2016 11:29:42 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.216]) by
 VOEXC20W.internal.vodafone.com ([145.230.103.125]) with mapi id
 14.03.0224.002; Wed, 3 Feb 2016 11:29:41 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: HTTPS connections lock-up with 2.4.18
Thread-Topic: HTTPS connections lock-up with 2.4.18
Thread-Index: AQHRXbe6uEk6ckROb0abdFq6M/zyOZ8Zu/MAgAA13gCAAAh/gIAAEvaAgAASLFA=
Date: Wed, 3 Feb 2016 10:29:41 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
References: <56B0803B.6080209@kraut.ca>
	<CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
	<56B19098.4060303@kraut.ca>
	<CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
	<56B1C4E9.3050306@kraut.ca>
 <CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
In-Reply-To: <CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

V2hpY2ggTVBNIGlzIHVzZWQ/IEV2ZW50IG9yIHNvbWV0aGluZyBkaWZmZXJlbnQ/DQpUaGVyZSBh
IGRpZmZlcmVuY2VzIG9uIGhvdyBjLT5kYXRhX2luX2lucHV0X2ZpbHRlcnMgaXMgaGFuZGxlZCBi
eSBkaWZmZXJlbnQgTVBNJ3MuDQpPbiBzeW5jIE1QTSdzIGxpa2Ugd29ya2VyIHRoZXJlIGlzIGFu
IGV4cGxpY2l0IGZsdXNoIGlmIGMtPmRhdGFfaW5faW5wdXRfZmlsdGVycyBpcyB6ZXJvLA0KdGhl
IGV2ZW50IE1QTSB0aG91Z2ggb25seSByZWxpZXMgb24gV1JJVEVfQ09NUExFVElPTi4NCklmIGV2
ZW50IGlzIHVzZWQsIGRvZXMgc3dpdGNoaW5nIHRvIHdvcmtlciBNUE0gbWFrZSB0aGUgaXNzdWUg
Z28gYXdheT8NCg0KUmVnYXJkcw0KDQpSw7xkaWdlcg0KDQo+IC0tLS0tT3JpZ2luYWwgTWVzc2Fn
ZS0tLS0tDQo+IEZyb206IFlhbm4gWWxhdmljIFttYWlsdG86eWxhdmljLmRldkBnbWFpbC5jb21d
DQo+IFNlbnQ6IE1pdHR3b2NoLCAzLiBGZWJydWFyIDIwMTYgMTE6MjINCj4gVG86IGh0dHBkLWRl
dg0KPiBTdWJqZWN0OiBSZTogSFRUUFMgY29ubmVjdGlvbnMgbG9jay11cCB3aXRoIDIuNC4xOA0K
PiANCj4gT24gV2VkLCBGZWIgMywgMjAxNiBhdCAxMDoxNCBBTSwgSm9hY2hpbSBBY2h0emVobnRl
ciA8am9hY2hpbUBrcmF1dC5jYT4NCj4gd3JvdGU6DQo+ID4gTGF0ZSBhdCBuaWdodCBoZXJlIGFu
ZCBJJ20gbm90IGF0IHdvcmssIGJ1dCBzZWUgdGhlIGVtYmVkZGVkIHJlc3BvbnNlcw0KPiB0bw0K
PiA+IGNsYXJpZnkgc29tZSB0aGluZ3MuLi4NCj4gPg0KPiA+IE9uIDIwMTYtMDItMDMgMTI6NDMg
QU0sIFlhbm4gWWxhdmljIHdyb3RlOg0KPiA+Pg0KPiA+PiBJIGNhbid0IHRlbGwgYWJvdXQgdGhl
IHVuZGVybHlpbmcgSFRUUCBkYXRhIGhlcmUsIGJ1dCBJIHN1c3BlY3QgdGhlcmUNCj4gPj4gaXMg
bW9yZSB0aGFuIGEgc2luZ2xlIEhUVFAgcmVxdWVzdCBzZW50IGJ5IHRoZSBjbGllbnQsDQo+IA0K
PiBBY3R1YWxseSBJIGRpZG4ndCBub3RpY2UgdGhhdCBzc2x0cmFjZS12My50eHQgY29udGFpbmVk
IHRoZSBwbGFpbiBIVFRQDQo+IHJlcXVlc3QgKHRob3VnaHQgaXQgd2FzIHRoZSB0ZXh0IHZlcnNp
b24gb2YgdGhlIHJhdyBjYXB0dXJlKS4NCj4gDQo+ID4NCj4gPiBObywgdGhlcmUgaXMgZGVmaW5p
dGVseSBvbmx5IG9uZSByZXF1ZXN0IGZvciB0aGlzIHRlc3QuIEluIHRoZSByZWFsDQo+ID4gYXBw
bGljYXRpb24gdGhlcmUgaXMgYW4gSFRNTCBwYWdlLCB3aGljaCB0cmlnZ2VycyBtdWx0aXBsZSBy
ZXF1ZXN0cyBmb3INCj4gPiBzdHlsZSBzaGVldHMsIHNjcmlwdHMsIGltYWdlcywgZXRjLiwgYW5k
IHRoZXNlIG1heSB3ZWxsIGJlIHBpcGVsaW5lZCBvcg0KPiA+IHN1Ym1pdHRlZCB2aWEgcGFyYWxs
ZWwgY29ubmVjdGlvbnMuIFRoaXMgc3RpbGwgbG9ja2VkLXVwLCAxMDAlDQo+IHJlcHJvZHVjaWJs
ZS4NCj4gPiBUaGUgdGVzdCBJIHVzZSB0byBjb2xsZWN0IHRoZSB0cmFjZXMgYW5kIGxvZ3MgaXMg
cmV0cmlldmluZyBhIHNpbmdsZQ0KPiBzbWFsbA0KPiA+IHN0eWxlIHNoZWV0LiBObyBvdGhlciBm
aWxlcyBhcmUgaW52b2x2ZWQuIEluIG9yZGVyIHRvIGFsbG93IFdpcmVzaGFyayB0bw0KPiA+IGRl
Y3J5cHQgdGhlIFNTTCBkYXRhIEkgdXNlZCBGaXJlZm94LCBidXQgZm9yIG15IG93biB0ZXN0aW5n
IGFuZA0KPiBkZWJ1Z2dpbmcgSQ0KPiA+IHVzdWFsbHkgc3VibWl0IHRoZSByZXF1ZXN0IHdpdGgg
Y3VybC4gVGhlIG91dGNvbWUgaXMgdGhlIHNhbWUgd2l0aCBib3RoDQo+ID4gRmlyZWZveCBhbmQg
Y3VybC4NCj4gDQo+IE9LLCBzbyB0aGVyZSBtdXN0IGJlIGFuIGlzc3VlIGluIHRoZSBjaGVja19w
aXBlbGluZSgpIGZ1bmN0aW9uLi4uDQo+IA0KPiA+DQo+ID4+IHdoaWNoIG1ha2VzIGh0dHBkIGJl
bGlldmUgcmVxdWVzdHMgYXJlIHBpcGVsaW5lZCwNCj4gPg0KPiA+DQo+ID4gSG93IGRvZXMgaXQg
bWFrZSB0aGlzIGRldGVybWluYXRpb24/DQo+IA0KPiBCeSByZWFkaW5nIHRoZSBwaXBlIChub24t
YmxvY2tpbmcpIGJlZm9yZSBlbnRlcmluZyBrZWVwYWxpdmUgc3RhdGUsDQo+IGFuZCBpZiB0aGF0
IHN1Y2NlZWRzIChpZ25vcmluZyBibGFuayBsaW5lcyBzaW5jZSAyLjQuMTgsIGFub3RoZXINCj4g
Y2hhbmdlIGludHJvZHVjZWQgaW4gdGhpcyB2ZXJzaW9uKSB0aGUgbmV4dCByZXF1ZXN0IGlzIHBy
b2Nlc3NlZA0KPiBpbW1lZGlhdGx5IHdpdGhvdXQgZmx1c2hpbmcgb3V0cHV0Lg0KPiBJT1csIHBp
cGVsaW5lZCByZXF1ZXN0cyBpbXBseSBiYXRjaGVkIHJlc3BvbnNlcy4NCj4gDQo+IENvdWxkIHlv
dSBwbGVhc2UgcHJvdmlkZSB0aGUgb3V0cHV0IG9mIHRoaXMgbmV3IHBhdGNoIG9uIHRvcCBvZiB0
aGUNCj4gcHJldmlvdXMgKGxhdGVzdCkgb25lPw0KPiANCj4gSW5kZXg6IG1vZHVsZXMvaHR0cC9o
dHRwX3JlcXVlc3QuYw0KPiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+IC0tLSBtb2R1bGVzL2h0dHAvaHR0cF9yZXF1
ZXN0LmMgICAgKHJldmlzaW9uIDE3Mjc5MjMpDQo+ICsrKyBtb2R1bGVzL2h0dHAvaHR0cF9yZXF1
ZXN0LmMgICAgKHdvcmtpbmcgY29weSkNCj4gQEAgLTI1NCw2ICsyNTQsMTAgQEAgc3RhdGljIHZv
aWQgY2hlY2tfcGlwZWxpbmUoY29ubl9yZWMgKmMsIGFwcl9idWNrZXQNCj4gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICJDYW4ndCBjb25zdW1lIHBpcGVsaW5lZCBlbXB0eSBsaW5lcyIp
Ow0KPiAgICAgICAgICAgICAgICAgIGMtPmtlZXBhbGl2ZSA9IEFQX0NPTk5fQ0xPU0U7DQo+ICAg
ICAgICAgICAgICB9DQo+ICsgICAgICAgICAgICBlbHNlIHsNCj4gKyAgICAgICAgICAgICAgICBh
cF9sb2dfY2Vycm9yKEFQTE9HX01BUkssIEFQTE9HX05PVElDRSwgcnYsIGMsDQo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAiY2hlY2tfcGlwZWxpbmU6IG5vIGRhdGEiKTsNCj4gKyAg
ICAgICAgICAgIH0NCj4gICAgICAgICAgICAgIGJyZWFrOw0KPiAgICAgICAgICB9DQo+IA0KPiBA
QCAtMjg0LDYgKzI4OCwxMCBAQCBzdGF0aWMgdm9pZCBjaGVja19waXBlbGluZShjb25uX3JlYyAq
YywgYXByX2J1Y2tldA0KPiAgICAgICAgICAgICAgYnJlYWs7DQo+ICAgICAgICAgIH0NCj4gDQo+
ICsgICAgICAgIGFwX2xvZ19jZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfTk9USUNFLCBydiwgYywN
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAiY2hlY2tfcGlwZWxpbmU6IGdvdCAweCV4IiwNCj4g
KyAgICAgICAgICAgICAgICAgICAgICAoaW50KShjciA/IGJ1ZlsxXSA6IGJ1ZlswXSkpOw0KPiAr
DQo+ICAgICAgICAgIGlmIChtb2RlID09IEFQX01PREVfUkVBREJZVEVTKSB7DQo+ICAgICAgICAg
ICAgICBtb2RlID0gQVBfTU9ERV9TUEVDVUxBVElWRTsNCj4gICAgICAgICAgICAgIGNyID0gMDsN
Cj4gQEAgLTMxOSw2ICszMjcsMTEgQEAgc3RhdGljIHZvaWQgY2hlY2tfcGlwZWxpbmUoY29ubl9y
ZWMgKmMsIGFwcl9idWNrZXQNCj4gICAgICAgICAgICAgIGMtPmtlZXBhbGl2ZSA9IEFQX0NPTk5f
Q0xPU0U7DQo+ICAgICAgICAgIH0NCj4gICAgICB9DQo+ICsNCj4gKyAgICBhcF9sb2dfY2Vycm9y
KEFQTE9HX01BUkssIEFQTE9HX05PVElDRSwgcnYsIGMsDQo+ICsgICAgICAgICAgICAgICAgICAi
Y2hlY2tfcGlwZWxpbmU6IGRhdGFfaW5faW5wdXRfZmlsdGVycyA9ICVpIiwNCj4gKyAgICAgICAg
ICAgICAgICAgIGMtPmRhdGFfaW5faW5wdXRfZmlsdGVycyk7DQo+ICsNCj4gIH0NCj4gDQo+IC0t
DQo+IA0KPiBUaGFua3MsDQo+IFlhbm4uDQo=

From dev-return-85408-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 10:39:01 2016
Return-Path: <dev-return-85408-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5241418D7B
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 10:39:01 +0000 (UTC)
Received: (qmail 40109 invoked by uid 500); 3 Feb 2016 10:39:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 40038 invoked by uid 500); 3 Feb 2016 10:39:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 40028 invoked by uid 99); 3 Feb 2016 10:39:00 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 10:39:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B8591180185
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 10:38:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.645
X-Spam-Level:
X-Spam-Status: No, score=-0.645 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.545, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=X6aXtUNJ;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=KkCPErjE
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id zW4EBG87faEf for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 10:38:50 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id CF181207E1
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 10:38:49 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 9DD1015A0C36; Wed,  3 Feb 2016 11:38:41 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454495921; bh=6wWKgiCFJ6aNcrRfGB5fRsG371QCn7aOgdApEt1bMAI=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=X6aXtUNJly9DaxvnsVfrXSiljuqxWZoGl1P/mc1d/axmGREWY2eWIuXHQtCurUW7b
	 +hR9qqB0YzQnZgh8BmZMoIE/1Rfm+Mf1nkEKKW4pGX6vLM2yqqjkoLobJzvJOKs6Sd
	 yfMv97HN/xQaQenKaSN56Oo92lbXUaCtvcD53F/0=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 4AFA015A043B
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 11:38:40 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454495920; bh=6wWKgiCFJ6aNcrRfGB5fRsG371QCn7aOgdApEt1bMAI=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=KkCPErjEATwO2ZZL0s5xYcGrTwqBNDSnFza0xgiH51eO4R0UBvRHW9uHmJoqeP8oa
	 Htf23tjYzWf7NlTGDnBxVBFIjQVA+J8FnvPQhXg9IeIb1BS01tE3jo9kyll5HnxU23
	 J4o+8LNiMi56yjnQQ/8IOIYaPlE7hsESdiedEPKk=
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
Date: Wed, 3 Feb 2016 11:38:40 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <AD11F988-62BD-4125-8CAF-4337BB7BF1C0@greenbytes.de>
References: <56B0803B.6080209@kraut.ca> <CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com> <56B19098.4060303@kraut.ca> <CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com> <56B1C4E9.3050306@kraut.ca> <CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com> <AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Interesting. I have an issue on github from someone who observes, =
sometimes, a hanging
HTTP/2 connection, where mod_http2 calls ap_pass_brigade() with ~120KB =
which never
returns. Client, after a while, closes its end of the connection. =
Connection remains in CLOSE_WAIT.

Might this be related to the issue reported here? Anyhow I can help?

-Stefan

> Am 03.02.2016 um 11:29 schrieb Pl=C3=BCm, R=C3=BCdiger, Vodafone Group =
<ruediger.pluem@vodafone.com>:
>=20
> Which MPM is used? Event or something different?
> There a differences on how c->data_in_input_filters is handled by =
different MPM's.
> On sync MPM's like worker there is an explicit flush if =
c->data_in_input_filters is zero,
> the event MPM though only relies on WRITE_COMPLETION.
> If event is used, does switching to worker MPM make the issue go away?
>=20
> Regards
>=20
> R=C3=BCdiger
>=20
>> -----Original Message-----
>> From: Yann Ylavic [mailto:ylavic.dev@gmail.com]
>> Sent: Mittwoch, 3. Februar 2016 11:22
>> To: httpd-dev
>> Subject: Re: HTTPS connections lock-up with 2.4.18
>>=20
>> On Wed, Feb 3, 2016 at 10:14 AM, Joachim Achtzehnter =
<joachim@kraut.ca>
>> wrote:
>>> Late at night here and I'm not at work, but see the embedded =
responses
>> to
>>> clarify some things...
>>>=20
>>> On 2016-02-03 12:43 AM, Yann Ylavic wrote:
>>>>=20
>>>> I can't tell about the underlying HTTP data here, but I suspect =
there
>>>> is more than a single HTTP request sent by the client,
>>=20
>> Actually I didn't notice that ssltrace-v3.txt contained the plain =
HTTP
>> request (thought it was the text version of the raw capture).
>>=20
>>>=20
>>> No, there is definitely only one request for this test. In the real
>>> application there is an HTML page, which triggers multiple requests =
for
>>> style sheets, scripts, images, etc., and these may well be pipelined =
or
>>> submitted via parallel connections. This still locked-up, 100%
>> reproducible.
>>> The test I use to collect the traces and logs is retrieving a single
>> small
>>> style sheet. No other files are involved. In order to allow =
Wireshark to
>>> decrypt the SSL data I used Firefox, but for my own testing and
>> debugging I
>>> usually submit the request with curl. The outcome is the same with =
both
>>> Firefox and curl.
>>=20
>> OK, so there must be an issue in the check_pipeline() function...
>>=20
>>>=20
>>>> which makes httpd believe requests are pipelined,
>>>=20
>>>=20
>>> How does it make this determination?
>>=20
>> By reading the pipe (non-blocking) before entering keepalive state,
>> and if that succeeds (ignoring blank lines since 2.4.18, another
>> change introduced in this version) the next request is processed
>> immediatly without flushing output.
>> IOW, pipelined requests imply batched responses.
>>=20
>> Could you please provide the output of this new patch on top of the
>> previous (latest) one?
>>=20
>> Index: modules/http/http_request.c
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>> --- modules/http/http_request.c    (revision 1727923)
>> +++ modules/http/http_request.c    (working copy)
>> @@ -254,6 +254,10 @@ static void check_pipeline(conn_rec *c, =
apr_bucket
>>                               "Can't consume pipelined empty lines");
>>                 c->keepalive =3D AP_CONN_CLOSE;
>>             }
>> +            else {
>> +                ap_log_cerror(APLOG_MARK, APLOG_NOTICE, rv, c,
>> +                              "check_pipeline: no data");
>> +            }
>>             break;
>>         }
>>=20
>> @@ -284,6 +288,10 @@ static void check_pipeline(conn_rec *c, =
apr_bucket
>>             break;
>>         }
>>=20
>> +        ap_log_cerror(APLOG_MARK, APLOG_NOTICE, rv, c,
>> +                      "check_pipeline: got 0x%x",
>> +                      (int)(cr ? buf[1] : buf[0]));
>> +
>>         if (mode =3D=3D AP_MODE_READBYTES) {
>>             mode =3D AP_MODE_SPECULATIVE;
>>             cr =3D 0;
>> @@ -319,6 +327,11 @@ static void check_pipeline(conn_rec *c, =
apr_bucket
>>             c->keepalive =3D AP_CONN_CLOSE;
>>         }
>>     }
>> +
>> +    ap_log_cerror(APLOG_MARK, APLOG_NOTICE, rv, c,
>> +                  "check_pipeline: data_in_input_filters =3D %i",
>> +                  c->data_in_input_filters);
>> +
>> }
>>=20
>> --
>>=20
>> Thanks,
>> Yann.


From dev-return-85409-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 10:41:22 2016
Return-Path: <dev-return-85409-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CC96F18D8C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 10:41:22 +0000 (UTC)
Received: (qmail 46199 invoked by uid 500); 3 Feb 2016 10:41:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46120 invoked by uid 500); 3 Feb 2016 10:41:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46110 invoked by uid 99); 3 Feb 2016 10:41:19 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 10:41:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id EA4EC1A03D7
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 10:41:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 5vMqnJJ7u7-a for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 10:41:18 +0000 (UTC)
Received: from mail-qg0-f47.google.com (mail-qg0-f47.google.com [209.85.192.47])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 07D7220D01
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 10:41:18 +0000 (UTC)
Received: by mail-qg0-f47.google.com with SMTP id b35so12590010qge.0
        for <dev@httpd.apache.org>; Wed, 03 Feb 2016 02:41:17 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=PtRrgMbLApY7AhiVY2sbZWBlnL9A3f/oGVdNYsV/1OQ=;
        b=TlRHh9Ix0B+XM/dc5es7o8QPu7IbtT56cgoRwvN1aE+DNw1A3d7IfYUFhNEIi6SYER
         I377s9guIue6iMm6WhLKvPYsZTYhzhZVJCO9yVN2IAkt061qY6Rrv5bSJFmQXqI9IcJr
         IE7kL+N9byZyhMdkmRcRJ4B+29SlujriF/05PViDrKpX7kq6e9DcXpWYf2KXxcIuRhHW
         SEgH1LhiS8P00BqOZkzLi+E//QZrsFRaPreVNJqW6x5awJ5I5xHmKqe4Kdln5V50B8x1
         rJN5VKlDa6P5aHi5DcnJ15712lEPf7+WrNEi4LE+IWM3CKc9W4opOdjPBhg4O/pG3i1k
         /zOA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=PtRrgMbLApY7AhiVY2sbZWBlnL9A3f/oGVdNYsV/1OQ=;
        b=jOWGEzMUKFnFToIFfEOI+TymL4iBIDv9TxYKnN6giccxd1IHH7g8zwZumHDk7TVvbm
         4fsguCN+NjBeTWUwq9qMesJVTaxYBt9K1nSvcAcFETAXLKoQT72fngyHkGq+KOzLEOkx
         aniAZoiuaM8WcxSZ41AE2PC12pflWXHcQD6hj5XlWUdxE/7AGGylCrTlYJhXrrxlxoBn
         3XbiZm+c8xMrQT7VdRsRCOK0Oi5cgv6y/iJUAIGSKDaxzBV/AlUiidG0+2Xqj9DlTnXW
         XLTXaHbOpQTBYvuA8v81xackw1udgy34ErOg80bXglm+Y2b3UuZBmh3yh038uc/BY2sN
         1lpg==
X-Gm-Message-State: AG10YOSqXXYoV+i2qlzELktv6Iqi8/2v47/xfgBYs7IWk0ROJO2Nh++cikL4QfuaX6Y0Bw7YkfGm6TQXYf/Y1A==
MIME-Version: 1.0
X-Received: by 10.140.179.216 with SMTP id z207mr792866qhz.70.1454496077424;
 Wed, 03 Feb 2016 02:41:17 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 3 Feb 2016 02:41:17 -0800 (PST)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
References: <56B0803B.6080209@kraut.ca>
	<CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
	<56B19098.4060303@kraut.ca>
	<CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
	<56B1C4E9.3050306@kraut.ca>
	<CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
Date: Wed, 3 Feb 2016 11:41:17 +0100
Message-ID: <CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Feb 3, 2016 at 11:29 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
> Which MPM is used? Event or something different?
> There a differences on how c->data_in_input_filters is handled by differe=
nt MPM's.
> On sync MPM's like worker there is an explicit flush if c->data_in_input_=
filters is zero,
> the event MPM though only relies on WRITE_COMPLETION.

Hmm, ap_process_request() really checks for c->data_in_input_filters
to determine whether it should flush or not.
So I don't see it depending on the MPM.

Regards,
Yann.

From dev-return-85410-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 10:48:10 2016
Return-Path: <dev-return-85410-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CFF5D18DB3
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 10:48:10 +0000 (UTC)
Received: (qmail 55764 invoked by uid 500); 3 Feb 2016 10:48:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55690 invoked by uid 500); 3 Feb 2016 10:48:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55679 invoked by uid 99); 3 Feb 2016 10:48:05 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 10:48:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 8C6FDC01A8
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 10:48:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id bPSeD_3EKj04 for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 10:47:58 +0000 (UTC)
Received: from mail-qg0-f44.google.com (mail-qg0-f44.google.com [209.85.192.44])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 3F878428ED
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 10:47:58 +0000 (UTC)
Received: by mail-qg0-f44.google.com with SMTP id o11so12624548qge.2
        for <dev@httpd.apache.org>; Wed, 03 Feb 2016 02:47:58 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Rfq9irgJryQGSX0Sy/pBwWVNe+mgxIsw04Lli+r/Mnw=;
        b=kQNYTatqrItKCMfXz8ydgCIBUtKK2LRnyHsfcusXko0PwSunkat7cqond19d1YCXP0
         +zJYWLSSdDTIjsHGsnOcN2LJHagUeZihN3vUD1aVVNLtOzz25A3ECQegnpFmMNrUZoCI
         sbzzNXekkr5fcPKoMurgSzyWW5qeTSSkTnztwjN9E9GDyGJ2WjeFc/7ePmcGTao4xMny
         eXQ5nvHwqdVgvO63BFQKXsjaUpt+5fRHwElj45na1TtmVdfe2sv0c4N3DPbNyI8GBYx6
         2aHS0e7ipb8XPJW2v+MyLZLgxjUrFiTSE9LQtO+twNesRV5yJkh+lAH3T0dM8mO9Yh6B
         Qd0g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=Rfq9irgJryQGSX0Sy/pBwWVNe+mgxIsw04Lli+r/Mnw=;
        b=it9teHIP6la5+DHREbZNuFR8eZi2uFAzP/oTpUusKs0CQpreCMg6XbgOlHziwYWfGn
         3erDFQZkcjkSPCFoIPx/roer5QFIt0cgXmIoEmKvYMqgzgNgu8YdsckhT7HPfppcxJbc
         2rlgMiUrsJsnm4BHge2sVTMnCF/UqePGew2Givufzcx4YhB8FDJiGpNO2rsOsSEhXfvp
         9mK8a2zehEeGCqlyFkf9KW/sO0Zu4U2WXtpNztq/dihQj6/+PvngyhxSHlOXPUbii1tL
         NFNx/PVJ/Kp5vfw0ml1MJnncSzp7DXOsYxv+Um83wQ/n1zIgbYGS4P8Gr4eNJamp3fXg
         nxQg==
X-Gm-Message-State: AG10YOQP+OOHaEXKVR3+INX9RpzMQOK4RXbm+wR1AT45Z5g2YB22uoPgVloe9sfK/KGNViSaU/f6H3Aq25gV+Q==
MIME-Version: 1.0
X-Received: by 10.140.92.111 with SMTP id a102mr741727qge.92.1454496478041;
 Wed, 03 Feb 2016 02:47:58 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 3 Feb 2016 02:47:57 -0800 (PST)
In-Reply-To: <AD11F988-62BD-4125-8CAF-4337BB7BF1C0@greenbytes.de>
References: <56B0803B.6080209@kraut.ca>
	<CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
	<56B19098.4060303@kraut.ca>
	<CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
	<56B1C4E9.3050306@kraut.ca>
	<CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
	<AD11F988-62BD-4125-8CAF-4337BB7BF1C0@greenbytes.de>
Date: Wed, 3 Feb 2016 11:47:57 +0100
Message-ID: <CAKQ1sVNe-=oZnUB+vM4y5MB2+ova_CJ9hxxF7FVhFLN2dU9DKA@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Feb 3, 2016 at 11:38 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Interesting. I have an issue on github from someone who observes, sometimes, a hanging
> HTTP/2 connection, where mod_http2 calls ap_pass_brigade() with ~120KB which never
> returns. Client, after a while, closes its end of the connection. Connection remains in CLOSE_WAIT.

Where is httpd blocked/stalled, which function?

Regards,
Yann.

From dev-return-85411-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 11:01:25 2016
Return-Path: <dev-return-85411-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 530FB18E4D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 11:01:25 +0000 (UTC)
Received: (qmail 62330 invoked by uid 500); 3 Feb 2016 10:54:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62258 invoked by uid 500); 3 Feb 2016 10:54:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62246 invoked by uid 99); 3 Feb 2016 10:54:04 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 10:54:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 50430C01A8
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 10:54:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, SPF_HELO_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id TQhVsegEsI-1 for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 10:53:53 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.139])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id EC52142A41
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 10:53:52 +0000 (UTC)
Received: from [85.158.136.83] by server-3.bemta-5.messagelabs.com id 86/C4-13487-04CD1B65; Wed, 03 Feb 2016 10:53:52 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-12.tower-36.messagelabs.com!1454496831!15491333!1
X-Originating-IP: [195.232.244.133]
X-StarScan-Received:
X-StarScan-Version: 7.35.1; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 30520 invoked from network); 3 Feb 2016 10:53:51 -0000
Received: from mailout01.vodafone.com (HELO mailout01.vodafone.com) (195.232.244.133)
  by server-12.tower-36.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 3 Feb 2016 10:53:51 -0000
Received: from mailint01.vodafone.com (mailint01.vodafone.com [195.232.244.198])
	by mailout01.vodafone.com (Postfix) with ESMTP id 3pwKcv3Ff5z1yHs
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 11:53:51 +0100 (CET)
Received: from mailint01.vodafone.com (localhost [127.0.0.1])
	by mailint01.vodafone.com (Postfix) with ESMTP id 3pwKcv2DX0zxPmV
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 11:53:51 +0100 (CET)
Received: from VOEXC03W.internal.vodafone.com (voexc03w.dc-ratingen.de [145.230.101.23])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint01.vodafone.com (Postfix) with ESMTPS id 3pwKcv29cYzxPh5
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 11:53:51 +0100 (CET)
Received: from VOEXC10W.internal.vodafone.com (145.230.101.30) by
 VOEXC03W.internal.vodafone.com (145.230.101.23) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Wed, 3 Feb 2016 11:53:50 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.216]) by
 VOEXC10W.internal.vodafone.com ([145.230.101.30]) with mapi id
 14.03.0224.002; Wed, 3 Feb 2016 11:53:50 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: HTTPS connections lock-up with 2.4.18
Thread-Topic: HTTPS connections lock-up with 2.4.18
Thread-Index: AQHRXbe6uEk6ckROb0abdFq6M/zyOZ8Zu/MAgAA13gCAAAh/gIAAEvaAgAASLFD///MtgIAAEvww
Date: Wed, 3 Feb 2016 10:53:49 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
References: <56B0803B.6080209@kraut.ca>
	<CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
	<56B19098.4060303@kraut.ca>
	<CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
	<56B1C4E9.3050306@kraut.ca>
	<CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
In-Reply-To: <CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogWWFubiBZbGF2aWMgW21h
aWx0bzp5bGF2aWMuZGV2QGdtYWlsLmNvbV0NCj4gU2VudDogTWl0dHdvY2gsIDMuIEZlYnJ1YXIg
MjAxNiAxMTo0MQ0KPiBUbzogaHR0cGQtZGV2DQo+IFN1YmplY3Q6IFJlOiBIVFRQUyBjb25uZWN0
aW9ucyBsb2NrLXVwIHdpdGggMi40LjE4DQo+IA0KPiBPbiBXZWQsIEZlYiAzLCAyMDE2IGF0IDEx
OjI5IEFNLCBQbMO8bSwgUsO8ZGlnZXIsIFZvZGFmb25lIEdyb3VwDQo+IDxydWVkaWdlci5wbHVl
bUB2b2RhZm9uZS5jb20+IHdyb3RlOg0KPiA+IFdoaWNoIE1QTSBpcyB1c2VkPyBFdmVudCBvciBz
b21ldGhpbmcgZGlmZmVyZW50Pw0KPiA+IFRoZXJlIGEgZGlmZmVyZW5jZXMgb24gaG93IGMtPmRh
dGFfaW5faW5wdXRfZmlsdGVycyBpcyBoYW5kbGVkIGJ5DQo+IGRpZmZlcmVudCBNUE0ncy4NCj4g
PiBPbiBzeW5jIE1QTSdzIGxpa2Ugd29ya2VyIHRoZXJlIGlzIGFuIGV4cGxpY2l0IGZsdXNoIGlm
IGMtDQo+ID5kYXRhX2luX2lucHV0X2ZpbHRlcnMgaXMgemVybywNCj4gPiB0aGUgZXZlbnQgTVBN
IHRob3VnaCBvbmx5IHJlbGllcyBvbiBXUklURV9DT01QTEVUSU9OLg0KPiANCj4gSG1tLCBhcF9w
cm9jZXNzX3JlcXVlc3QoKSByZWFsbHkgY2hlY2tzIGZvciBjLT5kYXRhX2luX2lucHV0X2ZpbHRl
cnMNCj4gdG8gZGV0ZXJtaW5lIHdoZXRoZXIgaXQgc2hvdWxkIGZsdXNoIG9yIG5vdC4NCj4gU28g
SSBkb24ndCBzZWUgaXQgZGVwZW5kaW5nIG9uIHRoZSBNUE0uDQoNCkl0IGRvZXMsIGJlY2F1c2Ug
YXBfcHJvY2Vzc19yZXF1ZXN0IGlzIG9ubHkgY2FsbGVkIGJ5IHN5bmMgTVBNcy4NCkV2ZW50IGNh
bGxzIGFwX3Byb2Nlc3NfYXN5bmNfcmVxdWVzdCBvbmx5LiBTZWUgYXBfcHJvY2Vzc19odHRwX2Nv
bm5lY3Rpb24gaW4gaHR0cF9jb3JlLmMNCg0KDQpSZWdhcmRzDQoNClLDvGRpZ2VyDQo=

From dev-return-85412-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 11:32:01 2016
Return-Path: <dev-return-85412-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AD70B18F60
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 11:32:01 +0000 (UTC)
Received: (qmail 51306 invoked by uid 500); 3 Feb 2016 11:31:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51226 invoked by uid 500); 3 Feb 2016 11:31:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51216 invoked by uid 99); 3 Feb 2016 11:31:27 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 11:31:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A6A66C1C18
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 11:31:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.539
X-Spam-Level:
X-Spam-Status: No, score=-0.539 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.438, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=kjJQpA8e;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=DmAeI/cI
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id jDO69P_f2f2n for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 11:31:24 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 9182242A41
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 11:31:24 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 372EE15A0C36; Wed,  3 Feb 2016 12:31:17 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454499077; bh=XFyDTC76jvjVitWBqjJPCKButBthDTXAbK2+6tgJwIc=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=kjJQpA8eltYqD310hck43GNdEZzltRk/Cz+Oob50Zb2uiCO15FrEz9u6KDEJ9GEMF
	 MmPo7FfURm0Jdf350eZIyVS9ral0jx1j7zNt9nwUSDwYqs96G6GCKNDXDERKW0U4+c
	 AL1ornjmDU0OT2ehBBopHBmYwif/+8dX/SX0rU6M=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 6F9DD15A0442
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 12:31:16 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454499076; bh=XFyDTC76jvjVitWBqjJPCKButBthDTXAbK2+6tgJwIc=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=DmAeI/cIAjRfprAHs3MzBWZhz5Od+corsgmtPBD2i5TLveEKXsr7GsOwfitQgAfTp
	 VGHXBuNq4rEOu2FB4ICdtW2dZLCaqfQW6e02aQPFEKU3Zl7WfOnKsJgC5ZVvFJMAOD
	 g6+EPR7xP4I0DyBbkpldkFwM9uKLnkghxUj6go3w=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVNe-=oZnUB+vM4y5MB2+ova_CJ9hxxF7FVhFLN2dU9DKA@mail.gmail.com>
Date: Wed, 3 Feb 2016 12:31:16 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <0EC549AE-E2A5-4880-84B7-163D0AA04BE5@greenbytes.de>
References: <56B0803B.6080209@kraut.ca> <CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com> <56B19098.4060303@kraut.ca> <CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com> <56B1C4E9.3050306@kraut.ca> <CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com> <AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com> <AD11F988-62BD-4125-8CAF-4337BB7BF1C0@greenbytes.de> <CAKQ1sVNe-=oZnUB+vM4y5MB2+ova_CJ9hxxF7FVhFLN2dU9DKA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> Am 03.02.2016 um 11:47 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Wed, Feb 3, 2016 at 11:38 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> Interesting. I have an issue on github from someone who observes, =
sometimes, a hanging
>> HTTP/2 connection, where mod_http2 calls ap_pass_brigade() with =
~120KB which never
>> returns. Client, after a while, closes its end of the connection. =
Connection remains in CLOSE_WAIT.
>=20
> Where is httpd blocked/stalled, which function?

Trying to get a backtrace. Unable to reproduce this myself...


From dev-return-85413-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 11:35:30 2016
Return-Path: <dev-return-85413-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DD22A18F74
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 11:35:29 +0000 (UTC)
Received: (qmail 56859 invoked by uid 500); 3 Feb 2016 11:34:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56768 invoked by uid 500); 3 Feb 2016 11:34:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56758 invoked by uid 99); 3 Feb 2016 11:34:55 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 11:34:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 3EE7FC1C58
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 11:34:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 2kj1yyqRI5kE for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 11:34:54 +0000 (UTC)
Received: from mail-qg0-f41.google.com (mail-qg0-f41.google.com [209.85.192.41])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 1EF6C42BC3
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 11:34:54 +0000 (UTC)
Received: by mail-qg0-f41.google.com with SMTP id y9so8303062qgd.3
        for <dev@httpd.apache.org>; Wed, 03 Feb 2016 03:34:54 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=lzj4KUXbAxyAjsxYV02BX0W9GQ3P/6KQ6xZ7J72Q0bg=;
        b=whtWXQ2fTKsaqLd1z0aN2ZZZxgX6gb1wCDrGI2Ps8tTvt7fSFLdR/6Eum6DZJ+qYr9
         /XybQomQHKaiZX8tQa1kDrO0khJ18eSoHnr5tmmL4gg59ubwvMpE3ROgf3cIPEjQepth
         +4sSQhoLQxr4gK7Y+howEgSvG83+H5dSQcHjAAfK+/MLb7cBZ4Cu+wip6+2ReFP6I2+o
         N0xAaX3ip5BjvPAwCQrVyUmFn1K6827jkxc/xSCJ47X9mJc329ltDm512X8Binb2PdKF
         7J3xzO73ZB+XjGEJuDrH1+ykkgo4sG72evJD9X50QrKPEoQHD/PRigslTcHynNacMlnb
         /Fag==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=lzj4KUXbAxyAjsxYV02BX0W9GQ3P/6KQ6xZ7J72Q0bg=;
        b=GJ45AUGD2J4sNdfNpEd9iuPXgQ3hqwenTK/gVaJ462Bavh9G5K7UOZwXPFBDvADcnz
         ty7WRgSh8vKU/NEzoGGjIhMfiGaUKox8uskm3dxZ/hHyWAl06PvkN85yJh/F6GZFYDb1
         sv/51AcRqmsrPswYZtC/ZdF9iOBVRb6xn7lETqodIVz611GIU/SUJwd0kHJy0M7a6Oqv
         ES9kKeU9znTAK7wc67EYV4EdnLr3ztvN1nrh/DN3IwRRWS3PBfKoMzsfbbuPWl2XG53v
         hIMco/xfx7jJTXn1dKjLeV4eSSnhgnPYJT7ws0dI+8fLiG6rch59b60NHHX2HhKv9D3c
         62bQ==
X-Gm-Message-State: AG10YOTkc2n7jiYLGwD+Pfo4K0WZlS5lmogM3kjl+hqBJEmAkgzlDd6hfCmaUZlZ+xa0jxcOfCw7WF8JXEJXjA==
MIME-Version: 1.0
X-Received: by 10.140.92.111 with SMTP id a102mr939950qge.92.1454499288555;
 Wed, 03 Feb 2016 03:34:48 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 3 Feb 2016 03:34:48 -0800 (PST)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
References: <56B0803B.6080209@kraut.ca>
	<CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
	<56B19098.4060303@kraut.ca>
	<CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
	<56B1C4E9.3050306@kraut.ca>
	<CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
Date: Wed, 3 Feb 2016 12:34:48 +0100
Message-ID: <CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Feb 3, 2016 at 11:53 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
>
>> -----Original Message-----
>> From: Yann Ylavic [mailto:ylavic.dev@gmail.com]
>> Sent: Mittwoch, 3. Februar 2016 11:41
>> To: httpd-dev
>> Subject: Re: HTTPS connections lock-up with 2.4.18
>>
>> On Wed, Feb 3, 2016 at 11:29 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
>> <ruediger.pluem@vodafone.com> wrote:
>> > Which MPM is used? Event or something different?
>> > There a differences on how c->data_in_input_filters is handled by
>> different MPM's.
>> > On sync MPM's like worker there is an explicit flush if c-
>> >data_in_input_filters is zero,
>> > the event MPM though only relies on WRITE_COMPLETION.
>>
>> Hmm, ap_process_request() really checks for c->data_in_input_filters
>> to determine whether it should flush or not.
>> So I don't see it depending on the MPM.
>
> It does, because ap_process_request is only called by sync MPMs.
> Event calls ap_process_async_request only. See ap_process_http_connection=
 in http_core.c

Oh right, sorry, I completely misread your message and thought you
were saying that sync MPMs do flush unconditionally :/

But still event should (try to) flush pending data when in
WRITE_COMPLETION while c->data_in_output_filters (calling the
core_output_filter() with NULL brigade).
So I don't see why the response is not flushed on the network before
entering READ_REQUEST_LINE or CHECK_REQUEST_LINE_READABLE states.

Regards,
Yann.

From dev-return-85414-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 12:25:41 2016
Return-Path: <dev-return-85414-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7B159181DD
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 12:25:41 +0000 (UTC)
Received: (qmail 41794 invoked by uid 500); 3 Feb 2016 12:25:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41719 invoked by uid 500); 3 Feb 2016 12:25:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41709 invoked by uid 99); 3 Feb 2016 12:25:38 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 12:25:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 883FBC01A8
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 12:25:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id MTlsjt826buR for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 12:25:29 +0000 (UTC)
Received: from resqmta-ch2-01v.sys.comcast.net (resqmta-ch2-01v.sys.comcast.net [69.252.207.33])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id CD7EE428ED
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 12:25:28 +0000 (UTC)
Received: from resomta-ch2-05v.sys.comcast.net ([69.252.207.101])
	by resqmta-ch2-01v.sys.comcast.net with comcast
	id DoRK1s00J2Bo0NV01oRM9a; Wed, 03 Feb 2016 12:25:21 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-05v.sys.comcast.net with comcast
	id DoRM1s0082U0RYt01oRMxC; Wed, 03 Feb 2016 12:25:21 +0000
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Worker states for balancer members
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC9FF1496@VOEXM10W.internal.vodafone.com>
Date: Wed, 3 Feb 2016 07:25:21 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <9A2C6787-F774-4E91-930B-224B1AE4130B@jaguNET.com>
References: <DC1EE0D9-2CE4-48B3-9EC3-0E6706FBAB77@jaguNET.com> <AB1691BE05AE7F4992697F2A0835627AC9FF1496@VOEXM10W.internal.vodafone.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1454502321;
	bh=yc3RVt76ZPtWFxC72VkRMd18daMwfK7PPcv7jCFO5Bw=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Yhyva/eWT9SJs/nilzg1WICXTCIXuRAbtlGKTgJVDE6M6kgiaCOS4fWOGmFAva3Mp
	 IRZ8F04bq3CLS9OVcjcK+bK9sqBJeJvoJQ0hO0zRN+1Sbg0RXwsTwrkZWdmzgaTFcU
	 uCOE9e3T7EQYaH6NFgvnZkPfdYhlsWBMOTjI5qlEBWr7fv3Pgn59bl544mX5aXDjLE
	 A5EimJDWRZtG0bNpup1iRNX+7VKixhAwnIiR4t7LgMLc4dqQD6RGzUk2B/DbmEs2Gu
	 8jVPhWUQIcLrFADRaIPrGmxyODjxt/YX8VTY169pnMZ3g4f9K1MXQqCTvMsUf71p6K
	 3Q7XIIm261OGQ==


> On Feb 3, 2016, at 3:10 AM, Pl=FCm, R=FCdiger, Vodafone Group =
<ruediger.pluem@vodafone.com> wrote:
>=20
>=20
>=20
>> -----Original Message-----
>> From: Jim Jagielski [mailto:jim@jaguNET.com]
>> Sent: Dienstag, 2. Februar 2016 22:44
>> To: httpd
>> Subject: Worker states for balancer members
>>=20
>> Getting back to this discussion...
>>=20
>> Right now we have:
>>=20
>>   o #define PROXY_WORKER_DISABLED       0x0020
>>   o #define PROXY_WORKER_STOPPED        0x0040
>>   o #define PROXY_WORKER_IN_ERROR       0x0080
>>   o #define PROXY_WORKER_HC_FAIL        0x0400
>>=20
>> Are these bit flags part of our API?? Could I, for example,
>=20
> I think they are as they are part of mod_proxy.h and other 3rd party
> proxy modules may have consumed them.
>=20
>=20
>> make PROXY_WORKER_DISABLED =3D=3D PROXY_WORKER_STOPPED =3D=3D 0x0060
>> for example?
>=20
> Hm. What if 3rd party modules only set 0x0040 or 0x0020 as they are =
using the old
> values? Wouldn't that create some possible weird side effects?
> I mean no issue for trunk, but don't think this would be correct for =
backporting.
>=20

Well, that's why I proposed setting them as such, so that
a bit check would always be true whether testing for 0x20 or
0x40 (the old values).

I WAS thinking about basically "making" HC_FAIL STOPPED because
that mode can only be set/cleared during configuration (the
balancer-manager doesn't provide for changing that bit) and so
for the life of me I can't figure out how or why anyone would be
using that status since it never changes...

Maybe we can just say that STOPPED is there for potential
3rd party uses and be done w/ it :)


From dev-return-85415-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 12:30:40 2016
Return-Path: <dev-return-85415-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3C1691822C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 12:30:40 +0000 (UTC)
Received: (qmail 52252 invoked by uid 500); 3 Feb 2016 12:30:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52185 invoked by uid 500); 3 Feb 2016 12:30:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52175 invoked by uid 99); 3 Feb 2016 12:30:39 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 12:30:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 35B90180185
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 12:30:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id WhIoIpo5ad_l for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 12:30:32 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 3AB3821150
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 12:30:31 +0000 (UTC)
Received: by mail-qg0-f52.google.com with SMTP id y9so9192186qgd.3
        for <dev@httpd.apache.org>; Wed, 03 Feb 2016 04:30:31 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ecoC7IJFQN9Iu40jB+S/YUgH5MjlHc0YHJIXoowCJrM=;
        b=fwoYoN0BhuNAflhEahvzOLRPV222N4Hqjb5CayoPsiFwpYA2BQnJY+sq4mcrkyDG9N
         adGE7C5/cstHVx3Ur88Fka3JRGsivfJDrM4MiI53iO+W/YOZzEbA8jOshbkN02Tqt/X9
         JHEorRZjPCMo5mCRO7U3+RUcHcU/rORHEEjdvy02ZizVRyltkGxrZ+Ue69l+U1qgrMz2
         vPtdZ85d95djh0fW5CdhWXoa7qPC7OX87tZW6O26It+F8zDA9jVXg2EDgOBGdoSNLwPV
         6NcPOAQn98NGSlvTOUZD6Wlm3sMkZ7czkJzw+Az18/lH8NP59ZjjetEFx6nF90VLDeb3
         p1BQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=ecoC7IJFQN9Iu40jB+S/YUgH5MjlHc0YHJIXoowCJrM=;
        b=Mr9Tam1jJD9iQZU9TTAW4imfsN0lUnVn2NI/D3J34q940MNFgfmP9Z78C2VPoFCRFZ
         kcymUC28jIFAeFSlXPn87YKKAUlSKH6+x6ZcLLdAbtvdowLAswGxWwN0RxYPVf6xoNoG
         n0vSA2tFop5K5ewj5JVVmtzuPFS7+8dPxQUINYuBUEZD/IfwjxsFIBs6//YCQyMQ1yva
         El7Lsg0ttx/rntDez82UYQu5AQq9ZKB5JU1skNyJiNKj3NA6ZuS0xcFKfzgrnNh6IbwB
         MMLwb8iieG5r1ZoVV1T76d0lmsf6pX/WwQg8zyXiyXVyTj+RnBpc6SCkSe0Cioes66hv
         +bQA==
X-Gm-Message-State: AG10YOQwMpxDqYh97wqilm0TcfvDTlTfTgtJVCNXPoiS1C/cnn37EBbXpP91r+PXGyMAh/hmXTM1731EKuXCLg==
MIME-Version: 1.0
X-Received: by 10.140.167.135 with SMTP id n129mr1186203qhn.73.1454502630190;
 Wed, 03 Feb 2016 04:30:30 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 3 Feb 2016 04:30:30 -0800 (PST)
In-Reply-To: <9A2C6787-F774-4E91-930B-224B1AE4130B@jaguNET.com>
References: <DC1EE0D9-2CE4-48B3-9EC3-0E6706FBAB77@jaguNET.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF1496@VOEXM10W.internal.vodafone.com>
	<9A2C6787-F774-4E91-930B-224B1AE4130B@jaguNET.com>
Date: Wed, 3 Feb 2016 13:30:30 +0100
Message-ID: <CAKQ1sVOwjob_N+mRWBv8-W0YnfBNKsU=zghNYurKxz6TKHFLsw@mail.gmail.com>
Subject: Re: Worker states for balancer members
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Feb 3, 2016 at 1:25 PM, Jim Jagielski <jim@jagunet.com> wrote:
>
> I WAS thinking about basically "making" HC_FAIL STOPPED because
> that mode can only be set/cleared during configuration (the
> balancer-manager doesn't provide for changing that bit) and so
> for the life of me I can't figure out how or why anyone would be
> using that status since it never changes...
>
> Maybe we can just say that STOPPED is there for potential
> 3rd party uses and be done w/ it :)

That's what I started to respond before yours :)
Pasting below...

Some third-party (proxy_)modules may use DISABLED/STOPPED for their
own purpose, but I wouldn't mind if the health check DISABLEs or STOPs
a worker under them, these are httpd #defined yet...

So I would have been for health check to reuse STOPPED for its own
purpose (since DISABLED is exposed via the balancer-manager, we likely
can't change its behaviour).

But DISABLED/STOPPED are also configurable with BalancerMember's
status=+D/S, and ~documented~ :)
  D: Worker is disabled and will not accept any requests.
  S: Worker is administratively stopped.
Here both really mean "not started", so status=+S workers shouldn't be
started later by the health check on its own, which prevents STOPPED
reuse too.

Thus, as you suggest, we need a different a new name for health check
(HC_FAIL), so why join the two others (with a nice trick btw)?

We probably need to keep their current/synonym meaning in httpd (at
least in 2.4.x), and maybe we can let third party modules play with
them distinctly after all :)

From dev-return-85416-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 14:00:22 2016
Return-Path: <dev-return-85416-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C764D185C8
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 14:00:22 +0000 (UTC)
Received: (qmail 45353 invoked by uid 500); 3 Feb 2016 14:00:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 45270 invoked by uid 500); 3 Feb 2016 14:00:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45261 invoked by uid 99); 3 Feb 2016 14:00:22 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 14:00:22 +0000
Received: from gauss.localdomain (v4-86134b0f.pool.vitroconnect.de [134.19.75.15])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 625E01A00EA
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 14:00:21 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 882651D8
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 15:00:20 +0100 (CET)
Subject: Re: HTTPS connections lock-up with 2.4.18
To: dev@httpd.apache.org
References: <56B0803B.6080209@kraut.ca>
 <CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
 <56B19098.4060303@kraut.ca>
 <CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
 <56B1C4E9.3050306@kraut.ca>
 <CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
From: Ruediger Pluem <rpluem@apache.org>
X-Enigmail-Draft-Status: N1110
Message-ID: <56B207F4.9010305@apache.org>
Date: Wed, 3 Feb 2016 15:00:20 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 02/03/2016 12:34 PM, Yann Ylavic wrote:
> On Wed, Feb 3, 2016 at 11:53 AM, Plm, Rdiger, Vodafone Group
> <ruediger.pluem@vodafone.com> wrote:
>>
>>> -----Original Message-----
>>> From: Yann Ylavic [mailto:ylavic.dev@gmail.com]
>>> Sent: Mittwoch, 3. Februar 2016 11:41
>>> To: httpd-dev
>>> Subject: Re: HTTPS connections lock-up with 2.4.18
>>>
>>> On Wed, Feb 3, 2016 at 11:29 AM, Plm, Rdiger, Vodafone Group
>>> <ruediger.pluem@vodafone.com> wrote:
>>>> Which MPM is used? Event or something different?
>>>> There a differences on how c->data_in_input_filters is handled by
>>> different MPM's.
>>>> On sync MPM's like worker there is an explicit flush if c-
>>>> data_in_input_filters is zero,
>>>> the event MPM though only relies on WRITE_COMPLETION.
>>>
>>> Hmm, ap_process_request() really checks for c->data_in_input_filters
>>> to determine whether it should flush or not.
>>> So I don't see it depending on the MPM.
>>
>> It does, because ap_process_request is only called by sync MPMs.
>> Event calls ap_process_async_request only. See ap_process_http_connection in http_core.c
> 
> Oh right, sorry, I completely misread your message and thought you
> were saying that sync MPMs do flush unconditionally :/
> 
> But still event should (try to) flush pending data when in
> WRITE_COMPLETION while c->data_in_output_filters (calling the
> core_output_filter() with NULL brigade).
> So I don't see why the response is not flushed on the network before
> entering READ_REQUEST_LINE or CHECK_REQUEST_LINE_READABLE states.

I do not get this either, but maybe some additional debug messages in
ap_core_output_filter / send_brigade_nonblocking will help us understanding this.

Something like this:

Index: server/core_filters.c
===================================================================
--- server/core_filters.c       (revision 1728304)
+++ server/core_filters.c       (working copy)
@@ -465,6 +465,12 @@
      */

     if (new_bb == NULL) {
+        apr_off_t blen;
+
+        rv = apr_brigade_length(bb, 1, &blen);
+        ap_log_cerror(APLOG_MARK, APLOG_DEBUG, rv, c,
+                      "core_output_filter: writing data to the network: Brigade length: %" APR_OFF_T_FMT,
+                      blen);
         rv = send_brigade_nonblocking(net->client_socket, bb,
                                       &(ctx->bytes_written), c);
         if (rv != APR_SUCCESS && !APR_STATUS_IS_EAGAIN(rv)) {
@@ -702,6 +708,10 @@
     }

     if (nvec > 0) {
+        ap_log_cerror(APLOG_MARK, APLOG_DEBUG, 0, c,
+                      "send_brigade_nonblocking: calling writev_nonblocking, nvec: %"
+                      APR_SIZE_T_FMT " , bytes_written: %" APR_SIZE_T_FMT,
+                      nvec, *bytes_written);
         rv = writev_nonblocking(s, vec, nvec, bb, bytes_written, c);
         if (rv != APR_SUCCESS) {
             return rv;



Regards

Rdiger

From dev-return-85417-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 14:01:57 2016
Return-Path: <dev-return-85417-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9EFC8185DD
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 14:01:57 +0000 (UTC)
Received: (qmail 48224 invoked by uid 500); 3 Feb 2016 14:01:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48150 invoked by uid 500); 3 Feb 2016 14:01:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48140 invoked by uid 99); 3 Feb 2016 14:01:35 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 14:01:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 7D2B5C1BE7
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 14:01:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 3cF8QqEP0Ldw for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 14:01:34 +0000 (UTC)
Received: from mail-qk0-f178.google.com (mail-qk0-f178.google.com [209.85.220.178])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id D6C10428ED
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 14:01:33 +0000 (UTC)
Received: by mail-qk0-f178.google.com with SMTP id x1so8129538qkc.1
        for <dev@httpd.apache.org>; Wed, 03 Feb 2016 06:01:33 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=4tPSzWBtS8+vr/6+NKO0n+xd5Flms4wxg2byRFbAT+8=;
        b=wU/I2/2Wrn7ROOks+zXbULk9edFCwEVMbjZ/2i7tXosddYl7e7LvDNrSI40rPwiEdc
         IwZQrvVl94pRkrT2W1aa36k+i9F4PhLWQVADwQdjOV8cv008KfphmHF6LyMDjeqa0ho8
         RCETMU34uRQjyKVCo8LpNUC58aa8NNyIA3hatf6uSoy2RpTway2miK6ZCOgGcSlHVWLd
         7jgR3rtcCofrM8WEHYECB+il37ZGHOAb37bYew0Ak7mHFCZDSsXJy+pkefYO11gX7bgv
         nSi9ISq//0PrWQzm0IQpMf3yAn0sb0reCTCshZlwH+90aiXW7B30KjMbs4AceictTerc
         ztCw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=4tPSzWBtS8+vr/6+NKO0n+xd5Flms4wxg2byRFbAT+8=;
        b=S9uF7tptOpinLf1ZF1HqRu/NPNFODCs/9LptT9S9eAzh62wVd8EhBPg8j/7Wy6pGYi
         ho7VaWLVXA4dNfGcrC1pwo+KlUPc6MQ5RoKsH/4JfNHQV1aqQYJ1z+nX6BLLvHfVH510
         JLiH6/LV6Ltp2vvES6GXHcQceA67qObHs+AurjlU0rIiuPLzwZbAWKm9ymLISem2oe3a
         pkFMX5ZU2+xIpR/iALOQKeHFKoKSA6Z4mZA5JaocsEFLG1uoWLn6el2Bjlz275wBI6NU
         +etbIWUv61h9efxBYVcRPIqpMNGKQhpAFVv35guTZduFbiDUrw1jfbV8ZTdo/UXXFpZh
         MhMA==
X-Gm-Message-State: AG10YOS4mTgiTVXpvRHfNvpHUqD2+gU67sTy/pcxSh4tb55BWt/29/fEPbHCAGJ21smR8euCMPpeE29K+Rt6Aw==
MIME-Version: 1.0
X-Received: by 10.55.201.71 with SMTP id q68mr1604118qki.79.1454508093642;
 Wed, 03 Feb 2016 06:01:33 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 3 Feb 2016 06:01:33 -0800 (PST)
In-Reply-To: <CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
References: <56B0803B.6080209@kraut.ca>
	<CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
	<56B19098.4060303@kraut.ca>
	<CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
	<56B1C4E9.3050306@kraut.ca>
	<CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
Date: Wed, 3 Feb 2016 15:01:33 +0100
Message-ID: <CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Feb 3, 2016 at 12:34 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> So I don't see why the response is not flushed on the network before
> entering READ_REQUEST_LINE or CHECK_REQUEST_LINE_READABLE states.

OK, I can now reproduce with mpm_event.

Joachim, looking into this from my own environment (no need to apply
patches yourself now ;)

>
> Regards,
> Yann.

From dev-return-85418-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 14:09:42 2016
Return-Path: <dev-return-85418-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3FC7F1864D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 14:09:42 +0000 (UTC)
Received: (qmail 70547 invoked by uid 500); 3 Feb 2016 14:09:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70470 invoked by uid 500); 3 Feb 2016 14:09:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70459 invoked by uid 99); 3 Feb 2016 14:09:35 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 14:09:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 04894C0179
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 14:09:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id hbsbT33QXio2 for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 14:09:26 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 4ACA131AD0
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 14:09:25 +0000 (UTC)
Received: from resomta-po-01v.sys.comcast.net ([96.114.154.225])
	by resqmta-po-05v.sys.comcast.net with comcast
	id Dq8R1s0034s37d401q9JPS; Wed, 03 Feb 2016 14:09:18 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-01v.sys.comcast.net with comcast
	id Dq9G1s00N2U0RYt01q9Hso; Wed, 03 Feb 2016 14:09:18 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Worker states for balancer members
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVOwjob_N+mRWBv8-W0YnfBNKsU=zghNYurKxz6TKHFLsw@mail.gmail.com>
Date: Wed, 3 Feb 2016 09:09:16 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <E474A18D-5C30-4D01-953B-2DC5963039B7@jaguNET.com>
References: <DC1EE0D9-2CE4-48B3-9EC3-0E6706FBAB77@jaguNET.com> <AB1691BE05AE7F4992697F2A0835627AC9FF1496@VOEXM10W.internal.vodafone.com> <9A2C6787-F774-4E91-930B-224B1AE4130B@jaguNET.com> <CAKQ1sVOwjob_N+mRWBv8-W0YnfBNKsU=zghNYurKxz6TKHFLsw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1454508558;
	bh=vtDq2AjUfHmwj9FhScpSKygtFC0UhVtgcB9Ks5nuBGU=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=la6l0FtXQmpY68zpEmNcgA0OJ2Rv11LB8V7T2yDRyQ96PeZ0bb8+ymsKegErJXY48
	 O6NB6HxWde5s1bZRtsW8biDjJSMfvDlioEcUcCvlCYyrLbcVSrf3H10Mimb0Gj09r5
	 pilXAewp7ReQVGA9gc8jothmDmLLLFGaiA2GNsJ7Tnnj8eZw1EiC0JXGOWkdYvUUpN
	 k9tCardZiScgvRK+8UVb5PfqWYBBjCemXzi8fx6Hfv+LsAf6dJlyqm19eOX4tO538z
	 4PewZPKj8LQeosrPx8uMWB6AQVcp4iH2g2QSCux+9yEDH6b3WHcGOCjb25JNUgiojO
	 uRd9fcCE6Q2xg==


> On Feb 3, 2016, at 7:30 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> 
> On Wed, Feb 3, 2016 at 1:25 PM, Jim Jagielski <jim@jagunet.com> wrote:
>> 
>> I WAS thinking about basically "making" HC_FAIL STOPPED because
>> that mode can only be set/cleared during configuration (the
>> balancer-manager doesn't provide for changing that bit) and so
>> for the life of me I can't figure out how or why anyone would be
>> using that status since it never changes...
>> 
>> Maybe we can just say that STOPPED is there for potential
>> 3rd party uses and be done w/ it :)
> 
> That's what I started to respond before yours :)
> Pasting below...
> 
> Some third-party (proxy_)modules may use DISABLED/STOPPED for their
> own purpose, but I wouldn't mind if the health check DISABLEs or STOPs
> a worker under them, these are httpd #defined yet...
> 
> So I would have been for health check to reuse STOPPED for its own
> purpose (since DISABLED is exposed via the balancer-manager, we likely
> can't change its behaviour).
> 
> But DISABLED/STOPPED are also configurable with BalancerMember's
> status=+D/S, and ~documented~ :)
>  D: Worker is disabled and will not accept any requests.
>  S: Worker is administratively stopped.
> Here both really mean "not started", so status=+S workers shouldn't be
> started later by the health check on its own, which prevents STOPPED
> reuse too.
> 
> Thus, as you suggest, we need a different a new name for health check
> (HC_FAIL), so why join the two others (with a nice trick btw)?
> 
> We probably need to keep their current/synonym meaning in httpd (at
> least in 2.4.x), and maybe we can let third party modules play with
> them distinctly after all :)


Currently, this is the impl:

When a backend can't be contacted, it is put in the ERROR state. If
the worker is set with IGNORE_ERRORS it is immediately allowed to be
retried, otherwise we wait the selected amount and retry after the
delay. If the worker is also in STOPPED, then the retry will never
happen. In other words, a STOPPED worker will never be used and will
never automatically be re-enabled. If the worker is DISABLED, then
retry will still happen and the worker could be re-enabled.

Right now, the health check module only worries about checking
workers which are USABLE, which is a worker which is !DISABLED
and !STOPPED and !IN_ERROR (basically).

I've started adjusting the docs to better clarify the diff between
DISABLED and STOPPED.

From dev-return-85419-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 14:14:10 2016
Return-Path: <dev-return-85419-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E6BAD1868E
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 14:14:10 +0000 (UTC)
Received: (qmail 82218 invoked by uid 500); 3 Feb 2016 14:13:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 82145 invoked by uid 500); 3 Feb 2016 14:13:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82134 invoked by uid 99); 3 Feb 2016 14:13:36 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 14:13:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id CA09CC01A8
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 14:13:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.318
X-Spam-Level: ***
X-Spam-Status: No, score=3.318 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=2.5,
	RDNS_DYNAMIC=0.363, RP_MATCHES_RCVD=-0.545, SPF_HELO_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Ue3QblXgl3Kx for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 14:13:28 +0000 (UTC)
Received: from nebula.c8h10n4o2.org.uk (nebula.c8h10n4o2.org.uk [80.68.88.207])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2BB3542B96
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 14:13:28 +0000 (UTC)
Received: from 188.29.77.196.threembb.co.uk ([188.29.77.196])
	by nebula.c8h10n4o2.org.uk with esmtpsa (TLS1.2:ECDHE_RSA_AES_256_CBC_SHA1:256)
	(Exim 4.84)
	(envelope-from <isoma@c8h10n4o2.org.uk>)
	id 1aQyBM-00059y-5K
	for dev@httpd.apache.org; Wed, 03 Feb 2016 14:13:20 +0000
User-Agent: K-9 Mail for Android
In-Reply-To: <9A2C6787-F774-4E91-930B-224B1AE4130B@jaguNET.com>
References: <DC1EE0D9-2CE4-48B3-9EC3-0E6706FBAB77@jaguNET.com> <AB1691BE05AE7F4992697F2A0835627AC9FF1496@VOEXM10W.internal.vodafone.com> <9A2C6787-F774-4E91-930B-224B1AE4130B@jaguNET.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Content-Type: text/plain;
 charset=UTF-8
Subject: Re: Worker states for balancer members
From: Tim Bannister <isoma@c8h10n4o2.org.uk>
Date: Wed, 03 Feb 2016 14:13:14 +0000
To: dev@httpd.apache.org
Message-ID: <38880365-7BA8-4CD0-9F6B-C37128094BB2@c8h10n4o2.org.uk>

On 3 February 2016 12:25:21 GMT, Jim Jagielski wrote:
>
>Maybe we can just say that STOPPED is there for potential
>3rd party uses and be done w/ it :)

+1 to that philosophy

-- 
Tim Bannister  isoma@c8h10n4o2.org.uk

From dev-return-85420-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 14:23:13 2016
Return-Path: <dev-return-85420-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CCC6B18709
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 14:23:13 +0000 (UTC)
Received: (qmail 8247 invoked by uid 500); 3 Feb 2016 14:22:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 8183 invoked by uid 500); 3 Feb 2016 14:22:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 8173 invoked by uid 99); 3 Feb 2016 14:22:14 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 14:22:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 53C97180185
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 14:22:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id FuQnMWb0qKwf for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 14:22:05 +0000 (UTC)
Received: from resqmta-po-03v.sys.comcast.net (resqmta-po-03v.sys.comcast.net [96.114.154.162])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 73B4142B96
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 14:22:05 +0000 (UTC)
Received: from resomta-po-15v.sys.comcast.net ([96.114.154.239])
	by resqmta-po-03v.sys.comcast.net with comcast
	id DqLc1s0015AAYLo01qMzQn; Wed, 03 Feb 2016 14:21:59 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-15v.sys.comcast.net with comcast
	id DqMy1s00M2U0RYt01qMzFE; Wed, 03 Feb 2016 14:21:59 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Worker states for balancer members
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <E474A18D-5C30-4D01-953B-2DC5963039B7@jaguNET.com>
Date: Wed, 3 Feb 2016 09:21:58 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <07201070-F01D-4EEA-95AC-EE78968174E4@jaguNET.com>
References: <DC1EE0D9-2CE4-48B3-9EC3-0E6706FBAB77@jaguNET.com> <AB1691BE05AE7F4992697F2A0835627AC9FF1496@VOEXM10W.internal.vodafone.com> <9A2C6787-F774-4E91-930B-224B1AE4130B@jaguNET.com> <CAKQ1sVOwjob_N+mRWBv8-W0YnfBNKsU=zghNYurKxz6TKHFLsw@mail.gmail.com> <E474A18D-5C30-4D01-953B-2DC5963039B7@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1454509319;
	bh=gvw/bx3TEL62S83gVtL8tMElmlR54zpw36mBjWtXUIU=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=If9SJxTlldQcP5/N7KEV2gmuDEQlraburY24tqW5GVxJuNn8G1AvZDjO1TzW72yuY
	 7T8nLuqwfyr7aic2ix8ah5mgmYxAWf4TQDiY8ElHSFaHJ9IQyNftKwP1qUnnzYLATD
	 lpustTuYx7ntSjnEHcIcesNr3KUNYqH5IPRuFUboJsKoRtmNFdMCZsl8Phm03aO3nl
	 CjRAduGrRYC+tmZhOAmk6zya9VHkWVMAPcCuT9wknAM9szK8yuTp2weyAzfgj9++Ax
	 X24ubxfsf7TT/0KmlSJBV7itoDAIlcALBZZfaakKUw2PpyEQYzJpbInu724j0on/pS
	 zkkVPfNf6gcRA==


> On Feb 3, 2016, at 9:09 AM, Jim Jagielski <jim@jaguNET.com> wrote:
> 
> 
> Right now, the health check module only worries about checking
> workers which are USABLE, which is a worker which is !DISABLED
> and !STOPPED and !IN_ERROR (basically).
> 

Actually, that's not the case, and something I wanted to
discuss. Right now, the health-check process checks ALL
workers... and it simply sets or clears the HC_FAIL flag
(which marks the worker as !USABLE).

My plan is to update it so that it checks all workers
EXCEPT those in STOPPED (this would also differentiate
STOPPED and DISABLED). The question is, if the health check
passes, should it also clear the IN_ERROR flag? I think it
should.

Sooo

STOPPED: Never sent proxy traffic. Never health-checked. Never
         re-tried. Never automatically re-enabled.

DISABLED: Never sent proxy traffic. Is health-checked. Retried.
          Could be automatically re-enabled.

Health-Check:
   o On success, clears HC_FAIL and IN_ERROR (USABLE)
   o On failure, sets HC_FAIL (!USABLE)

From dev-return-85421-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 14:24:45 2016
Return-Path: <dev-return-85421-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1569C1871C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 14:24:45 +0000 (UTC)
Received: (qmail 19287 invoked by uid 500); 3 Feb 2016 14:24:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19218 invoked by uid 500); 3 Feb 2016 14:24:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19205 invoked by uid 99); 3 Feb 2016 14:24:44 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 14:24:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id D24651A03A6
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 14:24:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.998
X-Spam-Level:
X-Spam-Status: No, score=0.998 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 8oSY-Cd_m8bA for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 14:24:42 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.141])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id A67BA20CDE
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 14:24:41 +0000 (UTC)
Received: from [85.158.139.163] by server-5.bemta-5.messagelabs.com id 26/17-03225-1AD02B65; Wed, 03 Feb 2016 14:24:33 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-5.tower-188.messagelabs.com!1454509472!14720917!1
X-Originating-IP: [195.232.244.135]
X-StarScan-Received:
X-StarScan-Version: 7.35.1; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 1291 invoked from network); 3 Feb 2016 14:24:32 -0000
Received: from mailout03.vodafone.com (HELO mailout03.vodafone.com) (195.232.244.135)
  by server-5.tower-188.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 3 Feb 2016 14:24:32 -0000
Received: from mailint02.vodafone.com (mailint02.vodafone.com [195.232.244.199])
	by mailout03.vodafone.com (Postfix) with ESMTP id 3pwQJ00lc1z17HP8
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 15:24:32 +0100 (CET)
Received: from mailint02.vodafone.com (localhost [127.0.0.1])
	by mailint02.vodafone.com (Postfix) with ESMTP id 3pwQHz6wn6zQrL9
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 15:24:31 +0100 (CET)
Received: from VOEXC04W.internal.vodafone.com (voexc04w.dc-ratingen.de [145.230.101.24])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint02.vodafone.com (Postfix) with ESMTPS id 3pwQHz6s37zQr6n
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 15:24:31 +0100 (CET)
Received: from VOEXC08W.internal.vodafone.com (145.230.101.28) by
 VOEXC04W.internal.vodafone.com (145.230.101.24) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Wed, 3 Feb 2016 15:24:31 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.216]) by
 voexc08w.internal.vodafone.com ([145.230.101.28]) with mapi id
 14.03.0224.002; Wed, 3 Feb 2016 15:24:29 +0100
From: =?iso-8859-1?Q?Pl=FCm=2C_R=FCdiger=2C_Vodafone_Group?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: Worker states for balancer members
Thread-Topic: Worker states for balancer members
Thread-Index: AQHRXgLhqzOCNQaZT0qQv9tViFGzGJ8Z91jwgAA3xICAAAFwAIAAG5kAgAADjACAABFlIA==
Date: Wed, 3 Feb 2016 14:24:28 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC9FF37C9@VOEXM10W.internal.vodafone.com>
References: <DC1EE0D9-2CE4-48B3-9EC3-0E6706FBAB77@jaguNET.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF1496@VOEXM10W.internal.vodafone.com>
 <9A2C6787-F774-4E91-930B-224B1AE4130B@jaguNET.com>
 <CAKQ1sVOwjob_N+mRWBv8-W0YnfBNKsU=zghNYurKxz6TKHFLsw@mail.gmail.com>
 <E474A18D-5C30-4D01-953B-2DC5963039B7@jaguNET.com>
 <07201070-F01D-4EEA-95AC-EE78968174E4@jaguNET.com>
In-Reply-To: <07201070-F01D-4EEA-95AC-EE78968174E4@jaguNET.com>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0



> -----Urspr=FCngliche Nachricht-----
> Von: Jim Jagielski [mailto:jim@jaguNET.com]
> Gesendet: Mittwoch, 3. Februar 2016 15:22
> An: dev@httpd.apache.org
> Betreff: Re: Worker states for balancer members
>=20
>=20
> > On Feb 3, 2016, at 9:09 AM, Jim Jagielski <jim@jaguNET.com> wrote:
> >
> >
> > Right now, the health check module only worries about checking
> > workers which are USABLE, which is a worker which is !DISABLED
> > and !STOPPED and !IN_ERROR (basically).
> >
>=20
> Actually, that's not the case, and something I wanted to
> discuss. Right now, the health-check process checks ALL
> workers... and it simply sets or clears the HC_FAIL flag
> (which marks the worker as !USABLE).
>=20
> My plan is to update it so that it checks all workers
> EXCEPT those in STOPPED (this would also differentiate
> STOPPED and DISABLED). The question is, if the health check
> passes, should it also clear the IN_ERROR flag? I think it
> should.
>=20
> Sooo
>=20
> STOPPED: Never sent proxy traffic. Never health-checked. Never
>          re-tried. Never automatically re-enabled.
>=20
> DISABLED: Never sent proxy traffic. Is health-checked. Retried.
>           Could be automatically re-enabled.
>=20
> Health-Check:
>    o On success, clears HC_FAIL and IN_ERROR (USABLE)
>    o On failure, sets HC_FAIL (!USABLE)

Sounds sensible.

Regards

R=FCdiger


From dev-return-85422-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 14:37:22 2016
Return-Path: <dev-return-85422-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ADB0A187F8
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 14:37:22 +0000 (UTC)
Received: (qmail 63075 invoked by uid 500); 3 Feb 2016 14:37:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63015 invoked by uid 500); 3 Feb 2016 14:37:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63005 invoked by uid 99); 3 Feb 2016 14:37:09 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 14:37:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 0A7EAC1C75
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 14:37:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id l8IWCJDBOzii for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 14:37:07 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id DDAE8428ED
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 14:37:06 +0000 (UTC)
Received: by mail-qg0-f52.google.com with SMTP id o11so16742492qge.2
        for <dev@httpd.apache.org>; Wed, 03 Feb 2016 06:37:06 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=SgRB/85doYwyQeDe8oYiTtASgZ4xG+xJWzn5/44Jpe8=;
        b=QqBqfJpOTkEm/6ATwyeRMyFK+znjd1wLxTsY5S+kDWoRnQBfjqBf1XGo2cyuet/61D
         lRsas2ZY7LJNMNi2Qun2Qctd0LnZcxqEV0TyRsvUpNU1jyiXR5+BS6fC3lBFAnK/dqU3
         IoW1aSUFmWNBZ90nuZwXE7XhHVsITdewQjzmjwXJFnVjAGe/cU/m6B4XkJ9Mix5ZcM+l
         Xo3XRRFjtrs8vOPbbxPCSHFT4EQ+R6qDBZGBmWeBwHjbJhppudBPcBje9iB4nxap+ndm
         HlOonprkcpSqybaOiEbzK1q10u+apERqc5Td1dV6xJBGrFwI66k/oidfxZcBN/TZZxV9
         AbqA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=SgRB/85doYwyQeDe8oYiTtASgZ4xG+xJWzn5/44Jpe8=;
        b=UIhgN7g2ORroW4SP5pac2CyUo+pFVtvkH+UmbUFt/YKRdAJ0vBqq4fXWdYaOG9zRME
         rwfsNhSGO8/XmMm5fbYREQl8lzPN1Yb9Udanf02iUgcs9WfNBx0aNpNNTcsBvCYORViN
         T6qOLu0e2iDtQR2G6PAiOaZCzo5bm6nrs6G3yRYtEPesuTR0W1akc/gLnf6WI658Nios
         kYQKr5eGVmcvNwK+3l3yrU+6b0KGLf1FOWCLZz0e9+HaDwldi6gUG3a17SISgB6MbEfr
         j/r7QwnWmt85Y/UTGk/5E4THqOzvgNOC5pb2JgyRhnmjenOKrmqQzVJLJROufh4G+zzi
         8MsA==
X-Gm-Message-State: AG10YOTA5letRMuWDfX1VqNOEyOnPNoSXYcpEyXW+rIqbzWwyenW/QU8Yu1kae+lDgrZ8w41W5kf428PqZhcTA==
MIME-Version: 1.0
X-Received: by 10.140.179.216 with SMTP id z207mr2134874qhz.70.1454510220768;
 Wed, 03 Feb 2016 06:37:00 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 3 Feb 2016 06:37:00 -0800 (PST)
In-Reply-To: <07201070-F01D-4EEA-95AC-EE78968174E4@jaguNET.com>
References: <DC1EE0D9-2CE4-48B3-9EC3-0E6706FBAB77@jaguNET.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF1496@VOEXM10W.internal.vodafone.com>
	<9A2C6787-F774-4E91-930B-224B1AE4130B@jaguNET.com>
	<CAKQ1sVOwjob_N+mRWBv8-W0YnfBNKsU=zghNYurKxz6TKHFLsw@mail.gmail.com>
	<E474A18D-5C30-4D01-953B-2DC5963039B7@jaguNET.com>
	<07201070-F01D-4EEA-95AC-EE78968174E4@jaguNET.com>
Date: Wed, 3 Feb 2016 15:37:00 +0100
Message-ID: <CAKQ1sVMGmEy2yAaEmaBcU=SGzp6tv33RyHzW41ZSt5Jp_SFSsQ@mail.gmail.com>
Subject: Re: Worker states for balancer members
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Feb 3, 2016 at 3:21 PM, Jim Jagielski <jim@jagunet.com> wrote:
>
> Sooo
>
> STOPPED: Never sent proxy traffic. Never health-checked. Never
>          re-tried. Never automatically re-enabled.
>
> DISABLED: Never sent proxy traffic. Is health-checked. Retried.
>           Could be automatically re-enabled.
>
> Health-Check:
>    o On success, clears HC_FAIL and IN_ERROR (USABLE)
>    o On failure, sets HC_FAIL (!USABLE)

+1

I wonder if r1728304 is needed though, if a STOPPED worker is not
elligible, it should never be in the ERROR state, am I missing
something?

From dev-return-85423-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 15:01:35 2016
Return-Path: <dev-return-85423-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4C47418901
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 15:01:35 +0000 (UTC)
Received: (qmail 33441 invoked by uid 500); 3 Feb 2016 15:01:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33370 invoked by uid 500); 3 Feb 2016 15:01:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33360 invoked by uid 99); 3 Feb 2016 15:01:12 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 15:01:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4DC97C1D0D
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 15:01:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id wL86l9_50BGp for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 15:01:11 +0000 (UTC)
Received: from mail-qg0-f44.google.com (mail-qg0-f44.google.com [209.85.192.44])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 9E2E731B44
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 15:01:10 +0000 (UTC)
Received: by mail-qg0-f44.google.com with SMTP id o11so17303354qge.2
        for <dev@httpd.apache.org>; Wed, 03 Feb 2016 07:01:10 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=c8WqGZy6IRZ5kDsWQaAhomkamX0l5LypsN4Sts/tOKE=;
        b=pbuk1uABfB6HOp18nU+YkE5cGVhrmNXeQN2je0W6Sd6dNCjRwMSf0OTmS97ulwnmD9
         eELNxu/pVCTwhuIJBy12kuQswN9Q8yz4MJWAWmBuXFhSDf8kgGNJ+RYUCQ+wqo0xeLJG
         saoyCbKUwNYbzNcDFqiUKpRlo7t+VHIXXNAjRAseDjs8cvTOHbH+AmiusAtX92dqV33f
         Me3R78ryiYB6jRm6Itgm648zjbHCgWK1UM+PDTaLDsEvtDweFrQ3tk6KDLP2CPgeXXWv
         FbjAr5/xLPOY08wsv9XBvAqep5ts1Cw6HfoEgQiaRD4gvnPgZAtiTmu36Lw048iYTHuF
         7/rw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=c8WqGZy6IRZ5kDsWQaAhomkamX0l5LypsN4Sts/tOKE=;
        b=dtaDaC4hQwUZu4xhLab7Tv7h1jeHmCeYXdNCeqw9+CZBdc9p9DKfny0Yqd+4JGajDF
         hvde5aBomIPQYJXu7ej/u/sBDv4aLKOIbnXzqINCYY+P5nqvAQUKooLncRLk2YQMU+qk
         SIKgHMTHtecN/FtFDNir9TCdgtS4zZuKwHLKrArP72TgbwtuEYxRgjAD8rrvo6wT0Hza
         YXDJ6ES4vJKTlJq4ZvSJG1fAkb9H9cwc8uAqBTvcrxqm1qZm73LZt+53zg1wBMHoyVN2
         WNZskE3twEDOam9Yjyz73vftGuLKZpEtukg7nPzx0qI/GeQgTosxylDQ4tRA1LqRSRS2
         jTrw==
X-Gm-Message-State: AG10YOTGJlXbQZgmwl8J5qvCFPpo3fI6ZiO+a01uNaJo/LBrA5jOvWM+EX+LeVM/nB389KbKJV5TTeZfqQ26zg==
MIME-Version: 1.0
X-Received: by 10.140.167.135 with SMTP id n129mr2111111qhn.73.1454511669789;
 Wed, 03 Feb 2016 07:01:09 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 3 Feb 2016 07:01:09 -0800 (PST)
In-Reply-To: <CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
References: <56B0803B.6080209@kraut.ca>
	<CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
	<56B19098.4060303@kraut.ca>
	<CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
	<56B1C4E9.3050306@kraut.ca>
	<CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
	<CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
Date: Wed, 3 Feb 2016 16:01:09 +0100
Message-ID: <CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Feb 3, 2016 at 3:01 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Wed, Feb 3, 2016 at 12:34 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote=
:
>>
>> So I don't see why the response is not flushed on the network before
>> entering READ_REQUEST_LINE or CHECK_REQUEST_LINE_READABLE states.
>
> OK, I can now reproduce with mpm_event.

Actually no. I can reproduce the pending data not being flushed by a
FLUSH bucket (which is expected with event), but still event flushes
them by calling the core output filter directly, and it works here...

>
> Joachim, looking into this from my own environment (no need to apply
> patches yourself now ;)

So unfortunately there seem to be something special in your
environment which prevents non-blocking writes to go out (not talking
about the weird TLS handshake played by the client according to the
pcap).

Could you try R=C3=BCdiger's (logging) patch?
And maybe take network traces on the server side?

Thanks,
Yann.

From dev-return-85424-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 15:06:55 2016
Return-Path: <dev-return-85424-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F174718921
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 15:06:54 +0000 (UTC)
Received: (qmail 49965 invoked by uid 500); 3 Feb 2016 15:06:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49904 invoked by uid 500); 3 Feb 2016 15:06:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49894 invoked by uid 99); 3 Feb 2016 15:06:48 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 15:06:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 933EE180511
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 14:53:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id GuboZPIcMmaS for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 14:53:26 +0000 (UTC)
Received: from resqmta-ch2-08v.sys.comcast.net (resqmta-ch2-08v.sys.comcast.net [69.252.207.40])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id A17EC231C8
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 14:53:26 +0000 (UTC)
Received: from resomta-ch2-01v.sys.comcast.net ([69.252.207.97])
	by resqmta-ch2-08v.sys.comcast.net with comcast
	id Dqt01s00326dK1R01qtL7o; Wed, 03 Feb 2016 14:53:20 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-01v.sys.comcast.net with comcast
	id DqtK1s0072U0RYt01qtKCS; Wed, 03 Feb 2016 14:53:20 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Worker states for balancer members
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVMGmEy2yAaEmaBcU=SGzp6tv33RyHzW41ZSt5Jp_SFSsQ@mail.gmail.com>
Date: Wed, 3 Feb 2016 09:53:19 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <38736D5B-BF99-4F27-8437-74AECDD8EB5B@jaguNET.com>
References: <DC1EE0D9-2CE4-48B3-9EC3-0E6706FBAB77@jaguNET.com> <AB1691BE05AE7F4992697F2A0835627AC9FF1496@VOEXM10W.internal.vodafone.com> <9A2C6787-F774-4E91-930B-224B1AE4130B@jaguNET.com> <CAKQ1sVOwjob_N+mRWBv8-W0YnfBNKsU=zghNYurKxz6TKHFLsw@mail.gmail.com> <E474A18D-5C30-4D01-953B-2DC5963039B7@jaguNET.com> <07201070-F01D-4EEA-95AC-EE78968174E4@jaguNET.com> <CAKQ1sVMGmEy2yAaEmaBcU=SGzp6tv33RyHzW41ZSt5Jp_SFSsQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1454511200;
	bh=/EmWM1pCInTm9RIrEXSqO9E0QzVUzojUVRTtKIrhdnQ=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=t3vhEA87rLqrmqedc2N4kko7cbAmGoxr9maHwZ4Ya0dYb4n3cDbg1q43VU5n2PFP1
	 D5rVuWhyMxJo5csWtIkhhlU9QKvMgyh+4N/5v9E6xJ7PwLl1UYRIBZsMGbYqGmju1S
	 FVpc90s5voaApVFO4JCoYWQZjAMQpCvSLy9WW7pu5zeOJmVHfZai0jcPtSnlykOoLw
	 lV5duZOmUYKzBLQ6ASPNnsalLZ+37Lwnt9HU8JtD+Q3+RAI6+5TLyhI6667wGVBRG/
	 HkYr0H9nd4DmyGQ5yGuJAxhhfPC2MEDY87Jsh+kmarDnSg1uckfeuWeb/iebcgyRon
	 XkQFWsiJavzfA==


> On Feb 3, 2016, at 9:37 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> 
> On Wed, Feb 3, 2016 at 3:21 PM, Jim Jagielski <jim@jagunet.com> wrote:
>> 
>> Sooo
>> 
>> STOPPED: Never sent proxy traffic. Never health-checked. Never
>>         re-tried. Never automatically re-enabled.
>> 
>> DISABLED: Never sent proxy traffic. Is health-checked. Retried.
>>          Could be automatically re-enabled.
>> 
>> Health-Check:
>>   o On success, clears HC_FAIL and IN_ERROR (USABLE)
>>   o On failure, sets HC_FAIL (!USABLE)
> 
> +1
> 
> I wonder if r1728304 is needed though, if a STOPPED worker is not
> elligible, it should never be in the ERROR state, am I missing
> something?

The thing is you never know... a 3rd party mechanism may be
putting it in ERROR.

From dev-return-85425-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 15:53:48 2016
Return-Path: <dev-return-85425-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1B99F18B1B
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 15:53:48 +0000 (UTC)
Received: (qmail 89211 invoked by uid 500); 3 Feb 2016 15:53:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89130 invoked by uid 500); 3 Feb 2016 15:53:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89120 invoked by uid 99); 3 Feb 2016 15:53:42 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 15:53:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 278381804DD
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 15:53:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id BOr1onAD0_v7 for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 15:53:41 +0000 (UTC)
Received: from mail-qk0-f170.google.com (mail-qk0-f170.google.com [209.85.220.170])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 1AE4831AE4
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 15:53:40 +0000 (UTC)
Received: by mail-qk0-f170.google.com with SMTP id s68so9399744qkh.3
        for <dev@httpd.apache.org>; Wed, 03 Feb 2016 07:53:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=cQBNKG8ym/codZqtD5YQrxgvO0/c4kWQpvyHqAi/hEs=;
        b=tFFT/NNN1AvfABkcpP1Pb5DFXCvJLLhLDfALHA3rHfmH2dBw6NCYUiiB2sn3ymZneu
         rPHX+G2iA9qHKvpIFzz6AQ3ew/v0UBHWtweHAaFztWYhiFLXlmJNo4am3qdKhIpjvfaR
         y7fIcO5WnYya9frW2BuIuFw6VL9JVI3gzDbmWrdEeHNSSf1eII37cyFGmrb2tCg5J8WO
         iMOTyIs5lEcWCwLM4ZtRvfm1+0LQ4kLbgltfGDcZkFCJfqiRNSTwUF2k5Z3Fk+/erS8P
         dgdSfnuXPOggZnX75f4OiTjdR8NB+RvAFD6u9e9+jXA5WNahgSMxyrYVF+85/X5XdIac
         yZZQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=cQBNKG8ym/codZqtD5YQrxgvO0/c4kWQpvyHqAi/hEs=;
        b=AUmdZc/bJmzlWgIAMtww7PiFRCBCx1rNpyAE3+FTRfT9wW+qIAB+kbb/ZdbKKzaNLn
         qvtzDuLGTwCdEbKWKoeRrjmtzA0hJOLes0YXR7a2fU/lGlQmV0gO7yv5m7QBKzfI8zm9
         a/uDmXG1UbYxPmIyOMVL7ttX6exyix5m8PhUJEGlUh8Osx249s+49tkBcSKH1VocxoK5
         MNrDtKRjaktui/hxA+qHyVcbHxRdL4c6bwhjkYbpIiqdPjeFwJTKMG1N/krg5ctSuFO8
         HGhyHAKqSTEMiklHzx2GdTTqhRXM45XVkd6PUxC7mXkQdXTqfg6HFymsai/q808JLAxs
         nLZA==
X-Gm-Message-State: AG10YORi6e10ZiUtxfnh5rEQyvEPAuZZYlTqUom/6VleTBYREVkqQ5llZJyLjccbm2Re4hJqqNXK3sP/5YQ8Zw==
MIME-Version: 1.0
X-Received: by 10.55.75.203 with SMTP id y194mr2529852qka.2.1454514819160;
 Wed, 03 Feb 2016 07:53:39 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 3 Feb 2016 07:53:38 -0800 (PST)
In-Reply-To: <CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
References: <56B0803B.6080209@kraut.ca>
	<CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
	<56B19098.4060303@kraut.ca>
	<CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
	<56B1C4E9.3050306@kraut.ca>
	<CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
	<CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
	<CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
Date: Wed, 3 Feb 2016 16:53:38 +0100
Message-ID: <CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: multipart/mixed; boundary=001a114a8f341dfdd4052adf9fd2

--001a114a8f341dfdd4052adf9fd2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Feb 3, 2016 at 4:01 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Wed, Feb 3, 2016 at 3:01 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> Joachim, looking into this from my own environment (no need to apply
>> patches yourself now ;)
>
> So unfortunately there seem to be something special in your
> environment which prevents non-blocking writes to go out (not talking
> about the weird TLS handshake played by the client according to the
> pcap).
>
> Could you try R=C3=BCdiger's (logging) patch?

I suggest you use the attached patch instead (replacing any previous
one), so that we log the output path taken when mod_ssl is in the
place.

> And maybe take network traces on the server side?

That would be really nice too.

>
> Thanks,
> Yann.

--001a114a8f341dfdd4052adf9fd2
Content-Type: application/x-download; name="modssl_ssl_need_flush-v4.patch"
Content-Disposition: attachment; filename="modssl_ssl_need_flush-v4.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ik70jsn20

SW5kZXg6IG1vZHVsZXMvc3NsL3NzbF9lbmdpbmVfaW8uYwo9PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVz
L3NzbC9zc2xfZW5naW5lX2lvLmMJKHJldmlzaW9uIDE3Mjc5MjMpCisrKyBtb2R1bGVzL3NzbC9z
c2xfZW5naW5lX2lvLmMJKHdvcmtpbmcgY29weSkKQEAgLTE0Nyw2ICsxNDcsOSBAQCBzdGF0aWMg
aW50IGJpb19maWx0ZXJfb3V0X2ZsdXNoKEJJTyAqYmlvKQogICAgIGJpb19maWx0ZXJfb3V0X2N0
eF90ICpvdXRjdHggPSAoYmlvX2ZpbHRlcl9vdXRfY3R4X3QgKikoYmlvLT5wdHIpOwogICAgIGFw
cl9idWNrZXQgKmU7CiAKKyAgICBhcF9sb2dfY2Vycm9yKEFQTE9HX01BUkssIEFQTE9HX05PVElD
RSwgMCwgb3V0Y3R4LT5jLAorICAgICAgICAgICAgICAgICAgImJpb1slcHBdIG91dDogRkxVU0gi
LCBiaW8pOworCiAgICAgQVBfREVCVUdfQVNTRVJUKEFQUl9CUklHQURFX0VNUFRZKG91dGN0eC0+
YmIpKTsKIAogICAgIGUgPSBhcHJfYnVja2V0X2ZsdXNoX2NyZWF0ZShvdXRjdHgtPmJiLT5idWNr
ZXRfYWxsb2MpOwpAQCAtMjIyLDkgKzIyNSwxNSBAQCBzdGF0aWMgaW50IGJpb19maWx0ZXJfb3V0
X3dyaXRlKEJJTyAqYmlvLCBjb25zdCBjaAogICAgICBuZWVkX2ZsdXNoID0gU1NMX2luX2Nvbm5l
Y3RfaW5pdChvdXRjdHgtPmZpbHRlcl9jdHgtPnBzc2wpOwogI2VuZGlmCiAgICAgaWYgKG5lZWRf
Zmx1c2gpIHsKKyAgICAgICAgYXBfbG9nX2NlcnJvcihBUExPR19NQVJLLCBBUExPR19OT1RJQ0Us
IDAsIG91dGN0eC0+YywKKyAgICAgICAgICAgICAgICAgICAgICAiYmlvWyVwcF0gb3V0OiBmbHVz
aCAlZCBieXRlcyIsIGJpbywgaW5sKTsKICAgICAgICAgZSA9IGFwcl9idWNrZXRfZmx1c2hfY3Jl
YXRlKG91dGN0eC0+YmItPmJ1Y2tldF9hbGxvYyk7CiAgICAgICAgIEFQUl9CUklHQURFX0lOU0VS
VF9UQUlMKG91dGN0eC0+YmIsIGUpOwogICAgIH0KKyAgICBlbHNlIHsKKyAgICAgICAgYXBfbG9n
X2NlcnJvcihBUExPR19NQVJLLCBBUExPR19OT1RJQ0UsIDAsIG91dGN0eC0+YywKKyAgICAgICAg
ICAgICAgICAgICAgICAiYmlvWyVwcF0gb3V0OiBwYXNzICVkIGJ5dGVzIiwgYmlvLCBpbmwpOwor
ICAgIH0KIAogICAgIGlmIChiaW9fZmlsdGVyX291dF9wYXNzKG91dGN0eCkgPCAwKSB7CiAgICAg
ICAgIHJldHVybiAtMTsKQEAgLTQ5OSw2ICs1MDgsMTAgQEAgc3RhdGljIGludCBiaW9fZmlsdGVy
X2luX3JlYWQoQklPICpiaW8sIGNoYXIgKmluLAogCiAgICAgaW5jdHgtPnJjID0gYnJpZ2FkZV9j
b25zdW1lKGluY3R4LT5iYiwgYmxvY2ssIGluLCAmaW5sKTsKIAorICAgIGFwX2xvZ19jZXJyb3Io
QVBMT0dfTUFSSywgQVBMT0dfTk9USUNFLCBpbmN0eC0+cmMsCisgICAgICAgICAgICAgICAgICBT
U0xfZ2V0X2FwcF9kYXRhKGluY3R4LT5maWx0ZXJfY3R4LT5wc3NsKSwKKyAgICAgICAgICAgICAg
ICAgICJiaW9bJXBwXSBpbjogcmVhZCAlIiBBUFJfU0laRV9UX0ZNVCAiIGJ5dGVzIiwgYmlvLCBp
bmwpOworCiAgICAgaWYgKGluY3R4LT5yYyA9PSBBUFJfU1VDQ0VTUykgewogICAgICAgICByZXR1
cm4gKGludClpbmw7CiAgICAgfQpAQCAtMTYyMiw2ICsxNjM1LDEwIEBAIHN0YXRpYyBhcHJfc3Rh
dHVzX3Qgc3NsX2lvX2ZpbHRlcl9vdXRwdXQoYXBfZmlsdGVyCiAgICAgICAgIGFwcl9idWNrZXQg
KmJ1Y2tldCA9IEFQUl9CUklHQURFX0ZJUlNUKGJiKTsKIAogICAgICAgICBpZiAoQVBSX0JVQ0tF
VF9JU19NRVRBREFUQShidWNrZXQpKSB7CisgICAgICAgICAgICBhcF9sb2dfY2Vycm9yKEFQTE9H
X01BUkssIEFQTE9HX05PVElDRSwgMCwgZi0+YywKKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ImJpb1slcHBdIG91dDogTUVUQURBVEEgJXMiLAorICAgICAgICAgICAgICAgICAgICAgICAgICBm
aWx0ZXJfY3R4LT5wYmlvV3JpdGUsCisgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldC0+
dHlwZS0+bmFtZSk7CiAgICAgICAgICAgICAvKiBQYXNzIHRocm91Z2ggbWV0YWRhdGEgYnVja2V0
cyB1bnRvdWNoZWQuICBFT0MgaXMKICAgICAgICAgICAgICAqIHNwZWNpYWw7IHRlcm1pbmF0ZSB0
aGUgU1NMIGxheWVyIGZpcnN0LiAqLwogICAgICAgICAgICAgaWYgKEFQX0JVQ0tFVF9JU19FT0Mo
YnVja2V0KSkgewpAQCAtMTYzNCw3ICsxNjUxLDExIEBAIHN0YXRpYyBhcHJfc3RhdHVzX3Qgc3Ns
X2lvX2ZpbHRlcl9vdXRwdXQoYXBfZmlsdGVyCiAgICAgICAgICAgICAgKiBvdXRjdHgtPmJiIGFz
IGEgdHJ1ZSBidWZmZXIgYW5kIGludGVybGVhdmUgdGhlc2Ugd2l0aAogICAgICAgICAgICAgICog
ZGF0YSBidWNrZXRzLiAqLwogICAgICAgICAgICAgQVBSX0JVQ0tFVF9SRU1PVkUoYnVja2V0KTsK
KyNpZiAwCisgICAgICAgICAgICBBUFJfQlJJR0FERV9JTlNFUlRfVEFJTChvdXRjdHgtPmJiLCBi
dWNrZXQpOworI2Vsc2UKICAgICAgICAgICAgIEFQUl9CUklHQURFX0lOU0VSVF9IRUFEKG91dGN0
eC0+YmIsIGJ1Y2tldCk7CisjZW5kaWYKICAgICAgICAgICAgIHN0YXR1cyA9IGFwX3Bhc3NfYnJp
Z2FkZShmLT5uZXh0LCBvdXRjdHgtPmJiKTsKICAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gQVBS
X1NVQ0NFU1MgJiYgZi0+Yy0+YWJvcnRlZCkKICAgICAgICAgICAgICAgICBzdGF0dXMgPSBBUFJf
RUNPTk5SRVNFVDsKSW5kZXg6IG1vZHVsZXMvaHR0cC9odHRwX3JlcXVlc3QuYwo9PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
Ci0tLSBtb2R1bGVzL2h0dHAvaHR0cF9yZXF1ZXN0LmMJKHJldmlzaW9uIDE3Mjc5MjMpCisrKyBt
b2R1bGVzL2h0dHAvaHR0cF9yZXF1ZXN0LmMJKHdvcmtpbmcgY29weSkKQEAgLTI1NCw2ICsyNTQs
MTAgQEAgc3RhdGljIHZvaWQgY2hlY2tfcGlwZWxpbmUoY29ubl9yZWMgKmMsIGFwcl9idWNrZXQK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJDYW4ndCBjb25zdW1lIHBpcGVsaW5lZCBl
bXB0eSBsaW5lcyIpOwogICAgICAgICAgICAgICAgIGMtPmtlZXBhbGl2ZSA9IEFQX0NPTk5fQ0xP
U0U7CiAgICAgICAgICAgICB9CisgICAgICAgICAgICBlbHNlIHsKKyAgICAgICAgICAgICAgICBh
cF9sb2dfY2Vycm9yKEFQTE9HX01BUkssIEFQTE9HX05PVElDRSwgcnYsIGMsCisgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAiY2hlY2tfcGlwZWxpbmU6IG5vIGRhdGEiKTsKKyAgICAgICAg
ICAgIH0KICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICB9CiAKQEAgLTI4NCw2ICsyODgsMTAg
QEAgc3RhdGljIHZvaWQgY2hlY2tfcGlwZWxpbmUoY29ubl9yZWMgKmMsIGFwcl9idWNrZXQKICAg
ICAgICAgICAgIGJyZWFrOwogICAgICAgICB9CiAKKyAgICAgICAgYXBfbG9nX2NlcnJvcihBUExP
R19NQVJLLCBBUExPR19OT1RJQ0UsIHJ2LCBjLAorICAgICAgICAgICAgICAgICAgICAgICJjaGVj
a19waXBlbGluZTogZ290IDB4JXgiLAorICAgICAgICAgICAgICAgICAgICAgIChpbnQpKGNyID8g
YnVmWzFdIDogYnVmWzBdKSk7CisKICAgICAgICAgaWYgKG1vZGUgPT0gQVBfTU9ERV9SRUFEQllU
RVMpIHsKICAgICAgICAgICAgIG1vZGUgPSBBUF9NT0RFX1NQRUNVTEFUSVZFOwogICAgICAgICAg
ICAgY3IgPSAwOwpAQCAtMzE5LDYgKzMyNywxMSBAQCBzdGF0aWMgdm9pZCBjaGVja19waXBlbGlu
ZShjb25uX3JlYyAqYywgYXByX2J1Y2tldAogICAgICAgICAgICAgYy0+a2VlcGFsaXZlID0gQVBf
Q09OTl9DTE9TRTsKICAgICAgICAgfQogICAgIH0KKworICAgIGFwX2xvZ19jZXJyb3IoQVBMT0df
TUFSSywgQVBMT0dfTk9USUNFLCBydiwgYywKKyAgICAgICAgICAgICAgICAgICJjaGVja19waXBl
bGluZTogZGF0YV9pbl9pbnB1dF9maWx0ZXJzID0gJWkiLAorICAgICAgICAgICAgICAgICAgYy0+
ZGF0YV9pbl9pbnB1dF9maWx0ZXJzKTsKKwogfQogCiAKSW5kZXg6IHNlcnZlci9jb3JlX2ZpbHRl
cnMuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09Ci0tLSBzZXJ2ZXIvY29yZV9maWx0ZXJzLmMJKHJldmlzaW9uIDE3Mjc5
MjMpCisrKyBzZXJ2ZXIvY29yZV9maWx0ZXJzLmMJKHdvcmtpbmcgY29weSkKQEAgLTQ2NSw2ICs0
NjUsMTMgQEAgYXByX3N0YXR1c190IGFwX2NvcmVfb3V0cHV0X2ZpbHRlcihhcF9maWx0ZXJfdCAq
ZiwKICAgICAgKi8KIAogICAgIGlmIChuZXdfYmIgPT0gTlVMTCkgeworICAgICAgICBhcHJfb2Zm
X3QgYmxlbjsKKworICAgICAgICBydiA9IGFwcl9icmlnYWRlX2xlbmd0aChiYiwgMCwgJmJsZW4p
OworICAgICAgICBhcF9sb2dfY2Vycm9yKEFQTE9HX01BUkssIEFQTE9HX05PVElDRSwgcnYsIGMs
CisgICAgICAgICAgICAgICAgICAgICAgImNvcmVfb3V0cHV0X2ZpbHRlcjogc2VuZGluZyAlIiBB
UFJfT0ZGX1RfRk1UICIgYnl0ZXMiLAorICAgICAgICAgICAgICAgICAgICAgIGJsZW4pOworCiAg
ICAgICAgIHJ2ID0gc2VuZF9icmlnYWRlX25vbmJsb2NraW5nKG5ldC0+Y2xpZW50X3NvY2tldCwg
YmIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYoY3R4LT5ieXRlc193
cml0dGVuKSwgYyk7CiAgICAgICAgIGlmIChydiAhPSBBUFJfU1VDQ0VTUyAmJiAhQVBSX1NUQVRV
U19JU19FQUdBSU4ocnYpKSB7CkBAIC00NzYsNiArNDgzLDEyIEBAIGFwcl9zdGF0dXNfdCBhcF9j
b3JlX291dHB1dF9maWx0ZXIoYXBfZmlsdGVyX3QgKmYsCiAgICAgICAgICAgICByZXR1cm4gcnY7
CiAgICAgICAgIH0KICAgICAgICAgc2V0YXNpZGVfcmVtYWluaW5nX291dHB1dChmLCBjdHgsIGJi
LCBjKTsKKworICAgICAgICBydiA9IGFwcl9icmlnYWRlX2xlbmd0aChjdHgtPmJ1ZmZlcmVkX2Ji
LCAwLCAmYmxlbik7CisgICAgICAgIGFwX2xvZ19jZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfTk9U
SUNFLCBydiwgYywKKyAgICAgICAgICAgICAgICAgICAgICAiY29yZV9vdXRwdXRfZmlsdGVyOiBy
ZW1haW5pbmcgJSIgQVBSX09GRl9UX0ZNVCAiIGJ5dGVzIiwKKyAgICAgICAgICAgICAgICAgICAg
ICBibGVuKTsKKwogICAgICAgICByZXR1cm4gQVBSX1NVQ0NFU1M7CiAgICAgfQogCkBAIC03ODYs
NiArNzk5LDEwIEBAIHN0YXRpYyBhcHJfc3RhdHVzX3Qgd3JpdGV2X25vbmJsb2NraW5nKGFwcl9z
b2NrZXRfCiAgICAgd2hpbGUgKGJ5dGVzX3dyaXR0ZW4gPCBieXRlc190b193cml0ZSkgewogICAg
ICAgICBhcHJfc2l6ZV90IG4gPSAwOwogICAgICAgICBydiA9IGFwcl9zb2NrZXRfc2VuZHYocywg
dmVjICsgb2Zmc2V0LCBudmVjIC0gb2Zmc2V0LCAmbik7CisgICAgICAgIGFwX2xvZ19jZXJyb3Io
QVBMT0dfTUFSSywgQVBMT0dfTk9USUNFLCAwLCBjLAorICAgICAgICAgICAgICAgICAgICAgICJj
b3JlX291dHB1dF9maWx0ZXI6IHNlbnQgJSIgQVBSX1NJWkVfVF9GTVQKKyAgICAgICAgICAgICAg
ICAgICAgICAiIG9uICAlIiBBUFJfU0laRV9UX0ZNVCIgYnl0ZXMiLAorICAgICAgICAgICAgICAg
ICAgICAgIG4sIGJ5dGVzX3RvX3dyaXRlIC0gYnl0ZXNfd3JpdHRlbik7CiAgICAgICAgIGlmIChu
ID4gMCkgewogICAgICAgICAgICAgYnl0ZXNfd3JpdHRlbiArPSBuOwogICAgICAgICAgICAgZm9y
IChpID0gb2Zmc2V0OyBpIDwgbnZlYzsgKSB7Cg==
--001a114a8f341dfdd4052adf9fd2--

From dev-return-85426-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 16:06:34 2016
Return-Path: <dev-return-85426-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2CA3018BDD
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 16:06:34 +0000 (UTC)
Received: (qmail 43038 invoked by uid 500); 3 Feb 2016 16:06:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42959 invoked by uid 500); 3 Feb 2016 16:06:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42949 invoked by uid 99); 3 Feb 2016 16:06:26 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 16:06:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 7F09EC0231
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 16:06:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id f8hHx3zezZTA for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 16:06:25 +0000 (UTC)
Received: from mail-qk0-f170.google.com (mail-qk0-f170.google.com [209.85.220.170])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id C126E25426
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 16:06:24 +0000 (UTC)
Received: by mail-qk0-f170.google.com with SMTP id x1so9615693qkc.1
        for <dev@httpd.apache.org>; Wed, 03 Feb 2016 08:06:24 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=XNLY5/UKeq3Fgl8ERDWMDSMYyNRUcDb1lNBFtCHFXZs=;
        b=ERPb2sPF4zdB+AArs3WGmfvtqjMkp/QC7Csyt1k9iquk5er9zSoLTLIwEgPwIUumIj
         LFx2cb6jV3+h86xQOJoPT5snDFSz/EqsoBfyoi0iPUtjA9Q3pb1hdPUtWvqLTojLMR67
         M2AzHUGvzcPiBXmN8J7h9CSu86Et3VnwGE0KEAN0y3l9HG9WwAUUs0B6LiNcKPu0Bz6h
         NMkwKHF9jcUa5RFN1Kqt63/A/n7BVdVqMKdBS4sG0M5kt8sAKaAIEb435MGQf22dAF1a
         Ks/V1AM09jFNeWwtfvk8Jhj1KgmXdzJ/DXsWCeh+lObuuGopGCZFbat2NORyyhheVt5o
         acJA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=XNLY5/UKeq3Fgl8ERDWMDSMYyNRUcDb1lNBFtCHFXZs=;
        b=cgS9BgvHnZ/9eUPHC/tCzaxCZKB8dyAoyz8V/mDl5oqLy7V2H+f1z+rQviyy0ZKBBb
         dUw4DjKD6HIUyxLl223Wk/u608G9oxrAFoaeFWSkFka02h1tdrejh/IaBgkqxehLzBVm
         YTHkHw4Hgu2U0FjpMfc8fx8rFxvRhzZUtONQ6Txb0UE06D5ou0PZJO1epE0cTQHo6CIP
         WEXTDlZZ8ca4Vo+2uq0HXfBQuHydJsQBs7GYPDpszdbXWvHkU5AYSKrj+Dx8swVnezRH
         rkuwZmvvgiq9DUBP5YdKNTeQ+QdNEiRAX5G2RLfhJ3aYpGfjsSBpFkzF37m5ibAKAS6x
         7dDQ==
X-Gm-Message-State: AG10YOSLUWkLRYgxwZqvym6NK64i+s9/S32IAKBhMcZFCsdf/+mGWo6twojitd4cKoJrc9sZop/EPEK8nrihPw==
MIME-Version: 1.0
X-Received: by 10.55.75.203 with SMTP id y194mr2614873qka.2.1454515583907;
 Wed, 03 Feb 2016 08:06:23 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 3 Feb 2016 08:06:23 -0800 (PST)
In-Reply-To: <CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
References: <56B0803B.6080209@kraut.ca>
	<CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
	<56B19098.4060303@kraut.ca>
	<CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
	<56B1C4E9.3050306@kraut.ca>
	<CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
	<CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
	<CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
	<CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
Date: Wed, 3 Feb 2016 17:06:23 +0100
Message-ID: <CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: multipart/mixed; boundary=001a114a8f34b3185d052adfcc37

--001a114a8f34b3185d052adfcc37
Content-Type: text/plain; charset=UTF-8

On Wed, Feb 3, 2016 at 4:53 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> I suggest you use the attached patch instead (replacing any previous
> one), so that we log the output path taken when mod_ssl is in the
> place.

Forgot about the casting issue (SSL_get_app_data) with your compiler...
This v5 (attached) should compile fine.

>
>> And maybe take network traces on the server side?
>
> That would be really nice too.
>
>>
>> Thanks,
>> Yann.

--001a114a8f34b3185d052adfcc37
Content-Type: application/x-download; name="modssl_ssl_need_flush-v5.patch"
Content-Disposition: attachment; filename="modssl_ssl_need_flush-v5.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ik710qq21

SW5kZXg6IG1vZHVsZXMvc3NsL3NzbF9lbmdpbmVfaW8uYwo9PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVz
L3NzbC9zc2xfZW5naW5lX2lvLmMJKHJldmlzaW9uIDE3Mjc5MjMpCisrKyBtb2R1bGVzL3NzbC9z
c2xfZW5naW5lX2lvLmMJKHdvcmtpbmcgY29weSkKQEAgLTE0Nyw2ICsxNDcsOSBAQCBzdGF0aWMg
aW50IGJpb19maWx0ZXJfb3V0X2ZsdXNoKEJJTyAqYmlvKQogICAgIGJpb19maWx0ZXJfb3V0X2N0
eF90ICpvdXRjdHggPSAoYmlvX2ZpbHRlcl9vdXRfY3R4X3QgKikoYmlvLT5wdHIpOwogICAgIGFw
cl9idWNrZXQgKmU7CiAKKyAgICBhcF9sb2dfY2Vycm9yKEFQTE9HX01BUkssIEFQTE9HX05PVElD
RSwgMCwgb3V0Y3R4LT5jLAorICAgICAgICAgICAgICAgICAgImJpb1slcHBdIG91dDogRkxVU0gi
LCBiaW8pOworCiAgICAgQVBfREVCVUdfQVNTRVJUKEFQUl9CUklHQURFX0VNUFRZKG91dGN0eC0+
YmIpKTsKIAogICAgIGUgPSBhcHJfYnVja2V0X2ZsdXNoX2NyZWF0ZShvdXRjdHgtPmJiLT5idWNr
ZXRfYWxsb2MpOwpAQCAtMjIyLDkgKzIyNSwxNSBAQCBzdGF0aWMgaW50IGJpb19maWx0ZXJfb3V0
X3dyaXRlKEJJTyAqYmlvLCBjb25zdCBjaAogICAgICBuZWVkX2ZsdXNoID0gU1NMX2luX2Nvbm5l
Y3RfaW5pdChvdXRjdHgtPmZpbHRlcl9jdHgtPnBzc2wpOwogI2VuZGlmCiAgICAgaWYgKG5lZWRf
Zmx1c2gpIHsKKyAgICAgICAgYXBfbG9nX2NlcnJvcihBUExPR19NQVJLLCBBUExPR19OT1RJQ0Us
IDAsIG91dGN0eC0+YywKKyAgICAgICAgICAgICAgICAgICAgICAiYmlvWyVwcF0gb3V0OiBmbHVz
aCAlZCBieXRlcyIsIGJpbywgaW5sKTsKICAgICAgICAgZSA9IGFwcl9idWNrZXRfZmx1c2hfY3Jl
YXRlKG91dGN0eC0+YmItPmJ1Y2tldF9hbGxvYyk7CiAgICAgICAgIEFQUl9CUklHQURFX0lOU0VS
VF9UQUlMKG91dGN0eC0+YmIsIGUpOwogICAgIH0KKyAgICBlbHNlIHsKKyAgICAgICAgYXBfbG9n
X2NlcnJvcihBUExPR19NQVJLLCBBUExPR19OT1RJQ0UsIDAsIG91dGN0eC0+YywKKyAgICAgICAg
ICAgICAgICAgICAgICAiYmlvWyVwcF0gb3V0OiBwYXNzICVkIGJ5dGVzIiwgYmlvLCBpbmwpOwor
ICAgIH0KIAogICAgIGlmIChiaW9fZmlsdGVyX291dF9wYXNzKG91dGN0eCkgPCAwKSB7CiAgICAg
ICAgIHJldHVybiAtMTsKQEAgLTQ5OSw2ICs1MDgsMTAgQEAgc3RhdGljIGludCBiaW9fZmlsdGVy
X2luX3JlYWQoQklPICpiaW8sIGNoYXIgKmluLAogCiAgICAgaW5jdHgtPnJjID0gYnJpZ2FkZV9j
b25zdW1lKGluY3R4LT5iYiwgYmxvY2ssIGluLCAmaW5sKTsKIAorICAgIGFwX2xvZ19jZXJyb3Io
QVBMT0dfTUFSSywgQVBMT0dfTk9USUNFLCBpbmN0eC0+cmMsCisgICAgICAgICAgICAgICAgICAo
Y29ubl9yZWMgKilTU0xfZ2V0X2FwcF9kYXRhKGluY3R4LT5maWx0ZXJfY3R4LT5wc3NsKSwKKyAg
ICAgICAgICAgICAgICAgICJiaW9bJXBwXSBpbjogcmVhZCAlIiBBUFJfU0laRV9UX0ZNVCAiIGJ5
dGVzIiwgYmlvLCBpbmwpOworCiAgICAgaWYgKGluY3R4LT5yYyA9PSBBUFJfU1VDQ0VTUykgewog
ICAgICAgICByZXR1cm4gKGludClpbmw7CiAgICAgfQpAQCAtMTYyMiw2ICsxNjM1LDEwIEBAIHN0
YXRpYyBhcHJfc3RhdHVzX3Qgc3NsX2lvX2ZpbHRlcl9vdXRwdXQoYXBfZmlsdGVyCiAgICAgICAg
IGFwcl9idWNrZXQgKmJ1Y2tldCA9IEFQUl9CUklHQURFX0ZJUlNUKGJiKTsKIAogICAgICAgICBp
ZiAoQVBSX0JVQ0tFVF9JU19NRVRBREFUQShidWNrZXQpKSB7CisgICAgICAgICAgICBhcF9sb2df
Y2Vycm9yKEFQTE9HX01BUkssIEFQTE9HX05PVElDRSwgMCwgZi0+YywKKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgImJpb1slcHBdIG91dDogTUVUQURBVEEgJXMiLAorICAgICAgICAgICAgICAg
ICAgICAgICAgICBmaWx0ZXJfY3R4LT5wYmlvV3JpdGUsCisgICAgICAgICAgICAgICAgICAgICAg
ICAgIGJ1Y2tldC0+dHlwZS0+bmFtZSk7CiAgICAgICAgICAgICAvKiBQYXNzIHRocm91Z2ggbWV0
YWRhdGEgYnVja2V0cyB1bnRvdWNoZWQuICBFT0MgaXMKICAgICAgICAgICAgICAqIHNwZWNpYWw7
IHRlcm1pbmF0ZSB0aGUgU1NMIGxheWVyIGZpcnN0LiAqLwogICAgICAgICAgICAgaWYgKEFQX0JV
Q0tFVF9JU19FT0MoYnVja2V0KSkgewpAQCAtMTYzNCw3ICsxNjUxLDExIEBAIHN0YXRpYyBhcHJf
c3RhdHVzX3Qgc3NsX2lvX2ZpbHRlcl9vdXRwdXQoYXBfZmlsdGVyCiAgICAgICAgICAgICAgKiBv
dXRjdHgtPmJiIGFzIGEgdHJ1ZSBidWZmZXIgYW5kIGludGVybGVhdmUgdGhlc2Ugd2l0aAogICAg
ICAgICAgICAgICogZGF0YSBidWNrZXRzLiAqLwogICAgICAgICAgICAgQVBSX0JVQ0tFVF9SRU1P
VkUoYnVja2V0KTsKKyNpZiAwCisgICAgICAgICAgICBBUFJfQlJJR0FERV9JTlNFUlRfVEFJTChv
dXRjdHgtPmJiLCBidWNrZXQpOworI2Vsc2UKICAgICAgICAgICAgIEFQUl9CUklHQURFX0lOU0VS
VF9IRUFEKG91dGN0eC0+YmIsIGJ1Y2tldCk7CisjZW5kaWYKICAgICAgICAgICAgIHN0YXR1cyA9
IGFwX3Bhc3NfYnJpZ2FkZShmLT5uZXh0LCBvdXRjdHgtPmJiKTsKICAgICAgICAgICAgIGlmIChz
dGF0dXMgPT0gQVBSX1NVQ0NFU1MgJiYgZi0+Yy0+YWJvcnRlZCkKICAgICAgICAgICAgICAgICBz
dGF0dXMgPSBBUFJfRUNPTk5SRVNFVDsKSW5kZXg6IG1vZHVsZXMvaHR0cC9odHRwX3JlcXVlc3Qu
Ywo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2h0dHAvaHR0cF9yZXF1ZXN0LmMJKHJldmlzaW9uIDE3
Mjc5MjMpCisrKyBtb2R1bGVzL2h0dHAvaHR0cF9yZXF1ZXN0LmMJKHdvcmtpbmcgY29weSkKQEAg
LTI1NCw2ICsyNTQsMTAgQEAgc3RhdGljIHZvaWQgY2hlY2tfcGlwZWxpbmUoY29ubl9yZWMgKmMs
IGFwcl9idWNrZXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJDYW4ndCBjb25zdW1l
IHBpcGVsaW5lZCBlbXB0eSBsaW5lcyIpOwogICAgICAgICAgICAgICAgIGMtPmtlZXBhbGl2ZSA9
IEFQX0NPTk5fQ0xPU0U7CiAgICAgICAgICAgICB9CisgICAgICAgICAgICBlbHNlIHsKKyAgICAg
ICAgICAgICAgICBhcF9sb2dfY2Vycm9yKEFQTE9HX01BUkssIEFQTE9HX05PVElDRSwgcnYsIGMs
CisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY2hlY2tfcGlwZWxpbmU6IG5vIGRhdGEi
KTsKKyAgICAgICAgICAgIH0KICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICB9CiAKQEAgLTI4
NCw2ICsyODgsMTAgQEAgc3RhdGljIHZvaWQgY2hlY2tfcGlwZWxpbmUoY29ubl9yZWMgKmMsIGFw
cl9idWNrZXQKICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICB9CiAKKyAgICAgICAgYXBfbG9n
X2NlcnJvcihBUExPR19NQVJLLCBBUExPR19OT1RJQ0UsIHJ2LCBjLAorICAgICAgICAgICAgICAg
ICAgICAgICJjaGVja19waXBlbGluZTogZ290IDB4JXgiLAorICAgICAgICAgICAgICAgICAgICAg
IChpbnQpKGNyID8gYnVmWzFdIDogYnVmWzBdKSk7CisKICAgICAgICAgaWYgKG1vZGUgPT0gQVBf
TU9ERV9SRUFEQllURVMpIHsKICAgICAgICAgICAgIG1vZGUgPSBBUF9NT0RFX1NQRUNVTEFUSVZF
OwogICAgICAgICAgICAgY3IgPSAwOwpAQCAtMzE5LDYgKzMyNywxMSBAQCBzdGF0aWMgdm9pZCBj
aGVja19waXBlbGluZShjb25uX3JlYyAqYywgYXByX2J1Y2tldAogICAgICAgICAgICAgYy0+a2Vl
cGFsaXZlID0gQVBfQ09OTl9DTE9TRTsKICAgICAgICAgfQogICAgIH0KKworICAgIGFwX2xvZ19j
ZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfTk9USUNFLCBydiwgYywKKyAgICAgICAgICAgICAgICAg
ICJjaGVja19waXBlbGluZTogZGF0YV9pbl9pbnB1dF9maWx0ZXJzID0gJWkiLAorICAgICAgICAg
ICAgICAgICAgYy0+ZGF0YV9pbl9pbnB1dF9maWx0ZXJzKTsKKwogfQogCiAKSW5kZXg6IHNlcnZl
ci9jb3JlX2ZpbHRlcnMuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBzZXJ2ZXIvY29yZV9maWx0ZXJzLmMJKHJl
dmlzaW9uIDE3Mjc5MjMpCisrKyBzZXJ2ZXIvY29yZV9maWx0ZXJzLmMJKHdvcmtpbmcgY29weSkK
QEAgLTQ2NSw2ICs0NjUsMTMgQEAgYXByX3N0YXR1c190IGFwX2NvcmVfb3V0cHV0X2ZpbHRlcihh
cF9maWx0ZXJfdCAqZiwKICAgICAgKi8KIAogICAgIGlmIChuZXdfYmIgPT0gTlVMTCkgeworICAg
ICAgICBhcHJfb2ZmX3QgYmxlbjsKKworICAgICAgICBydiA9IGFwcl9icmlnYWRlX2xlbmd0aChi
YiwgMCwgJmJsZW4pOworICAgICAgICBhcF9sb2dfY2Vycm9yKEFQTE9HX01BUkssIEFQTE9HX05P
VElDRSwgcnYsIGMsCisgICAgICAgICAgICAgICAgICAgICAgImNvcmVfb3V0cHV0X2ZpbHRlcjog
c2VuZGluZyAlIiBBUFJfT0ZGX1RfRk1UICIgYnl0ZXMiLAorICAgICAgICAgICAgICAgICAgICAg
IGJsZW4pOworCiAgICAgICAgIHJ2ID0gc2VuZF9icmlnYWRlX25vbmJsb2NraW5nKG5ldC0+Y2xp
ZW50X3NvY2tldCwgYmIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYo
Y3R4LT5ieXRlc193cml0dGVuKSwgYyk7CiAgICAgICAgIGlmIChydiAhPSBBUFJfU1VDQ0VTUyAm
JiAhQVBSX1NUQVRVU19JU19FQUdBSU4ocnYpKSB7CkBAIC00NzYsNiArNDgzLDEyIEBAIGFwcl9z
dGF0dXNfdCBhcF9jb3JlX291dHB1dF9maWx0ZXIoYXBfZmlsdGVyX3QgKmYsCiAgICAgICAgICAg
ICByZXR1cm4gcnY7CiAgICAgICAgIH0KICAgICAgICAgc2V0YXNpZGVfcmVtYWluaW5nX291dHB1
dChmLCBjdHgsIGJiLCBjKTsKKworICAgICAgICBydiA9IGFwcl9icmlnYWRlX2xlbmd0aChjdHgt
PmJ1ZmZlcmVkX2JiLCAwLCAmYmxlbik7CisgICAgICAgIGFwX2xvZ19jZXJyb3IoQVBMT0dfTUFS
SywgQVBMT0dfTk9USUNFLCBydiwgYywKKyAgICAgICAgICAgICAgICAgICAgICAiY29yZV9vdXRw
dXRfZmlsdGVyOiByZW1haW5pbmcgJSIgQVBSX09GRl9UX0ZNVCAiIGJ5dGVzIiwKKyAgICAgICAg
ICAgICAgICAgICAgICBibGVuKTsKKwogICAgICAgICByZXR1cm4gQVBSX1NVQ0NFU1M7CiAgICAg
fQogCkBAIC03ODYsNiArNzk5LDEwIEBAIHN0YXRpYyBhcHJfc3RhdHVzX3Qgd3JpdGV2X25vbmJs
b2NraW5nKGFwcl9zb2NrZXRfCiAgICAgd2hpbGUgKGJ5dGVzX3dyaXR0ZW4gPCBieXRlc190b193
cml0ZSkgewogICAgICAgICBhcHJfc2l6ZV90IG4gPSAwOwogICAgICAgICBydiA9IGFwcl9zb2Nr
ZXRfc2VuZHYocywgdmVjICsgb2Zmc2V0LCBudmVjIC0gb2Zmc2V0LCAmbik7CisgICAgICAgIGFw
X2xvZ19jZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfTk9USUNFLCBydiwgYywKKyAgICAgICAgICAg
ICAgICAgICAgICAiY29yZV9vdXRwdXRfZmlsdGVyOiBzZW50ICUiIEFQUl9TSVpFX1RfRk1UCisg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiBvbiAlIiBBUFJfU0la
RV9UX0ZNVCIgYnl0ZXMiLAorICAgICAgICAgICAgICAgICAgICAgIG4sIGJ5dGVzX3RvX3dyaXRl
IC0gYnl0ZXNfd3JpdHRlbik7CiAgICAgICAgIGlmIChuID4gMCkgewogICAgICAgICAgICAgYnl0
ZXNfd3JpdHRlbiArPSBuOwogICAgICAgICAgICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbnZlYzsg
KSB7Cg==
--001a114a8f34b3185d052adfcc37--

From dev-return-85427-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 16:16:15 2016
Return-Path: <dev-return-85427-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B084018C45
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 16:16:15 +0000 (UTC)
Received: (qmail 66433 invoked by uid 500); 3 Feb 2016 16:16:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 66358 invoked by uid 500); 3 Feb 2016 16:16:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 66347 invoked by uid 99); 3 Feb 2016 16:16:08 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 16:16:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8A4EE18027E
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 16:16:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.98
X-Spam-Level: *
X-Spam-Status: No, score=1.98 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id SQYTV0ZTI4Z3 for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 16:15:58 +0000 (UTC)
Received: from mail-ig0-f173.google.com (mail-ig0-f173.google.com [209.85.213.173])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id CC2A82565F
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 16:15:57 +0000 (UTC)
Received: by mail-ig0-f173.google.com with SMTP id xg9so5169343igb.1
        for <dev@httpd.apache.org>; Wed, 03 Feb 2016 08:15:57 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=1Y2kKZnsXHN5FKlmXe2GFwZtxpmokfzzeEsmpP0SOD0=;
        b=KviPOyuv5anVAIAjIy3rBuvAtLRl21rNcD1k0y1wNAVaWhS6yhHydnyidxC2zQAlP0
         42e1V7Vlz9RSi5K2wn+aydV9oJshppPuMlZbMlRr9BK+GIu8pALm/XKef27F9AFrXwDy
         0EahP74M/kt+rdk78FxDpZJaQyLSrGe2y26S/+0cuSH+S4EHsY5pdzSj5dIgqWAT7E7Y
         1qORS1o4/MB0hx+GZK/TJStHY7TAPU20LL05BgtwtSWOEKbfDa66tWxWbsR6NhtyJG1V
         pcZewcMLNp4GUK5XYlbEAIkcErQio+mcXB9jelf/6uIA1qa2dph7GgQskKj5EraOJOBv
         1GFw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=1Y2kKZnsXHN5FKlmXe2GFwZtxpmokfzzeEsmpP0SOD0=;
        b=DDhBpdliFKr+PLmObJ5voDCl3n8o0vTDmjmCKp8EaeLd4FWWwOohOKGSBIFJtQlFKA
         AAxLIYxCfuX82I4Qz/ESaeV9n+pLz5yez9P+wXp2/DEnQl5BnTdTHK+z8H7+RQf4RQq6
         ktq9A5BgBjLR2jAbdBSKo9/o5lZ2xCSojAar3hccSsXAErJRfdNgsEwt9dGWB8/eqtkg
         ajfoOiw7635IuwCCPG6bLo8yb7Ax7ntmZVNl/hjPH/6ibwuKfLDxrQYD15U7CwK766LL
         2MalVezHn3WXEN3nHZ6qnaB8xtKa7qA8d89PSQJnYVyaGDRE6uc7p27KVPF3vrSn/aMe
         6QMg==
X-Gm-Message-State: AG10YOQKcvc5qODVALNorSa+l/lIGvy7sg+UF+KOSnUeJ6D2OI2bQbyrvDcRKoo3Ig5QczIb0DQIWLmAKtCGTrfD
MIME-Version: 1.0
X-Received: by 10.50.171.200 with SMTP id aw8mr25608575igc.77.1454516151166;
 Wed, 03 Feb 2016 08:15:51 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Wed, 3 Feb 2016 08:15:51 -0800 (PST)
Received: by 10.107.62.69 with HTTP; Wed, 3 Feb 2016 08:15:51 -0800 (PST)
In-Reply-To: <9A2C6787-F774-4E91-930B-224B1AE4130B@jaguNET.com>
References: <DC1EE0D9-2CE4-48B3-9EC3-0E6706FBAB77@jaguNET.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF1496@VOEXM10W.internal.vodafone.com>
	<9A2C6787-F774-4E91-930B-224B1AE4130B@jaguNET.com>
Date: Wed, 3 Feb 2016 10:15:51 -0600
Message-ID: <CACsi2525DZ0XzXFw_1k1FiDAnH0YkrjyM3O3vhJT9JTyoYadXg@mail.gmail.com>
Subject: Re: Worker states for balancer members
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e010d956282c50a052adfeedd

--089e010d956282c50a052adfeedd
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Feb 3, 2016 6:25 AM, "Jim Jagielski" <jim@jagunet.com> wrote:
>
>
> > On Feb 3, 2016, at 3:10 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group <
ruediger.pluem@vodafone.com> wrote:
> >
> >
> >
> >> -----Original Message-----
> >> From: Jim Jagielski [mailto:jim@jaguNET.com]
> >> Sent: Dienstag, 2. Februar 2016 22:44
> >> To: httpd
> >> Subject: Worker states for balancer members
> >>
> >> Getting back to this discussion...
> >>
> >> Right now we have:
> >>
> >>   o #define PROXY_WORKER_DISABLED       0x0020
> >>   o #define PROXY_WORKER_STOPPED        0x0040
> >>   o #define PROXY_WORKER_IN_ERROR       0x0080
> >>   o #define PROXY_WORKER_HC_FAIL        0x0400
> >>
> >> Are these bit flags part of our API?? Could I, for example,
> >
> > I think they are as they are part of mod_proxy.h and other 3rd party
> > proxy modules may have consumed them.
> >
> >
> >> make PROXY_WORKER_DISABLED =3D=3D PROXY_WORKER_STOPPED =3D=3D 0x0060
> >> for example?
> >
> > Hm. What if 3rd party modules only set 0x0040 or 0x0020 as they are
using the old
> > values? Wouldn't that create some possible weird side effects?
> > I mean no issue for trunk, but don't think this would be correct for
backporting.
> >
>
> Well, that's why I proposed setting them as such, so that
> a bit check would always be true whether testing for 0x20 or
> 0x40 (the old values).
>
> I WAS thinking about basically "making" HC_FAIL STOPPED because
> that mode can only be set/cleared during configuration (the
> balancer-manager doesn't provide for changing that bit) and so
> for the life of me I can't figure out how or why anyone would be
> using that status since it never changes...
>
> Maybe we can just say that STOPPED is there for potential
> 3rd party uses and be done w/ it :)

If we believe one is of very little use, it might not be a bad idea to
@deprecate it and yank it in trunk eventually.  I think that is more robust
than mapping two statuses as equality.

--089e010d956282c50a052adfeedd
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr"><br>
On Feb 3, 2016 6:25 AM, &quot;Jim Jagielski&quot; &lt;<a href=3D"mailto:jim=
@jagunet.com">jim@jagunet.com</a>&gt; wrote:<br>
&gt;<br>
&gt;<br>
&gt; &gt; On Feb 3, 2016, at 3:10 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Gro=
up &lt;<a href=3D"mailto:ruediger.pluem@vodafone.com">ruediger.pluem@vodafo=
ne.com</a>&gt; wrote:<br>
&gt; &gt;<br>
&gt; &gt;<br>
&gt; &gt;<br>
&gt; &gt;&gt; -----Original Message-----<br>
&gt; &gt;&gt; From: Jim Jagielski [mailto:<a href=3D"mailto:jim@jaguNET.com=
">jim@jaguNET.com</a>]<br>
&gt; &gt;&gt; Sent: Dienstag, 2. Februar 2016 22:44<br>
&gt; &gt;&gt; To: httpd<br>
&gt; &gt;&gt; Subject: Worker states for balancer members<br>
&gt; &gt;&gt;<br>
&gt; &gt;&gt; Getting back to this discussion...<br>
&gt; &gt;&gt;<br>
&gt; &gt;&gt; Right now we have:<br>
&gt; &gt;&gt;<br>
&gt; &gt;&gt;=C2=A0 =C2=A0o #define PROXY_WORKER_DISABLED=C2=A0 =C2=A0 =C2=
=A0 =C2=A00x0020<br>
&gt; &gt;&gt;=C2=A0 =C2=A0o #define PROXY_WORKER_STOPPED=C2=A0 =C2=A0 =C2=
=A0 =C2=A0 0x0040<br>
&gt; &gt;&gt;=C2=A0 =C2=A0o #define PROXY_WORKER_IN_ERROR=C2=A0 =C2=A0 =C2=
=A0 =C2=A00x0080<br>
&gt; &gt;&gt;=C2=A0 =C2=A0o #define PROXY_WORKER_HC_FAIL=C2=A0 =C2=A0 =C2=
=A0 =C2=A0 0x0400<br>
&gt; &gt;&gt;<br>
&gt; &gt;&gt; Are these bit flags part of our API?? Could I, for example,<b=
r>
&gt; &gt;<br>
&gt; &gt; I think they are as they are part of mod_proxy.h and other 3rd pa=
rty<br>
&gt; &gt; proxy modules may have consumed them.<br>
&gt; &gt;<br>
&gt; &gt;<br>
&gt; &gt;&gt; make PROXY_WORKER_DISABLED =3D=3D PROXY_WORKER_STOPPED =3D=3D=
 0x0060<br>
&gt; &gt;&gt; for example?<br>
&gt; &gt;<br>
&gt; &gt; Hm. What if 3rd party modules only set 0x0040 or 0x0020 as they a=
re using the old<br>
&gt; &gt; values? Wouldn&#39;t that create some possible weird side effects=
?<br>
&gt; &gt; I mean no issue for trunk, but don&#39;t think this would be corr=
ect for backporting.<br>
&gt; &gt;<br>
&gt;<br>
&gt; Well, that&#39;s why I proposed setting them as such, so that<br>
&gt; a bit check would always be true whether testing for 0x20 or<br>
&gt; 0x40 (the old values).<br>
&gt;<br>
&gt; I WAS thinking about basically &quot;making&quot; HC_FAIL STOPPED beca=
use<br>
&gt; that mode can only be set/cleared during configuration (the<br>
&gt; balancer-manager doesn&#39;t provide for changing that bit) and so<br>
&gt; for the life of me I can&#39;t figure out how or why anyone would be<b=
r>
&gt; using that status since it never changes...<br>
&gt;<br>
&gt; Maybe we can just say that STOPPED is there for potential<br>
&gt; 3rd party uses and be done w/ it :)</p>
<p dir=3D"ltr">If we believe one is of very little use, it might not be a b=
ad idea to @deprecate it and yank it in trunk eventually.=C2=A0 I think tha=
t is more robust than mapping two statuses as equality.</p>

--089e010d956282c50a052adfeedd--

From dev-return-85428-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 16:57:15 2016
Return-Path: <dev-return-85428-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8421718E1C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 16:57:15 +0000 (UTC)
Received: (qmail 83445 invoked by uid 500); 3 Feb 2016 16:56:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83370 invoked by uid 500); 3 Feb 2016 16:56:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83360 invoked by uid 99); 3 Feb 2016 16:56:53 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 16:56:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B7CC41800ED
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 16:56:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.933
X-Spam-Level:
X-Spam-Status: No, score=0.933 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RDNS_DYNAMIC=0.363,
	RP_MATCHES_RCVD=-0.429, SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id lc8mq9NhdmsC for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 16:56:51 +0000 (UTC)
Received: from nebula.c8h10n4o2.org.uk (nebula.c8h10n4o2.org.uk [80.68.88.207])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 6C702428ED
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 16:56:51 +0000 (UTC)
Received: from 188.29.77.196.threembb.co.uk ([188.29.77.196])
	by nebula.c8h10n4o2.org.uk with esmtpsa (TLS1.2:ECDHE_RSA_AES_256_CBC_SHA1:256)
	(Exim 4.84)
	(envelope-from <isoma@c8h10n4o2.org.uk>)
	id 1aR0jY-0005WV-V0
	for dev@httpd.apache.org; Wed, 03 Feb 2016 16:56:49 +0000
User-Agent: K-9 Mail for Android
In-Reply-To: <07201070-F01D-4EEA-95AC-EE78968174E4@jaguNET.com>
References: <DC1EE0D9-2CE4-48B3-9EC3-0E6706FBAB77@jaguNET.com> <AB1691BE05AE7F4992697F2A0835627AC9FF1496@VOEXM10W.internal.vodafone.com> <9A2C6787-F774-4E91-930B-224B1AE4130B@jaguNET.com> <CAKQ1sVOwjob_N+mRWBv8-W0YnfBNKsU=zghNYurKxz6TKHFLsw@mail.gmail.com> <E474A18D-5C30-4D01-953B-2DC5963039B7@jaguNET.com> <07201070-F01D-4EEA-95AC-EE78968174E4@jaguNET.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Content-Type: text/plain;
 charset=UTF-8
Subject: Re: Worker states for balancer members
From: Tim Bannister <isoma@c8h10n4o2.org.uk>
Date: Wed, 03 Feb 2016 16:56:45 +0000
To: dev@httpd.apache.org
Message-ID: <82F27342-C2BE-42E7-BD67-F50B9D8F163E@c8h10n4o2.org.uk>

On 3 February 2016 14:21:58 GMT, Jim Jagielski <jim@jaguNET.com> wrote:

>STOPPED: Never sent proxy traffic. Never health-checked. Never
>         re-tried. Never automatically re-enabled.
>
>DISABLED: Never sent proxy traffic. Is health-checked. Retried.
>          Could be automatically re-enabled.
>

Some users could actually expect to see health checks sent to STOPPED workers but not to a DISABLED worker.

I'm trying to think like a newbieish webmaster: if they declare a balancer member +D they are saying that it is not in use: maybe the host is not set up yet, maybe it no longer provides that service.
STOPPED comes over as saying temporarily do not use whereas DISABLED feels like administratively disabled, no longer in service, that kind of.

I'd say this doesn't match how the balancer-manager portrays things. Whichever interpretation wins out is going to be worth documenting (I think?) to avoid that risk of confusion.

-- 
Tim Bannister  isoma@c8h10n4o2.org.uk

From dev-return-85429-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 17:30:45 2016
Return-Path: <dev-return-85429-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 410FD180D2
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 17:30:45 +0000 (UTC)
Received: (qmail 98760 invoked by uid 500); 3 Feb 2016 17:03:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98686 invoked by uid 500); 3 Feb 2016 17:03:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98676 invoked by uid 99); 3 Feb 2016 17:03:31 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 17:03:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 18B83C1DB0
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 17:03:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id dOKsy3alF0N5 for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 17:03:27 +0000 (UTC)
Received: from resqmta-po-11v.sys.comcast.net (resqmta-po-11v.sys.comcast.net [96.114.154.170])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 402C9428ED
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 17:03:27 +0000 (UTC)
Received: from resomta-po-09v.sys.comcast.net ([96.114.154.233])
	by resqmta-po-11v.sys.comcast.net with comcast
	id Dt2a1s00252QWKC01t3SMu; Wed, 03 Feb 2016 17:03:26 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-09v.sys.comcast.net with comcast
	id Dt3R1s0072U0RYt01t3RHc; Wed, 03 Feb 2016 17:03:26 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Worker states for balancer members
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <82F27342-C2BE-42E7-BD67-F50B9D8F163E@c8h10n4o2.org.uk>
Date: Wed, 3 Feb 2016 12:03:25 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <3654EB06-7927-4D30-B310-9B5DD6EE7901@jaguNET.com>
References: <DC1EE0D9-2CE4-48B3-9EC3-0E6706FBAB77@jaguNET.com> <AB1691BE05AE7F4992697F2A0835627AC9FF1496@VOEXM10W.internal.vodafone.com> <9A2C6787-F774-4E91-930B-224B1AE4130B@jaguNET.com> <CAKQ1sVOwjob_N+mRWBv8-W0YnfBNKsU=zghNYurKxz6TKHFLsw@mail.gmail.com> <E474A18D-5C30-4D01-953B-2DC5963039B7@jaguNET.com> <07201070-F01D-4EEA-95AC-EE78968174E4@jaguNET.com> <82F27342-C2BE-42E7-BD67-F50B9D8F163E@c8h10n4o2.org.uk>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1454519006;
	bh=9Oz0tWslAeopIGlTFJqqoaItv6gIr6K9YWy4X3OkMaQ=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=KrLGGdKiwwy6tYs4IcaY5yHzyUWd9nGNI8MaKbh3NglOH4cy+8AEeqQfVok3VVIQv
	 z1g+Z3J42xy1Fj5z8HCoxX93ioS2fvz0COeTk6z+1178nIuGl2F8k3EN4txdMF3tqL
	 Ypew06IjFzIHF33JshQ6IRDBSn3BKKZuciPWYh61p5Xcz8cNTfiGWPN1cEnDFCTEsJ
	 PeqGmbL/ZLZl/V4mdFFVEiuj3b/BgsCvENf40IlHiT3g29smRyC7Hra0fVn0H8Xqcc
	 z39qQQTOGZEWzLD/5RtZQTsHceNNWH7RqpSlWVJ83zo0OlBG0UfWEX+JALBpljHA3Q
	 M8eopNgVuKc1g==


> On Feb 3, 2016, at 11:56 AM, Tim Bannister <isoma@c8h10n4o2.org.uk> =
wrote:
>=20
> On 3 February 2016 14:21:58 GMT, Jim Jagielski <jim@jaguNET.com> =
wrote:
>=20
>> STOPPED: Never sent proxy traffic. Never health-checked. Never
>>        re-tried. Never automatically re-enabled.
>>=20
>> DISABLED: Never sent proxy traffic. Is health-checked. Retried.
>>         Could be automatically re-enabled.
>>=20
>=20
> Some users could actually expect to see health checks sent to STOPPED =
workers but not to a DISABLED worker.
>=20
> I'm trying to think like a newbieish webmaster: if they declare a =
balancer member +D they are saying that it is not in use: maybe the host =
is not set up yet, maybe it no longer provides that service.
> STOPPED comes over as saying =E2=80=9Ctemporarily do not use=E2=80=9D =
whereas DISABLED feels like =E2=80=9Cadministratively disabled=E2=80=9D, =
=E2=80=9Cno longer in service=E2=80=9D, that kind of.
>=20
> I'd say this doesn't match how the balancer-manager portrays things. =
Whichever interpretation wins out is going to be worth documenting (I =
think?) to avoid that risk of confusion.
>=20

Yeah, agreed. I've starting documenting the diff...


From dev-return-85430-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 19:17:33 2016
Return-Path: <dev-return-85430-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 791D0187D0
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 19:17:32 +0000 (UTC)
Received: (qmail 46336 invoked by uid 500); 3 Feb 2016 19:17:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46270 invoked by uid 500); 3 Feb 2016 19:17:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46260 invoked by uid 99); 3 Feb 2016 19:17:28 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 19:17:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 67B381A032F
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 19:17:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id b0k8anwdtkUM for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 19:17:26 +0000 (UTC)
Received: from mail-ig0-f182.google.com (mail-ig0-f182.google.com [209.85.213.182])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 95F2825426
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 19:17:25 +0000 (UTC)
Received: by mail-ig0-f182.google.com with SMTP id 5so44234096igt.0
        for <dev@httpd.apache.org>; Wed, 03 Feb 2016 11:17:25 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=oQ9X8Qq/QIs5Z9ECgPBYjxfL3hjm3umqzFia7TtbkjQ=;
        b=0jowg3hgXajYtt/K8XjiVyXHXihmKxxuNX5OpgWdiNNkzKZty58uxdbdeM72KWWXDv
         sNh1UDas9ZSkgG+mh7q2B4uzMk0WjzYbCgoaV2ngJzuAFeRCiYRXm74yo/EX1nrwKCRq
         Xbvd3QnkoTisV14bLJDzGCpGGYOcce6R9f4w8n9CSlpyBGaEDMXOAIX/IECZhneScU3x
         96mvli8UpBqcdONyiqVTMLavxoEsivB/TopvRPenqzNiuNsNrFSkiaVhQzIr+z4Ds7kb
         Pyl0wS3dAaX+/V0ihfrnOpSvukXDRXexCxQunTrGUVPMUEUi2tAyAh6esZz/rFTwk6nZ
         BTLA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=oQ9X8Qq/QIs5Z9ECgPBYjxfL3hjm3umqzFia7TtbkjQ=;
        b=gT0pSEOhZtWWK5f7DzCbAlusgRr5aO0oqzrDdAsCTp0lSj9nEGCLRSXi0pXRED25Yi
         T8O4aeE7Ob+y+Rw7GLRQ+jdsF7tt7VLs8inrR97hP22NWEZRSXKrAS4/XUrRKCvQI+Lt
         DjtdLa69rP78kor2/sBfKHSxZtA4BAEkFmN7fQ2Tk1GjNhBoVgli5IViXDJIC1Ex6fgF
         ktsTBfWqDzkRWIS8aWJ/g87N7w05xRHQM0Ss1XFzfwjmuUprhlZvKhyKnsH2JZbhySib
         qnT5R+8s5VUojQy1DYFNhzGO9mwbpnLkCYBQaeh1j8ijWAaToHQq0XABVxllc0LczDgi
         AKVQ==
X-Gm-Message-State: AG10YOQ8vqhRv3tK4oLCFDW/iKyWa+XGX/2962vlqjpbYz6gawchiBCgw7wSXCv1vlZLfDNLwbRWM59RSMyuDA==
MIME-Version: 1.0
X-Received: by 10.50.41.41 with SMTP id c9mr5015521igl.36.1454527044580; Wed,
 03 Feb 2016 11:17:24 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Wed, 3 Feb 2016 11:17:24 -0800 (PST)
Date: Wed, 3 Feb 2016 14:17:24 -0500
Message-ID: <CALK=YjP5AuVAi4jdwxeOzLFy3rKp91TnY5-topGP3ia9eijcSg@mail.gmail.com>
Subject: LDAP escaping question
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

I am looking at an old block of code in mod_authnz_ldap that seems to
have been there since it was imported.  We do some escaping of the
HTTP basic auth username before copying it into a filter.

    for (p = user, q=filtbuf + len;
         *p && q < filtbuf_end; *q++ = *p++) {
        if (strchr("*()\\", *p) != NULL) {
            *q++ = '\\';
            if (q >= filtbuf_end) {
              break;
            }
        }
    }


But neither http://tools.ietf.org/html/rfc4514 nor

-- 
Eric Covener
covener@gmail.com

From dev-return-85431-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb  3 19:20:28 2016
Return-Path: <dev-return-85431-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5FC33187FE
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Feb 2016 19:20:28 +0000 (UTC)
Received: (qmail 53774 invoked by uid 500); 3 Feb 2016 19:19:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53706 invoked by uid 500); 3 Feb 2016 19:19:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53695 invoked by uid 99); 3 Feb 2016 19:19:53 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Feb 2016 19:19:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E7A2FC01A8
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 19:19:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id So60RhYm4lER for <dev@httpd.apache.org>;
	Wed,  3 Feb 2016 19:19:52 +0000 (UTC)
Received: from mail-ig0-f174.google.com (mail-ig0-f174.google.com [209.85.213.174])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 6B2CA21150
	for <dev@httpd.apache.org>; Wed,  3 Feb 2016 19:19:51 +0000 (UTC)
Received: by mail-ig0-f174.google.com with SMTP id rs20so10660624igc.0
        for <dev@httpd.apache.org>; Wed, 03 Feb 2016 11:19:51 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=lq8Ww3VmlByPwSxlrVxAvVVi2Tt8mJzTCZq4OMu+2/A=;
        b=XkfT4z+H8hD1ejB6QeaBxSjVysCt+yyTAAC12lB3cuhLs/pOjRIxYfY3U69/L0p5Il
         UdCvhQbBrARf5z3PSvYP+XyLYouIZmVV5wWl+DyAvprJN1lwqzcNTUqwmXlViYR8tREZ
         kS/rV8KEVJsbzR5mo5nghONihKOqTTeTFBAZCPgIjsmAhldqYMXwRh8HtXSUn+pLMJBt
         zxNJUQGz9N6MSvEcm04C8otP6NrsoVAd2N5GP3WlRg9C7Ry6NwcIFhUqUCw5cZvHe3VR
         jaCXVaLqJKugNZM+xN3BY79fug6dnDMvPwHh/XD1Fbv4+CcFpyNpJrzVZw6X9/D1tA19
         HI3Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=lq8Ww3VmlByPwSxlrVxAvVVi2Tt8mJzTCZq4OMu+2/A=;
        b=aeea5Vo5Pe/+x43g4A0msKCA9TRj7H4AJrXbosupjBNcoLQZ52gdh0G3n3NfeCA59b
         mi5keNhN+0xuPIh1l5qDjmOQmfBjC3TnBDXKlMKaNtlwiaaOgrcT4z3NDr/o1NwvIL6y
         uAcsREndwZrV4eQjTSQb9mxO52HXPv+tTxTUdCUNAkScBcBihgLrZyKzFKYQv20EJSuJ
         Q003ZzPWJZPrfypQLI7F0rwSJ7b3SMWyT+A6hYS8clc+Qi8COL/qzvAT9Z8XwLGUDlXU
         wvYEzMuNeATgw6E8s+fq7jCF9THPq6Wmk9Kt+cZq5ScGmV4A4J8Gpf1Knz7liWM5fbVD
         jYBA==
X-Gm-Message-State: AG10YOTYiFxHgMye2XBjNT+r52RJPIeaPquZutvlme3l4BHkkj0IwXiE4YTSk3s+cb62ZXN98pZb1A/vGFwqEA==
MIME-Version: 1.0
X-Received: by 10.50.50.73 with SMTP id a9mr5062281igo.72.1454527190436; Wed,
 03 Feb 2016 11:19:50 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Wed, 3 Feb 2016 11:19:50 -0800 (PST)
In-Reply-To: <CALK=YjP5AuVAi4jdwxeOzLFy3rKp91TnY5-topGP3ia9eijcSg@mail.gmail.com>
References: <CALK=YjP5AuVAi4jdwxeOzLFy3rKp91TnY5-topGP3ia9eijcSg@mail.gmail.com>
Date: Wed, 3 Feb 2016 14:19:50 -0500
Message-ID: <CALK=YjNfeTgj7-Z7QrBar4Y-z1iz6ynpajPYEgw0-3v+hMe9bg@mail.gmail.com>
Subject: Re: LDAP escaping question
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Arg, mis-clicked.

On Wed, Feb 3, 2016 at 2:17 PM, Eric Covener <covener@gmail.com> wrote:
> I am looking at an old block of code in mod_authnz_ldap that seems to
> have been there since it was imported.  We do some escaping of the
> HTTP basic auth username before copying it into a filter.
>
>     for (p = user, q=filtbuf + len;
>          *p && q < filtbuf_end; *q++ = *p++) {
>         if (strchr("*()\\", *p) != NULL) {
>             *q++ = '\\';
>             if (q >= filtbuf_end) {
>               break;
>             }
>         }
>     }
>
>
> But neither http://tools.ietf.org/html/rfc4514 nor
http://tools.ietf.org/html/rfc2253

Actually allow *() to be escaped in this way. Those specs both require
\xx escaping (they allow
different sets of characters to be escaped with \, including \ in both versions)

Anyone around that remembers how this set of characters and the \
escaping were chosen?

From dev-return-85432-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 02:56:31 2016
Return-Path: <dev-return-85432-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DB4211809A
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 02:56:31 +0000 (UTC)
Received: (qmail 57184 invoked by uid 500); 4 Feb 2016 02:56:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57111 invoked by uid 500); 4 Feb 2016 02:56:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57101 invoked by uid 99); 4 Feb 2016 02:56:31 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 02:56:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id BD783181B9D
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 02:56:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.57
X-Spam-Level: ***
X-Spam-Status: No, score=3.57 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.429, SPF_PASS=-0.001, URIBL_SBL=4, URIBL_SBL_A=0.1]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=kraut.ca
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id LXodnKZgrMkY for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 02:56:29 +0000 (UTC)
Received: from penguin.kraut.ca (penguin.kraut.ca [96.53.60.142])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id D7F5D428ED
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 02:56:28 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=kraut.ca;
	 s=20151017; h=Subject:Content-Transfer-Encoding:Content-Type:In-Reply-To:
	MIME-Version:Date:Message-ID:From:References:To;
	bh=n/73Bu8NKhVyc5T5HDdZ6IOITQ0GcJyHpEWwj2GyVUc=; b=oDKEySR3Y7rMGcETpi9pS4f+n7
	7g9tfujoKy+ybK7DazLbiv0oaY1A1TMZUFuP03LqWi88F7wdNjf3+qD+hXJy3g1i2Kzr/hoUMJKI/
	+9gobBP85EtAT7epIj3SEJl5MOpMNsR5BE1UMz4gZyeRXGv8+UzujyysakCCZIuG4NOQ=;
Received: from [184.71.173.194] (helo=[205.159.216.152])
	by penguin.kraut.ca with esmtpsa (TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128)
	(Exim 4.86)
	(envelope-from <joachim@kraut.ca>)
	id 1aRA5i-0008FG-Dc
	for dev@httpd.apache.org; Wed, 03 Feb 2016 18:56:21 -0800
To: dev@httpd.apache.org
References: <56B0803B.6080209@kraut.ca>
 <CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
 <56B19098.4060303@kraut.ca>
 <CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
 <56B1C4E9.3050306@kraut.ca>
 <CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
 <CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
 <CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
 <CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
 <CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com>
From: Joachim Achtzehnter <joachim@kraut.ca>
Message-ID: <56B2BDC9.40904@kraut.ca>
Date: Wed, 3 Feb 2016 18:56:09 -0800
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 184.71.173.194
X-SA-Exim-Mail-From: joachim@kraut.ca
Subject: Re: HTTPS connections lock-up with 2.4.18
X-SA-Exim-Version: 4.2.1 (built Mon, 06 Jul 2015 07:28:29 +0000)
X-SA-Exim-Scanned: Yes (on penguin.kraut.ca)

Perhaps, there is an important clue this time. When I retrieve a file 
that works we see the following log messages near the time when the 
reply is being written:

> [Wed Feb 03 18:13:51.402289 2016] [ssl:notice] [pid 1676] [client 205.159.216.185:55978] bio[9dabd50] out: pass 271 bytes
> [Wed Feb 03 18:13:51.402463 2016] [ssl:notice] [pid 1676] [client 205.159.216.185:55978] bio[9dabd50] out: pass 4020 bytes
> [Wed Feb 03 18:13:51.402515 2016] [core:notice] [pid 1676] [client 205.159.216.185:55978] core_output_filter: sent 4291 on 4291 bytes
> [Wed Feb 03 18:13:51.402527 2016] [ssl:notice] [pid 1676] [client 205.159.216.185:55978] bio[9dabd50] out: METADATA EOS
> [Wed Feb 03 18:13:51.402581 2016] [ssl:notice] [pid 1676] [client 205.159.216.185:55978] bio[9dabd50] out: METADATA EOR
> [Wed Feb 03 18:13:51.406356 2016] [ssl:notice] [pid 1676] [client 205.159.216.185:55978] bio[9db96d8] in: read 5 bytes
> [Wed Feb 03 18:13:51.406375 2016] [ssl:notice] [pid 1676] [client 205.159.216.185:55978] bio[9db96d8] in: read 26 bytes
> [Wed Feb 03 18:13:51.406392 2016] [http:notice] [pid 1676] (70014)End of file found: [client 205.159.216.185:55978] check_pipeline: no data
> [Wed Feb 03 18:13:51.406476 2016] [http:notice] [pid 1676] (70014)End of file found: [client 205.159.216.185:55978] check_pipeline: data_in_input_filters = 0
> [Wed Feb 03 18:13:51.406492 2016] [ssl:notice] [pid 1676] [client 205.159.216.185:55978] bio[9dabd50] out: METADATA FLUSH
> [Wed Feb 03 18:13:51.406591 2016] [ssl:notice] [pid 1676] [client 205.159.216.185:55978] bio[9dabd50] out: METADATA FLUSH
> [Wed Feb 03 18:13:51.406613 2016] [ssl:notice] [pid 1676] [client 205.159.216.185:55978] bio[9dabd50] out: METADATA EOC
> [Wed Feb 03 18:13:51.406624 2016] [ssl:notice] [pid 1676] [client 205.159.216.185:55978] bio[9dabd50] out: pass 31 bytes
> [Wed Feb 03 18:13:51.406673 2016] [ssl:notice] [pid 1676] [client 205.159.216.185:55978] bio[9dabd50] out: FLUSH
> [Wed Feb 03 18:13:51.406723 2016] [core:notice] [pid 1676] [client 205.159.216.185:55978] core_output_filter: sent 31 on 31 bytes
> [Wed Feb 03 18:13:51.406735 2016] [ssl:debug] [pid 1676] ssl_engine_io.c(1029): [client 205.159.216.185:55978] AH02001: Connection closed to child 0 with standard shutdown (server localhost:443)

Notice the call to check_pipeline returns quickly. Now the same part of 
the log for the failing file:

> [Wed Feb 03 17:56:55.424124 2016] [ssl:notice] [pid 1663] [client 205.159.216.185:55962] bio[8158d50] out: pass 271 bytes
> [Wed Feb 03 17:56:55.424192 2016] [ssl:notice] [pid 1663] [client 205.159.216.185:55962] bio[8158d50] out: pass 1727 bytes
> [Wed Feb 03 17:56:55.424223 2016] [ssl:notice] [pid 1663] [client 205.159.216.185:55962] bio[8158d50] out: METADATA EOS
> [Wed Feb 03 17:56:55.424235 2016] [ssl:notice] [pid 1663] [client 205.159.216.185:55962] bio[8158d50] out: METADATA EOR
> [Wed Feb 03 18:09:56.652288 2016] [http:notice] [pid 1663] (11)Resource temporarily unavailable: [client 205.159.216.185:55962] check_pipeline: no data
> [Wed Feb 03 18:09:56.652376 2016] [http:notice] [pid 1663] (11)Resource temporarily unavailable: [client 205.159.216.185:55962] check_pipeline: data_in_input_filters = 0
> [Wed Feb 03 18:09:56.652398 2016] [ssl:notice] [pid 1663] [client 205.159.216.185:55962] bio[8158d50] out: METADATA FLUSH
> [Wed Feb 03 18:09:56.652444 2016] [core:notice] [pid 1663] [client 205.159.216.185:55962] core_output_filter: sent 1998 on 1998 bytes
> [Wed Feb 03 18:09:56.652510 2016] [ssl:info] [pid 1663] (70014)End of file found: [client 205.159.216.185:55962] AH01991: SSL input filter read failed.
> [Wed Feb 03 18:09:56.652519 2016] [ssl:notice] [pid 1663] [client 205.159.216.185:55962] bio[8158d50] out: METADATA FLUSH
> [Wed Feb 03 18:09:56.652525 2016] [ssl:notice] [pid 1663] [client 205.159.216.185:55962] bio[8158d50] out: METADATA EOC
> [Wed Feb 03 18:09:56.652545 2016] [ssl:notice] [pid 1663] [client 205.159.216.185:55962] bio[8158d50] out: pass 31 bytes
> [Wed Feb 03 18:09:56.652553 2016] [ssl:notice] [pid 1663] [client 205.159.216.185:55962] bio[8158d50] out: FLUSH
> [Wed Feb 03 18:09:56.652568 2016] [core:notice] [pid 1663] [client 205.159.216.185:55962] core_output_filter: sent 31 on 31 bytes
> [Wed Feb 03 18:09:56.652576 2016] [ssl:debug] [pid 1663] ssl_engine_io.c(1029): [client 205.159.216.185:55962] AH02001: Connection closed to child 0 with standard shutdown (server localhost:443)

The check_pipeline call only returns when I kill the client. I first 
noticed this in the debugger where httpd was sitting in a blocking read. 
Somehow, in this case a blocking read is done instead of a non-blocking 
read.

To be specific, it ended up in the do/while loop that calls read in 
function apr_socket_recv (sendrecv.c), called from socket_bucket_read in 
apr_buckets_socket.c, called from ap_core_input_filter in 
core_filters.c. The block parameter was APR_NONBLOCK_READ, but this 
didn't stop the lower-level functions from blocking, somehow. The 
apr_socket_recv function seems to do the select version of reading based 
on the APR_INCOMPLETE_READ flag in sock->options.

By the way, to answer an earlier question, this is a prefork server with 
separate processes, not threaded.

Thanks,

Joachim


On 2016-02-03 8:06, Yann Ylavic wrote:
> On Wed, Feb 3, 2016 at 4:53 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> I suggest you use the attached patch instead (replacing any previous
>> one), so that we log the output path taken when mod_ssl is in the
>> place.
>
> Forgot about the casting issue (SSL_get_app_data) with your compiler...
> This v5 (attached) should compile fine.
>
>>
>>> And maybe take network traces on the server side?
>>
>> That would be really nice too.
>>
>>>
>>> Thanks,
>>> Yann.

-- 
joachim@kraut.ca http://www.kraut.ca

From dev-return-85433-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 04:57:19 2016
Return-Path: <dev-return-85433-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 87AB3183F3
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 04:57:19 +0000 (UTC)
Received: (qmail 40215 invoked by uid 500); 4 Feb 2016 04:57:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 40139 invoked by uid 500); 4 Feb 2016 04:57:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 40129 invoked by uid 99); 4 Feb 2016 04:57:18 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 04:57:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7097618017A
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 04:57:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.39
X-Spam-Level: *
X-Spam-Status: No, score=1.39 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, T_DKIM_INVALID=0.01]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new); dkim=neutral
	reason="invalid (public key: missing p= tag)" header.d=ymkatz.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id sFL_4gamVmLH for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 04:57:17 +0000 (UTC)
Received: from mail-wm0-f41.google.com (mail-wm0-f41.google.com [74.125.82.41])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 0487120CDE
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 04:57:16 +0000 (UTC)
Received: by mail-wm0-f41.google.com with SMTP id l66so100109532wml.0
        for <dev@httpd.apache.org>; Wed, 03 Feb 2016 20:57:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=ymkatz.net; s=g;
        h=mime-version:from:date:message-id:subject:to:content-type;
        bh=o3ib2azXxswMR8QymXugMJVByh4b+CIlAIQhDfzY1W4=;
        b=anz/RpDxn9lpA85bvwgf78GjCgnKx6NyrdRHvuDmMyicPIJyqGXDNnN1AcDXlV41Ia
         8E9e4Uv8vtUmZmmmghY4mgZDCRUzoSG2WSMQ19XYMim3gOS7S75UyH29feBd3e9aB7c5
         nDamZetjkZvMGzgIbloELNWRgyTmW+477LQwg=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to
         :content-type;
        bh=o3ib2azXxswMR8QymXugMJVByh4b+CIlAIQhDfzY1W4=;
        b=LfHv0bmeqjpMPYiWAV7cpQSuw0ke3duCeP8fz9TcWQGND6gCG6T7xP8AYYg1+bNyJJ
         yZmDUQY8qz8i2t9sykS/DrIp5Ox9QJoDsDcEkxAYae7Ema/87ObBlFdePkYXxmJ6T3lG
         L6SjEW1NOZ/9WVDE4jDhgsek91e3hohSo/M7peDoOAq0yoGu1zWmkI9X/An52Qfxtfa7
         XvcTcq4OPVYX5bESPCH5rKK63fXgFU1N+hg+Lq+zxi1RiZnFRv7YJxKy9vB0JmF4d/is
         jvx4LUcedES+YGm54OyYvLU8LK1+jiQ3VR/WZ5a49X/EvqkJA5OKcVo8U0O+kperY858
         P30A==
X-Gm-Message-State: AG10YOSMeiUa/A+HrNR/oP8q4sfPNgpwNLhSp/eepP40xDyH0XkmvA527D5ONq+SLmyBYl/m
X-Received: by 10.28.224.212 with SMTP id x203mr7924840wmg.29.1454561835652;
        Wed, 03 Feb 2016 20:57:15 -0800 (PST)
Received: from mail-wm0-f50.google.com (mail-wm0-f50.google.com. [74.125.82.50])
        by smtp.gmail.com with ESMTPSA id v78sm2552520wmv.23.2016.02.03.20.57.14
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Wed, 03 Feb 2016 20:57:15 -0800 (PST)
Received: by mail-wm0-f50.google.com with SMTP id r129so194481962wmr.0
        for <dev@httpd.apache.org>; Wed, 03 Feb 2016 20:57:14 -0800 (PST)
X-Received: by 10.28.30.198 with SMTP id e189mr7667774wme.60.1454561834738;
 Wed, 03 Feb 2016 20:57:14 -0800 (PST)
MIME-Version: 1.0
Received: by 10.28.221.136 with HTTP; Wed, 3 Feb 2016 20:56:55 -0800 (PST)
From: Yehuda Katz <yehuda@ymkatz.net>
Date: Wed, 3 Feb 2016 23:56:55 -0500
X-Gmail-Original-Message-ID: <CAGBAQ44mmZyu57dNT8uZoxrO3pA2KQ8PFwFifYyvMx=ZCtRM9g@mail.gmail.com>
Message-ID: <CAGBAQ44mmZyu57dNT8uZoxrO3pA2KQ8PFwFifYyvMx=ZCtRM9g@mail.gmail.com>
Subject: Broken Chunking with Fallback Resource
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a114b33de76af82052aea914a

--001a114b33de76af82052aea914a
Content-Type: text/plain; charset=UTF-8

I was asked to look at a FreeBSD server with HTTPD 2.4.18 (mod_php -
5.6.17). The site experiencing the issue is running WordPress.

There appears to be an issue with chunked responses not being delivered
properly when using FallbackResource. Chrome and the W3 Validator both
complain about missing chunks.
There are no errors in the server error log.

When we switched from FallbackResource to mod_rewrite, the problem
disappeared.
Has anyone seen this? If not, any debugging suggestions?

- Y

--001a114b33de76af82052aea914a
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">I was asked to look at a FreeBSD server with HTTPD 2.4.18 =
(mod_php - 5.6.17). The site experiencing the issue is running WordPress.<d=
iv><br></div><div>There appears to be an issue with chunked responses not b=
eing delivered properly when using FallbackResource. Chrome and the W3 Vali=
dator both complain about missing chunks.</div><div>There are no errors in =
the server error log.</div><div><br></div><div>When we switched from Fallba=
ckResource to mod_rewrite, the problem disappeared.</div><div>Has anyone se=
en this? If not, any debugging suggestions?</div><div><br></div><div>- Y</d=
iv></div>

--001a114b33de76af82052aea914a--

From dev-return-85434-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 07:38:40 2016
Return-Path: <dev-return-85434-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D105B188AA
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 07:38:40 +0000 (UTC)
Received: (qmail 42578 invoked by uid 500); 4 Feb 2016 07:38:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42399 invoked by uid 500); 4 Feb 2016 07:38:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42373 invoked by uid 99); 4 Feb 2016 07:38:39 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 07:38:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 766171A0540
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 07:38:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.798
X-Spam-Level: **
X-Spam-Status: No, score=2.798 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_MED=-2.3,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_HELO_PASS=-0.001, URIBL_SBL=4,
	URIBL_SBL_A=0.1] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Zm1e05agYTkz for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 07:38:36 +0000 (UTC)
Received: from mail1.bemta14.messagelabs.com (mail1.bemta14.messagelabs.com [193.109.254.117])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 7957920468
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 07:38:36 +0000 (UTC)
Received: from [193.109.255.99] by server-13.bemta-14.messagelabs.com id E6/EA-08347-BFFF2B65; Thu, 04 Feb 2016 07:38:35 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-9.tower-48.messagelabs.com!1454571514!13353013!1
X-Originating-IP: [195.232.244.135]
X-StarScan-Received:
X-StarScan-Version: 7.35.1; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 28014 invoked from network); 4 Feb 2016 07:38:34 -0000
Received: from mailout03.vodafone.com (HELO mailout03.vodafone.com) (195.232.244.135)
  by server-9.tower-48.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 4 Feb 2016 07:38:34 -0000
Received: from mailint02.vodafone.com (mailint02.vodafone.com [195.232.244.199])
	by mailout03.vodafone.com (Postfix) with ESMTP id 3pwsF630zQz17HNR
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 08:38:34 +0100 (CET)
Received: from mailint02.vodafone.com (localhost [127.0.0.1])
	by mailint02.vodafone.com (Postfix) with ESMTP id 3pwsF61rBdzQqgB
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 08:38:34 +0100 (CET)
Received: from VOEXC05W.internal.vodafone.com (voexc05w.dc-ratingen.de [145.230.101.25])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint02.vodafone.com (Postfix) with ESMTPS id 3pwsF61VgFzQqXx
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 08:38:34 +0100 (CET)
Received: from VOEXC20W.internal.vodafone.com (145.230.103.125) by
 VOEXC05W.internal.vodafone.com (145.230.101.25) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Thu, 4 Feb 2016 08:38:34 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.216]) by
 VOEXC20W.internal.vodafone.com ([145.230.103.125]) with mapi id
 14.03.0224.002; Thu, 4 Feb 2016 08:38:33 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: HTTPS connections lock-up with 2.4.18
Thread-Topic: HTTPS connections lock-up with 2.4.18
Thread-Index: AQHRXbe6uEk6ckROb0abdFq6M/zyOZ8Zu/MAgAA13gCAAAh/gIAAEvaAgAASLFD///MtgIAAEvww///7+ACAACkAgIAAEKeAgAAOqgCAAAOQgIAAtYuAgABfgiA=
Date: Thu, 4 Feb 2016 07:38:32 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC9FF5646@VOEXM10W.internal.vodafone.com>
References: <56B0803B.6080209@kraut.ca>
 <CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
 <56B19098.4060303@kraut.ca>
 <CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
 <56B1C4E9.3050306@kraut.ca>
 <CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
 <CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
 <CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
 <CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
 <CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com>
 <56B2BDC9.40904@kraut.ca>
In-Reply-To: <56B2BDC9.40904@kraut.ca>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

VGhhbmtzLiBXaGljaCB2ZXJzaW9uIG9mIEFQUiAvIEFQUi1VVElMIGFyZSB5b3UgdXNpbmc/DQoN
ClJlZ2FyZHMNCg0KUsO8ZGlnZXINCg0KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBG
cm9tOiBKb2FjaGltIEFjaHR6ZWhudGVyIFttYWlsdG86am9hY2hpbUBrcmF1dC5jYV0NCj4gU2Vu
dDogRG9ubmVyc3RhZywgNC4gRmVicnVhciAyMDE2IDAzOjU2DQo+IFRvOiBkZXZAaHR0cGQuYXBh
Y2hlLm9yZw0KPiBTdWJqZWN0OiBSZTogSFRUUFMgY29ubmVjdGlvbnMgbG9jay11cCB3aXRoIDIu
NC4xOA0KPiANCj4gUGVyaGFwcywgdGhlcmUgaXMgYW4gaW1wb3J0YW50IGNsdWUgdGhpcyB0aW1l
LiBXaGVuIEkgcmV0cmlldmUgYSBmaWxlDQo+IHRoYXQgd29ya3Mgd2Ugc2VlIHRoZSBmb2xsb3dp
bmcgbG9nIG1lc3NhZ2VzIG5lYXIgdGhlIHRpbWUgd2hlbiB0aGUNCj4gcmVwbHkgaXMgYmVpbmcg
d3JpdHRlbjoNCj4gDQo+ID4gW1dlZCBGZWIgMDMgMTg6MTM6NTEuNDAyMjg5IDIwMTZdIFtzc2w6
bm90aWNlXSBbcGlkIDE2NzZdIFtjbGllbnQNCj4gMjA1LjE1OS4yMTYuMTg1OjU1OTc4XSBiaW9b
OWRhYmQ1MF0gb3V0OiBwYXNzIDI3MSBieXRlcw0KPiA+IFtXZWQgRmViIDAzIDE4OjEzOjUxLjQw
MjQ2MyAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAxNjc2XSBbY2xpZW50DQo+IDIwNS4xNTkuMjE2
LjE4NTo1NTk3OF0gYmlvWzlkYWJkNTBdIG91dDogcGFzcyA0MDIwIGJ5dGVzDQo+ID4gW1dlZCBG
ZWIgMDMgMTg6MTM6NTEuNDAyNTE1IDIwMTZdIFtjb3JlOm5vdGljZV0gW3BpZCAxNjc2XSBbY2xp
ZW50DQo+IDIwNS4xNTkuMjE2LjE4NTo1NTk3OF0gY29yZV9vdXRwdXRfZmlsdGVyOiBzZW50IDQy
OTEgb24gNDI5MSBieXRlcw0KPiA+IFtXZWQgRmViIDAzIDE4OjEzOjUxLjQwMjUyNyAyMDE2XSBb
c3NsOm5vdGljZV0gW3BpZCAxNjc2XSBbY2xpZW50DQo+IDIwNS4xNTkuMjE2LjE4NTo1NTk3OF0g
YmlvWzlkYWJkNTBdIG91dDogTUVUQURBVEEgRU9TDQo+ID4gW1dlZCBGZWIgMDMgMTg6MTM6NTEu
NDAyNTgxIDIwMTZdIFtzc2w6bm90aWNlXSBbcGlkIDE2NzZdIFtjbGllbnQNCj4gMjA1LjE1OS4y
MTYuMTg1OjU1OTc4XSBiaW9bOWRhYmQ1MF0gb3V0OiBNRVRBREFUQSBFT1INCj4gPiBbV2VkIEZl
YiAwMyAxODoxMzo1MS40MDYzNTYgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMTY3Nl0gW2NsaWVu
dA0KPiAyMDUuMTU5LjIxNi4xODU6NTU5NzhdIGJpb1s5ZGI5NmQ4XSBpbjogcmVhZCA1IGJ5dGVz
DQo+ID4gW1dlZCBGZWIgMDMgMTg6MTM6NTEuNDA2Mzc1IDIwMTZdIFtzc2w6bm90aWNlXSBbcGlk
IDE2NzZdIFtjbGllbnQNCj4gMjA1LjE1OS4yMTYuMTg1OjU1OTc4XSBiaW9bOWRiOTZkOF0gaW46
IHJlYWQgMjYgYnl0ZXMNCj4gPiBbV2VkIEZlYiAwMyAxODoxMzo1MS40MDYzOTIgMjAxNl0gW2h0
dHA6bm90aWNlXSBbcGlkIDE2NzZdICg3MDAxNClFbmQgb2YNCj4gZmlsZSBmb3VuZDogW2NsaWVu
dCAyMDUuMTU5LjIxNi4xODU6NTU5NzhdIGNoZWNrX3BpcGVsaW5lOiBubyBkYXRhDQo+ID4gW1dl
ZCBGZWIgMDMgMTg6MTM6NTEuNDA2NDc2IDIwMTZdIFtodHRwOm5vdGljZV0gW3BpZCAxNjc2XSAo
NzAwMTQpRW5kIG9mDQo+IGZpbGUgZm91bmQ6IFtjbGllbnQgMjA1LjE1OS4yMTYuMTg1OjU1OTc4
XSBjaGVja19waXBlbGluZToNCj4gZGF0YV9pbl9pbnB1dF9maWx0ZXJzID0gMA0KPiA+IFtXZWQg
RmViIDAzIDE4OjEzOjUxLjQwNjQ5MiAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAxNjc2XSBbY2xp
ZW50DQo+IDIwNS4xNTkuMjE2LjE4NTo1NTk3OF0gYmlvWzlkYWJkNTBdIG91dDogTUVUQURBVEEg
RkxVU0gNCj4gPiBbV2VkIEZlYiAwMyAxODoxMzo1MS40MDY1OTEgMjAxNl0gW3NzbDpub3RpY2Vd
IFtwaWQgMTY3Nl0gW2NsaWVudA0KPiAyMDUuMTU5LjIxNi4xODU6NTU5NzhdIGJpb1s5ZGFiZDUw
XSBvdXQ6IE1FVEFEQVRBIEZMVVNIDQo+ID4gW1dlZCBGZWIgMDMgMTg6MTM6NTEuNDA2NjEzIDIw
MTZdIFtzc2w6bm90aWNlXSBbcGlkIDE2NzZdIFtjbGllbnQNCj4gMjA1LjE1OS4yMTYuMTg1OjU1
OTc4XSBiaW9bOWRhYmQ1MF0gb3V0OiBNRVRBREFUQSBFT0MNCj4gPiBbV2VkIEZlYiAwMyAxODox
Mzo1MS40MDY2MjQgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMTY3Nl0gW2NsaWVudA0KPiAyMDUu
MTU5LjIxNi4xODU6NTU5NzhdIGJpb1s5ZGFiZDUwXSBvdXQ6IHBhc3MgMzEgYnl0ZXMNCj4gPiBb
V2VkIEZlYiAwMyAxODoxMzo1MS40MDY2NzMgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMTY3Nl0g
W2NsaWVudA0KPiAyMDUuMTU5LjIxNi4xODU6NTU5NzhdIGJpb1s5ZGFiZDUwXSBvdXQ6IEZMVVNI
DQo+ID4gW1dlZCBGZWIgMDMgMTg6MTM6NTEuNDA2NzIzIDIwMTZdIFtjb3JlOm5vdGljZV0gW3Bp
ZCAxNjc2XSBbY2xpZW50DQo+IDIwNS4xNTkuMjE2LjE4NTo1NTk3OF0gY29yZV9vdXRwdXRfZmls
dGVyOiBzZW50IDMxIG9uIDMxIGJ5dGVzDQo+ID4gW1dlZCBGZWIgMDMgMTg6MTM6NTEuNDA2NzM1
IDIwMTZdIFtzc2w6ZGVidWddIFtwaWQgMTY3Nl0NCj4gc3NsX2VuZ2luZV9pby5jKDEwMjkpOiBb
Y2xpZW50IDIwNS4xNTkuMjE2LjE4NTo1NTk3OF0gQUgwMjAwMTogQ29ubmVjdGlvbg0KPiBjbG9z
ZWQgdG8gY2hpbGQgMCB3aXRoIHN0YW5kYXJkIHNodXRkb3duIChzZXJ2ZXIgbG9jYWxob3N0OjQ0
MykNCj4gDQo+IE5vdGljZSB0aGUgY2FsbCB0byBjaGVja19waXBlbGluZSByZXR1cm5zIHF1aWNr
bHkuIE5vdyB0aGUgc2FtZSBwYXJ0IG9mDQo+IHRoZSBsb2cgZm9yIHRoZSBmYWlsaW5nIGZpbGU6
DQo+IA0KPiA+IFtXZWQgRmViIDAzIDE3OjU2OjU1LjQyNDEyNCAyMDE2XSBbc3NsOm5vdGljZV0g
W3BpZCAxNjYzXSBbY2xpZW50DQo+IDIwNS4xNTkuMjE2LjE4NTo1NTk2Ml0gYmlvWzgxNThkNTBd
IG91dDogcGFzcyAyNzEgYnl0ZXMNCj4gPiBbV2VkIEZlYiAwMyAxNzo1Njo1NS40MjQxOTIgMjAx
Nl0gW3NzbDpub3RpY2VdIFtwaWQgMTY2M10gW2NsaWVudA0KPiAyMDUuMTU5LjIxNi4xODU6NTU5
NjJdIGJpb1s4MTU4ZDUwXSBvdXQ6IHBhc3MgMTcyNyBieXRlcw0KPiA+IFtXZWQgRmViIDAzIDE3
OjU2OjU1LjQyNDIyMyAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAxNjYzXSBbY2xpZW50DQo+IDIw
NS4xNTkuMjE2LjE4NTo1NTk2Ml0gYmlvWzgxNThkNTBdIG91dDogTUVUQURBVEEgRU9TDQo+ID4g
W1dlZCBGZWIgMDMgMTc6NTY6NTUuNDI0MjM1IDIwMTZdIFtzc2w6bm90aWNlXSBbcGlkIDE2NjNd
IFtjbGllbnQNCj4gMjA1LjE1OS4yMTYuMTg1OjU1OTYyXSBiaW9bODE1OGQ1MF0gb3V0OiBNRVRB
REFUQSBFT1INCj4gPiBbV2VkIEZlYiAwMyAxODowOTo1Ni42NTIyODggMjAxNl0gW2h0dHA6bm90
aWNlXSBbcGlkIDE2NjNdICgxMSlSZXNvdXJjZQ0KPiB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZTog
W2NsaWVudCAyMDUuMTU5LjIxNi4xODU6NTU5NjJdIGNoZWNrX3BpcGVsaW5lOiBubw0KPiBkYXRh
DQo+ID4gW1dlZCBGZWIgMDMgMTg6MDk6NTYuNjUyMzc2IDIwMTZdIFtodHRwOm5vdGljZV0gW3Bp
ZCAxNjYzXSAoMTEpUmVzb3VyY2UNCj4gdGVtcG9yYXJpbHkgdW5hdmFpbGFibGU6IFtjbGllbnQg
MjA1LjE1OS4yMTYuMTg1OjU1OTYyXSBjaGVja19waXBlbGluZToNCj4gZGF0YV9pbl9pbnB1dF9m
aWx0ZXJzID0gMA0KPiA+IFtXZWQgRmViIDAzIDE4OjA5OjU2LjY1MjM5OCAyMDE2XSBbc3NsOm5v
dGljZV0gW3BpZCAxNjYzXSBbY2xpZW50DQo+IDIwNS4xNTkuMjE2LjE4NTo1NTk2Ml0gYmlvWzgx
NThkNTBdIG91dDogTUVUQURBVEEgRkxVU0gNCj4gPiBbV2VkIEZlYiAwMyAxODowOTo1Ni42NTI0
NDQgMjAxNl0gW2NvcmU6bm90aWNlXSBbcGlkIDE2NjNdIFtjbGllbnQNCj4gMjA1LjE1OS4yMTYu
MTg1OjU1OTYyXSBjb3JlX291dHB1dF9maWx0ZXI6IHNlbnQgMTk5OCBvbiAxOTk4IGJ5dGVzDQo+
ID4gW1dlZCBGZWIgMDMgMTg6MDk6NTYuNjUyNTEwIDIwMTZdIFtzc2w6aW5mb10gW3BpZCAxNjYz
XSAoNzAwMTQpRW5kIG9mDQo+IGZpbGUgZm91bmQ6IFtjbGllbnQgMjA1LjE1OS4yMTYuMTg1OjU1
OTYyXSBBSDAxOTkxOiBTU0wgaW5wdXQgZmlsdGVyIHJlYWQNCj4gZmFpbGVkLg0KPiA+IFtXZWQg
RmViIDAzIDE4OjA5OjU2LjY1MjUxOSAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAxNjYzXSBbY2xp
ZW50DQo+IDIwNS4xNTkuMjE2LjE4NTo1NTk2Ml0gYmlvWzgxNThkNTBdIG91dDogTUVUQURBVEEg
RkxVU0gNCj4gPiBbV2VkIEZlYiAwMyAxODowOTo1Ni42NTI1MjUgMjAxNl0gW3NzbDpub3RpY2Vd
IFtwaWQgMTY2M10gW2NsaWVudA0KPiAyMDUuMTU5LjIxNi4xODU6NTU5NjJdIGJpb1s4MTU4ZDUw
XSBvdXQ6IE1FVEFEQVRBIEVPQw0KPiA+IFtXZWQgRmViIDAzIDE4OjA5OjU2LjY1MjU0NSAyMDE2
XSBbc3NsOm5vdGljZV0gW3BpZCAxNjYzXSBbY2xpZW50DQo+IDIwNS4xNTkuMjE2LjE4NTo1NTk2
Ml0gYmlvWzgxNThkNTBdIG91dDogcGFzcyAzMSBieXRlcw0KPiA+IFtXZWQgRmViIDAzIDE4OjA5
OjU2LjY1MjU1MyAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAxNjYzXSBbY2xpZW50DQo+IDIwNS4x
NTkuMjE2LjE4NTo1NTk2Ml0gYmlvWzgxNThkNTBdIG91dDogRkxVU0gNCj4gPiBbV2VkIEZlYiAw
MyAxODowOTo1Ni42NTI1NjggMjAxNl0gW2NvcmU6bm90aWNlXSBbcGlkIDE2NjNdIFtjbGllbnQN
Cj4gMjA1LjE1OS4yMTYuMTg1OjU1OTYyXSBjb3JlX291dHB1dF9maWx0ZXI6IHNlbnQgMzEgb24g
MzEgYnl0ZXMNCj4gPiBbV2VkIEZlYiAwMyAxODowOTo1Ni42NTI1NzYgMjAxNl0gW3NzbDpkZWJ1
Z10gW3BpZCAxNjYzXQ0KPiBzc2xfZW5naW5lX2lvLmMoMTAyOSk6IFtjbGllbnQgMjA1LjE1OS4y
MTYuMTg1OjU1OTYyXSBBSDAyMDAxOiBDb25uZWN0aW9uDQo+IGNsb3NlZCB0byBjaGlsZCAwIHdp
dGggc3RhbmRhcmQgc2h1dGRvd24gKHNlcnZlciBsb2NhbGhvc3Q6NDQzKQ0KPiANCj4gVGhlIGNo
ZWNrX3BpcGVsaW5lIGNhbGwgb25seSByZXR1cm5zIHdoZW4gSSBraWxsIHRoZSBjbGllbnQuIEkg
Zmlyc3QNCj4gbm90aWNlZCB0aGlzIGluIHRoZSBkZWJ1Z2dlciB3aGVyZSBodHRwZCB3YXMgc2l0
dGluZyBpbiBhIGJsb2NraW5nIHJlYWQuDQo+IFNvbWVob3csIGluIHRoaXMgY2FzZSBhIGJsb2Nr
aW5nIHJlYWQgaXMgZG9uZSBpbnN0ZWFkIG9mIGEgbm9uLWJsb2NraW5nDQo+IHJlYWQuDQo+IA0K
PiBUbyBiZSBzcGVjaWZpYywgaXQgZW5kZWQgdXAgaW4gdGhlIGRvL3doaWxlIGxvb3AgdGhhdCBj
YWxscyByZWFkIGluDQo+IGZ1bmN0aW9uIGFwcl9zb2NrZXRfcmVjdiAoc2VuZHJlY3YuYyksIGNh
bGxlZCBmcm9tIHNvY2tldF9idWNrZXRfcmVhZCBpbg0KPiBhcHJfYnVja2V0c19zb2NrZXQuYywg
Y2FsbGVkIGZyb20gYXBfY29yZV9pbnB1dF9maWx0ZXIgaW4NCj4gY29yZV9maWx0ZXJzLmMuIFRo
ZSBibG9jayBwYXJhbWV0ZXIgd2FzIEFQUl9OT05CTE9DS19SRUFELCBidXQgdGhpcw0KPiBkaWRu
J3Qgc3RvcCB0aGUgbG93ZXItbGV2ZWwgZnVuY3Rpb25zIGZyb20gYmxvY2tpbmcsIHNvbWVob3cu
IFRoZQ0KPiBhcHJfc29ja2V0X3JlY3YgZnVuY3Rpb24gc2VlbXMgdG8gZG8gdGhlIHNlbGVjdCB2
ZXJzaW9uIG9mIHJlYWRpbmcgYmFzZWQNCj4gb24gdGhlIEFQUl9JTkNPTVBMRVRFX1JFQUQgZmxh
ZyBpbiBzb2NrLT5vcHRpb25zLg0KPiANCj4gQnkgdGhlIHdheSwgdG8gYW5zd2VyIGFuIGVhcmxp
ZXIgcXVlc3Rpb24sIHRoaXMgaXMgYSBwcmVmb3JrIHNlcnZlciB3aXRoDQo+IHNlcGFyYXRlIHBy
b2Nlc3Nlcywgbm90IHRocmVhZGVkLg0KPiANCj4gVGhhbmtzLA0KPiANCj4gSm9hY2hpbQ0KPiAN
Cj4gDQo+IE9uIDIwMTYtMDItMDMgODowNiwgWWFubiBZbGF2aWMgd3JvdGU6DQo+ID4gT24gV2Vk
LCBGZWIgMywgMjAxNiBhdCA0OjUzIFBNLCBZYW5uIFlsYXZpYyA8eWxhdmljLmRldkBnbWFpbC5j
b20+DQo+IHdyb3RlOg0KPiA+Pg0KPiA+PiBJIHN1Z2dlc3QgeW91IHVzZSB0aGUgYXR0YWNoZWQg
cGF0Y2ggaW5zdGVhZCAocmVwbGFjaW5nIGFueSBwcmV2aW91cw0KPiA+PiBvbmUpLCBzbyB0aGF0
IHdlIGxvZyB0aGUgb3V0cHV0IHBhdGggdGFrZW4gd2hlbiBtb2Rfc3NsIGlzIGluIHRoZQ0KPiA+
PiBwbGFjZS4NCj4gPg0KPiA+IEZvcmdvdCBhYm91dCB0aGUgY2FzdGluZyBpc3N1ZSAoU1NMX2dl
dF9hcHBfZGF0YSkgd2l0aCB5b3VyIGNvbXBpbGVyLi4uDQo+ID4gVGhpcyB2NSAoYXR0YWNoZWQp
IHNob3VsZCBjb21waWxlIGZpbmUuDQo+ID4NCj4gPj4NCj4gPj4+IEFuZCBtYXliZSB0YWtlIG5l
dHdvcmsgdHJhY2VzIG9uIHRoZSBzZXJ2ZXIgc2lkZT8NCj4gPj4NCj4gPj4gVGhhdCB3b3VsZCBi
ZSByZWFsbHkgbmljZSB0b28uDQo+ID4+DQo+ID4+Pg0KPiA+Pj4gVGhhbmtzLA0KPiA+Pj4gWWFu
bi4NCj4gDQo+IC0tDQo+IGpvYWNoaW1Aa3JhdXQuY2EgaHR0cDovL3d3dy5rcmF1dC5jYQ0K

From dev-return-85435-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 07:51:03 2016
Return-Path: <dev-return-85435-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 641441890D
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 07:51:03 +0000 (UTC)
Received: (qmail 58542 invoked by uid 500); 4 Feb 2016 07:50:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58477 invoked by uid 500); 4 Feb 2016 07:50:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58466 invoked by uid 99); 4 Feb 2016 07:50:46 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 07:50:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 70AB9C2031
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 07:50:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4.398
X-Spam-Level: ****
X-Spam-Status: No, score=4.398 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_HELO_PASS=-0.001, URIBL_SBL=4,
	URIBL_SBL_A=0.1] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id aqnXU_kRwfAT for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 07:50:45 +0000 (UTC)
Received: from mail1.bemta3.messagelabs.com (mail1.bemta3.messagelabs.com [195.245.230.168])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id C717920468
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 07:50:44 +0000 (UTC)
Received: from [85.158.138.179] by server-8.bemta-3.messagelabs.com id 79/AF-24375-AC203B65; Thu, 04 Feb 2016 07:50:34 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-6.tower-169.messagelabs.com!1454572233!18324563!1
X-Originating-IP: [195.232.244.134]
X-StarScan-Received:
X-StarScan-Version: 7.35.1; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 18046 invoked from network); 4 Feb 2016 07:50:34 -0000
Received: from mailout02.vodafone.com (HELO mailout02.vodafone.com) (195.232.244.134)
  by server-6.tower-169.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 4 Feb 2016 07:50:34 -0000
Received: from mailint04.vodafone.com (mailint04.vodafone.com [195.232.244.201])
	by mailout02.vodafone.com (Postfix) with ESMTP id 3pwsVx3j7VzbdNg
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 08:50:33 +0100 (CET)
Received: from mailint04.vodafone.com (localhost [127.0.0.1])
	by mailint04.vodafone.com (Postfix) with ESMTP id 3pwsVd2Pd6zfh9W
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 08:50:17 +0100 (CET)
Received: from VOEXC04W.internal.vodafone.com (voexc04w.dc-ratingen.de [145.230.101.24])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint04.vodafone.com (Postfix) with ESMTPS id 3pwsVd2KcBzfh83
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 08:50:17 +0100 (CET)
Received: from VOEXC08W.internal.vodafone.com (145.230.101.28) by
 VOEXC04W.internal.vodafone.com (145.230.101.24) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Thu, 4 Feb 2016 08:50:17 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.216]) by
 voexc08w.internal.vodafone.com ([145.230.101.28]) with mapi id
 14.03.0224.002; Thu, 4 Feb 2016 08:50:16 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: HTTPS connections lock-up with 2.4.18
Thread-Topic: HTTPS connections lock-up with 2.4.18
Thread-Index: AQHRXbe6uEk6ckROb0abdFq6M/zyOZ8Zu/MAgAA13gCAAAh/gIAAEvaAgAASLFD///MtgIAAEvww///7+ACAACkAgIAAEKeAgAAOqgCAAAOQgIAAtYuAgABfgiCAAANBMA==
Date: Thu, 4 Feb 2016 07:50:15 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC9FF566F@VOEXM10W.internal.vodafone.com>
References: <56B0803B.6080209@kraut.ca>
 <CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
 <56B19098.4060303@kraut.ca>
 <CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
 <56B1C4E9.3050306@kraut.ca>
 <CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
 <CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
 <CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
 <CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
 <CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com>
 <56B2BDC9.40904@kraut.ca>
 <AB1691BE05AE7F4992697F2A0835627AC9FF5646@VOEXM10W.internal.vodafone.com>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC9FF5646@VOEXM10W.internal.vodafone.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

Q2FuIHlvdSBhbHNvIHBvc3QgdGhlIGJhY2t0cmFjZSB3aGVuIHRoZSBzZXJ2ZXIgaXMgaGFuZ2lu
ZyBpbiB0aGUgcmVhZD8NCg0KUmVnYXJkcw0KDQpSw7xkaWdlcg0KDQo+IC0tLS0tT3JpZ2luYWwg
TWVzc2FnZS0tLS0tDQo+IEZyb206IFBsw7xtLCBSw7xkaWdlciwgVm9kYWZvbmUgR3JvdXANCj4g
U2VudDogRG9ubmVyc3RhZywgNC4gRmVicnVhciAyMDE2IDA4OjM5DQo+IFRvOiBkZXZAaHR0cGQu
YXBhY2hlLm9yZw0KPiBTdWJqZWN0OiBSRTogSFRUUFMgY29ubmVjdGlvbnMgbG9jay11cCB3aXRo
IDIuNC4xOA0KPiANCj4gVGhhbmtzLiBXaGljaCB2ZXJzaW9uIG9mIEFQUiAvIEFQUi1VVElMIGFy
ZSB5b3UgdXNpbmc/DQo+IA0KPiBSZWdhcmRzDQo+IA0KPiBSw7xkaWdlcg0KPiANCj4gPiAtLS0t
LU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiA+IEZyb206IEpvYWNoaW0gQWNodHplaG50ZXIgW21h
aWx0bzpqb2FjaGltQGtyYXV0LmNhXQ0KPiA+IFNlbnQ6IERvbm5lcnN0YWcsIDQuIEZlYnJ1YXIg
MjAxNiAwMzo1Ng0KPiA+IFRvOiBkZXZAaHR0cGQuYXBhY2hlLm9yZw0KPiA+IFN1YmplY3Q6IFJl
OiBIVFRQUyBjb25uZWN0aW9ucyBsb2NrLXVwIHdpdGggMi40LjE4DQo+ID4NCj4gPiBQZXJoYXBz
LCB0aGVyZSBpcyBhbiBpbXBvcnRhbnQgY2x1ZSB0aGlzIHRpbWUuIFdoZW4gSSByZXRyaWV2ZSBh
IGZpbGUNCj4gPiB0aGF0IHdvcmtzIHdlIHNlZSB0aGUgZm9sbG93aW5nIGxvZyBtZXNzYWdlcyBu
ZWFyIHRoZSB0aW1lIHdoZW4gdGhlDQo+ID4gcmVwbHkgaXMgYmVpbmcgd3JpdHRlbjoNCj4gPg0K
PiA+ID4gW1dlZCBGZWIgMDMgMTg6MTM6NTEuNDAyMjg5IDIwMTZdIFtzc2w6bm90aWNlXSBbcGlk
IDE2NzZdIFtjbGllbnQNCj4gPiAyMDUuMTU5LjIxNi4xODU6NTU5NzhdIGJpb1s5ZGFiZDUwXSBv
dXQ6IHBhc3MgMjcxIGJ5dGVzDQo+ID4gPiBbV2VkIEZlYiAwMyAxODoxMzo1MS40MDI0NjMgMjAx
Nl0gW3NzbDpub3RpY2VdIFtwaWQgMTY3Nl0gW2NsaWVudA0KPiA+IDIwNS4xNTkuMjE2LjE4NTo1
NTk3OF0gYmlvWzlkYWJkNTBdIG91dDogcGFzcyA0MDIwIGJ5dGVzDQo+ID4gPiBbV2VkIEZlYiAw
MyAxODoxMzo1MS40MDI1MTUgMjAxNl0gW2NvcmU6bm90aWNlXSBbcGlkIDE2NzZdIFtjbGllbnQN
Cj4gPiAyMDUuMTU5LjIxNi4xODU6NTU5NzhdIGNvcmVfb3V0cHV0X2ZpbHRlcjogc2VudCA0Mjkx
IG9uIDQyOTEgYnl0ZXMNCj4gPiA+IFtXZWQgRmViIDAzIDE4OjEzOjUxLjQwMjUyNyAyMDE2XSBb
c3NsOm5vdGljZV0gW3BpZCAxNjc2XSBbY2xpZW50DQo+ID4gMjA1LjE1OS4yMTYuMTg1OjU1OTc4
XSBiaW9bOWRhYmQ1MF0gb3V0OiBNRVRBREFUQSBFT1MNCj4gPiA+IFtXZWQgRmViIDAzIDE4OjEz
OjUxLjQwMjU4MSAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAxNjc2XSBbY2xpZW50DQo+ID4gMjA1
LjE1OS4yMTYuMTg1OjU1OTc4XSBiaW9bOWRhYmQ1MF0gb3V0OiBNRVRBREFUQSBFT1INCj4gPiA+
IFtXZWQgRmViIDAzIDE4OjEzOjUxLjQwNjM1NiAyMDE2XSBbc3NsOm5vdGljZV0gW3BpZCAxNjc2
XSBbY2xpZW50DQo+ID4gMjA1LjE1OS4yMTYuMTg1OjU1OTc4XSBiaW9bOWRiOTZkOF0gaW46IHJl
YWQgNSBieXRlcw0KPiA+ID4gW1dlZCBGZWIgMDMgMTg6MTM6NTEuNDA2Mzc1IDIwMTZdIFtzc2w6
bm90aWNlXSBbcGlkIDE2NzZdIFtjbGllbnQNCj4gPiAyMDUuMTU5LjIxNi4xODU6NTU5NzhdIGJp
b1s5ZGI5NmQ4XSBpbjogcmVhZCAyNiBieXRlcw0KPiA+ID4gW1dlZCBGZWIgMDMgMTg6MTM6NTEu
NDA2MzkyIDIwMTZdIFtodHRwOm5vdGljZV0gW3BpZCAxNjc2XSAoNzAwMTQpRW5kDQo+IG9mDQo+
ID4gZmlsZSBmb3VuZDogW2NsaWVudCAyMDUuMTU5LjIxNi4xODU6NTU5NzhdIGNoZWNrX3BpcGVs
aW5lOiBubyBkYXRhDQo+ID4gPiBbV2VkIEZlYiAwMyAxODoxMzo1MS40MDY0NzYgMjAxNl0gW2h0
dHA6bm90aWNlXSBbcGlkIDE2NzZdICg3MDAxNClFbmQNCj4gb2YNCj4gPiBmaWxlIGZvdW5kOiBb
Y2xpZW50IDIwNS4xNTkuMjE2LjE4NTo1NTk3OF0gY2hlY2tfcGlwZWxpbmU6DQo+ID4gZGF0YV9p
bl9pbnB1dF9maWx0ZXJzID0gMA0KPiA+ID4gW1dlZCBGZWIgMDMgMTg6MTM6NTEuNDA2NDkyIDIw
MTZdIFtzc2w6bm90aWNlXSBbcGlkIDE2NzZdIFtjbGllbnQNCj4gPiAyMDUuMTU5LjIxNi4xODU6
NTU5NzhdIGJpb1s5ZGFiZDUwXSBvdXQ6IE1FVEFEQVRBIEZMVVNIDQo+ID4gPiBbV2VkIEZlYiAw
MyAxODoxMzo1MS40MDY1OTEgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMTY3Nl0gW2NsaWVudA0K
PiA+IDIwNS4xNTkuMjE2LjE4NTo1NTk3OF0gYmlvWzlkYWJkNTBdIG91dDogTUVUQURBVEEgRkxV
U0gNCj4gPiA+IFtXZWQgRmViIDAzIDE4OjEzOjUxLjQwNjYxMyAyMDE2XSBbc3NsOm5vdGljZV0g
W3BpZCAxNjc2XSBbY2xpZW50DQo+ID4gMjA1LjE1OS4yMTYuMTg1OjU1OTc4XSBiaW9bOWRhYmQ1
MF0gb3V0OiBNRVRBREFUQSBFT0MNCj4gPiA+IFtXZWQgRmViIDAzIDE4OjEzOjUxLjQwNjYyNCAy
MDE2XSBbc3NsOm5vdGljZV0gW3BpZCAxNjc2XSBbY2xpZW50DQo+ID4gMjA1LjE1OS4yMTYuMTg1
OjU1OTc4XSBiaW9bOWRhYmQ1MF0gb3V0OiBwYXNzIDMxIGJ5dGVzDQo+ID4gPiBbV2VkIEZlYiAw
MyAxODoxMzo1MS40MDY2NzMgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMTY3Nl0gW2NsaWVudA0K
PiA+IDIwNS4xNTkuMjE2LjE4NTo1NTk3OF0gYmlvWzlkYWJkNTBdIG91dDogRkxVU0gNCj4gPiA+
IFtXZWQgRmViIDAzIDE4OjEzOjUxLjQwNjcyMyAyMDE2XSBbY29yZTpub3RpY2VdIFtwaWQgMTY3
Nl0gW2NsaWVudA0KPiA+IDIwNS4xNTkuMjE2LjE4NTo1NTk3OF0gY29yZV9vdXRwdXRfZmlsdGVy
OiBzZW50IDMxIG9uIDMxIGJ5dGVzDQo+ID4gPiBbV2VkIEZlYiAwMyAxODoxMzo1MS40MDY3MzUg
MjAxNl0gW3NzbDpkZWJ1Z10gW3BpZCAxNjc2XQ0KPiA+IHNzbF9lbmdpbmVfaW8uYygxMDI5KTog
W2NsaWVudCAyMDUuMTU5LjIxNi4xODU6NTU5NzhdIEFIMDIwMDE6DQo+IENvbm5lY3Rpb24NCj4g
PiBjbG9zZWQgdG8gY2hpbGQgMCB3aXRoIHN0YW5kYXJkIHNodXRkb3duIChzZXJ2ZXIgbG9jYWxo
b3N0OjQ0MykNCj4gPg0KPiA+IE5vdGljZSB0aGUgY2FsbCB0byBjaGVja19waXBlbGluZSByZXR1
cm5zIHF1aWNrbHkuIE5vdyB0aGUgc2FtZSBwYXJ0IG9mDQo+ID4gdGhlIGxvZyBmb3IgdGhlIGZh
aWxpbmcgZmlsZToNCj4gPg0KPiA+ID4gW1dlZCBGZWIgMDMgMTc6NTY6NTUuNDI0MTI0IDIwMTZd
IFtzc2w6bm90aWNlXSBbcGlkIDE2NjNdIFtjbGllbnQNCj4gPiAyMDUuMTU5LjIxNi4xODU6NTU5
NjJdIGJpb1s4MTU4ZDUwXSBvdXQ6IHBhc3MgMjcxIGJ5dGVzDQo+ID4gPiBbV2VkIEZlYiAwMyAx
Nzo1Njo1NS40MjQxOTIgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMTY2M10gW2NsaWVudA0KPiA+
IDIwNS4xNTkuMjE2LjE4NTo1NTk2Ml0gYmlvWzgxNThkNTBdIG91dDogcGFzcyAxNzI3IGJ5dGVz
DQo+ID4gPiBbV2VkIEZlYiAwMyAxNzo1Njo1NS40MjQyMjMgMjAxNl0gW3NzbDpub3RpY2VdIFtw
aWQgMTY2M10gW2NsaWVudA0KPiA+IDIwNS4xNTkuMjE2LjE4NTo1NTk2Ml0gYmlvWzgxNThkNTBd
IG91dDogTUVUQURBVEEgRU9TDQo+ID4gPiBbV2VkIEZlYiAwMyAxNzo1Njo1NS40MjQyMzUgMjAx
Nl0gW3NzbDpub3RpY2VdIFtwaWQgMTY2M10gW2NsaWVudA0KPiA+IDIwNS4xNTkuMjE2LjE4NTo1
NTk2Ml0gYmlvWzgxNThkNTBdIG91dDogTUVUQURBVEEgRU9SDQo+ID4gPiBbV2VkIEZlYiAwMyAx
ODowOTo1Ni42NTIyODggMjAxNl0gW2h0dHA6bm90aWNlXSBbcGlkIDE2NjNdDQo+ICgxMSlSZXNv
dXJjZQ0KPiA+IHRlbXBvcmFyaWx5IHVuYXZhaWxhYmxlOiBbY2xpZW50IDIwNS4xNTkuMjE2LjE4
NTo1NTk2Ml0gY2hlY2tfcGlwZWxpbmU6DQo+IG5vDQo+ID4gZGF0YQ0KPiA+ID4gW1dlZCBGZWIg
MDMgMTg6MDk6NTYuNjUyMzc2IDIwMTZdIFtodHRwOm5vdGljZV0gW3BpZCAxNjYzXQ0KPiAoMTEp
UmVzb3VyY2UNCj4gPiB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZTogW2NsaWVudCAyMDUuMTU5LjIx
Ni4xODU6NTU5NjJdIGNoZWNrX3BpcGVsaW5lOg0KPiA+IGRhdGFfaW5faW5wdXRfZmlsdGVycyA9
IDANCj4gPiA+IFtXZWQgRmViIDAzIDE4OjA5OjU2LjY1MjM5OCAyMDE2XSBbc3NsOm5vdGljZV0g
W3BpZCAxNjYzXSBbY2xpZW50DQo+ID4gMjA1LjE1OS4yMTYuMTg1OjU1OTYyXSBiaW9bODE1OGQ1
MF0gb3V0OiBNRVRBREFUQSBGTFVTSA0KPiA+ID4gW1dlZCBGZWIgMDMgMTg6MDk6NTYuNjUyNDQ0
IDIwMTZdIFtjb3JlOm5vdGljZV0gW3BpZCAxNjYzXSBbY2xpZW50DQo+ID4gMjA1LjE1OS4yMTYu
MTg1OjU1OTYyXSBjb3JlX291dHB1dF9maWx0ZXI6IHNlbnQgMTk5OCBvbiAxOTk4IGJ5dGVzDQo+
ID4gPiBbV2VkIEZlYiAwMyAxODowOTo1Ni42NTI1MTAgMjAxNl0gW3NzbDppbmZvXSBbcGlkIDE2
NjNdICg3MDAxNClFbmQgb2YNCj4gPiBmaWxlIGZvdW5kOiBbY2xpZW50IDIwNS4xNTkuMjE2LjE4
NTo1NTk2Ml0gQUgwMTk5MTogU1NMIGlucHV0IGZpbHRlcg0KPiByZWFkDQo+ID4gZmFpbGVkLg0K
PiA+ID4gW1dlZCBGZWIgMDMgMTg6MDk6NTYuNjUyNTE5IDIwMTZdIFtzc2w6bm90aWNlXSBbcGlk
IDE2NjNdIFtjbGllbnQNCj4gPiAyMDUuMTU5LjIxNi4xODU6NTU5NjJdIGJpb1s4MTU4ZDUwXSBv
dXQ6IE1FVEFEQVRBIEZMVVNIDQo+ID4gPiBbV2VkIEZlYiAwMyAxODowOTo1Ni42NTI1MjUgMjAx
Nl0gW3NzbDpub3RpY2VdIFtwaWQgMTY2M10gW2NsaWVudA0KPiA+IDIwNS4xNTkuMjE2LjE4NTo1
NTk2Ml0gYmlvWzgxNThkNTBdIG91dDogTUVUQURBVEEgRU9DDQo+ID4gPiBbV2VkIEZlYiAwMyAx
ODowOTo1Ni42NTI1NDUgMjAxNl0gW3NzbDpub3RpY2VdIFtwaWQgMTY2M10gW2NsaWVudA0KPiA+
IDIwNS4xNTkuMjE2LjE4NTo1NTk2Ml0gYmlvWzgxNThkNTBdIG91dDogcGFzcyAzMSBieXRlcw0K
PiA+ID4gW1dlZCBGZWIgMDMgMTg6MDk6NTYuNjUyNTUzIDIwMTZdIFtzc2w6bm90aWNlXSBbcGlk
IDE2NjNdIFtjbGllbnQNCj4gPiAyMDUuMTU5LjIxNi4xODU6NTU5NjJdIGJpb1s4MTU4ZDUwXSBv
dXQ6IEZMVVNIDQo+ID4gPiBbV2VkIEZlYiAwMyAxODowOTo1Ni42NTI1NjggMjAxNl0gW2NvcmU6
bm90aWNlXSBbcGlkIDE2NjNdIFtjbGllbnQNCj4gPiAyMDUuMTU5LjIxNi4xODU6NTU5NjJdIGNv
cmVfb3V0cHV0X2ZpbHRlcjogc2VudCAzMSBvbiAzMSBieXRlcw0KPiA+ID4gW1dlZCBGZWIgMDMg
MTg6MDk6NTYuNjUyNTc2IDIwMTZdIFtzc2w6ZGVidWddIFtwaWQgMTY2M10NCj4gPiBzc2xfZW5n
aW5lX2lvLmMoMTAyOSk6IFtjbGllbnQgMjA1LjE1OS4yMTYuMTg1OjU1OTYyXSBBSDAyMDAxOg0K
PiBDb25uZWN0aW9uDQo+ID4gY2xvc2VkIHRvIGNoaWxkIDAgd2l0aCBzdGFuZGFyZCBzaHV0ZG93
biAoc2VydmVyIGxvY2FsaG9zdDo0NDMpDQo+ID4NCj4gPiBUaGUgY2hlY2tfcGlwZWxpbmUgY2Fs
bCBvbmx5IHJldHVybnMgd2hlbiBJIGtpbGwgdGhlIGNsaWVudC4gSSBmaXJzdA0KPiA+IG5vdGlj
ZWQgdGhpcyBpbiB0aGUgZGVidWdnZXIgd2hlcmUgaHR0cGQgd2FzIHNpdHRpbmcgaW4gYSBibG9j
a2luZyByZWFkLg0KPiA+IFNvbWVob3csIGluIHRoaXMgY2FzZSBhIGJsb2NraW5nIHJlYWQgaXMg
ZG9uZSBpbnN0ZWFkIG9mIGEgbm9uLWJsb2NraW5nDQo+ID4gcmVhZC4NCj4gPg0KPiA+IFRvIGJl
IHNwZWNpZmljLCBpdCBlbmRlZCB1cCBpbiB0aGUgZG8vd2hpbGUgbG9vcCB0aGF0IGNhbGxzIHJl
YWQgaW4NCj4gPiBmdW5jdGlvbiBhcHJfc29ja2V0X3JlY3YgKHNlbmRyZWN2LmMpLCBjYWxsZWQg
ZnJvbSBzb2NrZXRfYnVja2V0X3JlYWQgaW4NCj4gPiBhcHJfYnVja2V0c19zb2NrZXQuYywgY2Fs
bGVkIGZyb20gYXBfY29yZV9pbnB1dF9maWx0ZXIgaW4NCj4gPiBjb3JlX2ZpbHRlcnMuYy4gVGhl
IGJsb2NrIHBhcmFtZXRlciB3YXMgQVBSX05PTkJMT0NLX1JFQUQsIGJ1dCB0aGlzDQo+ID4gZGlk
bid0IHN0b3AgdGhlIGxvd2VyLWxldmVsIGZ1bmN0aW9ucyBmcm9tIGJsb2NraW5nLCBzb21laG93
LiBUaGUNCj4gPiBhcHJfc29ja2V0X3JlY3YgZnVuY3Rpb24gc2VlbXMgdG8gZG8gdGhlIHNlbGVj
dCB2ZXJzaW9uIG9mIHJlYWRpbmcgYmFzZWQNCj4gPiBvbiB0aGUgQVBSX0lOQ09NUExFVEVfUkVB
RCBmbGFnIGluIHNvY2stPm9wdGlvbnMuDQo+ID4NCj4gPiBCeSB0aGUgd2F5LCB0byBhbnN3ZXIg
YW4gZWFybGllciBxdWVzdGlvbiwgdGhpcyBpcyBhIHByZWZvcmsgc2VydmVyIHdpdGgNCj4gPiBz
ZXBhcmF0ZSBwcm9jZXNzZXMsIG5vdCB0aHJlYWRlZC4NCj4gPg0KPiA+IFRoYW5rcywNCj4gPg0K
PiA+IEpvYWNoaW0NCj4gPg0KPiA+DQo+ID4gT24gMjAxNi0wMi0wMyA4OjA2LCBZYW5uIFlsYXZp
YyB3cm90ZToNCj4gPiA+IE9uIFdlZCwgRmViIDMsIDIwMTYgYXQgNDo1MyBQTSwgWWFubiBZbGF2
aWMgPHlsYXZpYy5kZXZAZ21haWwuY29tPg0KPiA+IHdyb3RlOg0KPiA+ID4+DQo+ID4gPj4gSSBz
dWdnZXN0IHlvdSB1c2UgdGhlIGF0dGFjaGVkIHBhdGNoIGluc3RlYWQgKHJlcGxhY2luZyBhbnkg
cHJldmlvdXMNCj4gPiA+PiBvbmUpLCBzbyB0aGF0IHdlIGxvZyB0aGUgb3V0cHV0IHBhdGggdGFr
ZW4gd2hlbiBtb2Rfc3NsIGlzIGluIHRoZQ0KPiA+ID4+IHBsYWNlLg0KPiA+ID4NCj4gPiA+IEZv
cmdvdCBhYm91dCB0aGUgY2FzdGluZyBpc3N1ZSAoU1NMX2dldF9hcHBfZGF0YSkgd2l0aCB5b3Vy
DQo+IGNvbXBpbGVyLi4uDQo+ID4gPiBUaGlzIHY1IChhdHRhY2hlZCkgc2hvdWxkIGNvbXBpbGUg
ZmluZS4NCj4gPiA+DQo+ID4gPj4NCj4gPiA+Pj4gQW5kIG1heWJlIHRha2UgbmV0d29yayB0cmFj
ZXMgb24gdGhlIHNlcnZlciBzaWRlPw0KPiA+ID4+DQo+ID4gPj4gVGhhdCB3b3VsZCBiZSByZWFs
bHkgbmljZSB0b28uDQo+ID4gPj4NCj4gPiA+Pj4NCj4gPiA+Pj4gVGhhbmtzLA0KPiA+ID4+PiBZ
YW5uLg0KPiA+DQo+ID4gLS0NCj4gPiBqb2FjaGltQGtyYXV0LmNhIGh0dHA6Ly93d3cua3JhdXQu
Y2ENCg==

From dev-return-85436-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 07:55:30 2016
Return-Path: <dev-return-85436-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0900618939
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 07:55:30 +0000 (UTC)
Received: (qmail 65041 invoked by uid 500); 4 Feb 2016 07:55:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64978 invoked by uid 500); 4 Feb 2016 07:55:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64968 invoked by uid 99); 4 Feb 2016 07:55:29 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 07:55:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 28847C1E8A
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 07:55:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.539
X-Spam-Level: ***
X-Spam-Status: No, score=3.539 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.46, SPF_PASS=-0.001, URIBL_SBL=4, URIBL_SBL_A=0.1]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=kraut.ca
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id u-m0VrJvGt_n for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 07:55:27 +0000 (UTC)
Received: from penguin.kraut.ca (penguin.kraut.ca [96.53.60.142])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id AC8164380B
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 07:55:26 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=kraut.ca;
	 s=20151017; h=Subject:Content-Transfer-Encoding:Content-Type:In-Reply-To:
	MIME-Version:Date:Message-ID:From:References:To;
	bh=4HhZcRlAhs0+nAOhXAkhRdWEA516v/XIXaDj0h8NvSM=; b=XXpyeQJrZCpEiFQjN5cXVB1xFR
	NvcXaNNdpXyS8IVPSU39Cd/BJHhb9OyVQKK6YRFxS0aYi4Pr9aJBxT3Q2BA4Pta0qC4o6UiuwUsya
	9FzcabS7uwqf7ZDWBAvLsE/1S9OFWeZO7aWYrOmUxH9pOKPgKMG81I2ruYDrrBGcgGHc=;
Received: from notebook.kraut.ca ([192.168.100.229])
	by penguin.kraut.ca with esmtpsa (TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128)
	(Exim 4.86)
	(envelope-from <joachim@kraut.ca>)
	id 1aREl8-0000KY-RQ
	for dev@httpd.apache.org; Wed, 03 Feb 2016 23:55:25 -0800
To: dev@httpd.apache.org
References: <56B0803B.6080209@kraut.ca>
 <CAKQ1sVMg6n0miX0u3KLo5pb0qi7-yNsKDJgRTn6cVnhx7qd7fw@mail.gmail.com>
 <56B19098.4060303@kraut.ca>
 <CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
 <56B1C4E9.3050306@kraut.ca>
 <CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
 <CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
 <CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
 <CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
 <CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com>
 <56B2BDC9.40904@kraut.ca>
 <AB1691BE05AE7F4992697F2A0835627AC9FF5646@VOEXM10W.internal.vodafone.com>
From: Joachim Achtzehnter <joachim@kraut.ca>
Message-ID: <56B303E1.3090005@kraut.ca>
Date: Wed, 3 Feb 2016 23:55:13 -0800
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Icedove/38.5.0
MIME-Version: 1.0
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC9FF5646@VOEXM10W.internal.vodafone.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-SA-Exim-Connect-IP: 192.168.100.229
X-SA-Exim-Mail-From: joachim@kraut.ca
Subject: Re: HTTPS connections lock-up with 2.4.18
X-SA-Exim-Version: 4.2.1 (built Mon, 06 Jul 2015 07:28:29 +0000)
X-SA-Exim-Scanned: Yes (on penguin.kraut.ca)

On 03/02/16 11:38 PM, Plm, Rdiger, Vodafone Group wrote:

> Thanks. Which version of APR / APR-UTIL are you using?

For diagnostics and debugging of this issue I had downloaded the 
"httpd-2.4.18-deps.tar.bz2" archive and am using the apr/apr-utils 
packages in this archive. This seems to be apr v1.5.2 and apr-utils v1.5.4.

Joachim


>
> Regards
>
> Rdiger
>
>> -----Original Message-----
>> From: Joachim Achtzehnter [mailto:joachim@kraut.ca]
>> Sent: Donnerstag, 4. Februar 2016 03:56
>> To: dev@httpd.apache.org
>> Subject: Re: HTTPS connections lock-up with 2.4.18
>>
>> Perhaps, there is an important clue this time. When I retrieve a file
>> that works we see the following log messages near the time when the
>> reply is being written:
>>
>>> [Wed Feb 03 18:13:51.402289 2016] [ssl:notice] [pid 1676] [client
>> 205.159.216.185:55978] bio[9dabd50] out: pass 271 bytes
>>> [Wed Feb 03 18:13:51.402463 2016] [ssl:notice] [pid 1676] [client
>> 205.159.216.185:55978] bio[9dabd50] out: pass 4020 bytes
>>> [Wed Feb 03 18:13:51.402515 2016] [core:notice] [pid 1676] [client
>> 205.159.216.185:55978] core_output_filter: sent 4291 on 4291 bytes
>>> [Wed Feb 03 18:13:51.402527 2016] [ssl:notice] [pid 1676] [client
>> 205.159.216.185:55978] bio[9dabd50] out: METADATA EOS
>>> [Wed Feb 03 18:13:51.402581 2016] [ssl:notice] [pid 1676] [client
>> 205.159.216.185:55978] bio[9dabd50] out: METADATA EOR
>>> [Wed Feb 03 18:13:51.406356 2016] [ssl:notice] [pid 1676] [client
>> 205.159.216.185:55978] bio[9db96d8] in: read 5 bytes
>>> [Wed Feb 03 18:13:51.406375 2016] [ssl:notice] [pid 1676] [client
>> 205.159.216.185:55978] bio[9db96d8] in: read 26 bytes
>>> [Wed Feb 03 18:13:51.406392 2016] [http:notice] [pid 1676] (70014)End of
>> file found: [client 205.159.216.185:55978] check_pipeline: no data
>>> [Wed Feb 03 18:13:51.406476 2016] [http:notice] [pid 1676] (70014)End of
>> file found: [client 205.159.216.185:55978] check_pipeline:
>> data_in_input_filters = 0
>>> [Wed Feb 03 18:13:51.406492 2016] [ssl:notice] [pid 1676] [client
>> 205.159.216.185:55978] bio[9dabd50] out: METADATA FLUSH
>>> [Wed Feb 03 18:13:51.406591 2016] [ssl:notice] [pid 1676] [client
>> 205.159.216.185:55978] bio[9dabd50] out: METADATA FLUSH
>>> [Wed Feb 03 18:13:51.406613 2016] [ssl:notice] [pid 1676] [client
>> 205.159.216.185:55978] bio[9dabd50] out: METADATA EOC
>>> [Wed Feb 03 18:13:51.406624 2016] [ssl:notice] [pid 1676] [client
>> 205.159.216.185:55978] bio[9dabd50] out: pass 31 bytes
>>> [Wed Feb 03 18:13:51.406673 2016] [ssl:notice] [pid 1676] [client
>> 205.159.216.185:55978] bio[9dabd50] out: FLUSH
>>> [Wed Feb 03 18:13:51.406723 2016] [core:notice] [pid 1676] [client
>> 205.159.216.185:55978] core_output_filter: sent 31 on 31 bytes
>>> [Wed Feb 03 18:13:51.406735 2016] [ssl:debug] [pid 1676]
>> ssl_engine_io.c(1029): [client 205.159.216.185:55978] AH02001: Connection
>> closed to child 0 with standard shutdown (server localhost:443)
>>
>> Notice the call to check_pipeline returns quickly. Now the same part of
>> the log for the failing file:
>>
>>> [Wed Feb 03 17:56:55.424124 2016] [ssl:notice] [pid 1663] [client
>> 205.159.216.185:55962] bio[8158d50] out: pass 271 bytes
>>> [Wed Feb 03 17:56:55.424192 2016] [ssl:notice] [pid 1663] [client
>> 205.159.216.185:55962] bio[8158d50] out: pass 1727 bytes
>>> [Wed Feb 03 17:56:55.424223 2016] [ssl:notice] [pid 1663] [client
>> 205.159.216.185:55962] bio[8158d50] out: METADATA EOS
>>> [Wed Feb 03 17:56:55.424235 2016] [ssl:notice] [pid 1663] [client
>> 205.159.216.185:55962] bio[8158d50] out: METADATA EOR
>>> [Wed Feb 03 18:09:56.652288 2016] [http:notice] [pid 1663] (11)Resource
>> temporarily unavailable: [client 205.159.216.185:55962] check_pipeline: no
>> data
>>> [Wed Feb 03 18:09:56.652376 2016] [http:notice] [pid 1663] (11)Resource
>> temporarily unavailable: [client 205.159.216.185:55962] check_pipeline:
>> data_in_input_filters = 0
>>> [Wed Feb 03 18:09:56.652398 2016] [ssl:notice] [pid 1663] [client
>> 205.159.216.185:55962] bio[8158d50] out: METADATA FLUSH
>>> [Wed Feb 03 18:09:56.652444 2016] [core:notice] [pid 1663] [client
>> 205.159.216.185:55962] core_output_filter: sent 1998 on 1998 bytes
>>> [Wed Feb 03 18:09:56.652510 2016] [ssl:info] [pid 1663] (70014)End of
>> file found: [client 205.159.216.185:55962] AH01991: SSL input filter read
>> failed.
>>> [Wed Feb 03 18:09:56.652519 2016] [ssl:notice] [pid 1663] [client
>> 205.159.216.185:55962] bio[8158d50] out: METADATA FLUSH
>>> [Wed Feb 03 18:09:56.652525 2016] [ssl:notice] [pid 1663] [client
>> 205.159.216.185:55962] bio[8158d50] out: METADATA EOC
>>> [Wed Feb 03 18:09:56.652545 2016] [ssl:notice] [pid 1663] [client
>> 205.159.216.185:55962] bio[8158d50] out: pass 31 bytes
>>> [Wed Feb 03 18:09:56.652553 2016] [ssl:notice] [pid 1663] [client
>> 205.159.216.185:55962] bio[8158d50] out: FLUSH
>>> [Wed Feb 03 18:09:56.652568 2016] [core:notice] [pid 1663] [client
>> 205.159.216.185:55962] core_output_filter: sent 31 on 31 bytes
>>> [Wed Feb 03 18:09:56.652576 2016] [ssl:debug] [pid 1663]
>> ssl_engine_io.c(1029): [client 205.159.216.185:55962] AH02001: Connection
>> closed to child 0 with standard shutdown (server localhost:443)
>>
>> The check_pipeline call only returns when I kill the client. I first
>> noticed this in the debugger where httpd was sitting in a blocking read.
>> Somehow, in this case a blocking read is done instead of a non-blocking
>> read.
>>
>> To be specific, it ended up in the do/while loop that calls read in
>> function apr_socket_recv (sendrecv.c), called from socket_bucket_read in
>> apr_buckets_socket.c, called from ap_core_input_filter in
>> core_filters.c. The block parameter was APR_NONBLOCK_READ, but this
>> didn't stop the lower-level functions from blocking, somehow. The
>> apr_socket_recv function seems to do the select version of reading based
>> on the APR_INCOMPLETE_READ flag in sock->options.
>>
>> By the way, to answer an earlier question, this is a prefork server with
>> separate processes, not threaded.
>>
>> Thanks,
>>
>> Joachim
>>
>>
>> On 2016-02-03 8:06, Yann Ylavic wrote:
>>> On Wed, Feb 3, 2016 at 4:53 PM, Yann Ylavic <ylavic.dev@gmail.com>
>> wrote:
>>>>
>>>> I suggest you use the attached patch instead (replacing any previous
>>>> one), so that we log the output path taken when mod_ssl is in the
>>>> place.
>>>
>>> Forgot about the casting issue (SSL_get_app_data) with your compiler...
>>> This v5 (attached) should compile fine.
>>>
>>>>
>>>>> And maybe take network traces on the server side?
>>>>
>>>> That would be really nice too.
>>>>
>>>>>
>>>>> Thanks,
>>>>> Yann.
>>
>> --
>> joachim@kraut.ca http://www.kraut.ca

From dev-return-85437-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 08:16:52 2016
Return-Path: <dev-return-85437-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5F65B18A52
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 08:16:52 +0000 (UTC)
Received: (qmail 32544 invoked by uid 500); 4 Feb 2016 08:16:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32465 invoked by uid 500); 4 Feb 2016 08:16:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32455 invoked by uid 99); 4 Feb 2016 08:16:38 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 08:16:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 759661A037F
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 08:16:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.57
X-Spam-Level: ***
X-Spam-Status: No, score=3.57 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.429, SPF_PASS=-0.001, URIBL_SBL=4, URIBL_SBL_A=0.1]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=kraut.ca
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id CcCE9mMsSmUc for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 08:16:36 +0000 (UTC)
Received: from penguin.kraut.ca (penguin.kraut.ca [96.53.60.142])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 5732E24E24
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 08:16:35 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=kraut.ca;
	 s=20151017; h=Subject:Content-Transfer-Encoding:Content-Type:In-Reply-To:
	MIME-Version:Date:Message-ID:From:References:To;
	bh=TG37tcJDfDFJ2nrjkUIiVqMEBDPZKdbW7oJtMe8jFs8=; b=LCxqX4lVcq0d60JhATC4lqbewH
	qt0SdByso8IxMIrp/dW5rtk9t5f7lo+VNl0Qb5Cmi/dRuLBECzVkFekN6vcSEbnosQKy8O5+jYfJO
	DC8dS2vsH/ytufVgztVkjpuuT/a9K7FpIaZtqTCSHSdk3oCec/E7u+25MBON5OT5M4Ws=;
Received: from speed-demon.kraut.ca ([192.168.100.7])
	by penguin.kraut.ca with esmtpsa (TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128)
	(Exim 4.86)
	(envelope-from <joachim@kraut.ca>)
	id 1aRF5S-0000OE-6I
	for dev@httpd.apache.org; Thu, 04 Feb 2016 00:16:26 -0800
To: dev@httpd.apache.org
References: <56B0803B.6080209@kraut.ca> <56B19098.4060303@kraut.ca>
 <CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
 <56B1C4E9.3050306@kraut.ca>
 <CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
 <CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
 <CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
 <CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
 <CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com>
 <56B2BDC9.40904@kraut.ca>
 <AB1691BE05AE7F4992697F2A0835627AC9FF5646@VOEXM10W.internal.vodafone.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF566F@VOEXM10W.internal.vodafone.com>
From: Joachim Achtzehnter <joachim@kraut.ca>
Message-ID: <56B308FD.8080801@kraut.ca>
Date: Thu, 4 Feb 2016 00:17:01 -0800
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC9FF566F@VOEXM10W.internal.vodafone.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-SA-Exim-Connect-IP: 192.168.100.7
X-SA-Exim-Mail-From: joachim@kraut.ca
Subject: Re: HTTPS connections lock-up with 2.4.18
X-SA-Exim-Version: 4.2.1 (built Mon, 06 Jul 2015 07:28:29 +0000)
X-SA-Exim-Scanned: Yes (on penguin.kraut.ca)

Here is the backtrace:

> #0  0xb7fddc40 in __kernel_vsyscall ()
> #1  0xb7e05f03 in __read_nocancel () at ../sysdeps/unix/syscall-template.S:81
> #2  0xb7f39589 in apr_socket_recv (sock=sock@entry=0x8156d18,
>     buf=buf@entry=0x8168750 "html, body {\n   font-family: arial, helvetica, sans-serif;\n   font-size: 12px;\n   height: 100%;\n   margin:0;\n   padding:0;\n   height:100%;\n}\nbody a, a:hover {\n   text-decoration: underline;\n   border:"..., len=len@entry=0xbffff5e4) at network_io/unix/sendrecv.c:81
> #3  0xb7f744d5 in socket_bucket_read (a=0x8160fc8, str=0xbffff5e0,
>     len=0xbffff5e4, block=APR_NONBLOCK_READ)
>     at buckets/apr_buckets_socket.c:36
> #4  0x08086a98 in ap_core_input_filter (f=0x8165770, b=0x8165730,
>     mode=AP_MODE_READBYTES, block=APR_NONBLOCK_READ, readbytes=5)
>     at core_filters.c:235
> #5  0xb7ce732a in bio_filter_in_read (bio=0x81666d8, in=0x816bc83 "", inlen=5)
>     at ssl_engine_io.c:487
> #6  0xb7b1bc66 in BIO_read ()
>    from /home/joachima/httpd-2.4.18/lib/libcrypto.so.1.0.0
> #7  0xb7c8e040 in ssl3_read_n ()
>    from /home/joachima/httpd-2.4.18/lib/libssl.so.1.0.0
> #8  0xb7c8fa75 in ssl3_read_bytes ()
>    from /home/joachima/httpd-2.4.18/lib/libssl.so.1.0.0
> #9  0xb7c8c211 in ssl3_read ()
>    from /home/joachima/httpd-2.4.18/lib/libssl.so.1.0.0
> #10 0xb7ca8679 in SSL_read ()
>    from /home/joachima/httpd-2.4.18/lib/libssl.so.1.0.0
> #11 0xb7ce80d7 in ssl_io_input_read (inctx=inctx@entry=0x81636e8,
>     buf=buf@entry=0x8163710 "GET /css/subpage.css HTTP/1.1\r\nUser-Agent: curl/7.40.0\r\nHost: na171\r\nAccept: */*\r\n\r\n", len=len@entry=0xbffff8f8)
>     at ssl_engine_io.c:611
> #12 0xb7cea36c in ssl_io_filter_input (f=0x8165718, bb=0x81660d8,
>     mode=AP_MODE_SPECULATIVE, block=APR_NONBLOCK_READ, readbytes=1)
>     at ssl_engine_io.c:1407
> #13 0x080a013f in check_pipeline (bb=0x81660d8, c=0x8156eb0)
>     at http_request.c:244
> #14 ap_process_request_after_handler (r=0x817e2d8) at http_request.c:367
> #15 0x080a1229 in ap_process_async_request (r=r@entry=0x817e2d8)
>     at http_request.c:448
> #16 0x080a1575 in ap_process_request (r=r@entry=0x817e2d8)
>     at http_request.c:458
> #17 0x0809d547 in ap_process_http_sync_connection (c=0x8156eb0)
>     at http_core.c:210
> #18 ap_process_http_connection (c=0x8156eb0) at http_core.c:251
> #19 0x0809549d in ap_run_process_connection (c=0x8156eb0) at connection.c:41
> #20 0x0809589d in ap_process_connection (c=c@entry=0x8156eb0, csd=0x8156d18)
>     at connection.c:213
> #21 0x080a7849 in child_main (child_num_arg=child_num_arg@entry=0,
>     child_bucket=child_bucket@entry=0) at prefork.c:723
> #22 0x080a7a9f in make_child (s=0x80f9f38, slot=slot@entry=0,
>     bucket=bucket@entry=0) at prefork.c:767
> #23 0x080a9091 in prefork_run (_pconf=0x80d50a8, plog=0x80fd9b8, s=0x80f9f38)
>     at prefork.c:979
> #24 0x08070959 in ap_run_mpm (pconf=pconf@entry=0x80d50a8, plog=0x80fd9b8,
>     s=0x80f9f38) at mpm_common.c:94
> #25 0x08069f23 in main (argc=4, argv=0xbffffd54) at main.c:777


On 2016-02-03 11:50 PM, Plm, Rdiger, Vodafone Group wrote:

> Can you also post the backtrace when the server is hanging in the read?
>
> Regards
>
> Rdiger
>
>> -----Original Message-----
>> From: Plm, Rdiger, Vodafone Group
>> Sent: Donnerstag, 4. Februar 2016 08:39
>> To: dev@httpd.apache.org
>> Subject: RE: HTTPS connections lock-up with 2.4.18
>>
>> Thanks. Which version of APR / APR-UTIL are you using?
>>
>> Regards
>>
>> Rdiger
>>
>>> -----Original Message-----
>>> From: Joachim Achtzehnter [mailto:joachim@kraut.ca]
>>> Sent: Donnerstag, 4. Februar 2016 03:56
>>> To: dev@httpd.apache.org
>>> Subject: Re: HTTPS connections lock-up with 2.4.18
>>>
>>> Perhaps, there is an important clue this time. When I retrieve a file
>>> that works we see the following log messages near the time when the
>>> reply is being written:
>>>
>>>> [Wed Feb 03 18:13:51.402289 2016] [ssl:notice] [pid 1676] [client
>>> 205.159.216.185:55978] bio[9dabd50] out: pass 271 bytes
>>>> [Wed Feb 03 18:13:51.402463 2016] [ssl:notice] [pid 1676] [client
>>> 205.159.216.185:55978] bio[9dabd50] out: pass 4020 bytes
>>>> [Wed Feb 03 18:13:51.402515 2016] [core:notice] [pid 1676] [client
>>> 205.159.216.185:55978] core_output_filter: sent 4291 on 4291 bytes
>>>> [Wed Feb 03 18:13:51.402527 2016] [ssl:notice] [pid 1676] [client
>>> 205.159.216.185:55978] bio[9dabd50] out: METADATA EOS
>>>> [Wed Feb 03 18:13:51.402581 2016] [ssl:notice] [pid 1676] [client
>>> 205.159.216.185:55978] bio[9dabd50] out: METADATA EOR
>>>> [Wed Feb 03 18:13:51.406356 2016] [ssl:notice] [pid 1676] [client
>>> 205.159.216.185:55978] bio[9db96d8] in: read 5 bytes
>>>> [Wed Feb 03 18:13:51.406375 2016] [ssl:notice] [pid 1676] [client
>>> 205.159.216.185:55978] bio[9db96d8] in: read 26 bytes
>>>> [Wed Feb 03 18:13:51.406392 2016] [http:notice] [pid 1676] (70014)End
>> of
>>> file found: [client 205.159.216.185:55978] check_pipeline: no data
>>>> [Wed Feb 03 18:13:51.406476 2016] [http:notice] [pid 1676] (70014)End
>> of
>>> file found: [client 205.159.216.185:55978] check_pipeline:
>>> data_in_input_filters = 0
>>>> [Wed Feb 03 18:13:51.406492 2016] [ssl:notice] [pid 1676] [client
>>> 205.159.216.185:55978] bio[9dabd50] out: METADATA FLUSH
>>>> [Wed Feb 03 18:13:51.406591 2016] [ssl:notice] [pid 1676] [client
>>> 205.159.216.185:55978] bio[9dabd50] out: METADATA FLUSH
>>>> [Wed Feb 03 18:13:51.406613 2016] [ssl:notice] [pid 1676] [client
>>> 205.159.216.185:55978] bio[9dabd50] out: METADATA EOC
>>>> [Wed Feb 03 18:13:51.406624 2016] [ssl:notice] [pid 1676] [client
>>> 205.159.216.185:55978] bio[9dabd50] out: pass 31 bytes
>>>> [Wed Feb 03 18:13:51.406673 2016] [ssl:notice] [pid 1676] [client
>>> 205.159.216.185:55978] bio[9dabd50] out: FLUSH
>>>> [Wed Feb 03 18:13:51.406723 2016] [core:notice] [pid 1676] [client
>>> 205.159.216.185:55978] core_output_filter: sent 31 on 31 bytes
>>>> [Wed Feb 03 18:13:51.406735 2016] [ssl:debug] [pid 1676]
>>> ssl_engine_io.c(1029): [client 205.159.216.185:55978] AH02001:
>> Connection
>>> closed to child 0 with standard shutdown (server localhost:443)
>>>
>>> Notice the call to check_pipeline returns quickly. Now the same part of
>>> the log for the failing file:
>>>
>>>> [Wed Feb 03 17:56:55.424124 2016] [ssl:notice] [pid 1663] [client
>>> 205.159.216.185:55962] bio[8158d50] out: pass 271 bytes
>>>> [Wed Feb 03 17:56:55.424192 2016] [ssl:notice] [pid 1663] [client
>>> 205.159.216.185:55962] bio[8158d50] out: pass 1727 bytes
>>>> [Wed Feb 03 17:56:55.424223 2016] [ssl:notice] [pid 1663] [client
>>> 205.159.216.185:55962] bio[8158d50] out: METADATA EOS
>>>> [Wed Feb 03 17:56:55.424235 2016] [ssl:notice] [pid 1663] [client
>>> 205.159.216.185:55962] bio[8158d50] out: METADATA EOR
>>>> [Wed Feb 03 18:09:56.652288 2016] [http:notice] [pid 1663]
>> (11)Resource
>>> temporarily unavailable: [client 205.159.216.185:55962] check_pipeline:
>> no
>>> data
>>>> [Wed Feb 03 18:09:56.652376 2016] [http:notice] [pid 1663]
>> (11)Resource
>>> temporarily unavailable: [client 205.159.216.185:55962] check_pipeline:
>>> data_in_input_filters = 0
>>>> [Wed Feb 03 18:09:56.652398 2016] [ssl:notice] [pid 1663] [client
>>> 205.159.216.185:55962] bio[8158d50] out: METADATA FLUSH
>>>> [Wed Feb 03 18:09:56.652444 2016] [core:notice] [pid 1663] [client
>>> 205.159.216.185:55962] core_output_filter: sent 1998 on 1998 bytes
>>>> [Wed Feb 03 18:09:56.652510 2016] [ssl:info] [pid 1663] (70014)End of
>>> file found: [client 205.159.216.185:55962] AH01991: SSL input filter
>> read
>>> failed.
>>>> [Wed Feb 03 18:09:56.652519 2016] [ssl:notice] [pid 1663] [client
>>> 205.159.216.185:55962] bio[8158d50] out: METADATA FLUSH
>>>> [Wed Feb 03 18:09:56.652525 2016] [ssl:notice] [pid 1663] [client
>>> 205.159.216.185:55962] bio[8158d50] out: METADATA EOC
>>>> [Wed Feb 03 18:09:56.652545 2016] [ssl:notice] [pid 1663] [client
>>> 205.159.216.185:55962] bio[8158d50] out: pass 31 bytes
>>>> [Wed Feb 03 18:09:56.652553 2016] [ssl:notice] [pid 1663] [client
>>> 205.159.216.185:55962] bio[8158d50] out: FLUSH
>>>> [Wed Feb 03 18:09:56.652568 2016] [core:notice] [pid 1663] [client
>>> 205.159.216.185:55962] core_output_filter: sent 31 on 31 bytes
>>>> [Wed Feb 03 18:09:56.652576 2016] [ssl:debug] [pid 1663]
>>> ssl_engine_io.c(1029): [client 205.159.216.185:55962] AH02001:
>> Connection
>>> closed to child 0 with standard shutdown (server localhost:443)
>>>
>>> The check_pipeline call only returns when I kill the client. I first
>>> noticed this in the debugger where httpd was sitting in a blocking read.
>>> Somehow, in this case a blocking read is done instead of a non-blocking
>>> read.
>>>
>>> To be specific, it ended up in the do/while loop that calls read in
>>> function apr_socket_recv (sendrecv.c), called from socket_bucket_read in
>>> apr_buckets_socket.c, called from ap_core_input_filter in
>>> core_filters.c. The block parameter was APR_NONBLOCK_READ, but this
>>> didn't stop the lower-level functions from blocking, somehow. The
>>> apr_socket_recv function seems to do the select version of reading based
>>> on the APR_INCOMPLETE_READ flag in sock->options.
>>>
>>> By the way, to answer an earlier question, this is a prefork server with
>>> separate processes, not threaded.
>>>
>>> Thanks,
>>>
>>> Joachim
>>>
>>>
>>> On 2016-02-03 8:06, Yann Ylavic wrote:
>>>> On Wed, Feb 3, 2016 at 4:53 PM, Yann Ylavic <ylavic.dev@gmail.com>
>>> wrote:
>>>>>
>>>>> I suggest you use the attached patch instead (replacing any previous
>>>>> one), so that we log the output path taken when mod_ssl is in the
>>>>> place.
>>>>
>>>> Forgot about the casting issue (SSL_get_app_data) with your
>> compiler...
>>>> This v5 (attached) should compile fine.
>>>>
>>>>>
>>>>>> And maybe take network traces on the server side?
>>>>>
>>>>> That would be really nice too.
>>>>>
>>>>>>
>>>>>> Thanks,
>>>>>> Yann.
>>>
>>> --
>>> joachim@kraut.ca http://www.kraut.ca


-- 
joachim@kraut.ca   www.kraut.ca

From dev-return-85438-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 08:41:32 2016
Return-Path: <dev-return-85438-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CFA9618B99
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 08:41:32 +0000 (UTC)
Received: (qmail 97077 invoked by uid 500); 4 Feb 2016 08:41:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97003 invoked by uid 500); 4 Feb 2016 08:41:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 96993 invoked by uid 99); 4 Feb 2016 08:41:32 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 08:41:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id ADBC9C0D8E
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 08:41:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.279
X-Spam-Level: ***
X-Spam-Status: No, score=3.279 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001, URIBL_SBL=4,
	URIBL_SBL_A=0.1] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id hzMtopMNWzI0 for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 08:41:29 +0000 (UTC)
Received: from mail-qk0-f178.google.com (mail-qk0-f178.google.com [209.85.220.178])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id DC78A20468
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 08:41:28 +0000 (UTC)
Received: by mail-qk0-f178.google.com with SMTP id o6so18279206qkc.2
        for <dev@httpd.apache.org>; Thu, 04 Feb 2016 00:41:28 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=mn551HHP3HKQ0zs3wVO4N2yfwn6f+UGRJr/VdEF2kZw=;
        b=OGsguZXetco03APJYAcIdff9f/fZ4QYvBJ82QE8luODYBnzqXnYow499hjROwd5NU5
         MkdQh7If1OsvLPsUFImmxKdDz9HHsbdcVExp77Hy+7cw/ECI2e+EwNidrsY/nRU5/Rrp
         bxjEAEH+SXC2lsY+mNDnNx5T2UITk8CYRtH9a0Z3PNcdlg5IzPp1k+r4OTqW4Mxo4+wZ
         hv3B6K0pddBqKk2/MAuz6VlCXOIYVFK3W21ObI3HGjS5mJ5OVgN53UxFY6cTmpQFcYR/
         wAh5+vnJdYnFofW39BuMCpoI3zVESFLQjflwG4RF+PaesbsMe3p0CQYWQjpcAmyQxB+J
         WZLQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=mn551HHP3HKQ0zs3wVO4N2yfwn6f+UGRJr/VdEF2kZw=;
        b=GN6V9AjtMnTKM2WO/9dNsoptzo1VnBG9QJCHL46j5n/KpoJmrqy/kNRZk9Xod2y2il
         K2n5DM8x6qnIrfvkDGGc3GVCmH76FHuFr1dlH42fPY7qNRg3Z/UiyNEHau/8uD/HrrHS
         idNUVXHxLepi0cAGEOd/lZHZiZzR6o4380y6PLbKVa1PIrVO5FzqRnWWcpfh2Rj+HDLY
         Pyp/R045CLNptat/13h0xcxpuMfigtIdi5Dn1LUXJed9GnZgkySubFNKEL1MBGbGdCC3
         1omRwOLX2JtWCYKtwulvUQYUyRdA9AglJdihTauR3+YUL1iO3ceoQK/NDjKIBqwWb8yQ
         iCyA==
X-Gm-Message-State: AG10YOTJkU8G+ogWqf2riSpuBYarUrE58+UHOESMpbaVj1jfJK74k7n6F5+8ZEyps6AyWar8d2YL8gJdnz4o8w==
MIME-Version: 1.0
X-Received: by 10.55.71.195 with SMTP id u186mr7373123qka.38.1454575282668;
 Thu, 04 Feb 2016 00:41:22 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Thu, 4 Feb 2016 00:41:22 -0800 (PST)
In-Reply-To: <56B308FD.8080801@kraut.ca>
References: <56B0803B.6080209@kraut.ca>
	<56B19098.4060303@kraut.ca>
	<CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
	<56B1C4E9.3050306@kraut.ca>
	<CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
	<CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
	<CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
	<CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
	<CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com>
	<56B2BDC9.40904@kraut.ca>
	<AB1691BE05AE7F4992697F2A0835627AC9FF5646@VOEXM10W.internal.vodafone.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF566F@VOEXM10W.internal.vodafone.com>
	<56B308FD.8080801@kraut.ca>
Date: Thu, 4 Feb 2016 09:41:22 +0100
Message-ID: <CAKQ1sVMqQBAqeTT+VfB9kz2+PW3s=7RN+Sj2w-SZa44WOx1xdA@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Doesn't the socket_bucket_read() call (frame #3) enter
apr_socket_timeout_set(p, 0), and hence sononblock() which puts the
socket in O_NONBLOCK?

Maybe "strace" would help here too, since we are in the system now.

On Thu, Feb 4, 2016 at 9:17 AM, Joachim Achtzehnter <joachim@kraut.ca> wrot=
e:
> Here is the backtrace:
>
>> #0  0xb7fddc40 in __kernel_vsyscall ()
>> #1  0xb7e05f03 in __read_nocancel () at
>> ../sysdeps/unix/syscall-template.S:81
>> #2  0xb7f39589 in apr_socket_recv (sock=3Dsock@entry=3D0x8156d18,
>>     buf=3Dbuf@entry=3D0x8168750 "html, body {\n   font-family: arial,
>> helvetica, sans-serif;\n   font-size: 12px;\n   height: 100%;\n
>> margin:0;\n   padding:0;\n   height:100%;\n}\nbody a, a:hover {\n
>> text-decoration: underline;\n   border:"..., len=3Dlen@entry=3D0xbffff5e=
4) at
>> network_io/unix/sendrecv.c:81
>> #3  0xb7f744d5 in socket_bucket_read (a=3D0x8160fc8, str=3D0xbffff5e0,
>>     len=3D0xbffff5e4, block=3DAPR_NONBLOCK_READ)
>>     at buckets/apr_buckets_socket.c:36
>> #4  0x08086a98 in ap_core_input_filter (f=3D0x8165770, b=3D0x8165730,
>>     mode=3DAP_MODE_READBYTES, block=3DAPR_NONBLOCK_READ, readbytes=3D5)
>>     at core_filters.c:235
>> #5  0xb7ce732a in bio_filter_in_read (bio=3D0x81666d8, in=3D0x816bc83 ""=
,
>> inlen=3D5)
>>     at ssl_engine_io.c:487
>> #6  0xb7b1bc66 in BIO_read ()
>>    from /home/joachima/httpd-2.4.18/lib/libcrypto.so.1.0.0
>> #7  0xb7c8e040 in ssl3_read_n ()
>>    from /home/joachima/httpd-2.4.18/lib/libssl.so.1.0.0
>> #8  0xb7c8fa75 in ssl3_read_bytes ()
>>    from /home/joachima/httpd-2.4.18/lib/libssl.so.1.0.0
>> #9  0xb7c8c211 in ssl3_read ()
>>    from /home/joachima/httpd-2.4.18/lib/libssl.so.1.0.0
>> #10 0xb7ca8679 in SSL_read ()
>>    from /home/joachima/httpd-2.4.18/lib/libssl.so.1.0.0
>> #11 0xb7ce80d7 in ssl_io_input_read (inctx=3Dinctx@entry=3D0x81636e8,
>>     buf=3Dbuf@entry=3D0x8163710 "GET /css/subpage.css HTTP/1.1\r\nUser-A=
gent:
>> curl/7.40.0\r\nHost: na171\r\nAccept: */*\r\n\r\n",
>> len=3Dlen@entry=3D0xbffff8f8)
>>     at ssl_engine_io.c:611
>> #12 0xb7cea36c in ssl_io_filter_input (f=3D0x8165718, bb=3D0x81660d8,
>>     mode=3DAP_MODE_SPECULATIVE, block=3DAPR_NONBLOCK_READ, readbytes=3D1=
)
>>     at ssl_engine_io.c:1407
>> #13 0x080a013f in check_pipeline (bb=3D0x81660d8, c=3D0x8156eb0)
>>     at http_request.c:244
>> #14 ap_process_request_after_handler (r=3D0x817e2d8) at http_request.c:3=
67
>> #15 0x080a1229 in ap_process_async_request (r=3Dr@entry=3D0x817e2d8)
>>     at http_request.c:448
>> #16 0x080a1575 in ap_process_request (r=3Dr@entry=3D0x817e2d8)
>>     at http_request.c:458
>> #17 0x0809d547 in ap_process_http_sync_connection (c=3D0x8156eb0)
>>     at http_core.c:210
>> #18 ap_process_http_connection (c=3D0x8156eb0) at http_core.c:251
>> #19 0x0809549d in ap_run_process_connection (c=3D0x8156eb0) at
>> connection.c:41
>> #20 0x0809589d in ap_process_connection (c=3Dc@entry=3D0x8156eb0,
>> csd=3D0x8156d18)
>>     at connection.c:213
>> #21 0x080a7849 in child_main (child_num_arg=3Dchild_num_arg@entry=3D0,
>>     child_bucket=3Dchild_bucket@entry=3D0) at prefork.c:723
>> #22 0x080a7a9f in make_child (s=3D0x80f9f38, slot=3Dslot@entry=3D0,
>>     bucket=3Dbucket@entry=3D0) at prefork.c:767
>> #23 0x080a9091 in prefork_run (_pconf=3D0x80d50a8, plog=3D0x80fd9b8,
>> s=3D0x80f9f38)
>>     at prefork.c:979
>> #24 0x08070959 in ap_run_mpm (pconf=3Dpconf@entry=3D0x80d50a8, plog=3D0x=
80fd9b8,
>>     s=3D0x80f9f38) at mpm_common.c:94
>> #25 0x08069f23 in main (argc=3D4, argv=3D0xbffffd54) at main.c:777
>
>
>
> On 2016-02-03 11:50 PM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group wrote:
>
>> Can you also post the backtrace when the server is hanging in the read?
>>
>> Regards
>>
>> R=C3=BCdiger
>>
>>> -----Original Message-----
>>> From: Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
>>> Sent: Donnerstag, 4. Februar 2016 08:39
>>> To: dev@httpd.apache.org
>>> Subject: RE: HTTPS connections lock-up with 2.4.18
>>>
>>> Thanks. Which version of APR / APR-UTIL are you using?
>>>
>>> Regards
>>>
>>> R=C3=BCdiger
>>>
>>>> -----Original Message-----
>>>> From: Joachim Achtzehnter [mailto:joachim@kraut.ca]
>>>> Sent: Donnerstag, 4. Februar 2016 03:56
>>>> To: dev@httpd.apache.org
>>>> Subject: Re: HTTPS connections lock-up with 2.4.18
>>>>
>>>> Perhaps, there is an important clue this time. When I retrieve a file
>>>> that works we see the following log messages near the time when the
>>>> reply is being written:
>>>>
>>>>> [Wed Feb 03 18:13:51.402289 2016] [ssl:notice] [pid 1676] [client
>>>>
>>>> 205.159.216.185:55978] bio[9dabd50] out: pass 271 bytes
>>>>>
>>>>> [Wed Feb 03 18:13:51.402463 2016] [ssl:notice] [pid 1676] [client
>>>>
>>>> 205.159.216.185:55978] bio[9dabd50] out: pass 4020 bytes
>>>>>
>>>>> [Wed Feb 03 18:13:51.402515 2016] [core:notice] [pid 1676] [client
>>>>
>>>> 205.159.216.185:55978] core_output_filter: sent 4291 on 4291 bytes
>>>>>
>>>>> [Wed Feb 03 18:13:51.402527 2016] [ssl:notice] [pid 1676] [client
>>>>
>>>> 205.159.216.185:55978] bio[9dabd50] out: METADATA EOS
>>>>>
>>>>> [Wed Feb 03 18:13:51.402581 2016] [ssl:notice] [pid 1676] [client
>>>>
>>>> 205.159.216.185:55978] bio[9dabd50] out: METADATA EOR
>>>>>
>>>>> [Wed Feb 03 18:13:51.406356 2016] [ssl:notice] [pid 1676] [client
>>>>
>>>> 205.159.216.185:55978] bio[9db96d8] in: read 5 bytes
>>>>>
>>>>> [Wed Feb 03 18:13:51.406375 2016] [ssl:notice] [pid 1676] [client
>>>>
>>>> 205.159.216.185:55978] bio[9db96d8] in: read 26 bytes
>>>>>
>>>>> [Wed Feb 03 18:13:51.406392 2016] [http:notice] [pid 1676] (70014)End
>>>
>>> of
>>>>
>>>> file found: [client 205.159.216.185:55978] check_pipeline: no data
>>>>>
>>>>> [Wed Feb 03 18:13:51.406476 2016] [http:notice] [pid 1676] (70014)End
>>>
>>> of
>>>>
>>>> file found: [client 205.159.216.185:55978] check_pipeline:
>>>> data_in_input_filters =3D 0
>>>>>
>>>>> [Wed Feb 03 18:13:51.406492 2016] [ssl:notice] [pid 1676] [client
>>>>
>>>> 205.159.216.185:55978] bio[9dabd50] out: METADATA FLUSH
>>>>>
>>>>> [Wed Feb 03 18:13:51.406591 2016] [ssl:notice] [pid 1676] [client
>>>>
>>>> 205.159.216.185:55978] bio[9dabd50] out: METADATA FLUSH
>>>>>
>>>>> [Wed Feb 03 18:13:51.406613 2016] [ssl:notice] [pid 1676] [client
>>>>
>>>> 205.159.216.185:55978] bio[9dabd50] out: METADATA EOC
>>>>>
>>>>> [Wed Feb 03 18:13:51.406624 2016] [ssl:notice] [pid 1676] [client
>>>>
>>>> 205.159.216.185:55978] bio[9dabd50] out: pass 31 bytes
>>>>>
>>>>> [Wed Feb 03 18:13:51.406673 2016] [ssl:notice] [pid 1676] [client
>>>>
>>>> 205.159.216.185:55978] bio[9dabd50] out: FLUSH
>>>>>
>>>>> [Wed Feb 03 18:13:51.406723 2016] [core:notice] [pid 1676] [client
>>>>
>>>> 205.159.216.185:55978] core_output_filter: sent 31 on 31 bytes
>>>>>
>>>>> [Wed Feb 03 18:13:51.406735 2016] [ssl:debug] [pid 1676]
>>>>
>>>> ssl_engine_io.c(1029): [client 205.159.216.185:55978] AH02001:
>>>
>>> Connection
>>>>
>>>> closed to child 0 with standard shutdown (server localhost:443)
>>>>
>>>> Notice the call to check_pipeline returns quickly. Now the same part o=
f
>>>> the log for the failing file:
>>>>
>>>>> [Wed Feb 03 17:56:55.424124 2016] [ssl:notice] [pid 1663] [client
>>>>
>>>> 205.159.216.185:55962] bio[8158d50] out: pass 271 bytes
>>>>>
>>>>> [Wed Feb 03 17:56:55.424192 2016] [ssl:notice] [pid 1663] [client
>>>>
>>>> 205.159.216.185:55962] bio[8158d50] out: pass 1727 bytes
>>>>>
>>>>> [Wed Feb 03 17:56:55.424223 2016] [ssl:notice] [pid 1663] [client
>>>>
>>>> 205.159.216.185:55962] bio[8158d50] out: METADATA EOS
>>>>>
>>>>> [Wed Feb 03 17:56:55.424235 2016] [ssl:notice] [pid 1663] [client
>>>>
>>>> 205.159.216.185:55962] bio[8158d50] out: METADATA EOR
>>>>>
>>>>> [Wed Feb 03 18:09:56.652288 2016] [http:notice] [pid 1663]
>>>
>>> (11)Resource
>>>>
>>>> temporarily unavailable: [client 205.159.216.185:55962] check_pipeline=
:
>>>
>>> no
>>>>
>>>> data
>>>>>
>>>>> [Wed Feb 03 18:09:56.652376 2016] [http:notice] [pid 1663]
>>>
>>> (11)Resource
>>>>
>>>> temporarily unavailable: [client 205.159.216.185:55962] check_pipeline=
:
>>>> data_in_input_filters =3D 0
>>>>>
>>>>> [Wed Feb 03 18:09:56.652398 2016] [ssl:notice] [pid 1663] [client
>>>>
>>>> 205.159.216.185:55962] bio[8158d50] out: METADATA FLUSH
>>>>>
>>>>> [Wed Feb 03 18:09:56.652444 2016] [core:notice] [pid 1663] [client
>>>>
>>>> 205.159.216.185:55962] core_output_filter: sent 1998 on 1998 bytes
>>>>>
>>>>> [Wed Feb 03 18:09:56.652510 2016] [ssl:info] [pid 1663] (70014)End of
>>>>
>>>> file found: [client 205.159.216.185:55962] AH01991: SSL input filter
>>>
>>> read
>>>>
>>>> failed.
>>>>>
>>>>> [Wed Feb 03 18:09:56.652519 2016] [ssl:notice] [pid 1663] [client
>>>>
>>>> 205.159.216.185:55962] bio[8158d50] out: METADATA FLUSH
>>>>>
>>>>> [Wed Feb 03 18:09:56.652525 2016] [ssl:notice] [pid 1663] [client
>>>>
>>>> 205.159.216.185:55962] bio[8158d50] out: METADATA EOC
>>>>>
>>>>> [Wed Feb 03 18:09:56.652545 2016] [ssl:notice] [pid 1663] [client
>>>>
>>>> 205.159.216.185:55962] bio[8158d50] out: pass 31 bytes
>>>>>
>>>>> [Wed Feb 03 18:09:56.652553 2016] [ssl:notice] [pid 1663] [client
>>>>
>>>> 205.159.216.185:55962] bio[8158d50] out: FLUSH
>>>>>
>>>>> [Wed Feb 03 18:09:56.652568 2016] [core:notice] [pid 1663] [client
>>>>
>>>> 205.159.216.185:55962] core_output_filter: sent 31 on 31 bytes
>>>>>
>>>>> [Wed Feb 03 18:09:56.652576 2016] [ssl:debug] [pid 1663]
>>>>
>>>> ssl_engine_io.c(1029): [client 205.159.216.185:55962] AH02001:
>>>
>>> Connection
>>>>
>>>> closed to child 0 with standard shutdown (server localhost:443)
>>>>
>>>> The check_pipeline call only returns when I kill the client. I first
>>>> noticed this in the debugger where httpd was sitting in a blocking rea=
d.
>>>> Somehow, in this case a blocking read is done instead of a non-blockin=
g
>>>> read.
>>>>
>>>> To be specific, it ended up in the do/while loop that calls read in
>>>> function apr_socket_recv (sendrecv.c), called from socket_bucket_read =
in
>>>> apr_buckets_socket.c, called from ap_core_input_filter in
>>>> core_filters.c. The block parameter was APR_NONBLOCK_READ, but this
>>>> didn't stop the lower-level functions from blocking, somehow. The
>>>> apr_socket_recv function seems to do the select version of reading bas=
ed
>>>> on the APR_INCOMPLETE_READ flag in sock->options.
>>>>
>>>> By the way, to answer an earlier question, this is a prefork server wi=
th
>>>> separate processes, not threaded.
>>>>
>>>> Thanks,
>>>>
>>>> Joachim
>>>>
>>>>
>>>> On 2016-02-03 8:06, Yann Ylavic wrote:
>>>>>
>>>>> On Wed, Feb 3, 2016 at 4:53 PM, Yann Ylavic <ylavic.dev@gmail.com>
>>>>
>>>> wrote:
>>>>>>
>>>>>>
>>>>>> I suggest you use the attached patch instead (replacing any previous
>>>>>> one), so that we log the output path taken when mod_ssl is in the
>>>>>> place.
>>>>>
>>>>>
>>>>> Forgot about the casting issue (SSL_get_app_data) with your
>>>
>>> compiler...
>>>>>
>>>>> This v5 (attached) should compile fine.
>>>>>
>>>>>>
>>>>>>> And maybe take network traces on the server side?
>>>>>>
>>>>>>
>>>>>> That would be really nice too.
>>>>>>
>>>>>>>
>>>>>>> Thanks,
>>>>>>> Yann.
>>>>
>>>>
>>>> --
>>>> joachim@kraut.ca http://www.kraut.ca
>
>
>
> --
> joachim@kraut.ca   www.kraut.ca

From dev-return-85439-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 08:54:44 2016
Return-Path: <dev-return-85439-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3A3C418C0C
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 08:54:44 +0000 (UTC)
Received: (qmail 28690 invoked by uid 500); 4 Feb 2016 08:54:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28606 invoked by uid 500); 4 Feb 2016 08:54:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28596 invoked by uid 99); 4 Feb 2016 08:54:43 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 08:54:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 2A9B81A0244
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 08:54:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 4nWABeiC9Uj8 for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 08:54:41 +0000 (UTC)
Received: from mail-qg0-f42.google.com (mail-qg0-f42.google.com [209.85.192.42])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 26D2542BC5
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 08:54:41 +0000 (UTC)
Received: by mail-qg0-f42.google.com with SMTP id u30so36290971qge.1
        for <dev@httpd.apache.org>; Thu, 04 Feb 2016 00:54:41 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=0Qphoy7OtFj2K4GZng622qCzV14sW1VlR4wNVQHGlV0=;
        b=pIG9WitzfyjzwtgEWHwgT+V38zR4lAxZ+sJYrGy4wb4x0aKkMdUPQVaGGaNboBTL3q
         7wvIZqAiWLrSIb9UYca6zIxBL6ZdE6q1zVYGpMG5Xw7WpH2C1i6D2zagd8+GMyH/v/c8
         KGGs0eJ0Vuc7Kf/oveQ/v/pPskgCZ9g+MjsS3MWPzN+EeziWWgM6Rb8xWxS37Nmbbary
         d3bKejuKipeHVwmdbaxu8I3rm8jK/oA+LJOabOg9oZgJG7vPVXu/mL29tLHOGV4tN7+B
         RJuNv0+Ys35qSFP5mJg69wfbjT2ETpshlqVIbTtLpNLwJ0GycdBNus+w62qDxcbx/X1p
         gJfA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=0Qphoy7OtFj2K4GZng622qCzV14sW1VlR4wNVQHGlV0=;
        b=ElBSe/C/f2W4TBD8L4QqkNbhjnrZ0ztqA28yM/mdliwx7Rjbo7naxcYoDrJXfoaJP6
         +/FAnG6fmTwsPWFae4zYNNnLkK+H3SPOoddQmSEYaMxC2b8BWumF+e5CzR9+0vPrS9+J
         0Rotyq88fUW7JcddL9wxAJgD9aWjnScmsN12LUhbrK2J0rC14cfC0GSxsrPbDXV5gqXY
         LZGXd8/re6LdLOizUcSKQpQbzq9XPQdkKU+b3yoATWmF9pQ1Ft6YRnj9j0xSH4auvYtR
         81Kf2pUtDQRaX699ic6DBEy69ifBTFhhpHUSuU5fwxqhILABEq/m4gzoBhUO8tWawU69
         65vg==
X-Gm-Message-State: AG10YOQpfS6Re4JNuWo9rKep5ZGxaVc0hGHqQIhKTJJfiGkFc8Y1fTUsavFTtVHqKObJJv/9WnoG1yLorz/r+A==
MIME-Version: 1.0
X-Received: by 10.140.43.116 with SMTP id d107mr7297505qga.51.1454576080894;
 Thu, 04 Feb 2016 00:54:40 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Thu, 4 Feb 2016 00:54:40 -0800 (PST)
In-Reply-To: <CAKQ1sVMqQBAqeTT+VfB9kz2+PW3s=7RN+Sj2w-SZa44WOx1xdA@mail.gmail.com>
References: <56B0803B.6080209@kraut.ca>
	<56B19098.4060303@kraut.ca>
	<CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
	<56B1C4E9.3050306@kraut.ca>
	<CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
	<CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
	<CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
	<CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
	<CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com>
	<56B2BDC9.40904@kraut.ca>
	<AB1691BE05AE7F4992697F2A0835627AC9FF5646@VOEXM10W.internal.vodafone.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF566F@VOEXM10W.internal.vodafone.com>
	<56B308FD.8080801@kraut.ca>
	<CAKQ1sVMqQBAqeTT+VfB9kz2+PW3s=7RN+Sj2w-SZa44WOx1xdA@mail.gmail.com>
Date: Thu, 4 Feb 2016 09:54:40 +0100
Message-ID: <CAKQ1sVOSaL_SVG=fYc_8MJSDoUnx7N=w9QcJrfZokYZqbvNtFg@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Feb 4, 2016 at 9:41 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> Doesn't the socket_bucket_read() call (frame #3) enter
> apr_socket_timeout_set(p, 0), and hence sononblock() which puts the
> socket in O_NONBLOCK?

and resets APR_INCOMPLETE_READ.

>
> Maybe "strace" would help here too, since we are in the system now.
>

From dev-return-85440-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 09:00:51 2016
Return-Path: <dev-return-85440-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1A77218C6B
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 09:00:51 +0000 (UTC)
Received: (qmail 55468 invoked by uid 500); 4 Feb 2016 09:00:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55399 invoked by uid 500); 4 Feb 2016 09:00:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55389 invoked by uid 99); 4 Feb 2016 09:00:50 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 09:00:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 1FA5B1A0368
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 09:00:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.298
X-Spam-Level:
X-Spam-Status: No, score=0.298 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 1hViKu_XUj3J for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 09:00:48 +0000 (UTC)
Received: from mail1.bemta3.messagelabs.com (mail1.bemta3.messagelabs.com [195.245.230.173])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 97CB431AE4
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 09:00:47 +0000 (UTC)
Received: from [195.245.230.51] by server-13.bemta-3.messagelabs.com id F7/AB-31443-93313B65; Thu, 04 Feb 2016 09:00:41 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-13.tower-33.messagelabs.com!1454576440!14307895!1
X-Originating-IP: [195.232.244.133]
X-StarScan-Received:
X-StarScan-Version: 7.35.1; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 25722 invoked from network); 4 Feb 2016 09:00:40 -0000
Received: from mailout01.vodafone.com (HELO mailout01.vodafone.com) (195.232.244.133)
  by server-13.tower-33.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 4 Feb 2016 09:00:40 -0000
Received: from mailint03.vodafone.com (mailint03.vodafone.com [195.232.244.200])
	by mailout01.vodafone.com (Postfix) with ESMTP id 3pwv3q5Dc2z1yL6
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 10:00:39 +0100 (CET)
Received: from mailint03.vodafone.com (localhost [127.0.0.1])
	by mailint03.vodafone.com (Postfix) with ESMTP id 3pwv2Z5ZHNz16Lx0
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 09:59:34 +0100 (CET)
Received: from VOEXC06W.internal.vodafone.com (voexc06w.dc-ratingen.de [145.230.101.26])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint03.vodafone.com (Postfix) with ESMTPS id 3pwv2Z5CRfz16Ltk
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 09:59:34 +0100 (CET)
Received: from VOEXC19W.internal.vodafone.com (145.230.103.124) by
 VOEXC06W.internal.vodafone.com (145.230.101.26) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Thu, 4 Feb 2016 09:59:34 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.216]) by
 VOEXC19W.internal.vodafone.com ([145.230.103.124]) with mapi id
 14.03.0224.002; Thu, 4 Feb 2016 09:59:33 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: HTTPS connections lock-up with 2.4.18
Thread-Topic: HTTPS connections lock-up with 2.4.18
Thread-Index: AQHRXbe6uEk6ckROb0abdFq6M/zyOZ8Zu/MAgAA13gCAAAh/gIAAEvaAgAASLFD///MtgIAAEvww///7+ACAACkAgIAAEKeAgAAOqgCAAAOQgIAAtYuAgABfgiCAAANBMP//9uOAAAOMkZA=
Date: Thu, 4 Feb 2016 08:59:33 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC9FF56D4@VOEXM10W.internal.vodafone.com>
References: <56B0803B.6080209@kraut.ca> <56B19098.4060303@kraut.ca>
 <CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
 <56B1C4E9.3050306@kraut.ca>
 <CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
 <CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
 <CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
 <CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
 <CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com>
 <56B2BDC9.40904@kraut.ca>
 <AB1691BE05AE7F4992697F2A0835627AC9FF5646@VOEXM10W.internal.vodafone.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF566F@VOEXM10W.internal.vodafone.com>
 <56B308FD.8080801@kraut.ca>
In-Reply-To: <56B308FD.8080801@kraut.ca>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

VGhhbmtzLiBUaGlzIGlzIHJlYWxseSBzdHJhbmdlLiBJIGRvbid0IGdldCBob3cgd2UgY291bGQg
ZXZlciBlbmQgdXAgd2l0aCBhIGJsb2NraW5nIHNvY2tldCBvbiBPUyBzaWRlLg0KDQpSZWdhcmRz
DQoNClLDvGRpZ2VyDQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogSm9h
Y2hpbSBBY2h0emVobnRlciBbbWFpbHRvOmpvYWNoaW1Aa3JhdXQuY2FdDQo+IFNlbnQ6IERvbm5l
cnN0YWcsIDQuIEZlYnJ1YXIgMjAxNiAwOToxNw0KPiBUbzogZGV2QGh0dHBkLmFwYWNoZS5vcmcN
Cj4gU3ViamVjdDogUmU6IEhUVFBTIGNvbm5lY3Rpb25zIGxvY2stdXAgd2l0aCAyLjQuMTgNCj4g
DQo+IEhlcmUgaXMgdGhlIGJhY2t0cmFjZToNCj4gDQo+ID4gIzAgIDB4YjdmZGRjNDAgaW4gX19r
ZXJuZWxfdnN5c2NhbGwgKCkNCj4gPiAjMSAgMHhiN2UwNWYwMyBpbiBfX3JlYWRfbm9jYW5jZWwg
KCkgYXQgLi4vc3lzZGVwcy91bml4L3N5c2NhbGwtDQo+IHRlbXBsYXRlLlM6ODENCj4gPiAjMiAg
MHhiN2YzOTU4OSBpbiBhcHJfc29ja2V0X3JlY3YgKHNvY2s9c29ja0BlbnRyeT0weDgxNTZkMTgs
DQo+ID4gICAgIGJ1Zj1idWZAZW50cnk9MHg4MTY4NzUwICJodG1sLCBib2R5IHtcbiAgIGZvbnQt
ZmFtaWx5OiBhcmlhbCwNCj4gaGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICAgZm9udC1zaXplOiAx
MnB4O1xuICAgaGVpZ2h0OiAxMDAlO1xuDQo+IG1hcmdpbjowO1xuICAgcGFkZGluZzowO1xuICAg
aGVpZ2h0OjEwMCU7XG59XG5ib2R5IGEsIGE6aG92ZXIge1xuICAgdGV4dC0NCj4gZGVjb3JhdGlv
bjogdW5kZXJsaW5lO1xuICAgYm9yZGVyOiIuLi4sIGxlbj1sZW5AZW50cnk9MHhiZmZmZjVlNCkg
YXQNCj4gbmV0d29ya19pby91bml4L3NlbmRyZWN2LmM6ODENCj4gPiAjMyAgMHhiN2Y3NDRkNSBp
biBzb2NrZXRfYnVja2V0X3JlYWQgKGE9MHg4MTYwZmM4LCBzdHI9MHhiZmZmZjVlMCwNCj4gPiAg
ICAgbGVuPTB4YmZmZmY1ZTQsIGJsb2NrPUFQUl9OT05CTE9DS19SRUFEKQ0KPiA+ICAgICBhdCBi
dWNrZXRzL2Fwcl9idWNrZXRzX3NvY2tldC5jOjM2DQo+ID4gIzQgIDB4MDgwODZhOTggaW4gYXBf
Y29yZV9pbnB1dF9maWx0ZXIgKGY9MHg4MTY1NzcwLCBiPTB4ODE2NTczMCwNCj4gPiAgICAgbW9k
ZT1BUF9NT0RFX1JFQURCWVRFUywgYmxvY2s9QVBSX05PTkJMT0NLX1JFQUQsIHJlYWRieXRlcz01
KQ0KPiA+ICAgICBhdCBjb3JlX2ZpbHRlcnMuYzoyMzUNCj4gPiAjNSAgMHhiN2NlNzMyYSBpbiBi
aW9fZmlsdGVyX2luX3JlYWQgKGJpbz0weDgxNjY2ZDgsIGluPTB4ODE2YmM4MyAiIiwNCj4gaW5s
ZW49NSkNCj4gPiAgICAgYXQgc3NsX2VuZ2luZV9pby5jOjQ4Nw0KPiA+ICM2ICAweGI3YjFiYzY2
IGluIEJJT19yZWFkICgpDQo+ID4gICAgZnJvbSAvaG9tZS9qb2FjaGltYS9odHRwZC0yLjQuMTgv
bGliL2xpYmNyeXB0by5zby4xLjAuMA0KPiA+ICM3ICAweGI3YzhlMDQwIGluIHNzbDNfcmVhZF9u
ICgpDQo+ID4gICAgZnJvbSAvaG9tZS9qb2FjaGltYS9odHRwZC0yLjQuMTgvbGliL2xpYnNzbC5z
by4xLjAuMA0KPiA+ICM4ICAweGI3YzhmYTc1IGluIHNzbDNfcmVhZF9ieXRlcyAoKQ0KPiA+ICAg
IGZyb20gL2hvbWUvam9hY2hpbWEvaHR0cGQtMi40LjE4L2xpYi9saWJzc2wuc28uMS4wLjANCj4g
PiAjOSAgMHhiN2M4YzIxMSBpbiBzc2wzX3JlYWQgKCkNCj4gPiAgICBmcm9tIC9ob21lL2pvYWNo
aW1hL2h0dHBkLTIuNC4xOC9saWIvbGlic3NsLnNvLjEuMC4wDQo+ID4gIzEwIDB4YjdjYTg2Nzkg
aW4gU1NMX3JlYWQgKCkNCj4gPiAgICBmcm9tIC9ob21lL2pvYWNoaW1hL2h0dHBkLTIuNC4xOC9s
aWIvbGlic3NsLnNvLjEuMC4wDQo+ID4gIzExIDB4YjdjZTgwZDcgaW4gc3NsX2lvX2lucHV0X3Jl
YWQgKGluY3R4PWluY3R4QGVudHJ5PTB4ODE2MzZlOCwNCj4gPiAgICAgYnVmPWJ1ZkBlbnRyeT0w
eDgxNjM3MTAgIkdFVCAvY3NzL3N1YnBhZ2UuY3NzIEhUVFAvMS4xXHJcblVzZXItDQo+IEFnZW50
OiBjdXJsLzcuNDAuMFxyXG5Ib3N0OiBuYTE3MVxyXG5BY2NlcHQ6ICovKlxyXG5cclxuIiwNCj4g
bGVuPWxlbkBlbnRyeT0weGJmZmZmOGY4KQ0KPiA+ICAgICBhdCBzc2xfZW5naW5lX2lvLmM6NjEx
DQo+ID4gIzEyIDB4YjdjZWEzNmMgaW4gc3NsX2lvX2ZpbHRlcl9pbnB1dCAoZj0weDgxNjU3MTgs
IGJiPTB4ODE2NjBkOCwNCj4gPiAgICAgbW9kZT1BUF9NT0RFX1NQRUNVTEFUSVZFLCBibG9jaz1B
UFJfTk9OQkxPQ0tfUkVBRCwgcmVhZGJ5dGVzPTEpDQo+ID4gICAgIGF0IHNzbF9lbmdpbmVfaW8u
YzoxNDA3DQo+ID4gIzEzIDB4MDgwYTAxM2YgaW4gY2hlY2tfcGlwZWxpbmUgKGJiPTB4ODE2NjBk
OCwgYz0weDgxNTZlYjApDQo+ID4gICAgIGF0IGh0dHBfcmVxdWVzdC5jOjI0NA0KPiA+ICMxNCBh
cF9wcm9jZXNzX3JlcXVlc3RfYWZ0ZXJfaGFuZGxlciAocj0weDgxN2UyZDgpIGF0IGh0dHBfcmVx
dWVzdC5jOjM2Nw0KPiA+ICMxNSAweDA4MGExMjI5IGluIGFwX3Byb2Nlc3NfYXN5bmNfcmVxdWVz
dCAocj1yQGVudHJ5PTB4ODE3ZTJkOCkNCj4gPiAgICAgYXQgaHR0cF9yZXF1ZXN0LmM6NDQ4DQo+
ID4gIzE2IDB4MDgwYTE1NzUgaW4gYXBfcHJvY2Vzc19yZXF1ZXN0IChyPXJAZW50cnk9MHg4MTdl
MmQ4KQ0KPiA+ICAgICBhdCBodHRwX3JlcXVlc3QuYzo0NTgNCj4gPiAjMTcgMHgwODA5ZDU0NyBp
biBhcF9wcm9jZXNzX2h0dHBfc3luY19jb25uZWN0aW9uIChjPTB4ODE1NmViMCkNCj4gPiAgICAg
YXQgaHR0cF9jb3JlLmM6MjEwDQo+ID4gIzE4IGFwX3Byb2Nlc3NfaHR0cF9jb25uZWN0aW9uIChj
PTB4ODE1NmViMCkgYXQgaHR0cF9jb3JlLmM6MjUxDQo+ID4gIzE5IDB4MDgwOTU0OWQgaW4gYXBf
cnVuX3Byb2Nlc3NfY29ubmVjdGlvbiAoYz0weDgxNTZlYjApIGF0DQo+IGNvbm5lY3Rpb24uYzo0
MQ0KPiA+ICMyMCAweDA4MDk1ODlkIGluIGFwX3Byb2Nlc3NfY29ubmVjdGlvbiAoYz1jQGVudHJ5
PTB4ODE1NmViMCwNCj4gY3NkPTB4ODE1NmQxOCkNCj4gPiAgICAgYXQgY29ubmVjdGlvbi5jOjIx
Mw0KPiA+ICMyMSAweDA4MGE3ODQ5IGluIGNoaWxkX21haW4gKGNoaWxkX251bV9hcmc9Y2hpbGRf
bnVtX2FyZ0BlbnRyeT0wLA0KPiA+ICAgICBjaGlsZF9idWNrZXQ9Y2hpbGRfYnVja2V0QGVudHJ5
PTApIGF0IHByZWZvcmsuYzo3MjMNCj4gPiAjMjIgMHgwODBhN2E5ZiBpbiBtYWtlX2NoaWxkIChz
PTB4ODBmOWYzOCwgc2xvdD1zbG90QGVudHJ5PTAsDQo+ID4gICAgIGJ1Y2tldD1idWNrZXRAZW50
cnk9MCkgYXQgcHJlZm9yay5jOjc2Nw0KPiA+ICMyMyAweDA4MGE5MDkxIGluIHByZWZvcmtfcnVu
IChfcGNvbmY9MHg4MGQ1MGE4LCBwbG9nPTB4ODBmZDliOCwNCj4gcz0weDgwZjlmMzgpDQo+ID4g
ICAgIGF0IHByZWZvcmsuYzo5NzkNCj4gPiAjMjQgMHgwODA3MDk1OSBpbiBhcF9ydW5fbXBtIChw
Y29uZj1wY29uZkBlbnRyeT0weDgwZDUwYTgsDQo+IHBsb2c9MHg4MGZkOWI4LA0KPiA+ICAgICBz
PTB4ODBmOWYzOCkgYXQgbXBtX2NvbW1vbi5jOjk0DQo+ID4gIzI1IDB4MDgwNjlmMjMgaW4gbWFp
biAoYXJnYz00LCBhcmd2PTB4YmZmZmZkNTQpIGF0IG1haW4uYzo3NzcNCj4gDQo+IA0KPiBPbiAy
MDE2LTAyLTAzIDExOjUwIFBNLCBQbMO8bSwgUsO8ZGlnZXIsIFZvZGFmb25lIEdyb3VwIHdyb3Rl
Og0KPiANCg==

From dev-return-85441-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 09:04:23 2016
Return-Path: <dev-return-85441-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 244A718C98
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 09:04:23 +0000 (UTC)
Received: (qmail 62840 invoked by uid 500); 4 Feb 2016 09:04:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62754 invoked by uid 500); 4 Feb 2016 09:04:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62744 invoked by uid 99); 4 Feb 2016 09:04:22 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 09:04:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id B292AC0052
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 09:04:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id lE-YDVOC45SP for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 09:04:21 +0000 (UTC)
Received: from mail-qk0-f171.google.com (mail-qk0-f171.google.com [209.85.220.171])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id E39884380B
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 09:04:20 +0000 (UTC)
Received: by mail-qk0-f171.google.com with SMTP id s5so18399369qkd.0
        for <dev@httpd.apache.org>; Thu, 04 Feb 2016 01:04:20 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=hDlMYJlHZ2+5VCmGJ+Txg5O6t6XaSzqngGTE+DnzBZk=;
        b=JRITXkygbiZGn+d4Zo72r9oOxsao0Tzz92NNjfBZvQ1QBRiBvW3wdS9+gddLV0wgdv
         xwAhc+it26CeamqwL/8cn5zknUnWspvIhVvZEqSrNDGEEziZ+WZYnSsjylR0FofKf1O+
         pxNHycABha9wsuab0L2giDoiX91ftpvPBQJZGwoNV5uyzDTkvwgwk1uwDaucbDfdvkVq
         GG10BabWKED8wE2UTN1BEi+e4c/1kkMPSdEKlWHz860HkfvU1eFLlasEkGKA5/Zo8/dk
         R2935CDQEUUb9bOf3PBhb4SoLBsxzYzq5x+hD0+BsXQJ1u6OIALixeVDTnO/Ym5XfOUo
         NLfg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=hDlMYJlHZ2+5VCmGJ+Txg5O6t6XaSzqngGTE+DnzBZk=;
        b=SAgz2BVskF6kGgZsK144BVAfKldq5hnex3uDT1F34aAtTDol3pfWVW4sY5CxvbekxI
         PomHIyyDegpuzErU2FInDELN7UQyne8gWPicU3kW1caIF5Y4RMwE7imlh18MQO/AOMpy
         O3twmR3f2VM+ggKqRgFF5NwMyVTYN01DvtKCAkr8nUP5lS0QQctBWRAwQvFXB9scIpbA
         S+Mrr2IRJidlz/TJdfYleQaMEv/ICacoCYL9QD0czNIscZLc8+3z/Nij3ni0rrUeCvFs
         dA4j2oE+mlUkpqQ8Z9GtU3BzMxUsfoCT2Q1eGKA4BWw4rGQJqkqHZDdpP4h11SgHVhp6
         XpFQ==
X-Gm-Message-State: AG10YOTEdnvaNeF7eaLQNKRH3y8rBXBty5Y91QAzB7WAR5jHSgYMVFTu2M4NDPk4cre/yDdQYInEkNjbBV0bMA==
MIME-Version: 1.0
X-Received: by 10.55.73.68 with SMTP id w65mr7415227qka.68.1454576660704; Thu,
 04 Feb 2016 01:04:20 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Thu, 4 Feb 2016 01:04:20 -0800 (PST)
In-Reply-To: <CAKQ1sVOSaL_SVG=fYc_8MJSDoUnx7N=w9QcJrfZokYZqbvNtFg@mail.gmail.com>
References: <56B0803B.6080209@kraut.ca>
	<56B19098.4060303@kraut.ca>
	<CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
	<56B1C4E9.3050306@kraut.ca>
	<CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
	<CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
	<CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
	<CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
	<CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com>
	<56B2BDC9.40904@kraut.ca>
	<AB1691BE05AE7F4992697F2A0835627AC9FF5646@VOEXM10W.internal.vodafone.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF566F@VOEXM10W.internal.vodafone.com>
	<56B308FD.8080801@kraut.ca>
	<CAKQ1sVMqQBAqeTT+VfB9kz2+PW3s=7RN+Sj2w-SZa44WOx1xdA@mail.gmail.com>
	<CAKQ1sVOSaL_SVG=fYc_8MJSDoUnx7N=w9QcJrfZokYZqbvNtFg@mail.gmail.com>
Date: Thu, 4 Feb 2016 10:04:20 +0100
Message-ID: <CAKQ1sVNN-3k929FAmruZveAunQZpaYHYaDAr=ywi1rLnAkMU6g@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Feb 4, 2016 at 9:54 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Thu, Feb 4, 2016 at 9:41 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> Doesn't the socket_bucket_read() call (frame #3) enter
>> apr_socket_timeout_set(p, 0), and hence sononblock() which puts the
>> socket in O_NONBLOCK?
>
> and resets APR_INCOMPLETE_READ.

Would this help?

Index: srclib/apr/buckets/apr_buckets_socket.c
===================================================================
--- srclib/apr/buckets/apr_buckets_socket.c     (revision 1568989)
+++ srclib/apr/buckets/apr_buckets_socket.c     (working copy)
@@ -26,7 +26,10 @@ static apr_status_t socket_bucket_read(apr_bucket

     if (block == APR_NONBLOCK_READ) {
         apr_socket_timeout_get(p, &timeout);
-        apr_socket_timeout_set(p, 0);
+        rv = apr_socket_timeout_set(p, 0);
+        if (rv != APR_SUCCESS) {
+            return rv;
+        }
     }

     *str = NULL;
--

From dev-return-85442-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 09:08:38 2016
Return-Path: <dev-return-85442-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1624118CC5
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 09:08:38 +0000 (UTC)
Received: (qmail 76067 invoked by uid 500); 4 Feb 2016 09:08:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76001 invoked by uid 500); 4 Feb 2016 09:08:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75991 invoked by uid 99); 4 Feb 2016 09:08:37 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 09:08:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 207B71A047B
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 09:08:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.998
X-Spam-Level:
X-Spam-Status: No, score=0.998 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Qjpx4wU8Xyk5 for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 09:08:35 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.137])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id DFC6B4380B
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 09:08:34 +0000 (UTC)
Received: from [85.158.139.163] by server-1.bemta-5.messagelabs.com id E6/50-15353-C0513B65; Thu, 04 Feb 2016 09:08:28 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-7.tower-188.messagelabs.com!1454576907!14876561!1
X-Originating-IP: [195.232.244.135]
X-StarScan-Received:
X-StarScan-Version: 7.35.1; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 24164 invoked from network); 4 Feb 2016 09:08:28 -0000
Received: from mailout03.vodafone.com (HELO mailout03.vodafone.com) (195.232.244.135)
  by server-7.tower-188.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 4 Feb 2016 09:08:28 -0000
Received: from mailint03.vodafone.com (mailint03.vodafone.com [195.232.244.200])
	by mailout03.vodafone.com (Postfix) with ESMTP id 3pwvDq5NMZz17HNh
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 10:08:27 +0100 (CET)
Received: from mailint03.vodafone.com (localhost [127.0.0.1])
	by mailint03.vodafone.com (Postfix) with ESMTP id 3pwvDq48Fpz16LXG
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 10:08:27 +0100 (CET)
Received: from VOEXC03W.internal.vodafone.com (voexc03w.dc-ratingen.de [145.230.101.23])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint03.vodafone.com (Postfix) with ESMTPS id 3pwvDq3xynz16LS7
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 10:08:27 +0100 (CET)
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.216]) by
 VOEXC03W.internal.vodafone.com ([145.230.101.23]) with mapi id
 14.03.0224.002; Thu, 4 Feb 2016 10:08:27 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: HTTPS connections lock-up with 2.4.18
Thread-Topic: HTTPS connections lock-up with 2.4.18
Thread-Index: AQHRXbe6uEk6ckROb0abdFq6M/zyOZ8Zu/MAgAA13gCAAAh/gIAAEvaAgAASLFD///MtgIAAEvww///7+ACAACkAgIAAEKeAgAAOqgCAAAOQgIAAtYuAgABfgiCAAANBMP//9uOAAADZxAAAAHbqAAAAVm0AAAIxKnA=
Date: Thu, 4 Feb 2016 09:08:26 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC9FF575D@VOEXM10W.internal.vodafone.com>
References: <56B0803B.6080209@kraut.ca>	<56B19098.4060303@kraut.ca>
	<CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com>
	<56B1C4E9.3050306@kraut.ca>
	<CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
	<CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
	<CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
	<CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
	<CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com>
	<56B2BDC9.40904@kraut.ca>
	<AB1691BE05AE7F4992697F2A0835627AC9FF5646@VOEXM10W.internal.vodafone.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF566F@VOEXM10W.internal.vodafone.com>
	<56B308FD.8080801@kraut.ca>
	<CAKQ1sVMqQBAqeTT+VfB9kz2+PW3s=7RN+Sj2w-SZa44WOx1xdA@mail.gmail.com>
	<CAKQ1sVOSaL_SVG=fYc_8MJSDoUnx7N=w9QcJrfZokYZqbvNtFg@mail.gmail.com>
 <CAKQ1sVNN-3k929FAmruZveAunQZpaYHYaDAr=ywi1rLnAkMU6g@mail.gmail.com>
In-Reply-To: <CAKQ1sVNN-3k929FAmruZveAunQZpaYHYaDAr=ywi1rLnAkMU6g@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogWWFubiBZbGF2aWMgW21h
aWx0bzp5bGF2aWMuZGV2QGdtYWlsLmNvbV0NCj4gU2VudDogRG9ubmVyc3RhZywgNC4gRmVicnVh
ciAyMDE2IDEwOjA0DQo+IFRvOiBodHRwZC1kZXYNCj4gU3ViamVjdDogUmU6IEhUVFBTIGNvbm5l
Y3Rpb25zIGxvY2stdXAgd2l0aCAyLjQuMTgNCj4gDQo+IE9uIFRodSwgRmViIDQsIDIwMTYgYXQg
OTo1NCBBTSwgWWFubiBZbGF2aWMgPHlsYXZpYy5kZXZAZ21haWwuY29tPiB3cm90ZToNCj4gPiBP
biBUaHUsIEZlYiA0LCAyMDE2IGF0IDk6NDEgQU0sIFlhbm4gWWxhdmljIDx5bGF2aWMuZGV2QGdt
YWlsLmNvbT4NCj4gd3JvdGU6DQo+ID4+IERvZXNuJ3QgdGhlIHNvY2tldF9idWNrZXRfcmVhZCgp
IGNhbGwgKGZyYW1lICMzKSBlbnRlcg0KPiA+PiBhcHJfc29ja2V0X3RpbWVvdXRfc2V0KHAsIDAp
LCBhbmQgaGVuY2Ugc29ub25ibG9jaygpIHdoaWNoIHB1dHMgdGhlDQo+ID4+IHNvY2tldCBpbiBP
X05PTkJMT0NLPw0KPiA+DQo+ID4gYW5kIHJlc2V0cyBBUFJfSU5DT01QTEVURV9SRUFELg0KPiAN
Cj4gV291bGQgdGhpcyBoZWxwPw0KDQpBcyBpdCBpcyBlYXN5IHJlcHJvZHVjaWJsZSBpbiBoaXMg
ZW52aXJvbm1lbnQgSSBndWVzcyBhbiBzdHJhY2Ugb3ZlciB0aGUgd2hvbGUgdHJhbnNhY3Rpb24g
d291bGQgYmUgdGhlIGJlc3QgYXBwcm9hY2guDQoNClJlZ2FyZHMNCg0KUsO8ZGlnZXINCg==

From dev-return-85443-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 10:06:30 2016
Return-Path: <dev-return-85443-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3BD4518F8E
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 10:06:30 +0000 (UTC)
Received: (qmail 22551 invoked by uid 500); 4 Feb 2016 10:06:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22482 invoked by uid 500); 4 Feb 2016 10:06:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22472 invoked by uid 99); 4 Feb 2016 10:06:24 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 10:06:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4126FC1EBD
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 10:06:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.351
X-Spam-Level:
X-Spam-Status: No, score=-0.351 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, RP_MATCHES_RCVD=-0.46, SPF_PASS=-0.001,
	T_DKIM_INVALID=0.01] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=fail (1024-bit key) reason="fail (message has been altered)"
	header.d=greenbytes.de header.b=BhqvEB3n; dkim=fail (1024-bit key)
	reason="fail (message has been altered)" header.d=greenbytes.de
	header.b=BhqvEB3n
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id BtlSA81PRpZm for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 10:06:21 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id ED8DD24E24
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 10:06:20 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id A6B0115A0791; Thu,  4 Feb 2016 11:06:13 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454580373; bh=ZjJwz4tXRnpieVIjwHzzPBhgVUKm9NxsZ7c9QaX8kWw=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=BhqvEB3n0fVmXbC1OVv1xIcyfYfomenfxDGyGLGPnu9dJTA7Zrx1LMmhCebYINbdV
	 hh4iqGWCfkB7XfXgJkbAMYZiJ/w1DQeFJHzHpIMa0y/kE6TsK6IRgayUuEb25IkpLW
	 CZnO4k1WGMq2hFDS820nH3ZZxRhCsWVrQcx34w8o=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 2778315A00B6
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 11:06:12 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454580373; bh=ZjJwz4tXRnpieVIjwHzzPBhgVUKm9NxsZ7c9QaX8kWw=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=BhqvEB3n0fVmXbC1OVv1xIcyfYfomenfxDGyGLGPnu9dJTA7Zrx1LMmhCebYINbdV
	 hh4iqGWCfkB7XfXgJkbAMYZiJ/w1DQeFJHzHpIMa0y/kE6TsK6IRgayUuEb25IkpLW
	 CZnO4k1WGMq2hFDS820nH3ZZxRhCsWVrQcx34w8o=
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC9FF575D@VOEXM10W.internal.vodafone.com>
Date: Thu, 4 Feb 2016 11:06:12 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <0386D93E-7BF3-436F-8912-4D98C723E5A1@greenbytes.de>
References: <56B0803B.6080209@kraut.ca> <56B19098.4060303@kraut.ca> <CAKQ1sVNzxwai9xonE0am0RkJmrXACCMb7UG5-bm-6V9-zf7bzQ@mail.gmail.com> <56B1C4E9.3050306@kraut.ca> <CAKQ1sVOgPoTZ6a22rTYHiF+eD8gbB-QuPTVSqJOkeoizoFu93A@mail.gmail.com> <AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com> <CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com> <AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com> <CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com> <CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com> <CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com> <CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com> <CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com> <56B2BDC9.40904@kraut.ca> <AB1691BE05AE7F4992697F2A0835627AC9FF5646@VOEXM10W.internal.vodafone.com> <AB1691BE05AE7F4992697F2A0835627AC9FF566F@VOEXM10W.internal.vodafone.com> <56B308FD.8080801@kraut.ca> 
 <CAKQ1sVMqQBAqeTT+VfB9kz2+PW3s=7RN+Sj2w-SZa44WOx1xdA@mail.gmail.com> <CAKQ1sVOSaL_SVG=fYc_8MJSDoUnx7N=w9QcJrfZokYZqbvNtFg@mail.gmail.com> <CAKQ1sVNN-3k929FAmruZveAunQZpaYHYaDAr=ywi1rLnAkMU6g@mail.gmail.com> <AB1691BE05AE7F4992697F2A0835627AC9FF575D@VOEXM10W.internal.vodafone.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

FYI: my write lockup is unrelated to yours and resides solely in my own =
code...

> Am 04.02.2016 um 10:08 schrieb Pl=C3=BCm, R=C3=BCdiger, Vodafone Group =
<ruediger.pluem@vodafone.com>:
>=20
>=20
>=20
>> -----Original Message-----
>> From: Yann Ylavic [mailto:ylavic.dev@gmail.com]
>> Sent: Donnerstag, 4. Februar 2016 10:04
>> To: httpd-dev
>> Subject: Re: HTTPS connections lock-up with 2.4.18
>>=20
>> On Thu, Feb 4, 2016 at 9:54 AM, Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
>>> On Thu, Feb 4, 2016 at 9:41 AM, Yann Ylavic <ylavic.dev@gmail.com>
>> wrote:
>>>> Doesn't the socket_bucket_read() call (frame #3) enter
>>>> apr_socket_timeout_set(p, 0), and hence sononblock() which puts the
>>>> socket in O_NONBLOCK?
>>>=20
>>> and resets APR_INCOMPLETE_READ.
>>=20
>> Would this help?
>=20
> As it is easy reproducible in his environment I guess an strace over =
the whole transaction would be the best approach.
>=20
> Regards
>=20
> R=C3=BCdiger


From dev-return-85444-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 11:08:01 2016
Return-Path: <dev-return-85444-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4E7E7182C2
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 11:08:01 +0000 (UTC)
Received: (qmail 75999 invoked by uid 500); 4 Feb 2016 11:08:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75908 invoked by uid 500); 4 Feb 2016 11:08:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75898 invoked by uid 99); 4 Feb 2016 11:08:00 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 11:08:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 2B8C1C20E2
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 11:08:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id CtU53v-WUeEt for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 11:07:59 +0000 (UTC)
Received: from mail-wm0-f44.google.com (mail-wm0-f44.google.com [74.125.82.44])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 06A8920468
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 11:07:59 +0000 (UTC)
Received: by mail-wm0-f44.google.com with SMTP id l66so21114005wml.0
        for <dev@httpd.apache.org>; Thu, 04 Feb 2016 03:07:58 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=QbbEHc0yXfjbFZDtZTaVP1fN0Q6emo+N3zT3zMudmes=;
        b=GN3hyoELnfTA2V5Dz5cOOo5vhArenPYXJfBGujvVPyGXCY5jQtWcGDE5csNiGHjopx
         Nyv4Rec9B4fG5QnMjhcQlufqt+lhrl6wTzsQtsBHlfPHQTvkjA5EnrB74b9iHiD/o6Pm
         tSVEGFeTZ41inAO8e9+78oWvyyvioWvbOX/eEpCeC6FqF8QgNHnWkZ5yvXhSA4o7oHuL
         A6RZhWbWOLm4t38U1dxW66SyoH8lfSol3/imsj4w7aDbzbJZZuivamcWSfeTN/iRkujD
         xUqqUxoIPW2a0fUjugfm+iDuY3xZfn+B3AyIhpyB04Va8OdiIuT2AwGZTB8wKUXdpK1I
         t7Sg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=QbbEHc0yXfjbFZDtZTaVP1fN0Q6emo+N3zT3zMudmes=;
        b=Hhh5Lmdi7/v5VQ9GkWEP+UjPjqxIvbTKMcldB3jy64USLozRK5Ogid20on3NBpiO8A
         cNXYGoX08b7LrFRUpiLXRKllKEPuNs3kGcG3tkIHYXVvNpZpphEnPEjoErRC7fNXNcAw
         6AdpJW41g51gz9E/cjk+0L+dScdSg5Xmgeu8pT6gVOdTLN7rwTuIYdwkUGzEWnO3MIfQ
         Ugs4GA2VCgj3yXxpunEmyAwFOG0UwH35g48jmhGn5s34G2yxDEved/mhpz6rZ7uH2S7J
         rXjdzpXvHP/7MlbUU4Xh1pA8cTj+0p3rjdK2PMULOMzO0PryvjazyeFZQ5MxpWe8cOB1
         +U1Q==
X-Gm-Message-State: AG10YOSWdBcOCbCyvovcaqjnTFAdGfB+AzsBsf+3Zs1KLcaFbf/WubfFIPn994xmhhKMrsvBDIhORq2iRibQ/g==
MIME-Version: 1.0
X-Received: by 10.28.65.193 with SMTP id o184mr28860827wma.15.1454584077811;
 Thu, 04 Feb 2016 03:07:57 -0800 (PST)
Received: by 10.194.37.198 with HTTP; Thu, 4 Feb 2016 03:07:57 -0800 (PST)
Date: Thu, 4 Feb 2016 14:07:57 +0300
Message-ID: <CAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com>
Subject: apache-swat project - need feedback!
From: Alexey Melezhik <melezhik@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Hi!

Recently I have started apache-swat project
https://github.com/melezhik/apache-swat , thanks to Bill
for supporting my first attempt -
http://mail-archives.apache.org/mod_mbox/httpd-dev/201601.mbox/%3CCACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com%3E

As being newbie in apache project I'd be glad to get a feedback from
apache developers

* is it clear what apache-swat is?
* is it useful / helpful ?
* what things could be improved

About apache-swat in few words.

* apache-swat is test suites base to be run on local developer's environment
* test suites is on per issues basis, issues taken by me ( in almost )
random  ) mode from https://bz.apache.org/bugzilla/ and get converted
into test scenarios
* everyone is encourage create new tests for existed or new issues
* apache-swat  tries to be as irrelevant as possible to your local
environment so allow tests suite installation / configuration process
with minimal efforts , a minimal conventions on your local environment
are:

 - you have perl  ( almost any version )
 - you have cpan or cpanm ( to install swat cpan module )
 - you have git to checkout tests suite from
https://github.com/melezhik/apache-swat
-  you have vanilla apache installed according
https://httpd.apache.org/docs/2.2/en/install.html or
https://httpd.apache.org/docs/2.4/en/install.html
 - and then you follow a simple instruction to bootstrap apache-swat tests suite

* tests sites could be run in whole chunk ( all tests ), just say:

  $ swat

* or you may run a certain test of your interest , mostly this is per
issue tests, for example:

 $ swat  -t 58854 # run tests for issue
https://bz.apache.org/bugzilla/show_bug.cgi?id=58854


Contributing to apache-swat:

* git fork
* write new tests for issue - t foo-bar-baz
* make github MR


Existed issues list covered by apache-swat

44221
46751
58777
58789
58854

I have posted an information about apache-swat tests suite existence
to  proper Bugzilla issue pages.


Thanks in advance


Alexey Melezhik

From dev-return-85445-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 20:58:37 2016
Return-Path: <dev-return-85445-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 02D4018342
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 20:58:37 +0000 (UTC)
Received: (qmail 57432 invoked by uid 500); 4 Feb 2016 20:58:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57357 invoked by uid 500); 4 Feb 2016 20:58:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57347 invoked by uid 99); 4 Feb 2016 20:58:36 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 20:58:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id D153AC22DD
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 20:58:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.8
X-Spam-Level: *
X-Spam-Status: No, score=1.8 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_DNSWL_NONE=-0.0001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id dhbp2R37I9dD for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 20:58:34 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 7BCB131AD0
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 20:58:33 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 544FC22AA2
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 21:58:32 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 4O5VkewSmMvg for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 21:58:32 +0100 (CET)
Received: from [10.0.0.1] (CPE-58-166-70-185.lnse5.cht.bigpond.net.au [58.166.70.185])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 462EA212E2
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 21:58:30 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: More_ exports_for_ mod_proxy3.
Message-ID: <56B3BB61.1030408@gknw.net>
Date: Fri, 5 Feb 2016 07:58:09 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: multipart/mixed;
 boundary="------------050104080804050302080504"

This is a multi-part message in MIME format.
--------------050104080804050302080504
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Sigh,
This adds the exports for
> proxy_hcmethods
and
> ap_proxy_transfer_between_connections


> Index: modules/proxy/NWGNUproxy
> ===================================================================
> --- modules/proxy/NWGNUproxy	(revision 1728550)
> +++ modules/proxy/NWGNUproxy	(working copy)
> @@ -256,6 +256,7 @@
>  	@echo $(DL)# Exports of mod_proxy$(DL)> $@
>  	@echo $(DL) (AP$(VERSION_MAJMIN))$(DL)>> $@
>  	@echo $(DL) proxy_module,$(DL)>> $@
> +	@echo $(DL) proxy_hcmethods,$(DL)>> $@
>  	@echo $(DL) proxy_hook_canon_handler,$(DL)>> $@
>  	@echo $(DL) proxy_hook_get_canon_handler,$(DL)>> $@
>  	@echo $(DL) proxy_hook_get_post_request,$(DL)>> $@
> @@ -321,6 +322,7 @@
>  	@echo $(DL) ap_proxy_strncpy,$(DL)>> $@
>  	@echo $(DL) ap_proxy_sync_balancer,$(DL)>> $@
>  	@echo $(DL) ap_proxy_trans_match,$(DL)>> $@
> +	@echo $(DL) ap_proxy_transfer_between_connections,$(DL)>> $@
>  	@echo $(DL) ap_proxy_valid_balancer_name,$(DL)>> $@
>  	@echo $(DL) ap_proxy_worker_name,$(DL)>> $@
>  	@echo $(DL) ap_proxyerror$(DL)>> $@

Regards
Norm

--------------050104080804050302080504
Content-Type: text/x-patch;
 name="More_proxy_tweeks_NetWare3.diff"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="More_proxy_tweeks_NetWare3.diff"

Index: modules/proxy/NWGNUproxy
===================================================================
--- modules/proxy/NWGNUproxy	(revision 1728550)
+++ modules/proxy/NWGNUproxy	(working copy)
@@ -256,6 +256,7 @@
 	@echo $(DL)# Exports of mod_proxy$(DL)> $@
 	@echo $(DL) (AP$(VERSION_MAJMIN))$(DL)>> $@
 	@echo $(DL) proxy_module,$(DL)>> $@
+	@echo $(DL) proxy_hcmethods,$(DL)>> $@
 	@echo $(DL) proxy_hook_canon_handler,$(DL)>> $@
 	@echo $(DL) proxy_hook_get_canon_handler,$(DL)>> $@
 	@echo $(DL) proxy_hook_get_post_request,$(DL)>> $@
@@ -321,6 +322,7 @@
 	@echo $(DL) ap_proxy_strncpy,$(DL)>> $@
 	@echo $(DL) ap_proxy_sync_balancer,$(DL)>> $@
 	@echo $(DL) ap_proxy_trans_match,$(DL)>> $@
+	@echo $(DL) ap_proxy_transfer_between_connections,$(DL)>> $@
 	@echo $(DL) ap_proxy_valid_balancer_name,$(DL)>> $@
 	@echo $(DL) ap_proxy_worker_name,$(DL)>> $@
 	@echo $(DL) ap_proxyerror$(DL)>> $@

--------------050104080804050302080504--

From dev-return-85446-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 21:50:39 2016
Return-Path: <dev-return-85446-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E5BAF18611
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 21:50:38 +0000 (UTC)
Received: (qmail 11179 invoked by uid 500); 4 Feb 2016 21:50:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11088 invoked by uid 500); 4 Feb 2016 21:50:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11068 invoked by uid 99); 4 Feb 2016 21:50:22 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 21:50:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id CDB90C231E
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 21:50:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.361
X-Spam-Level:
X-Spam-Status: No, score=-0.361 tagged_above=-999 required=6.31
	tests=[HEADER_FROM_DIFFERENT_DOMAINS=0.001, KAM_ASCII_DIVIDERS=0.8,
	RCVD_IN_DNSWL_LOW=-0.7, RP_MATCHES_RCVD=-0.46, SPF_HELO_PASS=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id RYydh2QkGSou for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 21:50:19 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id AB409439D1
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 21:50:18 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1aRRmy-00070U-E4
	for dev@httpd.apache.org; Thu, 04 Feb 2016 22:50:08 +0100
Received: from aorleans-552-1-107-165.w92-140.abo.wanadoo.fr ([92.140.234.165])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Thu, 04 Feb 2016 22:50:08 +0100
Received: from christophe.jaillet by aorleans-552-1-107-165.w92-140.abo.wanadoo.fr with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Thu, 04 Feb 2016 22:50:08 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Subject: const char *--> char * clean-up
Date: Thu, 4 Feb 2016 22:49:58 +0100
Lines: 96
Message-ID: <n90h2b$t0a$1@ger.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: aorleans-552-1-107-165.w92-140.abo.wanadoo.fr
X-Mozilla-News-Host: news://news.gmane.org:119
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
X-Antivirus: avast! (VPS 160203-1, 03/02/2016), Outbound message
X-Antivirus-Status: Clean

Hi,

in order to avoid the ugliness of things like:
     r->protocol = (char*)"HTTP/1.0";
does the following proposal makes sense to you?


Does turning a "char *" to a "const char *" in a struct defined in 
include/httpd.h in considered as a API change?

CJ


=====================================

Index: include/httpd.h
===================================================================
--- include/httpd.h    (rvision 1728552)
+++ include/httpd.h    (copie de travail)
@@ -826,7 +826,7 @@
      /** Protocol version number of protocol; 1.1 = 1001 */
      int proto_num;
      /** Protocol string, as given to us, or HTTP/0.9 */
-    char *protocol;
+    const char *protocol;
      /** Host, as set by full URI or Host: header.
       *  For literal IPv6 addresses, this does NOT include the 
surrounding [ ]
       */
Index: modules/http2/h2_request.c
===================================================================
--- modules/http2/h2_request.c    (rvision 1728552)
+++ modules/http2/h2_request.c    (copie de travail)
@@ -408,7 +408,7 @@
      }

      ap_parse_uri(r, req->path);
-    r->protocol = (char*)"HTTP/2";
+    r->protocol = "HTTP/2";
      r->proto_num = HTTP_VERSION(2, 0);

      r->the_request = apr_psprintf(r->pool, "%s %s %s",
Index: modules/proxy/mod_proxy_hcheck.c
===================================================================
--- modules/proxy/mod_proxy_hcheck.c    (rvision 1728552)
+++ modules/proxy/mod_proxy_hcheck.c    (copie de travail)
@@ -393,7 +393,7 @@
          r->header_only = 0;
      }

-    r->protocol = (char*)"HTTP/1.0";
+    r->protocol = "HTTP/1.0";
      r->proto_num = HTTP_VERSION(1, 0);

      r->hostname = NULL;
Index: server/protocol.c
===================================================================
--- server/protocol.c    (rvision 1728552)
+++ server/protocol.c    (copie de travail)
@@ -614,7 +614,7 @@
                  r->status = HTTP_BAD_REQUEST;
              }
              r->proto_num = HTTP_VERSION(1,0);
-            r->protocol  = apr_pstrdup(r->pool, "HTTP/1.0");
+            r->protocol  = "HTTP/1.0";
              return 0;
          }
      } while ((len <= 0) && (--num_blank_lines >= 0));
@@ -634,7 +634,7 @@
      if (!*r->method || !*uri) {
          r->status    = HTTP_BAD_REQUEST;
          r->proto_num = HTTP_VERSION(1,0);
-        r->protocol  = apr_pstrdup(r->pool, "HTTP/1.0");
+        r->protocol  = "HTTP/1.0";
          return 0;
      }

@@ -648,7 +648,7 @@
      ap_parse_uri(r, uri);
      if (r->status != HTTP_OK) {
          r->proto_num = HTTP_VERSION(1,0);
-        r->protocol  = apr_pstrdup(r->pool, "HTTP/1.0");
+        r->protocol  = "HTTP/1.0";
          return 0;
      }

@@ -687,7 +687,7 @@
                            "Invalid protocol '%s'", r->protocol);
              if (enforce_strict) {
                  r->proto_num = HTTP_VERSION(1,0);
-                r->protocol  = apr_pstrdup(r->pool, "HTTP/1.0");
+                r->protocol  = "HTTP/1.0";
                  r->connection->keepalive = AP_CONN_CLOSE;
                  r->status = HTTP_BAD_REQUEST;
                  return 0;



From dev-return-85447-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 22:04:43 2016
Return-Path: <dev-return-85447-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CE7D5186A9
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 22:04:43 +0000 (UTC)
Received: (qmail 47819 invoked by uid 500); 4 Feb 2016 22:04:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 47757 invoked by uid 500); 4 Feb 2016 22:04:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 47747 invoked by uid 99); 4 Feb 2016 22:04:43 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 22:04:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id BF483C0BE4
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 22:04:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.279
X-Spam-Level: *
X-Spam-Status: No, score=1.279 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id kWOc8vbbt4ug for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 22:04:41 +0000 (UTC)
Received: from mail-ig0-f180.google.com (mail-ig0-f180.google.com [209.85.213.180])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 381BA439AB
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 22:04:41 +0000 (UTC)
Received: by mail-ig0-f180.google.com with SMTP id mw1so1377026igb.1
        for <dev@httpd.apache.org>; Thu, 04 Feb 2016 14:04:41 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=2JiIJVOIU9tG+OU4Pr9eWgFRblaUum261cOHhaFoBG4=;
        b=lsbzR2hBfUp2BAguvbzvyeKfoiqmX1wg6IC1hWYZOmmDfNI05D4BxOU3cn444Gyuyp
         r4Spl1QqNbmhjrZgKQK/JXu8H4zpmkncjrXJbBUkidzp/Ewk/hWxRnZpunDTX+G3nVMP
         gFJ5g2wLswQecXndptxxvk55q/1/ZiCBdZKw+T2wpQP5NYcvBpUqNe9IDFFvTT4pfLx1
         dB/zMsYWVm+Wk9hYHGNUIgKmFKjPs77JPkdJ81yHffHVd3vDV7vMI07VaayU9dnfIb/K
         JHwD6InQ8QLgsRrOlYnqoIwZ1tSjrWHqWaMNd9/83kweG3GxVmIVzwBzrVYZJ4n/dNmy
         3F5w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=2JiIJVOIU9tG+OU4Pr9eWgFRblaUum261cOHhaFoBG4=;
        b=Z/0Jibm9eQ87LKI2RzjDfqvQY6xrZp6h1gDhpG1E9Mg0TmwU1eh0J58fhbjxTsMvFV
         BfCdp9rPHB3hdkCqXZXdSdItPkaIe0wLUrmFMdot+UcPL+IK+7PHa/0mZt2ovWykBL9d
         SJTaft6WbQLI+3aXPE+nXHpBfBv0TbFCXhhbAvMX009L5HeBxrPYbQL0T3ewaSSSMpBX
         Hh+9/Uuj4dwrJxKiIHtmR/PI9+t1UDSHYVBzLnpJAy/NCSdUiBEghT+o/yiNaLvL5ESb
         IRgza8AAgwF3hJAi2heBlTzzIziVEMn2OoCwzY6OPqRntUr+AjBTGXmb4MS+CDgnrMCe
         Ul7w==
X-Gm-Message-State: AG10YOSX1nUrIMg3dOz/yj6s8DlnnT68MlI93+KdfavkwangRNsnqw9Vj7LH5P55tXgO2TAgjVzhcVkCi/O+5xNy
MIME-Version: 1.0
X-Received: by 10.50.64.178 with SMTP id p18mr12233625igs.35.1454623475661;
 Thu, 04 Feb 2016 14:04:35 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Thu, 4 Feb 2016 14:04:35 -0800 (PST)
In-Reply-To: <n90h2b$t0a$1@ger.gmane.org>
References: <n90h2b$t0a$1@ger.gmane.org>
Date: Thu, 4 Feb 2016 16:04:35 -0600
Message-ID: <CACsi25320CbhLSR60h2Yg6NLBr-ZkM0hSvipPpxsW9a=mzD4TA@mail.gmail.com>
Subject: Re: const char *--> char * clean-up
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7bd75c3a8ca321052af8ebf1

--047d7bd75c3a8ca321052af8ebf1
Content-Type: text/plain; charset=UTF-8

On Thu, Feb 4, 2016 at 3:49 PM, Christophe JAILLET <
christophe.jaillet@wanadoo.fr> wrote:

> Hi,
>
> in order to avoid the ugliness of things like:
>     r->protocol = (char*)"HTTP/1.0";
> does the following proposal makes sense to you?
>

This patch is needed on trunk, yes.

Does turning a "char *" to a "const char *" in a struct defined in
> include/httpd.h in considered as a API change?
>

It is.  (And the cast above was very, very wrong and would generally lead
to a segfault on manipulation of the char array members).

Whether folks used the mutability of the r->protocol array is anyone's
guess.
It certainly changes the API.

--047d7bd75c3a8ca321052af8ebf1
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Feb 4, 2016 at 3:49 PM, Christophe JAILLET <span dir=3D"ltr">&lt;<a hre=
f=3D"mailto:christophe.jaillet@wanadoo.fr" target=3D"_blank">christophe.jai=
llet@wanadoo.fr</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" =
style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Hi,=
<br>
<br>
in order to avoid the ugliness of things like:<br>
=C2=A0 =C2=A0 r-&gt;protocol =3D (char*)&quot;HTTP/1.0&quot;;<br>
does the following proposal makes sense to you?<br></blockquote><div>=C2=A0=
</div><div>This patch is needed on trunk, yes.</div><div><br></div><blockqu=
ote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc s=
olid;padding-left:1ex">
Does turning a &quot;char *&quot; to a &quot;const char *&quot; in a struct=
 defined in include/httpd.h in considered as a API change?<br></blockquote>=
<div><br></div><div>It is. =C2=A0(And the cast above was very, very wrong a=
nd would generally lead</div><div>to a segfault on manipulation of the char=
 array members).</div><div><br></div><div>Whether folks used the mutability=
 of the r-&gt;protocol array is anyone&#39;s guess.</div><div>It certainly =
changes the API.</div><div><br></div></div><br></div></div>

--047d7bd75c3a8ca321052af8ebf1--

From dev-return-85448-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 22:53:49 2016
Return-Path: <dev-return-85448-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E936218A0C
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 22:53:49 +0000 (UTC)
Received: (qmail 29509 invoked by uid 500); 4 Feb 2016 22:53:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29294 invoked by uid 500); 4 Feb 2016 22:53:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29213 invoked by uid 99); 4 Feb 2016 22:53:47 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 22:53:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 3FD7A180625
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 22:53:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.53
X-Spam-Level:
X-Spam-Status: No, score=-0.53 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.429, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=kraut.ca
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ndwaPolZyR9e for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 22:53:45 +0000 (UTC)
Received: from penguin.kraut.ca (penguin.kraut.ca [96.53.60.142])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 24D2231AF6
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 22:53:45 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=kraut.ca;
	 s=20151017; h=Subject:Content-Transfer-Encoding:Content-Type:In-Reply-To:
	MIME-Version:Date:Message-ID:From:References:To;
	bh=G3JlvHRjWEtvsbWpJ8xL8eXcLFOfVN8l2BqMrWtEO98=; b=eyKa7AMNfWk6rvK6FjcIn+yrt/
	UPOPDyBO+ecE71r1ju01JEEtH6WKHVm9bGW4b/F7OWEyJ2JDAMz/8Ru0nnjbrEbKpfM3XpCZyIx1Z
	N+E6cHhjNg8BXEs5c0G8d/hNwyFojPzmMe/oPRLIHGk7G2y54EFkE8qfXD694HeP05lE=;
Received: from [184.71.173.194] (helo=[205.159.216.152])
	by penguin.kraut.ca with esmtpsa (TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128)
	(Exim 4.86)
	(envelope-from <joachim@kraut.ca>)
	id 1aRSmT-0002v2-UF
	for dev@httpd.apache.org; Thu, 04 Feb 2016 14:53:43 -0800
To: dev@httpd.apache.org
References: <56B0803B.6080209@kraut.ca>
 <AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
 <CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
 <CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
 <CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
 <CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com>
 <56B2BDC9.40904@kraut.ca>
 <AB1691BE05AE7F4992697F2A0835627AC9FF5646@VOEXM10W.internal.vodafone.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF566F@VOEXM10W.internal.vodafone.com>
 <56B308FD.8080801@kraut.ca>
 <CAKQ1sVMqQBAqeTT+VfB9kz2+PW3s=7RN+Sj2w-SZa44WOx1xdA@mail.gmail.com>
 <CAKQ1sVOSaL_SVG=fYc_8MJSDoUnx7N=w9QcJrfZokYZqbvNtFg@mail.gmail.com>
From: Joachim Achtzehnter <joachim@kraut.ca>
Message-ID: <56B3D66D.4060900@kraut.ca>
Date: Thu, 4 Feb 2016 14:53:33 -0800
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVOSaL_SVG=fYc_8MJSDoUnx7N=w9QcJrfZokYZqbvNtFg@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 184.71.173.194
X-SA-Exim-Mail-From: joachim@kraut.ca
Subject: Re: HTTPS connections lock-up with 2.4.18
X-SA-Exim-Version: 4.2.1 (built Mon, 06 Jul 2015 07:28:29 +0000)
X-SA-Exim-Scanned: Yes (on penguin.kraut.ca)

On 2016-02-04 0:54, Yann Ylavic wrote:

> On Thu, Feb 4, 2016 at 9:41 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> Doesn't the socket_bucket_read() call (frame #3) enter
>> apr_socket_timeout_set(p, 0), and hence sononblock() which puts the
>> socket in O_NONBLOCK?
>
> and resets APR_INCOMPLETE_READ.

Yes, it does:

     if (t <= 0) {
         sock->options &= ~APR_INCOMPLETE_READ;
     }

But isn't this precisely the problem? The socket_buffer_read() 
implementation in "srclib/apr/network_io/unix/sendrecv.c" uses select() 
only if the APR_INCOMPLETE_READ flag is SET:

     if (sock->options & APR_INCOMPLETE_READ) {
         sock->options &= ~APR_INCOMPLETE_READ;
         goto do_select;
     }

If this flag is clear it goes into the blocking read loop instead:

     do {
         rv = read(sock->socketdes, buf, (*len));
     } while (rv == -1 && errno == EINTR);

How about this small patch:

--- srclib/apr/network_io/unix/sockopt.c.orig	2012-11-07 
08:10:09.000000000 -0800
+++ srclib/apr/network_io/unix/sockopt.c	2016-02-04 14:20:35.755530111 -0800
@@ -102,7 +102,7 @@
      /* must disable the incomplete read support if we disable
       * a timeout
       */
-    if (t <= 0) {
+    if (t < 0) {
          sock->options &= ~APR_INCOMPLETE_READ;
      }
      sock->timeout = t;

This seems to get it working, but I'm not sure if there are other 
reasons, not related to blocking versus non-blocking behaviour, for the 
flag to get cleared when timeout is zero.

Thanks,

Joachim

-- 
joachim@kraut.ca http://www.kraut.ca

From dev-return-85449-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 23:18:41 2016
Return-Path: <dev-return-85449-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9051318C51
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 23:18:41 +0000 (UTC)
Received: (qmail 35637 invoked by uid 500); 4 Feb 2016 23:18:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35525 invoked by uid 500); 4 Feb 2016 23:18:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35413 invoked by uid 99); 4 Feb 2016 23:18:40 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 23:18:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id EF5911A0613
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 23:18:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.53
X-Spam-Level:
X-Spam-Status: No, score=-0.53 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.429, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=kraut.ca
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Fn66QVcEcy_V for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 23:18:39 +0000 (UTC)
Received: from penguin.kraut.ca (penguin.kraut.ca [96.53.60.142])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 017A720468
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 23:18:38 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=kraut.ca;
	 s=20151017; h=Subject:Content-Transfer-Encoding:Content-Type:In-Reply-To:
	MIME-Version:Date:Message-ID:From:References:To;
	bh=wjL9doW0cyO6LaBDABw9Nn/hC0LRxRWGNyzTmSV0e7k=; b=kw+Gg9R1cOs/8mulsWPFHNgUdO
	VUpbp0W0XKvSR4DMaIpga48HiMwSfVpo+6w3hNMOytjBiJwko5dA59lCOFeSqoMkXJLm+3rult67w
	W0x/htWFm71MGAOpHb2IcNOI/02n9hH4yRPBoYEwzHvdMT2bCN/207XGbhv4vslJfDl0=;
Received: from [184.71.173.194] (helo=[205.159.216.152])
	by penguin.kraut.ca with esmtpsa (TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128)
	(Exim 4.86)
	(envelope-from <joachim@kraut.ca>)
	id 1aRTAR-0002y5-7U
	for dev@httpd.apache.org; Thu, 04 Feb 2016 15:18:33 -0800
To: dev@httpd.apache.org
References: <56B0803B.6080209@kraut.ca>
 <AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
 <CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
 <CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
 <CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
 <CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com>
 <56B2BDC9.40904@kraut.ca>
 <AB1691BE05AE7F4992697F2A0835627AC9FF5646@VOEXM10W.internal.vodafone.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF566F@VOEXM10W.internal.vodafone.com>
 <56B308FD.8080801@kraut.ca>
 <CAKQ1sVMqQBAqeTT+VfB9kz2+PW3s=7RN+Sj2w-SZa44WOx1xdA@mail.gmail.com>
 <CAKQ1sVOSaL_SVG=fYc_8MJSDoUnx7N=w9QcJrfZokYZqbvNtFg@mail.gmail.com>
 <56B3D66D.4060900@kraut.ca>
From: Joachim Achtzehnter <joachim@kraut.ca>
Message-ID: <56B3DC3A.50708@kraut.ca>
Date: Thu, 4 Feb 2016 15:18:18 -0800
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B3D66D.4060900@kraut.ca>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 184.71.173.194
X-SA-Exim-Mail-From: joachim@kraut.ca
Subject: Re: HTTPS connections lock-up with 2.4.18
X-SA-Exim-Version: 4.2.1 (built Mon, 06 Jul 2015 07:28:29 +0000)
X-SA-Exim-Scanned: Yes (on penguin.kraut.ca)

That previous one-line change was apparently not quite enough. I think I 
still see it occasionally hang, just not all the time. I'm guessing that 
this flag is sometimes already clear on entry to this function, so if we 
want to force a non-blocking read we must explicitly set it:

--- srclib/apr/network_io/unix/sockopt.c.orig	2012-11-07 
08:10:09.000000000 -0800
+++ srclib/apr/network_io/unix/sockopt.c	2016-02-04 15:04:24.833986781 -0800
@@ -100,11 +100,20 @@
          }
      }
      /* must disable the incomplete read support if we disable
-     * a timeout
+     * a timeout...
       */
-    if (t <= 0) {
+    if (t < 0) {
          sock->options &= ~APR_INCOMPLETE_READ;
      }
+    else if (t == 0)
+    {
+       /* and must set the APR_INCOMPLETE_READ flag if non-blocking
+        * read was requested because apr_socket_recv() does a
+        * blocking read if this flag is clear ...
+        */
+       sock->options |= APR_INCOMPLETE_READ;
+    }
+
      sock->timeout = t;
      return APR_SUCCESS;
  }

Does the APR_INCOMPLETE_READ flag have another purpose that is 
orthogonal to controlling blocking behaviour? If yes, then I'm a little 
concerned to overload its use like this. Should there be a different 
dedicated flag to control blocking versus non-blocking behaviour? Or is 
the patch safe as is?

Thanks,

Joachim


On 2016-02-04 14:53, Joachim Achtzehnter wrote:
> On 2016-02-04 0:54, Yann Ylavic wrote:
>
>> On Thu, Feb 4, 2016 at 9:41 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>> Doesn't the socket_bucket_read() call (frame #3) enter
>>> apr_socket_timeout_set(p, 0), and hence sononblock() which puts the
>>> socket in O_NONBLOCK?
>>
>> and resets APR_INCOMPLETE_READ.
>
> Yes, it does:
>
>      if (t <= 0) {
>          sock->options &= ~APR_INCOMPLETE_READ;
>      }
>
> But isn't this precisely the problem? The socket_buffer_read()
> implementation in "srclib/apr/network_io/unix/sendrecv.c" uses select()
> only if the APR_INCOMPLETE_READ flag is SET:
>
>      if (sock->options & APR_INCOMPLETE_READ) {
>          sock->options &= ~APR_INCOMPLETE_READ;
>          goto do_select;
>      }
>
> If this flag is clear it goes into the blocking read loop instead:
>
>      do {
>          rv = read(sock->socketdes, buf, (*len));
>      } while (rv == -1 && errno == EINTR);
>
> How about this small patch:
>
> --- srclib/apr/network_io/unix/sockopt.c.orig    2012-11-07
> 08:10:09.000000000 -0800
> +++ srclib/apr/network_io/unix/sockopt.c    2016-02-04
> 14:20:35.755530111 -0800
> @@ -102,7 +102,7 @@
>       /* must disable the incomplete read support if we disable
>        * a timeout
>        */
> -    if (t <= 0) {
> +    if (t < 0) {
>           sock->options &= ~APR_INCOMPLETE_READ;
>       }
>       sock->timeout = t;
>
> This seems to get it working, but I'm not sure if there are other
> reasons, not related to blocking versus non-blocking behaviour, for the
> flag to get cleared when timeout is zero.
>
> Thanks,
>
> Joachim
>

-- 
joachim@kraut.ca http://www.kraut.ca

From dev-return-85450-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb  4 23:41:21 2016
Return-Path: <dev-return-85450-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 619D418DC4
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Feb 2016 23:41:21 +0000 (UTC)
Received: (qmail 94556 invoked by uid 500); 4 Feb 2016 23:41:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94467 invoked by uid 500); 4 Feb 2016 23:41:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94449 invoked by uid 99); 4 Feb 2016 23:41:20 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Feb 2016 23:41:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7AF301800E7
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 23:41:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id MvkM7UA9Koks for <dev@httpd.apache.org>;
	Thu,  4 Feb 2016 23:41:18 +0000 (UTC)
Received: from mail-qk0-f179.google.com (mail-qk0-f179.google.com [209.85.220.179])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5C8C320468
	for <dev@httpd.apache.org>; Thu,  4 Feb 2016 23:41:18 +0000 (UTC)
Received: by mail-qk0-f179.google.com with SMTP id s68so27870957qkh.3
        for <dev@httpd.apache.org>; Thu, 04 Feb 2016 15:41:18 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=OxTRm9O72Ah6s6PBIW6PyLlvQdY/TkmN7vU4u4OdZ14=;
        b=z2JmsCG+FYq+hfqbAXsjoIy7AA3lE5QingBfl1FXSRH3qHNr/b5usx27+hGulyISby
         QDXZhefYTUVM5F+qBk0H+Jn+uHUulLRqtvVzuhyeje8B3v4L0iI585WvKjrCvN0fUn/e
         2ZXqg1NuuQzz8AfT3gx9c+dODlGap49ii8sjeQnNqD24UKuczaNYa3jeulwFahUUNBcc
         6KpIe3kOgn7StcUjkqlXDXoZIlyXKpUUJJ/M+yDLFj29k+D6QG5gIZFkdof/DUpF1G1o
         zrVuSexPnYEBc/8ew81WMUK+B4CZWJnBmXNbgFjjp3jVQRzUJ/lpZKVCOXilLMcYSh5d
         K47Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=OxTRm9O72Ah6s6PBIW6PyLlvQdY/TkmN7vU4u4OdZ14=;
        b=ejLsXFXk/J+v1WdTPuKbd/I85QMh3XhrH8mvt83aTqtUqEtX+B6UFHig2HKu8PkWkr
         5tRncTWfMDYHkl10I77C9C93e9RJgfxTPVSStBkZzdcb2dRG0LsgTbv+pp/nY4AJJzmb
         +fnWl7Nh5qnS8mTiVoKEHpVVRxN34Z/CCrW1RDR6jadbSfhi+eT2lZEaSQh527Wu05vS
         Nkr1/vSA/pRtdHFHzUPb4esGTGJVpedklOpRHQz3dqt5WnZjiS82bBQZ0ySiYfAp1G17
         n22a7z2W5iO3b12hxSeU1xsaVub+XT4VslDgNGvpIDzyD5MHVLbP/2B3I1CPBVGI9yrj
         HDQQ==
X-Gm-Message-State: AG10YOTcr+X3HhINlCbf9WPijvNa0E7jKwbb8tnmVzBtSn7o1IJUPHOcau/fGg0onRnQzzPIDiOpWQBmdATv0w==
MIME-Version: 1.0
X-Received: by 10.55.75.203 with SMTP id y194mr12996765qka.2.1454629277605;
 Thu, 04 Feb 2016 15:41:17 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Thu, 4 Feb 2016 15:41:17 -0800 (PST)
In-Reply-To: <56B3D66D.4060900@kraut.ca>
References: <56B0803B.6080209@kraut.ca>
	<AB1691BE05AE7F4992697F2A0835627AC9FF25F5@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
	<CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
	<CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
	<CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
	<CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com>
	<56B2BDC9.40904@kraut.ca>
	<AB1691BE05AE7F4992697F2A0835627AC9FF5646@VOEXM10W.internal.vodafone.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF566F@VOEXM10W.internal.vodafone.com>
	<56B308FD.8080801@kraut.ca>
	<CAKQ1sVMqQBAqeTT+VfB9kz2+PW3s=7RN+Sj2w-SZa44WOx1xdA@mail.gmail.com>
	<CAKQ1sVOSaL_SVG=fYc_8MJSDoUnx7N=w9QcJrfZokYZqbvNtFg@mail.gmail.com>
	<56B3D66D.4060900@kraut.ca>
Date: Fri, 5 Feb 2016 00:41:17 +0100
Message-ID: <CAKQ1sVMtuPpMwQy4CHKupzu5axiFv0aWxehtVWV8QKW07a=SAg@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Feb 4, 2016 at 11:53 PM, Joachim Achtzehnter <joachim@kraut.ca> wrote:
> On 2016-02-04 0:54, Yann Ylavic wrote:
>
>> On Thu, Feb 4, 2016 at 9:41 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>>
>>> Doesn't the socket_bucket_read() call (frame #3) enter
>>> apr_socket_timeout_set(p, 0), and hence sononblock() which puts the
>>> socket in O_NONBLOCK?
>>
>>
>> and resets APR_INCOMPLETE_READ.
>
>
> Yes, it does:
>
>     if (t <= 0) {
>         sock->options &= ~APR_INCOMPLETE_READ;
>     }
>
> But isn't this precisely the problem? The socket_buffer_read()
> implementation in "srclib/apr/network_io/unix/sendrecv.c" uses select() only
> if the APR_INCOMPLETE_READ flag is SET:

We don't want to select/poll here (timeout is 0), we want to directly
read non-blocking on the socket.
Since apr_socket_timeout_set(sock, 0)::sononblock() is called (and
succeeds!), recv() should never block (or the system is flawed, or the
socket is in some inconsistent state).
If the timeout were <0, we'd want recv() to block (directly still) and
hence need soblock() before.
If timeout >0, we don't want to wait more than that timeout, so we use
select/poll (timed wait).

>
> How about this small patch:

No, we don't want to poll() before recv() in non-blocking mode, one
system call is enough.

>
> This seems to get it working,

You mean poll()+recv() succeeds? or fails: at poll(), at recv()?
immediatly in any case?
I'm puzzled, why direct non-blocking recv() would block (or not fail)?

Are you sure the earlier sononblock() call succeeded (ie. my patch on
socket_bucket_read() does not help)?

Anyway, I think we need an strace of the process for the whole
connection to figure out the successive syscalls on the socket.

From dev-return-85451-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb  5 00:23:41 2016
Return-Path: <dev-return-85451-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3E4741803C
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Feb 2016 00:23:41 +0000 (UTC)
Received: (qmail 94931 invoked by uid 500); 5 Feb 2016 00:23:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94865 invoked by uid 500); 5 Feb 2016 00:23:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94855 invoked by uid 99); 5 Feb 2016 00:23:36 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Feb 2016 00:23:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 116B41A048A
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 00:23:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.73
X-Spam-Level:
X-Spam-Status: No, score=-2.73 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.429,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id S0-znveWOA6v for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 00:23:34 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 527AA4380B
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 00:23:34 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u150NWul024155
	for <dev@httpd.apache.org>; Fri, 5 Feb 2016 01:23:33 +0100 (CET)
Subject: Re: Proxy_Util needs another export.
To: dev@httpd.apache.org
References: <56AD4E6D.2010208@gknw.net>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56B3EB82.60303@kippdata.de>
Date: Fri, 5 Feb 2016 01:23:30 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56AD4E6D.2010208@gknw.net>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi Norm,

Am 31.01.2016 um 00:59 schrieb NormW:
> G'Day,
> Recent changes to mod_proxy_[connect/wstunnel] prompt another export
> from proxy_util. Wouldn't an awk script simplify symbol extraction from
> proxy_util and obviate the need for tweaking manual lists?

I added support for proxy to the already existing awk script in trunk.

Any chance you can try building trunk using those changes, so I can 
propose for backport?

The changes were:

- r1728569: add some missing symbols to the old style makefile
- r1728572: add PROXY_DECLARE_DATA
- r1728573: add support for proxy to build/make_nw_export.awk
- r1728574: use the awk script instead of the hand written list

Regards,

Rainer


From dev-return-85452-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb  5 04:42:27 2016
Return-Path: <dev-return-85452-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2D96118AAE
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Feb 2016 04:42:27 +0000 (UTC)
Received: (qmail 26891 invoked by uid 500); 5 Feb 2016 04:42:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26825 invoked by uid 500); 5 Feb 2016 04:42:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26793 invoked by uid 99); 5 Feb 2016 04:42:26 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Feb 2016 04:42:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id DD2961A0638
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 04:42:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.53
X-Spam-Level:
X-Spam-Status: No, score=-0.53 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.429, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=kraut.ca
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id MdN2bI6soMfM for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 04:42:23 +0000 (UTC)
Received: from penguin.kraut.ca (penguin.kraut.ca [96.53.60.142])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 8D20531AA9
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 04:42:22 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=kraut.ca;
	 s=20151017; h=Subject:Content-Transfer-Encoding:Content-Type:In-Reply-To:
	MIME-Version:Date:Message-ID:From:References:To;
	bh=86Ohe20hu8r/6TBZhm6QByM98YCHGHwmEkkwYzlOWNQ=; b=fj2Xgf3ZaPOxTNycB762HD3P0J
	g+IsqCoQgykDEXPHENx1QCZhLGGUgW39LlXlqaKCnxXxBZkHveBDVWZbOTu0MHKDwV4+8tEaq+vdz
	1qHu7yvGrYf2H12bDnMfmxghzIQTvpODd1u5kyNExvgogaustTmYlTStXzwiYEBEJAWM=;
Received: from [184.71.173.194] (helo=[205.159.216.152])
	by penguin.kraut.ca with esmtpsa (TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128)
	(Exim 4.86)
	(envelope-from <joachim@kraut.ca>)
	id 1aRYDr-0003Q0-4e
	for dev@httpd.apache.org; Thu, 04 Feb 2016 20:42:20 -0800
To: dev@httpd.apache.org
References: <56B0803B.6080209@kraut.ca>
 <CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
 <CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
 <CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
 <CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
 <CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com>
 <56B2BDC9.40904@kraut.ca>
 <AB1691BE05AE7F4992697F2A0835627AC9FF5646@VOEXM10W.internal.vodafone.com>
 <AB1691BE05AE7F4992697F2A0835627AC9FF566F@VOEXM10W.internal.vodafone.com>
 <56B308FD.8080801@kraut.ca>
 <CAKQ1sVMqQBAqeTT+VfB9kz2+PW3s=7RN+Sj2w-SZa44WOx1xdA@mail.gmail.com>
 <CAKQ1sVOSaL_SVG=fYc_8MJSDoUnx7N=w9QcJrfZokYZqbvNtFg@mail.gmail.com>
 <56B3D66D.4060900@kraut.ca>
 <CAKQ1sVMtuPpMwQy4CHKupzu5axiFv0aWxehtVWV8QKW07a=SAg@mail.gmail.com>
From: Joachim Achtzehnter <joachim@kraut.ca>
Message-ID: <56B42825.70602@kraut.ca>
Date: Thu, 4 Feb 2016 20:42:13 -0800
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVMtuPpMwQy4CHKupzu5axiFv0aWxehtVWV8QKW07a=SAg@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 184.71.173.194
X-SA-Exim-Mail-From: joachim@kraut.ca
Subject: Re: HTTPS connections lock-up with 2.4.18 [SOLVED]
X-SA-Exim-Version: 4.2.1 (built Mon, 06 Jul 2015 07:28:29 +0000)
X-SA-Exim-Scanned: Yes (on penguin.kraut.ca)

Hi Yann,

On 2016-02-04 15:41, Yann Ylavic wrote:
> On Thu, Feb 4, 2016 at 11:53 PM, Joachim Achtzehnter <joachim@kraut.ca> wrote:
>> On 2016-02-04 0:54, Yann Ylavic wrote:
>>
>>> On Thu, Feb 4, 2016 at 9:41 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>>>
>>>> Doesn't the socket_bucket_read() call (frame #3) enter
>>>> apr_socket_timeout_set(p, 0), and hence sononblock() which puts the
>>>> socket in O_NONBLOCK?
>>>
>>>
>>> and resets APR_INCOMPLETE_READ.
>>
>>
>> Yes, it does:
>>
>>      if (t <= 0) {
>>          sock->options &= ~APR_INCOMPLETE_READ;
>>      }
>>
>> But isn't this precisely the problem? The socket_buffer_read()
>> implementation in "srclib/apr/network_io/unix/sendrecv.c" uses select() only
>> if the APR_INCOMPLETE_READ flag is SET:
>
> We don't want to select/poll here (timeout is 0), we want to directly
> read non-blocking on the socket.

Now I understand. The select() should not be needed for the zero timeout 
case of non-blocking read.

> Since apr_socket_timeout_set(sock, 0)::sononblock() is called (and
> succeeds!),

Actually, this was not the case. The sononblock() function was never 
called for the accepted sockets. It was called for the listen socket(s), 
but then never again. When I tried to figure out why it was not called I 
eventually discovered the problem, see below.

> recv() should never block (or the system is flawed, or the
> socket is in some inconsistent state).
> If the timeout were <0, we'd want recv() to block (directly still) and
> hence need soblock() before.
> If timeout >0, we don't want to wait more than that timeout, so we use
> select/poll (timed wait).

Right, I get it now.

>> How about this small patch:
>
> No, we don't want to poll() before recv() in non-blocking mode, one
> system call is enough.

Yes

>> This seems to get it working,
>
> You mean poll()+recv() succeeds? or fails: at poll(), at recv()?
> immediatly in any case?
> I'm puzzled, why direct non-blocking recv() would block (or not fail)?

It was all working, but for the wrong reasons.

> Are you sure the earlier sononblock() call succeeded (ie. my patch on
> socket_bucket_read() does not help)?

It did not get called. The reason was that it assumed the socket was 
already in non-blocking mode. This happened because the build was 
configured with 'ac_cv_o_nonblock_inherited=yes', assuming that this 
property is inherited from the listen socket, but it is not.

I have to apologize for having wasted your time. I feel really bad about 
this. The only small excuse I have is that we were given the build 
configuration for this cross-compile setup by another company, so in 
some sense we are also a victim ourselves.

It doesn't help that the configure script for the apr library silently 
makes the above assumption:

> if test "$cross_compiling" = yes; then :
>
>     ac_cv_o_nonblock_inherited="yes"

This makes it non-obvious that one is creating an incorrect 
configuration. There are several other places in the configure script 
that make assumptions like this. In other places the configure script 
produces an error instead, forcing the user to specify a value, which is 
much better:

>   if test "$cross_compiling" = yes; then :
>   as_fn_error $? "cannot check setpgrp when cross compiling" "$LINENO" 5

Again, sorry about the wasted time.

Joachim


-- 
joachim@kraut.ca http://www.kraut.ca

From dev-return-85453-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb  5 08:12:14 2016
Return-Path: <dev-return-85453-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 59869180D3
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Feb 2016 08:12:14 +0000 (UTC)
Received: (qmail 44036 invoked by uid 500); 5 Feb 2016 08:12:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 43957 invoked by uid 500); 5 Feb 2016 08:12:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 43947 invoked by uid 99); 5 Feb 2016 08:12:10 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Feb 2016 08:12:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 706531805D4
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 08:12:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id RZmHwUdLqoOO for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 08:12:09 +0000 (UTC)
Received: from mail-qk0-f179.google.com (mail-qk0-f179.google.com [209.85.220.179])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id AD89A31AD5
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 08:12:08 +0000 (UTC)
Received: by mail-qk0-f179.google.com with SMTP id s68so31064427qkh.3
        for <dev@httpd.apache.org>; Fri, 05 Feb 2016 00:12:08 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=EZgy/yiiKAdbV7tzxLdOFasvj46qskJMcqjr3fuiKBU=;
        b=Guzg2/EtHq/QbX8tTVD5gKUhF41r7FHx6gfkwam5Lk2ROU3cc0x+y53WX+ghygD5wH
         2Dpqm7Y877ZzQnvie5o6G+qdddVYT+5+w4TPVANKZxiy+V28QujhqV/1H1Vmc9KxWs9b
         +QgO5AFkbxmBXjuGQ7vbnFQ0S7Tu+AINvOF3/QnpXk+Z+efvlwiXm9C7/TH9kprhLaD8
         wJ1NkYh+IUiBcq9CDyCUHfcm703pkGjlUamcP6KRUfjzNQFNa3OrB/SAcVwI3YDiB/Vp
         3FlRpaWJg6H0R8XtBjug0LpuuI9MiUZQRor4Pj33095e5qVfbgaqztL3unxKxZqpqgWY
         RE3A==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=EZgy/yiiKAdbV7tzxLdOFasvj46qskJMcqjr3fuiKBU=;
        b=fYjTKD7pPNw6sDNgn325hPd1lBcBtoaWllO6Hj9EzSXFyTEtX3do5m2mZw9XiggCUW
         9dogmswFxzqOEG9j5s8jrKzRe3Np/cYXZl+CGl6IFX1c3+O0T/CDfLYuhkAoYJL83ue2
         mUIiXb1TdzuybQx8i0xvssLM70QbwI9QBqT8hfLlh3UybU/x3BvoLkhJ68Jlf1/UXKtd
         zNq/sXjcspLaOmySDzyrejU84zNYkjF9HNjIFRicu90vqiT544KFCKn1QFeNqHA5VMtL
         j6s8R0hjlsvErjt/Iv4nylg3xHH321s5qOE3BYS1+loyHzXPSHSqVdvuSpAYZpndEkQ/
         vy0g==
X-Gm-Message-State: AG10YOSEE3cQnIWxrEDydiyzNfcjQCF4UzUtsZ4QAFfWe0djl/AyuNNTtm5ayO9OGMmfIDvg+s6a8D0ZkPzFaA==
MIME-Version: 1.0
X-Received: by 10.55.73.68 with SMTP id w65mr14523676qka.68.1454659927637;
 Fri, 05 Feb 2016 00:12:07 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Fri, 5 Feb 2016 00:12:07 -0800 (PST)
In-Reply-To: <56B42825.70602@kraut.ca>
References: <56B0803B.6080209@kraut.ca>
	<CAKQ1sVNjGXFQyoKwHuK6Svg+0pRuAHBM2QubR0fShwkQVruTeQ@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF263F@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVPGeCvS5FaJ9uAg3y+=s2nWTmnAnS-ArHjwO-3S4-=qqA@mail.gmail.com>
	<CAKQ1sVNw5NTnvS6S3gd+vuU9fKGUVS=CF4Wzd_sUCvmp3KqPDA@mail.gmail.com>
	<CAKQ1sVMgT_i6Hzvk3G1kbCiUfNruk-j8Ni3iTsKJGffBZFEc1A@mail.gmail.com>
	<CAKQ1sVPbV8qRXCN3tECtyx9zOt6RPaswx1ZabSp+jybK_O2ztQ@mail.gmail.com>
	<CAKQ1sVNxnwy+GLJkH9Cakjsmy523zBBgQy95zHZRqs39X5O5_A@mail.gmail.com>
	<56B2BDC9.40904@kraut.ca>
	<AB1691BE05AE7F4992697F2A0835627AC9FF5646@VOEXM10W.internal.vodafone.com>
	<AB1691BE05AE7F4992697F2A0835627AC9FF566F@VOEXM10W.internal.vodafone.com>
	<56B308FD.8080801@kraut.ca>
	<CAKQ1sVMqQBAqeTT+VfB9kz2+PW3s=7RN+Sj2w-SZa44WOx1xdA@mail.gmail.com>
	<CAKQ1sVOSaL_SVG=fYc_8MJSDoUnx7N=w9QcJrfZokYZqbvNtFg@mail.gmail.com>
	<56B3D66D.4060900@kraut.ca>
	<CAKQ1sVMtuPpMwQy4CHKupzu5axiFv0aWxehtVWV8QKW07a=SAg@mail.gmail.com>
	<56B42825.70602@kraut.ca>
Date: Fri, 5 Feb 2016 09:12:07 +0100
Message-ID: <CAKQ1sVMfL1-b6H=P8GW_M5VT4VKK5RvW3c9ki1N84DLp_Hfxbg@mail.gmail.com>
Subject: Re: HTTPS connections lock-up with 2.4.18 [SOLVED]
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Feb 5, 2016 at 5:42 AM, Joachim Achtzehnter <joachim@kraut.ca> wrote:
>
>> Are you sure the earlier sononblock() call succeeded (ie. my patch on
>> socket_bucket_read() does not help)?
>
> It did not get called. The reason was that it assumed the socket was already
> in non-blocking mode. This happened because the build was configured with
> 'ac_cv_o_nonblock_inherited=yes', assuming that this property is inherited
> from the listen socket, but it is not.

Ooook, now it makes sense.

>
> I have to apologize for having wasted your time. I feel really bad about
> this. The only small excuse I have is that we were given the build
> configuration for this cross-compile setup by another company, so in some
> sense we are also a victim ourselves.

No problem, at least we could validate the 2.4.18 changes :)

>
> It doesn't help that the configure script for the apr library silently makes
> the above assumption:
>
>> if test "$cross_compiling" = yes; then :
>>
>>     ac_cv_o_nonblock_inherited="yes"
>
>
> This makes it non-obvious that one is creating an incorrect configuration.
> There are several other places in the configure script that make assumptions
> like this. In other places the configure script produces an error instead,
> forcing the user to specify a value, which is much better:
>
>>   if test "$cross_compiling" = yes; then :
>>   as_fn_error $? "cannot check setpgrp when cross compiling" "$LINENO" 5

Cross compiling APR probably needs fixes, patches welcome ;)

>
> Again, sorry about the wasted time.

Thanks for the follow up.

Regards,
Yann.

From dev-return-85454-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb  5 08:21:31 2016
Return-Path: <dev-return-85454-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D24571813F
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Feb 2016 08:21:31 +0000 (UTC)
Received: (qmail 57984 invoked by uid 500); 5 Feb 2016 08:21:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57922 invoked by uid 500); 5 Feb 2016 08:21:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57912 invoked by uid 99); 5 Feb 2016 08:21:24 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Feb 2016 08:21:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 666251A0594
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 08:21:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Hc1eBOIYuQv1 for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 08:21:22 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A323B31AA9
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 08:21:21 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 0B92F22A6F
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 09:21:21 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id E7DCb81m0AvW for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 09:21:20 +0100 (CET)
Received: from [10.0.0.1] (unknown [101.174.30.179])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id BCE4B20501
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 09:21:19 +0100 (CET)
Subject: Re: Proxy_Util needs another export.
To: dev@httpd.apache.org
References: <56AD4E6D.2010208@gknw.net> <56B3EB82.60303@kippdata.de>
From: NormW <normw@gknw.net>
Message-ID: <56B45B74.9050301@gknw.net>
Date: Fri, 5 Feb 2016 19:21:08 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B3EB82.60303@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/E Rainer
Will test in next 10 minutes or so... The AP_PROXY_DECLARE ones are 
doable by build/make_nw_export.awk - proxy_* ones I think are trickier. 
But will advise in < 10 mins.
Norm

On 5/02/2016 11:23 AM, Rainer Jung wrote:
> Hi Norm,
>
> Am 31.01.2016 um 00:59 schrieb NormW:
>> G'Day,
>> Recent changes to mod_proxy_[connect/wstunnel] prompt another export
>> from proxy_util. Wouldn't an awk script simplify symbol extraction from
>> proxy_util and obviate the need for tweaking manual lists?
>
> I added support for proxy to the already existing awk script in trunk.
>
> Any chance you can try building trunk using those changes, so I can
> propose for backport?
>
> The changes were:
>
> - r1728569: add some missing symbols to the old style makefile
> - r1728572: add PROXY_DECLARE_DATA
> - r1728573: add support for proxy to build/make_nw_export.awk
> - r1728574: use the awk script instead of the hand written list
>
> Regards,
>
> Rainer
>


From dev-return-85455-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb  5 08:44:21 2016
Return-Path: <dev-return-85455-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 82A711821B
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Feb 2016 08:44:21 +0000 (UTC)
Received: (qmail 98341 invoked by uid 500); 5 Feb 2016 08:44:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98268 invoked by uid 500); 5 Feb 2016 08:44:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98251 invoked by uid 99); 5 Feb 2016 08:44:20 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Feb 2016 08:44:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 3D39E1A06AF
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 08:44:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id o9cIYYA9xrI2 for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 08:44:19 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 6C12E439ED
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 08:44:19 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id B2AE022A83
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 09:44:17 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1fgj5CYyyW7M for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 09:44:17 +0100 (CET)
Received: from [10.0.0.1] (unknown [101.174.30.179])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id AA54A229DB
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 09:44:16 +0100 (CET)
Subject: Re: Proxy_Util needs another export.
To: dev@httpd.apache.org
References: <56AD4E6D.2010208@gknw.net> <56B3EB82.60303@kippdata.de>
From: NormW <normw@gknw.net>
Message-ID: <56B460DF.40405@gknw.net>
Date: Fri, 5 Feb 2016 19:44:15 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B3EB82.60303@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/ Rainer,
In summary, the only /proxy/ nlm to build was serf. (The good news)
All other proxy items failed with:

> ### mwccnlm Compiler:
> #      In: mod_proxy.h
> #    From: mod_proxy_wstunnel.c
> # -----------------------------
> #      95:  PROXY_DECLARE_DATA extern proxy_hcmethods_t proxy_hcmethods[];
> #   Error:                     ^^^^^^
> #   declaration syntax error
> #   Too many errors printed, aborting program

This may be due to a limitation of the compiler due to the version of C 
that is supported by it or some other issue with the macro expansion.
Under the default c-flags the compiler will abort on the first error, 
other issues MAY be lurking further thru the compile process.
Norm

On 5/02/2016 11:23 AM, Rainer Jung wrote:
> Hi Norm,
>
> Am 31.01.2016 um 00:59 schrieb NormW:
>> G'Day,
>> Recent changes to mod_proxy_[connect/wstunnel] prompt another export
>> from proxy_util. Wouldn't an awk script simplify symbol extraction from
>> proxy_util and obviate the need for tweaking manual lists?
>
> I added support for proxy to the already existing awk script in trunk.
>
> Any chance you can try building trunk using those changes, so I can
> propose for backport?
>
> The changes were:
>
> - r1728569: add some missing symbols to the old style makefile
> - r1728572: add PROXY_DECLARE_DATA
> - r1728573: add support for proxy to build/make_nw_export.awk
> - r1728574: use the awk script instead of the hand written list
>
> Regards,
>
> Rainer



From dev-return-85456-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb  5 11:15:19 2016
Return-Path: <dev-return-85456-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6282A187C6
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Feb 2016 11:15:19 +0000 (UTC)
Received: (qmail 54003 invoked by uid 500); 5 Feb 2016 11:15:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53936 invoked by uid 500); 5 Feb 2016 11:15:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53926 invoked by uid 99); 5 Feb 2016 11:15:09 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Feb 2016 11:15:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 05A701A0676
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 11:15:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id bMm-57wP7CpD for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 11:15:07 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A5DC331AF7
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 11:15:06 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id BCEB020581
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 12:14:59 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ntUA06FjaFew for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 12:14:59 +0100 (CET)
Received: from [10.0.0.1] (unknown [101.174.30.179])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 9C0FB203E5
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 12:14:58 +0100 (CET)
Subject: Re: Proxy_Util needs another export.
To: dev@httpd.apache.org
References: <56AD4E6D.2010208@gknw.net> <56B3EB82.60303@kippdata.de>
From: NormW <normw@gknw.net>
Message-ID: <56B48430.9070607@gknw.net>
Date: Fri, 5 Feb 2016 22:14:56 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B3EB82.60303@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/E 9.51pm in Oz
Updated http-trunk (last mod_proxy.h by Yann) and now get the following:

> Building D:/Projects/svn/httpd-trunk/modules/proxy
> Calling NWGNUproxy
> GEN  obj_release/proxy_cc.opt
> CC   mod_proxy.c
> CC   proxy_util.c
> CC   ../arch/netware/libprews.c
> GEN  obj_release/proxy_link.opt
> LINK obj_release/proxy.nlm
> ### mwldnlm Linker Error:
> #   Undefined symbol: ap_proxy_connect_uds in
> #   Export list
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_hook_create_req in
> #   Export list
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_hook_detach_backend in
> #   Export list
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_hook_fixups in
> #   Export list
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_hook_get_create_req in
> #   Export list
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_hook_get_detach_backend in
> #   Export list
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_hook_get_fixups in
> #   Export list
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_hook_get_request_status in
> #   Export list
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_hook_request_status in
> #   Export list
>
> Errors caused tool to abort.
The error 'Export list says it is in the .imp file to be exported, but 
the symbol can't be found. In proxy_util.c this function is preceeded by:
> #if APR_HAVE_SYS_UN_H
> /* TODO: In APR 2.x: Extend apr_sockaddr_t to possibly be a path !!! */
> PROXY_DECLARE(apr_status_t) ap_proxy_connect_uds(apr_socket_t *sock,
>                                                  const char *uds_path,
>                                                  apr_pool_t *p)
> {
In NetWare's case APR_HAVE_SYS_UN_H is 0. The major use of sys/un.h is 
(AFAIK) defines for (IIRC) Unix sockets, which NetWare never got, but a 
very abbreviated sys/un.h does exist - Novell never got around to 
supporting all the features, so it's disabled in APR.

The proxy_* symbols not found are (IIRC) due to assumptions made in the 
awk script that are needed to work for the server proper (ie if one 
symbol is found assume others also present), but that assumption doesn't 
work in proxy....

On 5/02/2016 11:23 AM, Rainer Jung wrote:
> Hi Norm,
>
> Am 31.01.2016 um 00:59 schrieb NormW:
>> G'Day,
>> Recent changes to mod_proxy_[connect/wstunnel] prompt another export
>> from proxy_util. Wouldn't an awk script simplify symbol extraction from
>> proxy_util and obviate the need for tweaking manual lists?
>
> I added support for proxy to the already existing awk script in trunk.
>
> Any chance you can try building trunk using those changes, so I can
> propose for backport?
>
> The changes were:
>
> - r1728569: add some missing symbols to the old style makefile
> - r1728572: add PROXY_DECLARE_DATA
> - r1728573: add support for proxy to build/make_nw_export.awk
> - r1728574: use the awk script instead of the hand written list
>
> Regards,
>
> Rainer
>


From dev-return-85457-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb  5 12:36:25 2016
Return-Path: <dev-return-85457-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5868118A6A
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Feb 2016 12:36:25 +0000 (UTC)
Received: (qmail 76104 invoked by uid 500); 5 Feb 2016 12:35:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76030 invoked by uid 500); 5 Feb 2016 12:35:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76020 invoked by uid 99); 5 Feb 2016 12:35:50 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Feb 2016 12:35:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 20D4AC258D
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 12:35:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.648
X-Spam-Level:
X-Spam-Status: No, score=-2.648 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.347,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ngDNj_gWscHF for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 12:35:48 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 18164207E1
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 12:35:47 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u15CZdpS001442
	for <dev@httpd.apache.org>; Fri, 5 Feb 2016 13:35:40 +0100 (CET)
Subject: Re: Proxy_Util needs another export.
To: dev@httpd.apache.org
References: <56AD4E6D.2010208@gknw.net> <56B3EB82.60303@kippdata.de>
 <56B48430.9070607@gknw.net>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56B49718.3030808@kippdata.de>
Date: Fri, 5 Feb 2016 13:35:36 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B48430.9070607@gknw.net>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 05.02.2016 um 12:14 schrieb NormW:
> G/E 9.51pm in Oz
> Updated http-trunk (last mod_proxy.h by Yann) and now get the following:
>
>> Building D:/Projects/svn/httpd-trunk/modules/proxy
>> Calling NWGNUproxy
>> GEN  obj_release/proxy_cc.opt
>> CC   mod_proxy.c
>> CC   proxy_util.c
>> CC   ../arch/netware/libprews.c
>> GEN  obj_release/proxy_link.opt
>> LINK obj_release/proxy.nlm
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: ap_proxy_connect_uds in
>> #   Export list
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: proxy_hook_create_req in
>> #   Export list
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: proxy_hook_detach_backend in
>> #   Export list
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: proxy_hook_fixups in
>> #   Export list
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: proxy_hook_get_create_req in
>> #   Export list
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: proxy_hook_get_detach_backend in
>> #   Export list
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: proxy_hook_get_fixups in
>> #   Export list
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: proxy_hook_get_request_status in
>> #   Export list
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: proxy_hook_request_status in
>> #   Export list
>>
>> Errors caused tool to abort.
> The error 'Export list says it is in the .imp file to be exported, but
> the symbol can't be found. In proxy_util.c this function is preceeded by:
>> #if APR_HAVE_SYS_UN_H
>> /* TODO: In APR 2.x: Extend apr_sockaddr_t to possibly be a path !!! */
>> PROXY_DECLARE(apr_status_t) ap_proxy_connect_uds(apr_socket_t *sock,
>>                                                  const char *uds_path,
>>                                                  apr_pool_t *p)
>> {
> In NetWare's case APR_HAVE_SYS_UN_H is 0. The major use of sys/un.h is
> (AFAIK) defines for (IIRC) Unix sockets, which NetWare never got, but a
> very abbreviated sys/un.h does exist - Novell never got around to
> supporting all the features, so it's disabled in APR.

OK, understood. In this case I found it best to ad a stub impl for 
platforms which don't support sys/un.h.

> The proxy_* symbols not found are (IIRC) due to assumptions made in the
> awk script that are needed to work for the server proper (ie if one
> symbol is found assume others also present), but that assumption doesn't
> work in proxy....

I found a difference between the proxy hooks for which all three 
symbols, proxy_hook_xxx, proxy_hook_get_xxx and proxy_run_xxx exist, and 
those which do only have the run symbol. I then added a marker macro to 
mod_proxy.h to allow the awk script to distinguish between them.

Can you please try again? I'm confident we won't have many more 
iterations in front of us.

Regards,

Rainer


From dev-return-85458-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb  5 12:47:15 2016
Return-Path: <dev-return-85458-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4C9C318AC3
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Feb 2016 12:47:15 +0000 (UTC)
Received: (qmail 99953 invoked by uid 500); 5 Feb 2016 12:46:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99851 invoked by uid 500); 5 Feb 2016 12:46:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99803 invoked by uid 99); 5 Feb 2016 12:46:38 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Feb 2016 12:46:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 501871805D1
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 12:46:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id H_v7vba3k7Ul for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 12:46:37 +0000 (UTC)
Received: from mail-qg0-f49.google.com (mail-qg0-f49.google.com [209.85.192.49])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2B61A43B41
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 12:46:37 +0000 (UTC)
Received: by mail-qg0-f49.google.com with SMTP id u30so66197356qge.1
        for <dev@httpd.apache.org>; Fri, 05 Feb 2016 04:46:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=PkRtVPqE/KYb8Kz/rhe3uDfnyqU0WGLt6PivfzbyNKk=;
        b=cWpkL00ovWFECyPPQskYLTrQXMhPOjIQNqZIU2sVMkknjhh/0a0Njk1v7qJjNUQ74v
         XRJbyJZrGJFiJJ3Bp92RPmtL1PW1ia241btHLsFGm1dbZJkjtfzR/P18knA3d3jSSDZe
         G+L4AM8SeAqY2Aa32/oh2C6c5V+dtWDcyS+bJsQ17u6+CIEN29NC0I0COKjcUumq5P7h
         uYs2f3hdS/lfhWtql5c9/OuPV1W4SklaKt8PJpw5fmTfT6AQtfi6bMY/NIwgovUqYkoE
         udAswf/kB1KPrOE8wNiUDSg8CGmuNykrByYZ+Ko5TuxGzB056gRSEkdJnD36Doo136Yk
         d9Vw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=PkRtVPqE/KYb8Kz/rhe3uDfnyqU0WGLt6PivfzbyNKk=;
        b=bmsYBWy813Mx4r7Q/JQcedoth7pjxg0Wadjo/ps4+sIeZuRrKCAH6BgrUAZUOmp0ng
         gsA5bbcaa6UYCFsC5AbM3VH6eWq6/PSxDrz1aTXXCqnItQsqXefjeXeqDdv0hYrGdQe+
         tVpjkgTfIuKewhz1lOgsXT4TS6uTH+BwvEHjT3j4Q+WwBiMk8Eddleb6T1jBumHOYfNJ
         FtrhklXp/jI5rtDFgvdMIMsxyHB8sVm+HEEsyyEn6rj4tfibtb/6sbhzwz1OPD8RPmWz
         aDx15gEfg+5st0e6zXQM2tqn26sa2rdeGkNuhpmTpEcknbpBihFKCiiPb6ze54UCzDfz
         JzKw==
X-Gm-Message-State: AG10YOT2xzvGfkP4HQlxOhlMXknMleRFmECUGRROP/Cm/6C5ayP6okgLe+yWmGdi7c06C6+1fhFulniMwewByg==
MIME-Version: 1.0
X-Received: by 10.140.172.213 with SMTP id s204mr16907814qhs.97.1454676391040;
 Fri, 05 Feb 2016 04:46:31 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Fri, 5 Feb 2016 04:46:31 -0800 (PST)
In-Reply-To: <20160205123133.E07C43A0FFE@svn01-us-west.apache.org>
References: <20160205123133.E07C43A0FFE@svn01-us-west.apache.org>
Date: Fri, 5 Feb 2016 13:46:31 +0100
Message-ID: <CAKQ1sVMetqKuBdS-DNY8Vu0934759cWYwgJOUdEsV=c8uO_c7w@mail.gmail.com>
Subject: Re: svn commit: r1728656 - in /httpd/httpd/trunk: build/make_nw_export.awk
 modules/proxy/mod_proxy.h
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Feb 5, 2016 at 1:31 PM,  <rjung@apache.org> wrote:
> Author: rjung
> Date: Fri Feb  5 12:31:33 2016
> New Revision: 1728656
>
[]
>
> Modified: httpd/httpd/trunk/modules/proxy/mod_proxy.h
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy.h?rev=1728656&r1=1728655&r2=1728656&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/proxy/mod_proxy.h (original)
> +++ httpd/httpd/trunk/modules/proxy/mod_proxy.h Fri Feb  5 12:31:33 2016
> @@ -558,6 +558,11 @@ struct proxy_balancer_method {
>  #define PROXY_DECLARE_DATA             __declspec(dllimport)
>  #endif
>
> +/* A non-functional marker tag to inform build/make_nw_export.awk
> + * that this hook is not linked in the module.
> + */
> +#define PROXY_HOOK_NON_LINKED
> +

Maybe :
#define PROXY_DECLARE_EXTERNAL_HOOK APR_DECLARE_EXTERNAL_HOOK
and then use it below (and with awk)?

That could shorten DECLARE lines a bit and save indentation..

>
>  /* These 2 are in mod_proxy.c */
>  PROXY_DECLARE_DATA extern proxy_hcmethods_t proxy_hcmethods[];
> @@ -572,11 +577,16 @@ APR_DECLARE_OPTIONAL_FN(const char *, se
>                           const char *, const char *, void *));
>
>
> -APR_DECLARE_EXTERNAL_HOOK(proxy, PROXY, int, scheme_handler, (request_rec *r,
> -                          proxy_worker *worker, proxy_server_conf *conf, char *url,
> -                          const char *proxyhost, apr_port_t proxyport))
> -APR_DECLARE_EXTERNAL_HOOK(proxy, PROXY, int, canon_handler, (request_rec *r,
> -                          char *url))
> +PROXY_HOOK_NON_LINKED APR_DECLARE_EXTERNAL_HOOK(proxy, PROXY, int, scheme_handler,
> +                                               (request_rec *r,
> +                                                proxy_worker *worker,
> +                                                proxy_server_conf *conf,
> +                                                char *url,
> +                                                const char *proxyhost,
> +                                                apr_port_t proxyport))
> +PROXY_HOOK_NON_LINKED APR_DECLARE_EXTERNAL_HOOK(proxy, PROXY, int, canon_handler,
> +                                                (request_rec *r,
> +                                                 char *url))
>
>  APR_DECLARE_EXTERNAL_HOOK(proxy, PROXY, int, create_req, (request_rec *r, request_rec *pr))
>  APR_DECLARE_EXTERNAL_HOOK(proxy, PROXY, int, fixups, (request_rec *r))
> @@ -598,25 +608,30 @@ APR_DECLARE_EXTERNAL_HOOK(proxy, PROXY,
>   * and then the scheme_handler is called.
>   *
>   */
> -APR_DECLARE_EXTERNAL_HOOK(proxy, PROXY, int, pre_request, (proxy_worker **worker,
> -                          proxy_balancer **balancer,
> -                          request_rec *r,
> -                          proxy_server_conf *conf, char **url))
> +PROXY_HOOK_NON_LINKED APR_DECLARE_EXTERNAL_HOOK(proxy, PROXY, int, pre_request,
> +                                                (proxy_worker **worker,
> +                                                 proxy_balancer **balancer,
> +                                                 request_rec *r,
> +                                                 proxy_server_conf *conf,
> +                                                 char **url))
>  /**
>   * post request hook.
>   * It is called after request for updating runtime balancer status.
>   */
> -APR_DECLARE_EXTERNAL_HOOK(proxy, PROXY, int, post_request, (proxy_worker *worker,
> -                          proxy_balancer *balancer, request_rec *r,
> -                          proxy_server_conf *conf))
> +PROXY_HOOK_NON_LINKED APR_DECLARE_EXTERNAL_HOOK(proxy, PROXY, int, post_request,
> +                                                (proxy_worker *worker,
> +                                                 proxy_balancer *balancer,
> +                                                 request_rec *r,
> +                                                 proxy_server_conf *conf))
>
>  /**
>   * request status hook
>   * It is called after all proxy processing has been done.  This gives other
>   * modules a chance to create default content on failure, for example
>   */
> -APR_DECLARE_EXTERNAL_HOOK(proxy, PROXY, int, request_status,
> -                          (int *status, request_rec *r))
> +PROXY_HOOK_NON_LINKED APR_DECLARE_EXTERNAL_HOOK(proxy, PROXY, int, request_status,
> +                                                (int *status,
> +                                                 request_rec *r))
>
>  /* proxy_util.c */
>
>
>

From dev-return-85459-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb  5 13:04:07 2016
Return-Path: <dev-return-85459-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 394DD18B48
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Feb 2016 13:04:07 +0000 (UTC)
Received: (qmail 39564 invoked by uid 500); 5 Feb 2016 13:04:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39502 invoked by uid 500); 5 Feb 2016 13:04:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39492 invoked by uid 99); 5 Feb 2016 13:04:06 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Feb 2016 13:04:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5804218053D
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 13:04:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.73
X-Spam-Level:
X-Spam-Status: No, score=-2.73 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.429,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id HKbhtYf1_vMH for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 13:04:05 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 33FC4439ED
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 13:04:04 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u15D421U002077
	for <dev@httpd.apache.org>; Fri, 5 Feb 2016 14:04:03 +0100 (CET)
Subject: Re: svn commit: r1728656 - in /httpd/httpd/trunk:
 build/make_nw_export.awk modules/proxy/mod_proxy.h
To: dev@httpd.apache.org
References: <20160205123133.E07C43A0FFE@svn01-us-west.apache.org>
 <CAKQ1sVMetqKuBdS-DNY8Vu0934759cWYwgJOUdEsV=c8uO_c7w@mail.gmail.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56B49DBF.2080701@kippdata.de>
Date: Fri, 5 Feb 2016 14:03:59 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVMetqKuBdS-DNY8Vu0934759cWYwgJOUdEsV=c8uO_c7w@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 05.02.2016 um 13:46 schrieb Yann Ylavic:
> On Fri, Feb 5, 2016 at 1:31 PM,  <rjung@apache.org> wrote:
>> Author: rjung
>> Date: Fri Feb  5 12:31:33 2016
>> New Revision: 1728656
>>
> []
>>
>> Modified: httpd/httpd/trunk/modules/proxy/mod_proxy.h
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy.h?rev=1728656&r1=1728655&r2=1728656&view=diff
>> ==============================================================================
>> --- httpd/httpd/trunk/modules/proxy/mod_proxy.h (original)
>> +++ httpd/httpd/trunk/modules/proxy/mod_proxy.h Fri Feb  5 12:31:33 2016
>> @@ -558,6 +558,11 @@ struct proxy_balancer_method {
>>   #define PROXY_DECLARE_DATA             __declspec(dllimport)
>>   #endif
>>
>> +/* A non-functional marker tag to inform build/make_nw_export.awk
>> + * that this hook is not linked in the module.
>> + */
>> +#define PROXY_HOOK_NON_LINKED
>> +
>
> Maybe :
> #define PROXY_DECLARE_EXTERNAL_HOOK APR_DECLARE_EXTERNAL_HOOK
> and then use it below (and with awk)?
>
> That could shorten DECLARE lines a bit and save indentation..

OK, good idea, thanks.

Regards,

Rainer


From dev-return-85460-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb  5 14:04:10 2016
Return-Path: <dev-return-85460-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C831618CF6
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Feb 2016 14:04:10 +0000 (UTC)
Received: (qmail 57454 invoked by uid 500); 5 Feb 2016 14:03:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57377 invoked by uid 500); 5 Feb 2016 14:03:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57367 invoked by uid 99); 5 Feb 2016 14:03:54 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Feb 2016 14:03:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id D66F6C25BE
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 14:03:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.652
X-Spam-Level: **
X-Spam-Status: No, score=2.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, KAM_BADIPHTTP=2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id rRW3Qh1X7r6t for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 14:03:51 +0000 (UTC)
Received: from resqmta-po-07v.sys.comcast.net (resqmta-po-07v.sys.comcast.net [96.114.154.166])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id BE12431AA9
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 14:03:50 +0000 (UTC)
Received: from resomta-po-09v.sys.comcast.net ([96.114.154.233])
	by resqmta-po-07v.sys.comcast.net with comcast
	id Ee301s00352QWKC01e3j3z; Fri, 05 Feb 2016 14:03:43 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-09v.sys.comcast.net with comcast
	id Ee1h1s00U2U0RYt01e1iQz; Fri, 05 Feb 2016 14:01:43 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: collaboration request - apache server automation testing with swat tool
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAL7UUk9Mc=MUVaQXPvc+mcaoik+=pFW7EW_ccTXbBmo9W0JB1Q@mail.gmail.com>
Date: Fri, 5 Feb 2016 09:01:41 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <3A242214-802F-4DAE-A124-7FEB0B23D54D@jaguNET.com>
References: <CAL7UUk-qyES+aMMSN6aBGi1rb=K3Q+pif4FbU__Lqkku7f2t0w@mail.gmail.com> <CACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com> <CAL7UUk_z-CgL1255w8ScgUW+oFtpuybvzoK_kQykbQNv025N_g@mail.gmail.com> <CACsi251twJxjTjEbjEnFuE2x49KX-BrVi=MSAs3-7L=ypaKQ7Q@mail.gmail.com> <CAL7UUk_1rvLqgNsOMKN-1GxeBWXb2Q3XVAjbbn4+1th9GdAOcw@mail.gmail.com> <CAL7UUk9Mc=MUVaQXPvc+mcaoik+=pFW7EW_ccTXbBmo9W0JB1Q@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1454681023;
	bh=+ytbUaEKYk/ryJtyo5i32bjlG0SxYULSf227hzIT608=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=WvRyWt7OGNktOvkv+8IP02xbHA3MwwcwhjwSRPxOc2Llsu6goSGDYCZa5EfIltiON
	 vSqivFQjLjemCwchYhc3HyXkrHbj6mGkPQaHm7FC2Mv46QPa8MgstfiZ80f5KpZoVi
	 aOl2nC4qAAa8DfILVXVrJdAZBCpKs4m6l1P0zGCkynfHhYT15pj4ghTvh89+ZALfdT
	 JEmrO2Qmj9kYgM5AEKPAUDC3xd26s71RMDlThnuzdfzzE/EQYr+ghQuu4cyAyl5Zs8
	 edRL4nXPxiIBe8nA42p3QqJjM8Ak41HOGNqbtgN/TSFBuYK4kswExh8hSrAS9D/LMF
	 2eqYBAXuMOCvQ==

Personally, I like the idea of having another framework;
the current one is OK but somewhat "painful" to update.

I wonder how possible it would be to transcode the old tests
to Swat? We could then provide for 2 testing frameworks, one
developed by the ASF and the other external and 3rd party.


> On Feb 1, 2016, at 5:23 AM, Alexey Melezhik <melezhik@gmail.com> =
wrote:
>=20
> Here the list of existed issues I was able to automate tests for:
>=20
> vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ ls -1 | grep -P =
'\d'
> 44221
> 46751
> 58789
> 58828
> 58854
>=20
>=20
> I have informed developers at https://bz.apache.org/bugzilla/ about
> these, so they rely upon them. Or you have some pre-release testing,
> so run all of these in a whole chunk?
>=20
> Regards
>=20
> Alexey
>=20
> PS chaining issues / tests listing  as always -
> https://github.com/melezhik/apache-swat
>=20
> PS2 it'd be could to verify tests as well against "bleeding edge"
> apache version gets installed from SCM, but I don't know how to do
> this.
> Currently I use http://httpd.apache.org/download.cgi ( last stable =
release )
>=20
>=20
>=20
> 2016-01-30 21:36 GMT+03:00 Alexey Melezhik <melezhik@gmail.com>:
>> Hi Bill!
>>=20
>> I have started to assemble swat tests  for apache2 issues coming from
>> https://bz.apache.org/bugzilla
>>=20
>> And this the first one - =
https://bz.apache.org/bugzilla/show_bug.cgi?id=3D44221 ,
>>=20
>> Test suite is failed for the moment :
>>=20
>>=20
>> vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ swat -t 44221
>> /home/vagrant/.swat/.cache/384/prove/44221/foo.baz/00.GET.t ...
>> ok 1 - GET 127.0.0.1/44221/foo.baz succeeded
>> # http headers saved to =
/home/vagrant/.swat/.cache/384/prove/52jLAo76YZ.hdr
>> # body saved to /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ
>> ok 2 - output match '200 OK'
>> 1..2
>> ok
>> /home/vagrant/.swat/.cache/384/prove/44221/FOO.bar/00.GET.t ...
>> ok 1 - GET 127.0.0.1/44221/FOO.bar succeeded
>> # http headers saved to =
/home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe.hdr
>> # body saved to /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe
>> ok 2 - output match '200 OK'
>> ok 3 - output match /Location: \S+/
>> ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
>> 1..4
>> ok
>> /home/vagrant/.swat/.cache/384/prove/44221/foo.BAR/00.GET.t ...
>> ok 1 - GET 127.0.0.1/44221/foo.BAR succeeded
>> # http headers saved to =
/home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ.hdr
>> # body saved to /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ
>> ok 2 - output match '200 OK'
>> ok 3 - output match /Location: \S+/
>> ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
>> 1..4
>> ok
>> /home/vagrant/.swat/.cache/384/prove/44221/foo.bar/00.GET.t ...
>> ok 1 - GET 127.0.0.1/44221/foo.bar succeeded
>> # http headers saved to =
/home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv.hdr
>> # body saved to /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv
>> ok 2 - output match '200 OK'
>> 1..2
>> ok
>> /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t ..
>> ok 1 - GET 127.0.0.1/44221/foo.html succeeded
>> # http headers saved to =
/home/vagrant/.swat/.cache/384/prove/tW2L511eym.hdr
>> # body saved to /home/vagrant/.swat/.cache/384/prove/tW2L511eym
>> ok 2 - output match /HTTP\/(\S+) (\d+) \S+/
>> not ok 3 - 'HTTP/1.1 300 Multiple Choices' match /404 /
>>=20
>> #   Failed test ''HTTP/1.1 300 Multiple Choices' match /404 /'
>> #   at /usr/local/share/perl/5.20.2/swat.pm line 218.
>> not ok 4 - output match 'Not Found'
>>=20
>> #   Failed test 'output match 'Not Found''
>> #   at /usr/local/share/perl/5.20.2/swat.pm line 218.
>> 1..4
>> # Looks like you failed 2 tests of 4.
>> Dubious, test returned 2 (wstat 512, 0x200)
>> Failed 2/4 subtests
>>=20
>> Test Summary Report
>> -------------------
>> /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t (Wstat:
>> 512 Tests: 4 Failed: 2)
>>  Failed tests:  3-4
>>  Non-zero exit status: 2
>> Files=3D5, Tests=3D16,  0 wallclock secs ( 0.03 usr  0.00 sys +  0.27 =
cusr
>> 0.00 csys =3D  0.30 CPU)
>> Result: FAIL
>>=20
>> ...
>>=20
>> Ok, this is just the beginning ;-))) , watch soon updates at -
>> https://github.com/melezhik/apache-swat
>>=20
>> 2016-01-29 20:44 GMT+03:00 William A Rowe Jr <wrowe@rowe-clan.net>:
>>> On Fri, Jan 29, 2016 at 6:35 AM, Alexey Melezhik =
<melezhik@gmail.com> wrote:
>>>>=20
>>>> Hi Bill!
>>>>=20
>>>> Any news? ( Please see my previous reply ...)
>>>> Intr
>>>=20
>>>=20
>>> Intrigued :)  But my responses will be delayed, I personally
>>> won't have time to look further myself until other backlogged
>>> commitments to httpd are caught up some more.
>>>=20
>>> Be aware many of us have only a few hours to participate in the
>>> httpd project itself, so it will take several days or more to gather
>>> feedback on your interest and perhaps a champion to drive such
>>> an effort if it is actively driven from this side.  Of course that
>>> should not stop you from assembling some ideas at the vcs of
>>> your choice, and sharing a link for those who want to look at an
>>> early draft of such an effort!
>>>=20
>>> Cheers,
>>>=20
>>> Bill


From dev-return-85461-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb  5 14:08:32 2016
Return-Path: <dev-return-85461-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DC7EA18D1E
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Feb 2016 14:08:31 +0000 (UTC)
Received: (qmail 67234 invoked by uid 500); 5 Feb 2016 14:08:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67161 invoked by uid 500); 5 Feb 2016 14:08:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67123 invoked by uid 99); 5 Feb 2016 14:08:27 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Feb 2016 14:08:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 62E101A03D3
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 14:08:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_BADIPHTTP=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id tJa4qeWwPgUE for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 14:08:23 +0000 (UTC)
Received: from mail-wm0-f45.google.com (mail-wm0-f45.google.com [74.125.82.45])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id EC6762304B
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 14:08:22 +0000 (UTC)
Received: by mail-wm0-f45.google.com with SMTP id 128so72167136wmz.1
        for <dev@httpd.apache.org>; Fri, 05 Feb 2016 06:08:22 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=fB76jqLB6ALc85b1nRKWYv6gFg9pAPadYeuzEwBFY9Q=;
        b=ZXAQgudYcnfByYAFsAgQccECG2fJaIwrKUG8GGB4GhEpxmpCzeTmWZFhW8BvG7tbR5
         EIxRgbkhLfzDgrLhdie6Xv8mjmCiMt5fy29QVoTx17bgUwbXItiQyo0NcNDsmvQcyTby
         vSeFPwCghVHBCbLS8sjoON7AG7wpchnOuuKLGeLmwjHJNjWzpb3Yk0Wh8HU8ikMP77iW
         QAr3l0RIXyEBYr/MHXQXLKxpRP91cqesO0O+KVHXlAbMRMLJpxFPXN74eapDOfZ0dB64
         a/BDEKhvieb820Vx02Iet10WJm8Lt20+2wuMHeRPyIOal6JzOhX7zI004hBF1ZKsDR1b
         1KXg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=fB76jqLB6ALc85b1nRKWYv6gFg9pAPadYeuzEwBFY9Q=;
        b=J08P1KgTTP+EC5Cx/IwBUAGArXBfmdg6wWGcU/NtCxLTxewZfAU+qu1Abh6Nqke66e
         YCcXjqhrzIt5Y+7uOdJvPUSGQqDINRaig/WQrcf+LvxXKkAcBH9ArqzuMuHe2sqBaRpq
         50xjyjyYclai8RD4Vlja49/RLtXXXQiq25SwX+HnyZZ07Z52f7l6AB8SoEfjQl7wttuv
         cFcYgfFnHF1PPvj7xUYlD0FybRRsEI065o1zLHjBHBZ+UgHU33N3fb8ijy77WxGgtx/x
         iWRu8OADKGhWX6cxafZrF8M/DAIaKI0ht9F2vKQxrolyuPV1alAVtHB/BUG3IdAOETus
         dZCQ==
X-Gm-Message-State: AG10YOQ9zwaCzsAc4/QNj06aqvbh12nj7Yqc5SfW0vn4YqeUIHWu1TMf6dqXxXe6C7Hjk3EXVg0X7UPVj8z/mQ==
MIME-Version: 1.0
X-Received: by 10.28.6.213 with SMTP id 204mr16384246wmg.47.1454681302678;
 Fri, 05 Feb 2016 06:08:22 -0800 (PST)
Received: by 10.194.37.198 with HTTP; Fri, 5 Feb 2016 06:08:22 -0800 (PST)
In-Reply-To: <3A242214-802F-4DAE-A124-7FEB0B23D54D@jaguNET.com>
References: <CAL7UUk-qyES+aMMSN6aBGi1rb=K3Q+pif4FbU__Lqkku7f2t0w@mail.gmail.com>
	<CACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com>
	<CAL7UUk_z-CgL1255w8ScgUW+oFtpuybvzoK_kQykbQNv025N_g@mail.gmail.com>
	<CACsi251twJxjTjEbjEnFuE2x49KX-BrVi=MSAs3-7L=ypaKQ7Q@mail.gmail.com>
	<CAL7UUk_1rvLqgNsOMKN-1GxeBWXb2Q3XVAjbbn4+1th9GdAOcw@mail.gmail.com>
	<CAL7UUk9Mc=MUVaQXPvc+mcaoik+=pFW7EW_ccTXbBmo9W0JB1Q@mail.gmail.com>
	<3A242214-802F-4DAE-A124-7FEB0B23D54D@jaguNET.com>
Date: Fri, 5 Feb 2016 17:08:22 +0300
Message-ID: <CAL7UUk_nycXky=RMTSEBA5cZr7JeezySnZdxY18a_7h9jxKiRw@mail.gmail.com>
Subject: Re: collaboration request - apache server automation testing with
 swat tool
From: Alexey Melezhik <melezhik@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

2016-02-05 17:01 GMT+03:00 Jim Jagielski <jim@jagunet.com>:
> Personally, I like the idea of having another framework;
> the current one is OK but somewhat "painful" to update.

Hi! What kind of possible issues you here ? when saying "painful" to
update, please explain.
Thanks.

Also , please consider this link - https://github.com/melezhik/apache-swat and
this post - http://mail-archives.apache.org/mod_mbox/httpd-dev/201602.mbox/%3CCAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com%3E
as latest version of this idea ....





>
> I wonder how possible it would be to transcode the old tests
> to Swat? We could then provide for 2 testing frameworks, one
> developed by the ASF and the other external and 3rd party.
>
>
>> On Feb 1, 2016, at 5:23 AM, Alexey Melezhik <melezhik@gmail.com> wrote:
>>
>> Here the list of existed issues I was able to automate tests for:
>>
>> vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ ls -1 | grep -P '\d'
>> 44221
>> 46751
>> 58789
>> 58828
>> 58854
>>
>>
>> I have informed developers at https://bz.apache.org/bugzilla/ about
>> these, so they rely upon them. Or you have some pre-release testing,
>> so run all of these in a whole chunk?
>>
>> Regards
>>
>> Alexey
>>
>> PS chaining issues / tests listing  as always -
>> https://github.com/melezhik/apache-swat
>>
>> PS2 it'd be could to verify tests as well against "bleeding edge"
>> apache version gets installed from SCM, but I don't know how to do
>> this.
>> Currently I use http://httpd.apache.org/download.cgi ( last stable release )
>>
>>
>>
>> 2016-01-30 21:36 GMT+03:00 Alexey Melezhik <melezhik@gmail.com>:
>>> Hi Bill!
>>>
>>> I have started to assemble swat tests  for apache2 issues coming from
>>> https://bz.apache.org/bugzilla
>>>
>>> And this the first one - https://bz.apache.org/bugzilla/show_bug.cgi?id=44221 ,
>>>
>>> Test suite is failed for the moment :
>>>
>>>
>>> vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ swat -t 44221
>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.baz/00.GET.t ...
>>> ok 1 - GET 127.0.0.1/44221/foo.baz succeeded
>>> # http headers saved to /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ.hdr
>>> # body saved to /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ
>>> ok 2 - output match '200 OK'
>>> 1..2
>>> ok
>>> /home/vagrant/.swat/.cache/384/prove/44221/FOO.bar/00.GET.t ...
>>> ok 1 - GET 127.0.0.1/44221/FOO.bar succeeded
>>> # http headers saved to /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe.hdr
>>> # body saved to /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe
>>> ok 2 - output match '200 OK'
>>> ok 3 - output match /Location: \S+/
>>> ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
>>> 1..4
>>> ok
>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.BAR/00.GET.t ...
>>> ok 1 - GET 127.0.0.1/44221/foo.BAR succeeded
>>> # http headers saved to /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ.hdr
>>> # body saved to /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ
>>> ok 2 - output match '200 OK'
>>> ok 3 - output match /Location: \S+/
>>> ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
>>> 1..4
>>> ok
>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.bar/00.GET.t ...
>>> ok 1 - GET 127.0.0.1/44221/foo.bar succeeded
>>> # http headers saved to /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv.hdr
>>> # body saved to /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv
>>> ok 2 - output match '200 OK'
>>> 1..2
>>> ok
>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t ..
>>> ok 1 - GET 127.0.0.1/44221/foo.html succeeded
>>> # http headers saved to /home/vagrant/.swat/.cache/384/prove/tW2L511eym.hdr
>>> # body saved to /home/vagrant/.swat/.cache/384/prove/tW2L511eym
>>> ok 2 - output match /HTTP\/(\S+) (\d+) \S+/
>>> not ok 3 - 'HTTP/1.1 300 Multiple Choices' match /404 /
>>>
>>> #   Failed test ''HTTP/1.1 300 Multiple Choices' match /404 /'
>>> #   at /usr/local/share/perl/5.20.2/swat.pm line 218.
>>> not ok 4 - output match 'Not Found'
>>>
>>> #   Failed test 'output match 'Not Found''
>>> #   at /usr/local/share/perl/5.20.2/swat.pm line 218.
>>> 1..4
>>> # Looks like you failed 2 tests of 4.
>>> Dubious, test returned 2 (wstat 512, 0x200)
>>> Failed 2/4 subtests
>>>
>>> Test Summary Report
>>> -------------------
>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t (Wstat:
>>> 512 Tests: 4 Failed: 2)
>>>  Failed tests:  3-4
>>>  Non-zero exit status: 2
>>> Files=5, Tests=16,  0 wallclock secs ( 0.03 usr  0.00 sys +  0.27 cusr
>>> 0.00 csys =  0.30 CPU)
>>> Result: FAIL
>>>
>>> ...
>>>
>>> Ok, this is just the beginning ;-))) , watch soon updates at -
>>> https://github.com/melezhik/apache-swat
>>>
>>> 2016-01-29 20:44 GMT+03:00 William A Rowe Jr <wrowe@rowe-clan.net>:
>>>> On Fri, Jan 29, 2016 at 6:35 AM, Alexey Melezhik <melezhik@gmail.com> wrote:
>>>>>
>>>>> Hi Bill!
>>>>>
>>>>> Any news? ( Please see my previous reply ...)
>>>>> Intr
>>>>
>>>>
>>>> Intrigued :)  But my responses will be delayed, I personally
>>>> won't have time to look further myself until other backlogged
>>>> commitments to httpd are caught up some more.
>>>>
>>>> Be aware many of us have only a few hours to participate in the
>>>> httpd project itself, so it will take several days or more to gather
>>>> feedback on your interest and perhaps a champion to drive such
>>>> an effort if it is actively driven from this side.  Of course that
>>>> should not stop you from assembling some ideas at the vcs of
>>>> your choice, and sharing a link for those who want to look at an
>>>> early draft of such an effort!
>>>>
>>>> Cheers,
>>>>
>>>> Bill
>

From dev-return-85462-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb  5 14:26:56 2016
Return-Path: <dev-return-85462-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C5BEC18DEB
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Feb 2016 14:26:56 +0000 (UTC)
Received: (qmail 2205 invoked by uid 500); 5 Feb 2016 14:26:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2142 invoked by uid 500); 5 Feb 2016 14:26:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2132 invoked by uid 99); 5 Feb 2016 14:26:43 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Feb 2016 14:26:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id ED016C0DBD
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 14:26:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_BADIPHTTP=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id RycQw7Yk1u9q for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 14:26:41 +0000 (UTC)
Received: from mail-wm0-f47.google.com (mail-wm0-f47.google.com [74.125.82.47])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id CE04120D55
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 14:26:40 +0000 (UTC)
Received: by mail-wm0-f47.google.com with SMTP id g62so50335250wme.0
        for <dev@httpd.apache.org>; Fri, 05 Feb 2016 06:26:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=lsLtkFghKCKQ/NdUJm642JCTc0PEHgNXgXdpHTxwqMI=;
        b=tJ1gNRWDZM4AtW1Ik9EFXMTUr8KWcE0Loz/A3HLxEkviLpP2PmbStV91Qyvgq1c3w5
         BQiju5Eld1r3SRUodwAwsGGXQI2gwwM0zgidG1Dr/KwmmiFbW55fSZI5L5e2M2lKAoG/
         i1kV+LGa7YSdgL4kSHPxM73WJemTIQLyM1xxIyWjSFfKx64+WcMyunhjwUB3L1bJZu6/
         By/047GAocb1GTJ1Yoou52SzIDFi4d+JGWDYFHvfVxOjIT2tTdoGarKn5g5C337tf9s6
         GvQzLsv86SmsHQ0aNO45t2pwkCQ5I2Q8nkf5PnCVuMvBTLiS6zUKzNMDuenNI9/5JMKf
         oqfA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=lsLtkFghKCKQ/NdUJm642JCTc0PEHgNXgXdpHTxwqMI=;
        b=WY25XFa0YrOQ7VjbZqWT+08ZVZauZWpPaSi3FedXa6NCe3KRMvVzBT3iC2Q8iW1Dxj
         JV4CYnf7XZ7ErUTU8vtISyPN4S0SMR0mVTf9UvpduH6lirdDmJ+7PyVcNUy11DSFcySA
         AoIEPGElX28wpIkvgbKxqEeXJccIJnF+SWp6313ImlrJN5eu0GaBzkxITIaJ+q/quRV8
         ro37Vpvc5FpLIXZQo9X4hOKjQSrCk3Kw9TJITTT9WOFg+rWjKcGlkB8qELwlWOfw+HDR
         4zlxHpUzjeyFwctMSFKe1on+QWWzkEQ/vKMWnEQMbOARQN3YGClWbBActCPW0jvHq9Rg
         U6MA==
X-Gm-Message-State: AG10YOTqVa0O28Qr8q7+ET5GEdDMEPx5rF+7s9p7SqAQc+89MEulSfcLMUGUWrsZ2blyg/2rRBBTm6H2o/DUKw==
MIME-Version: 1.0
X-Received: by 10.28.138.69 with SMTP id m66mr39542936wmd.101.1454682399459;
 Fri, 05 Feb 2016 06:26:39 -0800 (PST)
Received: by 10.194.37.198 with HTTP; Fri, 5 Feb 2016 06:26:39 -0800 (PST)
In-Reply-To: <CAL7UUk_nycXky=RMTSEBA5cZr7JeezySnZdxY18a_7h9jxKiRw@mail.gmail.com>
References: <CAL7UUk-qyES+aMMSN6aBGi1rb=K3Q+pif4FbU__Lqkku7f2t0w@mail.gmail.com>
	<CACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com>
	<CAL7UUk_z-CgL1255w8ScgUW+oFtpuybvzoK_kQykbQNv025N_g@mail.gmail.com>
	<CACsi251twJxjTjEbjEnFuE2x49KX-BrVi=MSAs3-7L=ypaKQ7Q@mail.gmail.com>
	<CAL7UUk_1rvLqgNsOMKN-1GxeBWXb2Q3XVAjbbn4+1th9GdAOcw@mail.gmail.com>
	<CAL7UUk9Mc=MUVaQXPvc+mcaoik+=pFW7EW_ccTXbBmo9W0JB1Q@mail.gmail.com>
	<3A242214-802F-4DAE-A124-7FEB0B23D54D@jaguNET.com>
	<CAL7UUk_nycXky=RMTSEBA5cZr7JeezySnZdxY18a_7h9jxKiRw@mail.gmail.com>
Date: Fri, 5 Feb 2016 17:26:39 +0300
Message-ID: <CAL7UUk-dhWTwwvTDVguG3kTRCVuoqwBEr8ce=RCg3UGU_KzY9Q@mail.gmail.com>
Subject: Re: collaboration request - apache server automation testing with
 swat tool
From: Alexey Melezhik <melezhik@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

> I wonder how possible it would be to transcode the old tests to Swat?

Swat has some architectural specifics. As it simply makes http
requests ( by curl ) and validate server response ( by swat DSL ) it
is considered as black box testing tools , there is no way to interact
with httpd internal structure. So probably most of old tests could be
easily ported but some probably not ( which implies something more
complicated ).

Basically  swat could cover simple and average use cases, everything
that could  expressed in terms of make http requests and then
analyzing an output , see examples for some issues I have expressed in
swat scenarios at https://github.com/melezhik/apache-swat


Also alternatively we may run 2 frameworks in parallel. Apache-swat is
intended for developers usage first and is able to run per-issues
test.

This how I see possible  workflow:

* developer accept a bug request
* developer ( or some else ) create swat test for given bug/feature
* so we have `test first` approach - everyone involved in bug/feature
resolution has possibility to verify changes by simply running :

 swat -t $issue-id






2016-02-05 17:08 GMT+03:00 Alexey Melezhik <melezhik@gmail.com>:
> 2016-02-05 17:01 GMT+03:00 Jim Jagielski <jim@jagunet.com>:
>> Personally, I like the idea of having another framework;
>> the current one is OK but somewhat "painful" to update.
>
> Hi! What kind of possible issues you here ? when saying "painful" to
> update, please explain.
> Thanks.
>
> Also , please consider this link - https://github.com/melezhik/apache-swat and
> this post - http://mail-archives.apache.org/mod_mbox/httpd-dev/201602.mbox/%3CCAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com%3E
> as latest version of this idea ....
>
>
>
>
>
>>
>> I wonder how possible it would be to transcode the old tests
>> to Swat? We could then provide for 2 testing frameworks, one
>> developed by the ASF and the other external and 3rd party.
>>
>>
>>> On Feb 1, 2016, at 5:23 AM, Alexey Melezhik <melezhik@gmail.com> wrote:
>>>
>>> Here the list of existed issues I was able to automate tests for:
>>>
>>> vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ ls -1 | grep -P '\d'
>>> 44221
>>> 46751
>>> 58789
>>> 58828
>>> 58854
>>>
>>>
>>> I have informed developers at https://bz.apache.org/bugzilla/ about
>>> these, so they rely upon them. Or you have some pre-release testing,
>>> so run all of these in a whole chunk?
>>>
>>> Regards
>>>
>>> Alexey
>>>
>>> PS chaining issues / tests listing  as always -
>>> https://github.com/melezhik/apache-swat
>>>
>>> PS2 it'd be could to verify tests as well against "bleeding edge"
>>> apache version gets installed from SCM, but I don't know how to do
>>> this.
>>> Currently I use http://httpd.apache.org/download.cgi ( last stable release )
>>>
>>>
>>>
>>> 2016-01-30 21:36 GMT+03:00 Alexey Melezhik <melezhik@gmail.com>:
>>>> Hi Bill!
>>>>
>>>> I have started to assemble swat tests  for apache2 issues coming from
>>>> https://bz.apache.org/bugzilla
>>>>
>>>> And this the first one - https://bz.apache.org/bugzilla/show_bug.cgi?id=44221 ,
>>>>
>>>> Test suite is failed for the moment :
>>>>
>>>>
>>>> vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ swat -t 44221
>>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.baz/00.GET.t ...
>>>> ok 1 - GET 127.0.0.1/44221/foo.baz succeeded
>>>> # http headers saved to /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ.hdr
>>>> # body saved to /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ
>>>> ok 2 - output match '200 OK'
>>>> 1..2
>>>> ok
>>>> /home/vagrant/.swat/.cache/384/prove/44221/FOO.bar/00.GET.t ...
>>>> ok 1 - GET 127.0.0.1/44221/FOO.bar succeeded
>>>> # http headers saved to /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe.hdr
>>>> # body saved to /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe
>>>> ok 2 - output match '200 OK'
>>>> ok 3 - output match /Location: \S+/
>>>> ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
>>>> 1..4
>>>> ok
>>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.BAR/00.GET.t ...
>>>> ok 1 - GET 127.0.0.1/44221/foo.BAR succeeded
>>>> # http headers saved to /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ.hdr
>>>> # body saved to /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ
>>>> ok 2 - output match '200 OK'
>>>> ok 3 - output match /Location: \S+/
>>>> ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
>>>> 1..4
>>>> ok
>>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.bar/00.GET.t ...
>>>> ok 1 - GET 127.0.0.1/44221/foo.bar succeeded
>>>> # http headers saved to /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv.hdr
>>>> # body saved to /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv
>>>> ok 2 - output match '200 OK'
>>>> 1..2
>>>> ok
>>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t ..
>>>> ok 1 - GET 127.0.0.1/44221/foo.html succeeded
>>>> # http headers saved to /home/vagrant/.swat/.cache/384/prove/tW2L511eym.hdr
>>>> # body saved to /home/vagrant/.swat/.cache/384/prove/tW2L511eym
>>>> ok 2 - output match /HTTP\/(\S+) (\d+) \S+/
>>>> not ok 3 - 'HTTP/1.1 300 Multiple Choices' match /404 /
>>>>
>>>> #   Failed test ''HTTP/1.1 300 Multiple Choices' match /404 /'
>>>> #   at /usr/local/share/perl/5.20.2/swat.pm line 218.
>>>> not ok 4 - output match 'Not Found'
>>>>
>>>> #   Failed test 'output match 'Not Found''
>>>> #   at /usr/local/share/perl/5.20.2/swat.pm line 218.
>>>> 1..4
>>>> # Looks like you failed 2 tests of 4.
>>>> Dubious, test returned 2 (wstat 512, 0x200)
>>>> Failed 2/4 subtests
>>>>
>>>> Test Summary Report
>>>> -------------------
>>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t (Wstat:
>>>> 512 Tests: 4 Failed: 2)
>>>>  Failed tests:  3-4
>>>>  Non-zero exit status: 2
>>>> Files=5, Tests=16,  0 wallclock secs ( 0.03 usr  0.00 sys +  0.27 cusr
>>>> 0.00 csys =  0.30 CPU)
>>>> Result: FAIL
>>>>
>>>> ...
>>>>
>>>> Ok, this is just the beginning ;-))) , watch soon updates at -
>>>> https://github.com/melezhik/apache-swat
>>>>
>>>> 2016-01-29 20:44 GMT+03:00 William A Rowe Jr <wrowe@rowe-clan.net>:
>>>>> On Fri, Jan 29, 2016 at 6:35 AM, Alexey Melezhik <melezhik@gmail.com> wrote:
>>>>>>
>>>>>> Hi Bill!
>>>>>>
>>>>>> Any news? ( Please see my previous reply ...)
>>>>>> Intr
>>>>>
>>>>>
>>>>> Intrigued :)  But my responses will be delayed, I personally
>>>>> won't have time to look further myself until other backlogged
>>>>> commitments to httpd are caught up some more.
>>>>>
>>>>> Be aware many of us have only a few hours to participate in the
>>>>> httpd project itself, so it will take several days or more to gather
>>>>> feedback on your interest and perhaps a champion to drive such
>>>>> an effort if it is actively driven from this side.  Of course that
>>>>> should not stop you from assembling some ideas at the vcs of
>>>>> your choice, and sharing a link for those who want to look at an
>>>>> early draft of such an effort!
>>>>>
>>>>> Cheers,
>>>>>
>>>>> Bill
>>

From dev-return-85463-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb  5 20:42:33 2016
Return-Path: <dev-return-85463-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 113F2188E4
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Feb 2016 20:42:33 +0000 (UTC)
Received: (qmail 39211 invoked by uid 500); 5 Feb 2016 20:42:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39145 invoked by uid 500); 5 Feb 2016 20:42:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39135 invoked by uid 99); 5 Feb 2016 20:42:23 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Feb 2016 20:42:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id CCE581805AC
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 20:42:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.73
X-Spam-Level:
X-Spam-Status: No, score=-2.73 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.429,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id Xsj715vOe6V6 for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 20:42:21 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id BF31B2304B
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 20:42:20 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u15KgJQA006464
	for <dev@httpd.apache.org>; Fri, 5 Feb 2016 21:42:20 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: Rainer Jung <rainer.jung@kippdata.de>
Subject: Unused code in mod_ratelimit?
Message-ID: <56B50928.2090509@kippdata.de>
Date: Fri, 5 Feb 2016 21:42:16 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

I can't figure out where some stuff in mod_ratelimit's is used:

- exported function ap_rl_start_create() and ap_rl_end_create()
- function rl_bucket_read() only used in the above two
   unused functions
- exported bucket types ap_rl_bucket_type_end and
   ap_rl_bucket_type_start also only used in the above
   two unused functions

So though the code could be used from outside by accessing the exported 
symbols, I can't find a place in our code base, nor in the docs or code 
comments. So it seems to me it is either some unused part or totally 
undocumented.

Anyone with an idea? Should we remove such code (at least in trunk)?

Regards,

Rainer

From dev-return-85464-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb  5 21:58:40 2016
Return-Path: <dev-return-85464-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6459418CDE
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Feb 2016 21:58:40 +0000 (UTC)
Received: (qmail 72310 invoked by uid 500); 5 Feb 2016 21:58:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 72228 invoked by uid 500); 5 Feb 2016 21:58:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72212 invoked by uid 99); 5 Feb 2016 21:58:40 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Feb 2016 21:58:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 8D0D71A07BE
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 21:58:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id diNuRrR8ov_j for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 21:58:36 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 860732050D
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 21:58:35 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 5779820581
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 22:58:32 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lTWdNLmCHFlX for <dev@httpd.apache.org>;
	Fri,  5 Feb 2016 22:58:31 +0100 (CET)
Received: from [10.0.0.1] (CPE-110-146-170-215.knmu.knt.bigpond.net.au [110.146.170.215])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id CFC1820341
	for <dev@httpd.apache.org>; Fri,  5 Feb 2016 22:58:30 +0100 (CET)
Subject: Re: Proxy_Util needs another export.
To: dev@httpd.apache.org
References: <56AD4E6D.2010208@gknw.net> <56B3EB82.60303@kippdata.de>
 <56B48430.9070607@gknw.net> <56B49718.3030808@kippdata.de>
From: NormW <normw@gknw.net>
Message-ID: <56B51AFB.1010601@gknw.net>
Date: Sat, 6 Feb 2016 08:58:19 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B49718.3030808@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/M Rainer,
I'd say this is getting much closer now:
The only symbol that doesn't seem to make it into mod_proxy's export 
list is 'proxy_module' itself. The build log for /proxy looks like:

> Building D:/Projects/svn/httpd-trunk/modules/proxy
> Calling NWGNUproxy
> GEN  obj_release/proxy_cc.opt
> CC   mod_proxy.c
> CC   proxy_util.c
> CC   ../arch/netware/libprews.c
> GEN  obj_release/proxy_link.opt
> LINK obj_release/proxy.nlm
>
> Calling NWGNUproxycon
> GEN  obj_release/proxycon_cc.opt
> CC   mod_proxy_connect.c
> GEN  obj_release/proxycon_link.opt
> LINK obj_release/proxycon.nlm
>
> Calling NWGNUproxyftp
> GEN  obj_release/proxyftp_cc.opt
> CC   mod_proxy_ftp.c
> CC   ../arch/netware/libprews.c
> GEN  obj_release/proxyftp_link.opt
> LINK obj_release/proxyftp.nlm
>
> Calling NWGNUproxyhtp
> GEN  obj_release/proxyhtp_cc.opt
> CC   mod_proxy_http.c
> GEN  obj_release/proxyhtp_link.opt
> LINK obj_release/proxyhtp.nlm
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_module in
> #   mod_proxy_http.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_module in
> #   mod_proxy_http.o
>
> Errors caused tool to abort.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target 'obj_release/proxyhtp.nlm' failed
> make[3]: *** [obj_release/proxyhtp.nlm] Error 1
> make[3]: Target 'default' not remade because of errors.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target 'obj_release/proxyhtp.nlm' failed
> make[2]: *** [obj_release/proxyhtp.nlm] Error 2
> Calling NWGNUproxybalancer
> GEN  obj_release/proxybalancer_cc.opt
> CC   mod_proxy_balancer.c
> CC   ../arch/netware/libprews.c
> GEN  obj_release/proxybalancer_link.opt
> LINK obj_release/proxybalancer.nlm
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_module in
> #   mod_proxy_balancer.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_module in
> #   mod_proxy_balancer.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_module in
> #   mod_proxy_balancer.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_module in
> #   mod_proxy_balancer.o
>
> Errors caused tool to abort.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target 'obj_release/proxybalancer.nlm' failed
> make[3]: *** [obj_release/proxybalancer.nlm] Error 1
> make[3]: Target 'default' not remade because of errors.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target 'obj_release/proxybalancer.nlm' failed
> make[2]: *** [obj_release/proxybalancer.nlm] Error 2
> Calling NWGNUproxyajp
> GEN  obj_release/proxyajp_cc.opt
> CC   mod_proxy_ajp.c
> CC   ajp_header.c
> CC   ajp_msg.c
> CC   ajp_link.c
> CC   ajp_utils.c
> GEN  obj_release/proxyajp_link.opt
> LINK obj_release/proxyajp.nlm
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_module in
> #   mod_proxy_ajp.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_module in
> #   mod_proxy_ajp.o
>
> Errors caused tool to abort.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target 'obj_release/proxyajp.nlm' failed
> make[3]: *** [obj_release/proxyajp.nlm] Error 1
> make[3]: Target 'default' not remade because of errors.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target 'obj_release/proxyajp.nlm' failed
> make[2]: *** [obj_release/proxyajp.nlm] Error 2
> Calling NWGNUproxyfcgi
> GEN  obj_release/proxyfcgi_cc.opt
> CC   mod_proxy_fcgi.c
> CC   ../arch/netware/libprews.c
> GEN  obj_release/proxyfcgi_link.opt
> LINK obj_release/proxyfcgi.nlm
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_module in
> #   mod_proxy_fcgi.o
>
> Errors caused tool to abort.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target 'obj_release/proxyfcgi.nlm' failed
> make[3]: *** [obj_release/proxyfcgi.nlm] Error 1
> make[3]: Target 'default' not remade because of errors.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target 'obj_release/proxyfcgi.nlm' failed
> make[2]: *** [obj_release/proxyfcgi.nlm] Error 2
> Calling NWGNUproxyscgi
> GEN  obj_release/proxyscgi_cc.opt
> CC   mod_proxy_scgi.c
> CC   ../arch/netware/libprews.c
> GEN  obj_release/proxyscgi_link.opt
> LINK obj_release/proxyscgi.nlm
>
> Calling NWGNUproxyexpress
> GEN  obj_release/proxyexpress_cc.opt
> CC   mod_proxy_express.c
> GEN  obj_release/proxyexpress_link.opt
> LINK obj_release/proxyexpress.nlm
> ### mwldnlm Linker Error:
> #   Undefined symbol: proxy_module in
> #   mod_proxy_express.o
>
> Errors caused tool to abort.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target 'obj_release/proxyexpress.nlm' failed
> make[3]: *** [obj_release/proxyexpress.nlm] Error 1
> make[3]: Target 'default' not remade because of errors.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target 'obj_release/proxyexpress.nlm' failed
> make[2]: *** [obj_release/proxyexpress.nlm] Error 2
> Calling NWGNUproxylbm_busy
> GEN  obj_release/proxylbm_busy_cc.opt
> CC   balancers/mod_lbmethod_bybusyness.c
> GEN  obj_release/proxylbm_busy_link.opt
> LINK obj_release/proxylbm_busy.nlm
>
> Calling NWGNUproxylbm_hb
> GEN  obj_release/proxylbm_hb_cc.opt
> CC   balancers/mod_lbmethod_heartbeat.c
> GEN  obj_release/proxylbm_hb_link.opt
> LINK obj_release/proxylbm_hb.nlm
>
> Calling NWGNUproxylbm_req
> GEN  obj_release/proxylbm_req_cc.opt
> CC   balancers/mod_lbmethod_byrequests.c
> GEN  obj_release/proxylbm_req_link.opt
> LINK obj_release/proxylbm_req.nlm
>
> Calling NWGNUproxylbm_traf
> GEN  obj_release/proxylbm_traf_cc.opt
> CC   balancers/mod_lbmethod_bytraffic.c
> GEN  obj_release/proxylbm_traf_link.opt
> LINK obj_release/proxylbm_traf.nlm
>
> Calling NWGNUproxywstunnel
> GEN  obj_release/proxywstunnel_cc.opt
> CC   mod_proxy_wstunnel.c
> GEN  obj_release/proxywstunnel_link.opt
> LINK obj_release/proxywstunnel.nlm

A quirk of the Linker is to occasionally repeat error messages, so 
ignore duplcated missing symbols messages from the Linker.
Norm

On 5/02/2016 11:35 PM, Rainer Jung wrote:
> Am 05.02.2016 um 12:14 schrieb NormW:
>> G/E 9.51pm in Oz
>> Updated http-trunk (last mod_proxy.h by Yann) and now get the following:
>>
>>> Building D:/Projects/svn/httpd-trunk/modules/proxy
>>> Calling NWGNUproxy
>>> GEN  obj_release/proxy_cc.opt
>>> CC   mod_proxy.c
>>> CC   proxy_util.c
>>> CC   ../arch/netware/libprews.c
>>> GEN  obj_release/proxy_link.opt
>>> LINK obj_release/proxy.nlm
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: ap_proxy_connect_uds in
>>> #   Export list
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: proxy_hook_create_req in
>>> #   Export list
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: proxy_hook_detach_backend in
>>> #   Export list
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: proxy_hook_fixups in
>>> #   Export list
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: proxy_hook_get_create_req in
>>> #   Export list
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: proxy_hook_get_detach_backend in
>>> #   Export list
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: proxy_hook_get_fixups in
>>> #   Export list
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: proxy_hook_get_request_status in
>>> #   Export list
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: proxy_hook_request_status in
>>> #   Export list
>>>
>>> Errors caused tool to abort.
>> The error 'Export list says it is in the .imp file to be exported, but
>> the symbol can't be found. In proxy_util.c this function is preceeded by:
>>> #if APR_HAVE_SYS_UN_H
>>> /* TODO: In APR 2.x: Extend apr_sockaddr_t to possibly be a path !!! */
>>> PROXY_DECLARE(apr_status_t) ap_proxy_connect_uds(apr_socket_t *sock,
>>>                                                  const char *uds_path,
>>>                                                  apr_pool_t *p)
>>> {
>> In NetWare's case APR_HAVE_SYS_UN_H is 0. The major use of sys/un.h is
>> (AFAIK) defines for (IIRC) Unix sockets, which NetWare never got, but a
>> very abbreviated sys/un.h does exist - Novell never got around to
>> supporting all the features, so it's disabled in APR.
>
> OK, understood. In this case I found it best to ad a stub impl for
> platforms which don't support sys/un.h.
>
>> The proxy_* symbols not found are (IIRC) due to assumptions made in the
>> awk script that are needed to work for the server proper (ie if one
>> symbol is found assume others also present), but that assumption doesn't
>> work in proxy....
>
> I found a difference between the proxy hooks for which all three
> symbols, proxy_hook_xxx, proxy_hook_get_xxx and proxy_run_xxx exist, and
> those which do only have the run symbol. I then added a marker macro to
> mod_proxy.h to allow the awk script to distinguish between them.
>
> Can you please try again? I'm confident we won't have many more
> iterations in front of us.
>
> Regards,
>
> Rainer
>


From dev-return-85465-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb  5 22:44:57 2016
Return-Path: <dev-return-85465-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 59C2F18FEA
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Feb 2016 22:44:57 +0000 (UTC)
Received: (qmail 24352 invoked by uid 500); 5 Feb 2016 22:44:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 24282 invoked by uid 500); 5 Feb 2016 22:44:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 24263 invoked by uid 99); 5 Feb 2016 22:44:56 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Feb 2016 22:44:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id D8E091A04EC;
	Fri,  5 Feb 2016 22:44:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id sh80pd0JVyjg; Fri,  5 Feb 2016 22:44:55 +0000 (UTC)
Received: from mail-lf0-f43.google.com (mail-lf0-f43.google.com [209.85.215.43])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 7EFE942BC3;
	Fri,  5 Feb 2016 22:44:54 +0000 (UTC)
Received: by mail-lf0-f43.google.com with SMTP id j78so66350241lfb.1;
        Fri, 05 Feb 2016 14:44:54 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=JVUmWtWt26y2dWpa+8q5u9J2toHtdYdFeKUOeirbtSY=;
        b=PQnXvTWuNKI62xbYER1t83bQJb+XeB7fmFztACEqhX90w5FG1u1nLJTVt5Z+IH4YvS
         Ybycpt7lVPvcBzToyilxxUCLoMFIhwQWgt6PV/GDhsiRFQ7LY44Fl8vsNtdSqtQPtYJN
         X6UhsnI3DzQxyXiBdQ1jmACUQ47VHk4J0VH61MTHTtbHHzHdSaikglDFGl5fl74Jth0B
         bOfv0ey9rbohKE0BHCbEBaw/B5vrXVXwfkaCcYYT1DeTW6tsHF4rluvilzRzPEcM2s66
         iQP+b5CjnEucM2XYn2brm6HIrOC4S1VXUyGb0EpfW45keyaSINVeOvDMhyK3zQoRYCL9
         HZ2Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=JVUmWtWt26y2dWpa+8q5u9J2toHtdYdFeKUOeirbtSY=;
        b=k3CACL53fkleV+tlYQyqBQDvDwl0Ro0JqNsT6gKmqURkAlwgy95nqKOR8L/5FdG27r
         B6Fw8eLC6WW92aHEJ3dbiIFGupgH2aGa77RtkyFhCTQfINEItdDaJznWFgL/x6idgfU9
         +I3kAeAiGd92BK8tlD32zsOYV/9arOQGSXJ3GHZW6/TP0ihlgLpL+OrQ1trFsC1lCIGQ
         mHuf1J86sMF9GFF+fMGrnSbl/snJC6LLMz8vlQP8WAvIt/VseFeM0oT6RprD4qs6DKD6
         lXanCDsTFKnB3k/XprjSK83OL1BUltbHvZyOzix6uPSR3cFurgOfTBSC32tD3jjnUQgm
         ngdQ==
X-Gm-Message-State: AG10YOROUBcA75rbtH+Tcx7a3Wd6iFkA8c1aKnWslw5ZHLViQHYsQsqqWmDtf2WgnEzM8PznmeLBqtj8Oke7mg==
MIME-Version: 1.0
X-Received: by 10.25.28.195 with SMTP id c186mr4557235lfc.22.1454712286892;
 Fri, 05 Feb 2016 14:44:46 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Fri, 5 Feb 2016 14:44:46 -0800 (PST)
In-Reply-To: <56B10D52.2070700@blenning.no>
References: <bug-55808-56585@https.bz.apache.org/bugzilla/>
	<bug-55808-56585-wzfMd0JVSx@https.bz.apache.org/bugzilla/>
	<5696D835.5050904@blenning.no>
	<CAKQ1sVMU=o24Rrw5zF2oLozgyqMFn5DZKAJbJVOLot+4nX4iBA@mail.gmail.com>
	<5696E637.3080501@blenning.no>
	<CAKQ1sVM2jN=aKaiD20+dR78EUnfKSwKU5GCcB-+ipnx5dj8QqA@mail.gmail.com>
	<5696F0D8.40002@blenning.no>
	<CAKQ1sVP8FSa8vu4uxEkSTYn7skVSajGJmM0zzLwKobJ3yRCsTg@mail.gmail.com>
	<CAKQ1sVMWVFScKax4MtM1b79TmmG+_rK2+OK9inZ4vkZWjihUqg@mail.gmail.com>
	<CAKQ1sVPoWXEpRQ8nfaVELwtAmfCoaKkyRiwwkCUxFkhPHCcsDw@mail.gmail.com>
	<CAFedD40EVfUPLohS75a1rvtsD-zrC+BTD9i0fsTQocVOWdtCqA@mail.gmail.com>
	<56B10D52.2070700@blenning.no>
Date: Fri, 5 Feb 2016 23:44:46 +0100
Message-ID: <CAFedD41+WCsZZU2TJHiWQ4-UxMEr1bRuKx_Xgx4nLyvRECep5A@mail.gmail.com>
Subject: Re: [Bug 55808] File integrity verification using MD5 and SHA1
From: Luca Toscano <toscano.luca@gmail.com>
To: Tom Fredrik Blenning Klaussen <bfg@blenning.no>
Cc: dev@httpd.apache.org, docs@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a114023c01c5d3b052b0d9989

--001a114023c01c5d3b052b0d9989
Content-Type: text/plain; charset=UTF-8

2016-02-02 21:10 GMT+01:00 Tom Fredrik Blenning Klaussen <bfg@blenning.no>:

>
> Having reviewed the changes I think they're good, but not complete.
> The remaining http links should be changed to // .
> Eg "http://httpd.apache.org/mod_ftp/" should be changed to
> "//httpd.apache.org/mod_ftp/" for all links containing apache servers.
> I'm not sure if external links needs to be changed, but to the extent
> they work I see nothing wrong in changing them.
>

Hi, just changed the remaining links to // (except the external ones), it
should be fine now. Please let me know what is missing!

Luca

--001a114023c01c5d3b052b0d9989
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><br><div class=3D"gmail_extra"><br><div class=3D"gmail_quo=
te">2016-02-02 21:10 GMT+01:00 Tom Fredrik Blenning Klaussen <span dir=3D"l=
tr">&lt;<a href=3D"mailto:bfg@blenning.no" target=3D"_blank">bfg@blenning.n=
o</a>&gt;</span>:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px =
0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);bord=
er-left-style:solid;padding-left:1ex"><br>
Having reviewed the changes I think they&#39;re good, but not complete.<br>
The remaining http links should be changed to // .<br>
Eg &quot;<a href=3D"http://httpd.apache.org/mod_ftp/" rel=3D"noreferrer" ta=
rget=3D"_blank">http://httpd.apache.org/mod_ftp/</a>&quot; should be change=
d to<br>
&quot;//<a href=3D"http://httpd.apache.org/mod_ftp/" rel=3D"noreferrer" tar=
get=3D"_blank">httpd.apache.org/mod_ftp/</a>&quot; for all links containing=
 apache servers.<br>
I&#39;m not sure if external links needs to be changed, but to the extent<b=
r>
they work I see nothing wrong in changing them.<br></blockquote><div><br></=
div>Hi, just changed the remaining links to // (except the external ones), =
it should be fine now. Please let me know what is missing!=C2=A0<div><br></=
div><div>Luca=C2=A0</div></div></div></div>

--001a114023c01c5d3b052b0d9989--

From dev-return-85466-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb  6 00:38:35 2016
Return-Path: <dev-return-85466-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E34F818790
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Feb 2016 00:38:34 +0000 (UTC)
Received: (qmail 98597 invoked by uid 500); 6 Feb 2016 00:38:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98521 invoked by uid 500); 6 Feb 2016 00:38:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98511 invoked by uid 99); 6 Feb 2016 00:38:34 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Feb 2016 00:38:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C8251C0ED9
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 00:38:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.648
X-Spam-Level:
X-Spam-Status: No, score=-2.648 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.347,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id qAuWbzc5GgaM for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 00:38:33 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id BC1AF439ED
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 00:38:32 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u160cPOk007828
	for <dev@httpd.apache.org>; Sat, 6 Feb 2016 01:38:26 +0100 (CET)
Subject: Re: Proxy_Util needs another export.
To: dev@httpd.apache.org
References: <56AD4E6D.2010208@gknw.net> <56B3EB82.60303@kippdata.de>
 <56B48430.9070607@gknw.net> <56B49718.3030808@kippdata.de>
 <56B51AFB.1010601@gknw.net>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56B5407E.1070107@kippdata.de>
Date: Sat, 6 Feb 2016 01:38:22 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B51AFB.1010601@gknw.net>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi Norm,

Am 05.02.2016 um 22:58 schrieb NormW:
> G/M Rainer,
> I'd say this is getting much closer now:
> The only symbol that doesn't seem to make it into mod_proxy's export
> list is 'proxy_module' itself. The build log for /proxy looks like:

It should make it to mod_proxy's export list, because like in other 
cases it is now part of modules/proxy/NWGNUproxy:

...
FILES_nlm_exports = \
         @mod_proxy.imp \
         proxy_module \
         $(EOLIST)
...

But it seems it doesn't get imported correctly and I hope I understood 
why. In the proxy case, all accompanying mod_proxy_xxx modules need 
access to the proxy_module symbol to read their config. In the case of 
other modules from which I borrowed the export/import style, like cache 
and dav, the accompanying modules do not need to access cache_module or 
dav_module. So that symbol wasn't imported. Since we need it for all 
proxy modules, I fixed the awk script to add it and hope this works now.

I agree, we are getting closer :)

Thanks a bunch for your patience.

Rainer

From dev-return-85467-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb  6 02:06:42 2016
Return-Path: <dev-return-85467-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F2D4118AB8
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Feb 2016 02:06:41 +0000 (UTC)
Received: (qmail 22473 invoked by uid 500); 6 Feb 2016 02:06:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22392 invoked by uid 500); 6 Feb 2016 02:06:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22381 invoked by uid 99); 6 Feb 2016 02:06:39 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Feb 2016 02:06:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 664DDC0544
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 02:06:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id lfa_fI_r_Kop for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 02:06:37 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 2C9912050D
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 02:06:36 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 34E8320501
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 03:06:34 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id H18ae7KorHV9 for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 03:06:34 +0100 (CET)
Received: from [10.0.0.1] (CPE-121-213-113-35.lns8.cht.bigpond.net.au [121.213.113.35])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 1D7DB200C1
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 03:06:32 +0100 (CET)
Subject: Re: Proxy_Util needs another export.
To: dev@httpd.apache.org
References: <56AD4E6D.2010208@gknw.net> <56B3EB82.60303@kippdata.de>
 <56B48430.9070607@gknw.net> <56B49718.3030808@kippdata.de>
 <56B51AFB.1010601@gknw.net> <56B5407E.1070107@kippdata.de>
From: NormW <normw@gknw.net>
Message-ID: <56B55519.9070508@gknw.net>
Date: Sat, 6 Feb 2016 13:06:17 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B5407E.1070107@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Na! Thanks for your efforts!; the 'problem' has been skipped over for years.
Will 'update' and see what happens.
FTM.
Norm

On 6/02/2016 11:38 AM, Rainer Jung wrote:
> Hi Norm,
>
> Am 05.02.2016 um 22:58 schrieb NormW:
>> G/M Rainer,
>> I'd say this is getting much closer now:
>> The only symbol that doesn't seem to make it into mod_proxy's export
>> list is 'proxy_module' itself. The build log for /proxy looks like:
>
> It should make it to mod_proxy's export list, because like in other
> cases it is now part of modules/proxy/NWGNUproxy:
>
> ...
> FILES_nlm_exports = \
>          @mod_proxy.imp \
>          proxy_module \
>          $(EOLIST)
> ...
>
> But it seems it doesn't get imported correctly and I hope I understood
> why. In the proxy case, all accompanying mod_proxy_xxx modules need
> access to the proxy_module symbol to read their config. In the case of
> other modules from which I borrowed the export/import style, like cache
> and dav, the accompanying modules do not need to access cache_module or
> dav_module. So that symbol wasn't imported. Since we need it for all
> proxy modules, I fixed the awk script to add it and hope this works now.
>
> I agree, we are getting closer :)
>
> Thanks a bunch for your patience.
>
> Rainer


From dev-return-85468-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb  6 02:42:35 2016
Return-Path: <dev-return-85468-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E3ABA18B9B
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Feb 2016 02:42:34 +0000 (UTC)
Received: (qmail 56922 invoked by uid 500); 6 Feb 2016 02:42:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56838 invoked by uid 500); 6 Feb 2016 02:42:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56827 invoked by uid 99); 6 Feb 2016 02:42:34 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Feb 2016 02:42:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C4F27C0D90
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 02:42:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id AS7_BR6tauwI for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 02:42:32 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 0148131AA9
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 02:42:30 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id F3D2F20501
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 03:42:29 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id uyjaX3a5x17n for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 03:42:29 +0100 (CET)
Received: from [10.0.0.1] (CPE-121-213-113-35.lns8.cht.bigpond.net.au [121.213.113.35])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id DA7CD20341
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 03:42:28 +0100 (CET)
Subject: Re: Proxy_Util needs another export.
To: dev@httpd.apache.org
References: <56AD4E6D.2010208@gknw.net> <56B3EB82.60303@kippdata.de>
 <56B48430.9070607@gknw.net> <56B49718.3030808@kippdata.de>
 <56B51AFB.1010601@gknw.net> <56B5407E.1070107@kippdata.de>
From: NormW <normw@gknw.net>
Message-ID: <56B55D93.8000406@gknw.net>
Date: Sat, 6 Feb 2016 13:42:27 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B5407E.1070107@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/A Rainer
JACKPOT!
> Building D:/Projects/svn/httpd-trunk/modules/proxy
> Calling NWGNUproxy
> GEN  obj_release/proxy_cc.opt
> CC   mod_proxy.c
> CC   proxy_util.c
> CC   ../arch/netware/libprews.c
> GEN  obj_release/proxy_link.opt
> LINK obj_release/proxy.nlm
>
> Calling NWGNUproxycon
> GEN  obj_release/proxycon_cc.opt
> CC   mod_proxy_connect.c
> GEN  obj_release/proxycon_link.opt
> LINK obj_release/proxycon.nlm
>
> Calling NWGNUproxyftp
> GEN  obj_release/proxyftp_cc.opt
> CC   mod_proxy_ftp.c
> CC   ../arch/netware/libprews.c
> GEN  obj_release/proxyftp_link.opt
> LINK obj_release/proxyftp.nlm
>
> Calling NWGNUproxyhtp
> GEN  obj_release/proxyhtp_cc.opt
> CC   mod_proxy_http.c
> CC   ../arch/netware/libprews.c
> GEN  obj_release/proxyhtp_link.opt
> LINK obj_release/proxyhtp.nlm
>
> Calling NWGNUproxybalancer
> GEN  obj_release/proxybalancer_cc.opt
> CC   mod_proxy_balancer.c
> GEN  obj_release/proxybalancer_link.opt
> LINK obj_release/proxybalancer.nlm
>
> Calling NWGNUproxyajp
> GEN  obj_release/proxyajp_cc.opt
> CC   mod_proxy_ajp.c
> CC   ajp_header.c
> CC   ajp_msg.c
> CC   ajp_link.c
> CC   ajp_utils.c
> CC   ../arch/netware/libprews.c
> GEN  obj_release/proxyajp_link.opt
> LINK obj_release/proxyajp.nlm
>
> Calling NWGNUproxyfcgi
> GEN  obj_release/proxyfcgi_cc.opt
> CC   mod_proxy_fcgi.c
> CC   ../arch/netware/libprews.c
> GEN  obj_release/proxyfcgi_link.opt
> LINK obj_release/proxyfcgi.nlm
>
> Calling NWGNUproxyscgi
> GEN  obj_release/proxyscgi_cc.opt
> CC   mod_proxy_scgi.c
> GEN  obj_release/proxyscgi_link.opt
> LINK obj_release/proxyscgi.nlm
>
> Calling NWGNUproxyexpress
> GEN  obj_release/proxyexpress_cc.opt
> CC   mod_proxy_express.c
> GEN  obj_release/proxyexpress_link.opt
> LINK obj_release/proxyexpress.nlm
>
> Calling NWGNUproxylbm_busy
> GEN  obj_release/proxylbm_busy_cc.opt
> CC   balancers/mod_lbmethod_bybusyness.c
> GEN  obj_release/proxylbm_busy_link.opt
> LINK obj_release/proxylbm_busy.nlm
>
> Calling NWGNUproxylbm_hb
> GEN  obj_release/proxylbm_hb_cc.opt
> CC   balancers/mod_lbmethod_heartbeat.c
> GEN  obj_release/proxylbm_hb_link.opt
> LINK obj_release/proxylbm_hb.nlm
>
> Calling NWGNUproxylbm_req
> GEN  obj_release/proxylbm_req_cc.opt
> CC   balancers/mod_lbmethod_byrequests.c
> GEN  obj_release/proxylbm_req_link.opt
> LINK obj_release/proxylbm_req.nlm
>
> Calling NWGNUproxylbm_traf
> GEN  obj_release/proxylbm_traf_cc.opt
> CC   balancers/mod_lbmethod_bytraffic.c
> GEN  obj_release/proxylbm_traf_link.opt
> LINK obj_release/proxylbm_traf.nlm
>
> Calling NWGNUproxywstunnel
> GEN  obj_release/proxywstunnel_cc.opt
> CC   mod_proxy_wstunnel.c
> GEN  obj_release/proxywstunnel_link.opt
> LINK obj_release/proxywstunnel.nlm
Congrats,
Norm


On 6/02/2016 11:38 AM, Rainer Jung wrote:
> Hi Norm,
>
> Am 05.02.2016 um 22:58 schrieb NormW:
>> G/M Rainer,
>> I'd say this is getting much closer now:
>> The only symbol that doesn't seem to make it into mod_proxy's export
>> list is 'proxy_module' itself. The build log for /proxy looks like:
>
> It should make it to mod_proxy's export list, because like in other
> cases it is now part of modules/proxy/NWGNUproxy:
>
> ...
> FILES_nlm_exports = \
>          @mod_proxy.imp \
>          proxy_module \
>          $(EOLIST)
> ...
>
> But it seems it doesn't get imported correctly and I hope I understood
> why. In the proxy case, all accompanying mod_proxy_xxx modules need
> access to the proxy_module symbol to read their config. In the case of
> other modules from which I borrowed the export/import style, like cache
> and dav, the accompanying modules do not need to access cache_module or
> dav_module. So that symbol wasn't imported. Since we need it for all
> proxy modules, I fixed the awk script to add it and hope this works now.
>
> I agree, we are getting closer :)
>
> Thanks a bunch for your patience.
>
> Rainer


From dev-return-85469-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb  6 06:21:53 2016
Return-Path: <dev-return-85469-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 86175180A2
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Feb 2016 06:21:53 +0000 (UTC)
Received: (qmail 63422 invoked by uid 500); 6 Feb 2016 06:21:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63356 invoked by uid 500); 6 Feb 2016 06:21:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63345 invoked by uid 99); 6 Feb 2016 06:21:53 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Feb 2016 06:21:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 9C94EC09C3
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 06:21:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.8
X-Spam-Level: *
X-Spam-Status: No, score=1.8 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_DNSWL_NONE=-0.0001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id uDD8puw6tJ8r for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 06:21:51 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 599C631AA9
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 06:21:50 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id C480D20EAB
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 07:21:49 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id GuoBltjROyrf for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 07:21:49 +0100 (CET)
Received: from [10.0.0.1] (CPE-121-213-113-35.lns8.cht.bigpond.net.au [121.213.113.35])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 7120420341
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 07:21:48 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: health_check for NetWare - httpd-trunk
Message-ID: <56B590F7.4090403@gknw.net>
Date: Sat, 6 Feb 2016 17:21:43 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: multipart/mixed;
 boundary="------------040009000007060704050307"

This is a multi-part message in MIME format.
--------------040009000007060704050307
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/A,
Now that the exports are sorted out (Thanks Rainer) can now build the 
proxy_health_check module for NetWare...

Herewith a patch, proxy_hcheck_netware_add.diff to add the nlm to the 
list of nlm's to build in the /proxy dir:
> Index: modules/proxy/NWGNUmakefile
> ===================================================================
> --- modules/proxy/NWGNUmakefile	(revision 1728785)
> +++ modules/proxy/NWGNUmakefile	(working copy)
> @@ -161,6 +161,7 @@
>  	$(OBJDIR)/proxyfcgi.nlm \
>  	$(OBJDIR)/proxyscgi.nlm \
>  	$(OBJDIR)/proxyexpress.nlm \
> +	$(OBJDIR)/proxyhcheck.nlm \
>  	$(OBJDIR)/proxylbm_busy.nlm \
>  	$(OBJDIR)/proxylbm_hb.nlm \
>  	$(OBJDIR)/proxylbm_req.nlm \

and the build module itself: NWGNUproxyhcheck for modules/proxy dir.

This builds the nlm without issue using the current httpd-trunk.

Please review before commit.

Norm

--------------040009000007060704050307
Content-Type: text/x-patch;
 name="proxy_hcheck_netware_add.diff"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="proxy_hcheck_netware_add.diff"

Index: modules/proxy/NWGNUmakefile
===================================================================
--- modules/proxy/NWGNUmakefile	(revision 1728785)
+++ modules/proxy/NWGNUmakefile	(working copy)
@@ -161,6 +161,7 @@
 	$(OBJDIR)/proxyfcgi.nlm \
 	$(OBJDIR)/proxyscgi.nlm \
 	$(OBJDIR)/proxyexpress.nlm \
+	$(OBJDIR)/proxyhcheck.nlm \
 	$(OBJDIR)/proxylbm_busy.nlm \
 	$(OBJDIR)/proxylbm_hb.nlm \
 	$(OBJDIR)/proxylbm_req.nlm \

--------------040009000007060704050307
Content-Type: text/plain; charset=UTF-8;
 name="NWGNUproxyhcheck"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
 filename="NWGNUproxyhcheck"

Iw0KIyBNYWtlIHN1cmUgYWxsIG5lZWRlZCBtYWNybydzIGFyZSBkZWZpbmVkDQojDQoNCiMN
CiMgR2V0IHRoZSAnaGVhZCcgb2YgdGhlIGJ1aWxkIGVudmlyb25tZW50IGlmIG5lY2Vzc2Fy
eS4gIFRoaXMgaW5jbHVkZXMgZGVmYXVsdA0KIyB0YXJnZXRzIGFuZCBwYXRocyB0byB0b29s
cw0KIw0KDQppZm5kZWYgRW52aXJvbm1lbnREZWZpbmVkDQppbmNsdWRlICQoQVBfV09SSykv
YnVpbGQvTldHTlVoZWFkLmluYw0KZW5kaWYNCg0KIw0KIyBUaGVzZSBkaXJlY3RvcmllcyB3
aWxsIGJlIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGluY2x1ZGUgbGlzdCwgZm9sbG93ZWQg
YnkNCiMgSU5DRElSUw0KIw0KWElOQ0RJUlMJKz0gXA0KCQkJJChBUFIpL2luY2x1ZGUgXA0K
CQkJJChBUFJVVElMKS9pbmNsdWRlIFwNCgkJCSQoU1JDKS9pbmNsdWRlIFwNCgkJCSQoU1RE
TU9EKS9jb3JlIFwNCgkJCSQoTldPUykgXA0KCQkJJChFT0xJU1QpDQoNCiMNCiMgVGhlc2Ug
ZmxhZ3Mgd2lsbCBjb21lIGFmdGVyIENGTEFHUw0KIw0KWENGTEFHUwkJKz0gXA0KCQkJJChF
T0xJU1QpDQoNCiMNCiMgVGhlc2UgZGVmaW5lcyB3aWxsIGNvbWUgYWZ0ZXIgREVGSU5FUw0K
Iw0KWERFRklORVMJKz0gXA0KCQkJJChFT0xJU1QpDQoNCiMNCiMgVGhlc2UgZmxhZ3Mgd2ls
bCBiZSBhZGRlZCB0byB0aGUgbGluay5vcHQgZmlsZQ0KIw0KWExGTEFHUwkJKz0gXA0KCQkJ
JChFT0xJU1QpDQoNCiMNCiMgVGhlc2UgdmFsdWVzIHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhl
IGNvcnJlY3QgdmFyaWFibGVzIGJhc2VkIG9uIHRoZSB2YWx1ZSBvZg0KIyBSRUxFQVNFDQoj
DQppZmVxICIkKFJFTEVBU0UpIiAiZGVidWciDQpYSU5DRElSUwkrPSBcDQoJCQkkKEVPTElT
VCkNCg0KWENGTEFHUwkJKz0gXA0KCQkJJChFT0xJU1QpDQoNClhERUZJTkVTCSs9IFwNCgkJ
CSQoRU9MSVNUKQ0KDQpYTEZMQUdTCQkrPSBcDQoJCQkkKEVPTElTVCkNCmVuZGlmDQoNCmlm
ZXEgIiQoUkVMRUFTRSkiICJub29wdCINClhJTkNESVJTCSs9IFwNCgkJCSQoRU9MSVNUKQ0K
DQpYQ0ZMQUdTCQkrPSBcDQoJCQkkKEVPTElTVCkNCg0KWERFRklORVMJKz0gXA0KCQkJJChF
T0xJU1QpDQoNClhMRkxBR1MJCSs9IFwNCgkJCSQoRU9MSVNUKQ0KZW5kaWYNCg0KaWZlcSAi
JChSRUxFQVNFKSIgInJlbGVhc2UiDQpYSU5DRElSUwkrPSBcDQoJCQkkKEVPTElTVCkNCg0K
WENGTEFHUwkJKz0gXA0KCQkJJChFT0xJU1QpDQoNClhERUZJTkVTCSs9IFwNCgkJCSQoRU9M
SVNUKQ0KDQpYTEZMQUdTCQkrPSBcDQoJCQkkKEVPTElTVCkNCmVuZGlmDQoNCiMNCiMgVGhl
c2UgYXJlIHVzZWQgYnkgdGhlIGxpbmsgdGFyZ2V0IGlmIGFuIE5MTSBpcyBiZWluZyBnZW5l
cmF0ZWQNCiMgVGhpcyBpcyB1c2VkIGJ5IHRoZSBsaW5rICduYW1lJyBkaXJlY3RpdmUgdG8g
bmFtZSB0aGUgbmxtLiAgSWYgbGVmdCBibGFuaw0KIyBUQVJHRVRfbmxtIChzZWUgYmVsb3cp
IHdpbGwgYmUgdXNlZC4NCiMNCk5MTV9OQU1FCT0gcHJveHloY2hlY2sNCg0KIw0KIyBUaGlz
IGlzIHVzZWQgYnkgdGhlIGxpbmsgJy1kZXNjICcgZGlyZWN0aXZlLg0KIyBJZiBsZWZ0IGJs
YW5rLCBOTE1fTkFNRSB3aWxsIGJlIHVzZWQuDQojDQpOTE1fREVTQ1JJUFRJT04JPSBBcGFj
aGUgJChWRVJTSU9OX1NUUikgUHJveHkgSGVhbHRoIE1vZHVsZQ0KDQojDQojIFRoaXMgaXMg
dXNlZCBieSB0aGUgJy10aHJlYWRuYW1lJyBkaXJlY3RpdmUuICBJZiBsZWZ0IGJsYW5rLA0K
IyBOTE1fTkFNRSBUaHJlYWQgd2lsbCBiZSB1c2VkLg0KIw0KTkxNX1RIUkVBRF9OQU1FCT0g
UHJ4eSBIZWFsdGggTW9kdWxlDQoNCiMNCiMgSWYgdGhpcyBpcyBzcGVjaWZpZWQsIGl0IHdp
bGwgb3ZlcnJpZGUgVkVSU0lPTiB2YWx1ZSBpbg0KIyAkKEFQX1dPUkspL2J1aWxkL05XR05V
ZW52aXJvbm1lbnQuaW5jDQojDQpOTE1fVkVSU0lPTgk9DQoNCiMNCiMgSWYgdGhpcyBpcyBz
cGVjaWZpZWQsIGl0IHdpbGwgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgb2YgNjRLDQojDQpOTE1f
U1RBQ0tfU0laRQk9IDgxOTINCg0KDQojDQojIElmIHRoaXMgaXMgc3BlY2lmaWVkIGl0IHdp
bGwgYmUgdXNlZCBieSB0aGUgbGluayAnLWVudHJ5JyBkaXJlY3RpdmUNCiMNCk5MTV9FTlRS
WV9TWU0JPQ0KDQojDQojIElmIHRoaXMgaXMgc3BlY2lmaWVkIGl0IHdpbGwgYmUgdXNlZCBi
eSB0aGUgbGluayAnLWV4aXQnIGRpcmVjdGl2ZQ0KIw0KTkxNX0VYSVRfU1lNCT0NCg0KIw0K
IyBJZiB0aGlzIGlzIHNwZWNpZmllZCBpdCB3aWxsIGJlIHVzZWQgYnkgdGhlIGxpbmsgJy1j
aGVjaycgZGlyZWN0aXZlDQojDQpOTE1fQ0hFQ0tfU1lNCT0NCg0KIw0KIyBJZiB0aGVzZSBh
cmUgc3BlY2lmaWVkIGl0IHdpbGwgYmUgdXNlZCBieSB0aGUgbGluayAnLWZsYWdzJyBkaXJl
Y3RpdmUNCiMNCk5MTV9GTEFHUwk9DQoNCiMNCiMgSWYgdGhpcyBpcyBzcGVjaWZpZWQgaXQg
d2lsbCBiZSBsaW5rZWQgaW4gd2l0aCB0aGUgWERDRGF0YSBvcHRpb24gaW4gdGhlIGRlZg0K
IyBmaWxlIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgb2YgJChOV09TKS9hcGFjaGUueGRjLiAg
WERDRGF0YSBjYW4gYmUgZGlzYWJsZWQNCiMgYnkgc2V0dGluZyBBUEFDSEVfVU5JUFJPQyBp
biB0aGUgZW52aXJvbm1lbnQNCiMNClhEQ0RBVEEJCT0NCg0KIw0KIyBJZiB0aGVyZSBpcyBh
biBOTE0gdGFyZ2V0LCBwdXQgaXQgaGVyZQ0KIw0KVEFSR0VUX25sbSA9ICQoT0JKRElSKS8k
KE5MTV9OQU1FKS5ubG0NCg0KIw0KIyBJZiB0aGVyZSBpcyBhbiBMSUIgdGFyZ2V0LCBwdXQg
aXQgaGVyZQ0KIw0KVEFSR0VUX2xpYiA9DQoNCiMNCiMgVGhlc2UgYXJlIHRoZSBPQkogZmls
ZXMgbmVlZGVkIHRvIGNyZWF0ZSB0aGUgTkxNIHRhcmdldCBhYm92ZS4NCiMgUGF0aHMgbXVz
dCBhbGwgdXNlIHRoZSAnLycgY2hhcmFjdGVyDQojDQpGSUxFU19ubG1fb2JqcyA9IFwNCgkk
KE9CSkRJUikvbW9kX3Byb3h5X2hjaGVjay5vIFwNCgkkKEVPTElTVCkNCg0KIw0KIyBUaGVz
ZSBhcmUgdGhlIExJQiBmaWxlcyBuZWVkZWQgdG8gY3JlYXRlIHRoZSBOTE0gdGFyZ2V0IGFi
b3ZlLg0KIyBUaGVzZSB3aWxsIGJlIGFkZGVkIGFzIGEgbGlicmFyeSBjb21tYW5kIGluIHRo
ZSBsaW5rLm9wdCBmaWxlLg0KIw0KRklMRVNfbmxtX2xpYnMgPSBcDQoJJChQUkVMVURFKSBc
DQoJJChFT0xJU1QpDQoNCiMNCiMgVGhlc2UgYXJlIHRoZSBtb2R1bGVzIHRoYXQgdGhlIGFi
b3ZlIE5MTSB0YXJnZXQgZGVwZW5kcyBvbiB0byBsb2FkLg0KIyBUaGVzZSB3aWxsIGJlIGFk
ZGVkIGFzIGEgbW9kdWxlIGNvbW1hbmQgaW4gdGhlIGxpbmsub3B0IGZpbGUuDQojDQpGSUxF
U19ubG1fbW9kdWxlcyA9IFwNCglsaWJjIFwNCglhcHJsaWIgXA0KCXByb3h5IFwNCgkkKEVP
TElTVCkNCg0KIw0KIyBJZiB0aGUgbmxtIGhhcyBhIG1zZyBmaWxlLCBwdXQgaXQncyBwYXRo
IGhlcmUNCiMNCkZJTEVfbmxtX21zZyA9DQoNCiMNCiMgSWYgdGhlIG5sbSBoYXMgYSBobHAg
ZmlsZSBwdXQgaXQncyBwYXRoIGhlcmUNCiMNCkZJTEVfbmxtX2hscCA9DQoNCiMNCiMgSWYg
dGhpcyBpcyBzcGVjaWZpZWQsIGl0IHdpbGwgb3ZlcnJpZGUgJChOV09TKVxjb3B5cmlnaHQu
dHh0Lg0KIw0KRklMRV9ubG1fY29weXJpZ2h0ID0NCg0KIw0KIyBBbnkgYWRkaXRpb25hbCBp
bXBvcnRzIGdvIGhlcmUNCiMNCkZJTEVTX25sbV9YaW1wb3J0cyA9IFwNCglAbGliYy5pbXAg
XA0KCUBhcHJsaWIuaW1wIFwNCglAaHR0cGQuaW1wIFwNCglAbW9kX3Byb3h5LmltcCBcDQoJ
JChFT0xJU1QpDQoNCiMgRG9uJ3QgbGluayB3aXRoIFdpbnNvY2sgaWYgc3RhbmRhcmQgc29j
a2V0cyBhcmUgYmVpbmcgdXNlZA0KaWZuZGVmIFVTRV9TVERTT0NLRVRTDQpGSUxFU19ubG1f
WGltcG9ydHMgKz0gQHdzMm5sbS5pbXAgXA0KCSQoRU9MSVNUKQ0KZW5kaWYNCg0KIw0KIyBB
bnkgc3ltYm9scyBleHBvcnRlZCB0byBoZXJlDQojDQpGSUxFU19ubG1fZXhwb3J0cyA9IFwN
Cglwcm94eV9oY2hlY2tfbW9kdWxlIFwNCgkkKEVPTElTVCkNCg0KIw0KIyBUaGVzZSBhcmUg
dGhlIE9CSiBmaWxlcyBuZWVkZWQgdG8gY3JlYXRlIHRoZSBMSUIgdGFyZ2V0IGFib3ZlLg0K
IyBQYXRocyBtdXN0IGFsbCB1c2UgdGhlICcvJyBjaGFyYWN0ZXINCiMNCkZJTEVTX2xpYl9v
YmpzID0gXA0KCSQoRU9MSVNUKQ0KDQojDQojIGltcGxlbWVudCB0YXJnZXRzIGFuZCBkZXBl
bmRhbmNpZXMgKGxlYXZlIHRoaXMgc2VjdGlvbiBhbG9uZSkNCiMNCg0KbGlicyA6OiAkKE9C
SkRJUikgJChUQVJHRVRfbGliKQ0KDQpubG1zIDo6IGxpYnMgJChUQVJHRVRfbmxtKQ0KDQoj
DQojIFVwZGF0ZWQgdGhpcyB0YXJnZXQgdG8gY3JlYXRlIG5lY2Vzc2FyeSBkaXJlY3Rvcmll
cyBhbmQgY29weSBmaWxlcyB0byB0aGUNCiMgY29ycmVjdCBwbGFjZS4gIChTZWUgJChBUF9X
T1JLKS9idWlsZC9OV0dOVWhlYWQuaW5jIGZvciBleGFtcGxlcykNCiMNCmluc3RhbGwgOjog
bmxtcyBGT1JDRQ0KDQojDQojIEFueSBzcGVjaWFsaXplZCBydWxlcyBoZXJlDQojDQoNCnZw
YXRoICUuYyAuLi9hcmNoL25ldHdhcmUNCg0KIw0KIyBJbmNsdWRlIHRoZSAndGFpbCcgbWFr
ZWZpbGUgdGhhdCBoYXMgdGFyZ2V0cyB0aGF0IGRlcGVuZCBvbiB2YXJpYWJsZXMgZGVmaW5l
ZA0KIyBpbiB0aGlzIG1ha2VmaWxlDQojDQoNCmluY2x1ZGUgJChBUEJVSUxEKS9OV0dOVXRh
aWwuaW5jDQoNCg0K
--------------040009000007060704050307--

From dev-return-85470-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb  6 10:17:27 2016
Return-Path: <dev-return-85470-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0CD091847C
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Feb 2016 10:17:27 +0000 (UTC)
Received: (qmail 96224 invoked by uid 500); 6 Feb 2016 10:17:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 96133 invoked by uid 500); 6 Feb 2016 10:17:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 96123 invoked by uid 99); 6 Feb 2016 10:17:19 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Feb 2016 10:17:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 5F23CC0881
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 10:17:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.73
X-Spam-Level:
X-Spam-Status: No, score=-2.73 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.429,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id J9FPnIvqG3ic for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 10:17:18 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 9E0F5439D1
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 10:17:17 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u16AHGIB010164
	for <dev@httpd.apache.org>; Sat, 6 Feb 2016 11:17:16 +0100 (CET)
Subject: Re: health_check for NetWare - httpd-trunk
To: dev@httpd.apache.org
References: <56B590F7.4090403@gknw.net>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56B5C828.2090906@kippdata.de>
Date: Sat, 6 Feb 2016 11:17:12 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B590F7.4090403@gknw.net>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 06.02.2016 um 07:21 schrieb NormW:
> G/A,
> Now that the exports are sorted out (Thanks Rainer) can now build the
> proxy_health_check module for NetWare...
>
> Herewith a patch, proxy_hcheck_netware_add.diff to add the nlm to the
> list of nlm's to build in the /proxy dir:
>> Index: modules/proxy/NWGNUmakefile
>> ===================================================================
>> --- modules/proxy/NWGNUmakefile    (revision 1728785)
>> +++ modules/proxy/NWGNUmakefile    (working copy)
>> @@ -161,6 +161,7 @@
>>      $(OBJDIR)/proxyfcgi.nlm \
>>      $(OBJDIR)/proxyscgi.nlm \
>>      $(OBJDIR)/proxyexpress.nlm \
>> +    $(OBJDIR)/proxyhcheck.nlm \
>>      $(OBJDIR)/proxylbm_busy.nlm \
>>      $(OBJDIR)/proxylbm_hb.nlm \
>>      $(OBJDIR)/proxylbm_req.nlm \
>
> and the build module itself: NWGNUproxyhcheck for modules/proxy dir.
>
> This builds the nlm without issue using the current httpd-trunk.
>
> Please review before commit.

Reviewed and committed. Thanks a bunch!

Rainer


From dev-return-85471-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb  6 10:58:26 2016
Return-Path: <dev-return-85471-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 985D418500
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Feb 2016 10:58:26 +0000 (UTC)
Received: (qmail 28148 invoked by uid 500); 6 Feb 2016 10:58:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28052 invoked by uid 500); 6 Feb 2016 10:58:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28042 invoked by uid 99); 6 Feb 2016 10:58:25 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Feb 2016 10:58:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 78BA21A07D7
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 10:58:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.179
X-Spam-Level: ***
X-Spam-Status: No, score=3.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, KAM_BADIPHTTP=2, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id pJONGPcJTQOw for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 10:58:22 +0000 (UTC)
Received: from mail-wm0-f48.google.com (mail-wm0-f48.google.com [74.125.82.48])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D523E31AD5
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 10:58:21 +0000 (UTC)
Received: by mail-wm0-f48.google.com with SMTP id g62so58647073wme.0
        for <dev@httpd.apache.org>; Sat, 06 Feb 2016 02:58:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=psVh2sSekF3wTbdcOl0Q2YvaxVqQ6XamWgaj3OKx3sY=;
        b=BiUGeCMw9y2glomeXN/YWNPRCYPP0TzQZ3Iqdat4cEl742a7Kea8xAenC9JLIc51qq
         X22Q2YCGD9JsWp+5VMM2AvoZbs06bNiowEbDrV5MIqBlmBZu2QSgXsHmsBxrneu6/z5H
         s5XI7sAcR2MRCJk6WZt1dGOh+/fbtlAu8+3Ajp3hq569YaTstGQbS4PbhDdJC4oLxkOD
         hbcIrsWEQNzwQw6wQAGfEUrZy9xOjQrtGr3+6A/oxAbzcFvx4d8Q/VGL2yz8BUOddx4k
         L6m7lOJu6t9PrNIEDOSr48xcUaQLo+cooAlHoiT7AbQrbxS2upoeuE+OcE7Jm53ALNGf
         elig==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=psVh2sSekF3wTbdcOl0Q2YvaxVqQ6XamWgaj3OKx3sY=;
        b=C27GPCz74HxMTcL62dODclAsN+NwwvgTo1yzlN2cM+4TMG6QnOn0FUl+W9ZOkK4+ro
         hAw6OelNN5632uRJFuVkSbYOlmM8KPzlQ0mHuOqD0+WbiGw8+rZV1ljGH4LlPagteuzf
         lQtYytPjYNniGQ/hLA+Ufge8KQw4HIx80XTuofIVYMwnRSngKD3cTXsu0R9sjOEq56Vt
         1s8OrYdo42YUmRGI1hiSOjqNeLzCjOy2AbvV4pbUoJgiQHfhZTV/GNLEjYeKpUoRBb62
         L0pENXUzAKZNYRu38smbI3cgmeRKhwPUMIo/cKfggU62Y4HjSG7U/fJ1HZGiroTz3jPZ
         jFMQ==
X-Gm-Message-State: AG10YOSN1LXfVwu6OBXKYfJS8ONszx7wY1KukuVPFpGDZzDey8DHvyZWbw70gLaQql22X7El9z8lI1R+Asl+Mg==
MIME-Version: 1.0
X-Received: by 10.28.142.8 with SMTP id q8mr40583014wmd.47.1454756295279; Sat,
 06 Feb 2016 02:58:15 -0800 (PST)
Received: by 10.194.37.198 with HTTP; Sat, 6 Feb 2016 02:58:15 -0800 (PST)
In-Reply-To: <3A242214-802F-4DAE-A124-7FEB0B23D54D@jaguNET.com>
References: <CAL7UUk-qyES+aMMSN6aBGi1rb=K3Q+pif4FbU__Lqkku7f2t0w@mail.gmail.com>
	<CACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com>
	<CAL7UUk_z-CgL1255w8ScgUW+oFtpuybvzoK_kQykbQNv025N_g@mail.gmail.com>
	<CACsi251twJxjTjEbjEnFuE2x49KX-BrVi=MSAs3-7L=ypaKQ7Q@mail.gmail.com>
	<CAL7UUk_1rvLqgNsOMKN-1GxeBWXb2Q3XVAjbbn4+1th9GdAOcw@mail.gmail.com>
	<CAL7UUk9Mc=MUVaQXPvc+mcaoik+=pFW7EW_ccTXbBmo9W0JB1Q@mail.gmail.com>
	<3A242214-802F-4DAE-A124-7FEB0B23D54D@jaguNET.com>
Date: Sat, 6 Feb 2016 13:58:15 +0300
Message-ID: <CAL7UUk_7M4Qk6eDJ_764qFXj5vMutS3PP8GnhVXiV0aJwv1ABg@mail.gmail.com>
Subject: Re: collaboration request - apache server automation testing with
 swat tool
From: Alexey Melezhik <melezhik@gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1144278a370a76052b17d8d2

--001a1144278a370a76052b17d8d2
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Personally, I like the idea of having another framework;
the current one is OK but somewhat "painful" to update.

Ah, now I understand you, ))), you are talking about current framework.

=D0=BF=D1=8F=D1=82=D0=BD=D0=B8=D1=86=D0=B0, 5 =D1=84=D0=B5=D0=B2=D1=80=D0=
=B0=D0=BB=D1=8F 2016 =D0=B3. =D0=BF=D0=BE=D0=BB=D1=8C=D0=B7=D0=BE=D0=B2=D0=
=B0=D1=82=D0=B5=D0=BB=D1=8C Jim Jagielski =D0=BD=D0=B0=D0=BF=D0=B8=D1=81=D0=
=B0=D0=BB:

> Personally, I like the idea of having another framework;
> the current one is OK but somewhat "painful" to update.
>
> I wonder how possible it would be to transcode the old tests
> to Swat? We could then provide for 2 testing frameworks, one
> developed by the ASF and the other external and 3rd party.
>
>
> > On Feb 1, 2016, at 5:23 AM, Alexey Melezhik <melezhik@gmail.com
> <javascript:;>> wrote:
> >
> > Here the list of existed issues I was able to automate tests for:
> >
> > vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ ls -1 | grep -P
> '\d'
> > 44221
> > 46751
> > 58789
> > 58828
> > 58854
> >
> >
> > I have informed developers at https://bz.apache.org/bugzilla/ about
> > these, so they rely upon them. Or you have some pre-release testing,
> > so run all of these in a whole chunk?
> >
> > Regards
> >
> > Alexey
> >
> > PS chaining issues / tests listing  as always -
> > https://github.com/melezhik/apache-swat
> >
> > PS2 it'd be could to verify tests as well against "bleeding edge"
> > apache version gets installed from SCM, but I don't know how to do
> > this.
> > Currently I use http://httpd.apache.org/download.cgi ( last stable
> release )
> >
> >
> >
> > 2016-01-30 21:36 GMT+03:00 Alexey Melezhik <melezhik@gmail.com
> <javascript:;>>:
> >> Hi Bill!
> >>
> >> I have started to assemble swat tests  for apache2 issues coming from
> >> https://bz.apache.org/bugzilla
> >>
> >> And this the first one -
> https://bz.apache.org/bugzilla/show_bug.cgi?id=3D44221 ,
> >>
> >> Test suite is failed for the moment :
> >>
> >>
> >> vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ swat -t 44221
> >> /home/vagrant/.swat/.cache/384/prove/44221/foo.baz/00.GET.t ...
> >> ok 1 - GET 127.0.0.1/44221/foo.baz succeeded
> >> # http headers saved to
> /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ.hdr
> >> # body saved to /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ
> >> ok 2 - output match '200 OK'
> >> 1..2
> >> ok
> >> /home/vagrant/.swat/.cache/384/prove/44221/FOO.bar/00.GET.t ...
> >> ok 1 - GET 127.0.0.1/44221/FOO.bar succeeded
> >> # http headers saved to
> /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe.hdr
> >> # body saved to /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe
> >> ok 2 - output match '200 OK'
> >> ok 3 - output match /Location: \S+/
> >> ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
> >> 1..4
> >> ok
> >> /home/vagrant/.swat/.cache/384/prove/44221/foo.BAR/00.GET.t ...
> >> ok 1 - GET 127.0.0.1/44221/foo.BAR succeeded
> >> # http headers saved to
> /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ.hdr
> >> # body saved to /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ
> >> ok 2 - output match '200 OK'
> >> ok 3 - output match /Location: \S+/
> >> ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
> >> 1..4
> >> ok
> >> /home/vagrant/.swat/.cache/384/prove/44221/foo.bar/00.GET.t ...
> >> ok 1 - GET 127.0.0.1/44221/foo.bar succeeded
> >> # http headers saved to
> /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv.hdr
> >> # body saved to /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv
> >> ok 2 - output match '200 OK'
> >> 1..2
> >> ok
> >> /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t ..
> >> ok 1 - GET 127.0.0.1/44221/foo.html succeeded
> >> # http headers saved to
> /home/vagrant/.swat/.cache/384/prove/tW2L511eym.hdr
> >> # body saved to /home/vagrant/.swat/.cache/384/prove/tW2L511eym
> >> ok 2 - output match /HTTP\/(\S+) (\d+) \S+/
> >> not ok 3 - 'HTTP/1.1 300 Multiple Choices' match /404 /
> >>
> >> #   Failed test ''HTTP/1.1 300 Multiple Choices' match /404 /'
> >> #   at /usr/local/share/perl/5.20.2/swat.pm line 218.
> >> not ok 4 - output match 'Not Found'
> >>
> >> #   Failed test 'output match 'Not Found''
> >> #   at /usr/local/share/perl/5.20.2/swat.pm line 218.
> >> 1..4
> >> # Looks like you failed 2 tests of 4.
> >> Dubious, test returned 2 (wstat 512, 0x200)
> >> Failed 2/4 subtests
> >>
> >> Test Summary Report
> >> -------------------
> >> /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t (Wstat:
> >> 512 Tests: 4 Failed: 2)
> >>  Failed tests:  3-4
> >>  Non-zero exit status: 2
> >> Files=3D5, Tests=3D16,  0 wallclock secs ( 0.03 usr  0.00 sys +  0.27 =
cusr
> >> 0.00 csys =3D  0.30 CPU)
> >> Result: FAIL
> >>
> >> ...
> >>
> >> Ok, this is just the beginning ;-))) , watch soon updates at -
> >> https://github.com/melezhik/apache-swat
> >>
> >> 2016-01-29 20:44 GMT+03:00 William A Rowe Jr <wrowe@rowe-clan.net
> <javascript:;>>:
> >>> On Fri, Jan 29, 2016 at 6:35 AM, Alexey Melezhik <melezhik@gmail.com
> <javascript:;>> wrote:
> >>>>
> >>>> Hi Bill!
> >>>>
> >>>> Any news? ( Please see my previous reply ...)
> >>>> Intr
> >>>
> >>>
> >>> Intrigued :)  But my responses will be delayed, I personally
> >>> won't have time to look further myself until other backlogged
> >>> commitments to httpd are caught up some more.
> >>>
> >>> Be aware many of us have only a few hours to participate in the
> >>> httpd project itself, so it will take several days or more to gather
> >>> feedback on your interest and perhaps a champion to drive such
> >>> an effort if it is actively driven from this side.  Of course that
> >>> should not stop you from assembling some ideas at the vcs of
> >>> your choice, and sharing a link for those who want to look at an
> >>> early draft of such an effort!
> >>>
> >>> Cheers,
> >>>
> >>> Bill
>
>

--001a1144278a370a76052b17d8d2
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<font size=3D"2"><span style=3D"background-color:rgba(255,255,255,0)">Perso=
nally, I like the idea of having another framework;<br>the current one is O=
K but somewhat &quot;painful&quot; to update.</span></font><div><font size=
=3D"2"><span style=3D"-webkit-tap-highlight-color: rgba(26, 26, 26, 0.30196=
1);"><br></span></font></div><div><font size=3D"2"><span style=3D"-webkit-t=
ap-highlight-color: rgba(26, 26, 26, 0.301961);">Ah, now I understand you, =
))), you are talking about current framework.=C2=A0<br></span></font><br>=
=D0=BF=D1=8F=D1=82=D0=BD=D0=B8=D1=86=D0=B0, 5 =D1=84=D0=B5=D0=B2=D1=80=D0=
=B0=D0=BB=D1=8F 2016 =D0=B3. =D0=BF=D0=BE=D0=BB=D1=8C=D0=B7=D0=BE=D0=B2=D0=
=B0=D1=82=D0=B5=D0=BB=D1=8C Jim Jagielski  =D0=BD=D0=B0=D0=BF=D0=B8=D1=81=
=D0=B0=D0=BB:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8=
ex;border-left:1px #ccc solid;padding-left:1ex">Personally, I like the idea=
 of having another framework;<br>
the current one is OK but somewhat &quot;painful&quot; to update.<br>
<br>
I wonder how possible it would be to transcode the old tests<br>
to Swat? We could then provide for 2 testing frameworks, one<br>
developed by the ASF and the other external and 3rd party.<br>
<br>
<br>
&gt; On Feb 1, 2016, at 5:23 AM, Alexey Melezhik &lt;<a href=3D"javascript:=
;" onclick=3D"_e(event, &#39;cvml&#39;, &#39;melezhik@gmail.com&#39;)">mele=
zhik@gmail.com</a>&gt; wrote:<br>
&gt;<br>
&gt; Here the list of existed issues I was able to automate tests for:<br>
&gt;<br>
&gt; vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ ls -1 | grep -P =
&#39;\d&#39;<br>
&gt; 44221<br>
&gt; 46751<br>
&gt; 58789<br>
&gt; 58828<br>
&gt; 58854<br>
&gt;<br>
&gt;<br>
&gt; I have informed developers at <a href=3D"https://bz.apache.org/bugzill=
a/" target=3D"_blank">https://bz.apache.org/bugzilla/</a> about<br>
&gt; these, so they rely upon them. Or you have some pre-release testing,<b=
r>
&gt; so run all of these in a whole chunk?<br>
&gt;<br>
&gt; Regards<br>
&gt;<br>
&gt; Alexey<br>
&gt;<br>
&gt; PS chaining issues / tests listing=C2=A0 as always -<br>
&gt; <a href=3D"https://github.com/melezhik/apache-swat" target=3D"_blank">=
https://github.com/melezhik/apache-swat</a><br>
&gt;<br>
&gt; PS2 it&#39;d be could to verify tests as well against &quot;bleeding e=
dge&quot;<br>
&gt; apache version gets installed from SCM, but I don&#39;t know how to do=
<br>
&gt; this.<br>
&gt; Currently I use <a href=3D"http://httpd.apache.org/download.cgi" targe=
t=3D"_blank">http://httpd.apache.org/download.cgi</a> ( last stable release=
 )<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt; 2016-01-30 21:36 GMT+03:00 Alexey Melezhik &lt;<a href=3D"javascript:;=
" onclick=3D"_e(event, &#39;cvml&#39;, &#39;melezhik@gmail.com&#39;)">melez=
hik@gmail.com</a>&gt;:<br>
&gt;&gt; Hi Bill!<br>
&gt;&gt;<br>
&gt;&gt; I have started to assemble swat tests=C2=A0 for apache2 issues com=
ing from<br>
&gt;&gt; <a href=3D"https://bz.apache.org/bugzilla" target=3D"_blank">https=
://bz.apache.org/bugzilla</a><br>
&gt;&gt;<br>
&gt;&gt; And this the first one - <a href=3D"https://bz.apache.org/bugzilla=
/show_bug.cgi?id=3D44221" target=3D"_blank">https://bz.apache.org/bugzilla/=
show_bug.cgi?id=3D44221</a> ,<br>
&gt;&gt;<br>
&gt;&gt; Test suite is failed for the moment :<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ swat -t 4422=
1<br>
&gt;&gt; /home/vagrant/.swat/.cache/384/prove/44221/foo.baz/00.GET.t ...<br=
>
&gt;&gt; ok 1 - GET <a href=3D"http://127.0.0.1/44221/foo.baz" target=3D"_b=
lank">127.0.0.1/44221/foo.baz</a> succeeded<br>
&gt;&gt; # http headers saved to /home/vagrant/.swat/.cache/384/prove/52jLA=
o76YZ.hdr<br>
&gt;&gt; # body saved to /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ<br=
>
&gt;&gt; ok 2 - output match &#39;200 OK&#39;<br>
&gt;&gt; 1..2<br>
&gt;&gt; ok<br>
&gt;&gt; /home/vagrant/.swat/.cache/384/prove/44221/FOO.bar/00.GET.t ...<br=
>
&gt;&gt; ok 1 - GET <a href=3D"http://127.0.0.1/44221/FOO.bar" target=3D"_b=
lank">127.0.0.1/44221/FOO.bar</a> succeeded<br>
&gt;&gt; # http headers saved to /home/vagrant/.swat/.cache/384/prove/DvEZn=
O6ALe.hdr<br>
&gt;&gt; # body saved to /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe<br=
>
&gt;&gt; ok 2 - output match &#39;200 OK&#39;<br>
&gt;&gt; ok 3 - output match /Location: \S+/<br>
&gt;&gt; ok 4 - &#39;Location: <a href=3D"http://127.0.0.1/44221/foo.bar" t=
arget=3D"_blank">http://127.0.0.1/44221/foo.bar</a>&#39; match &#39;foo.bar=
&#39;<br>
&gt;&gt; 1..4<br>
&gt;&gt; ok<br>
&gt;&gt; /home/vagrant/.swat/.cache/384/prove/44221/foo.BAR/00.GET.t ...<br=
>
&gt;&gt; ok 1 - GET <a href=3D"http://127.0.0.1/44221/foo.BAR" target=3D"_b=
lank">127.0.0.1/44221/foo.BAR</a> succeeded<br>
&gt;&gt; # http headers saved to /home/vagrant/.swat/.cache/384/prove/bWQ1S=
bl0YZ.hdr<br>
&gt;&gt; # body saved to /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ<br=
>
&gt;&gt; ok 2 - output match &#39;200 OK&#39;<br>
&gt;&gt; ok 3 - output match /Location: \S+/<br>
&gt;&gt; ok 4 - &#39;Location: <a href=3D"http://127.0.0.1/44221/foo.bar" t=
arget=3D"_blank">http://127.0.0.1/44221/foo.bar</a>&#39; match &#39;foo.bar=
&#39;<br>
&gt;&gt; 1..4<br>
&gt;&gt; ok<br>
&gt;&gt; /home/vagrant/.swat/.cache/384/prove/44221/foo.bar/00.GET.t ...<br=
>
&gt;&gt; ok 1 - GET <a href=3D"http://127.0.0.1/44221/foo.bar" target=3D"_b=
lank">127.0.0.1/44221/foo.bar</a> succeeded<br>
&gt;&gt; # http headers saved to /home/vagrant/.swat/.cache/384/prove/Jd_hl=
o7Qwv.hdr<br>
&gt;&gt; # body saved to /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv<br=
>
&gt;&gt; ok 2 - output match &#39;200 OK&#39;<br>
&gt;&gt; 1..2<br>
&gt;&gt; ok<br>
&gt;&gt; /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t ..<br=
>
&gt;&gt; ok 1 - GET <a href=3D"http://127.0.0.1/44221/foo.html" target=3D"_=
blank">127.0.0.1/44221/foo.html</a> succeeded<br>
&gt;&gt; # http headers saved to /home/vagrant/.swat/.cache/384/prove/tW2L5=
11eym.hdr<br>
&gt;&gt; # body saved to /home/vagrant/.swat/.cache/384/prove/tW2L511eym<br=
>
&gt;&gt; ok 2 - output match /HTTP\/(\S+) (\d+) \S+/<br>
&gt;&gt; not ok 3 - &#39;HTTP/1.1 300 Multiple Choices&#39; match /404 /<br=
>
&gt;&gt;<br>
&gt;&gt; #=C2=A0 =C2=A0Failed test &#39;&#39;HTTP/1.1 300 Multiple Choices&=
#39; match /404 /&#39;<br>
&gt;&gt; #=C2=A0 =C2=A0at /usr/local/share/perl/5.20.2/<a href=3D"http://sw=
at.pm" target=3D"_blank">swat.pm</a> line 218.<br>
&gt;&gt; not ok 4 - output match &#39;Not Found&#39;<br>
&gt;&gt;<br>
&gt;&gt; #=C2=A0 =C2=A0Failed test &#39;output match &#39;Not Found&#39;&#3=
9;<br>
&gt;&gt; #=C2=A0 =C2=A0at /usr/local/share/perl/5.20.2/<a href=3D"http://sw=
at.pm" target=3D"_blank">swat.pm</a> line 218.<br>
&gt;&gt; 1..4<br>
&gt;&gt; # Looks like you failed 2 tests of 4.<br>
&gt;&gt; Dubious, test returned 2 (wstat 512, 0x200)<br>
&gt;&gt; Failed 2/4 subtests<br>
&gt;&gt;<br>
&gt;&gt; Test Summary Report<br>
&gt;&gt; -------------------<br>
&gt;&gt; /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t (Wsta=
t:<br>
&gt;&gt; 512 Tests: 4 Failed: 2)<br>
&gt;&gt;=C2=A0 Failed tests:=C2=A0 3-4<br>
&gt;&gt;=C2=A0 Non-zero exit status: 2<br>
&gt;&gt; Files=3D5, Tests=3D16,=C2=A0 0 wallclock secs ( 0.03 usr=C2=A0 0.0=
0 sys +=C2=A0 0.27 cusr<br>
&gt;&gt; 0.00 csys =3D=C2=A0 0.30 CPU)<br>
&gt;&gt; Result: FAIL<br>
&gt;&gt;<br>
&gt;&gt; ...<br>
&gt;&gt;<br>
&gt;&gt; Ok, this is just the beginning ;-))) , watch soon updates at -<br>
&gt;&gt; <a href=3D"https://github.com/melezhik/apache-swat" target=3D"_bla=
nk">https://github.com/melezhik/apache-swat</a><br>
&gt;&gt;<br>
&gt;&gt; 2016-01-29 20:44 GMT+03:00 William A Rowe Jr &lt;<a href=3D"javasc=
ript:;" onclick=3D"_e(event, &#39;cvml&#39;, &#39;wrowe@rowe-clan.net&#39;)=
">wrowe@rowe-clan.net</a>&gt;:<br>
&gt;&gt;&gt; On Fri, Jan 29, 2016 at 6:35 AM, Alexey Melezhik &lt;<a href=
=3D"javascript:;" onclick=3D"_e(event, &#39;cvml&#39;, &#39;melezhik@gmail.=
com&#39;)">melezhik@gmail.com</a>&gt; wrote:<br>
&gt;&gt;&gt;&gt;<br>
&gt;&gt;&gt;&gt; Hi Bill!<br>
&gt;&gt;&gt;&gt;<br>
&gt;&gt;&gt;&gt; Any news? ( Please see my previous reply ...)<br>
&gt;&gt;&gt;&gt; Intr<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Intrigued :)=C2=A0 But my responses will be delayed, I persona=
lly<br>
&gt;&gt;&gt; won&#39;t have time to look further myself until other backlog=
ged<br>
&gt;&gt;&gt; commitments to httpd are caught up some more.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Be aware many of us have only a few hours to participate in th=
e<br>
&gt;&gt;&gt; httpd project itself, so it will take several days or more to =
gather<br>
&gt;&gt;&gt; feedback on your interest and perhaps a champion to drive such=
<br>
&gt;&gt;&gt; an effort if it is actively driven from this side.=C2=A0 Of co=
urse that<br>
&gt;&gt;&gt; should not stop you from assembling some ideas at the vcs of<b=
r>
&gt;&gt;&gt; your choice, and sharing a link for those who want to look at =
an<br>
&gt;&gt;&gt; early draft of such an effort!<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Cheers,<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Bill<br>
<br>
</blockquote></div>

--001a1144278a370a76052b17d8d2--

From dev-return-85472-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb  6 11:28:11 2016
Return-Path: <dev-return-85472-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ADC1D185A8
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Feb 2016 11:28:11 +0000 (UTC)
Received: (qmail 49269 invoked by uid 500); 6 Feb 2016 11:28:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49169 invoked by uid 500); 6 Feb 2016 11:28:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49159 invoked by uid 99); 6 Feb 2016 11:28:11 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Feb 2016 11:28:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D7060180512
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 11:28:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.73
X-Spam-Level:
X-Spam-Status: No, score=-2.73 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.429,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id G7Cov4RAyatG for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 11:28:09 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id C3A2120D7B
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 11:28:08 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u16BS88w010440
	for <dev@httpd.apache.org>; Sat, 6 Feb 2016 12:28:08 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: Rainer Jung <rainer.jung@kippdata.de>
Subject: Netware proxy makefiles and USE_STDSOCKETS
Message-ID: <56B5D8C4.9060207@kippdata.de>
Date: Sat, 6 Feb 2016 12:28:04 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi there,

most of the proxy makefiles contain the following block:

# Don't link with Winsock if standard sockets are being used
ifndef USE_STDSOCKETS
FILES_nlm_Ximports += @ws2nlm.imp \
         $(EOLIST)
endif


But it is missing from:

- NWGNUproxycon
- NWGNUproxywstunnel
- all of the NWGNUproxylbm_... files

Is there a reason for this? Can it be added to all of them? Could it 
then be moved to NWGNUmakefile instead?

Regards,

Rainer

From dev-return-85473-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb  6 14:37:10 2016
Return-Path: <dev-return-85473-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 240AB1889C
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Feb 2016 14:37:10 +0000 (UTC)
Received: (qmail 79374 invoked by uid 500); 6 Feb 2016 14:37:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 79296 invoked by uid 500); 6 Feb 2016 14:37:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 79286 invoked by uid 99); 6 Feb 2016 14:37:09 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Feb 2016 14:37:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A7EB5C0F55
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 14:37:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.652
X-Spam-Level: **
X-Spam-Status: No, score=2.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, KAM_BADIPHTTP=2,
	RCVD_IN_DNSWL_NONE=-0.0001, SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id FZrsnxqe7eiQ for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 14:37:06 +0000 (UTC)
Received: from resqmta-po-07v.sys.comcast.net (resqmta-po-07v.sys.comcast.net [96.114.154.166])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 686E520D37
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 14:37:06 +0000 (UTC)
Received: from resomta-po-10v.sys.comcast.net ([96.114.154.234])
	by resqmta-po-07v.sys.comcast.net with comcast
	id F2cc1s00453iAfU012d0on; Sat, 06 Feb 2016 14:37:00 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-10v.sys.comcast.net with comcast
	id F2ay1s00R2U0RYt012azfJ; Sat, 06 Feb 2016 14:35:00 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: collaboration request - apache server automation testing with swat tool
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAL7UUk-dhWTwwvTDVguG3kTRCVuoqwBEr8ce=RCg3UGU_KzY9Q@mail.gmail.com>
Date: Sat, 6 Feb 2016 09:34:58 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <5E31AE6F-82C9-41E2-B9B9-ECB085FEED71@jaguNET.com>
References: <CAL7UUk-qyES+aMMSN6aBGi1rb=K3Q+pif4FbU__Lqkku7f2t0w@mail.gmail.com> <CACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com> <CAL7UUk_z-CgL1255w8ScgUW+oFtpuybvzoK_kQykbQNv025N_g@mail.gmail.com> <CACsi251twJxjTjEbjEnFuE2x49KX-BrVi=MSAs3-7L=ypaKQ7Q@mail.gmail.com> <CAL7UUk_1rvLqgNsOMKN-1GxeBWXb2Q3XVAjbbn4+1th9GdAOcw@mail.gmail.com> <CAL7UUk9Mc=MUVaQXPvc+mcaoik+=pFW7EW_ccTXbBmo9W0JB1Q@mail.gmail.com> <3A242214-802F-4DAE-A124-7FEB0B23D54D@jaguNET.com> <CAL7UUk_nycXky=RMTSEBA5cZr7JeezySnZdxY18a_7h9jxKiRw@mail.gmail.com> <CAL7UUk-dhWTwwvTDVguG3kTRCVuoqwBEr8ce=RCg3UGU_KzY9Q@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1454769420;
	bh=rQt5EnHGr01DhX01yHUcw5ML93FMGdTUNs7/nmBk0X8=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=P9D1xo6cnLvhQBSAMEes/jzlMnQLznr0tus35ER8aZNVDnI6MrTlbn/PykztVIiG4
	 oIWMSb+VCh5Og2XmjiHbPRdNJWyyUm2AMBIWngOpFX6EbI77gHWFza7p49jXyPcHo0
	 hhIRzeB4rm/W4OvFemsRU5kmPIMbR9iam/MrxF3ayhDZrtpAJYP9X/Uu7lw/qWi3ak
	 yMnLNkK8P+Eb29dYUqqLetGYURRqQfM6O23VRWHlVM9QQBrq1P+Lzjt4tmca4WejcA
	 DSrErQzjyn1XGqI2s1XzKiOnT6ZXkY20BqnLTEO8644b7CmYmRv6N9vvsMSq/SjwZd
	 wcy5f1/oXqHfg==


> On Feb 5, 2016, at 9:26 AM, Alexey Melezhik <melezhik@gmail.com> =
wrote:
>=20
>> I wonder how possible it would be to transcode the old tests to Swat?
>=20
> Swat has some architectural specifics. As it simply makes http
> requests ( by curl ) and validate server response ( by swat DSL ) it
> is considered as black box testing tools , there is no way to interact
> with httpd internal structure. So probably most of old tests could be
> easily ported but some probably not ( which implies something more
> complicated ).
>=20

Most of the other tests w/ the old framework is the exact same...
requests sent and responses verified against what is expected.

> Basically  swat could cover simple and average use cases, everything
> that could  expressed in terms of make http requests and then
> analyzing an output , see examples for some issues I have expressed in
> swat scenarios at https://github.com/melezhik/apache-swat
>=20
>=20
> Also alternatively we may run 2 frameworks in parallel. Apache-swat is
> intended for developers usage first and is able to run per-issues
> test.
>=20
> This how I see possible  workflow:
>=20
> * developer accept a bug request
> * developer ( or some else ) create swat test for given bug/feature
> * so we have `test first` approach - everyone involved in bug/feature
> resolution has possibility to verify changes by simply running :
>=20
> swat -t $issue-id
>=20
>=20
>=20
>=20
>=20
>=20
> 2016-02-05 17:08 GMT+03:00 Alexey Melezhik <melezhik@gmail.com>:
>> 2016-02-05 17:01 GMT+03:00 Jim Jagielski <jim@jagunet.com>:
>>> Personally, I like the idea of having another framework;
>>> the current one is OK but somewhat "painful" to update.
>>=20
>> Hi! What kind of possible issues you here ? when saying "painful" to
>> update, please explain.
>> Thanks.
>>=20
>> Also , please consider this link - =
https://github.com/melezhik/apache-swat and
>> this post - =
http://mail-archives.apache.org/mod_mbox/httpd-dev/201602.mbox/%3CCAL7UUk-=
zqb1=3D7wDvCe8E-Ku=3DU=3DaY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com%3E
>> as latest version of this idea ....
>>=20
>>=20
>>=20
>>=20
>>=20
>>>=20
>>> I wonder how possible it would be to transcode the old tests
>>> to Swat? We could then provide for 2 testing frameworks, one
>>> developed by the ASF and the other external and 3rd party.
>>>=20
>>>=20
>>>> On Feb 1, 2016, at 5:23 AM, Alexey Melezhik <melezhik@gmail.com> =
wrote:
>>>>=20
>>>> Here the list of existed issues I was able to automate tests for:
>>>>=20
>>>> vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ ls -1 | grep =
-P '\d'
>>>> 44221
>>>> 46751
>>>> 58789
>>>> 58828
>>>> 58854
>>>>=20
>>>>=20
>>>> I have informed developers at https://bz.apache.org/bugzilla/ about
>>>> these, so they rely upon them. Or you have some pre-release =
testing,
>>>> so run all of these in a whole chunk?
>>>>=20
>>>> Regards
>>>>=20
>>>> Alexey
>>>>=20
>>>> PS chaining issues / tests listing  as always -
>>>> https://github.com/melezhik/apache-swat
>>>>=20
>>>> PS2 it'd be could to verify tests as well against "bleeding edge"
>>>> apache version gets installed from SCM, but I don't know how to do
>>>> this.
>>>> Currently I use http://httpd.apache.org/download.cgi ( last stable =
release )
>>>>=20
>>>>=20
>>>>=20
>>>> 2016-01-30 21:36 GMT+03:00 Alexey Melezhik <melezhik@gmail.com>:
>>>>> Hi Bill!
>>>>>=20
>>>>> I have started to assemble swat tests  for apache2 issues coming =
from
>>>>> https://bz.apache.org/bugzilla
>>>>>=20
>>>>> And this the first one - =
https://bz.apache.org/bugzilla/show_bug.cgi?id=3D44221 ,
>>>>>=20
>>>>> Test suite is failed for the moment :
>>>>>=20
>>>>>=20
>>>>> vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ swat -t =
44221
>>>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.baz/00.GET.t ...
>>>>> ok 1 - GET 127.0.0.1/44221/foo.baz succeeded
>>>>> # http headers saved to =
/home/vagrant/.swat/.cache/384/prove/52jLAo76YZ.hdr
>>>>> # body saved to /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ
>>>>> ok 2 - output match '200 OK'
>>>>> 1..2
>>>>> ok
>>>>> /home/vagrant/.swat/.cache/384/prove/44221/FOO.bar/00.GET.t ...
>>>>> ok 1 - GET 127.0.0.1/44221/FOO.bar succeeded
>>>>> # http headers saved to =
/home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe.hdr
>>>>> # body saved to /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe
>>>>> ok 2 - output match '200 OK'
>>>>> ok 3 - output match /Location: \S+/
>>>>> ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
>>>>> 1..4
>>>>> ok
>>>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.BAR/00.GET.t ...
>>>>> ok 1 - GET 127.0.0.1/44221/foo.BAR succeeded
>>>>> # http headers saved to =
/home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ.hdr
>>>>> # body saved to /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ
>>>>> ok 2 - output match '200 OK'
>>>>> ok 3 - output match /Location: \S+/
>>>>> ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
>>>>> 1..4
>>>>> ok
>>>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.bar/00.GET.t ...
>>>>> ok 1 - GET 127.0.0.1/44221/foo.bar succeeded
>>>>> # http headers saved to =
/home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv.hdr
>>>>> # body saved to /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv
>>>>> ok 2 - output match '200 OK'
>>>>> 1..2
>>>>> ok
>>>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t ..
>>>>> ok 1 - GET 127.0.0.1/44221/foo.html succeeded
>>>>> # http headers saved to =
/home/vagrant/.swat/.cache/384/prove/tW2L511eym.hdr
>>>>> # body saved to /home/vagrant/.swat/.cache/384/prove/tW2L511eym
>>>>> ok 2 - output match /HTTP\/(\S+) (\d+) \S+/
>>>>> not ok 3 - 'HTTP/1.1 300 Multiple Choices' match /404 /
>>>>>=20
>>>>> #   Failed test ''HTTP/1.1 300 Multiple Choices' match /404 /'
>>>>> #   at /usr/local/share/perl/5.20.2/swat.pm line 218.
>>>>> not ok 4 - output match 'Not Found'
>>>>>=20
>>>>> #   Failed test 'output match 'Not Found''
>>>>> #   at /usr/local/share/perl/5.20.2/swat.pm line 218.
>>>>> 1..4
>>>>> # Looks like you failed 2 tests of 4.
>>>>> Dubious, test returned 2 (wstat 512, 0x200)
>>>>> Failed 2/4 subtests
>>>>>=20
>>>>> Test Summary Report
>>>>> -------------------
>>>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t =
(Wstat:
>>>>> 512 Tests: 4 Failed: 2)
>>>>> Failed tests:  3-4
>>>>> Non-zero exit status: 2
>>>>> Files=3D5, Tests=3D16,  0 wallclock secs ( 0.03 usr  0.00 sys +  =
0.27 cusr
>>>>> 0.00 csys =3D  0.30 CPU)
>>>>> Result: FAIL
>>>>>=20
>>>>> ...
>>>>>=20
>>>>> Ok, this is just the beginning ;-))) , watch soon updates at -
>>>>> https://github.com/melezhik/apache-swat
>>>>>=20
>>>>> 2016-01-29 20:44 GMT+03:00 William A Rowe Jr =
<wrowe@rowe-clan.net>:
>>>>>> On Fri, Jan 29, 2016 at 6:35 AM, Alexey Melezhik =
<melezhik@gmail.com> wrote:
>>>>>>>=20
>>>>>>> Hi Bill!
>>>>>>>=20
>>>>>>> Any news? ( Please see my previous reply ...)
>>>>>>> Intr
>>>>>>=20
>>>>>>=20
>>>>>> Intrigued :)  But my responses will be delayed, I personally
>>>>>> won't have time to look further myself until other backlogged
>>>>>> commitments to httpd are caught up some more.
>>>>>>=20
>>>>>> Be aware many of us have only a few hours to participate in the
>>>>>> httpd project itself, so it will take several days or more to =
gather
>>>>>> feedback on your interest and perhaps a champion to drive such
>>>>>> an effort if it is actively driven from this side.  Of course =
that
>>>>>> should not stop you from assembling some ideas at the vcs of
>>>>>> your choice, and sharing a link for those who want to look at an
>>>>>> early draft of such an effort!
>>>>>>=20
>>>>>> Cheers,
>>>>>>=20
>>>>>> Bill
>>>=20


From dev-return-85474-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb  6 16:03:36 2016
Return-Path: <dev-return-85474-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E6E1D18B00
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Feb 2016 16:03:36 +0000 (UTC)
Received: (qmail 65578 invoked by uid 500); 6 Feb 2016 16:03:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65508 invoked by uid 500); 6 Feb 2016 16:03:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65498 invoked by uid 99); 6 Feb 2016 16:03:35 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Feb 2016 16:03:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 651C5180512
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 16:03:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_BADIPHTTP=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 4vPIU-hdappi for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 16:03:32 +0000 (UTC)
Received: from mail-wm0-f46.google.com (mail-wm0-f46.google.com [74.125.82.46])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 6E1A442A21
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 16:03:32 +0000 (UTC)
Received: by mail-wm0-f46.google.com with SMTP id r129so63221964wmr.0
        for <dev@httpd.apache.org>; Sat, 06 Feb 2016 08:03:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=cL5MvMIWDCr+scMF6zXBL5bigCM4lU5c6m287jGFh1E=;
        b=SW90AQa9OUm1XfLtTHq6ZYEbn5qd4GKALDdujbVjW3yN8M+nIHRsvljyh2KD5cwhfC
         PAwHIchbJXF1r8zvuvPnMTtozoSgvI07hkQfuC4zVlH/EMuXkCVeBANd1B4N1viKU/eJ
         4jb8n/YcdBgjb9INd/Rr8EffKmy/HNyN0ckfi/99mgQNkSZiV0yi8m4NLy55ctIdvdGT
         T1S9VXNvyiOFCsJYufZtA3tlD93d/z9v0GTTuKTnilSP2PjFi7RZzJ7yPwkV0dlTpkSI
         DW0dtGlz32f9pBh3tftk8iQ20ZRwJYFidEbJxPYSt0iRITmB++5bXTiflR2Aie3V4uy6
         pVvQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=cL5MvMIWDCr+scMF6zXBL5bigCM4lU5c6m287jGFh1E=;
        b=MzpI/ainoHKGmY573BlPZ9zqxxq9r2r/dsw7s74aXidzvgw1rbcUe1nzLA4/7rirTI
         pI2vV7aviShhTp1Ra0O80DWm7iqVYQsCj/h8gzVSo3KEjPNJgwb8wVhzAF0dooF9ymcG
         +2aVrRyIflwH5mZiGuCPH7qcFOsbWiYS8ZEbo47eD4spk6sHprWkVERUlLRddEJwD8dv
         UeUatlSiwXVxjdmulC7hvp3XgOlygdHZVeBRpUjdMfior6nSP33PBGD595qjCX8+2wjD
         Qg3szKp98xJXsTT5pc5d0nLPRJnVA6dfAXoAEXiPIRdpl9Qn6SjpEyIxRSQPgj0N78YF
         Xpfw==
X-Gm-Message-State: AG10YOTNj60vnz3ctekdAoWrTy6Vdb0287YZ6RhTOCp7A+LBgRUJ5F891ZEO+ilTJEJxY2FGoMaHO/17beVoQQ==
MIME-Version: 1.0
X-Received: by 10.28.5.203 with SMTP id 194mr2542968wmf.101.1454774605064;
 Sat, 06 Feb 2016 08:03:25 -0800 (PST)
Received: by 10.194.37.198 with HTTP; Sat, 6 Feb 2016 08:03:24 -0800 (PST)
In-Reply-To: <5E31AE6F-82C9-41E2-B9B9-ECB085FEED71@jaguNET.com>
References: <CAL7UUk-qyES+aMMSN6aBGi1rb=K3Q+pif4FbU__Lqkku7f2t0w@mail.gmail.com>
	<CACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com>
	<CAL7UUk_z-CgL1255w8ScgUW+oFtpuybvzoK_kQykbQNv025N_g@mail.gmail.com>
	<CACsi251twJxjTjEbjEnFuE2x49KX-BrVi=MSAs3-7L=ypaKQ7Q@mail.gmail.com>
	<CAL7UUk_1rvLqgNsOMKN-1GxeBWXb2Q3XVAjbbn4+1th9GdAOcw@mail.gmail.com>
	<CAL7UUk9Mc=MUVaQXPvc+mcaoik+=pFW7EW_ccTXbBmo9W0JB1Q@mail.gmail.com>
	<3A242214-802F-4DAE-A124-7FEB0B23D54D@jaguNET.com>
	<CAL7UUk_nycXky=RMTSEBA5cZr7JeezySnZdxY18a_7h9jxKiRw@mail.gmail.com>
	<CAL7UUk-dhWTwwvTDVguG3kTRCVuoqwBEr8ce=RCg3UGU_KzY9Q@mail.gmail.com>
	<5E31AE6F-82C9-41E2-B9B9-ECB085FEED71@jaguNET.com>
Date: Sat, 6 Feb 2016 19:03:24 +0300
Message-ID: <CAL7UUk_JM2wGdcCK-q0tjKi7uNiF2A6LtYn3L_=9nZCoB=sv-A@mail.gmail.com>
Subject: Re: collaboration request - apache server automation testing with
 swat tool
From: Alexey Melezhik <melezhik@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Sure, then it's probably won't be big deal to port existed test code base.

Here I want to highlight some swat features which make it more then
just engine to make http requests and verify an output.

Swat adds some features  could be of interest in httpd2 testing, to
describe briefly  a few:

- *Curl centric design *

Swat relies on curl heavily, constructing all http requests in a terms
of curl command line utility and then passing them to curl to make
http request. This a  single swat test unit is based  on more or many
http request made by curl. IMHO using curl has some essential benefits
for httpd2 testing, to list a few:

     - often apache server testing implies low level http context
which is out of the box when using cur. Consider a few cases:
        - making http2 protocol requests ( curl does! )
        - setting explicit timeouts ( per initial connection and per
whole requests )
        - issuing "raw" http requests with chunked/broken data to
tests how apache reacts on invalid requests
        - construction of various html related entities  ( forms ,
cookies , named parameters )
        - various types of authentication works out of the box -
--basic, --digest, --ntlm, and --negotiate
        - ssl related testing ( not relates to http but ... )

Also please take into account:

- curl is stable and well supported
- no need to install to many perl dependencies for http related stuff
- all the features granted by latest bleeding edge versions of curl
are here to use

- *Simple debugging*.

As swat uses curl to make http request. _basically_ a failing test
mean you may reproduce the same case manually using curl as you have
all you need here ( http request parameters get dumped into console )
In other words swat is much closer to what people usually do when
carry out manual  testing - get a grip with curl, send command and
then see the output. Such an approach makes it swat's usage extremely
simple and understandable.


- *Sequential curl requests*.

As curl a request oriented ( only one single request could be made at
time ) it has some limits. As swat just uses curl it makes it possible
to create so called sequential/compound requests. When before one
request other request is issued. As trivial example of such a case is
user authentication. When one needs access for restricted http
resources and a preliminary authentication is required.  So first we
need get logged in and only then request a restricted resource. Such a
compound requests on other hand are just a single test story for end
user and are hidden under the hood wheh using swat - see
https://github.com/melezhik/swat#upstream-and-downstream-stories for
details.

- * Text validation DSL *

And finally swat provides  rich and simple DSL for text validation.
This simplifies server output verification and _often_ even does not
require a single line of perl code ( as it none perlish DSL ).  In
other hand swat is extendable by perl to add desired complexity to
your tests. Take a look at examples - https://github.com/melezhik/swat
and https://github.com/melezhik/swat/tree/master/examples

Regards

Alexey


2016-02-06 17:34 GMT+03:00 Jim Jagielski <jim@jagunet.com>:
>
>> On Feb 5, 2016, at 9:26 AM, Alexey Melezhik <melezhik@gmail.com> wrote:
>>
>>> I wonder how possible it would be to transcode the old tests to Swat?
>>
>> Swat has some architectural specifics. As it simply makes http
>> requests ( by curl ) and validate server response ( by swat DSL ) it
>> is considered as black box testing tools , there is no way to interact
>> with httpd internal structure. So probably most of old tests could be
>> easily ported but some probably not ( which implies something more
>> complicated ).
>>
>
> Most of the other tests w/ the old framework is the exact same...
> requests sent and responses verified against what is expected.
>
>> Basically  swat could cover simple and average use cases, everything
>> that could  expressed in terms of make http requests and then
>> analyzing an output , see examples for some issues I have expressed in
>> swat scenarios at https://github.com/melezhik/apache-swat
>>
>>
>> Also alternatively we may run 2 frameworks in parallel. Apache-swat is
>> intended for developers usage first and is able to run per-issues
>> test.
>>
>> This how I see possible  workflow:
>>
>> * developer accept a bug request
>> * developer ( or some else ) create swat test for given bug/feature
>> * so we have `test first` approach - everyone involved in bug/feature
>> resolution has possibility to verify changes by simply running :
>>
>> swat -t $issue-id
>>
>>
>>
>>
>>
>>
>> 2016-02-05 17:08 GMT+03:00 Alexey Melezhik <melezhik@gmail.com>:
>>> 2016-02-05 17:01 GMT+03:00 Jim Jagielski <jim@jagunet.com>:
>>>> Personally, I like the idea of having another framework;
>>>> the current one is OK but somewhat "painful" to update.
>>>
>>> Hi! What kind of possible issues you here ? when saying "painful" to
>>> update, please explain.
>>> Thanks.
>>>
>>> Also , please consider this link - https://github.com/melezhik/apache-swat and
>>> this post - http://mail-archives.apache.org/mod_mbox/httpd-dev/201602.mbox/%3CCAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com%3E
>>> as latest version of this idea ....
>>>
>>>
>>>
>>>
>>>
>>>>
>>>> I wonder how possible it would be to transcode the old tests
>>>> to Swat? We could then provide for 2 testing frameworks, one
>>>> developed by the ASF and the other external and 3rd party.
>>>>
>>>>
>>>>> On Feb 1, 2016, at 5:23 AM, Alexey Melezhik <melezhik@gmail.com> wrote:
>>>>>
>>>>> Here the list of existed issues I was able to automate tests for:
>>>>>
>>>>> vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ ls -1 | grep -P '\d'
>>>>> 44221
>>>>> 46751
>>>>> 58789
>>>>> 58828
>>>>> 58854
>>>>>
>>>>>
>>>>> I have informed developers at https://bz.apache.org/bugzilla/ about
>>>>> these, so they rely upon them. Or you have some pre-release testing,
>>>>> so run all of these in a whole chunk?
>>>>>
>>>>> Regards
>>>>>
>>>>> Alexey
>>>>>
>>>>> PS chaining issues / tests listing  as always -
>>>>> https://github.com/melezhik/apache-swat
>>>>>
>>>>> PS2 it'd be could to verify tests as well against "bleeding edge"
>>>>> apache version gets installed from SCM, but I don't know how to do
>>>>> this.
>>>>> Currently I use http://httpd.apache.org/download.cgi ( last stable release )
>>>>>
>>>>>
>>>>>
>>>>> 2016-01-30 21:36 GMT+03:00 Alexey Melezhik <melezhik@gmail.com>:
>>>>>> Hi Bill!
>>>>>>
>>>>>> I have started to assemble swat tests  for apache2 issues coming from
>>>>>> https://bz.apache.org/bugzilla
>>>>>>
>>>>>> And this the first one - https://bz.apache.org/bugzilla/show_bug.cgi?id=44221 ,
>>>>>>
>>>>>> Test suite is failed for the moment :
>>>>>>
>>>>>>
>>>>>> vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ swat -t 44221
>>>>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.baz/00.GET.t ...
>>>>>> ok 1 - GET 127.0.0.1/44221/foo.baz succeeded
>>>>>> # http headers saved to /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ.hdr
>>>>>> # body saved to /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ
>>>>>> ok 2 - output match '200 OK'
>>>>>> 1..2
>>>>>> ok
>>>>>> /home/vagrant/.swat/.cache/384/prove/44221/FOO.bar/00.GET.t ...
>>>>>> ok 1 - GET 127.0.0.1/44221/FOO.bar succeeded
>>>>>> # http headers saved to /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe.hdr
>>>>>> # body saved to /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe
>>>>>> ok 2 - output match '200 OK'
>>>>>> ok 3 - output match /Location: \S+/
>>>>>> ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
>>>>>> 1..4
>>>>>> ok
>>>>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.BAR/00.GET.t ...
>>>>>> ok 1 - GET 127.0.0.1/44221/foo.BAR succeeded
>>>>>> # http headers saved to /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ.hdr
>>>>>> # body saved to /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ
>>>>>> ok 2 - output match '200 OK'
>>>>>> ok 3 - output match /Location: \S+/
>>>>>> ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
>>>>>> 1..4
>>>>>> ok
>>>>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.bar/00.GET.t ...
>>>>>> ok 1 - GET 127.0.0.1/44221/foo.bar succeeded
>>>>>> # http headers saved to /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv.hdr
>>>>>> # body saved to /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv
>>>>>> ok 2 - output match '200 OK'
>>>>>> 1..2
>>>>>> ok
>>>>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t ..
>>>>>> ok 1 - GET 127.0.0.1/44221/foo.html succeeded
>>>>>> # http headers saved to /home/vagrant/.swat/.cache/384/prove/tW2L511eym.hdr
>>>>>> # body saved to /home/vagrant/.swat/.cache/384/prove/tW2L511eym
>>>>>> ok 2 - output match /HTTP\/(\S+) (\d+) \S+/
>>>>>> not ok 3 - 'HTTP/1.1 300 Multiple Choices' match /404 /
>>>>>>
>>>>>> #   Failed test ''HTTP/1.1 300 Multiple Choices' match /404 /'
>>>>>> #   at /usr/local/share/perl/5.20.2/swat.pm line 218.
>>>>>> not ok 4 - output match 'Not Found'
>>>>>>
>>>>>> #   Failed test 'output match 'Not Found''
>>>>>> #   at /usr/local/share/perl/5.20.2/swat.pm line 218.
>>>>>> 1..4
>>>>>> # Looks like you failed 2 tests of 4.
>>>>>> Dubious, test returned 2 (wstat 512, 0x200)
>>>>>> Failed 2/4 subtests
>>>>>>
>>>>>> Test Summary Report
>>>>>> -------------------
>>>>>> /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t (Wstat:
>>>>>> 512 Tests: 4 Failed: 2)
>>>>>> Failed tests:  3-4
>>>>>> Non-zero exit status: 2
>>>>>> Files=5, Tests=16,  0 wallclock secs ( 0.03 usr  0.00 sys +  0.27 cusr
>>>>>> 0.00 csys =  0.30 CPU)
>>>>>> Result: FAIL
>>>>>>
>>>>>> ...
>>>>>>
>>>>>> Ok, this is just the beginning ;-))) , watch soon updates at -
>>>>>> https://github.com/melezhik/apache-swat
>>>>>>
>>>>>> 2016-01-29 20:44 GMT+03:00 William A Rowe Jr <wrowe@rowe-clan.net>:
>>>>>>> On Fri, Jan 29, 2016 at 6:35 AM, Alexey Melezhik <melezhik@gmail.com> wrote:
>>>>>>>>
>>>>>>>> Hi Bill!
>>>>>>>>
>>>>>>>> Any news? ( Please see my previous reply ...)
>>>>>>>> Intr
>>>>>>>
>>>>>>>
>>>>>>> Intrigued :)  But my responses will be delayed, I personally
>>>>>>> won't have time to look further myself until other backlogged
>>>>>>> commitments to httpd are caught up some more.
>>>>>>>
>>>>>>> Be aware many of us have only a few hours to participate in the
>>>>>>> httpd project itself, so it will take several days or more to gather
>>>>>>> feedback on your interest and perhaps a champion to drive such
>>>>>>> an effort if it is actively driven from this side.  Of course that
>>>>>>> should not stop you from assembling some ideas at the vcs of
>>>>>>> your choice, and sharing a link for those who want to look at an
>>>>>>> early draft of such an effort!
>>>>>>>
>>>>>>> Cheers,
>>>>>>>
>>>>>>> Bill
>>>>
>

From dev-return-85475-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb  6 16:33:53 2016
Return-Path: <dev-return-85475-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A467B18BC2
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Feb 2016 16:33:53 +0000 (UTC)
Received: (qmail 9236 invoked by uid 500); 6 Feb 2016 16:33:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 9158 invoked by uid 500); 6 Feb 2016 16:33:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 9148 invoked by uid 99); 6 Feb 2016 16:33:53 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Feb 2016 16:33:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 9EBA41805ED
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 16:33:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id pPv3pmpcnggp for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 16:33:52 +0000 (UTC)
Received: from mail-qg0-f50.google.com (mail-qg0-f50.google.com [209.85.192.50])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id F39E442A21
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 16:33:51 +0000 (UTC)
Received: by mail-qg0-f50.google.com with SMTP id b67so3308173qgb.1
        for <dev@httpd.apache.org>; Sat, 06 Feb 2016 08:33:51 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=4UIYuB5mPeNEFRu+RP0Iitd0vb12gcjSce7RvEdld4E=;
        b=o6A7JLDS+BR4EMDh4/RZHCUXjGHbKk01MHmFSEqB6JOn7W5+OfJrIM+AgHFwrNOZPK
         KR9Z8YdDDObubevT2hzePAiaFSpVy4Z5ldf1VOd4K2hj4bqK48uwXFFajVjh4cpx/d7w
         GVfLo2hCVxNM121mzGrLvHAxY+XWmI/LElTbqdMSumRjXrUB9xprYXJ0rAElvRaybPk3
         ARb9/AdivFqWA9amuCabqkxYZukau7lU2AIcTZQWlDAKIhsasfDVu+KHlg/I8KK950fk
         sV82iRx0SqXKbRBXNwv4d6eHhBzozFBMXN6E00nncgknhPFOhGmz++CArpjpuGoUn5YA
         AoRg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=4UIYuB5mPeNEFRu+RP0Iitd0vb12gcjSce7RvEdld4E=;
        b=OKP8SJabTkFK0Wr33hhOqAM8b5vFMUfadsj68FFB5t258InPTFPkL02tpc/FwxZr8d
         Xq2xRkAG0ZZt+LE8pm5SDZjrVg378LxOUtI8CE7cRdjCL4XtZLBGLfKylOce2VAIbEZZ
         IIj5ZJ8c54amZVSUzoG7jcgoRnHCRfF9h4S5UpVgjYSywkyRcj3KLHLIyDvawQt5cWCc
         uXpRlkzXNRFa62L3GiOLM8yTMKfwJYwwoTvPViLIvMHgrBE2EVa05EqqI2LyUvoHbm1x
         B01QEgzM13koHRZ4tp2kA+Y1b0RbPoR4LcUtJmieJ0TXk52NqdHgLXWpn6shBtal/c4+
         dahw==
X-Gm-Message-State: AG10YORAF/1GMy+Lq35tO5klDExi62C+PL4ZzQVRnsMsgMWWYOEqjqK/sw6No88KS+0xt6/zpEvdZWIK3QCUag==
MIME-Version: 1.0
X-Received: by 10.140.101.130 with SMTP id u2mr24570628qge.71.1454776425822;
 Sat, 06 Feb 2016 08:33:45 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Sat, 6 Feb 2016 08:33:45 -0800 (PST)
In-Reply-To: <CAL7UUk_JM2wGdcCK-q0tjKi7uNiF2A6LtYn3L_=9nZCoB=sv-A@mail.gmail.com>
References: <CAL7UUk-qyES+aMMSN6aBGi1rb=K3Q+pif4FbU__Lqkku7f2t0w@mail.gmail.com>
	<CACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com>
	<CAL7UUk_z-CgL1255w8ScgUW+oFtpuybvzoK_kQykbQNv025N_g@mail.gmail.com>
	<CACsi251twJxjTjEbjEnFuE2x49KX-BrVi=MSAs3-7L=ypaKQ7Q@mail.gmail.com>
	<CAL7UUk_1rvLqgNsOMKN-1GxeBWXb2Q3XVAjbbn4+1th9GdAOcw@mail.gmail.com>
	<CAL7UUk9Mc=MUVaQXPvc+mcaoik+=pFW7EW_ccTXbBmo9W0JB1Q@mail.gmail.com>
	<3A242214-802F-4DAE-A124-7FEB0B23D54D@jaguNET.com>
	<CAL7UUk_nycXky=RMTSEBA5cZr7JeezySnZdxY18a_7h9jxKiRw@mail.gmail.com>
	<CAL7UUk-dhWTwwvTDVguG3kTRCVuoqwBEr8ce=RCg3UGU_KzY9Q@mail.gmail.com>
	<5E31AE6F-82C9-41E2-B9B9-ECB085FEED71@jaguNET.com>
	<CAL7UUk_JM2wGdcCK-q0tjKi7uNiF2A6LtYn3L_=9nZCoB=sv-A@mail.gmail.com>
Date: Sat, 6 Feb 2016 17:33:45 +0100
Message-ID: <CAKQ1sVMH2nH+RC7S6PXb6a7kPNiNh5dgJkX-EW3u-yHz0_KPsQ@mail.gmail.com>
Subject: Re: collaboration request - apache server automation testing with
 swat tool
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi Alexey,

On Sat, Feb 6, 2016 at 5:03 PM, Alexey Melezhik <melezhik@gmail.com> wrote:
> Sure, then it's probably won't be big deal to port existed test code base.
>
> Here I want to highlight some swat features which make it more then
> just engine to make http requests and verify an output.

How could we manage the httpd onfiguration files associated with each test?

Regards,
Yann.

From dev-return-85476-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb  6 18:06:29 2016
Return-Path: <dev-return-85476-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 93F6F18E2C
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Feb 2016 18:06:29 +0000 (UTC)
Received: (qmail 1277 invoked by uid 500); 6 Feb 2016 18:06:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1193 invoked by uid 500); 6 Feb 2016 18:06:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1182 invoked by uid 99); 6 Feb 2016 18:06:29 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Feb 2016 18:06:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A991AC1289
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 18:06:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id D4SyRtv2b3xl for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 18:06:27 +0000 (UTC)
Received: from mail-wm0-f50.google.com (mail-wm0-f50.google.com [74.125.82.50])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 800E742A21
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 18:06:27 +0000 (UTC)
Received: by mail-wm0-f50.google.com with SMTP id p63so65268420wmp.1
        for <dev@httpd.apache.org>; Sat, 06 Feb 2016 10:06:27 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=98ZMgIme/+AkM42rG2uJtKxyKMCoBQZMSEI+6CJv8M8=;
        b=vOk+fO99hC+FPED6+Bt5NuFG3CI917NEUDElh5eNx4FGQxifOGKxd/GZy8VcH5KKXC
         icIlieV0Q9OTkeiBfym3BPKh5DW+OmCTIQxdDFbL3jX9Ty0aDbNSoesJ7GfiBBTB4av4
         ZJWHTQEX8FNZskDK3wadWa+XW72Yrp2ZndsBVB5xrZ6ZgQvAveg72eakEmr7V2BdpzfX
         uiX7J4KH9WgrqJ1U9FTFgyhwbb+920k8SPwp4C8+i6Pr0ca9DmizON2r5YAXQKS+pOnv
         3N+WHKfpBZ11/jyy9ZshdfnHdAk3+0+JyT49BUIlPcEyoHSARuX5qnyB3E3q3fJYxdoi
         7rBQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=98ZMgIme/+AkM42rG2uJtKxyKMCoBQZMSEI+6CJv8M8=;
        b=VqhWItYoKMuvwEzu9fAj3pW7Uzu+CQLMET/k/EKxcRq2yM1eU4U8ZAMKibVAS9pVn0
         E1hvJNn0trpUS4GuMASYCqiCNeLgzddKtiu3UiqJT5EP4qgEZ2bECFhgTs9ztmxZxfE0
         MPxk+3YCTP/5Sswa6YDdJCAx+p3h8lcg3K46CagoSjXyD8dsxva+4niZNjICcr+RnIkn
         iUMS16thvJ/XvtbgQQSd5GHS5wcmsXfcN68/W+hhv762uuFtVeI/2VlV0d2lMXqIS3FD
         Hgh9c9dkswZU54gDUrvYi2mu9s9oJI2ZrSE/9vhV3K4L8KipLoS1uPkMH7Vn3G3UW8Sq
         Z68Q==
X-Gm-Message-State: AG10YOTSbqu196Bls01Ikn59EYyeO8tf27/wkObKII2FQ8nyh46ruB4PTam+Hq4oRMM2AEPaKJAy4oQN494fog==
MIME-Version: 1.0
X-Received: by 10.28.5.203 with SMTP id 194mr2960374wmf.101.1454781986624;
 Sat, 06 Feb 2016 10:06:26 -0800 (PST)
Received: by 10.194.37.198 with HTTP; Sat, 6 Feb 2016 10:06:26 -0800 (PST)
In-Reply-To: <CAKQ1sVMH2nH+RC7S6PXb6a7kPNiNh5dgJkX-EW3u-yHz0_KPsQ@mail.gmail.com>
References: <CAL7UUk-qyES+aMMSN6aBGi1rb=K3Q+pif4FbU__Lqkku7f2t0w@mail.gmail.com>
	<CACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com>
	<CAL7UUk_z-CgL1255w8ScgUW+oFtpuybvzoK_kQykbQNv025N_g@mail.gmail.com>
	<CACsi251twJxjTjEbjEnFuE2x49KX-BrVi=MSAs3-7L=ypaKQ7Q@mail.gmail.com>
	<CAL7UUk_1rvLqgNsOMKN-1GxeBWXb2Q3XVAjbbn4+1th9GdAOcw@mail.gmail.com>
	<CAL7UUk9Mc=MUVaQXPvc+mcaoik+=pFW7EW_ccTXbBmo9W0JB1Q@mail.gmail.com>
	<3A242214-802F-4DAE-A124-7FEB0B23D54D@jaguNET.com>
	<CAL7UUk_nycXky=RMTSEBA5cZr7JeezySnZdxY18a_7h9jxKiRw@mail.gmail.com>
	<CAL7UUk-dhWTwwvTDVguG3kTRCVuoqwBEr8ce=RCg3UGU_KzY9Q@mail.gmail.com>
	<5E31AE6F-82C9-41E2-B9B9-ECB085FEED71@jaguNET.com>
	<CAL7UUk_JM2wGdcCK-q0tjKi7uNiF2A6LtYn3L_=9nZCoB=sv-A@mail.gmail.com>
	<CAKQ1sVMH2nH+RC7S6PXb6a7kPNiNh5dgJkX-EW3u-yHz0_KPsQ@mail.gmail.com>
Date: Sat, 6 Feb 2016 21:06:26 +0300
Message-ID: <CAL7UUk_TDZueiOOaJ1R9BFCzEH-cHHg=uzAfxsi2uaONE4UyaQ@mail.gmail.com>
Subject: Re: collaboration request - apache server automation testing with
 swat tool
From: Alexey Melezhik <melezhik@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Yann!

* per issues apache configurations *

https://github.com/entimelezhik/apache-swat/tree/master/htdocs is
document root , every issue thus is represented by directory inside
htdocs , named by issue number  f.e.
- htdocs/44221
- htdocs/58777

If it's necessary per issue configuration defined by .htaccess files
placed at issues directories for example:

- htdocs/58777/.htaccess

All other static files are thus kept under issue directory , for example:

- htdocs/58777/data/foo.data

* global apache configuration ( httpd.conf )*

httpd.conf is generated by template file -
https://github.com/melezhik/apache-swat/blob/master/httpd.conf.tmpl -
this is vanilla apcahe2 config file taken from standard apach2e
installation ( https://httpd.apache.org/docs/2.2/en/install.html )
with some `LoadModule' lines uncommented to make it possible to run
tests for some none default enabled apache modules ( mod_rewrite ,
mod_include , ... )

* Initial test configuration *

Initial test configuration is trivial :

* install apache2 to /some/prefix/directory
$ git clone https://github.com/melezhik/apache-swat.git
$ cd apache-swat

# generate httpd.conf for your apache installation prefix

$ ./configure.bash /some/prefix/directory

# run apache with generated httpd.conf at CWD
$ sudo /some/prefix/directory/bin/apachectl -f `pwd`/httpd.conf

then you may choose to:

# run all tests

$ swat

 # or run per-issue test

$ swat -t 58777


 To summarize:


* per issues apache configurations based on related directories/htcaccess files
* one httpd.conf for all issues
* technically speaking it is possible to  have multiple issues related
httpd.conf files ( one  per issue ) , but this means:
  - necessity of apache2 server restart at the beginning of  every
issue test which has time impact ( or have many apache2 instances with
different httpd.conf which is hard to maintain  )
  - in many cases per issues apache2 configuration could be expressed
via directories/htaccess files which is much easier to maintain

Hope, this helps.

Regards

Alexey


2016-02-06 19:33 GMT+03:00 Yann Ylavic <ylavic.dev@gmail.com>:
> Hi Alexey,
>
> On Sat, Feb 6, 2016 at 5:03 PM, Alexey Melezhik <melezhik@gmail.com> wrote:
>> Sure, then it's probably won't be big deal to port existed test code base.
>>
>> Here I want to highlight some swat features which make it more then
>> just engine to make http requests and verify an output.
>
> How could we manage the httpd onfiguration files associated with each test?
>
> Regards,
> Yann.

From dev-return-85477-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb  6 18:35:21 2016
Return-Path: <dev-return-85477-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2734618F89
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Feb 2016 18:35:21 +0000 (UTC)
Received: (qmail 50293 invoked by uid 500); 6 Feb 2016 18:35:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50228 invoked by uid 500); 6 Feb 2016 18:35:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50218 invoked by uid 99); 6 Feb 2016 18:35:20 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Feb 2016 18:35:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5173F180512
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 18:35:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id seitdtjE-oXK for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 18:35:18 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 7B74A20656
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 18:35:18 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 0043E22980
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 19:35:16 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0sf2StXM_Ip6 for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 19:35:15 +0100 (CET)
Received: from [10.0.0.1] (CPE-110-147-157-163.nhl8.cht.bigpond.net.au [110.147.157.163])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id E362620501
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 19:35:14 +0100 (CET)
Subject: Re: Netware proxy makefiles and USE_STDSOCKETS
To: dev@httpd.apache.org
References: <56B5D8C4.9060207@kippdata.de>
From: NormW <normw@gknw.net>
Message-ID: <56B63C8B.4060907@gknw.net>
Date: Sun, 7 Feb 2016 05:33:47 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B5D8C4.9060207@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/M Rainer
On 6/02/2016 10:28 PM, Rainer Jung wrote:
> Hi there,
>
> most of the proxy makefiles contain the following block:
>
> # Don't link with Winsock if standard sockets are being used
> ifndef USE_STDSOCKETS
> FILES_nlm_Ximports += @ws2nlm.imp \
>          $(EOLIST)
> endif
>
>
> But it is missing from:
>
> - NWGNUproxycon
> - NWGNUproxywstunnel
> - all of the NWGNUproxylbm_... files
>
> Is there a reason for this? Can it be added to all of them? Could it
> then be moved to NWGNUmakefile instead?
>
> Regards,
>
> Rainer
At a Guess ,No. NetWare's default build is to use Novsockets, and if an 
nlm links without issue it should have no issue with then. Once the sun 
is up I will try a build using STD_SOCKETS=1 and see what if anything 
breaks. Being a 're;ative' newbie I'd I've if sockeys are these need to 
be attended, but the geral rule is if the compiler is happy go with the 
flow.

Will advise later today.

Norm


From dev-return-85478-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb  6 18:53:22 2016
Return-Path: <dev-return-85478-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 18F051801C
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Feb 2016 18:53:22 +0000 (UTC)
Received: (qmail 70428 invoked by uid 500); 6 Feb 2016 18:53:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70345 invoked by uid 500); 6 Feb 2016 18:53:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70333 invoked by uid 99); 6 Feb 2016 18:53:21 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Feb 2016 18:53:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id EE8B81A06C1
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 18:53:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id dCZdTAdZV7F5 for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 18:53:20 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 279FD42A21
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 18:53:20 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id A864B212E2
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 19:53:18 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rsTfXS1s8h8L for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 19:53:18 +0100 (CET)
Received: from [10.0.0.1] (CPE-110-147-157-163.nhl8.cht.bigpond.net.au [110.147.157.163])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id B9D7A20501
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 19:53:17 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: httpd-trunk/modules/proxy/
Message-ID: <56B64113.7030300@gknw.net>
Date: Sun, 7 Feb 2016 05:53:07 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/M,
httpd-trunk/modules/proxy/mod_proxy_hcheck.c needs an EOL style tweek if 
I'm not mistaken.

Norm.


From dev-return-85479-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb  6 19:14:37 2016
Return-Path: <dev-return-85479-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 53CF1180BE
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Feb 2016 19:14:37 +0000 (UTC)
Received: (qmail 83958 invoked by uid 500); 6 Feb 2016 19:14:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83890 invoked by uid 500); 6 Feb 2016 19:14:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83880 invoked by uid 99); 6 Feb 2016 19:14:36 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Feb 2016 19:14:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 702031A0350
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 19:14:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.73
X-Spam-Level:
X-Spam-Status: No, score=-2.73 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.429,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ntum0A_bEnVF for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 19:14:35 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 9970F31AE4
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 19:14:34 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u16JEXKx012321
	for <dev@httpd.apache.org>; Sat, 6 Feb 2016 20:14:33 +0100 (CET)
Subject: Re: Netware proxy makefiles and USE_STDSOCKETS
To: dev@httpd.apache.org
References: <56B5D8C4.9060207@kippdata.de> <56B63C8B.4060907@gknw.net>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56B64615.2000005@kippdata.de>
Date: Sat, 6 Feb 2016 20:14:29 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B63C8B.4060907@gknw.net>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 06.02.2016 um 19:33 schrieb NormW:
> G/M Rainer
> On 6/02/2016 10:28 PM, Rainer Jung wrote:
>> Hi there,
>>
>> most of the proxy makefiles contain the following block:
>>
>> # Don't link with Winsock if standard sockets are being used
>> ifndef USE_STDSOCKETS
>> FILES_nlm_Ximports += @ws2nlm.imp \
>>          $(EOLIST)
>> endif
>>
>>
>> But it is missing from:
>>
>> - NWGNUproxycon
>> - NWGNUproxywstunnel
>> - all of the NWGNUproxylbm_... files
>>
>> Is there a reason for this? Can it be added to all of them? Could it
>> then be moved to NWGNUmakefile instead?
>>
>> Regards,
>>
>> Rainer
> At a Guess ,No. NetWare's default build is to use Novsockets, and if an
> nlm links without issue it should have no issue with then. Once the sun
> is up I will try a build using STD_SOCKETS=1 and see what if anything
> breaks. Being a 're;ative' newbie I'd I've if sockeys are these need to
> be attended, but the geral rule is if the compiler is happy go with the
> flow.
>
> Will advise later today.

I've committed what I think should work and looks simpler in r1728874.

If it doesn't work we'll revert. Thanks for trying!

Regards,

Rainer


From dev-return-85480-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb  6 19:16:59 2016
Return-Path: <dev-return-85480-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 111ED180FC
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Feb 2016 19:16:59 +0000 (UTC)
Received: (qmail 93310 invoked by uid 500); 6 Feb 2016 19:16:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 93251 invoked by uid 500); 6 Feb 2016 19:16:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 93237 invoked by uid 99); 6 Feb 2016 19:16:53 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Feb 2016 19:16:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 31267180512
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 19:16:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.73
X-Spam-Level:
X-Spam-Status: No, score=-2.73 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.429,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id vIrqLZvpGRM2 for <dev@httpd.apache.org>;
	Sat,  6 Feb 2016 19:16:52 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 5D8E3439D1
	for <dev@httpd.apache.org>; Sat,  6 Feb 2016 19:16:52 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u16JGp2Q012342
	for <dev@httpd.apache.org>; Sat, 6 Feb 2016 20:16:51 +0100 (CET)
Subject: Re: httpd-trunk/modules/proxy/
To: dev@httpd.apache.org
References: <56B64113.7030300@gknw.net>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56B6469E.9030509@kippdata.de>
Date: Sat, 6 Feb 2016 20:16:46 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B64113.7030300@gknw.net>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 06.02.2016 um 19:53 schrieb NormW:
> G/M,
> httpd-trunk/modules/proxy/mod_proxy_hcheck.c needs an EOL style tweek if
> I'm not mistaken.

Thanks, done.

Rainer


From dev-return-85481-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Feb  7 07:15:17 2016
Return-Path: <dev-return-85481-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4363318F94
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  7 Feb 2016 07:15:17 +0000 (UTC)
Received: (qmail 39207 invoked by uid 500); 7 Feb 2016 07:15:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39140 invoked by uid 500); 7 Feb 2016 07:15:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39131 invoked by uid 99); 7 Feb 2016 07:15:16 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Feb 2016 07:15:16 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id 3CD811A04A7
	for <dev@httpd.apache.org>; Sun,  7 Feb 2016 07:15:16 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id B75E5602EE; Sun,  7 Feb 2016 07:15:15 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2016/02/07]
Message-Id: <20160207071515.B75E5602EE@asf-bz1-us-mid.priv.apache.org>
Date: Sun,  7 Feb 2016 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24437|Opn|Nor|2003-11-05|mod_auth_ldap doubly-escapes backslash (\) charact|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Enh|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37770|Opn|Blk|2005-12-03|proxy: error reading status line from remote serve|
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Inf|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|Verify that log directories exist in httpd -t conf|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|Opn|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Maj|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47650|Opn|Trv|2009-08-05|httxt2dbm calculates value size incorrectly       |
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|New|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51104|Opn|Maj|2011-04-21|C++ support about httpd_config.h                  |
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|Opn|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Blk|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Nor|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|53999|Opn|Nor|2012-10-13|Deadlock between procmgr_send_spawn_cmd()/proctabl|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|Ver|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|Inf|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|New|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|Ver|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|Ver|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|Ver|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|Ver|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Enh|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|Opn|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57895|New|Min|2015-05-05|missing m4a mimeType in mime.types                |
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
|58089|New|Nor|2015-07-01|mod_authz_host uses proxy IP even when mod_remotei|
|58097|New|Enh|2015-07-03|[feat] Preserve original connecting IP            |
|58101|New|Nor|2015-07-05|DeflateCompressionLevel inside vhost resets logfor|
|58107|New|Blk|2015-07-06|Httpd crashes on startup every time, dump file att|
|58109|New|Nor|2015-07-06|Apache on windows cannot handle the hash symbol (#|
|58118|New|Min|2015-07-09|mod_proxy_fcgi logs 503 when user aborts connectio|
|58120|New|Nor|2015-07-10|ProxyPassInherit does not work as expect          |
|58121|New|Nor|2015-07-10|ProxyHTMLMeta seems to ignore all <meta http-equiv|
|58129|New|Nor|2015-07-12|man pages are not generated correctly             |
|58132|New|Nor|2015-07-12|non-standard, non-traditional man page layout make|
|58135|New|Nor|2015-07-14|mod_cache sends client "if-Modified-Since" to back|
|58141|New|Nor|2015-07-15|Apache Service doesn't start when rotatlogs.exe pa|
|58142|New|Nor|2015-07-15|authz_core ignores loglevel                       |
|58158|New|Nor|2015-07-21|Not honoring HTTP spec with regard to Accept-Encod|
|58168|New|Enh|2015-07-21|Would like full request evaluation support in Rewr|
|58171|New|Nor|2015-07-22|ap_session_save saves the wrong session after a de|
|58177|New|Enh|2015-07-24|Mod Proxy forward trailers in http chunked request|
|58180|New|Enh|2015-07-24|ErrorDocument original URL in subsequent <Location|
|58181|New|Enh|2015-07-25|mod_expire should allow "minus" keyword same like |
|58188|New|Nor|2015-07-28|http2 mod_lua: support build with lua 5.2+        |
|58197|New|Nor|2015-07-31|apr-util-1.5.4 build against openldap - "could not|
|58225|New|Reg|2015-08-08|intermitant segfault 11 in session_identity_encode|
|58226|New|Nor|2015-08-08|XSS in Error Page                                 |
|58231|New|Nor|2015-08-11|RewriteCond can add "Host" to the Vary-Header     |
|58235|New|Enh|2015-08-12|Ability to allow from domain but with using forwar|
|58243|New|Nor|2015-08-14|rotatelogs goes infinite at startup               |
|58248|New|Nor|2015-08-17|Error 404 in use some characters of utf8 in url   |
|58257|New|Nor|2015-08-18|require ldap-group does not work if account-fullna|
|58278|Inf|Blk|2015-08-24|apache - mod_security Issue : apache no releasing |
|58280|New|Nor|2015-08-24|Backend connection not closed until timeout if cli|
|58288|New|Blk|2015-08-27|Semaphore amount increase until crash when enablin|
|58292|New|Nor|2015-08-27|FallbackResource breaks chunked encoding sometimes|
|58304|New|Nor|2015-08-30|Unexpected Warnings from Macro Use in 2.4         |
|58306|Inf|Nor|2015-08-30|documentation needs to make it clear which directi|
|58307|New|Nor|2015-08-31|Segmentation fault in child in "read(__nbytes, __b|
|58317|New|Min|2015-09-02|Error message AH01630 is missing file name on deny|
|58334|New|Min|2015-09-06|WebDAV HTTP access does not include meta tag for c|
|58335|New|Nor|2015-09-07|mod_authnz_ldap mismatch                          |
|58343|New|Nor|2015-09-08|The pdf files come up as a blank page.            |
|58354|New|Maj|2015-09-10|(20014)Internal error (specific information not av|
|58356|New|Blk|2015-09-10|Session jumping due to incorrect route            |
|58364|New|Reg|2015-09-11|Apache Server is restarted time to time (Release 2|
|58417|New|Min|2015-09-16|ApacheBench (ab) won't display Server Software of |
|58419|New|Nor|2015-09-16|ApacheBench (ab) doesn't work with keep-alives aga|
|58423|New|Reg|2015-09-17|Apache >= 2.4.8 PCRE_DUPNAMES causes build failure|
|58467|New|Maj|2015-09-29|Environment Variables in ProxyHTMLURLMap produces |
|58475|New|Nor|2015-10-03|Support append/merge with semicolon-separated head|
|58488|New|Nor|2015-10-08|Stoped PHP-FPM pool in multi-pool system with comu|
|58491|New|Maj|2015-10-09|Core dumps appear when the load increases         |
|58492|Inf|Nor|2015-10-09|I think LDAPConnectionPoolTTL is not being honored|
|58498|New|Nor|2015-10-16|Apache 2.4.17: Regression with mod_autoindex (in c|
|58500|New|Nor|2015-10-16|dav_fs not enabled by default                     |
|58503|New|Cri|2015-10-16|segfault in apr_brigade_cleanup() under high load |
|58509|New|Trv|2015-10-20|2.4.17-dev introduces second core.c handler at sta|
|58524|New|Nor|2015-10-23|mod_http2 segfaults when under heavy load         |
|58528|New|Nor|2015-10-23|AllowOverrideList None gets misparsed and .htacces|
|58529|New|Maj|2015-10-23|Segmentation fault after modifying a proxy Balance|
|58550|New|Enh|2015-10-26|During load, Apache 2.2.x with prefork MPM didn|
|58574|New|Nor|2015-11-02|Apache error AH01630 (client denied) but working  |
|58593|New|Nor|2015-11-06|mod_proxy wrong decision between http and ws      |
|58598|New|Enh|2015-11-08|Internal Server Error (500) when requesting non-ex|
|58602|New|Nor|2015-11-11|Priority issue on DirectoryMatch directive        |
|58604|New|Reg|2015-11-12|Plaintext auth broken in any Explicit FTP/AUTH TLS|
|58612|New|Min|2015-11-16|mod_webdav when write_stream failed should break a|
|58669|New|Nor|2015-11-30|Order of DBDInitSQL and DBDPrepareSQL             |
|58688|New|Nor|2015-12-03|Missing mod_ssl connection-level upgrade headers f|
|58700|New|Nor|2015-12-07|Apache logs not working with mod_remoteip and X-fo|
|58720|New|Enh|2015-12-11|querying server status stalls when scoreboard is f|
|58727|New|Min|2015-12-13|Directories with a ProxyPass directive are not dis|
|58732|New|Nor|2015-12-14|Error Log isn't writing When Apache Shutdown with |
|58739|New|Cri|2015-12-15|Undocumented behavior of REDIRECT_URL and REDIRECT|
|58777|New|Enh|2015-12-28|URLs containing a ? are assumed to be query string|
|58789|New|Nor|2016-01-03|header set multiple htaccess                      |
|58798|New|Nor|2016-01-04|Misleading terminology                            |
|58799|New|Nor|2016-01-04|mod_fcgid: FcgidMinProcessesPerClass doesn't seem |
|58803|New|Cri|2016-01-05|HTTP connection is getting closed after 5 mins ( R|
|58806|New|Maj|2016-01-05|HTTP/2 appears to keep workers in KEEPALIVE status|
|58825|Inf|Nor|2016-01-08|Upload really big files with PUT method and XMLHTT|
|58826|New|Cri|2016-01-08|OCSP Stapling does not resolve DNS                |
|58828|New|Maj|2016-01-08|LA-U variables not set depending on the URI       |
|58834|New|Nor|2016-01-11|ModRewrite fails with .php urls and FPM on Apache |
|58842|New|Nor|2016-01-12|mod_proxy DNS cache with authoritative and no-auth|
|58854|New|Reg|2016-01-13|RewriteRule in .htaccess ignores 'Require all deni|
|58855|New|Enh|2016-01-14|Don't read through entire string when testing for |
|58856|New|Reg|2016-01-14|AddOutputFilterByType in Apache 2.4 inserts filter|
|58873|New|Nor|2016-01-15|Chunked encoding, Content Length and mod_deflate  |
|58880|New|Enh|2016-01-17|Support serving stale content while revalidating c|
|58887|Inf|Nor|2016-01-18|Updated install.xml.es and took out the html code |
|58889|New|Blk|2016-01-19|mod_proxy mixes random chars to the backend reques|
|58890|New|Nor|2016-01-19|Address comments on expression parser doc         |
|58892|New|Nor|2016-01-19|Remove 'advanced' rewrite doc, and organize by top|
|58893|New|Nor|2016-01-19|Document that RewriteMap names must be unique acro|
|58894|Inf|Nor|2016-01-20|Updates and Translated into Spanish new features 2|
|58901|New|Nor|2016-01-21|Download of large file is aborted in SSL_write on |
|58907|Inf|Nor|2016-01-21|Translated document  sitemap.xml.es into Spanish  |
|58921|New|Nor|2016-01-26|Compiler removal of code to clear password buffer |
|58926|New|Nor|2016-01-28|[Patchset] Improvements for apxs                  |
|58929|New|Maj|2016-01-28|coredump when sending illegal CONNECT request     |
|58934|New|Nor|2016-01-29|mod_proxy initial BalancerMember settings not appl|
|58944|New|Nor|2016-01-30|configure script breaks openssl static library dep|
|58945|New|Nor|2016-01-30|Custom-error.xml.es Translated to Spanish.        |
|58956|New|Nor|2016-02-02|SSL Library Error ssl_undefined_function:called a |
|58960|New|Nor|2016-02-02|Proxying Docker Registry HTTP PATCH command fails |
|58962|New|Min|2016-02-02|Wrong french translation of remoteip doc          |
|58964|New|Maj|2016-02-03|Problems when caching more than one SSI level     |
|58969|New|Nor|2016-02-04|Translated bind.xml.es into spanish need feedback |
|58971|New|Nor|2016-02-04|Upgrade header added in 2.4.18 causes disconnect f|
|58977|New|Maj|2016-02-06|Wrong saved content                               |
+-----+---+---+----------+--------------------------------------------------+
| Total 1576 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-85482-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Feb  7 08:32:58 2016
Return-Path: <dev-return-85482-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C81341813D
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  7 Feb 2016 08:32:58 +0000 (UTC)
Received: (qmail 12454 invoked by uid 500); 7 Feb 2016 08:32:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12383 invoked by uid 500); 7 Feb 2016 08:32:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12373 invoked by uid 99); 7 Feb 2016 08:32:53 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Feb 2016 08:32:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B73ED18048E
	for <dev@httpd.apache.org>; Sun,  7 Feb 2016 08:32:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.801
X-Spam-Level:
X-Spam-Status: No, score=-0.801 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=yandex.ru
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id lxlOj0GO4zi3 for <dev@httpd.apache.org>;
	Sun,  7 Feb 2016 08:32:51 +0000 (UTC)
Received: from forward17h.cmail.yandex.net (forward17h.cmail.yandex.net [87.250.230.159])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A00CD258C8
	for <dev@httpd.apache.org>; Sun,  7 Feb 2016 08:32:50 +0000 (UTC)
Received: from web27h.yandex.ru (web27h.yandex.ru [IPv6:2a02:6b8:0:f05::37])
	by forward17h.cmail.yandex.net (Yandex) with ESMTP id 8AD6B21A38
	for <dev@httpd.apache.org>; Sun,  7 Feb 2016 11:32:43 +0300 (MSK)
Received: from web27h.yandex.ru (localhost [127.0.0.1])
	by web27h.yandex.ru (Yandex) with ESMTP id 2A8AA6220C9E;
	Sun,  7 Feb 2016 11:32:43 +0300 (MSK)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yandex.ru; s=mail;
	t=1454833963; bh=LcroI3lSlFYY6ocko0VAymOY2Qj5Ylgy4x3wMdQs5KU=;
	h=From:To:Subject:Date;
	b=g3x3T4MtVncLaI0Y4z6SDtJHIZXENi0+c9PjdjCJTSI+UjpHunZfX5PY429pu3k8M
	 pDei+eGSn8O9vGD9rEyjBPkRyw+R1rSlvNRQdakV6+XpHBQSb8suMS7IXshP4vsNmM
	 yKxWedpmi/7/cy6sh2WTKZ8XKirrVsbiEx2fzG8Q=
Received: by web27h.yandex.ru with HTTP;
	Sun, 07 Feb 2016 11:32:42 +0300
From: Ponomarenko Andrey <andrewponomarenko@yandex.ru>
To: dev@httpd.apache.org
Subject: ABI report
MIME-Version: 1.0
Message-Id: <1685061454833962@web27h.yandex.ru>
X-Mailer: Yamail [ http://yandex.ru ] 5.0
Date: Sun, 07 Feb 2016 11:32:42 +0300
Content-Transfer-Encoding: 7bit
Content-Type: text/plain

Hello,

I've started to maintain binary compatibility report for the recent versions of the httpd: http://abi-laboratory.pro/tracker/timeline/httpd/

The report is updated every other day. The report for the latest version from git is also there. Hope this helps Linux maintainers to be aware of ABI changes and added/removed symbols.

Thank you.

From dev-return-85483-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Feb  7 21:52:42 2016
Return-Path: <dev-return-85483-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7C0BB18F55
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  7 Feb 2016 21:52:42 +0000 (UTC)
Received: (qmail 12740 invoked by uid 500); 7 Feb 2016 21:52:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12670 invoked by uid 500); 7 Feb 2016 21:52:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12659 invoked by uid 99); 7 Feb 2016 21:52:42 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Feb 2016 21:52:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 9E4A0C0227
	for <dev@httpd.apache.org>; Sun,  7 Feb 2016 21:52:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id hR4j3ZYtCZl1 for <dev@httpd.apache.org>;
	Sun,  7 Feb 2016 21:52:40 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 6C90824D8F
	for <dev@httpd.apache.org>; Sun,  7 Feb 2016 21:52:39 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 43CA92295E
	for <dev@httpd.apache.org>; Sun,  7 Feb 2016 22:52:38 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UN6XcVETxSAs for <dev@httpd.apache.org>;
	Sun,  7 Feb 2016 22:52:37 +0100 (CET)
Received: from [10.0.0.1] (CPE-121-216-141-60.lnse2.ken.bigpond.net.au [121.216.141.60])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 12CF220253
	for <dev@httpd.apache.org>; Sun,  7 Feb 2016 22:52:36 +0100 (CET)
Subject: Re: Netware proxy makefiles and USE_STDSOCKETS
To: dev@httpd.apache.org
References: <56B5D8C4.9060207@kippdata.de> <56B63C8B.4060907@gknw.net>
 <56B64615.2000005@kippdata.de>
From: NormW <normw@gknw.net>
Message-ID: <56B7BC96.30302@gknw.net>
Date: Mon, 8 Feb 2016 08:52:22 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B64615.2000005@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Rainer,
Apologies for the silence, but my major focus ATM is getting my place 
fixed up with the view to moving, but did have a go at a build with the 
USE_STDSOCKETS but something appears to be broken in apr-1.5, but have 
not yet had a chance to look into it. Medical visit this morning and if 
I get home soon enough will look further at it.

FTM,
Norm
PS If GK is reading this he might have a look at it, but don't hold your 
breath.


From dev-return-85484-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Feb  7 22:17:10 2016
Return-Path: <dev-return-85484-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A870318FBA
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  7 Feb 2016 22:17:10 +0000 (UTC)
Received: (qmail 26673 invoked by uid 500); 7 Feb 2016 22:17:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26608 invoked by uid 500); 7 Feb 2016 22:17:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26598 invoked by uid 99); 7 Feb 2016 22:17:09 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Feb 2016 22:17:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8A188180476
	for <dev@httpd.apache.org>; Sun,  7 Feb 2016 22:17:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.301
X-Spam-Level:
X-Spam-Status: No, score=-2.301 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id SJziodPXB931 for <dev@httpd.apache.org>;
	Sun,  7 Feb 2016 22:17:08 +0000 (UTC)
Received: from prv-mh.provo.novell.com (prv-mh.provo.novell.com [137.65.248.74])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 5BA9743B2F
	for <dev@httpd.apache.org>; Sun,  7 Feb 2016 22:17:08 +0000 (UTC)
Received: from INET-PRV-MTA by prv-mh.provo.novell.com
	with Novell_GroupWise; Sun, 07 Feb 2016 15:17:01 -0700
Message-Id: <56B75FEC020000AC00005F09@prv-mh.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 14.2.0 
Date: Sun, 07 Feb 2016 15:17:00 -0700
From: "Brad Nicholes" <BNICHOLES@netiq.com>
To: <dev@httpd.apache.org>
Subject: Re: Netware proxy makefiles and USE_STDSOCKETS
References: <56B5D8C4.9060207@kippdata.de> <56B63C8B.4060907@gknw.net>
 <56B64615.2000005@kippdata.de> <56B7BC96.30302@gknw.net>
In-Reply-To: <56B7BC96.30302@gknw.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Rainer,
    It has actually been quite a while since I have been on this list.  I =
did most of the initial Netware port of Apache.  Apache for Netware uses =
its own implementation of Winsock as the socket layer.  This is the reason =
why the make files specify not to use the standard sockets.  The Netware =
version of Winsock also has it's own implementation of SSL which is why =
most of the time mod_ssl is not used by Apache for Netware.  Basically, =
the Apache for Netware make files should always be building with Winsock.

thanks,
Brad



> Rainer,
> Apologies for the silence, but my major focus ATM is getting my place=20
> fixed up with the view to moving, but did have a go at a build with =
the=20
> USE_STDSOCKETS but something appears to be broken in apr-1.5, but =
have=20
> not yet had a chance to look into it. Medical visit this morning and =
if=20
> I get home soon enough will look further at it.
>=20
> FTM,
> Norm
> PS If GK is reading this he might have a look at it, but don't hold =
your=20
> breath.


From dev-return-85485-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 14:32:25 2016
Return-Path: <dev-return-85485-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 68A821890E
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 14:32:25 +0000 (UTC)
Received: (qmail 88883 invoked by uid 500); 8 Feb 2016 14:32:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88785 invoked by uid 500); 8 Feb 2016 14:32:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88765 invoked by uid 99); 8 Feb 2016 14:32:24 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 14:32:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 08DA5C05E6;
	Mon,  8 Feb 2016 14:32:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id E_gCPBLWaK9q; Mon,  8 Feb 2016 14:32:22 +0000 (UTC)
Received: from mail-lf0-f48.google.com (mail-lf0-f48.google.com [209.85.215.48])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id EEAF52050D;
	Mon,  8 Feb 2016 14:32:21 +0000 (UTC)
Received: by mail-lf0-f48.google.com with SMTP id j78so96436161lfb.1;
        Mon, 08 Feb 2016 06:32:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=rSY0W3ftk3NQ0piJtMI75iZKYjnmykgdLqeWd61YNOo=;
        b=y38Iilnw4tn0eFQvqJcpnNyQY/NATK8kUZuo0x751xvl7C4SWrsEYjo+CIAN42WIlZ
         Sm3R1RshyBXlk5bbzDlQGzBeX1a7Q1HqgwrcqAkUppP9h4r0MXdOQkr6RoOVZ3YVfJg2
         6sWT6NLTZwvNwk7Es32n/Dlxu+XhBrKi7HuS+NiRMun298CNTKMtK9gxbKAeFiwTgN27
         7mIDB/Jv7MOWyBezPlAHBSt97PCiu1P+jTumcaJcgfK6Fxg2mK538gI42yIR0DhHpoDi
         +bkI3nqWdLvcrJMUGVkRf0xEZNd9sp+Ja1xbJSuRgJ2CuOYF6WNvxEw3O/gE0jo4KJlc
         hmaA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=rSY0W3ftk3NQ0piJtMI75iZKYjnmykgdLqeWd61YNOo=;
        b=mE3RCZZ39Dt9ImFaMBDn8GfMmic3hLi9APqtuBUYXMYcC7axkIToy9Z9/vdeCG8gci
         DxoV675myctQT4vFGVA7UU7n46nyoDsyCj1zoC1OzA+p0qn7xjIw2FSiElC8IQrX1Kvw
         sYZpEoz4uIVB9xwNIx5eZquIU46lAHGLmqEOt/BhrwjLWEgwXHszjDhp4mbpWGUkuwvW
         ytvd1mRRwFWgFGwchdC+DSKrcLQM4+hZ4ftf1cMmm1CwUwNB6UVdhhxLjrz2ykgfpcCX
         fjoSRZYyDlgrrgRx3J0K9dp6kfDNA12SLwqN9yi42trqp91zWShSZtMbnKLfsX69M1fv
         C/Ig==
X-Gm-Message-State: AG10YORbznAHn9/qM5liGHRKSiYByTQuN4fSqTOH4Mqo9VFM5Al0bJeIKpJv9Ed7iZ5HrhRC+Zs6WOGo0Kedaw==
MIME-Version: 1.0
X-Received: by 10.25.152.148 with SMTP id a142mr11676813lfe.139.1454941940437;
 Mon, 08 Feb 2016 06:32:20 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Mon, 8 Feb 2016 06:32:20 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Mon, 8 Feb 2016 06:32:20 -0800 (PST)
In-Reply-To: <CAFedD427nGgudD7gBv+nFce=i59Rwzwem9f9b5+GMBmbZAaamg@mail.gmail.com>
References: <CAFedD427nGgudD7gBv+nFce=i59Rwzwem9f9b5+GMBmbZAaamg@mail.gmail.com>
Date: Mon, 8 Feb 2016 15:32:20 +0100
Message-ID: <CAFedD41kp4C7zexoCLYB17=PB=as6sc0KwcJS-QoxydG_N=R_Q@mail.gmail.com>
Subject: Proposal for a new mod_event documentation page
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org, docs@httpd.apache.org
Content-Type: multipart/mixed; boundary=001a114014468775fa052b43116f

--001a114014468775fa052b43116f
Content-Type: multipart/alternative; boundary=001a114014468775f4052b43116d

--001a114014468775f4052b43116d
Content-Type: text/plain; charset=UTF-8

+dev for visibility
---------- Messaggio inoltrato ----------
Da: "Luca Toscano" <toscano.luca@gmail.com>
Data: 06 feb 2016 15:10
Oggetto: Proposal for a new mod_event documentation page
A: <docs@httpd.apache.org>
Cc:

Hi Apache Devs!

I started an email thread some days ago on the dev mailing list to gather
information about mod_event, getting tons of interesting things to read. I
attached to this email a draft of how the new page should look like in my
opinion, please let me know your thoughts!

Notes about the changes:

- clear statement that event shares all the configuration directives with
worker, together with the fact that the number of threads is regulated by
processes multiplied by threads per child.

- explanation of the new async connections fields in mod_status.

- tried to add all the information about keep alives, writing and closing
connections that I've gathered so far. I added a disclaimer for the writing
ones and a big section called "limitations", but I have probably failed to
describe all the closing ones (not only lingering closes I suppose, but I
wasn't sure).

- clear logic connection between how it works and the
"AsyncRequestWorkerFactor" directive section (I am referring to the
sentence "The event MPM handles some connections in an asynchronous way").

Apologies for technical inaccuracies and/or typos!

Luca

--001a114014468775f4052b43116d
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">+dev for visibility</p>
<div class=3D"gmail_quote">---------- Messaggio inoltrato ----------<br>Da:=
 &quot;Luca Toscano&quot; &lt;<a href=3D"mailto:toscano.luca@gmail.com">tos=
cano.luca@gmail.com</a>&gt;<br>Data: 06 feb 2016 15:10<br>Oggetto: Proposal=
 for a new mod_event documentation page<br>A:  &lt;<a href=3D"mailto:docs@h=
ttpd.apache.org">docs@httpd.apache.org</a>&gt;<br>Cc: <br><br type=3D"attri=
bution"><div dir=3D"ltr">Hi Apache Devs!<div><br></div><div>I started an em=
ail thread some days ago on the dev mailing list to gather information abou=
t mod_event, getting tons of interesting things to read. I attached to this=
 email a draft of how the new page should look like in my opinion, please l=
et me know your thoughts!</div><div><br></div><div>Notes about the changes:=
</div><div><br></div><div><div style=3D"font-size:12.8px">- clear statement=
 that event shares all the configuration directives with worker, together w=
ith the fact that the number of threads is regulated by processes multiplie=
d by threads per child.=C2=A0</div><div style=3D"font-size:12.8px"><br></di=
v><div style=3D"font-size:12.8px">- explanation of the new async connection=
s fields in mod_status.=C2=A0</div><div style=3D"font-size:12.8px"><br></di=
v><div style=3D"font-size:12.8px">- tried to add all the information about =
keep alives, writing and closing connections that I&#39;ve gathered so far.=
 I added a disclaimer for the writing ones and a big section called &quot;l=
imitations&quot;, but I have probably failed to describe all the closing on=
es (not only lingering closes I suppose, but I wasn&#39;t sure).</div><div =
style=3D"font-size:12.8px"><br></div><div style=3D"font-size:12.8px">- clea=
r logic connection between how it works and the &quot;AsyncRequestWorkerFac=
tor&quot; directive section (I am referring to the sentence &quot;The event=
 MPM handles some connections in an asynchronous way&quot;).</div></div><di=
v style=3D"font-size:12.8px"><br></div><div style=3D"font-size:12.8px">Apol=
ogies for technical inaccuracies and/or typos!</div><div style=3D"font-size=
:12.8px"><br></div><div style=3D"font-size:12.8px">Luca</div></div>
</div>

--001a114014468775f4052b43116d--
--001a114014468775fa052b43116f
Content-Type: text/plain; charset=US-ASCII; name="event.txt"
Content-Disposition: attachment; filename="event.txt"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ikb76y6s0

SW5kZXg6IG1hbnVhbC9tb2QvZXZlbnQueG1sCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1hbnVhbC9tb2QvZXZl
bnQueG1sCShyZXZpc2lvbiAxNzI4MTYyKQorKysgbWFudWFsL21vZC9ldmVudC54bWwJKHdvcmtp
bmcgY29weSkKQEAgLTMxLDEyICszMSw4IEBACiA8c3VtbWFyeT4KICAgICA8cD5UaGUgPG1vZHVs
ZT5ldmVudDwvbW9kdWxlPiBNdWx0aS1Qcm9jZXNzaW5nIE1vZHVsZSAoTVBNKSBpcwogICAgIGRl
c2lnbmVkIHRvIGFsbG93IG1vcmUgcmVxdWVzdHMgdG8gYmUgc2VydmVkIHNpbXVsdGFuZW91c2x5
IGJ5Ci0gICAgcGFzc2luZyBvZmYgc29tZSBwcm9jZXNzaW5nIHdvcmsgdG8gc3VwcG9ydGluZyB0
aHJlYWRzLCBmcmVlaW5nIHVwCi0gICAgdGhlIG1haW4gdGhyZWFkcyB0byB3b3JrIG9uIG5ldyBy
ZXF1ZXN0cy4gIEl0IGlzIGJhc2VkIG9uIHRoZQotICAgIDxtb2R1bGU+d29ya2VyPC9tb2R1bGU+
IE1QTSwgd2hpY2ggaW1wbGVtZW50cyBhIGh5YnJpZAotICAgIG11bHRpLXByb2Nlc3MgbXVsdGkt
dGhyZWFkZWQgc2VydmVyLiAgUnVuLXRpbWUgY29uZmlndXJhdGlvbgotICAgIGRpcmVjdGl2ZXMg
YXJlIGlkZW50aWNhbCB0byB0aG9zZSBwcm92aWRlZCBieQotICAgIDxtb2R1bGU+d29ya2VyPC9t
b2R1bGU+LjwvcD4KKyAgICBwYXNzaW5nIG9mZiBzb21lIHByb2Nlc3Npbmcgd29yayB0byB0aGUg
bGlzdGVuZXJzIHRocmVhZHMsIGZyZWVpbmcgdXAKKyAgICB0aGUgd29ya2VyIHRocmVhZHMgdG8g
c2VydmUgbmV3IHJlcXVlc3RzLjwvcD4KIAogICAgIDxwPlRvIHVzZSB0aGUgPG1vZHVsZT5ldmVu
dDwvbW9kdWxlPiBNUE0sIGFkZAogICAgICAgPGNvZGU+LS13aXRoLW1wbT1ldmVudDwvY29kZT4g
dG8gdGhlIDxwcm9ncmFtPmNvbmZpZ3VyZTwvcHJvZ3JhbT4KQEAgLTQ2LDIwICs0Miw2MyBAQAog
CiA8c2VlYWxzbz48YSBocmVmPSJ3b3JrZXIuaHRtbCI+VGhlIHdvcmtlciBNUE08L2E+PC9zZWVh
bHNvPgogCis8c2VjdGlvbiBpZD0iZXZlbnQtd29ya2VyLXJlbGF0aW9uc2hpcCI+PHRpdGxlPlJl
bGF0aW9uc2hpcCB3aXRoIHRoZSBXb3JrZXIgTVBNPC90aXRsZT4KKzxwPjxtb2R1bGU+ZXZlbnQ8
L21vZHVsZT4gaXMgYmFzZWQgb24gdGhlIDxtb2R1bGU+d29ya2VyPC9tb2R1bGU+IE1QTSwgd2hp
Y2ggaW1wbGVtZW50cyBhIGh5YnJpZCAKK211bHRpLXByb2Nlc3MgbXVsdGktdGhyZWFkZWQgc2Vy
dmVyLiBBIHNpbmdsZSBjb250cm9sIHByb2Nlc3MgKHRoZSBwYXJlbnQpIGlzIHJlc3BvbnNpYmxl
IGZvciBsYXVuY2hpbmcKK2NoaWxkIHByb2Nlc3Nlcy4gRWFjaCBjaGlsZCBwcm9jZXNzIGNyZWF0
ZXMgYSBmaXhlZCBudW1iZXIgb2Ygc2VydmVyCit0aHJlYWRzIGFzIHNwZWNpZmllZCBpbiB0aGUg
PGRpcmVjdGl2ZSBtb2R1bGU9Im1wbV9jb21tb24iPlRocmVhZHNQZXJDaGlsZDwvZGlyZWN0aXZl
PiBkaXJlY3RpdmUsIGFzIHdlbGwKK2FzIGEgbGlzdGVuZXIgdGhyZWFkIHdoaWNoIGxpc3RlbnMg
Zm9yIGNvbm5lY3Rpb25zIGFuZCBwYXNzZXMgdGhlbSB0byBhIHdvcmtlciB0aHJlYWQgZm9yIHBy
b2Nlc3Npbmcgd2hlbiB0aGV5IGFycml2ZS48L3A+CisKKzxwPlJ1bi10aW1lIGNvbmZpZ3VyYXRp
b24gZGlyZWN0aXZlcyBhcmUgaWRlbnRpY2FsIHRvIHRob3NlIHByb3ZpZGVkIGJ5IDxtb2R1bGU+
d29ya2VyPC9tb2R1bGU+LCB3aXRoIHRoZSBvbmx5IGFkZGl0aW9uIAorb2YgdGhlIDxkaXJlY3Rp
dmU+QXN5bmNSZXF1ZXN0V29ya2VyRmFjdG9yPC9kaXJlY3RpdmU+LjwvcD4KKworPC9zZWN0aW9u
PgorCiA8c2VjdGlvbiBpZD0iaG93LWl0LXdvcmtzIj48dGl0bGU+SG93IGl0IFdvcmtzPC90aXRs
ZT4KICAgICA8cD5UaGlzIE1QTSB0cmllcyB0byBmaXggdGhlICdrZWVwIGFsaXZlIHByb2JsZW0n
IGluIEhUVFAuIEFmdGVyIGEgY2xpZW50Ci0gICAgY29tcGxldGVzIHRoZSBmaXJzdCByZXF1ZXN0
LCB0aGUgY2xpZW50IGNhbiBrZWVwIHRoZSBjb25uZWN0aW9uCi0gICAgb3BlbiwgYW5kIHNlbmQg
ZnVydGhlciByZXF1ZXN0cyB1c2luZyB0aGUgc2FtZSBzb2NrZXQuIFRoaXMgY2FuCi0gICAgc2F2
ZSBzaWduaWZpY2FudCBvdmVyaGVhZCBpbiBjcmVhdGluZyBUQ1AgY29ubmVjdGlvbnMuIEhvd2V2
ZXIsCi0gICAgQXBhY2hlIEhUVFAgU2VydmVyIHRyYWRpdGlvbmFsbHkga2VlcHMgYW4gZW50aXJl
IGNoaWxkIHByb2Nlc3MvdGhyZWFkIHdhaXRpbmcKLSAgICBmb3IgZGF0YSBmcm9tIHRoZSBjbGll
bnQsIHdoaWNoIGJyaW5ncyBpdHMgb3duIGRpc2FkdmFudGFnZXMuIFRvCi0gICAgc29sdmUgdGhp
cyBwcm9ibGVtLCB0aGlzIE1QTSB1c2VzIGEgZGVkaWNhdGVkIHRocmVhZCB0byBoYW5kbGUgYm90
aAotICAgIHRoZSBMaXN0ZW5pbmcgc29ja2V0cywgYWxsIHNvY2tldHMgdGhhdCBhcmUgaW4gYSBL
ZWVwIEFsaXZlIHN0YXRlLAotICAgIGFuZCBzb2NrZXRzIHdoZXJlIHRoZSBoYW5kbGVyIGFuZCBw
cm90b2NvbCBmaWx0ZXJzIGhhdmUgZG9uZSB0aGVpciB3b3JrCi0gICAgYW5kIHRoZSBvbmx5IHJl
bWFpbmluZyB0aGluZyB0byBkbyBpcyBzZW5kIHRoZSBkYXRhIHRvIHRoZSBjbGllbnQuIFRoZQot
ICAgIHN0YXR1cyBwYWdlIG9mIDxtb2R1bGU+bW9kX3N0YXR1czwvbW9kdWxlPiBzaG93cyBob3cg
bWFueSBjb25uZWN0aW9ucyBhcmUKLSAgICBpbiB0aGUgbWVudGlvbmVkIHN0YXRlcy48L3A+Cisg
ICAgY29tcGxldGVzIHRoZSBmaXJzdCByZXF1ZXN0LCBpdCBjYW4ga2VlcCB0aGUgY29ubmVjdGlv
bgorICAgIG9wZW4sIHNlbmRpbmcgZnVydGhlciByZXF1ZXN0cyB1c2luZyB0aGUgc2FtZSBzb2Nr
ZXQgYW5kIHNhdmluZyAKKyAgICBzaWduaWZpY2FudCBvdmVyaGVhZCBpbiBjcmVhdGluZyBUQ1Ag
Y29ubmVjdGlvbnMuIEhvd2V2ZXIsCisgICAgQXBhY2hlIEhUVFAgU2VydmVyIHRyYWRpdGlvbmFs
bHkga2VlcHMgYW4gZW50aXJlIGNoaWxkIAorICAgIHByb2Nlc3MvdGhyZWFkIHdhaXRpbmcgZm9y
IGRhdGEgZnJvbSB0aGUgY2xpZW50LCB3aGljaCBicmluZ3MgaXRzIG93biBkaXNhZHZhbnRhZ2Vz
LiAKKyAgICBUbyBzb2x2ZSB0aGlzIHByb2JsZW0sIHRoaXMgTVBNIHVzZXMgYSBkZWRpY2F0ZWQg
bGlzdGVuZXIgdGhyZWFkIGZvciBlYWNoIHByb2Nlc3MgCisgICAgdG8gaGFuZGxlIGJvdGggdGhl
IExpc3RlbmluZyBzb2NrZXRzLCBhbGwgc29ja2V0cyB0aGF0IGFyZSBpbiBhIEtlZXAgQWxpdmUg
c3RhdGUsIAorICAgIHNvY2tldHMgd2hlcmUgdGhlIGhhbmRsZXIgYW5kIHByb3RvY29sIGZpbHRl
cnMgaGF2ZSBkb25lIHRoZWlyIHdvcmsKKyAgICBhbmQgdGhlIG9uZXMgd2hlcmUgdGhlIG9ubHkg
cmVtYWluaW5nIHRoaW5nIHRvIGRvIGlzIHNlbmQgdGhlIGRhdGEgdG8gdGhlIGNsaWVudC4KKyAg
ICA8L3A+CiAKKyAgICA8cD5UaGUgdG90YWwgYW1vdW50IG9mIGNvbm5lY3Rpb25zIHRoYXQgYSBz
aW5nbGUgcHJvY2Vzcy90aHJlYWRzIGJsb2NrIGNhbiBoYW5kbGUgaXMgcmVndWxhdGVkIAorICAg
ICAgICBieSB0aGUgPGRpcmVjdGl2ZT5Bc3luY1JlcXVlc3RXb3JrZXJGYWN0b3I8L2RpcmVjdGl2
ZT4gZGlyZWN0aXZlLjwvcD4KKworPHNlY3Rpb24gaWQ9ImFzeW5jLWNvbm5lY3Rpb25zIj48dGl0
bGU+QXN5bmMgY29ubmVjdGlvbnM8L3RpdGxlPgorICAgIEFzeW5jIGNvbm5lY3Rpb25zIHdvdWxk
IG5lZWQgYSBmaXhlZCBkZWRpY2F0ZWQgd29ya2VyIHRocmVhZCB3aXRoIHRoZSBwcmV2aW91cyBN
UE1zIGJ1dCBub3Qgd2l0aCBldmVudC4KKyAgICBUaGUgc3RhdHVzIHBhZ2Ugb2YgPG1vZHVsZT5t
b2Rfc3RhdHVzPC9tb2R1bGU+IHNob3dzIG5ldyBjb2x1bW5zIHVuZGVyIHRoZSAKKyAgICBBc3lu
YyBjb25uZWN0aW9ucyBzZWN0aW9uOiAKKyAgICA8dWw+CisgICAgICAgIDxkdD5Xcml0aW5nPC9k
dD4KKyAgICAgICAgPGRkPldoaWxlIHNlbmRpbmcgdGhlIHJlc3BvbnNlIHRvIHRoZSBjbGllbnQs
IGl0IG1pZ2h0IGhhcHBlbiB0aGF0IHRoZSBUQ1Agd3JpdGUgYnVmZmVyIGZpbGxzIHVwIGJlY2F1
c2UgdGhlIGNvbm5lY3Rpb24gaXMgdG9vIHNsb3cuIFVzdWFsbHkgaW4gdGhpcyBjYXNlIGEgPGNv
ZGU+d3JpdGUoKTwvY29kZT4gdG8gdGhlIHNvY2tldCByZXR1cm5zIDxjb2RlPkVXT1VMREJMT0NL
PC9jb2RlPiBvciA8Y29kZT5FQUdBSU48L2NvZGU+LCB0byBiZWNvbWUgd3JpdGFibGUgYWdhaW4g
YWZ0ZXIgYW4gaWRsZSB0aW1lLiBUaGUgd29ya2VyIGhvbGRpbmcgdGhlIHNvY2tldCBtaWdodCBi
ZSBhYmxlIHRvIG9mZmxvYWQgdGhlIHdhaXRpbmcgdGFzayB0byB0aGUgbGlzdGVuZXIgdGhyZWFk
LCB0aGF0IGluIHR1cm4gd2lsbCByZS1hc3NpZ24gaXQgdG8gdGhlIGZpcnN0IGlkbGUgd29ya2Vy
IHRocmVhZCBhdmFpbGFibGUgb25jZSBhbiBldmVudCB3aWxsIGJlIHJhaXNlZCBmb3IgdGhlIHNv
Y2tldCAoZm9yIGV4YW1wbGUsICJ0aGUgc29ja2V0IGlzIG5vdyB3cml0YWJsZSIpLiBQbGVhc2Ug
Y2hlY2sgdGhlIExpbWl0YXRpb25zIHNlY3Rpb24gZm9yIG1vcmUgaW5mb3JtYXRpb24uCisgICAg
ICAgIDwvZGQ+CisKKyAgICAgICAgPGR0PktlZXAtYWxpdmU8L2R0PgorICAgICAgICA8ZGQ+S2Vl
cCBBbGl2ZSBoYW5kbGluZyBpcyB0aGUgbW9zdCBiYXNpYyBpbXByb3ZlbWVudCBmcm9tIHRoZSB3
b3JrZXIgTVBNLgorICAgICAgICBPbmNlIGEgd29ya2VyIHRocmVhZCBmaW5pc2hlcyB0byBmbHVz
aCB0aGUgcmVzcG9uc2UgdG8gdGhlIGNsaWVudCwgaXQgY2FuIG9mZmxvYWQgdGhlCisgICAgICAg
IHNvY2tldCBoYW5kbGluZyB0byB0aGUgbGlzdGVuZXIgdGhyZWFkLCB0aGF0IGluIHR1cm5zIHdp
bGwgd2FpdCBmb3IgYW55IGV2ZW50IGZyb20gdGhlCisgICAgICAgIE9TLCBsaWtlICJ0aGUgc29j
a2V0IGlzIHJlYWRhYmxlIi4gSWYgYW55IG5ldyByZXF1ZXN0IGNvbWVzIGZyb20gdGhlIGNsaWVu
dCwgdGhlbiB0aGUgCisgICAgICAgIGxpc3RlbmVyIHdpbGwgZm9yd2FyZCBpdCB0byB0aGUgZmly
c3Qgd29ya2VyIHRocmVhZCBhdmFpbGFibGUuIENvbnZlcnNlbHksIGlmIHRoZSAKKyAgICAgICAg
PGRpcmVjdGl2ZSBtb2R1bGU9ImNvcmUiPktlZXBBbGl2ZVRpbWVvdXQ8L2RpcmVjdGl2ZT4gb2Nj
dXJzIHRoZW4gdGhlIHNvY2tldCB3aWxsIGJlIAorICAgICAgICBjbG9zZWQgYnkgdGhlIGxpc3Rl
bmVyLiBJbiB0aGlzIHdheSB0aGUgd29ya2VyIHRocmVhZHMgYXJlIG5vdCByZXNwb25zaWJsZSBm
b3IgaWRsZQorICAgICAgICBzb2NrZXRzIGFuZCB0aGV5IGNhbiBiZSByZS11c2VkIHRvIHNlcnZl
IG90aGVyIHJlcXVlc3RzLjwvZGQ+CisKKyAgICAgICAgPGR0PkNsb3Npbmc8L2R0PgorICAgICAg
ICA8ZGQ+U29tZXRpbWVzIHRoZSBNUE0gbmVlZHMgdG8gcGVyZm9ybSBhIGxpbmdlcmluZyBjbG9z
ZSwgbmFtZWx5IHNlbmRpbmcgYmFjayBhbiBlYXJseSBlcnJvciB0byB0aGUgY2xpZW50IHdoaWxl
IGl0IGlzIHN0aWxsCisgICAgICAgIHRyYW5zbWl0dGluZyBkYXRhIHRvIGh0dHBkLiBTZW5kaW5n
IHRoZSByZXNwb25zZSBhbmQgdGhlbiBjbG9zaW5nIHRoZSBjb25uZWN0aW9uIGltbWVkaWF0ZWx5
IGlzIG5vdCB0aGUgY29ycmVjdCB0aGluZyB0byBkbyBzaW5jZSB0aGUgY2xpZW50IChzdGlsbCB0
cnlpbmcgdG8gc2VuZCB0aGUgcmVzdCBvZiB0aGUgcmVxdWVzdCkgd291bGQgZ2V0IGEgY29ubmVj
dGlvbiByZXNldCBhbmQgY291bGQgbm90IHJlYWQgdGhlIGh0dHBkJ3MgcmVzcG9uc2UuIFNvIGlu
IHN1Y2ggY2FzZXMsIGh0dHBkIHRyaWVzIHRvIHJlYWQgdGhlIHJlc3Qgb2YgdGhlIHJlcXVlc3Qg
dG8gYWxsb3cgdGhlIGNsaWVudCB0byBjb25zdW1lIHRoZSByZXNwb25zZSBhZnRlciB0aGUgY29t
cGxldGUgZGVsaXZlcnkgb2YgdGhlIHJlcXVlc3QuIFRoZSBsaW5nZXJpbmcgY2xvc2UgaXQgdGlt
ZSBib3VuZGVkIGJ1dCBpdCBjYW4gdGFrZSByZWxhdGl2ZWx5IGxvbmcgdGltZSwgc28gYSB3b3Jr
ZXIgdGhyZWFkIGNhbiBvZmZsb2FkIHRoaXMgd29yayB0byB0aGUgbGlzdGVuZXIuPC9kZD4KKyAg
ICA8L3VsPgorCisgICAgPHA+VGhlc2UgaW1wcm92ZW1lbnRzIGFyZSB2YWxpZCBmb3IgYm90aCBI
VFRQL0hUVFBTIGNvbm5lY3Rpb25zLjwvcD4gCisKKzwvc2VjdGlvbj4KKworPHNlY3Rpb24gaWQ9
ImxpbWl0YXRpb25zIj48dGl0bGU+TGltaXRhdGlvbnM8L3RpdGxlPgogICAgIDxwPlRoZSBpbXBy
b3ZlZCBjb25uZWN0aW9uIGhhbmRsaW5nIG1heSBub3Qgd29yayBmb3IgY2VydGFpbiBjb25uZWN0
aW9uCiAgICAgZmlsdGVycyB0aGF0IGhhdmUgZGVjbGFyZWQgdGhlbXNlbHZlcyBhcyBpbmNvbXBh
dGlibGUgd2l0aCBldmVudC4gSW4gdGhlc2UKICAgICBjYXNlcywgdGhpcyBNUE0gd2lsbCBmYWxs
IGJhY2sgdG8gdGhlIGJlaGF2aW91ciBvZiB0aGUKQEAgLTcyLDggKzExMSwzNyBAQAogICAgIGNv
bm5lY3Rpb24gdG8gdGhlIGNsaWVudCBibG9ja3Mgd2hpbGUgdGhlIGZpbHRlciBpcyBwcm9jZXNz
aW5nIHRoZQogICAgIGRhdGEsIGFuZCB0aGUgYW1vdW50IG9mIGRhdGEgcHJvZHVjZWQgYnkgdGhl
IGZpbHRlciBpcyB0b28gYmlnIHRvIGJlCiAgICAgYnVmZmVyZWQgaW4gbWVtb3J5LCB0aGUgdGhy
ZWFkIHVzZWQgZm9yIHRoZSByZXF1ZXN0IGlzIG5vdCBmcmVlZCB3aGlsZQotICAgIGh0dHBkIHdh
aXRzIHVudGlsIHRoZSBwZW5kaW5nIGRhdGEgaXMgc2VudCB0byB0aGUgY2xpZW50LjwvcD4KKyAg
ICBodHRwZCB3YWl0cyB1bnRpbCB0aGUgcGVuZGluZyBkYXRhIGlzIHNlbnQgdG8gdGhlIGNsaWVu
dC4gUGxlYXNlIG5vdGUgdGhhdAorICAgIHRoaXMgbGltaXRhdGlvbiBpcyBvbmx5IGEgY29ybmVy
IGNhc2UsIGl0IGRvZXMgbm90IG1lYW4gdGhhdCB0aGUgZXZlbnQgTVBNCisgICAgZGVmYXVsdHMg
dG8gd29ya2VyIGluIHByZXNlbmNlIG9mIFRMUy9TU0wgY29ubmVjdGlvbnMgYW5kL29yIGNvbXBy
ZXNzaW9uLjwvcD4gCisgICAgCisgICAgPHA+VG8gaWxsdXN0cmF0ZSB0aGlzIHBvaW50IHdlIGNh
biB0aGluayBhYm91dCB0aGUgZm9sbG93aW5nIHR3byBzaXR1YXRpb25zOiAKKyAgICBzZXJ2aW5n
IGEgc3RhdGljIGFzc2V0IChsaWtlIGEgQ1NTIGZpbGUpIHZlcnN1cyBzZXJ2aW5nIGNvbnRlbnQg
cmV0cmlldmVkIGZyb20KKyAgICBGQ0dJL0NHSSBvciBhIHByb3hpZWQgc2VydmVyLiBUaGUgZm9y
bWVyIGlzIHByZWRpY3RhYmxlLCBuYW1lbHkgdGhlIGV2ZW50IE1QTSAKKyAgICBoYXMgZnVsbCB2
aXNpYmlsaXR5IG9uIHRoZSBlbmQgb2YgdGhlIGNvbnRlbnQgYW5kIGl0IGNhbiB1c2UgZXZlbnRz
OiB0aGUgd29ya2VyIAorICAgIHRocmVhZCBzZXJ2aW5nIHRoZSByZXNwb25zZSBjb250ZW50IGNh
biBmbHVzaCB0aGUgZmlyc3QgYnl0ZXMgdW50aWwgPGNvZGU+RVdPVUxEQkxPQ0s8L2NvZGU+Cisg
ICAgb3IgPGNvZGU+RUFHQUlOPC9jb2RlPiBpcyByZXR1cm5lZCwgZGVsZWdhdGluZyB0aGUgcmVz
dCB0byB0aGUgbGlzdGVuZXIuIFRoaXMgb25lIGluIHR1cm4KKyAgICB3YWl0cyBmb3IgYW4gZXZl
bnQgb24gdGhlIHNvY2tldCwgYW5kIGRlbGVnYXRlcyB0aGUgd29yayB0byBmbHVzaCB0aGUgcmVz
dCBvZiB0aGUgY29udGVudAorICAgIHRvIHRoZSBmaXJzdCBpZGxlIHdvcmtlciB0aHJlYWQuIE1l
YW53aGlsZSBpbiB0aGUgbGF0dGVyIGV4YW1wbGUgKEZDR0kvQ0dJL3Byb3hlZCBjb250ZW50KQor
ICAgIHRoZSBNUE0gY2FuJ3QgcHJlZGljdCB0aGUgZW5kIG9mIHRoZSByZXNwb25zZSBhbmQgYSB3
b3JrZXIgdGhyZWFkIGhhcyB0byBmaW5pc2ggaXRzIHdvcmsKKyAgICBiZWZvcmUgcmV0dXJuaW5n
IHRoZSBjb250cm9sIHRvIHRoZSBsaXN0ZW5lci4gVGhlIG9ubHkgYWx0ZXJuYXRpdmUgd291bGQg
YmUgdG8gYnVmZmVyIHRoZSAKKyAgICByZXNwb25zZSBpbiBtZW1vcnksIGJ1dCBpdCBpcyBub3Qg
b2YgY291cnNlIHRoZSBzYWZlIG9wdGlvbiBmb3IgdGhlIHNha2Ugb2YgdGhlCisgICAgc2VydmVy
J3Mgc3RhYmlsaXR5IGFuZCBtZW1vcnkgZm9vdHByaW50LgorICAgIDwvcD4KIAorPC9zZWN0aW9u
PgorCis8c2VjdGlvbiBpZD0iYmFja2dyb3VuZCI+PHRpdGxlPkJhY2tncm91bmQgbWF0ZXJpYWw8
L3RpdGxlPgorICAgIDxwPlRoZSBldmVudCBtb2RlbCB3YXMgbWFkZSBwb3NzaWJsZSBieSB0aGUg
aW50cm9kdWN0aW9uIG9mIG5ldyBBUElzIGludG8gdGhlIHN1cHBvcnRlZCBvcGVyYXRpbmcgc3lz
dGVtczoKKyAgICA8dWw+CisgICAgICAgIDxsaT5lcG9sbCAoTGludXgpIDwvbGk+CisgICAgICAg
IDxsaT5rcXVldWUgKEJTRCkgPC9saT4KKyAgICAgICAgPGxpPmV2ZW50IHBvcnRzIChTb2xhcmlz
KSA8L2xpPgorICAgIDwvdWw+CisgICAgQmVmb3JlIHRoZXNlIG5ldyBBUElzIHdoZXJlIG1hZGUg
YXZhaWxhYmxlLCB0aGUgdHJhZGl0aW9uYWwgPGNvZGU+c2VsZWN0PC9jb2RlPiBhbmQgPGNvZGU+
cG9sbDwvY29kZT4gQVBJcyBoYWQgdG8gYmUgdXNlZC4gCisgICAgVGhvc2UgQVBJcyBnZXQgc2xv
dyBpZiB1c2VkIHRvIGhhbmRsZSBtYW55IGNvbm5lY3Rpb25zIG9yIGlmIHRoZSBzZXQgb2YgY29u
bmVjdGlvbnMgcmF0ZSBvZiBjaGFuZ2UgaXMgaGlnaC4gCisgICAgVGhlIG5ldyBBUElzIGFsbG93
IHRvIG1vbml0b3IgbXVjaCBtb3JlIGNvbm5lY3Rpb25zIGFuZCB0aGV5IHBlcmZvcm0gd2F5IGJl
dHRlciB3aGVuIHRoZSBzZXQgb2YgY29ubmVjdGlvbnMgdG8gbW9uaXRvciBjaGFuZ2VzIGZyZXF1
ZW50bHkuIFNvIHRoZXNlIEFQSXMgbWFkZSBpdCBwb3NzaWJsZSB0byB3cml0ZSB0aGUgZXZlbnQg
TVBNLCB0aGF0IHNjYWxlcyBtdWNoIGJldHRlciB3aXRoIHRoZSB0eXBpY2FsIEhUVFAgcGF0dGVy
biBvZiBtYW55IGlkbGUgY29ubmVjdGlvbnMuPC9wPgorCiAgICAgPHA+VGhlIE1QTSBhc3N1bWVz
IHRoYXQgdGhlIHVuZGVybHlpbmcgPGNvZGU+YXByX3BvbGxzZXQ8L2NvZGU+CiAgICAgaW1wbGVt
ZW50YXRpb24gaXMgcmVhc29uYWJseSB0aHJlYWRzYWZlLiBUaGlzIGVuYWJsZXMgdGhlIE1QTSB0
bwogICAgIGF2b2lkIGV4Y2Vzc2l2ZSBoaWdoIGxldmVsIGxvY2tpbmcsIG9yIGhhdmluZyB0byB3
YWtlIHVwIHRoZSBsaXN0ZW5lcgpAQCAtODEsNiArMTQ5LDkgQEAKICAgICBvbmx5IGNvbXBhdGli
bGUgd2l0aCBLUXVldWUgYW5kIEVQb2xsLjwvcD4KIAogPC9zZWN0aW9uPgorCis8L3NlY3Rpb24+
CisKIDxzZWN0aW9uIGlkPSJyZXF1aXJlbWVudHMiPjx0aXRsZT5SZXF1aXJlbWVudHM8L3RpdGxl
PgogICAgIDxwPlRoaXMgTVBNIGRlcGVuZHMgb24gPGdsb3NzYXJ5PkFQUjwvZ2xvc3Nhcnk+J3Mg
YXRvbWljCiAgICAgY29tcGFyZS1hbmQtc3dhcCBvcGVyYXRpb25zIGZvciB0aHJlYWQgc3luY2hy
b25pemF0aW9uLiBJZiB5b3UgYXJlCg==
--001a114014468775fa052b43116f--

From dev-return-85486-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 15:45:48 2016
Return-Path: <dev-return-85486-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 04DB618C7C
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 15:45:48 +0000 (UTC)
Received: (qmail 6453 invoked by uid 500); 8 Feb 2016 15:45:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6368 invoked by uid 500); 8 Feb 2016 15:45:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6355 invoked by uid 99); 8 Feb 2016 15:45:41 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 15:45:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D083118546F;
	Mon,  8 Feb 2016 15:45:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id V2YaN-Ke83W0; Mon,  8 Feb 2016 15:45:40 +0000 (UTC)
Received: from mail-ig0-f174.google.com (mail-ig0-f174.google.com [209.85.213.174])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id DB7FC2050D;
	Mon,  8 Feb 2016 15:45:39 +0000 (UTC)
Received: by mail-ig0-f174.google.com with SMTP id ik10so87905519igb.1;
        Mon, 08 Feb 2016 07:45:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type:content-transfer-encoding;
        bh=/y5HSLIv8vj0IA8/zKLndxQbzpquH/m8jhOKB2Djaos=;
        b=gZXqcHPHzL8h49AE5xqhL/Lwy9Kywek/QrRTdS9e9JmvFYlNrDza78xb+QPTs5Qccn
         u4FT+CiWzZIRM3/RK51epo5jCe8fVfZ1RiL5Z8w2SQmMxZnxUtTD6U5QvGgOA67YP0rH
         K6LauGsMLEn/rxWk8UfWLxMjFr9i8RC28buX1I0nVSmkps7VeaUHEiBy29C4GwhmQlC6
         VM/AnFbPlqFpObfjypape58mkr6DcemQrtHPBtmzp8xIyGvbooZjClz99MBG29Rw6I5d
         zgsjZ0tbDwep7ENMyNAsFkQI7Br8xfHISEPOJtjv+PhpGf92vcT+lVhRHhH8btdoSeXK
         slrQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=/y5HSLIv8vj0IA8/zKLndxQbzpquH/m8jhOKB2Djaos=;
        b=K9Q/dLf7/D+mqeQIY7dmUr1x2EbwhNwKheWxCcnryzSX9WPePBsHBTInppWjefX0vK
         ZVFp97GJInCkzDQO9yETvZj3MrG6MSZCbhfxIDIA+skN2aaznlP0KVx7uNVqKhWdTjhy
         oAFC3JENOQgNhLnrqDuoyNTZJWN0BRJurayOQJFxYZ9eUYUVa2DOXWq/UumrrYlz0auT
         ARhKFJ+UnZ5GDn0HAWCUAIEJBLeO5LNEqcGXDrTcClzvXXslfJdxJW2tu78fNiJbSbvk
         rEuxauONkssQukeSPa8ysMoSx4d/6WcszfiRXQGJqFvhhI+DUQe8pj8GO4MQcE9q1dv9
         Uhrw==
X-Gm-Message-State: AG10YOTj/Sa/4qnTVcNaqCWlJAWxp+55lMpsClwpujcLsTxtnHioUW6YSiOIjyRQrQOUO09AYxlYUx1+gUTe9g==
MIME-Version: 1.0
X-Received: by 10.50.41.41 with SMTP id c9mr27743025igl.36.1454946333769; Mon,
 08 Feb 2016 07:45:33 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Mon, 8 Feb 2016 07:45:33 -0800 (PST)
In-Reply-To: <F52E679F-B07B-475F-86A8-1155429C4EC1@sharp.fm>
References: <20160117234009.7167F3A00E7@svn01-us-west.apache.org>
	<F52E679F-B07B-475F-86A8-1155429C4EC1@sharp.fm>
Date: Mon, 8 Feb 2016 10:45:33 -0500
Message-ID: <CALK=YjPbrUaKPsuNYHSx_tHnO0POHJ67VqVAuHj0U3609W7oDQ@mail.gmail.com>
Subject: Re: svn commit: r1725149 - in /httpd/httpd/trunk: CHANGES
 docs/manual/mod/core.xml include/ap_mmn.h include/http_core.h server/core.c
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Cc: cvs@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

To close the loop, I made this implicit and added it to the backport
proposal.  I think handler strings should
be safe enough.

On Mon, Jan 18, 2016 at 5:03 AM, Graham Leggett <minfrin@sharp.fm> wrote:
> On 18 Jan 2016, at 1:40 AM, covener@apache.org wrote:
>
>> Author: covener
>> Date: Sun Jan 17 23:40:09 2016
>> New Revision: 1725149
>>
>> URL: http://svn.apache.org/viewvc?rev=3D1725149&view=3Drev
>> Log:
>> allow expressions to be used in SetHandler. Opt-in with expr=3D prefix.
>
> I am -0.9 on the opt-in with expr=3D syntax.
>
> Almost all the directives with expression support simply support expressi=
ons. Except for the one or two that don=E2=80=99t, which forces our end use=
rs to either know or constantly check the manual to work out which is which=
. We can=E2=80=99t even cleanly detect a possible error - if the person put=
s in an expression by accident where an expr=3D is needed there is no way t=
he server can detect that. This is really nasty.
>
> If we want opt-in expression support we need some kind of Expression +Foo=
 statement to control this.
>
> Regards,
> Graham
> =E2=80=94
>



--=20
Eric Covener
covener@gmail.com

From dev-return-85487-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 15:55:07 2016
Return-Path: <dev-return-85487-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9C14F18D01
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 15:55:07 +0000 (UTC)
Received: (qmail 42948 invoked by uid 500); 8 Feb 2016 15:55:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42883 invoked by uid 500); 8 Feb 2016 15:55:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42873 invoked by uid 99); 8 Feb 2016 15:55:04 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 15:55:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C7BECC05B0
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 15:55:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.021
X-Spam-Level:
X-Spam-Status: No, score=-0.021 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Hky4gKAevPHM for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 15:55:02 +0000 (UTC)
Received: from mail-ig0-f182.google.com (mail-ig0-f182.google.com [209.85.213.182])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A03252139D
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 15:55:01 +0000 (UTC)
Received: by mail-ig0-f182.google.com with SMTP id hb3so58169806igb.0
        for <dev@httpd.apache.org>; Mon, 08 Feb 2016 07:55:01 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=vN/Lo6IHMjUiN7Ek6zSUFcQE3jyw9W/3lyWCsrtTpI8=;
        b=SPmNeUKYLdx+6z3WZBnv+tAEi09DAwoR8Vs5utK0KbYAbiLgYL/AqkRojOILPpJtfL
         VbfmlbWhC3UTYG++QnNfMqKHdINqhjVGqjmIseTNAvbz5ht7J3Kf6zvadq/wIDICHKu7
         2nJDqrru7I//2n/TXUwYmGngJHxR+rB3VXEtymuugOK41lLGZ5Xyt37mrSCLzVunsOGf
         Bc11N8qnGr6BPv/ROdJ5KXSRVyjBp65sRjxGpCLbn1BlnUmXs/feXxvEaMEML0sFKv7U
         cT8RtEXUBJ2ZhRh/vxl+gxgecvYr8ClOs3Q9qrC/g07RNWTcAhZqwodRsAl7awwS/bq8
         2LWQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=vN/Lo6IHMjUiN7Ek6zSUFcQE3jyw9W/3lyWCsrtTpI8=;
        b=UMb5noLS6w07i481MVnQqMSEseKlBh49qL7qS5t/vefwwEna2NFTCbn4b0Z/haYW7J
         /9L6H72M8Ayg+ZaQqnUjTcbMZEsYxxFXx4R+7SSVn5W9uF2EvwKt67Pe/6WbNYMRNQSP
         6D9Pa1Uz27DwhbtlAiB+taXacppIJijLBh3yU4zLZKRDqADQU6yWqOOJJhH299BoYa04
         LvVutNyp07DF4M6A+hXaMdSXHhlx4YS/0My1/I1M6cpogt4DFZN0w3Lq55yyTDEdpCRj
         LEh+knyoCDdFqXdPhDEJVH7LPxhBQOoWnf8i4cF1LzlKsNNDd8wdCA0r23nR7eW7Yp5F
         1A2Q==
X-Gm-Message-State: AG10YORxcBDIh19yaaC6lfAS3vtw/1cRkTnGSK98MBz6U3Lixr0E26fqyboZNdN547eK9ZtDf1Ij3OwNPW66yg==
MIME-Version: 1.0
X-Received: by 10.50.155.40 with SMTP id vt8mr27933242igb.56.1454946900573;
 Mon, 08 Feb 2016 07:55:00 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Mon, 8 Feb 2016 07:55:00 -0800 (PST)
In-Reply-To: <25E0E088-0A8C-48C3-9893-3B70C5D3ABD7@greenbytes.de>
References: <20160121163633.CA1003A008E@svn01-us-west.apache.org>
	<D0AB1FED-35DA-468C-9961-FA8FC735A028@jaguNET.com>
	<25E0E088-0A8C-48C3-9893-3B70C5D3ABD7@greenbytes.de>
Date: Mon, 8 Feb 2016 10:55:00 -0500
Message-ID: <CALK=YjNKYyrYea6Xs==upHHqZMs0quzrXpfhkxbbLhx-aqLz1g@mail.gmail.com>
Subject: Re: svn commit: r1726009 - in /httpd/httpd/trunk: include/scoreboard.h
 modules/generators/mod_status.c modules/ssl/ssl_engine_kernel.c server/scoreboard.c
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

I think this went in as a major bump, but I think it only needed a
minor. Probably not intentional because major would not be
backportable.

Anyone elses 2c and I'll flip it?

On Thu, Jan 21, 2016 at 11:57 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Ah, of course, just a moment...
>
>> Am 21.01.2016 um 17:54 schrieb Jim Jagielski <jim@jaguNET.com>:
>>
>> Not seeing a mmn bump... ?
>>
>>> On Jan 21, 2016, at 11:36 AM, icing@apache.org wrote:
>>>
>>> Author: icing
>>> Date: Thu Jan 21 16:36:33 2016
>>> New Revision: 1726009
>>>
>>> URL: http://svn.apache.org/viewvc?rev=1726009&view=rev
>>> Log:
>>> scoreboard addition of protocol, new ap_udpte_child_status methods
>>>
>>> Modified:
>>>   httpd/httpd/trunk/include/scoreboard.h
>>>   httpd/httpd/trunk/modules/generators/mod_status.c
>>>   httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
>>>   httpd/httpd/trunk/server/scoreboard.c
>>>
>>> Modified: httpd/httpd/trunk/include/scoreboard.h
>>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/include/scoreboard.h?rev=1726009&r1=1726008&r2=1726009&view=diff
>>> ==============================================================================
>>> --- httpd/httpd/trunk/include/scoreboard.h (original)
>>> +++ httpd/httpd/trunk/include/scoreboard.h Thu Jan 21 16:36:33 2016
>>> @@ -115,6 +115,7 @@ struct worker_score {
>>>    char client[40];            /* Keep 'em small... but large enough to hold an IPv6 address */
>>>    char request[64];           /* We just want an idea... */
>>>    char vhost[32];             /* What virtual host is being accessed? */
>>> +    char protocol[16];          /* What protocol is used on the connection? */
>>> };
>>>
>>> typedef struct {
>>> @@ -181,6 +182,10 @@ AP_DECLARE(int) ap_update_child_status(a
>>> AP_DECLARE(int) ap_update_child_status_from_indexes(int child_num, int thread_num,
>>>                                                    int status, request_rec *r);
>>> AP_DECLARE(int) ap_update_child_status_from_conn(ap_sb_handle_t *sbh, int status, conn_rec *c);
>>> +AP_DECLARE(int) ap_update_child_status_from_server(ap_sb_handle_t *sbh, int status,
>>> +                                                   conn_rec *c, server_rec *s);
>>> +AP_DECLARE(int) ap_update_child_status_descr(ap_sb_handle_t *sbh, int status, const char *descr);
>>> +
>>> AP_DECLARE(void) ap_time_process_request(ap_sb_handle_t *sbh, int status);
>>>
>>> AP_DECLARE(worker_score *) ap_get_scoreboard_worker(ap_sb_handle_t *sbh);
>>>
>>> Modified: httpd/httpd/trunk/modules/generators/mod_status.c
>>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/generators/mod_status.c?rev=1726009&r1=1726008&r2=1726009&view=diff
>>> ==============================================================================
>>> --- httpd/httpd/trunk/modules/generators/mod_status.c (original)
>>> +++ httpd/httpd/trunk/modules/generators/mod_status.c Thu Jan 21 16:36:33 2016
>>> @@ -662,7 +662,7 @@ static int status_handler(request_rec *r
>>> #endif
>>>                     "<th>SS</th><th>Req</th>"
>>>                     "<th>Conn</th><th>Child</th><th>Slot</th>"
>>> -                     "<th>Client</th><th>VHost</th>"
>>> +                     "<th>Client</th><th>Protocol</th><th>VHost</th>"
>>>                     "<th>Request</th></tr>\n\n", r);
>>>
>>>        for (i = 0; i < server_limit; ++i) {
>>> @@ -776,13 +776,15 @@ static int status_handler(request_rec *r
>>>                    format_byte_out(r, bytes);
>>>                    ap_rputs(")\n", r);
>>>                    ap_rprintf(r,
>>> -                               " <i>%s {%s}</i> <b>[%s]</b><br />\n\n",
>>> +                               " <i>%s {%s}</i> <i>(%s)</i> <b>[%s]</b><br />\n\n",
>>>                               ap_escape_html(r->pool,
>>>                                              ws_record->client),
>>>                               ap_escape_html(r->pool,
>>>                                              ap_escape_logitem(r->pool,
>>>                                                                ws_record->request)),
>>>                               ap_escape_html(r->pool,
>>> +                                              ws_record->protocol),
>>> +                               ap_escape_html(r->pool,
>>>                                              ws_record->vhost));
>>>                }
>>>                else { /* !no_table_report */
>>> @@ -860,11 +862,13 @@ static int status_handler(request_rec *r
>>>                               (float)conn_bytes / KBYTE, (float) my_bytes / MBYTE,
>>>                               (float)bytes / MBYTE);
>>>
>>> -                    ap_rprintf(r, "</td><td>%s</td><td nowrap>%s</td>"
>>> +                    ap_rprintf(r, "</td><td>%s</td><td>%s</td><td nowrap>%s</td>"
>>>                                  "<td nowrap>%s</td></tr>\n\n",
>>>                               ap_escape_html(r->pool,
>>>                                              ws_record->client),
>>>                               ap_escape_html(r->pool,
>>> +                                              ws_record->protocol),
>>> +                               ap_escape_html(r->pool,
>>>                                              ws_record->vhost),
>>>                               ap_escape_html(r->pool,
>>>                                              ap_escape_logitem(r->pool,
>>>
>>> Modified: httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
>>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c?rev=1726009&r1=1726008&r2=1726009&view=diff
>>> ==============================================================================
>>> --- httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c (original)
>>> +++ httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c Thu Jan 21 16:36:33 2016
>>> @@ -31,6 +31,7 @@
>>> #include "ssl_private.h"
>>> #include "mod_ssl.h"
>>> #include "util_md5.h"
>>> +#include "scoreboard.h"
>>>
>>> static void ssl_configure_env(request_rec *r, SSLConnRec *sslconn);
>>> #ifdef HAVE_TLSEXT
>>> @@ -2218,6 +2219,7 @@ static int ssl_find_vhost(void *serverna
>>>        sslcon->server = s;
>>>        sslcon->cipher_suite = sc->server->auth.cipher_suite;
>>>
>>> +        ap_update_child_status_from_server(c->sbh, SERVER_BUSY_READ, c, s);
>>>        /*
>>>         * There is one special filter callback, which is set
>>>         * very early depending on the base_server's log level.
>>>
>>> Modified: httpd/httpd/trunk/server/scoreboard.c
>>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/scoreboard.c?rev=1726009&r1=1726008&r2=1726009&view=diff
>>> ==============================================================================
>>> --- httpd/httpd/trunk/server/scoreboard.c (original)
>>> +++ httpd/httpd/trunk/server/scoreboard.c Thu Jan 21 16:36:33 2016
>>> @@ -32,6 +32,7 @@
>>> #include "http_main.h"
>>> #include "http_core.h"
>>> #include "http_config.h"
>>> +#include "http_protocol.h"
>>> #include "ap_mpm.h"
>>>
>>> #include "scoreboard.h"
>>> @@ -457,7 +458,9 @@ static int update_child_status_internal(
>>>                                        int thread_num,
>>>                                        int status,
>>>                                        conn_rec *c,
>>> -                                        request_rec *r)
>>> +                                        server_rec *s,
>>> +                                        request_rec *r,
>>> +                                        const char *descr)
>>> {
>>>    int old_status;
>>>    worker_score *ws;
>>> @@ -466,18 +469,22 @@ static int update_child_status_internal(
>>>
>>>    ws = &ap_scoreboard_image->servers[child_num][thread_num];
>>>    old_status = ws->status;
>>> -    ws->status = status;
>>> -
>>> -    ps = &ap_scoreboard_image->parent[child_num];
>>> -
>>> -    if (status == SERVER_READY
>>> -        && old_status == SERVER_STARTING) {
>>> -        ws->thread_num = child_num * thread_limit + thread_num;
>>> -        ap_mpm_query(AP_MPMQ_GENERATION, &mpm_generation);
>>> -        ps->generation = mpm_generation;
>>> +    if (status >= 0) {
>>> +        ws->status = status;
>>> +
>>> +        ps = &ap_scoreboard_image->parent[child_num];
>>> +
>>> +        if (status == SERVER_READY
>>> +            && old_status == SERVER_STARTING) {
>>> +            ws->thread_num = child_num * thread_limit + thread_num;
>>> +            ap_mpm_query(AP_MPMQ_GENERATION, &mpm_generation);
>>> +            ps->generation = mpm_generation;
>>> +        }
>>>    }
>>>
>>>    if (ap_extended_status) {
>>> +        const char *val;
>>> +
>>>        if (status == SERVER_READY || status == SERVER_DEAD) {
>>>            /*
>>>             * Reset individual counters
>>> @@ -490,27 +497,42 @@ static int update_child_status_internal(
>>>            ws->conn_bytes = 0;
>>>            ws->last_used = apr_time_now();
>>>        }
>>> -        if (r) {
>>> -            const char *client = ap_get_remote_host(c, r->per_dir_config,
>>> -                                 REMOTE_NOLOOKUP, NULL);
>>> -            if (!client || !strcmp(client, c->client_ip)) {
>>> -                apr_cpystrn(ws->client, r->useragent_ip, sizeof(ws->client));
>>> +        if (status == SERVER_READY) {
>>> +            ws->client[0]='\0';
>>> +            ws->vhost[0]='\0';
>>> +            ws->request[0]='\0';
>>> +            ws->protocol[0]='\0';
>>> +        }
>>> +        else {
>>> +            if (descr) {
>>> +                apr_cpystrn(ws->request, descr, sizeof(ws->request));
>>>            }
>>> -            else {
>>> -                apr_cpystrn(ws->client, client, sizeof(ws->client));
>>> +            else if (r) {
>>> +                copy_request(ws->request, sizeof(ws->request), r);
>>>            }
>>> -            copy_request(ws->request, sizeof(ws->request), r);
>>> -            if (r->server) {
>>> -                apr_snprintf(ws->vhost, sizeof(ws->vhost), "%s:%d",
>>> -                             r->server->server_hostname,
>>> -                             r->connection->local_addr->port);
>>> +            if (r || c) {
>>> +                val = ap_get_remote_host(c, r? r->per_dir_config : NULL,
>>> +                                         REMOTE_NOLOOKUP, NULL);
>>> +                if (r && (!val || !strcmp(val, c->client_ip))) {
>>> +                    apr_cpystrn(ws->client, r->useragent_ip, sizeof(ws->client));
>>> +                }
>>> +                else {
>>> +                    apr_cpystrn(ws->client, val, sizeof(ws->client));
>>> +                }
>>> +            }
>>> +            if (s) {
>>> +                if (c) {
>>> +                    apr_snprintf(ws->vhost, sizeof(ws->vhost), "%s:%d",
>>> +                                 s->server_hostname, c->local_addr->port);
>>> +                }
>>> +                else {
>>> +                    apr_cpystrn(ws->vhost, s->server_hostname, sizeof(ws->vhost));
>>> +                }
>>> +            }
>>> +            if (c) {
>>> +                val = ap_get_protocol(c);
>>> +                apr_cpystrn(ws->protocol, val, sizeof(ws->protocol));
>>>            }
>>> -        }
>>> -        else if (c) {
>>> -            apr_cpystrn(ws->client, ap_get_remote_host(c, NULL,
>>> -                        REMOTE_NOLOOKUP, NULL), sizeof(ws->client));
>>> -            ws->request[0]='\0';
>>> -            ws->vhost[0]='\0';
>>>        }
>>>    }
>>>
>>> @@ -528,7 +550,8 @@ AP_DECLARE(int) ap_update_child_status_f
>>>
>>>    return update_child_status_internal(child_num, thread_num, status,
>>>                                        r ? r->connection : NULL,
>>> -                                        r);
>>> +                                        r ? r->server : NULL,
>>> +                                        r, NULL);
>>> }
>>>
>>> AP_DECLARE(int) ap_update_child_status(ap_sb_handle_t *sbh, int status,
>>> @@ -540,17 +563,37 @@ AP_DECLARE(int) ap_update_child_status(a
>>>    return update_child_status_internal(sbh->child_num, sbh->thread_num,
>>>                                        status,
>>>                                        r ? r->connection : NULL,
>>> -                                        r);
>>> +                                        r ? r->server : NULL,
>>> +                                        r, NULL);
>>> }
>>>
>>> AP_DECLARE(int) ap_update_child_status_from_conn(ap_sb_handle_t *sbh, int status,
>>> -                                       conn_rec *c)
>>> +                                                 conn_rec *c)
>>> +{
>>> +    if (!sbh || (sbh->child_num < 0))
>>> +        return -1;
>>> +
>>> +    return update_child_status_internal(sbh->child_num, sbh->thread_num,
>>> +                                        status, c, NULL, NULL, NULL);
>>> +}
>>> +
>>> +AP_DECLARE(int) ap_update_child_status_from_server(ap_sb_handle_t *sbh, int status,
>>> +                                                   conn_rec *c, server_rec *s)
>>> +{
>>> +    if (!sbh || (sbh->child_num < 0))
>>> +        return -1;
>>> +
>>> +    return update_child_status_internal(sbh->child_num, sbh->thread_num,
>>> +                                        status, c, s, NULL, NULL);
>>> +}
>>> +
>>> +AP_DECLARE(int) ap_update_child_status_descr(ap_sb_handle_t *sbh, int status, const char *descr)
>>> {
>>>    if (!sbh || (sbh->child_num < 0))
>>>        return -1;
>>>
>>>    return update_child_status_internal(sbh->child_num, sbh->thread_num,
>>> -                                        status, c, NULL);
>>> +                                        status, NULL, NULL, NULL, descr);
>>> }
>>>
>>> AP_DECLARE(void) ap_time_process_request(ap_sb_handle_t *sbh, int status)
>>> @@ -605,6 +648,7 @@ AP_DECLARE(void) ap_copy_scoreboard_work
>>>    dest->client[sizeof(dest->client) - 1] = '\0';
>>>    dest->request[sizeof(dest->request) - 1] = '\0';
>>>    dest->vhost[sizeof(dest->vhost) - 1] = '\0';
>>> +    dest->protocol[sizeof(dest->protocol) - 1] = '\0';
>>> }
>>>
>>> AP_DECLARE(process_score *) ap_get_scoreboard_process(int x)
>>



-- 
Eric Covener
covener@gmail.com

From dev-return-85488-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 16:09:06 2016
Return-Path: <dev-return-85488-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8581718DF2
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 16:09:06 +0000 (UTC)
Received: (qmail 17385 invoked by uid 500); 8 Feb 2016 16:09:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17324 invoked by uid 500); 8 Feb 2016 16:09:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17313 invoked by uid 99); 8 Feb 2016 16:09:06 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 16:09:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 931DE180473
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 16:09:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.27
X-Spam-Level:
X-Spam-Status: No, score=0.27 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RP_MATCHES_RCVD=-0.429, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=nhuXid8d;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=KVEfQPHJ
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id KoGQBHVRqq6c for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 16:09:02 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 3CFC020657
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 16:09:01 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 3236E15A078C; Mon,  8 Feb 2016 17:08:53 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454947733; bh=rJdr4IrSh5iFA3uNmAs4+Has19NECkdlVPPdC4aiXaM=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=nhuXid8d6q0RCvsoFoAj/qOXPIiKxZBmVTxvY8JJ+MsOKF4p0IgDIqIX/lgKzkCSI
	 evePAAUSH9/4Bmz7wLrCh6FvA/c32NeRwHVBVSTQI6vJuZaZTJw0jrahgqtTctcCAN
	 tSHBdEdB6Ae+zz6T3oTApN5ii0wVTgDDKnvKDgPA=
Received: from [192.168.178.41] (unknown [84.189.83.166])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 836D715A04A8
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 17:08:52 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454947732; bh=rJdr4IrSh5iFA3uNmAs4+Has19NECkdlVPPdC4aiXaM=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=KVEfQPHJ8p/4m9oN0tIkaZfEUgaI3sg5Oxju+VFwR/Z6dDqLxzm5fJhRtbHRAFE5h
	 uKTxBtt1OkdiYaefKp2WOUE8XE9apLbT0GquXBiU3VUwX48VRjw7f8Gr/3oF5XL2Bl
	 EYChrk1QBykweydqs/2Ygi/siXd36NeUSUMviq4k=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1726009 - in /httpd/httpd/trunk: include/scoreboard.h modules/generators/mod_status.c modules/ssl/ssl_engine_kernel.c server/scoreboard.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CALK=YjNKYyrYea6Xs==upHHqZMs0quzrXpfhkxbbLhx-aqLz1g@mail.gmail.com>
Date: Mon, 8 Feb 2016 17:08:51 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <A9E62122-2702-4366-A7A0-2E4DC186BB55@greenbytes.de>
References: <20160121163633.CA1003A008E@svn01-us-west.apache.org> <D0AB1FED-35DA-468C-9961-FA8FC735A028@jaguNET.com> <25E0E088-0A8C-48C3-9893-3B70C5D3ABD7@greenbytes.de> <CALK=YjNKYyrYea6Xs==upHHqZMs0quzrXpfhkxbbLhx-aqLz1g@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

You are correct. The changes were just additions to the API.

> Am 08.02.2016 um 16:55 schrieb Eric Covener <covener@gmail.com>:
>=20
> I think this went in as a major bump, but I think it only needed a
> minor. Probably not intentional because major would not be
> backportable.
>=20
> Anyone elses 2c and I'll flip it?
>=20
> On Thu, Jan 21, 2016 at 11:57 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> Ah, of course, just a moment...
>>=20
>>> Am 21.01.2016 um 17:54 schrieb Jim Jagielski <jim@jaguNET.com>:
>>>=20
>>> Not seeing a mmn bump... ?
>>>=20
>>>> On Jan 21, 2016, at 11:36 AM, icing@apache.org wrote:
>>>>=20
>>>> Author: icing
>>>> Date: Thu Jan 21 16:36:33 2016
>>>> New Revision: 1726009
>>>>=20
>>>> URL: http://svn.apache.org/viewvc?rev=3D1726009&view=3Drev
>>>> Log:
>>>> scoreboard addition of protocol, new ap_udpte_child_status methods
>>>>=20
>>>> Modified:
>>>>  httpd/httpd/trunk/include/scoreboard.h
>>>>  httpd/httpd/trunk/modules/generators/mod_status.c
>>>>  httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
>>>>  httpd/httpd/trunk/server/scoreboard.c
>>>>=20
>>>> Modified: httpd/httpd/trunk/include/scoreboard.h
>>>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/include/scoreboard.h?rev=3D=
1726009&r1=3D1726008&r2=3D1726009&view=3Ddiff
>>>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>>>> --- httpd/httpd/trunk/include/scoreboard.h (original)
>>>> +++ httpd/httpd/trunk/include/scoreboard.h Thu Jan 21 16:36:33 2016
>>>> @@ -115,6 +115,7 @@ struct worker_score {
>>>>   char client[40];            /* Keep 'em small... but large enough =
to hold an IPv6 address */
>>>>   char request[64];           /* We just want an idea... */
>>>>   char vhost[32];             /* What virtual host is being =
accessed? */
>>>> +    char protocol[16];          /* What protocol is used on the =
connection? */
>>>> };
>>>>=20
>>>> typedef struct {
>>>> @@ -181,6 +182,10 @@ AP_DECLARE(int) ap_update_child_status(a
>>>> AP_DECLARE(int) ap_update_child_status_from_indexes(int child_num, =
int thread_num,
>>>>                                                   int status, =
request_rec *r);
>>>> AP_DECLARE(int) ap_update_child_status_from_conn(ap_sb_handle_t =
*sbh, int status, conn_rec *c);
>>>> +AP_DECLARE(int) ap_update_child_status_from_server(ap_sb_handle_t =
*sbh, int status,
>>>> +                                                   conn_rec *c, =
server_rec *s);
>>>> +AP_DECLARE(int) ap_update_child_status_descr(ap_sb_handle_t *sbh, =
int status, const char *descr);
>>>> +
>>>> AP_DECLARE(void) ap_time_process_request(ap_sb_handle_t *sbh, int =
status);
>>>>=20
>>>> AP_DECLARE(worker_score *) ap_get_scoreboard_worker(ap_sb_handle_t =
*sbh);
>>>>=20
>>>> Modified: httpd/httpd/trunk/modules/generators/mod_status.c
>>>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/generators/mod_stat=
us.c?rev=3D1726009&r1=3D1726008&r2=3D1726009&view=3Ddiff
>>>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>>>> --- httpd/httpd/trunk/modules/generators/mod_status.c (original)
>>>> +++ httpd/httpd/trunk/modules/generators/mod_status.c Thu Jan 21 =
16:36:33 2016
>>>> @@ -662,7 +662,7 @@ static int status_handler(request_rec *r
>>>> #endif
>>>>                    "<th>SS</th><th>Req</th>"
>>>>                    "<th>Conn</th><th>Child</th><th>Slot</th>"
>>>> -                     "<th>Client</th><th>VHost</th>"
>>>> +                     =
"<th>Client</th><th>Protocol</th><th>VHost</th>"
>>>>                    "<th>Request</th></tr>\n\n", r);
>>>>=20
>>>>       for (i =3D 0; i < server_limit; ++i) {
>>>> @@ -776,13 +776,15 @@ static int status_handler(request_rec *r
>>>>                   format_byte_out(r, bytes);
>>>>                   ap_rputs(")\n", r);
>>>>                   ap_rprintf(r,
>>>> -                               " <i>%s {%s}</i> <b>[%s]</b><br =
/>\n\n",
>>>> +                               " <i>%s {%s}</i> <i>(%s)</i> =
<b>[%s]</b><br />\n\n",
>>>>                              ap_escape_html(r->pool,
>>>>                                             ws_record->client),
>>>>                              ap_escape_html(r->pool,
>>>>                                             =
ap_escape_logitem(r->pool,
>>>>                                                               =
ws_record->request)),
>>>>                              ap_escape_html(r->pool,
>>>> +                                              =
ws_record->protocol),
>>>> +                               ap_escape_html(r->pool,
>>>>                                             ws_record->vhost));
>>>>               }
>>>>               else { /* !no_table_report */
>>>> @@ -860,11 +862,13 @@ static int status_handler(request_rec *r
>>>>                              (float)conn_bytes / KBYTE, (float) =
my_bytes / MBYTE,
>>>>                              (float)bytes / MBYTE);
>>>>=20
>>>> -                    ap_rprintf(r, "</td><td>%s</td><td =
nowrap>%s</td>"
>>>> +                    ap_rprintf(r, "</td><td>%s</td><td>%s</td><td =
nowrap>%s</td>"
>>>>                                 "<td nowrap>%s</td></tr>\n\n",
>>>>                              ap_escape_html(r->pool,
>>>>                                             ws_record->client),
>>>>                              ap_escape_html(r->pool,
>>>> +                                              =
ws_record->protocol),
>>>> +                               ap_escape_html(r->pool,
>>>>                                             ws_record->vhost),
>>>>                              ap_escape_html(r->pool,
>>>>                                             =
ap_escape_logitem(r->pool,
>>>>=20
>>>> Modified: httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
>>>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_engine_kern=
el.c?rev=3D1726009&r1=3D1726008&r2=3D1726009&view=3Ddiff
>>>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>>>> --- httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c (original)
>>>> +++ httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c Thu Jan 21 =
16:36:33 2016
>>>> @@ -31,6 +31,7 @@
>>>> #include "ssl_private.h"
>>>> #include "mod_ssl.h"
>>>> #include "util_md5.h"
>>>> +#include "scoreboard.h"
>>>>=20
>>>> static void ssl_configure_env(request_rec *r, SSLConnRec *sslconn);
>>>> #ifdef HAVE_TLSEXT
>>>> @@ -2218,6 +2219,7 @@ static int ssl_find_vhost(void *serverna
>>>>       sslcon->server =3D s;
>>>>       sslcon->cipher_suite =3D sc->server->auth.cipher_suite;
>>>>=20
>>>> +        ap_update_child_status_from_server(c->sbh, =
SERVER_BUSY_READ, c, s);
>>>>       /*
>>>>        * There is one special filter callback, which is set
>>>>        * very early depending on the base_server's log level.
>>>>=20
>>>> Modified: httpd/httpd/trunk/server/scoreboard.c
>>>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/server/scoreboard.c?rev=3D1=
726009&r1=3D1726008&r2=3D1726009&view=3Ddiff
>>>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>>>> --- httpd/httpd/trunk/server/scoreboard.c (original)
>>>> +++ httpd/httpd/trunk/server/scoreboard.c Thu Jan 21 16:36:33 2016
>>>> @@ -32,6 +32,7 @@
>>>> #include "http_main.h"
>>>> #include "http_core.h"
>>>> #include "http_config.h"
>>>> +#include "http_protocol.h"
>>>> #include "ap_mpm.h"
>>>>=20
>>>> #include "scoreboard.h"
>>>> @@ -457,7 +458,9 @@ static int update_child_status_internal(
>>>>                                       int thread_num,
>>>>                                       int status,
>>>>                                       conn_rec *c,
>>>> -                                        request_rec *r)
>>>> +                                        server_rec *s,
>>>> +                                        request_rec *r,
>>>> +                                        const char *descr)
>>>> {
>>>>   int old_status;
>>>>   worker_score *ws;
>>>> @@ -466,18 +469,22 @@ static int update_child_status_internal(
>>>>=20
>>>>   ws =3D &ap_scoreboard_image->servers[child_num][thread_num];
>>>>   old_status =3D ws->status;
>>>> -    ws->status =3D status;
>>>> -
>>>> -    ps =3D &ap_scoreboard_image->parent[child_num];
>>>> -
>>>> -    if (status =3D=3D SERVER_READY
>>>> -        && old_status =3D=3D SERVER_STARTING) {
>>>> -        ws->thread_num =3D child_num * thread_limit + thread_num;
>>>> -        ap_mpm_query(AP_MPMQ_GENERATION, &mpm_generation);
>>>> -        ps->generation =3D mpm_generation;
>>>> +    if (status >=3D 0) {
>>>> +        ws->status =3D status;
>>>> +
>>>> +        ps =3D &ap_scoreboard_image->parent[child_num];
>>>> +
>>>> +        if (status =3D=3D SERVER_READY
>>>> +            && old_status =3D=3D SERVER_STARTING) {
>>>> +            ws->thread_num =3D child_num * thread_limit + =
thread_num;
>>>> +            ap_mpm_query(AP_MPMQ_GENERATION, &mpm_generation);
>>>> +            ps->generation =3D mpm_generation;
>>>> +        }
>>>>   }
>>>>=20
>>>>   if (ap_extended_status) {
>>>> +        const char *val;
>>>> +
>>>>       if (status =3D=3D SERVER_READY || status =3D=3D SERVER_DEAD) =
{
>>>>           /*
>>>>            * Reset individual counters
>>>> @@ -490,27 +497,42 @@ static int update_child_status_internal(
>>>>           ws->conn_bytes =3D 0;
>>>>           ws->last_used =3D apr_time_now();
>>>>       }
>>>> -        if (r) {
>>>> -            const char *client =3D ap_get_remote_host(c, =
r->per_dir_config,
>>>> -                                 REMOTE_NOLOOKUP, NULL);
>>>> -            if (!client || !strcmp(client, c->client_ip)) {
>>>> -                apr_cpystrn(ws->client, r->useragent_ip, =
sizeof(ws->client));
>>>> +        if (status =3D=3D SERVER_READY) {
>>>> +            ws->client[0]=3D'\0';
>>>> +            ws->vhost[0]=3D'\0';
>>>> +            ws->request[0]=3D'\0';
>>>> +            ws->protocol[0]=3D'\0';
>>>> +        }
>>>> +        else {
>>>> +            if (descr) {
>>>> +                apr_cpystrn(ws->request, descr, =
sizeof(ws->request));
>>>>           }
>>>> -            else {
>>>> -                apr_cpystrn(ws->client, client, =
sizeof(ws->client));
>>>> +            else if (r) {
>>>> +                copy_request(ws->request, sizeof(ws->request), r);
>>>>           }
>>>> -            copy_request(ws->request, sizeof(ws->request), r);
>>>> -            if (r->server) {
>>>> -                apr_snprintf(ws->vhost, sizeof(ws->vhost), =
"%s:%d",
>>>> -                             r->server->server_hostname,
>>>> -                             r->connection->local_addr->port);
>>>> +            if (r || c) {
>>>> +                val =3D ap_get_remote_host(c, r? r->per_dir_config =
: NULL,
>>>> +                                         REMOTE_NOLOOKUP, NULL);
>>>> +                if (r && (!val || !strcmp(val, c->client_ip))) {
>>>> +                    apr_cpystrn(ws->client, r->useragent_ip, =
sizeof(ws->client));
>>>> +                }
>>>> +                else {
>>>> +                    apr_cpystrn(ws->client, val, =
sizeof(ws->client));
>>>> +                }
>>>> +            }
>>>> +            if (s) {
>>>> +                if (c) {
>>>> +                    apr_snprintf(ws->vhost, sizeof(ws->vhost), =
"%s:%d",
>>>> +                                 s->server_hostname, =
c->local_addr->port);
>>>> +                }
>>>> +                else {
>>>> +                    apr_cpystrn(ws->vhost, s->server_hostname, =
sizeof(ws->vhost));
>>>> +                }
>>>> +            }
>>>> +            if (c) {
>>>> +                val =3D ap_get_protocol(c);
>>>> +                apr_cpystrn(ws->protocol, val, =
sizeof(ws->protocol));
>>>>           }
>>>> -        }
>>>> -        else if (c) {
>>>> -            apr_cpystrn(ws->client, ap_get_remote_host(c, NULL,
>>>> -                        REMOTE_NOLOOKUP, NULL), =
sizeof(ws->client));
>>>> -            ws->request[0]=3D'\0';
>>>> -            ws->vhost[0]=3D'\0';
>>>>       }
>>>>   }
>>>>=20
>>>> @@ -528,7 +550,8 @@ AP_DECLARE(int) ap_update_child_status_f
>>>>=20
>>>>   return update_child_status_internal(child_num, thread_num, =
status,
>>>>                                       r ? r->connection : NULL,
>>>> -                                        r);
>>>> +                                        r ? r->server : NULL,
>>>> +                                        r, NULL);
>>>> }
>>>>=20
>>>> AP_DECLARE(int) ap_update_child_status(ap_sb_handle_t *sbh, int =
status,
>>>> @@ -540,17 +563,37 @@ AP_DECLARE(int) ap_update_child_status(a
>>>>   return update_child_status_internal(sbh->child_num, =
sbh->thread_num,
>>>>                                       status,
>>>>                                       r ? r->connection : NULL,
>>>> -                                        r);
>>>> +                                        r ? r->server : NULL,
>>>> +                                        r, NULL);
>>>> }
>>>>=20
>>>> AP_DECLARE(int) ap_update_child_status_from_conn(ap_sb_handle_t =
*sbh, int status,
>>>> -                                       conn_rec *c)
>>>> +                                                 conn_rec *c)
>>>> +{
>>>> +    if (!sbh || (sbh->child_num < 0))
>>>> +        return -1;
>>>> +
>>>> +    return update_child_status_internal(sbh->child_num, =
sbh->thread_num,
>>>> +                                        status, c, NULL, NULL, =
NULL);
>>>> +}
>>>> +
>>>> +AP_DECLARE(int) ap_update_child_status_from_server(ap_sb_handle_t =
*sbh, int status,
>>>> +                                                   conn_rec *c, =
server_rec *s)
>>>> +{
>>>> +    if (!sbh || (sbh->child_num < 0))
>>>> +        return -1;
>>>> +
>>>> +    return update_child_status_internal(sbh->child_num, =
sbh->thread_num,
>>>> +                                        status, c, s, NULL, NULL);
>>>> +}
>>>> +
>>>> +AP_DECLARE(int) ap_update_child_status_descr(ap_sb_handle_t *sbh, =
int status, const char *descr)
>>>> {
>>>>   if (!sbh || (sbh->child_num < 0))
>>>>       return -1;
>>>>=20
>>>>   return update_child_status_internal(sbh->child_num, =
sbh->thread_num,
>>>> -                                        status, c, NULL);
>>>> +                                        status, NULL, NULL, NULL, =
descr);
>>>> }
>>>>=20
>>>> AP_DECLARE(void) ap_time_process_request(ap_sb_handle_t *sbh, int =
status)
>>>> @@ -605,6 +648,7 @@ AP_DECLARE(void) ap_copy_scoreboard_work
>>>>   dest->client[sizeof(dest->client) - 1] =3D '\0';
>>>>   dest->request[sizeof(dest->request) - 1] =3D '\0';
>>>>   dest->vhost[sizeof(dest->vhost) - 1] =3D '\0';
>>>> +    dest->protocol[sizeof(dest->protocol) - 1] =3D '\0';
>>>> }
>>>>=20
>>>> AP_DECLARE(process_score *) ap_get_scoreboard_process(int x)
>>>=20
>=20
>=20
>=20
> --=20
> Eric Covener
> covener@gmail.com


From dev-return-85489-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 16:09:29 2016
Return-Path: <dev-return-85489-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1E83918DF6
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 16:09:29 +0000 (UTC)
Received: (qmail 18557 invoked by uid 500); 8 Feb 2016 16:09:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18486 invoked by uid 500); 8 Feb 2016 16:09:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18476 invoked by uid 99); 8 Feb 2016 16:09:28 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 16:09:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 3C35F1A069A
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 16:09:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.279
X-Spam-Level: *
X-Spam-Status: No, score=1.279 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 38I5rr95FrOV for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 16:09:27 +0000 (UTC)
Received: from mail-ig0-f178.google.com (mail-ig0-f178.google.com [209.85.213.178])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 44CA431AE4
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 16:09:26 +0000 (UTC)
Received: by mail-ig0-f178.google.com with SMTP id ik10so88460511igb.1
        for <dev@httpd.apache.org>; Mon, 08 Feb 2016 08:09:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=WRKERHNLtYTDyw5FWjuOkBdQlRwFmeFShOSvspHEgr8=;
        b=AQXY4cF2+ryEdvhxkWoN9jWicTOhAtZWWceQqb7UIiO6iea7dBfJBWmOyGBK/YoR8S
         vEIqjTxmua/At6zZy7o8tEtc1MjrlZWnXz5QEorLMJK7AVh22mv61iLtOiyakpj9KN0I
         GV9xIxpa5zPkbkk+JVaOpjlrCh8JV4MZsrQ4hd6lw4RIgY5LlU0oxOML2Ee4rLrwkN0r
         zerOyDqyvShy7Pdj8jSf8jWtr4PoVbFZt9YySJNTxQadHJYPgRATAW8jhxskkye3fQ1r
         3QbzUAC3LSZcisiCNrBTim8sqdwYIP+w1r1REdzcnsr8MLPY/hD9Ze/25rZoKFKolso0
         2ImA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=WRKERHNLtYTDyw5FWjuOkBdQlRwFmeFShOSvspHEgr8=;
        b=OI9LA6zPxWQppEBHo19xxmscaiAe7LBrZWp2qv+YidN0uRMTwJv8O6ouN706DC2DcL
         71umXDe58HyDbiXvCAVDYugBOTQAMm5lgLY6JfVGuRxsHiG7ttEWWyWGX7lkK010xODM
         xB+yiuV+6oDdUUKcN51f0fQvt9R3EUt1p/ydPqe3ZUGXduzIEQs3ej+bA07oeILM2j7g
         G9M7e7MCiAr6UWyGypLElkLtdCrPlsiJZcKW3NAPOv5XwYxsz8HoVq+uO4LhBYpRJ+Z2
         JnVWyshHLnII/SQrMwHZwqXzE6OlnujMwSf0qAwAq/a7/DmHv4J+exHrHl10AOLH4Mwd
         EkGw==
X-Gm-Message-State: AG10YOQPqYnbDLPIZFYgkbn9l0OG7w5iJGqsk5hJpd4lGO3ZseCg5lWahdyoCUvBa2CdgIHg69o7eFgIJ94OCENr
MIME-Version: 1.0
X-Received: by 10.50.60.41 with SMTP id e9mr24821431igr.35.1454947765267; Mon,
 08 Feb 2016 08:09:25 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Mon, 8 Feb 2016 08:09:25 -0800 (PST)
In-Reply-To: <CAP__2DWMnM6Pm=cM-bLtUiP2znYCKDbEPZM5HG7NXx6az_s1wg@mail.gmail.com>
References: <CAP__2DWMnM6Pm=cM-bLtUiP2znYCKDbEPZM5HG7NXx6az_s1wg@mail.gmail.com>
Date: Mon, 8 Feb 2016 10:09:25 -0600
Message-ID: <CACsi252B_rKioMZ9aoeVrv4Ov86JFFg9=Na1-wBS-eVMEO5PmQ@mail.gmail.com>
Subject: Re: Improper string concatenation in mod_alias allows code execution
 out of bounds defined in apache config file.
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: =?UTF-8?B?QmFydMWCb21pZWogxbtvZ2HFgmE=?= <nusch88@gmail.com>
Cc: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7b10cea5b74cae052b446c7a

--047d7b10cea5b74cae052b446c7a
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Sat, Feb 6, 2016 at 5:20 AM, Bart=C5=82omiej =C5=BBoga=C5=82a <nusch88@g=
mail.com> wrote:

> 5. Some day he wanted the blog to be visible from example.com/ root  but
> with mod_alias instead mod_rewrite. So he changed line "Alias /wp
> /usr/share/wordpress" to "Alias / /usr/share/wordpress". Instead wordpres=
s
> he received 403 forbidden on example.com/. He introduced more than one
> change so wasn't sure what caused the error immediately.
>
> During the time of user researching issue the attacker:
> 1. Enters http://example.com/.old/ and gets
> /usr/share/wordpress.old/index.php
>

This is precisely as-documented, and not a vulnerability;
http://httpd.apache.org/docs/2.4/mod/mod_alias.html#alias
"Note that if you include a trailing / on the URL-path then the server will
require a trailing / in order to expand the alias."
That *includes* the simple "Alias / /foo/" case, this singular "/"
alias path is an example of an alias with a trailing "/".

Note that the actual execution of content within /usr/share/wordpress.old
is disturbing and indicates some other serious misconfiguration...
<Directory /usr/share/wordpress>
did not grant permissions for .../wordpress.old - therefore something else
permitted content/scripts outside of the /usr/share/wordpress/ directory
path.

Perhaps <Directory /> was never configured correctly to prevent access
to content outside of the intended directories, or perhaps there are
<Files > or <Location > directives overriding the <Directory > blocks.

--047d7b10cea5b74cae052b446c7a
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On S=
at, Feb 6, 2016 at 5:20 AM, Bart=C5=82omiej =C5=BBoga=C5=82a <span dir=3D"l=
tr">&lt;<a href=3D"mailto:nusch88@gmail.com" target=3D"_blank">nusch88@gmai=
l.com</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"m=
argin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204=
,204);border-left-style:solid;padding-left:1ex"><div dir=3D"ltr"><div>5. So=
me day he wanted the blog to be visible from <a href=3D"http://example.com/=
" target=3D"_blank" rel=3D"noreferrer">example.com/</a> root =C2=A0but with=
 mod_alias instead mod_rewrite. So he changed line &quot;Alias /wp /usr/sha=
re/wordpress&quot; to &quot;Alias / /usr/share/wordpress&quot;. Instead wor=
dpress he received 403 forbidden on <a href=3D"http://example.com/" target=
=3D"_blank" rel=3D"noreferrer">example.com/</a>. He introduced more than on=
e change so wasn&#39;t sure what caused the error immediately.<br></div><di=
v><br></div><div>During the time of user researching issue the attacker:</d=
iv><div>1. Enters <a href=3D"http://example.com/.old/" target=3D"_blank">ht=
tp://example.com/.old/</a> and gets /usr/share/wordpress.old/index.php</div=
></div></blockquote><div><br></div><div>This is precisely as-documented, an=
d not a vulnerability;</div><div><a href=3D"http://httpd.apache.org/docs/2.=
4/mod/mod_alias.html#alias">http://httpd.apache.org/docs/2.4/mod/mod_alias.=
html#alias</a><br></div>&quot;Note that if you include a trailing / on the =
URL-path then the server will require a trailing / in order to expand the a=
lias.&quot;<div>That *includes* the simple &quot;Alias / /foo/&quot; case, =
this singular &quot;/&quot;=C2=A0</div><div>alias path=C2=A0is an example o=
f an alias with a trailing &quot;/&quot;.<br><br></div><div>Note that the a=
ctual execution of content within /usr/share/wordpress.old<br></div><div>is=
 disturbing and indicates some other serious misconfiguration...</div><div>=
&lt;Directory /usr/share/wordpress&gt;=C2=A0</div><div>did not grant permis=
sions for .../wordpress.old - therefore something else<br></div><div>permit=
ted content/scripts outside of the /usr/share/wordpress/ directory path.</d=
iv><div><br></div><div>Perhaps &lt;Directory /&gt; was never configured cor=
rectly to prevent access</div><div>to content outside of the intended direc=
tories, or perhaps there are</div><div>&lt;Files &gt; or &lt;Location &gt; =
directives overriding the &lt;Directory &gt; blocks.</div><div><br></div><d=
iv><br></div><div><br></div></div></div></div>

--047d7b10cea5b74cae052b446c7a--

From dev-return-85490-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 16:37:32 2016
Return-Path: <dev-return-85490-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9171418FE7
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 16:37:32 +0000 (UTC)
Received: (qmail 13523 invoked by uid 500); 8 Feb 2016 16:37:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13431 invoked by uid 500); 8 Feb 2016 16:37:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13421 invoked by uid 99); 8 Feb 2016 16:37:31 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 16:37:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 225391805CE
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 16:37:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id z5VVyFR6QqvO for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 16:37:30 +0000 (UTC)
Received: from mail-io0-f182.google.com (mail-io0-f182.google.com [209.85.223.182])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id B583F2050D
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 16:37:29 +0000 (UTC)
Received: by mail-io0-f182.google.com with SMTP id 9so201214319iom.1
        for <dev@httpd.apache.org>; Mon, 08 Feb 2016 08:37:29 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=CUl9mhsnMDKjGqG6B/MtS4TjtTi/vmmRTZfUAj9k2hY=;
        b=UG2cufBYk5mE9fyQegJMNZkoZHb1LcvBxmffwUO04+vgQIxJU8gOtabz37LI+DAVTB
         8dzHl2EjH/FW8Gaa6z9ZO0EAMZkUcYUZUJjFMjTEsRFzsAOwCCrAubaoHOSqkF3vULLH
         pex5OnMdgrJf0Ko5OhDM+JqJs3XQr9BtWwt1J1kDf4FbsSmd0Vopxvud2QuPm5in8fUp
         XxX9n/cI8H4P3fCoDoFjDJKTM9Rv48rXS5LjgagANoPuoW4DGkr2AI9GHcfh58qfXrfD
         u4PteHNOH+LVD+5eZDyV9LbHSajuT6Yqxm1YWVbDRD4c1fnVpxMDugdRKt32Fyp2MNJG
         fRvg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=CUl9mhsnMDKjGqG6B/MtS4TjtTi/vmmRTZfUAj9k2hY=;
        b=PufhOJ974NJFqn+snnoHxajXmq2rG4kXf2hRFDxdFbl2dJpgXBC9VcBdEY9qaYkj6z
         7LQQYZuuF89l7lu5lu9QZyAjltc39Mh5ZSmAlb24khhUmY073q52bvbeSNugXvW3nBs/
         0iI/QeKOeKIooH58OQfl4dQP3nlIGyyoFvaite7rWp4SHmFxog51HBKpv1wYN1IoD8jL
         /1PQBbzmdZ50emUs72BzvEzYlmLFpUAbeESgk3kVX5NjAxAvMt6s3jCiIwWYbrybjzVe
         vnyYreesGfnaCT0/wYsgLm44uGPbrSeyVaHrWgRBBU63mJp7iCZ1JzGdNUkx2cQCHVjb
         qQww==
X-Gm-Message-State: AG10YOQzmXnd9Z169VYh/+yOBndG9CHIalT44vP+ieFujbTpLSNrRRkKFy/In/xLT1/5JeiPoMxnV21jWPtUeTX0
MIME-Version: 1.0
X-Received: by 10.107.27.17 with SMTP id b17mr29126540iob.163.1454949442934;
 Mon, 08 Feb 2016 08:37:22 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Mon, 8 Feb 2016 08:37:22 -0800 (PST)
In-Reply-To: <CALK=YjObnKw=ofJgxke6PiPy7Qf_Ft1LvybkMLR4XSxMH913=g@mail.gmail.com>
References: <CAP__2DWMnM6Pm=cM-bLtUiP2znYCKDbEPZM5HG7NXx6az_s1wg@mail.gmail.com>
	<CACsi252B_rKioMZ9aoeVrv4Ov86JFFg9=Na1-wBS-eVMEO5PmQ@mail.gmail.com>
	<CACsi253JKUdLwHv1BP+Edo4BKLjrpwZijtkE0O19m7bKbzM8=A@mail.gmail.com>
	<CACsi250jfG5rwoqQOHB3M6EiKfAEgzw4GTwNTEf=3EHMT-=EDQ@mail.gmail.com>
	<CALK=YjObnKw=ofJgxke6PiPy7Qf_Ft1LvybkMLR4XSxMH913=g@mail.gmail.com>
Date: Mon, 8 Feb 2016 10:37:22 -0600
Message-ID: <CACsi251rGaWfoyt5eq4-xKgcKCFp34BNqEkbWUX2J=PcZNK-Pg@mail.gmail.com>
Subject: Re: Improper string concatenation in mod_alias allows code execution
 out of bounds defined in apache config file.
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: docs@httpd.apache.org, httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1140a218b66683052b44d09d

--001a1140a218b66683052b44d09d
Content-Type: text/plain; charset=UTF-8

Thanks Eric, now looping back to
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/mappers/mod_alias.c?revision=153384&view=co
to see if this behavior was changed, by which commit, so that we ensure
the docs match the behavior and can determine what the "correct" behavior
was supposed to be in the first place :)





On Mon, Feb 8, 2016 at 10:26 AM, Eric Covener <covener@gmail.com> wrote:

> quite old: http://svn.apache.org/viewcvs?rev=326143&view=rev
>
> On Mon, Feb 8, 2016 at 11:25 AM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
> > On Mon, Feb 8, 2016 at 10:20 AM, William A Rowe Jr <wrowe@rowe-clan.net>
> > wrote:
> >>
> >>
> >> This is worthy of discussion on docs@httpd, so please allow me to cite
> >> your example... Your report does suggest that we might illustrate this
> alias
> >> effect more clearly in the docs, e.g. an example like this;
> >>
> >>   Note that unexpected expansion may occur when trailing slashes
> >>   are omitted, including the case of "Alias / /foo". Given the example;
> >>     Alias /icons /usr/share/icons
> >>   A request for /icons/small.gif is mapped to /usr/share/icons/small.gif
> >>   A request for /icons-private/small.gif is mapped to
> >> /usr/share/icons-private/small.gif
> >>   This behavior is by-design.
> >
> >
> > When did this get mis-stated at
> > http://httpd.apache.org/docs/2.4/mod/mod_alias.html#alias, the
> information
> > seems most incorrect...
> >
> > Alias "/image" "/ftp/pub/image"
> >
> > A request for http://example.com/image/foo.gif would cause the server to
> > return the file /ftp/pub/image/foo.gif. Only complete path segments are
> > matched, so the above alias would not match a request for
> > http://example.com/imagefoo.gif.
> >
> >
> >
>
>
>
> --
> Eric Covener
> covener@gmail.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: docs-unsubscribe@httpd.apache.org
> For additional commands, e-mail: docs-help@httpd.apache.org
>
>

--001a1140a218b66683052b44d09d
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Thanks Eric, now looping back to=C2=A0<div><a href=3D"http=
://svn.apache.org/viewvc/httpd/httpd/trunk/modules/mappers/mod_alias.c?revi=
sion=3D153384&amp;view=3Dco">http://svn.apache.org/viewvc/httpd/httpd/trunk=
/modules/mappers/mod_alias.c?revision=3D153384&amp;view=3Dco</a></div><div>=
to see if this behavior was changed, by which commit, so that we ensure</di=
v><div>the docs match the behavior and can determine what the &quot;correct=
&quot; behavior</div><div>was supposed to be in the first place :)</div><di=
v><br></div><div><br></div><div><br></div><div><br></div></div><div class=
=3D"gmail_extra"><br><div class=3D"gmail_quote">On Mon, Feb 8, 2016 at 10:2=
6 AM, Eric Covener <span dir=3D"ltr">&lt;<a href=3D"mailto:covener@gmail.co=
m" target=3D"_blank">covener@gmail.com</a>&gt;</span> wrote:<br><blockquote=
 class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc soli=
d;padding-left:1ex">quite old: <a href=3D"http://svn.apache.org/viewcvs?rev=
=3D326143&amp;view=3Drev" rel=3D"noreferrer" target=3D"_blank">http://svn.a=
pache.org/viewcvs?rev=3D326143&amp;view=3Drev</a><br>
<div><div class=3D"h5"><br>
On Mon, Feb 8, 2016 at 11:25 AM, William A Rowe Jr &lt;<a href=3D"mailto:wr=
owe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt; wrote:<br>
&gt; On Mon, Feb 8, 2016 at 10:20 AM, William A Rowe Jr &lt;<a href=3D"mail=
to:wrowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt;<br>
&gt; wrote:<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; This is worthy of discussion on docs@httpd, so please allow me to =
cite<br>
&gt;&gt; your example... Your report does suggest that we might illustrate =
this alias<br>
&gt;&gt; effect more clearly in the docs, e.g. an example like this;<br>
&gt;&gt;<br>
&gt;&gt;=C2=A0 =C2=A0Note that unexpected expansion may occur when trailing=
 slashes<br>
&gt;&gt;=C2=A0 =C2=A0are omitted, including the case of &quot;Alias / /foo&=
quot;. Given the example;<br>
&gt;&gt;=C2=A0 =C2=A0 =C2=A0Alias /icons /usr/share/icons<br>
&gt;&gt;=C2=A0 =C2=A0A request for /icons/small.gif is mapped to /usr/share=
/icons/small.gif<br>
&gt;&gt;=C2=A0 =C2=A0A request for /icons-private/small.gif is mapped to<br=
>
&gt;&gt; /usr/share/icons-private/small.gif<br>
&gt;&gt;=C2=A0 =C2=A0This behavior is by-design.<br>
&gt;<br>
&gt;<br>
&gt; When did this get mis-stated at<br>
&gt; <a href=3D"http://httpd.apache.org/docs/2.4/mod/mod_alias.html#alias" =
rel=3D"noreferrer" target=3D"_blank">http://httpd.apache.org/docs/2.4/mod/m=
od_alias.html#alias</a>, the information<br>
&gt; seems most incorrect...<br>
&gt;<br>
&gt; Alias &quot;/image&quot; &quot;/ftp/pub/image&quot;<br>
&gt;<br>
&gt; A request for <a href=3D"http://example.com/image/foo.gif" rel=3D"nore=
ferrer" target=3D"_blank">http://example.com/image/foo.gif</a> would cause =
the server to<br>
&gt; return the file /ftp/pub/image/foo.gif. Only complete path segments ar=
e<br>
&gt; matched, so the above alias would not match a request for<br>
&gt; <a href=3D"http://example.com/imagefoo.gif" rel=3D"noreferrer" target=
=3D"_blank">http://example.com/imagefoo.gif</a>.<br>
&gt;<br>
&gt;<br>
&gt;<br>
<br>
<br>
<br>
</div></div><span class=3D"">--<br>
Eric Covener<br>
<a href=3D"mailto:covener@gmail.com">covener@gmail.com</a><br>
<br>
---------------------------------------------------------------------<br>
</span>To unsubscribe, e-mail: <a href=3D"mailto:docs-unsubscribe@httpd.apa=
che.org">docs-unsubscribe@httpd.apache.org</a><br>
For additional commands, e-mail: <a href=3D"mailto:docs-help@httpd.apache.o=
rg">docs-help@httpd.apache.org</a><br>
<br>
</blockquote></div><br></div>

--001a1140a218b66683052b44d09d--

From dev-return-85491-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 17:07:34 2016
Return-Path: <dev-return-85491-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5910D18422
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 17:07:34 +0000 (UTC)
Received: (qmail 42967 invoked by uid 500); 8 Feb 2016 17:07:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42896 invoked by uid 500); 8 Feb 2016 17:07:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42886 invoked by uid 99); 8 Feb 2016 17:07:24 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 17:07:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id DBB7CC0391
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 17:07:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.373
X-Spam-Level:
X-Spam-Status: No, score=-0.373 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.272, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=KIjotXxh;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=QTChRQ7s
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id L2jcQ71XWjOG for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 17:07:22 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2E21B429BC
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 17:07:22 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 15FC415A078C; Mon,  8 Feb 2016 18:07:14 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454951234; bh=N3OeKfsLmtIt3OBeamyLGMsxyiGt+7BFA209uR5SzrQ=;
	h=From:Subject:Date:To:From;
	b=KIjotXxheR70vSIcEAQqBHkoNf6jf2Ucex0e2jD5NnlLg3S4I5oqaAwfo63Q6Q01W
	 FKFGivf2vP5P3S56obG8rkUYvbum9doFjaC51voWusxRbE92rS2/1IKASyQhHMlphl
	 WQB9JHvx9xjxEFLWybfjuzcLCFSmy+cBETXIYHdY=
Received: from [192.168.178.41] (unknown [84.189.83.166])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id D2F5115A00C2
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 18:07:13 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1454951233; bh=N3OeKfsLmtIt3OBeamyLGMsxyiGt+7BFA209uR5SzrQ=;
	h=From:Subject:Date:To:From;
	b=QTChRQ7s4VPj0JzZYGjs2Hk7tyDBOm7/U8PjFJweCfsI6Ire/AocnZiCJdJZM3Cvx
	 jFzN/3tzjW8a2IYXSRr8FslAYSMytgKSqH/6zBwwfcJPOIRnosV4+NyPdGWSiXYOon
	 9X5fsNIrw2RSHCG7lRtQFhUMjSGfsL9aKLVcbzc0=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: mod_proxy_http2
Message-Id: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de>
Date: Mon, 8 Feb 2016 18:07:13 +0100
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)

FYI: I just checked in a very experimental mod_proxy_http2 that =
registers on h2:// and h2c:// proxy URLs. I did this naming to have the =
module totally separate from mod_proxy_http, not wanting to make a mess. =
So a sample configuration looks like:

    <IfModule proxy_http2_module>
        <Proxy "balancer://h2-local">
            BalancerMember "h2://test.example.org:12346"
        </Proxy>
        ProxyPass "/h2proxy" "balancer://h2-local"
        ProxyPassReverse "/h2proxy" "balancer://h2-local"
    </IfModule>

For this to work I added a connection note "proxy-request-alpn-protos" =
that is used by mod_ssl to set the ALPN protocols on the SSL instance.

The module so far re-uses connections from earlier requests, but does =
not do parallel requests on one connection. So, there is no real benefit =
in using that right now. The idea is to get it working nicely with =
frontend connections done via HTTP/2 so that multiple HTTP/2 streams on =
the same frontend connection use a single proxy connection. That would =
be one step into usefulness.

For the time being, I do not foresee this it be back ported to 2.4.x =
until more work is done here.

One thing: the ssl_hostname that is used for SNI by the generic proxy =
utils seems to get lost when the socket needs to reset and is then not =
available on the next connect. That should affect mod_proxy_http as far =
as I can tell. Maybe someone with more experience in that module wants =
to take a look.

Cheers,

  Stefan

PS. I did not update Windows Makefiles. I feel bad.=

From dev-return-85492-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 17:21:57 2016
Return-Path: <dev-return-85492-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F3D6D18563
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 17:21:56 +0000 (UTC)
Received: (qmail 96238 invoked by uid 500); 8 Feb 2016 17:21:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 96170 invoked by uid 500); 8 Feb 2016 17:21:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 96160 invoked by uid 99); 8 Feb 2016 17:21:56 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 17:21:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 0009FC0D1F
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 17:21:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.279
X-Spam-Level: *
X-Spam-Status: No, score=1.279 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id zrJ0m5SHyKP0 for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 17:21:54 +0000 (UTC)
Received: from mail-ig0-f182.google.com (mail-ig0-f182.google.com [209.85.213.182])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id B32D342A54
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 17:21:53 +0000 (UTC)
Received: by mail-ig0-f182.google.com with SMTP id xg9so60483391igb.1
        for <dev@httpd.apache.org>; Mon, 08 Feb 2016 09:21:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=g8cp+rqkBVZKtnbzAI7B6IRSp/rUeA08vIiRXRP0SNY=;
        b=G3774Fo92l3kwZcm0zlH68ahCal1+2zOPU+Uk9beCPBPylQZ0K/QK2OhE6EBZf6sw0
         IvRd6cmX6hVGTJgEwivDv11kgFRxhmdCKabUBDBq3HDc4VFUyNnDl5bEHqGjbMgnYy6I
         x0a1DGrLeNp/rbL5EvVzRBvIpNO8Wz2brqb6FwylAHchz7l55RPArQ/3wAXh4mwSIV7A
         MZPAebF+zh285bAqmo5Lo8KPWyPRBq9ICuQLkFwTQ1F5NLYfCX1ZbCmiIItK0WitIphK
         2w7BqLwypaHhAowjE/TQmU7jidZnaCNL0xESR8u3OVrVqauQ92rwPQjQZeCtwNaiDrsF
         oKJg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=g8cp+rqkBVZKtnbzAI7B6IRSp/rUeA08vIiRXRP0SNY=;
        b=gIsfVLJOlZllZJ45OlPno4oSn1Y+9SqsmQjfI41FDDiLNPDkGJsH9czY2I4WNpUlTt
         zECv/kyNcncqOSSmBiOi75kpgUuO7kUkn1GHslUxuuoT8sLZkNxTetGE650r5+0Y2IQO
         EptLpH7pzDnPAMUtYDbWggJcF3M5Lo8aO9H34pykMcMhPZj2BYG1YCt4bpLpNHFlSbZT
         tCg2TpQI7VHnf7Crcr44M8UnPixwv2csTWNN/3hhHZqk+73HbGtweLxGxz/amgkyIx00
         9pCesWodh//ZL07Be/rFQrB6jdBaEMrea1aiRuti9ztCyWG1WpMTeLsxGHvBf1GDwNgr
         DKog==
X-Gm-Message-State: AG10YOSC4C3ETlMmfB+BfEx6RXg1sJBVlYzsaaEvGoe/MYVh8XbrdgvFn9vBe8L95nf759kZ3uRC2k6jDAIakIJ3
MIME-Version: 1.0
X-Received: by 10.50.43.134 with SMTP id w6mr9605249igl.77.1454952113283; Mon,
 08 Feb 2016 09:21:53 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Mon, 8 Feb 2016 09:21:53 -0800 (PST)
In-Reply-To: <CACsi251rGaWfoyt5eq4-xKgcKCFp34BNqEkbWUX2J=PcZNK-Pg@mail.gmail.com>
References: <CAP__2DWMnM6Pm=cM-bLtUiP2znYCKDbEPZM5HG7NXx6az_s1wg@mail.gmail.com>
	<CACsi252B_rKioMZ9aoeVrv4Ov86JFFg9=Na1-wBS-eVMEO5PmQ@mail.gmail.com>
	<CACsi253JKUdLwHv1BP+Edo4BKLjrpwZijtkE0O19m7bKbzM8=A@mail.gmail.com>
	<CACsi250jfG5rwoqQOHB3M6EiKfAEgzw4GTwNTEf=3EHMT-=EDQ@mail.gmail.com>
	<CALK=YjObnKw=ofJgxke6PiPy7Qf_Ft1LvybkMLR4XSxMH913=g@mail.gmail.com>
	<CACsi251rGaWfoyt5eq4-xKgcKCFp34BNqEkbWUX2J=PcZNK-Pg@mail.gmail.com>
Date: Mon, 8 Feb 2016 11:21:53 -0600
Message-ID: <CACsi250e4NqJiOe39CHpNcWkfv1E2t62tsT0+5+hZ=uKsHc2qA@mail.gmail.com>
Subject: Re: Improper string concatenation in mod_alias allows code execution
 out of bounds defined in apache config file.
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: docs@httpd.apache.org, httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e01184b0ce0bef9052b456f7f

--089e01184b0ce0bef9052b456f7f
Content-Type: text/plain; charset=UTF-8

So after a little more digging, Roy's observation (As documented)
was correct... for the case of matching trailing-slashes, both with
or both omitted.

All of this dates to well before 2.0.55... and there is absolutely
no argument that an Alias src with a trailing slash, including "/"
should ALWAYS be specified to an target with a trailing slash.

Looking at a simple example...

mv icons/small icons-small

<Directory "/path/to/apache">
    Options Indexes FollowSymLinks
    AllowOverride None
    Require all granted
</Directory>

Alias / /path/to/apache/icons

Note that for httpd to interpret the http://example/-small/ path, the
parent directory MUST be accessible.

In the default case, while icons/ directory would normally be accessible
and /path/to/apache is not accessible, icons-small/ pathname cannot
be resolved by mod_alias.

By opening up access to /path/to/apache - now mod_alias can evaluate
"-small" in the parent directory and resolve the pathname to icons-small/.

In the usual cases...
Alias /ico /path/to/apache/icons
Alias /ico/ /path/to/apache/icons/

The url http://examples/-small/ does *NOT* resolve, so those docs
are correct when the user follows the directions.

But this is not unique to "Alias / /target"... tweaking the example;
Alias /ico/ /path/to/apache/icons
also results in http://example/ico/-small/ resolving to icons-small/
path if the server is allowed access to the parent directory.

This all matches between 2.0.55 and 2.4.18 mod_alias, no changes
in behavior.

Is it sensible for us to simply add a configuration warning in the
next 2.2 and 2.4 releases?  As reporter observes, this isn't a unique
mis-configuration.  And not all users read the docs.

I think my text below should have stated;

Note that unexpected expansion occurs when trailing slashes are
not balanced between the source url and target path.  For example,
Alias / /usr/share/htdocs
will resolve http://example.com/-private/ as /usr/share/htdocs-private/
while
Alias /content/ /usr/share/htdocs
will similarly result in the the URL /content/-private/ resolving to the
path /usr/share/htdocs-private/

The statement could use some word-smithing.



On Mon, Feb 8, 2016 at 10:37 AM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> Thanks Eric, now looping back to
>
> http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/mappers/mod_alias.c?revision=153384&view=co
> to see if this behavior was changed, by which commit, so that we ensure
> the docs match the behavior and can determine what the "correct" behavior
> was supposed to be in the first place :)
>
> On Mon, Feb 8, 2016 at 10:26 AM, Eric Covener <covener@gmail.com> wrote:
>
>> quite old: http://svn.apache.org/viewcvs?rev=326143&view=rev
>>
>> On Mon, Feb 8, 2016 at 11:25 AM, William A Rowe Jr <wrowe@rowe-clan.net>
>> wrote:
>> > On Mon, Feb 8, 2016 at 10:20 AM, William A Rowe Jr <wrowe@rowe-clan.net
>> >
>> > wrote:
>> >>
>> >>
>> >> This is worthy of discussion on docs@httpd, so please allow me to cite
>> >> your example... Your report does suggest that we might illustrate this
>> alias
>> >> effect more clearly in the docs, e.g. an example like this;
>> >>
>> >>   Note that unexpected expansion may occur when trailing slashes
>> >>   are omitted, including the case of "Alias / /foo". Given the example;
>> >>     Alias /icons /usr/share/icons
>> >>   A request for /icons/small.gif is mapped to
>> /usr/share/icons/small.gif
>> >>   A request for /icons-private/small.gif is mapped to
>> >> /usr/share/icons-private/small.gif
>> >>   This behavior is by-design.
>>
>>

--089e01184b0ce0bef9052b456f7f
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">So after a little more digging, Roy&#39;s observation (As =
documented)=C2=A0<div>was correct... for the case of matching trailing-slas=
hes, both with</div><div>or both omitted.<br><div><div><br></div><div>All o=
f this dates to well before 2.0.55... and there is absolutely=C2=A0</div><d=
iv>no argument that an Alias src with a trailing slash, including &quot;/&q=
uot;=C2=A0</div><div>should ALWAYS be specified to an target with a trailin=
g slash.</div><div><br></div><div>Looking at a simple example...</div><div>=
<br></div><div>mv icons/small icons-small</div><div><br></div><div><div>&lt=
;Directory &quot;/path/to/apache&quot;&gt;</div><div>=C2=A0 =C2=A0 Options =
Indexes FollowSymLinks</div><div>=C2=A0 =C2=A0 AllowOverride None</div><div=
>=C2=A0 =C2=A0 Require all granted</div><div>&lt;/Directory&gt;</div><div><=
br></div><div>Alias / /path/to/apache/icons</div></div><div><br></div><div>=
Note that for httpd to interpret the <a href=3D"http://example/-small/">htt=
p://example/-small/</a> path, the</div><div>parent directory MUST be access=
ible. =C2=A0</div><div><br></div><div>In the default case, while icons/ dir=
ectory would normally be accessible</div><div>and /path/to/apache is not ac=
cessible, icons-small/ pathname cannot</div><div>be resolved by mod_alias.<=
/div><div><br></div><div>By opening up access to /path/to/apache - now mod_=
alias can evaluate</div><div>&quot;-small&quot; in the parent directory and=
 resolve the pathname to icons-small/.</div><div><br></div><div>In the usua=
l cases...</div><div><div><div><div>Alias /ico /path/to/apache/icons<br></d=
iv></div></div></div><div><div>Alias /ico/ /path/to/apache/icons/<br></div>=
</div><div><br></div><div>The url <a href=3D"http://examples/-small/">http:=
//examples/-small/</a> does *NOT* resolve, so those docs</div><div>are corr=
ect when the user follows the directions.</div><div><br></div><div>But this=
 is not unique to &quot;Alias / /target&quot;... tweaking the example;</div=
><div><div>Alias /ico/ /path/to/apache/icons</div></div><div>also results i=
n <a href=3D"http://example/ico/-small/">http://example/ico/-small/</a> res=
olving to icons-small/</div><div>path if the server is allowed access to th=
e parent directory.</div><div><br></div><div>This all matches between 2.0.5=
5 and 2.4.18 mod_alias, no changes</div><div>in behavior.</div><div><br></d=
iv><div>Is it sensible for us to simply add a configuration warning in the<=
/div><div>next 2.2 and 2.4 releases?=C2=A0 As reporter observes, this isn&#=
39;t a unique</div><div>mis-configuration.=C2=A0 And not all users read the=
 docs.</div><div><br></div><div>I think my text below should have stated;</=
div><div><br></div><div><span style=3D"color:rgb(80,0,80)">Note that unexpe=
cted expansion occurs when trailing slashes=C2=A0</span><span style=3D"colo=
r:rgb(80,0,80)">are=C2=A0</span></div><div><span style=3D"color:rgb(80,0,80=
)">not balanced between the source url and target path.=C2=A0 For example,<=
/span></div><div><span style=3D"color:rgb(80,0,80)">Alias / /usr/share/htdo=
cs</span></div><div><span style=3D"color:rgb(80,0,80)">will resolve <a href=
=3D"http://example.com/-private/">http://example.com/-private/</a> as /usr/=
share/htdocs-private/</span></div><div><span style=3D"color:rgb(80,0,80)">w=
hile=C2=A0</span></div><div><span style=3D"color:rgb(80,0,80)">Alias /conte=
nt/ /usr/share/htdocs</span><br></div><div><font color=3D"#500050">will sim=
ilarly result in the the URL /content/-private/ resolving to the</font></di=
v><div><span style=3D"color:rgb(80,0,80)">path /usr/share/htdocs-private/</=
span></div><div><br></div><div>The statement could use some word-smithing.<=
/div></div></div><div><br></div><div><br></div><div class=3D"gmail_extra"><=
br><div class=3D"gmail_quote">On Mon, Feb 8, 2016 at 10:37 AM, William A Ro=
we Jr <span dir=3D"ltr">&lt;<a href=3D"mailto:wrowe@rowe-clan.net" target=
=3D"_blank">wrowe@rowe-clan.net</a>&gt;</span> wrote:<br><blockquote class=
=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;bo=
rder-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">=
<div dir=3D"ltr">Thanks Eric, now looping back to=C2=A0<div><a href=3D"http=
://svn.apache.org/viewvc/httpd/httpd/trunk/modules/mappers/mod_alias.c?revi=
sion=3D153384&amp;view=3Dco" target=3D"_blank">http://svn.apache.org/viewvc=
/httpd/httpd/trunk/modules/mappers/mod_alias.c?revision=3D153384&amp;view=
=3Dco</a></div><div>to see if this behavior was changed, by which commit, s=
o that we ensure</div><div>the docs match the behavior and can determine wh=
at the &quot;correct&quot; behavior</div><div>was supposed to be in the fir=
st place :)</div><div><br></div></div><div class=3D""><div class=3D"h5"><di=
v class=3D"gmail_extra"><div class=3D"gmail_quote">On Mon, Feb 8, 2016 at 1=
0:26 AM, Eric Covener <span dir=3D"ltr">&lt;<a href=3D"mailto:covener@gmail=
.com" target=3D"_blank">covener@gmail.com</a>&gt;</span> wrote:<br><blockqu=
ote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-wid=
th:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-l=
eft:1ex">quite old: <a href=3D"http://svn.apache.org/viewcvs?rev=3D326143&a=
mp;view=3Drev" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/v=
iewcvs?rev=3D326143&amp;view=3Drev</a><br>
<div><div><br>
On Mon, Feb 8, 2016 at 11:25 AM, William A Rowe Jr &lt;<a href=3D"mailto:wr=
owe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&gt; wrote:<br>
&gt; On Mon, Feb 8, 2016 at 10:20 AM, William A Rowe Jr &lt;<a href=3D"mail=
to:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&gt;<br>
&gt; wrote:<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; This is worthy of discussion on docs@httpd, so please allow me to =
cite<br>
&gt;&gt; your example... Your report does suggest that we might illustrate =
this alias<br>
&gt;&gt; effect more clearly in the docs, e.g. an example like this;<br>
&gt;&gt;<br>
&gt;&gt;=C2=A0 =C2=A0Note that unexpected expansion may occur when trailing=
 slashes<br>
&gt;&gt;=C2=A0 =C2=A0are omitted, including the case of &quot;Alias / /foo&=
quot;. Given the example;<br>
&gt;&gt;=C2=A0 =C2=A0 =C2=A0Alias /icons /usr/share/icons<br>
&gt;&gt;=C2=A0 =C2=A0A request for /icons/small.gif is mapped to /usr/share=
/icons/small.gif<br>
&gt;&gt;=C2=A0 =C2=A0A request for /icons-private/small.gif is mapped to<br=
>
&gt;&gt; /usr/share/icons-private/small.gif<br>
&gt;&gt;=C2=A0 =C2=A0This behavior is by-design.<br><br></div></div></block=
quote></div></div></div></div></blockquote><div><br></div><div>=C2=A0</div>=
</div></div></div>

--089e01184b0ce0bef9052b456f7f--

From dev-return-85493-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 17:33:06 2016
Return-Path: <dev-return-85493-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7FDF418671
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 17:33:06 +0000 (UTC)
Received: (qmail 38312 invoked by uid 500); 8 Feb 2016 17:33:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38113 invoked by uid 500); 8 Feb 2016 17:33:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37962 invoked by uid 99); 8 Feb 2016 17:33:00 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 17:33:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6CD5AC060A
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 17:33:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id MPoj5DY66Xal for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 17:32:59 +0000 (UTC)
Received: from mail-io0-f173.google.com (mail-io0-f173.google.com [209.85.223.173])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 4769A439BF
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 17:32:59 +0000 (UTC)
Received: by mail-io0-f173.google.com with SMTP id d63so202712345ioj.2
        for <dev@httpd.apache.org>; Mon, 08 Feb 2016 09:32:59 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=EveXisMf4SRFsDbFfhfxpRTosZsBBUMCHMFU9gZjXpQ=;
        b=BLrgzFn7a3Q6P2DVXV847tPWM652QtOiuQus70w+AvoS2gjH+XIO7hs9gvNUrvs89h
         GhFG3nAlYadt/6s8OyNOVHk2yXW51ZQahvfloVmNxOqvWNHwEgxyuhFELL4O9Q0zQFgx
         8rZDpqL6ZZztoXRPPCmE1A4GQh4NAHYtch17wYkKSQkpWeQNw8ntooZq2bzN8d5b7K9k
         eMexk82Ck4zJkHXkmJeL9UnAxj+uT9JKk6gPY1JNbUQDLtT/GEBMyaZwCw0vmgv0YGOk
         f2rowqH6/rTiVKcDBSk2Ov4g0YlsmgyR4bQsA5jfVYWhIllEe+GbBL4Gga1ASHSWJ4gy
         DtKw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=EveXisMf4SRFsDbFfhfxpRTosZsBBUMCHMFU9gZjXpQ=;
        b=RuABapcJXq2PiNykLoQx/lXlVBnKtAZrSMrScZLP6yn4nIoh7c5yZhdZApwcMEjGja
         fQ2ogAvE26dIIPOiHbyL2Zy5lwT+bvulvZprpzkZevt7mKWa8IMkWkfIWKFAyqB/MPds
         miFdRgOzxxb3mV0pLl+YbDxj8YpaVaU1qqqK4GFtKnFUF9U7fkweHcY55sfO979Y8rTA
         trzH82DHBlVst2HXapWmDSSJOHlJur41CJMP2GVxnlSC2KmJMT1CSAeuurthzjhN79vI
         9S/lUoORokgJUu1s1PS6/1CvNPKJdFMCc5Fk55h2dblPV0rn6+Qt6qKN82Xf+eKhC2X7
         cx+g==
X-Gm-Message-State: AG10YOQFJfIzNE0w1cUAgKD8m4sA28eJLfw1NrFunjKI0D8ogHK/L5ztfmw+agCT4skX8Y8v0ZSA4hFLlzJN1Fqv
MIME-Version: 1.0
X-Received: by 10.107.28.82 with SMTP id c79mr26985044ioc.86.1454952778890;
 Mon, 08 Feb 2016 09:32:58 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Mon, 8 Feb 2016 09:32:58 -0800 (PST)
In-Reply-To: <CACsi250e4NqJiOe39CHpNcWkfv1E2t62tsT0+5+hZ=uKsHc2qA@mail.gmail.com>
References: <CAP__2DWMnM6Pm=cM-bLtUiP2znYCKDbEPZM5HG7NXx6az_s1wg@mail.gmail.com>
	<CACsi252B_rKioMZ9aoeVrv4Ov86JFFg9=Na1-wBS-eVMEO5PmQ@mail.gmail.com>
	<CACsi253JKUdLwHv1BP+Edo4BKLjrpwZijtkE0O19m7bKbzM8=A@mail.gmail.com>
	<CACsi250jfG5rwoqQOHB3M6EiKfAEgzw4GTwNTEf=3EHMT-=EDQ@mail.gmail.com>
	<CALK=YjObnKw=ofJgxke6PiPy7Qf_Ft1LvybkMLR4XSxMH913=g@mail.gmail.com>
	<CACsi251rGaWfoyt5eq4-xKgcKCFp34BNqEkbWUX2J=PcZNK-Pg@mail.gmail.com>
	<CACsi250e4NqJiOe39CHpNcWkfv1E2t62tsT0+5+hZ=uKsHc2qA@mail.gmail.com>
Date: Mon, 8 Feb 2016 11:32:58 -0600
Message-ID: <CACsi250Mo-cU_=X10O68huUEXMzqSPC+xsATYKk8kh4AUwgH5Q@mail.gmail.com>
Subject: Re: Improper string concatenation in mod_alias allows code execution
 out of bounds defined in apache config file.
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: docs@httpd.apache.org, httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11409b988d1cb7052b459743

--001a11409b988d1cb7052b459743
Content-Type: text/plain; charset=UTF-8

On Mon, Feb 8, 2016 at 11:21 AM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> I think my text below should have stated;
>
> Note that unexpected expansion occurs when trailing slashes are
> not balanced between the source url and target path.  For example,
> Alias / /usr/share/htdocs
> will resolve http://example.com/-private/ as /usr/share/htdocs-private/
> while
> Alias /content/ /usr/share/htdocs
> will similarly result in the the URL /content/-private/ resolving to the
> path /usr/share/htdocs-private/
>
> The statement could use some word-smithing.
>

An actual use-case that may exist in the wild would like;

Alias /user/ /path/to/users-

where

http://example.com/user/wrowe/ would map to /path/to/users-wrowe

Or some similar scenario to map to .../webapp-wrowe.  Lots of possible
but rare applications.

If we were to lock this behavior down with warnings, we might want
to introduce a run-immediate directive "AliasWarnConcatenation off"
that allows the "wiser" administrator to go without our stern warnings.

--001a11409b988d1cb7052b459743
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Feb 8, 2016 at 11:21 AM, William A Rowe Jr <span dir=3D"ltr">&lt;<a hre=
f=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&=
gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 =
0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div><=
div><div>I think my text below should have stated;</div><div><br></div><div=
><span style=3D"color:rgb(80,0,80)">Note that unexpected expansion occurs w=
hen trailing slashes=C2=A0</span><span style=3D"color:rgb(80,0,80)">are=C2=
=A0</span></div><div><span style=3D"color:rgb(80,0,80)">not balanced betwee=
n the source url and target path.=C2=A0 For example,</span></div><div><span=
 style=3D"color:rgb(80,0,80)">Alias / /usr/share/htdocs</span></div><div><s=
pan style=3D"color:rgb(80,0,80)">will resolve <a href=3D"http://example.com=
/-private/" target=3D"_blank">http://example.com/-private/</a> as /usr/shar=
e/htdocs-private/</span></div><div><span style=3D"color:rgb(80,0,80)">while=
=C2=A0</span></div><div><span style=3D"color:rgb(80,0,80)">Alias /content/ =
/usr/share/htdocs</span><br></div><div><font color=3D"#500050">will similar=
ly result in the the URL /content/-private/ resolving to the</font></div><d=
iv><span style=3D"color:rgb(80,0,80)">path /usr/share/htdocs-private/</span=
></div><div><br></div><div>The statement could use some word-smithing.</div=
></div></div></div></blockquote><div><br></div><div>An actual use-case that=
 may exist in the wild would like;</div><div><br></div><div>Alias /user/ /p=
ath/to/users-</div><div><br></div><div>where=C2=A0</div><div><br></div><div=
><a href=3D"http://example.com/user/wrowe/">http://example.com/user/wrowe/<=
/a> would map to /path/to/users-wrowe</div><div><br></div><div>Or some simi=
lar scenario to map to .../webapp-wrowe.=C2=A0 Lots of possible</div><div>b=
ut rare applications.</div><div><br></div><div>If we were to lock this beha=
vior down with warnings, we might want<br></div><div>to introduce a run-imm=
ediate directive &quot;AliasWarnConcatenation off&quot;</div><div>that allo=
ws the &quot;wiser&quot; administrator to go without our stern warnings.</d=
iv><div><br></div><div><br></div></div></div></div>

--001a11409b988d1cb7052b459743--

From dev-return-85494-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 18:11:30 2016
Return-Path: <dev-return-85494-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2975218922
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 18:11:30 +0000 (UTC)
Received: (qmail 84848 invoked by uid 500); 8 Feb 2016 18:11:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84781 invoked by uid 500); 8 Feb 2016 18:11:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84770 invoked by uid 99); 8 Feb 2016 18:11:26 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 18:11:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1F248180047
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 18:11:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id SeDrLdf_D1Zu for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 18:11:25 +0000 (UTC)
Received: from mail-io0-f176.google.com (mail-io0-f176.google.com [209.85.223.176])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 338FD2050D
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 18:11:25 +0000 (UTC)
Received: by mail-io0-f176.google.com with SMTP id f81so203227976iof.0
        for <dev@httpd.apache.org>; Mon, 08 Feb 2016 10:11:25 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=at4RJovYI9DLA6jnM6hzw4VbVkHXwrXyIFOWHL/k7QM=;
        b=pHu/Tvmk3xkbYYXNsOYRfFHg1SgSNZZL1BJLUEilDRhWSmUWXOfVSrhQUy5tQU040q
         UFGbxd71g8JIUcFyM8R9ufB3m32itETdgwrt0pxHN+p+ss/KdG5ZS/l1MYMsomXJVSSl
         Bl0B0Palz8EaabixtHUjisevXvyL7d04InnCs80DiiazDuBVmOgRfd9l25ECVL77d3qn
         C1ZHxfYgqD2r4fjf5MupG0/ryilNJZC21KZzhxxx0Sl7SeE3jJfFgORq44LOKyinbmKT
         txTkVoPGJNkO4Xzp45lrA9zk24j482uTcV3Nvdb92X8Dt24Nyaw+H9fgzaBkKslCO3dK
         HxtA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=at4RJovYI9DLA6jnM6hzw4VbVkHXwrXyIFOWHL/k7QM=;
        b=DSc1QXJ1Vt11R4Lr6GPdwJre9WCm/bE144v3TlgdO06DGMwS024AekvCs6bJ+LQSWR
         8KXwsKRlDj/KK3cQXg+rXYWWu9SMN9j1V9uL7cdGZQY8qGtS0Ety9wuadkG3OIJFQkoo
         OKBCZcZTkTInqS6Ujx68FpfFbmoRXd1Yx//8zRxLg/Z3Pa6OSXb+p176Tpd29gw83Qjk
         FW8unCDqOTJWY0NirnErBUOXjOwWCs7nfIhAiZNxDs8o9yVjgOoj1TCgn1gkKjfg3T8b
         vpfHW985hpc3jxKexN2hevsDcG3xYzzMGdDkl/R8CoiLMl71Cxybw0FntAT1HuBtZiib
         a11w==
X-Gm-Message-State: AG10YOQIDXk82+uluLtztu6NamQCjgY9W7OwpHqYyHWETeBlOLLtYhSuInUnwvhTUU6q4NHeR3ypz320vbkkDYyA
MIME-Version: 1.0
X-Received: by 10.107.34.133 with SMTP id i127mr30336704ioi.150.1454955084706;
 Mon, 08 Feb 2016 10:11:24 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Mon, 8 Feb 2016 10:11:24 -0800 (PST)
Date: Mon, 8 Feb 2016 12:11:24 -0600
Message-ID: <CACsi252d0kVcAZwtAc=qMW2SHM__kwqAuwzP9zrRFqjM-yJbJg@mail.gmail.com>
Subject: httpd-2.4 --enable-load-all-modules side-effect
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1140ef84fd035f052b4620a0

--001a1140ef84fd035f052b4620a0
Content-Type: text/plain; charset=UTF-8

./configure [...]
"--with-mods-shared=all" \
"--enable-mods-shared=all" \
"--enable-mpms-shared=all" \
"--enable-load-all-modules" \
"--with-mpm=worker" \

While this should be great for testing a variety of modules and
is very helpful for building it all, the resulting httpd.conf isn't quite
helpful...

LoadModule mpm_event_module modules/mod_mpm_event.so
LoadModule mpm_prefork_module modules/mod_mpm_prefork.so
LoadModule mpm_worker_module modules/mod_mpm_worker.so

We obviously cannot load multiple mpm modules :)

Can someone more familiar with the --enable-load-all-modules
or --enable-mpms-shared/--with-mpm mechanics take a look at
fixing this behavior before we roll on to a 2.4.19 release?

If not, I will try to take a look, but the plate is pretty full with other
half-completed projects here.

--001a1140ef84fd035f052b4620a0
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div><div>./configure [...]</div><div>&quot;--with-mods-sh=
ared=3Dall&quot; \</div><div>&quot;--enable-mods-shared=3Dall&quot; \<br></=
div><div>&quot;--enable-mpms-shared=3Dall&quot; \</div><div>&quot;--enable-=
load-all-modules&quot; \</div><div>&quot;--with-mpm=3Dworker&quot; \<br></d=
iv></div><div><br></div><div>While this should be great for testing a varie=
ty of modules and</div><div>is very helpful for building it all, the result=
ing httpd.conf isn&#39;t quite</div><div>helpful...</div><div><br></div><di=
v>LoadModule mpm_event_module modules/mod_mpm_event.so</div><div>LoadModule=
 mpm_prefork_module modules/mod_mpm_prefork.so</div><div>LoadModule mpm_wor=
ker_module modules/mod_mpm_worker.so</div><div><br></div><div>We obviously =
cannot load multiple mpm modules :)</div><div><br></div><div>Can someone mo=
re familiar with the --enable-load-all-modules</div><div>or --enable-mpms-s=
hared/--with-mpm mechanics take a look at</div><div>fixing this behavior be=
fore we roll on to a 2.4.19 release?</div><div><br></div><div>If not, I wil=
l try to take a look, but the plate is pretty full with other</div><div>hal=
f-completed projects here.</div></div>

--001a1140ef84fd035f052b4620a0--

From dev-return-85495-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 18:20:50 2016
Return-Path: <dev-return-85495-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8ECD5189D0
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 18:20:50 +0000 (UTC)
Received: (qmail 19851 invoked by uid 500); 8 Feb 2016 18:20:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19770 invoked by uid 500); 8 Feb 2016 18:20:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19760 invoked by uid 99); 8 Feb 2016 18:20:50 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 18:20:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C8AE31A0409
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 17:57:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id wpqyW59PXTU1 for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 17:57:54 +0000 (UTC)
Received: from mail-io0-f178.google.com (mail-io0-f178.google.com [209.85.223.178])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A098531AD0
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 17:57:53 +0000 (UTC)
Received: by mail-io0-f178.google.com with SMTP id g73so203575585ioe.3
        for <dev@httpd.apache.org>; Mon, 08 Feb 2016 09:57:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=wYUNFPnHSPmnhvC5sdvThYkDMYsgpnCTRbpER86CIMk=;
        b=prS4LpKZLVex+wTh7+upFDKej6Hwi4Z3HxBvLcD+rD94TUwh956M04Nu8/21BR2S/S
         ZxSwGLQkLqhw9qYI4nVMM1JZEjpOlSTrKUrH8k5Awr2ZIRqYQlhjELfmSpjfj3WNl8df
         7sCQsPY15mhfSgW+wUBMceOXOR+/HF1/7e/k+r+xZnB6VHGpoKR+7UJfGnaIVyLucAKD
         64fjRXkvkoGp1CD0N1lcfsTJLXgnTlCNw9E/29B4ASHiIu/fOVPrG5c6+cSRUuWPJ9tK
         YGziSpuVhu+cqN8VmIwE43+/gC+YeElNcl53xhOHRePd3pyOl2NpPn8l2jLjZ8tRhBAW
         Morg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=wYUNFPnHSPmnhvC5sdvThYkDMYsgpnCTRbpER86CIMk=;
        b=dW4a6DMd6T1FIFYw+Wcw5q1AiLQ9v5DjIi+Z7iVQ7MJ+mKxUFUsHkGc7S7wSKtUi+C
         GdDuQ+awFo0CA4kHHPjpV/jf1m3gZEZUrC4eKrBd+vVdEUJOwHACvXSkVlFpv/gxc3X9
         jnVFJ5GKBb/CZP15TvhFll5WB16yNTjgWWu9PMN9OOs7LvVQ3CLTO4/AfhcyudRPuczK
         gj1i5ZnLu6jJEFbJvX1GPVnN/h2m3ZGA53A0wTIqryE1YAY6xxS31i2FbQYhLdpy3dq0
         4DNgg0xni373EVRYJMtG47eL8JTfN8vDzLfRFnAOcnznWcPho0f1u9wSDFd6kOYhtlXX
         cfcA==
X-Gm-Message-State: AG10YOTzwij9d0lFEkCrV++XwLhnUL18BeTrSOyWMh8qiefKGW+DFnW9d7HFPl4T+f7Foib0CZ+Yv5PXrGWd7kX7
MIME-Version: 1.0
X-Received: by 10.107.34.133 with SMTP id i127mr30263326ioi.150.1454954272626;
 Mon, 08 Feb 2016 09:57:52 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Mon, 8 Feb 2016 09:57:52 -0800 (PST)
In-Reply-To: <1685061454833962@web27h.yandex.ru>
References: <1685061454833962@web27h.yandex.ru>
Date: Mon, 8 Feb 2016 11:57:52 -0600
Message-ID: <CACsi250qdXYPN8emqaN3q_qSTMLmHGLmeu+p9SDQaBcoOxikfQ@mail.gmail.com>
Subject: Re: ABI report
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1140ef8495bb44052b45f09a

--001a1140ef8495bb44052b45f09a
Content-Type: text/plain; charset=UTF-8

This is excellent, thanks for the effort!

You should note that there was no binary compatibility between 2.2.x final
and 2.4.x.  And there will be no binary compatibility between 2.next (3.0?)
and 2.4.x.  The interesting branches to compare for 2.2.next and 2.4.next
to anticipate any binary breakage before we release would be in subversion
under the paths;

http://svn.apache.org/repos/asf/httpd/httpd/branches/2.2.x
http://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.x

while 2.next (3.0) with binary-breaking changes lives at the path;
http://svn.apache.org/repos/asf/httpd/httpd/trunk

This looks like a great tool, much appreciated :)

Bill


On Sun, Feb 7, 2016 at 2:32 AM, Ponomarenko Andrey <
andrewponomarenko@yandex.ru> wrote:

> Hello,
>
> I've started to maintain binary compatibility report for the recent
> versions of the httpd: http://abi-laboratory.pro/tracker/timeline/httpd/
>
> The report is updated every other day. The report for the latest version
> from git is also there. Hope this helps Linux maintainers to be aware of
> ABI changes and added/removed symbols.
>
> Thank you.
>

--001a1140ef8495bb44052b45f09a
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">This is excellent, thanks for the effort!<div><br></div><d=
iv>You should note that there was no binary compatibility between 2.2.x fin=
al</div><div>and 2.4.x.=C2=A0 And there will be no binary compatibility bet=
ween 2.next (3.0?)</div><div>and 2.4.x.=C2=A0 The interesting branches to c=
ompare for 2.2.next and 2.4.next</div><div>to anticipate any binary breakag=
e before we release would be in subversion=C2=A0</div><div>under the paths;=
</div><div><br></div><div><div><a href=3D"http://svn.apache.org/repos/asf/h=
ttpd/httpd/branches/2.2.x">http://svn.apache.org/repos/asf/httpd/httpd/bran=
ches/2.2.x</a></div></div><div><div><a href=3D"http://svn.apache.org/repos/=
asf/httpd/httpd/branches/2.4.x">http://svn.apache.org/repos/asf/httpd/httpd=
/branches/2.4.x</a></div></div><div><br></div><div>while 2.next (3.0) with =
binary-breaking changes lives at the path;</div><div><a href=3D"http://svn.=
apache.org/repos/asf/httpd/httpd/trunk">http://svn.apache.org/repos/asf/htt=
pd/httpd/trunk</a><br></div><div><br></div><div>This looks like a great too=
l, much appreciated :)</div><div><br></div><div>Bill</div><div><br></div></=
div><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">On Sun, Feb 7=
, 2016 at 2:32 AM, Ponomarenko Andrey <span dir=3D"ltr">&lt;<a href=3D"mail=
to:andrewponomarenko@yandex.ru" target=3D"_blank">andrewponomarenko@yandex.=
ru</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"marg=
in:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Hello,<br>
<br>
I&#39;ve started to maintain binary compatibility report for the recent ver=
sions of the httpd: <a href=3D"http://abi-laboratory.pro/tracker/timeline/h=
ttpd/" rel=3D"noreferrer" target=3D"_blank">http://abi-laboratory.pro/track=
er/timeline/httpd/</a><br>
<br>
The report is updated every other day. The report for the latest version fr=
om git is also there. Hope this helps Linux maintainers to be aware of ABI =
changes and added/removed symbols.<br>
<br>
Thank you.<br>
</blockquote></div><br></div>

--001a1140ef8495bb44052b45f09a--

From dev-return-85496-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 19:47:21 2016
Return-Path: <dev-return-85496-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CF0A218F74
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 19:47:21 +0000 (UTC)
Received: (qmail 36690 invoked by uid 500); 8 Feb 2016 19:47:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36624 invoked by uid 500); 8 Feb 2016 19:47:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36612 invoked by uid 99); 8 Feb 2016 19:47:21 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 19:47:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 075C2C024E
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 19:47:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.573
X-Spam-Level:
X-Spam-Status: No, score=-2.573 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.272,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 90eOKMN1C7vI for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 19:47:19 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id E77C720657
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 19:47:18 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u18JlAJ9025518
	for <dev@httpd.apache.org>; Mon, 8 Feb 2016 20:47:10 +0100 (CET)
Subject: Re: httpd-2.4 --enable-load-all-modules side-effect
To: dev@httpd.apache.org
References: <CACsi252d0kVcAZwtAc=qMW2SHM__kwqAuwzP9zrRFqjM-yJbJg@mail.gmail.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56B8F0B8.3030401@kippdata.de>
Date: Mon, 8 Feb 2016 20:47:04 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <CACsi252d0kVcAZwtAc=qMW2SHM__kwqAuwzP9zrRFqjM-yJbJg@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi Bill,

Am 08.02.2016 um 19:11 schrieb William A Rowe Jr:
> ./configure [...]
> "--with-mods-shared=all" \
> "--enable-mods-shared=all" \
> "--enable-mpms-shared=all" \
> "--enable-load-all-modules" \
> "--with-mpm=worker" \
>
> While this should be great for testing a variety of modules and
> is very helpful for building it all, the resulting httpd.conf isn't quite
> helpful...
>
> LoadModule mpm_event_module modules/mod_mpm_event.so
> LoadModule mpm_prefork_module modules/mod_mpm_prefork.so
> LoadModule mpm_worker_module modules/mod_mpm_worker.so
>
> We obviously cannot load multiple mpm modules :)
>
> Can someone more familiar with the --enable-load-all-modules
> or --enable-mpms-shared/--with-mpm mechanics take a look at
> fixing this behavior before we roll on to a 2.4.19 release?
>
> If not, I will try to take a look, but the plate is pretty full with other
> half-completed projects here.

Could you apply r1729235 to your checkout and see whether it works for you?

The indentation of the shell snippets in the Makefile is broken, but 
that's an older annoyance we can independently.

Regards,

Rainer

From dev-return-85497-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 21:13:46 2016
Return-Path: <dev-return-85497-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 55AF518520
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 21:13:46 +0000 (UTC)
Received: (qmail 37648 invoked by uid 500); 8 Feb 2016 21:13:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37586 invoked by uid 500); 8 Feb 2016 21:13:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37576 invoked by uid 99); 8 Feb 2016 21:13:42 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 21:13:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5B1141A007E
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 21:13:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id bzhDQqDkrngE for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 21:13:41 +0000 (UTC)
Received: from resqmta-po-03v.sys.comcast.net (resqmta-po-03v.sys.comcast.net [96.114.154.162])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id BF00742A54
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 21:13:40 +0000 (UTC)
Received: from resomta-po-09v.sys.comcast.net ([96.114.154.233])
	by resqmta-po-03v.sys.comcast.net with comcast
	id FxDU1s00652QWKC01xDZmS; Mon, 08 Feb 2016 21:13:33 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-09v.sys.comcast.net with comcast
	id FxDY1s00D2U0RYt01xDZNK; Mon, 08 Feb 2016 21:13:33 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_proxy_http2
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de>
Date: Mon, 8 Feb 2016 16:13:32 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <C26F83A9-A1E5-42CA-9887-911C692F11AF@jaguNET.com>
References: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1454966013;
	bh=gwRJum5pfV56ywy1do9ynqE71EkGnu3ui5pLte+jN9E=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=mWGALjsNOvqQPeg3GN96XeUCyzC3T31ED7HnPBZbtWEist8hCEAj1kz5DO9XUgk+A
	 TWKgGUQT409s/rXtHH2gBZvlghtj6lCim8jD3A/WYYFCw5LmDS6/f3iUACqqE5FQl3
	 1ctpJ258i/RGchXwgJuroSI5uYpbNC4357rsFEWN0oPVOD/inH01qU+7W7Y2yxToCr
	 lzTcsASarJXpVSMEfSo/bQ/At6QBgOPTxBO8NRKualGwrmlAyKj4cCenBV33Ll1Ngz
	 qBOcU7P8lyhABVoiqDbH0J1PgeyafkmkE04gbkfa3jeY5jcDgzzzUOebNuUwvxBqW2
	 xFPvdVu/LXIjQ==

very very cool!

> On Feb 8, 2016, at 12:07 PM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
> FYI: I just checked in a very experimental mod_proxy_http2 that =
registers on h2:// and h2c:// proxy URLs. I did this naming to have the =
module totally separate from mod_proxy_http, not wanting to make a mess. =
So a sample configuration looks like:
>=20
>    <IfModule proxy_http2_module>
>        <Proxy "balancer://h2-local">
>            BalancerMember "h2://test.example.org:12346"
>        </Proxy>
>        ProxyPass "/h2proxy" "balancer://h2-local"
>        ProxyPassReverse "/h2proxy" "balancer://h2-local"
>    </IfModule>
>=20
> For this to work I added a connection note "proxy-request-alpn-protos" =
that is used by mod_ssl to set the ALPN protocols on the SSL instance.
>=20
> The module so far re-uses connections from earlier requests, but does =
not do parallel requests on one connection. So, there is no real benefit =
in using that right now. The idea is to get it working nicely with =
frontend connections done via HTTP/2 so that multiple HTTP/2 streams on =
the same frontend connection use a single proxy connection. That would =
be one step into usefulness.
>=20
> For the time being, I do not foresee this it be back ported to 2.4.x =
until more work is done here.
>=20
> One thing: the ssl_hostname that is used for SNI by the generic proxy =
utils seems to get lost when the socket needs to reset and is then not =
available on the next connect. That should affect mod_proxy_http as far =
as I can tell. Maybe someone with more experience in that module wants =
to take a look.
>=20
> Cheers,
>=20
>  Stefan
>=20
> PS. I did not update Windows Makefiles. I feel bad.


From dev-return-85498-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 21:46:03 2016
Return-Path: <dev-return-85498-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1C8FE18797
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 21:46:03 +0000 (UTC)
Received: (qmail 39819 invoked by uid 500); 8 Feb 2016 21:46:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39733 invoked by uid 500); 8 Feb 2016 21:46:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39722 invoked by uid 99); 8 Feb 2016 21:46:02 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 21:46:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0A2B7180179
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 21:46:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.5
X-Spam-Level: **
X-Spam-Status: No, score=2.5 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_STOCKGEN=1.5,
	RCVD_IN_DNSWL_NONE=-0.0001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id jXyQuPEMs3EF for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 21:45:59 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 2DBBC2050D
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 21:45:58 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 4A9E021279
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 22:45:57 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kQEQXiDplRe5 for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 22:45:56 +0100 (CET)
Received: from [10.0.0.1] (CPE-58-168-21-138.lns4.cht.bigpond.net.au [58.168.21.138])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id D8438206A6
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 22:45:55 +0100 (CET)
Subject: Re: Netware proxy makefiles and USE_STDSOCKETS
To: dev@httpd.apache.org
References: <56B5D8C4.9060207@kippdata.de> <56B63C8B.4060907@gknw.net>
 <56B64615.2000005@kippdata.de> <56B7BC96.30302@gknw.net>
 <56B75FEC020000AC00005F09@prv-mh.provo.novell.com>
From: NormW <normw@gknw.net>
Message-ID: <56B90C87.20508@gknw.net>
Date: Tue, 9 Feb 2016 08:45:43 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B75FEC020000AC00005F09@prv-mh.provo.novell.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit

G/M Brad, G/M Rainer
On 8/02/2016 9:17 AM, Brad Nicholes wrote:
> Rainer,
>      It has actually been quite a while since I have been on this list.  I did most of the initial Netware port of Apache.  Apache for Netware uses its own implementation of Winsock as the socket layer.  This is the reason why the make files specify not to use the standard sockets.  The Netware version of Winsock also has it's own implementation of SSL which is why most of the time mod_ssl is not used by Apache for Netware.  Basically, the Apache for Netware make files should always be building with Winsock.
>
> thanks,
> Brad
A flashback to earlier days. Pleased you're still about.

Rainer,
Just updated from httpd-trunk and now get in proxy:
> Building D:/Projects/svn/httpd-trunk/modules/proxy
> Calling NWGNUproxy
> LINK obj_release/proxy.nlm
> ### mwldnlm Linker Error:
> #   Undefined symbol: WS2_32_htonl in
> #   proxy_util.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: WS2_32_inet_ntoa in
> #   proxy_util.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: WS2_32_htonl in
> #   proxy_util.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: WS2_32_inet_ntoa in
> #   proxy_util.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: WS2_32_inet_ntoa in
> #   proxy_util.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: WS2_32_htonl in
> #   proxy_util.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: WSAStartup in
> #   libprews.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: WSACleanup in
> #   libprews.o
>
> Errors caused tool to abort.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target 'obj_release/proxy.nlm' failed
> make[3]: *** [obj_release/proxy.nlm] Error 1
> make[3]: Target 'default' not remade because of errors.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target 'obj_release/proxy.nlm' failed
> make[2]: *** [obj_release/proxy.nlm] Error 2

> Calling NWGNUproxyftp
> GEN  obj_release/proxyftp_cc.opt
> CC   mod_proxy_ftp.c
> CC   ../arch/netware/libprews.c
> GEN  obj_release/proxyftp_link.opt
> LINK obj_release/proxyftp.nlm
> ### mwldnlm Linker Error:
> #   Undefined symbol: WS2_32_htons in
> #   mod_proxy_ftp.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: WSAStartup in
> #   libprews.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: WSACleanup in
> #   libprews.o
>
> Errors caused tool to abort.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target 'obj_release/proxyftp.nlm' failed
> make[3]: *** [obj_release/proxyftp.nlm] Error 1
> make[3]: Target 'default' not remade because of errors.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target 'obj_release/proxyftp.nlm' failed
> make[2]: *** [obj_release/proxyftp.nlm] Error 2
> Calling NWGNUproxyhtp
> GEN  obj_release/proxyhtp_cc.opt
> CC   mod_proxy_http.c
> CC   ../arch/netware/libprews.c
> GEN  obj_release/proxyhtp_link.opt
> LINK obj_release/proxyhtp.nlm
> ### mwldnlm Linker Error:
> #   Undefined symbol: WSAStartup in
> #   libprews.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: WSACleanup in
> #   libprews.o
>
> Errors caused tool to abort.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target 'obj_release/proxyhtp.nlm' failed
> make[3]: *** [obj_release/proxyhtp.nlm] Error 1
> make[3]: Target 'default' not remade because of errors.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target 'obj_release/proxyhtp.nlm' failed
> make[2]: *** [obj_release/proxyhtp.nlm] Error 2
> Calling NWGNUproxybalancer
> GEN  obj_release/proxybalancer_cc.opt
> CC   mod_proxy_balancer.c
> CC   ../arch/netware/libprews.c
> GEN  obj_release/proxybalancer_link.opt
> LINK obj_release/proxybalancer.nlm
> ### mwldnlm Linker Error:
> #   Undefined symbol: WSAStartup in
> #   libprews.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: WSACleanup in
> #   libprews.o
>
> Errors caused tool to abort.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target 'obj_release/proxybalancer.nlm' failed
> make[3]: *** [obj_release/proxybalancer.nlm] Error 1
> make[3]: Target 'default' not remade because of errors.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target 'obj_release/proxybalancer.nlm' failed
> make[2]: *** [obj_release/proxybalancer.nlm] Error 2
> Calling NWGNUproxyajp
> GEN  obj_release/proxyajp_cc.opt
> CC   mod_proxy_ajp.c
> CC   ajp_header.c
> CC   ajp_msg.c
> CC   ajp_link.c
> CC   ajp_utils.c
> GEN  obj_release/proxyajp_link.opt
> LINK obj_release/proxyajp.nlm
> ### mwldnlm Linker Error:
> #   Undefined symbol: WSAStartup in
> #   libprews.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: WSACleanup in
> #   libprews.o
>
> Errors caused tool to abort.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target 'obj_release/proxyajp.nlm' failed
> make[3]: *** [obj_release/proxyajp.nlm] Error 1
> make[3]: Target 'default' not remade because of errors.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target 'obj_release/proxyajp.nlm' failed
> make[2]: *** [obj_release/proxyajp.nlm] Error 2
> Calling NWGNUproxyfcgi
> GEN  obj_release/proxyfcgi_cc.opt
> CC   mod_proxy_fcgi.c
> CC   ../arch/netware/libprews.c
> GEN  obj_release/proxyfcgi_link.opt
> LINK obj_release/proxyfcgi.nlm
> ### mwldnlm Linker Error:
> #   Undefined symbol: WSAStartup in
> #   libprews.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: WSACleanup in
> #   libprews.o
>
> Errors caused tool to abort.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target 'obj_release/proxyfcgi.nlm' failed
> make[3]: *** [obj_release/proxyfcgi.nlm] Error 1
> make[3]: Target 'default' not remade because of errors.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target 'obj_release/proxyfcgi.nlm' failed
> make[2]: *** [obj_release/proxyfcgi.nlm] Error 2
> Calling NWGNUproxyscgi
> GEN  obj_release/proxyscgi_cc.opt
> CC   mod_proxy_scgi.c
> CC   ../arch/netware/libprews.c
> GEN  obj_release/proxyscgi_link.opt
> LINK obj_release/proxyscgi.nlm
> ### mwldnlm Linker Error:
> #   Undefined symbol: WSAStartup in
> #   libprews.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: WSACleanup in
> #   libprews.o
>
> Errors caused tool to abort.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target 'obj_release/proxyscgi.nlm' failed
> make[3]: *** [obj_release/proxyscgi.nlm] Error 1
> make[3]: Target 'default' not remade because of errors.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target 'obj_release/proxyscgi.nlm' failed
> make[2]: *** [obj_release/proxyscgi.nlm] Error 2
> Calling NWGNUserf
> GEN  obj_release/serf_cc.opt
> CC   mod_serf.c
> CC   D:\Projects\srcs\serf-1.3.8/context.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/aggregate_buckets.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/allocator.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/barrier_buckets.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/buckets.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/chunk_buckets.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/dechunk_buckets.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/deflate_buckets.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/file_buckets.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/headers_buckets.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/limit_buckets.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/request_buckets.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/response_buckets.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/simple_buckets.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/socket_buckets.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/ssl_buckets.c
> CC   D:\Projects\srcs\serf-1.3.8/auth/auth.c
> CC   D:\Projects\srcs\serf-1.3.8/auth/auth_basic.c
> CC   D:\Projects\srcs\serf-1.3.8/auth/auth_digest.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/bwtp_buckets.c
> CC   D:\Projects\srcs\serf-1.3.8/incoming.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/iovec_buckets.c
> CC   D:\Projects\srcs\serf-1.3.8/outgoing.c
> CC   D:\Projects\srcs\serf-1.3.8/ssltunnel.c
> CC   D:\Projects\srcs\serf-1.3.8/buckets/response_body_buckets.c
> CC   D:\Projects\srcs\zlib-1.2.8/adler32.c
> CC   D:\Projects\srcs\zlib-1.2.8/crc32.c
> CC   D:\Projects\srcs\zlib-1.2.8/deflate.c
> CC   D:\Projects\srcs\zlib-1.2.8/inflate.c
> CC   D:\Projects\srcs\zlib-1.2.8/inffast.c
> CC   D:\Projects\srcs\zlib-1.2.8/inftrees.c
> CC   D:\Projects\srcs\zlib-1.2.8/trees.c
> CC   D:\Projects\srcs\zlib-1.2.8/zutil.c
> GEN  obj_release/serf_link.opt
> LINK obj_release/serf.nlm
> ### mwldnlm Linker Error:
> #   Undefined symbol: WS2_32_getsockopt in
> #   outgoing.o
> ### mwldnlm Linker Error:
> #   Undefined symbol: WS2_32_shutdown in
> #   bss_sock.obj
> ### mwldnlm Linker Error:
> #   Undefined symbol: WS2_32_closesocket in
> #   bss_sock.obj
> ### mwldnlm Linker Error:
> #   Undefined symbol: WSASetLastError in
> #   bss_sock.obj
> ### mwldnlm Linker Error:
> #   Undefined symbol: WS2_32_recv in
> #   bss_sock.obj
> ### mwldnlm Linker Error:
> #   Undefined symbol: WSASetLastError in
> #   bss_sock.obj
> ### mwldnlm Linker Error:
> #   Undefined symbol: WS2_32_send in
> #   bss_sock.obj
> ### mwldnlm Linker Error:
> #   Undefined symbol: WSAGetLastError in
> #   bss_sock.obj
>
> Errors caused tool to abort.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target 'obj_release/serf.nlm' failed
> make[3]: *** [obj_release/serf.nlm] Error 1
> make[3]: Target 'default' not remade because of errors.
> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target 'obj_release/serf.nlm' failed
> make[2]: *** [obj_release/serf.nlm] Error 2
> make[2]: Target 'default' not remade because of errors.
> D:\Projects\svn\httpd-trunk/build/NWGNUhead.inc:86: recipe for target 'proxy' failed
> make[1]: *** [proxy] Error 2
>
I've reworded the patch below so it reads a little more logically.
The winsock library is autoloaded, but the compiler/linker need the 
symbol list it will provide.
> FILES_nlm_Ximports = \
> 	@aprlib.imp \
> 	@httpd.imp \
> 	@libc.imp \
> 	$(EOLIST)
>
>+ # Link with Winsock if standard sockets are NOT being used.
>+ ifndef USE_STDSOCKETS
>+ FILES_nlm_Ximports += @ws2nlm.imp \
>+ 	$(EOLIST)
>+ endif
>+


From dev-return-85499-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 22:07:53 2016
Return-Path: <dev-return-85499-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2F3FE189EF
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 22:07:53 +0000 (UTC)
Received: (qmail 35292 invoked by uid 500); 8 Feb 2016 22:07:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35213 invoked by uid 500); 8 Feb 2016 22:07:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35203 invoked by uid 99); 8 Feb 2016 22:07:52 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 22:07:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 2521F1A0083
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 22:07:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.8
X-Spam-Level: *
X-Spam-Status: No, score=1.8 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_DNSWL_NONE=-0.0001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id eHyRALO-Xntf for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 22:07:51 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A6DC72139D
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 22:07:50 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 1D4C321279
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 23:07:50 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id PA-1WyECblg9 for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 23:07:49 +0100 (CET)
Received: from [10.0.0.1] (CPE-58-168-21-138.lns4.cht.bigpond.net.au [58.168.21.138])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 36B4C20581
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 23:07:48 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: httpd-trunk/modules/http2 gets a proxy
Message-ID: <56B911B2.3080400@gknw.net>
Date: Tue, 9 Feb 2016 09:07:46 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: multipart/mixed;
 boundary="------------090601000507000206000004"

This is a multi-part message in MIME format.
--------------090601000507000206000004
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/M,
Recent additions to http-trunk/modules/http2 require the attached apatch 
to the http2 NetWare build file:
> Index: modules/http2/NWGNUmakefile
> ===================================================================
> --- modules/http2/NWGNUmakefile	(revision 1729251)
> +++ modules/http2/NWGNUmakefile	(working copy)
> @@ -34,6 +34,8 @@
>  			$(NGH2SRC)/lib/ \
>  			$(NGH2SRC)/lib/includes \
>  			$(SERVER)/mpm/NetWare \
> +			$(STDMOD)/proxy \
> +			$(STDMOD)/ssl \
>  			$(NWOS) \
>  			$(EOLIST)
>
> @@ -55,6 +57,7 @@
>  #
>  XLFLAGS		+= \
>  			-L$(OBJDIR) \
> +			-L../proxy \
>  			$(EOLIST)
>
>  #
> @@ -224,6 +227,7 @@
>  	@libc.imp \
>  	@aprlib.imp \
>  	@httpd.imp \
> +	@mod_proxy.imp \
>  	$(EOLIST)
>
>  #

The first 2 extra lines allow the compiler to find extra headers, the 
3rd allows the linker to locate mod_proxy.imp.

Please review and apply this if it seems reasonable.

Norm

--------------090601000507000206000004
Content-Type: text/x-patch;
 name="htttp2_gets_a_proxy.diff"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="htttp2_gets_a_proxy.diff"

Index: modules/http2/NWGNUmakefile
===================================================================
--- modules/http2/NWGNUmakefile	(revision 1729251)
+++ modules/http2/NWGNUmakefile	(working copy)
@@ -34,6 +34,8 @@
 			$(NGH2SRC)/lib/ \
 			$(NGH2SRC)/lib/includes \
 			$(SERVER)/mpm/NetWare \
+			$(STDMOD)/proxy \
+			$(STDMOD)/ssl \
 			$(NWOS) \
 			$(EOLIST)
 
@@ -55,6 +57,7 @@
 #
 XLFLAGS		+= \
 			-L$(OBJDIR) \
+			-L../proxy \
 			$(EOLIST)
 
 #
@@ -224,6 +227,7 @@
 	@libc.imp \
 	@aprlib.imp \
 	@httpd.imp \
+	@mod_proxy.imp \
 	$(EOLIST)
 
 #

--------------090601000507000206000004--

From dev-return-85500-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 23:31:21 2016
Return-Path: <dev-return-85500-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B3B3A18F7E
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 23:31:21 +0000 (UTC)
Received: (qmail 12473 invoked by uid 500); 8 Feb 2016 23:31:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12411 invoked by uid 500); 8 Feb 2016 23:31:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12397 invoked by uid 99); 8 Feb 2016 23:31:21 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 23:31:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id CC8011A0140
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 23:31:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.034
X-Spam-Level:
X-Spam-Status: No, score=-1.034 tagged_above=-999 required=6.31
	tests=[KAM_STOCKGEN=1.5, RCVD_IN_DNSWL_MED=-2.3,
	RP_MATCHES_RCVD=-0.233, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id QAxJmoTUKnQU for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 23:31:17 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 704F82139D
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 23:31:16 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u18NV9co026755
	for <dev@httpd.apache.org>; Tue, 9 Feb 2016 00:31:09 +0100 (CET)
Subject: Re: Netware proxy makefiles and USE_STDSOCKETS
To: dev@httpd.apache.org
References: <56B5D8C4.9060207@kippdata.de> <56B63C8B.4060907@gknw.net>
 <56B64615.2000005@kippdata.de> <56B7BC96.30302@gknw.net>
 <56B75FEC020000AC00005F09@prv-mh.provo.novell.com> <56B90C87.20508@gknw.net>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56B92537.8040306@kippdata.de>
Date: Tue, 9 Feb 2016 00:31:03 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B90C87.20508@gknw.net>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi Norm,

Am 08.02.2016 um 22:45 schrieb NormW:
> G/M Brad, G/M Rainer
> On 8/02/2016 9:17 AM, Brad Nicholes wrote:
>> Rainer,
>>      It has actually been quite a while since I have been on this
>> list.  I did most of the initial Netware port of Apache.  Apache for
>> Netware uses its own implementation of Winsock as the socket layer.
>> This is the reason why the make files specify not to use the standard
>> sockets.  The Netware version of Winsock also has it's own
>> implementation of SSL which is why most of the time mod_ssl is not
>> used by Apache for Netware.  Basically, the Apache for Netware make
>> files should always be building with Winsock.
>>
>> thanks,
>> Brad
> A flashback to earlier days. Pleased you're still about.
>
> Rainer,
> Just updated from httpd-trunk and now get in proxy:

That full output was useful. I had moved the import to the main 
NWGNUmakefile, but the module specific ones didn't append to the list of 
import files but instead overwrote it. Now that I can see from your 
list, which of the many proxy modules actually need those imports, I 
decided to move the import back into the individual module makefiles.

I removed them afterwards for mod_proxy_express and mod_proxy_hcheck, 
because those seem to not have link errors without those imports.

Finally I adjusted the comment like you suggested. One brain-twiser less.

Hopefully we are good to go now.

Regards,

Rainer

>> Building D:/Projects/svn/httpd-trunk/modules/proxy
>> Calling NWGNUproxy
>> LINK obj_release/proxy.nlm
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WS2_32_htonl in
>> #   proxy_util.o
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WS2_32_inet_ntoa in
>> #   proxy_util.o
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WS2_32_htonl in
>> #   proxy_util.o
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WS2_32_inet_ntoa in
>> #   proxy_util.o
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WS2_32_inet_ntoa in
>> #   proxy_util.o
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WS2_32_htonl in
>> #   proxy_util.o
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WSAStartup in
>> #   libprews.o
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WSACleanup in
>> #   libprews.o
>>
>> Errors caused tool to abort.
>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target
>> 'obj_release/proxy.nlm' failed
>> make[3]: *** [obj_release/proxy.nlm] Error 1
>> make[3]: Target 'default' not remade because of errors.
>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target
>> 'obj_release/proxy.nlm' failed
>> make[2]: *** [obj_release/proxy.nlm] Error 2
>
>> Calling NWGNUproxyftp
>> GEN  obj_release/proxyftp_cc.opt
>> CC   mod_proxy_ftp.c
>> CC   ../arch/netware/libprews.c
>> GEN  obj_release/proxyftp_link.opt
>> LINK obj_release/proxyftp.nlm
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WS2_32_htons in
>> #   mod_proxy_ftp.o
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WSAStartup in
>> #   libprews.o
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WSACleanup in
>> #   libprews.o
>>
>> Errors caused tool to abort.
>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target
>> 'obj_release/proxyftp.nlm' failed
>> make[3]: *** [obj_release/proxyftp.nlm] Error 1
>> make[3]: Target 'default' not remade because of errors.
>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target
>> 'obj_release/proxyftp.nlm' failed
>> make[2]: *** [obj_release/proxyftp.nlm] Error 2
>> Calling NWGNUproxyhtp
>> GEN  obj_release/proxyhtp_cc.opt
>> CC   mod_proxy_http.c
>> CC   ../arch/netware/libprews.c
>> GEN  obj_release/proxyhtp_link.opt
>> LINK obj_release/proxyhtp.nlm
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WSAStartup in
>> #   libprews.o
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WSACleanup in
>> #   libprews.o
>>
>> Errors caused tool to abort.
>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target
>> 'obj_release/proxyhtp.nlm' failed
>> make[3]: *** [obj_release/proxyhtp.nlm] Error 1
>> make[3]: Target 'default' not remade because of errors.
>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target
>> 'obj_release/proxyhtp.nlm' failed
>> make[2]: *** [obj_release/proxyhtp.nlm] Error 2
>> Calling NWGNUproxybalancer
>> GEN  obj_release/proxybalancer_cc.opt
>> CC   mod_proxy_balancer.c
>> CC   ../arch/netware/libprews.c
>> GEN  obj_release/proxybalancer_link.opt
>> LINK obj_release/proxybalancer.nlm
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WSAStartup in
>> #   libprews.o
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WSACleanup in
>> #   libprews.o
>>
>> Errors caused tool to abort.
>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target
>> 'obj_release/proxybalancer.nlm' failed
>> make[3]: *** [obj_release/proxybalancer.nlm] Error 1
>> make[3]: Target 'default' not remade because of errors.
>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target
>> 'obj_release/proxybalancer.nlm' failed
>> make[2]: *** [obj_release/proxybalancer.nlm] Error 2
>> Calling NWGNUproxyajp
>> GEN  obj_release/proxyajp_cc.opt
>> CC   mod_proxy_ajp.c
>> CC   ajp_header.c
>> CC   ajp_msg.c
>> CC   ajp_link.c
>> CC   ajp_utils.c
>> GEN  obj_release/proxyajp_link.opt
>> LINK obj_release/proxyajp.nlm
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WSAStartup in
>> #   libprews.o
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WSACleanup in
>> #   libprews.o
>>
>> Errors caused tool to abort.
>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target
>> 'obj_release/proxyajp.nlm' failed
>> make[3]: *** [obj_release/proxyajp.nlm] Error 1
>> make[3]: Target 'default' not remade because of errors.
>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target
>> 'obj_release/proxyajp.nlm' failed
>> make[2]: *** [obj_release/proxyajp.nlm] Error 2
>> Calling NWGNUproxyfcgi
>> GEN  obj_release/proxyfcgi_cc.opt
>> CC   mod_proxy_fcgi.c
>> CC   ../arch/netware/libprews.c
>> GEN  obj_release/proxyfcgi_link.opt
>> LINK obj_release/proxyfcgi.nlm
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WSAStartup in
>> #   libprews.o
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WSACleanup in
>> #   libprews.o
>>
>> Errors caused tool to abort.
>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target
>> 'obj_release/proxyfcgi.nlm' failed
>> make[3]: *** [obj_release/proxyfcgi.nlm] Error 1
>> make[3]: Target 'default' not remade because of errors.
>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target
>> 'obj_release/proxyfcgi.nlm' failed
>> make[2]: *** [obj_release/proxyfcgi.nlm] Error 2
>> Calling NWGNUproxyscgi
>> GEN  obj_release/proxyscgi_cc.opt
>> CC   mod_proxy_scgi.c
>> CC   ../arch/netware/libprews.c
>> GEN  obj_release/proxyscgi_link.opt
>> LINK obj_release/proxyscgi.nlm
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WSAStartup in
>> #   libprews.o
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WSACleanup in
>> #   libprews.o
>>
>> Errors caused tool to abort.
>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target
>> 'obj_release/proxyscgi.nlm' failed
>> make[3]: *** [obj_release/proxyscgi.nlm] Error 1
>> make[3]: Target 'default' not remade because of errors.
>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target
>> 'obj_release/proxyscgi.nlm' failed
>> make[2]: *** [obj_release/proxyscgi.nlm] Error 2
>> Calling NWGNUserf
>> GEN  obj_release/serf_cc.opt
>> CC   mod_serf.c
>> CC   D:\Projects\srcs\serf-1.3.8/context.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/aggregate_buckets.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/allocator.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/barrier_buckets.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/buckets.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/chunk_buckets.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/dechunk_buckets.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/deflate_buckets.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/file_buckets.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/headers_buckets.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/limit_buckets.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/request_buckets.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/response_buckets.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/simple_buckets.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/socket_buckets.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/ssl_buckets.c
>> CC   D:\Projects\srcs\serf-1.3.8/auth/auth.c
>> CC   D:\Projects\srcs\serf-1.3.8/auth/auth_basic.c
>> CC   D:\Projects\srcs\serf-1.3.8/auth/auth_digest.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/bwtp_buckets.c
>> CC   D:\Projects\srcs\serf-1.3.8/incoming.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/iovec_buckets.c
>> CC   D:\Projects\srcs\serf-1.3.8/outgoing.c
>> CC   D:\Projects\srcs\serf-1.3.8/ssltunnel.c
>> CC   D:\Projects\srcs\serf-1.3.8/buckets/response_body_buckets.c
>> CC   D:\Projects\srcs\zlib-1.2.8/adler32.c
>> CC   D:\Projects\srcs\zlib-1.2.8/crc32.c
>> CC   D:\Projects\srcs\zlib-1.2.8/deflate.c
>> CC   D:\Projects\srcs\zlib-1.2.8/inflate.c
>> CC   D:\Projects\srcs\zlib-1.2.8/inffast.c
>> CC   D:\Projects\srcs\zlib-1.2.8/inftrees.c
>> CC   D:\Projects\srcs\zlib-1.2.8/trees.c
>> CC   D:\Projects\srcs\zlib-1.2.8/zutil.c
>> GEN  obj_release/serf_link.opt
>> LINK obj_release/serf.nlm
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WS2_32_getsockopt in
>> #   outgoing.o
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WS2_32_shutdown in
>> #   bss_sock.obj
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WS2_32_closesocket in
>> #   bss_sock.obj
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WSASetLastError in
>> #   bss_sock.obj
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WS2_32_recv in
>> #   bss_sock.obj
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WSASetLastError in
>> #   bss_sock.obj
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WS2_32_send in
>> #   bss_sock.obj
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: WSAGetLastError in
>> #   bss_sock.obj
>>
>> Errors caused tool to abort.
>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target
>> 'obj_release/serf.nlm' failed
>> make[3]: *** [obj_release/serf.nlm] Error 1
>> make[3]: Target 'default' not remade because of errors.
>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target
>> 'obj_release/serf.nlm' failed
>> make[2]: *** [obj_release/serf.nlm] Error 2
>> make[2]: Target 'default' not remade because of errors.
>> D:\Projects\svn\httpd-trunk/build/NWGNUhead.inc:86: recipe for target
>> 'proxy' failed
>> make[1]: *** [proxy] Error 2
>>
> I've reworded the patch below so it reads a little more logically.
> The winsock library is autoloaded, but the compiler/linker need the
> symbol list it will provide.
>> FILES_nlm_Ximports = \
>>     @aprlib.imp \
>>     @httpd.imp \
>>     @libc.imp \
>>     $(EOLIST)
>>
>> + # Link with Winsock if standard sockets are NOT being used.
>> + ifndef USE_STDSOCKETS
>> + FILES_nlm_Ximports += @ws2nlm.imp \
>> +     $(EOLIST)
>> + endif
>> +

From dev-return-85501-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 23:32:29 2016
Return-Path: <dev-return-85501-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BE0DF18F86
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 23:32:29 +0000 (UTC)
Received: (qmail 15167 invoked by uid 500); 8 Feb 2016 23:32:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15101 invoked by uid 500); 8 Feb 2016 23:32:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15090 invoked by uid 99); 8 Feb 2016 23:32:29 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 23:32:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id DB5DB180179
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 23:32:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.73
X-Spam-Level:
X-Spam-Status: No, score=-2.73 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.429,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id mLPoQfakOlHY for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 23:32:28 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 8130931AD0
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 23:32:27 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u18NWQLx026769
	for <dev@httpd.apache.org>; Tue, 9 Feb 2016 00:32:27 +0100 (CET)
Subject: Re: Netware proxy makefiles and USE_STDSOCKETS
To: dev@httpd.apache.org
References: <56B5D8C4.9060207@kippdata.de> <56B63C8B.4060907@gknw.net>
 <56B64615.2000005@kippdata.de> <56B7BC96.30302@gknw.net>
 <56B75FEC020000AC00005F09@prv-mh.provo.novell.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56B92584.4040300@kippdata.de>
Date: Tue, 9 Feb 2016 00:32:20 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B75FEC020000AC00005F09@prv-mh.provo.novell.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Thanks for the background info!

Regards,

Rainer

Am 07.02.2016 um 23:17 schrieb Brad Nicholes:
> Rainer,
>      It has actually been quite a while since I have been on this list.  I did most of the initial Netware port of Apache.  Apache for Netware uses its own implementation of Winsock as the socket layer.  This is the reason why the make files specify not to use the standard sockets.  The Netware version of Winsock also has it's own implementation of SSL which is why most of the time mod_ssl is not used by Apache for Netware.  Basically, the Apache for Netware make files should always be building with Winsock.
>
> thanks,
> Brad
>
>
>
>> Rainer,
>> Apologies for the silence, but my major focus ATM is getting my place
>> fixed up with the view to moving, but did have a go at a build with the
>> USE_STDSOCKETS but something appears to be broken in apr-1.5, but have
>> not yet had a chance to look into it. Medical visit this morning and if
>> I get home soon enough will look further at it.
>>
>> FTM,
>> Norm
>> PS If GK is reading this he might have a look at it, but don't hold your
>> breath.

From dev-return-85502-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb  8 23:37:56 2016
Return-Path: <dev-return-85502-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8F75718FD6
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Feb 2016 23:37:56 +0000 (UTC)
Received: (qmail 27712 invoked by uid 500); 8 Feb 2016 23:37:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 27642 invoked by uid 500); 8 Feb 2016 23:37:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 27632 invoked by uid 99); 8 Feb 2016 23:37:56 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Feb 2016 23:37:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A8795180179
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 23:37:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.299
X-Spam-Level:
X-Spam-Status: No, score=0.299 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id hblvmWVq-mIy for <dev@httpd.apache.org>;
	Mon,  8 Feb 2016 23:37:54 +0000 (UTC)
Received: from fed1rmfepo101.cox.net (fed1rmfepo101.cox.net [68.230.241.143])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 5298B2139D
	for <dev@httpd.apache.org>; Mon,  8 Feb 2016 23:37:53 +0000 (UTC)
Received: from fed1rmimpo109 ([68.230.241.158]) by fed1rmfepo101.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20160208233745.JSLO331.fed1rmfepo101.cox.net@fed1rmimpo109>
          for <dev@httpd.apache.org>; Mon, 8 Feb 2016 18:37:45 -0500
Received: from [192.168.1.33] ([98.176.34.113])
	by fed1rmimpo109 with cox
	id Fzdk1s00U2STVfm01zdlXj; Mon, 08 Feb 2016 18:37:45 -0500
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020204.56B926C9.0156,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.0 cv=O+vnSmBW c=1 sm=1
 a=8xCO7h6kmYZdHn5tUOQhsw==:17 a=--mZH8PggUw5lUZYBxoA:9 a=wPNLvfGTeEIA:10
 a=0qxqflLVwbkA:10 a=8xCO7h6kmYZdHn5tUOQhsw==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <56B926E4.8060607@gknw.net>
Date: Mon, 08 Feb 2016 15:38:12 -0800
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: mod_proxy_http2
References: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de>
In-Reply-To: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

On 2/8/2016 9:07 AM, Stefan Eissing wrote:
> PS. I did not update Windows Makefiles. I feel bad.

Don't, I need to play catch-up anyway :)

Should this be in modules/proxy like all the rest of the mod_proxy_* 
modules?
I personally do not care, I was just thinking (which in itself can be 
dangerous).

From dev-return-85503-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 02:55:43 2016
Return-Path: <dev-return-85503-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8F9191878E
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 02:55:43 +0000 (UTC)
Received: (qmail 14571 invoked by uid 500); 9 Feb 2016 02:55:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14509 invoked by uid 500); 9 Feb 2016 02:55:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14499 invoked by uid 99); 9 Feb 2016 02:55:42 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 02:55:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 14D61180179
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 02:55:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.5
X-Spam-Level: **
X-Spam-Status: No, score=2.5 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_STOCKGEN=1.5,
	RCVD_IN_DNSWL_NONE=-0.0001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id LdFmHGTzy1So for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 02:55:38 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 4843F429BC
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 02:55:37 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 345CD20EAB
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 03:55:36 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id W3UWb1yWvbNV for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 03:55:35 +0100 (CET)
Received: from [10.0.0.1] (CPE-121-217-155-92.lnse2.cht.bigpond.net.au [121.217.155.92])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 86492206A6
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 03:55:34 +0100 (CET)
Subject: Re: Netware proxy makefiles and USE_STDSOCKETS
To: dev@httpd.apache.org
References: <56B5D8C4.9060207@kippdata.de> <56B63C8B.4060907@gknw.net>
 <56B64615.2000005@kippdata.de> <56B7BC96.30302@gknw.net>
 <56B75FEC020000AC00005F09@prv-mh.provo.novell.com> <56B90C87.20508@gknw.net>
 <56B92537.8040306@kippdata.de>
From: NormW <normw@gknw.net>
Message-ID: <56B95518.5070204@gknw.net>
Date: Tue, 9 Feb 2016 13:55:20 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B92537.8040306@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

A Sunny Afternoon Rainer,
On 9/02/2016 10:31 AM, Rainer Jung wrote:
I note the Windock imports are back where needed and all of /proxy now 
builds again without issue.

As for /http2, ir seems I was rather hasty myself. My original NWGNU for 
http2 assumed a wildcard list of all .c in the directory for mod_http2, 
which I now find is incorrect, so I've converted (as temp measure) to a 
specified list of files, as it seems there could be multiple modules in 
the http2 dir. However, Gregg Smith has asked the question of where the 
http2 proxy bits should reside, so I will await a definitive answer to 
that first.
Norm

> Hi Norm,
>
> Am 08.02.2016 um 22:45 schrieb NormW:
>> G/M Brad, G/M Rainer
>> On 8/02/2016 9:17 AM, Brad Nicholes wrote:
>>> Rainer,
>>>      It has actually been quite a while since I have been on this
>>> list.  I did most of the initial Netware port of Apache.  Apache for
>>> Netware uses its own implementation of Winsock as the socket layer.
>>> This is the reason why the make files specify not to use the standard
>>> sockets.  The Netware version of Winsock also has it's own
>>> implementation of SSL which is why most of the time mod_ssl is not
>>> used by Apache for Netware.  Basically, the Apache for Netware make
>>> files should always be building with Winsock.
>>>
>>> thanks,
>>> Brad
>> A flashback to earlier days. Pleased you're still about.
>>
>> Rainer,
>> Just updated from httpd-trunk and now get in proxy:
>
> That full output was useful. I had moved the import to the main
> NWGNUmakefile, but the module specific ones didn't append to the list of
> import files but instead overwrote it. Now that I can see from your
> list, which of the many proxy modules actually need those imports, I
> decided to move the import back into the individual module makefiles.
>
> I removed them afterwards for mod_proxy_express and mod_proxy_hcheck,
> because those seem to not have link errors without those imports.
>
> Finally I adjusted the comment like you suggested. One brain-twiser less.
>
> Hopefully we are good to go now.
>
> Regards,
>
> Rainer
>
>>> Building D:/Projects/svn/httpd-trunk/modules/proxy
>>> Calling NWGNUproxy
>>> LINK obj_release/proxy.nlm
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WS2_32_htonl in
>>> #   proxy_util.o
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WS2_32_inet_ntoa in
>>> #   proxy_util.o
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WS2_32_htonl in
>>> #   proxy_util.o
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WS2_32_inet_ntoa in
>>> #   proxy_util.o
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WS2_32_inet_ntoa in
>>> #   proxy_util.o
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WS2_32_htonl in
>>> #   proxy_util.o
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WSAStartup in
>>> #   libprews.o
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WSACleanup in
>>> #   libprews.o
>>>
>>> Errors caused tool to abort.
>>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target
>>> 'obj_release/proxy.nlm' failed
>>> make[3]: *** [obj_release/proxy.nlm] Error 1
>>> make[3]: Target 'default' not remade because of errors.
>>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target
>>> 'obj_release/proxy.nlm' failed
>>> make[2]: *** [obj_release/proxy.nlm] Error 2
>>
>>> Calling NWGNUproxyftp
>>> GEN  obj_release/proxyftp_cc.opt
>>> CC   mod_proxy_ftp.c
>>> CC   ../arch/netware/libprews.c
>>> GEN  obj_release/proxyftp_link.opt
>>> LINK obj_release/proxyftp.nlm
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WS2_32_htons in
>>> #   mod_proxy_ftp.o
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WSAStartup in
>>> #   libprews.o
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WSACleanup in
>>> #   libprews.o
>>>
>>> Errors caused tool to abort.
>>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target
>>> 'obj_release/proxyftp.nlm' failed
>>> make[3]: *** [obj_release/proxyftp.nlm] Error 1
>>> make[3]: Target 'default' not remade because of errors.
>>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target
>>> 'obj_release/proxyftp.nlm' failed
>>> make[2]: *** [obj_release/proxyftp.nlm] Error 2
>>> Calling NWGNUproxyhtp
>>> GEN  obj_release/proxyhtp_cc.opt
>>> CC   mod_proxy_http.c
>>> CC   ../arch/netware/libprews.c
>>> GEN  obj_release/proxyhtp_link.opt
>>> LINK obj_release/proxyhtp.nlm
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WSAStartup in
>>> #   libprews.o
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WSACleanup in
>>> #   libprews.o
>>>
>>> Errors caused tool to abort.
>>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target
>>> 'obj_release/proxyhtp.nlm' failed
>>> make[3]: *** [obj_release/proxyhtp.nlm] Error 1
>>> make[3]: Target 'default' not remade because of errors.
>>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target
>>> 'obj_release/proxyhtp.nlm' failed
>>> make[2]: *** [obj_release/proxyhtp.nlm] Error 2
>>> Calling NWGNUproxybalancer
>>> GEN  obj_release/proxybalancer_cc.opt
>>> CC   mod_proxy_balancer.c
>>> CC   ../arch/netware/libprews.c
>>> GEN  obj_release/proxybalancer_link.opt
>>> LINK obj_release/proxybalancer.nlm
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WSAStartup in
>>> #   libprews.o
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WSACleanup in
>>> #   libprews.o
>>>
>>> Errors caused tool to abort.
>>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target
>>> 'obj_release/proxybalancer.nlm' failed
>>> make[3]: *** [obj_release/proxybalancer.nlm] Error 1
>>> make[3]: Target 'default' not remade because of errors.
>>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target
>>> 'obj_release/proxybalancer.nlm' failed
>>> make[2]: *** [obj_release/proxybalancer.nlm] Error 2
>>> Calling NWGNUproxyajp
>>> GEN  obj_release/proxyajp_cc.opt
>>> CC   mod_proxy_ajp.c
>>> CC   ajp_header.c
>>> CC   ajp_msg.c
>>> CC   ajp_link.c
>>> CC   ajp_utils.c
>>> GEN  obj_release/proxyajp_link.opt
>>> LINK obj_release/proxyajp.nlm
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WSAStartup in
>>> #   libprews.o
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WSACleanup in
>>> #   libprews.o
>>>
>>> Errors caused tool to abort.
>>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target
>>> 'obj_release/proxyajp.nlm' failed
>>> make[3]: *** [obj_release/proxyajp.nlm] Error 1
>>> make[3]: Target 'default' not remade because of errors.
>>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target
>>> 'obj_release/proxyajp.nlm' failed
>>> make[2]: *** [obj_release/proxyajp.nlm] Error 2
>>> Calling NWGNUproxyfcgi
>>> GEN  obj_release/proxyfcgi_cc.opt
>>> CC   mod_proxy_fcgi.c
>>> CC   ../arch/netware/libprews.c
>>> GEN  obj_release/proxyfcgi_link.opt
>>> LINK obj_release/proxyfcgi.nlm
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WSAStartup in
>>> #   libprews.o
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WSACleanup in
>>> #   libprews.o
>>>
>>> Errors caused tool to abort.
>>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target
>>> 'obj_release/proxyfcgi.nlm' failed
>>> make[3]: *** [obj_release/proxyfcgi.nlm] Error 1
>>> make[3]: Target 'default' not remade because of errors.
>>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target
>>> 'obj_release/proxyfcgi.nlm' failed
>>> make[2]: *** [obj_release/proxyfcgi.nlm] Error 2
>>> Calling NWGNUproxyscgi
>>> GEN  obj_release/proxyscgi_cc.opt
>>> CC   mod_proxy_scgi.c
>>> CC   ../arch/netware/libprews.c
>>> GEN  obj_release/proxyscgi_link.opt
>>> LINK obj_release/proxyscgi.nlm
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WSAStartup in
>>> #   libprews.o
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WSACleanup in
>>> #   libprews.o
>>>
>>> Errors caused tool to abort.
>>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target
>>> 'obj_release/proxyscgi.nlm' failed
>>> make[3]: *** [obj_release/proxyscgi.nlm] Error 1
>>> make[3]: Target 'default' not remade because of errors.
>>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target
>>> 'obj_release/proxyscgi.nlm' failed
>>> make[2]: *** [obj_release/proxyscgi.nlm] Error 2
>>> Calling NWGNUserf
>>> GEN  obj_release/serf_cc.opt
>>> CC   mod_serf.c
>>> CC   D:\Projects\srcs\serf-1.3.8/context.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/aggregate_buckets.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/allocator.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/barrier_buckets.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/buckets.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/chunk_buckets.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/dechunk_buckets.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/deflate_buckets.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/file_buckets.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/headers_buckets.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/limit_buckets.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/request_buckets.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/response_buckets.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/simple_buckets.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/socket_buckets.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/ssl_buckets.c
>>> CC   D:\Projects\srcs\serf-1.3.8/auth/auth.c
>>> CC   D:\Projects\srcs\serf-1.3.8/auth/auth_basic.c
>>> CC   D:\Projects\srcs\serf-1.3.8/auth/auth_digest.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/bwtp_buckets.c
>>> CC   D:\Projects\srcs\serf-1.3.8/incoming.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/iovec_buckets.c
>>> CC   D:\Projects\srcs\serf-1.3.8/outgoing.c
>>> CC   D:\Projects\srcs\serf-1.3.8/ssltunnel.c
>>> CC   D:\Projects\srcs\serf-1.3.8/buckets/response_body_buckets.c
>>> CC   D:\Projects\srcs\zlib-1.2.8/adler32.c
>>> CC   D:\Projects\srcs\zlib-1.2.8/crc32.c
>>> CC   D:\Projects\srcs\zlib-1.2.8/deflate.c
>>> CC   D:\Projects\srcs\zlib-1.2.8/inflate.c
>>> CC   D:\Projects\srcs\zlib-1.2.8/inffast.c
>>> CC   D:\Projects\srcs\zlib-1.2.8/inftrees.c
>>> CC   D:\Projects\srcs\zlib-1.2.8/trees.c
>>> CC   D:\Projects\srcs\zlib-1.2.8/zutil.c
>>> GEN  obj_release/serf_link.opt
>>> LINK obj_release/serf.nlm
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WS2_32_getsockopt in
>>> #   outgoing.o
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WS2_32_shutdown in
>>> #   bss_sock.obj
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WS2_32_closesocket in
>>> #   bss_sock.obj
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WSASetLastError in
>>> #   bss_sock.obj
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WS2_32_recv in
>>> #   bss_sock.obj
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WSASetLastError in
>>> #   bss_sock.obj
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WS2_32_send in
>>> #   bss_sock.obj
>>> ### mwldnlm Linker Error:
>>> #   Undefined symbol: WSAGetLastError in
>>> #   bss_sock.obj
>>>
>>> Errors caused tool to abort.
>>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:214: recipe for target
>>> 'obj_release/serf.nlm' failed
>>> make[3]: *** [obj_release/serf.nlm] Error 1
>>> make[3]: Target 'default' not remade because of errors.
>>> D:/Projects/svn/httpd-trunk/build/NWGNUtail.inc:321: recipe for target
>>> 'obj_release/serf.nlm' failed
>>> make[2]: *** [obj_release/serf.nlm] Error 2
>>> make[2]: Target 'default' not remade because of errors.
>>> D:\Projects\svn\httpd-trunk/build/NWGNUhead.inc:86: recipe for target
>>> 'proxy' failed
>>> make[1]: *** [proxy] Error 2
>>>
>> I've reworded the patch below so it reads a little more logically.
>> The winsock library is autoloaded, but the compiler/linker need the
>> symbol list it will provide.
>>> FILES_nlm_Ximports = \
>>>     @aprlib.imp \
>>>     @httpd.imp \
>>>     @libc.imp \
>>>     $(EOLIST)
>>>
>>> + # Link with Winsock if standard sockets are NOT being used.
>>> + ifndef USE_STDSOCKETS
>>> + FILES_nlm_Ximports += @ws2nlm.imp \
>>> +     $(EOLIST)
>>> + endif
>>> +


From dev-return-85504-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 08:35:31 2016
Return-Path: <dev-return-85504-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 77E5D1809D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 08:35:31 +0000 (UTC)
Received: (qmail 66793 invoked by uid 500); 9 Feb 2016 08:35:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 66724 invoked by uid 500); 9 Feb 2016 08:35:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 66714 invoked by uid 99); 9 Feb 2016 08:35:30 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 08:35:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 26E0CC083E
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 08:35:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id aHAAvXqoNh7s for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 08:35:29 +0000 (UTC)
Received: from mail-qg0-f44.google.com (mail-qg0-f44.google.com [209.85.192.44])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 275012054F
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 08:35:29 +0000 (UTC)
Received: by mail-qg0-f44.google.com with SMTP id b67so48758373qgb.1
        for <dev@httpd.apache.org>; Tue, 09 Feb 2016 00:35:29 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=6c1vT9SJUcBeocaApQiqvcvWdIA1gOMcbPz04XplFPY=;
        b=0kAPRBv3M6QZnjRlYLL6f8mQeMtkPMEPXsdWtLD4k2waomXigL6o6tYsyrxOu0DKOW
         V0kOxJhLFRa6Z51XMnEC/ICl0KEHPG/RJnZtK0kYjIVlbRXjk5yIraJEUPAUvaOGmsev
         kDeWPlOYcgrF0+R17pPpzpwNGIT2c2RdCbe/re0iF/DiZAQnP0VNYuHA4EuiEKVbr3gS
         7vLEGlZru7KT6S1T2dfRMCyUksCHnktSRQ5BnMjn6byCpSYl/jmue1gnmncGHsk2Hk0S
         K0Q6Rm1xlRoWpnbI1KP7tJqx2tS282wT13cds1Z5x332599gNYwCCXbkyQ3uCJsUXikU
         PMBQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=6c1vT9SJUcBeocaApQiqvcvWdIA1gOMcbPz04XplFPY=;
        b=FfPri9e9SlzGrS+NHqdSVT10OTJYqoBRVDNTd4DUm+bPba5MgnkN1RW676DndQFYoC
         Jy5FIrfKvbPh9NPtdXG4sEulZsKff0wju7amU03LvD5PC+FUZrJm1RbcYzhTRxYsGQVd
         LIt1xHsk9+EIFj4GuJqnvxTCejrCDJjTZyOpRj3CYd46Oi7zXCJwsm34hGbtsLx7Oi1L
         gi8tCwY1ZB0FEp/PtiPxxZRIHPe4gl+IyIBZvmlexgi4AMpN9ofrD2Q93hmP0Fkf7MrM
         q73bwrBJOT4xgGRfUejTsFyYdjm55NpVsycWwz5AUeypYBy//zQxLtWjD0e0da0xClnH
         6Y8w==
X-Gm-Message-State: AG10YOSawcOc/txtv4M2lbrrI4c4G7/nP8YnlwUkT1oY6Hg9lj2iJBFmP7u1vtRghTmdx7g9Y19sBX7NvJ0ICw==
MIME-Version: 1.0
X-Received: by 10.140.249.85 with SMTP id u82mr372889qhc.83.1455006928425;
 Tue, 09 Feb 2016 00:35:28 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Tue, 9 Feb 2016 00:35:28 -0800 (PST)
In-Reply-To: <20160122153019.ED13E3A023C@svn01-us-west.apache.org>
References: <20160122153019.ED13E3A023C@svn01-us-west.apache.org>
Date: Tue, 9 Feb 2016 09:35:28 +0100
Message-ID: <CAKQ1sVNSiZyiWwNEZ7Vq+og8Bg+iNyS+k9vJUZZB5neWHGnGhA@mail.gmail.com>
Subject: Re: svn commit: r1726233 - in /httpd/httpd/trunk: docs/manual/mod/core.xml
 include/http_core.h server/core.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Jan 22, 2016 at 4:30 PM,  <covener@apache.org> wrote:
> Author: covener
> Date: Fri Jan 22 15:30:19 2016
> New Revision: 1726233
>
> URL: http://svn.apache.org/viewvc?rev=1726233&view=rev
> Log:
> from feedback, assume all parameters to SetHandler are expressions.
>
> Modified:
>     httpd/httpd/trunk/server/core.c
>
[]
> Modified: httpd/httpd/trunk/server/core.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/core.c?rev=1726233&r1=1726232&r2=1726233&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/server/core.c (original)
> +++ httpd/httpd/trunk/server/core.c Fri Jan 22 15:30:19 2016
[]
> @@ -4668,7 +4655,13 @@ static int core_override_type(request_re
>              return HTTP_INTERNAL_SERVER_ERROR;
>          }
>          if (strcmp(val, "none")) {
> -            r->handler = apr_pstrdup(r->pool, val);
> +            if (val != ap_strstr_c(val, "proxy:unix")) {
> +                /* Retained for compatibility --  but not for UDS */
> +                char *tmp = apr_pstrdup(r->pool, val);
> +                ap_str_tolower(tmp);
> +                r->handler = tmp;
> +            }
> +            r->handler = val;

Missing an "else"?

>          }
>      }
>      else if (conf->handler && strcmp(conf->handler, "none")) {
>
>

From dev-return-85505-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 08:55:31 2016
Return-Path: <dev-return-85505-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3C58A1816F
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 08:55:31 +0000 (UTC)
Received: (qmail 99300 invoked by uid 500); 9 Feb 2016 08:55:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99224 invoked by uid 500); 9 Feb 2016 08:55:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99159 invoked by uid 99); 9 Feb 2016 08:55:28 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 08:55:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7C9C6180424
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 08:55:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.53
X-Spam-Level:
X-Spam-Status: No, score=-0.53 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.429, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Gc1iytug;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Gc1iytug
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ttIMMYifBiAO for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 08:55:26 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 779FD2096C
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 08:55:26 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id B84F415A061B; Tue,  9 Feb 2016 09:55:23 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455008123; bh=5TXRZxrCFhSay88LZhndmgJxeXzTs31QZLXodBapWcs=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=Gc1iytugT74XEC+NHDlRyI9C00oCCvSg1ojrJk8vCWlV4G1ZHyHVTmiMOKAL9n6qo
	 COaikg5FAOtTv4shQKueWua+R4UMoF1ReQsZPvrFrEVE29zJt+l6NTOhEx4nn44IgW
	 EuF/Wtxs3TEsbR56p95Otb42N7t8O2g+wfhLIVQM=
Received: from [192.168.178.70] (unknown [93.211.105.82])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 357A115A040A
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 09:55:23 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455008123; bh=5TXRZxrCFhSay88LZhndmgJxeXzTs31QZLXodBapWcs=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=Gc1iytugT74XEC+NHDlRyI9C00oCCvSg1ojrJk8vCWlV4G1ZHyHVTmiMOKAL9n6qo
	 COaikg5FAOtTv4shQKueWua+R4UMoF1ReQsZPvrFrEVE29zJt+l6NTOhEx4nn44IgW
	 EuF/Wtxs3TEsbR56p95Otb42N7t8O2g+wfhLIVQM=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: mod_proxy_http2
Message-Id: <173FFE96-E74E-46A6-8149-D248EDA26B70@greenbytes.de>
Date: Tue, 9 Feb 2016 09:55:22 +0100
References: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de> <56B926E4.8060607@gknw.net>
In-Reply-To: <56B926E4.8060607@gknw.net>
To: dev@httpd.apache.org
X-Mailer: iPhone Mail (13D15)


> Am 09.02.2016 um 00:38 schrieb Gregg Smith <gls@gknw.net>:
>=20
>> On 2/8/2016 9:07 AM, Stefan Eissing wrote:
>> PS. I did not update Windows Makefiles. I feel bad.
>=20
> Don't, I need to play catch-up anyway :)
>=20
> Should this be in modules/proxy like all the rest of the mod_proxy_* modul=
es?
> I personally do not care, I was just thinking (which in itself can be dang=
erous).

There is a tight coupling to mod_http2 and both rely on nghttp2 lib. Since t=
he exact interfaces between both mods are evolving that place fits best.=20

Thanks for taking care of the Makefiles!

Stefan=

From dev-return-85506-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 10:20:22 2016
Return-Path: <dev-return-85506-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C711118552
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 10:20:22 +0000 (UTC)
Received: (qmail 84844 invoked by uid 500); 9 Feb 2016 10:20:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84772 invoked by uid 500); 9 Feb 2016 10:20:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84761 invoked by uid 99); 9 Feb 2016 10:20:22 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 10:20:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 5FE4CC0853
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 10:20:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.63
X-Spam-Level:
X-Spam-Status: No, score=-2.63 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.329,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Hd9DtFTs1nWA for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 10:20:19 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 1AC2B2054C
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 10:20:18 +0000 (UTC)
Received: from [195.227.30.209] (notebook-rj [195.227.30.209])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u19AKGUM001883
	for <dev@httpd.apache.org>; Tue, 9 Feb 2016 11:20:17 +0100 (CET)
From: Rainer Jung <rainer.jung@kippdata.de>
Subject: Support for OpenSSL 1.1.0
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Message-ID: <56B9BD54.3020105@kippdata.de>
Date: Tue, 9 Feb 2016 11:20:04 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

I started adding support for OpenSSL 1.1.0 in trunk.

As some might know, the OpenSSL API changes and especially many 
structures have been made opaque.

I resolved all the stuff that could be done on a local/formal level, but 
some items remain, where I'm not sure how to proceed. I have marked all 
of them with "XXX: OpenSSL 1.1.0:" in the sources.

I tested a straight backport to 2.4 against OpenSSL 1.1.0pre2 plus patch 
https://github.com/openssl/openssl/commit/311f27852a18fb9c10f0c1283b639f12eea06de2 
and there were only 7 ssl test failures.

Open problems:

1) HTTP on HTTPS

OpenSSL 1.1.0 currently doesn't support the "HTTP spoken on HTTPS port" 
error. The code to detect HTTP was removed due to a major rewrite of the 
state engine. The OpenSSL project is willing to review patches for 
reintroducing the feature there but currently doesn't plan to work on it 
themselves.

2) Renegotiation

It needs to be implemented differently. The OpenSSL project suggest to 
try reading application data until the renegotiation has finished. I 
committed some rather ugly code that does loop waiting for reneg, but it 
has a couple of problems:

a) it will not work for EC or DH ciphers. Some opaque structure element 
in the ssl struct is already set and confuses the state machine. I hope 
to get some helpful feedback from the OpenSSL project for this.

b) the loop impl currently assumes we wait for client certs during the 
reneg. It will hang for the full loop duration when only the cipher 
changed but no certs will be send. We need a better loop end check.

3) ssl_engine_ocsp.c

In modssl_verify_ocsp() the following code accesses the struct member 
"valid", for which currently no accessor function exists in 1.1.0:

268     else if (cert->valid && X509_check_issued(cert,cert) == X509_V_OK) {
269         /* don't do OCSP checking for valid self-issued certs */
270         ap_log_cerror(APLOG_MARK, APLOG_TRACE2, 0, c,
271                       "Skipping OCSP check for valid self-issued cert");
272         X509_STORE_CTX_set_error(ctx, X509_V_OK);
273         return 1;
274     }


4) ssl_util_stapling.c

In ssl_stapling_init_cert() there's a compiler warning:
   "passing argument 1 of 'sk_value' from incompatible pointer type
    expected 'const struct _STACK *' but argument is of type
    'struct stack_st_OPENSSL_STRING *'":

179        cinf->uri = apr_pstrdup(p, sk_OPENSSL_STRING_value(aia, 0));


5) ssl_engine_kernel.c

In ssl_callback_Info() the explicit state constants 
SSL3_ST_SR_CLNT_HELLO_A and SSL23_ST_SR_CLNT_HELLO_A are used which no 
longer exist. I can't find obvious replacements in the list of new state 
constants:

2100         int state = SSL_get_state((SSL *)ssl);
2101
2102         if (state == SSL3_ST_SR_CLNT_HELLO_A
2103             || state == SSL23_ST_SR_CLNT_HELLO_A) {
2104             scr->reneg_state = RENEG_ABORT;
2105             ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02042)
2106                           "rejecting client initiated renegotiation");
2107         }


Regards,

Rainer


From dev-return-85507-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 11:41:11 2016
Return-Path: <dev-return-85507-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2BE1D18786
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 11:41:11 +0000 (UTC)
Received: (qmail 21426 invoked by uid 500); 9 Feb 2016 11:41:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21359 invoked by uid 500); 9 Feb 2016 11:41:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21349 invoked by uid 99); 9 Feb 2016 11:41:10 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 11:41:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 22886C00ED
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 11:41:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4.814
X-Spam-Level: ****
X-Spam-Status: No, score=4.814 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, HTML_MIME_NO_HTML_TAG=0.635, MIME_HTML_ONLY=3,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=yandex.ru
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id UIenTs2KsKd7 for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 11:41:08 +0000 (UTC)
Received: from forward15m.cmail.yandex.net (forward15m.cmail.yandex.net [5.255.216.146])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id F41B620CB7
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 11:41:07 +0000 (UTC)
Received: from web3m.yandex.ru (web3m.yandex.ru [37.140.138.94])
	by forward15m.cmail.yandex.net (Yandex) with ESMTP id A3426217BA
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 14:41:00 +0300 (MSK)
Received: from web3m.yandex.ru (localhost [127.0.0.1])
	by web3m.yandex.ru (Yandex) with ESMTP id 077F63722B9B;
	Tue,  9 Feb 2016 14:40:59 +0300 (MSK)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yandex.ru; s=mail;
	t=1455018060; bh=bTkXP37GvCyP2dszlkYOfJuxb8MARF3kTiwYdzsTw3A=;
	h=From:To:In-Reply-To:References:Subject:Date;
	b=D9z4Trty8CJ0ptwB65e7HxfolYGyfaeCc5WJ83RoHz2gI6lPL0BJ+ELEMzk3kKddI
	 IU8bwuD/cheFBbtECn4+L8DTSG9wavuGO5T9I9h1YFaTM3aktlqvDDcHs+222LbIH5
	 Hh3ngjPUlkNZYI716mrOJK/OEu7OxkNJWMbhOG2s=
Received: by web3m.yandex.ru with HTTP;
	Tue, 09 Feb 2016 14:40:59 +0300
From: Ponomarenko Andrey <andrewponomarenko@yandex.ru>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
In-Reply-To: <CACsi250qdXYPN8emqaN3q_qSTMLmHGLmeu+p9SDQaBcoOxikfQ@mail.gmail.com>
References: <1685061454833962@web27h.yandex.ru> <CACsi250qdXYPN8emqaN3q_qSTMLmHGLmeu+p9SDQaBcoOxikfQ@mail.gmail.com>
Subject: Re: ABI report
MIME-Version: 1.0
Message-Id: <573911455018059@web3m.yandex.ru>
X-Mailer: Yamail [ http://yandex.ru ] 5.0
Date: Tue, 09 Feb 2016 14:40:59 +0300
Content-Transfer-Encoding: base64
Content-Type: text/html; charset=koi8-r

PGRpdj5IZWxsbyBCaWxsLDwvZGl2PjxkaXY+mjwvZGl2PjxkaXY+SSdsbCB0cnkgdG8gYWRkIDIu
Mi54IGFuZCAyLjQueCBicmFuY2hlcyB0byB0aGUgY29tcGF0aWJpbGl0eSB0YWJsZSBzb29uICh0
aGUgMi4yLnggb24gdG9wIG9mIGFsbCAyLjIuKiB2ZXJzaW9ucyBhbmQgMi40Lnggb24gdG9wIG9m
IGFsbCAyLjQuKikuIEJ1dCBpdCByZXF1aXJlcyBzb21lIHRpbWUgdG8gaW1wcm92ZSB0aGUgY29k
ZSBiYXNlLjwvZGl2PjxkaXY+mjwvZGl2PjxkaXY+VGhhbmsgeW91LjwvZGl2PjxkaXY+mjwvZGl2
PjxkaXY+MDguMDIuMjAxNiwgMjE6MjAsICJXaWxsaWFtIEEgUm93ZSBKciI6PC9kaXY+PGJsb2Nr
cXVvdGUgdHlwZT0iY2l0ZSI+PGRpdj5UaGlzIGlzIGV4Y2VsbGVudCwgdGhhbmtzIGZvciB0aGUg
ZWZmb3J0ITxkaXY+mjwvZGl2PjxkaXY+WW91IHNob3VsZCBub3RlIHRoYXQgdGhlcmUgd2FzIG5v
IGJpbmFyeSBjb21wYXRpYmlsaXR5IGJldHdlZW4gMi4yLnggZmluYWw8L2Rpdj48ZGl2PmFuZCAy
LjQueC6aIEFuZCB0aGVyZSB3aWxsIGJlIG5vIGJpbmFyeSBjb21wYXRpYmlsaXR5IGJldHdlZW4g
Mi5uZXh0ICgzLjA/KTwvZGl2PjxkaXY+YW5kIDIuNC54LpogVGhlIGludGVyZXN0aW5nIGJyYW5j
aGVzIHRvIGNvbXBhcmUgZm9yIDIuMi5uZXh0IGFuZCAyLjQubmV4dDwvZGl2PjxkaXY+dG8gYW50
aWNpcGF0ZSBhbnkgYmluYXJ5IGJyZWFrYWdlIGJlZm9yZSB3ZSByZWxlYXNlIHdvdWxkIGJlIGlu
IHN1YnZlcnNpb26aPC9kaXY+PGRpdj51bmRlciB0aGUgcGF0aHM7PC9kaXY+PGRpdj6aPC9kaXY+
PGRpdj48ZGl2PjxhIGhyZWY9Imh0dHA6Ly9zdm4uYXBhY2hlLm9yZy9yZXBvcy9hc2YvaHR0cGQv
aHR0cGQvYnJhbmNoZXMvMi4yLngiPmh0dHA6Ly9zdm4uYXBhY2hlLm9yZy9yZXBvcy9hc2YvaHR0
cGQvaHR0cGQvYnJhbmNoZXMvMi4yLng8L2E+PC9kaXY+PC9kaXY+PGRpdj48ZGl2PjxhIGhyZWY9
Imh0dHA6Ly9zdm4uYXBhY2hlLm9yZy9yZXBvcy9hc2YvaHR0cGQvaHR0cGQvYnJhbmNoZXMvMi40
LngiPmh0dHA6Ly9zdm4uYXBhY2hlLm9yZy9yZXBvcy9hc2YvaHR0cGQvaHR0cGQvYnJhbmNoZXMv
Mi40Lng8L2E+PC9kaXY+PC9kaXY+PGRpdj6aPC9kaXY+PGRpdj53aGlsZSAyLm5leHQgKDMuMCkg
d2l0aCBiaW5hcnktYnJlYWtpbmcgY2hhbmdlcyBsaXZlcyBhdCB0aGUgcGF0aDs8L2Rpdj48ZGl2
PjxhIGhyZWY9Imh0dHA6Ly9zdm4uYXBhY2hlLm9yZy9yZXBvcy9hc2YvaHR0cGQvaHR0cGQvdHJ1
bmsiPmh0dHA6Ly9zdm4uYXBhY2hlLm9yZy9yZXBvcy9hc2YvaHR0cGQvaHR0cGQvdHJ1bms8L2E+
PC9kaXY+PGRpdj6aPC9kaXY+PGRpdj5UaGlzIGxvb2tzIGxpa2UgYSBncmVhdCB0b29sLCBtdWNo
IGFwcHJlY2lhdGVkIDopPC9kaXY+PGRpdj6aPC9kaXY+PGRpdj5CaWxsPC9kaXY+PGRpdj6aPC9k
aXY+PC9kaXY+PGRpdj48YnIgLz48ZGl2Pk9uIFN1biwgRmViIDcsIDIwMTYgYXQgMjozMiBBTSwg
UG9ub21hcmVua28gQW5kcmV5PHNwYW4+PC9zcGFuPiB3cm90ZTo8YnIgLz48YmxvY2txdW90ZSBz
dHlsZT0ibWFyZ2luOjAgMCAwIDAuOGV4O2JvcmRlci1sZWZ0OjFweCAjY2NjIHNvbGlkO3BhZGRp
bmctbGVmdDoxZXg7Ij5IZWxsbyw8YnIgLz4gPGJyIC8+IEkndmUgc3RhcnRlZCB0byBtYWludGFp
biBiaW5hcnkgY29tcGF0aWJpbGl0eSByZXBvcnQgZm9yIHRoZSByZWNlbnQgdmVyc2lvbnMgb2Yg
dGhlIGh0dHBkOiA8YSBocmVmPSJodHRwOi8vYWJpLWxhYm9yYXRvcnkucHJvL3RyYWNrZXIvdGlt
ZWxpbmUvaHR0cGQvIiB0YXJnZXQ9Il9ibGFuayI+aHR0cDovL2FiaS1sYWJvcmF0b3J5LnByby90
cmFja2VyL3RpbWVsaW5lL2h0dHBkLzwvYT48YnIgLz4gPGJyIC8+IFRoZSByZXBvcnQgaXMgdXBk
YXRlZCBldmVyeSBvdGhlciBkYXkuIFRoZSByZXBvcnQgZm9yIHRoZSBsYXRlc3QgdmVyc2lvbiBm
cm9tIGdpdCBpcyBhbHNvIHRoZXJlLiBIb3BlIHRoaXMgaGVscHMgTGludXggbWFpbnRhaW5lcnMg
dG8gYmUgYXdhcmUgb2YgQUJJIGNoYW5nZXMgYW5kIGFkZGVkL3JlbW92ZWQgc3ltYm9scy48YnIg
Lz4gPGJyIC8+IFRoYW5rIHlvdS48L2Jsb2NrcXVvdGU+PC9kaXY+PC9kaXY+PC9ibG9ja3F1b3Rl
Pg==

From dev-return-85508-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 12:02:27 2016
Return-Path: <dev-return-85508-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EE16D18842
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 12:02:26 +0000 (UTC)
Received: (qmail 53812 invoked by uid 500); 9 Feb 2016 12:02:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53743 invoked by uid 500); 9 Feb 2016 12:02:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53733 invoked by uid 99); 9 Feb 2016 12:02:26 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 12:02:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C5232C0870
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 12:02:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id GsmW-Xc7boPt for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 12:02:23 +0000 (UTC)
Received: from mail-ig0-f173.google.com (mail-ig0-f173.google.com [209.85.213.173])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 983022054C
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 12:02:23 +0000 (UTC)
Received: by mail-ig0-f173.google.com with SMTP id 5so10333717igt.0
        for <dev@httpd.apache.org>; Tue, 09 Feb 2016 04:02:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=dUEzJp8xnNpHy5SkT5tbOemh0x6HRKQw8bvx18r1U80=;
        b=w6+z38BX989zUnPbjkRB0IBb5p/HKk264Bc8tzMqVC1WmyjhgA2gOljEtqHe6Bg+z3
         Na8fm/fNIywvUEwJP32qy8fo1mbaUkSar6BE0t7Q7S2jTPcs4dq2UH8vyBwWF2Lf8fxo
         aMjJiqI0z8UxVEE8P6U8UEsnvH4qFnGJ2tTOhHrFBp6HyN1z3th6q4y8iLQBnpyD/QeN
         QbhdopfW8XufLdHB+TRBsgBe4e4eOle4HsI+wI6dGRgh0FJe6utoMyrvDj3s85w/JPYW
         tezshZtel+k1eUrp8QngE9cVl3DCPYB4wL+L0TLxEwH+0nV6QV1vAcCZ1AJuEo1WI15x
         37bA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=dUEzJp8xnNpHy5SkT5tbOemh0x6HRKQw8bvx18r1U80=;
        b=Dd2DxqfFa1NPaxUcYYfnMvRFyTUA+wBgWvADHXMiwbMd8vyc9jiPzpQYpfGb+EHi0F
         NfQs49/pJRjX1Dkd2V7azzsmzzJ++iyY9ASNMLDr0uYt+WY5AoprG2tocVRz/lWbUcut
         PjSLobM5HevKka0lJdTIlIthDGZM1c+rL74LDBcdyCPO5dLN5D7lSB+uMlLiOPr8s5/g
         taP+VY1lOsiOU59Fj0bXXVLkjYinl8dK1iJ5Q+M7TGuZD/d1T/QhQoEKccY6FW2mpZPy
         MXvPzW14rZAYXHDi7K4Rr1FPX4+FnvjDJFaO4DYj4okZENr7+dimD54RqVaCgBObjO+J
         7wZA==
X-Gm-Message-State: AG10YOT4kuVgIUGnHW+RURUZ9dVI/JEu1EujYVJt7TrQPhxQD58KZkfZn1tiJn+gjqkT6KeSHpV2Xopyu/RvTA==
MIME-Version: 1.0
X-Received: by 10.50.110.35 with SMTP id hx3mr3982795igb.17.1455019337598;
 Tue, 09 Feb 2016 04:02:17 -0800 (PST)
Received: by 10.36.59.193 with HTTP; Tue, 9 Feb 2016 04:02:17 -0800 (PST)
In-Reply-To: <CACsi250qdXYPN8emqaN3q_qSTMLmHGLmeu+p9SDQaBcoOxikfQ@mail.gmail.com>
References: <1685061454833962@web27h.yandex.ru>
	<CACsi250qdXYPN8emqaN3q_qSTMLmHGLmeu+p9SDQaBcoOxikfQ@mail.gmail.com>
Date: Tue, 9 Feb 2016 07:02:17 -0500
Message-ID: <CAKUrXK42pxKJ0fF3oXxFfECWm3P_7abbteS98SKHRHhPF7wrxA@mail.gmail.com>
Subject: Re: ABI report
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e0129448ac251a0052b551693

--089e0129448ac251a0052b551693
Content-Type: text/plain; charset=UTF-8

On Mon, Feb 8, 2016 at 12:57 PM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> This is excellent, thanks for the effort!
>
> You should note that there was no binary compatibility between 2.2.x final
> and 2.4.x.  And there will be no binary compatibility between 2.next (3.0?)
> and 2.4.x.  The interesting branches to compare for 2.2.next and 2.4.next
> to anticipate any binary breakage before we release would be in subversion
> under the paths;
>
> http://svn.apache.org/repos/asf/httpd/httpd/branches/2.2.x
> http://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.x
>
> while 2.next (3.0) with binary-breaking changes lives at the path;
> http://svn.apache.org/repos/asf/httpd/httpd/trunk
>
> This looks like a great tool, much appreciated :)
>
> Bill
>
>
> On Sun, Feb 7, 2016 at 2:32 AM, Ponomarenko Andrey <
> andrewponomarenko@yandex.ru> wrote:
>
>> Hello,
>>
>> I've started to maintain binary compatibility report for the recent
>> versions of the httpd: http://abi-laboratory.pro/tracker/timeline/httpd/
>>
>> The report is updated every other day. The report for the latest version
>> from git is also there. Hope this helps Linux maintainers to be aware of
>> ABI changes and added/removed symbols.
>>
>> Thank you.
>>
>
>
Perhaps there could be a way to configure a message related to the intended
breakage between 2.2.last and 2.4.first, since that is interesting from an
API migration standpoint.  (Link to
https://httpd.apache.org/docs/2.4/developer/new_api_2_4.html)


-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--089e0129448ac251a0052b551693
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Feb 8, 2016 at 12:57 PM, William A Rowe Jr <span dir=3D"ltr">&lt;<a hre=
f=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&=
gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px =
0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);bord=
er-left-style:solid;padding-left:1ex"><div dir=3D"ltr">This is excellent, t=
hanks for the effort!<div><br></div><div>You should note that there was no =
binary compatibility between 2.2.x final</div><div>and 2.4.x.=C2=A0 And the=
re will be no binary compatibility between 2.next (3.0?)</div><div>and 2.4.=
x.=C2=A0 The interesting branches to compare for 2.2.next and 2.4.next</div=
><div>to anticipate any binary breakage before we release would be in subve=
rsion=C2=A0</div><div>under the paths;</div><div><br></div><div><div><a hre=
f=3D"http://svn.apache.org/repos/asf/httpd/httpd/branches/2.2.x" target=3D"=
_blank">http://svn.apache.org/repos/asf/httpd/httpd/branches/2.2.x</a></div=
></div><div><div><a href=3D"http://svn.apache.org/repos/asf/httpd/httpd/bra=
nches/2.4.x" target=3D"_blank">http://svn.apache.org/repos/asf/httpd/httpd/=
branches/2.4.x</a></div></div><div><br></div><div>while 2.next (3.0) with b=
inary-breaking changes lives at the path;</div><div><a href=3D"http://svn.a=
pache.org/repos/asf/httpd/httpd/trunk" target=3D"_blank">http://svn.apache.=
org/repos/asf/httpd/httpd/trunk</a><br></div><div><br></div><div>This looks=
 like a great tool, much appreciated :)</div><div><br></div><div>Bill</div>=
<div><br></div></div><div class=3D""><div class=3D"h5"><div class=3D"gmail_=
extra"><br><div class=3D"gmail_quote">On Sun, Feb 7, 2016 at 2:32 AM, Ponom=
arenko Andrey <span dir=3D"ltr">&lt;<a href=3D"mailto:andrewponomarenko@yan=
dex.ru" target=3D"_blank">andrewponomarenko@yandex.ru</a>&gt;</span> wrote:=
<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;bor=
der-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:sol=
id;padding-left:1ex">Hello,<br>
<br>
I&#39;ve started to maintain binary compatibility report for the recent ver=
sions of the httpd: <a href=3D"http://abi-laboratory.pro/tracker/timeline/h=
ttpd/" rel=3D"noreferrer" target=3D"_blank">http://abi-laboratory.pro/track=
er/timeline/httpd/</a><br>
<br>
The report is updated every other day. The report for the latest version fr=
om git is also there. Hope this helps Linux maintainers to be aware of ABI =
changes and added/removed symbols.<br>
<br>
Thank you.<br>
</blockquote></div><br></div>
</div></div></blockquote></div><div class=3D"gmail_extra"><br></div>Perhaps=
 there could be a way to configure a message related to the intended breaka=
ge between 2.2.last and 2.4.first, since that is interesting from an API mi=
gration standpoint. =C2=A0(Link to <a href=3D"https://httpd.apache.org/docs=
/2.4/developer/new_api_2_4.html">https://httpd.apache.org/docs/2.4/develope=
r/new_api_2_4.html</a>)<br><br clear=3D"all"><div><br></div>-- <br><div cla=
ss=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien=
...<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyh=
ammock.com/</a><div><br></div></div></div>
</div></div>

--089e0129448ac251a0052b551693--

From dev-return-85509-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 12:25:53 2016
Return-Path: <dev-return-85509-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 21FCB1891D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 12:25:53 +0000 (UTC)
Received: (qmail 89583 invoked by uid 500); 9 Feb 2016 12:25:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89512 invoked by uid 500); 9 Feb 2016 12:25:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89502 invoked by uid 99); 9 Feb 2016 12:25:52 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 12:25:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 4E6CD1804E3
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 12:25:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id PvsAVr8Kpeiz for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 12:25:51 +0000 (UTC)
Received: from resqmta-ch2-04v.sys.comcast.net (resqmta-ch2-04v.sys.comcast.net [69.252.207.36])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 3E26342B8C
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 12:25:51 +0000 (UTC)
Received: from resomta-ch2-14v.sys.comcast.net ([69.252.207.110])
	by resqmta-ch2-04v.sys.comcast.net with comcast
	id GCRc1s0042PT3Qt01CRlU0; Tue, 09 Feb 2016 12:25:45 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-14v.sys.comcast.net with comcast
	id GCRk1s00D2U0RYt01CRkLh; Tue, 09 Feb 2016 12:25:45 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: balancer-manager docs
Message-Id: <35BFE5B2-2E21-4E04-85F0-846C2E28A04F@jaguNET.com>
Date: Tue, 9 Feb 2016 07:25:44 -0500
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455020745;
	bh=8bhSjkeidLZ68wb4iIyNaBtSgIAZLRGSs8vlypiqmgU=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=IuZVlVHgDup7+WBvkcrqGxGEnIphIIr1mYt1bcckMUD83UDlQMfNh4DrSCrFdMmSk
	 +1391N8wciWGncuNikT8IO08VjJdTAs8yz4qIwGTlTCPf2juKJDWDTgolurd9X0T8Y
	 +7wAIPqyOkqS7EhfUbqkD5vqDKTPICENh3joVEversybJFoQrval8epSv0pCdz/6DR
	 BKKpcEgAd4zJApj1qLi3UaIkMBsiZEEJ7TWDcaoYbQ5MS2Xh7EH2lJp15V51AWVbiV
	 533eNoxpe6UfdAcjZW7ds+5Iau5aLyoX5T4Vq8ghoW/BfPee0eaw1aenJF11Q5JerU
	 T5+0f8+aCkADw==

We currently have really really little info about the balancer-
manager in our docs, just a short little blurb on how to enable
it and a brief description of what it does [1]. I'd like to extend
that, but does it make sense to add it to the mod_proxy_balancer
module page, or have a separate page dedicated to it which we can
link to?


1. https://httpd.apache.org/docs/trunk/mod/mod_proxy_balancer.html

From dev-return-85510-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 12:34:46 2016
Return-Path: <dev-return-85510-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D53B118992
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 12:34:46 +0000 (UTC)
Received: (qmail 14930 invoked by uid 500); 9 Feb 2016 12:34:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14850 invoked by uid 500); 9 Feb 2016 12:34:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14840 invoked by uid 99); 9 Feb 2016 12:34:46 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 12:34:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id F148B1804E3
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 12:34:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.28
X-Spam-Level: *
X-Spam-Status: No, score=1.28 tagged_above=-999 required=6.31
	tests=[HK_NAME_DR=1, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id HbAxkoCgnC4E for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 12:34:42 +0000 (UTC)
Received: from claranet-outbound-smtp01.uk.clara.net (claranet-outbound-smtp01.uk.clara.net [195.8.89.34])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 875732054C
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 12:34:42 +0000 (UTC)
Received: from drh-consultancy.demon.co.uk ([80.177.30.10]:45715 helo=[192.168.7.9])
	by relay01.mail.eu.clara.net (relay.clara.net [81.171.239.31]:10465)
	with esmtpa (authdaemon_plain:drh) id 1aT7V3-0005Mv-6J  for dev@httpd.apache.org
	(return-path <shenson@opensslfoundation.com>); Tue, 09 Feb 2016 12:34:34 +0000
Subject: Re: Support for OpenSSL 1.1.0
To: dev@httpd.apache.org
References: <56B9BD54.3020105@kippdata.de>
From: Dr Stephen Henson <shenson@opensslfoundation.com>
X-Enigmail-Draft-Status: N1110
Organization: The OpenSSL Foundation
Message-ID: <56B9DCD8.40709@opensslfoundation.com>
Date: Tue, 9 Feb 2016 12:34:32 +0000
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B9BD54.3020105@kippdata.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

On 09/02/2016 10:20, Rainer Jung wrote:
> 
> 3) ssl_engine_ocsp.c
> 
> In modssl_verify_ocsp() the following code accesses the struct member "valid",
> for which currently no accessor function exists in 1.1.0:
> 
> 268     else if (cert->valid && X509_check_issued(cert,cert) == X509_V_OK) {
> 269         /* don't do OCSP checking for valid self-issued certs */
> 270         ap_log_cerror(APLOG_MARK, APLOG_TRACE2, 0, c,
> 271                       "Skipping OCSP check for valid self-issued cert");
> 272         X509_STORE_CTX_set_error(ctx, X509_V_OK);
> 273         return 1;
> 274     }
> 
> 

It's not clear what that code is supposed to do. The check isn't for
"self-issued" because that would just require comparing the subject and issuer
names it is actually checking for a self signed certificate.

Is it supposed to be skipping OCSP checking for a trusted root?

> 4) ssl_util_stapling.c
> 
> In ssl_stapling_init_cert() there's a compiler warning:
>   "passing argument 1 of 'sk_value' from incompatible pointer type
>    expected 'const struct _STACK *' but argument is of type
>    'struct stack_st_OPENSSL_STRING *'":
> 
> 179        cinf->uri = apr_pstrdup(p, sk_OPENSSL_STRING_value(aia, 0));
>

In ssl_private.h the checks like this:

#ifndef sk_OPENSSL_STRING_value
#define sk_OPENSSL_STRING_value sk_value
#endif

no longer work because stacks are now inline functions. If you put that block
round an appropriate #ifdef it should be fine.

I had a quick look at the changes and did notice that some of the direct
structure access (extensions, X509_NAME) is unnecessary in existing versions of
OpenSSL. So in some cases you don't need to only use them for 1.1: they'll work
in all versions of OpenSSL but it's only in 1.1 they are enforced.

Steve.
-- 
Dr Stephen Henson. OpenSSL Software Foundation, Inc.
1829 Mount Ephraim Road
Adamstown, MD 21710
+1 877-673-6775
shenson@opensslfoundation.com

From dev-return-85511-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 13:54:05 2016
Return-Path: <dev-return-85511-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BF6B518BE1
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 13:54:05 +0000 (UTC)
Received: (qmail 54394 invoked by uid 500); 9 Feb 2016 13:53:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54316 invoked by uid 500); 9 Feb 2016 13:53:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54306 invoked by uid 99); 9 Feb 2016 13:53:56 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 13:53:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id AF8EE1A01F6
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 13:53:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4.834
X-Spam-Level: ****
X-Spam-Status: No, score=4.834 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, HTML_MIME_NO_HTML_TAG=0.635, MIME_HTML_ONLY=3,
	RCVD_IN_DNSWL_LOW=-0.7, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=yandex.ru
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id VrOY89KMr651 for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 13:53:54 +0000 (UTC)
Received: from forward15o.cmail.yandex.net (forward15o.cmail.yandex.net [37.9.109.212])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 9D3AB429A6
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 13:53:53 +0000 (UTC)
Received: from web12o.yandex.ru (web12o.yandex.ru [95.108.205.112])
	by forward15o.cmail.yandex.net (Yandex) with ESMTP id B483C20DF5
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 16:52:30 +0300 (MSK)
Received: from web12o.yandex.ru (localhost [127.0.0.1])
	by web12o.yandex.ru (Yandex) with ESMTP id 4A7BA37425AD;
	Tue,  9 Feb 2016 16:52:30 +0300 (MSK)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yandex.ru; s=mail;
	t=1455025950; bh=AF/2CiK6wGlxS3i1sOcql7iIuM+ivZOajSc6soVrUkw=;
	h=From:To:In-Reply-To:References:Subject:Date;
	b=KxRp8JKvGXGXbUF5L6D8fYZnKHAX6Fd/3bpZ+qkt2uXT0GfcDUNTUfZcjgb+R2GUY
	 WPP40syascd4rMQncLeZGajmSeX5FsaRjhoqNW5R9CWDQh9WamBPFodfypIPBxsBj6
	 LkxIR5FwnWwB3DFoowvBtSlJVkL0S6AQnk38s1wY=
Received: by web12o.yandex.ru with HTTP;
	Tue, 09 Feb 2016 16:52:29 +0300
From: Ponomarenko Andrey <andrewponomarenko@yandex.ru>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
In-Reply-To: <CAKUrXK42pxKJ0fF3oXxFfECWm3P_7abbteS98SKHRHhPF7wrxA@mail.gmail.com>
References: <1685061454833962@web27h.yandex.ru>
	<CACsi250qdXYPN8emqaN3q_qSTMLmHGLmeu+p9SDQaBcoOxikfQ@mail.gmail.com> <CAKUrXK42pxKJ0fF3oXxFfECWm3P_7abbteS98SKHRHhPF7wrxA@mail.gmail.com>
Subject: Re: ABI report
MIME-Version: 1.0
Message-Id: <594591455025949@web12o.yandex.ru>
X-Mailer: Yamail [ http://yandex.ru ] 5.0
Date: Tue, 09 Feb 2016 16:52:29 +0300
Content-Transfer-Encoding: base64
Content-Type: text/html; charset=koi8-r

PGRpdj4wOS4wMi4yMDE2LCAxNTowMiwgIkplZmYgVHJhd2ljayIgJmx0O3RyYXdpY2tAZ21haWwu
Y29tJmd0Ozo8L2Rpdj48YmxvY2txdW90ZSB0eXBlPSJjaXRlIj48ZGl2PjxkaXY+PGRpdj5PbiBN
b24sIEZlYiA4LCAyMDE2IGF0IDEyOjU3IFBNLCBXaWxsaWFtIEEgUm93ZSBKciA8c3Bhbj4mbHQ7
PGEgaHJlZj0ibWFpbHRvOndyb3dlQHJvd2UtY2xhbi5uZXQiIHRhcmdldD0iX2JsYW5rIj53cm93
ZUByb3dlLWNsYW4ubmV0PC9hPiZndDs8L3NwYW4+IHdyb3RlOjxiciAvPjxibG9ja3F1b3RlIHN0
eWxlPSJtYXJnaW46MHB4IDBweCAwcHggMC44ZXg7Ym9yZGVyLWxlZnQtd2lkdGg6MXB4O2JvcmRl
ci1sZWZ0LWNvbG9yOiNjY2NjY2M7Ym9yZGVyLWxlZnQtc3R5bGU6c29saWQ7cGFkZGluZy1sZWZ0
OjFleDsiPjxkaXY+VGhpcyBpcyBleGNlbGxlbnQsIHRoYW5rcyBmb3IgdGhlIGVmZm9ydCE8ZGl2
Ppo8L2Rpdj48ZGl2PllvdSBzaG91bGQgbm90ZSB0aGF0IHRoZXJlIHdhcyBubyBiaW5hcnkgY29t
cGF0aWJpbGl0eSBiZXR3ZWVuIDIuMi54IGZpbmFsPC9kaXY+PGRpdj5hbmQgMi40LngumiBBbmQg
dGhlcmUgd2lsbCBiZSBubyBiaW5hcnkgY29tcGF0aWJpbGl0eSBiZXR3ZWVuIDIubmV4dCAoMy4w
Pyk8L2Rpdj48ZGl2PmFuZCAyLjQueC6aIFRoZSBpbnRlcmVzdGluZyBicmFuY2hlcyB0byBjb21w
YXJlIGZvciAyLjIubmV4dCBhbmQgMi40Lm5leHQ8L2Rpdj48ZGl2PnRvIGFudGljaXBhdGUgYW55
IGJpbmFyeSBicmVha2FnZSBiZWZvcmUgd2UgcmVsZWFzZSB3b3VsZCBiZSBpbiBzdWJ2ZXJzaW9u
mjwvZGl2PjxkaXY+dW5kZXIgdGhlIHBhdGhzOzwvZGl2PjxkaXY+mjwvZGl2PjxkaXY+PGRpdj48
YSBocmVmPSJodHRwOi8vc3ZuLmFwYWNoZS5vcmcvcmVwb3MvYXNmL2h0dHBkL2h0dHBkL2JyYW5j
aGVzLzIuMi54IiB0YXJnZXQ9Il9ibGFuayI+aHR0cDovL3N2bi5hcGFjaGUub3JnL3JlcG9zL2Fz
Zi9odHRwZC9odHRwZC9icmFuY2hlcy8yLjIueDwvYT48L2Rpdj48L2Rpdj48ZGl2PjxkaXY+PGEg
aHJlZj0iaHR0cDovL3N2bi5hcGFjaGUub3JnL3JlcG9zL2FzZi9odHRwZC9odHRwZC9icmFuY2hl
cy8yLjQueCIgdGFyZ2V0PSJfYmxhbmsiPmh0dHA6Ly9zdm4uYXBhY2hlLm9yZy9yZXBvcy9hc2Yv
aHR0cGQvaHR0cGQvYnJhbmNoZXMvMi40Lng8L2E+PC9kaXY+PC9kaXY+PGRpdj6aPC9kaXY+PGRp
dj53aGlsZSAyLm5leHQgKDMuMCkgd2l0aCBiaW5hcnktYnJlYWtpbmcgY2hhbmdlcyBsaXZlcyBh
dCB0aGUgcGF0aDs8L2Rpdj48ZGl2PjxhIGhyZWY9Imh0dHA6Ly9zdm4uYXBhY2hlLm9yZy9yZXBv
cy9hc2YvaHR0cGQvaHR0cGQvdHJ1bmsiIHRhcmdldD0iX2JsYW5rIj5odHRwOi8vc3ZuLmFwYWNo
ZS5vcmcvcmVwb3MvYXNmL2h0dHBkL2h0dHBkL3RydW5rPC9hPjwvZGl2PjxkaXY+mjwvZGl2Pjxk
aXY+VGhpcyBsb29rcyBsaWtlIGEgZ3JlYXQgdG9vbCwgbXVjaCBhcHByZWNpYXRlZCA6KTwvZGl2
PjxkaXY+mjwvZGl2PjxkaXY+QmlsbDwvZGl2PjxkaXY+mjwvZGl2PjwvZGl2PjxkaXY+PGRpdj48
ZGl2PjxiciAvPjxkaXY+T24gU3VuLCBGZWIgNywgMjAxNiBhdCAyOjMyIEFNLCBQb25vbWFyZW5r
byBBbmRyZXkgPHNwYW4+Jmx0OzxhIGhyZWY9Im1haWx0bzphbmRyZXdwb25vbWFyZW5rb0B5YW5k
ZXgucnUiIHRhcmdldD0iX2JsYW5rIj5hbmRyZXdwb25vbWFyZW5rb0B5YW5kZXgucnU8L2E+Jmd0
Ozwvc3Bhbj4gd3JvdGU6PGJyIC8+PGJsb2NrcXVvdGUgc3R5bGU9Im1hcmdpbjowcHggMHB4IDBw
eCAwLjhleDtib3JkZXItbGVmdC13aWR0aDoxcHg7Ym9yZGVyLWxlZnQtY29sb3I6I2NjY2NjYzti
b3JkZXItbGVmdC1zdHlsZTpzb2xpZDtwYWRkaW5nLWxlZnQ6MWV4OyI+SGVsbG8sPGJyIC8+IDxi
ciAvPiBJJ3ZlIHN0YXJ0ZWQgdG8gbWFpbnRhaW4gYmluYXJ5IGNvbXBhdGliaWxpdHkgcmVwb3J0
IGZvciB0aGUgcmVjZW50IHZlcnNpb25zIG9mIHRoZSBodHRwZDogPGEgaHJlZj0iaHR0cDovL2Fi
aS1sYWJvcmF0b3J5LnByby90cmFja2VyL3RpbWVsaW5lL2h0dHBkLyIgdGFyZ2V0PSJfYmxhbmsi
Pmh0dHA6Ly9hYmktbGFib3JhdG9yeS5wcm8vdHJhY2tlci90aW1lbGluZS9odHRwZC88L2E+PGJy
IC8+IDxiciAvPiBUaGUgcmVwb3J0IGlzIHVwZGF0ZWQgZXZlcnkgb3RoZXIgZGF5LiBUaGUgcmVw
b3J0IGZvciB0aGUgbGF0ZXN0IHZlcnNpb24gZnJvbSBnaXQgaXMgYWxzbyB0aGVyZS4gSG9wZSB0
aGlzIGhlbHBzIExpbnV4IG1haW50YWluZXJzIHRvIGJlIGF3YXJlIG9mIEFCSSBjaGFuZ2VzIGFu
ZCBhZGRlZC9yZW1vdmVkIHN5bWJvbHMuPGJyIC8+IDxiciAvPiBUaGFuayB5b3UuPC9ibG9ja3F1
b3RlPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvYmxvY2txdW90ZT48L2Rpdj48ZGl2Ppo8L2Rp
dj5QZXJoYXBzIHRoZXJlIGNvdWxkIGJlIGEgd2F5IHRvIGNvbmZpZ3VyZSBhIG1lc3NhZ2UgcmVs
YXRlZCB0byB0aGUgaW50ZW5kZWQgYnJlYWthZ2UgYmV0d2VlbiAyLjIubGFzdCBhbmQgMi40LmZp
cnN0LCBzaW5jZSB0aGF0IGlzIGludGVyZXN0aW5nIGZyb20gYW4gQVBJIG1pZ3JhdGlvbiBzdGFu
ZHBvaW50LiCaKExpbmsgdG8gPGEgaHJlZj0iaHR0cHM6Ly9odHRwZC5hcGFjaGUub3JnL2RvY3Mv
Mi40L2RldmVsb3Blci9uZXdfYXBpXzJfNC5odG1sIj5odHRwczovL2h0dHBkLmFwYWNoZS5vcmcv
ZG9jcy8yLjQvZGV2ZWxvcGVyL25ld19hcGlfMl80Lmh0bWw8L2E+KTxiciAvPjxkaXY+PGEgaHJl
Zj0iaHR0cDovL2VtcHR5aGFtbW9jay5jb20vIiB0YXJnZXQ9Il9ibGFuayI+PC9hPjxkaXY+mjwv
ZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvYmxvY2txdW90ZT48ZGl2Ppo8L2Rpdj48ZGl2PkludGVy
ZXN0aW5nIGlkZWEhPC9kaXY+PGRpdj6aPC9kaXY+PGRpdj5JJ2xsIGltcGxlbWVudCBpdCB0b28u
PC9kaXY+PGRpdj6aPC9kaXY+PGRpdj5UaGFuayB5b3UuPC9kaXY+

From dev-return-85512-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 14:36:28 2016
Return-Path: <dev-return-85512-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 26AB718DC7
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 14:36:28 +0000 (UTC)
Received: (qmail 69890 invoked by uid 500); 9 Feb 2016 14:36:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 69824 invoked by uid 500); 9 Feb 2016 14:36:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69814 invoked by uid 99); 9 Feb 2016 14:36:27 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 14:36:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 235141804E3
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 14:36:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.98
X-Spam-Level:
X-Spam-Status: No, score=-1.98 tagged_above=-999 required=6.31
	tests=[KAM_INFOUSMEBIZ=0.75, RCVD_IN_DNSWL_MED=-2.3,
	RP_MATCHES_RCVD=-0.429, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id gXHnmzvqhF56 for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 14:36:23 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id DE64E20CB7
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 14:36:22 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.10.45])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u19EaK0r006085
	for <dev@httpd.apache.org>; Tue, 9 Feb 2016 15:36:21 +0100 (CET)
Subject: Re: Support for OpenSSL 1.1.0
To: dev@httpd.apache.org
References: <56B9BD54.3020105@kippdata.de>
 <56B9DCD8.40709@opensslfoundation.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56B9F95D.5050802@kippdata.de>
Date: Tue, 9 Feb 2016 15:36:13 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B9DCD8.40709@opensslfoundation.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi Steve,

thanks a lot for your review and comments. More inline.

Am 09.02.2016 um 13:34 schrieb Dr Stephen Henson:
> On 09/02/2016 10:20, Rainer Jung wrote:
>>
>> 3) ssl_engine_ocsp.c
>>
>> In modssl_verify_ocsp() the following code accesses the struct member "valid",
>> for which currently no accessor function exists in 1.1.0:
>>
>> 268     else if (cert->valid && X509_check_issued(cert,cert) == X509_V_OK) {
>> 269         /* don't do OCSP checking for valid self-issued certs */
>> 270         ap_log_cerror(APLOG_MARK, APLOG_TRACE2, 0, c,
>> 271                       "Skipping OCSP check for valid self-issued cert");
>> 272         X509_STORE_CTX_set_error(ctx, X509_V_OK);
>> 273         return 1;
>> 274     }
>>
>>
>
> It's not clear what that code is supposed to do. The check isn't for
> "self-issued" because that would just require comparing the subject and issuer
> names it is actually checking for a self signed certificate.

> Is it supposed to be skipping OCSP checking for a trusted root?

The svn log message says "Don't do OCSP checks for valid self-issued 
certs". The change was discussed here

http://marc.info/?t=129214629500002&r=1&w=2

with some older discussion here

http://marc.info/?t=119636863800005&r=1&w=2

As far as I get it, it is meant as an optimization to skip OCSP in cases 
where it isn't needed or useful. But I'm far from being an expert here. 
Kaspar, who introduced it originally formulated "prevents mod_ssl from 
doing unnecessary OCSP checks (valid self-issued certs, i.e. trust 
anchors configured through SSLCACertificate{File,Path})".

I'll CC Kaspar directly.

>> 4) ssl_util_stapling.c
>>
>> In ssl_stapling_init_cert() there's a compiler warning:
>>    "passing argument 1 of 'sk_value' from incompatible pointer type
>>     expected 'const struct _STACK *' but argument is of type
>>     'struct stack_st_OPENSSL_STRING *'":
>>
>> 179        cinf->uri = apr_pstrdup(p, sk_OPENSSL_STRING_value(aia, 0));
>>
>
> In ssl_private.h the checks like this:
>
> #ifndef sk_OPENSSL_STRING_value
> #define sk_OPENSSL_STRING_value sk_value
> #endif
>
> no longer work because stacks are now inline functions. If you put that block
> round an appropriate #ifdef it should be fine.
>
> I had a quick look at the changes and did notice that some of the direct
> structure access (extensions, X509_NAME) is unnecessary in existing versions of
> OpenSSL. So in some cases you don't need to only use them for 1.1: they'll work
> in all versions of OpenSSL but it's only in 1.1 they are enforced.

I'll get this tested/included. I kept the direct structure accesses for 
pre-1.1.0 just for the moment to stay on the safe side. Once this works 
reasonably well, I'll clean up the code to reduce the version dependent 
ifdefs.

Getting closer :)

Regards,

Rainer

From dev-return-85513-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 14:42:57 2016
Return-Path: <dev-return-85513-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B247418E52
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 14:42:57 +0000 (UTC)
Received: (qmail 97233 invoked by uid 500); 9 Feb 2016 14:42:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97160 invoked by uid 500); 9 Feb 2016 14:42:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97149 invoked by uid 99); 9 Feb 2016 14:42:51 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 14:42:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 78B93C00ED
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 14:42:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id vexfGotT4yj2 for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 14:42:48 +0000 (UTC)
Received: from mail-qk0-f175.google.com (mail-qk0-f175.google.com [209.85.220.175])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 17B6043A18
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 14:42:48 +0000 (UTC)
Received: by mail-qk0-f175.google.com with SMTP id s5so70873651qkd.0
        for <dev@httpd.apache.org>; Tue, 09 Feb 2016 06:42:48 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=F2O9OFBJXvvc+stIVN4hwh6LtUxThop7rZjkwA3/nZg=;
        b=dpbK2BekhSWWFcYatoeAl325MrgDiVGAOzZuscLEHzI0Y7xU2VuyYQIwS0/j9ieG5f
         fiEDFIlwj8FA0Qtrhl/+/LKKONqwsRp2YW8DboSm136rKg47KhTHW5b3HZQqUByo3zRg
         dPbiFMQZoMFakru1oGIsAkytG8ZIYhet29qrsD8mjPnNzFvQ+xaVG0cJRoeA6/1hAygD
         liku865YBGjbCfYDFyQWe4otXbhp4rHP+PV3wjJPJL/XroPfwNvHH16kBOdsVOzFycYR
         MU/sQYCUiAinry71It38VMcTer1RCtiQP3rtXRmEamh3QfB0Pza4Y6xR0v1JDhAG9N0H
         CsRA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=F2O9OFBJXvvc+stIVN4hwh6LtUxThop7rZjkwA3/nZg=;
        b=TT6OKpLjMCKzus3k6prllAZp8DXQhFKveeRP8w5nocvq5a7pwFWXcV9M4kYbNTqRsn
         EwA9TSh97SF4MvqP/pwvoSF3UKsC4dRpoINwm9gxtaryyL1eeAwgRxUvIEtsxTV7AhhB
         ZcjG4eF5dKO76Oa+1N3eHIgHoXTVg5biRuLPs7efTKqlzrz0oZLKnscXuxL0icBBG1D0
         iha15DSvXMGOKvm2Sl0aF6Aop6Z1IRZpkPguqH41o94riUBKXxJSRQCk/3bLFwaenT12
         qWdR1Qg7TZowwIxT8AqlLJsgTMe/imv++UYiH/RaMF2jVs7tL8Vsyvtr0iWP1UYljRKF
         1irg==
X-Gm-Message-State: AG10YORwH35jrcbuQLOi0rhvsOzbVVLo4CXka2Lq3oR+Ba1nAJJaNQTROcbEkvRuRKsYTT/LcFgFdotGwI9xuA==
MIME-Version: 1.0
X-Received: by 10.55.75.203 with SMTP id y194mr42216116qka.2.1455028961940;
 Tue, 09 Feb 2016 06:42:41 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Tue, 9 Feb 2016 06:42:41 -0800 (PST)
In-Reply-To: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de>
References: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de>
Date: Tue, 9 Feb 2016 15:42:41 +0100
Message-ID: <CAKQ1sVPcnQN3BpNkVF4FDQ160TBuY=7sS58MPB-vP=dS5Tr6Qg@mail.gmail.com>
Subject: Re: mod_proxy_http2
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Mon, Feb 8, 2016 at 6:07 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
>
> One thing: the ssl_hostname that is used for SNI by the generic proxy uti=
ls seems to get lost when the socket needs to reset and is then not availab=
le on the next connect. That should affect mod_proxy_http as far as I can t=
ell. Maybe someone with more experience in that module wants to take a look=
.

This is intended (for http/1 at least), why is it an issue?
When mod_proxy closes the backend connection, it indeed clears any
associated SNI.
But it sets the SNI for any new connection, based on the Host
requested on that connection.
Keep in mind that with "ProxyPreserveHost on" the requested Host may
be the one given by the client, which may hence differ for each
request (mod_proxy won't reuse a connection with a different SNI than
the Host it requests).

From dev-return-85514-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 14:51:24 2016
Return-Path: <dev-return-85514-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D538018ED0
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 14:51:24 +0000 (UTC)
Received: (qmail 29333 invoked by uid 500); 9 Feb 2016 14:51:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29270 invoked by uid 500); 9 Feb 2016 14:51:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29260 invoked by uid 99); 9 Feb 2016 14:51:24 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 14:51:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E3EFEC091B
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 14:51:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id reQ_B8Ak2jBE for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 14:51:21 +0000 (UTC)
Received: from mail-qk0-f176.google.com (mail-qk0-f176.google.com [209.85.220.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 9420C31AE1
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 14:51:20 +0000 (UTC)
Received: by mail-qk0-f176.google.com with SMTP id x1so70950708qkc.1
        for <dev@httpd.apache.org>; Tue, 09 Feb 2016 06:51:20 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=DI62B1neYCTuH5nA7Af2bsu+/CrzN9vm/QxJVUxz1Mo=;
        b=v0f7djsDQsUC9oJfCrTZf+0rded3OAiCqpg3Grqvle2r/2bQxLv7qtNDMet/zHrr4D
         srCgBtrNZqAwuAEvikHeD9+Sor7GVD3umKl8V6kIexJ5eDqzwAuwIHqdmbCzglZjfFmg
         MnCcJJ3MdDB/useS5bo7IZ3ZprtWQRYVdVblvGyCp2FSmg8cVQ1JDYUGlSOfNyJQu1E+
         9vSNDEpzXmy5d/2ZrezXEdbOL7AgA8C5lWBWlblkoEqdha2BR+KjAxmYER9EzWGwE56f
         LDOSd9qnsJ/KSFVL+nR0nmRfN0WG2gKVvVvniSb9qLYjGOKA+dKioNbE4tpJ+cZJ+Jrk
         2oMw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=DI62B1neYCTuH5nA7Af2bsu+/CrzN9vm/QxJVUxz1Mo=;
        b=VGGA7NHHL1d+D/bDEpDecRvcTmazJt3VuEy6ubDj23NARn6NrgZvrOPxAdv3NMbypK
         PPwf+tqw8FRlpWS/59rHYIXVgaO4Lhy+HQ2/2rFx7a0aJtJy0cIWLvTg0I+diznt7R6J
         eP13dTiXYWW4IH6ZaIx3Dlw5+1pKmmTbxYENle6HV5SRXYSeUEiHwpHcp+mGK0QkvodE
         Eegn61vFq1UXjUFIftm4C6O5IF0bCHqwO5+fdY73NttBKzoN8lX7vTAwHEf154rEEHaK
         aFjxt2tQmDXoXsJymk65u8jdDu5S+j18xZd7r1LwtAsQvS7MdOm8QbXA/ZLGg4nsPmpB
         r5bQ==
X-Gm-Message-State: AG10YOSrVKPLOouVhjRjivs0V/0h67CxLnMmC2vD19mj4ysifrH8wHba71WZ/Tj0jUmjEAyQsj1avRcg+LWZ/g==
MIME-Version: 1.0
X-Received: by 10.55.75.203 with SMTP id y194mr42273983qka.2.1455029479657;
 Tue, 09 Feb 2016 06:51:19 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Tue, 9 Feb 2016 06:51:19 -0800 (PST)
In-Reply-To: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de>
References: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de>
Date: Tue, 9 Feb 2016 15:51:19 +0100
Message-ID: <CAKQ1sVMTiWaqxsr0gQhmWmufJQ9Wd3sCgeFtzMw+xdhp3A0KAA@mail.gmail.com>
Subject: Re: mod_proxy_http2
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, Feb 8, 2016 at 6:07 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> FYI: I just checked in a very experimental mod_proxy_http2 that registers on h2:// and h2c:// proxy URLs. I did this naming to have the module totally separate from mod_proxy_http, not wanting to make a mess.

Does mod_proxy_http2 (like mod_http2) still generates an HTTP/1
request run through the "usual" hooks?
Can a module/hook/filter (eg. rewrite, headers, security, ...) still
see/modify/refuse the inner HTTP/1?

From dev-return-85515-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 15:09:37 2016
Return-Path: <dev-return-85515-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7F5CA18FA2
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 15:09:37 +0000 (UTC)
Received: (qmail 740 invoked by uid 500); 9 Feb 2016 15:09:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 658 invoked by uid 500); 9 Feb 2016 15:09:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 648 invoked by uid 99); 9 Feb 2016 15:09:27 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 15:09:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 43DE21804E3
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 15:09:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.05
X-Spam-Level: **
X-Spam-Status: No, score=2.05 tagged_above=-999 required=6.31
	tests=[HK_NAME_DR=1, KAM_INFOUSMEBIZ=0.75, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_DNSWL_LOW=-0.7] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id xOYwmX5AXuUg for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 15:09:25 +0000 (UTC)
Received: from claranet-outbound-smtp07.uk.clara.net (claranet-outbound-smtp07.uk.clara.net [195.8.89.40])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 07C4731AE4
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 15:09:24 +0000 (UTC)
Received: from drh-consultancy.demon.co.uk ([80.177.30.10]:54778 helo=[192.168.7.9])
	by relay07.mail.eu.clara.net (relay.clara.net [81.171.239.37]:10465)
	with esmtpa (authdaemon_plain:drh) id 1aT9um-0003aM-OU  for dev@httpd.apache.org
	(return-path <shenson@opensslfoundation.com>); Tue, 09 Feb 2016 15:09:17 +0000
Subject: Re: Support for OpenSSL 1.1.0
To: dev@httpd.apache.org
References: <56B9BD54.3020105@kippdata.de>
 <56B9DCD8.40709@opensslfoundation.com> <56B9F95D.5050802@kippdata.de>
From: Dr Stephen Henson <shenson@opensslfoundation.com>
Organization: The OpenSSL Foundation
Message-ID: <56BA011A.9060704@opensslfoundation.com>
Date: Tue, 9 Feb 2016 15:09:14 +0000
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B9F95D.5050802@kippdata.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

On 09/02/2016 14:36, Rainer Jung wrote:
> Hi Steve,
> 
> thanks a lot for your review and comments. More inline.
> 
> Am 09.02.2016 um 13:34 schrieb Dr Stephen Henson:
>> On 09/02/2016 10:20, Rainer Jung wrote:
>>>
>>> 3) ssl_engine_ocsp.c
>>>
>>> In modssl_verify_ocsp() the following code accesses the struct member "valid",
>>> for which currently no accessor function exists in 1.1.0:
>>>
>>> 268     else if (cert->valid && X509_check_issued(cert,cert) == X509_V_OK) {
>>> 269         /* don't do OCSP checking for valid self-issued certs */
>>> 270         ap_log_cerror(APLOG_MARK, APLOG_TRACE2, 0, c,
>>> 271                       "Skipping OCSP check for valid self-issued cert");
>>> 272         X509_STORE_CTX_set_error(ctx, X509_V_OK);
>>> 273         return 1;
>>> 274     }
>>>
>>>
>>
>> It's not clear what that code is supposed to do. The check isn't for
>> "self-issued" because that would just require comparing the subject and issuer
>> names it is actually checking for a self signed certificate.
> 
>> Is it supposed to be skipping OCSP checking for a trusted root?
> 
> The svn log message says "Don't do OCSP checks for valid self-issued certs". The
> change was discussed here
> 
> http://marc.info/?t=129214629500002&r=1&w=2
> 
> with some older discussion here
> 
> http://marc.info/?t=119636863800005&r=1&w=2
> 
> As far as I get it, it is meant as an optimization to skip OCSP in cases where
> it isn't needed or useful. But I'm far from being an expert here. Kaspar, who
> introduced it originally formulated "prevents mod_ssl from doing unnecessary
> OCSP checks (valid self-issued certs, i.e. trust anchors configured through
> SSLCACertificate{File,Path})".
> 
> I'll CC Kaspar directly.
> 

OK it looks like at that point the certificate has been verified anyway so you
don't gain anything by checking cert->valid.

Steve.
-- 
Dr Stephen Henson. OpenSSL Software Foundation, Inc.
1829 Mount Ephraim Road
Adamstown, MD 21710
+1 877-673-6775
shenson@opensslfoundation.com

From dev-return-85516-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 15:59:02 2016
Return-Path: <dev-return-85516-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1FCED18279
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 15:59:02 +0000 (UTC)
Received: (qmail 50075 invoked by uid 500); 9 Feb 2016 15:58:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50015 invoked by uid 500); 9 Feb 2016 15:58:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50005 invoked by uid 99); 9 Feb 2016 15:58:51 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 15:58:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 644D7C0877
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 15:58:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.021
X-Spam-Level:
X-Spam-Status: No, score=-0.021 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id vWnabotjrgFR for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 15:58:48 +0000 (UTC)
Received: from mail-qk0-f177.google.com (mail-qk0-f177.google.com [209.85.220.177])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id EF73B20CB7
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 15:58:47 +0000 (UTC)
Received: by mail-qk0-f177.google.com with SMTP id o6so71931262qkc.2
        for <dev@httpd.apache.org>; Tue, 09 Feb 2016 07:58:47 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=R6ybfJZ66cfLYPaZpxLc0KLVTmdcwPdybVcTAzUJk28=;
        b=e7scYHQaeaQ4w6TozRlJIz/8rJgnmgxdNBcTpBGP37O1ck+4HIzvfHnbJRfyhmVQg8
         /G/aQd1Wr/SMhydp53dKZbcaeq9MFjbdLvFGnQD2+UiccgtSCyGwhFGRCLndS5LkAlIN
         FLhQBi1bxaq4b7sWgaHlrFyhPddclGyw6yv1QqQrQRJOPXrxuGc22pholcQVDgmhOSwd
         TZ/igb0GHew9QkzVv+/CnoKPNkFfSChXcb0Dy22+P1EDEFgKDmTNnQxjQwYSxzukojHM
         2ptWNl2zWRaiZJNqU/Btq6Fm2vvCEqMp4PXujy9BIjkF1mxvHlPUUrKQX+Bh7y9f4g0Y
         eIPw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=R6ybfJZ66cfLYPaZpxLc0KLVTmdcwPdybVcTAzUJk28=;
        b=Ub1lHqzB7gIrQcUneMTabhiBz2IbtOXDDiLHnPkdSPCE9Jw8frDUkfSoz6Q7WEYOBV
         csGUVvFsJVshKTEYJ+OYlREulKCszcL5XSE0nFreuoztq3YAz3npubyb41ltRI9m8DnJ
         y2zzNUE0ufW21Y8vC/5arS4GVXJ9KkjFWByNEmHRlQRk3YC5oGikEgWMYGV0tTRR5edy
         SMPV2+Um5YtAN5SKDdBoUQxoaFSVQij/X5FZZKuJt+oSdD2Kxr4d4pcsSc7TkvZDIBYd
         T15nNIF+qzziP0bhb44hQu2LDx23CFmQgqNQDRQTgTJcNi/3ERMkTT75/LjC24RQhDsu
         4VDA==
X-Gm-Message-State: AG10YORnJC8Hj+TnK2Si0z+nKliSOfeE0dk9lWUYmtPW7XP0qGBLk0AkTQSzix+fRb5roFZtv/4Vz7nhDxDrHw==
MIME-Version: 1.0
X-Received: by 10.55.71.195 with SMTP id u186mr41967442qka.38.1455033521402;
 Tue, 09 Feb 2016 07:58:41 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Tue, 9 Feb 2016 07:58:41 -0800 (PST)
Date: Tue, 9 Feb 2016 16:58:41 +0100
Message-ID: <CAKQ1sVNoTkf8=x8qLwYjJ0TZUAoktxEu=f296V2yOmkkti90WA@mail.gmail.com>
Subject: Negative mod_proxy ping_timeout..
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: multipart/mixed; boundary=001a114a8bf82e35e0052b58644f

--001a114a8bf82e35e0052b58644f
Content-Type: text/plain; charset=UTF-8

.. is meant to do a simple TCP readability check on the connection,
using ap_proxy_is_socket_connected().
This is trunk only AFAICT.

However all our proxy modules handle this just after calling
ap_proxy_connect_backend() which already calls
ap_proxy_is_socket_connected() for the same purpose.

Couldn't we simply remove this ping_timeout < 0 code (eg. attached patch)?

Regards,
Yann.

--001a114a8bf82e35e0052b58644f
Content-Type: text/x-diff; charset=US-ASCII; 
	name="mod_proxy-remove_negative_ping_timeout.patch"
Content-Disposition: attachment; 
	filename="mod_proxy-remove_negative_ping_timeout.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ikfl91dh0

SW5kZXg6IG1vZHVsZXMvcHJveHkvbW9kX3Byb3h5LmMKPT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9w
cm94eS9tb2RfcHJveHkuYwkocmV2aXNpb24gMTcyOTM4OCkKKysrIG1vZHVsZXMvcHJveHkvbW9k
X3Byb3h5LmMJKHdvcmtpbmcgY29weSkKQEAgLTI4MCw3ICsyODAsNyBAQCBzdGF0aWMgY29uc3Qg
Y2hhciAqc2V0X3dvcmtlcl9wYXJhbShhcHJfcG9vbF90ICpwLAogICAgICAgICAgKi8KICAgICAg
ICAgaWYgKGFwX3RpbWVvdXRfcGFyYW1ldGVyX3BhcnNlKHZhbCwgJnRpbWVvdXQsICJzIikgIT0g
QVBSX1NVQ0NFU1MpCiAgICAgICAgICAgICByZXR1cm4gIlBpbmcvUG9uZyB0aW1lb3V0IGhhcyB3
cm9uZyBmb3JtYXQiOwotICAgICAgICBpZiAodGltZW91dCA8IDEwMDAgJiYgdGltZW91dCA+PSAw
KQorICAgICAgICBpZiAodGltZW91dCA8IDEwMDApCiAgICAgICAgICAgICByZXR1cm4gIlBpbmcv
UG9uZyB0aW1lb3V0IG11c3QgYmUgYXQgbGVhc3Qgb25lIG1pbGxpc2Vjb25kIjsKICAgICAgICAg
d29ya2VyLT5zLT5waW5nX3RpbWVvdXQgPSB0aW1lb3V0OwogICAgICAgICB3b3JrZXItPnMtPnBp
bmdfdGltZW91dF9zZXQgPSAxOwpJbmRleDogbW9kdWxlcy9wcm94eS9tb2RfcHJveHkuaAo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09Ci0tLSBtb2R1bGVzL3Byb3h5L21vZF9wcm94eS5oCShyZXZpc2lvbiAxNzI5Mzg4KQor
KysgbW9kdWxlcy9wcm94eS9tb2RfcHJveHkuaAkod29ya2luZyBjb3B5KQpAQCAtMzY1LDcgKzM2
NSw2IEBAIGRvIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKIAogI2RlZmluZSBQUk9Y
WV9ET18xMDBfQ09OVElOVUUodywgcikgXAogKCh3KS0+cy0+cGluZ190aW1lb3V0X3NldCBcCi0g
JiYgKCh3KS0+cy0+cGluZ190aW1lb3V0ID49IDApIFwKICAmJiAoUFJPWFlSRVFfUkVWRVJTRSA9
PSAociktPnByb3h5cmVxKSBcCiAgJiYgIShhcHJfdGFibGVfZ2V0KChyKS0+c3VicHJvY2Vzc19l
bnYsICJmb3JjZS1wcm94eS1yZXF1ZXN0LTEuMCIpKSBcCiAgJiYgYXBfcmVxdWVzdF9oYXNfYm9k
eSgocikpKQpJbmRleDogbW9kdWxlcy9wcm94eS9tb2RfcHJveHlfYWpwLmMKPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQot
LS0gbW9kdWxlcy9wcm94eS9tb2RfcHJveHlfYWpwLmMJKHJldmlzaW9uIDE3MjkzODgpCisrKyBt
b2R1bGVzL3Byb3h5L21vZF9wcm94eV9hanAuYwkod29ya2luZyBjb3B5KQpAQCAtMzQyLDggKzM0
Miw3IEBAIHN0YXRpYyBpbnQgYXBfcHJveHlfYWpwX3JlcXVlc3QoYXByX3Bvb2xfdCAqcCwgcmVx
CiAgICAgICAgICAqIGJ1dCBkb2Vzbid0IGFmZmVjdCB0aGUgd2hvbGUgd29ya2VyLgogICAgICAg
ICAgKi8KICAgICAgICAgaWYgKEFQUl9TVEFUVVNfSVNfVElNRVVQKHN0YXR1cykgJiYKLSAgICAg
ICAgICAgIGNvbm4tPndvcmtlci0+cy0+cGluZ190aW1lb3V0X3NldCAmJgotICAgICAgICAgICAg
Y29ubi0+d29ya2VyLT5zLT5waW5nX3RpbWVvdXQgPj0gMCkgeworICAgICAgICAgICAgICAgIGNv
bm4tPndvcmtlci0+cy0+cGluZ190aW1lb3V0X3NldCkgewogICAgICAgICAgICAgcmV0dXJuIEhU
VFBfR0FURVdBWV9USU1FX09VVDsKICAgICAgICAgfQogCkBAIC02ODAsOCArNjc5LDcgQEAgc3Rh
dGljIGludCBhcF9wcm94eV9hanBfcmVxdWVzdChhcHJfcG9vbF90ICpwLCByZXEKICAgICAgICAg
ICAgICAqIGJ1dCBkb2Vzbid0IGFmZmVjdCB0aGUgd2hvbGUgd29ya2VyLgogICAgICAgICAgICAg
ICovCiAgICAgICAgICAgICBpZiAoQVBSX1NUQVRVU19JU19USU1FVVAoc3RhdHVzKSAmJgotICAg
ICAgICAgICAgICAgIGNvbm4tPndvcmtlci0+cy0+cGluZ190aW1lb3V0X3NldCAmJgotICAgICAg
ICAgICAgICAgIGNvbm4tPndvcmtlci0+cy0+cGluZ190aW1lb3V0ID49IDApIHsKKyAgICAgICAg
ICAgICAgICAgICAgY29ubi0+d29ya2VyLT5zLT5waW5nX3RpbWVvdXRfc2V0KSB7CiAgICAgICAg
ICAgICAgICAgYXByX3RhYmxlX3NldG4oci0+bm90ZXMsICJwcm94eV90aW1lZG91dCIsICIxIik7
CiAgICAgICAgICAgICAgICAgcnYgPSBIVFRQX0dBVEVXQVlfVElNRV9PVVQ7CiAgICAgICAgICAg
ICB9CkBAIC03OTEsMzYgKzc4OSwyMyBAQCBzdGF0aWMgaW50IHByb3h5X2FqcF9oYW5kbGVyKHJl
cXVlc3RfcmVjICpyLCBwcm94eQogCiAgICAgICAgIC8qIEhhbmRsZSBDUElORy9DUE9ORyAqLwog
ICAgICAgICBpZiAod29ya2VyLT5zLT5waW5nX3RpbWVvdXRfc2V0KSB7Ci0gICAgICAgICAgICBp
ZiAod29ya2VyLT5zLT5waW5nX3RpbWVvdXQgPCAwKSB7Ci0gICAgICAgICAgICAgICAgaWYgKCFh
cF9wcm94eV9pc19zb2NrZXRfY29ubmVjdGVkKGJhY2tlbmQtPnNvY2spKSB7Ci0gICAgICAgICAg
ICAgICAgICAgIGJhY2tlbmQtPmNsb3NlID0gMTsKLSAgICAgICAgICAgICAgICAgICAgYXBfbG9n
X3JlcnJvcihBUExPR19NQVJLLCBBUExPR19FUlIsIHN0YXR1cywgciwgQVBMT0dOTygwMjUzNCkK
LSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic29ja2V0IGNoZWNrIGZhaWxlZCB0
byAlcEkgKCVzKSIsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya2VyLT5j
cC0+YWRkciwgd29ya2VyLT5zLT5ob3N0bmFtZSk7Ci0gICAgICAgICAgICAgICAgICAgIHN0YXR1
cyA9IEhUVFBfU0VSVklDRV9VTkFWQUlMQUJMRTsKLSAgICAgICAgICAgICAgICAgICAgcmV0cnkr
KzsKLSAgICAgICAgICAgICAgICAgICAgY29udGludWU7Ci0gICAgICAgICAgICAgICAgfQorICAg
ICAgICAgICAgc3RhdHVzID0gYWpwX2hhbmRsZV9jcGluZ19jcG9uZyhiYWNrZW5kLT5zb2NrLCBy
LAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JrZXItPnMt
PnBpbmdfdGltZW91dCk7CisgICAgICAgICAgICAvKgorICAgICAgICAgICAgICogSW4gY2FzZSB0
aGUgQ1BJTkcgLyBDUE9ORyBmYWlsZWQgZm9yIHRoZSBmaXJzdCB0aW1lIHdlIG1pZ2h0IGJlCisg
ICAgICAgICAgICAgKiBqdXN0IG91dCBvZiBsdWNrIGFuZCBnb3QgYSBmYXVsdHkgYmFja2VuZCBj
b25uZWN0aW9uLCBidXQgdGhlCisgICAgICAgICAgICAgKiBiYWNrZW5kIG1pZ2h0IGJlIGhlYWx0
aHkgbmV2ZXJ0aGVsZXNzLiBTbyBlbnN1cmUgdGhhdCB0aGUgYmFja2VuZAorICAgICAgICAgICAg
ICogVENQIGNvbm5lY3Rpb24gZ2V0cyBjbG9zZWQgYW5kIHRyeSBpdCBvbmNlIGFnYWluLgorICAg
ICAgICAgICAgICovCisgICAgICAgICAgICBpZiAoc3RhdHVzICE9IEFQUl9TVUNDRVNTKSB7Cisg
ICAgICAgICAgICAgICAgYmFja2VuZC0+Y2xvc2UgPSAxOworICAgICAgICAgICAgICAgIGFwX2xv
Z19yZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfRVJSLCBzdGF0dXMsIHIsIEFQTE9HTk8oMDA4OTcp
CisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY3BpbmcvY3BvbmcgZmFpbGVkIHRvICVw
SSAoJXMpIiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlci0+Y3AtPmFkZHIs
IHdvcmtlci0+cy0+aG9zdG5hbWUpOworICAgICAgICAgICAgICAgIHN0YXR1cyA9IEhUVFBfU0VS
VklDRV9VTkFWQUlMQUJMRTsKKyAgICAgICAgICAgICAgICByZXRyeSsrOworICAgICAgICAgICAg
ICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgfQotICAgICAgICAgICAgZWxzZSB7Ci0gICAgICAg
ICAgICAgICAgc3RhdHVzID0gYWpwX2hhbmRsZV9jcGluZ19jcG9uZyhiYWNrZW5kLT5zb2NrLCBy
LAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya2Vy
LT5zLT5waW5nX3RpbWVvdXQpOwotICAgICAgICAgICAgICAgIC8qCi0gICAgICAgICAgICAgICAg
ICogSW4gY2FzZSB0aGUgQ1BJTkcgLyBDUE9ORyBmYWlsZWQgZm9yIHRoZSBmaXJzdCB0aW1lIHdl
IG1pZ2h0IGJlCi0gICAgICAgICAgICAgICAgICoganVzdCBvdXQgb2YgbHVjayBhbmQgZ290IGEg
ZmF1bHR5IGJhY2tlbmQgY29ubmVjdGlvbiwgYnV0IHRoZQotICAgICAgICAgICAgICAgICAqIGJh
Y2tlbmQgbWlnaHQgYmUgaGVhbHRoeSBuZXZlcnRoZWxlc3MuIFNvIGVuc3VyZSB0aGF0IHRoZSBi
YWNrZW5kCi0gICAgICAgICAgICAgICAgICogVENQIGNvbm5lY3Rpb24gZ2V0cyBjbG9zZWQgYW5k
IHRyeSBpdCBvbmNlIGFnYWluLgotICAgICAgICAgICAgICAgICAqLwotICAgICAgICAgICAgICAg
IGlmIChzdGF0dXMgIT0gQVBSX1NVQ0NFU1MpIHsKLSAgICAgICAgICAgICAgICAgICAgYmFja2Vu
ZC0+Y2xvc2UgPSAxOwotICAgICAgICAgICAgICAgICAgICBhcF9sb2dfcmVycm9yKEFQTE9HX01B
UkssIEFQTE9HX0VSUiwgc3RhdHVzLCByLCBBUExPR05PKDAwODk3KQotICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICJjcGluZy9jcG9uZyBmYWlsZWQgdG8gJXBJICglcykiLAotICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlci0+Y3AtPmFkZHIsIHdvcmtlci0+
cy0+aG9zdG5hbWUpOwotICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSBIVFRQX1NFUlZJQ0Vf
VU5BVkFJTEFCTEU7Ci0gICAgICAgICAgICAgICAgICAgIHJldHJ5Kys7Ci0gICAgICAgICAgICAg
ICAgICAgIGNvbnRpbnVlOwotICAgICAgICAgICAgICAgIH0KLSAgICAgICAgICAgIH0KICAgICAg
ICAgfQogICAgICAgICAvKiBTdGVwIFRocmVlOiBQcm9jZXNzIHRoZSBSZXF1ZXN0ICovCiAgICAg
ICAgIHN0YXR1cyA9IGFwX3Byb3h5X2FqcF9yZXF1ZXN0KHAsIHIsIGJhY2tlbmQsIG9yaWdpbiwg
ZGNvbmYsIHVyaSwgbG9jdXJsLApJbmRleDogbW9kdWxlcy9wcm94eS9tb2RfcHJveHlfaGNoZWNr
LmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9wcm94eS9tb2RfcHJveHlfaGNoZWNrLmMJKHJldmlz
aW9uIDE3MjkzODgpCisrKyBtb2R1bGVzL3Byb3h5L21vZF9wcm94eV9oY2hlY2suYwkod29ya2lu
ZyBjb3B5KQpAQCAtNTUzLDkgKzU1Myw2IEBAIHN0YXRpYyBhcHJfc3RhdHVzX3QgaGNfY2hlY2tf
dGNwKHNjdHhfdCAqY3R4LCBhcHJfCiAgICAgaWYgKHN0YXR1cyA9PSBPSykgewogICAgICAgICBi
YWNrZW5kLT5hZGRyID0gaGMtPmNwLT5hZGRyOwogICAgICAgICBzdGF0dXMgPSBhcF9wcm94eV9j
b25uZWN0X2JhY2tlbmQoIkhDVENQIiwgYmFja2VuZCwgaGMsIGN0eC0+cyk7Ci0gICAgICAgIGlm
IChzdGF0dXMgPT0gT0spIHsKLSAgICAgICAgICAgIHN0YXR1cyA9IChhcF9wcm94eV9pc19zb2Nr
ZXRfY29ubmVjdGVkKGJhY2tlbmQtPnNvY2spID8gT0sgOiAhT0spOwotICAgICAgICB9CiAgICAg
fQogICAgIHJldHVybiBiYWNrZW5kX2NsZWFudXAoIkhDVENQIiwgYmFja2VuZCwgY3R4LT5zLCBz
dGF0dXMpOwogfQpJbmRleDogbW9kdWxlcy9wcm94eS9tb2RfcHJveHlfaHR0cC5jCj09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT0KLS0tIG1vZHVsZXMvcHJveHkvbW9kX3Byb3h5X2h0dHAuYwkocmV2aXNpb24gMTcyOTM4OCkK
KysrIG1vZHVsZXMvcHJveHkvbW9kX3Byb3h5X2h0dHAuYwkod29ya2luZyBjb3B5KQpAQCAtMjA5
NywyMSArMjA5Miw2IEBAIHN0YXRpYyBpbnQgcHJveHlfaHR0cF9oYW5kbGVyKHJlcXVlc3RfcmVj
ICpyLCBwcm94CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInByb3h5LXJlcXVlc3Qt
aG9zdG5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tlbmQtPnNzbF9o
b3N0bmFtZSk7CiAgICAgICAgICAgICB9Ci0KLSAgICAgICAgICAgIC8qIFN0ZXAgVGhyZWUtYW5k
LWEtSGFsZjogU2VlIGlmIHRoZSBzb2NrZXQgaXMgc3RpbGwgY29ubmVjdGVkIChpZgotICAgICAg
ICAgICAgICogZGVzaXJlZCkuIE5vdGU6IFNpbmNlIGFwX3Byb3h5X2Nvbm5lY3RfYmFja2VuZCBq
dXN0IGFib3ZlIGRvZXMKLSAgICAgICAgICAgICAqIHRoZSBzYW1lIGNoZWNrICh1bmNvbmRpdGlv
bmFsbHkpLCB0aGlzIHN0ZXAgaXMgbm90IHJlcXVpcmVkIHdoZW4KLSAgICAgICAgICAgICAqIGJh
Y2tlbmQncyBzb2NrZXQvY29ubmVjdGlvbiBpcyByZXVzZWQgKGllLiBubyBTdGVwIFRocmVlKS4K
LSAgICAgICAgICAgICAqLwotICAgICAgICAgICAgaWYgKHdvcmtlci0+cy0+cGluZ190aW1lb3V0
X3NldCAmJiB3b3JrZXItPnMtPnBpbmdfdGltZW91dCA8IDAgJiYKLSAgICAgICAgICAgICAgICAg
ICAgIWFwX3Byb3h5X2lzX3NvY2tldF9jb25uZWN0ZWQoYmFja2VuZC0+c29jaykpIHsKLSAgICAg
ICAgICAgICAgICBiYWNrZW5kLT5jbG9zZSA9IDE7Ci0gICAgICAgICAgICAgICAgYXBfbG9nX3Jl
cnJvcihBUExPR19NQVJLLCBBUExPR19JTkZPLCBzdGF0dXMsIHIsIEFQTE9HTk8oMDI1MzUpCi0g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic29ja2V0IGNoZWNrIGZhaWxlZCB0byAlcEkg
KCVzKSIsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JrZXItPmNwLT5hZGRyLCB3
b3JrZXItPnMtPmhvc3RuYW1lKTsKLSAgICAgICAgICAgICAgICByZXRyeSsrOwotICAgICAgICAg
ICAgICAgIGNvbnRpbnVlOwotICAgICAgICAgICAgfQogICAgICAgICB9CiAKICAgICAgICAgLyog
RG9uJ3QgcmVjeWNsZSB0aGUgY29ubmVjdGlvbiBpZiBwcmVmZXRjaCAoYWJvdmUpIHRvbGQgbm90
IHRvIGRvIHNvICovCkBAIC0yMTMwLDggKzIxMTAsNyBAQCBzdGF0aWMgaW50IHByb3h5X2h0dHBf
aGFuZGxlcihyZXF1ZXN0X3JlYyAqciwgcHJveAogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBmbHVzaGFsbCkpICE9IE9LKSB7CiAgICAgICAgICAgICBwcm94eV9y
dW5fZGV0YWNoX2JhY2tlbmQociwgYmFja2VuZCk7CiAgICAgICAgICAgICBpZiAoKHN0YXR1cyA9
PSBIVFRQX1NFUlZJQ0VfVU5BVkFJTEFCTEUpICYmCi0gICAgICAgICAgICAgICAgIHdvcmtlci0+
cy0+cGluZ190aW1lb3V0X3NldCAmJgotICAgICAgICAgICAgICAgICB3b3JrZXItPnMtPnBpbmdf
dGltZW91dCA+PSAwKSB7CisgICAgICAgICAgICAgICAgICAgIHdvcmtlci0+cy0+cGluZ190aW1l
b3V0X3NldCkgewogICAgICAgICAgICAgICAgIGJhY2tlbmQtPmNsb3NlID0gMTsKICAgICAgICAg
ICAgICAgICBhcF9sb2dfcmVycm9yKEFQTE9HX01BUkssIEFQTE9HX0lORk8sIHN0YXR1cywgciwg
QVBMT0dOTygwMTExNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJIVFRQOiAxMDAt
Q29udGludWUgZmFpbGVkIHRvICVwSSAoJXMpIiwK
--001a114a8bf82e35e0052b58644f--

From dev-return-85517-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 16:02:32 2016
Return-Path: <dev-return-85517-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EEC5F182BE
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 16:02:31 +0000 (UTC)
Received: (qmail 75819 invoked by uid 500); 9 Feb 2016 16:02:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75750 invoked by uid 500); 9 Feb 2016 16:02:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75739 invoked by uid 99); 9 Feb 2016 16:02:31 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 16:02:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 4E6771801DD
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 16:02:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.73
X-Spam-Level:
X-Spam-Status: No, score=-2.73 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.429,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id i37YBpMORo8d for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 16:02:29 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id C237520CDE
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 16:02:28 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.10.45])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u19G2Qrx007533
	for <dev@httpd.apache.org>; Tue, 9 Feb 2016 17:02:26 +0100 (CET)
Subject: Re: balancer-manager docs
To: dev@httpd.apache.org
References: <35BFE5B2-2E21-4E04-85F0-846C2E28A04F@jaguNET.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56BA0D8A.6080906@kippdata.de>
Date: Tue, 9 Feb 2016 17:02:18 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <35BFE5B2-2E21-4E04-85F0-846C2E28A04F@jaguNET.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 09.02.2016 um 13:25 schrieb Jim Jagielski:
> We currently have really really little info about the balancer-
> manager in our docs, just a short little blurb on how to enable
> it and a brief description of what it does [1]. I'd like to extend
> that, but does it make sense to add it to the mod_proxy_balancer
> module page, or have a separate page dedicated to it which we can
> link to?
>
>
> 1. https://httpd.apache.org/docs/trunk/mod/mod_proxy_balancer.html

Adding even more questions:

I always think it is confusing for newbies, that all configuration 
directives for any mod_proxy_* are documented on the mod_proxy page. 
Although this reflects the code, config is done by mod_proxy, it is not 
what a user would expect. If e.g. He is working with a balancer, he 
would expect more info about how to configure a balancer in the 
mod_proxy_balancer page.

So I wonder whether proxy is an example, where the config reference 
should move to the docs page, for the module that is actually being 
configured, not the module that handles the configuration. I guess 
that's not possible without some redundancy and it's not an easy call to 
decide, what should go to the central mod_proxy page, and what to 
individual mod_proxy_xyz pages.

There are other cases as well (ajp, fcgi, ...).

Regards,

Rainer


From dev-return-85518-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 16:43:11 2016
Return-Path: <dev-return-85518-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5BED11848E
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 16:43:11 +0000 (UTC)
Received: (qmail 75641 invoked by uid 500); 9 Feb 2016 16:43:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75579 invoked by uid 500); 9 Feb 2016 16:43:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75569 invoked by uid 99); 9 Feb 2016 16:43:10 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 16:43:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 61A3F1A01C6
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 16:43:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id pbCf6OiTDUrG for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 16:43:08 +0000 (UTC)
Received: from resqmta-po-10v.sys.comcast.net (resqmta-po-10v.sys.comcast.net [96.114.154.169])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2A13E43A18
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 16:43:08 +0000 (UTC)
Received: from resomta-po-12v.sys.comcast.net ([96.114.154.236])
	by resqmta-po-10v.sys.comcast.net with comcast
	id GGge1s00456HXL001Gj1gD; Tue, 09 Feb 2016 16:43:01 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-12v.sys.comcast.net with comcast
	id GGiz1s00R2U0RYt01Gj0Zl; Tue, 09 Feb 2016 16:43:01 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Negative mod_proxy ping_timeout..
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVNoTkf8=x8qLwYjJ0TZUAoktxEu=f296V2yOmkkti90WA@mail.gmail.com>
Date: Tue, 9 Feb 2016 11:42:59 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <0D1CD8D6-D7E9-4F5F-92AB-AE87DBF3C130@jaguNET.com>
References: <CAKQ1sVNoTkf8=x8qLwYjJ0TZUAoktxEu=f296V2yOmkkti90WA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455036181;
	bh=Qw2uXvh9s/L+zfvPtVMRh32TPLBgkvmG6vDtpw/qeDM=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Gr3p8rL7zsFKXO3cDVoyLZvN1CH8GrnS8K9ND9ij/Ni8OZ2EDO5dM5N2wv5v2TMu/
	 MzLURmsjJfAW0L4gxmo18VZb/dAHp89xUMfeLHtLroCOO9h7dkqQw1xSosUG37a8HV
	 zCPAQlFepPyObkgeS7MX3e24r4qkH4Bowr/MnBzkYsNvU09BWvgtUJmV0xEx3FUCbx
	 fR9kVY3zc44mdHtx0sbYIm81a5yuAErUNzN7ZFPdkKQtfymKbB2B5HX6IPQRMP1fid
	 p0N8imKwBUNoVgr0TpFDjx/PkGfES6zOIYUbJ5Ix0VgEXZNxyPyKPvBIF3DOutnQZz
	 mbvRAJwkmMMDQ==

Why the change to modules/proxy/mod_proxy_hcheck.c?

> On Feb 9, 2016, at 10:58 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> 
> <mod_proxy-remove_negative_ping_timeout.patch>


From dev-return-85519-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 16:49:41 2016
Return-Path: <dev-return-85519-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0D9FA184DA
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 16:49:41 +0000 (UTC)
Received: (qmail 95813 invoked by uid 500); 9 Feb 2016 16:49:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95731 invoked by uid 500); 9 Feb 2016 16:49:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95721 invoked by uid 99); 9 Feb 2016 16:49:40 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 16:49:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 24E97C0A84
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 16:49:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id qkDFUywdRI9t for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 16:49:39 +0000 (UTC)
Received: from mail-qk0-f175.google.com (mail-qk0-f175.google.com [209.85.220.175])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 5D2E343A18
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 16:49:39 +0000 (UTC)
Received: by mail-qk0-f175.google.com with SMTP id s68so72198370qkh.3
        for <dev@httpd.apache.org>; Tue, 09 Feb 2016 08:49:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=lt98EhwcImzYPQf3/rgXXeOY8MtThgLTvHlORRNmowM=;
        b=vZk7zAc/5G781hyyZwGfdzqRA9/1ZSoUnaAkGM6HVhf0Q2+Vumy0492PvAaZjZDGvf
         qBkb333km50ttCuBqHIskoS1Mg1kv2u8qYdHMZ2+Y2spdj5c5qYva4t3RsZTnHkn7UBm
         w+XMihBwsYofPiLKr2Ly+ugkPbv0ZbF7cjIuhsmXDnTF1hoizbLPuGOREipjXpXHTxr+
         r/EMs5K+cmeLRNKpGUJKVwia8TAufAIC9TgjPHxBmQAffL/PLqaFJn//umQqoUfue/io
         ju9W8/EU35R7k/BEXJu8pYTO3cgseEnN/QCnAtywGDe7Nogs7hEr4UycMzvqAJPlcaqG
         pZ6A==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=lt98EhwcImzYPQf3/rgXXeOY8MtThgLTvHlORRNmowM=;
        b=j9NkWLeRRkBf8m4ajG3tVFuWjc0B0U2XuHI5QbHZp8tSq0vJjfVguFjnyNoC/X/qDd
         427HNSgG7AtHiMge+7Uuh+MYj9CJznp4y6Z15aoEOCxlnFkNMQ+XTVM7Mang8SkmOFuB
         sqhY09mqrJWDoXqd4bXzUHev/PiYK6LX5esYTAGU2nxSrlKuljJ7/nGD3hNezePrPDZd
         vgD9oMO2Nc3jrlCzm+U+dZclIlQ0iN8nW65rR636OpN2sp9Kbc2hSCwmJqjc8JMVQyNE
         v/jt2IlE4Col0EVZjgIGYk1YRsyoRja9+bbHP/QL0Hnlx4uZbW1NgaobWjmEz712FlA/
         uhVg==
X-Gm-Message-State: AG10YOTaB+GeQ4tPgvoP84Fatlkt8t1WFu+UDK5z1C8Hx3A2X2eKoSPBUZWaJJ8VSIOTSoWNw9FhHZi3r4tY2A==
MIME-Version: 1.0
X-Received: by 10.55.75.203 with SMTP id y194mr43101305qka.2.1455036578948;
 Tue, 09 Feb 2016 08:49:38 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Tue, 9 Feb 2016 08:49:38 -0800 (PST)
In-Reply-To: <0D1CD8D6-D7E9-4F5F-92AB-AE87DBF3C130@jaguNET.com>
References: <CAKQ1sVNoTkf8=x8qLwYjJ0TZUAoktxEu=f296V2yOmkkti90WA@mail.gmail.com>
	<0D1CD8D6-D7E9-4F5F-92AB-AE87DBF3C130@jaguNET.com>
Date: Tue, 9 Feb 2016 17:49:38 +0100
Message-ID: <CAKQ1sVPN9LAk1OD_UmEG1EobwN-ua-r==iLoQ2WcQN5jj0csPA@mail.gmail.com>
Subject: Re: Negative mod_proxy ping_timeout..
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Feb 9, 2016 at 5:42 PM, Jim Jagielski <jim@jagunet.com> wrote:
> Why the change to modules/proxy/mod_proxy_hcheck.c?

The call to ap_proxy_connect_backend() just above already calls
ap_proxy_is_socket_connected() for any reused connection, so why check
it twice?

If the connection is not reused but a new one created instead, the
check is also pointless IMHO.

From dev-return-85520-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 17:21:21 2016
Return-Path: <dev-return-85520-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 904EE18715
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 17:21:21 +0000 (UTC)
Received: (qmail 80887 invoked by uid 500); 9 Feb 2016 17:21:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 80813 invoked by uid 500); 9 Feb 2016 17:21:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80803 invoked by uid 99); 9 Feb 2016 17:21:20 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 17:21:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 52F3BC0D23
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 17:21:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.53
X-Spam-Level:
X-Spam-Status: No, score=-0.53 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.429, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=CJ/ONi/2;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=ELcyAT3N
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id lzrpfYzgPQEV for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 17:21:17 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id E049420CB7
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 17:21:16 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 0243515A0898; Tue,  9 Feb 2016 18:21:10 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455038470; bh=gljoyQbo8d86h38hmDUCujXfmI2dX+mjBEK5Otkjy08=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=CJ/ONi/2R3CwbYwk/LpOK2SIv0480TRzdmGNHySDNutIhaObTyb+ytEnJZe0fuy/i
	 bEJld8qpxBxn4teuc838CX9lUvAdQ8BEJVgYNgP48L2K92U0gMLEMdWfzZabXFhZfa
	 RB18mVyFSj9hMRqyCj5wyYgRBo2P01bs5C5ZSe+8=
Received: from [192.168.178.41] (unknown [93.211.105.82])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 7E5A015A04A8
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 18:21:09 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455038469; bh=gljoyQbo8d86h38hmDUCujXfmI2dX+mjBEK5Otkjy08=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=ELcyAT3No0Vu041sQDeLHMp/fpzdHB+aPzS9QxUZF2yML3NsJDAbVNsN8vfntyzWU
	 w//3AVhQeI1GA2dLzFzWZ+obAGDrwxOhkG8IlbZE9AICtGgopBQDMVWtLB6yx5r8DM
	 n4M4num00fstDKrKjzgc0zsglwQpLkfwFCl48CvE=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_proxy_http2
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVPcnQN3BpNkVF4FDQ160TBuY=7sS58MPB-vP=dS5Tr6Qg@mail.gmail.com>
Date: Tue, 9 Feb 2016 18:21:08 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <5904AE25-F5C5-442F-89DB-2E6945C079CD@greenbytes.de>
References: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de> <CAKQ1sVPcnQN3BpNkVF4FDQ160TBuY=7sS58MPB-vP=dS5Tr6Qg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

I had the effect that when a socket was determined to be dead, the SNI =
was cleared and a new connection was made without any SNI. So, I save =
the first ssl_hostname I see and set that on every new connection.

> Am 09.02.2016 um 15:42 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Mon, Feb 8, 2016 at 6:07 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>>=20
>> One thing: the ssl_hostname that is used for SNI by the generic proxy =
utils seems to get lost when the socket needs to reset and is then not =
available on the next connect. That should affect mod_proxy_http as far =
as I can tell. Maybe someone with more experience in that module wants =
to take a look.
>=20
> This is intended (for http/1 at least), why is it an issue?
> When mod_proxy closes the backend connection, it indeed clears any
> associated SNI.
> But it sets the SNI for any new connection, based on the Host
> requested on that connection.
> Keep in mind that with "ProxyPreserveHost on" the requested Host may
> be the one given by the client, which may hence differ for each
> request (mod_proxy won't reuse a connection with a different SNI than
> the Host it requests).


From dev-return-85521-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 17:23:28 2016
Return-Path: <dev-return-85521-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EFE811872C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 17:23:28 +0000 (UTC)
Received: (qmail 86886 invoked by uid 500); 9 Feb 2016 17:23:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86811 invoked by uid 500); 9 Feb 2016 17:23:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86799 invoked by uid 99); 9 Feb 2016 17:23:28 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 17:23:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 16794C0830
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 17:23:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=LE/dNsX/;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=LE/dNsX/
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 9mK-7q43XhJX for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 17:23:27 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 256E92054C
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 17:23:26 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 5885515A08C0; Tue,  9 Feb 2016 18:23:18 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455038598; bh=8nGIc3P90MhZe6x51hu3wz7U+68PmIbpKwaJsqDBQPY=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=LE/dNsX/F7gBQaMDqHTQApEXhV5a/GItNySzTQXFFNzicMOlz1Tuo5pFicKeQcJst
	 oCxeerFKgqJNlQ7QgdNJe4p714XyZ7XwOXAFE2TC1ylcW4qZPOzVYsb/EbTM24+pX0
	 eBMRJX3ufP+IDESJHYyZ5lFvSwRT/FD6OhdnlsJw=
Received: from [192.168.178.41] (unknown [93.211.105.82])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id ED64215A04A8
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 18:23:17 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455038598; bh=8nGIc3P90MhZe6x51hu3wz7U+68PmIbpKwaJsqDBQPY=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=LE/dNsX/F7gBQaMDqHTQApEXhV5a/GItNySzTQXFFNzicMOlz1Tuo5pFicKeQcJst
	 oCxeerFKgqJNlQ7QgdNJe4p714XyZ7XwOXAFE2TC1ylcW4qZPOzVYsb/EbTM24+pX0
	 eBMRJX3ufP+IDESJHYyZ5lFvSwRT/FD6OhdnlsJw=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_proxy_http2
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVMTiWaqxsr0gQhmWmufJQ9Wd3sCgeFtzMw+xdhp3A0KAA@mail.gmail.com>
Date: Tue, 9 Feb 2016 18:23:17 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <FE7DE52C-F4F6-4369-97D4-312E8127DE7A@greenbytes.de>
References: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de> <CAKQ1sVMTiWaqxsr0gQhmWmufJQ9Wd3sCgeFtzMw+xdhp3A0KAA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

For the request itself, yes. mod_proxy_http2 follows the same pattern as =
mod_proxy_http. It does not setup a faked request_rec that =
mod_proxy_http does since I did not need it and did not see the point. =
Might have missed something.

> Am 09.02.2016 um 15:51 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Mon, Feb 8, 2016 at 6:07 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> FYI: I just checked in a very experimental mod_proxy_http2 that =
registers on h2:// and h2c:// proxy URLs. I did this naming to have the =
module totally separate from mod_proxy_http, not wanting to make a mess.
>=20
> Does mod_proxy_http2 (like mod_http2) still generates an HTTP/1
> request run through the "usual" hooks?
> Can a module/hook/filter (eg. rewrite, headers, security, ...) still
> see/modify/refuse the inner HTTP/1?


From dev-return-85522-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 17:38:20 2016
Return-Path: <dev-return-85522-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2A5E9188AC
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 17:38:20 +0000 (UTC)
Received: (qmail 38272 invoked by uid 500); 9 Feb 2016 17:37:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38198 invoked by uid 500); 9 Feb 2016 17:37:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38188 invoked by uid 99); 9 Feb 2016 17:37:16 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 17:37:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id EEAD01A00F0
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 17:37:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id lj6h-mwoHtXa for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 17:37:15 +0000 (UTC)
Received: from resqmta-po-03v.sys.comcast.net (resqmta-po-03v.sys.comcast.net [96.114.154.162])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id D448A20532
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 17:37:14 +0000 (UTC)
Received: from resomta-po-01v.sys.comcast.net ([96.114.154.225])
	by resqmta-po-03v.sys.comcast.net with comcast
	id GHaW1s0084s37d401Hd8ZK; Tue, 09 Feb 2016 17:37:08 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-01v.sys.comcast.net with comcast
	id GHd71s00b2U0RYt01Hd8Ae; Tue, 09 Feb 2016 17:37:08 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Negative mod_proxy ping_timeout..
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVPN9LAk1OD_UmEG1EobwN-ua-r==iLoQ2WcQN5jj0csPA@mail.gmail.com>
Date: Tue, 9 Feb 2016 12:37:07 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <B66BDF7D-B30E-410F-A368-24D238EB38D9@jaguNET.com>
References: <CAKQ1sVNoTkf8=x8qLwYjJ0TZUAoktxEu=f296V2yOmkkti90WA@mail.gmail.com> <0D1CD8D6-D7E9-4F5F-92AB-AE87DBF3C130@jaguNET.com> <CAKQ1sVPN9LAk1OD_UmEG1EobwN-ua-r==iLoQ2WcQN5jj0csPA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455039428;
	bh=x9/fGf39/cvk+SUEHJb+1hfClt4GVa1uO80Jwmd2w9A=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Wp/P6yeuSn4yNn7FsniEMRhj+4sw35imSgdZ4ipvTiOcZEDRnWeAN0uyONGMGUyof
	 6ZJOYT/hddQoU3AP/yImHTex5iBVTZqyIlGYO22FGE4ED+2ij0wckhKo+uakU+l53B
	 ggeUO24GP6x8u3sV4xb9XsIKsEv+lW6fnUa/0r0Zm01JGoq2MLHcLSyiXERIspdbmk
	 Ko/aFPzcCk4xnA1akTrW7OmwIJFG0cAPlBqPrA4Z9ZbHfnr6xtMNdfuG4ORw2GE44H
	 STSGQ6FZA7bLOaUOvvtRW2TXxdhbbOSZuMVLXNWy/67jEX1FXPYdh3WKR2OSbsoPzn
	 JxHKhgDCPBadQ==


> On Feb 9, 2016, at 11:49 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> 
> On Tue, Feb 9, 2016 at 5:42 PM, Jim Jagielski <jim@jagunet.com> wrote:
>> Why the change to modules/proxy/mod_proxy_hcheck.c?
> 
> The call to ap_proxy_connect_backend() just above already calls
> ap_proxy_is_socket_connected() for any reused connection, so why check
> it twice?
> 

I recall a discussion somewhat long ago where we also
do a specific check after paths where we "just checked"
and the reasoning was to avoid race conditions, esp in
situations where we created but then it gets immediately killed.

I am sure there are other places where we do the same,
likely w/ comments. :)

> If the connection is not reused but a new one created instead, the
> check is also pointless IMHO.


From dev-return-85523-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 17:56:01 2016
Return-Path: <dev-return-85523-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 77A9B1898C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 17:56:01 +0000 (UTC)
Received: (qmail 90518 invoked by uid 500); 9 Feb 2016 17:56:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 90455 invoked by uid 500); 9 Feb 2016 17:56:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 90439 invoked by uid 99); 9 Feb 2016 17:56:00 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 17:56:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 73185C0AA4;
	Tue,  9 Feb 2016 17:56:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.033
X-Spam-Level: *
X-Spam-Status: No, score=1.033 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RDNS_DYNAMIC=0.363,
	RP_MATCHES_RCVD=-0.329, SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id s1euUrEIBbTp; Tue,  9 Feb 2016 17:55:59 +0000 (UTC)
Received: from nebula.c8h10n4o2.org.uk (nebula.c8h10n4o2.org.uk [80.68.88.207])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id B8DAF43B2F;
	Tue,  9 Feb 2016 17:55:58 +0000 (UTC)
Received: from consume.c8h10n4o2.org.uk ([2001:8b0:caee:2::2])
	by nebula.c8h10n4o2.org.uk with esmtpsa (TLS1.0:ECDHE_RSA_AES_256_CBC_SHA384:256)
	(Exim 4.84)
	(envelope-from <isoma@c8h10n4o2.org.uk>)
	id 1aTCVy-0001CZ-IK; Tue, 09 Feb 2016 17:55:50 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: balancer-manager docs
From: Tim Bannister <isoma@c8h10n4o2.org.uk>
In-Reply-To: <56BA0D8A.6080906@kippdata.de>
Date: Tue, 9 Feb 2016 17:55:50 +0000
Cc: docs@httpd.apache.org
Content-Transfer-Encoding: quoted-printable
Message-Id: <9D3104FA-8978-4F40-8CEF-6ABA03308BDD@c8h10n4o2.org.uk>
References: <35BFE5B2-2E21-4E04-85F0-846C2E28A04F@jaguNET.com> <56BA0D8A.6080906@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

On 9 Feb 2016, at 16:02, Rainer Jung <rainer.jung@kippdata.de> wrote:
> Am 09.02.2016 um 13:25 schrieb Jim Jagielski:
>> We currently have really really little info about the =
balancer-manager in our docs, just a short little blurb on how to enable =
it and a brief description of what it does [1]. I'd like to extend that, =
but does it make sense to add it to the mod_proxy_balancer module page, =
or have a separate page dedicated to it which we can link to?
>>=20
>> 1. https://httpd.apache.org/docs/trunk/mod/mod_proxy_balancer.html
>=20
> Adding even more questions:
>=20
> I always think it is confusing for newbies, that all configuration =
directives for any mod_proxy_* are documented on the mod_proxy page. =
Although this reflects the code, config is done by mod_proxy, it is not =
what a user would expect. If e.g. He is working with a balancer, he =
would expect more info about how to configure a balancer in the =
mod_proxy_balancer page.

Cc: to docs@

The module pages can document the module; I think that's appropriate for =
reference documentation.

What's missing is more of a =E2=80=9Chow do I set up X=E2=80=9D guide. I =
think the topics could be:

=E2=80=A2 forward proxy (and access control) with or without cacheing
=E2=80=A2 reverse proxy with or without cacheing
=E2=80=A2 balancing and high availability for reverse proxies

I think this is me volunteering to at least draft some text, if people =
agree this approach makes sense.

--=20
Tim Bannister =E2=80=93 isoma@c8h10n4o2.org.uk


From dev-return-85524-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 18:11:49 2016
Return-Path: <dev-return-85524-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 60CEF18A96
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 18:11:49 +0000 (UTC)
Received: (qmail 55351 invoked by uid 500); 9 Feb 2016 18:11:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55287 invoked by uid 500); 9 Feb 2016 18:11:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55277 invoked by uid 99); 9 Feb 2016 18:11:48 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 18:11:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 3403BC0877
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 18:11:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.53
X-Spam-Level:
X-Spam-Status: No, score=-0.53 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.429, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=MSfe7BMy;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=MSfe7BMy
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id yJ8ZFxeZ8KbJ for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 18:11:47 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id F145A42B8C
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 18:11:46 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 1C25115A08C0; Tue,  9 Feb 2016 19:11:39 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455041499; bh=CKuUH901bPGEpX3Fwoc2y4W4PgyXneTF3KGO2xpevAs=;
	h=From:Subject:Date:To:From;
	b=MSfe7BMyUjbS/DKPsk6aQMCTH4KLprB32xG0jqSDHrq4t2Z/N3GcsnzmrQnuTZBV3
	 zKnpfB11h3KX/U5YmFgWuCHhZAch6J4+0m+54dxLvTYedTV2rj1DyFiZQJZXKCjeg8
	 XOeFds7Huo0G3dAgantu513uAg64rSkgrV0Ts/wc=
Received: from [192.168.178.41] (unknown [93.211.105.82])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id E429315A034D
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 19:11:38 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455041499; bh=CKuUH901bPGEpX3Fwoc2y4W4PgyXneTF3KGO2xpevAs=;
	h=From:Subject:Date:To:From;
	b=MSfe7BMyUjbS/DKPsk6aQMCTH4KLprB32xG0jqSDHrq4t2Z/N3GcsnzmrQnuTZBV3
	 zKnpfB11h3KX/U5YmFgWuCHhZAch6J4+0m+54dxLvTYedTV2rj1DyFiZQJZXKCjeg8
	 XOeFds7Huo0G3dAgantu513uAg64rSkgrV0Ts/wc=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: ssl renegotiate
Message-Id: <6899C335-8D8A-4040-88E5-122FBDB7E75A@greenbytes.de>
Date: Tue, 9 Feb 2016 19:11:38 +0100
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)

With the new renegotiate code, I get failures in trunk for my tests that =
expect renegotiation to fail on slave connections. Rainer, not sure how =
this works now. Can you have a look?

-Stefan=

From dev-return-85525-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 18:20:49 2016
Return-Path: <dev-return-85525-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1F3BF18AFA
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 18:20:49 +0000 (UTC)
Received: (qmail 83412 invoked by uid 500); 9 Feb 2016 18:20:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83326 invoked by uid 500); 9 Feb 2016 18:20:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83313 invoked by uid 99); 9 Feb 2016 18:20:48 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 18:20:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 047031804E3
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 18:20:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.53
X-Spam-Level:
X-Spam-Status: No, score=-0.53 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.429, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=iq9Zhr7P;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=iq9Zhr7P
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 4Yhb4_93FcUl for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 18:20:47 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id CF66C31AE2
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 18:20:46 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 3E7D615A08C0; Tue,  9 Feb 2016 19:20:46 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455042046; bh=Miw04XGu48X9yhP10ZZSMjSAxvpRlH+3LndRV0EfoEo=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=iq9Zhr7PTQECtarEqYkSsd8Gvkj9LWJnGdxjpFtP6oXqkrPMn+pzpJ+NQklIrqdgU
	 irzmJ54f6dPY6/muV3YGRTYj0F2xz7guzPBV0tRf80bBbE1vx15fe7umL3qu7N0h2t
	 P7RH+xviTLQ5I9vvwKAXA0vt+7a1P0eTuPzi5eMk=
Received: from [192.168.178.41] (unknown [93.211.105.82])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id EA1E015A034D
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 19:20:45 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455042046; bh=Miw04XGu48X9yhP10ZZSMjSAxvpRlH+3LndRV0EfoEo=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=iq9Zhr7PTQECtarEqYkSsd8Gvkj9LWJnGdxjpFtP6oXqkrPMn+pzpJ+NQklIrqdgU
	 irzmJ54f6dPY6/muV3YGRTYj0F2xz7guzPBV0tRf80bBbE1vx15fe7umL3qu7N0h2t
	 P7RH+xviTLQ5I9vvwKAXA0vt+7a1P0eTuPzi5eMk=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: ssl renegotiate
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <6899C335-8D8A-4040-88E5-122FBDB7E75A@greenbytes.de>
Date: Tue, 9 Feb 2016 19:20:45 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <ACEFA328-E77A-4DF7-AE84-78DA786038D9@greenbytes.de>
References: <6899C335-8D8A-4040-88E5-122FBDB7E75A@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Ah, closer look revealed that the first test was a cipher renegotiation =
using HTTP/1.1. That no longer works, but the slave connection checks =
do. So, false alarm on that front. Will disable the renegotiation tests =
that fail for now until the 1.1.0 openssl work is done...

Sorry for the confusion.

> Am 09.02.2016 um 19:11 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>=20
> With the new renegotiate code, I get failures in trunk for my tests =
that expect renegotiation to fail on slave connections. Rainer, not sure =
how this works now. Can you have a look?
>=20
> -Stefan


From dev-return-85526-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 18:47:50 2016
Return-Path: <dev-return-85526-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2589518C7C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 18:47:50 +0000 (UTC)
Received: (qmail 71800 invoked by uid 500); 9 Feb 2016 18:47:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71728 invoked by uid 500); 9 Feb 2016 18:47:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71718 invoked by uid 99); 9 Feb 2016 18:47:49 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 18:47:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 046EF18034B
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 18:47:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.39
X-Spam-Level: *
X-Spam-Status: No, score=1.39 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, T_DKIM_INVALID=0.01]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new); dkim=neutral
	reason="invalid (public key: missing p= tag)" header.d=ymkatz.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id hBNYB9XZ6dRc for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 18:47:47 +0000 (UTC)
Received: from mail-wm0-f41.google.com (mail-wm0-f41.google.com [74.125.82.41])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id E9B5B20CB7
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 18:47:46 +0000 (UTC)
Received: by mail-wm0-f41.google.com with SMTP id g62so186667722wme.0
        for <dev@httpd.apache.org>; Tue, 09 Feb 2016 10:47:46 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=ymkatz.net; s=g;
        h=mime-version:from:date:message-id:subject:to:content-type;
        bh=2WuwxHpQO9H+3hbQZyYSo7ItfwE6nVTk2O3l3EQ6yVc=;
        b=hmDE77A2/55nqjDj1jhxr7yKzgnNJUwdqqivYZiECF6TAW3of9jH8LAp0Cm1xDf1tY
         eH2moTaoBUuDWYUyUNj7PWpUuDzYwuFQIexvKwY6yQXxUJno7D0ObC18/Apy+gezZDfA
         EHeVGQcAKT7wTq1qB+Y4rXivp7JZ5w5GM5FTM=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to
         :content-type;
        bh=2WuwxHpQO9H+3hbQZyYSo7ItfwE6nVTk2O3l3EQ6yVc=;
        b=mKyiIEHDs7Khz5jqrXdU90i4L0VIaYN1qh1QlS3pJ78ShymcS4syZQiASABbZG9vVr
         Ddhqxl1B2GG9lXmRU/QLyOZC5UANCvcFd9CrhSPJ8AAe/QCiHNHw0LiycWP1yreixlTP
         pE9dyIJSz9+vOBdEY18rXKhJpye7VVAHWYCRhDYpBAT5VGfjF6Dokfi9ZOqBS1bbXp1d
         J828E+Sv1gPRfEYcX4zCMdnEoBXabTa+4QVgJB9/0o3BZU7D026msUR0Jifhq4dfyRKj
         Vec66zwlKsjVj2Tb4d4SIHpefIj6UUSXLFKe/8YvmMDNouYIvAZMF89KkrIpqfWaTBxu
         fw2A==
X-Gm-Message-State: AG10YOQTotXvlPnRaBe5BeSWDlxk6PLNzgUjPmd5jMRi7EHh6xgaVhjE8r6ir1/+KUVlkBZ1
X-Received: by 10.28.212.9 with SMTP id l9mr6836990wmg.75.1455043666574;
        Tue, 09 Feb 2016 10:47:46 -0800 (PST)
Received: from mail-wm0-f42.google.com (mail-wm0-f42.google.com. [74.125.82.42])
        by smtp.gmail.com with ESMTPSA id os7sm36020442wjc.18.2016.02.09.10.47.45
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Tue, 09 Feb 2016 10:47:45 -0800 (PST)
Received: by mail-wm0-f42.google.com with SMTP id p63so35687536wmp.1
        for <dev@httpd.apache.org>; Tue, 09 Feb 2016 10:47:45 -0800 (PST)
X-Received: by 10.28.104.87 with SMTP id d84mr6864429wmc.56.1455043665173;
 Tue, 09 Feb 2016 10:47:45 -0800 (PST)
MIME-Version: 1.0
Received: by 10.28.188.87 with HTTP; Tue, 9 Feb 2016 10:47:25 -0800 (PST)
From: Yehuda Katz <yehuda@ymkatz.net>
Date: Tue, 9 Feb 2016 13:47:25 -0500
X-Gmail-Original-Message-ID: <CAGBAQ47i6=JWk+xw4a=CDSPmx9hBy2dA=PcXnfa-ey8oDxmBsg@mail.gmail.com>
Message-ID: <CAGBAQ47i6=JWk+xw4a=CDSPmx9hBy2dA=PcXnfa-ey8oDxmBsg@mail.gmail.com>
Subject: APLOGNO() in mod_rewrite
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a114b2f32cba9f9052b5ac0ad

--001a114b2f32cba9f9052b5ac0ad
Content-Type: text/plain; charset=UTF-8

I noticed today that errors about invalid flags on rewrite rules do not
have APLOGNO() on them.
cmd_rewriterule calls cmd_rewriterule_setflag and if a string is returned,
prefixes "RewriteRule: " and returns that as an error.

Should these have APLOGNO()? They are errors, but they don't
use ap_log_rerror.
If those have APLOGNO() added, should each possible flag error have a
different one or are all flag errors the same and the code should be added
before the "RewriteRule:" prefix?

- Y

--001a114b2f32cba9f9052b5ac0ad
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">I noticed today that errors about invalid flags on rewrite=
 rules do not have=C2=A0APLOGNO() on them.<div>cmd_rewriterule calls=C2=A0c=
md_rewriterule_setflag and if a string is returned, prefixes=C2=A0&quot;Rew=
riteRule: &quot; and returns that as an error.<br></div><div><br></div><div=
>Should these have APLOGNO()? They are errors, but they don&#39;t use=C2=A0=
ap_log_rerror.</div><div>If those have=C2=A0APLOGNO() added, should each po=
ssible flag error have a different one or are all flag errors the same and =
the code should be added before the &quot;RewriteRule:&quot; prefix?</div><=
div><br></div><div>- Y</div></div>

--001a114b2f32cba9f9052b5ac0ad--

From dev-return-85527-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 18:58:47 2016
Return-Path: <dev-return-85527-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CB38E18CF9
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 18:58:47 +0000 (UTC)
Received: (qmail 13478 invoked by uid 500); 9 Feb 2016 18:58:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13402 invoked by uid 500); 9 Feb 2016 18:58:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13392 invoked by uid 99); 9 Feb 2016 18:58:40 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 18:58:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 75BFA18034B
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 18:58:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.73
X-Spam-Level:
X-Spam-Status: No, score=-2.73 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.429,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id wqVOukBUuB5J for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 18:58:38 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 1C9B031AFA
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 18:58:38 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u19Iwa1e008703
	for <dev@httpd.apache.org>; Tue, 9 Feb 2016 19:58:37 +0100 (CET)
Subject: Re: ssl renegotiate
To: dev@httpd.apache.org
References: <6899C335-8D8A-4040-88E5-122FBDB7E75A@greenbytes.de>
 <ACEFA328-E77A-4DF7-AE84-78DA786038D9@greenbytes.de>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56BA36D5.9060004@kippdata.de>
Date: Tue, 9 Feb 2016 19:58:29 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <ACEFA328-E77A-4DF7-AE84-78DA786038D9@greenbytes.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 09.02.2016 um 19:20 schrieb Stefan Eissing:
> Ah, closer look revealed that the first test was a cipher renegotiation using HTTP/1.1. That no longer works, but the slave connection checks do. So, false alarm on that front. Will disable the renegotiation tests that fail for now until the 1.1.0 openssl work is done...
>
> Sorry for the confusion.
>
>> Am 09.02.2016 um 19:11 schrieb Stefan Eissing <stefan.eissing@greenbytes.de>:
>>
>> With the new renegotiate code, I get failures in trunk for my tests that expect renegotiation to fail on slave connections. Rainer, not sure how this works now. Can you have a look?

No problem, thanks for doing tests as well. Yes, the cipher change reneg 
is still expected to fail (only when using OpenSSL 1.1.0).

Regards,

Rainer

From dev-return-85528-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 19:03:28 2016
Return-Path: <dev-return-85528-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 53E6E18D85
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 19:03:28 +0000 (UTC)
Received: (qmail 36375 invoked by uid 500); 9 Feb 2016 19:03:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36312 invoked by uid 500); 9 Feb 2016 19:03:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36302 invoked by uid 99); 9 Feb 2016 19:03:27 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 19:03:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4D5EAC0836
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 19:03:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=npiyGwzo;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=npiyGwzo
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ds9XrKaMoP2w for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 19:03:26 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 4870320CB7
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 19:03:25 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 8278B15A08C0; Tue,  9 Feb 2016 20:03:24 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455044604; bh=McO5DKtyorGjm8n/JvSf4aJZopzh95gUBWt8FurwIM8=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=npiyGwzo0ZNqODVy7BhLN9kzmsc/plzLrfiLZWW75bPwWpB0e3Kuo7ax7zUVfoggR
	 8JXOFjtnUu74x/M5UjPGpPt6FL+x/TbL65Rjz67MWZ9E2jutu8XIt1pjnlNPJSoaek
	 8qN7g03o83LkfT3J5tQjVPleq/IHqeQ1jadC9SZ8=
Received: from [192.168.178.41] (unknown [93.211.105.82])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 0402A15A00C2
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 20:03:23 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455044604; bh=McO5DKtyorGjm8n/JvSf4aJZopzh95gUBWt8FurwIM8=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=npiyGwzo0ZNqODVy7BhLN9kzmsc/plzLrfiLZWW75bPwWpB0e3Kuo7ax7zUVfoggR
	 8JXOFjtnUu74x/M5UjPGpPt6FL+x/TbL65Rjz67MWZ9E2jutu8XIt1pjnlNPJSoaek
	 8qN7g03o83LkfT3J5tQjVPleq/IHqeQ1jadC9SZ8=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: ssl renegotiate
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56BA36D5.9060004@kippdata.de>
Date: Tue, 9 Feb 2016 20:03:23 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <60EA1C8D-C07C-4C89-8214-281E384D423B@greenbytes.de>
References: <6899C335-8D8A-4040-88E5-122FBDB7E75A@greenbytes.de> <ACEFA328-E77A-4DF7-AE84-78DA786038D9@greenbytes.de> <56BA36D5.9060004@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> Am 09.02.2016 um 19:58 schrieb Rainer Jung <rainer.jung@kippdata.de>:
>=20
> Am 09.02.2016 um 19:20 schrieb Stefan Eissing:
>> Ah, closer look revealed that the first test was a cipher =
renegotiation using HTTP/1.1. That no longer works, but the slave =
connection checks do. So, false alarm on that front. Will disable the =
renegotiation tests that fail for now until the 1.1.0 openssl work is =
done...
>>=20
>> Sorry for the confusion.
>>=20
>>> Am 09.02.2016 um 19:11 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>>>=20
>>> With the new renegotiate code, I get failures in trunk for my tests =
that expect renegotiation to fail on slave connections. Rainer, not sure =
how this works now. Can you have a look?
>=20
> No problem, thanks for doing tests as well. Yes, the cipher change =
reneg is still expected to fail (only when using OpenSSL 1.1.0).

Was using OpenSSL 1.0.2 in my tests...=

From dev-return-85529-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 20:25:35 2016
Return-Path: <dev-return-85529-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DB59B18401
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 20:25:35 +0000 (UTC)
Received: (qmail 73422 invoked by uid 500); 9 Feb 2016 20:25:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 73312 invoked by uid 500); 9 Feb 2016 20:25:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 73296 invoked by uid 99); 9 Feb 2016 20:25:34 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 20:25:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 3E1CAC0B52
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 20:25:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id RShRvi79VYAo for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 20:25:33 +0000 (UTC)
Received: from resqmta-po-11v.sys.comcast.net (resqmta-po-11v.sys.comcast.net [96.114.154.170])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 691E220CB7
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 20:25:32 +0000 (UTC)
Received: from resomta-po-15v.sys.comcast.net ([96.114.154.239])
	by resqmta-po-11v.sys.comcast.net with comcast
	id GLPS1s0035AAYLo01LRQU6; Tue, 09 Feb 2016 20:25:24 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-15v.sys.comcast.net with comcast
	id GLRP1s00B2U0RYt01LRP1Y; Tue, 09 Feb 2016 20:25:24 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: balancer-manager docs
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <9D3104FA-8978-4F40-8CEF-6ABA03308BDD@c8h10n4o2.org.uk>
Date: Tue, 9 Feb 2016 15:25:23 -0500
Cc: docs@httpd.apache.org
Content-Transfer-Encoding: quoted-printable
Message-Id: <7C7CCE57-72B6-4BD5-A32F-64C66B29DFBE@jaguNET.com>
References: <35BFE5B2-2E21-4E04-85F0-846C2E28A04F@jaguNET.com> <56BA0D8A.6080906@kippdata.de> <9D3104FA-8978-4F40-8CEF-6ABA03308BDD@c8h10n4o2.org.uk>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455049524;
	bh=KOl3vNbEC9N1PmubxdZ3bpIcND7DbekNnMyPj3vl3zM=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=gIrg8wwsKJMBFNMZxdGkHh7KBJjvqVP8TqKU8vPElWNtbHdAsUxFn0bdQRSQqtSNf
	 cG6+mPYk0DNb765YhWWXM/E3OdEq1Z/wH63fI6nVQ2fXoQQ+2CNjU8J3l5ruH1WAtE
	 dKBddHM+9vGUbOmOs3FAtLuufFwOTesjo4Ujw9kERZ9VdaMh0/7Sp8nltQbKSFXXp/
	 5gLTdywtHqboe70fs7hhhxodZeXiLecyDY5gOUbCEtU9cXZIMWktzJeo8SDWbYZct8
	 8KCfhM/LJxyb5VWAORnEN3fP4OBKnXLgXPNCW4lMrJyJ1et7EGdh/XoQWsi8mD1mwe
	 vcm2Zszse9rAg==

The more I think of it, a HowTo guide, like the ones we have
for public_html, Authn&Authz, etc regarding reverse proxy
makes the most sense...

> On Feb 9, 2016, at 12:55 PM, Tim Bannister <isoma@c8h10n4o2.org.uk> =
wrote:
>=20
> On 9 Feb 2016, at 16:02, Rainer Jung <rainer.jung@kippdata.de> wrote:
>> Am 09.02.2016 um 13:25 schrieb Jim Jagielski:
>>> We currently have really really little info about the =
balancer-manager in our docs, just a short little blurb on how to enable =
it and a brief description of what it does [1]. I'd like to extend that, =
but does it make sense to add it to the mod_proxy_balancer module page, =
or have a separate page dedicated to it which we can link to?
>>>=20
>>> 1. https://httpd.apache.org/docs/trunk/mod/mod_proxy_balancer.html
>>=20
>> Adding even more questions:
>>=20
>> I always think it is confusing for newbies, that all configuration =
directives for any mod_proxy_* are documented on the mod_proxy page. =
Although this reflects the code, config is done by mod_proxy, it is not =
what a user would expect. If e.g. He is working with a balancer, he =
would expect more info about how to configure a balancer in the =
mod_proxy_balancer page.
>=20
> Cc: to docs@
>=20
> The module pages can document the module; I think that's appropriate =
for reference documentation.
>=20
> What's missing is more of a =E2=80=9Chow do I set up X=E2=80=9D guide. =
I think the topics could be:
>=20
> =E2=80=A2 forward proxy (and access control) with or without cacheing
> =E2=80=A2 reverse proxy with or without cacheing
> =E2=80=A2 balancing and high availability for reverse proxies
>=20
> I think this is me volunteering to at least draft some text, if people =
agree this approach makes sense.
>=20
> --=20
> Tim Bannister =E2=80=93 isoma@c8h10n4o2.org.uk
>=20


From dev-return-85530-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 20:37:07 2016
Return-Path: <dev-return-85530-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1FEDA184D4
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 20:37:07 +0000 (UTC)
Received: (qmail 7010 invoked by uid 500); 9 Feb 2016 20:37:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6939 invoked by uid 500); 9 Feb 2016 20:37:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6919 invoked by uid 99); 9 Feb 2016 20:37:06 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 20:37:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id D85BD1A01D9;
	Tue,  9 Feb 2016 20:37:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 5bB5vV11fQka; Tue,  9 Feb 2016 20:37:04 +0000 (UTC)
Received: from mail-lf0-f51.google.com (mail-lf0-f51.google.com [209.85.215.51])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id BAD0731ADE;
	Tue,  9 Feb 2016 20:37:03 +0000 (UTC)
Received: by mail-lf0-f51.google.com with SMTP id m1so124451029lfg.0;
        Tue, 09 Feb 2016 12:37:03 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=aBhnbelmYGodn6+LNR5SFgw+3gDUkEKS4il9rFiAq1A=;
        b=S8ddCSOBm346/GOHwql15/cs1P/AQwvTjXGIk+4iCydADz1w1LLEMuR0AbktOEXdoO
         BFMMrwTB83HMI//IBTdJ6TpdZcO8i++abp4N8/P2KJeDQHk8a18VIONSuWx9xCqdNtwe
         DXnQ6qS5uqky/cnMQZx+g0FFlfCSWf709aM2NgB5foevbuFFyL0lhKf8Nbg9M+lLyfLx
         WSS8LHUA4Csw5YxRUcpLy+fcPh0YKXM58E6CRINHL14Qr9040ry7YyMoe/xbA0UFYHQP
         7ZgoLASA4IkFbd9D2jHO2SWY9JroZZxqksobL+j8j9PVqGySvFtX/cm7BzArzsdSmxsO
         M7zg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=aBhnbelmYGodn6+LNR5SFgw+3gDUkEKS4il9rFiAq1A=;
        b=cmcOxa6/bdW0MAxcl9o/HCBOghxZpbas5UWroviO51PqNAGQQ5HfQhxOMRGyfzRJyO
         LF8HNjCRrQi6SfQr1FvsVOZKtEtVuc1L+qkIeAJhikkAvV3P+q0FTzMHCSK4XBRQE2ms
         mvn8XEyGX/MX2s1Gj5eLkU5GLqahlAi3AXADfWDEZ+Vp5Sf2kvcku7dTq2Ahk+hnkIci
         lHj9T0UnTpFa5H6I5l1fSvlNd0leXJ9o5AqsA4+kEWKlBA+0o4X7D01H7sMdak++OyK+
         +9+LT6z5xpxP73yrYja7rbKCPBt18OKrXM9kltiCCmCILfQEyqCHEoMkmZj3Dzz7BCUK
         e7rg==
X-Gm-Message-State: AG10YOTNio8TNjqHJBKXrIOTgj0uR+rctvpMY7uXkXCL9A/5h1SuX8g/rkbJWGkr7nLj5av3WqJkk9FmugtPAA==
MIME-Version: 1.0
X-Received: by 10.25.90.3 with SMTP id o3mr2182378lfb.166.1455050217474; Tue,
 09 Feb 2016 12:36:57 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Tue, 9 Feb 2016 12:36:57 -0800 (PST)
In-Reply-To: <7C7CCE57-72B6-4BD5-A32F-64C66B29DFBE@jaguNET.com>
References: <35BFE5B2-2E21-4E04-85F0-846C2E28A04F@jaguNET.com>
	<56BA0D8A.6080906@kippdata.de>
	<9D3104FA-8978-4F40-8CEF-6ABA03308BDD@c8h10n4o2.org.uk>
	<7C7CCE57-72B6-4BD5-A32F-64C66B29DFBE@jaguNET.com>
Date: Tue, 9 Feb 2016 21:36:57 +0100
Message-ID: <CAFedD41vYjXQ4=z3m7UCP3CcQBk17w3w1u3xQTBOSkEsTpZf2w@mail.gmail.com>
Subject: Re: balancer-manager docs
From: Luca Toscano <toscano.luca@gmail.com>
To: docs@httpd.apache.org
Cc: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11418d6457d1d6052b5c4741

--001a11418d6457d1d6052b5c4741
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi Jim,

2016-02-09 21:25 GMT+01:00 Jim Jagielski <jim@jagunet.com>:

> The more I think of it, a HowTo guide, like the ones we have
> for public_html, Authn&Authz, etc regarding reverse proxy
> makes the most sense...
>
> > On Feb 9, 2016, at 12:55 PM, Tim Bannister <isoma@c8h10n4o2.org.uk>
> wrote:
> >
> > On 9 Feb 2016, at 16:02, Rainer Jung <rainer.jung@kippdata.de> wrote:
> > The module pages can document the module; I think that's appropriate fo=
r
> reference documentation.
> >
> > What's missing is more of a =E2=80=9Chow do I set up X=E2=80=9D guide. =
I think the
> topics could be:
> >
> > =E2=80=A2 forward proxy (and access control) with or without cacheing
> > =E2=80=A2 reverse proxy with or without cacheing
> > =E2=80=A2 balancing and high availability for reverse proxies
> >
> > I think this is me volunteering to at least draft some text, if people
> agree this approach makes sense.
>

+1 for the howto guides suggested by Tim and separate pages for each module
for whoever is interested to dive deep into options.

Ideally the howto summary page (https://httpd.apache.org/docs/trunk/howto/)
could be linked to https://httpd.apache.org/download.cgi as "suggested
list" of things to bookmark for whoever is interested in httpd.

Also I volunteer for helping writing/reviewing the new docs if needed :)

Luca

--001a11418d6457d1d6052b5c4741
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi Jim,<div><div class=3D"gmail_extra"><br><div class=3D"g=
mail_quote">2016-02-09 21:25 GMT+01:00 Jim Jagielski <span dir=3D"ltr">&lt;=
<a href=3D"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt=
;</span>:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px =
0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-=
style:solid;padding-left:1ex">The more I think of it, a HowTo guide, like t=
he ones we have<br>
for public_html, Authn&amp;Authz, etc regarding reverse proxy<br>
makes the most sense...<br>
<div><div class=3D"h5"><br>
&gt; On Feb 9, 2016, at 12:55 PM, Tim Bannister &lt;<a href=3D"mailto:isoma=
@c8h10n4o2.org.uk">isoma@c8h10n4o2.org.uk</a>&gt; wrote:<br>
&gt;<br>
&gt; On 9 Feb 2016, at 16:02, Rainer Jung &lt;<a href=3D"mailto:rainer.jung=
@kippdata.de">rainer.jung@kippdata.de</a>&gt; wrote:<br>
&gt; The module pages can document the module; I think that&#39;s appropria=
te for reference documentation.<br>
&gt;<br>
&gt; What&#39;s missing is more of a =E2=80=9Chow do I set up X=E2=80=9D gu=
ide. I think the topics could be:<br>
&gt;<br>
&gt; =E2=80=A2 forward proxy (and access control) with or without cacheing<=
br>
&gt; =E2=80=A2 reverse proxy with or without cacheing<br>
&gt; =E2=80=A2 balancing and high availability for reverse proxies<br>
&gt;<br>
&gt; I think this is me volunteering to at least draft some text, if people=
 agree this approach makes sense.<br></div></div></blockquote><div><br></di=
v>+1 for the howto guides suggested by Tim and separate pages for each modu=
le for whoever is interested to dive deep into options.<div><br></div><div>=
Ideally the howto summary page (<a href=3D"https://httpd.apache.org/docs/tr=
unk/howto/">https://httpd.apache.org/docs/trunk/howto/</a>) could be linked=
 to=C2=A0<a href=3D"https://httpd.apache.org/download.cgi">https://httpd.ap=
ache.org/download.cgi</a> as &quot;suggested list&quot; of things to bookma=
rk for whoever is interested in httpd.</div><div><br></div><div>Also I volu=
nteer for helping writing/reviewing the new docs if needed :)</div><div><br=
></div><div>Luca=C2=A0</div></div><br></div></div><div class=3D"gmail_extra=
"><br></div><div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra"=
><br></div></div>

--001a11418d6457d1d6052b5c4741--

From dev-return-85531-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 20:47:24 2016
Return-Path: <dev-return-85531-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5D54818569
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 20:47:24 +0000 (UTC)
Received: (qmail 35126 invoked by uid 500); 9 Feb 2016 20:47:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35064 invoked by uid 500); 9 Feb 2016 20:47:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35054 invoked by uid 99); 9 Feb 2016 20:47:23 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 20:47:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 836711804A3
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 20:47:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.73
X-Spam-Level:
X-Spam-Status: No, score=-2.73 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.429,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id hMafcjKxGeN5 for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 20:47:21 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 3FBD2429A6
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 20:47:21 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u19KlDiG009353
	for <dev@httpd.apache.org>; Tue, 9 Feb 2016 21:47:14 +0100 (CET)
Subject: Re: ssl renegotiate
To: dev@httpd.apache.org
References: <6899C335-8D8A-4040-88E5-122FBDB7E75A@greenbytes.de>
 <ACEFA328-E77A-4DF7-AE84-78DA786038D9@greenbytes.de>
 <56BA36D5.9060004@kippdata.de>
 <60EA1C8D-C07C-4C89-8214-281E384D423B@greenbytes.de>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56BA504A.4020408@kippdata.de>
Date: Tue, 9 Feb 2016 21:47:06 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <60EA1C8D-C07C-4C89-8214-281E384D423B@greenbytes.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 09.02.2016 um 20:03 schrieb Stefan Eissing:
>
>> Am 09.02.2016 um 19:58 schrieb Rainer Jung <rainer.jung@kippdata.de>:
>>
>> Am 09.02.2016 um 19:20 schrieb Stefan Eissing:
>>> Ah, closer look revealed that the first test was a cipher renegotiation using HTTP/1.1. That no longer works, but the slave connection checks do. So, false alarm on that front. Will disable the renegotiation tests that fail for now until the 1.1.0 openssl work is done...
>>>
>>> Sorry for the confusion.
>>>
>>>> Am 09.02.2016 um 19:11 schrieb Stefan Eissing <stefan.eissing@greenbytes.de>:
>>>>
>>>> With the new renegotiate code, I get failures in trunk for my tests that expect renegotiation to fail on slave connections. Rainer, not sure how this works now. Can you have a look?
>>
>> No problem, thanks for doing tests as well. Yes, the cipher change reneg is still expected to fail (only when using OpenSSL 1.1.0).
>
> Was using OpenSSL 1.0.2 in my tests...

That's strange then, because I didn't (intentionally) change the 
behavior for pre 1.1.0. Instead I tried to keep the code the same in 
that case and postpone any cleanups (let pre-1.1.0 use the same code as 
1.1.0) to the time 1.1.0 runs fine.

So could it be something else? Is it a test case which is part of the 
test suite? If yes, which one? Which version (trunk or 2.4) did you 
test. I would try to reproduce here.

Regards,

Rainer


From dev-return-85532-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 20:54:34 2016
Return-Path: <dev-return-85532-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B2D32185A7
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 20:54:34 +0000 (UTC)
Received: (qmail 50660 invoked by uid 500); 9 Feb 2016 20:54:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50600 invoked by uid 500); 9 Feb 2016 20:54:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50590 invoked by uid 99); 9 Feb 2016 20:54:34 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 20:54:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A3A5AC0B84
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 20:54:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Ap+ugLo1;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=cI2NK1s/
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id e40NVhq2RTiX for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 20:54:32 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 734B231AE1
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 20:54:31 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 91F9715A08C1; Tue,  9 Feb 2016 21:54:30 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455051270; bh=EQ/UoJLd3uHZH+1edC7XTuMpFxC8eAs9+uwgC6mo+tg=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=Ap+ugLo17u7y3Yb0erjsrWZc83nlXoydg8TR2m/lnVMrXawDe6O6HtxrJ4kLI0PBA
	 uAWo+QA01Ag5s1JhdMh3kYV3dAps2f4QqOtKjXrEnvxZrxHlHeR7cmD+g9WNnp6vqM
	 vJhxD75GaJ92JaeARAHaPQUOYjgWxPChIySrtm4k=
Received: from [192.168.178.41] (unknown [93.211.105.82])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 91E8415A035A
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 21:54:29 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455051269; bh=EQ/UoJLd3uHZH+1edC7XTuMpFxC8eAs9+uwgC6mo+tg=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=cI2NK1s/72oBvLEieMj7l/+iIAV+wRDa5VrXzp5LZ+c/nUB9B8bPfq3JfejO6NFMb
	 EQYegSIOyKYjzY5pD0V01pCvbIvCQsX1SoG3CJhWstk43NRk/icmoTAVUz4olt+5Yo
	 CQEuFL8HGfXmFwBT+1QJ4iP6QhxlCYBES0HcOjc4=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: ssl renegotiate
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56BA504A.4020408@kippdata.de>
Date: Tue, 9 Feb 2016 21:54:28 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <23B03D73-A873-4B8B-AE92-C58CEE493229@greenbytes.de>
References: <6899C335-8D8A-4040-88E5-122FBDB7E75A@greenbytes.de> <ACEFA328-E77A-4DF7-AE84-78DA786038D9@greenbytes.de> <56BA36D5.9060004@kippdata.de> <60EA1C8D-C07C-4C89-8214-281E384D423B@greenbytes.de> <56BA504A.4020408@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Testing in trunk, 2.4.x seems to be fine. It's the =
httpd/test/mod_h2/trunk test cases (do not expect you to get that =
running). I will take a closer look tomorrow as there is more fishy than =
just the renegotiation. I see more failures than that. I will try an =
earlier mod_ssl tomorrow and try to narrow it down.

Cheers,

Stefan

> Am 09.02.2016 um 21:47 schrieb Rainer Jung <rainer.jung@kippdata.de>:
>=20
> Am 09.02.2016 um 20:03 schrieb Stefan Eissing:
>>=20
>>> Am 09.02.2016 um 19:58 schrieb Rainer Jung =
<rainer.jung@kippdata.de>:
>>>=20
>>> Am 09.02.2016 um 19:20 schrieb Stefan Eissing:
>>>> Ah, closer look revealed that the first test was a cipher =
renegotiation using HTTP/1.1. That no longer works, but the slave =
connection checks do. So, false alarm on that front. Will disable the =
renegotiation tests that fail for now until the 1.1.0 openssl work is =
done...
>>>>=20
>>>> Sorry for the confusion.
>>>>=20
>>>>> Am 09.02.2016 um 19:11 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>>>>>=20
>>>>> With the new renegotiate code, I get failures in trunk for my =
tests that expect renegotiation to fail on slave connections. Rainer, =
not sure how this works now. Can you have a look?
>>>=20
>>> No problem, thanks for doing tests as well. Yes, the cipher change =
reneg is still expected to fail (only when using OpenSSL 1.1.0).
>>=20
>> Was using OpenSSL 1.0.2 in my tests...
>=20
> That's strange then, because I didn't (intentionally) change the =
behavior for pre 1.1.0. Instead I tried to keep the code the same in =
that case and postpone any cleanups (let pre-1.1.0 use the same code as =
1.1.0) to the time 1.1.0 runs fine.
>=20
> So could it be something else? Is it a test case which is part of the =
test suite? If yes, which one? Which version (trunk or 2.4) did you =
test. I would try to reproduce here.
>=20
> Regards,
>=20
> Rainer
>=20


From dev-return-85533-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 21:42:01 2016
Return-Path: <dev-return-85533-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 23EA618794
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 21:42:01 +0000 (UTC)
Received: (qmail 70158 invoked by uid 500); 9 Feb 2016 21:39:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 69375 invoked by uid 500); 9 Feb 2016 21:39:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68549 invoked by uid 99); 9 Feb 2016 21:38:52 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 21:38:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 33C0CC0809;
	Tue,  9 Feb 2016 21:38:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id DDXgOBmzUY6u; Tue,  9 Feb 2016 21:38:51 +0000 (UTC)
Received: from mail-lf0-f51.google.com (mail-lf0-f51.google.com [209.85.215.51])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id D98CC20532;
	Tue,  9 Feb 2016 21:38:50 +0000 (UTC)
Received: by mail-lf0-f51.google.com with SMTP id m1so280651lfg.0;
        Tue, 09 Feb 2016 13:38:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=+ptS/6/9K9KPnvTIklZQm3NxE4eR40BhYKyC6YJtLlM=;
        b=tyFNgLNdHYOlNPGEpZ3nGd814fUkAY4/5gFnO7Dn1Ds5lIT9F14YutBKkXeQ8+UKeI
         SRXiTAHZY0NLh2CRLYQyMQjGDnhjHVLBhoBFB3LTDMEtP5Pf+at+wNYO3/7yHiVACzds
         PXcyJPNsXCwvMB1mfTXybgacBC2vFQyqIKqDR2ZjQgpGv7ps7OCsR3SVZLigxBCLiPKW
         lsqq9q5Mupw9KM9TeTZ2MwWlxG0OmDfxbaTCtqdB2+2H6WAmIiMcw/AnMbdg1HyzrapP
         zyRelx9Bl48qDmdjzHzYQSJa/f3aJRocTCjNx9msPqqUoZJ3A+VZpxrwRJSm699rBqAM
         eHsw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=+ptS/6/9K9KPnvTIklZQm3NxE4eR40BhYKyC6YJtLlM=;
        b=ZhXZ/+xPwpsgCV2Ly/UORwabDJEqAwdhtddWs+jSUZ2J2BVQJk+MyqXPEdOV26LVG6
         FAxjD/JJQC+B8VKmlbE3wmwZGcRGN2ssDfUNtNgcVyj2yjSnC3ysTUokl/6bPIeudNtl
         xI3V1YcJ3mCQ2ZDoYSi0cJ05zLV8B/ogDZrR8mm1RxucyN9Ol7MOoWECc3pT4D6qBNKv
         KFzHV7qfirbe5+GK/O3lfvlbx+4wfWp+nCb49fy8ijfH18g5N8ggLv4p0H8BatHCi7wR
         9KqgmYw7t8tmd6qb8+076deCoLVvZuh0lROIf88TTPwZcx1g+1iicqhwMG8/SMXpXimQ
         Nd8Q==
X-Gm-Message-State: AG10YOQtoNFiqHOw8rAIrgU6FKUaqi2YXQ44T/KPuHi84kpB5pyjYNxTYejnWqVw14cRlsosok/nzRc0BrGKeQ==
MIME-Version: 1.0
X-Received: by 10.25.79.212 with SMTP id d203mr12523730lfb.115.1455053929343;
 Tue, 09 Feb 2016 13:38:49 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Tue, 9 Feb 2016 13:38:49 -0800 (PST)
In-Reply-To: <CAFedD41kp4C7zexoCLYB17=PB=as6sc0KwcJS-QoxydG_N=R_Q@mail.gmail.com>
References: <CAFedD427nGgudD7gBv+nFce=i59Rwzwem9f9b5+GMBmbZAaamg@mail.gmail.com>
	<CAFedD41kp4C7zexoCLYB17=PB=as6sc0KwcJS-QoxydG_N=R_Q@mail.gmail.com>
Date: Tue, 9 Feb 2016 22:38:49 +0100
Message-ID: <CAFedD42DksC8JMye=pex+F5r4ZZDLrxoNuh_hPFQV6Wp8-yC+w@mail.gmail.com>
Subject: Re: Proposal for a new mod_event documentation page
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org, docs@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a1141f926967343052b5d2430

--001a1141f926967343052b5d2430
Content-Type: text/plain; charset=UTF-8

After some feedbacks I updated the trunk documentation:

https://httpd.apache.org/docs/trunk/mod/event.html

Please let me know if you like the new page and the new information
contained. In case, I'll backport the change to 2.4.x, otherwise I'll
revert.

Thanks!

Luca


2016-02-08 15:32 GMT+01:00 Luca Toscano <toscano.luca@gmail.com>:

> +dev for visibility
> ---------- Messaggio inoltrato ----------
> Da: "Luca Toscano" <toscano.luca@gmail.com>
> Data: 06 feb 2016 15:10
> Oggetto: Proposal for a new mod_event documentation page
> A: <docs@httpd.apache.org>
> Cc:
>
> Hi Apache Devs!
>
> I started an email thread some days ago on the dev mailing list to gather
> information about mod_event, getting tons of interesting things to read. I
> attached to this email a draft of how the new page should look like in my
> opinion, please let me know your thoughts!
>
> Notes about the changes:
>
> - clear statement that event shares all the configuration directives with
> worker, together with the fact that the number of threads is regulated by
> processes multiplied by threads per child.
>
> - explanation of the new async connections fields in mod_status.
>
> - tried to add all the information about keep alives, writing and closing
> connections that I've gathered so far. I added a disclaimer for the writing
> ones and a big section called "limitations", but I have probably failed to
> describe all the closing ones (not only lingering closes I suppose, but I
> wasn't sure).
>
> - clear logic connection between how it works and the
> "AsyncRequestWorkerFactor" directive section (I am referring to the
> sentence "The event MPM handles some connections in an asynchronous way").
>
> Apologies for technical inaccuracies and/or typos!
>
> Luca
>

--001a1141f926967343052b5d2430
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">After some feedbacks I updated the trunk documentation:<di=
v><br></div><div><a href=3D"https://httpd.apache.org/docs/trunk/mod/event.h=
tml">https://httpd.apache.org/docs/trunk/mod/event.html</a><br></div><div><=
br></div><div>Please let me know if you like the new page and the new infor=
mation contained. In case, I&#39;ll backport the change to 2.4.x, otherwise=
 I&#39;ll revert.</div><div><br></div><div>Thanks!</div><div><br></div><div=
>Luca</div><div><br></div></div><div class=3D"gmail_extra"><br><div class=
=3D"gmail_quote">2016-02-08 15:32 GMT+01:00 Luca Toscano <span dir=3D"ltr">=
&lt;<a href=3D"mailto:toscano.luca@gmail.com" target=3D"_blank">toscano.luc=
a@gmail.com</a>&gt;</span>:<br><blockquote class=3D"gmail_quote" style=3D"m=
argin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><p dir=3D"ltr=
">+dev for visibility</p>
<div class=3D"gmail_quote">---------- Messaggio inoltrato ----------<br>Da:=
 &quot;Luca Toscano&quot; &lt;<a href=3D"mailto:toscano.luca@gmail.com" tar=
get=3D"_blank">toscano.luca@gmail.com</a>&gt;<br>Data: 06 feb 2016 15:10<br=
>Oggetto: Proposal for a new mod_event documentation page<br>A:  &lt;<a hre=
f=3D"mailto:docs@httpd.apache.org" target=3D"_blank">docs@httpd.apache.org<=
/a>&gt;<br>Cc: <br><div><div class=3D"h5"><br type=3D"attribution"><div dir=
=3D"ltr">Hi Apache Devs!<div><br></div><div>I started an email thread some =
days ago on the dev mailing list to gather information about mod_event, get=
ting tons of interesting things to read. I attached to this email a draft o=
f how the new page should look like in my opinion, please let me know your =
thoughts!</div><div><br></div><div>Notes about the changes:</div><div><br><=
/div><div><div style=3D"font-size:12.8px">- clear statement that event shar=
es all the configuration directives with worker, together with the fact tha=
t the number of threads is regulated by processes multiplied by threads per=
 child.=C2=A0</div><div style=3D"font-size:12.8px"><br></div><div style=3D"=
font-size:12.8px">- explanation of the new async connections fields in mod_=
status.=C2=A0</div><div style=3D"font-size:12.8px"><br></div><div style=3D"=
font-size:12.8px">- tried to add all the information about keep alives, wri=
ting and closing connections that I&#39;ve gathered so far. I added a discl=
aimer for the writing ones and a big section called &quot;limitations&quot;=
, but I have probably failed to describe all the closing ones (not only lin=
gering closes I suppose, but I wasn&#39;t sure).</div><div style=3D"font-si=
ze:12.8px"><br></div><div style=3D"font-size:12.8px">- clear logic connecti=
on between how it works and the &quot;AsyncRequestWorkerFactor&quot; direct=
ive section (I am referring to the sentence &quot;The event MPM handles som=
e connections in an asynchronous way&quot;).</div></div><div style=3D"font-=
size:12.8px"><br></div><div style=3D"font-size:12.8px">Apologies for techni=
cal inaccuracies and/or typos!</div><div style=3D"font-size:12.8px"><br></d=
iv><div style=3D"font-size:12.8px">Luca</div></div>
</div></div></div>
</blockquote></div><br></div>

--001a1141f926967343052b5d2430--

From dev-return-85534-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb  9 22:27:02 2016
Return-Path: <dev-return-85534-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BD7E1189A6
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Feb 2016 22:27:02 +0000 (UTC)
Received: (qmail 39775 invoked by uid 500); 9 Feb 2016 22:09:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38294 invoked by uid 500); 9 Feb 2016 22:09:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36290 invoked by uid 99); 9 Feb 2016 22:07:15 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Feb 2016 22:07:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id ECD941A01F7
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 22:07:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, SPF_HELO_PASS=-0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id aTYERic655zC for <dev@httpd.apache.org>;
	Tue,  9 Feb 2016 22:07:14 +0000 (UTC)
Received: from ls6.firehawksystems.com (ls6.firehawksystems.com [208.83.223.140])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id EA4532096C
	for <dev@httpd.apache.org>; Tue,  9 Feb 2016 22:07:13 +0000 (UTC)
Received: from unknown-10-73-214-x.yahoo.com (nat-dip32-wl-f.cfw-a-gci.corp.yahoo.com [66.228.162.52])
	(authenticated bits=0)
	by ls6.firehawksystems.com (8.14.5/8.14.5) with ESMTP id u19M76Va028621
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Tue, 9 Feb 2016 17:07:06 -0500
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: "httpd -X" segfaults with 2.4.17
From: "Brian J. France" <brian@brianfrance.com>
In-Reply-To: <CAKQ1sVN-2qE4QDHEAfLzbb2RGNs2jM9kshU9WkPwKVEDizLGuQ@mail.gmail.com>
Date: Tue, 9 Feb 2016 17:07:06 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <190ED3E5-22EC-4B07-8D9F-8A9DA23AD6CC@brianfrance.com>
References: <5620E659.9070309@redhat.com> <CAKQ1sVN-2qE4QDHEAfLzbb2RGNs2jM9kshU9WkPwKVEDizLGuQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

This hasn't made it into the 2.4.x branch yet, what is the status of =
getting this in the .19 release?

http://svn.apache.org/viewvc?view=3Drevision&revision=3D1711479

Thanks,

Brian


> On Oct 16, 2015, at 8:06 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>=20
> Hi Jan,
>=20
> On Fri, Oct 16, 2015 at 1:58 PM, Jan Kalu=C5=BEa <jkaluza@redhat.com> =
wrote:
>> Hi,
>>=20
>> httpd 2.4.17 segfaults when used with prefork MPM (and probably also =
with
>> other MPMs) and -X option since r1705492.
>>=20
>> The crash happens in the following call in prefork.c (and probably =
also
>> worker.c and so on):
>>=20
>>    ap_mpm_pod_check(my_bucket->pod)
>>=20
>> pod is NULL and later dereferenced.
>>=20
>> The pod is NULL because of the following:
>>=20
>>        if (!one_process && /* no POD in one_process mode */
>>                (rv =3D ap_mpm_pod_open(pconf, &all_buckets[i].pod))) =
{
>=20
> This is a bad copy-and-paste from the worker/event logic, which I'm to
> blame for...
> I think we should simply remove the !one_process check here.
>=20
> Regards,
> Yann.
>=20


From dev-return-85535-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 10 09:33:51 2016
Return-Path: <dev-return-85535-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 111411818E
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Feb 2016 09:33:51 +0000 (UTC)
Received: (qmail 93045 invoked by uid 500); 10 Feb 2016 09:33:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92964 invoked by uid 500); 10 Feb 2016 09:33:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92948 invoked by uid 99); 10 Feb 2016 09:33:45 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Feb 2016 09:33:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C97D0C0D0F;
	Wed, 10 Feb 2016 09:33:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.53
X-Spam-Level:
X-Spam-Status: No, score=-0.53 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.429, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=ge87bAms;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=OTpCsxvB
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 8xjC-BAQ5inE; Wed, 10 Feb 2016 09:33:42 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id B281B20970;
	Wed, 10 Feb 2016 09:33:41 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id A380415A0897; Wed, 10 Feb 2016 10:28:40 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455096520; bh=k7FO/fKaWl7v765TeK/R7qB2AbLu+6Da4ss/v/jmvyw=;
	h=Subject:From:In-Reply-To:Date:Cc:References:To:From;
	b=ge87bAmsnD4sl7nrf6VmaE3Dzocor6pMpSRlozCsWFBpH4+qsD6XP6uWToYGw2KnU
	 32uIugWDO0B/n8Rfwx2rRdeicnV96JQXAqSiFXeGmjn5+QKvciA4COwMfKCdXX1ej/
	 SNkgKHVXvT6qxibwh/JbqhF3ttpvpnoN4qffxBDo=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 83E9915A0334;
	Wed, 10 Feb 2016 10:28:37 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455096517; bh=k7FO/fKaWl7v765TeK/R7qB2AbLu+6Da4ss/v/jmvyw=;
	h=Subject:From:In-Reply-To:Date:Cc:References:To:From;
	b=OTpCsxvBHhnkOqKcjN7a4GGPy96LmR83KrqDG/3NtJefEUhqSVyMTivmO9A0XFvCk
	 LFpJ14w1L0H98SnR9KCp8Lf0kQRf94JmYB8FSxnGjyczczn9sKTKJQTjHyrNuEOVcH
	 L4tOCt1uyYl1svRk6dpSoeVNQD6GSvrVqaqlXF5Y=
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: balancer-manager docs
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAFedD41vYjXQ4=z3m7UCP3CcQBk17w3w1u3xQTBOSkEsTpZf2w@mail.gmail.com>
Date: Wed, 10 Feb 2016 10:33:38 +0100
Cc: docs@httpd.apache.org
Content-Transfer-Encoding: quoted-printable
Message-Id: <E01AB6B2-B606-4C3D-92CC-1F91A5EEF2E9@greenbytes.de>
References: <35BFE5B2-2E21-4E04-85F0-846C2E28A04F@jaguNET.com> <56BA0D8A.6080906@kippdata.de> <9D3104FA-8978-4F40-8CEF-6ABA03308BDD@c8h10n4o2.org.uk> <7C7CCE57-72B6-4BD5-A32F-64C66B29DFBE@jaguNET.com> <CAFedD41vYjXQ4=z3m7UCP3CcQBk17w3w1u3xQTBOSkEsTpZf2w@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

If you write one, I write one for http2! :-)

> Am 09.02.2016 um 21:36 schrieb Luca Toscano <toscano.luca@gmail.com>:
>=20
> Hi Jim,
>=20
> 2016-02-09 21:25 GMT+01:00 Jim Jagielski <jim@jagunet.com>:
> The more I think of it, a HowTo guide, like the ones we have
> for public_html, Authn&Authz, etc regarding reverse proxy
> makes the most sense...
>=20
> > On Feb 9, 2016, at 12:55 PM, Tim Bannister <isoma@c8h10n4o2.org.uk> =
wrote:
> >
> > On 9 Feb 2016, at 16:02, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
> > The module pages can document the module; I think that's appropriate =
for reference documentation.
> >
> > What's missing is more of a =E2=80=9Chow do I set up X=E2=80=9D =
guide. I think the topics could be:
> >
> > =E2=80=A2 forward proxy (and access control) with or without =
cacheing
> > =E2=80=A2 reverse proxy with or without cacheing
> > =E2=80=A2 balancing and high availability for reverse proxies
> >
> > I think this is me volunteering to at least draft some text, if =
people agree this approach makes sense.
>=20
> +1 for the howto guides suggested by Tim and separate pages for each =
module for whoever is interested to dive deep into options.
>=20
> Ideally the howto summary page =
(https://httpd.apache.org/docs/trunk/howto/) could be linked to =
https://httpd.apache.org/download.cgi as "suggested list" of things to =
bookmark for whoever is interested in httpd.
>=20
> Also I volunteer for helping writing/reviewing the new docs if needed =
:)
>=20
> Luca=20
>=20
>=20
>=20
>=20


From dev-return-85536-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 10 09:43:10 2016
Return-Path: <dev-return-85536-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CA159181CA
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Feb 2016 09:43:10 +0000 (UTC)
Received: (qmail 22017 invoked by uid 500); 10 Feb 2016 09:43:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21933 invoked by uid 500); 10 Feb 2016 09:43:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21917 invoked by uid 99); 10 Feb 2016 09:43:05 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Feb 2016 09:43:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id D37AAC0E2F;
	Wed, 10 Feb 2016 09:43:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.343
X-Spam-Level:
X-Spam-Status: No, score=-0.343 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.242, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Uhaiyi3u;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=dKoWCqEF
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Bqh5biDjaQEr; Wed, 10 Feb 2016 09:43:04 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 823A742A17;
	Wed, 10 Feb 2016 09:43:03 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 36D5915A0897; Wed, 10 Feb 2016 10:38:03 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455097083; bh=2gn49UHtcBJKmbyMQaZwgGQQfien/VxCMdQax1dvk7w=;
	h=Subject:From:In-Reply-To:Date:Cc:References:To:From;
	b=Uhaiyi3u2Ep/fTFNUQs9w2Cz+Ls0kUtkSxKy0jcgGZ8g0Ssz3qdtuXry6cfd9OVDK
	 i1e02LdTJ5DPJH3S83JV4bI0H14u/L6GLsUPnfakcvxcvatJQGByQMuKz9MEMniyy/
	 YgjLa/7kJpyP2EQYgigh0UGBFPcjjdMX6eOCrmC8=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id ED5BB15A0334;
	Wed, 10 Feb 2016 10:38:02 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455097082; bh=2gn49UHtcBJKmbyMQaZwgGQQfien/VxCMdQax1dvk7w=;
	h=Subject:From:In-Reply-To:Date:Cc:References:To:From;
	b=dKoWCqEFVayf2RP2/2FoWXf0aQmJcCHBbzxgvsZdsLRwkVR+nCPnZQRZzLtLvUP9V
	 qFHWvqX4c10MpS8TTUKNf39d+bV3QHlSeKc1x/qxdjsKTD+X8dKQcaiWK+BoNP1WID
	 iebEfVbXZS/llgO3sHsHgQaKwJp173zsfuhpnH/Y=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Proposal for a new mod_event documentation page
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAFedD42DksC8JMye=pex+F5r4ZZDLrxoNuh_hPFQV6Wp8-yC+w@mail.gmail.com>
Date: Wed, 10 Feb 2016 10:43:04 +0100
Cc: docs@httpd.apache.org
Content-Transfer-Encoding: quoted-printable
Message-Id: <AC4D6E9A-FC35-489F-9A67-375C0F800FAC@greenbytes.de>
References: <CAFedD427nGgudD7gBv+nFce=i59Rwzwem9f9b5+GMBmbZAaamg@mail.gmail.com> <CAFedD41kp4C7zexoCLYB17=PB=as6sc0KwcJS-QoxydG_N=R_Q@mail.gmail.com> <CAFedD42DksC8JMye=pex+F5r4ZZDLrxoNuh_hPFQV6Wp8-yC+w@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

I like it. Good explanation and also the pointer to mod_status and how =
to see what the effect of event is, helps people.=20

One point: do we have any data or counseling on =
AsyncRequestWorkerFactor? Smaller is safe, sure, but what about higher =
values?

-Stefan

> Am 09.02.2016 um 22:38 schrieb Luca Toscano <toscano.luca@gmail.com>:
>=20
> After some feedbacks I updated the trunk documentation:
>=20
> https://httpd.apache.org/docs/trunk/mod/event.html
>=20
> Please let me know if you like the new page and the new information =
contained. In case, I'll backport the change to 2.4.x, otherwise I'll =
revert.
>=20
> Thanks!
>=20
> Luca
>=20
>=20
> 2016-02-08 15:32 GMT+01:00 Luca Toscano <toscano.luca@gmail.com>:
> +dev for visibility
>=20
> ---------- Messaggio inoltrato ----------
> Da: "Luca Toscano" <toscano.luca@gmail.com>
> Data: 06 feb 2016 15:10
> Oggetto: Proposal for a new mod_event documentation page
> A: <docs@httpd.apache.org>
> Cc:=20
>=20
> Hi Apache Devs!
>=20
> I started an email thread some days ago on the dev mailing list to =
gather information about mod_event, getting tons of interesting things =
to read. I attached to this email a draft of how the new page should =
look like in my opinion, please let me know your thoughts!
>=20
> Notes about the changes:
>=20
> - clear statement that event shares all the configuration directives =
with worker, together with the fact that the number of threads is =
regulated by processes multiplied by threads per child.=20
>=20
> - explanation of the new async connections fields in mod_status.=20
>=20
> - tried to add all the information about keep alives, writing and =
closing connections that I've gathered so far. I added a disclaimer for =
the writing ones and a big section called "limitations", but I have =
probably failed to describe all the closing ones (not only lingering =
closes I suppose, but I wasn't sure).
>=20
> - clear logic connection between how it works and the =
"AsyncRequestWorkerFactor" directive section (I am referring to the =
sentence "The event MPM handles some connections in an asynchronous =
way").
>=20
> Apologies for technical inaccuracies and/or typos!
>=20
> Luca
>=20


From dev-return-85537-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 10 11:20:14 2016
Return-Path: <dev-return-85537-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6817C18525
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Feb 2016 11:20:14 +0000 (UTC)
Received: (qmail 6330 invoked by uid 500); 10 Feb 2016 11:20:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6240 invoked by uid 500); 10 Feb 2016 11:20:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6230 invoked by uid 99); 10 Feb 2016 11:20:13 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Feb 2016 11:20:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 6154C18048E
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 11:20:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id orqth4Yy8yo6 for <dev@httpd.apache.org>;
	Wed, 10 Feb 2016 11:20:10 +0000 (UTC)
Received: from mail-lf0-f52.google.com (mail-lf0-f52.google.com [209.85.215.52])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 64AA142A16
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 11:20:09 +0000 (UTC)
Received: by mail-lf0-f52.google.com with SMTP id l143so9571384lfe.2
        for <dev@httpd.apache.org>; Wed, 10 Feb 2016 03:20:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=vR4f996ig+lRsQi1NF8dp23/4/LhL1DjLzg9Jr0jLss=;
        b=ybNz8tQ43RaP/sv6pVtXnZN1V9EKKb5JTHqspqmHbHXWd1EuLoOnmvWtkSPMbzYgh+
         w8rErL68nYmwq+BNscnn8Og0k59bLNstvwAl2wSebcJ43nPH2Ct2yzfEOsmIGY0W39yZ
         iISmltA3Ax2AUIF8p7RjKDCZJVnUqljcnCaSqrEv30Pa70kZChExhiQBR6kZCzYi5h+Y
         UkDAEo3+J2S/o349fYtzh63mcKcMlARiOrbWxEN3Y/tvkex7XXgERCiDB1jPNicYueaU
         u0rbxh8eH4f/znYEWphVg9HP9jWU6eHu+DACMHD/5x+au/z4eU/fFuyPXv0PQS/vl5nU
         5iWg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=vR4f996ig+lRsQi1NF8dp23/4/LhL1DjLzg9Jr0jLss=;
        b=ODZ3t86uBAro9GiLIjQp6cjTYKeoLOhQLnPUJA8fQ70vSAmhZ7g5JRAxXeNwJYFxFE
         Qa40DASV3cCs5rs/l/9NN/5W+3E6cuTiJBx2m6+sIUbCwD7L0gAC6jux7yH0CUKGMsxM
         olXCG5CtqtxRKGCAwTlLgyfktLQkU1J8OjtrQ5/0K4G31Uw6J5kWVl6+qurY2sUxzzjV
         jSrs9okX8RWUY6th47VjoYHPBWlIiSxnpq8DwCRCWjG2mztHTCsWTmKr2rw5M7rkzN9K
         E4Ddb3cA7ctWFPexToX/Yq79/DuUcqluZR+jNYQ/lapJ46Z2NkJhxacHq0mPl8ayXazO
         fHzA==
X-Gm-Message-State: AG10YOQcXKKKfmlL+y319PqmH4kAutlNP03uvxRlV9VDXhJyZu+kjbXn3dqTbmu3Mk+cGwc+ob8oGTOuQFqhuA==
MIME-Version: 1.0
X-Received: by 10.25.28.195 with SMTP id c186mr11981589lfc.22.1455103208336;
 Wed, 10 Feb 2016 03:20:08 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Wed, 10 Feb 2016 03:20:08 -0800 (PST)
In-Reply-To: <AC4D6E9A-FC35-489F-9A67-375C0F800FAC@greenbytes.de>
References: <CAFedD427nGgudD7gBv+nFce=i59Rwzwem9f9b5+GMBmbZAaamg@mail.gmail.com>
	<CAFedD41kp4C7zexoCLYB17=PB=as6sc0KwcJS-QoxydG_N=R_Q@mail.gmail.com>
	<CAFedD42DksC8JMye=pex+F5r4ZZDLrxoNuh_hPFQV6Wp8-yC+w@mail.gmail.com>
	<AC4D6E9A-FC35-489F-9A67-375C0F800FAC@greenbytes.de>
Date: Wed, 10 Feb 2016 12:20:08 +0100
Message-ID: <CAFedD42dOmj542HOvZQeLK-8fyqFicPLXj0cdyEd4YfuNZg9=A@mail.gmail.com>
Subject: Re: Proposal for a new mod_event documentation page
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a114023c0d83437052b689dbc

--001a114023c0d83437052b689dbc
Content-Type: text/plain; charset=UTF-8

Hi Stefan,

thanks a lot for all the suggestions and help for this change! I am
planning to add more info about AsyncRequestWorkerFactor as second step
with another commit, I believe that a more detailed explanation would help
a lot too.

Luca

2016-02-10 10:43 GMT+01:00 Stefan Eissing <stefan.eissing@greenbytes.de>:

> I like it. Good explanation and also the pointer to mod_status and how to
> see what the effect of event is, helps people.
>
> One point: do we have any data or counseling on AsyncRequestWorkerFactor?
> Smaller is safe, sure, but what about higher values?
>
> -Stefan
>
> > Am 09.02.2016 um 22:38 schrieb Luca Toscano <toscano.luca@gmail.com>:
> >
> > After some feedbacks I updated the trunk documentation:
> >
> > https://httpd.apache.org/docs/trunk/mod/event.html
> >
> > Please let me know if you like the new page and the new information
> contained. In case, I'll backport the change to 2.4.x, otherwise I'll
> revert.
> >
> > Thanks!
> >
> > Luca
> >
> >
> > 2016-02-08 15:32 GMT+01:00 Luca Toscano <toscano.luca@gmail.com>:
> > +dev for visibility
> >
> > ---------- Messaggio inoltrato ----------
> > Da: "Luca Toscano" <toscano.luca@gmail.com>
> > Data: 06 feb 2016 15:10
> > Oggetto: Proposal for a new mod_event documentation page
> > A: <docs@httpd.apache.org>
> > Cc:
> >
> > Hi Apache Devs!
> >
> > I started an email thread some days ago on the dev mailing list to
> gather information about mod_event, getting tons of interesting things to
> read. I attached to this email a draft of how the new page should look like
> in my opinion, please let me know your thoughts!
> >
> > Notes about the changes:
> >
> > - clear statement that event shares all the configuration directives
> with worker, together with the fact that the number of threads is regulated
> by processes multiplied by threads per child.
> >
> > - explanation of the new async connections fields in mod_status.
> >
> > - tried to add all the information about keep alives, writing and
> closing connections that I've gathered so far. I added a disclaimer for the
> writing ones and a big section called "limitations", but I have probably
> failed to describe all the closing ones (not only lingering closes I
> suppose, but I wasn't sure).
> >
> > - clear logic connection between how it works and the
> "AsyncRequestWorkerFactor" directive section (I am referring to the
> sentence "The event MPM handles some connections in an asynchronous way").
> >
> > Apologies for technical inaccuracies and/or typos!
> >
> > Luca
> >
>
>

--001a114023c0d83437052b689dbc
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi Stefan,<div><br></div><div>thanks a lot for all the sug=
gestions and help for this change! I am planning to add more info about Asy=
ncRequestWorkerFactor as second step with another commit, I believe that a =
more detailed explanation would help a lot too.</div><div><br></div><div>Lu=
ca</div></div><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">201=
6-02-10 10:43 GMT+01:00 Stefan Eissing <span dir=3D"ltr">&lt;<a href=3D"mai=
lto:stefan.eissing@greenbytes.de" target=3D"_blank">stefan.eissing@greenbyt=
es.de</a>&gt;</span>:<br><blockquote class=3D"gmail_quote" style=3D"margin:=
0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">I like it. Good exp=
lanation and also the pointer to mod_status and how to see what the effect =
of event is, helps people.<br>
<br>
One point: do we have any data or counseling on AsyncRequestWorkerFactor? S=
maller is safe, sure, but what about higher values?<br>
<span class=3D"HOEnZb"><font color=3D"#888888"><br>
-Stefan<br>
</font></span><div class=3D"HOEnZb"><div class=3D"h5"><br>
&gt; Am <a href=3D"tel:09.02.2016" value=3D"+3909022016">09.02.2016</a> um =
22:38 schrieb Luca Toscano &lt;<a href=3D"mailto:toscano.luca@gmail.com">to=
scano.luca@gmail.com</a>&gt;:<br>
&gt;<br>
&gt; After some feedbacks I updated the trunk documentation:<br>
&gt;<br>
&gt; <a href=3D"https://httpd.apache.org/docs/trunk/mod/event.html" rel=3D"=
noreferrer" target=3D"_blank">https://httpd.apache.org/docs/trunk/mod/event=
.html</a><br>
&gt;<br>
&gt; Please let me know if you like the new page and the new information co=
ntained. In case, I&#39;ll backport the change to 2.4.x, otherwise I&#39;ll=
 revert.<br>
&gt;<br>
&gt; Thanks!<br>
&gt;<br>
&gt; Luca<br>
&gt;<br>
&gt;<br>
&gt; 2016-02-08 15:32 GMT+01:00 Luca Toscano &lt;<a href=3D"mailto:toscano.=
luca@gmail.com">toscano.luca@gmail.com</a>&gt;:<br>
&gt; +dev for visibility<br>
&gt;<br>
&gt; ---------- Messaggio inoltrato ----------<br>
&gt; Da: &quot;Luca Toscano&quot; &lt;<a href=3D"mailto:toscano.luca@gmail.=
com">toscano.luca@gmail.com</a>&gt;<br>
&gt; Data: 06 feb 2016 15:10<br>
&gt; Oggetto: Proposal for a new mod_event documentation page<br>
&gt; A: &lt;<a href=3D"mailto:docs@httpd.apache.org">docs@httpd.apache.org<=
/a>&gt;<br>
&gt; Cc:<br>
&gt;<br>
&gt; Hi Apache Devs!<br>
&gt;<br>
&gt; I started an email thread some days ago on the dev mailing list to gat=
her information about mod_event, getting tons of interesting things to read=
. I attached to this email a draft of how the new page should look like in =
my opinion, please let me know your thoughts!<br>
&gt;<br>
&gt; Notes about the changes:<br>
&gt;<br>
&gt; - clear statement that event shares all the configuration directives w=
ith worker, together with the fact that the number of threads is regulated =
by processes multiplied by threads per child.<br>
&gt;<br>
&gt; - explanation of the new async connections fields in mod_status.<br>
&gt;<br>
&gt; - tried to add all the information about keep alives, writing and clos=
ing connections that I&#39;ve gathered so far. I added a disclaimer for the=
 writing ones and a big section called &quot;limitations&quot;, but I have =
probably failed to describe all the closing ones (not only lingering closes=
 I suppose, but I wasn&#39;t sure).<br>
&gt;<br>
&gt; - clear logic connection between how it works and the &quot;AsyncReque=
stWorkerFactor&quot; directive section (I am referring to the sentence &quo=
t;The event MPM handles some connections in an asynchronous way&quot;).<br>
&gt;<br>
&gt; Apologies for technical inaccuracies and/or typos!<br>
&gt;<br>
&gt; Luca<br>
&gt;<br>
<br>
</div></div></blockquote></div><br></div>

--001a114023c0d83437052b689dbc--

From dev-return-85538-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 10 11:21:14 2016
Return-Path: <dev-return-85538-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1E4F218544
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Feb 2016 11:21:14 +0000 (UTC)
Received: (qmail 10180 invoked by uid 500); 10 Feb 2016 11:21:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10108 invoked by uid 500); 10 Feb 2016 11:21:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10088 invoked by uid 99); 10 Feb 2016 11:21:13 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Feb 2016 11:21:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 0D05EC01AB;
	Wed, 10 Feb 2016 11:21:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id W3dsBf_MhWVm; Wed, 10 Feb 2016 11:21:12 +0000 (UTC)
Received: from mail-lf0-f41.google.com (mail-lf0-f41.google.com [209.85.215.41])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id EFA0020271;
	Wed, 10 Feb 2016 11:21:11 +0000 (UTC)
Received: by mail-lf0-f41.google.com with SMTP id 78so9547254lfy.3;
        Wed, 10 Feb 2016 03:21:11 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=+nBYODOAl3wpufKpdpRodcxYF9Snp6fXo1VbQrtN4HE=;
        b=ePF2ncVS1Je6ucFhIL4AKe59ZLLreR1L4nQxyNnlzS21tF9zyVavA5ae5gwQZ4AbNE
         S4JVnfBxRDDMGSojmebM4MELvWRiNGQPDV7c72RCBjlNYENbLfVs6xIX/vGYRbJ8mwOb
         5Bh7jwrleNqZUoWz/Zi49XViI7KNgYXfA7wz9gdxi1KQGlG3FE6Td1oOlQPEcQ5gMLos
         dFDG/kFE+n+iJMJjSwI5s6KH1CC/gXhnWPrvszc1Vii4gkZzvGPFeK2qGpPC0IF4R6UP
         OCFcgDNucwAzTvNPSU0oTZTJTc21rAV0/YknJvuatW9yaZlPDzFjK0Al0grxGnyKkBW1
         YxWQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=+nBYODOAl3wpufKpdpRodcxYF9Snp6fXo1VbQrtN4HE=;
        b=V7YsiT0QIES68s2WdeEvALkMV80t45s/LbQicNaAbw752bPuNssfvpK8frdjlL8RbW
         s0psitD4gaFJMP8qW8umm6TVKyi4YusMNyJZBEE2UOudU43n2UuKxFihFGhkzr1WzUGI
         WD1hMMZBZbZLuabJYVRutQDxDezk4Qx6/vyS+DuwPDAv48XK2dxThawrrJCJzj8tRkql
         EddsLBA2knFIyeH1fuD+x4yLpEWPeDcuvoggG4XLx5oDC6zrtNqr2/B4MJ0QHBp1tz0k
         dPu7ExTaKSbA0/zijfxSMdVQYQl0vG7FIH+V3f/maRPQk5V1H5c3dOwb39nvYBQvzsii
         /lFA==
X-Gm-Message-State: AG10YORLkkIT4RD0tgx5uXQp2/W23wJhQCQJ3e/5PsrLAl2jLiNnGIJAQwVHGN/wdTaTOe+8u+V9U2FG8EP6OQ==
MIME-Version: 1.0
X-Received: by 10.25.44.213 with SMTP id s204mr6721632lfs.148.1455103270464;
 Wed, 10 Feb 2016 03:21:10 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Wed, 10 Feb 2016 03:21:10 -0800 (PST)
In-Reply-To: <E01AB6B2-B606-4C3D-92CC-1F91A5EEF2E9@greenbytes.de>
References: <35BFE5B2-2E21-4E04-85F0-846C2E28A04F@jaguNET.com>
	<56BA0D8A.6080906@kippdata.de>
	<9D3104FA-8978-4F40-8CEF-6ABA03308BDD@c8h10n4o2.org.uk>
	<7C7CCE57-72B6-4BD5-A32F-64C66B29DFBE@jaguNET.com>
	<CAFedD41vYjXQ4=z3m7UCP3CcQBk17w3w1u3xQTBOSkEsTpZf2w@mail.gmail.com>
	<E01AB6B2-B606-4C3D-92CC-1F91A5EEF2E9@greenbytes.de>
Date: Wed, 10 Feb 2016 12:21:10 +0100
Message-ID: <CAFedD419DMQZoADb=WiRtvhjYnp9NJWGZ1vQn5C65BV5Y4C1xA@mail.gmail.com>
Subject: Re: balancer-manager docs
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Cc: docs@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a113db70a8c3687052b68a184

--001a113db70a8c3687052b68a184
Content-Type: text/plain; charset=UTF-8

2016-02-10 10:33 GMT+01:00 Stefan Eissing <stefan.eissing@greenbytes.de>:

> If you write one, I write one for http2! :-)
>
>
+1+1+1+1 :)

--001a113db70a8c3687052b68a184
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">=
2016-02-10 10:33 GMT+01:00 Stefan Eissing <span dir=3D"ltr">&lt;<a href=3D"=
mailto:stefan.eissing@greenbytes.de" target=3D"_blank">stefan.eissing@green=
bytes.de</a>&gt;</span>:<br><blockquote class=3D"gmail_quote" style=3D"marg=
in:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,20=
4);border-left-style:solid;padding-left:1ex">If you write one, I write one =
for http2! :-)<br>
<div class=3D""><div class=3D"h5"><br></div></div></blockquote><div><br></d=
iv><div>+1+1+1+1 :)<br></div><div><br></div><div>=C2=A0</div></div></div></=
div>

--001a113db70a8c3687052b68a184--

From dev-return-85539-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 10 11:31:19 2016
Return-Path: <dev-return-85539-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6436E1859D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Feb 2016 11:31:18 +0000 (UTC)
Received: (qmail 34181 invoked by uid 500); 10 Feb 2016 11:31:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34104 invoked by uid 500); 10 Feb 2016 11:31:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34094 invoked by uid 99); 10 Feb 2016 11:31:17 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Feb 2016 11:31:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5BD4E18048E
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 11:31:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.53
X-Spam-Level:
X-Spam-Status: No, score=-0.53 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.429, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=buJUv5xs;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=bh0/+71i
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id AefTiisBJwA0 for <dev@httpd.apache.org>;
	Wed, 10 Feb 2016 11:31:16 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id BB1E042A1A
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 11:31:15 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 3911D15A0898; Wed, 10 Feb 2016 12:26:15 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455103575; bh=YB5ufay+ucAoKOtNOBs4f4aS2Rq333zNij5wRw1nnIg=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=buJUv5xslFtwCtpg8D6pL8QF7GiY4e7YMoDSc12xBPrzYvT5Y44ctRdbUjwuYlk03
	 AE3hpT5qmdFmtUepjdiE5GbAMRnbgdHUwOz6tkc9lpF0Ns9RBpmNwLowjCdRM92E4D
	 25AMDEwhhnJMdtDP4nBPipRPtEDTagcKoaOlyZHQ=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 26A6E15A0326
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 12:26:12 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455103572; bh=YB5ufay+ucAoKOtNOBs4f4aS2Rq333zNij5wRw1nnIg=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=bh0/+71iGeq+3VRsyz8XDUD82TKBz1swWF+ReLtcgltrRmrFQisfOD7ucwboXkdhI
	 77E3iyJsDDyXRBGc0FZMAdgeH15PENzcyqesJLOngixSQk6z8Ls+3YT1448r1i3lAC
	 YiS18ikUqqpIDwUFXpYDzhJwRER/v3GPeoIBv5xI=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: ssl renegotiate
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <23B03D73-A873-4B8B-AE92-C58CEE493229@greenbytes.de>
Date: Wed, 10 Feb 2016 12:31:13 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <1B4FD58D-D29B-4F8F-A6AD-474C714176EF@greenbytes.de>
References: <6899C335-8D8A-4040-88E5-122FBDB7E75A@greenbytes.de> <ACEFA328-E77A-4DF7-AE84-78DA786038D9@greenbytes.de> <56BA36D5.9060004@kippdata.de> <60EA1C8D-C07C-4C89-8214-281E384D423B@greenbytes.de> <56BA504A.4020408@kippdata.de> <23B03D73-A873-4B8B-AE92-C58CEE493229@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

With r1729581, all seems fine again in handshake land.

Stefan

> Am 09.02.2016 um 21:54 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>=20
> Testing in trunk, 2.4.x seems to be fine. It's the =
httpd/test/mod_h2/trunk test cases (do not expect you to get that =
running). I will take a closer look tomorrow as there is more fishy than =
just the renegotiation. I see more failures than that. I will try an =
earlier mod_ssl tomorrow and try to narrow it down.
>=20
> Cheers,
>=20
> Stefan
>=20
>> Am 09.02.2016 um 21:47 schrieb Rainer Jung <rainer.jung@kippdata.de>:
>>=20
>> Am 09.02.2016 um 20:03 schrieb Stefan Eissing:
>>>=20
>>>> Am 09.02.2016 um 19:58 schrieb Rainer Jung =
<rainer.jung@kippdata.de>:
>>>>=20
>>>> Am 09.02.2016 um 19:20 schrieb Stefan Eissing:
>>>>> Ah, closer look revealed that the first test was a cipher =
renegotiation using HTTP/1.1. That no longer works, but the slave =
connection checks do. So, false alarm on that front. Will disable the =
renegotiation tests that fail for now until the 1.1.0 openssl work is =
done...
>>>>>=20
>>>>> Sorry for the confusion.
>>>>>=20
>>>>>> Am 09.02.2016 um 19:11 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>>>>>>=20
>>>>>> With the new renegotiate code, I get failures in trunk for my =
tests that expect renegotiation to fail on slave connections. Rainer, =
not sure how this works now. Can you have a look?
>>>>=20
>>>> No problem, thanks for doing tests as well. Yes, the cipher change =
reneg is still expected to fail (only when using OpenSSL 1.1.0).
>>>=20
>>> Was using OpenSSL 1.0.2 in my tests...
>>=20
>> That's strange then, because I didn't (intentionally) change the =
behavior for pre 1.1.0. Instead I tried to keep the code the same in =
that case and postpone any cleanups (let pre-1.1.0 use the same code as =
1.1.0) to the time 1.1.0 runs fine.
>>=20
>> So could it be something else? Is it a test case which is part of the =
test suite? If yes, which one? Which version (trunk or 2.4) did you =
test. I would try to reproduce here.
>>=20
>> Regards,
>>=20
>> Rainer
>>=20
>=20


From dev-return-85540-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 10 11:34:51 2016
Return-Path: <dev-return-85540-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 22104185C9
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Feb 2016 11:34:51 +0000 (UTC)
Received: (qmail 38515 invoked by uid 500); 10 Feb 2016 11:34:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38446 invoked by uid 500); 10 Feb 2016 11:34:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38435 invoked by uid 99); 10 Feb 2016 11:34:50 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Feb 2016 11:34:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 16445C01AB
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 11:34:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.53
X-Spam-Level:
X-Spam-Status: No, score=-0.53 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.429, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=afcuXYwb;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=E2bbnaka
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id acBpz7YcgchG for <dev@httpd.apache.org>;
	Wed, 10 Feb 2016 11:34:49 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id B8CFB25E93
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 11:34:48 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 25E7615A0898; Wed, 10 Feb 2016 12:29:49 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455103789; bh=+/kZZxN0mxQjuXl2c5seZKp2MJ/ADdHXt+4FfDLiS4c=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=afcuXYwb+7KogkG/07b3QbDwJeYm0NgCceU6ERyEm2M027ufX3uZda2ZMXfYpRcTB
	 MtYcJanp3h79OeSVPOdmJz3zcaZxomxLi0nLMQ0cgXqcI9panFJYxsTGrUFgxh4q7z
	 FJw0MHP8H5tdaTLVY2BThC39tTk6tjK896Tss3xw=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id CA51715A0326
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 12:29:47 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455103787; bh=+/kZZxN0mxQjuXl2c5seZKp2MJ/ADdHXt+4FfDLiS4c=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=E2bbnakasRv8nI4qsRqbjNFqS4YL77wBP3slNECjp/0y0HKShyc/cJUOuFfqtlHLy
	 D8BjSQbD7gWvTwBdA7pP2GCZ96zfjWEv08XzOPGv6Eug5vArYNt0xqvsWUUtGpw7p3
	 sXidR//LylwOZiFDw6e12w/UYJC70MddK1XCZMZQ=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: httpd-trunk/modules/http2 gets a proxy
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56B911B2.3080400@gknw.net>
Date: Wed, 10 Feb 2016 12:34:48 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <33BC9153-7AE2-44C2-97B7-94EEC8382711@greenbytes.de>
References: <56B911B2.3080400@gknw.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Applied in r1729583. Thanks!

> Am 08.02.2016 um 23:07 schrieb NormW <normw@gknw.net>:
>=20
> G/M,
> Recent additions to http-trunk/modules/http2 require the attached =
apatch to the http2 NetWare build file:
>> Index: modules/http2/NWGNUmakefile
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>> --- modules/http2/NWGNUmakefile	(revision 1729251)
>> +++ modules/http2/NWGNUmakefile	(working copy)
>> @@ -34,6 +34,8 @@
>> 			$(NGH2SRC)/lib/ \
>> 			$(NGH2SRC)/lib/includes \
>> 			$(SERVER)/mpm/NetWare \
>> +			$(STDMOD)/proxy \
>> +			$(STDMOD)/ssl \
>> 			$(NWOS) \
>> 			$(EOLIST)
>>=20
>> @@ -55,6 +57,7 @@
>> #
>> XLFLAGS		+=3D \
>> 			-L$(OBJDIR) \
>> +			-L../proxy \
>> 			$(EOLIST)
>>=20
>> #
>> @@ -224,6 +227,7 @@
>> 	@libc.imp \
>> 	@aprlib.imp \
>> 	@httpd.imp \
>> +	@mod_proxy.imp \
>> 	$(EOLIST)
>>=20
>> #
>=20
> The first 2 extra lines allow the compiler to find extra headers, the =
3rd allows the linker to locate mod_proxy.imp.
>=20
> Please review and apply this if it seems reasonable.
>=20
> Norm
> <htttp2_gets_a_proxy.diff>


From dev-return-85541-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 10 12:22:41 2016
Return-Path: <dev-return-85541-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 884FC1875D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Feb 2016 12:22:41 +0000 (UTC)
Received: (qmail 3909 invoked by uid 500); 10 Feb 2016 12:22:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3852 invoked by uid 500); 10 Feb 2016 12:22:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3842 invoked by uid 99); 10 Feb 2016 12:22:41 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Feb 2016 12:22:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 94F42C01AB
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 12:22:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.73
X-Spam-Level:
X-Spam-Status: No, score=-2.73 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.429,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id QhgtQ_K11yiS for <dev@httpd.apache.org>;
	Wed, 10 Feb 2016 12:22:38 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 6B17842A02
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 12:22:38 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.10.45])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u1ACMTXX016637
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 13:22:33 +0100 (CET)
Subject: Re: ssl renegotiate
To: dev@httpd.apache.org
References: <6899C335-8D8A-4040-88E5-122FBDB7E75A@greenbytes.de>
 <ACEFA328-E77A-4DF7-AE84-78DA786038D9@greenbytes.de>
 <56BA36D5.9060004@kippdata.de>
 <60EA1C8D-C07C-4C89-8214-281E384D423B@greenbytes.de>
 <56BA504A.4020408@kippdata.de>
 <23B03D73-A873-4B8B-AE92-C58CEE493229@greenbytes.de>
 <1B4FD58D-D29B-4F8F-A6AD-474C714176EF@greenbytes.de>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56BB2B78.9050000@kippdata.de>
Date: Wed, 10 Feb 2016 13:22:16 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <1B4FD58D-D29B-4F8F-A6AD-474C714176EF@greenbytes.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Big oups, sorry! I was just doing a bisection. Happy I can stop that.

Thanks a bunch,

Rainer

Am 10.02.2016 um 12:31 schrieb Stefan Eissing:
> With r1729581, all seems fine again in handshake land.
>
> Stefan
>
>> Am 09.02.2016 um 21:54 schrieb Stefan Eissing <stefan.eissing@greenbytes.de>:
>>
>> Testing in trunk, 2.4.x seems to be fine. It's the httpd/test/mod_h2/trunk test cases (do not expect you to get that running). I will take a closer look tomorrow as there is more fishy than just the renegotiation. I see more failures than that. I will try an earlier mod_ssl tomorrow and try to narrow it down.
>>
>> Cheers,
>>
>> Stefan
>>
>>> Am 09.02.2016 um 21:47 schrieb Rainer Jung <rainer.jung@kippdata.de>:
>>>
>>> Am 09.02.2016 um 20:03 schrieb Stefan Eissing:
>>>>
>>>>> Am 09.02.2016 um 19:58 schrieb Rainer Jung <rainer.jung@kippdata.de>:
>>>>>
>>>>> Am 09.02.2016 um 19:20 schrieb Stefan Eissing:
>>>>>> Ah, closer look revealed that the first test was a cipher renegotiation using HTTP/1.1. That no longer works, but the slave connection checks do. So, false alarm on that front. Will disable the renegotiation tests that fail for now until the 1.1.0 openssl work is done...
>>>>>>
>>>>>> Sorry for the confusion.
>>>>>>
>>>>>>> Am 09.02.2016 um 19:11 schrieb Stefan Eissing <stefan.eissing@greenbytes.de>:
>>>>>>>
>>>>>>> With the new renegotiate code, I get failures in trunk for my tests that expect renegotiation to fail on slave connections. Rainer, not sure how this works now. Can you have a look?
>>>>>
>>>>> No problem, thanks for doing tests as well. Yes, the cipher change reneg is still expected to fail (only when using OpenSSL 1.1.0).
>>>>
>>>> Was using OpenSSL 1.0.2 in my tests...
>>>
>>> That's strange then, because I didn't (intentionally) change the behavior for pre 1.1.0. Instead I tried to keep the code the same in that case and postpone any cleanups (let pre-1.1.0 use the same code as 1.1.0) to the time 1.1.0 runs fine.
>>>
>>> So could it be something else? Is it a test case which is part of the test suite? If yes, which one? Which version (trunk or 2.4) did you test. I would try to reproduce here.
>>>
>>> Regards,
>>>
>>> Rainer

From dev-return-85542-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 10 15:41:16 2016
Return-Path: <dev-return-85542-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 825641808F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Feb 2016 15:41:16 +0000 (UTC)
Received: (qmail 20388 invoked by uid 500); 10 Feb 2016 15:41:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 20307 invoked by uid 500); 10 Feb 2016 15:41:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 20297 invoked by uid 99); 10 Feb 2016 15:41:15 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Feb 2016 15:41:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 8CED9C0FEB
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 15:41:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.543
X-Spam-Level:
X-Spam-Status: No, score=-2.543 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.242,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ilNaub81sdZ2 for <dev@httpd.apache.org>;
	Wed, 10 Feb 2016 15:41:13 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 1C686429A6
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 15:41:12 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.10.45])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u1AFfBdD018489
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 16:41:11 +0100 (CET)
Subject: Re: mod_proxy_http2
To: dev@httpd.apache.org
References: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56BB5A0F.3050309@kippdata.de>
Date: Wed, 10 Feb 2016 16:41:03 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

At this point just a reminder, I might look for it myself:

the config generated for me tries LoadModule for mod_proxy_http2 before 
mod_proxy and fails, because it can't find the symbol mod_proxy. I guess 
we need to ensure, that the LoadModule lines we generate for httpd.conf 
put mod_proxy_http2 after the one for mod_proxy. The current other proxy 
modules are already behind mod_proxy.

Regards,

Rainer

From dev-return-85543-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 10 19:09:21 2016
Return-Path: <dev-return-85543-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C6F8E1807E
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Feb 2016 19:09:21 +0000 (UTC)
Received: (qmail 35479 invoked by uid 500); 10 Feb 2016 19:09:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35403 invoked by uid 500); 10 Feb 2016 19:09:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35394 invoked by uid 99); 10 Feb 2016 19:09:21 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Feb 2016 19:09:21 +0000
Received: from gauss.localdomain (v4-86134ce7.pool.vitroconnect.de [134.19.76.231])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id E4FFD1A00C5
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 19:09:20 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 2B01B431
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 20:09:21 +0100 (CET)
Subject: Re: svn commit: r1729208 - in /httpd/httpd/trunk/modules:
 proxy/proxy_util.c ssl/ssl_engine_io.c
To: dev@httpd.apache.org
References: <20160208165008.0993E3A0667@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56BB8AE1.1080105@apache.org>
Date: Wed, 10 Feb 2016 20:09:21 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <20160208165008.0993E3A0667@svn01-us-west.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 02/08/2016 05:50 PM, icing@apache.org wrote:
> Author: icing
> Date: Mon Feb  8 16:50:07 2016
> New Revision: 1729208
> 
> URL: http://svn.apache.org/viewvc?rev=1729208&view=rev
> Log:
> let proxy handler forward ALPN protocol strings for ssl proxy connections
> 
> Modified:
>     httpd/httpd/trunk/modules/proxy/proxy_util.c
>     httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
> 

> Modified: httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_engine_io.c?rev=1729208&r1=1729207&r2=1729208&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/ssl/ssl_engine_io.c (original)
> +++ httpd/httpd/trunk/modules/ssl/ssl_engine_io.c Mon Feb  8 16:50:07 2016
> @@ -1146,12 +1146,48 @@ static apr_status_t ssl_io_filter_handsh
>  #endif
>          const char *hostname_note = apr_table_get(c->notes,
>                                                    "proxy-request-hostname");
> +        const char *alpn_note;
>          BOOL proxy_ssl_check_peer_ok = TRUE;
>          int post_handshake_rc = OK;
>  
>          sc = mySrvConfig(server);
>  
>  #ifdef HAVE_TLSEXT
> +#ifdef HAVE_TLS_ALPN
> +        alpn_note = apr_table_get(c->notes, "proxy-request-alpn-protos");
> +        if (alpn_note) {
> +            char *protos, *s, *p, *last;
> +            apr_size_t len;
> +            
> +            s = protos = apr_pcalloc(c->pool, strlen(alpn_note)+1);
> +            p = apr_pstrdup(c->pool, alpn_note);
> +            while ((p = apr_strtok(p, ", ", &last))) {
> +                len = last - p - (*last? 1 : 0); 
> +                if (len > 255) {
> +                    ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO()
> +                                  "ALPN proxy protocol identifier too long: %s",
> +                                  p);
> +                    ssl_log_ssl_error(SSLLOG_MARK, APLOG_ERR, server);
> +                    return APR_EGENERAL;
> +                }
> +                *s++ = (unsigned char)len;
> +                while (len--) {
> +                    *s++ = *p++;
> +                }
> +                p = last;

Why not p = NULL as it should be for subsequent calls of apr_strtok?

> +            }
> +            ap_log_cerror(APLOG_MARK, APLOG_TRACE1, 0, c, 
> +                          "setting alpn protos from '%s', protolen=%d", 
> +                          alpn_note, (int)(s - protos));
> +            if (protos != s && SSL_set_alpn_protos(filter_ctx->pssl, 
> +                                                   (unsigned char *)protos, 
> +                                                   s - protos)) {
> +                ap_log_cerror(APLOG_MARK, APLOG_WARNING, 0, c, APLOGNO()
> +                              "error setting alpn protos from '%s'", alpn_note);
> +                ssl_log_ssl_error(SSLLOG_MARK, APLOG_WARNING, server);
> +            }
> +        }
> +#endif /* defined HAVE_TLS_ALPN */
>          /*
>           * Enable SNI for backend requests. Make sure we don't do it for
>           * pure SSLv3 connections, and also prevent IP addresses

Regards

Rdiger


From dev-return-85544-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 10 19:21:05 2016
Return-Path: <dev-return-85544-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 17CF51812A
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Feb 2016 19:21:05 +0000 (UTC)
Received: (qmail 68538 invoked by uid 500); 10 Feb 2016 19:21:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68444 invoked by uid 500); 10 Feb 2016 19:21:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68435 invoked by uid 99); 10 Feb 2016 19:21:04 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Feb 2016 19:21:04 +0000
Received: from gauss.localdomain (v4-86134ce7.pool.vitroconnect.de [134.19.76.231])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 513F31A0046
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 19:21:04 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 27F56431
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 20:21:05 +0100 (CET)
Subject: Re: svn commit: r1729507 - in /httpd/httpd/trunk/modules:
 http2/mod_proxy_http2.c proxy/mod_proxy.c proxy/mod_proxy.h
 proxy/mod_proxy_ajp.c proxy/mod_proxy_http.c proxy/mod_proxy_wstunnel.c
To: dev@httpd.apache.org
References: <20160209233900.08EFB3A058B@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56BB8DA1.1000302@apache.org>
Date: Wed, 10 Feb 2016 20:21:05 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <20160209233900.08EFB3A058B@svn01-us-west.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 02/10/2016 12:38 AM, ylavic@apache.org wrote:
> Author: ylavic
> Date: Tue Feb  9 23:38:59 2016
> New Revision: 1729507
> 
> URL: http://svn.apache.org/viewvc?rev=1729507&view=rev
> Log:
> mod_proxy: axe negative "ping" parameter setting and handling.
> This used to check for the backend connection readability only (instead of
> the full ping/100-continue round-trip), but the case is already handled by
> ap_proxy_connect_backend() which is always called.
> 
> Modified:
>     httpd/httpd/trunk/modules/http2/mod_proxy_http2.c
>     httpd/httpd/trunk/modules/proxy/mod_proxy.c
>     httpd/httpd/trunk/modules/proxy/mod_proxy.h
>     httpd/httpd/trunk/modules/proxy/mod_proxy_ajp.c
>     httpd/httpd/trunk/modules/proxy/mod_proxy_http.c
>     httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
> 

> Modified: httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c?rev=1729507&r1=1729506&r2=1729507&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c (original)
> +++ httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c Tue Feb  9 23:38:59 2016

> @@ -463,15 +462,13 @@ static int proxy_wstunnel_handler(reques
>      backend->is_ssl = is_ssl;
>      backend->close = 0;
>  
> -    retry = 0;
> -    while (retry < 2) {
> +    do { /* while (0): break out */
>          char *locurl = url;
>          /* Step One: Determine Who To Connect To */
>          status = ap_proxy_determine_connection(p, r, conf, worker, backend,
>                                                 uri, &locurl, proxyname, proxyport,
>                                                 server_portstr,
>                                                 sizeof(server_portstr));
> -
>          if (status != OK)
>              break;
>  
> @@ -495,8 +492,7 @@ static int proxy_wstunnel_handler(reques
>          /* Step Three: Process the Request */
>          status = proxy_wstunnel_request(p, r, backend, worker, conf, uri, locurl,
>                                        server_portstr, scheme);
> -        break;
> -    }
> +    } while (0);

Do you keep this loop just to keep the formating?

Regards

Rdiger


From dev-return-85545-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 10 20:15:53 2016
Return-Path: <dev-return-85545-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A1BBA1848E
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Feb 2016 20:15:53 +0000 (UTC)
Received: (qmail 12401 invoked by uid 500); 10 Feb 2016 20:15:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12327 invoked by uid 500); 10 Feb 2016 20:15:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12317 invoked by uid 99); 10 Feb 2016 20:15:52 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Feb 2016 20:15:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 5816FC10A5
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 20:15:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id sxgx6dnSOAh6 for <dev@httpd.apache.org>;
	Wed, 10 Feb 2016 20:15:50 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 025944446C
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 20:15:40 +0000 (UTC)
Received: from resomta-po-15v.sys.comcast.net ([96.114.154.239])
	by resqmta-po-05v.sys.comcast.net with comcast
	id GkFG1s0055AAYLo01kFaLX; Wed, 10 Feb 2016 20:15:34 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-15v.sys.comcast.net with comcast
	id GkFY1s00k2U0RYt01kFZzN; Wed, 10 Feb 2016 20:15:34 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1729507 - in /httpd/httpd/trunk/modules: http2/mod_proxy_http2.c proxy/mod_proxy.c proxy/mod_proxy.h proxy/mod_proxy_ajp.c proxy/mod_proxy_http.c proxy/mod_proxy_wstunnel.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56BB8DA1.1000302@apache.org>
Date: Wed, 10 Feb 2016 15:15:32 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <3695F96D-A2D2-4287-9870-DF4EA0554BB9@jaguNET.com>
References: <20160209233900.08EFB3A058B@svn01-us-west.apache.org> <56BB8DA1.1000302@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455135334;
	bh=GzgL5njR+MSLUUaYBRd87DvSCvTrz9o1+HECC+RiFv0=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=il1dFP/uHNeM5km+EDoMkxf1/Xb1uPyq+3oVsgRVjaa2q3n0yum4PanNM3fr9HxKX
	 TREpj9pzURBRTLjkh6+Ru1UgXi3JPIB4CIo91JmBVg2B5sDJuk66mn2b/GM9DTuytx
	 XTgnNtxASSEdVpPe09vcBq/vLtWwBsyWUd/GlptnFaw53dfJOx6EBwJXCJYGv1hQnf
	 aKy9BvN9izxjixkjV04SxXyIrowqtMfYXom9itHlMVJF95JP1eQf2viOOV+I79GgQz
	 dLBfNuiiwLvPVuO95U7jwZkXub0G2WkarpSCjc0rJ1e4jBfT4y0CRE405rqDa0gDlw
	 I/KayxEVP4pyg==

It looks like the whole retry was removed :(

> On Feb 10, 2016, at 2:21 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>=20
>=20
>=20
> On 02/10/2016 12:38 AM, ylavic@apache.org wrote:
>> Author: ylavic
>> Date: Tue Feb  9 23:38:59 2016
>> New Revision: 1729507
>>=20
>> URL: http://svn.apache.org/viewvc?rev=3D1729507&view=3Drev
>> Log:
>> mod_proxy: axe negative "ping" parameter setting and handling.
>> This used to check for the backend connection readability only =
(instead of
>> the full ping/100-continue round-trip), but the case is already =
handled by
>> ap_proxy_connect_backend() which is always called.
>>=20
>> Modified:
>>    httpd/httpd/trunk/modules/http2/mod_proxy_http2.c
>>    httpd/httpd/trunk/modules/proxy/mod_proxy.c
>>    httpd/httpd/trunk/modules/proxy/mod_proxy.h
>>    httpd/httpd/trunk/modules/proxy/mod_proxy_ajp.c
>>    httpd/httpd/trunk/modules/proxy/mod_proxy_http.c
>>    httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
>>=20
>=20
>> Modified: httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_wst=
unnel.c?rev=3D1729507&r1=3D1729506&r2=3D1729507&view=3Ddiff
>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>> --- httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c (original)
>> +++ httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c Tue Feb  9 =
23:38:59 2016
>=20
>> @@ -463,15 +462,13 @@ static int proxy_wstunnel_handler(reques
>>     backend->is_ssl =3D is_ssl;
>>     backend->close =3D 0;
>>=20
>> -    retry =3D 0;
>> -    while (retry < 2) {
>> +    do { /* while (0): break out */
>>         char *locurl =3D url;
>>         /* Step One: Determine Who To Connect To */
>>         status =3D ap_proxy_determine_connection(p, r, conf, worker, =
backend,
>>                                                uri, &locurl, =
proxyname, proxyport,
>>                                                server_portstr,
>>                                                =
sizeof(server_portstr));
>> -
>>         if (status !=3D OK)
>>             break;
>>=20
>> @@ -495,8 +492,7 @@ static int proxy_wstunnel_handler(reques
>>         /* Step Three: Process the Request */
>>         status =3D proxy_wstunnel_request(p, r, backend, worker, =
conf, uri, locurl,
>>                                       server_portstr, scheme);
>> -        break;
>> -    }
>> +    } while (0);
>=20
> Do you keep this loop just to keep the formating?
>=20
> Regards
>=20
> R=C3=BCdiger
>=20


From dev-return-85546-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 10 20:19:42 2016
Return-Path: <dev-return-85546-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A17F3185EA
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Feb 2016 20:19:42 +0000 (UTC)
Received: (qmail 33695 invoked by uid 500); 10 Feb 2016 20:19:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33629 invoked by uid 500); 10 Feb 2016 20:19:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33620 invoked by uid 99); 10 Feb 2016 20:19:42 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Feb 2016 20:19:42 +0000
Received: from gauss.localdomain (v4-86134ce7.pool.vitroconnect.de [134.19.76.231])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id AFA591A0046
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 20:19:41 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id E02B5431
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 21:19:42 +0100 (CET)
Subject: Re: svn commit: r1729507 - in /httpd/httpd/trunk/modules:
 http2/mod_proxy_http2.c proxy/mod_proxy.c proxy/mod_proxy.h
 proxy/mod_proxy_ajp.c proxy/mod_proxy_http.c proxy/mod_proxy_wstunnel.c
To: dev@httpd.apache.org
References: <20160209233900.08EFB3A058B@svn01-us-west.apache.org>
 <56BB8DA1.1000302@apache.org>
 <3695F96D-A2D2-4287-9870-DF4EA0554BB9@jaguNET.com>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56BB9B5E.1020806@apache.org>
Date: Wed, 10 Feb 2016 21:19:42 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <3695F96D-A2D2-4287-9870-DF4EA0554BB9@jaguNET.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 02/10/2016 09:15 PM, Jim Jagielski wrote:
> It looks like the whole retry was removed :(

If you look at the old code before r1729507 there wasn't any retry in the mod_proxy_wstunnel case.
The loop had just one iteration. Hence my comment below. Why do we keep a loop at all?

Regards

Rdiger

> 
>> On Feb 10, 2016, at 2:21 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>>
>>
>>
>> On 02/10/2016 12:38 AM, ylavic@apache.org wrote:
>>> Author: ylavic
>>> Date: Tue Feb  9 23:38:59 2016
>>> New Revision: 1729507
>>>
>>> URL: http://svn.apache.org/viewvc?rev=1729507&view=rev
>>> Log:
>>> mod_proxy: axe negative "ping" parameter setting and handling.
>>> This used to check for the backend connection readability only (instead of
>>> the full ping/100-continue round-trip), but the case is already handled by
>>> ap_proxy_connect_backend() which is always called.
>>>
>>> Modified:
>>>    httpd/httpd/trunk/modules/http2/mod_proxy_http2.c
>>>    httpd/httpd/trunk/modules/proxy/mod_proxy.c
>>>    httpd/httpd/trunk/modules/proxy/mod_proxy.h
>>>    httpd/httpd/trunk/modules/proxy/mod_proxy_ajp.c
>>>    httpd/httpd/trunk/modules/proxy/mod_proxy_http.c
>>>    httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
>>>
>>
>>> Modified: httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
>>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c?rev=1729507&r1=1729506&r2=1729507&view=diff
>>> ==============================================================================
>>> --- httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c (original)
>>> +++ httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c Tue Feb  9 23:38:59 2016
>>
>>> @@ -463,15 +462,13 @@ static int proxy_wstunnel_handler(reques
>>>     backend->is_ssl = is_ssl;
>>>     backend->close = 0;
>>>
>>> -    retry = 0;
>>> -    while (retry < 2) {
>>> +    do { /* while (0): break out */
>>>         char *locurl = url;
>>>         /* Step One: Determine Who To Connect To */
>>>         status = ap_proxy_determine_connection(p, r, conf, worker, backend,
>>>                                                uri, &locurl, proxyname, proxyport,
>>>                                                server_portstr,
>>>                                                sizeof(server_portstr));
>>> -
>>>         if (status != OK)
>>>             break;
>>>
>>> @@ -495,8 +492,7 @@ static int proxy_wstunnel_handler(reques
>>>         /* Step Three: Process the Request */
>>>         status = proxy_wstunnel_request(p, r, backend, worker, conf, uri, locurl,
>>>                                       server_portstr, scheme);
>>> -        break;
>>> -    }
>>> +    } while (0);
>>
>> Do you keep this loop just to keep the formating?
>>
>> Regards
>>
>> Rdiger
>>
> 
> 

From dev-return-85547-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 10 20:53:02 2016
Return-Path: <dev-return-85547-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 47218187FC
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Feb 2016 20:53:02 +0000 (UTC)
Received: (qmail 56469 invoked by uid 500); 10 Feb 2016 20:53:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56405 invoked by uid 500); 10 Feb 2016 20:53:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56395 invoked by uid 99); 10 Feb 2016 20:53:01 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Feb 2016 20:53:01 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 00A081A069F
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 20:53:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id AJwKmnrEHjPz for <dev@httpd.apache.org>;
	Wed, 10 Feb 2016 20:52:57 +0000 (UTC)
Received: from mail-qg0-f48.google.com (mail-qg0-f48.google.com [209.85.192.48])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 5046842A16
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 20:52:57 +0000 (UTC)
Received: by mail-qg0-f48.google.com with SMTP id b67so23505701qgb.1
        for <dev@httpd.apache.org>; Wed, 10 Feb 2016 12:52:57 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=GaizMg/PWxAmiI/dgLkkOLlWlUyKD0rXu7Dw1Edu3IE=;
        b=G59QsQ8Bv8nVFiqTW6x/MI9OaDO4OvOEGkz2S9uh4nlno7UrH6G2iZfZAZBN+JjZDp
         zQ7fmZFN+T1xcjxd6ypmA7cTHLA+D6v3VC5aUrG+3cX8GoCRQ49QzbAPMgG8pmI+C8v4
         jCItzhf34Yu+MZ/koMyYHXdjIoIf7asBb4wxUD9abBZb4hyU3SHR3woZE+GxF/6fjTTC
         PjDYyO5OS6ZD5Pse0OPa8YqjEklB2kN4EtSq1y4b7TmPqcXOWtu7Phs2a7Yr9imN2flK
         aRI37BrkO2OEIgYsgD34pDuFGUURlDcTpfnsM/I97GovD+0X5MfzwE2WLzrL/0FoTYIQ
         tnIA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=GaizMg/PWxAmiI/dgLkkOLlWlUyKD0rXu7Dw1Edu3IE=;
        b=aEOAg1IOT6yUxkLNeOhta1MISM8dORsAeDcb3X7RaaCaFZP6KWoGigPF6Jly9R6byf
         E4wWcU5p+34mwb6YZNq/a5CeA47dH8xc0jECjK4tgflfpi5hxCPGot6EuuEIQudSzG4s
         44SUFhvC+PgCxa0yIF3OrETcggxtrtU2C7WIPRYqq/nPwpoonf9K+5llx0Ak8VjE2/Ay
         J8U2TEnIwL3YqQYxCQNnvvvODA8DtJu7eOqQlyoa2AQ5mN1P0sUFOuC+RKIve0ZnbICN
         WiV7qmTvduDSehItV2iKV4+ynIo44rZKt2Kdv/4tIk7nSf7y6i3Ujz9aWv73ETTaNGB1
         i2qA==
X-Gm-Message-State: AG10YOR2pQf+MidKQwOMyQBOcJhCOvTFJjssCCx8XPE40VCcS/aUoOB+r22N91AVo/1jivjZgns+6gTgezDN+w==
MIME-Version: 1.0
X-Received: by 10.140.31.8 with SMTP id e8mr52620433qge.14.1455137577066; Wed,
 10 Feb 2016 12:52:57 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 10 Feb 2016 12:52:57 -0800 (PST)
In-Reply-To: <56BB9B5E.1020806@apache.org>
References: <20160209233900.08EFB3A058B@svn01-us-west.apache.org>
	<56BB8DA1.1000302@apache.org>
	<3695F96D-A2D2-4287-9870-DF4EA0554BB9@jaguNET.com>
	<56BB9B5E.1020806@apache.org>
Date: Wed, 10 Feb 2016 21:52:57 +0100
Message-ID: <CAKQ1sVOq-YsRyYp8amXE8M-PNeQem-FDfOa_HsTOSyc02ayFhw@mail.gmail.com>
Subject: Re: svn commit: r1729507 - in /httpd/httpd/trunk/modules:
 http2/mod_proxy_http2.c proxy/mod_proxy.c proxy/mod_proxy.h
 proxy/mod_proxy_ajp.c proxy/mod_proxy_http.c proxy/mod_proxy_wstunnel.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Feb 10, 2016 at 9:19 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>
> On 02/10/2016 09:15 PM, Jim Jagielski wrote:
>> It looks like the whole retry was removed :(
>
> If you look at the old code before r1729507 there wasn't any retry in the mod_proxy_wstunnel case.
> The loop had just one iteration. Hence my comment below.

Indeed, this was a fake loop, and still is..

> Why do we keep a loop at all?

I wanted to avoid a goto construction or early returns for the failing cases.
I could have used something like:
    rv = ...;
    if (rv == APR_SUCCESS) {
        ...;
        rv = ...;
        if (rv == APR_SUCCESS)...
    }
or:
    rv = ...;
    if (rv == APR_SUCCESS) {
        ...;
        rv = ...;
    }
    if (rv == APR_SUCCESS)...
but this was more change on the original code.

Maybe the comment:
> +    do { /* while (0): break out */
           ...
> +    } while (0);
isn't explicit enough?

Otherwise I can change the code to whatever you/dev@ prefer.

@Jim: this was yet another attempt for a do-while in httpd :)
(http://mail-archives.apache.org/mod_mbox/httpd-dev/201511.mbox/%3CCAKQ1sVOzutUqT3M1zy51W5C8B8AeVxtNBa=eEkrXOyK1OdEdRA@mail.gmail.com%3E)

Regards,
Yann.

From dev-return-85548-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 10 21:06:26 2016
Return-Path: <dev-return-85548-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DE32C188BE
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Feb 2016 21:06:26 +0000 (UTC)
Received: (qmail 7662 invoked by uid 500); 10 Feb 2016 21:06:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 7582 invoked by uid 500); 10 Feb 2016 21:06:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 7573 invoked by uid 99); 10 Feb 2016 21:06:26 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Feb 2016 21:06:26 +0000
Received: from gauss.localdomain (v4-86134ce7.pool.vitroconnect.de [134.19.76.231])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 02EB01A00C5
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 21:06:25 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id D4749E13
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 22:06:26 +0100 (CET)
Subject: Re: svn commit: r1729507 - in /httpd/httpd/trunk/modules:
 http2/mod_proxy_http2.c proxy/mod_proxy.c proxy/mod_proxy.h
 proxy/mod_proxy_ajp.c proxy/mod_proxy_http.c proxy/mod_proxy_wstunnel.c
To: dev@httpd.apache.org
References: <20160209233900.08EFB3A058B@svn01-us-west.apache.org>
 <56BB8DA1.1000302@apache.org>
 <3695F96D-A2D2-4287-9870-DF4EA0554BB9@jaguNET.com>
 <56BB9B5E.1020806@apache.org>
 <CAKQ1sVOq-YsRyYp8amXE8M-PNeQem-FDfOa_HsTOSyc02ayFhw@mail.gmail.com>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56BBA652.401@apache.org>
Date: Wed, 10 Feb 2016 22:06:26 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVOq-YsRyYp8amXE8M-PNeQem-FDfOa_HsTOSyc02ayFhw@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 02/10/2016 09:52 PM, Yann Ylavic wrote:
> On Wed, Feb 10, 2016 at 9:19 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>>
>> On 02/10/2016 09:15 PM, Jim Jagielski wrote:
>>> It looks like the whole retry was removed :(
>>
>> If you look at the old code before r1729507 there wasn't any retry in the mod_proxy_wstunnel case.
>> The loop had just one iteration. Hence my comment below.
> 
> Indeed, this was a fake loop, and still is..
> 
>> Why do we keep a loop at all?
> 
> I wanted to avoid a goto construction or early returns for the failing cases.

Interesting approach to solve this issue with a do while loop :-).
I guess we could use a goto as we do in other parts of the code for similar situations.

Regards

Rdiger

From dev-return-85549-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 10 21:08:56 2016
Return-Path: <dev-return-85549-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 89C6F188E1
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Feb 2016 21:08:56 +0000 (UTC)
Received: (qmail 12289 invoked by uid 500); 10 Feb 2016 21:08:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12222 invoked by uid 500); 10 Feb 2016 21:08:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12212 invoked by uid 99); 10 Feb 2016 21:08:56 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Feb 2016 21:08:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id AD57518048C
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 21:08:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ZXDwvsAg3Ol6 for <dev@httpd.apache.org>;
	Wed, 10 Feb 2016 21:08:55 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 3A7D831ADE
	for <dev@httpd.apache.org>; Wed, 10 Feb 2016 21:08:53 +0000 (UTC)
Received: from resomta-po-20v.sys.comcast.net ([96.114.154.244])
	by resqmta-po-05v.sys.comcast.net with comcast
	id Gl8G1s0015Geu2801l8m8D; Wed, 10 Feb 2016 21:08:46 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-20v.sys.comcast.net with comcast
	id Gl8l1s00C2U0RYt01l8lGl; Wed, 10 Feb 2016 21:08:46 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: balancer-manager docs
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <7C7CCE57-72B6-4BD5-A32F-64C66B29DFBE@jaguNET.com>
Date: Wed, 10 Feb 2016 16:08:44 -0500
Cc: docs@httpd.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <F73508E7-9D1D-4EEF-83E8-FBD15387372B@jaguNET.com>
References: <35BFE5B2-2E21-4E04-85F0-846C2E28A04F@jaguNET.com> <56BA0D8A.6080906@kippdata.de> <9D3104FA-8978-4F40-8CEF-6ABA03308BDD@c8h10n4o2.org.uk> <7C7CCE57-72B6-4BD5-A32F-64C66B29DFBE@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455138526;
	bh=MYGKgjRO6vJOg4r1dFk6yHF/WfjBAImFp5SdWJrRt74=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=seLe6OjZZOm4NtyNkxfXMOLJq2ExZDyQpWyBHuy22CTvm4AgcqOppuwZXXylFQnKe
	 gxleZCASwnXGJJZyI9SC8jXDjRup+gT1EtdIRygW/Gpi0rYe8xqSNUAJI5j6GK+gXT
	 3dO5Ceucmc09eE/Xwle8X2ql7eTjNK3MUFD/2kyJr/VKRjNHrpOM/UH2/2qzup8sAx
	 GRO0xoNGROix/1T7qqcKkGnTDlOy9FZHXqdMDzD1ADnK3eeXfV5p5ti2EnwxGGUQzB
	 RwAc3LtsBI1Zsjsgy0CuutVFgPQMo5l1oNDHOLBs2JojYP693RKS0sCH5gm8InK6Ek
	 +Pchl2NHHvdvw==

Work in progress in:

    docs/manual/howto/reverse_proxy.xml

cheers!

From dev-return-85550-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 10 21:14:07 2016
Return-Path: <dev-return-85550-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B0CDC1891E
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Feb 2016 21:14:07 +0000 (UTC)
Received: (qmail 28215 invoked by uid 500); 10 Feb 2016 21:14:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28148 invoked by uid 500); 10 Feb 2016 21:14:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28132 invoked by uid 99); 10 Feb 2016 21:14:07 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Feb 2016 21:14:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id AD772C00E6;
	Wed, 10 Feb 2016 21:14:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id fPWyLkvn8l_e; Wed, 10 Feb 2016 21:14:06 +0000 (UTC)
Received: from mail-lb0-f176.google.com (mail-lb0-f176.google.com [209.85.217.176])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 8A43320507;
	Wed, 10 Feb 2016 21:14:05 +0000 (UTC)
Received: by mail-lb0-f176.google.com with SMTP id cw1so17708486lbb.1;
        Wed, 10 Feb 2016 13:14:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :cc:content-type;
        bh=FGHKTzDPfc3WaxiRGzZKVo2dAKvBOTrrhNRW3ANPMHQ=;
        b=vyD6Z2v1BP42C9ASIQkKbXghd3v1o//oqAltRNQ9E4s74VcAfkFNykvEnNBEmRB7Tt
         8XIxjT1TPFSqTpV+f0paPIE/9DKZrCyq2/5fq5ZnUZNqg8RdcQFucKsbtw2nDjBn8tNb
         ZQP2Z9MKwZQhugUFe0y6OrEkui9snUnHnzxLKzrtNm5H99fQTTCpRmOnrjOFuW6zX2WD
         PJICfbvEJgwLX7FXNdZ6lpqPj6VlRfODlq5WVvGPTUNi80pm/fez+mFZ7VqZRCDTRlRL
         zLugpSfL9QmVRFOZ69TPlS13tnCWwJvUEnmPohnqwNKnwEkrxDlXanr7AQcwvgqKhgjq
         /Nug==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:references:in-reply-to:from:date
         :message-id:subject:to:cc:content-type;
        bh=FGHKTzDPfc3WaxiRGzZKVo2dAKvBOTrrhNRW3ANPMHQ=;
        b=Yu3mRTQ4FVp+ry/jO9ozy5p8oaipLslo65Uu7fYkg9hlRh+ATiLbrTpI6QMCEXjwot
         JDCSGuO/574JIoJYn5fjOIqCK31NzmqquYq5tGkhKqqVQMwEq9DVQ5z8RZ2PzNZ3Ch0T
         lGI0wqIZVsy/JvtnKbUpDbj+7i6/noXmkvC24m8kSS0ypt3i5obWD1tFFGULdtpLiG2/
         lacNosZRlsGkK54X6GkREzJOm+aU+V5IGtzYw0xvSQ7+QljxpBOSi9wMoJy99Z9qeIIa
         jpHTQlphHs43MxltVGu3bQJTNM17EsVrkuDHGugyJAFDqf44NQ/cR/LZm3A9EQwnQeof
         yOsg==
X-Gm-Message-State: AG10YORlyuMuZbqdfLOSDaz0Y7fWlTUkKV7e593KloXH27U1kOc7oUJcu0k15nNBsF33AHy8V2Jpa25rOhLcGw==
X-Received: by 10.112.13.193 with SMTP id j1mr17936088lbc.24.1455138837997;
 Wed, 10 Feb 2016 13:13:57 -0800 (PST)
MIME-Version: 1.0
References: <35BFE5B2-2E21-4E04-85F0-846C2E28A04F@jaguNET.com>
 <56BA0D8A.6080906@kippdata.de> <9D3104FA-8978-4F40-8CEF-6ABA03308BDD@c8h10n4o2.org.uk>
 <7C7CCE57-72B6-4BD5-A32F-64C66B29DFBE@jaguNET.com> <F73508E7-9D1D-4EEF-83E8-FBD15387372B@jaguNET.com>
In-Reply-To: <F73508E7-9D1D-4EEF-83E8-FBD15387372B@jaguNET.com>
From: Daniel <dferradal@gmail.com>
Date: Wed, 10 Feb 2016 21:13:48 +0000
Message-ID: <CAHti5NFq_Vwt6m60BWtZ4x_rZVWxLqMWO2qOzBUmFOJjj7tThw@mail.gmail.com>
Subject: Re: balancer-manager docs
To: dev@httpd.apache.org
Cc: docs@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11c3195c89ae13052b70e964

--001a11c3195c89ae13052b70e964
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Sorry for the intrusion.

Since you guys are on it, a brief description telling that mod_slotmem_XXX
is REQUIRED if you choose to load any type of mod_lbmethod would also be a
good tip to add in the docs.

Cheers!

El mi=C3=A9., 10 feb. 2016 a las 22:08, Jim Jagielski (<jim@jagunet.com>)
escribi=C3=B3:

> Work in progress in:
>
>     docs/manual/howto/reverse_proxy.xml
>
> cheers!
>

--001a11c3195c89ae13052b70e964
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Sorry for the intrusion.<div><br></div><div>Since you guys=
 are on it, a brief description telling that mod_slotmem_XXX is REQUIRED if=
 you choose to load any type of mod_lbmethod would also be a good tip to ad=
d in the docs.</div><div><br></div><div>Cheers!</div></div><br><div class=
=3D"gmail_quote"><div dir=3D"ltr">El mi=C3=A9., 10 feb. 2016 a las 22:08, J=
im Jagielski (&lt;<a href=3D"mailto:jim@jagunet.com">jim@jagunet.com</a>&gt=
;) escribi=C3=B3:<br></div><blockquote class=3D"gmail_quote" style=3D"margi=
n:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Work in progress =
in:<br>
<br>
=C2=A0 =C2=A0 docs/manual/howto/reverse_proxy.xml<br>
<br>
cheers!<br>
</blockquote></div>

--001a11c3195c89ae13052b70e964--

From dev-return-85551-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 02:10:19 2016
Return-Path: <dev-return-85551-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9CCCF187C4
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 02:10:19 +0000 (UTC)
Received: (qmail 59093 invoked by uid 500); 11 Feb 2016 02:10:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59031 invoked by uid 500); 11 Feb 2016 02:10:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59021 invoked by uid 99); 11 Feb 2016 02:10:19 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 02:10:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id B1F701A0084
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 02:10:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id OivymCSaRgmM for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 02:10:14 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 12FBB2050D
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 02:10:13 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 68C61202EE
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 03:10:11 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xfJQDYQoC7Z6 for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 03:10:10 +0100 (CET)
Received: from [10.0.0.1] (unknown [101.174.12.254])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id D2FF11FEC8
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 03:10:08 +0100 (CET)
Subject: Re: httpd-trunk/modules/http2 gets a proxy
To: dev@httpd.apache.org
References: <56B911B2.3080400@gknw.net>
 <33BC9153-7AE2-44C2-97B7-94EEC8382711@greenbytes.de>
From: NormW <normw@gknw.net>
Message-ID: <56BBED72.8040604@gknw.net>
Date: Thu, 11 Feb 2016 13:09:54 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <33BC9153-7AE2-44C2-97B7-94EEC8382711@greenbytes.de>
Content-Type: multipart/mixed;
 boundary="------------020308020601000108030502"

This is a multi-part message in MIME format.
--------------020308020601000108030502
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit

G/A Stefan,
My BBAADD. Until recently /http2 was home only to mod_http2, and to keep 
things automatic my NWGNUmakefile in there used a wildcard *.c to get 
the list of object files to build there. When the compile  failed due to 
added .c files I made a few tweaks to the NWGNU and it all linked 
without issue again so I forwarded the small tweaks. Closer reading of 
the list and the added .c revealed there are (at least) two modules now 
in /http2. This necessitated a change of the NWGNU to use a specified 
list of .c for a start, and removal of a couple of the patch lines I'd 
recently sent. Because other modules will be sharing the same dir I've 
renamed the original NWNUmakefile to NWGNUmod_http2 and there is now a 
new NWGNUmakefile whose only job is to call the other NWGNU files that 
will eventually exist in the dir. (If all this sounds confusing it 
probably is, but by way of example see /proxy dir and note a 
NWGNUmakefile that contains a list of executables to build.)

If we are still speaking after explaining all that, the new files are 
attached, thus:
: NWGUmod_http2 which now has the list of /http2 files to build mod_http2;

: NWGNUmakefile which, FTM, has a list of modules to build, but I won't 
try to explain why the list has a double entry if there is only one (so 
far) to build.

Hopefully I will eventually work out a process to do away with this 
'additional' NWGNUmakefile, which would allow removal of quite a few 
from the source tree.
Apologies for the bother,
Norm

On 10/02/2016 10:34 PM, Stefan Eissing wrote:
> Applied in r1729583. Thanks!
>
>> Am 08.02.2016 um 23:07 schrieb NormW <normw@gknw.net>:


>> G/M,
>> Recent additions to http-trunk/modules/http2 require the attached apatch to the http2 NetWare build file:
>>> Index: modules/http2/NWGNUmakefile
>>> ===================================================================
>>> --- modules/http2/NWGNUmakefile	(revision 1729251)
>>> +++ modules/http2/NWGNUmakefile	(working copy)
>>> @@ -34,6 +34,8 @@
>>> 			$(NGH2SRC)/lib/ \
>>> 			$(NGH2SRC)/lib/includes \
>>> 			$(SERVER)/mpm/NetWare \
>>> +			$(STDMOD)/proxy \
>>> +			$(STDMOD)/ssl \
>>> 			$(NWOS) \
>>> 			$(EOLIST)
>>>
>>> @@ -55,6 +57,7 @@
>>> #
>>> XLFLAGS		+= \
>>> 			-L$(OBJDIR) \
>>> +			-L../proxy \
>>> 			$(EOLIST)
>>>
>>> #
>>> @@ -224,6 +227,7 @@
>>> 	@libc.imp \
>>> 	@aprlib.imp \
>>> 	@httpd.imp \
>>> +	@mod_proxy.imp \
>>> 	$(EOLIST)
>>>
>>> #
>>
>> The first 2 extra lines allow the compiler to find extra headers, the 3rd allows the linker to locate mod_proxy.imp.
>>
>> Please review and apply this if it seems reasonable.
>>
>> Norm
>> <htttp2_gets_a_proxy.diff>
>


--------------020308020601000108030502
Content-Type: text/plain; charset=UTF-8;
 name="NWGNUmakefile"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="NWGNUmakefile"

#
# Declare the sub-directories to be built here
#

SUBDIRS = \
	$(EOLIST)

#
# Get the 'head' of the build environment.  This includes default targets and
# paths to tools
#

include $(AP_WORK)/build/NWGNUhead.inc

#
# build this level's files

#
# Make sure all needed macro's are defined
#

#
# These directories will be at the beginning of the include list, followed by
# INCDIRS
#
XINCDIRS	+= \
<<<<<<< .mine
=======
			$(APR)/include \
			$(APRUTIL)/include \
			$(SRC)/include \
			$(NGH2SRC)/lib/ \
			$(NGH2SRC)/lib/includes \
			$(SERVER)/mpm/NetWare \
			$(STDMOD)/proxy \
			$(STDMOD)/ssl \
			$(NWOS) \
>>>>>>> .r1729754
			$(EOLIST)

#
# These flags will come after CFLAGS
#
XCFLAGS		+= \
			$(EOLIST)

#
# These defines will come after DEFINES
#
XDEFINES	+= \
			$(EOLIST)

#
# These flags will be added to the link.opt file
#
XLFLAGS		+= \
			-L../proxy \
			$(EOLIST)

#
# These values will be appended to the correct variables based on the value of
# RELEASE
#
ifeq "$(RELEASE)" "debug"
XINCDIRS	+= \
			$(EOLIST)

XCFLAGS		+= \
			$(EOLIST)

XDEFINES	+= \
			$(EOLIST)

XLFLAGS		+= \
			$(EOLIST)
endif

ifeq "$(RELEASE)" "noopt"
XINCDIRS	+= \
			$(EOLIST)

XCFLAGS		+= \
			$(EOLIST)

XDEFINES	+= \
			$(EOLIST)

XLFLAGS		+= \
			$(EOLIST)
endif

ifeq "$(RELEASE)" "release"
XINCDIRS	+= \
			$(EOLIST)

XCFLAGS		+= \
			$(EOLIST)

XDEFINES	+= \
			$(EOLIST)

XLFLAGS		+= \
			$(EOLIST)
endif

#
# These are used by the link target if an NLM is being generated
# This is used by the link 'name' directive to name the nlm.  If left blank
# TARGET_nlm (see below) will be used.
#
NLM_NAME	=

#
# This is used by the link '-desc ' directive.
# If left blank, NLM_NAME will be used.
#
NLM_DESCRIPTION	=

#
# This is used by the '-threadname' directive.  If left blank,
# NLM_NAME Thread will be used.
#
NLM_THREAD_NAME	=

#
# If this is specified, it will override VERSION value in
# $(AP_WORK)/build/NWGNUenvironment.inc
#
NLM_VERSION	=

#
# If this is specified, it will override the default of 64K
#
NLM_STACK_SIZE	=


#
# If this is specified it will be used by the link '-entry' directive
#
NLM_ENTRY_SYM	=

#
# If this is specified it will be used by the link '-exit' directive
#
NLM_EXIT_SYM	=

#
# If this is specified it will be used by the link '-check' directive
#
NLM_CHECK_SYM	=

#
# If these are specified it will be used by the link '-flags' directive
#
NLM_FLAGS	=

#
# If this is specified it will be linked in with the XDCData option in the def
# file instead of the default of $(NWOS)/apache.xdc.  XDCData can be disabled
# by setting APACHE_UNIPROC in the environment
#
XDCDATA		=

#
# If there is an NLM target, put it here
#
TARGET_nlm = \
	$(OBJDIR)/mod_http2.nlm \
	$(OBJDIR)/mod_http2.nlm \
	$(EOLIST)

#
# If there is an LIB target, put it here
#
TARGET_lib = \
	$(EOLIST)

#
# These are the OBJ files needed to create the NLM target above.
# Paths must all use the '/' character
#
FILES_nlm_objs = \
	$(EOLIST)

#
# These are the LIB files needed to create the NLM target above.
# These will be added as a library command in the link.opt file.
#
FILES_nlm_libs = \
	$(EOLIST)

#
# These are the modules that the above NLM target depends on to load.
# These will be added as a module command in the link.opt file.
#
FILES_nlm_modules = \
	$(EOLIST)

#
# If the nlm has a msg file, put it's path here
#
FILE_nlm_msg =

#
# If the nlm has a hlp file put it's path here
#
FILE_nlm_hlp =

#
# If this is specified, it will override $(NWOS)\copyright.txt.
#
FILE_nlm_copyright =

#
# Any additional imports go here
#
FILES_nlm_Ximports = \
	@mod_proxy.imp \
	$(EOLIST)

#
# Any symbols exported to here
#
FILES_nlm_exports = \
	$(EOLIST)

#
# These are the OBJ files needed to create the LIB target above.
# Paths must all use the '/' character
#
FILES_lib_objs = \
	$(EOLIST)

#
# implement targets and dependancies (leave this section alone)
#

libs :: $(OBJDIR) $(TARGET_lib)

nlms :: libs $(TARGET_nlm)

#
# Updated this target to create necessary directories and copy files to the
# correct place.  (See $(AP_WORK)/build/NWGNUhead.inc for examples)
#
install :: nlms FORCE
	$(call COPY,$(OBJDIR)/*.nlm, $(INSTALLBASE)/modules/)

#
# Any specialized rules here
#

#
# Include the 'tail' makefile that has targets that depend on variables defined
# in this makefile
#

include $(APBUILD)/NWGNUtail.inc



--------------020308020601000108030502
Content-Type: text/plain; charset=UTF-8;
 name="NWGNUmod_http2"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="NWGNUmod_http2"

#
# This Makefile requires the environment var NGH2SRC
# pointing to the base directory of nghttp2 source tree.
#

#
# Declare the sub-directories to be built here
#

SUBDIRS = \
	$(EOLIST)

#
# Get the 'head' of the build environment.  This includes default targets and
# paths to tools
#

include $(AP_WORK)/build/NWGNUhead.inc

#
# build this level's files
#
# Make sure all needed macro's are defined
#

#
# These directories will be at the beginning of the include list, followed by
# INCDIRS
#
XINCDIRS	+= \
			$(APR)/include \
			$(APRUTIL)/include \
			$(SRC)/include \
			$(NGH2SRC)/lib/ \
			$(NGH2SRC)/lib/includes \
			$(SERVER)/mpm/NetWare \
			$(STDMOD)/ssl \
			$(NWOS) \
			$(EOLIST)

#
# These flags will come after CFLAGS
#
XCFLAGS		+= \
			$(EOLIST)

#
# These defines will come after DEFINES
#
XDEFINES	+= \
			-DHAVE_CONFIG_H \
			$(EOLIST)

#
# These flags will be added to the link.opt file
#
XLFLAGS		+= \
			-L$(OBJDIR) \
			$(EOLIST)

#
# These values will be appended to the correct variables based on the value of
# RELEASE
#
ifeq "$(RELEASE)" "debug"
XINCDIRS	+= \
			$(EOLIST)

XCFLAGS		+= \
			$(EOLIST)

XDEFINES	+= \
			$(EOLIST)

XLFLAGS		+= \
			$(EOLIST)
endif

ifeq "$(RELEASE)" "noopt"
XINCDIRS	+= \
			$(EOLIST)

XCFLAGS		+= \
			$(EOLIST)

XDEFINES	+= \
			$(EOLIST)

XLFLAGS		+= \
			$(EOLIST)
endif

ifeq "$(RELEASE)" "release"
XINCDIRS	+= \
			$(EOLIST)

XCFLAGS		+= \
			$(EOLIST)

XDEFINES	+= \
			$(EOLIST)

XLFLAGS		+= \
			$(EOLIST)
endif

#
# These are used by the link target if an NLM is being generated
# This is used by the link 'name' directive to name the nlm.  If left blank
# TARGET_nlm (see below) will be used.
#
NLM_NAME	= mod_http2

#
# This is used by the link '-desc ' directive.
# If left blank, NLM_NAME will be used.
#
NLM_DESCRIPTION	= Apache $(VERSION_STR) HTTP2 Support module (w/ NGHTTP2 Lib)

#
# This is used by the '-threadname' directive.  If left blank,
# NLM_NAME Thread will be used.
#
NLM_THREAD_NAME	= $(NLM_NAME)

#
# If this is specified, it will override VERSION value in
# $(AP_WORK)/build/NWGNUenvironment.inc
#
NLM_VERSION	=

#
# If this is specified, it will override the default of 64K
#
NLM_STACK_SIZE	= 65536

#
# If this is specified it will be used by the link '-entry' directive
#
NLM_ENTRY_SYM	=

#
# If this is specified it will be used by the link '-exit' directive
#
NLM_EXIT_SYM	=

#
# If this is specified it will be used by the link '-check' directive
#
NLM_CHECK_SYM	=

#
# If this is specified it will be used by the link '-flags' directive
#
NLM_FLAGS	=

#
# If this is specified it will be linked in with the XDCData option in the def
# file instead of the default of $(NWOS)/apache.xdc.  XDCData can be disabled
# by setting APACHE_UNIPROC in the environment
#
XDCDATA		=

#
# Declare all target files (you must add your files here)
#

#
# If there is an NLM target, put it here
#
TARGET_nlm = \
	$(OBJDIR)/$(NLM_NAME).nlm \
	$(EOLIST)

#
# If there is an LIB target, put it here
#
TARGET_lib = \
	$(OBJDIR)/nghttp2.lib \
	$(EOLIST)

#
# These are the OBJ files needed to create the NLM target above.
# Paths must all use the '/' character
#
FILES_nlm_objs = \
	$(OBJDIR)/h2_alt_svc.o \
	$(OBJDIR)/h2_bucket_eoc.o \
	$(OBJDIR)/h2_bucket_eos.o \
	$(OBJDIR)/h2_config.o \
	$(OBJDIR)/h2_conn.o \
	$(OBJDIR)/h2_conn_io.o \
	$(OBJDIR)/h2_ctx.o \
	$(OBJDIR)/h2_filter.o \
	$(OBJDIR)/h2_from_h1.o \
	$(OBJDIR)/h2_h2.o \
	$(OBJDIR)/h2_io.o \
	$(OBJDIR)/h2_io_set.o \
	$(OBJDIR)/h2_mplx.o \
	$(OBJDIR)/h2_push.o \
	$(OBJDIR)/h2_request.o \
	$(OBJDIR)/h2_response.o \
	$(OBJDIR)/h2_session.o \
	$(OBJDIR)/h2_stream.o \
	$(OBJDIR)/h2_stream_set.o \
	$(OBJDIR)/h2_switch.o \
	$(OBJDIR)/h2_task.o \
	$(OBJDIR)/h2_task_input.o \
	$(OBJDIR)/h2_task_output.o \
	$(OBJDIR)/h2_task_queue.o \
	$(OBJDIR)/h2_util.o \
	$(OBJDIR)/h2_worker.o \
	$(OBJDIR)/h2_workers.o \
	$(OBJDIR)/mod_http2.o \
	$(EOLIST)

#
# These are the LIB files needed to create the NLM target above.
# These will be added as a library command in the link.opt file.
#
FILES_nlm_libs = \
	$(PRELUDE) \
	$(OBJDIR)/nghttp2.lib \
	$(EOLIST)

#
# These are the modules that the above NLM target depends on to load.
# These will be added as a module command in the link.opt file.
#
FILES_nlm_modules = \
	Libc \
	Apache2 \
	$(EOLIST)

#
# If the nlm has a msg file, put it's path here
#
FILE_nlm_msg =

#
# If the nlm has a hlp file put it's path here
#
FILE_nlm_hlp =

#
# If this is specified, it will override $(NWOS)\copyright.txt.
#
FILE_nlm_copyright =

#
# Any additional imports go here
#
FILES_nlm_Ximports = \
	@libc.imp \
	@aprlib.imp \
	@httpd.imp \
	$(EOLIST)

#
# Any symbols exported to here
#
FILES_nlm_exports = \
	http2_module \
	$(EOLIST)

#
# These are the OBJ files needed to create the LIB target above.
# Paths must all use the '/' character
#
FILES_lib_objs := $(sort $(patsubst $(NGH2SRC)/lib/%.c,$(OBJDIR)/%.o,$(wildcard $(NGH2SRC)/lib/*.c)))
#
# implement targets and dependancies (leave this section alone)
#

libs :: $(OBJDIR) $(NGH2SRC)/lib/config.h $(TARGET_lib)

nlms :: libs $(TARGET_nlm)

#
# Updated this target to create necessary directories and copy files to the
# correct place.  (See $(AP_WORK)/build/NWGNUhead.inc for examples)
#
install :: nlms FORCE
	$(call COPY,$(OBJDIR)/*.nlm,        $(INSTALLBASE)/modules/)

clean ::
	$(call DEL,$(NGH2SRC)/lib/config.h)
#
# Any specialized rules here
#
vpath %.c $(NGH2SRC)/lib

$(NGH2SRC)/lib/config.h : NWGNUmakefile
	@echo $(DL)GEN  $@$(DL)
	@echo $(DL)/* For NetWare target.$(DL) > $@
	@echo $(DL)** Do not edit - created by Make!$(DL) >> $@
	@echo $(DL)*/$(DL) >> $@
	@echo $(DL)#ifndef NGH2_CONFIG_H$(DL) >> $@
	@echo $(DL)#define NGH2_CONFIG_H$(DL) >> $@
	@echo #define HAVE_ARPA_INET_H 1 >> $@
	@echo #define HAVE_CHOWN 1 >> $@
	@echo #define HAVE_DECL_STRERROR_R 1 >> $@
	@echo #define HAVE_DLFCN_H 1 >> $@
	@echo #define HAVE_DUP2 1 >> $@
	@echo #define HAVE_FCNTL_H 1 >> $@
	@echo #define HAVE_GETCWD 1 >> $@
	@echo #define HAVE_INTTYPES_H 1 >> $@
	@echo #define HAVE_LIMITS_H 1 >> $@
	@echo #define HAVE_LOCALTIME_R 1 >> $@
	@echo #define HAVE_MALLOC 1 >> $@
	@echo #define HAVE_MEMCHR 1 >> $@
	@echo #define HAVE_MEMMOVE 1 >> $@
	@echo #define HAVE_MEMORY_H 1 >> $@
	@echo #define HAVE_MEMSET 1 >> $@
	@echo #define HAVE_NETDB_H 1 >> $@
	@echo #define HAVE_NETINET_IN_H 1 >> $@
	@echo #define HAVE_PTRDIFF_T 1 >> $@
	@echo #define HAVE_PWD_H 1 >> $@
	@echo #define HAVE_SOCKET 1 >> $@
	@echo #define HAVE_SQRT 1 >> $@
	@echo #define HAVE_STDDEF_H 1 >> $@
	@echo #define HAVE_STDINT_H 1 >> $@
	@echo #define HAVE_STDLIB_H 1 >> $@
	@echo #define HAVE_STRCHR 1 >> $@
	@echo #define HAVE_STRDUP 1 >> $@
	@echo #define HAVE_STRERROR 1 >> $@
	@echo #define HAVE_STRERROR_R 1 >> $@
	@echo #define HAVE_STRINGS_H 1 >> $@
	@echo #define HAVE_STRING_H 1 >> $@
	@echo #define HAVE_STRSTR 1 >> $@
	@echo #define HAVE_STRTOL 1 >> $@
	@echo #define HAVE_STRTOUL 1 >> $@
	@echo #define HAVE_SYSLOG_H 1 >> $@
	@echo #define HAVE_SYS_SOCKET_H 1 >> $@
	@echo #define HAVE_SYS_STAT_H 1 >> $@
	@echo #define HAVE_SYS_TIME_H 1 >> $@
	@echo #define HAVE_SYS_TYPES_H 1 >> $@
	@echo #define HAVE_TIME_H 1 >> $@
	@echo #define HAVE_UNISTD_H 1 >> $@

	@echo #define SIZEOF_INT_P 4 >> $@
	@echo #define STDC_HEADERS 1 >> $@
	@echo #define STRERROR_R_CHAR_P 4 >> $@

# Hint to compiler a function parameter is not used
	@echo #define _U_ >> $@

	@echo #ifndef __cplusplus >> $@
	@echo #define inline __inline >> $@
	@echo #endif >> $@

	@echo $(DL)#endif /* NGH2_CONFIG_H */$(DL) >> $@

#
# Include the 'tail' makefile that has targets that depend on variables defined
# in this makefile
#

include $(APBUILD)/NWGNUtail.inc



--------------020308020601000108030502--

From dev-return-85552-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 09:19:35 2016
Return-Path: <dev-return-85552-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C14D2185D4
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 09:19:35 +0000 (UTC)
Received: (qmail 49880 invoked by uid 500); 11 Feb 2016 09:19:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49815 invoked by uid 500); 11 Feb 2016 09:19:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49804 invoked by uid 99); 11 Feb 2016 09:19:35 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 09:19:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C8FA7180511
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 09:19:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=h4NxjXgQ;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=h4NxjXgQ
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id tNMByYi-awgg for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 09:19:33 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 6991031AE1
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 09:19:32 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id A0D6E15A06F8; Thu, 11 Feb 2016 10:19:24 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455182364; bh=9Z0rj10qYhEvyuz4AvQ3fFeAitIJ9sq5EabGAaZ61ug=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=h4NxjXgQfbV3U9wOJK7gGz/goLNQLpfwChCwB9swKiEg09QD2qaEMM2WVDLTbW76u
	 BFXhkkDaqxpF98txN7Jan6uoHVQLIFiQUw0qFQdA0Zw92X0RH3tdX3OCf/f6indEDl
	 06P91+RDwK8cljiYcucZbnrH4MYZiPAHN6wZFVSQ=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 74DBB15A0327
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 10:19:24 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455182364; bh=9Z0rj10qYhEvyuz4AvQ3fFeAitIJ9sq5EabGAaZ61ug=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=h4NxjXgQfbV3U9wOJK7gGz/goLNQLpfwChCwB9swKiEg09QD2qaEMM2WVDLTbW76u
	 BFXhkkDaqxpF98txN7Jan6uoHVQLIFiQUw0qFQdA0Zw92X0RH3tdX3OCf/f6indEDl
	 06P91+RDwK8cljiYcucZbnrH4MYZiPAHN6wZFVSQ=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1729208 - in /httpd/httpd/trunk/modules: proxy/proxy_util.c ssl/ssl_engine_io.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56BB8AE1.1080105@apache.org>
Date: Thu, 11 Feb 2016 10:19:29 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <9E85405F-BAA9-481A-B4FA-5E680CE5DED5@greenbytes.de>
References: <20160208165008.0993E3A0667@svn01-us-west.apache.org> <56BB8AE1.1080105@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> Am 10.02.2016 um 20:09 schrieb Ruediger Pluem <rpluem@apache.org>:
>=20
>=20
>=20
> On 02/08/2016 05:50 PM, icing@apache.org wrote:
>> [...]#ifdef HAVE_TLSEXT
>> +#ifdef HAVE_TLS_ALPN
>> +        alpn_note =3D apr_table_get(c->notes, =
"proxy-request-alpn-protos");
>> +        if (alpn_note) {
>> +            char *protos, *s, *p, *last;
>> +            apr_size_t len;
>> +           =20
>> +            s =3D protos =3D apr_pcalloc(c->pool, =
strlen(alpn_note)+1);
>> +            p =3D apr_pstrdup(c->pool, alpn_note);
>> +            while ((p =3D apr_strtok(p, ", ", &last))) {
>> +                len =3D last - p - (*last? 1 : 0);=20
>> +                if (len > 255) {
>> +                    ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, =
APLOGNO()
>> +                                  "ALPN proxy protocol identifier =
too long: %s",
>> +                                  p);
>> +                    ssl_log_ssl_error(SSLLOG_MARK, APLOG_ERR, =
server);
>> +                    return APR_EGENERAL;
>> +                }
>> +                *s++ =3D (unsigned char)len;
>> +                while (len--) {
>> +                    *s++ =3D *p++;
>> +                }
>> +                p =3D last;
>=20
> Why not p =3D NULL as it should be for subsequent calls of apr_strtok?

Matter of taste. If code is more readable to everyone using NULL, that =
is fine with me.

Changed in r1729782.

Stefan=

From dev-return-85553-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 09:31:00 2016
Return-Path: <dev-return-85553-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 781B51862F
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 09:31:00 +0000 (UTC)
Received: (qmail 70498 invoked by uid 500); 11 Feb 2016 09:31:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70429 invoked by uid 500); 11 Feb 2016 09:31:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70419 invoked by uid 99); 11 Feb 2016 09:31:00 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 09:31:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 95C69180511
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 09:30:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=qU+ariI9;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=PLNGLAvA
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id kdAQVVp3a_Vk for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 09:30:58 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 481C431AF3
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 09:30:57 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 8180A15A0C21; Thu, 11 Feb 2016 10:30:56 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455183056; bh=cZfbV7U4YNVNkn1rUXzNZAkZl7PrVK0udRFIF2cnd0g=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=qU+ariI92r+t7bx+aQfLdL4i2jVcF4XAcWZeEV7vnlByFsHOfZhmD3lunHYWKz1sS
	 Oc+emMT4vmeZnVmftvPnChG6LFyN/F3sI0E5Thk5R+v5TZLOKpo6UOUDJgeZa8svPy
	 C1enDCwHoSWIvqqZ1FyLeelhxTm2NGB7/swCpwKE=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id D20DD15A062A
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 10:30:55 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455183055; bh=cZfbV7U4YNVNkn1rUXzNZAkZl7PrVK0udRFIF2cnd0g=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=PLNGLAvACMyDdUI/uc4XRA1otXrDBzTFpOL36hlr//2I0FkEbWHNxT0jvGIj6UjEM
	 MiFpICkkkMjsEU8kL4HC4SegFRVRdwsNFZjPZNoieIvwwjKs2h8M4la63GZXB4JU7Y
	 O5TXP9yY8cMQdIkz9hVq8WdjeNtZEsfvbvuxxxiI=
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: httpd-trunk/modules/http2 gets a proxy
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56BBED72.8040604@gknw.net>
Date: Thu, 11 Feb 2016 10:31:01 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <01325F5D-1605-41BA-BCD0-E257E629AE17@greenbytes.de>
References: <56B911B2.3080400@gknw.net> <33BC9153-7AE2-44C2-97B7-94EEC8382711@greenbytes.de> <56BBED72.8040604@gknw.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Uhm, is there an unresolved conflict in the first file?

-Stefan

PS. You know, it *would* actually be easier if you had commit access... =
;-)

> Am 11.02.2016 um 03:09 schrieb NormW <normw@gknw.net>:
>=20
> G/A Stefan,
> My BBAADD. Until recently /http2 was home only to mod_http2, and to =
keep things automatic my NWGNUmakefile in there used a wildcard *.c to =
get the list of object files to build there. When the compile  failed =
due to added .c files I made a few tweaks to the NWGNU and it all linked =
without issue again so I forwarded the small tweaks. Closer reading of =
the list and the added .c revealed there are (at least) two modules now =
in /http2. This necessitated a change of the NWGNU to use a specified =
list of .c for a start, and removal of a couple of the patch lines I'd =
recently sent. Because other modules will be sharing the same dir I've =
renamed the original NWNUmakefile to NWGNUmod_http2 and there is now a =
new NWGNUmakefile whose only job is to call the other NWGNU files that =
will eventually exist in the dir. (If all this sounds confusing it =
probably is, but by way of example see /proxy dir and note a =
NWGNUmakefile that contains a list of executables to build.)
>=20
> If we are still speaking after explaining all that, the new files are =
attached, thus:
> : NWGUmod_http2 which now has the list of /http2 files to build =
mod_http2;
>=20
> : NWGNUmakefile which, FTM, has a list of modules to build, but I =
won't try to explain why the list has a double entry if there is only =
one (so far) to build.
>=20
> Hopefully I will eventually work out a process to do away with this =
'additional' NWGNUmakefile, which would allow removal of quite a few =
from the source tree.
> Apologies for the bother,
> Norm
>=20
> On 10/02/2016 10:34 PM, Stefan Eissing wrote:
>> Applied in r1729583. Thanks!
>>=20
>>> Am 08.02.2016 um 23:07 schrieb NormW <normw@gknw.net>:
>=20
>=20
>>> G/M,
>>> Recent additions to http-trunk/modules/http2 require the attached =
apatch to the http2 NetWare build file:
>>>> Index: modules/http2/NWGNUmakefile
>>>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>>>> --- modules/http2/NWGNUmakefile	(revision 1729251)
>>>> +++ modules/http2/NWGNUmakefile	(working copy)
>>>> @@ -34,6 +34,8 @@
>>>> 			$(NGH2SRC)/lib/ \
>>>> 			$(NGH2SRC)/lib/includes \
>>>> 			$(SERVER)/mpm/NetWare \
>>>> +			$(STDMOD)/proxy \
>>>> +			$(STDMOD)/ssl \
>>>> 			$(NWOS) \
>>>> 			$(EOLIST)
>>>>=20
>>>> @@ -55,6 +57,7 @@
>>>> #
>>>> XLFLAGS		+=3D \
>>>> 			-L$(OBJDIR) \
>>>> +			-L../proxy \
>>>> 			$(EOLIST)
>>>>=20
>>>> #
>>>> @@ -224,6 +227,7 @@
>>>> 	@libc.imp \
>>>> 	@aprlib.imp \
>>>> 	@httpd.imp \
>>>> +	@mod_proxy.imp \
>>>> 	$(EOLIST)
>>>>=20
>>>> #
>>>=20
>>> The first 2 extra lines allow the compiler to find extra headers, =
the 3rd allows the linker to locate mod_proxy.imp.
>>>=20
>>> Please review and apply this if it seems reasonable.
>>>=20
>>> Norm
>>> <htttp2_gets_a_proxy.diff>
>>=20
>=20
> <NWGNUmakefile.txt><NWGNUmod_http2.txt>


From dev-return-85554-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 12:25:22 2016
Return-Path: <dev-return-85554-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 55A6F18C02
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 12:25:22 +0000 (UTC)
Received: (qmail 16572 invoked by uid 500); 11 Feb 2016 12:25:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16489 invoked by uid 500); 11 Feb 2016 12:25:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16479 invoked by uid 99); 11 Feb 2016 12:25:16 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 12:25:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4FD79C1747
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 12:25:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4.814
X-Spam-Level: ****
X-Spam-Status: No, score=4.814 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, HTML_MIME_NO_HTML_TAG=0.635, MIME_HTML_ONLY=3,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=yandex.ru
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id kVNgq3v5Otr0 for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 12:25:14 +0000 (UTC)
Received: from forward19m.cmail.yandex.net (forward19m.cmail.yandex.net [5.255.216.150])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 6C5C020532
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 12:25:14 +0000 (UTC)
Received: from web3m.yandex.ru (web3m.yandex.ru [37.140.138.94])
	by forward19m.cmail.yandex.net (Yandex) with ESMTP id 03710222D2
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 15:24:55 +0300 (MSK)
Received: from web3m.yandex.ru (localhost [127.0.0.1])
	by web3m.yandex.ru (Yandex) with ESMTP id 2FBBE3722BBF;
	Thu, 11 Feb 2016 15:24:54 +0300 (MSK)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yandex.ru; s=mail;
	t=1455193495; bh=ke8nbxF76+T0RkCl182wkjxlDB3SFIklhuGwhg8hcxE=;
	h=From:To:In-Reply-To:References:Subject:Date;
	b=pd414ofkvW3CVMuNdxb8MImYj0mZCYrGs0YPizlvXCi6V9wRemB6TVCWSp0eWY7Bi
	 Dkfk8MNA+q6tOmL3YgEzpDW+j7vUQUBtSgUjUu6WPCSxi2RSb9qE197feGVs85cpTh
	 xGFoV+F9Gz9U7/JeBn2gh4MGlfw7aKMsn/iAlq4s=
Received: by web3m.yandex.ru with HTTP;
	Thu, 11 Feb 2016 15:24:54 +0300
From: Ponomarenko Andrey <andrewponomarenko@yandex.ru>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
In-Reply-To: <CAKUrXK42pxKJ0fF3oXxFfECWm3P_7abbteS98SKHRHhPF7wrxA@mail.gmail.com>
References: <1685061454833962@web27h.yandex.ru>
	<CACsi250qdXYPN8emqaN3q_qSTMLmHGLmeu+p9SDQaBcoOxikfQ@mail.gmail.com> <CAKUrXK42pxKJ0fF3oXxFfECWm3P_7abbteS98SKHRHhPF7wrxA@mail.gmail.com>
Subject: Re: ABI report
MIME-Version: 1.0
Message-Id: <1198211455193494@web3m.yandex.ru>
X-Mailer: Yamail [ http://yandex.ru ] 5.0
Date: Thu, 11 Feb 2016 15:24:54 +0300
Content-Transfer-Encoding: base64
Content-Type: text/html; charset=koi8-r

PGRpdj4wOS4wMi4yMDE2LCAxNTowMiwgIkplZmYgVHJhd2ljayI6PC9kaXY+PGJsb2NrcXVvdGUg
dHlwZT0iY2l0ZSI+PGRpdj48ZGl2PjxkaXY+PGJyIC8+PGJsb2NrcXVvdGUgc3R5bGU9Im1hcmdp
bjowcHggMHB4IDBweCAwLjhleDtib3JkZXItbGVmdC13aWR0aDoxcHg7Ym9yZGVyLWxlZnQtY29s
b3I6I2NjY2NjYztib3JkZXItbGVmdC1zdHlsZTpzb2xpZDtwYWRkaW5nLWxlZnQ6MWV4OyI+PGRp
dj48ZGl2PjxkaXY+T24gU3VuLCBGZWIgNywgMjAxNiBhdCAyOjMyIEFNLCBQb25vbWFyZW5rbyBB
bmRyZXk8c3Bhbj48L3NwYW4+IHdyb3RlOjxiciAvPjxkaXY+PGJsb2NrcXVvdGUgc3R5bGU9Im1h
cmdpbjowcHggMHB4IDBweCAwLjhleDtib3JkZXItbGVmdC13aWR0aDoxcHg7Ym9yZGVyLWxlZnQt
Y29sb3I6I2NjY2NjYztib3JkZXItbGVmdC1zdHlsZTpzb2xpZDtwYWRkaW5nLWxlZnQ6MWV4OyI+
SGVsbG8sPGJyIC8+IDxiciAvPiBJJ3ZlIHN0YXJ0ZWQgdG8gbWFpbnRhaW4gYmluYXJ5IGNvbXBh
dGliaWxpdHkgcmVwb3J0IGZvciB0aGUgcmVjZW50IHZlcnNpb25zIG9mIHRoZSBodHRwZDogPGEg
aHJlZj0iaHR0cDovL2FiaS1sYWJvcmF0b3J5LnByby90cmFja2VyL3RpbWVsaW5lL2h0dHBkLyIg
dGFyZ2V0PSJfYmxhbmsiPmh0dHA6Ly9hYmktbGFib3JhdG9yeS5wcm8vdHJhY2tlci90aW1lbGlu
ZS9odHRwZC88L2E+PGJyIC8+IDxiciAvPiBUaGUgcmVwb3J0IGlzIHVwZGF0ZWQgZXZlcnkgb3Ro
ZXIgZGF5LiBUaGUgcmVwb3J0IGZvciB0aGUgbGF0ZXN0IHZlcnNpb24gZnJvbSBnaXQgaXMgYWxz
byB0aGVyZS4gSG9wZSB0aGlzIGhlbHBzIExpbnV4IG1haW50YWluZXJzIHRvIGJlIGF3YXJlIG9m
IEFCSSBjaGFuZ2VzIGFuZCBhZGRlZC9yZW1vdmVkIHN5bWJvbHMuPGJyIC8+IDxiciAvPiBUaGFu
ayB5b3UuPC9ibG9ja3F1b3RlPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvYmxvY2txdW90ZT48
L2Rpdj48ZGl2Ppo8L2Rpdj5QZXJoYXBzIHRoZXJlIGNvdWxkIGJlIGEgd2F5IHRvIGNvbmZpZ3Vy
ZSBhIG1lc3NhZ2UgcmVsYXRlZCB0byB0aGUgaW50ZW5kZWQgYnJlYWthZ2UgYmV0d2VlbiAyLjIu
bGFzdCBhbmQgMi40LmZpcnN0LCBzaW5jZSB0aGF0IGlzIGludGVyZXN0aW5nIGZyb20gYW4gQVBJ
IG1pZ3JhdGlvbiBzdGFuZHBvaW50LiCaKExpbmsgdG8gPGEgaHJlZj0iaHR0cHM6Ly9odHRwZC5h
cGFjaGUub3JnL2RvY3MvMi40L2RldmVsb3Blci9uZXdfYXBpXzJfNC5odG1sIj5odHRwczovL2h0
dHBkLmFwYWNoZS5vcmcvZG9jcy8yLjQvZGV2ZWxvcGVyL25ld19hcGlfMl80Lmh0bWw8L2E+KTwv
ZGl2PjwvZGl2PjwvYmxvY2txdW90ZT48ZGl2Ppo8L2Rpdj48ZGl2PkRvbmU6IDxhPmh0dHA6Ly9h
YmktbGFib3JhdG9yeS5wcm8vdHJhY2tlci90aW1lbGluZS9odHRwZC8jdjIuNC4xPC9hPjwvZGl2
PjxkaXY+mjwvZGl2PjxkaXY+UGxlYXNlIGxldCBtZSBrbm93IGlmIHlvdSB3YW50IHRvIGNoYW5n
ZSB0aGlzIG1lc3NhZ2Ugb3IgYWRkIHNvbWUgbm90ZXMgZm9yIG90aGVyIHZlcnNpb25zLjwvZGl2
PjxkaXY+mjwvZGl2PjxkaXY+VGhhbmsgeW91LjwvZGl2Pg==

From dev-return-85555-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 13:55:54 2016
Return-Path: <dev-return-85555-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1A5E918FCA
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 13:55:54 +0000 (UTC)
Received: (qmail 14070 invoked by uid 500); 11 Feb 2016 13:55:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14007 invoked by uid 500); 11 Feb 2016 13:55:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13997 invoked by uid 99); 11 Feb 2016 13:55:53 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 13:55:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A5BCE180511
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 13:55:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 9CwVw0LuA4om for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 13:55:51 +0000 (UTC)
Received: from mail-qg0-f46.google.com (mail-qg0-f46.google.com [209.85.192.46])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 96E3F20D14
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 13:55:51 +0000 (UTC)
Received: by mail-qg0-f46.google.com with SMTP id y9so38161038qgd.3
        for <dev@httpd.apache.org>; Thu, 11 Feb 2016 05:55:51 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=9TtwmkMsZJKn3FzK5CMpoL6h1RSyyexFKoLD0wE1x1w=;
        b=ImgZ6PxYUlsn5a+bNcZ8iM4N+LVE6anPlKgRX/BL0Ik3IF47k//Y0b9Vuc+u+oRN3Z
         6q9o1ID2BSrD3Sf03GurSYr0vkxTowYnVcbgpE+UobhIn1B2yu3hIdSrKBO6OifXMnW9
         bM6SP4gHdb0+vz0MomxTHxiJvtcnpKDL1+SZVzCSrlVVAOvWQKl66f/YmGHqhinKWsTX
         qwT9hJVF3pWfT/S3oz/aRQWGGrjMfqtbPUR980gEAC8rXhwxPL5AjUx091GufQYW1ach
         LGK2Aaa2SBMxPCtNn4O7vxKG72YswW2OaMo2UEq6sYUvIfbMShn7G4gC2jYXgBl0mpJ7
         ZpSA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=9TtwmkMsZJKn3FzK5CMpoL6h1RSyyexFKoLD0wE1x1w=;
        b=KNIzHGQ6cqhTqyLLArt8Zvmqr5S+ZnsAOIeDA7PxjKEnTwrX7f0ygbl1jX+ddGRBRK
         m0VRVM7/vMqr9mhg44xFgsE3wwcXA2l/KW4F0UIdN9X+DIpnlaG9Q3f4ZY9uHDdEpP1e
         mb41rb3g469Gerj+OffzQsLnN0FM5Rd89JGSQllo6nZqy9X2pvEYpAj2FVFi3eDA0E9L
         J9bpAguwSKh2bjqsdc1vIU5e+C2E4ftvfOl0wQmsSJl0+NYyBA9aTY0mrnMNltCq5bfe
         7iMR44Jxdmz1RO/h8adYG6cGNIvGsAQY7+TeL9rob3C0m3mXhEGGdyVrXO5DAQE/ftgO
         7/hg==
X-Gm-Message-State: AG10YOQDrrfhpc9K3fb7YLOVzi2SXFy4wuBjfL+RdMwfV3dUEw8sUlo6q9jE+oqGQhbABVwo/C5GmCqwtYv9yg==
MIME-Version: 1.0
X-Received: by 10.140.31.8 with SMTP id e8mr57316700qge.14.1455198944966; Thu,
 11 Feb 2016 05:55:44 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Thu, 11 Feb 2016 05:55:44 -0800 (PST)
In-Reply-To: <CAKQ1sVPcnQN3BpNkVF4FDQ160TBuY=7sS58MPB-vP=dS5Tr6Qg@mail.gmail.com>
References: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de>
	<CAKQ1sVPcnQN3BpNkVF4FDQ160TBuY=7sS58MPB-vP=dS5Tr6Qg@mail.gmail.com>
Date: Thu, 11 Feb 2016 14:55:44 +0100
Message-ID: <CAKQ1sVMQ1SeK+-GLNp=c+kk3Ss-EX8LPhF1wevPYWyusCXO_QQ@mail.gmail.com>
Subject: Re: mod_proxy_http2
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Tue, Feb 9, 2016 at 3:42 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Mon, Feb 8, 2016 at 6:07 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>>
>> One thing: the ssl_hostname that is used for SNI by the generic proxy ut=
ils seems to get lost when the socket needs to reset and is then not availa=
ble on the next connect. That should affect mod_proxy_http as far as I can =
tell. Maybe someone with more experience in that module wants to take a loo=
k.
>
> This is intended (for http/1 at least), why is it an issue?
> When mod_proxy closes the backend connection, it indeed clears any
> associated SNI.

OK, I see now, hopefully fixed in r1729826 (backport to 2.4.x candidate...)=
.
I also removed mod_proxy_http2 workaround code in r1729830, please let
me know if it still does not work.

Regards,
Yann.

From dev-return-85556-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 13:59:09 2016
Return-Path: <dev-return-85556-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 102FB18FEB
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 13:59:09 +0000 (UTC)
Received: (qmail 20924 invoked by uid 500); 11 Feb 2016 13:59:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 20863 invoked by uid 500); 11 Feb 2016 13:59:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 20853 invoked by uid 99); 11 Feb 2016 13:59:03 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 13:59:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 42545180511
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 13:59:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=bc4hSsDn;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=qgEUI8w7
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id Zd8UkyuQoclR for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 13:59:02 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E218220271
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 13:59:01 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 13AFE15A0C83; Thu, 11 Feb 2016 14:58:54 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455199134; bh=MW5emfhhG7/zOpc5cXlbkIVnVyG3n0SrpQnz/y27Q7k=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=bc4hSsDnpg+gt17tWvacPEweXOdUF14W73BxmD3jSf87SU2w6Yl9E6SYpEbw/8B7b
	 sJNoLKhrTLB6pkzHX8YeJZHuxGD3lds++h0tNnCCb03b53ZPBmmXYXQ0XP9RA+nvlr
	 VkwrkpHhrSNbdkYLkGix1Ydsk0pKyzQaGxp2cM7Q=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id DFB2115A0731
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 14:58:53 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455199133; bh=MW5emfhhG7/zOpc5cXlbkIVnVyG3n0SrpQnz/y27Q7k=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=qgEUI8w7svp3mYlAJRp36Q6zs8y44jn2seKw18Ge9AnFY93/S7bXsGFsVl/qLIUWC
	 XXBaF8nC1Gh9ZFhTACZZoIPX1u+rL+3OLFNPDAea6Q+36mtwbpENyq+bP4dRPWIH4A
	 J3xjh2ibb8jiw1/U2e1TXR9quKNsj3capq96vgbc=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_proxy_http2
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVMQ1SeK+-GLNp=c+kk3Ss-EX8LPhF1wevPYWyusCXO_QQ@mail.gmail.com>
Date: Thu, 11 Feb 2016 14:58:58 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <C843946F-6210-47D7-9E09-43169A0DC4FF@greenbytes.de>
References: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de> <CAKQ1sVPcnQN3BpNkVF4FDQ160TBuY=7sS58MPB-vP=dS5Tr6Qg@mail.gmail.com> <CAKQ1sVMQ1SeK+-GLNp=c+kk3Ss-EX8LPhF1wevPYWyusCXO_QQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Thanks Yann. My test cases still work, so all is fine.

> Am 11.02.2016 um 14:55 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Tue, Feb 9, 2016 at 3:42 PM, Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
>> On Mon, Feb 8, 2016 at 6:07 PM, Stefan Eissing
>> <stefan.eissing@greenbytes.de> wrote:
>>>=20
>>> One thing: the ssl_hostname that is used for SNI by the generic =
proxy utils seems to get lost when the socket needs to reset and is then =
not available on the next connect. That should affect mod_proxy_http as =
far as I can tell. Maybe someone with more experience in that module =
wants to take a look.
>>=20
>> This is intended (for http/1 at least), why is it an issue?
>> When mod_proxy closes the backend connection, it indeed clears any
>> associated SNI.
>=20
> OK, I see now, hopefully fixed in r1729826 (backport to 2.4.x =
candidate...).
> I also removed mod_proxy_http2 workaround code in r1729830, please let
> me know if it still does not work.
>=20
> Regards,
> Yann.


From dev-return-85557-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 14:10:09 2016
Return-Path: <dev-return-85557-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6C9FE1826D
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 14:10:09 +0000 (UTC)
Received: (qmail 17726 invoked by uid 500); 11 Feb 2016 14:10:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17656 invoked by uid 500); 11 Feb 2016 14:10:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17644 invoked by uid 99); 11 Feb 2016 14:10:08 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 14:10:08 +0000
Received: from gauss.localdomain (v4-86134ce7.pool.vitroconnect.de [134.19.76.231])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 89E3C1A0046
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 14:10:08 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 78201E6
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 15:10:10 +0100 (CET)
Subject: Re: svn commit: r1729826 - in /httpd/httpd/trunk: CHANGES
 modules/proxy/proxy_util.c
To: dev@httpd.apache.org
References: <20160211134639.68A833A023C@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
X-Enigmail-Draft-Status: N1110
Message-ID: <56BC9642.8070301@apache.org>
Date: Thu, 11 Feb 2016 15:10:10 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <20160211134639.68A833A023C@svn01-us-west.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 02/11/2016 02:46 PM, ylavic@apache.org wrote:
> Author: ylavic
> Date: Thu Feb 11 13:46:39 2016
> New Revision: 1729826
> 
> URL: http://svn.apache.org/viewvc?rev=1729826&view=rev
> Log:
> mod_proxy: Play/restore the TLS-SNI on new backend connections which
> had to be issued because the remote closed the previous/reusable one
> during idle (keep-alive) time.
> 
> Modified:
>     httpd/httpd/trunk/CHANGES
>     httpd/httpd/trunk/modules/proxy/proxy_util.c
> 
> Modified: httpd/httpd/trunk/CHANGES
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/CHANGES?rev=1729826&r1=1729825&r2=1729826&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/CHANGES [utf-8] (original)
> +++ httpd/httpd/trunk/CHANGES [utf-8] Thu Feb 11 13:46:39 2016
> @@ -1,6 +1,10 @@
>                                                           -*- coding: utf-8 -*-
>  Changes with Apache 2.5.0
>  
> +  *) mod_proxy: Play/restore the TLS-SNI on new backend connections which
> +     had to be issued because the remote closed the previous/reusable one
> +     during idle (keep-alive) time.  [Yann Ylavic]
> +
>    *) mod_proxy_http2: new experimental http2 proxy module for h2: and h2c: proxy
>       urls. Uses, so far, one connection per request, reuses connections.
>    
> 
> Modified: httpd/httpd/trunk/modules/proxy/proxy_util.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/proxy_util.c?rev=1729826&r1=1729825&r2=1729826&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/proxy/proxy_util.c (original)
> +++ httpd/httpd/trunk/modules/proxy/proxy_util.c Thu Feb 11 13:46:39 2016
> @@ -2717,12 +2717,18 @@ PROXY_DECLARE(int) ap_proxy_connect_back
>  
>      if (conn->sock) {
>          if (!(connected = ap_proxy_is_socket_connected(conn->sock))) {
> -            /* FIXME: this loses conn->ssl_hostname and it will not be
> -             * restablished before the SSL connection is made -> no SNI! */
> +            /* This clears conn->scpool (and associated data), so backup and
> +             * restore any ssl_hostname for this connection set earlier by
> +             * ap_proxy_determine_connection().
> +             */
> +            const char *ssl_hostname = conn->ssl_hostname;

conn->ssl_hostname might be allocated from conn->scpool.
So the pointer might be invalid after socket_cleanup(conn). So you need to apr_pstrdup it first.
No real good idea which pool to use here. Probably create a temp subpool of conn->pool,
strdup, after socket_cleanup dup with conn->scpool and destroy tmp pool.

> +
>              socket_cleanup(conn);
>              ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, s, APLOGNO(00951)
>                           "%s: backend socket is disconnected.",
>                           proxy_function);
> +
> +            conn->ssl_hostname = apr_pstrdup(conn->scpool, ssl_hostname);
>          }
>      }
>      while ((backend_addr || conn->uds_path) && !connected) {
> 
> 
> 

Regards

Rdiger

From dev-return-85558-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 14:13:04 2016
Return-Path: <dev-return-85558-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 70345182B7
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 14:13:04 +0000 (UTC)
Received: (qmail 34573 invoked by uid 500); 11 Feb 2016 14:13:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34509 invoked by uid 500); 11 Feb 2016 14:13:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34499 invoked by uid 99); 11 Feb 2016 14:13:03 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 14:13:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 045C4C0873
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 14:13:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.37
X-Spam-Level:
X-Spam-Status: No, score=0.37 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=re7Tdq4B;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=re7Tdq4B
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Tzw3Lqbg9XD8 for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 14:13:01 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 84B2F43F56
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 14:13:01 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id D4B0C15A0327; Thu, 11 Feb 2016 15:12:53 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455199973; bh=jG/cKuPgyMrWKSdMIOTx6ijNGQZnC7Oo/UYZT6Qi3iY=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=re7Tdq4Bx0ZbniaXl0VlCncPb1DPwJlhNxgocOf08Av5i8Eeta8XgDjnT/Qv/GYHr
	 E/H4kzDiWzKcOMLucdpXGKEGo/4kPaQ+lF0Q2DUMB2YHdCpeM53pHHwD5fdHYMnnO4
	 MPxVBnGqaOWYRDR19SBw7EohHNci2MiBefI1QU20=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id A34CE15A0327
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 15:12:53 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455199973; bh=jG/cKuPgyMrWKSdMIOTx6ijNGQZnC7Oo/UYZT6Qi3iY=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=re7Tdq4Bx0ZbniaXl0VlCncPb1DPwJlhNxgocOf08Av5i8Eeta8XgDjnT/Qv/GYHr
	 E/H4kzDiWzKcOMLucdpXGKEGo/4kPaQ+lF0Q2DUMB2YHdCpeM53pHHwD5fdHYMnnO4
	 MPxVBnGqaOWYRDR19SBw7EohHNci2MiBefI1QU20=
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1729826 - in /httpd/httpd/trunk: CHANGES modules/proxy/proxy_util.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56BC9642.8070301@apache.org>
Date: Thu, 11 Feb 2016 15:12:58 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <41FB2992-8158-4163-AC2A-DF7D686F2012@greenbytes.de>
References: <20160211134639.68A833A023C@svn01-us-west.apache.org> <56BC9642.8070301@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> Am 11.02.2016 um 15:10 schrieb Ruediger Pluem <rpluem@apache.org>:
>=20
>=20
>=20
> On 02/11/2016 02:46 PM, ylavic@apache.org wrote:
>> Author: ylavic
>> Date: Thu Feb 11 13:46:39 2016
>> New Revision: 1729826
>>=20
>> URL: http://svn.apache.org/viewvc?rev=3D1729826&view=3Drev
>> Log:
>> mod_proxy: Play/restore the TLS-SNI on new backend connections which
>> had to be issued because the remote closed the previous/reusable one
>> during idle (keep-alive) time.
>>=20
>> Modified:
>>    httpd/httpd/trunk/CHANGES
>>    httpd/httpd/trunk/modules/proxy/proxy_util.c
>>=20
>> Modified: httpd/httpd/trunk/CHANGES
>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/CHANGES?rev=3D1729826&r1=3D=
1729825&r2=3D1729826&view=3Ddiff
>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>> --- httpd/httpd/trunk/CHANGES [utf-8] (original)
>> +++ httpd/httpd/trunk/CHANGES [utf-8] Thu Feb 11 13:46:39 2016
>> @@ -1,6 +1,10 @@
>>                                                          -*- coding: =
utf-8 -*-
>> Changes with Apache 2.5.0
>>=20
>> +  *) mod_proxy: Play/restore the TLS-SNI on new backend connections =
which
>> +     had to be issued because the remote closed the =
previous/reusable one
>> +     during idle (keep-alive) time.  [Yann Ylavic]
>> +
>>   *) mod_proxy_http2: new experimental http2 proxy module for h2: and =
h2c: proxy
>>      urls. Uses, so far, one connection per request, reuses =
connections.
>>=20
>>=20
>> Modified: httpd/httpd/trunk/modules/proxy/proxy_util.c
>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/proxy_util.c?=
rev=3D1729826&r1=3D1729825&r2=3D1729826&view=3Ddiff
>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>> --- httpd/httpd/trunk/modules/proxy/proxy_util.c (original)
>> +++ httpd/httpd/trunk/modules/proxy/proxy_util.c Thu Feb 11 13:46:39 =
2016
>> @@ -2717,12 +2717,18 @@ PROXY_DECLARE(int) ap_proxy_connect_back
>>=20
>>     if (conn->sock) {
>>         if (!(connected =3D =
ap_proxy_is_socket_connected(conn->sock))) {
>> -            /* FIXME: this loses conn->ssl_hostname and it will not =
be
>> -             * restablished before the SSL connection is made -> no =
SNI! */
>> +            /* This clears conn->scpool (and associated data), so =
backup and
>> +             * restore any ssl_hostname for this connection set =
earlier by
>> +             * ap_proxy_determine_connection().
>> +             */
>> +            const char *ssl_hostname =3D conn->ssl_hostname;
>=20
> conn->ssl_hostname might be allocated from conn->scpool.
> So the pointer might be invalid after socket_cleanup(conn). So you =
need to apr_pstrdup it first.
> No real good idea which pool to use here. Probably create a temp =
subpool of conn->pool,
> strdup, after socket_cleanup dup with conn->scpool and destroy tmp =
pool.

I only dup'ed it once into a stack pointer. So, I used the r->pool for =
that.=20
>=20
>> +
>>             socket_cleanup(conn);
>>             ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, s, =
APLOGNO(00951)
>>                          "%s: backend socket is disconnected.",
>>                          proxy_function);
>> +
>> +            conn->ssl_hostname =3D apr_pstrdup(conn->scpool, =
ssl_hostname);
>>         }
>>     }
>>     while ((backend_addr || conn->uds_path) && !connected) {
>>=20
>>=20
>>=20
>=20
> Regards
>=20
> R=C3=BCdiger


From dev-return-85559-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 14:14:42 2016
Return-Path: <dev-return-85559-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A8385182D5
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 14:14:42 +0000 (UTC)
Received: (qmail 44929 invoked by uid 500); 11 Feb 2016 14:14:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 44866 invoked by uid 500); 11 Feb 2016 14:14:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 44856 invoked by uid 99); 11 Feb 2016 14:14:42 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 14:14:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C1BB2180511
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 14:14:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 5wPq4B5Y-JlQ for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 14:14:41 +0000 (UTC)
Received: from mail-qg0-f49.google.com (mail-qg0-f49.google.com [209.85.192.49])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id DA9E32097B
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 14:14:40 +0000 (UTC)
Received: by mail-qg0-f49.google.com with SMTP id y89so38315457qge.2
        for <dev@httpd.apache.org>; Thu, 11 Feb 2016 06:14:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=//w5BFQEui7YQHOlBVbS7Htl8Z+ugB3K/oBMxd19oco=;
        b=dSAiUinphwDdSW9VbuNTrJ+uRT/RdV6d15t9uFg/fR3gegtELIgP06LRZl6BhgLSp5
         SVhOD4+METf0eT6ND4KH90UIM1t87DpXQh1UMoSWDxl9PT0y9RCTR6IgV3xD7jatO4ju
         Mws3kx9Djs0teX2nowfm9Ztb0F0eGwArXhcOhs//LsuS8oWLeV0JskSuTSAQf7GEVfog
         7ZC/7chNr4VnXZnlNz426aynG3lWU0t3A7B0okQU0/gP5IZu6YR/81v6a60wD/VEUf2J
         Iiac4qWW/VQv4A2w2ZhhkJbXjVoRnLwBNnSejDgUPx4wja3xBEiLkhFk2qwcWiOEF2P7
         VE3Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=//w5BFQEui7YQHOlBVbS7Htl8Z+ugB3K/oBMxd19oco=;
        b=TUUj1lTUOb1CNEmZKvCKk/2V5JCW3jUW4p6cIMZKD5Je0Ka1wCt+hWK+P16IlV9CXy
         MN06U9HPrD8jlj2+cIg9cbVOVV9mzMtWUoz5BTb/ClwZgKrH1uSZnq1s3sLN87HSFkmb
         UiVUMkv1NtfiTz0cbxkjMeHt8FngdMkY+ZoQ+AzQ5lNOYkEKLZfsJrH6nJhhKsnk7NOG
         aV+f3udn8mfNDiKzKjevVyl4ddAS+X1Ot/EcnzOFYywiGPT7mEEehR8aYEuLGezVKRL8
         gDrI0nfxDJtiqaPFuvZ7LJED9LAsfAZryEQHuZEDm9kRGqPQ6WkesczqUIs+lABqOjaz
         DoYw==
X-Gm-Message-State: AG10YOSu4rbAelvVP7Q9cbElY+MmMT6JiPfCsGk9vVUmLsrDrIEd9uriyj5KFN2KmiMDRk4qggBzn/Ohu48GYA==
MIME-Version: 1.0
X-Received: by 10.140.20.183 with SMTP id 52mr29563729qgj.38.1455200079934;
 Thu, 11 Feb 2016 06:14:39 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Thu, 11 Feb 2016 06:14:39 -0800 (PST)
In-Reply-To: <56BC9642.8070301@apache.org>
References: <20160211134639.68A833A023C@svn01-us-west.apache.org>
	<56BC9642.8070301@apache.org>
Date: Thu, 11 Feb 2016 15:14:39 +0100
Message-ID: <CAKQ1sVOV3PasBA4NVhA97bzRCudz+t3C6MynmykKSvz9TPeGQg@mail.gmail.com>
Subject: Re: svn commit: r1729826 - in /httpd/httpd/trunk: CHANGES modules/proxy/proxy_util.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Feb 11, 2016 at 3:10 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>
> conn->ssl_hostname might be allocated from conn->scpool.
> So the pointer might be invalid after socket_cleanup(conn). So you need to apr_pstrdup it first.
> No real good idea which pool to use here.

Oh, correct!

> Probably create a temp subpool of conn->pool,
> strdup, after socket_cleanup dup with conn->scpool and destroy tmp pool.

Yes, possibly overkill, I have to find something else...

Regards,
Yann.

From dev-return-85560-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 14:16:55 2016
Return-Path: <dev-return-85560-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 50823182DF
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 14:16:55 +0000 (UTC)
Received: (qmail 48939 invoked by uid 500); 11 Feb 2016 14:16:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48872 invoked by uid 500); 11 Feb 2016 14:16:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48862 invoked by uid 99); 11 Feb 2016 14:16:54 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 14:16:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 4E37C1A0328
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 14:16:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ANdaC1JkqJud for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 14:16:52 +0000 (UTC)
Received: from mail-qg0-f47.google.com (mail-qg0-f47.google.com [209.85.192.47])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 9E75620CB8
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 14:16:51 +0000 (UTC)
Received: by mail-qg0-f47.google.com with SMTP id b35so38333851qge.0
        for <dev@httpd.apache.org>; Thu, 11 Feb 2016 06:16:51 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=AbwcO5a3u9b92ELObD91xQi7j77pyADaOje/KH4aH1w=;
        b=1HP++4U1t2rOXkaZLwTqMppz+ceKTttyGzoFKuaJOgSoqVEFw53vXPJOgDDoLsv0hy
         Laosd9SlmI7ejtLGGnp8K2KrR9sKh/5KdZuaXgovIUtzEuM2/gL40aMZvVHeBftUvBFd
         pg0vvHNQKuuH7s9ro4kOlA9OrXuOg4Zbt2e610nm308rCctBVxLi2EmrugOOROTZqne7
         zT0IWcac4Y5sDrCD9rKgEpHmWhSUBs2NsDicFYbCpKo8rWEvzf99SAgo5O/i6WcTswIi
         rvsi3GNjbTqIjBHdEaxwzqdVMlgxbnnppECs9ATmmQCcCscLRPcwoj4tR8+anB7VXHY2
         Ww2Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=AbwcO5a3u9b92ELObD91xQi7j77pyADaOje/KH4aH1w=;
        b=Ip0UQsUP/77+0xk3h0GkAClzabY0qPro+KxeiT42bQH02aSyO+5J64n+ayFspoihhh
         3V6yMYsklZFRYZEzMtPtokOSX7ikIYW6CpMfgMBRMo90O2EjxREL2y4oHSIoSqvFHrdc
         MmKw+vmjkWPInL+ocYG4SIFgaELyqfK6LQ9imLbFVZxC9e1NTTiwxOfsYEa8mmxcrOyz
         jNPToqkja4gIxhTF0qO0pdszuUWE4Sp2U2kDRSAd5SSDxaI9pf+rN5YD8azC/Ed+D+3B
         YV7q+SAsGId7bj8lTbh084EscBtIiHGOzf6zfrSNURMDCq8IpfSj3is8uJr7h4XPfXrw
         mDbg==
X-Gm-Message-State: AG10YOQmMGbxlTB4TtvnfOC0bXhbPMNpDOyMb1/mPEbeMdWTa7acBy34RmfKdHICmOqFcZ01CFlQqk3nGfRw2w==
MIME-Version: 1.0
X-Received: by 10.140.172.213 with SMTP id s204mr59282148qhs.97.1455200210756;
 Thu, 11 Feb 2016 06:16:50 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Thu, 11 Feb 2016 06:16:50 -0800 (PST)
In-Reply-To: <41FB2992-8158-4163-AC2A-DF7D686F2012@greenbytes.de>
References: <20160211134639.68A833A023C@svn01-us-west.apache.org>
	<56BC9642.8070301@apache.org>
	<41FB2992-8158-4163-AC2A-DF7D686F2012@greenbytes.de>
Date: Thu, 11 Feb 2016 15:16:50 +0100
Message-ID: <CAKQ1sVNC5M+bMMJktTksBZcsX9eQC9Doc+FzABZ7jnzkG6qs=Q@mail.gmail.com>
Subject: Re: svn commit: r1729826 - in /httpd/httpd/trunk: CHANGES modules/proxy/proxy_util.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Feb 11, 2016 at 3:12 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
>
>> Am 11.02.2016 um 15:10 schrieb Ruediger Pluem <rpluem@apache.org>:
>>
>>
>> conn->ssl_hostname might be allocated from conn->scpool.
>> So the pointer might be invalid after socket_cleanup(conn). So you need to apr_pstrdup it first.
>> No real good idea which pool to use here. Probably create a temp subpool of conn->pool,
>> strdup, after socket_cleanup dup with conn->scpool and destroy tmp pool.
>
> I only dup'ed it once into a stack pointer. So, I used the r->pool for that.

But we don't have an 'r' in ap_proxy_connect_backend(), maybe a new
_ex() function is needed.

From dev-return-85561-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 15:00:37 2016
Return-Path: <dev-return-85561-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 837221845B
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 15:00:37 +0000 (UTC)
Received: (qmail 6388 invoked by uid 500); 11 Feb 2016 15:00:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6309 invoked by uid 500); 11 Feb 2016 15:00:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6297 invoked by uid 99); 11 Feb 2016 15:00:37 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 15:00:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 77FF9C0873
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 15:00:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id xAllQDSQ6-aW for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 15:00:34 +0000 (UTC)
Received: from mail-qg0-f42.google.com (mail-qg0-f42.google.com [209.85.192.42])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 7370B20271
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 15:00:34 +0000 (UTC)
Received: by mail-qg0-f42.google.com with SMTP id y89so39394205qge.2
        for <dev@httpd.apache.org>; Thu, 11 Feb 2016 07:00:34 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=gizKQhW02Jd+MlVwkxZoQYYlDkNTkTl1rVnpgOFMwTI=;
        b=xA8eV5STcBNLcb2lJIunS0rkkBBC5rcVtfqeQpp5ye8iwqXm9x4wgGhxb3/DvKgRvc
         2tQEt4tSYRUK3hgpdyjw/3zK/XDkskHFvi+167/o2OuwkKDh1gZYSoOPFi74/3QBdIHc
         EuBU0tjeccr2WcA/mkHTGDgUZqeHDMRIGTV0iNgHfycw7xw5FdEo1sj9NnSEXujAZxFQ
         l0f4MI9GASbF19Th2hlgaMpppRXzEdysJhI2GTYHT16mnnXd3Hb7j0h8PhVKLDivsluH
         5Pz2qONyRR/4Dwmk4yw5TIciLIZW8dhNt+ZgOV4epp506mycGaNNsneeGjcR/YGEJGdL
         7rVg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=gizKQhW02Jd+MlVwkxZoQYYlDkNTkTl1rVnpgOFMwTI=;
        b=MrjysxiXVrYyxr+ty3tOF9T3l/B2vOvCXBm2G/rtfkyEOVHF81iSH3s6/PyBeVr2Fp
         GBNjYOSHCKXyOaEwH/k7YktfkzkoEDOjmIMHUgCjUA4LoBo2eIvXXQqcNLbbqLkNUZOn
         VtkSjXWxrgP1P3WdIspCl8xMvTKDycxQTReVqejPJWtGrn5ntVxJN1M1rQChM264aFru
         8Bc7TRcamSBfttQ1ls09TB/p/b9CKOA0sy+l1Axq7P0JE+5FmGL4na54DawCDz+crZj8
         a94Ryg3AxjpWoP0qaNGT6n40uJzAvKoEU3FKdjxj84tLh7HYjQnTnPMV1sUMN8Hj85FT
         y4vQ==
X-Gm-Message-State: AG10YOQGEJtWOfPKpYwEiqjqc91J8LKMaeyskGGVc0C4899h3TUQnkMw0/l/bfTSzo5psk1DoZwUbQuQgXdh1w==
MIME-Version: 1.0
X-Received: by 10.140.92.111 with SMTP id a102mr56324049qge.92.1455202833544;
 Thu, 11 Feb 2016 07:00:33 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Thu, 11 Feb 2016 07:00:33 -0800 (PST)
In-Reply-To: <CAKQ1sVOV3PasBA4NVhA97bzRCudz+t3C6MynmykKSvz9TPeGQg@mail.gmail.com>
References: <20160211134639.68A833A023C@svn01-us-west.apache.org>
	<56BC9642.8070301@apache.org>
	<CAKQ1sVOV3PasBA4NVhA97bzRCudz+t3C6MynmykKSvz9TPeGQg@mail.gmail.com>
Date: Thu, 11 Feb 2016 16:00:33 +0100
Message-ID: <CAKQ1sVNc+6Qxc8hQynyzNnF=AyswCZMBJpGERcNXjxrNv2-OUw@mail.gmail.com>
Subject: Re: svn commit: r1729826 - in /httpd/httpd/trunk: CHANGES modules/proxy/proxy_util.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Feb 11, 2016 at 3:14 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Thu, Feb 11, 2016 at 3:10 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>>
>> conn->ssl_hostname might be allocated from conn->scpool.
>> So the pointer might be invalid after socket_cleanup(conn). So you need to apr_pstrdup it first.
>> No real good idea which pool to use here.
>
> Oh, correct!
>
>> Probably create a temp subpool of conn->pool,
>> strdup, after socket_cleanup dup with conn->scpool and destroy tmp pool.
>
> Yes, possibly overkill, I have to find something else...

Maybe r1729847 is fine?

>
> Regards,
> Yann.

From dev-return-85562-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 15:02:20 2016
Return-Path: <dev-return-85562-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7019E1846F
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 15:02:20 +0000 (UTC)
Received: (qmail 11643 invoked by uid 500); 11 Feb 2016 15:02:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11570 invoked by uid 500); 11 Feb 2016 15:02:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11544 invoked by uid 99); 11 Feb 2016 15:02:19 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 15:02:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 983811A04B7
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 15:02:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=cBSiSYKU;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=YebGEuiW
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id qmHZ6t5kVZeY for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 15:02:16 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id ACD50429C4
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 15:02:15 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 21A3715A0A39; Thu, 11 Feb 2016 16:02:14 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455202934; bh=dT63/tuj8TOfqGFfcKm0NVXUUkaB+xux/LO8fHiwxzk=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=cBSiSYKUy2kaqlWNrFHTLJd+0+AMvxH9AtDe2DzFdvMTVe9VRlN1XZfOPfmvr4AIn
	 XBpOn82LkEXaEZm5OwNNaP7UgLp2RxBektOYP7UA+5i4uFOMQ1+7bfMqvxE2G/3zmN
	 etBsunzKBmu7aiIc4gW/6KNDa/7+fjdvmXGaLQy0=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id E961615A0326
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 16:02:13 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455202933; bh=dT63/tuj8TOfqGFfcKm0NVXUUkaB+xux/LO8fHiwxzk=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=YebGEuiWp51ancWqZibVXovPSlRylO1nUhb1GANMcxZBkND4dRdK+IynhXzfXqt1S
	 LGEPkO/8etQNYM6Tb/bAIuXpVp6E00WUZ5owvnDQr4IEiTBgmWcWujg+yk7OdHqFAb
	 LKTheAxHzSX0orhK7l6GgJTMLju6h/pvUPM5HLb8=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1729826 - in /httpd/httpd/trunk: CHANGES modules/proxy/proxy_util.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVNc+6Qxc8hQynyzNnF=AyswCZMBJpGERcNXjxrNv2-OUw@mail.gmail.com>
Date: Thu, 11 Feb 2016 16:02:18 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <BE704F03-1873-423E-9675-1B7A773138B4@greenbytes.de>
References: <20160211134639.68A833A023C@svn01-us-west.apache.org> <56BC9642.8070301@apache.org> <CAKQ1sVOV3PasBA4NVhA97bzRCudz+t3C6MynmykKSvz9TPeGQg@mail.gmail.com> <CAKQ1sVNc+6Qxc8hQynyzNnF=AyswCZMBJpGERcNXjxrNv2-OUw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Works in my cases.

> Am 11.02.2016 um 16:00 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Thu, Feb 11, 2016 at 3:14 PM, Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
>> On Thu, Feb 11, 2016 at 3:10 PM, Ruediger Pluem <rpluem@apache.org> =
wrote:
>>>=20
>>> conn->ssl_hostname might be allocated from conn->scpool.
>>> So the pointer might be invalid after socket_cleanup(conn). So you =
need to apr_pstrdup it first.
>>> No real good idea which pool to use here.
>>=20
>> Oh, correct!
>>=20
>>> Probably create a temp subpool of conn->pool,
>>> strdup, after socket_cleanup dup with conn->scpool and destroy tmp =
pool.
>>=20
>> Yes, possibly overkill, I have to find something else...
>=20
> Maybe r1729847 is fine?
>=20
>>=20
>> Regards,
>> Yann.


From dev-return-85563-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 15:26:09 2016
Return-Path: <dev-return-85563-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2935F18554
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 15:26:09 +0000 (UTC)
Received: (qmail 12055 invoked by uid 500); 11 Feb 2016 15:26:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11995 invoked by uid 500); 11 Feb 2016 15:26:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11985 invoked by uid 99); 11 Feb 2016 15:26:07 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 15:26:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 2F32AC0873
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 15:26:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id C5S_unKsY7kQ for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 15:26:06 +0000 (UTC)
Received: from resqmta-ch2-05v.sys.comcast.net (resqmta-ch2-05v.sys.comcast.net [69.252.207.37])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 7583A31AE1
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 15:26:05 +0000 (UTC)
Received: from resomta-ch2-05v.sys.comcast.net ([69.252.207.101])
	by resqmta-ch2-05v.sys.comcast.net with comcast
	id H3Ql1s0062Bo0NV013Rym1; Thu, 11 Feb 2016 15:25:58 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-05v.sys.comcast.net with comcast
	id H3Rx1s00J2U0RYt013Rxgg; Thu, 11 Feb 2016 15:25:58 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: FYI: Backport of mod_proxy_hcheck
Message-Id: <FF3BBBD3-3736-4EA7-BBC5-57DBE38AC77C@jaguNET.com>
Date: Thu, 11 Feb 2016 10:25:57 -0500
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455204358;
	bh=6er36TsxYcR3gNlSKRDBGfeuQb9X4hB8XqUNKi7yXc8=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=Z4kmjKFn2+xlLoIZp6rZNgI45mYKLxlO/fgzMqVxUABKoYNFYOa2rp6ktriJ35/Z6
	 o3CsGF3KXBcO046/okU8y4k7KvhRaHAVUfjlJYcwi+86qWDjWjweuSkHGlKcJLDYr1
	 ChikwtQ41Nlqs+hateLFnr10eQANrqWVFTkMyGHPP5mNvS4l7BHVhrATwAbtJs6NtO
	 X5q29nKVcq04xcaOjnLW4vcqn5k5/8TLSzxab7h/DWvWE5ZZMhYKRWIIVK3xkRDopo
	 +k5TLvGE5igrOQap7s3RSHI9MxvxcFOmfZT4ZduT5toz5l/C/Lx717yyDuIZeCBg1o
	 HkxI1YUpDq1iQ==

I am sending a trial balloon up regarding the viability
of proposing mod_proxy_hcheck be backported to 2.4.x...

If this sounds like a Good Idea, I will work on said
proposal.

From dev-return-85564-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 15:27:39 2016
Return-Path: <dev-return-85564-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7B9B5185A4
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 15:27:39 +0000 (UTC)
Received: (qmail 21973 invoked by uid 500); 11 Feb 2016 15:27:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21920 invoked by uid 500); 11 Feb 2016 15:27:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21909 invoked by uid 99); 11 Feb 2016 15:27:38 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 15:27:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 409ACC18A7
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 15:27:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 97EQOEDWbGlA for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 15:27:37 +0000 (UTC)
Received: from mail-ig0-f170.google.com (mail-ig0-f170.google.com [209.85.213.170])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 85EA631B42
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 15:27:05 +0000 (UTC)
Received: by mail-ig0-f170.google.com with SMTP id xg9so37144532igb.1
        for <dev@httpd.apache.org>; Thu, 11 Feb 2016 07:27:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=flrfuGuG28lYc0TAsm5o3NZolM443jHFlNryESUoC+8=;
        b=h4paxjB+3Tn9iLDntrjWPjkmKQxJuTNAi9nXViSxc6sRANj9oam4WiDi3pWNA9n/W0
         1RYePg8sTLg0VlJt/dPMgnzfAzcl8i7RHSsA2sSZCjqUx44ImzSIwtYLzY02RA6z3xVO
         uDmo6+V6vSZzSYLB27zeadCG+bB7kOhgF4FjJrhMnxcqtHJt3VjruFc7Gg2K2IBFqqvY
         RTuEgLQn/vCJ2Cl3mQTLe1zYh0s8sBsDJb73eNhEXAel+bc1p2YNQ4Yac/CnB7zxtXFn
         9Sm8dZqL2OaJqFjlwJLH8Pffb8gIZGM67erZ7OQwyt8vlk7FAz4zxmuBj9b3Qpp0sdt2
         sioQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=flrfuGuG28lYc0TAsm5o3NZolM443jHFlNryESUoC+8=;
        b=FNlqC+if6+4rg2LGlVYLxdGQues7gpLI61p70t5oksORLKCC7TMBcVqvnQ2ujavEto
         xIt2WaVT6BB2Q+Eu7ZQm28qqDJs4rVqVjaL5z20ukw1RU372f23AwOf+OZpvzajalmLh
         hiK9+P0c8XP84IQ+QpRhz8AJ5YQmQ6lnEKdKtIkiBeDIaWnbsUZxVIwrpNwr0h+rNzJ0
         eF1qdBYHDcC+FXQ8hO0yiPeAEeSnfIjBY5oIFCYINjzmAPirbiTmM6b7AXNbxgu1hpSO
         QU5ulFCiIr9M0ewrzzM2DvNTx7TbB0E4tcTa1dcmrIu3+uAsXn+wkEzYMRKHxhnr1Upt
         yiMg==
X-Gm-Message-State: AG10YOSkCqwre+MCtJ8XWZ0cyIrQgRecvSnUaec0Qpfq/qTFh/jjx23kGgcukONGFeJ9ioK1vts3It7Ac73NkA==
MIME-Version: 1.0
X-Received: by 10.50.155.40 with SMTP id vt8mr16084180igb.56.1455204424561;
 Thu, 11 Feb 2016 07:27:04 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Thu, 11 Feb 2016 07:27:04 -0800 (PST)
In-Reply-To: <FF3BBBD3-3736-4EA7-BBC5-57DBE38AC77C@jaguNET.com>
References: <FF3BBBD3-3736-4EA7-BBC5-57DBE38AC77C@jaguNET.com>
Date: Thu, 11 Feb 2016 10:27:04 -0500
Message-ID: <CALK=YjM5-NpzTMOt0Kf9bwWNsRggNbcsju8ymWoixF+w3VrOQw@mail.gmail.com>
Subject: Re: FYI: Backport of mod_proxy_hcheck
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Feb 11, 2016 at 10:25 AM, Jim Jagielski <jim@jagunet.com> wrote:
> I am sending a trial balloon up regarding the viability
> of proposing mod_proxy_hcheck be backported to 2.4.x...
>
> If this sounds like a Good Idea, I will work on said
> proposal.

Anything controversial in the final stuff? Only thing ringing a bell
is  the meaning of those status flags?

-- 
Eric Covener
covener@gmail.com

From dev-return-85565-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 15:28:26 2016
Return-Path: <dev-return-85565-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3B56A185BC
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 15:28:26 +0000 (UTC)
Received: (qmail 26071 invoked by uid 500); 11 Feb 2016 15:28:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26007 invoked by uid 500); 11 Feb 2016 15:28:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25997 invoked by uid 99); 11 Feb 2016 15:28:25 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 15:28:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 58E4AC18A8
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 15:28:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.335
X-Spam-Level:
X-Spam-Status: No, score=-0.335 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.234, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=eesPuB2G;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=eesPuB2G
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id hCsaQyRzZhA7 for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 15:28:24 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id E2A2E20CB8
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 15:28:23 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 37B3915A0A39; Thu, 11 Feb 2016 16:28:23 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455204503; bh=qkhQPo7+9Dmt5miyY8NMxmaNA65XoH9e8TNI0dFLTzM=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=eesPuB2GriPCH+dFZE5vkDHXJiSbBd+N0ckQrw3g3Vp2yByy17F/snP0q5MTQ7GQ7
	 d5/subgZUzk3ksw2ka4jtgH8c3gvxlOm3pTddM4VFSV6a4f4HiBZ8Vkt41QPB+uJzQ
	 U4AeA3dU6cVP3BsckgsyFHVmFtmNFcRjzc+FWe4M=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 0028A15A040A
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 16:28:22 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455204503; bh=qkhQPo7+9Dmt5miyY8NMxmaNA65XoH9e8TNI0dFLTzM=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=eesPuB2GriPCH+dFZE5vkDHXJiSbBd+N0ckQrw3g3Vp2yByy17F/snP0q5MTQ7GQ7
	 d5/subgZUzk3ksw2ka4jtgH8c3gvxlOm3pTddM4VFSV6a4f4HiBZ8Vkt41QPB+uJzQ
	 U4AeA3dU6cVP3BsckgsyFHVmFtmNFcRjzc+FWe4M=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: FYI: Backport of mod_proxy_hcheck
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <FF3BBBD3-3736-4EA7-BBC5-57DBE38AC77C@jaguNET.com>
Date: Thu, 11 Feb 2016 16:28:27 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <E6064B6E-1959-4FEB-AC54-49A9AEAA174A@greenbytes.de>
References: <FF3BBBD3-3736-4EA7-BBC5-57DBE38AC77C@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

I'am all for backporting nice things, however I did not follow all =
discussions and cannot judge the impact.

> Am 11.02.2016 um 16:25 schrieb Jim Jagielski <jim@jaguNET.com>:
>=20
> I am sending a trial balloon up regarding the viability
> of proposing mod_proxy_hcheck be backported to 2.4.x...
>=20
> If this sounds like a Good Idea, I will work on said
> proposal.


From dev-return-85566-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 15:42:12 2016
Return-Path: <dev-return-85566-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E19C918636
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 15:42:11 +0000 (UTC)
Received: (qmail 68544 invoked by uid 500); 11 Feb 2016 15:42:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68469 invoked by uid 500); 11 Feb 2016 15:42:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68459 invoked by uid 99); 11 Feb 2016 15:42:08 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 15:42:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 08239180511
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 15:42:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id lTVqlTA93tpk for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 15:42:07 +0000 (UTC)
Received: from resqmta-po-10v.sys.comcast.net (resqmta-po-10v.sys.comcast.net [96.114.154.169])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 3659C20428
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 15:42:07 +0000 (UTC)
Received: from resomta-po-20v.sys.comcast.net ([96.114.154.244])
	by resqmta-po-10v.sys.comcast.net with comcast
	id H3hK1s0095Geu28013hzGs; Thu, 11 Feb 2016 15:41:59 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-20v.sys.comcast.net with comcast
	id H3hz1s00A2U0RYt013hzgg; Thu, 11 Feb 2016 15:41:59 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: FYI: Backport of mod_proxy_hcheck
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CALK=YjM5-NpzTMOt0Kf9bwWNsRggNbcsju8ymWoixF+w3VrOQw@mail.gmail.com>
Date: Thu, 11 Feb 2016 10:41:59 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <D0C549A7-B051-4C95-B366-419EF9923FFA@jaguNET.com>
References: <FF3BBBD3-3736-4EA7-BBC5-57DBE38AC77C@jaguNET.com> <CALK=YjM5-NpzTMOt0Kf9bwWNsRggNbcsju8ymWoixF+w3VrOQw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455205319;
	bh=j4mlqCU8qwWokY5bT0LzbOM+Uk0RDdTLVyuRWbPVliQ=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=hQfcVr6zekdmXImDkKRcjzC0ilEwTNussKsEQGreiMZ+F7LHxzyDK0edM9hDuwnBt
	 a2SEM4FcQpPHxyTSGlQPx1i1rziZgK4SXABEq7QUAD3kVputgL7rGUQbrwjXG/oIYL
	 5D4fIUukeRGwhRWA6tO+9d/OtnfoKyB/5/xYkqGKZzuzpLNVYF0q7UypYzS94MSJYi
	 QaKHK/rIr7RueH80nSCLphJWDDXA9DQ3/4mT9diYHuVdcx8vPhLI7OI2xiGOa1yCnG
	 2UENvJ4DOjgrz7JeLDwzv1DoUfZasc2DSBCAXiM3PrFHwEQ6iHZdPmA6rPggYRD2yP
	 aqNbPaXOPqHlg==


> On Feb 11, 2016, at 10:27 AM, Eric Covener <covener@gmail.com> wrote:
> 
> On Thu, Feb 11, 2016 at 10:25 AM, Jim Jagielski <jim@jagunet.com> wrote:
>> I am sending a trial balloon up regarding the viability
>> of proposing mod_proxy_hcheck be backported to 2.4.x...
>> 
>> If this sounds like a Good Idea, I will work on said
>> proposal.
> 
> Anything controversial in the final stuff? Only thing ringing a bell
> is  the meaning of those status flags?
> 

Better documented in the new reverse-proxy HowTo guide.


From dev-return-85567-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 15:42:38 2016
Return-Path: <dev-return-85567-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AA5C01864A
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 15:42:38 +0000 (UTC)
Received: (qmail 78996 invoked by uid 500); 11 Feb 2016 15:42:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78922 invoked by uid 500); 11 Feb 2016 15:42:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 78913 invoked by uid 99); 11 Feb 2016 15:42:38 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 15:42:38 +0000
Received: from gauss.localdomain (v4-86134ce7.pool.vitroconnect.de [134.19.76.231])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id B75DD1A0046
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 15:42:37 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 634E2284
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 16:42:39 +0100 (CET)
Subject: Re: svn commit: r1729847 -
 /httpd/httpd/trunk/modules/proxy/proxy_util.c
To: dev@httpd.apache.org
References: <20160211145704.7B7FC3A09FC@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
X-Enigmail-Draft-Status: N1110
Message-ID: <56BCABEF.5090403@apache.org>
Date: Thu, 11 Feb 2016 16:42:39 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <20160211145704.7B7FC3A09FC@svn01-us-west.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 02/11/2016 03:57 PM, ylavic@apache.org wrote:
> Author: ylavic
> Date: Thu Feb 11 14:57:04 2016
> New Revision: 1729847
> 
> URL: http://svn.apache.org/viewvc?rev=1729847&view=rev
> Log:
> mod_proxy: follow up to r1729826: really copy conn->ssl_hostname.
> 
> Modified:
>     httpd/httpd/trunk/modules/proxy/proxy_util.c

In general this looks fine. We only run in trouble if something provided in the Host header is longer then
PROXY_WORKER_MAX_HOSTNAME_SIZE (in case of ProxyPreserveHost on). Then we loose the SNI hostname on these requests.
Probably never happens, but could be fun to debug if it happens :-).
So probably HUGE_STRING_LEN would be better, but a huge waste of stack resources in most cases for sure.

Regards

Rdiger

> 
> Modified: httpd/httpd/trunk/modules/proxy/proxy_util.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/proxy_util.c?rev=1729847&r1=1729846&r2=1729847&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/proxy/proxy_util.c (original)
> +++ httpd/httpd/trunk/modules/proxy/proxy_util.c Thu Feb 11 14:57:04 2016
> @@ -2721,14 +2721,20 @@ PROXY_DECLARE(int) ap_proxy_connect_back
>               * restore any ssl_hostname for this connection set earlier by
>               * ap_proxy_determine_connection().
>               */
> -            const char *ssl_hostname = conn->ssl_hostname;
> +            char ssl_hostname[PROXY_WORKER_MAX_HOSTNAME_SIZE];
> +            if (!conn->ssl_hostname || PROXY_STRNCPY(ssl_hostname,
> +                                                     conn->ssl_hostname)) {
> +                ssl_hostname[0] = '\0';
> +            }
>  
>              socket_cleanup(conn);
>              ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, s, APLOGNO(00951)
>                           "%s: backend socket is disconnected.",
>                           proxy_function);
>  
> -            conn->ssl_hostname = apr_pstrdup(conn->scpool, ssl_hostname);
> +            if (ssl_hostname[0]) {
> +                conn->ssl_hostname = apr_pstrdup(conn->scpool, ssl_hostname);
> +            }
>          }
>      }
>      while ((backend_addr || conn->uds_path) && !connected) {
> 
> 
> 

From dev-return-85568-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 16:14:52 2016
Return-Path: <dev-return-85568-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EF6A7187B1
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 16:14:52 +0000 (UTC)
Received: (qmail 95321 invoked by uid 500); 11 Feb 2016 16:14:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95238 invoked by uid 500); 11 Feb 2016 16:14:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95228 invoked by uid 99); 11 Feb 2016 16:14:51 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 16:14:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 55B141A01EE
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 16:14:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id MCn-w9EQrrQD for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 16:14:48 +0000 (UTC)
Received: from mail-io0-f178.google.com (mail-io0-f178.google.com [209.85.223.178])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 7974343F56
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 16:14:48 +0000 (UTC)
Received: by mail-io0-f178.google.com with SMTP id g203so33822405iof.2
        for <dev@httpd.apache.org>; Thu, 11 Feb 2016 08:14:48 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=7qsC2MCOn1GlE/ensnaRF8Ermld8qxOMGjdl/M7iLUU=;
        b=dlrCQI9IT3JrYnoDXlh7R7pKlDL1MTeOFTlFO/JnJcDOvxdJx6GhUoRh2yg7P5Vdud
         c1mrs+6KARu413waDFGGJnblbi+dZYMtlCvTY+c/zZigz4JUx25do3ImaPY0P46kCgCP
         Ye1YJ9cV7uMjdSuQD2ixAklVLRlsmbfaOwAue3smFaDhsNGZzWzUOt4+1ebdxg5pCPMz
         k4Nmu28Zy9VuEF1PedMYiZhZL1ej0J4PMaP9aw+kKVkJcwtxlIzvxJqDTke0Kdjn0Q5m
         aTItgVwawTLlpxHpDkbyQ11gT91r8CafPL5fOSCR8CPZTGUmfetvu0Kacys6xshnFnbW
         td3w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=7qsC2MCOn1GlE/ensnaRF8Ermld8qxOMGjdl/M7iLUU=;
        b=Gc7YV2PUqihTplXrXbrrWL90rKIqMX3IVuMcvsdxDP+OBeV5EKbfc+nduceOfooLxD
         6AeSvDPeGx7XtqHX0dhf8D8Ybux2hHT4x0AoBuZZj3kyAe/asg8t/qWOYQnQJ3r1Q6mh
         Z7Xt+bCfgBhAZm4pOMYZVIWLHUCBOofKSuOqjJlkyLCdjHYVtxDHb2R8zoxtvMUYa77x
         zVw85LHrXZ+enr1/tpiUSThI0a5s+oOwMMUlXaQjEKrYAQ7wiXeD+AbdJLIMlngvle6o
         WDuwCFDuobrquvcaz1IUrcLIe1s4qK9w1YIEhvwnxsTz0v8MzF96gs8/B1NKKM34yN/V
         vcxg==
X-Gm-Message-State: AG10YOTgYCERsVLa3ZU4dok9orCspiTG0f3yv6K8Ifwe8aC/gL0QnE4tIMkIRH0L1bGGLq/DLR/tpMN3ZLLbqZdP
MIME-Version: 1.0
X-Received: by 10.107.28.82 with SMTP id c79mr42593573ioc.86.1455207287922;
 Thu, 11 Feb 2016 08:14:47 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Thu, 11 Feb 2016 08:14:47 -0800 (PST)
In-Reply-To: <CALK=YjO3bs7A_pSFfBJfQmAqJv24TiCTYW8sgXAR9BJe3g6HFQ@mail.gmail.com>
References: <568E7577.6030607@redhat.com>
	<CALK=YjO3bs7A_pSFfBJfQmAqJv24TiCTYW8sgXAR9BJe3g6HFQ@mail.gmail.com>
Date: Thu, 11 Feb 2016 10:14:47 -0600
Message-ID: <CACsi253DCWczo2-V1o=0EoFxUoEJsgM2Cpea1tywDWCZOWa5Jw@mail.gmail.com>
Subject: Re: Shouldn't ap_get_remote_host use req->useragent_addr?
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11409b9878bc71052b80d99e

--001a11409b9878bc71052b80d99e
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Thu, Jan 7, 2016 at 9:06 AM, Eric Covener <covener@gmail.com> wrote:

> On Thu, Jan 7, 2016 at 9:25 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrot=
e:
> > When httpd is running behind a reverse proxy and mod_remoteip is
> configured,
> > the correct client IP is logged (using %a in the LogFormat), but the
> proxy
> > IP is used by 'Require host .mydomain.net'. I would expect the host
> based on
> > IP provided by mod_remoteip to be used here.
> >
> > Is this expected behaviour? Maybe the ap_get_remote_host method should
> use
> > req->useragent_addr instead of conn->client_addr to obtain the
> REMOTE_HOST.
>
> what about "Require ip ..."?
>

I agree that require host should track to the same entity as the require ip=
,
which means the behavior right now is incorrect.

There could be a Require conn-ip / conn-host that looks "around" the reques=
t
based user agent down to the connection level user agent (proxy) address.

But this mismatch is unnecessarily confusing, and what the original remotei=
p
module was meant to avoid.

--001a11409b9878bc71052b80d99e
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Jan 7, 2016 at 9:06 AM, Eric Covener <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:covener@gmail.com" target=3D"_blank">covener@gmail.com</a>&gt;</span>=
 wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bor=
der-left:1px #ccc solid;padding-left:1ex"><span class=3D"">On Thu, Jan 7, 2=
016 at 9:25 AM, Jan Kalu=C5=BEa &lt;<a href=3D"mailto:jkaluza@redhat.com">j=
kaluza@redhat.com</a>&gt; wrote:<br>
&gt; When httpd is running behind a reverse proxy and mod_remoteip is confi=
gured,<br>
&gt; the correct client IP is logged (using %a in the LogFormat), but the p=
roxy<br>
&gt; IP is used by &#39;Require host .<a href=3D"http://mydomain.net" rel=
=3D"noreferrer" target=3D"_blank">mydomain.net</a>&#39;. I would expect the=
 host based on<br>
&gt; IP provided by mod_remoteip to be used here.<br>
&gt;<br>
&gt; Is this expected behaviour? Maybe the ap_get_remote_host method should=
 use<br>
&gt; req-&gt;useragent_addr instead of conn-&gt;client_addr to obtain the R=
EMOTE_HOST.<br>
<br>
</span>what about &quot;Require ip ...&quot;?<br>
</blockquote></div><br></div><div class=3D"gmail_extra">I agree that requir=
e host should track to the same entity as the require ip,</div><div class=
=3D"gmail_extra">which means the behavior right now is incorrect.</div><div=
 class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">There could be =
a Require conn-ip / conn-host that looks &quot;around&quot; the request</di=
v><div class=3D"gmail_extra">based user agent down to the connection level =
user agent (proxy) address.</div><div class=3D"gmail_extra"><br></div><div =
class=3D"gmail_extra">But this mismatch is unnecessarily confusing, and wha=
t the original remoteip</div><div class=3D"gmail_extra">module was meant to=
 avoid.</div></div>

--001a11409b9878bc71052b80d99e--

From dev-return-85569-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 16:33:39 2016
Return-Path: <dev-return-85569-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 14AD4188B1
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 16:33:39 +0000 (UTC)
Received: (qmail 51833 invoked by uid 500); 11 Feb 2016 16:33:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51761 invoked by uid 500); 11 Feb 2016 16:33:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51748 invoked by uid 99); 11 Feb 2016 16:33:33 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 16:33:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 87794C18E4
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 16:33:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id XgdDUTG5Cqaa for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 16:33:30 +0000 (UTC)
Received: from mail-io0-f175.google.com (mail-io0-f175.google.com [209.85.223.175])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 9947520CB8
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 16:33:29 +0000 (UTC)
Received: by mail-io0-f175.google.com with SMTP id g203so34474634iof.2
        for <dev@httpd.apache.org>; Thu, 11 Feb 2016 08:33:29 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=sGYZHXVCkrYIE0erTla/qd+Ezw+eTeXhc8JaW3CJjXs=;
        b=S69s5h21WZ4SYHcZFgcG4rtm2ZxmKsVSkV5XOy1adpulR+WvGMGQAMASfldisG+svv
         G7n3gzAJ9BebETtXEhO+EwiaFyirK3cxjLIZBVuev/wCSvkvctwbtvzTWDGkl5WhV8Wc
         kDGVbbT1lE0R5Nd6heDLMOZmXbFEdtnJ4XqBGXHodyxoehReBP4Ojx2/EYhygkAwclo6
         EuBtm3Te0n6PkM5oMMgwn1nYvliWqddZDEWjPwh2vMf5y8sHqOx5x3ZjCKFiX8XwSPhH
         pXheJxYdyir1RorLYqJ3vHzDPvUhtHEGi2sShwRKjYqgwoUasIKTUkwEQE1fICl5sUcC
         +CpA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=sGYZHXVCkrYIE0erTla/qd+Ezw+eTeXhc8JaW3CJjXs=;
        b=YR5xIn6gobzr0MzETWgEBOqCV7xM35KovPxiFh8SFPiBL+lSgfjSLd5SG0cj7ikk8v
         VmryBnhSwF8VJl9XOsffmPFPlKIg5bIk2JW9ehF4YCgaG3RGB8hhRL/UvtvJpBrLtExB
         bvNqk58c9QkW//bkhlTMCHJ2ZVML+bHzl8w+jFTIpWVk+/PznsR+ESyoTrfiFM+8gMpa
         aXXJCUbcUiIysufcFEmEuyVlWqRqJ0YaZRyhFRxsnK1mtaS3Umm6IychWdZ0FKuGNPhW
         7LS3w1/4xCvwXYtO9XpN01JvWbHoQsvMHeOG4Kzz/oavz0+BKRPnmLqEaZeQOhPZs3Ks
         xtbw==
X-Gm-Message-State: AG10YORQOTGZPtH72chNqhGkTxFQit1rNFOdUC84TChPpUBo2sf4lrf1NGCkFv3ZXRF6DCGkPB+1nhX1CVmCzQ7Y
MIME-Version: 1.0
X-Received: by 10.107.34.133 with SMTP id i127mr47627329ioi.150.1455208408436;
 Thu, 11 Feb 2016 08:33:28 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Thu, 11 Feb 2016 08:33:28 -0800 (PST)
In-Reply-To: <CACsi253DCWczo2-V1o=0EoFxUoEJsgM2Cpea1tywDWCZOWa5Jw@mail.gmail.com>
References: <568E7577.6030607@redhat.com>
	<CALK=YjO3bs7A_pSFfBJfQmAqJv24TiCTYW8sgXAR9BJe3g6HFQ@mail.gmail.com>
	<CACsi253DCWczo2-V1o=0EoFxUoEJsgM2Cpea1tywDWCZOWa5Jw@mail.gmail.com>
Date: Thu, 11 Feb 2016 10:33:28 -0600
Message-ID: <CACsi250Ry63Tvu+-CfJ7_jsj5Ts2a6TiVHNdx=zfuP7RQcnmiQ@mail.gmail.com>
Subject: Re: Shouldn't ap_get_remote_host use req->useragent_addr?
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1140ef8442797a052b811c4c

--001a1140ef8442797a052b811c4c
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Thu, Feb 11, 2016 at 10:14 AM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> On Thu, Jan 7, 2016 at 9:06 AM, Eric Covener <covener@gmail.com> wrote:
>
>> On Thu, Jan 7, 2016 at 9:25 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wro=
te:
>> > When httpd is running behind a reverse proxy and mod_remoteip is
>> configured,
>> > the correct client IP is logged (using %a in the LogFormat), but the
>> proxy
>> > IP is used by 'Require host .mydomain.net'. I would expect the host
>> based on
>> > IP provided by mod_remoteip to be used here.
>> >
>> > Is this expected behaviour? Maybe the ap_get_remote_host method should
>> use
>> > req->useragent_addr instead of conn->client_addr to obtain the
>> REMOTE_HOST.
>>
>> what about "Require ip ..."?
>>
>
> I agree that require host should track to the same entity as the require
> ip,
> which means the behavior right now is incorrect.
>
> There could be a Require conn-ip / conn-host that looks "around" the
> request
> based user agent down to the connection level user agent (proxy) address.
>
> But this mismatch is unnecessarily confusing, and what the original
> remoteip
> module was meant to avoid.
>

This is already tracked as
https://bz.apache.org/bugzilla/show_bug.cgi?id=3D55348
- another side effect of the same issue.

--001a1140ef8442797a052b811c4c
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Feb 11, 2016 at 10:14 AM, William A Rowe Jr <span dir=3D"ltr">&lt;<a hr=
ef=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>=
&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px=
 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);bor=
der-left-style:solid;padding-left:1ex"><div dir=3D"ltr"><div><div class=3D"=
h5"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On Thu, Jan 7, 20=
16 at 9:06 AM, Eric Covener <span dir=3D"ltr">&lt;<a href=3D"mailto:covener=
@gmail.com" target=3D"_blank">covener@gmail.com</a>&gt;</span> wrote:<br><b=
lockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-le=
ft-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;pad=
ding-left:1ex"><span>On Thu, Jan 7, 2016 at 9:25 AM, Jan Kalu=C5=BEa &lt;<a=
 href=3D"mailto:jkaluza@redhat.com" target=3D"_blank">jkaluza@redhat.com</a=
>&gt; wrote:<br>
&gt; When httpd is running behind a reverse proxy and mod_remoteip is confi=
gured,<br>
&gt; the correct client IP is logged (using %a in the LogFormat), but the p=
roxy<br>
&gt; IP is used by &#39;Require host .<a href=3D"http://mydomain.net" rel=
=3D"noreferrer" target=3D"_blank">mydomain.net</a>&#39;. I would expect the=
 host based on<br>
&gt; IP provided by mod_remoteip to be used here.<br>
&gt;<br>
&gt; Is this expected behaviour? Maybe the ap_get_remote_host method should=
 use<br>
&gt; req-&gt;useragent_addr instead of conn-&gt;client_addr to obtain the R=
EMOTE_HOST.<br>
<br>
</span>what about &quot;Require ip ...&quot;?<br>
</blockquote></div><br></div></div></div><div class=3D"gmail_extra">I agree=
 that require host should track to the same entity as the require ip,</div>=
<div class=3D"gmail_extra">which means the behavior right now is incorrect.=
</div><div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">There=
 could be a Require conn-ip / conn-host that looks &quot;around&quot; the r=
equest</div><div class=3D"gmail_extra">based user agent down to the connect=
ion level user agent (proxy) address.</div><div class=3D"gmail_extra"><br><=
/div><div class=3D"gmail_extra">But this mismatch is unnecessarily confusin=
g, and what the original remoteip</div><div class=3D"gmail_extra">module wa=
s meant to avoid.</div></div>
</blockquote></div><br></div><div class=3D"gmail_extra">This is already tra=
cked as=C2=A0<a href=3D"https://bz.apache.org/bugzilla/show_bug.cgi?id=3D55=
348">https://bz.apache.org/bugzilla/show_bug.cgi?id=3D55348</a></div><div c=
lass=3D"gmail_extra">- another side effect of the same issue.</div><div cla=
ss=3D"gmail_extra"><br></div><div class=3D"gmail_extra"><br></div><div clas=
s=3D"gmail_extra"><br></div></div>

--001a1140ef8442797a052b811c4c--

From dev-return-85570-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 17:46:20 2016
Return-Path: <dev-return-85570-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB1E318E81
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 17:46:19 +0000 (UTC)
Received: (qmail 69225 invoked by uid 500); 11 Feb 2016 17:46:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 69168 invoked by uid 500); 11 Feb 2016 17:46:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69159 invoked by uid 99); 11 Feb 2016 17:46:19 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 17:46:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 179C8C192D
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 17:46:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.277
X-Spam-Level: ***
X-Spam-Status: No, score=3.277 tagged_above=-999 required=6.31
	tests=[FROM_MISSP_EH_MATCH=0.001, KAM_LAZY_DOMAIN_SECURITY=1,
	KAM_LINKBAIT=2.5, RP_MATCHES_RCVD=-0.234, T_FROM_MISSP_DKIM=0.01]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 43nVldt8rSty for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 17:46:18 +0000 (UTC)
Received: from mailrelay1-us-west.apache.org (mailrelay1-us-west.apache.org [209.188.14.139])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 3B5F820428
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 17:46:18 +0000 (UTC)
Received: from pony-poc.apache.org (pony-poc.apache.org [195.154.156.166])
	by mailrelay1-us-west.apache.org (ASF Mail Server at mailrelay1-us-west.apache.org) with ESMTP id 39FD6E0099
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 17:46:17 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by pony-poc.apache.org (ASF Mail Server at pony-poc.apache.org) with ESMTP id C488326002B
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 17:46:59 +0000 (UTC)
Subject: Re: balancer-manager docs
Message-ID: <pony-1cd02e31b43620d7c664e038ca42a060d61727b9-308280b962eb15c68f2b926f0e6fa544c2839ade@dev.httpd.apache.org>
X-Mailer: LuaSocket 3.0-rc1
From: "Jim Jagielski"<jim@apache.org>
x-ponymail-agent: PonyMail Composer/0.2
To: <dev@httpd.apache.org>
Content-Type: text/plain; charset="iso-8859-1"
References: <CAFedD419DMQZoADb=WiRtvhjYnp9NJWGZ1vQn5C65BV5Y4C1xA@mail.gmail.com> <35BFE5B2-2E21-4E04-85F0-846C2E28A04F@jaguNET.com>
	<56BA0D8A.6080906@kippdata.de>
	<9D3104FA-8978-4F40-8CEF-6ABA03308BDD@c8h10n4o2.org.uk>
	<7C7CCE57-72B6-4BD5-A32F-64C66B29DFBE@jaguNET.com>
	<CAFedD41vYjXQ4=z3m7UCP3CcQBk17w3w1u3xQTBOSkEsTpZf2w@mail.gmail.com>
	<E01AB6B2-B606-4C3D-92CC-1F91A5EEF2E9@greenbytes.de>
Date: Thu, 11 Feb 2016 17:46:58 -0000
MIME-Version: 1.0
x-ponymail-sender: 1cd02e31b43620d7c664e038ca42a060d61727b9
In-Reply-To: <CAFedD419DMQZoADb=WiRtvhjYnp9NJWGZ1vQn5C65BV5Y4C1xA@mail.gmail.com>

A rough and very brief framework of such a guide is now available...

    http://httpd.apache.org/docs/trunk/howto/reverse_proxy.html

On 2016-02-10 06:21, Luca Toscano <toscano.luca@gmail.com> wrote: 
> 2016-02-10 10:33 GMT+01:00 Stefan Eissing <stefan.eissing@greenbytes.de>:
> 
> > If you write one, I write one for http2! :-)
> >
> >
> +1+1+1+1 :)
> 
------
Sent via Pony Mail for dev@httpd.apache.org. 
View this email online at:
https://pony-poc.apache.org/list.html?dev@httpd.apache.org

From dev-return-85571-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 17:55:40 2016
Return-Path: <dev-return-85571-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5742018EF6
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 17:55:40 +0000 (UTC)
Received: (qmail 86660 invoked by uid 500); 11 Feb 2016 17:55:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86596 invoked by uid 500); 11 Feb 2016 17:55:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86587 invoked by uid 99); 11 Feb 2016 17:55:39 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 17:55:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6C1A1C18B6
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 17:55:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.277
X-Spam-Level: ***
X-Spam-Status: No, score=3.277 tagged_above=-999 required=6.31
	tests=[FROM_MISSP_EH_MATCH=0.001, KAM_LAZY_DOMAIN_SECURITY=1,
	KAM_LINKBAIT=2.5, RP_MATCHES_RCVD=-0.234, T_FROM_MISSP_DKIM=0.01]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id t_6JP1yBStHB for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 17:55:39 +0000 (UTC)
Received: from mailrelay1-us-west.apache.org (mailrelay1-us-west.apache.org [209.188.14.139])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id AB066428E5
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 17:55:38 +0000 (UTC)
Received: from pony-poc.apache.org (pony-poc.apache.org [195.154.156.166])
	by mailrelay1-us-west.apache.org (ASF Mail Server at mailrelay1-us-west.apache.org) with ESMTP id E06ADE0099
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 17:55:37 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by pony-poc.apache.org (ASF Mail Server at pony-poc.apache.org) with ESMTP id 3ABAA26002B
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 17:56:19 +0000 (UTC)
Date: Thu, 11 Feb 2016 17:56:18 -0000
X-Mailer: LuaSocket 3.0-rc1
From: "Jim Jagielski"<jim@apache.org>
MIME-Version: 1.0
To: <dev@httpd.apache.org>
x-ponymail-agent: PonyMail Composer/0.2
Message-ID: <pony-1cd02e31b43620d7c664e038ca42a060d61727b9-a037b1c99d7417594d73f42fc8b8518a2831115d@dev.httpd.apache.org>
Subject: Replace feather
References:  
Content-Type: text/plain; charset="iso-8859-1"
x-ponymail-sender: 1cd02e31b43620d7c664e038ca42a060d61727b9
In-Reply-To: 

I was wondering about whether we should update the feather[1] with the new one...
I can do it...

1. https://httpd.apache.org/images/httpd_logo_wide_new.png
------
Sent via Pony Mail for dev@httpd.apache.org. 
View this email online at:
https://pony-poc.apache.org/list.html?dev@httpd.apache.org

From dev-return-85572-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 19:05:47 2016
Return-Path: <dev-return-85572-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 75B5718481
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 19:05:47 +0000 (UTC)
Received: (qmail 69895 invoked by uid 500); 11 Feb 2016 19:05:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 69825 invoked by uid 500); 11 Feb 2016 19:05:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69815 invoked by uid 99); 11 Feb 2016 19:05:43 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 19:05:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8B1B71804A9
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 19:05:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.179
X-Spam-Level: ***
X-Spam-Status: No, score=3.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, KAM_BADIPHTTP=2, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id l1Zoi--HWt02 for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 19:05:39 +0000 (UTC)
Received: from mail-wm0-f50.google.com (mail-wm0-f50.google.com [74.125.82.50])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 0C8AE20428
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 19:05:39 +0000 (UTC)
Received: by mail-wm0-f50.google.com with SMTP id g62so82154417wme.0
        for <dev@httpd.apache.org>; Thu, 11 Feb 2016 11:05:38 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=N+NkxKc/nczVD4YxbZL1hHRqxOYRlyfeaZeBj1uM5DQ=;
        b=MAc7PJlE7UP0wGcalYDFBaHE08mBSJSrn+Bzf9PvZ6uWNHXwNFBL3zJicfMi42i+2z
         nKwkq6F7/xhWed6nYF6lpzBX+GThmdZz3M5ZHGLTXLVjq9Lgs1vRPtpGCP+pHlwVUC4Q
         vLtbCsyGhWpFwFe4oNIGNcjfs8rV4gyyiT902tGz0RilneybKCn//ebiYlicom0wr1n/
         UYv38/8f9xs9CDN0FwoqckUY4oaXqnFwWyYcjkhCGFNOKfQRdWhkjYOG2gNufPpyvyC2
         jnxDB2hDAV7TxY6A6Yr5UHMY2glR8/d+AYmyptaCQC2sBaFq93nYwTboNsuVS0oP5GvU
         6/fA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=N+NkxKc/nczVD4YxbZL1hHRqxOYRlyfeaZeBj1uM5DQ=;
        b=Tp9kT21UbsOVj+n5GyTA9WyicAHjxnkWaK4v41I+rGT1h3MR+2bqsFstnhkJgyipu1
         LMSGUk+Rl97fiepWID8hK18GvTS0sxOeqVjIP+lWaXn97gq0jGQouTggEwuDNqmXzPMy
         eIc1X75leHL3h9L+QfsDHcQSIwpdRxJ/AC4hGbdgH6JDCOkgzE/G5B6GC/c2zA5cdTLb
         B0nQG+0YxhagPsTvtBlCYcqonD6E3LP/bficOJzogpn78z1TQvS98W8iZNrddV874Tml
         /Gi6Tno/f8vFgrp6BzDVItnQQZR1l6Af8njuVhQu2T5ZSyH64AzQ834WwU5zhDsyoXfu
         CbGg==
X-Gm-Message-State: AG10YOQW4IqxS+0gYyejajulhwcU/USCVm8yrmWFdUeXSjGWTNpGr8vssDs4qrd8I3HEHptrhYG6hfzpxZ05Uw==
MIME-Version: 1.0
X-Received: by 10.194.77.137 with SMTP id s9mr46428680wjw.171.1455217537728;
 Thu, 11 Feb 2016 11:05:37 -0800 (PST)
Received: by 10.194.70.6 with HTTP; Thu, 11 Feb 2016 11:05:37 -0800 (PST)
In-Reply-To: <3A242214-802F-4DAE-A124-7FEB0B23D54D@jaguNET.com>
References: <CAL7UUk-qyES+aMMSN6aBGi1rb=K3Q+pif4FbU__Lqkku7f2t0w@mail.gmail.com>
	<CACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com>
	<CAL7UUk_z-CgL1255w8ScgUW+oFtpuybvzoK_kQykbQNv025N_g@mail.gmail.com>
	<CACsi251twJxjTjEbjEnFuE2x49KX-BrVi=MSAs3-7L=ypaKQ7Q@mail.gmail.com>
	<CAL7UUk_1rvLqgNsOMKN-1GxeBWXb2Q3XVAjbbn4+1th9GdAOcw@mail.gmail.com>
	<CAL7UUk9Mc=MUVaQXPvc+mcaoik+=pFW7EW_ccTXbBmo9W0JB1Q@mail.gmail.com>
	<3A242214-802F-4DAE-A124-7FEB0B23D54D@jaguNET.com>
Date: Thu, 11 Feb 2016 22:05:37 +0300
Message-ID: <CAL7UUk_VoN4k5TXiz6auJGnx=1t_jPQtQ9_+1jAYqPKg15o0TA@mail.gmail.com>
Subject: Re: collaboration request - apache server automation testing with
 swat tool
From: Alexey Melezhik <melezhik@gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7bf0d2ec68581d052b833c7b

--047d7bf0d2ec68581d052b833c7b
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi !  I have got a few comments , questions concerning this topic, thanks
for everybody! though still have idea if Apache devs are interested in new
testing framework ? It is hard to keep moving doubting if such tool could
be of interest for someone else beside  me  ) , so give me a sign please :)
If I don't waist my time.

Thanks.


=D0=BF=D1=8F=D1=82=D0=BD=D0=B8=D1=86=D0=B0, 5 =D1=84=D0=B5=D0=B2=D1=80=D0=
=B0=D0=BB=D1=8F 2016 =D0=B3. =D0=BF=D0=BE=D0=BB=D1=8C=D0=B7=D0=BE=D0=B2=D0=
=B0=D1=82=D0=B5=D0=BB=D1=8C Jim Jagielski =D0=BD=D0=B0=D0=BF=D0=B8=D1=81=D0=
=B0=D0=BB:

> Personally, I like the idea of having another framework;
> the current one is OK but somewhat "painful" to update.
>
> I wonder how possible it would be to transcode the old tests
> to Swat? We could then provide for 2 testing frameworks, one
> developed by the ASF and the other external and 3rd party.
>
>
> > On Feb 1, 2016, at 5:23 AM, Alexey Melezhik <melezhik@gmail.com
> <javascript:;>> wrote:
> >
> > Here the list of existed issues I was able to automate tests for:
> >
> > vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ ls -1 | grep -P
> '\d'
> > 44221
> > 46751
> > 58789
> > 58828
> > 58854
> >
> >
> > I have informed developers at https://bz.apache.org/bugzilla/ about
> > these, so they rely upon them. Or you have some pre-release testing,
> > so run all of these in a whole chunk?
> >
> > Regards
> >
> > Alexey
> >
> > PS chaining issues / tests listing  as always -
> > https://github.com/melezhik/apache-swat
> >
> > PS2 it'd be could to verify tests as well against "bleeding edge"
> > apache version gets installed from SCM, but I don't know how to do
> > this.
> > Currently I use http://httpd.apache.org/download.cgi ( last stable
> release )
> >
> >
> >
> > 2016-01-30 21:36 GMT+03:00 Alexey Melezhik <melezhik@gmail.com
> <javascript:;>>:
> >> Hi Bill!
> >>
> >> I have started to assemble swat tests  for apache2 issues coming from
> >> https://bz.apache.org/bugzilla
> >>
> >> And this the first one -
> https://bz.apache.org/bugzilla/show_bug.cgi?id=3D44221 ,
> >>
> >> Test suite is failed for the moment :
> >>
> >>
> >> vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ swat -t 44221
> >> /home/vagrant/.swat/.cache/384/prove/44221/foo.baz/00.GET.t ...
> >> ok 1 - GET 127.0.0.1/44221/foo.baz succeeded
> >> # http headers saved to
> /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ.hdr
> >> # body saved to /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ
> >> ok 2 - output match '200 OK'
> >> 1..2
> >> ok
> >> /home/vagrant/.swat/.cache/384/prove/44221/FOO.bar/00.GET.t ...
> >> ok 1 - GET 127.0.0.1/44221/FOO.bar succeeded
> >> # http headers saved to
> /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe.hdr
> >> # body saved to /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe
> >> ok 2 - output match '200 OK'
> >> ok 3 - output match /Location: \S+/
> >> ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
> >> 1..4
> >> ok
> >> /home/vagrant/.swat/.cache/384/prove/44221/foo.BAR/00.GET.t ...
> >> ok 1 - GET 127.0.0.1/44221/foo.BAR succeeded
> >> # http headers saved to
> /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ.hdr
> >> # body saved to /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ
> >> ok 2 - output match '200 OK'
> >> ok 3 - output match /Location: \S+/
> >> ok 4 - 'Location: http://127.0.0.1/44221/foo.bar' match 'foo.bar'
> >> 1..4
> >> ok
> >> /home/vagrant/.swat/.cache/384/prove/44221/foo.bar/00.GET.t ...
> >> ok 1 - GET 127.0.0.1/44221/foo.bar succeeded
> >> # http headers saved to
> /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv.hdr
> >> # body saved to /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv
> >> ok 2 - output match '200 OK'
> >> 1..2
> >> ok
> >> /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t ..
> >> ok 1 - GET 127.0.0.1/44221/foo.html succeeded
> >> # http headers saved to
> /home/vagrant/.swat/.cache/384/prove/tW2L511eym.hdr
> >> # body saved to /home/vagrant/.swat/.cache/384/prove/tW2L511eym
> >> ok 2 - output match /HTTP\/(\S+) (\d+) \S+/
> >> not ok 3 - 'HTTP/1.1 300 Multiple Choices' match /404 /
> >>
> >> #   Failed test ''HTTP/1.1 300 Multiple Choices' match /404 /'
> >> #   at /usr/local/share/perl/5.20.2/swat.pm line 218.
> >> not ok 4 - output match 'Not Found'
> >>
> >> #   Failed test 'output match 'Not Found''
> >> #   at /usr/local/share/perl/5.20.2/swat.pm line 218.
> >> 1..4
> >> # Looks like you failed 2 tests of 4.
> >> Dubious, test returned 2 (wstat 512, 0x200)
> >> Failed 2/4 subtests
> >>
> >> Test Summary Report
> >> -------------------
> >> /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t (Wstat:
> >> 512 Tests: 4 Failed: 2)
> >>  Failed tests:  3-4
> >>  Non-zero exit status: 2
> >> Files=3D5, Tests=3D16,  0 wallclock secs ( 0.03 usr  0.00 sys +  0.27 =
cusr
> >> 0.00 csys =3D  0.30 CPU)
> >> Result: FAIL
> >>
> >> ...
> >>
> >> Ok, this is just the beginning ;-))) , watch soon updates at -
> >> https://github.com/melezhik/apache-swat
> >>
> >> 2016-01-29 20:44 GMT+03:00 William A Rowe Jr <wrowe@rowe-clan.net
> <javascript:;>>:
> >>> On Fri, Jan 29, 2016 at 6:35 AM, Alexey Melezhik <melezhik@gmail.com
> <javascript:;>> wrote:
> >>>>
> >>>> Hi Bill!
> >>>>
> >>>> Any news? ( Please see my previous reply ...)
> >>>> Intr
> >>>
> >>>
> >>> Intrigued :)  But my responses will be delayed, I personally
> >>> won't have time to look further myself until other backlogged
> >>> commitments to httpd are caught up some more.
> >>>
> >>> Be aware many of us have only a few hours to participate in the
> >>> httpd project itself, so it will take several days or more to gather
> >>> feedback on your interest and perhaps a champion to drive such
> >>> an effort if it is actively driven from this side.  Of course that
> >>> should not stop you from assembling some ideas at the vcs of
> >>> your choice, and sharing a link for those who want to look at an
> >>> early draft of such an effort!
> >>>
> >>> Cheers,
> >>>
> >>> Bill
>
>

--047d7bf0d2ec68581d052b833c7b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi !=C2=A0 I have got a few comments , questions concerning this topic, tha=
nks for everybody!=C2=A0though still have idea if Apache devs are intereste=
d in new testing framework ? It is hard to keep moving doubting if such=C2=
=A0tool could be of interest for someone else beside=C2=A0=C2=A0me =C2=A0) =
, so=C2=A0give me a=C2=A0sign please :)=C2=A0<div>If I don&#39;t waist my t=
ime.=C2=A0</div><div><br></div><div>Thanks.=C2=A0</div><div><br></div><div>=
<br>=D0=BF=D1=8F=D1=82=D0=BD=D0=B8=D1=86=D0=B0, 5 =D1=84=D0=B5=D0=B2=D1=80=
=D0=B0=D0=BB=D1=8F 2016 =D0=B3. =D0=BF=D0=BE=D0=BB=D1=8C=D0=B7=D0=BE=D0=B2=
=D0=B0=D1=82=D0=B5=D0=BB=D1=8C Jim Jagielski  =D0=BD=D0=B0=D0=BF=D0=B8=D1=
=81=D0=B0=D0=BB:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0=
 .8ex;border-left:1px #ccc solid;padding-left:1ex">Personally, I like the i=
dea of having another framework;<br>
the current one is OK but somewhat &quot;painful&quot; to update.<br>
<br>
I wonder how possible it would be to transcode the old tests<br>
to Swat? We could then provide for 2 testing frameworks, one<br>
developed by the ASF and the other external and 3rd party.<br>
<br>
<br>
&gt; On Feb 1, 2016, at 5:23 AM, Alexey Melezhik &lt;<a href=3D"javascript:=
;" onclick=3D"_e(event, &#39;cvml&#39;, &#39;melezhik@gmail.com&#39;)">mele=
zhik@gmail.com</a>&gt; wrote:<br>
&gt;<br>
&gt; Here the list of existed issues I was able to automate tests for:<br>
&gt;<br>
&gt; vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ ls -1 | grep -P =
&#39;\d&#39;<br>
&gt; 44221<br>
&gt; 46751<br>
&gt; 58789<br>
&gt; 58828<br>
&gt; 58854<br>
&gt;<br>
&gt;<br>
&gt; I have informed developers at <a href=3D"https://bz.apache.org/bugzill=
a/" target=3D"_blank">https://bz.apache.org/bugzilla/</a> about<br>
&gt; these, so they rely upon them. Or you have some pre-release testing,<b=
r>
&gt; so run all of these in a whole chunk?<br>
&gt;<br>
&gt; Regards<br>
&gt;<br>
&gt; Alexey<br>
&gt;<br>
&gt; PS chaining issues / tests listing=C2=A0 as always -<br>
&gt; <a href=3D"https://github.com/melezhik/apache-swat" target=3D"_blank">=
https://github.com/melezhik/apache-swat</a><br>
&gt;<br>
&gt; PS2 it&#39;d be could to verify tests as well against &quot;bleeding e=
dge&quot;<br>
&gt; apache version gets installed from SCM, but I don&#39;t know how to do=
<br>
&gt; this.<br>
&gt; Currently I use <a href=3D"http://httpd.apache.org/download.cgi" targe=
t=3D"_blank">http://httpd.apache.org/download.cgi</a> ( last stable release=
 )<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt; 2016-01-30 21:36 GMT+03:00 Alexey Melezhik &lt;<a href=3D"javascript:;=
" onclick=3D"_e(event, &#39;cvml&#39;, &#39;melezhik@gmail.com&#39;)">melez=
hik@gmail.com</a>&gt;:<br>
&gt;&gt; Hi Bill!<br>
&gt;&gt;<br>
&gt;&gt; I have started to assemble swat tests=C2=A0 for apache2 issues com=
ing from<br>
&gt;&gt; <a href=3D"https://bz.apache.org/bugzilla" target=3D"_blank">https=
://bz.apache.org/bugzilla</a><br>
&gt;&gt;<br>
&gt;&gt; And this the first one - <a href=3D"https://bz.apache.org/bugzilla=
/show_bug.cgi?id=3D44221" target=3D"_blank">https://bz.apache.org/bugzilla/=
show_bug.cgi?id=3D44221</a> ,<br>
&gt;&gt;<br>
&gt;&gt; Test suite is failed for the moment :<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; vagrant@Debian-jessie-amd64-netboot:~/my/apache-swat$ swat -t 4422=
1<br>
&gt;&gt; /home/vagrant/.swat/.cache/384/prove/44221/foo.baz/00.GET.t ...<br=
>
&gt;&gt; ok 1 - GET <a href=3D"http://127.0.0.1/44221/foo.baz" target=3D"_b=
lank">127.0.0.1/44221/foo.baz</a> succeeded<br>
&gt;&gt; # http headers saved to /home/vagrant/.swat/.cache/384/prove/52jLA=
o76YZ.hdr<br>
&gt;&gt; # body saved to /home/vagrant/.swat/.cache/384/prove/52jLAo76YZ<br=
>
&gt;&gt; ok 2 - output match &#39;200 OK&#39;<br>
&gt;&gt; 1..2<br>
&gt;&gt; ok<br>
&gt;&gt; /home/vagrant/.swat/.cache/384/prove/44221/FOO.bar/00.GET.t ...<br=
>
&gt;&gt; ok 1 - GET <a href=3D"http://127.0.0.1/44221/FOO.bar" target=3D"_b=
lank">127.0.0.1/44221/FOO.bar</a> succeeded<br>
&gt;&gt; # http headers saved to /home/vagrant/.swat/.cache/384/prove/DvEZn=
O6ALe.hdr<br>
&gt;&gt; # body saved to /home/vagrant/.swat/.cache/384/prove/DvEZnO6ALe<br=
>
&gt;&gt; ok 2 - output match &#39;200 OK&#39;<br>
&gt;&gt; ok 3 - output match /Location: \S+/<br>
&gt;&gt; ok 4 - &#39;Location: <a href=3D"http://127.0.0.1/44221/foo.bar" t=
arget=3D"_blank">http://127.0.0.1/44221/foo.bar</a>&#39; match &#39;foo.bar=
&#39;<br>
&gt;&gt; 1..4<br>
&gt;&gt; ok<br>
&gt;&gt; /home/vagrant/.swat/.cache/384/prove/44221/foo.BAR/00.GET.t ...<br=
>
&gt;&gt; ok 1 - GET <a href=3D"http://127.0.0.1/44221/foo.BAR" target=3D"_b=
lank">127.0.0.1/44221/foo.BAR</a> succeeded<br>
&gt;&gt; # http headers saved to /home/vagrant/.swat/.cache/384/prove/bWQ1S=
bl0YZ.hdr<br>
&gt;&gt; # body saved to /home/vagrant/.swat/.cache/384/prove/bWQ1Sbl0YZ<br=
>
&gt;&gt; ok 2 - output match &#39;200 OK&#39;<br>
&gt;&gt; ok 3 - output match /Location: \S+/<br>
&gt;&gt; ok 4 - &#39;Location: <a href=3D"http://127.0.0.1/44221/foo.bar" t=
arget=3D"_blank">http://127.0.0.1/44221/foo.bar</a>&#39; match &#39;foo.bar=
&#39;<br>
&gt;&gt; 1..4<br>
&gt;&gt; ok<br>
&gt;&gt; /home/vagrant/.swat/.cache/384/prove/44221/foo.bar/00.GET.t ...<br=
>
&gt;&gt; ok 1 - GET <a href=3D"http://127.0.0.1/44221/foo.bar" target=3D"_b=
lank">127.0.0.1/44221/foo.bar</a> succeeded<br>
&gt;&gt; # http headers saved to /home/vagrant/.swat/.cache/384/prove/Jd_hl=
o7Qwv.hdr<br>
&gt;&gt; # body saved to /home/vagrant/.swat/.cache/384/prove/Jd_hlo7Qwv<br=
>
&gt;&gt; ok 2 - output match &#39;200 OK&#39;<br>
&gt;&gt; 1..2<br>
&gt;&gt; ok<br>
&gt;&gt; /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t ..<br=
>
&gt;&gt; ok 1 - GET <a href=3D"http://127.0.0.1/44221/foo.html" target=3D"_=
blank">127.0.0.1/44221/foo.html</a> succeeded<br>
&gt;&gt; # http headers saved to /home/vagrant/.swat/.cache/384/prove/tW2L5=
11eym.hdr<br>
&gt;&gt; # body saved to /home/vagrant/.swat/.cache/384/prove/tW2L511eym<br=
>
&gt;&gt; ok 2 - output match /HTTP\/(\S+) (\d+) \S+/<br>
&gt;&gt; not ok 3 - &#39;HTTP/1.1 300 Multiple Choices&#39; match /404 /<br=
>
&gt;&gt;<br>
&gt;&gt; #=C2=A0 =C2=A0Failed test &#39;&#39;HTTP/1.1 300 Multiple Choices&=
#39; match /404 /&#39;<br>
&gt;&gt; #=C2=A0 =C2=A0at /usr/local/share/perl/5.20.2/<a href=3D"http://sw=
at.pm" target=3D"_blank">swat.pm</a> line 218.<br>
&gt;&gt; not ok 4 - output match &#39;Not Found&#39;<br>
&gt;&gt;<br>
&gt;&gt; #=C2=A0 =C2=A0Failed test &#39;output match &#39;Not Found&#39;&#3=
9;<br>
&gt;&gt; #=C2=A0 =C2=A0at /usr/local/share/perl/5.20.2/<a href=3D"http://sw=
at.pm" target=3D"_blank">swat.pm</a> line 218.<br>
&gt;&gt; 1..4<br>
&gt;&gt; # Looks like you failed 2 tests of 4.<br>
&gt;&gt; Dubious, test returned 2 (wstat 512, 0x200)<br>
&gt;&gt; Failed 2/4 subtests<br>
&gt;&gt;<br>
&gt;&gt; Test Summary Report<br>
&gt;&gt; -------------------<br>
&gt;&gt; /home/vagrant/.swat/.cache/384/prove/44221/foo.html/00.GET.t (Wsta=
t:<br>
&gt;&gt; 512 Tests: 4 Failed: 2)<br>
&gt;&gt;=C2=A0 Failed tests:=C2=A0 3-4<br>
&gt;&gt;=C2=A0 Non-zero exit status: 2<br>
&gt;&gt; Files=3D5, Tests=3D16,=C2=A0 0 wallclock secs ( 0.03 usr=C2=A0 0.0=
0 sys +=C2=A0 0.27 cusr<br>
&gt;&gt; 0.00 csys =3D=C2=A0 0.30 CPU)<br>
&gt;&gt; Result: FAIL<br>
&gt;&gt;<br>
&gt;&gt; ...<br>
&gt;&gt;<br>
&gt;&gt; Ok, this is just the beginning ;-))) , watch soon updates at -<br>
&gt;&gt; <a href=3D"https://github.com/melezhik/apache-swat" target=3D"_bla=
nk">https://github.com/melezhik/apache-swat</a><br>
&gt;&gt;<br>
&gt;&gt; 2016-01-29 20:44 GMT+03:00 William A Rowe Jr &lt;<a href=3D"javasc=
ript:;" onclick=3D"_e(event, &#39;cvml&#39;, &#39;wrowe@rowe-clan.net&#39;)=
">wrowe@rowe-clan.net</a>&gt;:<br>
&gt;&gt;&gt; On Fri, Jan 29, 2016 at 6:35 AM, Alexey Melezhik &lt;<a href=
=3D"javascript:;" onclick=3D"_e(event, &#39;cvml&#39;, &#39;melezhik@gmail.=
com&#39;)">melezhik@gmail.com</a>&gt; wrote:<br>
&gt;&gt;&gt;&gt;<br>
&gt;&gt;&gt;&gt; Hi Bill!<br>
&gt;&gt;&gt;&gt;<br>
&gt;&gt;&gt;&gt; Any news? ( Please see my previous reply ...)<br>
&gt;&gt;&gt;&gt; Intr<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Intrigued :)=C2=A0 But my responses will be delayed, I persona=
lly<br>
&gt;&gt;&gt; won&#39;t have time to look further myself until other backlog=
ged<br>
&gt;&gt;&gt; commitments to httpd are caught up some more.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Be aware many of us have only a few hours to participate in th=
e<br>
&gt;&gt;&gt; httpd project itself, so it will take several days or more to =
gather<br>
&gt;&gt;&gt; feedback on your interest and perhaps a champion to drive such=
<br>
&gt;&gt;&gt; an effort if it is actively driven from this side.=C2=A0 Of co=
urse that<br>
&gt;&gt;&gt; should not stop you from assembling some ideas at the vcs of<b=
r>
&gt;&gt;&gt; your choice, and sharing a link for those who want to look at =
an<br>
&gt;&gt;&gt; early draft of such an effort!<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Cheers,<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Bill<br>
<br>
</blockquote></div>

--047d7bf0d2ec68581d052b833c7b--

From dev-return-85573-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 19:32:03 2016
Return-Path: <dev-return-85573-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DFFA3185CF
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 19:32:02 +0000 (UTC)
Received: (qmail 76982 invoked by uid 500); 11 Feb 2016 19:32:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76920 invoked by uid 500); 11 Feb 2016 19:32:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76908 invoked by uid 99); 11 Feb 2016 19:32:01 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 19:32:01 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 4A1E21804A9
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 19:32:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=XqMNVlfp;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=XqMNVlfp
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id zupyS_65tXcN for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 19:31:58 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 4931943F57
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 19:31:58 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 1DA1E15A096F; Thu, 11 Feb 2016 20:31:56 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455219116; bh=OSO/jNLBgc5wmMItE4K2YRDj1nMqzmq4Mc2dxifQrjs=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=XqMNVlfpZo0DNJ7PVQgFtik9vILvjfM7In3qOjEfwyFEBAqxzxjGYdpBUyFcEoFn/
	 HMPE6ZA971ZeXXZtfTCyHMsoo8iCB0Y+TZUH0x13vGH31Qo+tdtaIZPMUSvBSQCM6R
	 PqyKEqu4NNfU3hvosrwgoT0rbx3DXpI7ix2XlCXs=
Received: from [192.168.0.130] (unknown [87.79.172.223])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id EA97415A01A7
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 20:31:55 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455219116; bh=OSO/jNLBgc5wmMItE4K2YRDj1nMqzmq4Mc2dxifQrjs=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=XqMNVlfpZo0DNJ7PVQgFtik9vILvjfM7In3qOjEfwyFEBAqxzxjGYdpBUyFcEoFn/
	 HMPE6ZA971ZeXXZtfTCyHMsoo8iCB0Y+TZUH0x13vGH31Qo+tdtaIZPMUSvBSQCM6R
	 PqyKEqu4NNfU3hvosrwgoT0rbx3DXpI7ix2XlCXs=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: Replace feather
Message-Id: <F1653444-ECE8-4A08-9AFD-AB3438EDA63D@greenbytes.de>
Date: Thu, 11 Feb 2016 20:31:55 +0100
References: <pony-1cd02e31b43620d7c664e038ca42a060d61727b9-a037b1c99d7417594d73f42fc8b8518a2831115d@dev.httpd.apache.org>
In-Reply-To: <pony-1cd02e31b43620d7c664e038ca42a060d61727b9-a037b1c99d7417594d73f42fc8b8518a2831115d@dev.httpd.apache.org>
To: dev@httpd.apache.org
X-Mailer: iPhone Mail (13D15)

+1

> Am 11.02.2016 um 18:56 schrieb Jim Jagielski <jim@apache.org>:
>=20
> I was wondering about whether we should update the feather[1] with the new=
 one...
> I can do it...
>=20
> 1. https://httpd.apache.org/images/httpd_logo_wide_new.png
> ------
> Sent via Pony Mail for dev@httpd.apache.org.=20
> View this email online at:
> https://pony-poc.apache.org/list.html?dev@httpd.apache.org

From dev-return-85574-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 20:53:26 2016
Return-Path: <dev-return-85574-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 17AA918A36
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 20:53:26 +0000 (UTC)
Received: (qmail 40231 invoked by uid 500); 11 Feb 2016 20:53:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 40157 invoked by uid 500); 11 Feb 2016 20:53:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 40147 invoked by uid 99); 11 Feb 2016 20:53:25 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 20:53:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 28F61C0873
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 20:53:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id iGzC9V53JS_9 for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 20:53:21 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 5973E31AE2
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 20:53:20 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id B67EC22A73
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 21:53:19 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id nsthd4NONPIV for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 21:53:19 +0100 (CET)
Received: from [10.0.0.1] (CPE-143-238-64-254.lns6.cht.bigpond.net.au [143.238.64.254])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id A9506202EE
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 21:53:17 +0100 (CET)
Subject: Re: httpd-trunk/modules/http2 gets a proxy
To: dev@httpd.apache.org
References: <56B911B2.3080400@gknw.net>
 <33BC9153-7AE2-44C2-97B7-94EEC8382711@greenbytes.de>
 <56BBED72.8040604@gknw.net>
 <01325F5D-1605-41BA-BCD0-E257E629AE17@greenbytes.de>
From: NormW <normw@gknw.net>
Message-ID: <56BCF4AA.2060209@gknw.net>
Date: Fri, 12 Feb 2016 07:52:58 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <01325F5D-1605-41BA-BCD0-E257E629AE17@greenbytes.de>
Content-Type: multipart/mixed;
 boundary="------------030909080709030308020805"

This is a multi-part message in MIME format.
--------------030909080709030308020805
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit

G/M Stefan,
I've specifically waited until sunup, which will hopefully mean I've got 
a clearer head.
A check of the NWGNUmakefile I sent yesterday DID have a number of bugs 
in it, all largely my fault, and some the result of doing an SVN Update 
to my local copy at the wrong time.....
We'll call that the past.
Attached are the two files now guarenteed (I've checked them twice this 
morning) and can even guarentee mod_http2 builds nghtttp2 v1.7.1, which 
contains a Security Fix, CVE-2016-1544.

Process:

1. Delete /http2/NWGNUmakefile... it is not worth trying to do a diff 
against it, its innards have changed that much).

2. Add the two attached files herewith to /http2.

3. Job done.

As for making  things easier with a 'commit', I'd still make at least 
similar stuffups, whereas the ultimate 'easy' would be to wave goodbye 
to NetWare:

155+ build files and a few OS-specific files could go, your may be able 
to argue for something later than C89 as minimum standard, and so on...
...and I'm out of a job.
But equally, once changes in trunk settle out, building is fairly stable 
for months (years?) at a stretch, and there'd be nothing for my 'commit' 
to do.
Regard, and apologies for the transient trouble.
Norm


On 11/02/2016 8:31 PM, Stefan Eissing wrote:
> Uhm, is there an unresolved conflict in the first file?
>
> -Stefan
>
> PS. You know, it *would* actually be easier if you had commit access... ;-)
>
>> Am 11.02.2016 um 03:09 schrieb NormW <normw@gknw.net>:
>>
>> G/A Stefan,
>> My BBAADD. Until recently /http2 was home only to mod_http2, and to keep things automatic my NWGNUmakefile in there used a wildcard *.c to get the list of object files to build there. When the compile  failed due to added .c files I made a few tweaks to the NWGNU and it all linked without issue again so I forwarded the small tweaks. Closer reading of the list and the added .c revealed there are (at least) two modules now in /http2. This necessitated a change of the NWGNU to use a specified list of .c for a start, and removal of a couple of the patch lines I'd recently sent. Because other modules will be sharing the same dir I've renamed the original NWNUmakefile to NWGNUmod_http2 and there is now a new NWGNUmakefile whose only job is to call the other NWGNU files that will eventually exist in the dir. (If all this sounds confusing it probably is, but by way of example see /proxy dir and note a NWGNUmakefile that contains a list of executables to build.)
>>
>> If we are still speaking after explaining all that, the new files are attached, thus:
>> : NWGUmod_http2 which now has the list of /http2 files to build mod_http2;
>>
>> : NWGNUmakefile which, FTM, has a list of modules to build, but I won't try to explain why the list has a double entry if there is only one (so far) to build.
>>
>> Hopefully I will eventually work out a process to do away with this 'additional' NWGNUmakefile, which would allow removal of quite a few from the source tree.
>> Apologies for the bother,
>> Norm
>>
>> On 10/02/2016 10:34 PM, Stefan Eissing wrote:
>>> Applied in r1729583. Thanks!
>>>
>>>> Am 08.02.2016 um 23:07 schrieb NormW <normw@gknw.net>:
>>
>>
>>>> G/M,
>>>> Recent additions to http-trunk/modules/http2 require the attached apatch to the http2 NetWare build file:
>>>>> Index: modules/http2/NWGNUmakefile
>>>>> ===================================================================
>>>>> --- modules/http2/NWGNUmakefile	(revision 1729251)
>>>>> +++ modules/http2/NWGNUmakefile	(working copy)
>>>>> @@ -34,6 +34,8 @@
>>>>> 			$(NGH2SRC)/lib/ \
>>>>> 			$(NGH2SRC)/lib/includes \
>>>>> 			$(SERVER)/mpm/NetWare \
>>>>> +			$(STDMOD)/proxy \
>>>>> +			$(STDMOD)/ssl \
>>>>> 			$(NWOS) \
>>>>> 			$(EOLIST)
>>>>>
>>>>> @@ -55,6 +57,7 @@
>>>>> #
>>>>> XLFLAGS		+= \
>>>>> 			-L$(OBJDIR) \
>>>>> +			-L../proxy \
>>>>> 			$(EOLIST)
>>>>>
>>>>> #
>>>>> @@ -224,6 +227,7 @@
>>>>> 	@libc.imp \
>>>>> 	@aprlib.imp \
>>>>> 	@httpd.imp \
>>>>> +	@mod_proxy.imp \
>>>>> 	$(EOLIST)
>>>>>
>>>>> #
>>>>
>>>> The first 2 extra lines allow the compiler to find extra headers, the 3rd allows the linker to locate mod_proxy.imp.
>>>>
>>>> Please review and apply this if it seems reasonable.
>>>>
>>>> Norm
>>>> <htttp2_gets_a_proxy.diff>
>>>
>>
>> <NWGNUmakefile.txt><NWGNUmod_http2.txt>
>


--------------030909080709030308020805
Content-Type: text/plain; charset=UTF-8;
 name="NWGNUmakefile"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="NWGNUmakefile"

#
# Declare the sub-directories to be built here
#

SUBDIRS = \
	$(EOLIST)

#
# Get the 'head' of the build environment.  This includes default targets and
# paths to tools
#

include $(AP_WORK)/build/NWGNUhead.inc

#
# build this level's files

#
# Make sure all needed macro's are defined
#

#
# These directories will be at the beginning of the include list, followed by
# INCDIRS
#
XINCDIRS	+= \
			$(EOLIST)

#
# These flags will come after CFLAGS
#
XCFLAGS		+= \
			$(EOLIST)

#
# These defines will come after DEFINES
#
XDEFINES	+= \
			$(EOLIST)

#
# These flags will be added to the link.opt file
#
XLFLAGS		+= \
			$(EOLIST)

#
# These values will be appended to the correct variables based on the value of
# RELEASE
#
ifeq "$(RELEASE)" "debug"
XINCDIRS	+= \
			$(EOLIST)

XCFLAGS		+= \
			$(EOLIST)

XDEFINES	+= \
			$(EOLIST)

XLFLAGS		+= \
			$(EOLIST)
endif

ifeq "$(RELEASE)" "noopt"
XINCDIRS	+= \
			$(EOLIST)

XCFLAGS		+= \
			$(EOLIST)

XDEFINES	+= \
			$(EOLIST)

XLFLAGS		+= \
			$(EOLIST)
endif

ifeq "$(RELEASE)" "release"
XINCDIRS	+= \
			$(EOLIST)

XCFLAGS		+= \
			$(EOLIST)

XDEFINES	+= \
			$(EOLIST)

XLFLAGS		+= \
			$(EOLIST)
endif

#
# These are used by the link target if an NLM is being generated
# This is used by the link 'name' directive to name the nlm.  If left blank
# TARGET_nlm (see below) will be used.
#
NLM_NAME	=

#
# This is used by the link '-desc ' directive.
# If left blank, NLM_NAME will be used.
#
NLM_DESCRIPTION	=

#
# This is used by the '-threadname' directive.  If left blank,
# NLM_NAME Thread will be used.
#
NLM_THREAD_NAME	=

#
# If this is specified, it will override VERSION value in
# $(AP_WORK)/build/NWGNUenvironment.inc
#
NLM_VERSION	=

#
# If this is specified, it will override the default of 64K
#
NLM_STACK_SIZE	=


#
# If this is specified it will be used by the link '-entry' directive
#
NLM_ENTRY_SYM	=

#
# If this is specified it will be used by the link '-exit' directive
#
NLM_EXIT_SYM	=

#
# If this is specified it will be used by the link '-check' directive
#
NLM_CHECK_SYM	=

#
# If these are specified it will be used by the link '-flags' directive
#
NLM_FLAGS	=

#
# If this is specified it will be linked in with the XDCData option in the def
# file instead of the default of $(NWOS)/apache.xdc.  XDCData can be disabled
# by setting APACHE_UNIPROC in the environment
#
XDCDATA		=

#
# If there is an NLM target, put it here
#
TARGET_nlm = \
	$(OBJDIR)/mod_http2.nlm \
	$(OBJDIR)/mod_http2.nlm \
	$(EOLIST)

#
# If there is an LIB target, put it here
#
TARGET_lib = \
	$(EOLIST)

#
# These are the OBJ files needed to create the NLM target above.
# Paths must all use the '/' character
#
FILES_nlm_objs = \
	$(EOLIST)

#
# These are the LIB files needed to create the NLM target above.
# These will be added as a library command in the link.opt file.
#
FILES_nlm_libs = \
	$(EOLIST)

#
# These are the modules that the above NLM target depends on to load.
# These will be added as a module command in the link.opt file.
#
FILES_nlm_modules = \
	$(EOLIST)

#
# If the nlm has a msg file, put it's path here
#
FILE_nlm_msg =

#
# If the nlm has a hlp file put it's path here
#
FILE_nlm_hlp =

#
# If this is specified, it will override $(NWOS)\copyright.txt.
#
FILE_nlm_copyright =

#
# Any additional imports go here
#
FILES_nlm_Ximports = \
	$(EOLIST)

#
# Any symbols exported to here
#
FILES_nlm_exports = \
	$(EOLIST)

#
# These are the OBJ files needed to create the LIB target above.
# Paths must all use the '/' character
#
FILES_lib_objs = \
	$(EOLIST)

#
# implement targets and dependancies (leave this section alone)
#

libs :: $(OBJDIR) $(TARGET_lib)

nlms :: libs $(TARGET_nlm)

#
# Updated this target to create necessary directories and copy files to the
# correct place.  (See $(AP_WORK)/build/NWGNUhead.inc for examples)
#
install :: nlms FORCE
	$(call COPY,$(OBJDIR)/*.nlm, $(INSTALLBASE)/modules/)

#
# Any specialized rules here
#

#
# Include the 'tail' makefile that has targets that depend on variables defined
# in this makefile
#

include $(APBUILD)/NWGNUtail.inc



--------------030909080709030308020805
Content-Type: text/plain; charset=UTF-8;
 name="NWGNUmod_http2"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="NWGNUmod_http2"

#
# This Makefile requires the environment var NGH2SRC
# pointing to the base directory of nghttp2 source tree.
#

#
# Declare the sub-directories to be built here
#

SUBDIRS = \
	$(EOLIST)

#
# Get the 'head' of the build environment.  This includes default targets and
# paths to tools
#

include $(AP_WORK)/build/NWGNUhead.inc

#
# build this level's files
#
# Make sure all needed macro's are defined
#

#
# These directories will be at the beginning of the include list, followed by
# INCDIRS
#
XINCDIRS	+= \
			$(APR)/include \
			$(APRUTIL)/include \
			$(SRC)/include \
			$(NGH2SRC)/lib/ \
			$(NGH2SRC)/lib/includes \
			$(SERVER)/mpm/NetWare \
			$(STDMOD)/ssl \
			$(NWOS) \
			$(EOLIST)

#
# These flags will come after CFLAGS
#
XCFLAGS		+= \
			$(EOLIST)

#
# These defines will come after DEFINES
#
XDEFINES	+= \
			-DHAVE_CONFIG_H \
			$(EOLIST)

#
# These flags will be added to the link.opt file
#
XLFLAGS		+= \
			-L$(OBJDIR) \
			$(EOLIST)

#
# These values will be appended to the correct variables based on the value of
# RELEASE
#
ifeq "$(RELEASE)" "debug"
XINCDIRS	+= \
			$(EOLIST)

XCFLAGS		+= \
			$(EOLIST)

XDEFINES	+= \
			$(EOLIST)

XLFLAGS		+= \
			$(EOLIST)
endif

ifeq "$(RELEASE)" "noopt"
XINCDIRS	+= \
			$(EOLIST)

XCFLAGS		+= \
			$(EOLIST)

XDEFINES	+= \
			$(EOLIST)

XLFLAGS		+= \
			$(EOLIST)
endif

ifeq "$(RELEASE)" "release"
XINCDIRS	+= \
			$(EOLIST)

XCFLAGS		+= \
			$(EOLIST)

XDEFINES	+= \
			$(EOLIST)

XLFLAGS		+= \
			$(EOLIST)
endif

#
# These are used by the link target if an NLM is being generated
# This is used by the link 'name' directive to name the nlm.  If left blank
# TARGET_nlm (see below) will be used.
#
NLM_NAME	= mod_http2

#
# This is used by the link '-desc ' directive.
# If left blank, NLM_NAME will be used.
#
NLM_DESCRIPTION	= Apache $(VERSION_STR) HTTP2 Support module (w/ NGHTTP2 Lib)

#
# This is used by the '-threadname' directive.  If left blank,
# NLM_NAME Thread will be used.
#
NLM_THREAD_NAME	= $(NLM_NAME)

#
# If this is specified, it will override VERSION value in
# $(AP_WORK)/build/NWGNUenvironment.inc
#
NLM_VERSION	=

#
# If this is specified, it will override the default of 64K
#
NLM_STACK_SIZE	= 65536

#
# If this is specified it will be used by the link '-entry' directive
#
NLM_ENTRY_SYM	=

#
# If this is specified it will be used by the link '-exit' directive
#
NLM_EXIT_SYM	=

#
# If this is specified it will be used by the link '-check' directive
#
NLM_CHECK_SYM	=

#
# If this is specified it will be used by the link '-flags' directive
#
NLM_FLAGS	=

#
# If this is specified it will be linked in with the XDCData option in the def
# file instead of the default of $(NWOS)/apache.xdc.  XDCData can be disabled
# by setting APACHE_UNIPROC in the environment
#
XDCDATA		=

#
# Declare all target files (you must add your files here)
#

#
# If there is an NLM target, put it here
#
TARGET_nlm = \
	$(OBJDIR)/$(NLM_NAME).nlm \
	$(EOLIST)

#
# If there is an LIB target, put it here
#
TARGET_lib = \
	$(OBJDIR)/nghttp2.lib \
	$(EOLIST)

#
# These are the OBJ files needed to create the NLM target above.
# Paths must all use the '/' character
#
FILES_nlm_objs = \
	$(OBJDIR)/h2_alt_svc.o \
	$(OBJDIR)/h2_bucket_eoc.o \
	$(OBJDIR)/h2_bucket_eos.o \
	$(OBJDIR)/h2_config.o \
	$(OBJDIR)/h2_conn.o \
	$(OBJDIR)/h2_conn_io.o \
	$(OBJDIR)/h2_ctx.o \
	$(OBJDIR)/h2_filter.o \
	$(OBJDIR)/h2_from_h1.o \
	$(OBJDIR)/h2_h2.o \
	$(OBJDIR)/h2_io.o \
	$(OBJDIR)/h2_io_set.o \
	$(OBJDIR)/h2_mplx.o \
	$(OBJDIR)/h2_push.o \
	$(OBJDIR)/h2_request.o \
	$(OBJDIR)/h2_response.o \
	$(OBJDIR)/h2_session.o \
	$(OBJDIR)/h2_stream.o \
	$(OBJDIR)/h2_stream_set.o \
	$(OBJDIR)/h2_switch.o \
	$(OBJDIR)/h2_task.o \
	$(OBJDIR)/h2_task_input.o \
	$(OBJDIR)/h2_task_output.o \
	$(OBJDIR)/h2_task_queue.o \
	$(OBJDIR)/h2_util.o \
	$(OBJDIR)/h2_worker.o \
	$(OBJDIR)/h2_workers.o \
	$(OBJDIR)/mod_http2.o \
	$(EOLIST)

#
# These are the LIB files needed to create the NLM target above.
# These will be added as a library command in the link.opt file.
#
FILES_nlm_libs = \
	$(PRELUDE) \
	$(OBJDIR)/nghttp2.lib \
	$(EOLIST)

#
# These are the modules that the above NLM target depends on to load.
# These will be added as a module command in the link.opt file.
#
FILES_nlm_modules = \
	Libc \
	Apache2 \
	$(EOLIST)

#
# If the nlm has a msg file, put it's path here
#
FILE_nlm_msg =

#
# If the nlm has a hlp file put it's path here
#
FILE_nlm_hlp =

#
# If this is specified, it will override $(NWOS)\copyright.txt.
#
FILE_nlm_copyright =

#
# Any additional imports go here
#
FILES_nlm_Ximports = \
	@libc.imp \
	@aprlib.imp \
	@httpd.imp \
	$(EOLIST)

#
# Any symbols exported to here
#
FILES_nlm_exports = \
	http2_module \
	$(EOLIST)

#
# These are the OBJ files needed to create the LIB target above.
# Paths must all use the '/' character
#
FILES_lib_objs := $(sort $(patsubst $(NGH2SRC)/lib/%.c,$(OBJDIR)/%.o,$(wildcard $(NGH2SRC)/lib/*.c)))
#
# implement targets and dependancies (leave this section alone)
#

libs :: $(OBJDIR) $(NGH2SRC)/lib/config.h $(TARGET_lib)

nlms :: libs $(TARGET_nlm)

#
# Updated this target to create necessary directories and copy files to the
# correct place.  (See $(AP_WORK)/build/NWGNUhead.inc for examples)
#
install :: nlms FORCE
	$(call COPY,$(OBJDIR)/*.nlm,        $(INSTALLBASE)/modules/)

clean ::
	$(call DEL,$(NGH2SRC)/lib/config.h)
#
# Any specialized rules here
#
vpath %.c $(NGH2SRC)/lib

$(NGH2SRC)/lib/config.h : NWGNUmakefile
	@echo $(DL)GEN  $@$(DL)
	@echo $(DL)/* For NetWare target.$(DL) > $@
	@echo $(DL)** Do not edit - created by Make!$(DL) >> $@
	@echo $(DL)*/$(DL) >> $@
	@echo $(DL)#ifndef NGH2_CONFIG_H$(DL) >> $@
	@echo $(DL)#define NGH2_CONFIG_H$(DL) >> $@
	@echo #define HAVE_ARPA_INET_H 1 >> $@
	@echo #define HAVE_CHOWN 1 >> $@
	@echo #define HAVE_DECL_STRERROR_R 1 >> $@
	@echo #define HAVE_DLFCN_H 1 >> $@
	@echo #define HAVE_DUP2 1 >> $@
	@echo #define HAVE_FCNTL_H 1 >> $@
	@echo #define HAVE_GETCWD 1 >> $@
	@echo #define HAVE_INTTYPES_H 1 >> $@
	@echo #define HAVE_LIMITS_H 1 >> $@
	@echo #define HAVE_LOCALTIME_R 1 >> $@
	@echo #define HAVE_MALLOC 1 >> $@
	@echo #define HAVE_MEMCHR 1 >> $@
	@echo #define HAVE_MEMMOVE 1 >> $@
	@echo #define HAVE_MEMORY_H 1 >> $@
	@echo #define HAVE_MEMSET 1 >> $@
	@echo #define HAVE_NETDB_H 1 >> $@
	@echo #define HAVE_NETINET_IN_H 1 >> $@
	@echo #define HAVE_PTRDIFF_T 1 >> $@
	@echo #define HAVE_PWD_H 1 >> $@
	@echo #define HAVE_SOCKET 1 >> $@
	@echo #define HAVE_SQRT 1 >> $@
	@echo #define HAVE_STDDEF_H 1 >> $@
	@echo #define HAVE_STDINT_H 1 >> $@
	@echo #define HAVE_STDLIB_H 1 >> $@
	@echo #define HAVE_STRCHR 1 >> $@
	@echo #define HAVE_STRDUP 1 >> $@
	@echo #define HAVE_STRERROR 1 >> $@
	@echo #define HAVE_STRERROR_R 1 >> $@
	@echo #define HAVE_STRINGS_H 1 >> $@
	@echo #define HAVE_STRING_H 1 >> $@
	@echo #define HAVE_STRSTR 1 >> $@
	@echo #define HAVE_STRTOL 1 >> $@
	@echo #define HAVE_STRTOUL 1 >> $@
	@echo #define HAVE_SYSLOG_H 1 >> $@
	@echo #define HAVE_SYS_SOCKET_H 1 >> $@
	@echo #define HAVE_SYS_STAT_H 1 >> $@
	@echo #define HAVE_SYS_TIME_H 1 >> $@
	@echo #define HAVE_SYS_TYPES_H 1 >> $@
	@echo #define HAVE_TIME_H 1 >> $@
	@echo #define HAVE_UNISTD_H 1 >> $@

	@echo #define SIZEOF_INT_P 4 >> $@
	@echo #define STDC_HEADERS 1 >> $@
	@echo #define STRERROR_R_CHAR_P 4 >> $@

# Hint to compiler a function parameter is not used
	@echo #define _U_ >> $@

	@echo #ifndef __cplusplus >> $@
	@echo #define inline __inline >> $@
	@echo #endif >> $@

	@echo $(DL)#endif /* NGH2_CONFIG_H */$(DL) >> $@

#
# Include the 'tail' makefile that has targets that depend on variables defined
# in this makefile
#

include $(APBUILD)/NWGNUtail.inc



--------------030909080709030308020805--

From dev-return-85575-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 22:18:08 2016
Return-Path: <dev-return-85575-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D4D1718E4D
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 22:18:08 +0000 (UTC)
Received: (qmail 32609 invoked by uid 500); 11 Feb 2016 22:18:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32542 invoked by uid 500); 11 Feb 2016 22:18:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32532 invoked by uid 99); 11 Feb 2016 22:18:03 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 22:18:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C656D180511
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 22:18:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id fhW8x2QG9oWC for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 22:18:01 +0000 (UTC)
Received: from mail-io0-f176.google.com (mail-io0-f176.google.com [209.85.223.176])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 11AE442A04
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 22:18:01 +0000 (UTC)
Received: by mail-io0-f176.google.com with SMTP id g203so45980814iof.2
        for <dev@httpd.apache.org>; Thu, 11 Feb 2016 14:18:01 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=oyQ9pFCH0JL2j97wV84T3W9sqYrykUTIUu4pkrhoH14=;
        b=InxHjlrWYGOhSH6PECqPCd5E1AXoVq/58j0BUXGs8TTNdPghSu3Vg0TbhXtpexvgwe
         OUcN6zsfIXJRLyC9hjQGnwFVPAHF4pHNVvCc5MR9BQN6WbMvnoyvf4+9zD9z9ByBMEAo
         QmsVzXJqOU0tAekD3trY/7FzLGW8mWbkdpEYeZxgbaUrl4yhDG0lKYhdwU4wqDdsJSea
         1lFb3cZsyezTJ/UJ27SCmmYUm3/0NQP2x41H3KyzKdhXlPNPYl7CujFMUc1t6cEe7yVZ
         zARLENoK6itUQbiFOLqoHbJmZN6jmV+j/pB/A3FMI4QOvYoLjt4zuuxReteFxGaHvyHR
         o34Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=oyQ9pFCH0JL2j97wV84T3W9sqYrykUTIUu4pkrhoH14=;
        b=JXczzMthRR6HseY/HpAWJxiiO3QCqfovhGa4oxo00yfS960D45/l4c7U3neNP0CU+t
         TaQmC3MS+KUuPvTFOxMBCycALvjnksRkGWHX1zUtv/oQDo/6k8Dm3mKuu42wdYhu5aXo
         bZJTll7I2LGDkjNO+5e/gj20qdL9KKPO1rJThH/TndxolVRH/+zcDq/z8988ptm2pTrr
         lsVIUJ7vEhRDWlG/ElmK7qkzKN6IcOiOu5ioGLEa6bCusVJTmUoJYwo1WK26XMEjMxlV
         LYoHbeHyHf+07q2PWoWOsI9dhgDJ89FcQcbFW7gob+mc8JqQkWqBXvQoNn4ACtGbk9OU
         0szA==
X-Gm-Message-State: AG10YOTTqozCuAB2WJibWxMPi8EBGqX+srPlp4AZ+3NjSvt3WKZnVFQcV2M6JaLhnbRtjcsYFufdu8ncuN8gig4T
MIME-Version: 1.0
X-Received: by 10.107.28.82 with SMTP id c79mr44360170ioc.86.1455229080616;
 Thu, 11 Feb 2016 14:18:00 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Thu, 11 Feb 2016 14:18:00 -0800 (PST)
In-Reply-To: <20160211190617.798433A023C@svn01-us-west.apache.org>
References: <20160211190617.798433A023C@svn01-us-west.apache.org>
Date: Thu, 11 Feb 2016 16:18:00 -0600
Message-ID: <CACsi251qYsaZkaU67Jk6BtgiMV+ouAYGCx+3q9jP1VDQ=VSVdA@mail.gmail.com>
Subject: Re: svn commit: r1729876 - in /httpd/httpd/branches/2.4.x: ./ CHANGES
 STATUS docs/manual/mod/core.xml include/ap_mmn.h include/http_core.h server/core.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11409b986ae8bb052b85ecd7

--001a11409b986ae8bb052b85ecd7
Content-Type: text/plain; charset=UTF-8

On Thu, Feb 11, 2016 at 1:06 PM, <jim@apache.org> wrote:

> Author: jim
> Date: Thu Feb 11 19:06:16 2016
> New Revision: 1729876
>
> URL: http://svn.apache.org/viewvc?rev=1729876&view=rev
> URL:
> http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/include/ap_mmn.h?rev=1729876&r1=1729875&r2=1729876&view=diff
>
> ==============================================================================
> --- httpd/httpd/branches/2.4.x/include/ap_mmn.h (original)
> +++ httpd/httpd/branches/2.4.x/include/ap_mmn.h Thu Feb 11 19:06:16 2016
> @@ -457,6 +457,7 @@
>   *                          ap_get_protocol(). Add
> HTTP_MISDIRECTED_REQUEST.
>   *                          Added ap_parse_token_list_strict() to httpd.h
>   * 20120211.52 (2.4.17-dev) Add master conn_rec* member in conn_rec.
> + * 20120211.53 (2.4.17-dev) Add epxr_hander to core_dir_config.
>

Just a gravity wave effect in the space-time continuum today, I expect?  :)

Probably want to review your commits to ensure no others are mislabeled
two versions back in time.

--001a11409b986ae8bb052b85ecd7
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Feb 11, 2016 at 1:06 PM,  <span dir=3D"ltr">&lt;<a href=3D"mailto:jim@a=
pache.org" target=3D"_blank">jim@apache.org</a>&gt;</span> wrote:<br><block=
quote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc=
 solid;padding-left:1ex">Author: jim<br>
Date: Thu Feb 11 19:06:16 2016<br>
New Revision: 1729876<br>
<br>
URL: <a href=3D"http://svn.apache.org/viewvc?rev=3D1729876&amp;view=3Drev" =
rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc?rev=3D172=
9876&amp;view=3Drev</a><br>URL: <a href=3D"http://svn.apache.org/viewvc/htt=
pd/httpd/branches/2.4.x/include/ap_mmn.h?rev=3D1729876&amp;r1=3D1729875&amp=
;r2=3D1729876&amp;view=3Ddiff" rel=3D"noreferrer" target=3D"_blank">http://=
svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/include/ap_mmn.h?rev=3D172=
9876&amp;r1=3D1729875&amp;r2=3D1729876&amp;view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/branches/2.4.x/include/ap_mmn.h (original)<br>
+++ httpd/httpd/branches/2.4.x/include/ap_mmn.h Thu Feb 11 19:06:16 2016<br=
>
@@ -457,6 +457,7 @@<br>
=C2=A0 *=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 ap_get_protocol(). Add HTTP_MISDIRECTED_REQUEST.<b=
r>
=C2=A0 *=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 Added ap_parse_token_list_strict() to httpd.h<br>
=C2=A0 * 20120211.52 (2.4.17-dev) Add master conn_rec* member in conn_rec.<=
br>
+ * 20120211.53 (2.4.17-dev) Add epxr_hander to core_dir_config.<br></block=
quote><div><br></div><div>Just a gravity wave effect in the space-time cont=
inuum today, I expect? =C2=A0:)</div><div><br></div><div>Probably want to r=
eview your commits to ensure no others are mislabeled=C2=A0</div><div>two v=
ersions back in time.</div><div><br></div><div><br></div></div></div></div>

--001a11409b986ae8bb052b85ecd7--

From dev-return-85576-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 11 23:17:07 2016
Return-Path: <dev-return-85576-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F142318249
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Feb 2016 23:17:07 +0000 (UTC)
Received: (qmail 7714 invoked by uid 500); 11 Feb 2016 23:17:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 7645 invoked by uid 500); 11 Feb 2016 23:17:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 7635 invoked by uid 99); 11 Feb 2016 23:17:07 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Feb 2016 23:17:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 2F128C0873
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 23:17:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Uw1HdJ1TfCzV for <dev@httpd.apache.org>;
	Thu, 11 Feb 2016 23:17:06 +0000 (UTC)
Received: from mail-io0-f169.google.com (mail-io0-f169.google.com [209.85.223.169])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 2A69020428
	for <dev@httpd.apache.org>; Thu, 11 Feb 2016 23:17:06 +0000 (UTC)
Received: by mail-io0-f169.google.com with SMTP id 9so74227248iom.1
        for <dev@httpd.apache.org>; Thu, 11 Feb 2016 15:17:06 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=uhXBBEwcJsqRVHTx+cBikZ/28Sy8rVRRx4+mtH/MUpE=;
        b=CfH8wrwdlDlL/kuSeI9Cx1oz6AsU4eJpn6dK9w+1OeArMCkxFxMbIbHnXBngf46q2j
         wyFs8IIRCz2lVWTHQLxRalUZWkx9ao/r815BVSc5scH0Vnj6IS5S8+lcu3npYFaT6phO
         uWdVFU28Li/RwgQgophltml5JdCUawx/MOQKg7mBbizWQ+QwmxN04Rozl+H09dgSxBwz
         JuruJIIeolKc8EcsLKHRwKugHFi1xa7xL4Q+Q1CsANlX850GNFGnJT62kTbDkrUjHuBw
         jN/1ud4NywaRDLKK9hE2wptRAtKg21mpIv1gUR9n5A9NagYFfwgTaLxrSxV/kYTZTNaX
         COmg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=uhXBBEwcJsqRVHTx+cBikZ/28Sy8rVRRx4+mtH/MUpE=;
        b=dfi5LQiEaZ41GlmKuilZvjW3KW3kNIZGHx6fUKAMCqAo8OH5FGzuw0/09Czkl3cx12
         WUR89bmCeg8RnABYTDHx3nv4O1Ai2rH4ZystyhyTsh3mPIEVBd9sztowiCojyJDUmMW6
         6egfhHgcT0v2xQQjybpOKzS9cbFocwTJHuliqVunfMcXdKrFzpwV1GrkAiTrSmipSeC3
         4tq1efGeTwOU3tlhQEkVa6BxzLt0jW40o/SOEg8wwZFJqOuKRcZXIlNX7pOYOT6o//wT
         HEWxRSY9zkqiEQ4PMU2JL9SCDmNNBdUxwk+JxH6OOhD1QuEXn49LkWRKZn9VB9M0+Nmy
         qdfw==
X-Gm-Message-State: AG10YOTRHxzOFlLb5eSN1BK103NJrPmet3mLvKy7l4hlmc8/Hj+Xow/+F6wLi7NaRpgoxQiMwvwGg4hR0eF/RA==
MIME-Version: 1.0
X-Received: by 10.107.164.212 with SMTP id d81mr5979116ioj.169.1455232625704;
 Thu, 11 Feb 2016 15:17:05 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Thu, 11 Feb 2016 15:17:05 -0800 (PST)
In-Reply-To: <CACsi251qYsaZkaU67Jk6BtgiMV+ouAYGCx+3q9jP1VDQ=VSVdA@mail.gmail.com>
References: <20160211190617.798433A023C@svn01-us-west.apache.org>
	<CACsi251qYsaZkaU67Jk6BtgiMV+ouAYGCx+3q9jP1VDQ=VSVdA@mail.gmail.com>
Date: Thu, 11 Feb 2016 18:17:05 -0500
Message-ID: <CALK=YjMm8QgkRftoKVvhseF6cDUpz_vBfRKpDgcXMg7J_znDMw@mail.gmail.com>
Subject: Re: svn commit: r1729876 - in /httpd/httpd/branches/2.4.x: ./ CHANGES
 STATUS docs/manual/mod/core.xml include/ap_mmn.h include/http_core.h server/core.c
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

>> --- httpd/httpd/branches/2.4.x/include/ap_mmn.h (original)
>> +++ httpd/httpd/branches/2.4.x/include/ap_mmn.h Thu Feb 11 19:06:16 2016
>> @@ -457,6 +457,7 @@
>>   *                          ap_get_protocol(). Add
>> HTTP_MISDIRECTED_REQUEST.
>>   *                          Added ap_parse_token_list_strict() to httpd.h
>>   * 20120211.52 (2.4.17-dev) Add master conn_rec* member in conn_rec.
>> + * 20120211.53 (2.4.17-dev) Add epxr_hander to core_dir_config.
>
>
> Just a gravity wave effect in the space-time continuum today, I expect?  :)

r1729922.

> Probably want to review your commits to ensure no others are mislabeled
> two versions back in time.

sigh.

From dev-return-85577-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 00:20:17 2016
Return-Path: <dev-return-85577-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6EFA21863C
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 00:20:16 +0000 (UTC)
Received: (qmail 62287 invoked by uid 500); 12 Feb 2016 00:20:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62208 invoked by uid 500); 12 Feb 2016 00:20:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62198 invoked by uid 99); 12 Feb 2016 00:20:15 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 00:20:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 87A70C1A85
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 00:20:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.735
X-Spam-Level:
X-Spam-Status: No, score=-1.735 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, RCVD_IN_DNSWL_MED=-2.3,
	RP_MATCHES_RCVD=-0.234, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 4kGNByU6k9pD for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 00:20:12 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 18C8D31ADD
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 00:20:12 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u1C0K4ZO013135
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 01:20:04 +0100 (CET)
Subject: Re: svn commit: r1729901 - in /httpd/httpd/trunk: CHANGES
 include/ap_mmn.h include/http_core.h include/httpd.h server/core.c
To: dev@httpd.apache.org
References: <20160211215845.CB4B83A023C@svn01-us-west.apache.org>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56BD2532.2070000@kippdata.de>
Date: Fri, 12 Feb 2016 01:20:02 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <20160211215845.CB4B83A023C@svn01-us-west.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

I fixed two minor compilation failures, but one type of failure remains:

.../server/core.c: In function 'ap_get_remote_host':
.../server/core.c:959:17: error: cannot take address of bit-field 
'double_reverse'
                  do_double_reverse(&conn->double_reverse, 
conn->remote_host,
                  ^
.../server/core.c:974:9: error: cannot take address of bit-field 
'double_reverse'
          do_double_reverse(&conn->double_reverse, conn->remote_host,
          ^

Regards,

Rainer

Am 11.02.2016 um 22:58 schrieb wrowe@apache.org:
> Author: wrowe
> Date: Thu Feb 11 21:58:45 2016
> New Revision: 1729901
>
> URL: http://svn.apache.org/viewvc?rev=1729901&view=rev
> Log:
> Introduce an ap_get_useragent_host() accessor to replace the old
> ap_get_remote_host() in most applications, but preserve the original
> behavior for all ap_get_remote_host() consumers (mostly, because we
> don't have the request_rec in the first place, and also to avoid any
> unintended consequences).
>
> This accessor continues to store the remote_host of connection based
> uesr agents within the conn_rec for optimization.  Only where some
> other module modifies the useragent_addr will we perform a per-request
> query of the remote_host.
>
> (Committed previously, but backed out due to unrelated core.c changes)
>
> Modified:
>      httpd/httpd/trunk/CHANGES
>      httpd/httpd/trunk/include/ap_mmn.h
>      httpd/httpd/trunk/include/http_core.h
>      httpd/httpd/trunk/include/httpd.h
>      httpd/httpd/trunk/server/core.c
>
> Modified: httpd/httpd/trunk/CHANGES
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/CHANGES?rev=1729901&r1=1729900&r2=1729901&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/CHANGES [utf-8] (original)
> +++ httpd/httpd/trunk/CHANGES [utf-8] Thu Feb 11 21:58:45 2016
> @@ -1,6 +1,11 @@
>                                                            -*- coding: utf-8 -*-
>   Changes with Apache 2.5.0
>
> +  *) core: Track the useragent_host per-request when mod_remoteip or similar
> +     modules track a per-request useragent_ip.  Modules should be updated
> +     to inquire for ap_get_useragent_host() in place of ap_get_remote_host().
> +     [William Rowe]
> +
>     *) mod_proxy: Play/restore the TLS-SNI on new backend connections which
>        had to be issued because the remote closed the previous/reusable one
>        during idle (keep-alive) time.  [Yann Ylavic]
>
> Modified: httpd/httpd/trunk/include/ap_mmn.h
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/include/ap_mmn.h?rev=1729901&r1=1729900&r2=1729901&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/include/ap_mmn.h (original)
> +++ httpd/httpd/trunk/include/ap_mmn.h Thu Feb 11 21:58:45 2016
> @@ -500,6 +500,8 @@
>    * 20150222.9 (2.5.0-dev)  Add epxr_hander to core_dir_config.
>    * 20150222.10 (2.5.0-dev) Add new ap_update_child_status...() methods,
>    *                         add protocol to worker_score in scoreboard.h
> + * 20150222.11 (2.5.0-dev) Split useragent_host from the conn_rec into
> + *                         the request_rec, with ap_get_useragent_host()
>    */
>
>   #define MODULE_MAGIC_COOKIE 0x41503235UL /* "AP25" */
> @@ -507,7 +509,7 @@
>   #ifndef MODULE_MAGIC_NUMBER_MAJOR
>   #define MODULE_MAGIC_NUMBER_MAJOR 20150222
>   #endif
> -#define MODULE_MAGIC_NUMBER_MINOR 10                 /* 0...n */
> +#define MODULE_MAGIC_NUMBER_MINOR 11                 /* 0...n */
>
>   /**
>    * Determine if the server's current MODULE_MAGIC_NUMBER is at least a
>
> Modified: httpd/httpd/trunk/include/http_core.h
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/include/http_core.h?rev=1729901&r1=1729900&r2=1729901&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/include/http_core.h (original)
> +++ httpd/httpd/trunk/include/http_core.h Thu Feb 11 21:58:45 2016
> @@ -159,6 +159,32 @@ AP_DECLARE(int) ap_allow_overrides(reque
>   AP_DECLARE(const char *) ap_document_root(request_rec *r);
>
>   /**
> + * Lookup the remote user agent's DNS name or IP address
> + * @ingroup get_remote_hostname
> + * @param req The current request
> + * @param type The type of lookup to perform.  One of:
> + * <pre>
> + *     REMOTE_HOST returns the hostname, or NULL if the hostname
> + *                 lookup fails.  It will force a DNS lookup according to the
> + *                 HostnameLookups setting.
> + *     REMOTE_NAME returns the hostname, or the dotted quad if the
> + *                 hostname lookup fails.  It will force a DNS lookup according
> + *                 to the HostnameLookups setting.
> + *     REMOTE_NOLOOKUP is like REMOTE_NAME except that a DNS lookup is
> + *                     never forced.
> + *     REMOTE_DOUBLE_REV will always force a DNS lookup, and also force
> + *                   a double reverse lookup, regardless of the HostnameLookups
> + *                   setting.  The result is the (double reverse checked)
> + *                   hostname, or NULL if any of the lookups fail.
> + * </pre>
> + * @param str_is_ip unless NULL is passed, this will be set to non-zero on
> + *        output when an IP address string is returned
> + * @return The remote hostname (based on the request useragent_ip)
> + */
> +AP_DECLARE(const char *) ap_get_useragent_host(request_rec *req, int type,
> +                                               int *str_is_ip);
> +
> +/**
>    * Lookup the remote client's DNS name or IP address
>    * @ingroup get_remote_host
>    * @param conn The current connection
> @@ -180,7 +206,7 @@ AP_DECLARE(const char *) ap_document_roo
>    * </pre>
>    * @param str_is_ip unless NULL is passed, this will be set to non-zero on output when an IP address
>    *        string is returned
> - * @return The remote hostname
> + * @return The remote hostname (based on the connection client_ip)
>    */
>   AP_DECLARE(const char *) ap_get_remote_host(conn_rec *conn, void *dir_config, int type, int *str_is_ip);
>
>
> Modified: httpd/httpd/trunk/include/httpd.h
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/include/httpd.h?rev=1729901&r1=1729900&r2=1729901&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/include/httpd.h (original)
> +++ httpd/httpd/trunk/include/httpd.h Thu Feb 11 21:58:45 2016
> @@ -1056,6 +1056,16 @@ struct request_rec {
>       apr_table_t *trailers_in;
>       /** MIME trailer environment from the response */
>       apr_table_t *trailers_out;
> +
> +    /** Originator's DNS name, if known.  NULL if DNS hasn't been checked,
> +     *  "" if it has and no address was found.  N.B. Only access this though
> +     *  ap_get_useragent_host() */
> +    char *useragent_host;
> +    /** have we done double-reverse DNS? -1 yes/failure, 0 not yet,
> +     *  1 yes/success
> +     *  TODO: 2 bit signed bitfield when this structure is compacted
> +     */
> +    int double_reverse;
>   };
>
>   /**
>
> Modified: httpd/httpd/trunk/server/core.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/core.c?rev=1729901&r1=1729900&r2=1729901&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/server/core.c (original)
> +++ httpd/httpd/trunk/server/core.c Thu Feb 11 21:58:45 2016
> @@ -887,27 +887,30 @@ char *ap_response_code_string(request_re
>
>
>   /* Code from Harald Hanche-Olsen <hanche@imf.unit.no> */
> -static APR_INLINE void do_double_reverse (conn_rec *conn)
> +static APR_INLINE void do_double_reverse (int *double_reverse,
> +                                          const char *remote_host,
> +                                          apr_sockaddr_t *client_addr,
> +                                          apr_pool_t *pool)
>   {
>       apr_sockaddr_t *sa;
>       apr_status_t rv;
>
> -    if (conn->double_reverse) {
> +    if (*double_reverse) {
>           /* already done */
>           return;
>       }
>
> -    if (conn->remote_host == NULL || conn->remote_host[0] == '\0') {
> +    if (remote_host == NULL || remote_host[0] == '\0') {
>           /* single reverse failed, so don't bother */
> -        conn->double_reverse = -1;
> +        *double_reverse = -1;
>           return;
>       }
>
> -    rv = apr_sockaddr_info_get(&sa, conn->remote_host, APR_UNSPEC, 0, 0, conn->pool);
> +    rv = apr_sockaddr_info_get(&sa, remote_host, APR_UNSPEC, 0, 0, pool);
>       if (rv == APR_SUCCESS) {
>           while (sa) {
> -            if (apr_sockaddr_equal(sa, conn->client_addr)) {
> -                conn->double_reverse = 1;
> +            if (apr_sockaddr_equal(sa, client_addr)) {
> +                *double_reverse = 1;
>                   return;
>               }
>
> @@ -915,7 +918,7 @@ static APR_INLINE void do_double_reverse
>           }
>       }
>
> -    conn->double_reverse = -1;
> +    *double_reverse = -1;
>   }
>
>   AP_DECLARE(const char *) ap_get_remote_host(conn_rec *conn, void *dir_config,
> @@ -953,7 +956,8 @@ AP_DECLARE(const char *) ap_get_remote_h
>               ap_str_tolower(conn->remote_host);
>
>               if (hostname_lookups == HOSTNAME_LOOKUP_DOUBLE) {
> -                do_double_reverse(conn);
> +                do_double_reverse(&conn->double_reverse, conn->remote_host,
> +                                  conn->client_addr, conn->pool)
>                   if (conn->double_reverse != 1) {
>                       conn->remote_host = NULL;
>                   }
> @@ -967,7 +971,8 @@ AP_DECLARE(const char *) ap_get_remote_h
>       }
>
>       if (type == REMOTE_DOUBLE_REV) {
> -        do_double_reverse(conn);
> +        do_double_reverse(&conn->double_reverse, conn->remote_host,
> +                          conn->client_addr, conn->pool)
>           if (conn->double_reverse == -1) {
>               return NULL;
>           }
> @@ -991,6 +996,80 @@ AP_DECLARE(const char *) ap_get_remote_h
>           }
>       }
>   }
> +
> +AP_DECLARE(const char *) ap_get_useragent_host(request_rec *r,
> +                                               int type, int *str_is_ip)
> +{
> +    conn_rec *conn = r->connection;
> +    int hostname_lookups;
> +    int ignored_str_is_ip;
> +
> +    if (req->useragent_addr == conn->client_addr) {
> +        return ap_get_remote_host(conn, r->per_dir_config, type, str_is_ip);
> +    }
> +
> +    if (!str_is_ip) { /* caller doesn't want to know */
> +        str_is_ip = &ignored_str_is_ip;
> +    }
> +    *str_is_ip = 0;
> +
> +    hostname_lookups = ((core_dir_config *)
> +                        ap_get_core_module_config(r->per_dir_config))
> +                            ->hostname_lookups;
> +    if (hostname_lookups == HOSTNAME_LOOKUP_UNSET) {
> +        hostname_lookups = HOSTNAME_LOOKUP_OFF;
> +    }
> +
> +    if (type != REMOTE_NOLOOKUP
> +        && r->useragent_host == NULL
> +        && (type == REMOTE_DOUBLE_REV
> +        || hostname_lookups != HOSTNAME_LOOKUP_OFF)) {
> +
> +        if (apr_getnameinfo(&r->useragent_host, r->useragent_addr, 0)
> +            == APR_SUCCESS) {
> +            ap_str_tolower(r->useragent_host);
> +
> +            if (hostname_lookups == HOSTNAME_LOOKUP_DOUBLE) {
> +                do_double_reverse(&r->double_reverse, r->useragent_host,
> +                                  r->useragent_addr, r->pool)
> +                if (r->double_reverse != 1) {
> +                    r->useragent_host = NULL;
> +                }
> +            }
> +        }
> +
> +        /* if failed, set it to the NULL string to indicate error */
> +        if (r->useragent_host == NULL) {
> +            r->useragent_host = "";
> +        }
> +    }
> +
> +    if (type == REMOTE_DOUBLE_REV) {
> +        do_double_reverse(&r->double_reverse, r->useragent_host,
> +                          r->useragent_addr, r->pool)
> +        if (r->double_reverse == -1) {
> +            return NULL;
> +        }
> +    }
> +
> +    /*
> +     * Return the desired information; either the remote DNS name, if found,
> +     * or either NULL (if the hostname was requested) or the IP address
> +     * (if any identifier was requested).
> +     */
> +    if (r->useragent_host != NULL && r->useragent_host[0] != '\0') {
> +        return r->useragent_host;
> +    }
> +    else {
> +        if (type == REMOTE_HOST || type == REMOTE_DOUBLE_REV) {
> +            return NULL;
> +        }
> +        else {
> +            *str_is_ip = 1;
> +            return r->useragent_ip;
> +        }
> +    }
> +}
>
>   /*
>    * Optional function coming from mod_ident, used for looking up ident user

From dev-return-85578-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 00:42:39 2016
Return-Path: <dev-return-85578-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2AFC61870D
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 00:42:39 +0000 (UTC)
Received: (qmail 7806 invoked by uid 500); 12 Feb 2016 00:42:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 7740 invoked by uid 500); 12 Feb 2016 00:42:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 7728 invoked by uid 99); 12 Feb 2016 00:42:38 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 00:42:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 2DD3B1A03B9
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 00:42:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id qwwr5n9H3RBw for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 00:42:33 +0000 (UTC)
Received: from mail-io0-f176.google.com (mail-io0-f176.google.com [209.85.223.176])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id B8E28428E5
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 00:42:32 +0000 (UTC)
Received: by mail-io0-f176.google.com with SMTP id z135so6970201iof.0
        for <dev@httpd.apache.org>; Thu, 11 Feb 2016 16:42:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=zJsy5rCBwIMGe7s1qXOCW8aoS8NKcWhyORpoiFqyPa0=;
        b=fRtSocYRWBo9v4T/RimPvgnYErjqMPnHXY4l3Am3SYGbihEwvYDVHwYVyTWsNJvEyd
         OrvuuR1bvh9fWnWGvVL440fWFHdsMr2mMvtrwL1aTxOs21EGcYd5zrMBZuZvA/g3crEm
         Qj9PZnwYCQ/cfsbU9R5/3Yig2GuaLK027M2hGuI8EnzzWtn7WJjBE51ui74uA1OY91OM
         CsRufNKcAjDo78CHMACmYetUk+C4cPN6VMSYrRtd0RE0JB6aYx7cVnsnKVswmz46tsQ/
         ojk9qjj8ank6+fiE2O4QMujG54Xgk+v1XrUhH/bMmgxG8Qn5Y9WM7Tw/8hzo/ZA9lS0t
         uEfg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=zJsy5rCBwIMGe7s1qXOCW8aoS8NKcWhyORpoiFqyPa0=;
        b=KwkL5XqNFCfocM4KipFY5PPk2bvSkEigyh5HAafjWjoZu3XXnkyvMChzTXx/S4ioI7
         2gFdDNmNvulHmOFY9sN8oS7Lp4NCtLGwHzfxYCDDDeGjw53PNWIgNlcpsU5zOdk+S4Ue
         XKOoxvYnlRA4ZFRhM1gABCrBp5X5I5Pmi+AWwN7bl3G7VgA0lWvb6D/g88xYxPDEA623
         oaVUGTh19ep6H/RUat7Q0TvTlTN8FTb4RtCKaZuBpRH8ms9gJfLGfUNjQ7D6xOGCkz3m
         k1bIrg5hoizbUvX1LEWtKgkFKm7z4GH7+82AgO7p11yQIjPD2cF4EPRiZH4vlYVDPib5
         Bz5A==
X-Gm-Message-State: AG10YOQ22HW6IrdjRdgauHIF5oIlxwrymhosTLH1rIgyC5bHW0kY5U6MTilCsmZo1w4JWQaIwSrJ27jkP5M9j68I
MIME-Version: 1.0
X-Received: by 10.107.34.133 with SMTP id i127mr50400557ioi.150.1455237752278;
 Thu, 11 Feb 2016 16:42:32 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Thu, 11 Feb 2016 16:42:32 -0800 (PST)
In-Reply-To: <56BD2532.2070000@kippdata.de>
References: <20160211215845.CB4B83A023C@svn01-us-west.apache.org>
	<56BD2532.2070000@kippdata.de>
Date: Thu, 11 Feb 2016 18:42:32 -0600
Message-ID: <CACsi252bts_T6CEFkAWjniVBfC8oAw3GwCB5mPExuOBGm4+kOA@mail.gmail.com>
Subject: Re: svn commit: r1729901 - in /httpd/httpd/trunk: CHANGES
 include/ap_mmn.h include/http_core.h include/httpd.h server/core.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1140ef8449ffbd052b87f122

--001a1140ef8449ffbd052b87f122
Content-Type: text/plain; charset=UTF-8

I was just about to do the same, but revert and recommit just to simplify
the (anticipated) later backport.  The bitfield is a bugger.

Apparently my make clean; make wasn't building the source tree
I thought it was, sigh...

Bill

On Thu, Feb 11, 2016 at 6:20 PM, Rainer Jung <rainer.jung@kippdata.de>
wrote:

> I fixed two minor compilation failures, but one type of failure remains:
>
> .../server/core.c: In function 'ap_get_remote_host':
> .../server/core.c:959:17: error: cannot take address of bit-field
> 'double_reverse'
>                  do_double_reverse(&conn->double_reverse,
> conn->remote_host,
>                  ^
> .../server/core.c:974:9: error: cannot take address of bit-field
> 'double_reverse'
>          do_double_reverse(&conn->double_reverse, conn->remote_host,
>          ^
>
> Regards,
>
> Rainer
>
>
> Am 11.02.2016 um 22:58 schrieb wrowe@apache.org:
>
>> Author: wrowe
>> Date: Thu Feb 11 21:58:45 2016
>> New Revision: 1729901
>>
>> URL: http://svn.apache.org/viewvc?rev=1729901&view=rev
>> Log:
>> Introduce an ap_get_useragent_host() accessor to replace the old
>> ap_get_remote_host() in most applications, but preserve the original
>> behavior for all ap_get_remote_host() consumers (mostly, because we
>> don't have the request_rec in the first place, and also to avoid any
>> unintended consequences).
>>
>> This accessor continues to store the remote_host of connection based
>> uesr agents within the conn_rec for optimization.  Only where some
>> other module modifies the useragent_addr will we perform a per-request
>> query of the remote_host.
>>
>> (Committed previously, but backed out due to unrelated core.c changes)
>>
>> Modified:
>>      httpd/httpd/trunk/CHANGES
>>      httpd/httpd/trunk/include/ap_mmn.h
>>      httpd/httpd/trunk/include/http_core.h
>>      httpd/httpd/trunk/include/httpd.h
>>      httpd/httpd/trunk/server/core.c
>>
>> Modified: httpd/httpd/trunk/CHANGES
>> URL:
>> http://svn.apache.org/viewvc/httpd/httpd/trunk/CHANGES?rev=1729901&r1=1729900&r2=1729901&view=diff
>>
>> ==============================================================================
>> --- httpd/httpd/trunk/CHANGES [utf-8] (original)
>> +++ httpd/httpd/trunk/CHANGES [utf-8] Thu Feb 11 21:58:45 2016
>> @@ -1,6 +1,11 @@
>>                                                            -*- coding:
>> utf-8 -*-
>>   Changes with Apache 2.5.0
>>
>> +  *) core: Track the useragent_host per-request when mod_remoteip or
>> similar
>> +     modules track a per-request useragent_ip.  Modules should be updated
>> +     to inquire for ap_get_useragent_host() in place of
>> ap_get_remote_host().
>> +     [William Rowe]
>> +
>>     *) mod_proxy: Play/restore the TLS-SNI on new backend connections
>> which
>>        had to be issued because the remote closed the previous/reusable
>> one
>>        during idle (keep-alive) time.  [Yann Ylavic]
>>
>> Modified: httpd/httpd/trunk/include/ap_mmn.h
>> URL:
>> http://svn.apache.org/viewvc/httpd/httpd/trunk/include/ap_mmn.h?rev=1729901&r1=1729900&r2=1729901&view=diff
>>
>> ==============================================================================
>> --- httpd/httpd/trunk/include/ap_mmn.h (original)
>> +++ httpd/httpd/trunk/include/ap_mmn.h Thu Feb 11 21:58:45 2016
>> @@ -500,6 +500,8 @@
>>    * 20150222.9 (2.5.0-dev)  Add epxr_hander to core_dir_config.
>>    * 20150222.10 (2.5.0-dev) Add new ap_update_child_status...() methods,
>>    *                         add protocol to worker_score in scoreboard.h
>> + * 20150222.11 (2.5.0-dev) Split useragent_host from the conn_rec into
>> + *                         the request_rec, with ap_get_useragent_host()
>>    */
>>
>>   #define MODULE_MAGIC_COOKIE 0x41503235UL /* "AP25" */
>> @@ -507,7 +509,7 @@
>>   #ifndef MODULE_MAGIC_NUMBER_MAJOR
>>   #define MODULE_MAGIC_NUMBER_MAJOR 20150222
>>   #endif
>> -#define MODULE_MAGIC_NUMBER_MINOR 10                 /* 0...n */
>> +#define MODULE_MAGIC_NUMBER_MINOR 11                 /* 0...n */
>>
>>   /**
>>    * Determine if the server's current MODULE_MAGIC_NUMBER is at least a
>>
>> Modified: httpd/httpd/trunk/include/http_core.h
>> URL:
>> http://svn.apache.org/viewvc/httpd/httpd/trunk/include/http_core.h?rev=1729901&r1=1729900&r2=1729901&view=diff
>>
>> ==============================================================================
>> --- httpd/httpd/trunk/include/http_core.h (original)
>> +++ httpd/httpd/trunk/include/http_core.h Thu Feb 11 21:58:45 2016
>> @@ -159,6 +159,32 @@ AP_DECLARE(int) ap_allow_overrides(reque
>>   AP_DECLARE(const char *) ap_document_root(request_rec *r);
>>
>>   /**
>> + * Lookup the remote user agent's DNS name or IP address
>> + * @ingroup get_remote_hostname
>> + * @param req The current request
>> + * @param type The type of lookup to perform.  One of:
>> + * <pre>
>> + *     REMOTE_HOST returns the hostname, or NULL if the hostname
>> + *                 lookup fails.  It will force a DNS lookup according
>> to the
>> + *                 HostnameLookups setting.
>> + *     REMOTE_NAME returns the hostname, or the dotted quad if the
>> + *                 hostname lookup fails.  It will force a DNS lookup
>> according
>> + *                 to the HostnameLookups setting.
>> + *     REMOTE_NOLOOKUP is like REMOTE_NAME except that a DNS lookup is
>> + *                     never forced.
>> + *     REMOTE_DOUBLE_REV will always force a DNS lookup, and also force
>> + *                   a double reverse lookup, regardless of the
>> HostnameLookups
>> + *                   setting.  The result is the (double reverse checked)
>> + *                   hostname, or NULL if any of the lookups fail.
>> + * </pre>
>> + * @param str_is_ip unless NULL is passed, this will be set to non-zero
>> on
>> + *        output when an IP address string is returned
>> + * @return The remote hostname (based on the request useragent_ip)
>> + */
>> +AP_DECLARE(const char *) ap_get_useragent_host(request_rec *req, int
>> type,
>> +                                               int *str_is_ip);
>> +
>> +/**
>>    * Lookup the remote client's DNS name or IP address
>>    * @ingroup get_remote_host
>>    * @param conn The current connection
>> @@ -180,7 +206,7 @@ AP_DECLARE(const char *) ap_document_roo
>>    * </pre>
>>    * @param str_is_ip unless NULL is passed, this will be set to non-zero
>> on output when an IP address
>>    *        string is returned
>> - * @return The remote hostname
>> + * @return The remote hostname (based on the connection client_ip)
>>    */
>>   AP_DECLARE(const char *) ap_get_remote_host(conn_rec *conn, void
>> *dir_config, int type, int *str_is_ip);
>>
>>
>> Modified: httpd/httpd/trunk/include/httpd.h
>> URL:
>> http://svn.apache.org/viewvc/httpd/httpd/trunk/include/httpd.h?rev=1729901&r1=1729900&r2=1729901&view=diff
>>
>> ==============================================================================
>> --- httpd/httpd/trunk/include/httpd.h (original)
>> +++ httpd/httpd/trunk/include/httpd.h Thu Feb 11 21:58:45 2016
>> @@ -1056,6 +1056,16 @@ struct request_rec {
>>       apr_table_t *trailers_in;
>>       /** MIME trailer environment from the response */
>>       apr_table_t *trailers_out;
>> +
>> +    /** Originator's DNS name, if known.  NULL if DNS hasn't been
>> checked,
>> +     *  "" if it has and no address was found.  N.B. Only access this
>> though
>> +     *  ap_get_useragent_host() */
>> +    char *useragent_host;
>> +    /** have we done double-reverse DNS? -1 yes/failure, 0 not yet,
>> +     *  1 yes/success
>> +     *  TODO: 2 bit signed bitfield when this structure is compacted
>> +     */
>> +    int double_reverse;
>>   };
>>
>>   /**
>>
>> Modified: httpd/httpd/trunk/server/core.c
>> URL:
>> http://svn.apache.org/viewvc/httpd/httpd/trunk/server/core.c?rev=1729901&r1=1729900&r2=1729901&view=diff
>>
>> ==============================================================================
>> --- httpd/httpd/trunk/server/core.c (original)
>> +++ httpd/httpd/trunk/server/core.c Thu Feb 11 21:58:45 2016
>> @@ -887,27 +887,30 @@ char *ap_response_code_string(request_re
>>
>>
>>   /* Code from Harald Hanche-Olsen <hanche@imf.unit.no> */
>> -static APR_INLINE void do_double_reverse (conn_rec *conn)
>> +static APR_INLINE void do_double_reverse (int *double_reverse,
>> +                                          const char *remote_host,
>> +                                          apr_sockaddr_t *client_addr,
>> +                                          apr_pool_t *pool)
>>   {
>>       apr_sockaddr_t *sa;
>>       apr_status_t rv;
>>
>> -    if (conn->double_reverse) {
>> +    if (*double_reverse) {
>>           /* already done */
>>           return;
>>       }
>>
>> -    if (conn->remote_host == NULL || conn->remote_host[0] == '\0') {
>> +    if (remote_host == NULL || remote_host[0] == '\0') {
>>           /* single reverse failed, so don't bother */
>> -        conn->double_reverse = -1;
>> +        *double_reverse = -1;
>>           return;
>>       }
>>
>> -    rv = apr_sockaddr_info_get(&sa, conn->remote_host, APR_UNSPEC, 0, 0,
>> conn->pool);
>> +    rv = apr_sockaddr_info_get(&sa, remote_host, APR_UNSPEC, 0, 0, pool);
>>       if (rv == APR_SUCCESS) {
>>           while (sa) {
>> -            if (apr_sockaddr_equal(sa, conn->client_addr)) {
>> -                conn->double_reverse = 1;
>> +            if (apr_sockaddr_equal(sa, client_addr)) {
>> +                *double_reverse = 1;
>>                   return;
>>               }
>>
>> @@ -915,7 +918,7 @@ static APR_INLINE void do_double_reverse
>>           }
>>       }
>>
>> -    conn->double_reverse = -1;
>> +    *double_reverse = -1;
>>   }
>>
>>   AP_DECLARE(const char *) ap_get_remote_host(conn_rec *conn, void
>> *dir_config,
>> @@ -953,7 +956,8 @@ AP_DECLARE(const char *) ap_get_remote_h
>>               ap_str_tolower(conn->remote_host);
>>
>>               if (hostname_lookups == HOSTNAME_LOOKUP_DOUBLE) {
>> -                do_double_reverse(conn);
>> +                do_double_reverse(&conn->double_reverse,
>> conn->remote_host,
>> +                                  conn->client_addr, conn->pool)
>>                   if (conn->double_reverse != 1) {
>>                       conn->remote_host = NULL;
>>                   }
>> @@ -967,7 +971,8 @@ AP_DECLARE(const char *) ap_get_remote_h
>>       }
>>
>>       if (type == REMOTE_DOUBLE_REV) {
>> -        do_double_reverse(conn);
>> +        do_double_reverse(&conn->double_reverse, conn->remote_host,
>> +                          conn->client_addr, conn->pool)
>>           if (conn->double_reverse == -1) {
>>               return NULL;
>>           }
>> @@ -991,6 +996,80 @@ AP_DECLARE(const char *) ap_get_remote_h
>>           }
>>       }
>>   }
>> +
>> +AP_DECLARE(const char *) ap_get_useragent_host(request_rec *r,
>> +                                               int type, int *str_is_ip)
>> +{
>> +    conn_rec *conn = r->connection;
>> +    int hostname_lookups;
>> +    int ignored_str_is_ip;
>> +
>> +    if (req->useragent_addr == conn->client_addr) {
>> +        return ap_get_remote_host(conn, r->per_dir_config, type,
>> str_is_ip);
>> +    }
>> +
>> +    if (!str_is_ip) { /* caller doesn't want to know */
>> +        str_is_ip = &ignored_str_is_ip;
>> +    }
>> +    *str_is_ip = 0;
>> +
>> +    hostname_lookups = ((core_dir_config *)
>> +                        ap_get_core_module_config(r->per_dir_config))
>> +                            ->hostname_lookups;
>> +    if (hostname_lookups == HOSTNAME_LOOKUP_UNSET) {
>> +        hostname_lookups = HOSTNAME_LOOKUP_OFF;
>> +    }
>> +
>> +    if (type != REMOTE_NOLOOKUP
>> +        && r->useragent_host == NULL
>> +        && (type == REMOTE_DOUBLE_REV
>> +        || hostname_lookups != HOSTNAME_LOOKUP_OFF)) {
>> +
>> +        if (apr_getnameinfo(&r->useragent_host, r->useragent_addr, 0)
>> +            == APR_SUCCESS) {
>> +            ap_str_tolower(r->useragent_host);
>> +
>> +            if (hostname_lookups == HOSTNAME_LOOKUP_DOUBLE) {
>> +                do_double_reverse(&r->double_reverse, r->useragent_host,
>> +                                  r->useragent_addr, r->pool)
>> +                if (r->double_reverse != 1) {
>> +                    r->useragent_host = NULL;
>> +                }
>> +            }
>> +        }
>> +
>> +        /* if failed, set it to the NULL string to indicate error */
>> +        if (r->useragent_host == NULL) {
>> +            r->useragent_host = "";
>> +        }
>> +    }
>> +
>> +    if (type == REMOTE_DOUBLE_REV) {
>> +        do_double_reverse(&r->double_reverse, r->useragent_host,
>> +                          r->useragent_addr, r->pool)
>> +        if (r->double_reverse == -1) {
>> +            return NULL;
>> +        }
>> +    }
>> +
>> +    /*
>> +     * Return the desired information; either the remote DNS name, if
>> found,
>> +     * or either NULL (if the hostname was requested) or the IP address
>> +     * (if any identifier was requested).
>> +     */
>> +    if (r->useragent_host != NULL && r->useragent_host[0] != '\0') {
>> +        return r->useragent_host;
>> +    }
>> +    else {
>> +        if (type == REMOTE_HOST || type == REMOTE_DOUBLE_REV) {
>> +            return NULL;
>> +        }
>> +        else {
>> +            *str_is_ip = 1;
>> +            return r->useragent_ip;
>> +        }
>> +    }
>> +}
>>
>>   /*
>>    * Optional function coming from mod_ident, used for looking up ident
>> user
>>
>

--001a1140ef8449ffbd052b87f122
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">I was just about to do the same, but revert and recommit j=
ust to simplify=C2=A0<div>the (anticipated) later backport.=C2=A0 The bitfi=
eld is a bugger.</div><div><br></div><div>Apparently my make clean; make wa=
sn&#39;t building the source tree=C2=A0</div><div>I thought it was, sigh...=
</div><div><br></div><div>Bill</div></div><div class=3D"gmail_extra"><br><d=
iv class=3D"gmail_quote">On Thu, Feb 11, 2016 at 6:20 PM, Rainer Jung <span=
 dir=3D"ltr">&lt;<a href=3D"mailto:rainer.jung@kippdata.de" target=3D"_blan=
k">rainer.jung@kippdata.de</a>&gt;</span> wrote:<br><blockquote class=3D"gm=
ail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-le=
ft:1ex">I fixed two minor compilation failures, but one type of failure rem=
ains:<br>
<br>
.../server/core.c: In function &#39;ap_get_remote_host&#39;:<br>
.../server/core.c:959:17: error: cannot take address of bit-field &#39;doub=
le_reverse&#39;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0do_double_rev=
erse(&amp;conn-&gt;double_reverse, conn-&gt;remote_host,<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0^<br>
.../server/core.c:974:9: error: cannot take address of bit-field &#39;doubl=
e_reverse&#39;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0do_double_reverse(&amp;conn-&gt;double_re=
verse, conn-&gt;remote_host,<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0^<br>
<br>
Regards,<br>
<br>
Rainer<div class=3D"HOEnZb"><div class=3D"h5"><br>
<br>
Am 11.02.2016 um 22:58 schrieb <a href=3D"mailto:wrowe@apache.org" target=
=3D"_blank">wrowe@apache.org</a>:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
Author: wrowe<br>
Date: Thu Feb 11 21:58:45 2016<br>
New Revision: 1729901<br>
<br>
URL: <a href=3D"http://svn.apache.org/viewvc?rev=3D1729901&amp;view=3Drev" =
rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc?rev=3D172=
9901&amp;view=3Drev</a><br>
Log:<br>
Introduce an ap_get_useragent_host() accessor to replace the old<br>
ap_get_remote_host() in most applications, but preserve the original<br>
behavior for all ap_get_remote_host() consumers (mostly, because we<br>
don&#39;t have the request_rec in the first place, and also to avoid any<br=
>
unintended consequences).<br>
<br>
This accessor continues to store the remote_host of connection based<br>
uesr agents within the conn_rec for optimization.=C2=A0 Only where some<br>
other module modifies the useragent_addr will we perform a per-request<br>
query of the remote_host.<br>
<br>
(Committed previously, but backed out due to unrelated core.c changes)<br>
<br>
Modified:<br>
=C2=A0 =C2=A0 =C2=A0httpd/httpd/trunk/CHANGES<br>
=C2=A0 =C2=A0 =C2=A0httpd/httpd/trunk/include/ap_mmn.h<br>
=C2=A0 =C2=A0 =C2=A0httpd/httpd/trunk/include/http_core.h<br>
=C2=A0 =C2=A0 =C2=A0httpd/httpd/trunk/include/httpd.h<br>
=C2=A0 =C2=A0 =C2=A0httpd/httpd/trunk/server/core.c<br>
<br>
Modified: httpd/httpd/trunk/CHANGES<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/CHANGES?rev=
=3D1729901&amp;r1=3D1729900&amp;r2=3D1729901&amp;view=3Ddiff" rel=3D"norefe=
rrer" target=3D"_blank">http://svn.apache.org/viewvc/httpd/httpd/trunk/CHAN=
GES?rev=3D1729901&amp;r1=3D1729900&amp;r2=3D1729901&amp;view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/trunk/CHANGES [utf-8] (original)<br>
+++ httpd/httpd/trunk/CHANGES [utf-8] Thu Feb 11 21:58:45 2016<br>
@@ -1,6 +1,11 @@<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0-*- coding: u=
tf-8 -*-<br>
=C2=A0 Changes with Apache 2.5.0<br>
<br>
+=C2=A0 *) core: Track the useragent_host per-request when mod_remoteip or =
similar<br>
+=C2=A0 =C2=A0 =C2=A0modules track a per-request useragent_ip.=C2=A0 Module=
s should be updated<br>
+=C2=A0 =C2=A0 =C2=A0to inquire for ap_get_useragent_host() in place of ap_=
get_remote_host().<br>
+=C2=A0 =C2=A0 =C2=A0[William Rowe]<br>
+<br>
=C2=A0 =C2=A0 *) mod_proxy: Play/restore the TLS-SNI on new backend connect=
ions which<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0had to be issued because the remote closed the p=
revious/reusable one<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0during idle (keep-alive) time.=C2=A0 [Yann Ylavi=
c]<br>
<br>
Modified: httpd/httpd/trunk/include/ap_mmn.h<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/include/ap_m=
mn.h?rev=3D1729901&amp;r1=3D1729900&amp;r2=3D1729901&amp;view=3Ddiff" rel=
=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc/httpd/httpd/=
trunk/include/ap_mmn.h?rev=3D1729901&amp;r1=3D1729900&amp;r2=3D1729901&amp;=
view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/trunk/include/ap_mmn.h (original)<br>
+++ httpd/httpd/trunk/include/ap_mmn.h Thu Feb 11 21:58:45 2016<br>
@@ -500,6 +500,8 @@<br>
=C2=A0 =C2=A0* 20150222.9 (2.5.0-dev)=C2=A0 Add epxr_hander to core_dir_con=
fig.<br>
=C2=A0 =C2=A0* <a href=3D"tel:20150222.10" value=3D"+12015022210" target=3D=
"_blank">20150222.10</a> (2.5.0-dev) Add new ap_update_child_status...() me=
thods,<br>
=C2=A0 =C2=A0*=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0add protocol to worker_score in scoreboard.h=
<br>
+ * <a href=3D"tel:20150222.11" value=3D"+12015022211" target=3D"_blank">20=
150222.11</a> (2.5.0-dev) Split useragent_host from the conn_rec into<br>
+ *=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0the request_rec, with ap_get_useragent_host()<br>
=C2=A0 =C2=A0*/<br>
<br>
=C2=A0 #define MODULE_MAGIC_COOKIE 0x41503235UL /* &quot;AP25&quot; */<br>
@@ -507,7 +509,7 @@<br>
=C2=A0 #ifndef MODULE_MAGIC_NUMBER_MAJOR<br>
=C2=A0 #define MODULE_MAGIC_NUMBER_MAJOR 20150222<br>
=C2=A0 #endif<br>
-#define MODULE_MAGIC_NUMBER_MINOR 10=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0/* 0...n */<br>
+#define MODULE_MAGIC_NUMBER_MINOR 11=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0/* 0...n */<br>
<br>
=C2=A0 /**<br>
=C2=A0 =C2=A0* Determine if the server&#39;s current MODULE_MAGIC_NUMBER is=
 at least a<br>
<br>
Modified: httpd/httpd/trunk/include/http_core.h<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/include/http=
_core.h?rev=3D1729901&amp;r1=3D1729900&amp;r2=3D1729901&amp;view=3Ddiff" re=
l=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc/httpd/httpd=
/trunk/include/http_core.h?rev=3D1729901&amp;r1=3D1729900&amp;r2=3D1729901&=
amp;view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/trunk/include/http_core.h (original)<br>
+++ httpd/httpd/trunk/include/http_core.h Thu Feb 11 21:58:45 2016<br>
@@ -159,6 +159,32 @@ AP_DECLARE(int) ap_allow_overrides(reque<br>
=C2=A0 AP_DECLARE(const char *) ap_document_root(request_rec *r);<br>
<br>
=C2=A0 /**<br>
+ * Lookup the remote user agent&#39;s DNS name or IP address<br>
+ * @ingroup get_remote_hostname<br>
+ * @param req The current request<br>
+ * @param type The type of lookup to perform.=C2=A0 One of:<br>
+ * &lt;pre&gt;<br>
+ *=C2=A0 =C2=A0 =C2=A0REMOTE_HOST returns the hostname, or NULL if the hos=
tname<br>
+ *=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0lookup fai=
ls.=C2=A0 It will force a DNS lookup according to the<br>
+ *=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0HostnameLo=
okups setting.<br>
+ *=C2=A0 =C2=A0 =C2=A0REMOTE_NAME returns the hostname, or the dotted quad=
 if the<br>
+ *=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0hostname l=
ookup fails.=C2=A0 It will force a DNS lookup according<br>
+ *=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0to the Hos=
tnameLookups setting.<br>
+ *=C2=A0 =C2=A0 =C2=A0REMOTE_NOLOOKUP is like REMOTE_NAME except that a DN=
S lookup is<br>
+ *=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0never forced.<br>
+ *=C2=A0 =C2=A0 =C2=A0REMOTE_DOUBLE_REV will always force a DNS lookup, an=
d also force<br>
+ *=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0a d=
ouble reverse lookup, regardless of the HostnameLookups<br>
+ *=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0set=
ting.=C2=A0 The result is the (double reverse checked)<br>
+ *=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0hos=
tname, or NULL if any of the lookups fail.<br>
+ * &lt;/pre&gt;<br>
+ * @param str_is_ip unless NULL is passed, this will be set to non-zero on=
<br>
+ *=C2=A0 =C2=A0 =C2=A0 =C2=A0 output when an IP address string is returned=
<br>
+ * @return The remote hostname (based on the request useragent_ip)<br>
+ */<br>
+AP_DECLARE(const char *) ap_get_useragent_host(request_rec *req, int type,=
<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0int *str_is_ip);<br>
+<br>
+/**<br>
=C2=A0 =C2=A0* Lookup the remote client&#39;s DNS name or IP address<br>
=C2=A0 =C2=A0* @ingroup get_remote_host<br>
=C2=A0 =C2=A0* @param conn The current connection<br>
@@ -180,7 +206,7 @@ AP_DECLARE(const char *) ap_document_roo<br>
=C2=A0 =C2=A0* &lt;/pre&gt;<br>
=C2=A0 =C2=A0* @param str_is_ip unless NULL is passed, this will be set to =
non-zero on output when an IP address<br>
=C2=A0 =C2=A0*=C2=A0 =C2=A0 =C2=A0 =C2=A0 string is returned<br>
- * @return The remote hostname<br>
+ * @return The remote hostname (based on the connection client_ip)<br>
=C2=A0 =C2=A0*/<br>
=C2=A0 AP_DECLARE(const char *) ap_get_remote_host(conn_rec *conn, void *di=
r_config, int type, int *str_is_ip);<br>
<br>
<br>
Modified: httpd/httpd/trunk/include/httpd.h<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/include/http=
d.h?rev=3D1729901&amp;r1=3D1729900&amp;r2=3D1729901&amp;view=3Ddiff" rel=3D=
"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc/httpd/httpd/tru=
nk/include/httpd.h?rev=3D1729901&amp;r1=3D1729900&amp;r2=3D1729901&amp;view=
=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/trunk/include/httpd.h (original)<br>
+++ httpd/httpd/trunk/include/httpd.h Thu Feb 11 21:58:45 2016<br>
@@ -1056,6 +1056,16 @@ struct request_rec {<br>
=C2=A0 =C2=A0 =C2=A0 apr_table_t *trailers_in;<br>
=C2=A0 =C2=A0 =C2=A0 /** MIME trailer environment from the response */<br>
=C2=A0 =C2=A0 =C2=A0 apr_table_t *trailers_out;<br>
+<br>
+=C2=A0 =C2=A0 /** Originator&#39;s DNS name, if known.=C2=A0 NULL if DNS h=
asn&#39;t been checked,<br>
+=C2=A0 =C2=A0 =C2=A0*=C2=A0 &quot;&quot; if it has and no address was foun=
d.=C2=A0 N.B. Only access this though<br>
+=C2=A0 =C2=A0 =C2=A0*=C2=A0 ap_get_useragent_host() */<br>
+=C2=A0 =C2=A0 char *useragent_host;<br>
+=C2=A0 =C2=A0 /** have we done double-reverse DNS? -1 yes/failure, 0 not y=
et,<br>
+=C2=A0 =C2=A0 =C2=A0*=C2=A0 1 yes/success<br>
+=C2=A0 =C2=A0 =C2=A0*=C2=A0 TODO: 2 bit signed bitfield when this structur=
e is compacted<br>
+=C2=A0 =C2=A0 =C2=A0*/<br>
+=C2=A0 =C2=A0 int double_reverse;<br>
=C2=A0 };<br>
<br>
=C2=A0 /**<br>
<br>
Modified: httpd/httpd/trunk/server/core.c<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/server/core.=
c?rev=3D1729901&amp;r1=3D1729900&amp;r2=3D1729901&amp;view=3Ddiff" rel=3D"n=
oreferrer" target=3D"_blank">http://svn.apache.org/viewvc/httpd/httpd/trunk=
/server/core.c?rev=3D1729901&amp;r1=3D1729900&amp;r2=3D1729901&amp;view=3Dd=
iff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/trunk/server/core.c (original)<br>
+++ httpd/httpd/trunk/server/core.c Thu Feb 11 21:58:45 2016<br>
@@ -887,27 +887,30 @@ char *ap_response_code_string(request_re<br>
<br>
<br>
=C2=A0 /* Code from Harald Hanche-Olsen &lt;<a href=3D"mailto:hanche@imf.un=
it.no" target=3D"_blank">hanche@imf.unit.no</a>&gt; */<br>
-static APR_INLINE void do_double_reverse (conn_rec *conn)<br>
+static APR_INLINE void do_double_reverse (int *double_reverse,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 c=
onst char *remote_host,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 a=
pr_sockaddr_t *client_addr,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 a=
pr_pool_t *pool)<br>
=C2=A0 {<br>
=C2=A0 =C2=A0 =C2=A0 apr_sockaddr_t *sa;<br>
=C2=A0 =C2=A0 =C2=A0 apr_status_t rv;<br>
<br>
-=C2=A0 =C2=A0 if (conn-&gt;double_reverse) {<br>
+=C2=A0 =C2=A0 if (*double_reverse) {<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 /* already done */<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 return;<br>
=C2=A0 =C2=A0 =C2=A0 }<br>
<br>
-=C2=A0 =C2=A0 if (conn-&gt;remote_host =3D=3D NULL || conn-&gt;remote_host=
[0] =3D=3D &#39;\0&#39;) {<br>
+=C2=A0 =C2=A0 if (remote_host =3D=3D NULL || remote_host[0] =3D=3D &#39;\0=
&#39;) {<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 /* single reverse failed, so don&#39;t b=
other */<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 conn-&gt;double_reverse =3D -1;<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 *double_reverse =3D -1;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 return;<br>
=C2=A0 =C2=A0 =C2=A0 }<br>
<br>
-=C2=A0 =C2=A0 rv =3D apr_sockaddr_info_get(&amp;sa, conn-&gt;remote_host, =
APR_UNSPEC, 0, 0, conn-&gt;pool);<br>
+=C2=A0 =C2=A0 rv =3D apr_sockaddr_info_get(&amp;sa, remote_host, APR_UNSPE=
C, 0, 0, pool);<br>
=C2=A0 =C2=A0 =C2=A0 if (rv =3D=3D APR_SUCCESS) {<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 while (sa) {<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 if (apr_sockaddr_equal(sa, conn-=
&gt;client_addr)) {<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 conn-&gt;double_re=
verse =3D 1;<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 if (apr_sockaddr_equal(sa, clien=
t_addr)) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 *double_reverse =
=3D 1;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 return;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
<br>
@@ -915,7 +918,7 @@ static APR_INLINE void do_double_reverse<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
=C2=A0 =C2=A0 =C2=A0 }<br>
<br>
-=C2=A0 =C2=A0 conn-&gt;double_reverse =3D -1;<br>
+=C2=A0 =C2=A0 *double_reverse =3D -1;<br>
=C2=A0 }<br>
<br>
=C2=A0 AP_DECLARE(const char *) ap_get_remote_host(conn_rec *conn, void *di=
r_config,<br>
@@ -953,7 +956,8 @@ AP_DECLARE(const char *) ap_get_remote_h<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 ap_str_tolower(conn-&gt;re=
mote_host);<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 if (hostname_lookups =3D=
=3D HOSTNAME_LOOKUP_DOUBLE) {<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 do_double_reverse(=
conn);<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 do_double_reverse(=
&amp;conn-&gt;double_reverse, conn-&gt;remote_host,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 conn-&gt;client_addr, conn-&g=
t;pool)<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 if (conn-&gt=
;double_reverse !=3D 1) {<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 conn-&gt;remote_host =3D NULL;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
@@ -967,7 +971,8 @@ AP_DECLARE(const char *) ap_get_remote_h<br>
=C2=A0 =C2=A0 =C2=A0 }<br>
<br>
=C2=A0 =C2=A0 =C2=A0 if (type =3D=3D REMOTE_DOUBLE_REV) {<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 do_double_reverse(conn);<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 do_double_reverse(&amp;conn-&gt;double_reverse=
, conn-&gt;remote_host,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 conn-&gt;client_addr, conn-&gt;pool)<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 if (conn-&gt;double_reverse =3D=3D -1) {=
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 return NULL;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
@@ -991,6 +996,80 @@ AP_DECLARE(const char *) ap_get_remote_h<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
=C2=A0 =C2=A0 =C2=A0 }<br>
=C2=A0 }<br>
+<br>
+AP_DECLARE(const char *) ap_get_useragent_host(request_rec *r,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0int type, int *str_is_ip)<br>
+{<br>
+=C2=A0 =C2=A0 conn_rec *conn =3D r-&gt;connection;<br>
+=C2=A0 =C2=A0 int hostname_lookups;<br>
+=C2=A0 =C2=A0 int ignored_str_is_ip;<br>
+<br>
+=C2=A0 =C2=A0 if (req-&gt;useragent_addr =3D=3D conn-&gt;client_addr) {<br=
>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 return ap_get_remote_host(conn, r-&gt;per_dir_=
config, type, str_is_ip);<br>
+=C2=A0 =C2=A0 }<br>
+<br>
+=C2=A0 =C2=A0 if (!str_is_ip) { /* caller doesn&#39;t want to know */<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 str_is_ip =3D &amp;ignored_str_is_ip;<br>
+=C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 *str_is_ip =3D 0;<br>
+<br>
+=C2=A0 =C2=A0 hostname_lookups =3D ((core_dir_config *)<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 ap_get_core_module_config(r-&gt;per_dir_config))<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 -&gt;hostname_lookups;<br>
+=C2=A0 =C2=A0 if (hostname_lookups =3D=3D HOSTNAME_LOOKUP_UNSET) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 hostname_lookups =3D HOSTNAME_LOOKUP_OFF;<br>
+=C2=A0 =C2=A0 }<br>
+<br>
+=C2=A0 =C2=A0 if (type !=3D REMOTE_NOLOOKUP<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 &amp;&amp; r-&gt;useragent_host =3D=3D NULL<br=
>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 &amp;&amp; (type =3D=3D REMOTE_DOUBLE_REV<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 || hostname_lookups !=3D HOSTNAME_LOOKUP_OFF))=
 {<br>
+<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 if (apr_getnameinfo(&amp;r-&gt;useragent_host,=
 r-&gt;useragent_addr, 0)<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =3D=3D APR_SUCCESS) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 ap_str_tolower(r-&gt;useragent_h=
ost);<br>
+<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 if (hostname_lookups =3D=3D HOST=
NAME_LOOKUP_DOUBLE) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 do_double_reverse(=
&amp;r-&gt;double_reverse, r-&gt;useragent_host,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 r-&gt;useragent_addr, r-&gt;p=
ool)<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 if (r-&gt;double_r=
everse !=3D 1) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 r-&g=
t;useragent_host =3D NULL;<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
+<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 /* if failed, set it to the NULL string to ind=
icate error */<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 if (r-&gt;useragent_host =3D=3D NULL) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 r-&gt;useragent_host =3D &quot;&=
quot;;<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 }<br>
+<br>
+=C2=A0 =C2=A0 if (type =3D=3D REMOTE_DOUBLE_REV) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 do_double_reverse(&amp;r-&gt;double_reverse, r=
-&gt;useragent_host,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 r-&gt;useragent_addr, r-&gt;pool)<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 if (r-&gt;double_reverse =3D=3D -1) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 return NULL;<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 }<br>
+<br>
+=C2=A0 =C2=A0 /*<br>
+=C2=A0 =C2=A0 =C2=A0* Return the desired information; either the remote DN=
S name, if found,<br>
+=C2=A0 =C2=A0 =C2=A0* or either NULL (if the hostname was requested) or th=
e IP address<br>
+=C2=A0 =C2=A0 =C2=A0* (if any identifier was requested).<br>
+=C2=A0 =C2=A0 =C2=A0*/<br>
+=C2=A0 =C2=A0 if (r-&gt;useragent_host !=3D NULL &amp;&amp; r-&gt;useragen=
t_host[0] !=3D &#39;\0&#39;) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 return r-&gt;useragent_host;<br>
+=C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 else {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 if (type =3D=3D REMOTE_HOST || type =3D=3D REM=
OTE_DOUBLE_REV) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 return NULL;<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 else {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 *str_is_ip =3D 1;<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 return r-&gt;useragent_ip;<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 }<br>
+}<br>
<br>
=C2=A0 /*<br>
=C2=A0 =C2=A0* Optional function coming from mod_ident, used for looking up=
 ident user<br>
</blockquote>
</div></div></blockquote></div><br></div>

--001a1140ef8449ffbd052b87f122--

From dev-return-85579-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 00:49:00 2016
Return-Path: <dev-return-85579-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8D9911876B
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 00:49:00 +0000 (UTC)
Received: (qmail 25663 invoked by uid 500); 12 Feb 2016 00:49:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25579 invoked by uid 500); 12 Feb 2016 00:49:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25568 invoked by uid 99); 12 Feb 2016 00:49:00 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 00:49:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id A52761A0454
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 00:48:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.63
X-Spam-Level:
X-Spam-Status: No, score=-2.63 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.329,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 8ZE-NO_Cclwo for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 00:48:58 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 8DCF52565F
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 00:48:57 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u1C0muZb013282
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 01:48:57 +0100 (CET)
Subject: Re: Support for OpenSSL 1.1.0
Reply-To: dev@httpd.apache.org
References: <56B9BD54.3020105@kippdata.de>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56BD2BF7.6030005@kippdata.de>
Date: Fri, 12 Feb 2016 01:48:55 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B9BD54.3020105@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

The list is getting shorter. The test suite currently only shows a few 
failures due to the missing "talking http on https" support.

Am 09.02.2016 um 11:20 schrieb Rainer Jung:

> Open problems:
>
> 1) HTTP on HTTPS
>
> OpenSSL 1.1.0 currently doesn't support the "HTTP spoken on HTTPS port"
> error. The code to detect HTTP was removed due to a major rewrite of the
> state engine. The OpenSSL project is willing to review patches for
> reintroducing the feature there but currently doesn't plan to work on it
> themselves.

I'll try tackling this next. Nut sure how well it will go.

> 2) Renegotiation
>
> It needs to be implemented differently. The OpenSSL project suggest to
> try reading application data until the renegotiation has finished. I
> committed some rather ugly code that does loop waiting for reneg, but it
> has a couple of problems:

Still using poll, but better state tracking now.

> a) it will not work for EC or DH ciphers. Some opaque structure element
> in the ssl struct is already set and confuses the state machine. I hope
> to get some helpful feedback from the OpenSSL project for this.

Still open.

> 5) ssl_engine_kernel.c
>
> In ssl_callback_Info() the explicit state constants
> SSL3_ST_SR_CLNT_HELLO_A and SSL23_ST_SR_CLNT_HELLO_A are used which no
> longer exist. I can't find obvious replacements in the list of new state
> constants:
>
> 2100         int state = SSL_get_state((SSL *)ssl);
> 2101
> 2102         if (state == SSL3_ST_SR_CLNT_HELLO_A
> 2103             || state == SSL23_ST_SR_CLNT_HELLO_A) {
> 2104             scr->reneg_state = RENEG_ABORT;
> 2105             ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02042)
> 2106                           "rejecting client initiated renegotiation");
> 2107         }

That shouldn't be too hard. Will look into it.

Regards,

Rainer

From dev-return-85580-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 01:27:43 2016
Return-Path: <dev-return-85580-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 05E8C18AB1
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 01:27:43 +0000 (UTC)
Received: (qmail 35323 invoked by uid 500); 12 Feb 2016 01:27:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35241 invoked by uid 500); 12 Feb 2016 01:27:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35231 invoked by uid 99); 12 Feb 2016 01:27:37 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 01:27:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 196961805CD
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 01:27:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.279
X-Spam-Level: *
X-Spam-Status: No, score=1.279 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id v3Pq1DdPu5c2 for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 01:27:35 +0000 (UTC)
Received: from mail-ig0-f182.google.com (mail-ig0-f182.google.com [209.85.213.182])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id C0AAE31ADE
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 01:27:34 +0000 (UTC)
Received: by mail-ig0-f182.google.com with SMTP id y8so22106961igp.0
        for <dev@httpd.apache.org>; Thu, 11 Feb 2016 17:27:34 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=FJCwG9KrV1CydQlQMl+42kuDaKgXP7IRZ1oorCmxvA4=;
        b=VNUup2jJG7en6UBJmOkSbYceRg+/EUVDcgISiXVQ2kta3jT9lmpNZs9B8755Oqz0Uz
         KMOl0ItGEgypno/1wXYdeIlSxnwDp8llo/w2eN9dmmlULsi50Bh/UGe6IyuxaJWUBf8U
         OMCfDQTqCeYVT+OYLDxVPUBVG1UPLo7XU5vDP4An4L3+JY47gGCArdo9u73kbvTpWsGT
         nFbOIeSjwEzXByPX3bFHTBTfnLgv3OCgTxGY2COCmRHq7zKrla1Qz9hMNiTmOZK8Q6Yg
         mnzAdy1FYny7HM+ytA1iRwaZxAGIo8HqAgmVL31bMA+48YVEqD8Pqod1I81dgojtB3zJ
         jvGg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=FJCwG9KrV1CydQlQMl+42kuDaKgXP7IRZ1oorCmxvA4=;
        b=MnvPAP7m9XVlmH+3jV9BRCJ+T2P+wZcg86K/nqyzDRDT7KsToatcwe+da5FbJIMBl+
         OqOo1brsEBweAQEvXntMMDC4i1Z6UGSyOrP+p5kd3sCHXtfr40NKr95rgLBnJb+lhZJx
         DyUsFbPQxNR8LWYp1Na9dfegU2auFZgqvMexDQZ+YcgYxb/2nsx5+PqsrZn4vNTXDW5R
         JrJ85IxHEcz0MJocRPbl12BY0JjdIgP94oz+Ch/m67hNdJOLKCCBmwT1fqRlDlnQrh5V
         Adk96RMaoO1BQKIXGVKulvNMAp0fG5jd9tcZCOZdSGetIQUfA2CAGGjV1fGPSvmepW+3
         qehA==
X-Gm-Message-State: AG10YOQUAEfLq6YstGr7NtfVVRLcLkpzzky2WaFW5fFij8DMH57bhl3e2dD31MNioCYpzE5nmehjtknZYQnS0Rh3
MIME-Version: 1.0
X-Received: by 10.50.64.178 with SMTP id p18mr10352igs.35.1455240453620; Thu,
 11 Feb 2016 17:27:33 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Thu, 11 Feb 2016 17:27:33 -0800 (PST)
In-Reply-To: <56BD2532.2070000@kippdata.de>
References: <20160211215845.CB4B83A023C@svn01-us-west.apache.org>
	<56BD2532.2070000@kippdata.de>
Date: Thu, 11 Feb 2016 19:27:33 -0600
Message-ID: <CACsi250-Je41Q8BB+jtYav3-L55oQ5GttqGTfMRAO9DENsmsHg@mail.gmail.com>
Subject: Re: svn commit: r1729901 - in /httpd/httpd/trunk: CHANGES
 include/ap_mmn.h include/http_core.h include/httpd.h server/core.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7bd75c3a4d2930052b8892e3

--047d7bd75c3a4d2930052b8892e3
Content-Type: text/plain; charset=UTF-8

On Thu, Feb 11, 2016 at 6:20 PM, Rainer Jung <rainer.jung@kippdata.de>
wrote:

> one type of failure remains:
>
> .../server/core.c: In function 'ap_get_remote_host':
> .../server/core.c:959:17: error: cannot take address of bit-field
> 'double_reverse'
>                  do_double_reverse(&conn->double_reverse,
> conn->remote_host,
>                  ^
> .../server/core.c:974:9: error: cannot take address of bit-field
> 'double_reverse'
>          do_double_reverse(&conn->double_reverse, conn->remote_host,
>          ^
>

Funny enough, because this is inline, the assignment of an int to an int :2
raises no truncation warning; the entire return {val} is in the domain
1..-1 :)

These should all be ready for further review against trunk and 2.4.x.  I can
spend time Sunday reviewing any new edge cases specific to trunk, the
grep pattern "[>_]remote_host" was pretty efficient at tracking these down.

Bill

--047d7bd75c3a4d2930052b8892e3
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Feb 11, 2016 at 6:20 PM, Rainer Jung <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:rainer.jung@kippdata.de" target=3D"_blank">rainer.jung@kippdata.de</a=
>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 =
0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">one type of failure r=
emains:<br>
<br>
.../server/core.c: In function &#39;ap_get_remote_host&#39;:<br>
.../server/core.c:959:17: error: cannot take address of bit-field &#39;doub=
le_reverse&#39;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0do_double_rev=
erse(&amp;conn-&gt;double_reverse, conn-&gt;remote_host,<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0^<br>
.../server/core.c:974:9: error: cannot take address of bit-field &#39;doubl=
e_reverse&#39;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0do_double_reverse(&amp;conn-&gt;double_re=
verse, conn-&gt;remote_host,<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0^<br></blockquote><div><br></div><div>Fun=
ny enough, because this is inline, the assignment of an int to an int :2</d=
iv><div>raises no truncation warning; the entire return {val} is in the dom=
ain 1..-1 :)</div><div><br></div><div>These should all be ready for further=
 review against trunk and 2.4.x.=C2=A0 I can</div><div>spend time Sunday re=
viewing any new edge cases specific to trunk, the</div><div>grep pattern &q=
uot;[&gt;_]remote_host&quot; was pretty efficient at tracking these down.</=
div><div><br></div><div>Bill=C2=A0</div></div></div></div>

--047d7bd75c3a4d2930052b8892e3--

From dev-return-85581-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 08:24:24 2016
Return-Path: <dev-return-85581-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5489B1872C
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 08:24:24 +0000 (UTC)
Received: (qmail 76930 invoked by uid 500); 12 Feb 2016 08:24:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76864 invoked by uid 500); 12 Feb 2016 08:24:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76854 invoked by uid 99); 12 Feb 2016 08:24:23 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 08:24:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 558F11A04C0
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 08:24:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id vTD1I2WxP-KF for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 08:24:22 +0000 (UTC)
Received: from mail-qg0-f41.google.com (mail-qg0-f41.google.com [209.85.192.41])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 1D9F34446E
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 08:24:22 +0000 (UTC)
Received: by mail-qg0-f41.google.com with SMTP id b35so57165135qge.0
        for <dev@httpd.apache.org>; Fri, 12 Feb 2016 00:24:22 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ESKbFadF8sLvyra1MSrHWklGvMfrDsH3PDMSjma+b3g=;
        b=pZJniKAwVm8jd8r9ticI2fHZbQk0c7v8cUyxHCITi1gsfZgQxxuJbzOJACE7AevbX1
         0h25ydLzSd/b14JLx+o8m/vnhN3bHVYcNSHcpIp0IyndZBO28Af9PSEnhqsi7M9mrsVR
         +i9BIrFoTVxDSiYyKQZtTlyTw6yDVdOqJz7jCa9NrYQfRxTF2/oaO3irm2pXPoyiTKi3
         sbp15kD3Gc3BfKpmGi2A4TZtcS5crfbkxK+GzgZdBHC/EDQzbJcVvmz2mb6W25wCuYt7
         xorJ+v9lFjRVtdQfMg2lZaq9gVvuTCqiWWwnw2UVFtdPOH3KgYFwqzjPCE86ObmI5NQG
         7w8w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=ESKbFadF8sLvyra1MSrHWklGvMfrDsH3PDMSjma+b3g=;
        b=kX8EYtnq37YX4QAj7T7KvI38w4ngVXG3uO9wiFPAnt/itl6tEYDyX6hlFLfHncOPr5
         t1qtZLbIGFGJPV8QG9XIFGjFKdhetcBh0P3CGvDf51541NStQd+EtwySdnX0PXTuB2Ow
         mFQ5uyXOMtlZZvmHELrIwBcWw+AVypxu5cu2viQuPoOcEGyut8vSJ67m9fcHa3cJj8MW
         Tf0o9mkozZiABfeYR3Oby5nIbpbqdcjYXcBO1+XdkwZEK6pqruTd3ZbmUTbdvQvulOxv
         0Ye+ViaWlNhEbkokQgjp8tlLO4E+alOvc/8SOmDh+lab+c82xyjRPy45cqW/OJnMiSbB
         1ZPA==
X-Gm-Message-State: AG10YOToVSiXjyHtEVobr2E2aIjbbcS+YwTDttyU7tYVMCoig4+2bFP1HtwTk1Z+jY2vWTPX35alkFADiWQ1SQ==
MIME-Version: 1.0
X-Received: by 10.140.249.6 with SMTP id u6mr244617qhc.83.1455265461787; Fri,
 12 Feb 2016 00:24:21 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Fri, 12 Feb 2016 00:24:21 -0800 (PST)
In-Reply-To: <20160212010458.AE6AD3A00A4@svn01-us-west.apache.org>
References: <20160212010458.AE6AD3A00A4@svn01-us-west.apache.org>
Date: Fri, 12 Feb 2016 09:24:21 +0100
Message-ID: <CAKQ1sVP4ELyUfDmScsb8P=2uevB5vvbm09bEOM4zUC_S2LKR=w@mail.gmail.com>
Subject: Re: svn commit: r1729929 - in /httpd/httpd/trunk: CHANGES
 include/ap_mmn.h include/http_core.h include/httpd.h server/core.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Feb 12, 2016 at 2:04 AM,  <wrowe@apache.org> wrote:
> Author: wrowe
> Date: Fri Feb 12 01:04:58 2016
> New Revision: 1729929
>
[]
> Modified: httpd/httpd/trunk/include/httpd.h
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/include/httpd.h?rev=1729929&r1=1729928&r2=1729929&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/include/httpd.h (original)
> +++ httpd/httpd/trunk/include/httpd.h Fri Feb 12 01:04:58 2016
> @@ -1056,6 +1056,16 @@ struct request_rec {
>      apr_table_t *trailers_in;
>      /** MIME trailer environment from the response */
>      apr_table_t *trailers_out;
> +
> +    /** Originator's DNS name, if known.  NULL if DNS hasn't been checked,
> +     *  "" if it has and no address was found.  N.B. Only access this though
> +     *  ap_get_useragent_host() */
> +    char *useragent_host;

const char * ?
Christophe has made some changes recently to add const to r->protocol
(trunk only, can't be backported...), I think we shoudn't introduce
new char* in "public" structs.

> +    /** have we done double-reverse DNS? -1 yes/failure, 0 not yet,
> +     *  1 yes/success
> +     *  TODO: 2 bit signed bitfield when this structure is compacted
> +     */
> +    int double_reverse;
>  };

I see this TODO about bitfield, but never seen it done in your
commits, so I wonder where Rainer's warning comes from...
Anyway, once backported (as you propose), we can hardly change it.

Regards,
Yann.

From dev-return-85582-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 08:48:48 2016
Return-Path: <dev-return-85582-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 92A02187EE
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 08:48:48 +0000 (UTC)
Received: (qmail 21630 invoked by uid 500); 12 Feb 2016 08:48:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21550 invoked by uid 500); 12 Feb 2016 08:48:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21540 invoked by uid 99); 12 Feb 2016 08:48:48 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 08:48:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 9970DC0C99
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 08:48:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=q0Z64lr2;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=r1hNYbXx
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id YEUXs2AVyjBV for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 08:48:45 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id B8D992565F
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 08:48:44 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 149B015A0943; Fri, 12 Feb 2016 09:48:44 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455266924; bh=9jEKlY9+ilLgYpeSwM7CXBOrTayzGpkOuaNJs4278no=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=q0Z64lr22AGR1QgfWrv+r1FzUUPHN/a5gEHcvla+Hi19yOsSnmn5Wi95SlDSYHr1/
	 /vTDL7nieY69pZ+qsF7k+uxvwwnkG59v63Sw+eh9fYGTBJjheQtUk148jYuDWoan+7
	 DrTzBZcGWo96LapOKYv7mgpVB/9whdQssfGvybH8=
Received: from [192.168.1.48] (unknown [87.78.31.117])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 9C6BD15A040A
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 09:48:43 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455266923; bh=9jEKlY9+ilLgYpeSwM7CXBOrTayzGpkOuaNJs4278no=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=r1hNYbXxoy50fKLQyfacyPXcZJwdh+W3pugEY0SAKRDpSgKLXeB8CzxjVdjGkzuwe
	 THc0OrfZNKbfk+uq48e6gGrYE3kMd9QWz6vKUq3DtzeaDPQcS1iIP0NHe6GKSCI8CM
	 wB5xtbesUSRWRuivcJONnlPXrECmji9eEU/OazmE=
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: balancer-manager docs
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <pony-1cd02e31b43620d7c664e038ca42a060d61727b9-308280b962eb15c68f2b926f0e6fa544c2839ade@dev.httpd.apache.org>
Date: Fri, 12 Feb 2016 09:48:42 +0100
Content-Transfer-Encoding: 7bit
Message-Id: <5041C0B7-7D84-4807-A31C-FDC72A83787A@greenbytes.de>
References: <CAFedD419DMQZoADb=WiRtvhjYnp9NJWGZ1vQn5C65BV5Y4C1xA@mail.gmail.com> <35BFE5B2-2E21-4E04-85F0-846C2E28A04F@jaguNET.com> <56BA0D8A.6080906@kippdata.de> <9D3104FA-8978-4F40-8CEF-6ABA03308BDD@c8h10n4o2.org.uk> <7C7CCE57-72B6-4BD5-A32F-64C66B29DFBE@jaguNET.com> <CAFedD41vYjXQ4=z3m7UCP3CcQBk17w3w1u3xQTBOSkEsTpZf2w@mail.gmail.com> <E01AB6B2-B606-4C3D-92CC-1F91A5EEF2E9@greenbytes.de> <pony-1cd02e31b43620d7c664e038ca42a060d61727b9-308280b962eb15c68f2b926f0e6fa544c2839ade@dev.httpd.apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Very nice!

> Am 11.02.2016 um 18:46 schrieb Jim Jagielski <jim@apache.org>:
> 
> A rough and very brief framework of such a guide is now available...
> 
>    http://httpd.apache.org/docs/trunk/howto/reverse_proxy.html
> 
> On 2016-02-10 06:21, Luca Toscano <toscano.luca@gmail.com> wrote: 
>> 2016-02-10 10:33 GMT+01:00 Stefan Eissing <stefan.eissing@greenbytes.de>:
>> 
>>> If you write one, I write one for http2! :-)
>>> 
>>> 
>> +1+1+1+1 :)
>> 
> ------
> Sent via Pony Mail for dev@httpd.apache.org. 
> View this email online at:
> https://pony-poc.apache.org/list.html?dev@httpd.apache.org


From dev-return-85583-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 09:04:42 2016
Return-Path: <dev-return-85583-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 92D9B1887E
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 09:04:42 +0000 (UTC)
Received: (qmail 46050 invoked by uid 500); 12 Feb 2016 09:04:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 45973 invoked by uid 500); 12 Feb 2016 09:04:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45962 invoked by uid 99); 12 Feb 2016 09:04:41 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 09:04:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id B0D981A04DC
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 09:04:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id UnuDEm6aYmnP for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 09:04:39 +0000 (UTC)
Received: from mail-lb0-f176.google.com (mail-lb0-f176.google.com [209.85.217.176])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 4D16D43F58
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 09:04:39 +0000 (UTC)
Received: by mail-lb0-f176.google.com with SMTP id tk3so29405634lbb.3
        for <dev@httpd.apache.org>; Fri, 12 Feb 2016 01:04:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type;
        bh=FYY4sgPdkVJ7j2DOSMeBTpL63O3GjUAPoAfGuXy8URI=;
        b=xb5gsIGY8Tgsutl8+dPOpfA//k/lot/RmQN103zhc6/21/QFP++QpPM0/tsiejkDqy
         mYosSxbBysAhhO23KIX3AlyUKhofA/9SKOCtQ4oyEqCvxkp57ui+GTq81tncgaTVkRpb
         8u/9enhW8h4wVGmrdeS/KEtkP1a/Qq3ts3WX4ttD3SvPKEYXXCO9PJTtthOSsN7kgjiH
         u50tHRuHpiZuqtJu5pLioKaGLY5IPOYe/0bJsAND43NFktCkHD0LYeQE/KvqjT+ETqO/
         3HrFllM7AnTK/GwWRbbRoUF+UEAlvPQtCAGGNN9UqKQvFusoLfN6MpAUPYnLo0h0qkqB
         dB/A==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:references:in-reply-to:from:date
         :message-id:subject:to:content-type;
        bh=FYY4sgPdkVJ7j2DOSMeBTpL63O3GjUAPoAfGuXy8URI=;
        b=IYVodO2SzuX/OUkTux6+/bV2COBYKrXqfFxjZGvmL366v8qpxuC9DfeLQpnmMUahkP
         ZEG7nFi5BabRrlPzKQO/g+uS5XD+WIdDBBvsQ3q0KJdLrUdHIGRCJAmQoNEUJtVCRSR6
         puGdEHiqDD5ZKGC0sa/gN+uj+ARjDIGmvdbvqYlyroxN2xmhLlKNC/nLo7stjoxMkd3+
         4C1c4Z0rbY/Vx/yu3pSwXBsDRIuKH6s4ZWxDqdnxjkE+5orYTbiLpCtD2dh/5B+fAELA
         lOD8plbzb/KuxwxW9s7aLueB3kPOoy2uu3/7z9L7mp8XUCw4ui8K+LiG56p1VwYrfRNh
         t8Ow==
X-Gm-Message-State: AG10YORtPnLgGXCo1hMB0hULnKs6+0XSCRen0ComLsXly161ftb9ykq7z2OICOpUrXAYc0CNFh2UALKnSVXyBA==
X-Received: by 10.112.27.196 with SMTP id v4mr201201lbg.10.1455267871496; Fri,
 12 Feb 2016 01:04:31 -0800 (PST)
MIME-Version: 1.0
References: <CAFedD419DMQZoADb=WiRtvhjYnp9NJWGZ1vQn5C65BV5Y4C1xA@mail.gmail.com>
 <35BFE5B2-2E21-4E04-85F0-846C2E28A04F@jaguNET.com> <56BA0D8A.6080906@kippdata.de>
 <9D3104FA-8978-4F40-8CEF-6ABA03308BDD@c8h10n4o2.org.uk> <7C7CCE57-72B6-4BD5-A32F-64C66B29DFBE@jaguNET.com>
 <CAFedD41vYjXQ4=z3m7UCP3CcQBk17w3w1u3xQTBOSkEsTpZf2w@mail.gmail.com>
 <E01AB6B2-B606-4C3D-92CC-1F91A5EEF2E9@greenbytes.de> <pony-1cd02e31b43620d7c664e038ca42a060d61727b9-308280b962eb15c68f2b926f0e6fa544c2839ade@dev.httpd.apache.org>
 <5041C0B7-7D84-4807-A31C-FDC72A83787A@greenbytes.de>
In-Reply-To: <5041C0B7-7D84-4807-A31C-FDC72A83787A@greenbytes.de>
From: Daniel <dferradal@gmail.com>
Date: Fri, 12 Feb 2016 09:04:21 +0000
Message-ID: <CAHti5NGYc+TpYnC9j_tG+R1-zX-QHoFU0Mw1m8dk8g2aRjFzUQ@mail.gmail.com>
Subject: Re: balancer-manager docs
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a1133bf7488a16b052b8ef47e

--001a1133bf7488a16b052b8ef47e
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Looks very nice indeed! For being a "rough" version looks quite complete.
Also the diagram is a cool addition to help people understand how reverse
proxying works.

I think the examples may need some adjusting with the matching slashes:

ProxyPass "/" "http://www.example.com"
should be:
ProxyPass / http://www.example.com/
(I removed the quotes because they are not necessary)

and
ProxyPass "/images" "http://www.example.com"
should be:
ProxyPass /images/ http://www.example.com/


Cheers!



El vie., 12 feb. 2016 a las 9:48, Stefan Eissing (<
stefan.eissing@greenbytes.de>) escribi=C3=B3:

> Very nice!
>
> > Am 11.02.2016 um 18:46 schrieb Jim Jagielski <jim@apache.org>:
> >
> > A rough and very brief framework of such a guide is now available...
> >
> >    http://httpd.apache.org/docs/trunk/howto/reverse_proxy.html
> >
> > On 2016-02-10 06:21, Luca Toscano <toscano.luca@gmail.com> wrote:
> >> 2016-02-10 10:33 GMT+01:00 Stefan Eissing <stefan.eissing@greenbytes.d=
e
> >:
> >>
> >>> If you write one, I write one for http2! :-)
> >>>
> >>>
> >> +1+1+1+1 :)
> >>
> > ------
> > Sent via Pony Mail for dev@httpd.apache.org.
> > View this email online at:
> > https://pony-poc.apache.org/list.html?dev@httpd.apache.org
>
>

--001a1133bf7488a16b052b8ef47e
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Looks very nice indeed! For being a &quot;rough&quot; vers=
ion looks quite complete. Also the diagram is a cool addition to help peopl=
e understand how reverse proxying works.<br><br>I think the examples may ne=
ed some adjusting with the matching slashes:<br><br>ProxyPass &quot;/&quot;=
 &quot;<a href=3D"http://www.example.com/">http://www.example.com</a>&quot;=
<br>should be:<br>ProxyPass / <a href=3D"http://www.example.com/">http://ww=
w.example.com/</a><br>(I removed the quotes because they are not necessary)=
<br><br>and<br>ProxyPass &quot;/images&quot; &quot;<a href=3D"http://www.ex=
ample.com/">http://www.example.com</a>&quot;<br>should be:<br>ProxyPass /im=
ages/ <a href=3D"http://www.example.com/">http://www.example.com</a>/<br><d=
iv><br></div><div><br></div><div>Cheers!<br><div><br><br><br><div class=3D"=
gmail_quote"><div dir=3D"ltr">El vie., 12 feb. 2016 a las 9:48, Stefan Eiss=
ing (&lt;<a href=3D"mailto:stefan.eissing@greenbytes.de" target=3D"_blank">=
stefan.eissing@greenbytes.de</a>&gt;) escribi=C3=B3:<br></div><blockquote c=
lass=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;=
padding-left:1ex">Very nice!<br>
<br>
&gt; Am 11.02.2016 um 18:46 schrieb Jim Jagielski &lt;<a href=3D"mailto:jim=
@apache.org" target=3D"_blank">jim@apache.org</a>&gt;:<br>
&gt;<br>
&gt; A rough and very brief framework of such a guide is now available...<b=
r>
&gt;<br>
&gt;=C2=A0 =C2=A0 <a href=3D"http://httpd.apache.org/docs/trunk/howto/rever=
se_proxy.html" rel=3D"noreferrer" target=3D"_blank">http://httpd.apache.org=
/docs/trunk/howto/reverse_proxy.html</a><br>
&gt;<br>
&gt; On 2016-02-10 06:21, Luca Toscano &lt;<a href=3D"mailto:toscano.luca@g=
mail.com" target=3D"_blank">toscano.luca@gmail.com</a>&gt; wrote:<br>
&gt;&gt; 2016-02-10 10:33 GMT+01:00 Stefan Eissing &lt;<a href=3D"mailto:st=
efan.eissing@greenbytes.de" target=3D"_blank">stefan.eissing@greenbytes.de<=
/a>&gt;:<br>
&gt;&gt;<br>
&gt;&gt;&gt; If you write one, I write one for http2! :-)<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt;<br>
&gt;&gt; +1+1+1+1 :)<br>
&gt;&gt;<br>
&gt; ------<br>
&gt; Sent via Pony Mail for <a href=3D"mailto:dev@httpd.apache.org" target=
=3D"_blank">dev@httpd.apache.org</a>.<br>
&gt; View this email online at:<br>
&gt; <a href=3D"https://pony-poc.apache.org/list.html?dev@httpd.apache.org"=
 rel=3D"noreferrer" target=3D"_blank">https://pony-poc.apache.org/list.html=
?dev@httpd.apache.org</a><br>
<br>
</blockquote></div></div></div></div>

--001a1133bf7488a16b052b8ef47e--

From dev-return-85584-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 09:49:20 2016
Return-Path: <dev-return-85584-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 88624189E5
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 09:49:20 +0000 (UTC)
Received: (qmail 38530 invoked by uid 500); 12 Feb 2016 09:49:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38459 invoked by uid 500); 12 Feb 2016 09:49:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38448 invoked by uid 99); 12 Feb 2016 09:49:20 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 09:49:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A3D85C1B43
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 09:49:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id cOwo8I8bdOav for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 09:49:18 +0000 (UTC)
Received: from mail-io0-f169.google.com (mail-io0-f169.google.com [209.85.223.169])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 12CFF201F7
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 09:49:17 +0000 (UTC)
Received: by mail-io0-f169.google.com with SMTP id g203so60607882iof.2
        for <dev@httpd.apache.org>; Fri, 12 Feb 2016 01:49:17 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Qx+oQrCMENSjEOv9dYzxHDRiVM5TGNd8XZo5PlO/xSQ=;
        b=iTiaRfL3ESBvCHvKxaGFFJH3tWTZFkx9HuzNbpppxgwR6esHkmNT2J8y5niX55gKqs
         ik9IxYAOYRuCAM/ke2nZAUh8YUiVRMOo5pbIzYBKCQYThoHh71MIc7K3YWJJDH4bmyIO
         U0Qbf2nqK1CS0Gb60HSyw9sCkwYY94OOk+5vbJhInJUCdXw3VEXUmfTxl/TjKwqb61yA
         svYpbHeVoxfg58elKLh3/04i4y9Fi93Zq+VKzFs1lnXcRATXPCfrKa8pSW19866tqaJD
         N4pSt5k3Uc+JfsKmfkZNmCy/Ld93kxzaXUuU85Swj0h9yKNMFBwMq9dsCHSp4OYHUvq+
         64MA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=Qx+oQrCMENSjEOv9dYzxHDRiVM5TGNd8XZo5PlO/xSQ=;
        b=SnAz/j5SzvVc/SCHjzpgbRN05VymqFJkD7aA2sb3W/44GctByV8u8SW3dySN9OGAdH
         +wgqyW7aZyQuZI/QQWkXETGMxsYADjJUt3dBbUpE1jj7LvIddPVOUw3NjSE4FHIeU0cX
         Tu02tpyAfklfAA2ro7F/A+5k6xvYCjVAE5xHVo713ojhj0JfPsxqasur0hnnkTLlcrnK
         arT4PPCrgtbWyfLYcG4sJdOykAlIe1HDOLTCX8Rn5fRRGbuat7cQAj3Wm2/PAb8RFVss
         ifkr+Zq4ot87ARXc/sbWiGgY1Ng3g7yLGXOJpejqGOFCAaITTAGKU4bS3JueSeDYjxDl
         NJjA==
X-Gm-Message-State: AG10YOR05/bAhWFWKMGUCTOISeqkBEhR9J80Z/Zzu9Fu6YDaXfKetQlS5kWv/ppOcWT6MVAPyBmHe4HWdbD6a3j7
MIME-Version: 1.0
X-Received: by 10.107.28.82 with SMTP id c79mr1796668ioc.86.1455270551708;
 Fri, 12 Feb 2016 01:49:11 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Fri, 12 Feb 2016 01:49:11 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Fri, 12 Feb 2016 01:49:11 -0800 (PST)
In-Reply-To: <CAKQ1sVP4ELyUfDmScsb8P=2uevB5vvbm09bEOM4zUC_S2LKR=w@mail.gmail.com>
References: <20160212010458.AE6AD3A00A4@svn01-us-west.apache.org>
	<CAKQ1sVP4ELyUfDmScsb8P=2uevB5vvbm09bEOM4zUC_S2LKR=w@mail.gmail.com>
Date: Fri, 12 Feb 2016 03:49:11 -0600
Message-ID: <CACsi250QGSaUfTcsu_dgNdKM=tLgmEaqtGDfayF4UQJWPQcYnA@mail.gmail.com>
Subject: Re: svn commit: r1729929 - in /httpd/httpd/trunk: CHANGES
 include/ap_mmn.h include/http_core.h include/httpd.h server/core.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11409b98497d22052b8f9441

--001a11409b98497d22052b8f9441
Content-Type: text/plain; charset=UTF-8

On Feb 12, 2016 2:24 AM, "Yann Ylavic" <ylavic.dev@gmail.com> wrote:
>
> On Fri, Feb 12, 2016 at 2:04 AM,  <wrowe@apache.org> wrote:
> > Author: wrowe
> > Date: Fri Feb 12 01:04:58 2016
> > New Revision: 1729929
> >

> > +    /** Originator's DNS name, if known.  NULL if DNS hasn't been
checked,
> > +     *  "" if it has and no address was found.  N.B. Only access this
though
> > +     *  ap_get_useragent_host() */
> > +    char *useragent_host;
>
> const char * ?
> Christophe has made some changes recently to add const to r->protocol
> (trunk only, can't be backported...), I think we shoudn't introduce
> new char* in "public" structs.

While I would generally agree, the note states you must not access this
member directly, so it seems irrelevant.  But such a change should be
harmless.

> > +    /** have we done double-reverse DNS? -1 yes/failure, 0 not yet,
> > +     *  1 yes/success
> > +     *  TODO: 2 bit signed bitfield when this structure is compacted
> > +     */
> > +    int double_reverse;
> >  };
>
> I see this TODO about bitfield, but never seen it done in your
> commits, so I wonder where Rainer's warning comes from...
> Anyway, once backported (as you propose), we can hardly change it.

Precisely, it will NOT change in 2.4 and should not change, and is only
applicable to trunk.  I should have omitted from the initial commit.

If we define this as int :2 and add a second int :2, none of the c
standards promise that the initial 2-bit value maintains its previous
alignment.  The alignment is undefined.

When we refactor trunk structures in anticipation of 2.6/3.0, that will be
the time to permanently park short bit values adjacent to one another.

If backported, we should redact the comment.

Cheers,

Bill

--001a11409b98497d22052b8f9441
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">On Feb 12, 2016 2:24 AM, &quot;Yann Ylavic&quot; &lt;<a href=
=3D"mailto:ylavic.dev@gmail.com">ylavic.dev@gmail.com</a>&gt; wrote:<br>
&gt;<br>
&gt; On Fri, Feb 12, 2016 at 2:04 AM,=C2=A0 &lt;<a href=3D"mailto:wrowe@apa=
che.org">wrowe@apache.org</a>&gt; wrote:<br>
&gt; &gt; Author: wrowe<br>
&gt; &gt; Date: Fri Feb 12 01:04:58 2016<br>
&gt; &gt; New Revision: 1729929<br>
&gt; &gt;</p>
<p dir=3D"ltr">&gt; &gt; +=C2=A0 =C2=A0 /** Originator&#39;s DNS name, if k=
nown.=C2=A0 NULL if DNS hasn&#39;t been checked,<br>
&gt; &gt; +=C2=A0 =C2=A0 =C2=A0*=C2=A0 &quot;&quot; if it has and no addres=
s was found.=C2=A0 N.B. Only access this though<br>
&gt; &gt; +=C2=A0 =C2=A0 =C2=A0*=C2=A0 ap_get_useragent_host() */<br>
&gt; &gt; +=C2=A0 =C2=A0 char *useragent_host;<br>
&gt;<br>
&gt; const char * ?<br>
&gt; Christophe has made some changes recently to add const to r-&gt;protoc=
ol<br>
&gt; (trunk only, can&#39;t be backported...), I think we shoudn&#39;t intr=
oduce<br>
&gt; new char* in &quot;public&quot; structs.</p>
<p dir=3D"ltr">While I would generally agree, the note states you must not =
access this member directly, so it seems irrelevant.=C2=A0 But such a chang=
e should be harmless.</p>
<p dir=3D"ltr">&gt; &gt; +=C2=A0 =C2=A0 /** have we done double-reverse DNS=
? -1 yes/failure, 0 not yet,<br>
&gt; &gt; +=C2=A0 =C2=A0 =C2=A0*=C2=A0 1 yes/success<br>
&gt; &gt; +=C2=A0 =C2=A0 =C2=A0*=C2=A0 TODO: 2 bit signed bitfield when thi=
s structure is compacted<br>
&gt; &gt; +=C2=A0 =C2=A0 =C2=A0*/<br>
&gt; &gt; +=C2=A0 =C2=A0 int double_reverse;<br>
&gt; &gt;=C2=A0 };<br>
&gt;<br>
&gt; I see this TODO about bitfield, but never seen it done in your<br>
&gt; commits, so I wonder where Rainer&#39;s warning comes from...<br>
&gt; Anyway, once backported (as you propose), we can hardly change it.</p>
<p dir=3D"ltr">Precisely, it will NOT change in 2.4 and should not change, =
and is only applicable to trunk.=C2=A0 I should have omitted from the initi=
al commit.</p>
<p dir=3D"ltr">If we define this as int :2 and add a second int :2, none of=
 the c standards promise that the initial 2-bit value maintains its previou=
s alignment.=C2=A0 The alignment is undefined.</p>
<p dir=3D"ltr">When we refactor trunk structures in anticipation of 2.6/3.0=
, that will be the time to permanently park short bit values adjacent to on=
e another.</p>
<p dir=3D"ltr">If backported, we should redact the comment.</p>
<p dir=3D"ltr">Cheers,</p>
<p dir=3D"ltr">Bill<br></p>

--001a11409b98497d22052b8f9441--

From dev-return-85585-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 10:13:20 2016
Return-Path: <dev-return-85585-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7943D18B02
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 10:13:20 +0000 (UTC)
Received: (qmail 1167 invoked by uid 500); 12 Feb 2016 10:13:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1099 invoked by uid 500); 12 Feb 2016 10:13:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1089 invoked by uid 99); 12 Feb 2016 10:13:19 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 10:13:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 893E218027D
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 10:13:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=hP9ZSBnb;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=hP9ZSBnb
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id eyPLBzY797Et for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 10:13:17 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 590DF20428
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 10:13:17 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id F3BBF15A3496; Fri, 12 Feb 2016 11:13:14 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455271994; bh=7wIgsobcIA7CBK7msgz7PI9ZqIFMKDojRkMMNNAXY+0=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=hP9ZSBnbQzR7OPcGEIpKjeBoWbUBpbmkWpzVmTnt8y3da/XkzcIUjb9ndEpPmShLj
	 asWznojhDm1j2tJ55xs4Wf8TGi9XjCCQrY5k/tmGHYSzU6WDgSMQnLyVZKWEcAvHLa
	 VVgqjQtrJMByQlYxHl+AdZfPhaqNNZB6rvyxWKME=
Received: from [192.168.1.48] (unknown [87.78.31.117])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 7285F15A345C
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 11:13:14 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455271994; bh=7wIgsobcIA7CBK7msgz7PI9ZqIFMKDojRkMMNNAXY+0=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=hP9ZSBnbQzR7OPcGEIpKjeBoWbUBpbmkWpzVmTnt8y3da/XkzcIUjb9ndEpPmShLj
	 asWznojhDm1j2tJ55xs4Wf8TGi9XjCCQrY5k/tmGHYSzU6WDgSMQnLyVZKWEcAvHLa
	 VVgqjQtrJMByQlYxHl+AdZfPhaqNNZB6rvyxWKME=
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: httpd-trunk/modules/http2 gets a proxy
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56BCF4AA.2060209@gknw.net>
Date: Fri, 12 Feb 2016 11:13:13 +0100
Content-Transfer-Encoding: 7bit
Message-Id: <5995036C-2E36-48CE-86BB-2CD6C9416686@greenbytes.de>
References: <56B911B2.3080400@gknw.net> <33BC9153-7AE2-44C2-97B7-94EEC8382711@greenbytes.de> <56BBED72.8040604@gknw.net> <01325F5D-1605-41BA-BCD0-E257E629AE17@greenbytes.de> <56BCF4AA.2060209@gknw.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Thanks. Added in r1729969.

> Am 11.02.2016 um 21:52 schrieb NormW <normw@gknw.net>:
> 
> <NWGNUmod_http2.txt>


From dev-return-85586-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 10:25:42 2016
Return-Path: <dev-return-85586-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 370B618B54
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 10:25:42 +0000 (UTC)
Received: (qmail 15968 invoked by uid 500); 12 Feb 2016 10:25:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15906 invoked by uid 500); 12 Feb 2016 10:25:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15897 invoked by uid 99); 12 Feb 2016 10:25:41 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 10:25:41 +0000
Received: from gauss.localdomain (v4-86134ce7.pool.vitroconnect.de [134.19.76.231])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 3B4511A0040
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 10:25:41 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 0E6CCE6
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 11:25:41 +0100 (CET)
Subject: Re: svn commit: r1729927 - in /httpd/httpd/trunk/modules/ssl:
 ssl_engine_kernel.c ssl_private.h
To: dev@httpd.apache.org
References: <20160212004422.B2D453A00A4@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56BDB325.6080703@apache.org>
Date: Fri, 12 Feb 2016 11:25:41 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <20160212004422.B2D453A00A4@svn01-us-west.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 02/12/2016 01:44 AM, rjung@apache.org wrote:
> Author: rjung
> Date: Fri Feb 12 00:44:22 2016
> New Revision: 1729927
> 
> URL: http://svn.apache.org/viewvc?rev=1729927&view=rev
> Log:
> Support for OpenSSL 1.1.0:
> - further improvements for renegotiation
> No more test suite failures for reneg,
> but still using not so nice polling.
> 
> Modified:
>     httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
>     httpd/httpd/trunk/modules/ssl/ssl_private.h
> 
> Modified: httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c?rev=1729927&r1=1729926&r2=1729927&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c (original)
> +++ httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c Fri Feb 12 00:44:22 2016
> @@ -1040,16 +1040,20 @@ int ssl_hook_Access(request_rec *r)
>              /* XXX: Polling is bad, alternatives? */
>              for (i = 0; i < SSL_HANDSHAKE_MAX_POLLS; i++) {
>                  has_buffered_data(r);
> -                if (sslconn->ssl == NULL || SSL_is_init_finished(ssl)) {
> +                if (sslconn->ssl == NULL ||
> +                    sslconn->reneg_state == RENEG_DONE ||
> +                    sslconn->reneg_state == RENEG_ALLOW) {
>                      break;
>                  }
>                  apr_sleep(SSL_HANDSHAKE_POLL_MS);
>              }
>              ap_log_rerror(APLOG_MARK, APLOG_TRACE2, 0, r, APLOGNO()
>                            "Renegotiation loop %d iterations, "
> +                          "reneg_state=%d, "
>                            "in_init=%d, init_finished=%d, "
>                            "state=%s, sslconn->ssl=%s, peer_certs=%s",
> -                          i, SSL_in_init(ssl), SSL_is_init_finished(ssl),
> +                          i, sslconn->reneg_state,
> +                          SSL_in_init(ssl), SSL_is_init_finished(ssl),
>                            SSL_state_string_long(ssl),
>                            sslconn->ssl != NULL ? "yes" : "no",
>                            SSL_get_peer_certificate(ssl) != NULL ? "yes" : "no");
> @@ -2142,6 +2146,18 @@ void ssl_callback_Info(const SSL *ssl, i
>          }
>  #endif
>      }
> +#if OPENSSL_VERSION_NUMBER >= 0x10000000L

Is this correct or should it be 0x10100000L instead?

Regards

Rdiger

> +    else if ((where & SSL_CB_HANDSHAKE_START) && scr->reneg_state == RENEG_ALLOW) {
> +        scr->reneg_state = RENEG_STARTED;
> +    }
> +    else if ((where & SSL_CB_HANDSHAKE_DONE) && scr->reneg_state == RENEG_STARTED) {
> +        scr->reneg_state = RENEG_DONE;
> +    }
> +    else if ((where & SSL_CB_ALERT) &&
> +             (scr->reneg_state == RENEG_ALLOW || scr->reneg_state == RENEG_STARTED)) {
> +        scr->reneg_state = RENEG_ALERT;
> +    }
> +#endif
>      /* If the first handshake is complete, change state to reject any
>       * subsequent client-initiated renegotiation. */
>      else if ((where & SSL_CB_HANDSHAKE_DONE) && scr->reneg_state == RENEG_INIT) {
> 
> Modified: httpd/httpd/trunk/modules/ssl/ssl_private.h
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_private.h?rev=1729927&r1=1729926&r2=1729927&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/ssl/ssl_private.h (original)
> +++ httpd/httpd/trunk/modules/ssl/ssl_private.h Fri Feb 12 00:44:22 2016
> @@ -444,12 +444,17 @@ typedef struct {
>       * partial fix for CVE-2009-3555. */
>      enum {
>          RENEG_INIT = 0, /* Before initial handshake */
> -        RENEG_REJECT, /* After initial handshake; any client-initiated
> -                       * renegotiation should be rejected */
> -        RENEG_ALLOW, /* A server-initiated renegotiation is taking
> -                      * place (as dictated by configuration) */
> -        RENEG_ABORT /* Renegotiation initiated by client, abort the
> -                     * connection */
> +        RENEG_REJECT,   /* After initial handshake; any client-initiated
> +                         * renegotiation should be rejected */
> +        RENEG_ALLOW,    /* A server-initiated renegotiation is taking
> +                         * place (as dictated by configuration) */
> +#if OPENSSL_VERSION_NUMBER >= 0x10000000L

Same question as above

> +        RENEG_STARTED,  /* A renegotiation has started after RENEG_ALLOW */
> +        RENEG_DONE,     /* A renegotiation has finished after RENEG_STARTED */
> +        RENEG_ALERT,    /* A renegotiation has finished with an SSL Alert */
> +#endif
> +        RENEG_ABORT     /* Renegotiation initiated by client, abort the
> +                         * connection */
>      } reneg_state;
>  
>      server_rec *server;
> 
> 
> 

Regards

Rdiger

From dev-return-85587-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 10:45:48 2016
Return-Path: <dev-return-85587-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 522E418C00
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 10:45:48 +0000 (UTC)
Received: (qmail 51945 invoked by uid 500); 12 Feb 2016 10:45:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51868 invoked by uid 500); 12 Feb 2016 10:45:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51858 invoked by uid 99); 12 Feb 2016 10:45:47 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 10:45:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 60093C0D87
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 10:45:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Uyk2xubqYGMY for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 10:45:46 +0000 (UTC)
Received: from mail-qg0-f53.google.com (mail-qg0-f53.google.com [209.85.192.53])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id CBD9131AF8
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 10:45:45 +0000 (UTC)
Received: by mail-qg0-f53.google.com with SMTP id y9so59481888qgd.3
        for <dev@httpd.apache.org>; Fri, 12 Feb 2016 02:45:45 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=znOPaM5uyTGpjNPDlrLz5Mqq2IMu/zvzq7W6S+R1r64=;
        b=C5DpGAEaio1fU134uRuH0HgXNJ9PrFArsY6I4AjGPelQLJmT2oXDrzHGhqlsh+jFXS
         3WY3ZWUGhN/PfIi8acJk5SMfbUSVxdaDwWkhP/cuSc1WMJ54YD7jpLrGJeA1nWRwyg3X
         oU7WCo6qLYGeMQt6ryMFAC+s5EjWNCDlNApMR0/iabOGDjqGIRHXx6Z7vknYHRLX2rux
         3h9yBan4JpcswvV+G2dal7XOCtTIvtThHYlMClOe9uc3F8hqq5ZSBEupurI2IGUhmVdY
         pstX7s/WU0JalAnFCaqU+684TlK5M/VLdvqezXjP92J3NOFl8MOUkLxvumiutGojyWwX
         YoOQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=znOPaM5uyTGpjNPDlrLz5Mqq2IMu/zvzq7W6S+R1r64=;
        b=YNfKBxPab0LIWi46H5Du+R0gOJMmykUUAFo5fPz+7Jcu8WR3eB3rKR+evGZOqLICNk
         BG2qDoy450v9BdH1Cou4yK83fraea6oE97VBt/sVpR42TBiESYvTaw5gQGr1I5DO9WJA
         JsSC1tlYwEHwpZJwh9W3QuEd1fiHs7rlenGtfTIxxj7Ngr4W24yRdRrd42y4QnlbIjEm
         p/P4NKYtblgBQe6+Z7ZqiXVj35c1TIqks6ycod/2mZPxnKHOpjeia8bMDl/6KMcSBBz5
         bE4M/KMsIfwE74n9Y2CRZigEomdC2R57q7vcQzcu1qZXS6bAY3Fk4zxQkada+byyhI1M
         hXuQ==
X-Gm-Message-State: AG10YORIYW1CG01mzxxb/xMeWgKG3W2lVwbS3BBplBx3XmuSS6WaAD6NKdl/BxsMfukgjw6yucKOXCSEQ1P6ow==
MIME-Version: 1.0
X-Received: by 10.140.167.135 with SMTP id n129mr844977qhn.73.1455273944937;
 Fri, 12 Feb 2016 02:45:44 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Fri, 12 Feb 2016 02:45:44 -0800 (PST)
In-Reply-To: <CACsi250QGSaUfTcsu_dgNdKM=tLgmEaqtGDfayF4UQJWPQcYnA@mail.gmail.com>
References: <20160212010458.AE6AD3A00A4@svn01-us-west.apache.org>
	<CAKQ1sVP4ELyUfDmScsb8P=2uevB5vvbm09bEOM4zUC_S2LKR=w@mail.gmail.com>
	<CACsi250QGSaUfTcsu_dgNdKM=tLgmEaqtGDfayF4UQJWPQcYnA@mail.gmail.com>
Date: Fri, 12 Feb 2016 11:45:44 +0100
Message-ID: <CAKQ1sVM757YxtwO1ncqU+51=6GDhumAGmWNXJdVYStrE_bSiJQ@mail.gmail.com>
Subject: Re: svn commit: r1729929 - in /httpd/httpd/trunk: CHANGES
 include/ap_mmn.h include/http_core.h include/httpd.h server/core.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Feb 12, 2016 at 10:49 AM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> On Feb 12, 2016 2:24 AM, "Yann Ylavic" <ylavic.dev@gmail.com> wrote:
>>
>> I see this TODO about bitfield, but never seen it done in your
>> commits, so I wonder where Rainer's warning comes from...
>> Anyway, once backported (as you propose), we can hardly change it.
>
> Precisely, it will NOT change in 2.4 and should not change, and is only
> applicable to trunk.  I should have omitted from the initial commit.
>
> If we define this as int :2 and add a second int :2, none of the c standards
> promise that the initial 2-bit value maintains its previous alignment.  The
> alignment is undefined.

Indeed, and as such we can't make any promise about bits
alignment/order wrt to the underlying int, and the user can't expect
any either.

As you noticed, it's not possible to get the address of a bitfield (it
makes no sense), and we don't union the bitfields with a true int, so
the user would have to do things like "int *bitmask = (int *)&((char
*)r)[APR_OFFSETOF(r, useragent_host) + sizeof(r->useragent_host)]" to
start playing with the bits, and IMO that deserves a breakage if we
add a new bitfield!

So I don't thing we should worry about compatibility of bitfields wrt
added bits, the goal is to be able to add a new field without
increasing the size of the struct (for something that requires only a
few bits).

Aside note: with an int:2 bitfield, the possible values are 0 (00), 1
(01), -2 (10) and -1 (11), that may be surprising, although that fits
your description of double_reverse.
IMHO signed bitfields should be avoided, and I don't know if compilers
are kind enough (nor allowed) to pack successive signed/unsigned
bitfields, probably yes but otherwise we may lose extensibility of
"int double_reverse:2" though...
So we may prefer "unsigned int double_reverse:2" (and change the
description) so that we can later add a single bit that equals 1 and
not -1.

Regards,
Yann.

From dev-return-85588-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 11:31:45 2016
Return-Path: <dev-return-85588-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0D95118DD6
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 11:31:45 +0000 (UTC)
Received: (qmail 62443 invoked by uid 500); 12 Feb 2016 11:31:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62368 invoked by uid 500); 12 Feb 2016 11:31:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62357 invoked by uid 99); 12 Feb 2016 11:31:44 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 11:31:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id EEED1C0C99
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 11:31:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.83
X-Spam-Level:
X-Spam-Status: No, score=-1.83 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, RCVD_IN_DNSWL_MED=-2.3,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 6_K09TxYLwTq for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 11:31:41 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 256D042BA7
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 11:31:40 +0000 (UTC)
Received: from [10.0.110.6] ([37.82.230.85])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u1CBVXEL019125
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 12:31:33 +0100 (CET)
Subject: Re: svn commit: r1729927 - in /httpd/httpd/trunk/modules/ssl:
 ssl_engine_kernel.c ssl_private.h
To: dev@httpd.apache.org
References: <20160212004422.B2D453A00A4@svn01-us-west.apache.org>
 <56BDB325.6080703@apache.org>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56BDC293.1040209@kippdata.de>
Date: Fri, 12 Feb 2016 12:31:31 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56BDB325.6080703@apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

Yes, thanks for the review!

Wrong checked version in "#if" (copy&paste typo) fixed with r1729998.

Regards,

Rainer

Am 12.02.2016 um 11:25 schrieb Ruediger Pluem:
>
>
> On 02/12/2016 01:44 AM, rjung@apache.org wrote:
>> Author: rjung
>> Date: Fri Feb 12 00:44:22 2016
>> New Revision: 1729927
>>
>> URL: http://svn.apache.org/viewvc?rev=1729927&view=rev
>> Log:
>> Support for OpenSSL 1.1.0:
>> - further improvements for renegotiation
>> No more test suite failures for reneg,
>> but still using not so nice polling.
>>
>> Modified:
>>      httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
>>      httpd/httpd/trunk/modules/ssl/ssl_private.h
>>
>> Modified: httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c?rev=1729927&r1=1729926&r2=1729927&view=diff
>> ==============================================================================
>> --- httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c (original)
>> +++ httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c Fri Feb 12 00:44:22 2016
>> @@ -1040,16 +1040,20 @@ int ssl_hook_Access(request_rec *r)
>>               /* XXX: Polling is bad, alternatives? */
>>               for (i = 0; i < SSL_HANDSHAKE_MAX_POLLS; i++) {
>>                   has_buffered_data(r);
>> -                if (sslconn->ssl == NULL || SSL_is_init_finished(ssl)) {
>> +                if (sslconn->ssl == NULL ||
>> +                    sslconn->reneg_state == RENEG_DONE ||
>> +                    sslconn->reneg_state == RENEG_ALLOW) {
>>                       break;
>>                   }
>>                   apr_sleep(SSL_HANDSHAKE_POLL_MS);
>>               }
>>               ap_log_rerror(APLOG_MARK, APLOG_TRACE2, 0, r, APLOGNO()
>>                             "Renegotiation loop %d iterations, "
>> +                          "reneg_state=%d, "
>>                             "in_init=%d, init_finished=%d, "
>>                             "state=%s, sslconn->ssl=%s, peer_certs=%s",
>> -                          i, SSL_in_init(ssl), SSL_is_init_finished(ssl),
>> +                          i, sslconn->reneg_state,
>> +                          SSL_in_init(ssl), SSL_is_init_finished(ssl),
>>                             SSL_state_string_long(ssl),
>>                             sslconn->ssl != NULL ? "yes" : "no",
>>                             SSL_get_peer_certificate(ssl) != NULL ? "yes" : "no");
>> @@ -2142,6 +2146,18 @@ void ssl_callback_Info(const SSL *ssl, i
>>           }
>>   #endif
>>       }
>> +#if OPENSSL_VERSION_NUMBER >= 0x10000000L
>
> Is this correct or should it be 0x10100000L instead?
>
> Regards
>
> Rdiger
>
>> +    else if ((where & SSL_CB_HANDSHAKE_START) && scr->reneg_state == RENEG_ALLOW) {
>> +        scr->reneg_state = RENEG_STARTED;
>> +    }
>> +    else if ((where & SSL_CB_HANDSHAKE_DONE) && scr->reneg_state == RENEG_STARTED) {
>> +        scr->reneg_state = RENEG_DONE;
>> +    }
>> +    else if ((where & SSL_CB_ALERT) &&
>> +             (scr->reneg_state == RENEG_ALLOW || scr->reneg_state == RENEG_STARTED)) {
>> +        scr->reneg_state = RENEG_ALERT;
>> +    }
>> +#endif
>>       /* If the first handshake is complete, change state to reject any
>>        * subsequent client-initiated renegotiation. */
>>       else if ((where & SSL_CB_HANDSHAKE_DONE) && scr->reneg_state == RENEG_INIT) {
>>
>> Modified: httpd/httpd/trunk/modules/ssl/ssl_private.h
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_private.h?rev=1729927&r1=1729926&r2=1729927&view=diff
>> ==============================================================================
>> --- httpd/httpd/trunk/modules/ssl/ssl_private.h (original)
>> +++ httpd/httpd/trunk/modules/ssl/ssl_private.h Fri Feb 12 00:44:22 2016
>> @@ -444,12 +444,17 @@ typedef struct {
>>        * partial fix for CVE-2009-3555. */
>>       enum {
>>           RENEG_INIT = 0, /* Before initial handshake */
>> -        RENEG_REJECT, /* After initial handshake; any client-initiated
>> -                       * renegotiation should be rejected */
>> -        RENEG_ALLOW, /* A server-initiated renegotiation is taking
>> -                      * place (as dictated by configuration) */
>> -        RENEG_ABORT /* Renegotiation initiated by client, abort the
>> -                     * connection */
>> +        RENEG_REJECT,   /* After initial handshake; any client-initiated
>> +                         * renegotiation should be rejected */
>> +        RENEG_ALLOW,    /* A server-initiated renegotiation is taking
>> +                         * place (as dictated by configuration) */
>> +#if OPENSSL_VERSION_NUMBER >= 0x10000000L
>
> Same question as above
>
>> +        RENEG_STARTED,  /* A renegotiation has started after RENEG_ALLOW */
>> +        RENEG_DONE,     /* A renegotiation has finished after RENEG_STARTED */
>> +        RENEG_ALERT,    /* A renegotiation has finished with an SSL Alert */
>> +#endif
>> +        RENEG_ABORT     /* Renegotiation initiated by client, abort the
>> +                         * connection */
>>       } reneg_state;
>>
>>       server_rec *server;
>>
>>
>>
>
> Regards
>
> Rdiger

From dev-return-85589-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 12:20:22 2016
Return-Path: <dev-return-85589-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A9E4918F4A
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 12:20:22 +0000 (UTC)
Received: (qmail 37296 invoked by uid 500); 12 Feb 2016 12:20:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37221 invoked by uid 500); 12 Feb 2016 12:20:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37204 invoked by uid 99); 12 Feb 2016 12:20:22 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 12:20:22 +0000
Received: from [192.168.1.36] (2804ds5-soeb.0.fullrate.ninja [90.184.204.23])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 6213A1A0046;
	Fri, 12 Feb 2016 12:20:21 +0000 (UTC)
To: dev@httpd.apache.org
Cc: docs@httpd.apache.org
From: Daniel Gruno <humbedooh@apache.org>
Subject: Thoughts on using HW for httpd?
Message-ID: <56BDCDFB.5050901@apache.org>
Date: Fri, 12 Feb 2016 13:20:11 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

Hi folks,
as some may know, ComDev is trialling a new thing called 'Help Wanted!'
at https://helpwanted.apache.org/

I've added a few example entries for httpd, and I'm wondering if this is
something we would want to plug into our web site?

You can see an example web site widget at
https://helpwanted.apache.org/wtest.html (top one shows httpd)

It's an easy way to identify which tasks we'd love to see someone get
started on (and has the benefit of being able to assign difficulty
levels, skills needed etc to a task), and judging from the input on the
existing tasks, it seems to attract people towards projects.

Thoughts? flames? snark? :)

With regards,
Daniel.

From dev-return-85590-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 12:25:43 2016
Return-Path: <dev-return-85590-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5CC7218F82
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 12:25:43 +0000 (UTC)
Received: (qmail 57616 invoked by uid 500); 12 Feb 2016 12:25:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57557 invoked by uid 500); 12 Feb 2016 12:25:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57547 invoked by uid 99); 12 Feb 2016 12:25:42 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 12:25:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 298B1C0D87
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 12:25:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id YCpH3WacN3Lz for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 12:25:41 +0000 (UTC)
Received: from mail-qg0-f51.google.com (mail-qg0-f51.google.com [209.85.192.51])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id BFCCA43F5A
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 12:25:40 +0000 (UTC)
Received: by mail-qg0-f51.google.com with SMTP id y89so60647693qge.2
        for <dev@httpd.apache.org>; Fri, 12 Feb 2016 04:25:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=iCZF0DWKsH23nlfp7HPa6ST7++cRwngp0ScHh1WYWNA=;
        b=PNx15nzZHHzRRarj8aEVTwU5h5O0FxbbzStzDRxtccBX4EFOjUfmMrvL8rjm+RHW+b
         L9ni+CPdqDrZpyVkaNQ28Bvna0OvmRF9ElWppdBAgTckXYSjLqi2DqU86rmbdQTFLoMj
         5FoShvRBuaoNZqX5AIiU3WAF/a0uFxMomz/r/Gig2MLimGiQsibTbc6TxsMgAYNGgA66
         ET5j4knwX4q/n5on91o4R/c4DIhgvYoEed82W/8/CjVjyusjztIehyNwtIDITPhOdXmg
         BZOfCuv+g98zpBGAai6Dr7Rt2zkg3fn885hICXXAuX1kJXhef9rD+SjL3Bdg6BO1FKQi
         yYdg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=iCZF0DWKsH23nlfp7HPa6ST7++cRwngp0ScHh1WYWNA=;
        b=mQRwfpUnb9kttmm88XRqziFepPWOw4T5HZ6PJ6qAO9CEfUejmO7xnTyI4JrbYY0LfB
         ErSvL2i57uCNPVy7eSnqzEy56rzADYLjlIxa6KNWSEcNBw7aB2KqWgEOih+A/7QdpxeI
         fYHVYMH7L5cWR69/wvsPYuxxQPhOxyxOUgprMXDJAIUVt+fMypv8cV9WO2+a3AKsAZ6C
         5cdcJv0k/ooVBfawOf9IHDei/FdlmCRflVDEBv8fFiJWHPhX2ML3/u1mzwyQPPLEeSqi
         j+07Z48r0mG1ZLPp7G0UVEotzZWC5eRxFYuGQ9tuuLXFRJGrr9R48B2/Ddu4M3D/WpNa
         UQVQ==
X-Gm-Message-State: AG10YORBmNrkz6dX7d/zA6L5Rp7RzAXOzBEG2tqGc9atyW0Gn3+hPue97xW0lWtC8j3wSUoZYdB1Xzi3tkHwiQ==
MIME-Version: 1.0
X-Received: by 10.140.249.6 with SMTP id u6mr1456940qhc.83.1455279933967; Fri,
 12 Feb 2016 04:25:33 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Fri, 12 Feb 2016 04:25:33 -0800 (PST)
In-Reply-To: <CAKQ1sVPzOSeWKRSQu2geu14-5Q3ZirNiBV3a_sUK+r+undzWBg@mail.gmail.com>
References: <56BD0386.6070405@reach-u.com>
	<CAKQ1sVPzNoRuf4fTWuYC2SaWwinBGZvcE8HrLPjBjo7H0PkJ7A@mail.gmail.com>
	<CAEeNszbiAxbFZOVXZfZM4=5j_NteuoQESHDkZBRxgaxjEGiF=w@mail.gmail.com>
	<56BD6EBD.9020309@reach-u.com>
	<CAEeNszZcT_05ELRnR=rMRERCk+=GtjWr+btmZEDhVAD9R3F3fg@mail.gmail.com>
	<CAHti5NHvOWDsuMH6VWBJrs5PFbi1ygDxpFxqNxQP_KeFeQs8XA@mail.gmail.com>
	<CAKQ1sVPzOSeWKRSQu2geu14-5Q3ZirNiBV3a_sUK+r+undzWBg@mail.gmail.com>
Date: Fri, 12 Feb 2016 13:25:33 +0100
Message-ID: <CAKQ1sVP7iZKvKETQ-aPruYJT6pa8Gf+6mr32TR-SiH3hFPqE9g@mail.gmail.com>
Subject: Re: [users@httpd] Block access to "OPTIONS *"
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Following up below users@ discussion on dev@...

On Fri, Feb 12, 2016 at 12:47 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Fri, Feb 12, 2016 at 10:47 AM, Daniel <dferradal@gmail.com> wrote:
>> The typical way to block OPTIONS in 2.2 does not need mod_rewrite at all
>> IIRC. You just add this in your location/directory:
>>         <LimitExcept GET POST>
>>                 deny from all
>>         </LimitExcept>
>>
>> and will return 403 if you try OPTIONS method there
>
> That wouldn't work because the replies to OPTIONS requests happen
> before in the map_to_storage hook, that is before the authz hooks
> (Toomas tried that already).

That's what I observed in my testing with the following configuration:
>
>   <LocationMatch ^>       # matches / and *
>     <Limit OPTIONS>
>        Deny from all      # 2.2
>        Require all denied # 2.4
>     </Limit>
>   </LocationMatch>
>
> For now I could only make it work with:
>   RewriteEngine on
>   RewriteOptions AllowAnyURI # for * to be taken into account by mod_rewrite
>   RewriteCond %{REQUEST_METHOD} OPTIONS
>   RewriteRule ^ - [R=405,L]
>   RewriteRule ^[^/] - [R=403,L]
> which should be the first rewrite rules for AllowAnyURI to not be
> "dangerous" for further rules (if any) failing to match the leading
> slash.

That's not an elegant solution...

So I tried this change:

Index: modules/http/http_core.c
===================================================================
--- modules/http/http_core.c    (revision 1729486)
+++ modules/http/http_core.c    (working copy)
@@ -271,7 +271,7 @@ static int http_create_request(request_rec *r)
 static int http_send_options(request_rec *r)
 {
     if ((r->method_number == M_OPTIONS) && r->uri && (r->uri[0] == '*') &&
-         (r->uri[1] == '\0')) {
+         (r->uri[1] == '\0') && !ap_some_auth_required(r)) {
         return DONE;           /* Send HTTP pong, without Allow header */
     }
     return DECLINED;
--

so to bypass http_send_options() if OPTIONS is <Limit>ed (here
ap_some_auth_required() is a misnomer (deprecated btw), what it really
does is returning whether there is a Limit on the requested method,
AIUI though).

But ap_some_auth_required() always return false here, because there is
no mod_authz_core's per_dir_config (at this hook/point only?), so the
function has nothing to check.

Any insight on whether or not this is a reasonable approach and why it
does not work much appreciated :)

Regards,
Yann.

From dev-return-85591-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 12:27:52 2016
Return-Path: <dev-return-85591-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F405B18F90
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 12:27:51 +0000 (UTC)
Received: (qmail 64717 invoked by uid 500); 12 Feb 2016 12:27:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64640 invoked by uid 500); 12 Feb 2016 12:27:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64624 invoked by uid 99); 12 Feb 2016 12:27:51 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 12:27:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0A44118027D
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 12:27:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id n9R54bw6PSem for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 12:27:50 +0000 (UTC)
Received: from resqmta-ch2-03v.sys.comcast.net (resqmta-ch2-03v.sys.comcast.net [69.252.207.35])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 5E1EE31AE2
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 12:27:49 +0000 (UTC)
Received: from resomta-ch2-16v.sys.comcast.net ([69.252.207.112])
	by resqmta-ch2-03v.sys.comcast.net with comcast
	id HQTi1s0022S2Q5R01QTiLg; Fri, 12 Feb 2016 12:27:42 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-16v.sys.comcast.net with comcast
	id HQTh1s0082U0RYt01QThiP; Fri, 12 Feb 2016 12:27:42 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Thoughts on using HW for httpd?
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56BDCDFB.5050901@apache.org>
Date: Fri, 12 Feb 2016 07:27:41 -0500
Cc: docs@httpd.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <4E4E147A-8092-4871-9859-D7F8C770D2B1@jaguNET.com>
References: <56BDCDFB.5050901@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455280062;
	bh=1BJkpbYM7fn6ocXbeeFCsEd81pnEYAQ9XSAKnx1Wau8=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=HECsPOh5FhjNg7EJBhyuLSx5Ll2e1sO/GU0Lj2J83GODmQjXN89N8M7gKw8sUnkFW
	 X02qVsDjIIg9Pblae4JBALbFgUC2x272GdBVoOPsARlKwy3IXgcr1MEMfv4Sb3OaVS
	 MiRCxLkKMtV36GAL/RPOlfXPKtWRSlGsr9woyREet7CovgNZCNaLwkmARxV65EVnNB
	 oB8KD4dgyjz4rQx6mE0wa739EkdK8B1tUCNIjMViYqeraIpaAKccczVYPn6rHrvnyp
	 Q6HC2Be+ZMJQhx29CX4fUgG7QV7YipWGkSUDZaZ5+iDY+CAxpv7TS6jYeykPXoOn6x
	 SVE/dGEO4Bohg==

/me like

> On Feb 12, 2016, at 7:20 AM, Daniel Gruno <humbedooh@apache.org> wrote:
> 
> Hi folks,
> as some may know, ComDev is trialling a new thing called 'Help Wanted!'
> at https://helpwanted.apache.org/
> 
> I've added a few example entries for httpd, and I'm wondering if this is
> something we would want to plug into our web site?
> 
> You can see an example web site widget at
> https://helpwanted.apache.org/wtest.html (top one shows httpd)
> 
> It's an easy way to identify which tasks we'd love to see someone get
> started on (and has the benefit of being able to assign difficulty
> levels, skills needed etc to a task), and judging from the input on the
> existing tasks, it seems to attract people towards projects.
> 
> Thoughts? flames? snark? :)
> 
> With regards,
> Daniel.


From dev-return-85592-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 12:28:55 2016
Return-Path: <dev-return-85592-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0ABD418FAB
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 12:28:55 +0000 (UTC)
Received: (qmail 72638 invoked by uid 500); 12 Feb 2016 12:28:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 72558 invoked by uid 500); 12 Feb 2016 12:28:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72548 invoked by uid 99); 12 Feb 2016 12:28:54 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 12:28:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1D0A618027D
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 12:28:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id BEhFZPjKnMfT for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 12:28:53 +0000 (UTC)
Received: from resqmta-po-09v.sys.comcast.net (resqmta-po-09v.sys.comcast.net [96.114.154.168])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 7082A31ADD
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 12:28:52 +0000 (UTC)
Received: from resomta-po-11v.sys.comcast.net ([96.114.154.235])
	by resqmta-po-09v.sys.comcast.net with comcast
	id HQUj1s00554zqzk01QUrx2; Fri, 12 Feb 2016 12:28:51 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-11v.sys.comcast.net with comcast
	id HQUq1s0012U0RYt01QUqj6; Fri, 12 Feb 2016 12:28:50 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: [users@httpd] Block access to "OPTIONS *"
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVP7iZKvKETQ-aPruYJT6pa8Gf+6mr32TR-SiH3hFPqE9g@mail.gmail.com>
Date: Fri, 12 Feb 2016 07:28:49 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <F197FF86-544C-4153-9BF7-0E7B2BA8BA3B@jaguNET.com>
References: <56BD0386.6070405@reach-u.com> <CAKQ1sVPzNoRuf4fTWuYC2SaWwinBGZvcE8HrLPjBjo7H0PkJ7A@mail.gmail.com> <CAEeNszbiAxbFZOVXZfZM4=5j_NteuoQESHDkZBRxgaxjEGiF=w@mail.gmail.com> <56BD6EBD.9020309@reach-u.com> <CAEeNszZcT_05ELRnR=rMRERCk+=GtjWr+btmZEDhVAD9R3F3fg@mail.gmail.com> <CAHti5NHvOWDsuMH6VWBJrs5PFbi1ygDxpFxqNxQP_KeFeQs8XA@mail.gmail.com> <CAKQ1sVPzOSeWKRSQu2geu14-5Q3ZirNiBV3a_sUK+r+undzWBg@mail.gmail.com> <CAKQ1sVP7iZKvKETQ-aPruYJT6pa8Gf+6mr32TR-SiH3hFPqE9g@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455280131;
	bh=YQTkZvqANw/W47K6vU6A0vewiEE95T12DclFRo4ssaU=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Yshky3lL1thX8tirrs41gVjB+UOI4XnYAv45OdLEIt7P5I4w0kqBqMoNKHLAc3HR1
	 SG7kLLENPTGmogEmaORb8gHxTvZfznvgaWnNDysDCc4hQsKkUqh8Pqp9biAqdRG5JY
	 XNxaGKHC9TyOErhq+2Z1RlQxLEcLNI6aN31cicmT7+kTkHCYVY2/Ogylq5MlOptSbv
	 2gRT9LoA0SwzRb/mYq8lMmIDZ/m4zG6S4Rd2GrkmYqXck9EyOzAENrOLo7AhQuIJuy
	 2IEztRoOTxwYaKCP6xHEQN41Tx9lT54brNnzC3oF383dVVNkNzQaK7qPM+ebXWOk9S
	 Eqcl/nkEwX5ew==

Blocking OPTIONS has a long and illustrious history...
I am -0 on doing anything more related to it ;)

From dev-return-85593-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 12:30:00 2016
Return-Path: <dev-return-85593-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3CDDB18FB5
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 12:30:00 +0000 (UTC)
Received: (qmail 73890 invoked by uid 500); 12 Feb 2016 12:29:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 73820 invoked by uid 500); 12 Feb 2016 12:29:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 73807 invoked by uid 99); 12 Feb 2016 12:29:59 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 12:29:59 +0000
Received: from [192.168.1.36] (2804ds5-soeb.0.fullrate.ninja [90.184.204.23])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id BBB161A0040
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 12:29:58 +0000 (UTC)
Subject: Re: [users@httpd] Block access to "OPTIONS *"
To: dev@httpd.apache.org
References: <56BD0386.6070405@reach-u.com>
 <CAKQ1sVPzNoRuf4fTWuYC2SaWwinBGZvcE8HrLPjBjo7H0PkJ7A@mail.gmail.com>
 <CAEeNszbiAxbFZOVXZfZM4=5j_NteuoQESHDkZBRxgaxjEGiF=w@mail.gmail.com>
 <56BD6EBD.9020309@reach-u.com>
 <CAEeNszZcT_05ELRnR=rMRERCk+=GtjWr+btmZEDhVAD9R3F3fg@mail.gmail.com>
 <CAHti5NHvOWDsuMH6VWBJrs5PFbi1ygDxpFxqNxQP_KeFeQs8XA@mail.gmail.com>
 <CAKQ1sVPzOSeWKRSQu2geu14-5Q3ZirNiBV3a_sUK+r+undzWBg@mail.gmail.com>
 <CAKQ1sVP7iZKvKETQ-aPruYJT6pa8Gf+6mr32TR-SiH3hFPqE9g@mail.gmail.com>
 <F197FF86-544C-4153-9BF7-0E7B2BA8BA3B@jaguNET.com>
From: Daniel Gruno <humbedooh@apache.org>
Message-ID: <56BDD03C.9040209@apache.org>
Date: Fri, 12 Feb 2016 13:29:48 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <F197FF86-544C-4153-9BF7-0E7B2BA8BA3B@jaguNET.com>
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: 7bit

On 02/12/2016 01:28 PM, Jim Jagielski wrote:
> Blocking OPTIONS has a long and illustrious history...
> I am -0 on doing anything more related to it ;)
> 

Isn't that why we have the optional mod_allowmethods these days anyway...

With regards,
Daniel.

From dev-return-85594-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 12:31:22 2016
Return-Path: <dev-return-85594-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 995A218FC1
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 12:31:22 +0000 (UTC)
Received: (qmail 75741 invoked by uid 500); 12 Feb 2016 12:31:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75666 invoked by uid 500); 12 Feb 2016 12:31:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75656 invoked by uid 99); 12 Feb 2016 12:31:21 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 12:31:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id B81D2C0D87
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 12:31:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id RSNJRdTgNzgx for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 12:31:20 +0000 (UTC)
Received: from mail-qg0-f53.google.com (mail-qg0-f53.google.com [209.85.192.53])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id D76F2429C4
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 12:31:19 +0000 (UTC)
Received: by mail-qg0-f53.google.com with SMTP id y9so61193343qgd.3
        for <dev@httpd.apache.org>; Fri, 12 Feb 2016 04:31:19 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=X6YblS27tqL0QCdGcpVDGd3iyy7jrzUa3OyKGv1GRM8=;
        b=op7ws9sgt24YoHTosSLTIOgMNy5zhwLGB1/WBnGaweBICELRViIEluNqI6HrNUB2F/
         mpiY7NHl9Kko+Chjk9Tdxrd65RspQfuk3gXTxK6fxqILX57DBLU9yyEZto5y+ZVMoI6l
         jUxj0vABdl7n/TIO/Q+JqsuuTRVqhA4XTtdOE0TNpLYWO+nZqF0T3yyw8FNlu0g/A7gl
         //YUTW47HvDCulVq0LEUNZcvIdQH3dr6KatRYFeHy8Glax35b2FW3SLVcazNZihuCP44
         lTE3c4Ty6bbw5oRzXp3yBhHyTsh4IuOq7dgnrD44uRSpFOgzPkhEl0QAtV3yvIWp//FM
         id8A==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=X6YblS27tqL0QCdGcpVDGd3iyy7jrzUa3OyKGv1GRM8=;
        b=H7eBxxPOQW3YUXskEMZ9V+6FoqNAMbQww8Keeb5gzbZVYrBHpcvPEK+oH3uPihG30X
         e6IRaBSQmCl4+nQ0ZyP0HATTM6wQx2Y3pIFpXoF/VEKCfmb/VPQOOrqNIKOOMo54VYvH
         5HDZc3zNlBJFMAB5vjChh2QC/9/HKByaI5AOj5x4cX0FQGx6uWwyV7Ttk6uPrhSF2yzO
         59DI4rMjaxxfCP7V1Eq6wh9eQWeItUqc7wozk+AztHC2biqMhyLXLGrVcuRQbLIG4FGz
         67CT5P/cliqh276SR1NtxkZ0Kr6/EaqkTAGuARqxySHH4EIAUH6SvYzFEKbg2s/XGeys
         TvnQ==
X-Gm-Message-State: AG10YORIoSt84v2ZghlrqXm93qyHs/23DTk2CUqadvDwKI1Yh6UrogZLXl1GNX45sgqvFrPetlsB+kemQKM7UA==
MIME-Version: 1.0
X-Received: by 10.140.179.216 with SMTP id z207mr1551621qhz.70.1455280279720;
 Fri, 12 Feb 2016 04:31:19 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Fri, 12 Feb 2016 04:31:19 -0800 (PST)
In-Reply-To: <F197FF86-544C-4153-9BF7-0E7B2BA8BA3B@jaguNET.com>
References: <56BD0386.6070405@reach-u.com>
	<CAKQ1sVPzNoRuf4fTWuYC2SaWwinBGZvcE8HrLPjBjo7H0PkJ7A@mail.gmail.com>
	<CAEeNszbiAxbFZOVXZfZM4=5j_NteuoQESHDkZBRxgaxjEGiF=w@mail.gmail.com>
	<56BD6EBD.9020309@reach-u.com>
	<CAEeNszZcT_05ELRnR=rMRERCk+=GtjWr+btmZEDhVAD9R3F3fg@mail.gmail.com>
	<CAHti5NHvOWDsuMH6VWBJrs5PFbi1ygDxpFxqNxQP_KeFeQs8XA@mail.gmail.com>
	<CAKQ1sVPzOSeWKRSQu2geu14-5Q3ZirNiBV3a_sUK+r+undzWBg@mail.gmail.com>
	<CAKQ1sVP7iZKvKETQ-aPruYJT6pa8Gf+6mr32TR-SiH3hFPqE9g@mail.gmail.com>
	<F197FF86-544C-4153-9BF7-0E7B2BA8BA3B@jaguNET.com>
Date: Fri, 12 Feb 2016 13:31:19 +0100
Message-ID: <CAKQ1sVMHU=ys6uvsKnFv5NkKKjEkqC6AYjtRfv-8cKENB8qVnw@mail.gmail.com>
Subject: Re: [users@httpd] Block access to "OPTIONS *"
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Feb 12, 2016 at 1:28 PM, Jim Jagielski <jim@jagunet.com> wrote:
> Blocking OPTIONS has a long and illustrious history...
> I am -0 on doing anything more related to it ;)

OK, I see, let's users@ play with the workaround then :)

From dev-return-85595-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 12:35:04 2016
Return-Path: <dev-return-85595-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 913E118FE0
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 12:35:04 +0000 (UTC)
Received: (qmail 81437 invoked by uid 500); 12 Feb 2016 12:35:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 81362 invoked by uid 500); 12 Feb 2016 12:35:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 81351 invoked by uid 99); 12 Feb 2016 12:35:04 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 12:35:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 8C76BC0D87
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 12:35:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id A4_fSzRqzcIc for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 12:35:02 +0000 (UTC)
Received: from mail-qg0-f49.google.com (mail-qg0-f49.google.com [209.85.192.49])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2933543F58
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 12:35:02 +0000 (UTC)
Received: by mail-qg0-f49.google.com with SMTP id y9so61259823qgd.3
        for <dev@httpd.apache.org>; Fri, 12 Feb 2016 04:35:02 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=G7NUVg7EuFywZse4vq+JPk7AdFJK75TvHGUs234z04Q=;
        b=Q5zh0LHWIJBjVfHxcXPTQbo0/7od77PL8IDugbP0Exy5jA4RkU+lH03SnFmuXwSrNU
         3DRbqSaHnH+9crEz5n5LJywQtzETdowG+uBbQ1uw1Mhy2Bn9WTdn1nKVooj9GYmHZVgu
         AawrZTfHeFDYPDlP90inim9gRAxlAkTpU3DzZ9JqnIfcH+vfTkQhXEvIEYg+mfFFvsFw
         8RSFa8DraaAO3sRDXNtgnG/7e6xehiwAmot/IfwhAiQNwcIML+5SfANkjYwfiRsZuPEJ
         HSSkHuWkxK6iQrwXGbEGG2JmJsZ/VJ+83ScLFGyAfjrC198PAHAbWg7BR7ox4g9p4745
         Omjg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=G7NUVg7EuFywZse4vq+JPk7AdFJK75TvHGUs234z04Q=;
        b=Gvb9lYqzCczWY88vUjW+3aimzfG7WL0k9nDk79EGe41yeY6PQmZDBFEGGTYcbK+BXs
         Sw70alPB4NW5CyeP2suafhj73dh05QD99eGzV2BydE48IeYQC0T7A+m/DU9WDvCg7uSz
         zL5Thy5cvyBQxT0RE6XE5Mj+sAnc+Fazx6qQZ5cdLmSjdBPIBm5umspX5HSBhT6FrfYn
         8gz4E1bqg2Zw9N/ay/2CtE3QEVhwjB7XziX2vuqrVGuv8C8b7xM5suOVq0MQQTkbU7bV
         FcxVTArZMd3+lEqRANdzLbSStWe+9k2e7bEo6Y3kKfqFBBf8opFxt+OrTc3lNh7GUKug
         e/5w==
X-Gm-Message-State: AG10YOTY+8NDFN3r8az7FMAkeH/e2K9ZamJqBv12Gt70FN6ZpTZqjDX8Ful28glN1Xu6qkNEjFnsN7ePKQtwhA==
MIME-Version: 1.0
X-Received: by 10.140.222.146 with SMTP id s140mr1560648qhb.24.1455280496075;
 Fri, 12 Feb 2016 04:34:56 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Fri, 12 Feb 2016 04:34:56 -0800 (PST)
In-Reply-To: <56BDD03C.9040209@apache.org>
References: <56BD0386.6070405@reach-u.com>
	<CAKQ1sVPzNoRuf4fTWuYC2SaWwinBGZvcE8HrLPjBjo7H0PkJ7A@mail.gmail.com>
	<CAEeNszbiAxbFZOVXZfZM4=5j_NteuoQESHDkZBRxgaxjEGiF=w@mail.gmail.com>
	<56BD6EBD.9020309@reach-u.com>
	<CAEeNszZcT_05ELRnR=rMRERCk+=GtjWr+btmZEDhVAD9R3F3fg@mail.gmail.com>
	<CAHti5NHvOWDsuMH6VWBJrs5PFbi1ygDxpFxqNxQP_KeFeQs8XA@mail.gmail.com>
	<CAKQ1sVPzOSeWKRSQu2geu14-5Q3ZirNiBV3a_sUK+r+undzWBg@mail.gmail.com>
	<CAKQ1sVP7iZKvKETQ-aPruYJT6pa8Gf+6mr32TR-SiH3hFPqE9g@mail.gmail.com>
	<F197FF86-544C-4153-9BF7-0E7B2BA8BA3B@jaguNET.com>
	<56BDD03C.9040209@apache.org>
Date: Fri, 12 Feb 2016 13:34:56 +0100
Message-ID: <CAKQ1sVMOT08aUxEsUoGBUtxuUADDJ+uSUXVxq3=MRwB=KFBNJw@mail.gmail.com>
Subject: Re: [users@httpd] Block access to "OPTIONS *"
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Feb 12, 2016 at 1:29 PM, Daniel Gruno <humbedooh@apache.org> wrote:
> On 02/12/2016 01:28 PM, Jim Jagielski wrote:
>> Blocking OPTIONS has a long and illustrious history...
>> I am -0 on doing anything more related to it ;)
>>
>
> Isn't that why we have the optional mod_allowmethods these days anyway...

That looks nicer indeed, but the user is running 2.2...
Anyway, he should upgrade to benefit latest improvements :p

Regards,
Yann.

From dev-return-85596-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 12:35:54 2016
Return-Path: <dev-return-85596-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C96D218FEA
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 12:35:54 +0000 (UTC)
Received: (qmail 82904 invoked by uid 500); 12 Feb 2016 12:35:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 82840 invoked by uid 500); 12 Feb 2016 12:35:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82830 invoked by uid 99); 12 Feb 2016 12:35:54 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 12:35:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C2F1918027D
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 12:35:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 1yVXWvKjrpOh for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 12:35:53 +0000 (UTC)
Received: from mail-qk0-f181.google.com (mail-qk0-f181.google.com [209.85.220.181])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id B2737201F7
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 12:35:52 +0000 (UTC)
Received: by mail-qk0-f181.google.com with SMTP id s68so30462054qkh.3
        for <dev@httpd.apache.org>; Fri, 12 Feb 2016 04:35:52 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=zUH2+cnMapPn0r18ZmIM7IxXrfrHHQoLeqQpWNzG6Bs=;
        b=q+rE6X2EZN0mULUuPd38bkmjTBFrfmYRpAeHSfYRAt8mPq5pxW6oltWMgp52wCrNVG
         JGk72o/aNrZU724jrSq4IhhhzVn14XCTfqRzTntw6nkEWi1laEFqB+2KMtOLU44oY4kl
         xKgWM3xpGFbp6ncR/TqTvDYfvgkvg1Lr6BhWsfBknMln0smzeYHRySImFSJxIcKsJYSI
         ROiCBzoLL2P3C6FmvFALEy6r7P0gujNl5v4T8AQTEBWeoJo6jzUI7GbW6d5e4t+iEwTZ
         00cJRqonafUCCXbmLzjFVXKkwIYIgwmOJAC7awkqrCnCw8CjzJK5EUBOfOD2j756nXpk
         NrfA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=zUH2+cnMapPn0r18ZmIM7IxXrfrHHQoLeqQpWNzG6Bs=;
        b=PYy0vao1uH7CTJCIo7C9ZJC90a1mJCSVZgrDSeA8Judg3432NxPLIPsS5w80GsHlU7
         F7gwb4y+FbozwjBqURvtppT1tVgfw5S6cfv9F6LsJVq2ZNF3+XTISk/NAwbLRw8Dctxw
         zTsUPQX6LuiKAxgTrwNKuVjYHR9hh4YDnuYvuTqj1MTD3X+weLxT/Zt8rnESma5CiHzC
         3yRBH28EBNB8yB9nEn7oy11T/P3rZeXGhKsQULHy3uaA4QoSS0qZKvtfg8ghJbzSnZHx
         AKCignrPSCUxS1JMtSyE242gh9N15XEHDzJcVmqHaOT6PGAwsMZUHp7A45OG4Lg5Y0bB
         fcQQ==
X-Gm-Message-State: AG10YOS+0ZZsy7pzUQvRTEn88wmf2vVmy+6fR18QrbiuJUTezuC/dp+0gx0sMqWoGYkITan+i+KVQNu/5YPEWw==
MIME-Version: 1.0
X-Received: by 10.55.212.156 with SMTP id s28mr1450734qks.55.1455280546088;
 Fri, 12 Feb 2016 04:35:46 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Fri, 12 Feb 2016 04:35:46 -0800 (PST)
In-Reply-To: <4E4E147A-8092-4871-9859-D7F8C770D2B1@jaguNET.com>
References: <56BDCDFB.5050901@apache.org>
	<4E4E147A-8092-4871-9859-D7F8C770D2B1@jaguNET.com>
Date: Fri, 12 Feb 2016 13:35:46 +0100
Message-ID: <CAKQ1sVPAE5XDM-7k8mMtSKSf08FfK4N2FB=KryXNMnzzkZ_54A@mail.gmail.com>
Subject: Re: Thoughts on using HW for httpd?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

+1!

On Fri, Feb 12, 2016 at 1:27 PM, Jim Jagielski <jim@jagunet.com> wrote:
> /me like
>
>> On Feb 12, 2016, at 7:20 AM, Daniel Gruno <humbedooh@apache.org> wrote:
>>
>> Hi folks,
>> as some may know, ComDev is trialling a new thing called 'Help Wanted!'
>> at https://helpwanted.apache.org/
>>
>> I've added a few example entries for httpd, and I'm wondering if this is
>> something we would want to plug into our web site?
>>
>> You can see an example web site widget at
>> https://helpwanted.apache.org/wtest.html (top one shows httpd)
>>
>> It's an easy way to identify which tasks we'd love to see someone get
>> started on (and has the benefit of being able to assign difficulty
>> levels, skills needed etc to a task), and judging from the input on the
>> existing tasks, it seems to attract people towards projects.
>>
>> Thoughts? flames? snark? :)
>>
>> With regards,
>> Daniel.
>

From dev-return-85597-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 13:06:53 2016
Return-Path: <dev-return-85597-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6C1C21811E
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 13:06:53 +0000 (UTC)
Received: (qmail 31118 invoked by uid 500); 12 Feb 2016 13:06:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 31042 invoked by uid 500); 12 Feb 2016 13:06:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 31032 invoked by uid 99); 12 Feb 2016 13:06:52 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 13:06:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 8366FC1D2B
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 13:06:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id hlQvfp68-9yX for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 13:06:51 +0000 (UTC)
Received: from mail-lf0-f50.google.com (mail-lf0-f50.google.com [209.85.215.50])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 27317201F7
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 13:06:51 +0000 (UTC)
Received: by mail-lf0-f50.google.com with SMTP id l143so51313135lfe.2
        for <dev@httpd.apache.org>; Fri, 12 Feb 2016 05:06:51 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=eGUEHIhrnrTNDIDS7cHVKQuR0I449q0/KVwawAUs6mo=;
        b=dp09tCuFJ3cLdq3N+oTHHWwFAAGKnqO2GJe3gKjZlTRKl9x39cT+daDI6h3FvdnfKa
         ywX3SGuySnTE7tCw2u9SznEnNEqW6a/gm9hu6PQ8i2AwJ+kgQ75X5PYi/MTc0gBFow1c
         GUV7+s/n5Cz2zZ6zo0pAMgLRbtONNM6Va/4tfLHIu1GdOBLZmzh45MLbhZmKfCZcTHJC
         9rDP2To1WB0gfNvRSof6fzg5nq3hCziLtDV7TspwE1WqZ57xvPCOx4Bf9l98DSYKVDFF
         XdnlJ/FvNFkZAzZC6kwqNIlAsFeryuodXIznnAbeHG97lV66DT6THuTjVZl8wldvKdpx
         bzoA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=eGUEHIhrnrTNDIDS7cHVKQuR0I449q0/KVwawAUs6mo=;
        b=VBfZturQjSohSvl6TKT4sRCEhsOTg+rPyb8jJilWNc8eWWABNGt+JcEGob+nTmdlWv
         WO5dU5GXxJrT7n3OP80Jd/hIzfLQBFwZ3IFlETYkYMq/TLHz7/YXnBC74w86ncgwN+G3
         74vAi5lxGC+Ba/C3PX2TrB6+RiclL9lGJdwrl0ne6ciOSk6RLYFzAGx7Qvvn6FzUDb/I
         ksdidfxVfiioczx7b0Kv3rkaAI6dXa/wND6bcGZituwEIe2NxN1XhkFTE50ugvgOr92h
         iw61d7284v5WN5gRgZGLOHQwEbYNBwLSAbkPGuHCZW1T/jnC8Zw6QmXz/V9fv06NcVh6
         EqyA==
X-Gm-Message-State: AG10YOQVzInFnbF6W4DDrj6Fvqj3uqvUYh2c+FKRysYsH4wnrkSCxbeFyfkYS/HYbL8+PpgPi/xq9mLhz/yfqw==
MIME-Version: 1.0
X-Received: by 10.25.28.195 with SMTP id c186mr532391lfc.22.1455282404151;
 Fri, 12 Feb 2016 05:06:44 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Fri, 12 Feb 2016 05:06:44 -0800 (PST)
In-Reply-To: <CAKQ1sVPAE5XDM-7k8mMtSKSf08FfK4N2FB=KryXNMnzzkZ_54A@mail.gmail.com>
References: <56BDCDFB.5050901@apache.org>
	<4E4E147A-8092-4871-9859-D7F8C770D2B1@jaguNET.com>
	<CAKQ1sVPAE5XDM-7k8mMtSKSf08FfK4N2FB=KryXNMnzzkZ_54A@mail.gmail.com>
Date: Fri, 12 Feb 2016 14:06:44 +0100
Message-ID: <CAFedD43wuJaeOORpK+OAk5yFPT6Kvm=1JTtKe_hSRfHum_XKag@mail.gmail.com>
Subject: Re: Thoughts on using HW for httpd?
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a114023c0bf5bdb052b925608

--001a114023c0bf5bdb052b925608
Content-Type: text/plain; charset=UTF-8

+1!

I really like this idea, especially for new committers/volunteers like me
looking for things to work on. I would also add a section related to "how
to find help if you get stuck" or "How to send your code/work for review".

Really interested, if you need any help I'll be available :)

Luca



2016-02-12 13:35 GMT+01:00 Yann Ylavic <ylavic.dev@gmail.com>:

> +1!
>
> On Fri, Feb 12, 2016 at 1:27 PM, Jim Jagielski <jim@jagunet.com> wrote:
> > /me like
> >
> >> On Feb 12, 2016, at 7:20 AM, Daniel Gruno <humbedooh@apache.org> wrote:
> >>
> >> Hi folks,
> >> as some may know, ComDev is trialling a new thing called 'Help Wanted!'
> >> at https://helpwanted.apache.org/
> >>
> >> I've added a few example entries for httpd, and I'm wondering if this is
> >> something we would want to plug into our web site?
> >>
> >> You can see an example web site widget at
> >> https://helpwanted.apache.org/wtest.html (top one shows httpd)
> >>
> >> It's an easy way to identify which tasks we'd love to see someone get
> >> started on (and has the benefit of being able to assign difficulty
> >> levels, skills needed etc to a task), and judging from the input on the
> >> existing tasks, it seems to attract people towards projects.
> >>
> >> Thoughts? flames? snark? :)
> >>
> >> With regards,
> >> Daniel.
> >
>

--001a114023c0bf5bdb052b925608
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">+1!<div><br></div><div>I really like this idea, especially=
 for new committers/volunteers like me looking for things to work on. I wou=
ld also add a section related to &quot;how to find help if you get stuck&qu=
ot; or &quot;How to send your code/work for review&quot;.</div><div><br></d=
iv><div>Really interested, if you need any help I&#39;ll be available :)=C2=
=A0</div><div><br></div><div>Luca</div><div><br></div><div><br></div><div c=
lass=3D"gmail_extra"><br><div class=3D"gmail_quote">2016-02-12 13:35 GMT+01=
:00 Yann Ylavic <span dir=3D"ltr">&lt;<a href=3D"mailto:ylavic.dev@gmail.co=
m" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;</span>:<br><blockquote cl=
ass=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;p=
adding-left:1ex">+1!<br>
<div class=3D"HOEnZb"><div class=3D"h5"><br>
On Fri, Feb 12, 2016 at 1:27 PM, Jim Jagielski &lt;<a href=3D"mailto:jim@ja=
gunet.com">jim@jagunet.com</a>&gt; wrote:<br>
&gt; /me like<br>
&gt;<br>
&gt;&gt; On Feb 12, 2016, at 7:20 AM, Daniel Gruno &lt;<a href=3D"mailto:hu=
mbedooh@apache.org">humbedooh@apache.org</a>&gt; wrote:<br>
&gt;&gt;<br>
&gt;&gt; Hi folks,<br>
&gt;&gt; as some may know, ComDev is trialling a new thing called &#39;Help=
 Wanted!&#39;<br>
&gt;&gt; at <a href=3D"https://helpwanted.apache.org/" rel=3D"noreferrer" t=
arget=3D"_blank">https://helpwanted.apache.org/</a><br>
&gt;&gt;<br>
&gt;&gt; I&#39;ve added a few example entries for httpd, and I&#39;m wonder=
ing if this is<br>
&gt;&gt; something we would want to plug into our web site?<br>
&gt;&gt;<br>
&gt;&gt; You can see an example web site widget at<br>
&gt;&gt; <a href=3D"https://helpwanted.apache.org/wtest.html" rel=3D"norefe=
rrer" target=3D"_blank">https://helpwanted.apache.org/wtest.html</a> (top o=
ne shows httpd)<br>
&gt;&gt;<br>
&gt;&gt; It&#39;s an easy way to identify which tasks we&#39;d love to see =
someone get<br>
&gt;&gt; started on (and has the benefit of being able to assign difficulty=
<br>
&gt;&gt; levels, skills needed etc to a task), and judging from the input o=
n the<br>
&gt;&gt; existing tasks, it seems to attract people towards projects.<br>
&gt;&gt;<br>
&gt;&gt; Thoughts? flames? snark? :)<br>
&gt;&gt;<br>
&gt;&gt; With regards,<br>
&gt;&gt; Daniel.<br>
&gt;<br>
</div></div></blockquote></div><br></div></div>

--001a114023c0bf5bdb052b925608--

From dev-return-85598-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 13:27:19 2016
Return-Path: <dev-return-85598-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 355981821A
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 13:27:19 +0000 (UTC)
Received: (qmail 61977 invoked by uid 500); 12 Feb 2016 13:27:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 61901 invoked by uid 500); 12 Feb 2016 13:27:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 61883 invoked by uid 99); 12 Feb 2016 13:27:17 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 13:27:17 +0000
Received: from [192.168.1.36] (2804ds5-soeb.0.fullrate.ninja [90.184.204.23])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id DF7DB1A0046;
	Fri, 12 Feb 2016 13:27:16 +0000 (UTC)
Subject: Re: Thoughts on using HW for httpd?
To: dev@httpd.apache.org
References: <56BDCDFB.5050901@apache.org>
 <4E4E147A-8092-4871-9859-D7F8C770D2B1@jaguNET.com>
 <CAKQ1sVPAE5XDM-7k8mMtSKSf08FfK4N2FB=KryXNMnzzkZ_54A@mail.gmail.com>
 <CAFedD43wuJaeOORpK+OAk5yFPT6Kvm=1JTtKe_hSRfHum_XKag@mail.gmail.com>
Cc: docs@httpd.apache.org
From: Daniel Gruno <humbedooh@apache.org>
Message-ID: <56BDDDAA.9010401@apache.org>
Date: Fri, 12 Feb 2016 14:27:06 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <CAFedD43wuJaeOORpK+OAk5yFPT6Kvm=1JTtKe_hSRfHum_XKag@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

On 02/12/2016 02:06 PM, Luca Toscano wrote:
> +1!
> 
> I really like this idea, especially for new committers/volunteers like
> me looking for things to work on. I would also add a section related to
> "how to find help if you get stuck" or "How to send your code/work for
> review".

I think the 'how to' stuff would be unique to httpd and thus belong in
our docs area. HW has a 'contribution help URL' parameter you can set,
so we could just point that to whatever contributor docs we have/want.

> 
> Really interested, if you need any help I'll be available :) 

Glad to hear that :) As you are a committer, you already have access to
add tasks on HW (click the 'add/edit tasks' link) if you can think of
anything we might want people to look into :)

With regards,
Daniel.
> 
> Luca
> 
> 
> 
> 2016-02-12 13:35 GMT+01:00 Yann Ylavic <ylavic.dev@gmail.com
> <mailto:ylavic.dev@gmail.com>>:
> 
>     +1!
> 
>     On Fri, Feb 12, 2016 at 1:27 PM, Jim Jagielski <jim@jagunet.com
>     <mailto:jim@jagunet.com>> wrote:
>     > /me like
>     >
>     >> On Feb 12, 2016, at 7:20 AM, Daniel Gruno <humbedooh@apache.org
>     <mailto:humbedooh@apache.org>> wrote:
>     >>
>     >> Hi folks,
>     >> as some may know, ComDev is trialling a new thing called 'Help
>     Wanted!'
>     >> at https://helpwanted.apache.org/
>     >>
>     >> I've added a few example entries for httpd, and I'm wondering if
>     this is
>     >> something we would want to plug into our web site?
>     >>
>     >> You can see an example web site widget at
>     >> https://helpwanted.apache.org/wtest.html (top one shows httpd)
>     >>
>     >> It's an easy way to identify which tasks we'd love to see someone get
>     >> started on (and has the benefit of being able to assign difficulty
>     >> levels, skills needed etc to a task), and judging from the input
>     on the
>     >> existing tasks, it seems to attract people towards projects.
>     >>
>     >> Thoughts? flames? snark? :)
>     >>
>     >> With regards,
>     >> Daniel.
>     >
> 
> 


From dev-return-85599-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 13:50:13 2016
Return-Path: <dev-return-85599-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DBDA6182F7
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 13:50:12 +0000 (UTC)
Received: (qmail 1972 invoked by uid 500); 12 Feb 2016 13:50:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1901 invoked by uid 500); 12 Feb 2016 13:50:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1891 invoked by uid 99); 12 Feb 2016 13:50:12 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 13:50:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B7881C1D4A
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 13:50:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id iiXmaF0E5VY4 for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 13:50:11 +0000 (UTC)
Received: from resqmta-po-06v.sys.comcast.net (resqmta-po-06v.sys.comcast.net [96.114.154.165])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 0B87643B2E
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 13:50:10 +0000 (UTC)
Received: from resomta-po-20v.sys.comcast.net ([96.114.154.244])
	by resqmta-po-06v.sys.comcast.net with comcast
	id HRpq1s0035Geu2801Rq41z; Fri, 12 Feb 2016 13:50:04 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-20v.sys.comcast.net with comcast
	id HRq31s0062U0RYt01Rq3oE; Fri, 12 Feb 2016 13:50:04 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: FYI: Backport of mod_proxy_hcheck
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <D0C549A7-B051-4C95-B366-419EF9923FFA@jaguNET.com>
Date: Fri, 12 Feb 2016 08:50:03 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <69BB1147-7FD2-4D2E-A6D0-6E11E099FC30@jaguNET.com>
References: <FF3BBBD3-3736-4EA7-BBC5-57DBE38AC77C@jaguNET.com> <CALK=YjM5-NpzTMOt0Kf9bwWNsRggNbcsju8ymWoixF+w3VrOQw@mail.gmail.com> <D0C549A7-B051-4C95-B366-419EF9923FFA@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455285004;
	bh=zgbedd82sM0F6UkVSNALKxKOa0X7DqOXNirEa+hMe34=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=IIyXNr2aFpj0zx0tEvCmawNT5pOChSSV8YV7vGMqMHCYeq2r8CbvCm8TnoQxDD9Y8
	 OZhYENrRzSYC/erNrGL4HLpjs4/iwNBPiMrI7mHLzVpUhkM9eEb5xVs3rFDcL+uwwD
	 xEamvaQsB5YMcRh1qXXgxyQbIRyva9xjIQ9i+qMQPEZ+0zPje+4IgnF/py1/MJ7l14
	 zv/XL+eZQE64h9pOysQrJoZXu93hq2Frmhg26KH+Pn1TsNaGTHXKV+ck6bC+hRfUGo
	 ABMgReigdmNJekvvJU/Z7dS9XCRbdcGYgog2HlwMu+YrmIHXHumgjuq5tk9gmI52YY
	 YdvzimOnAcfow==

The patchfile, minus docs, can be found at:

    http://home.apache.org/~jim/patches/hcheck-2.4.patch

Thx!

From dev-return-85600-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 14:14:33 2016
Return-Path: <dev-return-85600-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6F10318399
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 14:14:33 +0000 (UTC)
Received: (qmail 46997 invoked by uid 500); 12 Feb 2016 14:14:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46928 invoked by uid 500); 12 Feb 2016 14:14:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46918 invoked by uid 99); 12 Feb 2016 14:14:32 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 14:14:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6145AC160C
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 14:14:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id evif3aU21pgM for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 14:14:30 +0000 (UTC)
Received: from mail-qg0-f42.google.com (mail-qg0-f42.google.com [209.85.192.42])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id D92E4201F7
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 14:14:29 +0000 (UTC)
Received: by mail-qg0-f42.google.com with SMTP id y9so63283779qgd.3
        for <dev@httpd.apache.org>; Fri, 12 Feb 2016 06:14:29 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=XMCeVmV/qoh9rFp6dy9/uIeUDZKxO4deY+ZZxIMpBnM=;
        b=TSpmysFOST5h0tqewUoszluMg1sXmr7BkRlEsXrFbS1fftM5VyPT5VciPlevn5gNU9
         feFeQwT4JYvOdOSUSw8iyzYWLS9lkD2PJOtxg8sb87L0XXdwOCNXz7Snd+Dq+VLmsz/i
         C7S/iIeQ2RtTA3eprpZshrB/YJUdDtx+VKZPOB53PCl69Oh5x53Gy1QCKN3rMNl7/+g7
         T1Vx44/qxONvF06Z+qQLnpnaaABXNPr5C8XA2pl+w/bJ0Lj4MEza2vrQQHVpVBIt/n86
         zLEZQnI5sEIzU28sm24BHv+tQfNGa0xPUYLjyq1VRk+y4fUHFJbiaQJqtigZ/OsijTsU
         MzcQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=XMCeVmV/qoh9rFp6dy9/uIeUDZKxO4deY+ZZxIMpBnM=;
        b=YcjE0cDtjltHXNq5Qv/iorcaHaKAOdza3QllAWF+PhxlTv3p3TQrBtHFAIFFLbyyww
         Dn8NufviO+cCaeptNpmxhb5WT/wankijx8B5iZU4UlFlgwricXNvgmlSCufMnIDUNMX9
         mA7m/V1dK7GQguULJlUHF5oWjLdHvl4kqKs0qgk3zVvphA8M80xBYUIsJeuLMYIlxllZ
         FaghgDgpLTOk8XAGHwZmA6NwLcj4bF0M/XnzKS9kR1pf7X89gunhqjRzmPJhl41k6nNZ
         koufoKtUMOBkS7c8ujVIGG6Dkeg3c3TRa/Owj9dlHUxZvOykcweuIvtUgWwuZ5KCwzgC
         fVFA==
X-Gm-Message-State: AG10YOS+ks4DaKDtqD/qEsjdJ/Ov/2GW/59Yxgr8MQdCcLXYCnuEZyRs7bTJDJaUB4YnAF47SdaBYCjeFoAmVw==
MIME-Version: 1.0
X-Received: by 10.140.20.183 with SMTP id 52mr2127336qgj.38.1455286463077;
 Fri, 12 Feb 2016 06:14:23 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Fri, 12 Feb 2016 06:14:23 -0800 (PST)
In-Reply-To: <69BB1147-7FD2-4D2E-A6D0-6E11E099FC30@jaguNET.com>
References: <FF3BBBD3-3736-4EA7-BBC5-57DBE38AC77C@jaguNET.com>
	<CALK=YjM5-NpzTMOt0Kf9bwWNsRggNbcsju8ymWoixF+w3VrOQw@mail.gmail.com>
	<D0C549A7-B051-4C95-B366-419EF9923FFA@jaguNET.com>
	<69BB1147-7FD2-4D2E-A6D0-6E11E099FC30@jaguNET.com>
Date: Fri, 12 Feb 2016 15:14:23 +0100
Message-ID: <CAKQ1sVObgTZVCrg5B5ZsjTamJDLQCsPVZe8P6+w1_PZdoq14-g@mail.gmail.com>
Subject: Re: FYI: Backport of mod_proxy_hcheck
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Feb 12, 2016 at 2:50 PM, Jim Jagielski <jim@jagunet.com> wrote:
> The patchfile, minus docs, can be found at:
>
>     http://home.apache.org/~jim/patches/hcheck-2.4.patch

How about the changes to struct proxy_worker_shared w.r.t. backportability?

From dev-return-85601-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 14:17:58 2016
Return-Path: <dev-return-85601-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0E027183B4
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 14:17:58 +0000 (UTC)
Received: (qmail 52138 invoked by uid 500); 12 Feb 2016 14:17:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51953 invoked by uid 500); 12 Feb 2016 14:17:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51943 invoked by uid 99); 12 Feb 2016 14:17:57 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 14:17:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 111C518027D
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 14:17:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id fDhKeZH8_8wz for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 14:17:56 +0000 (UTC)
Received: from resqmta-po-09v.sys.comcast.net (resqmta-po-09v.sys.comcast.net [96.114.154.168])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 48D6E20526
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 14:17:56 +0000 (UTC)
Received: from resomta-po-03v.sys.comcast.net ([96.114.154.227])
	by resqmta-po-09v.sys.comcast.net with comcast
	id HSGz1s0064ueUHc01SHvwi; Fri, 12 Feb 2016 14:17:55 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-03v.sys.comcast.net with comcast
	id HSHu1s00E2U0RYt01SHuEE; Fri, 12 Feb 2016 14:17:55 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: FYI: Backport of mod_proxy_hcheck
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVObgTZVCrg5B5ZsjTamJDLQCsPVZe8P6+w1_PZdoq14-g@mail.gmail.com>
Date: Fri, 12 Feb 2016 09:17:54 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <B8282B64-1FD8-4B5B-BAB8-6A77FDE5E5A0@jaguNET.com>
References: <FF3BBBD3-3736-4EA7-BBC5-57DBE38AC77C@jaguNET.com> <CALK=YjM5-NpzTMOt0Kf9bwWNsRggNbcsju8ymWoixF+w3VrOQw@mail.gmail.com> <D0C549A7-B051-4C95-B366-419EF9923FFA@jaguNET.com> <69BB1147-7FD2-4D2E-A6D0-6E11E099FC30@jaguNET.com> <CAKQ1sVObgTZVCrg5B5ZsjTamJDLQCsPVZe8P6+w1_PZdoq14-g@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455286675;
	bh=+YraF638QdZe+9uVlRnjc483ZrBKP+hwPR9SOwTZvPM=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=XX9ZMw6+UZCh4VS8v/OWORoaDpfLEe8e2PrP0G8MJfTg0DHN+fO9JBQI5egxIAM+K
	 0dfiMlE6rD3SQma7XEY4kJwXD2wV3OHsdgEt1Gt1p/ejUFhZ9fCqAZMeEu+wokbLKP
	 SMzbWiZQcqM0Jt/bucLutLe+UwrEhGOhiBXVOHqermw/njkJ/fVwITx9Irzg4wwDuw
	 FFzDUwlvppkAigm4fXr9YuZG0/Mm3cQDjyHoSwbMnC16XIsF6nq8rb+FFBUUma1bGz
	 mUkNzseebUkE2R3UXDhkEcNhoAQXegeV4zS/uafyHgeSWBIy5w66KSkUcJhVEY0Pd4
	 ZLhWMntFRBQ5w==

I am following the way we've handled that struct before when
we've needed to adjust (eg: uds_path)...

> On Feb 12, 2016, at 9:14 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> 
> On Fri, Feb 12, 2016 at 2:50 PM, Jim Jagielski <jim@jagunet.com> wrote:
>> The patchfile, minus docs, can be found at:
>> 
>>    http://home.apache.org/~jim/patches/hcheck-2.4.patch
> 
> How about the changes to struct proxy_worker_shared w.r.t. backportability?


From dev-return-85602-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 17:06:16 2016
Return-Path: <dev-return-85602-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6ADFE18BBB
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 17:06:16 +0000 (UTC)
Received: (qmail 33230 invoked by uid 500); 12 Feb 2016 17:06:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33166 invoked by uid 500); 12 Feb 2016 17:06:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33156 invoked by uid 99); 12 Feb 2016 17:06:15 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 17:06:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6B42EC1E15
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 17:06:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.396
X-Spam-Level:
X-Spam-Status: No, score=-2.396 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.095,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id o01J7TaZPtzM for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 17:06:11 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 5445E4380B
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 17:06:11 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u1CH69be025275
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 18:06:10 +0100 (CET)
Subject: Re: httpd-trunk/modules/http2 gets a proxy
To: dev@httpd.apache.org
References: <56B911B2.3080400@gknw.net>
 <33BC9153-7AE2-44C2-97B7-94EEC8382711@greenbytes.de>
 <56BBED72.8040604@gknw.net>
 <01325F5D-1605-41BA-BCD0-E257E629AE17@greenbytes.de>
 <56BCF4AA.2060209@gknw.net>
 <5995036C-2E36-48CE-86BB-2CD6C9416686@greenbytes.de>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56BE1100.3000502@kippdata.de>
Date: Fri, 12 Feb 2016 18:06:08 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <5995036C-2E36-48CE-86BB-2CD6C9416686@greenbytes.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 12.02.2016 um 11:13 schrieb Stefan Eissing:
> Thanks. Added in r1729969.
>
>> Am 11.02.2016 um 21:52 schrieb NormW <normw@gknw.net>:
>>
>> <NWGNUmod_http2.txt>

I got confused. Which file now builds mod_proxy_http2 on Netware? I 
can't find it. Shouldn't we also need a 
modules/http2/NWGNUmod_proxy_http2 file?

Regards,

Rainer

From dev-return-85603-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 17:28:37 2016
Return-Path: <dev-return-85603-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A78718D4C
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 17:28:37 +0000 (UTC)
Received: (qmail 16622 invoked by uid 500); 12 Feb 2016 17:28:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16560 invoked by uid 500); 12 Feb 2016 17:28:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16550 invoked by uid 99); 12 Feb 2016 17:28:36 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 17:28:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 3461E1A0540
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 17:28:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.63
X-Spam-Level:
X-Spam-Status: No, score=-2.63 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.329,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id e_yrXt4p5l_b for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 17:28:35 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 9137F43B2E
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 17:28:34 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u1CHSXQE025425
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 18:28:33 +0100 (CET)
Subject: Re: mod_proxy_http2
Reply-To: dev@httpd.apache.org
References: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de>
 <56BB5A0F.3050309@kippdata.de>
To: dev@httpd.apache.org
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56BE1640.4060001@kippdata.de>
Date: Fri, 12 Feb 2016 18:28:32 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56BB5A0F.3050309@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

I have renamed modules/http2/config.m4 to modules/http2/config2.m4 (note 
the "2" in front of the ".m4" suffix). AFAIK this will result in 
modules/http2 being handled after the module dirs which contain a normal 
config.m4. Thus the http2 modules get added after mod_proxy to the 
DSO_MODULES list and the generated httpd.conf will contain their 
LoadModule behind the ones for mod_proxy.

I have also added mod_proxy as a prerequisite in the m4 macro for 
mod_proxy_http2.

I hope it works as designed ...

Regards,

Rainer

Am 10.02.2016 um 16:41 schrieb Rainer Jung:
> At this point just a reminder, I might look for it myself:
>
> the config generated for me tries LoadModule for mod_proxy_http2 before
> mod_proxy and fails, because it can't find the symbol mod_proxy. I guess
> we need to ensure, that the LoadModule lines we generate for httpd.conf
> put mod_proxy_http2 after the one for mod_proxy. The current other proxy
> modules are already behind mod_proxy.

From dev-return-85604-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 17:47:50 2016
Return-Path: <dev-return-85604-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 74A7318E8A
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 17:47:50 +0000 (UTC)
Received: (qmail 76356 invoked by uid 500); 12 Feb 2016 17:47:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76276 invoked by uid 500); 12 Feb 2016 17:47:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76265 invoked by uid 99); 12 Feb 2016 17:47:44 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 17:47:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 75787C1E1A
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 17:47:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.396
X-Spam-Level:
X-Spam-Status: No, score=-2.396 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.095,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id H3nuYwwvBE5E for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 17:47:43 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 0DCFA24EB7
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 17:47:42 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u1CHlgc1025583
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 18:47:42 +0100 (CET)
Subject: Re: httpd-2.4 --enable-load-all-modules side-effect
Reply-To: dev@httpd.apache.org
References: <CACsi252d0kVcAZwtAc=qMW2SHM__kwqAuwzP9zrRFqjM-yJbJg@mail.gmail.com>
 <56B8F0B8.3030401@kippdata.de>
To: dev@httpd.apache.org
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56BE1ABC.3040306@kippdata.de>
Date: Fri, 12 Feb 2016 18:47:40 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56B8F0B8.3030401@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 08.02.2016 um 20:47 schrieb Rainer Jung:
> Hi Bill,
>
> Am 08.02.2016 um 19:11 schrieb William A Rowe Jr:
>> ./configure [...]
>> "--with-mods-shared=all" \
>> "--enable-mods-shared=all" \
>> "--enable-mpms-shared=all" \
>> "--enable-load-all-modules" \
>> "--with-mpm=worker" \
>>
>> While this should be great for testing a variety of modules and
>> is very helpful for building it all, the resulting httpd.conf isn't quite
>> helpful...
>>
>> LoadModule mpm_event_module modules/mod_mpm_event.so
>> LoadModule mpm_prefork_module modules/mod_mpm_prefork.so
>> LoadModule mpm_worker_module modules/mod_mpm_worker.so
>>
>> We obviously cannot load multiple mpm modules :)
>>
>> Can someone more familiar with the --enable-load-all-modules
>> or --enable-mpms-shared/--with-mpm mechanics take a look at
>> fixing this behavior before we roll on to a 2.4.19 release?
>>
>> If not, I will try to take a look, but the plate is pretty full with
>> other
>> half-completed projects here.
>
> Could you apply r1729235 to your checkout and see whether it works for you?
>
> The indentation of the shell snippets in the Makefile is broken, but
> that's an older annoyance we can independently.

I have changed the impl a bit in 1730079. Maybe you can try some time.

Regards,

Rainer

From dev-return-85605-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 19:25:52 2016
Return-Path: <dev-return-85605-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BF5E318532
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 19:25:52 +0000 (UTC)
Received: (qmail 89984 invoked by uid 500); 12 Feb 2016 19:25:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89912 invoked by uid 500); 12 Feb 2016 19:25:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89901 invoked by uid 99); 12 Feb 2016 19:25:52 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 19:25:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id ED913C1E75
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 19:25:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id L31RMz7R2qQ4 for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 19:25:51 +0000 (UTC)
Received: from mail-ig0-f180.google.com (mail-ig0-f180.google.com [209.85.213.180])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 7902924EB7
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 19:25:50 +0000 (UTC)
Received: by mail-ig0-f180.google.com with SMTP id ik10so16873035igb.1
        for <dev@httpd.apache.org>; Fri, 12 Feb 2016 11:25:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=G1M4KpB0zH2FNFT1EWw9zBp0xiSQ+t7jiCbFeB+hyNw=;
        b=LkJ2yRsnc+qZGxgePnWHmAAQqoPhcrjXjYwQmt+MGRqG7ossdJ7sKzxn+jI2tI8WHr
         mlvcmioowNTRs4cmZ5T6jTCn5Uw/D3BA6x7+986mtmbNlHietExrSeYagUBXyRCogxuo
         DTry9Yokz6jJ7Ei7aC+WJ0tUX7EXPzrDeh4okDM8/UltcTJBbNfIxkzOS3e/7qHawXV9
         w2rnGNRlJkks4A0K7AtexIbBH/3vGWOrrLvJd1XdSGvvPRPrQi9/2q5lMUHkoX4s7SuO
         KbjuaJoCXFcfCT0Jixzxpi/EY5q4fZPO71m7k3eNr37Bt2+HeN2PPoF/4oN9HyJ9Rj11
         33+g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=G1M4KpB0zH2FNFT1EWw9zBp0xiSQ+t7jiCbFeB+hyNw=;
        b=geKeboF5Kh32WGG9739TFWMCf2aRyDmcJC+JKfPv9+6oiMP0jR1xVklOrHyI91JR/z
         00u5XBJLz5XlRNgerRzmGLNeU3McDlSCTon1v04avhnQ8WZYBzeMSxi5wK5/OXso1Qtd
         fQF8d2gqhoPR7xTv8DMD+L/KktMl3EKDBYlXVcjFXc3FLrp196Qil3HRMlUJKOLnVL81
         Cp1Y7x2PIeZvZKRz7qHMY2zCwYubKTwecF89nS9cTjHQWUbUdGRYaV75y2sgsCxLYUxf
         PEiQ9rzqnozHVu8AUbfEeuyuv/0K2ViXwZclFZcVQq/vVAadiSAFKko3kejdYguSRREQ
         GtWA==
X-Gm-Message-State: AG10YOT2hARtfXSDBd63/KPuRQZA/yyskSOrBO7ZlUtvIQ7i65VetAZQakxTQku5MzHenYiyb9jSuvlBIbnRkg==
MIME-Version: 1.0
X-Received: by 10.50.118.100 with SMTP id kl4mr5718781igb.72.1455305149499;
 Fri, 12 Feb 2016 11:25:49 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Fri, 12 Feb 2016 11:25:49 -0800 (PST)
Date: Fri, 12 Feb 2016 14:25:49 -0500
Message-ID: <CALK=YjMVUvaBc0KTPFBgrdM7Pygd=+ZUk_30pCq2X9UmTXYPYw@mail.gmail.com>
Subject: rotatelogs and SIGTERM?
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Recall that 2.2 ran piped loggers under a shell until somewhat late in
life, and 2.4 runs them directly [by default].

rotatelogs currently doesn't do anything to block sigterm.  The
default ahndler for sigterm writes a short message to stderr, which is
the only reason I noticed.

It seems like a lose/lose scenario though:

If rotatelogs exits early due to sigterm before all writing ends of
the pipe are closed, it's not there to log the stragglers for e.g. a
graceful restart
If rotatelogs waits... then replacement rotatelogs processes are
likely to write to the same log [if using time based rotation].

Any other ideas/observations/trivia?

-- 
Eric Covener
covener@gmail.com

From dev-return-85606-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 21:37:55 2016
Return-Path: <dev-return-85606-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3827918CE4
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 21:37:55 +0000 (UTC)
Received: (qmail 62196 invoked by uid 500); 12 Feb 2016 21:37:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62117 invoked by uid 500); 12 Feb 2016 21:37:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62107 invoked by uid 99); 12 Feb 2016 21:37:54 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 21:37:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id EEDB4C1ECB
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 21:37:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id JJyn2xuq5iYD for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 21:37:53 +0000 (UTC)
Received: from mail-qg0-f45.google.com (mail-qg0-f45.google.com [209.85.192.45])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 2A4495FC23
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 21:37:53 +0000 (UTC)
Received: by mail-qg0-f45.google.com with SMTP id b67so72518717qgb.1
        for <dev@httpd.apache.org>; Fri, 12 Feb 2016 13:37:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=7uyHbKGuiCE/C346vXx5pOeswibmleTEuMgaxxgGc5A=;
        b=D7aPZBlyluf/vC5p2FYD3QerEm62P9gMWzrEUnhIg3AIwFkdU1sZvAQ1IJGrHRppF1
         c5HPEGdTDdam5u1eUAa+MqrFiE0jVKxstMjj+cqzR9jS5G6OQ0eupnSTTWExVZXFrqOz
         nsLSS8ZuacVjkOBn5ApgPDOZL546uTDnaKwN/6Fjd0bCPKodgmUdA4J8eg71Yc4hYcLR
         fVcuXlNqmfNmQ3Rh7sESMRWexPnoRVVsd5Z9Muk2SaWhYFtmfc0WXmOf6H1KGxgSmOnF
         zR2YhVCFmKH1hTgigoeYwMeAAgWiicrK6iK+z4Uex0YcnqGakcEipbi/jzYqsRUT3I44
         37YA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=7uyHbKGuiCE/C346vXx5pOeswibmleTEuMgaxxgGc5A=;
        b=TIjHEdC7Rf7gJYaBR7X37OVBx6syLJbzm7wsk35cKlfg3rnp2WzAZA7w9o4Sxr/hwp
         cF3HflVynqezdkKcmp6GlkQKPJwXfkbptoMuag4p3jMr9IbiOhCcOPvM8O9YBVrVIxwX
         kjvzJ7YJs5iiDzgTVNiMDxaeshdsgL0bScH01UjtR3P9vhFsP260/uWE2SPnXXurMMqf
         ydlyCbmHNcgWWx/AbtkSnlqjDDeK2XV1rSYVOsezJBZs/kHRxzH3Kqeqtv7ZeP/O/vLJ
         AmH86V0YgxYysqiA4VbxZXrF22IHNh715JXtdhT95BvI/VA/0yJD9wbSYqS3vcF5DPam
         mYQA==
X-Gm-Message-State: AG10YOSCrjX8Sw47JSbQGBMxE/rtZa/WK0BOlHe80jFyU9iBcde6gk6I862hWslZx+tsLZQBLrH1b8T6v6H/UQ==
MIME-Version: 1.0
X-Received: by 10.140.43.37 with SMTP id d34mr4817024qga.51.1455313066214;
 Fri, 12 Feb 2016 13:37:46 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Fri, 12 Feb 2016 13:37:46 -0800 (PST)
In-Reply-To: <CALK=YjMVUvaBc0KTPFBgrdM7Pygd=+ZUk_30pCq2X9UmTXYPYw@mail.gmail.com>
References: <CALK=YjMVUvaBc0KTPFBgrdM7Pygd=+ZUk_30pCq2X9UmTXYPYw@mail.gmail.com>
Date: Fri, 12 Feb 2016 22:37:46 +0100
Message-ID: <CAKQ1sVPj=KL4XTFK0dgx1EQcCxGz9OaXTYEzPijLjt7ihUKyyQ@mail.gmail.com>
Subject: Re: rotatelogs and SIGTERM?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Feb 12, 2016 at 8:25 PM, Eric Covener <covener@gmail.com> wrote:
> Recall that 2.2 ran piped loggers under a shell until somewhat late in
> life, and 2.4 runs them directly [by default].
>
> rotatelogs currently doesn't do anything to block sigterm.  The
> default ahndler for sigterm writes a short message to stderr, which is
> the only reason I noticed.

Maybe you could wrap rotatelogs in a script like:

#!/bin/sh
trap '' TERM
/path/to/real/rotatelogs $@

and then use:
ErrorLog |$/path/to/my/rotatelogs.sh ...

in httpd.conf?

From dev-return-85607-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 21:40:43 2016
Return-Path: <dev-return-85607-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 50F2918D28
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 21:40:43 +0000 (UTC)
Received: (qmail 87673 invoked by uid 500); 12 Feb 2016 21:40:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 87621 invoked by uid 500); 12 Feb 2016 21:40:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87603 invoked by uid 99); 12 Feb 2016 21:40:42 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 21:40:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E59FEC1E1B
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 21:40:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id c2yYDGsHSOnV for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 21:40:41 +0000 (UTC)
Received: from mail-ig0-f174.google.com (mail-ig0-f174.google.com [209.85.213.174])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id EC4E45FE03
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 21:40:40 +0000 (UTC)
Received: by mail-ig0-f174.google.com with SMTP id hb3so18453080igb.0
        for <dev@httpd.apache.org>; Fri, 12 Feb 2016 13:40:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=0v/YncQujgX8wjyfKEQZ2GVWpfARRSoPAerHT22jltE=;
        b=loqutPqj6sDMH8Az0YFpYBKjGYTwLKvJ/CMJ5LeuYqp+KBfvxT6KdK7YGgn7j2Ff7z
         gF14T4f7YTQjUivRu+1XswICkvYNE6hgD1TCn9k21s7aWbV4zwsz4C3QDkX/r7eIgosj
         Wc/0XVQFoC2Jm43APll80j1TtJZwLLNcd4IuSxylhMplMSfy/HlI+Nl8V2uatNZaxZm2
         clGM8XyJK61IQbg0urUyVP6jq42PxZOmjoc66Ey9obvdkDGYmLAomLv/zGpZhdzM7WP3
         vpkAgXSVGm6nV2o4HSaB9FikQZk4P7e/0YdHv0cWH/cdtaQmvipfvaz+2HsKFFvTGtRI
         SYCA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=0v/YncQujgX8wjyfKEQZ2GVWpfARRSoPAerHT22jltE=;
        b=XxQncmzeOkZdZO4+/mu0y+JKIhZo5EBLCzoWxmYTzomgPjIbEKAktdHo7c38eA2cAB
         vaP1/t3RPR2YIwCGGzI0IjSXnkSy2u4JkbbYQTE3Pfk52p+cENVuzdSeuC7ycPE+iZnR
         i8VuBipcVS8PitHBoOqp6//EIygjOC+Tg+v3aVPOpLMx7RW2GuL/0xCpDmK/EJ/RcDfS
         BVk3dvPAbjnTuqOH2WuM3e9ZYezJL2isGQcCnx7nwg/4VOuSQgFiBAWFnsKAZzQw1ODk
         m1PmmQlxQ2NYssCzLWHEbCWYwyBD79G7XEVrAoaBjKtF7Wtpo4SJmPhCf0ne1TKAvCHG
         1RzA==
X-Gm-Message-State: AG10YOQ9LNhhV2Cgy3c3R7v6LzQeCrw7bwXUt3RyLo+pS7jy9RW5pKRbFOOzwhD2lgNUS5hUo/TEZ7Mcubmo8Q==
MIME-Version: 1.0
X-Received: by 10.50.41.41 with SMTP id c9mr69268igl.36.1455313240468; Fri, 12
 Feb 2016 13:40:40 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Fri, 12 Feb 2016 13:40:40 -0800 (PST)
In-Reply-To: <CAKQ1sVPj=KL4XTFK0dgx1EQcCxGz9OaXTYEzPijLjt7ihUKyyQ@mail.gmail.com>
References: <CALK=YjMVUvaBc0KTPFBgrdM7Pygd=+ZUk_30pCq2X9UmTXYPYw@mail.gmail.com>
	<CAKQ1sVPj=KL4XTFK0dgx1EQcCxGz9OaXTYEzPijLjt7ihUKyyQ@mail.gmail.com>
Date: Fri, 12 Feb 2016 16:40:40 -0500
Message-ID: <CALK=YjMRHP5ovR3ECWOFn0m=CVfK9i0EddXs6iutNpAxWvJm4A@mail.gmail.com>
Subject: Re: rotatelogs and SIGTERM?
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

I lost a sentence somewhere. On one platform I use, the default for
SIGTERM writes a message to stderr.

On Fri, Feb 12, 2016 at 4:37 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Fri, Feb 12, 2016 at 8:25 PM, Eric Covener <covener@gmail.com> wrote:
>> Recall that 2.2 ran piped loggers under a shell until somewhat late in
>> life, and 2.4 runs them directly [by default].
>>
>> rotatelogs currently doesn't do anything to block sigterm.  The
>> default ahndler for sigterm writes a short message to stderr, which is
>> the only reason I noticed.
>
> Maybe you could wrap rotatelogs in a script like:
>
> #!/bin/sh
> trap '' TERM
> /path/to/real/rotatelogs $@
>
> and then use:
> ErrorLog |$/path/to/my/rotatelogs.sh ...
>
> in httpd.conf?



-- 
Eric Covener
covener@gmail.com

From dev-return-85608-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 21:46:06 2016
Return-Path: <dev-return-85608-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 21D2918D7E
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 21:46:06 +0000 (UTC)
Received: (qmail 10174 invoked by uid 500); 12 Feb 2016 21:46:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10103 invoked by uid 500); 12 Feb 2016 21:46:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10093 invoked by uid 99); 12 Feb 2016 21:46:05 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 21:46:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 1D555C1ECF
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 21:46:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 4mJsWd-4Fpog for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 21:46:03 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 39F0324EB7
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 21:46:03 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 6DC0522981
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 22:46:02 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id yi3kg9odjfpP for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 22:46:01 +0100 (CET)
Received: from [10.0.0.1] (unknown [101.174.45.122])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 5C45B202EE
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 22:45:59 +0100 (CET)
Subject: Re: httpd-trunk/modules/http2 gets a proxy
To: dev@httpd.apache.org
References: <56B911B2.3080400@gknw.net>
 <33BC9153-7AE2-44C2-97B7-94EEC8382711@greenbytes.de>
 <56BBED72.8040604@gknw.net>
 <01325F5D-1605-41BA-BCD0-E257E629AE17@greenbytes.de>
 <56BCF4AA.2060209@gknw.net>
 <5995036C-2E36-48CE-86BB-2CD6C9416686@greenbytes.de>
 <56BE1100.3000502@kippdata.de>
From: NormW <normw@gknw.net>
Message-ID: <56BE528F.4020508@gknw.net>
Date: Sat, 13 Feb 2016 08:45:51 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56BE1100.3000502@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/M And the start of yje weekend.
On 13/02/2016 4:06 AM, Rainer Jung wrote:
> Am 12.02.2016 um 11:13 schrieb Stefan Eissing:
>> Thanks. Added in r1729969.
>>
>>> Am 11.02.2016 um 21:52 schrieb NormW <normw@gknw.net>:
>>>
>>> <NWGNUmod_http2.txt>
The .txt extension is a bogus extension added by my mailer I assume.
>
> I got confused. Which file now builds mod_proxy_http2 on Netware? I
> can't find it. Shouldn't we also need a
> modules/http2/NWGNUmod_proxy_http2 file?
Yes. I avoided digging further into that until the new NWGNUmakefile and 
NWGNUmod_http2 got added. Once they're playing correctly, then will come 
NWGNUproxy_htp2 (?) which will also get added to the list in the 
NWGNUmakefile.

NetWare has a file name limitation that needs some regard; while the 
file system of later OS releases supports 'long file names' on the disk
, every loadable module has an internal 8 char name IIRC, and no two 
nlm's with the same 8 char name can be loaded at the same time. IIRC the 
8 chars is the first 8 chars of the modules disk file name. (Anyone who 
knows better please jump in here.)
> Regards,
>
> Rainer

HTH,
Norm


From dev-return-85609-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 21:46:28 2016
Return-Path: <dev-return-85609-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 028AF18D93
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 21:46:28 +0000 (UTC)
Received: (qmail 12983 invoked by uid 500); 12 Feb 2016 21:46:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12901 invoked by uid 500); 12 Feb 2016 21:46:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12891 invoked by uid 99); 12 Feb 2016 21:46:27 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 21:46:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 4A7FCC0BE4
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 21:46:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.179
X-Spam-Level:
X-Spam-Status: No, score=0.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FREEMAIL_REPLY=1, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Dtk6nnzaY3IR for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 21:46:25 +0000 (UTC)
Received: from mail-qk0-f181.google.com (mail-qk0-f181.google.com [209.85.220.181])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id D74C25FE03
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 21:46:25 +0000 (UTC)
Received: by mail-qk0-f181.google.com with SMTP id o6so36435660qkc.2
        for <dev@httpd.apache.org>; Fri, 12 Feb 2016 13:46:25 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=oxzaUQ2FfQyufeUA3g7Fjq549dI2AM8n2VRXLj3weBs=;
        b=0XZ/dHKjUcYgNaqcSQsyOXTvoXdPmZ+ZykpmjRJ8dxMoIJWgaHM45cN/byLZ4kBO/B
         +/w70xXPj5BmY6Psi49Lwx3R7EtDFYwqGwB3NVh2OoIr2d7UKZA5R7Vk0s87WmzcsN2O
         de/u7esuzI0kNfrUkqR727rJDDzXcg18saHnuig4D4gUZ1nPKct+JfFznu4lVp0yT0aS
         tkjhvK6CqXr9KWCnt7xYZZ2rmdTXhhmhclf7X1ZRi1xluDiVigGjpzWJa9+hhikWImQh
         syj6F6+EE4Khi+deH4CAcztTRX8DBfXqHB9vkjgf/HoCBCUfflzMjETqUAclLMjbXhZs
         HvTw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=oxzaUQ2FfQyufeUA3g7Fjq549dI2AM8n2VRXLj3weBs=;
        b=PZKFlMs7JCWYah7goh6R7k2dqfxRtvD8TlhlVUO8NJDW2n4Be+TF/VB+H2pRBlDLG2
         0OhqHRwK4DbMKpapjpWub31UtqNU2u6SPOHaTxBl+tIEY0eZzjEAKM/pBPpi/t36Rlub
         MxMbtJm0ON7lhE60CpsYm6oB8jZ+IyKLPNK2rQ0a0nt6yEKga9KRIG7MR1Ty8mSTqScV
         N4gWA5lcjbTFIh9YULGGyx1EYsyLyxzQodzqmQ4j4eevDIONtEgLUeEPkPFPfhIw50x2
         cnEpffElVYxv8dnTlimvH/emnf1KKjs4KECILtJlNurGJ+oqh5I5N42PtnqEq50hNb2r
         G0gQ==
X-Gm-Message-State: AG10YOR+UUQ6FzrWIhVY0YhXVERi7lEtbjvg5yVFVkj7wtrvedb5NIo2fdxR9SIwU+yLnGR9EJpS9cwPIFf4vw==
MIME-Version: 1.0
X-Received: by 10.55.212.156 with SMTP id s28mr5019719qks.55.1455313585433;
 Fri, 12 Feb 2016 13:46:25 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Fri, 12 Feb 2016 13:46:25 -0800 (PST)
In-Reply-To: <CALK=YjMRHP5ovR3ECWOFn0m=CVfK9i0EddXs6iutNpAxWvJm4A@mail.gmail.com>
References: <CALK=YjMVUvaBc0KTPFBgrdM7Pygd=+ZUk_30pCq2X9UmTXYPYw@mail.gmail.com>
	<CAKQ1sVPj=KL4XTFK0dgx1EQcCxGz9OaXTYEzPijLjt7ihUKyyQ@mail.gmail.com>
	<CALK=YjMRHP5ovR3ECWOFn0m=CVfK9i0EddXs6iutNpAxWvJm4A@mail.gmail.com>
Date: Fri, 12 Feb 2016 22:46:25 +0100
Message-ID: <CAKQ1sVOBpVu2-0KP2poi+5ktDhPg=9mco8PmtGFiv+hiWpGNSw@mail.gmail.com>
Subject: Re: rotatelogs and SIGTERM?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

IIRC, solaris is doing things like that.
But here the shell would ignore SIGTERM (the trap may even be
superfluous since shells usually ignore it implicitly), so it
shouldn't be stopped by the signal and hence the message shouldn't
show up...

On Fri, Feb 12, 2016 at 10:40 PM, Eric Covener <covener@gmail.com> wrote:
> I lost a sentence somewhere. On one platform I use, the default for
> SIGTERM writes a message to stderr.
>
> On Fri, Feb 12, 2016 at 4:37 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> On Fri, Feb 12, 2016 at 8:25 PM, Eric Covener <covener@gmail.com> wrote:
>>> Recall that 2.2 ran piped loggers under a shell until somewhat late in
>>> life, and 2.4 runs them directly [by default].
>>>
>>> rotatelogs currently doesn't do anything to block sigterm.  The
>>> default ahndler for sigterm writes a short message to stderr, which is
>>> the only reason I noticed.
>>
>> Maybe you could wrap rotatelogs in a script like:
>>
>> #!/bin/sh
>> trap '' TERM
>> /path/to/real/rotatelogs $@
>>
>> and then use:
>> ErrorLog |$/path/to/my/rotatelogs.sh ...
>>
>> in httpd.conf?
>
>
>
> --
> Eric Covener
> covener@gmail.com

From dev-return-85610-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 21:48:20 2016
Return-Path: <dev-return-85610-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1FBAD18DA0
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 21:48:20 +0000 (UTC)
Received: (qmail 18668 invoked by uid 500); 12 Feb 2016 21:48:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18600 invoked by uid 500); 12 Feb 2016 21:48:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18590 invoked by uid 99); 12 Feb 2016 21:48:19 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 21:48:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 53CA3C0BE4
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 21:48:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Ue-_dh1d_uPz for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 21:48:17 +0000 (UTC)
Received: from mail-io0-f174.google.com (mail-io0-f174.google.com [209.85.223.174])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2B91224EB7
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 21:48:17 +0000 (UTC)
Received: by mail-io0-f174.google.com with SMTP id g203so79714534iof.2
        for <dev@httpd.apache.org>; Fri, 12 Feb 2016 13:48:17 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=nYeesN8PwBXDmmlR39i23bN6HnJTUr3ZEA692XOj/Rk=;
        b=V/6KnnDJ6hNQuix0CmKch/qpqzg5M6rvDVS/5u8nL5AI/i646c5azQ5ueBUoQaidv5
         jiyXwGZ1uiKYRYbQKxufhVadQq0i5061qkXCkdPspsFxztx6kXMudhARB2ESwhF5tTth
         3qQJ332TWu+JnWW4Gt+ttmMEpRTBgyfvpMUf9uiG1BQH1KNYx+9ntOlGC5gen5rgeoM7
         4cBs+oXu7ye+ouGXaAI9Cm5vDTD6byHaI2FQwCYCY3hto7svapxzxwrg/LF4rZDpfeAm
         DKi9Ta+BnGdB/R07VuoG8uaxszUbbQGWLlrsFbNhO92g4HL+XwEr//Il/BMDDomnbL1r
         eC0Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=nYeesN8PwBXDmmlR39i23bN6HnJTUr3ZEA692XOj/Rk=;
        b=ZpkvQRwmn+sQ7k3bPfXku367sKHcQl3k/5GH7kDoGg4btEiqSQYBa3R8Y6N3ARNQUe
         R6gBc4nv2enNz6cSzkonBCbAxxFDBRb8iiHxVXanTV1YVGrUynYhjQ/EdyWUjm6vWArv
         jZwXA79cvFjtc1lFejD8hlWwdd7zKgXQ2qObBnUlYFOIBrscSVHp4kke/WhE/BlQ+3Ky
         Bn8xoMVPiiv1fpvk3ZquaLKqylsbF2ROWP8ct/6ZEBSmg+2snPrCEyuuB0l+hpXi1EZl
         DmED+yUiezHSpz51hM0UjQxeKaFzQSD7pa94Cigtxu6t3bQ+lq0EAENlR/aWFCzl7CPE
         Qi1w==
X-Gm-Message-State: AG10YORdmwvEzFsV4KlWGPs/SMoEUKvYAi5VOHOBwSF9jBXDYj+2cb0z6QjwEme0LUBCj6ejMVfz35m7P58TZg==
MIME-Version: 1.0
X-Received: by 10.107.164.212 with SMTP id d81mr5824458ioj.169.1455313696201;
 Fri, 12 Feb 2016 13:48:16 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Fri, 12 Feb 2016 13:48:16 -0800 (PST)
In-Reply-To: <CAKQ1sVOBpVu2-0KP2poi+5ktDhPg=9mco8PmtGFiv+hiWpGNSw@mail.gmail.com>
References: <CALK=YjMVUvaBc0KTPFBgrdM7Pygd=+ZUk_30pCq2X9UmTXYPYw@mail.gmail.com>
	<CAKQ1sVPj=KL4XTFK0dgx1EQcCxGz9OaXTYEzPijLjt7ihUKyyQ@mail.gmail.com>
	<CALK=YjMRHP5ovR3ECWOFn0m=CVfK9i0EddXs6iutNpAxWvJm4A@mail.gmail.com>
	<CAKQ1sVOBpVu2-0KP2poi+5ktDhPg=9mco8PmtGFiv+hiWpGNSw@mail.gmail.com>
Date: Fri, 12 Feb 2016 16:48:16 -0500
Message-ID: <CALK=YjNqjnaUBeZnPCNa4EfNNBE+z1gXyqYYah73HVDNnAEq6g@mail.gmail.com>
Subject: Re: rotatelogs and SIGTERM?
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Feb 12, 2016 at 4:46 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> IIRC, solaris is doing things like that.
> But here the shell would ignore SIGTERM (the trap may even be
> superfluous since shells usually ignore it implicitly), so it
> shouldn't be stopped by the signal and hence the message shouldn't
> show up...
>
> On Fri, Feb 12, 2016 at 10:40 PM, Eric Covener <covener@gmail.com> wrote:
>> I lost a sentence somewhere. On one platform I use, the default for
>> SIGTERM writes a message to stderr.
>>
>> On Fri, Feb 12, 2016 at 4:37 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>> On Fri, Feb 12, 2016 at 8:25 PM, Eric Covener <covener@gmail.com> wrote:
>>>> Recall that 2.2 ran piped loggers under a shell until somewhat late in
>>>> life, and 2.4 runs them directly [by default].
>>>>
>>>> rotatelogs currently doesn't do anything to block sigterm.  The
>>>> default ahndler for sigterm writes a short message to stderr, which is
>>>> the only reason I noticed.
>>>
>>> Maybe you could wrap rotatelogs in a script like:
>>>
>>> #!/bin/sh
>>> trap '' TERM
>>> /path/to/real/rotatelogs $@
>>>
>>> and then use:
>>> ErrorLog |$/path/to/my/rotatelogs.sh ...
>>>
>>> in httpd.conf?

Moreso trying to flush out if it's a good or bad idea, seems simple
enough to add to rotatelogs rather than requiring the wrapper.

From dev-return-85611-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 21:49:46 2016
Return-Path: <dev-return-85611-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2D15218DC0
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 21:49:46 +0000 (UTC)
Received: (qmail 29090 invoked by uid 500); 12 Feb 2016 21:49:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29019 invoked by uid 500); 12 Feb 2016 21:49:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29009 invoked by uid 99); 12 Feb 2016 21:49:45 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 21:49:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 323F91A043C
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 21:49:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.5
X-Spam-Level: ***
X-Spam-Status: No, score=3.5 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=2.5,
	RCVD_IN_DNSWL_NONE=-0.0001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id HBxOFt39doxK for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 21:49:44 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 52B0231ADD
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 21:49:44 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id C4A6820501
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 22:49:43 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3lK6P81EpiOn for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 22:49:43 +0100 (CET)
Received: from [10.0.0.1] (unknown [101.174.45.122])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 80EA4202EE
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 22:49:42 +0100 (CET)
Subject: Re: httpd-trunk/modules/http2 gets a proxy
To: dev@httpd.apache.org
References: <56B911B2.3080400@gknw.net>
 <33BC9153-7AE2-44C2-97B7-94EEC8382711@greenbytes.de>
 <56BBED72.8040604@gknw.net>
 <01325F5D-1605-41BA-BCD0-E257E629AE17@greenbytes.de>
 <56BCF4AA.2060209@gknw.net>
 <5995036C-2E36-48CE-86BB-2CD6C9416686@greenbytes.de>
From: NormW <normw@gknw.net>
Message-ID: <56BE5377.9070307@gknw.net>
Date: Sat, 13 Feb 2016 08:49:43 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <5995036C-2E36-48CE-86BB-2CD6C9416686@greenbytes.de>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit

On 12/02/2016 9:13 PM, Stefan Eissing wrote:
> Thanks. Added in r1729969.
>
>> Am 11.02.2016 um 21:52 schrieb NormW <normw@gknw.net>:
>>
>> <NWGNUmod_http2.txt>
>
Thanks,
Norm


From dev-return-85612-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 12 23:38:14 2016
Return-Path: <dev-return-85612-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0D1B4183F7
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Feb 2016 23:38:14 +0000 (UTC)
Received: (qmail 45791 invoked by uid 500); 12 Feb 2016 23:38:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 45720 invoked by uid 500); 12 Feb 2016 23:38:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45710 invoked by uid 99); 12 Feb 2016 23:38:08 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Feb 2016 23:38:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 34344C1F24
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 23:38:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 3uvq7ycbnXqd for <dev@httpd.apache.org>;
	Fri, 12 Feb 2016 23:38:06 +0000 (UTC)
Received: from mail-io0-f171.google.com (mail-io0-f171.google.com [209.85.223.171])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id B6DCA24EB7
	for <dev@httpd.apache.org>; Fri, 12 Feb 2016 23:38:05 +0000 (UTC)
Received: by mail-io0-f171.google.com with SMTP id 9so108067563iom.1
        for <dev@httpd.apache.org>; Fri, 12 Feb 2016 15:38:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=mMWndjYfY5QmrsToaKBU6E0Pg5zB1zh4t7JEsWxFfgo=;
        b=BNBnbjnIWvjl3jB6lHkSzesN4sftKsaTjRTW4FLI4Lc/e5P3TFlASie/KLmoi0fqyq
         uCvHRsuRfVwlJJWzu5rQ1euNOdLMffRzE0xeWAvtmmf4uDY7Pdlr0SA3J02CZOETjTCK
         HYxZaOMuH3Kpi9Xv16ki821MG/3cAb/kD5LrEcOVwVTCnGCzo4wdCXBoVcsuk/2TBotM
         fRCkVNPh94Qia28+5wUdVPo5T5O7FnMg7jjl3nAVNZNdyaX/sbfueyrrPVibW53laI1S
         4ZX/Ulu7YY4KpJklKtUfdkS7LmNbxJYzP48Ofwu27XaTvVtCa3/L0at/J8c44jBLeups
         5Z1g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=mMWndjYfY5QmrsToaKBU6E0Pg5zB1zh4t7JEsWxFfgo=;
        b=BwQrpVaFb5892vY8SV70xFKEc6kQVOdkPbPTLrnyw/T44N/q7VmfXp0cg03iYenT6Y
         nxHk8pb+82tdPK2wQvfXpfhcwg32JO11G3FdTjuWW0mO070ocjGyZF/BnQdaxCNchJTh
         Atj85as7sWQz8j1a03o82qKR+A/oiWvQnkOJegOew7ERvv+wR1Q+JD/rY0BKsuKwRVla
         KgJ33xm1+sZsZstQZn+TmVUjo2Qg0u+22XQdAHzvfuixgGgFckVpxOGoS0D5htts6hnD
         Wze35oti/oqAboNSHp1tFVVpi+G6687SOGjOIlHV9oi7vzhUEbBcts1SOVIQzJZNiY+G
         wHLw==
X-Gm-Message-State: AG10YOTSpO30sMk3DJuh6O4xSpBrYgm0esuDmqVIDLpbi4Zh1FgGGNkJsJNJ4QQGHvsRO6Scam3RPZ5VjCsr5PMb
MIME-Version: 1.0
X-Received: by 10.107.28.82 with SMTP id c79mr5429527ioc.86.1455320278815;
 Fri, 12 Feb 2016 15:37:58 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Fri, 12 Feb 2016 15:37:58 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Fri, 12 Feb 2016 15:37:58 -0800 (PST)
In-Reply-To: <CAKQ1sVM757YxtwO1ncqU+51=6GDhumAGmWNXJdVYStrE_bSiJQ@mail.gmail.com>
References: <20160212010458.AE6AD3A00A4@svn01-us-west.apache.org>
	<CAKQ1sVP4ELyUfDmScsb8P=2uevB5vvbm09bEOM4zUC_S2LKR=w@mail.gmail.com>
	<CACsi250QGSaUfTcsu_dgNdKM=tLgmEaqtGDfayF4UQJWPQcYnA@mail.gmail.com>
	<CAKQ1sVM757YxtwO1ncqU+51=6GDhumAGmWNXJdVYStrE_bSiJQ@mail.gmail.com>
Date: Fri, 12 Feb 2016 17:37:58 -0600
Message-ID: <CACsi253s2b7NLNhMP+o6_7A6ru3yZbhmQJ97aqWzbiqo8co2tg@mail.gmail.com>
Subject: Re: svn commit: r1729929 - in /httpd/httpd/trunk: CHANGES
 include/ap_mmn.h include/http_core.h include/httpd.h server/core.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11409b98410e2b052b9b288f

--001a11409b98410e2b052b9b288f
Content-Type: text/plain; charset=UTF-8

On Feb 12, 2016 04:45, "Yann Ylavic" <ylavic.dev@gmail.com> wrote:
>
> On Fri, Feb 12, 2016 at 10:49 AM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:
> > On Feb 12, 2016 2:24 AM, "Yann Ylavic" <ylavic.dev@gmail.com> wrote:
> >>
> >> I see this TODO about bitfield, but never seen it done in your
> >> commits, so I wonder where Rainer's warning comes from...
> >> Anyway, once backported (as you propose), we can hardly change it.

Well we simply can't reorder bitfields or add them in 2.4 anyways...

> > Precisely, it will NOT change in 2.4 and should not change, and is only
> > applicable to trunk.  I should have omitted from the initial commit.
> >
> > If we define this as int :2 and add a second int :2, none of the c
standards
> > promise that the initial 2-bit value maintains its previous alignment.
The
> > alignment is undefined.
>
> Indeed, and as such we can't make any promise about bits
> alignment/order wrt to the underlying int, and the user can't expect
> any either.

Therefore this is problematic for 2.4, and I added a comment to STATUS that
we drop that note if backporting the patch.  The note applies only to trunk.

> So I don't thing we should worry about compatibility of bitfields wrt
> added bits, the goal is to be able to add a new field without
> increasing the size of the struct (for something that requires only a
> few bits).

And that is the noble goal heading toward 2.next (3.0?) but it seems there
is no promise that adding one int foo:2 value following a previously
released int bar:2 member would preserve the bit alignment of bar across
all compilers?  That suggests possibly breaking our ABI contract on a
maintenance release.  So adding discrete bit fields seem very iffy, once we
tag a specific release branch.  (I can see safe exceptions if adding a
group of small ints together in a maintenance release, but you would want
to bookend that with a member of known alignment, an int or * or such.)

> Aside note: with an int:2 bitfield, the possible values are 0 (00), 1
> (01), -2 (10) and -1 (11), that may be surprising, although that fits
> your description of double_reverse.

You are only looking at 2's compliment architectures, httpd isn't Intel
specific :)  But we are promised 1..-1, while the fourth value is -2, or
-0, or 2, or NaN.  Not something to rely on, but we don't need a fourth
value here anyways.

> IMHO signed bitfields should be avoided, and I don't know if compilers
> are kind enough (nor allowed) to pack successive signed/unsigned
> bitfields, probably yes but otherwise we may lose extensibility of
> "int double_reverse:2" though...
> So we may prefer "unsigned int double_reverse:2" (and change the
> description) so that we can later add a single bit that equals 1 and
> not -1.

We've had good success, they get rearranged and optimized only when it is
convenient for us to break ABI.

Unsigned bitfields are sometimes more compact and get us one more value (we
cannot reliably use a -2 value in a 2 bit int as I mentioned above) but
this particular use doesn't seem problematic to optimize later (in
trunk)... Let's leave it as a full int to avoid future ABI alignment issues
for any 2.4 backport?

--001a11409b98410e2b052b9b288f
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">On Feb 12, 2016 04:45, &quot;Yann Ylavic&quot; &lt;<a href=
=3D"mailto:ylavic.dev@gmail.com">ylavic.dev@gmail.com</a>&gt; wrote:<br>
&gt;<br>
&gt; On Fri, Feb 12, 2016 at 10:49 AM, William A Rowe Jr &lt;<a href=3D"mai=
lto:wrowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt; wrote:<br>
&gt; &gt; On Feb 12, 2016 2:24 AM, &quot;Yann Ylavic&quot; &lt;<a href=3D"m=
ailto:ylavic.dev@gmail.com">ylavic.dev@gmail.com</a>&gt; wrote:<br>
&gt; &gt;&gt;<br>
&gt; &gt;&gt; I see this TODO about bitfield, but never seen it done in you=
r<br>
&gt; &gt;&gt; commits, so I wonder where Rainer&#39;s warning comes from...=
<br>
&gt; &gt;&gt; Anyway, once backported (as you propose), we can hardly chang=
e it.</p>
<p dir=3D"ltr">Well we simply can&#39;t reorder bitfields or add them in 2.=
4 anyways...</p>
<p dir=3D"ltr">&gt; &gt; Precisely, it will NOT change in 2.4 and should no=
t change, and is only<br>
&gt; &gt; applicable to trunk.=C2=A0 I should have omitted from the initial=
 commit.<br>
&gt; &gt;<br>
&gt; &gt; If we define this as int :2 and add a second int :2, none of the =
c standards<br>
&gt; &gt; promise that the initial 2-bit value maintains its previous align=
ment.=C2=A0 The<br>
&gt; &gt; alignment is undefined.<br>
&gt;<br>
&gt; Indeed, and as such we can&#39;t make any promise about bits<br>
&gt; alignment/order wrt to the underlying int, and the user can&#39;t expe=
ct<br>
&gt; any either.</p>
<p dir=3D"ltr">Therefore this is problematic for 2.4, and I added a comment=
 to STATUS that we drop that note if backporting the patch.=C2=A0 The note =
applies only to trunk.</p>
<p dir=3D"ltr">&gt; So I don&#39;t thing we should worry about compatibilit=
y of bitfields wrt<br>
&gt; added bits, the goal is to be able to add a new field without<br>
&gt; increasing the size of the struct (for something that requires only a<=
br>
&gt; few bits).</p>
<p dir=3D"ltr">And that is the noble goal heading toward 2.next (3.0?) but =
it seems there is no promise that adding one int foo:2 value following a pr=
eviously released int bar:2 member would preserve the bit alignment of bar =
across all compilers?=C2=A0 That suggests possibly breaking our ABI contrac=
t on a maintenance release.=C2=A0 So adding discrete bit fields seem very i=
ffy, once we tag a specific release branch.=C2=A0 (I can see safe exception=
s if adding a group of small ints together in a maintenance release, but yo=
u would want to bookend that with a member of known alignment, an int or * =
or such.)</p>
<p dir=3D"ltr">&gt; Aside note: with an int:2 bitfield, the possible values=
 are 0 (00), 1<br>
&gt; (01), -2 (10) and -1 (11), that may be surprising, although that fits<=
br>
&gt; your description of double_reverse.</p>
<p dir=3D"ltr">You are only looking at 2&#39;s compliment architectures, ht=
tpd isn&#39;t Intel specific :)=C2=A0 But we are promised 1..-1, while the =
fourth value is -2, or -0, or 2, or NaN.=C2=A0 Not something to rely on, bu=
t we don&#39;t need a fourth value here anyways.</p>
<p dir=3D"ltr">&gt; IMHO signed bitfields should be avoided, and I don&#39;=
t know if compilers<br>
&gt; are kind enough (nor allowed) to pack successive signed/unsigned<br>
&gt; bitfields, probably yes but otherwise we may lose extensibility of<br>
&gt; &quot;int double_reverse:2&quot; though...<br>
&gt; So we may prefer &quot;unsigned int double_reverse:2&quot; (and change=
 the<br>
&gt; description) so that we can later add a single bit that equals 1 and<b=
r>
&gt; not -1.</p>
<p dir=3D"ltr">We&#39;ve had good success, they get rearranged and optimize=
d only when it is convenient for us to break ABI.</p>
<p dir=3D"ltr">Unsigned bitfields are sometimes more compact and get us one=
 more value (we cannot reliably use a -2 value in a 2 bit int as I mentione=
d above) but this particular use doesn&#39;t seem problematic to optimize l=
ater (in trunk)... Let&#39;s leave it as a full int to avoid future ABI ali=
gnment issues for any 2.4 backport?<br><br></p>

--001a11409b98410e2b052b9b288f--

From dev-return-85613-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb 13 11:25:14 2016
Return-Path: <dev-return-85613-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D42D3182BC
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Feb 2016 11:25:14 +0000 (UTC)
Received: (qmail 62445 invoked by uid 500); 13 Feb 2016 11:25:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62384 invoked by uid 500); 13 Feb 2016 11:25:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62374 invoked by uid 99); 13 Feb 2016 11:25:09 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Feb 2016 11:25:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id DCA6118027D
	for <dev@httpd.apache.org>; Sat, 13 Feb 2016 11:25:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.63
X-Spam-Level:
X-Spam-Status: No, score=-2.63 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.329,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id PwnWNXg5Avcl for <dev@httpd.apache.org>;
	Sat, 13 Feb 2016 11:25:07 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 8A1FD25996
	for <dev@httpd.apache.org>; Sat, 13 Feb 2016 11:25:06 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u1DBOxLd000851
	for <dev@httpd.apache.org>; Sat, 13 Feb 2016 12:25:00 +0100 (CET)
Subject: [Update] Support for OpenSSL 1.1.0
Reply-To: dev@httpd.apache.org
References: <56B9BD54.3020105@kippdata.de> <56BD2BF7.6030005@kippdata.de>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56BF1289.80506@kippdata.de>
Date: Sat, 13 Feb 2016 12:24:57 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56BD2BF7.6030005@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

I have send a candidate patch for the "talking http on https" patch to 
the OpenSSL project. Using this patch and another fix I applied to trunk 
for reneg handling in the proxy client case (mod_proxy talking https to 
a backend), I'm now down to one remaining test suite failure.

More precisely the following points are open

- reneg for ECDHE and maybe other ciphers
   IMHO broken in OpenSSL itself. Opened a case there, because I can 
reproduce with openssl command s_server and s_client, ie. without any 
Apache involvement. Steve has already taken the ticket there.

   https://rt.openssl.org/Ticket/Display.html?id=4303

- "talking http on https": The patch for OpenSSL is not big and mostly 
consists of the older OpenSSL 1.0.2 code but they have to check, whether 
I have put it at the right place. I verified it works by running the 
Apache test suite, which contains tests using the "talking http on 
https" feature.

   https://rt.openssl.org/Ticket/Display.html?id=4304

- Test suite failure test 3 in t/security/CVE-2009-3555.t. The test 
sends two requests pipelined, where the first one needs a reneg. 
Pre-1.1.0 the first requests succeeds and then the connection is closed. 
Using 1.1.0 the reneg fails, the first request get a 403 and the 
connection is closed. For this there's still some analysis needed on our 
side.

All other tests succeed, some non-SSL tests fails for prefork and 
worker, but they did before the changes and they fail with OpenSSL 1.0.2 
also.

Once the last test breakage is fixed, I plan to go through the changes 
in order to remove pre-1.1.0 OpenSSL specific code where these versions 
can use the newer as well. Currently pre-1.1.0 OpenSSL versions use the 
exact same code path as before the changes.


If you want to do tests on your own, what you need is:

- OpenSSL 1.1.0pre2 plus two patches:

 
https://github.com/openssl/openssl/commit/311f27852a18fb9c10f0c1283b639f12eea06de2

   https://rt.openssl.org/Ticket/Attachment/62645/38635/http-on-https.patch

- Fix to use a non-ECDHE cipher in the test suite

--- t/conf/ssl/ssl.conf.in  2016-02-12 17:21:44.857749000 +0100
+++ t/conf/ssl/ssl.conf.in        2016-02-12 23:15:18.493357000 +0100
@@ -33,7 +33,8 @@
          CustomLog logs/ssl_request_log ssl
      </IfModule>

-    SSLCipherSuite ALL:!ADH:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL
+    SSLCipherSuite 
AES128-SHA256:ALL:!ADH:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL
+    SSLHonorCipherOrder On

      <IfDefine TEST_SSL_PASSPHRASE_EXEC>
          SSLPassPhraseDialog 
exec:@ServerRoot@/conf/ssl/httpd-passphrase.pl


- Depending on how you link apr-util crypto build also against OpenSSL 
1.1.0. apr trunk but also apr-util 1.5.x head supports this.

Regards,

Rainer


From dev-return-85614-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb 13 13:07:01 2016
Return-Path: <dev-return-85614-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A50FB18459
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Feb 2016 13:07:01 +0000 (UTC)
Received: (qmail 41884 invoked by uid 500); 13 Feb 2016 13:07:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41815 invoked by uid 500); 13 Feb 2016 13:07:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41805 invoked by uid 99); 13 Feb 2016 13:07:00 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Feb 2016 13:07:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 2B119C20D2
	for <dev@httpd.apache.org>; Sat, 13 Feb 2016 13:07:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.307
X-Spam-Level:
X-Spam-Status: No, score=-2.307 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.006,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id BiJhEzfD-2kY for <dev@httpd.apache.org>;
	Sat, 13 Feb 2016 13:06:58 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id 2A6795FDE6
	for <dev@httpd.apache.org>; Sat, 13 Feb 2016 13:06:57 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u1DD6pnf001345
	for <dev@httpd.apache.org>; Sat, 13 Feb 2016 14:06:51 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: Rainer Jung <rainer.jung@kippdata.de>
Subject: Some test failures in trunk
Message-ID: <56BF2A68.3010304@kippdata.de>
Date: Sat, 13 Feb 2016 14:06:48 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

While doing the OpenSSL related tests I noticed a few unrelated test 
failures in trunk. Those happen only for worker and prefork, not for 
event! I test on Solaris, didn't yet try on Linux:

- worker and prefork

   - t/apache/passbrigade.t:  108-114, sometimes 108 or 114 are ok
   - t/apache/rwrite.t: 51-57, 108-114 (51, 54, 55 sometimes ok)
   - t/http11/chunked.t:  4, 10, 15, 20, 25, 30

and in addition for prefork

   - t/security/CVE-2009-1890.t: sometimes 7

I don't know when those failures started. Haven't run the test suite in 
trunk for quit some time.

Regards,

Rainer

From dev-return-85615-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Feb 14 01:02:12 2016
Return-Path: <dev-return-85615-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B685618746
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Feb 2016 01:02:12 +0000 (UTC)
Received: (qmail 34926 invoked by uid 500); 14 Feb 2016 01:02:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34852 invoked by uid 500); 14 Feb 2016 01:02:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34842 invoked by uid 99); 14 Feb 2016 01:02:12 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Feb 2016 01:02:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 9D35D1804E1
	for <dev@httpd.apache.org>; Sun, 14 Feb 2016 01:02:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.39
X-Spam-Level: *
X-Spam-Status: No, score=1.39 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, T_DKIM_INVALID=0.01]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new); dkim=neutral
	reason="invalid (public key: missing p= tag)" header.d=ymkatz.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 69XJc4xrvypn for <dev@httpd.apache.org>;
	Sun, 14 Feb 2016 01:02:10 +0000 (UTC)
Received: from mail-wm0-f51.google.com (mail-wm0-f51.google.com [74.125.82.51])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2726031AF3
	for <dev@httpd.apache.org>; Sun, 14 Feb 2016 01:02:10 +0000 (UTC)
Received: by mail-wm0-f51.google.com with SMTP id b205so25972952wmb.1
        for <dev@httpd.apache.org>; Sat, 13 Feb 2016 17:02:10 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=ymkatz.net; s=g;
        h=mime-version:from:date:message-id:subject:to:content-type;
        bh=KNA1ellmaFb9JsfZKmYduCaXc1R1as3VZ0ziBfZA7kM=;
        b=FJH2Ej/ZDpa3Bge0LYf4JqQ2/EL414LL6tyxBeqL7Q7wPg+gRaN14eOIflU83p70DP
         XiyeqY1wYqPgykDaDsCaEpjsTdGPG3ihCWxLFOQOcN6bRkxJAWNxjFFbkDQmJw7cPSPv
         tJ/OOz8WbD1j4YDTAq55lQNhoTZG3ITY2Ql/I=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to
         :content-type;
        bh=KNA1ellmaFb9JsfZKmYduCaXc1R1as3VZ0ziBfZA7kM=;
        b=fKneFmQ8X6wGe/+08u5O/1jwWA12j8DQphBgvRIZnYcsn0xmCI6XmHBDTckjxGj3FQ
         0AQ1S4f7pRidSN77ZRrc5HDHTmqbnBGAzGzJWxh4sJC0B39N0T5rYK6lVL6zvOKqRJoL
         KUCYfRZ1CJjhwZ6yW8i9cTB69lC8TkC9G9VCWYELumZViLXQzZcYlluEqU8OrF38hUkz
         7X5W8D162i59g++rFKpHuEeDNRrtLsfH7jXJZdt4NygAGqd8OH1GTVIpXl3yAER/A94L
         LhbU2NyjCRucwYWX6uhnbLu0stQrxcv9KZDeTa7zQOQ0gjD1yHnNuGc9Wbe4HiG/H12Z
         O+NA==
X-Gm-Message-State: AG10YOQ/ECZ0ywt5rgFGIxmsTNpAu9gNAFNn2SkwsxhbCFro98Kb/qjjo3ErihOeisddynAI
X-Received: by 10.194.184.112 with SMTP id et16mr8826753wjc.75.1455411723550;
        Sat, 13 Feb 2016 17:02:03 -0800 (PST)
Received: from mail-wm0-f53.google.com (mail-wm0-f53.google.com. [74.125.82.53])
        by smtp.gmail.com with ESMTPSA id c136sm8837318wmd.3.2016.02.13.17.02.02
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Sat, 13 Feb 2016 17:02:02 -0800 (PST)
Received: by mail-wm0-f53.google.com with SMTP id c200so67765639wme.0
        for <dev@httpd.apache.org>; Sat, 13 Feb 2016 17:02:02 -0800 (PST)
X-Received: by 10.28.0.86 with SMTP id 83mr5420923wma.63.1455411722275; Sat,
 13 Feb 2016 17:02:02 -0800 (PST)
MIME-Version: 1.0
Received: by 10.28.188.87 with HTTP; Sat, 13 Feb 2016 17:01:42 -0800 (PST)
From: Yehuda Katz <yehuda@ymkatz.net>
Date: Sat, 13 Feb 2016 20:01:42 -0500
X-Gmail-Original-Message-ID: <CAGBAQ45j7NTLZYiYs5rwkCzn0aaNOV7yxKvO=C8mUAQpQJDGXw@mail.gmail.com>
Message-ID: <CAGBAQ45j7NTLZYiYs5rwkCzn0aaNOV7yxKvO=C8mUAQpQJDGXw@mail.gmail.com>
Subject: [PATCH 58985] Add 451 status code
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113c8852b554b0052bb07269

--001a113c8852b554b0052bb07269
Content-Type: text/plain; charset=UTF-8

Hello all,
I looked into the missing 451 status code because someone asked about it on
the users list. It seems like a simple enough patch - since it is just
copying an existing feature.
I am looking at possible contributing more and I am interested in feedback.

https://bz.apache.org/bugzilla/show_bug.cgi?id=58985

- Y

--001a113c8852b554b0052bb07269
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hello all,<div>I looked into the missing 451 status code b=
ecause someone asked about it on the users list. It seems like a simple eno=
ugh patch - since it is just copying an existing feature.</div><div>I am lo=
oking at possible contributing more and I am interested in feedback.</div><=
div><br></div><div><a href=3D"https://bz.apache.org/bugzilla/show_bug.cgi?i=
d=3D58985">https://bz.apache.org/bugzilla/show_bug.cgi?id=3D58985</a><br></=
div><div><br></div><div>- Y</div></div>

--001a113c8852b554b0052bb07269--

From dev-return-85616-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Feb 14 07:15:17 2016
Return-Path: <dev-return-85616-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E60B918DF0
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Feb 2016 07:15:17 +0000 (UTC)
Received: (qmail 54358 invoked by uid 500); 14 Feb 2016 07:15:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54285 invoked by uid 500); 14 Feb 2016 07:15:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54276 invoked by uid 99); 14 Feb 2016 07:15:16 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Feb 2016 07:15:16 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id 6799A1A04D2
	for <dev@httpd.apache.org>; Sun, 14 Feb 2016 07:15:16 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id F218E601E5; Sun, 14 Feb 2016 07:15:15 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2016/02/14]
Message-Id: <20160214071515.F218E601E5@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 14 Feb 2016 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24437|Opn|Nor|2003-11-05|mod_auth_ldap doubly-escapes backslash (\) charact|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Enh|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37770|Opn|Blk|2005-12-03|proxy: error reading status line from remote serve|
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Inf|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|Verify that log directories exist in httpd -t conf|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|Opn|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Maj|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47650|Opn|Trv|2009-08-05|httxt2dbm calculates value size incorrectly       |
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|New|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51104|Opn|Maj|2011-04-21|C++ support about httpd_config.h                  |
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|Opn|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Blk|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Nor|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|53999|Opn|Nor|2012-10-13|Deadlock between procmgr_send_spawn_cmd()/proctabl|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|Ver|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|mod_remoteip updates the "ip" (%a), but "host" (%h|
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|Inf|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|New|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|Ver|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|Ver|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|Ver|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|Ver|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Enh|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|Opn|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57895|New|Min|2015-05-05|missing m4a mimeType in mime.types                |
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
|58089|New|Nor|2015-07-01|mod_authz_host uses proxy IP even when mod_remotei|
|58101|New|Nor|2015-07-05|DeflateCompressionLevel inside vhost resets logfor|
|58107|New|Blk|2015-07-06|Httpd crashes on startup every time, dump file att|
|58109|New|Nor|2015-07-06|Apache on windows cannot handle the hash symbol (#|
|58118|New|Min|2015-07-09|mod_proxy_fcgi logs 503 when user aborts connectio|
|58120|New|Nor|2015-07-10|ProxyPassInherit does not work as expect          |
|58121|New|Nor|2015-07-10|ProxyHTMLMeta seems to ignore all <meta http-equiv|
|58129|New|Nor|2015-07-12|man pages are not generated correctly             |
|58132|New|Nor|2015-07-12|non-standard, non-traditional man page layout make|
|58135|New|Nor|2015-07-14|mod_cache sends client "if-Modified-Since" to back|
|58141|New|Nor|2015-07-15|Apache Service doesn't start when rotatlogs.exe pa|
|58142|New|Nor|2015-07-15|authz_core ignores loglevel                       |
|58158|New|Nor|2015-07-21|Not honoring HTTP spec with regard to Accept-Encod|
|58168|New|Enh|2015-07-21|Would like full request evaluation support in Rewr|
|58171|New|Nor|2015-07-22|ap_session_save saves the wrong session after a de|
|58177|New|Enh|2015-07-24|Mod Proxy forward trailers in http chunked request|
|58180|New|Enh|2015-07-24|ErrorDocument original URL in subsequent <Location|
|58181|New|Enh|2015-07-25|mod_expire should allow "minus" keyword same like |
|58188|New|Nor|2015-07-28|http2 mod_lua: support build with lua 5.2+        |
|58197|New|Nor|2015-07-31|apr-util-1.5.4 build against openldap - "could not|
|58225|New|Reg|2015-08-08|intermitant segfault 11 in session_identity_encode|
|58226|New|Nor|2015-08-08|XSS in Error Page                                 |
|58231|New|Nor|2015-08-11|RewriteCond can add "Host" to the Vary-Header     |
|58235|New|Enh|2015-08-12|Ability to allow from domain but with using forwar|
|58243|New|Nor|2015-08-14|rotatelogs goes infinite at startup               |
|58248|New|Nor|2015-08-17|Error 404 in use some characters of utf8 in url   |
|58257|New|Nor|2015-08-18|require ldap-group does not work if account-fullna|
|58278|Inf|Blk|2015-08-24|apache - mod_security Issue : apache no releasing |
|58280|New|Nor|2015-08-24|Backend connection not closed until timeout if cli|
|58288|New|Blk|2015-08-27|Semaphore amount increase until crash when enablin|
|58292|New|Nor|2015-08-27|FallbackResource breaks chunked encoding sometimes|
|58304|New|Nor|2015-08-30|Unexpected Warnings from Macro Use in 2.4         |
|58307|New|Nor|2015-08-31|Segmentation fault in child in "read(__nbytes, __b|
|58317|New|Min|2015-09-02|Error message AH01630 is missing file name on deny|
|58334|New|Min|2015-09-06|WebDAV HTTP access does not include meta tag for c|
|58335|New|Nor|2015-09-07|mod_authnz_ldap mismatch                          |
|58343|New|Nor|2015-09-08|The pdf files come up as a blank page.            |
|58354|New|Maj|2015-09-10|(20014)Internal error (specific information not av|
|58356|New|Blk|2015-09-10|Session jumping due to incorrect route            |
|58364|New|Reg|2015-09-11|Apache Server is restarted time to time (Release 2|
|58417|New|Min|2015-09-16|ApacheBench (ab) won't display Server Software of |
|58419|New|Nor|2015-09-16|ApacheBench (ab) doesn't work with keep-alives aga|
|58423|New|Reg|2015-09-17|Apache >= 2.4.8 PCRE_DUPNAMES causes build failure|
|58467|New|Maj|2015-09-29|Environment Variables in ProxyHTMLURLMap produces |
|58475|New|Nor|2015-10-03|Support append/merge with semicolon-separated head|
|58488|New|Nor|2015-10-08|Stoped PHP-FPM pool in multi-pool system with comu|
|58491|New|Maj|2015-10-09|Core dumps appear when the load increases         |
|58492|Inf|Nor|2015-10-09|I think LDAPConnectionPoolTTL is not being honored|
|58498|New|Nor|2015-10-16|Apache 2.4.17: Regression with mod_autoindex (in c|
|58500|New|Nor|2015-10-16|dav_fs not enabled by default                     |
|58503|New|Cri|2015-10-16|segfault in apr_brigade_cleanup() under high load |
|58509|New|Trv|2015-10-20|2.4.17-dev introduces second core.c handler at sta|
|58524|New|Nor|2015-10-23|mod_http2 segfaults when under heavy load         |
|58528|New|Nor|2015-10-23|AllowOverrideList None gets misparsed and .htacces|
|58529|New|Maj|2015-10-23|Segmentation fault after modifying a proxy Balance|
|58550|New|Enh|2015-10-26|During load, Apache 2.2.x with prefork MPM didn|
|58574|New|Nor|2015-11-02|Apache error AH01630 (client denied) but working  |
|58593|New|Nor|2015-11-06|mod_proxy wrong decision between http and ws      |
|58598|New|Enh|2015-11-08|Internal Server Error (500) when requesting non-ex|
|58602|New|Nor|2015-11-11|Priority issue on DirectoryMatch directive        |
|58604|New|Reg|2015-11-12|Plaintext auth broken in any Explicit FTP/AUTH TLS|
|58612|New|Min|2015-11-16|mod_webdav when write_stream failed should break a|
|58669|New|Nor|2015-11-30|Order of DBDInitSQL and DBDPrepareSQL             |
|58688|New|Nor|2015-12-03|Missing mod_ssl connection-level upgrade headers f|
|58700|New|Nor|2015-12-07|Apache logs not working with mod_remoteip and X-fo|
|58720|New|Enh|2015-12-11|querying server status stalls when scoreboard is f|
|58727|New|Min|2015-12-13|Directories with a ProxyPass directive are not dis|
|58732|New|Nor|2015-12-14|Error Log isn't writing When Apache Shutdown with |
|58739|New|Cri|2015-12-15|Undocumented behavior of REDIRECT_URL and REDIRECT|
|58777|New|Enh|2015-12-28|URLs containing a ? are assumed to be query string|
|58789|New|Nor|2016-01-03|header set multiple htaccess                      |
|58798|New|Nor|2016-01-04|Misleading terminology                            |
|58799|New|Nor|2016-01-04|mod_fcgid: FcgidMinProcessesPerClass doesn't seem |
|58803|New|Cri|2016-01-05|HTTP connection is getting closed after 5 mins ( R|
|58806|New|Maj|2016-01-05|HTTP/2 appears to keep workers in KEEPALIVE status|
|58825|Inf|Nor|2016-01-08|Upload really big files with PUT method and XMLHTT|
|58826|New|Cri|2016-01-08|OCSP Stapling does not resolve DNS                |
|58828|New|Maj|2016-01-08|LA-U variables not set depending on the URI       |
|58834|New|Nor|2016-01-11|ModRewrite fails with .php urls and FPM on Apache |
|58842|New|Nor|2016-01-12|mod_proxy DNS cache with authoritative and no-auth|
|58854|New|Reg|2016-01-13|RewriteRule in .htaccess ignores 'Require all deni|
|58855|New|Enh|2016-01-14|Don't read through entire string when testing for |
|58856|New|Reg|2016-01-14|AddOutputFilterByType in Apache 2.4 inserts filter|
|58873|New|Nor|2016-01-15|Chunked encoding, Content Length and mod_deflate  |
|58880|New|Enh|2016-01-17|Support serving stale content while revalidating c|
|58887|Inf|Nor|2016-01-18|Updated install.xml.es and took out the html code |
|58889|New|Blk|2016-01-19|mod_proxy mixes random chars to the backend reques|
|58890|New|Nor|2016-01-19|Address comments on expression parser doc         |
|58892|New|Nor|2016-01-19|Remove 'advanced' rewrite doc, and organize by top|
|58893|New|Nor|2016-01-19|Document that RewriteMap names must be unique acro|
|58894|Inf|Nor|2016-01-20|Updates and Translated into Spanish new features 2|
|58901|New|Nor|2016-01-21|Download of large file is aborted in SSL_write on |
|58907|Inf|Nor|2016-01-21|Translated document  sitemap.xml.es into Spanish  |
|58921|New|Nor|2016-01-26|Compiler removal of code to clear password buffer |
|58926|New|Nor|2016-01-28|[Patchset] Improvements for apxs                  |
|58929|New|Maj|2016-01-28|coredump when sending illegal CONNECT request     |
|58934|New|Nor|2016-01-29|mod_proxy initial BalancerMember settings not appl|
|58944|New|Nor|2016-01-30|configure script breaks openssl static library dep|
|58945|New|Nor|2016-01-30|Custom-error.xml.es Translated to Spanish.        |
|58960|New|Nor|2016-02-02|Proxying Docker Registry HTTP PATCH command fails |
|58964|New|Maj|2016-02-03|Problems when caching more than one SSI level     |
|58969|New|Nor|2016-02-04|Translated bind.xml.es into spanish need feedback |
|58971|New|Nor|2016-02-04|Upgrade header added in 2.4.18 causes disconnect f|
|58977|New|Maj|2016-02-06|Wrong saved content                               |
|58981|New|Min|2016-02-07|Makefile.win references incorrect src_so file exte|
|58984|New|Nor|2016-02-09|mod_rewrite documentation for R flag should includ|
|58985|New|Enh|2016-02-09|Support sending 451 status from RewriteRule       |
|58990|New|Enh|2016-02-10|Option to send "406 Not Acceptable" when mime type|
|58994|Inf|Nor|2016-02-11|Apache service is crashing for every two hours    |
+-----+---+---+----------+--------------------------------------------------+
| Total 1576 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-85617-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Feb 14 08:58:29 2016
Return-Path: <dev-return-85617-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6D1A318007
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Feb 2016 08:58:29 +0000 (UTC)
Received: (qmail 33375 invoked by uid 500); 14 Feb 2016 08:58:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33296 invoked by uid 500); 14 Feb 2016 08:58:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33286 invoked by uid 99); 14 Feb 2016 08:58:28 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Feb 2016 08:58:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id EFC4E1A0669
	for <dev@httpd.apache.org>; Sun, 14 Feb 2016 08:58:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id xAH9I5D4nP0s for <dev@httpd.apache.org>;
	Sun, 14 Feb 2016 08:58:26 +0000 (UTC)
Received: from mail-lb0-f181.google.com (mail-lb0-f181.google.com [209.85.217.181])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 3D43C24C68
	for <dev@httpd.apache.org>; Sun, 14 Feb 2016 08:58:25 +0000 (UTC)
Received: by mail-lb0-f181.google.com with SMTP id bc4so64482280lbc.2
        for <dev@httpd.apache.org>; Sun, 14 Feb 2016 00:58:25 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=f4Aeit3oSa8fyv2nmd9DEgfdSaFR9Iw+sP7yk8Xynwk=;
        b=HKgvc1h4TTwp9n20g6G19Bsm1EAGmkcRBfIKitETNTBEAlCzJ41RTGmj3V3uAYkqMu
         jniEVk1oHbJw7nKeQAk1vhGexknt0t2ymFokyB4qSWFoz+Y6ApS9IsQBmXveAVI4wyxH
         VeWg8leAem0OfC/cyo0cf/GB2g2jaK/IFvYZIqqPtLFexhJ6nWn4vr1ieZgEee/Ap+yP
         ov1eVf+xUjvgqwa1F0beE0TWigmAk3STkNf+FTfVBzRLpkn1hu9xQTsEqFoW3OzWltFf
         W4aAz15Xuz8BgwMaR866QT2ezNDjNfa7abStJinUHJlYsdep5HqTSPjLAEyFPDKKiZid
         DSAg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=f4Aeit3oSa8fyv2nmd9DEgfdSaFR9Iw+sP7yk8Xynwk=;
        b=WOhU3UTAkMMh1ZdjJnn4Wrs2wwQQrr7ISPDoVAEtZdtRZpnP0QWKJXA1DuSEsbhluZ
         7onuaSx6RYfsTzATsTJV7rsi+4r1XhMCxX3hZymr2tulSchRZ7mAiXjOixPZ7yVPmeTw
         PAAYglBNVjHa36225RGnvwMO1XGNcDF34LZcutLjrz6YP5teMqYA4ZqEPC8Gz8xlRJpA
         bjnnSPQ+/d2N7SF/W467VxC02BDmrL8HfnNLso803uB7zLMcI3GF6lpuIdEguE5p3xhn
         f+O/tHa1DzxqKACvSAQ4nhQ20Ypw0v5pA0/w9ChtBfQD1zh/ks7etUQvfiJZY85OdLLC
         sPWg==
X-Gm-Message-State: AG10YOSi20M/8H1NWHbPRH9FG+aGl8YOU6fCWiIOhm61twTvD+QB83wePdMAltn/vWS5ddU6CMwGgZZCht5kcA==
MIME-Version: 1.0
X-Received: by 10.112.160.3 with SMTP id xg3mr4288572lbb.67.1455440304725;
 Sun, 14 Feb 2016 00:58:24 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Sun, 14 Feb 2016 00:58:24 -0800 (PST)
In-Reply-To: <CAFedD42dOmj542HOvZQeLK-8fyqFicPLXj0cdyEd4YfuNZg9=A@mail.gmail.com>
References: <CAFedD427nGgudD7gBv+nFce=i59Rwzwem9f9b5+GMBmbZAaamg@mail.gmail.com>
	<CAFedD41kp4C7zexoCLYB17=PB=as6sc0KwcJS-QoxydG_N=R_Q@mail.gmail.com>
	<CAFedD42DksC8JMye=pex+F5r4ZZDLrxoNuh_hPFQV6Wp8-yC+w@mail.gmail.com>
	<AC4D6E9A-FC35-489F-9A67-375C0F800FAC@greenbytes.de>
	<CAFedD42dOmj542HOvZQeLK-8fyqFicPLXj0cdyEd4YfuNZg9=A@mail.gmail.com>
Date: Sun, 14 Feb 2016 09:58:24 +0100
Message-ID: <CAFedD40mfCBZUQY1qLTAYFKNMjriT3Lg2a2pJCpymnZ-dAe5eg@mail.gmail.com>
Subject: Re: Proposal for a new mod_event documentation page
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11c331e65ae989052bb71adb

--001a11c331e65ae989052bb71adb
Content-Type: text/plain; charset=UTF-8

I changed the AsyncRequestWorkerFactor section with my understanding and
with some calculations showed by Rainer in previous threads:

https://httpd.apache.org/docs/trunk/mod/event.html

Let me know if you like it and if what I've written is sound, I'd like some
confirmation before back-porting to 2.4.

Thank!

Luca



2016-02-10 12:20 GMT+01:00 Luca Toscano <toscano.luca@gmail.com>:

> Hi Stefan,
>
> thanks a lot for all the suggestions and help for this change! I am
> planning to add more info about AsyncRequestWorkerFactor as second step
> with another commit, I believe that a more detailed explanation would help
> a lot too.
>
> Luca
>
> 2016-02-10 10:43 GMT+01:00 Stefan Eissing <stefan.eissing@greenbytes.de>:
>
>> I like it. Good explanation and also the pointer to mod_status and how to
>> see what the effect of event is, helps people.
>>
>> One point: do we have any data or counseling on AsyncRequestWorkerFactor?
>> Smaller is safe, sure, but what about higher values?
>>
>> -Stefan
>>
>> > Am 09.02.2016 um 22:38 schrieb Luca Toscano <toscano.luca@gmail.com>:
>> >
>> > After some feedbacks I updated the trunk documentation:
>> >
>> > https://httpd.apache.org/docs/trunk/mod/event.html
>> >
>> > Please let me know if you like the new page and the new information
>> contained. In case, I'll backport the change to 2.4.x, otherwise I'll
>> revert.
>> >
>> > Thanks!
>> >
>> > Luca
>> >
>> >
>> > 2016-02-08 15:32 GMT+01:00 Luca Toscano <toscano.luca@gmail.com>:
>> > +dev for visibility
>> >
>> > ---------- Messaggio inoltrato ----------
>> > Da: "Luca Toscano" <toscano.luca@gmail.com>
>> > Data: 06 feb 2016 15:10
>> > Oggetto: Proposal for a new mod_event documentation page
>> > A: <docs@httpd.apache.org>
>> > Cc:
>> >
>> > Hi Apache Devs!
>> >
>> > I started an email thread some days ago on the dev mailing list to
>> gather information about mod_event, getting tons of interesting things to
>> read. I attached to this email a draft of how the new page should look like
>> in my opinion, please let me know your thoughts!
>> >
>> > Notes about the changes:
>> >
>> > - clear statement that event shares all the configuration directives
>> with worker, together with the fact that the number of threads is regulated
>> by processes multiplied by threads per child.
>> >
>> > - explanation of the new async connections fields in mod_status.
>> >
>> > - tried to add all the information about keep alives, writing and
>> closing connections that I've gathered so far. I added a disclaimer for the
>> writing ones and a big section called "limitations", but I have probably
>> failed to describe all the closing ones (not only lingering closes I
>> suppose, but I wasn't sure).
>> >
>> > - clear logic connection between how it works and the
>> "AsyncRequestWorkerFactor" directive section (I am referring to the
>> sentence "The event MPM handles some connections in an asynchronous way").
>> >
>> > Apologies for technical inaccuracies and/or typos!
>> >
>> > Luca
>> >
>>
>>
>

--001a11c331e65ae989052bb71adb
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">I changed the=C2=A0AsyncRequestWorkerFactor section with m=
y understanding and with some calculations showed by Rainer in previous thr=
eads:<div><div><div><br></div><div><a href=3D"https://httpd.apache.org/docs=
/trunk/mod/event.html" target=3D"_blank">https://httpd.apache.org/docs/trun=
k/mod/event.html</a><br></div></div></div><div><br></div><div>Let me know i=
f you like it and if what I&#39;ve written is sound, I&#39;d like some conf=
irmation before back-porting to 2.4.</div><div><br></div><div>Thank!</div><=
div><br></div><div>Luca</div><div><br></div><div><br></div></div><div class=
=3D"gmail_extra"><br><div class=3D"gmail_quote">2016-02-10 12:20 GMT+01:00 =
Luca Toscano <span dir=3D"ltr">&lt;<a href=3D"mailto:toscano.luca@gmail.com=
" target=3D"_blank">toscano.luca@gmail.com</a>&gt;</span>:<br><blockquote c=
lass=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;=
padding-left:1ex"><div dir=3D"ltr">Hi Stefan,<div><br></div><div>thanks a l=
ot for all the suggestions and help for this change! I am planning to add m=
ore info about AsyncRequestWorkerFactor as second step with another commit,=
 I believe that a more detailed explanation would help a lot too.</div><spa=
n class=3D"HOEnZb"><font color=3D"#888888"><div><br></div><div>Luca</div></=
font></span></div><div class=3D"HOEnZb"><div class=3D"h5"><div class=3D"gma=
il_extra"><br><div class=3D"gmail_quote">2016-02-10 10:43 GMT+01:00 Stefan =
Eissing <span dir=3D"ltr">&lt;<a href=3D"mailto:stefan.eissing@greenbytes.d=
e" target=3D"_blank">stefan.eissing@greenbytes.de</a>&gt;</span>:<br><block=
quote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc=
 solid;padding-left:1ex">I like it. Good explanation and also the pointer t=
o mod_status and how to see what the effect of event is, helps people.<br>
<br>
One point: do we have any data or counseling on AsyncRequestWorkerFactor? S=
maller is safe, sure, but what about higher values?<br>
<span><font color=3D"#888888"><br>
-Stefan<br>
</font></span><div><div><br>
&gt; Am <a href=3D"tel:09.02.2016" value=3D"+3909022016" target=3D"_blank">=
09.02.2016</a> um 22:38 schrieb Luca Toscano &lt;<a href=3D"mailto:toscano.=
luca@gmail.com" target=3D"_blank">toscano.luca@gmail.com</a>&gt;:<br>
&gt;<br>
&gt; After some feedbacks I updated the trunk documentation:<br>
&gt;<br>
&gt; <a href=3D"https://httpd.apache.org/docs/trunk/mod/event.html" rel=3D"=
noreferrer" target=3D"_blank">https://httpd.apache.org/docs/trunk/mod/event=
.html</a><br>
&gt;<br>
&gt; Please let me know if you like the new page and the new information co=
ntained. In case, I&#39;ll backport the change to 2.4.x, otherwise I&#39;ll=
 revert.<br>
&gt;<br>
&gt; Thanks!<br>
&gt;<br>
&gt; Luca<br>
&gt;<br>
&gt;<br>
&gt; 2016-02-08 15:32 GMT+01:00 Luca Toscano &lt;<a href=3D"mailto:toscano.=
luca@gmail.com" target=3D"_blank">toscano.luca@gmail.com</a>&gt;:<br>
&gt; +dev for visibility<br>
&gt;<br>
&gt; ---------- Messaggio inoltrato ----------<br>
&gt; Da: &quot;Luca Toscano&quot; &lt;<a href=3D"mailto:toscano.luca@gmail.=
com" target=3D"_blank">toscano.luca@gmail.com</a>&gt;<br>
&gt; Data: 06 feb 2016 15:10<br>
&gt; Oggetto: Proposal for a new mod_event documentation page<br>
&gt; A: &lt;<a href=3D"mailto:docs@httpd.apache.org" target=3D"_blank">docs=
@httpd.apache.org</a>&gt;<br>
&gt; Cc:<br>
&gt;<br>
&gt; Hi Apache Devs!<br>
&gt;<br>
&gt; I started an email thread some days ago on the dev mailing list to gat=
her information about mod_event, getting tons of interesting things to read=
. I attached to this email a draft of how the new page should look like in =
my opinion, please let me know your thoughts!<br>
&gt;<br>
&gt; Notes about the changes:<br>
&gt;<br>
&gt; - clear statement that event shares all the configuration directives w=
ith worker, together with the fact that the number of threads is regulated =
by processes multiplied by threads per child.<br>
&gt;<br>
&gt; - explanation of the new async connections fields in mod_status.<br>
&gt;<br>
&gt; - tried to add all the information about keep alives, writing and clos=
ing connections that I&#39;ve gathered so far. I added a disclaimer for the=
 writing ones and a big section called &quot;limitations&quot;, but I have =
probably failed to describe all the closing ones (not only lingering closes=
 I suppose, but I wasn&#39;t sure).<br>
&gt;<br>
&gt; - clear logic connection between how it works and the &quot;AsyncReque=
stWorkerFactor&quot; directive section (I am referring to the sentence &quo=
t;The event MPM handles some connections in an asynchronous way&quot;).<br>
&gt;<br>
&gt; Apologies for technical inaccuracies and/or typos!<br>
&gt;<br>
&gt; Luca<br>
&gt;<br>
<br>
</div></div></blockquote></div><br></div>
</div></div></blockquote></div><br></div>

--001a11c331e65ae989052bb71adb--

From dev-return-85618-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Feb 14 11:59:15 2016
Return-Path: <dev-return-85618-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E2834184D2
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Feb 2016 11:59:15 +0000 (UTC)
Received: (qmail 61834 invoked by uid 500); 14 Feb 2016 11:59:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 61758 invoked by uid 500); 14 Feb 2016 11:59:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 61748 invoked by uid 99); 14 Feb 2016 11:59:15 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Feb 2016 11:59:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id BBD841A0677
	for <dev@httpd.apache.org>; Sun, 14 Feb 2016 11:59:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id T0aWjyByPJKf for <dev@httpd.apache.org>;
	Sun, 14 Feb 2016 11:59:13 +0000 (UTC)
Received: from mail-lb0-f179.google.com (mail-lb0-f179.google.com [209.85.217.179])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id EAC315F343
	for <dev@httpd.apache.org>; Sun, 14 Feb 2016 11:59:12 +0000 (UTC)
Received: by mail-lb0-f179.google.com with SMTP id tk3so53047964lbb.3
        for <dev@httpd.apache.org>; Sun, 14 Feb 2016 03:59:12 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=+fleF39DBpJJBf2eunp364BWzKjW1RW1qKAB6vIwswY=;
        b=v1M4eathauGvB/FhCse2L0f0yDJgwkkJCxds1itiulI4ZCICmeps4FW2+IDwBmd3/T
         ha1G3KNIWPysnkeNYvfgQL7pgCnwp/Uicoa3l5bWByiMV+d+EA0Um8VRidZ5KGA/F0iJ
         9uXrH2gb+70dxbL312ddHOLbCCCCM1eEKEIKLrJ4Gh5xK4oAapTHzNU3kjKuLLdyXTMs
         Rq3ymXHfwyHyYK7RRat+pnmptAbaChp5xOFSXe95rMkAGk3o0+hVHQGUDCcSyBfLXLJJ
         RePsbdmF12ByOFKaHjVCEGfWeseWvXAnnsbRW/hiK6lH0urWC6Bb62SPZnlNdY5MT74r
         gSeA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=+fleF39DBpJJBf2eunp364BWzKjW1RW1qKAB6vIwswY=;
        b=NPXKyu51u2kfE8R5ybhVmqM57eMPRkrNAN5/r6zeR4bNqAY+csO8MBuvFdKxCHVLnK
         aNy49jhvS3XOlhyhMqyQMBXV9+WDJr2sPo5GTwymNqJd31cX8om8CM2Rkd6cxJdPkoJZ
         SYT/Wa7Ht037Z8nl5N5FO625U1BYaYteLOPYAipUgEiV/x1bwfo9wEmrP9K6ANACMFbL
         pqs4cWUtt1ZXvSNxZqDgmhox8dTqFRg5wLbhv+I2z1m+8xrfbCnCf5R8h3ZVY1esqEp2
         krpQ77C0wB99u29dCTmTWaw1K/wFObw1r+1KNQpw+ShAL8NVzgNokSAZprpsO9Zl5P9B
         SZvQ==
X-Gm-Message-State: AG10YOS4eSNyQFg77sNkHYYDdj91kGvkm246LLg3/aAQ0MCvleWx4QKq8ZK5TsCV8nfETG1oh67SkQAhWJsjbw==
MIME-Version: 1.0
X-Received: by 10.112.89.7 with SMTP id bk7mr4678440lbb.120.1455451151714;
 Sun, 14 Feb 2016 03:59:11 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Sun, 14 Feb 2016 03:59:11 -0800 (PST)
In-Reply-To: <CAHti5NGYc+TpYnC9j_tG+R1-zX-QHoFU0Mw1m8dk8g2aRjFzUQ@mail.gmail.com>
References: <CAFedD419DMQZoADb=WiRtvhjYnp9NJWGZ1vQn5C65BV5Y4C1xA@mail.gmail.com>
	<35BFE5B2-2E21-4E04-85F0-846C2E28A04F@jaguNET.com>
	<56BA0D8A.6080906@kippdata.de>
	<9D3104FA-8978-4F40-8CEF-6ABA03308BDD@c8h10n4o2.org.uk>
	<7C7CCE57-72B6-4BD5-A32F-64C66B29DFBE@jaguNET.com>
	<CAFedD41vYjXQ4=z3m7UCP3CcQBk17w3w1u3xQTBOSkEsTpZf2w@mail.gmail.com>
	<E01AB6B2-B606-4C3D-92CC-1F91A5EEF2E9@greenbytes.de>
	<pony-1cd02e31b43620d7c664e038ca42a060d61727b9-308280b962eb15c68f2b926f0e6fa544c2839ade@dev.httpd.apache.org>
	<5041C0B7-7D84-4807-A31C-FDC72A83787A@greenbytes.de>
	<CAHti5NGYc+TpYnC9j_tG+R1-zX-QHoFU0Mw1m8dk8g2aRjFzUQ@mail.gmail.com>
Date: Sun, 14 Feb 2016 12:59:11 +0100
Message-ID: <CAFedD43NTTNt_d+Hz9P_bqXE2ZWbmaqio2Kgbd-VEJ7WhBQjyQ@mail.gmail.com>
Subject: Re: balancer-manager docs
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11c372d6e2cfce052bb9a0a7

--001a11c372d6e2cfce052bb9a0a7
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

I like the how-to a lot!

Would it be useful to add a "logging" section explaining best practices
about how to enable logging of the various modules?
A lot of people ask for instruction about how to track what mod_proxy does
in the background, plus I think it would be really useful to have a history
of the status of each BalancerMember over time (for example to correlate
when a backend server was put out of the Balancer set due to health check
failures with access/error/etc.. logs after an outage - a balancer-manager
history written down somewhere).

Hope that this make sense!

Luca

2016-02-12 10:04 GMT+01:00 Daniel <dferradal@gmail.com>:

> Looks very nice indeed! For being a "rough" version looks quite complete.
> Also the diagram is a cool addition to help people understand how reverse
> proxying works.
>
> I think the examples may need some adjusting with the matching slashes:
>
> ProxyPass "/" "http://www.example.com"
> should be:
> ProxyPass / http://www.example.com/
> (I removed the quotes because they are not necessary)
>
> and
> ProxyPass "/images" "http://www.example.com"
> should be:
> ProxyPass /images/ http://www.example.com/
>
>
> Cheers!
>
>
>
>
> El vie., 12 feb. 2016 a las 9:48, Stefan Eissing (<
> stefan.eissing@greenbytes.de>) escribi=C3=B3:
>
>> Very nice!
>>
>> > Am 11.02.2016 um 18:46 schrieb Jim Jagielski <jim@apache.org>:
>> >
>> > A rough and very brief framework of such a guide is now available...
>> >
>> >    http://httpd.apache.org/docs/trunk/howto/reverse_proxy.html
>> >
>> > On 2016-02-10 06:21, Luca Toscano <toscano.luca@gmail.com> wrote:
>> >> 2016-02-10 10:33 GMT+01:00 Stefan Eissing <
>> stefan.eissing@greenbytes.de>:
>> >>
>> >>> If you write one, I write one for http2! :-)
>> >>>
>> >>>
>> >> +1+1+1+1 :)
>> >>
>> > ------
>> > Sent via Pony Mail for dev@httpd.apache.org.
>> > View this email online at:
>> > https://pony-poc.apache.org/list.html?dev@httpd.apache.org
>>
>>

--001a11c372d6e2cfce052bb9a0a7
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">I like the how-to a lot!=C2=A0<div><br></div><div>Would it=
 be useful to add a &quot;logging&quot; section explaining best practices a=
bout how to enable logging of the various modules?=C2=A0<div>A lot of peopl=
e ask for instruction about how to track what mod_proxy does in the backgro=
und, plus I think it would be really useful to have a history of the status=
 of each BalancerMember over time (for example to correlate when a backend =
server was put out of the Balancer set due to health check failures with ac=
cess/error/etc.. logs after an outage - a balancer-manager history written =
down somewhere).<br></div><div><div><br></div><div>Hope that this make sens=
e!</div></div><div><br></div><div>Luca</div></div><div class=3D"gmail_extra=
"><br><div class=3D"gmail_quote">2016-02-12 10:04 GMT+01:00 Daniel <span di=
r=3D"ltr">&lt;<a href=3D"mailto:dferradal@gmail.com" target=3D"_blank">dfer=
radal@gmail.com</a>&gt;</span>:<br><blockquote class=3D"gmail_quote" style=
=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=
=3D"ltr">Looks very nice indeed! For being a &quot;rough&quot; version look=
s quite complete. Also the diagram is a cool addition to help people unders=
tand how reverse proxying works.<br><br>I think the examples may need some =
adjusting with the matching slashes:<br><br>ProxyPass &quot;/&quot; &quot;<=
a href=3D"http://www.example.com/" target=3D"_blank">http://www.example.com=
</a>&quot;<br>should be:<br>ProxyPass / <a href=3D"http://www.example.com/"=
 target=3D"_blank">http://www.example.com/</a><br>(I removed the quotes bec=
ause they are not necessary)<br><br>and<br>ProxyPass &quot;/images&quot; &q=
uot;<a href=3D"http://www.example.com/" target=3D"_blank">http://www.exampl=
e.com</a>&quot;<br>should be:<br>ProxyPass /images/ <a href=3D"http://www.e=
xample.com/" target=3D"_blank">http://www.example.com</a>/<br><div><br></di=
v><div><br></div><div>Cheers!<div><div class=3D"h5"><br><div><br><br><br><d=
iv class=3D"gmail_quote"><div dir=3D"ltr">El vie., 12 feb. 2016 a las 9:48,=
 Stefan Eissing (&lt;<a href=3D"mailto:stefan.eissing@greenbytes.de" target=
=3D"_blank">stefan.eissing@greenbytes.de</a>&gt;) escribi=C3=B3:<br></div><=
blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px=
 #ccc solid;padding-left:1ex">Very nice!<br>
<br>
&gt; Am 11.02.2016 um 18:46 schrieb Jim Jagielski &lt;<a href=3D"mailto:jim=
@apache.org" target=3D"_blank">jim@apache.org</a>&gt;:<br>
&gt;<br>
&gt; A rough and very brief framework of such a guide is now available...<b=
r>
&gt;<br>
&gt;=C2=A0 =C2=A0 <a href=3D"http://httpd.apache.org/docs/trunk/howto/rever=
se_proxy.html" rel=3D"noreferrer" target=3D"_blank">http://httpd.apache.org=
/docs/trunk/howto/reverse_proxy.html</a><br>
&gt;<br>
&gt; On 2016-02-10 06:21, Luca Toscano &lt;<a href=3D"mailto:toscano.luca@g=
mail.com" target=3D"_blank">toscano.luca@gmail.com</a>&gt; wrote:<br>
&gt;&gt; 2016-02-10 10:33 GMT+01:00 Stefan Eissing &lt;<a href=3D"mailto:st=
efan.eissing@greenbytes.de" target=3D"_blank">stefan.eissing@greenbytes.de<=
/a>&gt;:<br>
&gt;&gt;<br>
&gt;&gt;&gt; If you write one, I write one for http2! :-)<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt;<br>
&gt;&gt; +1+1+1+1 :)<br>
&gt;&gt;<br>
&gt; ------<br>
&gt; Sent via Pony Mail for <a href=3D"mailto:dev@httpd.apache.org" target=
=3D"_blank">dev@httpd.apache.org</a>.<br>
&gt; View this email online at:<br>
&gt; <a href=3D"https://pony-poc.apache.org/list.html?dev@httpd.apache.org"=
 rel=3D"noreferrer" target=3D"_blank">https://pony-poc.apache.org/list.html=
?dev@httpd.apache.org</a><br>
<br>
</blockquote></div></div></div></div></div></div>
</blockquote></div><br></div></div>

--001a11c372d6e2cfce052bb9a0a7--

From dev-return-85619-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Feb 14 15:31:20 2016
Return-Path: <dev-return-85619-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0D6481887A
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Feb 2016 15:31:20 +0000 (UTC)
Received: (qmail 54397 invoked by uid 500); 14 Feb 2016 15:31:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54335 invoked by uid 500); 14 Feb 2016 15:31:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54271 invoked by uid 99); 14 Feb 2016 15:31:18 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Feb 2016 15:31:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 367E9C0F10
	for <dev@httpd.apache.org>; Sun, 14 Feb 2016 15:31:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id dG-EgH7C7Np3 for <dev@httpd.apache.org>;
	Sun, 14 Feb 2016 15:31:17 +0000 (UTC)
Received: from resqmta-po-04v.sys.comcast.net (resqmta-po-04v.sys.comcast.net [96.114.154.163])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id CB4FB5F343
	for <dev@httpd.apache.org>; Sun, 14 Feb 2016 15:31:16 +0000 (UTC)
Received: from resomta-po-18v.sys.comcast.net ([96.114.154.242])
	by resqmta-po-04v.sys.comcast.net with comcast
	id JFWp1s0025E3ZMc01FX9Ay; Sun, 14 Feb 2016 15:31:09 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-18v.sys.comcast.net with comcast
	id JFX81s00H2U0RYt01FX8de; Sun, 14 Feb 2016 15:31:09 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: [PATCH 58985] Add 451 status code
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAGBAQ45j7NTLZYiYs5rwkCzn0aaNOV7yxKvO=C8mUAQpQJDGXw@mail.gmail.com>
Date: Sun, 14 Feb 2016 10:31:08 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <2D536827-2122-4AD2-95F1-D771F6BD63BD@jaguNET.com>
References: <CAGBAQ45j7NTLZYiYs5rwkCzn0aaNOV7yxKvO=C8mUAQpQJDGXw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455463869;
	bh=SHmOqXmkSGDP2W0cxE9fysuMBCPsTiA0rzoMAPl5Yfw=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=hLLDXC2dJBsAHOYxsP9g+5xszQtfCkCcFrzqrIoM6AvkeGYw2niz/Uc+maHlsSNMk
	 be/5J2Yb6agpdl9qqNIUDEXLr3j1gTKVD+BLb/juZ81TuNK6uu+WXNbt2HBS5l0ha8
	 BWCYWpme9ZzCpa/7Xc1yt/HOKDmvTr/HK1xKlF/mLJN/eA0fDaRT0bHHBAgI3Ntcjz
	 QaZICqwK2jrYxxQ1JxiSO0CudQTUcUQDoV24QMb/xdx+t7fjwonUrlrii0WoVU/MV6
	 f1OSp9xcv2bgFKJavcctyWgGv4Amd3txVFjrx/s4nc6UUwScZFOJUtLm+ggKtLTOzo
	 2EeZLOQoCVmig==

Thx. Will review asap.

> On Feb 13, 2016, at 8:01 PM, Yehuda Katz <yehuda@ymkatz.net> wrote:
>=20
> Hello all,
> I looked into the missing 451 status code because someone asked about =
it on the users list. It seems like a simple enough patch - since it is =
just copying an existing feature.
> I am looking at possible contributing more and I am interested in =
feedback.
>=20
> https://bz.apache.org/bugzilla/show_bug.cgi?id=3D58985
>=20
> - Y


From dev-return-85620-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Feb 14 22:48:37 2016
Return-Path: <dev-return-85620-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0077E180CC
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Feb 2016 22:48:37 +0000 (UTC)
Received: (qmail 91205 invoked by uid 500); 14 Feb 2016 22:48:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91130 invoked by uid 500); 14 Feb 2016 22:48:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91120 invoked by uid 99); 14 Feb 2016 22:48:35 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Feb 2016 22:48:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 4D917C0881
	for <dev@httpd.apache.org>; Sun, 14 Feb 2016 22:48:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.63
X-Spam-Level:
X-Spam-Status: No, score=-2.63 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.329,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id NiXl_o32uYuD for <dev@httpd.apache.org>;
	Sun, 14 Feb 2016 22:48:33 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id DB1B624C68
	for <dev@httpd.apache.org>; Sun, 14 Feb 2016 22:48:32 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u1EMmWgi010198
	for <dev@httpd.apache.org>; Sun, 14 Feb 2016 23:48:32 +0100 (CET)
Subject: Re: [Update] Support for OpenSSL 1.1.0
Reply-To: dev@httpd.apache.org
References: <56B9BD54.3020105@kippdata.de> <56BD2BF7.6030005@kippdata.de>
 <56BF1289.80506@kippdata.de>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56C1043F.3040707@kippdata.de>
Date: Sun, 14 Feb 2016 23:48:31 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56BF1289.80506@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

The nice people at OpenSSL have already committed the two patches 
(renegotiation with ECDHE ciphers, detecting HTTP-on-HTTPS) and I think 
I found an easy way to trigger renegotiation without polling (using 
SSL_peek).

The current code runs the test suite with 1.0.2 and with 1.1.0 without 
any ssl related failures.

I'll let it settle a bit and test again once OpenSSL 1.1.0pre3 is out 
before suggesting backport to 2.4. I also need to set up the test suite 
environment for 2.4 with support for OpenSSL 0.9.8 to check against 
regressions.

Regards,

Rainer

From dev-return-85621-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 15 06:28:54 2016
Return-Path: <dev-return-85621-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 802CB18974
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Feb 2016 06:28:54 +0000 (UTC)
Received: (qmail 32707 invoked by uid 500); 15 Feb 2016 06:28:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32636 invoked by uid 500); 15 Feb 2016 06:28:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32626 invoked by uid 99); 15 Feb 2016 06:28:53 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Feb 2016 06:28:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id E1339180485
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 06:28:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.03
X-Spam-Level:
X-Spam-Status: No, score=-1.03 tagged_above=-999 required=6.31
	tests=[HEADER_FROM_DIFFERENT_DOMAINS=0.001, RCVD_IN_DNSWL_LOW=-0.7,
	RP_MATCHES_RCVD=-0.329, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id QzuFAEhVUi5f for <dev@httpd.apache.org>;
	Mon, 15 Feb 2016 06:28:48 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id F17192114F
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 06:28:47 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1aVCeE-0004mg-TQ
	for dev@httpd.apache.org; Mon, 15 Feb 2016 07:28:38 +0100
Received: from aorleans-552-1-78-194.w92-140.abo.wanadoo.fr ([92.140.221.194])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Mon, 15 Feb 2016 07:28:38 +0100
Received: from christophe.jaillet by aorleans-552-1-78-194.w92-140.abo.wanadoo.fr with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Mon, 15 Feb 2016 07:28:38 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Subject: Re: svn commit: r1729495 [2/2] - in /httpd/httpd/branches/2.4.x: ./
 modules/aaa/ modules/arch/win32/ modules/core/ modules/examples/
 modules/filters/ modules/http2/ modules/loggers/ modules/lua/ modules/proxy/
 modules/ssl/ server/ server/mpm/event/ server/...
Date: Mon, 15 Feb 2016 07:28:24 +0100
Lines: 22
Message-ID: <n9rr6i$1u2$2@ger.gmane.org>
References: <20160209230925.70CA33A1075@svn01-us-west.apache.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: aorleans-552-1-78-194.w92-140.abo.wanadoo.fr
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
In-Reply-To: <20160209230925.70CA33A1075@svn01-us-west.apache.org>
X-Antivirus: avast! (VPS 160214-1, 14/02/2016), Outbound message
X-Antivirus-Status: Clean

Le 10/02/2016 00:09, rjung@apache.org a crit :
> Modified: httpd/httpd/branches/2.4.x/server/mpm/event/event.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/server/mpm/event/event.c?rev=1729495&r1=1729494&r2=1729495&view=diff
> @@ -3245,7 +3247,7 @@ static int event_check_config(apr_pool_t
>               ap_log_error(APLOG_MARK, APLOG_WARNING | APLOG_STARTUP, 0, NULL, APLOGNO(00497)
>                            "WARNING: ServerLimit of %d exceeds compile-time "
>                            "limit of", server_limit);
> -            ap_log_error(APLOG_MARK, APLOG_WARNING | APLOG_STARTUP, 0, NULL,
> +            ap_log_error(APLOG_MARK, APLOG_WARNING | APLOG_STARTUP, 0, NULL, APLOGNO(03105)
>                            " %d servers, decreasing to %d.",
>                            MAX_SERVER_LIMIT, MAX_SERVER_LIMIT);
>           } else {
>

Should we really add an APLOGNO here? It looks like a multi-line log 
message.

This is the same for APLOGNO(03105) --> APLOGNO(03116) in event.c. 
Similar code can also be found in other MPM.

Best regards,
CJ


From dev-return-85622-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 15 07:01:46 2016
Return-Path: <dev-return-85622-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 47DE518ABE
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Feb 2016 07:01:46 +0000 (UTC)
Received: (qmail 78831 invoked by uid 500); 15 Feb 2016 07:01:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78760 invoked by uid 500); 15 Feb 2016 07:01:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 78750 invoked by uid 99); 15 Feb 2016 07:01:40 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Feb 2016 07:01:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 5AE56C230D
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 07:01:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id g-wSQCEiD_Ec for <dev@httpd.apache.org>;
	Mon, 15 Feb 2016 07:01:39 +0000 (UTC)
Received: from smtp.smtpout.orange.fr (smtp10.smtpout.orange.fr [80.12.242.132])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id E48015FB15
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 07:01:38 +0000 (UTC)
Received: from [127.0.0.1] ([92.140.221.194])
	by mwinf5d20 with ME
	id JX1X1s0024CFehY03X1X1P; Mon, 15 Feb 2016 08:01:31 +0100
X-ME-Helo: [127.0.0.1]
X-ME-Date: Mon, 15 Feb 2016 08:01:31 +0100
X-ME-IP: 92.140.221.194
Subject: Re: svn commit: r1729873 - in /httpd/httpd/branches/2.4.x: ./ STATUS
 modules/ssl/ssl_engine_kernel.c
To: dev@httpd.apache.org
References: <20160211190304.C5AA43A023C@svn01-us-west.apache.org>
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Message-ID: <56C177C1.9050105@wanadoo.fr>
Date: Mon, 15 Feb 2016 08:01:21 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <20160211190304.C5AA43A023C@svn01-us-west.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 160214-1, 14/02/2016), Outbound message
X-Antivirus-Status: Clean

Le 11/02/2016 20:03, jim@apache.org a crit :
> Author: jim
> Date: Thu Feb 11 19:03:04 2016
> New Revision: 1729873
>
> URL: http://svn.apache.org/viewvc?rev=1729873&view=rev
> Log:
> Merge r1717816 from trunk:
>
> Fix missing Upgrade headers on OPTION * requests, PR58688
> Submitted by: wrowe
> Reviewed/backported by: jim
>
> Modified:
>      httpd/httpd/branches/2.4.x/   (props changed)
>      httpd/httpd/branches/2.4.x/STATUS
>      httpd/httpd/branches/2.4.x/modules/ssl/ssl_engine_kernel.c
>
>

Maybe this one should have a CHANGE entry?

Best regards,
CJ

From dev-return-85623-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 15 11:11:08 2016
Return-Path: <dev-return-85623-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A036182F1
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Feb 2016 11:11:08 +0000 (UTC)
Received: (qmail 58708 invoked by uid 500); 15 Feb 2016 11:11:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58641 invoked by uid 500); 15 Feb 2016 11:11:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58632 invoked by uid 99); 15 Feb 2016 11:11:07 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Feb 2016 11:11:07 +0000
Received: from gauss.localdomain (v4-86134ce7.pool.vitroconnect.de [134.19.76.231])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 5AFB21A0044
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 11:11:07 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 9C0B31E2
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 12:11:12 +0100 (CET)
Subject: Re: svn commit: r1730061 -
 /httpd/test/framework/trunk/t/conf/ssl/ssl.conf.in
To: dev@httpd.apache.org
References: <20160212162833.3632E3A0F3F@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56C1B250.3030304@apache.org>
Date: Mon, 15 Feb 2016 12:11:12 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <20160212162833.3632E3A0F3F@svn01-us-west.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit



On 02/12/2016 05:28 PM, rjung@apache.org wrote:
> Author: rjung
> Date: Fri Feb 12 16:28:32 2016
> New Revision: 1730061
> 
> URL: http://svn.apache.org/viewvc?rev=1730061&view=rev
> Log:
> Define CTSCTStorage for mod_ssl_ct.
> The module does not load without setting
> CTSCTStorage.
> 
> The directory will be created by
> Apache-Test/lib/Apache/TestConfig.pm.
> 
> Modified:
>     httpd/test/framework/trunk/t/conf/ssl/ssl.conf.in
> 
> Modified: httpd/test/framework/trunk/t/conf/ssl/ssl.conf.in
> URL: http://svn.apache.org/viewvc/httpd/test/framework/trunk/t/conf/ssl/ssl.conf.in?rev=1730061&r1=1730060&r2=1730061&view=diff
> ==============================================================================
> --- httpd/test/framework/trunk/t/conf/ssl/ssl.conf.in (original)
> +++ httpd/test/framework/trunk/t/conf/ssl/ssl.conf.in Fri Feb 12 16:28:32 2016
> @@ -253,3 +253,8 @@
>      </Location>
>  
>  </IfModule>
> +
> +<IfModule @ssl_module@>
> +    # CTSCTStorage is needed, otherwise mod_ssl_ct does not load
> +    CTSCTStorage ssl_ct_storage
> +</IfModule>

This breaks the test suite if you do not have mod_ssl_ct.

Regards

Rdiger


From dev-return-85624-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 15 11:27:47 2016
Return-Path: <dev-return-85624-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E21FF18354
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Feb 2016 11:27:47 +0000 (UTC)
Received: (qmail 88276 invoked by uid 500); 15 Feb 2016 11:27:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88197 invoked by uid 500); 15 Feb 2016 11:27:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88184 invoked by uid 99); 15 Feb 2016 11:27:47 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Feb 2016 11:27:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id F00091804B6
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 11:27:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.298
X-Spam-Level:
X-Spam-Status: No, score=0.298 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id anJ1Q4cUCYAs for <dev@httpd.apache.org>;
	Mon, 15 Feb 2016 11:27:45 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.153])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 8F7635FAD8
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 11:27:44 +0000 (UTC)
Received: from [85.158.136.83] by server-17.bemta-5.messagelabs.com id B6/7D-21901-926B1C65; Mon, 15 Feb 2016 11:27:37 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-7.tower-36.messagelabs.com!1455535656!17571843!1
X-Originating-IP: [195.232.244.133]
X-StarScan-Received:
X-StarScan-Version: 7.35.1; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 32583 invoked from network); 15 Feb 2016 11:27:37 -0000
Received: from mailout01.vodafone.com (HELO mailout01.vodafone.com) (195.232.244.133)
  by server-7.tower-36.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 15 Feb 2016 11:27:37 -0000
Received: from mailint04.vodafone.com (mailint04.vodafone.com [195.232.244.201])
	by mailout01.vodafone.com (Postfix) with ESMTP id 3q3jpJ5hf0z1yHm
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 12:27:36 +0100 (CET)
Received: from mailint04.vodafone.com (localhost [127.0.0.1])
	by mailint04.vodafone.com (Postfix) with ESMTP id 3q3jpJ4c37zfcbM
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 12:27:36 +0100 (CET)
Received: from VOEXC05W.internal.vodafone.com (mail5.nl.mx.vodafone.com [145.230.101.25])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint04.vodafone.com (Postfix) with ESMTPS id 3q3jpJ4GFkzfZlR
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 12:27:36 +0100 (CET)
Received: from AVOEXC04W.internal.vodafone.com (145.230.15.142) by
 VOEXC05W.internal.vodafone.com (145.230.101.25) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Mon, 15 Feb 2016 12:27:36 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.216]) by
 AVOEXC04W.internal.vodafone.com ([145.230.15.142]) with mapi id
 14.03.0224.002; Mon, 15 Feb 2016 12:27:35 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: Some test failures in trunk
Thread-Topic: Some test failures in trunk
Thread-Index: AQHRZl9u05otOYrHv0WV+1MqVWANW58s+ryA
Date: Mon, 15 Feb 2016 11:27:34 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627ACA0036D4@VOEXM10W.internal.vodafone.com>
References: <56BF2A68.3010304@kippdata.de>
In-Reply-To: <56BF2A68.3010304@kippdata.de>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

DQoNCj4gLS0tLS1VcnNwcsO8bmdsaWNoZSBOYWNocmljaHQtLS0tLQ0KPiBWb246IFJhaW5lciBK
dW5nIFttYWlsdG86cmFpbmVyLmp1bmdAa2lwcGRhdGEuZGVdDQo+IEdlc2VuZGV0OiBTYW1zdGFn
LCAxMy4gRmVicnVhciAyMDE2IDE0OjA3DQo+IEFuOiBkZXZAaHR0cGQuYXBhY2hlLm9yZw0KPiBC
ZXRyZWZmOiBTb21lIHRlc3QgZmFpbHVyZXMgaW4gdHJ1bmsNCj4gDQo+IFdoaWxlIGRvaW5nIHRo
ZSBPcGVuU1NMIHJlbGF0ZWQgdGVzdHMgSSBub3RpY2VkIGEgZmV3IHVucmVsYXRlZCB0ZXN0DQo+
IGZhaWx1cmVzIGluIHRydW5rLiBUaG9zZSBoYXBwZW4gb25seSBmb3Igd29ya2VyIGFuZCBwcmVm
b3JrLCBub3QgZm9yDQo+IGV2ZW50ISBJIHRlc3Qgb24gU29sYXJpcywgZGlkbid0IHlldCB0cnkg
b24gTGludXg6DQo+IA0KPiAtIHdvcmtlciBhbmQgcHJlZm9yaw0KPiANCj4gICAgLSB0L2FwYWNo
ZS9wYXNzYnJpZ2FkZS50OiAgMTA4LTExNCwgc29tZXRpbWVzIDEwOCBvciAxMTQgYXJlIG9rDQoN
CjExNCBmYWlscyBmb3IgbWUgc29tZXRpbWVzIG9uIExpbnV4IHdpdGggcHJlZm9yayBhcyB3ZWxs
Lg0KDQpSZWdhcmRzDQoNClLDvGRpZ2VyIA0KDQo=

From dev-return-85625-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 15 12:47:40 2016
Return-Path: <dev-return-85625-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E1AB1185B2
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Feb 2016 12:47:39 +0000 (UTC)
Received: (qmail 46901 invoked by uid 500); 15 Feb 2016 12:47:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46761 invoked by uid 500); 15 Feb 2016 12:47:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46646 invoked by uid 99); 15 Feb 2016 12:47:34 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Feb 2016 12:47:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 0D98A1A071C
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 12:47:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.63
X-Spam-Level:
X-Spam-Status: No, score=-2.63 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.329,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id qau-_cUtc3M2 for <dev@httpd.apache.org>;
	Mon, 15 Feb 2016 12:47:32 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 44B2F5FBDB
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 12:47:31 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.10.45])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u1FClO1e019512
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 13:47:24 +0100 (CET)
Subject: Re: svn commit: r1730061 -
 /httpd/test/framework/trunk/t/conf/ssl/ssl.conf.in
To: dev@httpd.apache.org
References: <20160212162833.3632E3A0F3F@svn01-us-west.apache.org>
 <56C1B250.3030304@apache.org>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56C1C8DB.6050906@kippdata.de>
Date: Mon, 15 Feb 2016 13:47:23 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56C1B250.3030304@apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 15.02.2016 um 12:11 schrieb Ruediger Pluem:
>
>
> On 02/12/2016 05:28 PM, rjung@apache.org wrote:
>> Author: rjung
>> Date: Fri Feb 12 16:28:32 2016
>> New Revision: 1730061
>>
>> URL: http://svn.apache.org/viewvc?rev=1730061&view=rev
>> Log:
>> Define CTSCTStorage for mod_ssl_ct.
>> The module does not load without setting
>> CTSCTStorage.
>>
>> The directory will be created by
>> Apache-Test/lib/Apache/TestConfig.pm.
>>
>> Modified:
>>      httpd/test/framework/trunk/t/conf/ssl/ssl.conf.in
>>
>> Modified: httpd/test/framework/trunk/t/conf/ssl/ssl.conf.in
>> URL: http://svn.apache.org/viewvc/httpd/test/framework/trunk/t/conf/ssl/ssl.conf.in?rev=1730061&r1=1730060&r2=1730061&view=diff
>> ==============================================================================
>> --- httpd/test/framework/trunk/t/conf/ssl/ssl.conf.in (original)
>> +++ httpd/test/framework/trunk/t/conf/ssl/ssl.conf.in Fri Feb 12 16:28:32 2016
>> @@ -253,3 +253,8 @@
>>       </Location>
>>
>>   </IfModule>
>> +
>> +<IfModule @ssl_module@>
>> +    # CTSCTStorage is needed, otherwise mod_ssl_ct does not load
>> +    CTSCTStorage ssl_ct_storage
>> +</IfModule>
>
> This breaks the test suite if you do not have mod_ssl_ct.

I will revert, because it doesn't work for mod_ssl_ct either 
(@ssl_module@ and there's no @mod_ssl_ctmodule@).

Regards,

Rainer


From dev-return-85626-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 15 13:17:58 2016
Return-Path: <dev-return-85626-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3F71918723
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Feb 2016 13:17:58 +0000 (UTC)
Received: (qmail 15937 invoked by uid 500); 15 Feb 2016 13:17:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15863 invoked by uid 500); 15 Feb 2016 13:17:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15846 invoked by uid 99); 15 Feb 2016 13:17:57 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Feb 2016 13:17:57 +0000
Received: from [192.168.1.36] (2804ds5-soeb.0.fullrate.ninja [90.184.204.23])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id F0A041A0044;
	Mon, 15 Feb 2016 13:17:56 +0000 (UTC)
Subject: Re: Thoughts on using HW for httpd?
To: docs@httpd.apache.org, dev@httpd.apache.org
References: <56BDCDFB.5050901@apache.org>
 <CAFJ9NTNo8K9GmXTggffOZZXzTXQaH-SshXGZ1zEPMxhO+UYOrA@mail.gmail.com>
From: Daniel Gruno <humbedooh@apache.org>
Message-ID: <56C1CFFF.9060903@apache.org>
Date: Mon, 15 Feb 2016 14:17:51 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <CAFJ9NTNo8K9GmXTggffOZZXzTXQaH-SshXGZ1zEPMxhO+UYOrA@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit

Since it's only been +1s, I plan to put the widget on our site today.
It's on httpd.staging.apache.org if anyone wants to preview it, yell if
you disagree :-)

With regards,
Daniel.

On 02/12/2016 09:11 PM, Luis Gil wrote:
> love it!  
> 
> El vie., 12 de febrero de 2016 13:20, Daniel Gruno <humbedooh@apache.org
> <mailto:humbedooh@apache.org>> escribi:
> 
>     Hi folks,
>     as some may know, ComDev is trialling a new thing called 'Help Wanted!'
>     at https://helpwanted.apache.org/
> 
>     I've added a few example entries for httpd, and I'm wondering if this is
>     something we would want to plug into our web site?
> 
>     You can see an example web site widget at
>     https://helpwanted.apache.org/wtest.html (top one shows httpd)
> 
>     It's an easy way to identify which tasks we'd love to see someone get
>     started on (and has the benefit of being able to assign difficulty
>     levels, skills needed etc to a task), and judging from the input on the
>     existing tasks, it seems to attract people towards projects.
> 
>     Thoughts? flames? snark? :)
> 
>     With regards,
>     Daniel.
> 
>     ---------------------------------------------------------------------
>     To unsubscribe, e-mail: docs-unsubscribe@httpd.apache.org
>     <mailto:docs-unsubscribe@httpd.apache.org>
>     For additional commands, e-mail: docs-help@httpd.apache.org
>     <mailto:docs-help@httpd.apache.org>
> 
> -- 
> 
> Luis J.G
> 


From dev-return-85627-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 15 15:29:03 2016
Return-Path: <dev-return-85627-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 26B3E18C27
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Feb 2016 15:29:03 +0000 (UTC)
Received: (qmail 20558 invoked by uid 500); 15 Feb 2016 15:29:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 20482 invoked by uid 500); 15 Feb 2016 15:29:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 20471 invoked by uid 99); 15 Feb 2016 15:29:02 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Feb 2016 15:29:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 2FA511806BE
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 15:29:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.701
X-Spam-Level:
X-Spam-Status: No, score=-0.701 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rcbowen-com.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id eAyNxjoZAFwq for <dev@httpd.apache.org>;
	Mon, 15 Feb 2016 15:29:01 +0000 (UTC)
Received: from mail-qg0-f45.google.com (mail-qg0-f45.google.com [209.85.192.45])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id E48295FB15
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 15:29:00 +0000 (UTC)
Received: by mail-qg0-f45.google.com with SMTP id b35so112373764qge.0
        for <dev@httpd.apache.org>; Mon, 15 Feb 2016 07:29:00 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rcbowen-com.20150623.gappssmtp.com; s=20150623;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-type:content-transfer-encoding;
        bh=KsbX9QhRXtLb7g/a+Gyl0B4XSGWOmlugcVx1nuQ1dZc=;
        b=eTAHDJWq2HuwMgRXXPcb9J1PSwI5M/zkP9p26Ycp/3Ft10WUfzdG0XMAuAFbIbwIZa
         ovuObB/UtTIKBkt9SOyqe9x//sGTmHeIoVGFetovQolpIlVWW8cD4JtzMOIR8n42q1IE
         hzlqdhykZEuRsLmFHoWTn3KUsmbX+wPxQRbEGQUo/BnJraIMh3nsu1xWSc/tyyP67ul+
         UVCT3DBsEDubZn57q7e2HaUQ1JQbkhKPp6hhYbgky/Mc49cafm3rDYurZ7i63SesLVRu
         NI4SSTVKp7vnWsv3Zrj2N4++w1E3H2D3ANq15KViA1nWTQ4xz+3kH6GF2egAOuLRkJYK
         aNqg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:subject:to:references:from:message-id:date
         :user-agent:mime-version:in-reply-to:content-type
         :content-transfer-encoding;
        bh=KsbX9QhRXtLb7g/a+Gyl0B4XSGWOmlugcVx1nuQ1dZc=;
        b=VUqMyLFVwLcasMOUqwclcT/ppyUy/uttf7QdVy7r0PWGEUfvWc2UadV1t/Z5gGS9lZ
         Jsr/lfhzPEosIhQ1zSzB9fRr09tRRc+ubZ3tGysjzFNCS+NbpqbykTkD6Qs/xRzolIG3
         KSJ9rBvljLPaMDm/PY+8YQkLri9Ak18R48B2iBjRobliZKIcP/enbEUVEWHlmMn3Xn1q
         2avXyUTPDcj+jZw0cGvzn0e6Ribb1VAZA4T2wlMkFJ2SJWmAyMgWF5I2EXXCrMOuXKZU
         iKzNUoDB1w4j42CMYQ/eWd+yqnvw2wPz792EifvnEehDEr7n5K2my8IMoJB3HX4vH0X5
         fRmA==
X-Gm-Message-State: AG10YOQptxMw7rWcv+Gwq4G6/WrISuMofWueHpX32aD+Mz5WCruk1g0ogkTDuSpu/30GRw==
X-Received: by 10.140.32.100 with SMTP id g91mr21325270qgg.47.1455550133911;
        Mon, 15 Feb 2016 07:28:53 -0800 (PST)
Received: from [192.168.0.214] (cpe-74-138-23-246.kya.res.rr.com. [74.138.23.246])
        by smtp.googlemail.com with ESMTPSA id u78sm11227307qge.27.2016.02.15.07.28.51
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Mon, 15 Feb 2016 07:28:52 -0800 (PST)
Subject: Re: Thoughts on using HW for httpd?
To: dev@httpd.apache.org
References: <56BDCDFB.5050901@apache.org>
 <CAFJ9NTNo8K9GmXTggffOZZXzTXQaH-SshXGZ1zEPMxhO+UYOrA@mail.gmail.com>
 <56C1CFFF.9060903@apache.org>
From: Rich Bowen <rbowen@rcbowen.com>
Message-ID: <56C1EEB1.90507@rcbowen.com>
Date: Mon, 15 Feb 2016 10:28:49 -0500
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.0
MIME-Version: 1.0
In-Reply-To: <56C1CFFF.9060903@apache.org>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit

We need to be selective about what we put on here. Having it be a mirror
of out ticket tracking would be just another thing to maintain. Having
it be things that are great entry points for beginners would be awesome.
This is a difficult balance to strike, since we don't know what
experience beginners will have, but we want to cherry-pick tasks, and
include a big sprinkling of "non-code" tasks, as we often have people
coming that want to participate, but aren't C coders (yet).

And, yes, I know, that's not a very actionable comment. I'll think on
what specific tasks I'd like to see in there. The website comes to mind.

--Rich

On 02/15/2016 08:17 AM, Daniel Gruno wrote:
> Since it's only been +1s, I plan to put the widget on our site today.
> It's on httpd.staging.apache.org if anyone wants to preview it, yell if
> you disagree :-)
> 
> With regards,
> Daniel.
> 
> On 02/12/2016 09:11 PM, Luis Gil wrote:
>> love it!  
>>
>> El vie., 12 de febrero de 2016 13:20, Daniel Gruno <humbedooh@apache.org
>> <mailto:humbedooh@apache.org>> escribi:
>>
>>     Hi folks,
>>     as some may know, ComDev is trialling a new thing called 'Help Wanted!'
>>     at https://helpwanted.apache.org/
>>
>>     I've added a few example entries for httpd, and I'm wondering if this is
>>     something we would want to plug into our web site?
>>
>>     You can see an example web site widget at
>>     https://helpwanted.apache.org/wtest.html (top one shows httpd)
>>
>>     It's an easy way to identify which tasks we'd love to see someone get
>>     started on (and has the benefit of being able to assign difficulty
>>     levels, skills needed etc to a task), and judging from the input on the
>>     existing tasks, it seems to attract people towards projects.
>>
>>     Thoughts? flames? snark? :)
>>
>>     With regards,
>>     Daniel.
>>
>>     ---------------------------------------------------------------------
>>     To unsubscribe, e-mail: docs-unsubscribe@httpd.apache.org
>>     <mailto:docs-unsubscribe@httpd.apache.org>
>>     For additional commands, e-mail: docs-help@httpd.apache.org
>>     <mailto:docs-help@httpd.apache.org>
>>
>> -- 
>>
>> Luis J.G
>>
> 


-- 
Rich Bowen - rbowen@rcbowen.com - @rbowen
http://apachecon.com/ - @apachecon

From dev-return-85628-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 15 15:29:43 2016
Return-Path: <dev-return-85628-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 21B6718C3E
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Feb 2016 15:29:43 +0000 (UTC)
Received: (qmail 23661 invoked by uid 500); 15 Feb 2016 15:29:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23591 invoked by uid 500); 15 Feb 2016 15:29:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23581 invoked by uid 99); 15 Feb 2016 15:29:42 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Feb 2016 15:29:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 1DA541A043A
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 15:29:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.701
X-Spam-Level:
X-Spam-Status: No, score=-0.701 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rcbowen-com.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id XyzFZT9g0TCO for <dev@httpd.apache.org>;
	Mon, 15 Feb 2016 15:29:41 +0000 (UTC)
Received: from mail-qg0-f47.google.com (mail-qg0-f47.google.com [209.85.192.47])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 3A09B5FBC7
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 15:29:41 +0000 (UTC)
Received: by mail-qg0-f47.google.com with SMTP id b35so112389007qge.0
        for <dev@httpd.apache.org>; Mon, 15 Feb 2016 07:29:41 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rcbowen-com.20150623.gappssmtp.com; s=20150623;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-type:content-transfer-encoding;
        bh=ifV2jgO+d4HvZEg+ZuBVjS396AiordW2cSwIghhcU2A=;
        b=exziv9FMww2xk6LMqhPNilcjYvnbl3igOgb6+mBX244oicQIbJr6rxYefqdE9V8grr
         SND6pBWYmF457KjRo2TNwF6jVBK1O8uumMA7iw02l6/jaNoIwe/vSidUZBeeCY74F+8w
         KgfP2tpJBMedYD8jJk/AQMlZmOSX1SlQKevwGBwSpjKr+MP83oF+ufJmla4hQz7RKSCe
         g88hdpWO9DplAECtS6MY9664U9BRTy4Ip6Y8hk0D+2lZ0yM+8jI1U3pwz6EA4ER7sSqw
         eiLjjiK3Maipg/nY8Bpsq4nSm0nUsNRY9u8gp0gk54T0zZAoQNRfnwaspeYgG5vtlK1s
         s/gg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:subject:to:references:from:message-id:date
         :user-agent:mime-version:in-reply-to:content-type
         :content-transfer-encoding;
        bh=ifV2jgO+d4HvZEg+ZuBVjS396AiordW2cSwIghhcU2A=;
        b=d7FA/Rv2eUYCpYyigF7iEErPmA9KEyFkUmdItFDZ599mFBCYfdL4bRe9sHgeuU6HQF
         urCTVzSUL3Tex9Ql5zFJYCGxHEO+7ULCe1A3S1S88iMpz/X4XHHMiUF051KVO0D1RByM
         oPspkP2b/L+QRWo2eWp5yorYjm/EWk4PowZZtgYBu1Xi+qaed1VrTHpe21eO6taPU73w
         IkzxTA/pJ/6ToLfHbw5qJkwPx3QS052HDfhOdKRI9jLpp44uVz+FNYyksr3zgwbQGfZ0
         67kWa7ZqHDzn+7An/wIeZY6L9athFfH//aSr6WPfgmkaWe+LRNjYZ8bZKY2pw5TW4VrV
         0cEQ==
X-Gm-Message-State: AG10YOQIkASLuxYrS44eqmq9fH6aElzdjYW7s0C6J1foXS4Hvcn2Gs6ouKu6Hj3xVU4eNw==
X-Received: by 10.141.0.212 with SMTP id b203mr21506317qhd.104.1455550180665;
        Mon, 15 Feb 2016 07:29:40 -0800 (PST)
Received: from [192.168.0.214] (cpe-74-138-23-246.kya.res.rr.com. [74.138.23.246])
        by smtp.googlemail.com with ESMTPSA id q22sm11275104qkl.19.2016.02.15.07.29.38
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Mon, 15 Feb 2016 07:29:39 -0800 (PST)
Subject: Re: Replace feather
To: dev@httpd.apache.org
References: <pony-1cd02e31b43620d7c664e038ca42a060d61727b9-a037b1c99d7417594d73f42fc8b8518a2831115d@dev.httpd.apache.org>
From: Rich Bowen <rbowen@rcbowen.com>
Message-ID: <56C1EEE0.6010001@rcbowen.com>
Date: Mon, 15 Feb 2016 10:29:36 -0500
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.0
MIME-Version: 1.0
In-Reply-To: <pony-1cd02e31b43620d7c664e038ca42a060d61727b9-a037b1c99d7417594d73f42fc8b8518a2831115d@dev.httpd.apache.org>
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: 7bit



On 02/11/2016 12:56 PM, Jim Jagielski wrote:
> I was wondering about whether we should update the feather[1] with the new one...
> I can do it...
> 
> 1. https://httpd.apache.org/images/httpd_logo_wide_new.png


It's starting to grow on me ...


-- 
Rich Bowen - rbowen@rcbowen.com - @rbowen
http://apachecon.com/ - @apachecon

From dev-return-85629-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 15 15:35:30 2016
Return-Path: <dev-return-85629-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 57CCE18C6F
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Feb 2016 15:35:30 +0000 (UTC)
Received: (qmail 35214 invoked by uid 500); 15 Feb 2016 15:35:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35135 invoked by uid 500); 15 Feb 2016 15:35:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35125 invoked by uid 99); 15 Feb 2016 15:35:20 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Feb 2016 15:35:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 111AAC2485
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 15:35:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id irXRdI7NEfwC for <dev@httpd.apache.org>;
	Mon, 15 Feb 2016 15:35:19 +0000 (UTC)
Received: from resqmta-ch2-08v.sys.comcast.net (resqmta-ch2-08v.sys.comcast.net [69.252.207.40])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id BAFF85FBC7
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 15:35:18 +0000 (UTC)
Received: from resomta-ch2-12v.sys.comcast.net ([69.252.207.108])
	by resqmta-ch2-08v.sys.comcast.net with comcast
	id Jfaf1s0032LrikM01fbCEl; Mon, 15 Feb 2016 15:35:12 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-12v.sys.comcast.net with comcast
	id JfbB1s0052U0RYt01fbBsf; Mon, 15 Feb 2016 15:35:12 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: motorz
Message-Id: <59080DE9-2759-48A3-A902-09FED4121D45@jaguNET.com>
Date: Mon, 15 Feb 2016 10:35:11 -0500
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455550512;
	bh=+jvLMZmcVPV9JtEHYJPtqof9BNGVNSo7vSyWCjZntms=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=gAntlvYAyJoPZw+PSIUoVUqVCCtHByvy8ztIePhx7MFzwbiYOAcC2HDcDaSoDA2Rf
	 Za3ZIqU299iys+KE3GZ12V7ZsJT4AxYM8Ds9EAbHPXSELzvlc/B2Rf/PsRw0YOvdwY
	 cZM3Pw9b07TUMbxwMV1iHCpY0TAckx3dbrWnrBZEs2jHVQet6mUXly5wVZBq1Tn/5A
	 M8/JO1EvV/w50mMENFcFC52dkW5E/3PyUfz9QVX++rupyQiDh4CV7IoiLVK/C/dyor
	 3ZkAIaapgnZmcF1aG3Eu1DE1Sr0hlwvehWYOgOdrbXW6k+U4YrRvVEkLLt7vfdpAvj
	 d39i2ty/mLD0Q==

Anyone had a chance yet to play around and/or hack on the
motorz mpm yet... I plan on jumping back in on it and was curious
if people had fixes, etc that they were working on.

From dev-return-85630-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 15 18:36:03 2016
Return-Path: <dev-return-85630-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 249EE1856F
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Feb 2016 18:36:03 +0000 (UTC)
Received: (qmail 75366 invoked by uid 500); 15 Feb 2016 18:36:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75280 invoked by uid 500); 15 Feb 2016 18:36:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75270 invoked by uid 99); 15 Feb 2016 18:36:02 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Feb 2016 18:36:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 2D2311A0733
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 18:36:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id fwGdyThPqgg5 for <dev@httpd.apache.org>;
	Mon, 15 Feb 2016 18:35:59 +0000 (UTC)
Received: from mail-ig0-f182.google.com (mail-ig0-f182.google.com [209.85.213.182])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 9DB795F342
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 18:35:59 +0000 (UTC)
Received: by mail-ig0-f182.google.com with SMTP id 5so61538462igt.0
        for <dev@httpd.apache.org>; Mon, 15 Feb 2016 10:35:59 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=YbmKHpMORlZmrRh9NCstvhR5l0skm/n5t1vvNmqgXSA=;
        b=optz3Z/uw/0sNeHwvUVMUiyFJ8XMtFWdNxj3i9h7Xsatcwg8dOqEL5LOJH1l5N4fiT
         sboRrj6qBz5DqvENWCeG9FZbnWV8HEwLhrOtoh/Va6JnBJ3UQfzfC4glOlYW5+yJf4hf
         eA1zGBbjzGQ26TceVFCilMe/9Q+LFugncpmRzOCXnBiiZ7tnMJYqG688ZgFcQVRModSi
         UVWuU8iOiLnmCWfW51BQ/suP9cdB0/+9dpucZOvuf+rsKoOUMkglyo7YeWpAVG+ZS8/6
         /9+NiSpHbfhkrPMk3LLUiFlNSq2zfqkNm2gkuxxRqZg+VkLI6NJ9YuUiOKxaKOYALG9R
         uLZw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=YbmKHpMORlZmrRh9NCstvhR5l0skm/n5t1vvNmqgXSA=;
        b=mEQGcCRaegCBf1SW+ncmS78+42hB8fIzhKLqMcbptdWEgXMeMUyg5QZU2YnyDb3OS3
         +6tB2iQoilCqNYSdnpntqc29jU5zpYhQ+AR4jQx0CdjAbpT9SUicL2vSlXJNdwRo6EBs
         uyKXzr+EUZ1LwU7TeGe23qP4WWbwiLkch5wMMscnI73FTIqXU4I8c5C+n4ooRB7ed7WT
         6L5RJzw4IjmHwda5omVJubRbB82gCryRi/Wrbk3V9qW8j0reI+/EanATTgzdOXnC/Ryt
         tAQcaqHPznzH8CbHB8DsWzLXU77SDkXsLTbgnvSly7kbw24jVHQ7hcfudaapOSeGGeMc
         bO0A==
X-Gm-Message-State: AG10YORbLrPh6v3eaPwS9mUrJWXZfNd66ckynblEW7nwInalTTugB5+7ok59yStsmgDw8jCxEPgfU3+rjv+E7w==
MIME-Version: 1.0
X-Received: by 10.50.36.105 with SMTP id p9mr6224034igj.56.1455561351502; Mon,
 15 Feb 2016 10:35:51 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Mon, 15 Feb 2016 10:35:51 -0800 (PST)
In-Reply-To: <CALK=YjO-epYxuoG9paTMhL6BdbMU_JtJwPFFPEkw93F_mBwj2A@mail.gmail.com>
References: <CALK=YjO-epYxuoG9paTMhL6BdbMU_JtJwPFFPEkw93F_mBwj2A@mail.gmail.com>
Date: Mon, 15 Feb 2016 13:35:51 -0500
Message-ID: <CALK=YjORjrQ0ByXB_YrZyM_HfzBgyXcnyfQnToPg_eK75Y1pLA@mail.gmail.com>
Subject: Re: Apache 2.4 adoption revisited -- now 16.4% of Apache sites
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Mar 12, 2015 at 12:54 PM, Eric Covener <covener@gmail.com> wrote:
> I stumbled on this link that Bill had shared previously and went back
> to look at previous snapshots:
>
> March 2014: 2.0: 4.1%, 2.4: 4.3%
>
> http://web.archive.org/web/20140327151641/http://w3techs.com/technologies/details/ws-apache/2/all
>
> Today (March 2015) : 2.0: 2.8%, 2.4: 16.4%
>
> http://w3techs.com/technologies/details/ws-apache/2/all

Just happened to search for this two weeks earlier than last year.
2.0: 1.9%, 2.2: 66.8%, 2.4: 31.3%

-- 
Eric Covener
covener@gmail.com

From dev-return-85631-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 15 21:46:15 2016
Return-Path: <dev-return-85631-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E854118B61
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Feb 2016 21:46:15 +0000 (UTC)
Received: (qmail 38679 invoked by uid 500); 15 Feb 2016 21:46:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38593 invoked by uid 500); 15 Feb 2016 21:46:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38583 invoked by uid 99); 15 Feb 2016 21:46:15 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Feb 2016 21:46:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 0EE47C0D9B
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 21:46:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -5.331
X-Spam-Level:
X-Spam-Status: No, score=-5.331 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_HI=-5, RP_MATCHES_RCVD=-0.329,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id p87LyWwH7Jkp for <dev@httpd.apache.org>;
	Mon, 15 Feb 2016 21:46:14 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id B63AC5FAD8
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 21:46:13 +0000 (UTC)
Received: from int-mx10.intmail.prod.int.phx2.redhat.com (int-mx10.intmail.prod.int.phx2.redhat.com [10.5.11.23])
	by mx1.redhat.com (Postfix) with ESMTPS id 1DBEA8E22B
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 21:46:07 +0000 (UTC)
Received: from iberis (unused [10.10.51.79] (may be forged))
	by int-mx10.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id u1FLk5ql032522
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NO)
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 16:46:06 -0500
Received: from jorton by iberis with local (Exim 4.86)
	(envelope-from <jorton@redhat.com>)
	id 1aVQy5-0003UK-GU
	for dev@httpd.apache.org; Mon, 15 Feb 2016 21:46:05 +0000
Date: Mon, 15 Feb 2016 21:46:05 +0000
From: Joe Orton <jorton@redhat.com>
To: dev@httpd.apache.org
Subject: Re: rotatelogs and SIGTERM?
Message-ID: <20160215214605.GA9957@redhat.com>
Mail-Followup-To: dev@httpd.apache.org
References: <CALK=YjMVUvaBc0KTPFBgrdM7Pygd=+ZUk_30pCq2X9UmTXYPYw@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline
In-Reply-To: <CALK=YjMVUvaBc0KTPFBgrdM7Pygd=+ZUk_30pCq2X9UmTXYPYw@mail.gmail.com>
User-Agent: Mutt/1.5.24 (2015-08-30)
Organization: Registered in England and Wales under Company Registration No. 03798903
Directors: Michael Cunningham (US), Michael O'Neill (Ireland), Paul Argiry (US)
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.23

On Fri, Feb 12, 2016 at 02:25:49PM -0500, Eric Covener wrote:
> Recall that 2.2 ran piped loggers under a shell until somewhat late in
> life, and 2.4 runs them directly [by default].
> 
> rotatelogs currently doesn't do anything to block sigterm.  The
> default ahndler for sigterm writes a short message to stderr, which is
> the only reason I noticed.
> 
> It seems like a lose/lose scenario though:
> 
> If rotatelogs exits early due to sigterm before all writing ends of
> the pipe are closed, it's not there to log the stragglers for e.g. a
> graceful restart
> If rotatelogs waits... then replacement rotatelogs processes are
> likely to write to the same log [if using time based rotation].
> 
> Any other ideas/observations/trivia?

I've looked at this before too but got lost in the second problem, the 
implications of having multiple concurrent piped loggers.  If we really 
want to allow that we need to make rotatelogs assume atomic log writes 
and probably drop various (mis-?)features like -t.

It certainly seems to make more sense to design the logging interface as 
"log everything from stdin till you read EOF", rather than "log 
everything until you get randomly SIGTERMed".  I've also wondered 
whether it's right to restart the piped loggers during a restart if the 
config hasn't actually changed.  That might make this problem a bit 
easier, not sure.

Regards, Joe



From dev-return-85632-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 15 22:51:21 2016
Return-Path: <dev-return-85632-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6486B18D22
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Feb 2016 22:51:21 +0000 (UTC)
Received: (qmail 25218 invoked by uid 500); 15 Feb 2016 22:51:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25146 invoked by uid 500); 15 Feb 2016 22:51:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25136 invoked by uid 99); 15 Feb 2016 22:51:20 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Feb 2016 22:51:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 8DFEDC0235
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 22:51:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id FaC7_Dsuj_ym for <dev@httpd.apache.org>;
	Mon, 15 Feb 2016 22:51:17 +0000 (UTC)
Received: from resqmta-ch2-02v.sys.comcast.net (resqmta-ch2-02v.sys.comcast.net [69.252.207.34])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 67BDA5FACB
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 22:51:17 +0000 (UTC)
Received: from resomta-ch2-16v.sys.comcast.net ([69.252.207.112])
	by resqmta-ch2-02v.sys.comcast.net with comcast
	id Jmpq1s0072S2Q5R01mrAKj; Mon, 15 Feb 2016 22:51:10 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-16v.sys.comcast.net with comcast
	id Jmr91s00W2U0RYt01mrA64; Mon, 15 Feb 2016 22:51:10 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: motorz
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <59080DE9-2759-48A3-A902-09FED4121D45@jaguNET.com>
Date: Mon, 15 Feb 2016 17:51:09 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <7C71A7D6-F58E-4ADE-B9C6-9EFB70920997@jaguNET.com>
References: <59080DE9-2759-48A3-A902-09FED4121D45@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455576670;
	bh=f3HWJdVKAUW/Fs0Fo/m8K/8u//Ht8bGuhM2fX6Gn2yQ=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=XKdUKO1lHa/62jqkLzeyTB6gyK3uVgn2dHIFeEexw/Yc9Nm1ASPP7YwqT0iMFUec2
	 zFQjtItu+CAfR9OL04WpRYz8akromPjWbYb69CaAPB3cPB+F+XqJGCt0kuXoXtHNi+
	 fy2C7mnrbNbr8uS0KmxpbQTJXk0Qxz4b7jA5fGOsDojqR8NGUI0SHjblc5u0f6YIuL
	 sxgtJo8P0Wrp8FCkjyiwHwj63cLsVPjLzKrbrY2ccGOvhbNbF+bJEQYKhgS335t/wH
	 nT3VdOHZqlxXodwu3DGCMlGArjODzMfaFv8kTWFCbb091r206VOBGDQfY2mr0NAKaI
	 1fkYrAeMWk/KQ==

The more I think of it, the more I think we should just
remove motorz and simple from trunk... Or keep them around
but not really worry about them.

The fun and interesting stuff is already in event, and although
it might be nice to, for example, move the worker_pool stuff
to a simply apr_thread_pool, I wonder what it buys us, if
anything.


From dev-return-85633-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 15 22:52:33 2016
Return-Path: <dev-return-85633-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 70CCD18D26
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Feb 2016 22:52:33 +0000 (UTC)
Received: (qmail 26753 invoked by uid 500); 15 Feb 2016 22:52:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26691 invoked by uid 500); 15 Feb 2016 22:52:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26681 invoked by uid 99); 15 Feb 2016 22:52:32 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Feb 2016 22:52:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C12F9C0D9B
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 22:52:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id EzWcnNjLs2WD for <dev@httpd.apache.org>;
	Mon, 15 Feb 2016 22:52:31 +0000 (UTC)
Received: from mail-ig0-f179.google.com (mail-ig0-f179.google.com [209.85.213.179])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 437175FACB
	for <dev@httpd.apache.org>; Mon, 15 Feb 2016 22:52:30 +0000 (UTC)
Received: by mail-ig0-f179.google.com with SMTP id y8so64583031igp.1
        for <dev@httpd.apache.org>; Mon, 15 Feb 2016 14:52:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=99vWOzHxHCiYR0aCFYQlbIiteMsHd/A+R2otvQA7TAQ=;
        b=0gp3jd3u/9bUEdtyXbAi/DMagK3I7BhltoV87R/sE9brErHEiM/Ew8gf8kBPOO301N
         PK1nQYYNxNzx5JyHQIPhZQO0MJaoB8EJbHJnGhoJPdltNPu8XO2Npn9Vyn3WFPj3Ghu1
         90Fmkl0MOrcwpBHWLgXVCOEGlMNyGJg9+HMXZjCX2U0D8iNyQDdn2LuKx0aFfKk1+Gj9
         0QD/35z0dftUlfOCzln44+z16i3MqWCalhguabmHPe41ynAv/6paMLISdHBtUr1Jufw1
         5cjVr/QzQeSJ0I1+NDocnWYBSQXa+Q8y6lZ9CXJsAStYetQRLBIkV57vasHYzhCW8N/p
         4sJA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=99vWOzHxHCiYR0aCFYQlbIiteMsHd/A+R2otvQA7TAQ=;
        b=l3eqG456gNQr5RNAV+PcdYUWu8ZfefsadfhAGcDWwQhVnw05AhAiebCUwn9F9bl3+H
         8wQ26eMBNITYe2Tt6bPQ7jmfaeXHB8Gobj9grGg6kWA6YaMTLF76IRaYbiHl9om5WrGf
         9LUddxTr8VBf8E9iHKpr4suF6DkmE2CYfvO0f7Ciefub52v4/NsgGUf7ypSQtguxs0tF
         i1jB7NmjiQzm89ypvt/b5JMf57N7dWT6XhGdNRyWNMkmn3nlcuAUCk1SjqwoNs4KhzfW
         QqdEk00e/ZECpGFqNTzpCdodwh+Ds5IKmzStJChv8+PTXAqkYPAcgC39avVgPSmuKKF+
         H+Wg==
X-Gm-Message-State: AG10YOTyGUpCRUlpnJlz3TnGdLaXqLbshreYlIuD6zwNEwsDMMRYjWXRwnZ1ta1pvm2kinm0APw2bPQ7VmfUOw==
MIME-Version: 1.0
X-Received: by 10.50.30.134 with SMTP id s6mr14123500igh.36.1455576749303;
 Mon, 15 Feb 2016 14:52:29 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Mon, 15 Feb 2016 14:52:29 -0800 (PST)
In-Reply-To: <7C71A7D6-F58E-4ADE-B9C6-9EFB70920997@jaguNET.com>
References: <59080DE9-2759-48A3-A902-09FED4121D45@jaguNET.com>
	<7C71A7D6-F58E-4ADE-B9C6-9EFB70920997@jaguNET.com>
Date: Mon, 15 Feb 2016 17:52:29 -0500
Message-ID: <CALK=YjPu9gTBQnz-tjce=OYXGYQK4q8rN5oR6T63MPNR14Rdwg@mail.gmail.com>
Subject: Re: motorz
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, Feb 15, 2016 at 5:51 PM, Jim Jagielski <jim@jagunet.com> wrote:
> The more I think of it, the more I think we should just
> remove motorz and simple from trunk... Or keep them around
> but not really worry about them.

I didn't want to be a buzzkill, but +1.

From dev-return-85634-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb 16 09:08:34 2016
Return-Path: <dev-return-85634-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D35FC17E2F
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 16 Feb 2016 09:08:34 +0000 (UTC)
Received: (qmail 36214 invoked by uid 500); 16 Feb 2016 09:08:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36121 invoked by uid 500); 16 Feb 2016 09:08:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36111 invoked by uid 99); 16 Feb 2016 09:08:34 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Feb 2016 09:08:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 7EA491A0745
	for <dev@httpd.apache.org>; Tue, 16 Feb 2016 09:08:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.298
X-Spam-Level:
X-Spam-Status: No, score=0.298 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id uTjNQ1lx4t5E for <dev@httpd.apache.org>;
	Tue, 16 Feb 2016 09:08:31 +0000 (UTC)
Received: from mail1.bemta3.messagelabs.com (mail1.bemta3.messagelabs.com [195.245.230.166])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 2B3BC5FAD9
	for <dev@httpd.apache.org>; Tue, 16 Feb 2016 09:08:30 +0000 (UTC)
Received: from [85.158.138.179] by server-6.bemta-3.messagelabs.com id 1E/C7-08479-707E2C65; Tue, 16 Feb 2016 09:08:23 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-15.tower-169.messagelabs.com!1455613703!20510208!1
X-Originating-IP: [195.232.244.135]
X-StarScan-Received:
X-StarScan-Version: 7.35.1; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 5571 invoked from network); 16 Feb 2016 09:08:23 -0000
Received: from mailout03.vodafone.com (HELO mailout03.vodafone.com) (195.232.244.135)
  by server-15.tower-169.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 16 Feb 2016 09:08:23 -0000
Received: from mailint02.vodafone.com (mailint02.vodafone.com [195.232.244.199])
	by mailout03.vodafone.com (Postfix) with ESMTP id 3q4GgC2Zf8z17HLs
	for <dev@httpd.apache.org>; Tue, 16 Feb 2016 10:08:23 +0100 (CET)
Received: from mailint02.vodafone.com (localhost [127.0.0.1])
	by mailint02.vodafone.com (Postfix) with ESMTP id 3q4GgC1JlZzQtKp
	for <dev@httpd.apache.org>; Tue, 16 Feb 2016 10:08:23 +0100 (CET)
Received: from VOEXC05W.internal.vodafone.com (voexc05w.dc-ratingen.de [145.230.101.25])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint02.vodafone.com (Postfix) with ESMTPS id 3q4GgC1Fc2zQsBg
	for <dev@httpd.apache.org>; Tue, 16 Feb 2016 10:08:23 +0100 (CET)
Received: from AVOEXH04W.internal.vodafone.com (145.230.15.136) by
 VOEXC05W.internal.vodafone.com (145.230.101.25) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Tue, 16 Feb 2016 10:08:22 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.216]) by
 AVOEXH04W.internal.vodafone.com ([145.230.15.136]) with mapi id
 14.03.0224.002; Tue, 16 Feb 2016 10:08:22 +0100
From: =?iso-8859-1?Q?Pl=FCm=2C_R=FCdiger=2C_Vodafone_Group?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: motorz
Thread-Topic: motorz
Thread-Index: AQHRaAaCR1XKOymLQkiOL0iT4XB14p8tpeeAgAC7lLA=
Date: Tue, 16 Feb 2016 09:08:21 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627ACA003C5D@VOEXM10W.internal.vodafone.com>
References: <59080DE9-2759-48A3-A902-09FED4121D45@jaguNET.com>
 <7C71A7D6-F58E-4ADE-B9C6-9EFB70920997@jaguNET.com>
In-Reply-To: <7C71A7D6-F58E-4ADE-B9C6-9EFB70920997@jaguNET.com>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0



> -----Urspr=FCngliche Nachricht-----
> Von: Jim Jagielski [mailto:jim@jaguNET.com]
> Gesendet: Montag, 15. Februar 2016 23:51
> An: dev@httpd.apache.org
> Betreff: Re: motorz
>=20
> The more I think of it, the more I think we should just
> remove motorz and simple from trunk... Or keep them around
> but not really worry about them.
>=20
> The fun and interesting stuff is already in event, and although
> it might be nice to, for example, move the worker_pool stuff
> to a simply apr_thread_pool, I wonder what it buys us, if
> anything.

I guess APRisation has its benefits (but its drawbacks as well, due to the =
stricter
versioning rules over there), but I guess we can do this iteratively
with event. Nevertheless it might be good to keep motorz and simple
around even if dormant to keep the ideas for these steps on the table.
As you sound that you don't feel these steps are all too sexy for doing the=
m
they might be for someone else. Probably if someone can define them more
clearly a project for GSOC?

Regards

R=FCdiger


From dev-return-85635-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb 16 12:05:55 2016
Return-Path: <dev-return-85635-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D50CD185BB
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 16 Feb 2016 12:05:55 +0000 (UTC)
Received: (qmail 42545 invoked by uid 500); 16 Feb 2016 12:05:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42465 invoked by uid 500); 16 Feb 2016 12:05:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42455 invoked by uid 99); 16 Feb 2016 12:05:54 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Feb 2016 12:05:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 5F032C0A6F
	for <dev@httpd.apache.org>; Tue, 16 Feb 2016 12:05:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id USdFF_VZoJ56 for <dev@httpd.apache.org>;
	Tue, 16 Feb 2016 12:05:53 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id B0DAE5FB66
	for <dev@httpd.apache.org>; Tue, 16 Feb 2016 12:05:52 +0000 (UTC)
Received: from resomta-po-10v.sys.comcast.net ([96.114.154.234])
	by resqmta-po-05v.sys.comcast.net with comcast
	id K05d1s00553iAfU0105lRU; Tue, 16 Feb 2016 12:05:45 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-10v.sys.comcast.net with comcast
	id K05j1s00Q2U0RYt0105kqb; Tue, 16 Feb 2016 12:05:45 +0000
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: motorz
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627ACA003C5D@VOEXM10W.internal.vodafone.com>
Date: Tue, 16 Feb 2016 07:05:43 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <459C7C0E-C585-4437-9F71-8C2B968D9986@jaguNET.com>
References: <59080DE9-2759-48A3-A902-09FED4121D45@jaguNET.com> <7C71A7D6-F58E-4ADE-B9C6-9EFB70920997@jaguNET.com> <AB1691BE05AE7F4992697F2A0835627ACA003C5D@VOEXM10W.internal.vodafone.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455624345;
	bh=33P399bHR22rEtZpf86x7thsSC0iGeDZvK7IO+LHFmI=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=CqKpK0M0G2bv2ciO2ttQBRgHB4XleYtM0mW9d6+GP63/X8XFVRJCKgZTAQ2YWepwu
	 za+DzdhLDYBhbx87XKop0gCiFnJoc93rMGLccF9JZy308lOkEXhxfPsS0S5EKAZvSy
	 t5n3zWmofKjIKckF3UnMT3Crr7jpw2fP9OUt3oQ3rgv7udmxmU+PBfKL4AxxPQ2zmv
	 g/hk+qHcAzTSFUWgD64Dw+POliip6TXPlhuVlPtMAT0CiDgbc/YsR/YUJX85j1gKpe
	 LZ6AkC77oZ+G5i/JgZrGhxyWbiqvw2cAKiqVxTmgVzh2y19b3CqyHln3uM0fWkML46
	 RX61bubF/b+ug==


> On Feb 16, 2016, at 4:08 AM, Pl=FCm, R=FCdiger, Vodafone Group =
<ruediger.pluem@vodafone.com> wrote:
>=20
>=20
>=20
>> -----Urspr=FCngliche Nachricht-----
>> Von: Jim Jagielski [mailto:jim@jaguNET.com]
>> Gesendet: Montag, 15. Februar 2016 23:51
>> An: dev@httpd.apache.org
>> Betreff: Re: motorz
>>=20
>> The more I think of it, the more I think we should just
>> remove motorz and simple from trunk... Or keep them around
>> but not really worry about them.
>>=20
>> The fun and interesting stuff is already in event, and although
>> it might be nice to, for example, move the worker_pool stuff
>> to a simply apr_thread_pool, I wonder what it buys us, if
>> anything.
>=20
> I guess APRisation has its benefits (but its drawbacks as well, due to =
the stricter
> versioning rules over there), but I guess we can do this iteratively
> with event. Nevertheless it might be good to keep motorz and simple
> around even if dormant to keep the ideas for these steps on the table.
> As you sound that you don't feel these steps are all too sexy for =
doing them
> they might be for someone else. Probably if someone can define them =
more
> clearly a project for GSOC?
>=20

Just an update: There was a small chat on the #httpd-dev IRC channel and =
it
sounds like others see the benefit, if not the actual need (yet), for
keeping motorz as a semi-active activity, so I will keep on plugging
on it as will others. There may be things much more easily implemented
in motorz than in event; also, event is a great MPM but, it has to be
admitted, is pretty complex. motorz is an easier MPM to jump in with.


From dev-return-85636-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb 16 12:09:08 2016
Return-Path: <dev-return-85636-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AAC9D185D9
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 16 Feb 2016 12:09:08 +0000 (UTC)
Received: (qmail 50565 invoked by uid 500); 16 Feb 2016 12:09:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50471 invoked by uid 500); 16 Feb 2016 12:09:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50461 invoked by uid 99); 16 Feb 2016 12:09:08 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Feb 2016 12:09:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id CA72C180693
	for <dev@httpd.apache.org>; Tue, 16 Feb 2016 12:09:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ZvnSD9bFzstK for <dev@httpd.apache.org>;
	Tue, 16 Feb 2016 12:09:07 +0000 (UTC)
Received: from resqmta-po-07v.sys.comcast.net (resqmta-po-07v.sys.comcast.net [96.114.154.166])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 5B2F15FAF3
	for <dev@httpd.apache.org>; Tue, 16 Feb 2016 12:09:06 +0000 (UTC)
Received: from resomta-po-10v.sys.comcast.net ([96.114.154.234])
	by resqmta-po-07v.sys.comcast.net with comcast
	id K08z1s00353iAfU0108zrQ; Tue, 16 Feb 2016 12:08:59 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-10v.sys.comcast.net with comcast
	id K08y1s0082U0RYt0108y5d; Tue, 16 Feb 2016 12:08:59 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: rotatelogs and SIGTERM?
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CALK=YjNqjnaUBeZnPCNa4EfNNBE+z1gXyqYYah73HVDNnAEq6g@mail.gmail.com>
Date: Tue, 16 Feb 2016 07:08:58 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <37D66307-F4BB-4BF8-A07C-4E08EB366C34@jaguNET.com>
References: <CALK=YjMVUvaBc0KTPFBgrdM7Pygd=+ZUk_30pCq2X9UmTXYPYw@mail.gmail.com> <CAKQ1sVPj=KL4XTFK0dgx1EQcCxGz9OaXTYEzPijLjt7ihUKyyQ@mail.gmail.com> <CALK=YjMRHP5ovR3ECWOFn0m=CVfK9i0EddXs6iutNpAxWvJm4A@mail.gmail.com> <CAKQ1sVOBpVu2-0KP2poi+5ktDhPg=9mco8PmtGFiv+hiWpGNSw@mail.gmail.com> <CALK=YjNqjnaUBeZnPCNa4EfNNBE+z1gXyqYYah73HVDNnAEq6g@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455624539;
	bh=7l7cxBYWULszW/r7VRGuZSpi/sm8wTlmJm9P8SsxT9Y=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=E6CVC2SPZsAWghGHRXn65CnoN5gITpAmiudweKifH83X6hf16IGZkLD9lse6LzcVf
	 +pbkxI4LCbeuWmApgjQ7DymynsYji7IdqegMio+8EURtJc4EL+up7Rq0zMX/C0GC2R
	 yQ2yZTRW8wBYACFGDwChSZvh//n3MJFUg1kjGN5KnVgjVSF0ZZM232GIezvD+94HU/
	 IjxA+Y6wy+KnP7tGdibQtQY1pKfjoj1FO098etQ5OjhpttUQ1x2YFHMR0RtajSOkik
	 WfJVL/jythxBSfaGNCF4PlRVbKoYUrSLAKGP5YD2YqqsGGXd+gNAxgHlRwzjL+7IBn
	 KBoDxZd4VTk8Q==


> On Feb 12, 2016, at 4:48 PM, Eric Covener <covener@gmail.com> wrote:
> 
> 
> Moreso trying to flush out if it's a good or bad idea, seems simple
> enough to add to rotatelogs rather than requiring the wrapper.

Yeah, I would agree...

From dev-return-85637-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb 16 14:22:36 2016
Return-Path: <dev-return-85637-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BF50A18AC2
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 16 Feb 2016 14:22:36 +0000 (UTC)
Received: (qmail 48770 invoked by uid 500); 16 Feb 2016 14:22:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48687 invoked by uid 500); 16 Feb 2016 14:22:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48674 invoked by uid 99); 16 Feb 2016 14:22:36 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Feb 2016 14:22:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 9E3B4C0A6F;
	Tue, 16 Feb 2016 14:22:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id g0XZnhZH1WvW; Tue, 16 Feb 2016 14:22:34 +0000 (UTC)
Received: from mail-io0-f177.google.com (mail-io0-f177.google.com [209.85.223.177])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 867F45F342;
	Tue, 16 Feb 2016 14:22:34 +0000 (UTC)
Received: by mail-io0-f177.google.com with SMTP id g203so167045890iof.2;
        Tue, 16 Feb 2016 06:22:34 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=qN+4mC7P9doUme2oZmsm/nQ7dyouoBuLYSPSAcprKmA=;
        b=fDGtddyhH1wEQAa86an5PUXRkS/IedZoVJ2DhO74IE2Pdb3QNyfUmw9vzQfwlXl8IE
         eHTFtJOP70ycKs5/CJNrmdkrThHsYwnkyew7nYFlgJkr6FI+Fn8EQdY0XhPFyZ2R8wbY
         59PW/GZIualW5LZnNQQxMripMe/+OFZkuKCULT3LuWOjFbz1YuCYwnYsi/sAh5yPvBdA
         2TR1/yW2iDY3BW6t39hGnDf4OBKVfd0L9tor6uI7v8D8lsMJQMJFXx7kacFFo9I4+yXs
         2VUXmJRFwJPzHfTuKLEShNkjwevVQsHG9V9aAokmIJKO6B5wBocBKGpH1mxdue5FMAGX
         B/qg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=qN+4mC7P9doUme2oZmsm/nQ7dyouoBuLYSPSAcprKmA=;
        b=L45PWRpiBOsrarOCa/QtDsod3FQbcRshG8EwlxYRQDjKL/9/aBrHlU0ke7V1IM4LbE
         x/6mnu4NrzpU9oRzWstdi6f3PWYSo+jtrelSoyy7g/kIQMOmDlLqdyPiyfhjHjmK5OUS
         s9mx7RVLOQoRkcLcGsr635Qyx4/8IvorOCEZGUk9SDMSP4T0zBPoeEvRIlSmQokI1nyY
         jgL78nPtJgnna5r6oI7KIDIGQPZYCDTaA7pnG8Dl6g1iO+qk8HCYZ5bF7z4YJrUgqVtM
         4cueZocLvAQktKRAMfXuon0FoYHowfgfpO7W1aO1LSD+Ak6ikAEmKqzQ3exXXzmsPkOV
         vSGw==
X-Gm-Message-State: AG10YORW6SY7rKYuL4zyVTMG+QmQAtn/pMAeH4ECMNGNjexmlAak5lHd9cN0XSSJfgI1P9mBHfpYFHxJsVqWkQ==
MIME-Version: 1.0
X-Received: by 10.107.164.212 with SMTP id d81mr25592617ioj.169.1455632553917;
 Tue, 16 Feb 2016 06:22:33 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Tue, 16 Feb 2016 06:22:33 -0800 (PST)
In-Reply-To: <20160216123208.ECDC93A09DA@svn01-us-west.apache.org>
References: <20160216123208.ECDC93A09DA@svn01-us-west.apache.org>
Date: Tue, 16 Feb 2016 09:22:33 -0500
Message-ID: <CALK=YjN50hG8ZsWnnFfj-uxsEyF2S4OFeN-Mt8d86XL1Dc=rgw@mail.gmail.com>
Subject: Re: svn commit: r1730673 - /httpd/httpd/trunk/docs/manual/sections.xml
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Cc: cvs@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Tue, Feb 16, 2016 at 7:32 AM,  <elukey@apache.org> wrote:
> +<p>The chain of values that the "foo" header will get is: "one", "three" and "two".
> +It is important to notice that <directive>Directory</directive> and <directive>FilesMatch</directive>
> +implement the same merging strategy, namely "override" when
> +applied to the same path. In this example it means that the last directive applied in the merging order,
> +<directive>FilesMatch</directive>, sets the final value for the "foo" header.
> +</p>


The merging strategy is determined by the module implementing the
repeated directive, e.g. mod_headers. The moral of this PR is that
htacess and directory are the same, and wrapping directives in things
like files/filesmatch generally gives those directives higher
priority/precedence then unwrapped directives because it delays the
processing of those directives.

From dev-return-85638-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb 16 15:42:22 2016
Return-Path: <dev-return-85638-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D8B9C18E57
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 16 Feb 2016 15:42:22 +0000 (UTC)
Received: (qmail 97132 invoked by uid 500); 16 Feb 2016 15:42:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97069 invoked by uid 500); 16 Feb 2016 15:42:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97056 invoked by uid 99); 16 Feb 2016 15:42:22 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Feb 2016 15:42:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 9E7BBC2657;
	Tue, 16 Feb 2016 15:42:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id J9VB4OUIMab9; Tue, 16 Feb 2016 15:42:20 +0000 (UTC)
Received: from mail-lf0-f46.google.com (mail-lf0-f46.google.com [209.85.215.46])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 216D65FE27;
	Tue, 16 Feb 2016 15:42:20 +0000 (UTC)
Received: by mail-lf0-f46.google.com with SMTP id j78so111311315lfb.1;
        Tue, 16 Feb 2016 07:42:20 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=JLupHZsMTTrKmrDi4FmVCnb10lArzrQ8yItJ9TLqQ8Q=;
        b=Or6aZVwCFtBUGKWxe1XyMDx+guKD0RvjnVzujI6tWhj2xyDAYfUBj7N8cgbMD1MKQe
         UR/l2Lg9eeD6kejVI8TAynE3wKS2E6G8AONF1WAharBhixCtjm7z+CxQ5aB9vh3piB7i
         hOtKyz+tvWp09yxrgG+urQ5+0QaHoGJxYO5bzfq2+Cx40yvGEHJXK8fckhzuvZ5OSkQK
         nVhZTdJWJV+tQTaK2gYIGaU1DtFGWiidoSa/QKqxsM6eXdknXgUn+b0OjY6alVVdqUrE
         YpU13PCm/ZZaThOQh2DwHUkdlx9pvUTN/1q81/8HjW7LX1zLkZ/CIkT41k3B8Hhnx2HQ
         0Pyg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=JLupHZsMTTrKmrDi4FmVCnb10lArzrQ8yItJ9TLqQ8Q=;
        b=TU6X95IuTPkOq8v/NknnF7qrzhW3k4G0WXhMR5DWoUfFZXB4HnFoFCSy50mMsM/tqZ
         FqlvS56SEwNLeVRndLm3tERaN+tTSBik3Fd98hGUZ2ukTiVTXkwHaH+kS7qkDKJkcGVH
         hh+qvseosmP4SRiexDbouUyBySpdJMVA269lqMa2cn7FlnxgeHY19WQaLIE+5nrU0Xjj
         Axgl0PpYHxyqnFRFGAKTr4+7VAGeLb5xuHIi0yVhSAPpAsi0iH7mUFWKsAe80+JDkpa/
         +AT/lVzmSrN9JepzRzanhQE+CCwudgRSs4LNkRBiz9R5d7cisF83mKdA2uqAM8ACAOfu
         Oehw==
X-Gm-Message-State: AG10YOQBKgyMaztTiafKyztOMIMXqX37YilbF3NlMxAlWvoBA9DA+mzSXy+xV0ixQhghwnYHlxRig4+yp0RH2Q==
MIME-Version: 1.0
X-Received: by 10.25.90.3 with SMTP id o3mr8212617lfb.166.1455637339699; Tue,
 16 Feb 2016 07:42:19 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Tue, 16 Feb 2016 07:42:19 -0800 (PST)
In-Reply-To: <CALK=YjN50hG8ZsWnnFfj-uxsEyF2S4OFeN-Mt8d86XL1Dc=rgw@mail.gmail.com>
References: <20160216123208.ECDC93A09DA@svn01-us-west.apache.org>
	<CALK=YjN50hG8ZsWnnFfj-uxsEyF2S4OFeN-Mt8d86XL1Dc=rgw@mail.gmail.com>
Date: Tue, 16 Feb 2016 16:42:19 +0100
Message-ID: <CAFedD42nTXKbJ=5DjtKnRBF6HOu-kd4qSVvoJriY24VrQdWR1g@mail.gmail.com>
Subject: Re: svn commit: r1730673 - /httpd/httpd/trunk/docs/manual/sections.xml
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Cc: cvs@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11418d648e0356052be4fa22

--001a11418d648e0356052be4fa22
Content-Type: text/plain; charset=UTF-8

Update from the dev irc channel: I had a chat with Eric and he explained to
me with a lot more details how configuration and execution really work for
a module. The next step is for me to amend my patch and update bugzilla.

Luca

2016-02-16 15:22 GMT+01:00 Eric Covener <covener@gmail.com>:
>
>
> The merging strategy is determined by the module implementing the
> repeated directive, e.g. mod_headers. The moral of this PR is that
> htacess and directory are the same, and wrapping directives in things
> like files/filesmatch generally gives those directives higher
> priority/precedence then unwrapped directives because it delays the
> processing of those directives.
>

--001a11418d648e0356052be4fa22
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Update from the dev irc channel: I had a chat with Eric an=
d he explained to me with a lot more details how configuration and executio=
n really work for a module. The next step is for me to amend my patch and u=
pdate bugzilla.<div><br></div><div>Luca<br><div class=3D"gmail_extra"><br><=
div class=3D"gmail_quote">2016-02-16 15:22 GMT+01:00 Eric Covener <span dir=
=3D"ltr">&lt;<a href=3D"mailto:covener@gmail.com" target=3D"_blank">covener=
@gmail.com</a>&gt;</span>:<blockquote class=3D"gmail_quote" style=3D"margin=
:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
<br>
The merging strategy is determined by the module implementing the<br>
repeated directive, e.g. mod_headers. The moral of this PR is that<br>
htacess and directory are the same, and wrapping directives in things<br>
like files/filesmatch generally gives those directives higher<br>
priority/precedence then unwrapped directives because it delays the<br>
processing of those directives.<br>
</blockquote></div><br></div></div></div>

--001a11418d648e0356052be4fa22--

From dev-return-85639-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb 16 17:34:28 2016
Return-Path: <dev-return-85639-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E793E184B4
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 16 Feb 2016 17:34:27 +0000 (UTC)
Received: (qmail 58521 invoked by uid 500); 16 Feb 2016 17:34:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58454 invoked by uid 500); 16 Feb 2016 17:34:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58444 invoked by uid 99); 16 Feb 2016 17:34:26 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Feb 2016 17:34:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 796B41800ED
	for <dev@httpd.apache.org>; Tue, 16 Feb 2016 17:34:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id O_z7NGSGnm-3 for <dev@httpd.apache.org>;
	Tue, 16 Feb 2016 17:34:24 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 49F445FB00
	for <dev@httpd.apache.org>; Tue, 16 Feb 2016 17:34:24 +0000 (UTC)
Received: from resomta-po-10v.sys.comcast.net ([96.114.154.234])
	by resqmta-po-05v.sys.comcast.net with comcast
	id K5ZY1s00353iAfU015aH6J; Tue, 16 Feb 2016 17:34:17 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-10v.sys.comcast.net with comcast
	id K5aG1s00R2U0RYt015aHPK; Tue, 16 Feb 2016 17:34:17 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: [PATCH 58985] Add 451 status code
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <2D536827-2122-4AD2-95F1-D771F6BD63BD@jaguNET.com>
Date: Tue, 16 Feb 2016 12:34:16 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <E35D3B11-9EE8-43A6-A7B6-4790AA1E3375@jaguNET.com>
References: <CAGBAQ45j7NTLZYiYs5rwkCzn0aaNOV7yxKvO=C8mUAQpQJDGXw@mail.gmail.com> <2D536827-2122-4AD2-95F1-D771F6BD63BD@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1455644057;
	bh=y53i10IRCi50W9hS/06IuraAaHt7YtQh+AevMzVCcFY=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=EQcJ+YquHj+xunwQk2bro6a1+XLn3tuKH/bFk5n08DVjpP6ARbBqI4/Iny9fL6yKg
	 oam+879cfQOTn5/IxX6xZYzmbSBNaA/MgUEMHzO4nY5OyGBnG+TJ35Axn4KwkWhsbM
	 8pYxfnqFDfGdR1xplE71gtv4Fewm2eb4q+LjpTVRsfh9iySZRXKP3+UqLYza8tITxt
	 O1Hg/vchHTjd0KHEORpMWm7OIqF5M9BJl0+ibWcKZEVBJryKeEcT2vOWSEhJC4KGLd
	 sdycqkpZ1FQNrmCM9/yAaJmE2it8Dbhsi/j4i0rYBZQSff6N8y9/uK2cD7GNqQRrL7
	 yJ6E4C+NS1QPA==

Required additional change to httpd.h but
applied in r1730723

> On Feb 14, 2016, at 10:31 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> Thx. Will review asap.
>=20
>> On Feb 13, 2016, at 8:01 PM, Yehuda Katz <yehuda@ymkatz.net> wrote:
>>=20
>> Hello all,
>> I looked into the missing 451 status code because someone asked about =
it on the users list. It seems like a simple enough patch - since it is =
just copying an existing feature.
>> I am looking at possible contributing more and I am interested in =
feedback.
>>=20
>> https://bz.apache.org/bugzilla/show_bug.cgi?id=3D58985
>>=20
>> - Y
>=20


From dev-return-85640-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 17 05:08:40 2016
Return-Path: <dev-return-85640-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8C07F18791
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 17 Feb 2016 05:08:40 +0000 (UTC)
Received: (qmail 28052 invoked by uid 500); 17 Feb 2016 05:08:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 27966 invoked by uid 500); 17 Feb 2016 05:08:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 27956 invoked by uid 99); 17 Feb 2016 05:08:34 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Feb 2016 05:08:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5FE941804EF
	for <dev@httpd.apache.org>; Wed, 17 Feb 2016 05:08:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.28
X-Spam-Level:
X-Spam-Status: No, score=0.28 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id pTRORiYWJuNZ for <dev@httpd.apache.org>;
	Wed, 17 Feb 2016 05:08:32 +0000 (UTC)
Received: from fed1rmfepo203.cox.net (fed1rmfepo203.cox.net [68.230.241.148])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTP id 3E25D5FDEB
	for <dev@httpd.apache.org>; Wed, 17 Feb 2016 05:08:31 +0000 (UTC)
Received: from fed1rmimpo209 ([68.230.241.160]) by fed1rmfepo203.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20160217050823.JJPL26406.fed1rmfepo203.cox.net@fed1rmimpo209>
          for <dev@httpd.apache.org>; Wed, 17 Feb 2016 00:08:23 -0500
Received: from [192.168.1.33] ([98.176.34.113])
	by fed1rmimpo209 with cox
	id KH8M1s0012STVfm01H8N5p; Wed, 17 Feb 2016 00:08:23 -0500
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020201.56C40047.0037,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.0 cv=RNFt6fe+ c=1 sm=1
 a=8xCO7h6kmYZdHn5tUOQhsw==:17 a=IVS4BHs2EZuqoVZt0IEA:9 a=wPNLvfGTeEIA:10
 a=Rlu8qiOPgzj48bG20TwA:9 a=8xCO7h6kmYZdHn5tUOQhsw==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <56C40061.6020207@gknw.net>
Date: Tue, 16 Feb 2016 21:08:49 -0800
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: h2_conn.c r1727604 crashing on windows
Content-Type: multipart/mixed;
 boundary="------------070707020902050102040306"

This is a multi-part message in MIME format.
--------------070707020902050102040306
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi Stefan,

Windows doesn't seems to like this.
Short call stack and locals in attached.

Regards,

Gregg

--------------070707020902050102040306
Content-Type: text/plain;
 name="r1727604_crash.txt"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="r1727604_crash.txt"

httpd-trunk at r1727604

APR      1.5.2
APR-UTIL 1.5.4
PCRE     8.38
SSL      1.0.2f
NGHTTP2  1.7.0

Call Stack
--------------

>	mod_http2.so!h2_slave_create(conn_rec * master=0x02cbc2b0, apr_pool_t * p=0x01a6e208, apr_thread_t * thread=0x01a6c2b0, apr_socket_t * socket=0x01a6c2d0)  Line 262 + 0x5 bytes	C
 	mod_http2.so!execute(apr_thread_t * thread=0x01a6c2b0, void * wctx=0x02cd2380)  Line 66 + 0x1b bytes	C
 	libapr-1.dll!dummy_worker(void * opaque=0x01a6c2b0)  Line 79 + 0xa bytes	C
 	msvcr90.dll!70c23433() 	
 	[Frames below may be incorrect and/or missing, no symbols loaded for msvcr90.dll]	
 	msvcr90.dll!70c234c7() 	
 	kernel32.dll!75ead4d1() 	
 	ntdll.dll!77401593() 	
 	ntdll.dll!77401566() 	


Locals
--------------

-		master	0x02cbc2b0 {pool=0x02cd0138 base_server=0x01a3c100 vhost_lookup_data=0x00000000 ...}	conn_rec *
		pool	0x02cd0138	apr_pool_t *
+		base_server	0x01a3c100 {process=0x019cd0a0 next=0x01a3b768 error_fname=0x01a3c7a8 "logs/error.log" ...}	server_rec *
		vhost_lookup_data	0x00000000	void *
-		local_addr	0x02cbc188 {pool=0x02cbc0e8 hostname=0x00000000 <Bad Ptr> servname=0x00000000 <Bad Ptr> ...}	apr_sockaddr_t *
		pool	0x02cbc0e8	apr_pool_t *
+		hostname	0x00000000 <Bad Ptr>	char *
+		servname	0x00000000 <Bad Ptr>	char *
		port	0x01bb	unsigned short
		family	0x00000017	int
		salen	0x0000001c	int
		ipaddr_len	0x00000010	int
		addr_str_len	0x0000002e	int
		ipaddr_ptr	0x02cbc1b8	void *
+		next	0x00000000 {pool=??? hostname=??? servname=??? ...}	apr_sockaddr_t *
+		sa	{sin={...} sin6={...} }	<unnamed-tag>
-		client_addr	0x02cbc1d0 {pool=0x02cbc0e8 hostname=0x00000000 <Bad Ptr> servname=0x00000000 <Bad Ptr> ...}	apr_sockaddr_t *
		pool	0x02cbc0e8	apr_pool_t *
+		hostname	0x00000000 <Bad Ptr>	char *
+		servname	0x00000000 <Bad Ptr>	char *
		port	0xd192	unsigned short
		family	0x00000017	int
		salen	0x0000001c	int
		ipaddr_len	0x00000010	int
		addr_str_len	0x0000002e	int
		ipaddr_ptr	0x02cbc200	void *
+		next	0x00000000 {pool=??? hostname=??? servname=??? ...}	apr_sockaddr_t *
+		sa	{sin={...} sin6={...} }	<unnamed-tag>
+		client_ip	0x02cbc370 "::1"	char *
+		remote_host	0x00000000 <Bad Ptr>	char *
+		remote_logname	0x00000000 <Bad Ptr>	char *
+		local_ip	0x02cbc340 "::1"	char *
+		local_host	0x00000000 <Bad Ptr>	char *
		id	0x0000003e	long
		conn_config	0x02cd0178	ap_conf_vector_t *
		notes	0x02cd0200	apr_table_t *
+		input_filters	0x02cee2b8 {frec=0x01a6be40 ctx=0x02cd23e0 next=0x02cee090 ...}	ap_filter_t *
+		output_filters	0x02cd0530 {frec=0x01a1f660 ctx=0x00000000 next=0x02cd0550 ...}	ap_filter_t *
		sbh	0x02cbc2a8	void *
		bucket_alloc	0x02cbe0f0	apr_bucket_alloc_t *
+		cs	0x00000000 {state=??? sense=??? }	conn_state_t *
		data_in_input_filters	0x00000000	int
		data_in_output_filters	0x00000000	int
		clogging_input_filters	0x00000000	unsigned int
		double_reverse	0x00000000	int
		aborted	0x00000000	unsigned int
		keepalive	AP_CONN_UNKNOWN	ap_conn_keepalive_e
		keepalives	0x00000000	int
+		log	0x00000000 {module_levels=??? level=??? }	const ap_logconf *
+		log_id	0x00000000 <Bad Ptr>	const char *
		current_thread	0x02cbc3a0	apr_thread_t *
+		slaves	0x02cd0358 {pool=0x02cd0138 elt_size=0x00000004 nelts=0x00000000 ...}	apr_array_header_t *
+		master	0x00000000 {pool=??? base_server=??? vhost_lookup_data=??? ...}	conn_rec *
		ctx	0x00000000	void *
		suspended_baton	0x00000000	void *
+		requests	0x02cd03c0 {pool=0x02cd0138 elt_size=0x00000004 nelts=0x00000000 ...}	apr_array_header_t *
+		empty	0x02cd0428 {p=0x02cd0138 list={...} bucket_alloc=0x02cbe0f0 }	apr_bucket_brigade *
		filters	0x02cd0448	apr_hash_t *
		async_filter	0x00000000	int
		p	0x01a6e208	apr_pool_t *
		thread	0x01a6c2b0	apr_thread_t *
		socket	0x01a6c2d0	apr_socket_t *



--------------070707020902050102040306--

From dev-return-85641-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 17 17:58:56 2016
Return-Path: <dev-return-85641-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CA90818E7C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 17 Feb 2016 17:58:56 +0000 (UTC)
Received: (qmail 62881 invoked by uid 500); 17 Feb 2016 17:58:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62819 invoked by uid 500); 17 Feb 2016 17:58:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62805 invoked by uid 99); 17 Feb 2016 17:58:56 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Feb 2016 17:58:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C4C58C093F;
	Wed, 17 Feb 2016 17:58:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id T7lWHr5Kl3kf; Wed, 17 Feb 2016 17:58:54 +0000 (UTC)
Received: from mail-lf0-f49.google.com (mail-lf0-f49.google.com [209.85.215.49])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 30A4067174;
	Wed, 17 Feb 2016 17:19:05 +0000 (UTC)
Received: by mail-lf0-f49.google.com with SMTP id m1so15679974lfg.0;
        Wed, 17 Feb 2016 09:19:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=dyu0JcZ4jjdskAjBZGwENIEbejPh7mHVdVxufpJfW3E=;
        b=bCAftISo/8O7A8hNCnzxzSjbqgh9+GwWrK+3GmICZNI4xZ+feHPRIhVOcFQqweBkSF
         k0yjRfdW8SxMZIt3PzDyLX/o73mZB3XDujdpPlNohtMai3aPi326LgztdMkcuuycCGHI
         iFQzglxHMBhbtz/X7t25F36lQV4BxXQPjPWWNS3UatL0xOf1+tQis9Uz82N4/1v17AL6
         Seyg17GSA4a1adxMBdTaG7+cSG4SkjB+Y9HqRNnt2yGMVawciyZM+bEV5WNyWhR2Ih4n
         Kh76uLGRJdiT+5GrsDzGdqWSWryKJOGSsmP8x5xjVwHbBjGKM0FB4x/d9q+oY0q/pdfB
         zPbg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=dyu0JcZ4jjdskAjBZGwENIEbejPh7mHVdVxufpJfW3E=;
        b=IhklLnkvPYTHMgXUY5XpaQIRYj1eQEhyatwwWIjVrGv8l1WRkb2kTh771BxzeJPiQV
         LOM/tfnYSVos3Q6XrWPf46tzxOf7p0pjPbgzT3OxEAcij/0YUSNkdJhMa1M+JujsjfTZ
         cE7UyzEzvJ24CJy3uUM4xx4bcvKqNNx4EdcLJHlTlu6EKWO8ePhCjbuPcXihdlqK+tKw
         U9G6QEx+BYds7NTnH36M4y21mTVk0Oouh3hi6zqi4VlaRRDMe3wKy623EWq4guxseAB+
         MTQf47F6fNmx1EkA35b/CIdYBefAVKGE/9KLnyW1/zzE89X7Wau8fXrPkcP5yoFmb+Vh
         m9QA==
X-Gm-Message-State: AG10YOQe36dXIQon3xLFVVuM0L8RH/9PBoeGpOOzxeJsP07T730ccU7f7tE0cDkCzAHUuTdKw6WdxsjWIxvsvw==
MIME-Version: 1.0
X-Received: by 10.25.90.3 with SMTP id o3mr661694lfb.166.1455729538007; Wed,
 17 Feb 2016 09:18:58 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Wed, 17 Feb 2016 09:18:57 -0800 (PST)
In-Reply-To: <CAFedD42nTXKbJ=5DjtKnRBF6HOu-kd4qSVvoJriY24VrQdWR1g@mail.gmail.com>
References: <20160216123208.ECDC93A09DA@svn01-us-west.apache.org>
	<CALK=YjN50hG8ZsWnnFfj-uxsEyF2S4OFeN-Mt8d86XL1Dc=rgw@mail.gmail.com>
	<CAFedD42nTXKbJ=5DjtKnRBF6HOu-kd4qSVvoJriY24VrQdWR1g@mail.gmail.com>
Date: Wed, 17 Feb 2016 18:18:57 +0100
Message-ID: <CAFedD42ZhZ=rOFvbNmxq_52ouoEmGLsafxCUaz9heVW4GhsnkQ@mail.gmail.com>
Subject: Re: svn commit: r1730673 - /httpd/httpd/trunk/docs/manual/sections.xml
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Cc: cvs@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11418d640089ff052bfa72c2

--001a11418d640089ff052bfa72c2
Content-Type: text/plain; charset=UTF-8

New version in http://httpd.apache.org/docs/trunk/sections.html#merging

2016-02-16 16:42 GMT+01:00 Luca Toscano <toscano.luca@gmail.com>:

> Update from the dev irc channel: I had a chat with Eric and he explained
> to me with a lot more details how configuration and execution really work
> for a module. The next step is for me to amend my patch and update bugzilla.
>
> Luca
>
> 2016-02-16 15:22 GMT+01:00 Eric Covener <covener@gmail.com>:
>>
>>
>> The merging strategy is determined by the module implementing the
>> repeated directive, e.g. mod_headers. The moral of this PR is that
>> htacess and directory are the same, and wrapping directives in things
>> like files/filesmatch generally gives those directives higher
>> priority/precedence then unwrapped directives because it delays the
>> processing of those directives.
>>
>
>

--001a11418d640089ff052bfa72c2
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">New version in=C2=A0<a href=3D"http://httpd.apache.org/doc=
s/trunk/sections.html#merging">http://httpd.apache.org/docs/trunk/sections.=
html#merging</a><br><div class=3D"gmail_extra"><br><div class=3D"gmail_quot=
e">2016-02-16 16:42 GMT+01:00 Luca Toscano <span dir=3D"ltr">&lt;<a href=3D=
"mailto:toscano.luca@gmail.com" target=3D"_blank">toscano.luca@gmail.com</a=
>&gt;</span>:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px =
0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-l=
eft-style:solid;padding-left:1ex"><div dir=3D"ltr">Update from the dev irc =
channel: I had a chat with Eric and he explained to me with a lot more deta=
ils how configuration and execution really work for a module. The next step=
 is for me to amend my patch and update bugzilla.<span class=3D""><font col=
or=3D"#888888"><div><br></div></font></span><div><span class=3D""><font col=
or=3D"#888888">Luca</font></span><span class=3D""><br><div class=3D"gmail_e=
xtra"><br><div class=3D"gmail_quote">2016-02-16 15:22 GMT+01:00 Eric Covene=
r <span dir=3D"ltr">&lt;<a href=3D"mailto:covener@gmail.com" target=3D"_bla=
nk">covener@gmail.com</a>&gt;</span>:<blockquote class=3D"gmail_quote" styl=
e=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(2=
04,204,204);border-left-style:solid;padding-left:1ex">
<br>
The merging strategy is determined by the module implementing the<br>
repeated directive, e.g. mod_headers. The moral of this PR is that<br>
htacess and directory are the same, and wrapping directives in things<br>
like files/filesmatch generally gives those directives higher<br>
priority/precedence then unwrapped directives because it delays the<br>
processing of those directives.<br>
</blockquote></div><br></div></span></div></div>
</blockquote></div><br></div></div>

--001a11418d640089ff052bfa72c2--

From dev-return-85642-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 17 18:29:46 2016
Return-Path: <dev-return-85642-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0BFD0184FD
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 17 Feb 2016 18:29:46 +0000 (UTC)
Received: (qmail 28214 invoked by uid 500); 17 Feb 2016 18:29:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28146 invoked by uid 500); 17 Feb 2016 18:29:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28136 invoked by uid 99); 17 Feb 2016 18:29:45 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Feb 2016 18:29:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C1BE81A0845
	for <dev@httpd.apache.org>; Wed, 17 Feb 2016 18:29:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.672
X-Spam-Level: *
X-Spam-Status: No, score=1.672 tagged_above=-999 required=6.31
	tests=[KAM_BADIPHTTP=2, NORMAL_HTTP_TO_IP=0.001,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001, WEIRD_PORT=0.001]
	autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id E1UDQjWI3uej for <dev@httpd.apache.org>;
	Wed, 17 Feb 2016 18:29:42 +0000 (UTC)
Received: from weser.webweaving.org (weser.webweaving.org [148.251.234.232])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id B23BA64C57
	for <dev@httpd.apache.org>; Wed, 17 Feb 2016 11:33:58 +0000 (UTC)
Received: from [10.11.0.122] (5ED29D98.cm-7-3c.dynamic.ziggo.nl [94.210.157.152])
	(authenticated bits=0)
	by weser.webweaving.org (8.15.2/8.15.2) with ESMTPSA id u1HBXoOS048937
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Wed, 17 Feb 2016 12:33:50 +0100 (CET)
	(envelope-from dirkx@webweaving.org)
X-Authentication-Warning: weser.webweaving.org: Host 5ED29D98.cm-7-3c.dynamic.ziggo.nl [94.210.157.152] claimed to be [10.11.0.122]
From: Dirk-Willem van Gulik <dirkx@webweaving.org>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Subject: Odd SSLProxyCheckPeerCN behaviour
Message-Id: <73A89BAB-1B8C-4C5D-AD53-14DC0F0060BA@webweaving.org>
Date: Wed, 17 Feb 2016 12:33:50 +0100
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)
X-Greylist: Sender succeeded SMTP AUTH, not delayed by milter-greylist-4.4.3 (weser.webweaving.org [148.251.234.232]); Wed, 17 Feb 2016 12:33:51 +0100 (CET)

Was looking into a report that something could get a lift on websocket =
with a specific AltSubject trickery; but got into jak shaving - where I =
cannot work out why SSLProxyCheckPeerCN et.al. get ignored. The most =
trivial config I could find to reproduce is:

	Listen  123.123.123.123:4321

	<VirtualHost  123.123.123.123:4321>
        	ServerName test-websock-bypass.webweaving.org	=09
	        LogLevel Debug

	        SSLProxyEngine On

        	SSLProxyCheckPeerCN off	# Not using =
SSLProxyCheckPeerName off
	        SSLProxyCheckPeerExpire off
	        SSLProxyVerify off


        	SSLProxyCACertificateFile =E2=80=A6./proxy.pem

	        ProxyPass / https://127.0.0.1:1234/
        	ProxyPassReverse / https://127.0.0.1:1234/
	</VirtualHost>

This getting tested with

	beeb:~ dirkx$ curl -vvvv https://123.123.123.123:4321/

giving us a=20

	500 Proxy Error

	The proxy server could not handle the request <em><a =
href=3D"/">GET&nbsp;/</a></em>.<p>
	Reason: <strong>Error during SSL Handshake with remote =
server</strong></p><p />=09

However the log gives me:

[Wed Feb 17 12:18:53.167903 2016] [ssl:debug] [pid 48233] =
ssl_engine_kernel.c(1560): [remote 192.168.0.5:6045] AH02275: =
Certificate Verification, depth 0, CRL checking mode: none [subject: =
emailAddress=3Droot@host.unknown,CN=3Dhost.unknown,OU=3Droot / issuer: =
emailAddress=3Droot@host.unknown,CN=3Dhost.unknown,OU=3Droot / serial: =
2481 / notbefore: Feb 10 10:51:12 2016 GMT / notafter: Feb  7 10:51:12 =
2026 GMT]
[Wed Feb 17 12:18:53.169458 2016] [ssl:debug] [pid 48233] =
ssl_engine_kernel.c(2018): [remote 192.168.0.5:6045] AH02041: Protocol: =
TLSv1.2, Cipher: ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits)
[Wed Feb 17 12:18:53.169508 2016] [ssl:debug] [pid 48233] =
ssl_util_ssl.c(443): AH02412: [weser.webweaving.org:443] Cert does not =
match for name '192.168.0.5' [subject: =
emailAddress=3Droot@host.unknown,CN=3Dhost.unknown,OU=3Droot / issuer: =
emailAddress=3Droot@host.unknown,CN=3Dhost.unknown,OU=3Droot / serial: =
2481 / notbefore: Feb 10 10:51:12 2016 GMT / notafter: Feb  7 10:51:12 =
2026 GMT]
[Wed Feb 17 12:18:53.169524 2016] [ssl:info] [pid 48233] [remote =
192.168.0.5:6045] AH02411: SSL Proxy: Peer certificate does not match =
for hostname 192.168.0.5
[Wed Feb 17 12:18:53.169541 2016] [ssl:info] [pid 48233] [remote =
192.168.0.5:6045] AH01998: Connection closed to child 0 with abortive =
shutdown (server weser.webweavin

Now AFAIKS - AH02412 is fair game - that is in modssl_X509_match_name() =
and the name does indeed not match.

But I fail to understand the error on AH02411 =E2=80=94 it is in =
ssl_engine_io.c

      if ((sc->proxy_ssl_check_peer_name !=3D SSL_ENABLED_FALSE) &&
            hostname_note) {
            apr_table_unset(c->notes, "proxy-request-hostname");
            if (!cert
                || modssl_X509_match_name(c->pool, cert, hostname_note,
                                          TRUE, server) =3D=3D FALSE) {
                proxy_ssl_check_peer_ok =3D FALSE;
                ap_log_cerror(APLOG_MARK, APLOG_INFO, 0, c, =
APLOGNO(02411)
                              "SSL Proxy: Peer certificate does not =
match "
                              "for hostname %s", hostname_note);
            }
        }
    	else if ((sc->proxy_ssl_check_peer_cn !=3D SSL_ENABLED_FALSE) &&
            hostname_note) {
            const char *hostname;
            int match =3D 0;

So I am now wondering about this logic in case of no alternative =
subject. And if superseding it was good enough - or if it should be =
totally removed. OR if this check needs to become an either/or check if =
there is no subject alternative).

Dw=

From dev-return-85643-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 17 18:37:16 2016
Return-Path: <dev-return-85643-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 37E421867B
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 17 Feb 2016 18:37:16 +0000 (UTC)
Received: (qmail 38146 invoked by uid 500); 17 Feb 2016 18:37:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38075 invoked by uid 500); 17 Feb 2016 18:37:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38060 invoked by uid 99); 17 Feb 2016 18:37:09 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Feb 2016 18:37:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 24C651A0863
	for <dev@httpd.apache.org>; Wed, 17 Feb 2016 18:37:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=J/M2RKIS;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=J/M2RKIS
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id T_uSascwzXIO for <dev@httpd.apache.org>;
	Wed, 17 Feb 2016 18:37:07 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 5C49163F5A
	for <dev@httpd.apache.org>; Wed, 17 Feb 2016 09:04:51 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id C0F5A15A3593; Wed, 17 Feb 2016 09:56:40 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455699400; bh=A/mwYRM9qcaZ9LaBry6QvDfe4v+vssRBTKG3vZ6nWLc=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=J/M2RKISnRmSkq5gPCP800JwlVFrsPmLzrLbuxvTiMvCH3UDZN7jqY7+Dd26wfLuZ
	 tE9BtEKfSOOiDXdIsYvbG/FqG9CvSanOqdNylIvgkiXhcx2BH4FkJeufoxLoApqbmm
	 UXO2hNGk0hmTyphIIgrKuX09T+7tyyJIafowT9kc=
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 3C27A15A3590
	for <dev@httpd.apache.org>; Wed, 17 Feb 2016 09:56:40 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455699400; bh=A/mwYRM9qcaZ9LaBry6QvDfe4v+vssRBTKG3vZ6nWLc=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=J/M2RKISnRmSkq5gPCP800JwlVFrsPmLzrLbuxvTiMvCH3UDZN7jqY7+Dd26wfLuZ
	 tE9BtEKfSOOiDXdIsYvbG/FqG9CvSanOqdNylIvgkiXhcx2BH4FkJeufoxLoApqbmm
	 UXO2hNGk0hmTyphIIgrKuX09T+7tyyJIafowT9kc=
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: h2_conn.c r1727604 crashing on windows
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56C40061.6020207@gknw.net>
Date: Wed, 17 Feb 2016 10:04:55 +0100
Content-Transfer-Encoding: 7bit
Message-Id: <70EA566F-464C-4F0C-8F7E-3E0201FBD630@greenbytes.de>
References: <56C40061.6020207@gknw.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Hi Gregg,

could you check if r1730798 works for you? Thanks!

//Stefan

> Am 17.02.2016 um 06:08 schrieb Gregg Smith <gls@gknw.net>:
> 
> Hi Stefan,
> 
> Windows doesn't seems to like this.
> Short call stack and locals in attached.
> 
> Regards,
> 
> Gregg
> <r1727604_crash.txt>


From dev-return-85644-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 17 19:41:48 2016
Return-Path: <dev-return-85644-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 88F7818C06
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 17 Feb 2016 19:41:48 +0000 (UTC)
Received: (qmail 19021 invoked by uid 500); 17 Feb 2016 19:41:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18953 invoked by uid 500); 17 Feb 2016 19:41:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18943 invoked by uid 99); 17 Feb 2016 19:41:44 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Feb 2016 19:41:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 3E5E21A0189
	for <dev@httpd.apache.org>; Wed, 17 Feb 2016 19:41:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[KAM_BADIPHTTP=2, KAM_LAZY_DOMAIN_SECURITY=1,
	NORMAL_HTTP_TO_IP=0.001, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_HELO_PASS=-0.001, WEIRD_PORT=0.001]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id cEIiBR2xA-6t for <dev@httpd.apache.org>;
	Wed, 17 Feb 2016 19:41:40 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.148])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id C70AA5F5CB
	for <dev@httpd.apache.org>; Wed, 17 Feb 2016 19:41:39 +0000 (UTC)
Received: from [85.158.136.83] by server-12.bemta-5.messagelabs.com id 77/3D-17089-DECC4C65; Wed, 17 Feb 2016 19:41:33 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-11.tower-36.messagelabs.com!1455738092!18051863!1
X-Originating-IP: [195.232.244.134]
X-StarScan-Received:
X-StarScan-Version: 7.35.1; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 9088 invoked from network); 17 Feb 2016 19:41:33 -0000
Received: from mailout02.vodafone.com (HELO mailout02.vodafone.com) (195.232.244.134)
  by server-11.tower-36.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 17 Feb 2016 19:41:33 -0000
Received: from mailint02.vodafone.com (mailint02.vodafone.com [195.232.244.199])
	by mailout02.vodafone.com (Postfix) with ESMTP id 3q58gJ3MxDzbdMj
	for <dev@httpd.apache.org>; Wed, 17 Feb 2016 20:41:32 +0100 (CET)
Received: from mailint02.vodafone.com (localhost [127.0.0.1])
	by mailint02.vodafone.com (Postfix) with ESMTP id 3q58dS3T7KzQn9V
	for <dev@httpd.apache.org>; Wed, 17 Feb 2016 20:39:56 +0100 (CET)
Received: from VOEXC04W.internal.vodafone.com (voexc04w.dc-ratingen.de [145.230.101.24])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint02.vodafone.com (Postfix) with ESMTPS id 3q58dS36wdzQscY
	for <dev@httpd.apache.org>; Wed, 17 Feb 2016 20:39:56 +0100 (CET)
Received: from VOEXC12W.internal.vodafone.com (145.230.101.14) by
 VOEXC04W.internal.vodafone.com (145.230.101.24) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Wed, 17 Feb 2016 20:39:56 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.216]) by
 voexc12w.internal.vodafone.com ([145.230.101.14]) with mapi id
 14.03.0224.002; Wed, 17 Feb 2016 20:39:54 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: Odd SSLProxyCheckPeerCN behaviour
Thread-Topic: Odd SSLProxyCheckPeerCN behaviour
Thread-Index: AQHRabEvCnocH4eXiU2aMhElhM3NuZ8woi7Q
Date: Wed, 17 Feb 2016 19:39:54 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627ACA00465E@VOEXM10W.internal.vodafone.com>
References: <73A89BAB-1B8C-4C5D-AD53-14DC0F0060BA@webweaving.org>
In-Reply-To: <73A89BAB-1B8C-4C5D-AD53-14DC0F0060BA@webweaving.org>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

DQoNCj4gLS0tLS1VcnNwcsO8bmdsaWNoZSBOYWNocmljaHQtLS0tLQ0KPiBWb246IERpcmstV2ls
bGVtIHZhbiBHdWxpayBbbWFpbHRvOmRpcmt4QHdlYndlYXZpbmcub3JnXQ0KPiBHZXNlbmRldDog
TWl0dHdvY2gsIDE3LiBGZWJydWFyIDIwMTYgMTI6MzQNCj4gQW46IGRldkBodHRwZC5hcGFjaGUu
b3JnDQo+IEJldHJlZmY6IE9kZCBTU0xQcm94eUNoZWNrUGVlckNOIGJlaGF2aW91cg0KPiANCj4g
V2FzIGxvb2tpbmcgaW50byBhIHJlcG9ydCB0aGF0IHNvbWV0aGluZyBjb3VsZCBnZXQgYSBsaWZ0
IG9uIHdlYnNvY2tldA0KPiB3aXRoIGEgc3BlY2lmaWMgQWx0U3ViamVjdCB0cmlja2VyeTsgYnV0
IGdvdCBpbnRvIGphayBzaGF2aW5nIC0gd2hlcmUgSQ0KPiBjYW5ub3Qgd29yayBvdXQgd2h5IFNT
TFByb3h5Q2hlY2tQZWVyQ04gZXQuYWwuIGdldCBpZ25vcmVkLiBUaGUgbW9zdA0KPiB0cml2aWFs
IGNvbmZpZyBJIGNvdWxkIGZpbmQgdG8gcmVwcm9kdWNlIGlzOg0KPiANCj4gCUxpc3RlbiAgMTIz
LjEyMy4xMjMuMTIzOjQzMjENCj4gDQo+IAk8VmlydHVhbEhvc3QgIDEyMy4xMjMuMTIzLjEyMzo0
MzIxPg0KPiAgICAgICAgIAlTZXJ2ZXJOYW1lIHRlc3Qtd2Vic29jay1ieXBhc3Mud2Vid2Vhdmlu
Zy5vcmcNCj4gCSAgICAgICAgTG9nTGV2ZWwgRGVidWcNCj4gDQo+IAkgICAgICAgIFNTTFByb3h5
RW5naW5lIE9uDQo+IA0KPiAgICAgICAgIAlTU0xQcm94eUNoZWNrUGVlckNOIG9mZgkjIE5vdCB1
c2luZyBTU0xQcm94eUNoZWNrUGVlck5hbWUNCj4gb2ZmDQo+IAkgICAgICAgIFNTTFByb3h5Q2hl
Y2tQZWVyRXhwaXJlIG9mZg0KPiAJICAgICAgICBTU0xQcm94eVZlcmlmeSBvZmYNCj4gDQo+IA0K
PiAgICAgICAgIAlTU0xQcm94eUNBQ2VydGlmaWNhdGVGaWxlIOKApi4vcHJveHkucGVtDQo+IA0K
PiAJICAgICAgICBQcm94eVBhc3MgLyBodHRwczovLzEyNy4wLjAuMToxMjM0Lw0KPiAgICAgICAg
IAlQcm94eVBhc3NSZXZlcnNlIC8gaHR0cHM6Ly8xMjcuMC4wLjE6MTIzNC8NCj4gCTwvVmlydHVh
bEhvc3Q+DQo+IA0KPiBUaGlzIGdldHRpbmcgdGVzdGVkIHdpdGgNCj4gDQo+IAliZWViOn4gZGly
a3gkIGN1cmwgLXZ2dnYgaHR0cHM6Ly8xMjMuMTIzLjEyMy4xMjM6NDMyMS8NCj4gDQo+IGdpdmlu
ZyB1cyBhDQo+IA0KPiAJNTAwIFByb3h5IEVycm9yDQo+IA0KPiAJVGhlIHByb3h5IHNlcnZlciBj
b3VsZCBub3QgaGFuZGxlIHRoZSByZXF1ZXN0IDxlbT48YQ0KPiBocmVmPSIvIj5HRVQmbmJzcDsv
PC9hPjwvZW0+LjxwPg0KPiAJUmVhc29uOiA8c3Ryb25nPkVycm9yIGR1cmluZyBTU0wgSGFuZHNo
YWtlIHdpdGggcmVtb3RlDQo+IHNlcnZlcjwvc3Ryb25nPjwvcD48cCAvPg0KPiANCj4gSG93ZXZl
ciB0aGUgbG9nIGdpdmVzIG1lOg0KPiANCj4gW1dlZCBGZWIgMTcgMTI6MTg6NTMuMTY3OTAzIDIw
MTZdIFtzc2w6ZGVidWddIFtwaWQgNDgyMzNdDQo+IHNzbF9lbmdpbmVfa2VybmVsLmMoMTU2MCk6
IFtyZW1vdGUgMTkyLjE2OC4wLjU6NjA0NV0gQUgwMjI3NToNCj4gQ2VydGlmaWNhdGUgVmVyaWZp
Y2F0aW9uLCBkZXB0aCAwLCBDUkwgY2hlY2tpbmcgbW9kZTogbm9uZSBbc3ViamVjdDoNCj4gZW1h
aWxBZGRyZXNzPXJvb3RAaG9zdC51bmtub3duLENOPWhvc3QudW5rbm93bixPVT1yb290IC8gaXNz
dWVyOg0KPiBlbWFpbEFkZHJlc3M9cm9vdEBob3N0LnVua25vd24sQ049aG9zdC51bmtub3duLE9V
PXJvb3QgLyBzZXJpYWw6IDI0ODEgLw0KPiBub3RiZWZvcmU6IEZlYiAxMCAxMDo1MToxMiAyMDE2
IEdNVCAvIG5vdGFmdGVyOiBGZWIgIDcgMTA6NTE6MTIgMjAyNg0KPiBHTVRdDQo+IFtXZWQgRmVi
IDE3IDEyOjE4OjUzLjE2OTQ1OCAyMDE2XSBbc3NsOmRlYnVnXSBbcGlkIDQ4MjMzXQ0KPiBzc2xf
ZW5naW5lX2tlcm5lbC5jKDIwMTgpOiBbcmVtb3RlIDE5Mi4xNjguMC41OjYwNDVdIEFIMDIwNDE6
IFByb3RvY29sOg0KPiBUTFN2MS4yLCBDaXBoZXI6IEVDREhFLVJTQS1BRVMxMjgtR0NNLVNIQTI1
NiAoMTI4LzEyOCBiaXRzKQ0KPiBbV2VkIEZlYiAxNyAxMjoxODo1My4xNjk1MDggMjAxNl0gW3Nz
bDpkZWJ1Z10gW3BpZCA0ODIzM10NCj4gc3NsX3V0aWxfc3NsLmMoNDQzKTogQUgwMjQxMjogW3dl
c2VyLndlYndlYXZpbmcub3JnOjQ0M10gQ2VydCBkb2VzIG5vdA0KPiBtYXRjaCBmb3IgbmFtZSAn
MTkyLjE2OC4wLjUnIFtzdWJqZWN0Og0KPiBlbWFpbEFkZHJlc3M9cm9vdEBob3N0LnVua25vd24s
Q049aG9zdC51bmtub3duLE9VPXJvb3QgLyBpc3N1ZXI6DQo+IGVtYWlsQWRkcmVzcz1yb290QGhv
c3QudW5rbm93bixDTj1ob3N0LnVua25vd24sT1U9cm9vdCAvIHNlcmlhbDogMjQ4MSAvDQo+IG5v
dGJlZm9yZTogRmViIDEwIDEwOjUxOjEyIDIwMTYgR01UIC8gbm90YWZ0ZXI6IEZlYiAgNyAxMDo1
MToxMiAyMDI2DQo+IEdNVF0NCj4gW1dlZCBGZWIgMTcgMTI6MTg6NTMuMTY5NTI0IDIwMTZdIFtz
c2w6aW5mb10gW3BpZCA0ODIzM10gW3JlbW90ZQ0KPiAxOTIuMTY4LjAuNTo2MDQ1XSBBSDAyNDEx
OiBTU0wgUHJveHk6IFBlZXIgY2VydGlmaWNhdGUgZG9lcyBub3QgbWF0Y2gNCj4gZm9yIGhvc3Ru
YW1lIDE5Mi4xNjguMC41DQo+IFtXZWQgRmViIDE3IDEyOjE4OjUzLjE2OTU0MSAyMDE2XSBbc3Ns
OmluZm9dIFtwaWQgNDgyMzNdIFtyZW1vdGUNCj4gMTkyLjE2OC4wLjU6NjA0NV0gQUgwMTk5ODog
Q29ubmVjdGlvbiBjbG9zZWQgdG8gY2hpbGQgMCB3aXRoIGFib3J0aXZlDQo+IHNodXRkb3duIChz
ZXJ2ZXIgd2VzZXIud2Vid2VhdmluDQo+IA0KPiBOb3cgQUZBSUtTIC0gQUgwMjQxMiBpcyBmYWly
IGdhbWUgLSB0aGF0IGlzIGluIG1vZHNzbF9YNTA5X21hdGNoX25hbWUoKQ0KPiBhbmQgdGhlIG5h
bWUgZG9lcyBpbmRlZWQgbm90IG1hdGNoLg0KPiANCj4gQnV0IEkgZmFpbCB0byB1bmRlcnN0YW5k
IHRoZSBlcnJvciBvbiBBSDAyNDExIOKAlCBpdCBpcyBpbiBzc2xfZW5naW5lX2lvLmMNCj4gDQo+
ICAgICAgIGlmICgoc2MtPnByb3h5X3NzbF9jaGVja19wZWVyX25hbWUgIT0gU1NMX0VOQUJMRURf
RkFMU0UpICYmDQo+ICAgICAgICAgICAgIGhvc3RuYW1lX25vdGUpIHsNCj4gICAgICAgICAgICAg
YXByX3RhYmxlX3Vuc2V0KGMtPm5vdGVzLCAicHJveHktcmVxdWVzdC1ob3N0bmFtZSIpOw0KPiAg
ICAgICAgICAgICBpZiAoIWNlcnQNCj4gICAgICAgICAgICAgICAgIHx8IG1vZHNzbF9YNTA5X21h
dGNoX25hbWUoYy0+cG9vbCwgY2VydCwgaG9zdG5hbWVfbm90ZSwNCj4gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgVFJVRSwgc2VydmVyKSA9PSBGQUxTRSkgew0KPiAg
ICAgICAgICAgICAgICAgcHJveHlfc3NsX2NoZWNrX3BlZXJfb2sgPSBGQUxTRTsNCj4gICAgICAg
ICAgICAgICAgIGFwX2xvZ19jZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfSU5GTywgMCwgYywNCj4g
QVBMT0dOTygwMjQxMSkNCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlNTTCBQcm94
eTogUGVlciBjZXJ0aWZpY2F0ZSBkb2VzIG5vdA0KPiBtYXRjaCAiDQo+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICJmb3IgaG9zdG5hbWUgJXMiLCBob3N0bmFtZV9ub3RlKTsNCj4gICAg
ICAgICAgICAgfQ0KPiAgICAgICAgIH0NCj4gICAgIAllbHNlIGlmICgoc2MtPnByb3h5X3NzbF9j
aGVja19wZWVyX2NuICE9IFNTTF9FTkFCTEVEX0ZBTFNFKSAmJg0KPiAgICAgICAgICAgICBob3N0
bmFtZV9ub3RlKSB7DQo+ICAgICAgICAgICAgIGNvbnN0IGNoYXIgKmhvc3RuYW1lOw0KPiAgICAg
ICAgICAgICBpbnQgbWF0Y2ggPSAwOw0KPiANCj4gU28gSSBhbSBub3cgd29uZGVyaW5nIGFib3V0
IHRoaXMgbG9naWMgaW4gY2FzZSBvZiBubyBhbHRlcm5hdGl2ZQ0KPiBzdWJqZWN0LiBBbmQgaWYg
c3VwZXJzZWRpbmcgaXQgd2FzIGdvb2QgZW5vdWdoIC0gb3IgaWYgaXQgc2hvdWxkIGJlDQoNCkkg
Z3Vlc3MgSSBhbSBtaXNzaW5nIHlvdXIgcG9pbnQuIG1vZHNzbF9YNTA5X21hdGNoX25hbWUgY2hl
Y2tzIGFsdGVybmF0aXZlIHN1YmplY3QgYW5kIENOLg0KU28gd2hhdCBpcyBhY3R1YWxseSB3cm9u
ZyBoZXJlPw0KDQpSZWdhcmRzDQoNClLDvGRpZ2VyDQo=

From dev-return-85645-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 17 23:45:53 2016
Return-Path: <dev-return-85645-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F12FC18984
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 17 Feb 2016 23:45:52 +0000 (UTC)
Received: (qmail 51424 invoked by uid 500); 17 Feb 2016 23:45:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51361 invoked by uid 500); 17 Feb 2016 23:45:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51351 invoked by uid 99); 17 Feb 2016 23:45:52 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Feb 2016 23:45:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 208F5C0CF6
	for <dev@httpd.apache.org>; Wed, 17 Feb 2016 23:45:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.799
X-Spam-Level: **
X-Spam-Status: No, score=2.799 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=2.5,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 21dS_UC06gnM for <dev@httpd.apache.org>;
	Wed, 17 Feb 2016 23:45:50 +0000 (UTC)
Received: from fed1rmfepo101.cox.net (fed1rmfepo101.cox.net [68.230.241.143])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 8D3475F1EE
	for <dev@httpd.apache.org>; Wed, 17 Feb 2016 23:45:49 +0000 (UTC)
Received: from fed1rmimpo210 ([68.230.241.161]) by fed1rmfepo101.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20160217234542.FJZ331.fed1rmfepo101.cox.net@fed1rmimpo210>
          for <dev@httpd.apache.org>; Wed, 17 Feb 2016 18:45:42 -0500
Received: from [192.168.1.33] ([98.176.34.113])
	by fed1rmimpo210 with cox
	id Kblh1s0012STVfm01blhqs; Wed, 17 Feb 2016 18:45:42 -0500
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020202.56C50626.00A1,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.0 cv=bKPI1oCZ c=1 sm=1
 a=8xCO7h6kmYZdHn5tUOQhsw==:17 a=LrjODJgKAAAA:8 a=loB582TkVuY9eZ6yqBoA:9
 a=wPNLvfGTeEIA:10 a=yB0IU4AeuL8A:10 a=8xCO7h6kmYZdHn5tUOQhsw==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <56C50642.6070107@gknw.net>
Date: Wed, 17 Feb 2016 15:46:10 -0800
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: h2_conn.c r1727604 crashing on windows
References: <56C40061.6020207@gknw.net> <70EA566F-464C-4F0C-8F7E-3E0201FBD630@greenbytes.de>
In-Reply-To: <70EA566F-464C-4F0C-8F7E-3E0201FBD630@greenbytes.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi Stefan,

It works!

Thanks!

On 2/17/2016 1:04 AM, Stefan Eissing wrote:
> Hi Gregg,
>
> could you check if r1730798 works for you? Thanks!
>
> //Stefan
>
>> Am 17.02.2016 um 06:08 schrieb Gregg Smith<gls@gknw.net>:
>>
>> Hi Stefan,
>>
>> Windows doesn't seems to like this.
>> Short call stack and locals in attached.
>>
>> Regards,
>>
>> Gregg
>> <r1727604_crash.txt>


From dev-return-85646-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 18 09:28:14 2016
Return-Path: <dev-return-85646-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2FBC118156
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Feb 2016 09:28:14 +0000 (UTC)
Received: (qmail 84499 invoked by uid 500); 18 Feb 2016 09:27:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84416 invoked by uid 500); 18 Feb 2016 09:27:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84406 invoked by uid 99); 18 Feb 2016 09:27:39 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Feb 2016 09:27:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D27A81805BD
	for <dev@httpd.apache.org>; Thu, 18 Feb 2016 09:27:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=BUyvesFY;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=YYzzRcvz
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 1q_7xkZLG-Ni for <dev@httpd.apache.org>;
	Thu, 18 Feb 2016 09:27:37 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 7DB515FB20
	for <dev@httpd.apache.org>; Thu, 18 Feb 2016 09:27:36 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 847A015A372F; Thu, 18 Feb 2016 10:27:30 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455787650; bh=8X+KVeU8OhZByauLgkIFub/6N7eiCugeIc1f0j6oRXM=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=BUyvesFYQDyYhTTNeWHr4aLqtJvOzuISNyjSigFsDxj2aVIyJ3P1MNxS7uejEVHII
	 s389ALutvMZs0+j7tDbXTR2cMYXa9ow20ihrXDbcOX5/PXfy6Fk3kBW+3X5JR7OGDS
	 K+EDLArxKw/buNn+JacI11fJE/vppLneKO3Dl+XE=
Received: from [192.168.1.48] (unknown [87.78.27.203])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id E3D1815A0385
	for <dev@httpd.apache.org>; Thu, 18 Feb 2016 10:27:28 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1455787649; bh=8X+KVeU8OhZByauLgkIFub/6N7eiCugeIc1f0j6oRXM=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=YYzzRcvzpf2Iz7LvufcCaJ8S/DpXqGZWApzIhnM6JPhfYB9J176TMK4HxnlBhQAFD
	 yBIuVfb0rjNOSivOedYH40rJeKoUksHvZ/mnE5a/COaBaC0RfAuJlKyiWeFxvvcPO7
	 sobN/UG+NDZKsQTLfb9/iA9b6ap+J7hRcM+tf/5w=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_proxy_http2
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56BE1640.4060001@kippdata.de>
Date: Thu, 18 Feb 2016 10:27:45 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <4A7BB4E6-EF11-4116-8C22-3A477A7F3FFB@greenbytes.de>
References: <CCC0EA0E-00CE-430D-A01C-022E7A2FFE16@greenbytes.de> <56BB5A0F.3050309@kippdata.de> <56BE1640.4060001@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Thanks, Rainer!

> Am 12.02.2016 um 18:28 schrieb Rainer Jung <rainer.jung@kippdata.de>:
>=20
> I have renamed modules/http2/config.m4 to modules/http2/config2.m4 =
(note the "2" in front of the ".m4" suffix). AFAIK this will result in =
modules/http2 being handled after the module dirs which contain a normal =
config.m4. Thus the http2 modules get added after mod_proxy to the =
DSO_MODULES list and the generated httpd.conf will contain their =
LoadModule behind the ones for mod_proxy.
>=20
> I have also added mod_proxy as a prerequisite in the m4 macro for =
mod_proxy_http2.
>=20
> I hope it works as designed ...
>=20
> Regards,
>=20
> Rainer
>=20
> Am 10.02.2016 um 16:41 schrieb Rainer Jung:
>> At this point just a reminder, I might look for it myself:
>>=20
>> the config generated for me tries LoadModule for mod_proxy_http2 =
before
>> mod_proxy and fails, because it can't find the symbol mod_proxy. I =
guess
>> we need to ensure, that the LoadModule lines we generate for =
httpd.conf
>> put mod_proxy_http2 after the one for mod_proxy. The current other =
proxy
>> modules are already behind mod_proxy.


From dev-return-85647-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 18 14:24:41 2016
Return-Path: <dev-return-85647-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1E49018D50
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Feb 2016 14:24:41 +0000 (UTC)
Received: (qmail 49394 invoked by uid 500); 18 Feb 2016 14:24:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49308 invoked by uid 500); 18 Feb 2016 14:24:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49295 invoked by uid 99); 18 Feb 2016 14:24:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Feb 2016 14:24:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 0D265C0D49;
	Thu, 18 Feb 2016 14:24:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id y8UoJwr00dWe; Thu, 18 Feb 2016 14:24:39 +0000 (UTC)
Received: from mail-io0-f173.google.com (mail-io0-f173.google.com [209.85.223.173])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 4C6745FBF8;
	Thu, 18 Feb 2016 14:24:38 +0000 (UTC)
Received: by mail-io0-f173.google.com with SMTP id g203so74628218iof.2;
        Thu, 18 Feb 2016 06:24:38 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=Iihjgb0fMl921gR+ZG7mZZ3QSOAZrNuoyNkrfKeb2ik=;
        b=lVe2Sk/wji34bB9ugokvTatAa9aHR2+1eBuqMlshvgH9vneB16z5cId3Hkb14ZzGCC
         KTg/pyUMz/FFaOqx3z10eOtc0JALxpy/LFI5reDt0ClM71LNZ6UXLtWZ1smcCRUpcTTu
         miZ6FWTNfsWKkFZPRfEQSK8Q7I5iuJeSfU9oE3FUUc3/z6Pgn3ztshMSpIEKxRBdFPg3
         RAERSlnjHwG+7A2RShoAmtQWK4WZKIUiO0NfD6pUkqhGePvncb3jKfF2VNXXS12QHtS0
         LLLUyjMT2tC1lCIdLhoY1WXJ2KXqhV6XW5//dMHUXf/M9vIT7eKCgEudxKUKvL/HV+Fn
         UASg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=Iihjgb0fMl921gR+ZG7mZZ3QSOAZrNuoyNkrfKeb2ik=;
        b=EakSvU6Cay+d3T3lufTWgFAnqoIRtvhMSrexV7MT731jxZpRxRwRno9x+da7X68Izw
         ERaQYzt24xys2e52VEiarttdObDEN7ZD4QuD680rXQHk65n1SuLh9wg43kjO8pBlTUXk
         0oY3BaQ3myHBqKymPxTcocO3tSfmPm67z+NX+WIJjwxKqP74Sx0+HdtTms+gj7BozZA/
         Z+IvDr4f7PZK37ds/JIYz1YL7UquNLozUSwtDBgiXids2QsqJhntXZ8DO93952GxbSZJ
         sEVrOcEf7HFWsiYa7+7qxT0EWdbfxLt2WdsML9NQTZ87mFC+3mEkgnwbwOOFvB2bRkxR
         zmRQ==
X-Gm-Message-State: AG10YOTXvKwLPUExIKq2kMI5awr+ENS2ikCmweBO0bTw21ffzxytc6XU3ZRW47FF/Mz9mhPpHO8XuwVedw8kbw==
MIME-Version: 1.0
X-Received: by 10.107.164.212 with SMTP id d81mr10252493ioj.169.1455805477344;
 Thu, 18 Feb 2016 06:24:37 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Thu, 18 Feb 2016 06:24:37 -0800 (PST)
In-Reply-To: <CAFedD42ZhZ=rOFvbNmxq_52ouoEmGLsafxCUaz9heVW4GhsnkQ@mail.gmail.com>
References: <20160216123208.ECDC93A09DA@svn01-us-west.apache.org>
	<CALK=YjN50hG8ZsWnnFfj-uxsEyF2S4OFeN-Mt8d86XL1Dc=rgw@mail.gmail.com>
	<CAFedD42nTXKbJ=5DjtKnRBF6HOu-kd4qSVvoJriY24VrQdWR1g@mail.gmail.com>
	<CAFedD42ZhZ=rOFvbNmxq_52ouoEmGLsafxCUaz9heVW4GhsnkQ@mail.gmail.com>
Date: Thu, 18 Feb 2016 09:24:37 -0500
Message-ID: <CALK=YjOXR9zoYO7cGAS_YV3f-n_YvVps7Deb-2F=Nr_Agga5CQ@mail.gmail.com>
Subject: Re: svn commit: r1730673 - /httpd/httpd/trunk/docs/manual/sections.xml
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Cc: cvs@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

I know I used "foo", but it might be better for the docs to use
something more descriptive for the name and value of the example
header.

some kind of markup problem in "Some useful merge examples to
practice". it could also use example directives/values that made it
easier to identify the moral ("subdir" etc)


On Wed, Feb 17, 2016 at 12:18 PM, Luca Toscano <toscano.luca@gmail.com> wrote:
> New version in http://httpd.apache.org/docs/trunk/sections.html#merging
>
>
> 2016-02-16 16:42 GMT+01:00 Luca Toscano <toscano.luca@gmail.com>:
>>
>> Update from the dev irc channel: I had a chat with Eric and he explained
>> to me with a lot more details how configuration and execution really work
>> for a module. The next step is for me to amend my patch and update bugzilla.
>>
>> Luca
>>
>> 2016-02-16 15:22 GMT+01:00 Eric Covener <covener@gmail.com>:
>>>
>>>
>>> The merging strategy is determined by the module implementing the
>>> repeated directive, e.g. mod_headers. The moral of this PR is that
>>> htacess and directory are the same, and wrapping directives in things
>>> like files/filesmatch generally gives those directives higher
>>> priority/precedence then unwrapped directives because it delays the
>>> processing of those directives.
>>
>>
>



-- 
Eric Covener
covener@gmail.com

From dev-return-85648-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 18 14:36:00 2016
Return-Path: <dev-return-85648-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1AC4A18D95
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Feb 2016 14:36:00 +0000 (UTC)
Received: (qmail 92689 invoked by uid 500); 18 Feb 2016 14:35:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92632 invoked by uid 500); 18 Feb 2016 14:35:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92622 invoked by uid 99); 18 Feb 2016 14:35:58 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Feb 2016 14:35:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 839381805D4
	for <dev@httpd.apache.org>; Thu, 18 Feb 2016 14:35:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id DDVCRy_gKInS for <dev@httpd.apache.org>;
	Thu, 18 Feb 2016 14:35:57 +0000 (UTC)
Received: from mail-lf0-f50.google.com (mail-lf0-f50.google.com [209.85.215.50])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id EF9A65FE19
	for <dev@httpd.apache.org>; Thu, 18 Feb 2016 14:35:56 +0000 (UTC)
Received: by mail-lf0-f50.google.com with SMTP id j78so33778792lfb.1
        for <dev@httpd.apache.org>; Thu, 18 Feb 2016 06:35:56 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=T1y/GutZ5wmWSm9XATcekFcAsRUdHrq4ysh4EeUfjOI=;
        b=On68WoT/SDQgT9T51mMZtYrN8YFDE0cSEjx+Y/6TETSaS3+fsWRS9I24DyCl/yXkb/
         lCOGJn1d77sne81dSNibRglrrZKr09j0elz/XEYkO0D2JMKViedV2Tl0eb5tbORjgbCw
         WQYlrsCM0uKsHC0aAttaJh5jN1jouCqXhWhcRBQfpNeI12Gw09xPx/I78TcyfjqMtxtt
         ZosOSppKj8zZuxNe2WdGvqzvS5f+m8MNthVFNcr+dKcV3QZvOIiVxD9vTUqB0gaIjxdH
         GneMpUMlH8WjKbxkndAq/TbIkoQ/Jp0b+ltWVSMQbw3V/XvUyCwuy+0kqiwbfMIEa6mX
         /vZg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=T1y/GutZ5wmWSm9XATcekFcAsRUdHrq4ysh4EeUfjOI=;
        b=P/KQ7pqiQkWCyakW+Y6ZwFyYzwhGW0JabWloJ4wr1t55zPOQ23MgU8ogubDtMpDSUO
         vbr5p/2kkma6GTEH0Us2T+XPCnTWXJenudl2UDYht7XV4oYz4HVfl6E5ZEkO26NU4fJy
         oOuxToEckA2Ws2LfwVwIL42U4HCgnYa43kZBCmVmugPEZAKZUuO9xqCVJQGousI47U1Z
         Ij2XNZTSyU28XiD9KugisKKGwmhoLHqLbK4j+C3Xg3cu4wWVujS2OvYkOE/9xReGF+Cf
         ODxAgsyBjx4+Ac3fZ+wu9lCOzcpZcuA2XjbEB8zQiNBEM38mMioGAaSZoJvC17W0R/61
         /roQ==
X-Gm-Message-State: AG10YOScp/KrFbFEC4w1UZlEzUeldXyhtYWAOzWI/g8ztae9wFkZLo152swZf7I9B5aEHF4GjaXtS27ovZbrJg==
MIME-Version: 1.0
X-Received: by 10.25.28.195 with SMTP id c186mr2825087lfc.22.1455806156526;
 Thu, 18 Feb 2016 06:35:56 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Thu, 18 Feb 2016 06:35:56 -0800 (PST)
In-Reply-To: <CALK=YjOXR9zoYO7cGAS_YV3f-n_YvVps7Deb-2F=Nr_Agga5CQ@mail.gmail.com>
References: <20160216123208.ECDC93A09DA@svn01-us-west.apache.org>
	<CALK=YjN50hG8ZsWnnFfj-uxsEyF2S4OFeN-Mt8d86XL1Dc=rgw@mail.gmail.com>
	<CAFedD42nTXKbJ=5DjtKnRBF6HOu-kd4qSVvoJriY24VrQdWR1g@mail.gmail.com>
	<CAFedD42ZhZ=rOFvbNmxq_52ouoEmGLsafxCUaz9heVW4GhsnkQ@mail.gmail.com>
	<CALK=YjOXR9zoYO7cGAS_YV3f-n_YvVps7Deb-2F=Nr_Agga5CQ@mail.gmail.com>
Date: Thu, 18 Feb 2016 15:35:56 +0100
Message-ID: <CAFedD43gY6NQ8mwvnGTw=s6R-LWwxzyHJt=Lg2kT0-LyEzBDBg@mail.gmail.com>
Subject: Re: svn commit: r1730673 - /httpd/httpd/trunk/docs/manual/sections.xml
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a114023c0d25bc9052c0c48b7

--001a114023c0d25bc9052c0c48b7
Content-Type: text/plain; charset=UTF-8

Hi Eric!

2016-02-18 15:24 GMT+01:00 Eric Covener <covener@gmail.com>:

> I know I used "foo", but it might be better for the docs to use
> something more descriptive for the name and value of the example
> header.
>

Yep I liked foo since it is always mentioned in programming examples, so I
thought it could have been good to keep. I'll add another term!



> some kind of markup problem in "Some useful merge examples to
> practice". it could also use example directives/values that made it
> easier to identify the moral ("subdir" etc)


Got it, I'll add more examples. I kept the ones already there since the
moral was in the newly created section, but maybe other ones might be
needed.

Luca

--001a114023c0d25bc9052c0c48b7
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi Eric!<br><div class=3D"gmail_extra"><br><div class=3D"g=
mail_quote">2016-02-18 15:24 GMT+01:00 Eric Covener <span dir=3D"ltr">&lt;<=
a href=3D"mailto:covener@gmail.com" target=3D"_blank">covener@gmail.com</a>=
&gt;</span>:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8e=
x;border-left:1px #ccc solid;padding-left:1ex">I know I used &quot;foo&quot=
;, but it might be better for the docs to use<br>
something more descriptive for the name and value of the example<br>
header.<br></blockquote><div><br></div><div>Yep I liked foo since it is alw=
ays mentioned in programming examples, so I thought it could have been good=
 to keep. I&#39;ll add another term!=C2=A0</div><div><br></div><div>=C2=A0<=
/div><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-le=
ft:1px #ccc solid;padding-left:1ex">
some kind of markup problem in &quot;Some useful merge examples to<br>
practice&quot;. it could also use example directives/values that made it<br=
>
easier to identify the moral (&quot;subdir&quot; etc)</blockquote><div><br>=
</div><div>Got it, I&#39;ll add more examples. I kept the ones already ther=
e since the moral was in the newly created section, but maybe other ones mi=
ght be needed.</div><div><br></div><div>Luca</div><div>=C2=A0</div></div></=
div></div>

--001a114023c0d25bc9052c0c48b7--

From dev-return-85649-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Feb 21 07:15:22 2016
Return-Path: <dev-return-85649-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 60DA218C5C
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Feb 2016 07:15:22 +0000 (UTC)
Received: (qmail 91088 invoked by uid 500); 21 Feb 2016 07:15:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91006 invoked by uid 500); 21 Feb 2016 07:15:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 90997 invoked by uid 99); 21 Feb 2016 07:15:16 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Feb 2016 07:15:16 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id 7D3F41A047C
	for <dev@httpd.apache.org>; Sun, 21 Feb 2016 07:15:16 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id DEC7B60549; Sun, 21 Feb 2016 07:15:15 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2016/02/21]
Message-Id: <20160221071515.DEC7B60549@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 21 Feb 2016 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24437|Opn|Nor|2003-11-05|mod_auth_ldap doubly-escapes backslash (\) charact|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Enh|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37770|Opn|Blk|2005-12-03|proxy: error reading status line from remote serve|
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Inf|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|Verify that log directories exist in httpd -t conf|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|Opn|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Maj|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47650|Opn|Trv|2009-08-05|httxt2dbm calculates value size incorrectly       |
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|New|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51104|Opn|Maj|2011-04-21|C++ support about httpd_config.h                  |
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|Opn|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Blk|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Nor|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|53999|Opn|Nor|2012-10-13|Deadlock between procmgr_send_spawn_cmd()/proctabl|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|Ver|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|mod_remoteip updates the "ip" (%a), but "host" (%h|
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|Inf|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|New|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|Ver|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|Ver|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|Ver|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|Ver|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Enh|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|Opn|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57895|New|Min|2015-05-05|missing m4a mimeType in mime.types                |
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
|58089|New|Nor|2015-07-01|mod_authz_host uses proxy IP even when mod_remotei|
|58101|New|Nor|2015-07-05|DeflateCompressionLevel inside vhost resets logfor|
|58107|New|Blk|2015-07-06|Httpd crashes on startup every time, dump file att|
|58109|New|Nor|2015-07-06|Apache on windows cannot handle the hash symbol (#|
|58118|New|Min|2015-07-09|mod_proxy_fcgi logs 503 when user aborts connectio|
|58120|New|Nor|2015-07-10|ProxyPassInherit does not work as expect          |
|58121|New|Nor|2015-07-10|ProxyHTMLMeta seems to ignore all <meta http-equiv|
|58129|New|Nor|2015-07-12|man pages are not generated correctly             |
|58132|New|Nor|2015-07-12|non-standard, non-traditional man page layout make|
|58135|New|Nor|2015-07-14|mod_cache sends client "if-Modified-Since" to back|
|58141|New|Nor|2015-07-15|Apache Service doesn't start when rotatlogs.exe pa|
|58142|New|Nor|2015-07-15|authz_core ignores loglevel                       |
|58158|New|Nor|2015-07-21|Not honoring HTTP spec with regard to Accept-Encod|
|58168|New|Enh|2015-07-21|Would like full request evaluation support in Rewr|
|58171|New|Nor|2015-07-22|ap_session_save saves the wrong session after a de|
|58177|New|Enh|2015-07-24|Mod Proxy forward trailers in http chunked request|
|58180|New|Enh|2015-07-24|ErrorDocument original URL in subsequent <Location|
|58181|New|Enh|2015-07-25|mod_expire should allow "minus" keyword same like |
|58188|New|Nor|2015-07-28|http2 mod_lua: support build with lua 5.2+        |
|58197|New|Nor|2015-07-31|apr-util-1.5.4 build against openldap - "could not|
|58225|New|Reg|2015-08-08|intermitant segfault 11 in session_identity_encode|
|58226|New|Nor|2015-08-08|XSS in Error Page                                 |
|58231|New|Nor|2015-08-11|RewriteCond can add "Host" to the Vary-Header     |
|58235|New|Enh|2015-08-12|Ability to allow from domain but with using forwar|
|58243|New|Nor|2015-08-14|rotatelogs goes infinite at startup               |
|58248|New|Nor|2015-08-17|Error 404 in use some characters of utf8 in url   |
|58257|New|Nor|2015-08-18|require ldap-group does not work if account-fullna|
|58278|Inf|Blk|2015-08-24|apache - mod_security Issue : apache no releasing |
|58280|New|Nor|2015-08-24|Backend connection not closed until timeout if cli|
|58288|New|Blk|2015-08-27|Semaphore amount increase until crash when enablin|
|58292|New|Nor|2015-08-27|FallbackResource breaks chunked encoding sometimes|
|58304|New|Nor|2015-08-30|Unexpected Warnings from Macro Use in 2.4         |
|58307|New|Nor|2015-08-31|Segmentation fault in child in "read(__nbytes, __b|
|58317|New|Min|2015-09-02|Error message AH01630 is missing file name on deny|
|58334|New|Min|2015-09-06|WebDAV HTTP access does not include meta tag for c|
|58335|New|Nor|2015-09-07|mod_authnz_ldap mismatch                          |
|58343|New|Nor|2015-09-08|The pdf files come up as a blank page.            |
|58354|New|Maj|2015-09-10|(20014)Internal error (specific information not av|
|58356|New|Blk|2015-09-10|Session jumping due to incorrect route            |
|58364|New|Reg|2015-09-11|Apache Server is restarted time to time (Release 2|
|58417|New|Min|2015-09-16|ApacheBench (ab) won't display Server Software of |
|58419|New|Nor|2015-09-16|ApacheBench (ab) doesn't work with keep-alives aga|
|58423|New|Reg|2015-09-17|Apache >= 2.4.8 PCRE_DUPNAMES causes build failure|
|58437|Opn|Nor|2015-09-21|mod_h2: h2c doesn't work using upgrade from http 1|
|58467|New|Maj|2015-09-29|Environment Variables in ProxyHTMLURLMap produces |
|58475|New|Nor|2015-10-03|Support append/merge with semicolon-separated head|
|58488|New|Nor|2015-10-08|Stoped PHP-FPM pool in multi-pool system with comu|
|58491|New|Maj|2015-10-09|Core dumps appear when the load increases         |
|58492|Inf|Nor|2015-10-09|I think LDAPConnectionPoolTTL is not being honored|
|58498|New|Nor|2015-10-16|Apache 2.4.17: Regression with mod_autoindex (in c|
|58500|New|Nor|2015-10-16|dav_fs not enabled by default                     |
|58503|New|Cri|2015-10-16|segfault in apr_brigade_cleanup() under high load |
|58509|New|Trv|2015-10-20|2.4.17-dev introduces second core.c handler at sta|
|58524|New|Nor|2015-10-23|mod_http2 segfaults when under heavy load         |
|58528|New|Nor|2015-10-23|AllowOverrideList None gets misparsed and .htacces|
|58529|New|Maj|2015-10-23|Segmentation fault after modifying a proxy Balance|
|58550|New|Enh|2015-10-26|During load, Apache 2.2.x with prefork MPM didn|
|58574|New|Nor|2015-11-02|Apache error AH01630 (client denied) but working  |
|58593|New|Nor|2015-11-06|mod_proxy wrong decision between http and ws      |
|58598|New|Enh|2015-11-08|Internal Server Error (500) when requesting non-ex|
|58602|New|Nor|2015-11-11|Priority issue on DirectoryMatch directive        |
|58604|New|Reg|2015-11-12|Plaintext auth broken in any Explicit FTP/AUTH TLS|
|58612|New|Min|2015-11-16|mod_webdav when write_stream failed should break a|
|58669|New|Nor|2015-11-30|Order of DBDInitSQL and DBDPrepareSQL             |
|58688|New|Nor|2015-12-03|Missing mod_ssl connection-level upgrade headers f|
|58700|New|Nor|2015-12-07|Apache logs not working with mod_remoteip and X-fo|
|58720|New|Enh|2015-12-11|querying server status stalls when scoreboard is f|
|58727|New|Min|2015-12-13|Directories with a ProxyPass directive are not dis|
|58732|New|Nor|2015-12-14|Error Log isn't writing When Apache Shutdown with |
|58739|New|Cri|2015-12-15|Undocumented behavior of REDIRECT_URL and REDIRECT|
|58777|New|Enh|2015-12-28|URLs containing a ? are assumed to be query string|
|58798|New|Nor|2016-01-04|Misleading terminology                            |
|58799|New|Nor|2016-01-04|mod_fcgid: FcgidMinProcessesPerClass doesn't seem |
|58803|New|Cri|2016-01-05|HTTP connection is getting closed after 5 mins ( R|
|58806|New|Maj|2016-01-05|HTTP/2 appears to keep workers in KEEPALIVE status|
|58825|Inf|Nor|2016-01-08|Upload really big files with PUT method and XMLHTT|
|58826|New|Cri|2016-01-08|OCSP Stapling does not resolve DNS                |
|58828|New|Maj|2016-01-08|LA-U variables not set depending on the URI       |
|58834|New|Nor|2016-01-11|ModRewrite fails with .php urls and FPM on Apache |
|58842|New|Nor|2016-01-12|mod_proxy DNS cache with authoritative and no-auth|
|58854|New|Reg|2016-01-13|RewriteRule in .htaccess ignores 'Require all deni|
|58855|New|Enh|2016-01-14|Don't read through entire string when testing for |
|58856|New|Reg|2016-01-14|AddOutputFilterByType in Apache 2.4 inserts filter|
|58873|New|Nor|2016-01-15|Chunked encoding, Content Length and mod_deflate  |
|58880|New|Enh|2016-01-17|Support serving stale content while revalidating c|
|58887|Inf|Nor|2016-01-18|Updated install.xml.es and took out the html code |
|58889|New|Blk|2016-01-19|mod_proxy mixes random chars to the backend reques|
|58890|New|Nor|2016-01-19|Address comments on expression parser doc         |
|58892|New|Nor|2016-01-19|Remove 'advanced' rewrite doc, and organize by top|
|58893|New|Nor|2016-01-19|Document that RewriteMap names must be unique acro|
|58894|Inf|Nor|2016-01-20|Updates and Translated into Spanish new features 2|
|58901|New|Nor|2016-01-21|Download of large file is aborted in SSL_write on |
|58907|Inf|Nor|2016-01-21|Translated document  sitemap.xml.es into Spanish  |
|58921|New|Nor|2016-01-26|Compiler removal of code to clear password buffer |
|58926|New|Nor|2016-01-28|[Patchset] Improvements for apxs                  |
|58929|New|Maj|2016-01-28|coredump when sending illegal CONNECT request     |
|58934|New|Nor|2016-01-29|mod_proxy initial BalancerMember settings not appl|
|58944|New|Nor|2016-01-30|configure script breaks openssl static library dep|
|58945|New|Nor|2016-01-30|Custom-error.xml.es Translated to Spanish.        |
|58960|New|Nor|2016-02-02|Proxying Docker Registry HTTP PATCH command fails |
|58964|New|Maj|2016-02-03|Problems when caching more than one SSI level     |
|58969|New|Nor|2016-02-04|Translated bind.xml.es into spanish need feedback |
|58971|New|Nor|2016-02-04|Upgrade header added in 2.4.18 causes disconnect f|
|58977|New|Maj|2016-02-06|Wrong saved content                               |
|58981|New|Min|2016-02-07|Makefile.win references incorrect src_so file exte|
|58984|New|Nor|2016-02-09|mod_rewrite documentation for R flag should includ|
|58990|New|Enh|2016-02-10|Option to send "406 Not Acceptable" when mime type|
|58994|Inf|Nor|2016-02-11|Apache service is crashing for every two hours    |
|59007|New|Nor|2016-02-15|mod_proxy disables balancer worker after a timeout|
|59019|New|Nor|2016-02-17|UnDefine corrupts the list of defines             |
|59022|New|Nor|2016-02-17|No bytes in in mod_http2 acces log.               |
|59032|New|Enh|2016-02-19|mod_proxy_http replaces non compliant status-line |
+-----+---+---+----------+--------------------------------------------------+
| Total 1578 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-85650-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Feb 21 14:55:29 2016
Return-Path: <dev-return-85650-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1630C184F2
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Feb 2016 14:55:29 +0000 (UTC)
Received: (qmail 3435 invoked by uid 500); 21 Feb 2016 14:55:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3374 invoked by uid 500); 21 Feb 2016 14:55:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3364 invoked by uid 99); 21 Feb 2016 14:55:28 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Feb 2016 14:55:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B20D6180179
	for <dev@httpd.apache.org>; Sun, 21 Feb 2016 14:55:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 1_zpwE_XgEG4 for <dev@httpd.apache.org>;
	Sun, 21 Feb 2016 14:55:26 +0000 (UTC)
Received: from mail-lb0-f178.google.com (mail-lb0-f178.google.com [209.85.217.178])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 566765F60D
	for <dev@httpd.apache.org>; Sun, 21 Feb 2016 14:55:26 +0000 (UTC)
Received: by mail-lb0-f178.google.com with SMTP id x4so70408788lbm.0
        for <dev@httpd.apache.org>; Sun, 21 Feb 2016 06:55:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=TQqW6KkxTdZh3PCOHpaqp+bWH5XelM6Zb0Hgj8Gs3GE=;
        b=jBE3HAJmq/6i0vyFlM81//APB1l2ZblDeQA/qwGtwA3Sj/7RSdtt48urT+V3WSPehq
         B0Ys+k0+EVsKGCrc9IJCm5aGGyIt2zWm3O9WhNXe+oxHiBrLNDyioyuiifT740s3DV3d
         sEv+GnSgeQKotZ+iwWARWIQMTbXOdHL8x7sbbiTGZDjh2NsPb2UvRaWCcQo+bQpQGpmL
         JgyOrceyf3/t9LvjQWv0Bi5lyCtO5NxVMeAyjer3+eY45s4xyMBwnPSLQ3QU5rWo7UHd
         Z+zMDws/KIeCWPsfAloLDvHzds5t5+zYf+axxrWf5BXKI7d6qEe6Snv3DHQqQmf8WCuH
         x2RA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=TQqW6KkxTdZh3PCOHpaqp+bWH5XelM6Zb0Hgj8Gs3GE=;
        b=f+n6yisIehmNF45DrquwjSTy38DhybqAtR12uRxoAO4d6o5dK9HbxyVaPNHSa69dtv
         gahl9v1U9TWh3wjxHNTJh1o0e3cE3505JGYDHzVWAz228D2CFOgMJPNDfa5x35Jqzq+W
         BVm12410GUSOFU8FegndUgGLCBzB3Tr002uOfiZZ/z26uWnDbKcCAM8tWysmFBsGteW5
         b+Em50SRc+DRg3ZmYHHtSfj/pAsmJ6o1EIKUpV+4nMsAoCkX2ZFHxpIZMQwxqaljJTeH
         MUOChtFJiT/bCYqe9cOyhgSyj1CrlXWbfT3P1bUF4wLD2rSyuNvZNleL0Vkxl6trhGKD
         2qJw==
X-Gm-Message-State: AG10YORrBEHIatXWqDKyqdmdNkHzpw961mBuoFs/v3hkQLAWIwtY9OeEPZGdouLUwZh85S6G9rhWa84rn7/rZw==
MIME-Version: 1.0
X-Received: by 10.112.52.100 with SMTP id s4mr1157154lbo.108.1456066519340;
 Sun, 21 Feb 2016 06:55:19 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Sun, 21 Feb 2016 06:55:19 -0800 (PST)
In-Reply-To: <CALK=YjORjrQ0ByXB_YrZyM_HfzBgyXcnyfQnToPg_eK75Y1pLA@mail.gmail.com>
References: <CALK=YjO-epYxuoG9paTMhL6BdbMU_JtJwPFFPEkw93F_mBwj2A@mail.gmail.com>
	<CALK=YjORjrQ0ByXB_YrZyM_HfzBgyXcnyfQnToPg_eK75Y1pLA@mail.gmail.com>
Date: Sun, 21 Feb 2016 15:55:19 +0100
Message-ID: <CAFedD40vrZptqRd5f+5VaKbA-QsCak_R0mu0+zVHLAORCPS2cw@mail.gmail.com>
Subject: Re: Apache 2.4 adoption revisited -- now 16.4% of Apache sites
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11c3e7c8a7a112052c48e750

--001a11c3e7c8a7a112052c48e750
Content-Type: text/plain; charset=UTF-8

Hi Eric,

On Thu, Mar 12, 2015 at 12:54 PM, Eric Covener <covener@gmail.com> wrote:
>
> Just happened to search for this two weeks earlier than last year.
> 2.0: 1.9%, 2.2: 66.8%, 2.4: 31.3%
>
>
Would it be worth to add a small banner on each documentation page for 2.2
stating something like:

"The 2.2.x branch is still supported, but the cutting edge development and
new features are on 2.4.x. Please check
https://httpd.apache.org/docs/2.4/upgrading.html to discover what changes
are required for the migration.
The upgrade requires a bit of effort but it is worth it in terms of httpd
performance and manageability in the longer term."

I believe that it could help informing/remembering people about the great
benefits of migrating to 2.4

Luca

--001a11c3e7c8a7a112052c48e750
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi Eric,<div><br><div><div class=3D"gmail_extra"><div clas=
s=3D"gmail_quote"><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px=
 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-=
left-style:solid;padding-left:1ex">On Thu, Mar 12, 2015 at 12:54 PM, Eric C=
ovener &lt;<a href=3D"mailto:covener@gmail.com">covener@gmail.com</a>&gt; w=
rote:<br>
<br>
Just happened to search for this two weeks earlier than last year.<br>
2.0: 1.9%, 2.2: 66.8%, 2.4: 31.3%<br>
<span class=3D""><font color=3D"#888888"><br></font></span></blockquote><di=
v><br></div><div>Would it be worth to add a small banner on each documentat=
ion page for 2.2 stating something like:=C2=A0</div><div><br></div><div>&qu=
ot;The 2.2.x branch is still supported, but the cutting edge development an=
d new features are on 2.4.x. Please check <a href=3D"https://httpd.apache.o=
rg/docs/2.4/upgrading.html">https://httpd.apache.org/docs/2.4/upgrading.htm=
l</a> to discover what changes are required for the migration.=C2=A0</div><=
div>The upgrade requires a bit of effort but it is worth it in terms of htt=
pd performance and manageability=C2=A0in the longer term.&quot;<br></div><d=
iv><br></div><div>I believe that it could help informing/remembering people=
 about the great benefits of migrating to 2.4</div><div><br></div><div>Luca=
</div><div><br></div><div><br></div></div></div></div></div></div>

--001a11c3e7c8a7a112052c48e750--

From dev-return-85651-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 22 13:19:57 2016
Return-Path: <dev-return-85651-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 66F2F18DD5
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Feb 2016 13:19:57 +0000 (UTC)
Received: (qmail 16746 invoked by uid 500); 22 Feb 2016 13:19:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16675 invoked by uid 500); 22 Feb 2016 13:19:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16663 invoked by uid 99); 22 Feb 2016 13:19:46 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Feb 2016 13:19:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 139C3C0719
	for <dev@httpd.apache.org>; Mon, 22 Feb 2016 13:19:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id GsxjaBd5cHNO for <dev@httpd.apache.org>;
	Mon, 22 Feb 2016 13:19:45 +0000 (UTC)
Received: from resqmta-po-02v.sys.comcast.net (resqmta-po-02v.sys.comcast.net [96.114.154.161])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 018685FE56
	for <dev@httpd.apache.org>; Mon, 22 Feb 2016 13:19:44 +0000 (UTC)
Received: from resomta-po-08v.sys.comcast.net ([96.114.154.232])
	by resqmta-po-02v.sys.comcast.net with comcast
	id MRKd1s003516pyw01RKevr; Mon, 22 Feb 2016 13:19:38 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-08v.sys.comcast.net with comcast
	id MRKd1s0092U0RYt01RKdgB; Mon, 22 Feb 2016 13:19:38 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1731594 - in /httpd/httpd/branches/2.4.x/docs/manual/mod: mod_proxy_balancer.xml mod_proxy_wstunnel.xml
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <20160222071819.87EB23A0249@svn01-us-west.apache.org>
Date: Mon, 22 Feb 2016 08:19:37 -0500
Cc: cvs@httpd.apache.org
Content-Transfer-Encoding: quoted-printable
Message-Id: <9F02CF1A-1D45-42FF-8EAB-6B6F8D65964B@jaguNET.com>
References: <20160222071819.87EB23A0249@svn01-us-west.apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1456147178;
	bh=DxiKO8s53YvO3akfEh7aDZU527zFukiproQdgHsIuOw=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=misl07m2a9Bq+IfCnK2B+2868w0cWaxYh/4+HlZ4MA1xN3gvPPryhnwUdQujokH6f
	 kiysyolIrs8ew+u1NOGyS5M0Rl/4LRWJBW2ihEWd5lJ9p3zJE/0zDKBxY8SHUR/x0u
	 3Csx0b4iW6MarhBIBSZd5Ny6EqQ4rYWK/yQXULW+hAy+nXd0Y6cXpQ89N3WEWCIhN6
	 T47ibIf279Xxn62WDF2RH6ZniRIUxVGlAWRDJqndWU4d34PIY7C2xwx4e9SCX6FPVa
	 7aY+MSRE7+ovxhNqZXFJDxVHdnVDxWE+EUsKB8XlQg39OAz/cVyv8XyMyi6u3oVXR7
	 +HI8Hmwm6dLHA==

Aww... I like using 'automagically'... but maybe that's
too old school :)

> On Feb 22, 2016, at 2:18 AM, elukey@apache.org wrote:
>=20
> Author: elukey
> Date: Mon Feb 22 07:18:19 2016
> New Revision: 1731594
>=20
> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
> --- httpd/httpd/branches/2.4.x/docs/manual/mod/mod_proxy_wstunnel.xml =
(original)
> +++ httpd/httpd/branches/2.4.x/docs/manual/mod/mod_proxy_wstunnel.xml =
Mon Feb 22 07:18:19 2016
> @@ -34,21 +34,23 @@
>     <p>This module <em>requires</em> the service of <module
>> mod_proxy</module>. It provides support for the tunnelling of web
>     socket connections to a backend websockets server. The connection
> -    is automagically upgraded to a websocket connection:</p>
> +    is automatically upgraded to a websocket connection:</p>
>=20


From dev-return-85652-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 22 15:10:03 2016
Return-Path: <dev-return-85652-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 531DD1827D
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Feb 2016 15:10:03 +0000 (UTC)
Received: (qmail 18553 invoked by uid 500); 22 Feb 2016 15:09:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17935 invoked by uid 500); 22 Feb 2016 15:09:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16670 invoked by uid 99); 22 Feb 2016 15:06:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Feb 2016 15:06:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E9A57C00ED;
	Mon, 22 Feb 2016 15:06:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id r9eQXnYBgmD8; Mon, 22 Feb 2016 15:06:39 +0000 (UTC)
Received: from mail-lf0-f49.google.com (mail-lf0-f49.google.com [209.85.215.49])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 43BC15F216;
	Mon, 22 Feb 2016 15:06:39 +0000 (UTC)
Received: by mail-lf0-f49.google.com with SMTP id l143so95606061lfe.2;
        Mon, 22 Feb 2016 07:06:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=VGyTl/wvNNGfTUPVGFuiszAgJSoQVROZRcuAN/Zwqt8=;
        b=XgZ1mzs4rNQGQQmIHzMdrGsjjtHph3Qod5yrjqWFe7+9OLlsfljlyPbwLQVgz5dE3C
         t28uQhDl7+P11VR8pS2x7IvNT3uZhStVPlD7m/h+GX7iC4nPUi4pk+v8xhaEvW114wZi
         EHkDo9pWn5KivrsDjfesjwHPEBN11KwuYsrfxM7wkWx00BWXAY6H2WnH1pjQpWgAcn2z
         mdPCGZkatbo/ZK8mQwAz8pdc93YwcECgjxdUvU9F/YTOHUvkV5HSZNpEYR6xzvUHXkg8
         TFZSUl02g8AeyNtti8fA2SO1KmoRuzWVi2KT6BLvweB5O5ZBgCzMmOgP6Su32pSksq/1
         BJkg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=VGyTl/wvNNGfTUPVGFuiszAgJSoQVROZRcuAN/Zwqt8=;
        b=HLnTYqAEijI628KfLhB0P1/CfmU2Tsbf40bYsu84StRUeKXloBl7gkHAvSLJ2jQoJn
         F+uUy1JpqTaEbkx9ZHGjWK25ng1kQvsqs2zZ4Xn8bCqsBXvdlwFZHWgcycT3hGJDjrHz
         MeRfbfsCRa16H7q/n/uaARKnRv35Kk7AEiph9NX8kahkBz6k/WNLsaLEhn3jw89/EJQt
         RHn1BOZIG4slZbCK322dP9xv9yKD5ovFmaKtdtv1/oWDL9jIWQrbK3f8vPudZBVEdUTu
         P6HG12HAek0zB1oBkdWkPX9uWidYCxNxNTxO/2pmvDixi3w0k3X0/uPTMSXI2K8EQMUu
         TkPw==
X-Gm-Message-State: AG10YOQgXE23m9mzZFmWwMKziwTukzvVDArGFErzFtj2jMHsr20d2nMi9cZgJoFPj/T0kPLlpho7uy7DLrqd7g==
MIME-Version: 1.0
X-Received: by 10.25.149.68 with SMTP id x65mr10398963lfd.138.1456153598831;
 Mon, 22 Feb 2016 07:06:38 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Mon, 22 Feb 2016 07:06:38 -0800 (PST)
In-Reply-To: <9F02CF1A-1D45-42FF-8EAB-6B6F8D65964B@jaguNET.com>
References: <20160222071819.87EB23A0249@svn01-us-west.apache.org>
	<9F02CF1A-1D45-42FF-8EAB-6B6F8D65964B@jaguNET.com>
Date: Mon, 22 Feb 2016 16:06:38 +0100
Message-ID: <CAFedD409D9hoE65cZ8vxiN7LY7DYjy938e1ucQRG7W9ukR91iA@mail.gmail.com>
Subject: Re: svn commit: r1731594 - in /httpd/httpd/branches/2.4.x/docs/manual/mod:
 mod_proxy_balancer.xml mod_proxy_wstunnel.xml
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Cc: cvs@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11403882ff3ede052c5d2dbd

--001a11403882ff3ede052c5d2dbd
Content-Type: text/plain; charset=UTF-8

Hi Jim!

2016-02-22 14:19 GMT+01:00 Jim Jagielski <jim@jagunet.com>:

> Aww... I like using 'automagically'... but maybe that's
> too old school :)
>

/me feels terribly sorry for it, I do like configuration magic too :(

There was a comment about it (among the other things) and I thought to be
as strict as possible to be on the safe side. As I told to Eric Covener
several times, you can revoke temporarily my account as punishment
for outrageous behavior if you wish :)

Luca

--001a11403882ff3ede052c5d2dbd
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi Jim!<br><div class=3D"gmail_extra"><br><div class=3D"gm=
ail_quote">2016-02-22 14:19 GMT+01:00 Jim Jagielski <span dir=3D"ltr">&lt;<=
a href=3D"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;=
</span>:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0=
.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-s=
tyle:solid;padding-left:1ex">Aww... I like using &#39;automagically&#39;...=
 but maybe that&#39;s<br>
too old school :)<br></blockquote><div><br></div><div>/me feels terribly so=
rry for it, I do like configuration magic too :(</div><div><br></div><div>T=
here was a comment about it (among the other things) and I thought to be as=
 strict as possible to be on the safe side. As I told to Eric Covener sever=
al times, you can revoke temporarily my account as punishment for=C2=A0outr=
ageous behavior if you wish :)</div><div><br></div><div>Luca</div></div><br=
></div></div>

--001a11403882ff3ede052c5d2dbd--

From dev-return-85653-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 22 17:09:19 2016
Return-Path: <dev-return-85653-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 68BFF18B00
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Feb 2016 17:09:19 +0000 (UTC)
Received: (qmail 70595 invoked by uid 500); 22 Feb 2016 17:09:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70520 invoked by uid 500); 22 Feb 2016 17:09:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70510 invoked by uid 99); 22 Feb 2016 17:09:18 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Feb 2016 17:09:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 2EF2DC0E98
	for <dev@httpd.apache.org>; Mon, 22 Feb 2016 17:09:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.631
X-Spam-Level:
X-Spam-Status: No, score=-2.631 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.329,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id B1_JHyC8EYYH for <dev@httpd.apache.org>;
	Mon, 22 Feb 2016 17:09:14 +0000 (UTC)
Received: from mx1.cpanel.net (mx1.cpanel.net [208.74.121.68])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 0AAB75FACE
	for <dev@httpd.apache.org>; Mon, 22 Feb 2016 17:09:14 +0000 (UTC)
Received: from [208.74.121.106] (port=39957 helo=[10.7.7.144])
	by mx1.cpanel.net with esmtpsa (TLSv1:ECDHE-RSA-AES256-SHA:256)
	(Exim 4.86)
	(envelope-from <kurt.newman@cpanel.net>)
	id 1aXtys-0007Vj-VH
	for dev@httpd.apache.org; Mon, 22 Feb 2016 11:09:06 -0600
From: Kurt Newman <kurt.newman@cpanel.net>
Content-Type: multipart/signed; boundary="Apple-Mail=_6EEEA75F-9BB1-4629-8995-BA1F605A44BD"; protocol="application/pkcs7-signature"; micalg=sha1
Message-Id: <F0A41220-D5F6-4E43-86CE-F5ABE58A6B15@cpanel.net>
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Apache 2.4 adoption revisited -- now 16.4% of Apache sites
Date: Mon, 22 Feb 2016 11:09:06 -0600
References: <CALK=YjO-epYxuoG9paTMhL6BdbMU_JtJwPFFPEkw93F_mBwj2A@mail.gmail.com> <CALK=YjORjrQ0ByXB_YrZyM_HfzBgyXcnyfQnToPg_eK75Y1pLA@mail.gmail.com>
To: dev@httpd.apache.org
In-Reply-To: <CALK=YjORjrQ0ByXB_YrZyM_HfzBgyXcnyfQnToPg_eK75Y1pLA@mail.gmail.com>
X-Mailer: Apple Mail (2.3112)
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - mx1.cpanel.net
X-AntiAbuse: Original Domain - httpd.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - cpanel.net
X-Get-Message-Sender-Via: mx1.cpanel.net: authenticated_id: kurt.newman@cpanel.net
X-Authenticated-Sender: mx1.cpanel.net: kurt.newman@cpanel.net


--Apple-Mail=_6EEEA75F-9BB1-4629-8995-BA1F605A44BD
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8

If it=E2=80=99s any consolation, cPanel changed our default web server =
from 2.2 to 2.4 on May 2015.  We still see a large percentage of =
customers using 2.2 though.

> On Feb 15, 2016, at 12:35 PM, Eric Covener <covener@gmail.com> wrote:
>=20
> On Thu, Mar 12, 2015 at 12:54 PM, Eric Covener <covener@gmail.com> =
wrote:
>> I stumbled on this link that Bill had shared previously and went back
>> to look at previous snapshots:
>>=20
>> March 2014: 2.0: 4.1%, 2.4: 4.3%
>>=20
>> =
http://web.archive.org/web/20140327151641/http://w3techs.com/technologies/=
details/ws-apache/2/all
>>=20
>> Today (March 2015) : 2.0: 2.8%, 2.4: 16.4%
>>=20
>> http://w3techs.com/technologies/details/ws-apache/2/all
>=20
> Just happened to search for this two weeks earlier than last year.
> 2.0: 1.9%, 2.2: 66.8%, 2.4: 31.3%
>=20
> --=20
> Eric Covener
> covener@gmail.com


--Apple-Mail=_6EEEA75F-9BB1-4629-8995-BA1F605A44BD
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIJ+jCCBK8w
ggOXoAMCAQICEQDgI8sVEoNTia1hbnpUZ2shMA0GCSqGSIb3DQEBCwUAMG8xCzAJBgNVBAYTAlNF
MRQwEgYDVQQKEwtBZGRUcnVzdCBBQjEmMCQGA1UECxMdQWRkVHJ1c3QgRXh0ZXJuYWwgVFRQIE5l
dHdvcmsxIjAgBgNVBAMTGUFkZFRydXN0IEV4dGVybmFsIENBIFJvb3QwHhcNMTQxMjIyMDAwMDAw
WhcNMjAwNTMwMTA0ODM4WjCBmzELMAkGA1UEBhMCR0IxGzAZBgNVBAgTEkdyZWF0ZXIgTWFuY2hl
c3RlcjEQMA4GA1UEBxMHU2FsZm9yZDEaMBgGA1UEChMRQ09NT0RPIENBIExpbWl0ZWQxQTA/BgNV
BAMTOENPTU9ETyBTSEEtMjU2IENsaWVudCBBdXRoZW50aWNhdGlvbiBhbmQgU2VjdXJlIEVtYWls
IENBMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAibEN2npTGU5wUh28VqYGJre4SeCW
51Gr8fBaE0kVo7SMG2C8elFCp3mMpCLfF2FOkdV2IwoU00oCf7YdCYBupQQ92bq7Fv6hh6kuQ1JD
FnyvMlDIpk9a6QjYz5MlnHuI6DBk5qT4VoD9KiQUMxeZrETlaYujRgZLwjPU6UCfBrCxrJNAubUI
kzqcKlOjENs9IGE8VQOO2U52JQIhKfqjfHF2T+7hX4Hp+1SA28N7NVK3hN4iPSwwLTF/Wb1SN7Az
aS1D6/rWpfGXd2dRjNnuJ+u8pQc4doykqTj/34z1A6xJvsr3c5k6DzKrnJU6Ez0ORjpXdGFQvsZA
P8vk4p+iIQIDAQABo4IBFzCCARMwHwYDVR0jBBgwFoAUrb2YejS0Jvf6xCZU7wO94CTLVBowHQYD
VR0OBBYEFJJha4LhoqCqT+xn8cKj97SAAMHsMA4GA1UdDwEB/wQEAwIBhjASBgNVHRMBAf8ECDAG
AQH/AgEAMB0GA1UdJQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDBDARBgNVHSAECjAIMAYGBFUdIAAw
RAYDVR0fBD0wOzA5oDegNYYzaHR0cDovL2NybC51c2VydHJ1c3QuY29tL0FkZFRydXN0RXh0ZXJu
YWxDQVJvb3QuY3JsMDUGCCsGAQUFBwEBBCkwJzAlBggrBgEFBQcwAYYZaHR0cDovL29jc3AudXNl
cnRydXN0LmNvbTANBgkqhkiG9w0BAQsFAAOCAQEAGypurFXBOquIxdjtzVXzqmthK8AJECOZD8Vm
am+x9bS1d14PAmEA330F/hKzpICAAPz7HVtqcgIKQbwFusFY1SbC6tVNhPv+gpjPWBvjImOcUvi7
BTarfVil3qs7Y+Xa1XPv7OD7e+Kj//BCI5zKto1NPuRLGAOyqC3U2LtCS5BphRDbpjc06HvgARCl
nMo6x59PiDRuimXQGoq7qdzKyjbR9PzCZCk1r9axp3ER0gNDsY8+muyeMlP0dpLKhjQHuSzK5hxK
2JkNwYbikJL7WkJqIyEQ6WXH9dW7fuqMhSACYurROgcsWcWZM/I4ieW26RZ6H3kU9koQGib6fIr7
mzCCBUMwggQroAMCAQICEAoO4lkr2q9vgNla9Z+ljP8wDQYJKoZIhvcNAQELBQAwgZsxCzAJBgNV
BAYTAkdCMRswGQYDVQQIExJHcmVhdGVyIE1hbmNoZXN0ZXIxEDAOBgNVBAcTB1NhbGZvcmQxGjAY
BgNVBAoTEUNPTU9ETyBDQSBMaW1pdGVkMUEwPwYDVQQDEzhDT01PRE8gU0hBLTI1NiBDbGllbnQg
QXV0aGVudGljYXRpb24gYW5kIFNlY3VyZSBFbWFpbCBDQTAeFw0xNjAyMDgwMDAwMDBaFw0xNzAy
MDcyMzU5NTlaMCcxJTAjBgkqhkiG9w0BCQEWFmt1cnQubmV3bWFuQGNwYW5lbC5uZXQwggEiMA0G
CSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDnF/HFiCouhbZtzUvZm1jZdVXwd6hvdGjoKkmTj96T
mwzdsp4dqXdQbMGlbKYte1T2/mrHj81ja221JR4PXSg1GFvI1iuS4oxwMYd+DTav+ag2i5YdK75a
rCLiNUdGiJUIK5HAgM8LNIfhUDAcD2RJbtx5xqkH6WRA36u9KbZynW9EHRX96kq/VN8USagx6iJx
EXLZRAoHIvOq6Y+ibyIO9c4fuYhk/sOQN4TThd3Tvqh9K3RZ8acPPoJnuaMJ0dvhaMgF1Su/571y
P5AMfeotiFSoai7DQp0FrzwZZwpyILNR8Q7I6To0ZqYRT/lBZlUKEhsQiXvNfEigA97V0RYtAgMB
AAGjggH0MIIB8DAfBgNVHSMEGDAWgBSSYWuC4aKgqk/sZ/HCo/e0gADB7DAdBgNVHQ4EFgQUGLUO
zQtgUDCa0PyVfZfYuomC53YwDgYDVR0PAQH/BAQDAgWgMAwGA1UdEwEB/wQCMAAwIAYDVR0lBBkw
FwYIKwYBBQUHAwQGCysGAQQBsjEBAwUCMBEGCWCGSAGG+EIBAQQEAwIFIDBGBgNVHSAEPzA9MDsG
DCsGAQQBsjEBAgEBATArMCkGCCsGAQUFBwIBFh1odHRwczovL3NlY3VyZS5jb21vZG8ubmV0L0NQ
UzBdBgNVHR8EVjBUMFKgUKBOhkxodHRwOi8vY3JsLmNvbW9kb2NhLmNvbS9DT01PRE9TSEEyNTZD
bGllbnRBdXRoZW50aWNhdGlvbmFuZFNlY3VyZUVtYWlsQ0EuY3JsMIGQBggrBgEFBQcBAQSBgzCB
gDBYBggrBgEFBQcwAoZMaHR0cDovL2NydC5jb21vZG9jYS5jb20vQ09NT0RPU0hBMjU2Q2xpZW50
QXV0aGVudGljYXRpb25hbmRTZWN1cmVFbWFpbENBLmNydDAkBggrBgEFBQcwAYYYaHR0cDovL29j
c3AuY29tb2RvY2EuY29tMCEGA1UdEQQaMBiBFmt1cnQubmV3bWFuQGNwYW5lbC5uZXQwDQYJKoZI
hvcNAQELBQADggEBAEXSB1Wbcqltfn8JyPTt4ArODjzAcLc4yTj+67RKruVuwh1nvy033z4+jU7s
7gOe1Z+hK1CAtJu9TNaPADhu/28zIX2rfe0F2y+bfG3ZC4YOw9bjQQURSTwqUvN6fk0J7p3kqQmX
0j7vfGLEfLp4V9NUCk2V6YoZmK3h6lQql8ECGcTgr6Z97Eo5x4xdabTsnXaxiV55cfs63BHgasRG
2zsdxQ1GUMzIQFZn77OgblobY8/iwjNGq5fkbWotU/vW7li7oIQM3ojSFUjYz5FMfwRYVBvmAYKG
TUo2fNQkUiJUetkfJdzgYfpNp4hbeSNzTRKyDG8mVEgMBFHAezTKmn8xggPDMIIDvwIBATCBsDCB
mzELMAkGA1UEBhMCR0IxGzAZBgNVBAgTEkdyZWF0ZXIgTWFuY2hlc3RlcjEQMA4GA1UEBxMHU2Fs
Zm9yZDEaMBgGA1UEChMRQ09NT0RPIENBIExpbWl0ZWQxQTA/BgNVBAMTOENPTU9ETyBTSEEtMjU2
IENsaWVudCBBdXRoZW50aWNhdGlvbiBhbmQgU2VjdXJlIEVtYWlsIENBAhAKDuJZK9qvb4DZWvWf
pYz/MAkGBSsOAwIaBQCgggHnMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkF
MQ8XDTE2MDIyMjE3MDkwN1owIwYJKoZIhvcNAQkEMRYEFI3Z7dCB+62xiCrxjFM3WG9i2QqJMIHB
BgkrBgEEAYI3EAQxgbMwgbAwgZsxCzAJBgNVBAYTAkdCMRswGQYDVQQIExJHcmVhdGVyIE1hbmNo
ZXN0ZXIxEDAOBgNVBAcTB1NhbGZvcmQxGjAYBgNVBAoTEUNPTU9ETyBDQSBMaW1pdGVkMUEwPwYD
VQQDEzhDT01PRE8gU0hBLTI1NiBDbGllbnQgQXV0aGVudGljYXRpb24gYW5kIFNlY3VyZSBFbWFp
bCBDQQIQCg7iWSvar2+A2Vr1n6WM/zCBwwYLKoZIhvcNAQkQAgsxgbOggbAwgZsxCzAJBgNVBAYT
AkdCMRswGQYDVQQIExJHcmVhdGVyIE1hbmNoZXN0ZXIxEDAOBgNVBAcTB1NhbGZvcmQxGjAYBgNV
BAoTEUNPTU9ETyBDQSBMaW1pdGVkMUEwPwYDVQQDEzhDT01PRE8gU0hBLTI1NiBDbGllbnQgQXV0
aGVudGljYXRpb24gYW5kIFNlY3VyZSBFbWFpbCBDQQIQCg7iWSvar2+A2Vr1n6WM/zANBgkqhkiG
9w0BAQEFAASCAQCp+KgeY4gZSN3MGrZWjqZFqY+jEuLUnUIPhbQirVKZph60fBW5sUtjutW+TA6y
3Qja/iT676XFjml1e1X1iivncsxbgJTWDadz7TB34ihfAasT3JJC0Jyfz7UpNEXtPv7jT9A3P3JS
jYCan2jKJaqzo0ckd7BR0g+Gg261A0EbugSNdVutxnED1R626osm5WB9yfUQ1CADo7iex6niPSrn
UOtmNUShH3SOXZsyA44GhIHm9HFvKzTIK7aUZAuPcp0hzygGoOqJ4/pN6zRjng++cVx9LmVObH34
K/yRzMXW1eTEwybwwOoEGzJgFw5QmMMFmsD+NciMbZHXH4ijt1TgAAAAAAAA
--Apple-Mail=_6EEEA75F-9BB1-4629-8995-BA1F605A44BD--

From dev-return-85654-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 22 21:21:27 2016
Return-Path: <dev-return-85654-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E8A0B18976
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Feb 2016 21:21:26 +0000 (UTC)
Received: (qmail 55520 invoked by uid 500); 22 Feb 2016 21:21:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55444 invoked by uid 500); 22 Feb 2016 21:21:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55434 invoked by uid 99); 22 Feb 2016 21:21:26 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Feb 2016 21:21:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id D1A58C39E9
	for <dev@httpd.apache.org>; Mon, 22 Feb 2016 21:21:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.302
X-Spam-Level:
X-Spam-Status: No, score=-2.302 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id sv8uF9U-HTKv for <dev@httpd.apache.org>;
	Mon, 22 Feb 2016 21:21:23 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 7E63D5FB15
	for <dev@httpd.apache.org>; Mon, 22 Feb 2016 21:21:23 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u1MLLFsL021781
	for <dev@httpd.apache.org>; Mon, 22 Feb 2016 22:21:16 +0100 (CET)
Subject: Re: svn commit: r1729495 [2/2] - in /httpd/httpd/branches/2.4.x: ./
 modules/aaa/ modules/arch/win32/ modules/core/ modules/examples/
 modules/filters/ modules/http2/ modules/loggers/ modules/lua/ modules/proxy/
 modules/ssl/ server/ server/mpm/event/ server/...
To: dev@httpd.apache.org
References: <20160209230925.70CA33A1075@svn01-us-west.apache.org>
 <n9rr6i$1u2$2@ger.gmane.org>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56CB7BCA.9050608@kippdata.de>
Date: Mon, 22 Feb 2016 22:21:14 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <n9rr6i$1u2$2@ger.gmane.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

Am 15.02.2016 um 07:28 schrieb Christophe JAILLET:
> Le 10/02/2016 00:09, rjung@apache.org a crit :
>> Modified: httpd/httpd/branches/2.4.x/server/mpm/event/event.c
>> URL:
>> http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/server/mpm/event/event.c?rev=1729495&r1=1729494&r2=1729495&view=diff
>>
>> @@ -3245,7 +3247,7 @@ static int event_check_config(apr_pool_t
>>               ap_log_error(APLOG_MARK, APLOG_WARNING | APLOG_STARTUP,
>> 0, NULL, APLOGNO(00497)
>>                            "WARNING: ServerLimit of %d exceeds
>> compile-time "
>>                            "limit of", server_limit);
>> -            ap_log_error(APLOG_MARK, APLOG_WARNING | APLOG_STARTUP,
>> 0, NULL,
>> +            ap_log_error(APLOG_MARK, APLOG_WARNING | APLOG_STARTUP,
>> 0, NULL, APLOGNO(03105)
>>                            " %d servers, decreasing to %d.",
>>                            MAX_SERVER_LIMIT, MAX_SERVER_LIMIT);
>>           } else {
>>
>
> Should we really add an APLOGNO here? It looks like a multi-line log
> message.
>
> This is the same for APLOGNO(03105) --> APLOGNO(03116) in event.c.
> Similar code can also be found in other MPM.

You are right. I wonder whether we actually want to reformat those 
startup messages to single (long) line messages. What do you (and 
others) think?

Regards,

Rainer


From dev-return-85655-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 22 21:48:13 2016
Return-Path: <dev-return-85655-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D7F3A18C03
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Feb 2016 21:48:13 +0000 (UTC)
Received: (qmail 67969 invoked by uid 500); 22 Feb 2016 21:47:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67894 invoked by uid 500); 22 Feb 2016 21:47:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67884 invoked by uid 99); 22 Feb 2016 21:47:57 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Feb 2016 21:47:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 291ED1A06B9
	for <dev@httpd.apache.org>; Mon, 22 Feb 2016 21:47:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ah4iHPC6yA5F for <dev@httpd.apache.org>;
	Mon, 22 Feb 2016 21:47:55 +0000 (UTC)
Received: from mail-io0-f169.google.com (mail-io0-f169.google.com [209.85.223.169])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id B6F7D5F1C6
	for <dev@httpd.apache.org>; Mon, 22 Feb 2016 21:47:54 +0000 (UTC)
Received: by mail-io0-f169.google.com with SMTP id g203so192710395iof.2
        for <dev@httpd.apache.org>; Mon, 22 Feb 2016 13:47:54 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=yWQF3YPLapLbNY6Ry52jXeP5nzIdUk7qG8IBEjGRukc=;
        b=RuGbcpWGcGD1QyQ/AsKqRFMpNY/L83r6gB7FAgonx8Tjl9p2YbPmvuzfUz2NZa4Hn2
         HleqZfSOOufiI+dAKbeExAJZMH1MsZnH7ohcq5dt/DdNCMhEirHdvRwjtH31sHQl0LsH
         SMXn5AcPwZDcD+f+xtIqcogb8dpwUZQOuUfRJ1QucqhuGExj+p26wwndK8wqYic1znYg
         zOdMRBi+e8HLMzDhfjfcukH6RTYfWdz5SBjEBqlat7phRjJhVIlg3MPvl331z99EGr06
         noE1O2YxOtfduZ5ZB20x5huEIzwM3wFQ5ABeffKN+JeW6v5FYAq5k0S8n3sXKS/ukzqv
         E+zA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=yWQF3YPLapLbNY6Ry52jXeP5nzIdUk7qG8IBEjGRukc=;
        b=BQu/dsaOq4jFtyAkl1xFye2hkSIGO55vpYwcNfWIrq1BLkRnQtw44TPzm5RvJKJxCD
         32iFkCBycPk9cbgSCXMTsj5SoLPpP6XlZ58wBbmccB3sy1n/yObtYtchNkEdm8av/nfB
         iqwcwJ6VFI1vd5CRnjJkb3ChcNRqhHM0wyZn3C86GAnV38WJ5otVuA9DNoxfFGCXV1sI
         BKsfabR18K2Mc5k4AFNkyJjjNLYIIYlYv/Eid2L1Cq6AD5uUHFzi3APwu9+oKAWbt1D0
         UqFNAL1gUXRy9EAZiBf/R99eTWke8EnfMK7hAEtRJa0tY5unc2D7izMyFg8zv0MN6wIC
         WWww==
X-Gm-Message-State: AG10YOStrzU+Ymsp7a8gxe68xcEf2IalXdDkyrES4uJbMe16cIXLA3I487hYClInEQZTL6hGIMQ1nbZYV7Z1gfBy
MIME-Version: 1.0
X-Received: by 10.107.14.66 with SMTP id 63mr32151593ioo.150.1456177673719;
 Mon, 22 Feb 2016 13:47:53 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Mon, 22 Feb 2016 13:47:53 -0800 (PST)
In-Reply-To: <56CB7BCA.9050608@kippdata.de>
References: <20160209230925.70CA33A1075@svn01-us-west.apache.org>
	<n9rr6i$1u2$2@ger.gmane.org>
	<56CB7BCA.9050608@kippdata.de>
Date: Mon, 22 Feb 2016 15:47:53 -0600
Message-ID: <CACsi253g9vKKK25WE=QjKvjQym-VQw3ArkWOtjqnrGHKZx1X2w@mail.gmail.com>
Subject: Re: svn commit: r1729495 [2/2] - in /httpd/httpd/branches/2.4.x: ./
 modules/aaa/ modules/arch/win32/ modules/core/ modules/examples/
 modules/filters/ modules/http2/ modules/loggers/ modules/lua/ modules/proxy/
 modules/ssl/ server/ server/mpm/event/ server/...
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113fe1bef8eb75052c62c8b6

--001a113fe1bef8eb75052c62c8b6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

This looks busted anyways, the author broke the atomic behavior of log
messages :(
Fix the underlying bug.

Each AP##### string should have exactly one string value, for later
internationalization.
There is no way, without the APLOGNO, that this second message can be
translated.

Cheers,

Bill

On Mon, Feb 22, 2016 at 3:21 PM, Rainer Jung <rainer.jung@kippdata.de>
wrote:

> Am 15.02.2016 um 07:28 schrieb Christophe JAILLET:
>
>> Le 10/02/2016 00:09, rjung@apache.org a =C3=A9crit :
>>
>>> Modified: httpd/httpd/branches/2.4.x/server/mpm/event/event.c
>>> URL:
>>>
>>> http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/server/mpm/even=
t/event.c?rev=3D1729495&r1=3D1729494&r2=3D1729495&view=3Ddiff
>>>
>>> @@ -3245,7 +3247,7 @@ static int event_check_config(apr_pool_t
>>>               ap_log_error(APLOG_MARK, APLOG_WARNING | APLOG_STARTUP,
>>> 0, NULL, APLOGNO(00497)
>>>                            "WARNING: ServerLimit of %d exceeds
>>> compile-time "
>>>                            "limit of", server_limit);
>>> -            ap_log_error(APLOG_MARK, APLOG_WARNING | APLOG_STARTUP,
>>> 0, NULL,
>>> +            ap_log_error(APLOG_MARK, APLOG_WARNING | APLOG_STARTUP,
>>> 0, NULL, APLOGNO(03105)
>>>                            " %d servers, decreasing to %d.",
>>>                            MAX_SERVER_LIMIT, MAX_SERVER_LIMIT);
>>>           } else {
>>>
>>>
>> Should we really add an APLOGNO here? It looks like a multi-line log
>> message.
>>
>> This is the same for APLOGNO(03105) --> APLOGNO(03116) in event.c.
>> Similar code can also be found in other MPM.
>>
>
> You are right. I wonder whether we actually want to reformat those startu=
p
> messages to single (long) line messages. What do you (and others) think?
>
> Regards,
>
> Rainer
>
>

--001a113fe1bef8eb75052c62c8b6
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">This looks busted anyways, the author broke the atomic beh=
avior of log messages :(<div>Fix the underlying bug.<br><div><br></div><div=
>Each AP##### string should have exactly one string value, for later intern=
ationalization.</div><div>There is no way, without the APLOGNO, that this s=
econd message can be translated.</div><div><br></div><div>Cheers,</div><div=
><br></div><div>Bill</div><div><div class=3D"gmail_extra"><br><div class=3D=
"gmail_quote">On Mon, Feb 22, 2016 at 3:21 PM, Rainer Jung <span dir=3D"ltr=
">&lt;<a href=3D"mailto:rainer.jung@kippdata.de" target=3D"_blank">rainer.j=
ung@kippdata.de</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" =
style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><sp=
an class=3D"">Am 15.02.2016 um 07:28 schrieb Christophe JAILLET:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
Le 10/02/2016 00:09, <a href=3D"mailto:rjung@apache.org" target=3D"_blank">=
rjung@apache.org</a> a =C3=A9crit :<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
Modified: httpd/httpd/branches/2.4.x/server/mpm/event/event.c<br>
URL:<br>
<a href=3D"http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/server/m=
pm/event/event.c?rev=3D1729495&amp;r1=3D1729494&amp;r2=3D1729495&amp;view=
=3Ddiff" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc/=
httpd/httpd/branches/2.4.x/server/mpm/event/event.c?rev=3D1729495&amp;r1=3D=
1729494&amp;r2=3D1729495&amp;view=3Ddiff</a><br>
<br>
@@ -3245,7 +3247,7 @@ static int event_check_config(apr_pool_t<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 ap_log_error(APLOG_MARK, A=
PLOG_WARNING | APLOG_STARTUP,<br>
0, NULL, APLOGNO(00497)<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0&quot;WARNING: ServerLimit of %d exceeds<br>
compile-time &quot;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0&quot;limit of&quot;, server_limit);<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 ap_log_error(APLOG_MARK, APLOG_W=
ARNING | APLOG_STARTUP,<br>
0, NULL,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 ap_log_error(APLOG_MARK, APLOG_W=
ARNING | APLOG_STARTUP,<br>
0, NULL, APLOGNO(03105)<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0&quot; %d servers, decreasing to %d.&quot;,<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0MAX_SERVER_LIMIT, MAX_SERVER_LIMIT);<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 } else {<br>
<br>
</blockquote>
<br>
Should we really add an APLOGNO here? It looks like a multi-line log<br>
message.<br>
<br>
This is the same for APLOGNO(03105) --&gt; APLOGNO(03116) in event.c.<br>
Similar code can also be found in other MPM.<br>
</blockquote>
<br></span>
You are right. I wonder whether we actually want to reformat those startup =
messages to single (long) line messages. What do you (and others) think?<br=
>
<br>
Regards,<br>
<br>
Rainer<br>
<br>
</blockquote></div><br></div></div></div></div>

--001a113fe1bef8eb75052c62c8b6--

From dev-return-85656-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 22 21:48:50 2016
Return-Path: <dev-return-85656-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 25FD718C22
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Feb 2016 21:48:50 +0000 (UTC)
Received: (qmail 76728 invoked by uid 500); 22 Feb 2016 21:48:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76666 invoked by uid 500); 22 Feb 2016 21:48:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76656 invoked by uid 99); 22 Feb 2016 21:48:49 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Feb 2016 21:48:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 4682F180A0E
	for <dev@httpd.apache.org>; Mon, 22 Feb 2016 21:48:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 7aF_zCaPdw_2 for <dev@httpd.apache.org>;
	Mon, 22 Feb 2016 21:48:47 +0000 (UTC)
Received: from smtp.smtpout.orange.fr (smtp02.smtpout.orange.fr [80.12.242.124])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 5533B5FB79
	for <dev@httpd.apache.org>; Mon, 22 Feb 2016 21:48:47 +0000 (UTC)
Received: from [127.0.0.1] ([92.140.173.70])
	by mwinf5d56 with ME
	id MZof1s0091XVizg03Zofc1; Mon, 22 Feb 2016 22:48:39 +0100
X-ME-Helo: [127.0.0.1]
X-ME-Date: Mon, 22 Feb 2016 22:48:39 +0100
X-ME-IP: 92.140.173.70
Subject: Re: svn commit: r1729495 [2/2] - in /httpd/httpd/branches/2.4.x: ./
 modules/aaa/ modules/arch/win32/ modules/core/ modules/examples/
 modules/filters/ modules/http2/ modules/loggers/ modules/lua/ modules/proxy/
 modules/ssl/ server/ server/mpm/event/ server/...
To: dev@httpd.apache.org
References: <20160209230925.70CA33A1075@svn01-us-west.apache.org>
 <n9rr6i$1u2$2@ger.gmane.org> <56CB7BCA.9050608@kippdata.de>
From: Marion & Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Message-ID: <56CB8237.5050605@wanadoo.fr>
Date: Mon, 22 Feb 2016 22:48:39 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <56CB7BCA.9050608@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 160222-1, 22/02/2016), Outbound message
X-Antivirus-Status: Clean



Le 22/02/2016 22:21, Rainer Jung a crit :
> Am 15.02.2016 um 07:28 schrieb Christophe JAILLET:
>> Le 10/02/2016 00:09, rjung@apache.org a crit :
>>> Modified: httpd/httpd/branches/2.4.x/server/mpm/event/event.c
>>> URL:
>>> http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/server/mpm/event/event.c?rev=1729495&r1=1729494&r2=1729495&view=diff 
>>>
>>>
>>> @@ -3245,7 +3247,7 @@ static int event_check_config(apr_pool_t
>>>               ap_log_error(APLOG_MARK, APLOG_WARNING | APLOG_STARTUP,
>>> 0, NULL, APLOGNO(00497)
>>>                            "WARNING: ServerLimit of %d exceeds
>>> compile-time "
>>>                            "limit of", server_limit);
>>> -            ap_log_error(APLOG_MARK, APLOG_WARNING | APLOG_STARTUP,
>>> 0, NULL,
>>> +            ap_log_error(APLOG_MARK, APLOG_WARNING | APLOG_STARTUP,
>>> 0, NULL, APLOGNO(03105)
>>>                            " %d servers, decreasing to %d.",
>>>                            MAX_SERVER_LIMIT, MAX_SERVER_LIMIT);
>>>           } else {
>>>
>>
>> Should we really add an APLOGNO here? It looks like a multi-line log
>> message.
>>
>> This is the same for APLOGNO(03105) --> APLOGNO(03116) in event.c.
>> Similar code can also be found in other MPM.
>
> You are right. I wonder whether we actually want to reformat those 
> startup messages to single (long) line messages. What do you (and 
> others) think?
>
> Regards,
>
> Rainer
>
>
+1, it is what I had in mind to clarify and avoid false positive when 
using coccinelle.

CJ

From dev-return-85657-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 22 23:41:01 2016
Return-Path: <dev-return-85657-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8D47518393
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Feb 2016 23:41:01 +0000 (UTC)
Received: (qmail 41445 invoked by uid 500); 22 Feb 2016 23:41:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41358 invoked by uid 500); 22 Feb 2016 23:41:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41348 invoked by uid 99); 22 Feb 2016 23:41:00 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Feb 2016 23:41:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 23C2B1A41FA
	for <dev@httpd.apache.org>; Mon, 22 Feb 2016 23:41:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id rHjPOHJIjr0f for <dev@httpd.apache.org>;
	Mon, 22 Feb 2016 23:40:58 +0000 (UTC)
Received: from mail-lb0-f178.google.com (mail-lb0-f178.google.com [209.85.217.178])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 41FB95F343
	for <dev@httpd.apache.org>; Mon, 22 Feb 2016 23:40:58 +0000 (UTC)
Received: by mail-lb0-f178.google.com with SMTP id x4so92225767lbm.0
        for <dev@httpd.apache.org>; Mon, 22 Feb 2016 15:40:58 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=vPokf3TgrF2+/FhNwr1ekfGKtEfLuV0Io3t0yhnUpMc=;
        b=uBuYxnoFRvbs1SxUI2rF0OlN35F4OjFZzhxrvTqK3VBqwXcwlSydeyXxSSdWPvBKOl
         ElI3K9G/pQ+uTfBa5NCunZSVx0c1DsSmfKpCVGasqz0Xx29CIVmqsHElp/m8zuikO8g/
         YLBQfjaAHxtyXYB086ye7qhEUpAlzTIXp7McITYA3WPQJEiMVgaCHhvNxOlmE4UKeGHq
         UFSE3tMLx4TVXoEoIhTRyAwBPxmVEcxC0dn8fUi2syDlEuCGSmgaqib7J/cMBKZeuJ+3
         r/lCehyWWruHOOFtijR2ORZI6d2RE9JDdAxUwn8qtB03FZI1vBOnOGW2WCUC9Vull+/l
         rwWQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=vPokf3TgrF2+/FhNwr1ekfGKtEfLuV0Io3t0yhnUpMc=;
        b=D9+bi4roNf5Vq8wfyMunxtNj1RssUBKlAJTc5j1Sy+g2F1utp+kIuX4BuWY24rd5Km
         VSuEjtzjTPnHmeaDzScwA4kWP+iiZu4gaK/BKH0fcoVH76YITOAy1nIbSXAHHdKhMHY/
         1Doc1QCXezh8PPJq6o+7kHD0Mt/ZBGWh+eF+9c9GtK8O/dlAq9E4OG1E+GHwFgLGNh7W
         chupr5aIW0UOLp5roRUTlodPZV5Klxv6gjzQKRzT5+lh1xWwpO4puCRuCb/PzVWK6Xwh
         uk/buuT69K3YYHeAi89XcO4k7MmxzlqffWPOVylL4vAOpdmC+qEmHnu5CeXo14E1w/qi
         DvFg==
X-Gm-Message-State: AG10YORQ/DaNTzYTcqXHdzuQeByYCKsIbXP185w7WwbSWIpUiD7h5H7qZXL52Sg8+qf/CyBUZuQkLet6kzuMcA==
MIME-Version: 1.0
X-Received: by 10.112.160.3 with SMTP id xg3mr11095799lbb.67.1456184451107;
 Mon, 22 Feb 2016 15:40:51 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Mon, 22 Feb 2016 15:40:50 -0800 (PST)
In-Reply-To: <CAFedD40vrZptqRd5f+5VaKbA-QsCak_R0mu0+zVHLAORCPS2cw@mail.gmail.com>
References: <CALK=YjO-epYxuoG9paTMhL6BdbMU_JtJwPFFPEkw93F_mBwj2A@mail.gmail.com>
	<CALK=YjORjrQ0ByXB_YrZyM_HfzBgyXcnyfQnToPg_eK75Y1pLA@mail.gmail.com>
	<CAFedD40vrZptqRd5f+5VaKbA-QsCak_R0mu0+zVHLAORCPS2cw@mail.gmail.com>
Date: Tue, 23 Feb 2016 00:40:50 +0100
Message-ID: <CAFedD41CgExPY+kDYoBTXi9S_hMMm5Mf8GLi+do3zzANBpwEWw@mail.gmail.com>
Subject: Re: Apache 2.4 adoption revisited -- now 16.4% of Apache sites
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/mixed; boundary=001a11c331e6eff90b052c645c00

--001a11c331e6eff90b052c645c00
Content-Type: multipart/alternative; boundary=001a11c331e6eff904052c645cfe

--001a11c331e6eff904052c645cfe
Content-Type: text/plain; charset=UTF-8

2016-02-21 15:55 GMT+01:00 Luca Toscano <toscano.luca@gmail.com>:
>
>
> Would it be worth to add a small banner on each documentation page for 2.2
> stating something like:
>

Patch attached with a very high level idea of what I would like to do. I
have modified the "retired" banner for 2.2 to suggest the readers a
migration to 2.4. Wording might not be correct but please let me know if
you like the idea!

Luca

--001a11c331e6eff904052c645cfe
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><br><div class=3D"gmail_extra"><br><div class=3D"gmail_quo=
te">2016-02-21 15:55 GMT+01:00 Luca Toscano <span dir=3D"ltr">&lt;<a href=
=3D"mailto:toscano.luca@gmail.com" target=3D"_blank">toscano.luca@gmail.com=
</a>&gt;</span>:<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8e=
x;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div><div><=
div class=3D"gmail_extra"><div class=3D"gmail_quote"><div><br></div><div>Wo=
uld it be worth to add a small banner on each documentation page for 2.2 st=
ating something like:=C2=A0</div></div></div></div></div></div></blockquote=
><div><br></div><div>Patch attached with a very high level idea of what I w=
ould like to do. I have modified the &quot;retired&quot; banner for 2.2 to =
suggest the readers a migration to 2.4. Wording might not be correct but pl=
ease let me know if you like the idea!</div><div><br></div><div>Luca</div><=
/div><br></div></div>

--001a11c331e6eff904052c645cfe--
--001a11c331e6eff90b052c645c00
Content-Type: text/plain; charset=US-ASCII; name="22_upgrade.txt"
Content-Disposition: attachment; filename="22_upgrade.txt"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ikymk1m40

SW5kZXg6IHN0eWxlL21hbnVhbC5lbi54c2wKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gc3R5bGUvbWFudWFsLmVu
LnhzbAkocmV2aXNpb24gMTczMTE5NikKKysrIHN0eWxlL21hbnVhbC5lbi54c2wJKHdvcmtpbmcg
Y29weSkKQEAgLTI5LDcgKzI5LDcgQEAKIDx4c2w6dmFyaWFibGUgbmFtZT0ib3V0cHV0LWVuY29k
aW5nIj5JU08tODg1OS0xPC94c2w6dmFyaWFibGU+CiA8eHNsOnZhcmlhYmxlIG5hbWU9ImlzLWNo
bSIgc2VsZWN0PSJmYWxzZSgpIi8+CiA8eHNsOnZhcmlhYmxlIG5hbWU9ImlzLXppcCIgc2VsZWN0
PSJmYWxzZSgpIi8+Ci08eHNsOnZhcmlhYmxlIG5hbWU9ImlzLXJldGlyZWQiIHNlbGVjdD0iZmFs
c2UoKSIvPgorPHhzbDp2YXJpYWJsZSBuYW1lPSJpcy1yZXRpcmVkIiBzZWxlY3Q9InRydWUoKSIv
PgogCiA8IS0tIE5vdyBnZXQgdGhlIHJlYWwgZ3V0cyBvZiB0aGUgc3R5bGVzaGVldCAtLT4KIDx4
c2w6aW5jbHVkZSBocmVmPSJ4c2wvY29tbW9uLnhzbCIvPgpJbmRleDogc3R5bGUveHNsL2NvbW1v
bi54c2wKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PQotLS0gc3R5bGUveHNsL2NvbW1vbi54c2wJKHJldmlzaW9uIDE3MzEx
OTYpCisrKyBzdHlsZS94c2wvY29tbW9uLnhzbAkod29ya2luZyBjb3B5KQpAQCAtMzE3LDExICsz
MTcsOCBAQAogICAgIDxkaXYgY2xhc3M9InJldGlyZWQiPgogICAgICAgICA8aDQ+PHhzbDp2YWx1
ZS1vZiBzZWxlY3Q9IiRtZXNzYWdlW0BpZD0ncmV0aXJlZC5oZWFkbGluZSddIiAvPjwvaDQ+CiAg
ICAgICAgIDx4c2w6YXBwbHktdGVtcGxhdGVzIHNlbGVjdD0iJG1lc3NhZ2VbQGlkPSdyZXRpcmVk
LmRlc2NyaXB0aW9uJ10iIC8+Ci0gICAgICAgIDx1bD4KLSAgICAgICAgICAgIDxsaT48YSBocmVm
PSJodHRwOi8vaHR0cGQuYXBhY2hlLm9yZy9kb2NzL2N1cnJlbnQvIj4KLSAgICAgICAgICAgICAg
ICA8eHNsOnZhbHVlLW9mIHNlbGVjdD0iJG1lc3NhZ2VbQGlkPSdyZXRpcmVkLmN1cnJlbnQnXSIg
Lz48L2E+Ci0gICAgICAgICAgICA8L2xpPgotICAgICAgICA8L3VsPgorICAgICAgICA8YSBocmVm
PSJodHRwOi8vaHR0cGQuYXBhY2hlLm9yZy9kb2NzL2N1cnJlbnQvdXBncmFkaW5nLmh0bWwiPgor
ICAgICAgICAgICAgICAgIDx4c2w6dmFsdWUtb2Ygc2VsZWN0PSIkbWVzc2FnZVtAaWQ9J3JldGly
ZWQudXBncmFkaW5nJ10iIC8+PC9hPgogICAgICAgICA8eHNsOmlmIHRlc3Q9Im5vdCgkZnV0dXJl
ID0gJycpIj4KICAgICAgICAgICAgIDxwPjx4c2w6YXBwbHktdGVtcGxhdGVzIHNlbGVjdD0iJG1l
c3NhZ2VbQGlkPSdyZXRpcmVkLmRvY3VtZW50J10iIG1vZGU9InJldGlyZWQiIC8+PC9wPgogICAg
ICAgICA8L3hzbDppZj4KSW5kZXg6IHN0eWxlL2xhbmcvZW4ueG1sCj09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIHN0
eWxlL2xhbmcvZW4ueG1sCShyZXZpc2lvbiAxNzMxMTk2KQorKysgc3R5bGUvbGFuZy9lbi54bWwJ
KHdvcmtpbmcgY29weSkKQEAgLTE1MSwxMCArMTUxLDExIEBACiAgICAgICAgIDwhLS0gcmV0aXJl
bWVudCAtLT4KICAgICAgICAgPG1lc3NhZ2UgaWQ9InJldGlyZWQuaGVhZGxpbmUiPlBsZWFzZSBu
b3RlPC9tZXNzYWdlPgogICAgICAgICA8bWVzc2FnZSBpZD0icmV0aXJlZC5kZXNjcmlwdGlvbiI+
Ci0gICAgICAgICAgICA8cD5UaGlzIGRvY3VtZW50IHJlZmVycyB0byB0aGUgPHN0cm9uZz4yLjA8
L3N0cm9uZz4gdmVyc2lvbiBvZiBBcGFjaGUgaHR0cGQsIHdoaWNoIDxzdHJvbmc+aXMgbm8gbG9u
Z2VyIG1haW50YWluZWQ8L3N0cm9uZz4uIFVwZ3JhZGUsIGFuZCByZWZlciB0byB0aGUgY3VycmVu
dCB2ZXJzaW9uIG9mIGh0dHBkIGluc3RlYWQsIGRvY3VtZW50ZWQgYXQ6PC9wPgorICAgICAgICAg
ICAgPHA+VGhpcyBkb2N1bWVudCByZWZlcnMgdG8gdGhlIDxzdHJvbmc+Mi4yPC9zdHJvbmc+IHZl
cnNpb24gb2YgQXBhY2hlIGh0dHBkIHRoYXQgaXMgc3RpbGwgbWFpbnRhaW5lZCBidXQgbm90IGFj
dGl2ZWx5IGRldmVsb3BlZC4gUGxlYXNlIHVwZ3JhZGUgdG8gdGhlIGxhdGVzdCB2ZXJzaW9uIG9m
IEFwYWNoZSBodHRwZCB0byBnZXQgcGVyZm9ybWFuY2UgaW1wcm92ZW1lbnRzIGFuZCBuZXcgZmVh
dHVyZXMuIFRoZSBtaWdyYXRpb24gb2YgdGhlIGNvbmZpZ3VyYXRpb24gZmlsZXMgd2lsbCByZXF1
aXJlIGEgYml0IG9mIGVmZm9ydCBidXQgaXQgd2lsbCBkZWZpbml0ZWx5IHdvcnRoIGl0IGluIHRl
cm0gb2YgcGVyZm9ybWFuY2VzIGFuZCBsb25nIHRlcm0gbWFpbnRhaW5hYmlsaXR5LgorICAgICAg
ICAgICAgPC9wPgogICAgICAgICA8L21lc3NhZ2U+Ci0gICAgICAgIDxtZXNzYWdlIGlkPSJyZXRp
cmVkLmN1cnJlbnQiPkN1cnJlbnQgcmVsZWFzZSB2ZXJzaW9uIG9mIEFwYWNoZSBIVFRQIFNlcnZl
ciBkb2N1bWVudGF0aW9uPC9tZXNzYWdlPgotICAgICAgICA8bWVzc2FnZSBpZD0icmV0aXJlZC5k
b2N1bWVudCI+WW91IG1heSBmb2xsb3cgPGxpbms+dGhpcyBsaW5rPC9saW5rPiB0byBnbyB0byB0
aGUgY3VycmVudCB2ZXJzaW9uIG9mIHRoaXMgZG9jdW1lbnQuPC9tZXNzYWdlPgorICAgICAgICA8
bWVzc2FnZSBpZD0icmV0aXJlZC51cGdyYWRpbmciPlVwZ3JhZGluZyB0byB0aGUgbGF0ZXN0IHZl
cnNpb24gb2YgQXBhY2hlIGh0dHBkPC9tZXNzYWdlPgorICAgICAgICA8bWVzc2FnZSBpZD0icmV0
aXJlZC5kb2N1bWVudCI+WW91IG1heSBmb2xsb3cgPGxpbms+dGhpcyBsaW5rPC9saW5rPiB0byBn
byB0byB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgdGhpcyBkb2N1bWVudC48L21lc3NhZ2U+CiAKICAg
ICA8L21lc3NhZ2VzPgogPC9sYW5ndWFnZT4K
--001a11c331e6eff90b052c645c00--

From dev-return-85658-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb 23 00:30:00 2016
Return-Path: <dev-return-85658-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 015CD18612
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 23 Feb 2016 00:30:00 +0000 (UTC)
Received: (qmail 55211 invoked by uid 500); 23 Feb 2016 00:29:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55121 invoked by uid 500); 23 Feb 2016 00:29:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55102 invoked by uid 99); 23 Feb 2016 00:29:58 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Feb 2016 00:29:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E46B4C0D87
	for <dev@httpd.apache.org>; Tue, 23 Feb 2016 00:29:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.631
X-Spam-Level:
X-Spam-Status: No, score=-0.631 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=2, RCVD_IN_DNSWL_MED=-2.3,
	RCVD_IN_MSPIKE_H2=-0.001, RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id ghy1fMpbHfIY for <dev@httpd.apache.org>;
	Tue, 23 Feb 2016 00:29:56 +0000 (UTC)
Received: from aserp1040.oracle.com (aserp1040.oracle.com [141.146.126.69])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 246385F3A0
	for <dev@httpd.apache.org>; Tue, 23 Feb 2016 00:29:56 +0000 (UTC)
Received: from userv0021.oracle.com (userv0021.oracle.com [156.151.31.71])
	by aserp1040.oracle.com (Sentrion-MTA-4.3.2/Sentrion-MTA-4.3.2) with ESMTP id u1N0TmR1020875
	(version=TLSv1 cipher=DHE-RSA-AES256-SHA bits=256 verify=OK)
	for <dev@httpd.apache.org>; Tue, 23 Feb 2016 00:29:48 GMT
Received: from userv0122.oracle.com (userv0122.oracle.com [156.151.31.75])
	by userv0021.oracle.com (8.13.8/8.13.8) with ESMTP id u1N0TlO4006424
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Tue, 23 Feb 2016 00:29:47 GMT
Received: from abhmp0017.oracle.com (abhmp0017.oracle.com [141.146.116.23])
	by userv0122.oracle.com (8.14.4/8.14.4) with ESMTP id u1N0TlcL021487
	for <dev@httpd.apache.org>; Tue, 23 Feb 2016 00:29:47 GMT
Received: from [10.159.135.196] (/10.159.135.196)
	by default (Oracle Beehive Gateway v4.0)
	with ESMTP ; Mon, 22 Feb 2016 16:29:47 -0800
Subject: Re: Apache 2.4 adoption revisited -- now 16.4% of Apache sites
To: dev@httpd.apache.org
References: <CALK=YjO-epYxuoG9paTMhL6BdbMU_JtJwPFFPEkw93F_mBwj2A@mail.gmail.com>
 <CALK=YjORjrQ0ByXB_YrZyM_HfzBgyXcnyfQnToPg_eK75Y1pLA@mail.gmail.com>
 <CAFedD40vrZptqRd5f+5VaKbA-QsCak_R0mu0+zVHLAORCPS2cw@mail.gmail.com>
 <CAFedD41CgExPY+kDYoBTXi9S_hMMm5Mf8GLi+do3zzANBpwEWw@mail.gmail.com>
From: Mike Rumph <mike.rumph@oracle.com>
Organization: Oracle Corporation
Message-ID: <56CBA7F2.9000201@oracle.com>
Date: Mon, 22 Feb 2016 16:29:38 -0800
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <CAFedD41CgExPY+kDYoBTXi9S_hMMm5Mf8GLi+do3zzANBpwEWw@mail.gmail.com>
Content-Type: multipart/alternative;
 boundary="------------090103030902060907090000"
X-Source-IP: userv0021.oracle.com [156.151.31.71]

This is a multi-part message in MIME format.
--------------090103030902060907090000
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit



On 2/22/2016 3:40 PM, Luca Toscano wrote:
>
>
> 2016-02-21 15:55 GMT+01:00 Luca Toscano <toscano.luca@gmail.com 
> <mailto:toscano.luca@gmail.com>>:
>
>
>     Would it be worth to add a small banner on each documentation page
>     for 2.2 stating something like:
>
>
> Patch attached with a very high level idea of what I would like to do. 
> I have modified the "retired" banner for 2.2 to suggest the readers a 
> migration to 2.4. Wording might not be correct but please let me know 
> if you like the idea!
>
> Luca
>
Hello Luca,

The idea looks good to me.

Here is a first look nitpick at one of the sentences:

"The migration of the configuration files will require a bit of effort 
but it will definitely worth it in term of performances and long term 
maintainability."

==>

The migration of the configuration files will require a bit of effort*,*  but it will definitely*be*  worth it in*terms*  of*performance*  and long term maintainability.

Thanks,

Mike


--------------090103030902060907090000
Content-Type: text/html; charset=windows-1252
Content-Transfer-Encoding: 8bit

<html>
  <head>
    <meta content="text/html; charset=windows-1252"
      http-equiv="Content-Type">
  </head>
  <body bgcolor="#FFFFFF" text="#000000">
    <br>
    <br>
    <div class="moz-cite-prefix">On 2/22/2016 3:40 PM, Luca Toscano
      wrote:<br>
    </div>
    <blockquote
cite="mid:CAFedD41CgExPY+kDYoBTXi9S_hMMm5Mf8GLi+do3zzANBpwEWw@mail.gmail.com"
      type="cite">
      <div dir="ltr"><br>
        <div class="gmail_extra"><br>
          <div class="gmail_quote">2016-02-21 15:55 GMT+01:00 Luca
            Toscano <span dir="ltr">&lt;<a moz-do-not-send="true"
                href="mailto:toscano.luca@gmail.com" target="_blank">toscano.luca@gmail.com</a>&gt;</span>:
            <blockquote class="gmail_quote" style="margin:0 0 0
              .8ex;border-left:1px #ccc solid;padding-left:1ex">
              <div dir="ltr">
                <div>
                  <div>
                    <div class="gmail_extra">
                      <div class="gmail_quote">
                        <div><br>
                        </div>
                        <div>Would it be worth to add a small banner on
                          each documentation page for 2.2 stating
                          something like:</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </blockquote>
            <div><br>
            </div>
            <div>Patch attached with a very high level idea of what I
              would like to do. I have modified the "retired" banner for
              2.2 to suggest the readers a migration to 2.4. Wording
              might not be correct but please let me know if you like
              the idea!</div>
            <div><br>
            </div>
            <div>Luca</div>
          </div>
          <br>
        </div>
      </div>
    </blockquote>
    Hello Luca, <br>
    <br>
    The idea looks good to me.<br>
    <br>
    Here is a first look nitpick at one of the sentences:<br>
    <br>
    "The migration of the configuration files will require a bit of
    effort but it will definitely worth it in term of performances and
    long term maintainability."<br>
    <br>
    ==&gt;<br>
    <br>
    <pre wrap="">The migration of the configuration files will require a bit of effort<b>,</b> but it will definitely <b>be</b> worth it in <b>terms</b> of <b>performance</b> and long term maintainability.</pre>
    Thanks,<br>
    <br>
    Mike<br>
    <br>
  </body>
</html>

--------------090103030902060907090000--

From dev-return-85659-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb 23 09:20:38 2016
Return-Path: <dev-return-85659-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3D9D1189D7
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 23 Feb 2016 09:20:38 +0000 (UTC)
Received: (qmail 5539 invoked by uid 500); 23 Feb 2016 09:20:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5360 invoked by uid 500); 23 Feb 2016 09:20:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5350 invoked by uid 99); 23 Feb 2016 09:20:29 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Feb 2016 09:20:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 24C481A4273
	for <dev@httpd.apache.org>; Tue, 23 Feb 2016 09:20:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id uljRdcBIRJh9 for <dev@httpd.apache.org>;
	Tue, 23 Feb 2016 09:20:27 +0000 (UTC)
Received: from mail-lf0-f42.google.com (mail-lf0-f42.google.com [209.85.215.42])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id B86425FE56
	for <dev@httpd.apache.org>; Tue, 23 Feb 2016 09:20:26 +0000 (UTC)
Received: by mail-lf0-f42.google.com with SMTP id l143so111238447lfe.2
        for <dev@httpd.apache.org>; Tue, 23 Feb 2016 01:20:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=tU2gq9zGJ4uUhK3DlsWZv5fNmjPxdpwNKJ74e1vjznI=;
        b=s6DCYdRMXBxQXuIFsHmnVGag9YK9trCiGCaq4+clh+VtqfvncSFILZkxfgsIuDinCe
         kVVwN8ksgpwoDiaevUQpTvKxacV1+CEagql52ugTmuJ30YgiOuHhtV4awr4oMdUOpv8C
         XC2cGFVyniE7+pLd2z8oEmXGUZJ2pv/3H3V3EyCsnwNQBOMKbyXmKawCi152u3cepCB5
         0qSRUliRIn9xwfNPCZOIo47SbHnVRidbtuEI6xOOU1kjfh06/Uu1ehRkeIwUdmEvP2bv
         tVbOhMmcvQ3FX/rbefA4YvuldSkND26BrTjNHRf596qRb3rjhgTY/fVKNKiVZkZN0oEH
         xtBg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=tU2gq9zGJ4uUhK3DlsWZv5fNmjPxdpwNKJ74e1vjznI=;
        b=L3mzZohP7PAD+M2fpmyOWLZd/IBCZBc/clQ/YEZM5NIuUK4BLhRhL3fLjDAhX+odEg
         XvQOXmaOuTM9TszY59HNX/TV9W775Uc0PsJTDSPbiYgDp9UyYGan261y7GwUtU2BFQEz
         u2t2pwkJaY6hSme8NjDdmkaRBrmM230bHW7/5UM/KFeF5xk/NPupfzlKxj2Plgf/Dj+L
         a7ZU5COK9NjbucUg2coFegRSzEQTdCel9QnyHpULNZke+8Kb0/FD41rwD21eTIsNBCp0
         Hy4OpDXI9XS+0Gy1REbt3FCV5MIvj/dMQNwjvP9D85K0mPD52+MgMfUTNUwBQCgFfacU
         rCJA==
X-Gm-Message-State: AG10YOSUo39eq/t0rDVkb0ABydnhUBFX680tErGIwwui7+/uh7QAa+CFzhUbFrxA7rxY/XRPiwLcf+xNTa/SgQ==
MIME-Version: 1.0
X-Received: by 10.25.149.68 with SMTP id x65mr11899729lfd.138.1456219225508;
 Tue, 23 Feb 2016 01:20:25 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Tue, 23 Feb 2016 01:20:25 -0800 (PST)
In-Reply-To: <56CBA7F2.9000201@oracle.com>
References: <CALK=YjO-epYxuoG9paTMhL6BdbMU_JtJwPFFPEkw93F_mBwj2A@mail.gmail.com>
	<CALK=YjORjrQ0ByXB_YrZyM_HfzBgyXcnyfQnToPg_eK75Y1pLA@mail.gmail.com>
	<CAFedD40vrZptqRd5f+5VaKbA-QsCak_R0mu0+zVHLAORCPS2cw@mail.gmail.com>
	<CAFedD41CgExPY+kDYoBTXi9S_hMMm5Mf8GLi+do3zzANBpwEWw@mail.gmail.com>
	<56CBA7F2.9000201@oracle.com>
Date: Tue, 23 Feb 2016 10:20:25 +0100
Message-ID: <CAFedD414du4=ZCLqM1oTcE8WaGB41rxDZRFvWR6XFBSJzCu13A@mail.gmail.com>
Subject: Re: Apache 2.4 adoption revisited -- now 16.4% of Apache sites
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11403882a6d0c2052c6c75c8

--001a11403882a6d0c2052c6c75c8
Content-Type: text/plain; charset=UTF-8

Hi Mike!

2016-02-23 1:29 GMT+01:00 Mike Rumph <mike.rumph@oracle.com>:
>
> The migration of the configuration files will require a bit of effort*,* but it will definitely *be* worth it in *terms* of *performance* and long term maintainability.
>
>
Corrected, thanks for the suggestion! I also replaced all the occurrences
of "latest" with "current" to be more consistent with the website's
nomenclature.

I am not seeing a big opposition to this idea in dev@ so I believe that the
next step is to discuss the complete patch in docs@ to reach a final
version.

Thanks!

Luca

--001a11403882a6d0c2052c6c75c8
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi Mike!<div class=3D"gmail_extra"><br><div class=3D"gmail=
_quote">2016-02-23 1:29 GMT+01:00 Mike Rumph <span dir=3D"ltr">&lt;<a href=
=3D"mailto:mike.rumph@oracle.com" target=3D"_blank">mike.rumph@oracle.com</=
a>&gt;</span>:<blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px=
 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left=
-style:solid;padding-left:1ex"><div bgcolor=3D"#FFFFFF" text=3D"#000000">
    <pre>The migration of the configuration files will require a bit of eff=
ort<b>,</b> but it will definitely <b>be</b> worth it in <b>terms</b> of <b=
>performance</b> and long term maintainability.</pre></div></blockquote><di=
v><br></div><div>Corrected, thanks for the suggestion! I also replaced all =
the occurrences of &quot;latest&quot; with &quot;current&quot; to be more c=
onsistent with the website&#39;s nomenclature.=C2=A0<br></div><div><br></di=
v><div>I am not seeing a big opposition to this idea in dev@ so I believe t=
hat the next step is to discuss the complete patch in docs@ to reach a fina=
l version.</div><div><br></div><div>Thanks!</div><div><br></div><div>Luca</=
div><div><br></div></div><br></div></div>

--001a11403882a6d0c2052c6c75c8--

From dev-return-85660-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb 23 19:04:13 2016
Return-Path: <dev-return-85660-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 373E818598
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 23 Feb 2016 19:04:13 +0000 (UTC)
Received: (qmail 18585 invoked by uid 500); 23 Feb 2016 19:04:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18507 invoked by uid 500); 23 Feb 2016 19:04:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18497 invoked by uid 99); 23 Feb 2016 19:04:00 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Feb 2016 19:04:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id ACFF01A4269
	for <dev@httpd.apache.org>; Tue, 23 Feb 2016 19:03:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.63
X-Spam-Level:
X-Spam-Status: No, score=-2.63 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.329,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 7d2s1zsZ3_Zp for <dev@httpd.apache.org>;
	Tue, 23 Feb 2016 19:03:57 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTP id 3D7C75F1C6
	for <dev@httpd.apache.org>; Tue, 23 Feb 2016 19:03:57 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u1NJ3pJi006164
	for <dev@httpd.apache.org>; Tue, 23 Feb 2016 20:03:51 +0100 (CET)
Subject: Re: svn commit: r1729495 [2/2] - in /httpd/httpd/branches/2.4.x: ./
 modules/aaa/ modules/arch/win32/ modules/core/ modules/examples/
 modules/filters/ modules/http2/ modules/loggers/ modules/lua/ modules/proxy/
 modules/ssl/ server/ server/mpm/event/ server/...
To: dev@httpd.apache.org
References: <20160209230925.70CA33A1075@svn01-us-west.apache.org>
 <n9rr6i$1u2$2@ger.gmane.org> <56CB7BCA.9050608@kippdata.de>
 <56CB8237.5050605@wanadoo.fr>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56CCAD15.1020000@kippdata.de>
Date: Tue, 23 Feb 2016 20:03:49 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56CB8237.5050605@wanadoo.fr>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

Am 22.02.2016 um 22:48 schrieb Marion & Christophe JAILLET:
> Le 22/02/2016 22:21, Rainer Jung a crit :
>> Am 15.02.2016 um 07:28 schrieb Christophe JAILLET:
>>> Le 10/02/2016 00:09, rjung@apache.org a crit :
>>>> Modified: httpd/httpd/branches/2.4.x/server/mpm/event/event.c
>>>> URL:
>>>> http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/server/mpm/event/event.c?rev=1729495&r1=1729494&r2=1729495&view=diff
>>>>
>>>>
>>>> @@ -3245,7 +3247,7 @@ static int event_check_config(apr_pool_t
>>>>               ap_log_error(APLOG_MARK, APLOG_WARNING | APLOG_STARTUP,
>>>> 0, NULL, APLOGNO(00497)
>>>>                            "WARNING: ServerLimit of %d exceeds
>>>> compile-time "
>>>>                            "limit of", server_limit);
>>>> -            ap_log_error(APLOG_MARK, APLOG_WARNING | APLOG_STARTUP,
>>>> 0, NULL,
>>>> +            ap_log_error(APLOG_MARK, APLOG_WARNING | APLOG_STARTUP,
>>>> 0, NULL, APLOGNO(03105)
>>>>                            " %d servers, decreasing to %d.",
>>>>                            MAX_SERVER_LIMIT, MAX_SERVER_LIMIT);
>>>>           } else {
>>>>
>>>
>>> Should we really add an APLOGNO here? It looks like a multi-line log
>>> message.
>>>
>>> This is the same for APLOGNO(03105) --> APLOGNO(03116) in event.c.
>>> Similar code can also be found in other MPM.
>>
>> You are right. I wonder whether we actually want to reformat those
>> startup messages to single (long) line messages. What do you (and
>> others) think?
>>
>> Regards,
>>
>> Rainer
>>
>>
> +1, it is what I had in mind to clarify and avoid false positive when
> using coccinelle.

Commited in r1731929.

Regards,

Rainer

From dev-return-85661-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb 23 19:25:22 2016
Return-Path: <dev-return-85661-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9C53518714
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 23 Feb 2016 19:25:22 +0000 (UTC)
Received: (qmail 94952 invoked by uid 500); 23 Feb 2016 19:25:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94872 invoked by uid 500); 23 Feb 2016 19:25:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94862 invoked by uid 99); 23 Feb 2016 19:25:09 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Feb 2016 19:25:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 2B14B1805E4
	for <dev@httpd.apache.org>; Tue, 23 Feb 2016 19:25:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.63
X-Spam-Level:
X-Spam-Status: No, score=-2.63 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.329,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id h6x9glj03Wps for <dev@httpd.apache.org>;
	Tue, 23 Feb 2016 19:25:08 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 7C5C05F1E3
	for <dev@httpd.apache.org>; Tue, 23 Feb 2016 19:25:07 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u1NJOx5O006400
	for <dev@httpd.apache.org>; Tue, 23 Feb 2016 20:24:59 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: Rainer Jung <rainer.jung@kippdata.de>
Subject: mod_speling changes in trunk and backport
Message-ID: <56CCB209.8080802@kippdata.de>
Date: Tue, 23 Feb 2016 20:24:57 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

There were two changes to mod_speling in trunk in 2013/2014. They were 
motivated by PR 44221: although the docs claim that using "CheckCaseOnly 
On" "limits the action of the spelling correction to lower/upper case 
changes. Other potential corrections are not performed." In fact 
mod_speling still checks for content files which only differ in the file 
name suffix form the request URI. That part of the code was contained in 
an #ifdef but active by default. The changes introduce a new directive 
that allows to control that part of the behavior by configuration.

Now the question: it seems to me that due to the change being done in 
two steps, now the directive CheckCaseOnly and the new one 
CheckBasenameMatch are not independent of each other. Setting 
CheckBasenameMatch  to "On" only enables the suffix handling if 
CheckCaseOnly if "Off". For improved compatibility and for better 
orthogonality I would suggest to keep the features separate from each 
other, ie.:

Index: modules/mappers/mod_speling.c
===================================================================
--- modules/mappers/mod_speling.c       (revision 1731929)
+++ modules/mappers/mod_speling.c       (working copy)
@@ -326,8 +326,7 @@
           * because it won't find anything matching that spelling.
           * With the extension-munging, it would locate "foobar.html".
           */
-        else if ((cfg->check_case_only == 0) &&
-                 (cfg->check_basename_match == 1)) {
+        else if (cfg->check_basename_match == 1) {
              /*
               * Okay... we didn't find anything. Now we take out the 
hard-core
               * power tools. There are several cases here. Someone 
might have


That way the old changes could be ported back to 2.4 with the only 
change that the default for CheckBasenameMatch would be "On" in 2.4 for 
compatibility reasons and "Off" in trunk to satisfy the principle of 
least surprise.

Regards,

Rainer

From dev-return-85662-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Feb 23 21:56:33 2016
Return-Path: <dev-return-85662-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2C097180B3
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 23 Feb 2016 21:56:33 +0000 (UTC)
Received: (qmail 72845 invoked by uid 500); 23 Feb 2016 21:56:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 72772 invoked by uid 500); 23 Feb 2016 21:56:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72762 invoked by uid 99); 23 Feb 2016 21:56:32 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Feb 2016 21:56:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 4BCBD1A4259
	for <dev@httpd.apache.org>; Tue, 23 Feb 2016 21:56:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.651
X-Spam-Level:
X-Spam-Status: No, score=0.651 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id B0Tw5mzP6Tcn for <dev@httpd.apache.org>;
	Tue, 23 Feb 2016 21:56:31 +0000 (UTC)
Received: from resqmta-po-06v.sys.comcast.net (resqmta-po-06v.sys.comcast.net [96.114.154.165])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 3A1C15F208
	for <dev@httpd.apache.org>; Tue, 23 Feb 2016 21:56:30 +0000 (UTC)
Received: from resomta-po-02v.sys.comcast.net ([96.114.154.226])
	by resqmta-po-06v.sys.comcast.net with comcast
	id Mxvg1s0014tLnxL01xwPkY; Tue, 23 Feb 2016 21:56:23 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-02v.sys.comcast.net with comcast
	id MxwN1s0012U0RYt01xwNFr; Tue, 23 Feb 2016 21:56:23 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Apache 2.4 adoption revisited -- now 16.4% of Apache sites
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <F0A41220-D5F6-4E43-86CE-F5ABE58A6B15@cpanel.net>
Date: Tue, 23 Feb 2016 16:56:21 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <2B3A0C07-252C-43D4-80FF-66EBD40EFF6D@jaguNET.com>
References: <CALK=YjO-epYxuoG9paTMhL6BdbMU_JtJwPFFPEkw93F_mBwj2A@mail.gmail.com> <CALK=YjORjrQ0ByXB_YrZyM_HfzBgyXcnyfQnToPg_eK75Y1pLA@mail.gmail.com> <F0A41220-D5F6-4E43-86CE-F5ABE58A6B15@cpanel.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1456264583;
	bh=NSFEN6ZBpHL0QX08OAlLXM9A8WJ033IXyJNPiEwby+I=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=qXWZeafhpnRi1fR/qtg+2e+ULIXGr00XpEu59Ay7LvXsm1YPKhDl2rT4NPck3lEEz
	 m52trazOqtcgCnn3ul9Ny5p4al33lvaorywMl4LAW9UA9s33qivPUiR4jR4EDKK+Un
	 zvjp7R/e+9Qt/ZR4avMioSDnZZJ4hZUcZFy8i13GkZnpudZmSWUbQcf5quEZoYSCZO
	 BIGkXbr0E9d9MwK01Qdolg3PSmXobqWXyCL5uoID+RwKOgjcGhNbV8WjGdzuBRF2nf
	 lpHfEr/aTbeqJxZbH6RADr+lo888pvFl0IZ6df4ALC3B5Z7EGBD9D9aah0+OVgRi4z
	 0tvGoAB325PFg==

That's cool to know! Thx.

> On Feb 22, 2016, at 12:09 PM, Kurt Newman <kurt.newman@cpanel.net> =
wrote:
>=20
> If it=E2=80=99s any consolation, cPanel changed our default web server =
from 2.2 to 2.4 on May 2015.  We still see a large percentage of =
customers using 2.2 though.
>=20
>> On Feb 15, 2016, at 12:35 PM, Eric Covener <covener@gmail.com> wrote:
>>=20
>> On Thu, Mar 12, 2015 at 12:54 PM, Eric Covener <covener@gmail.com> =
wrote:
>>> I stumbled on this link that Bill had shared previously and went =
back
>>> to look at previous snapshots:
>>>=20
>>> March 2014: 2.0: 4.1%, 2.4: 4.3%
>>>=20
>>> =
http://web.archive.org/web/20140327151641/http://w3techs.com/technologies/=
details/ws-apache/2/all
>>>=20
>>> Today (March 2015) : 2.0: 2.8%, 2.4: 16.4%
>>>=20
>>> http://w3techs.com/technologies/details/ws-apache/2/all
>>=20
>> Just happened to search for this two weeks earlier than last year.
>> 2.0: 1.9%, 2.2: 66.8%, 2.4: 31.3%
>>=20
>> --=20
>> Eric Covener
>> covener@gmail.com
>=20


From dev-return-85663-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 24 09:12:02 2016
Return-Path: <dev-return-85663-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 71F5218A9D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Feb 2016 09:12:02 +0000 (UTC)
Received: (qmail 39725 invoked by uid 500); 24 Feb 2016 09:11:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39650 invoked by uid 500); 24 Feb 2016 09:11:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39639 invoked by uid 99); 24 Feb 2016 09:11:45 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Feb 2016 09:11:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id DE012C0179
	for <dev@httpd.apache.org>; Wed, 24 Feb 2016 09:11:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=eissing.org header.b=lTvUdMv9;
	dkim=pass (1024-bit key) header.d=eissing.org header.b=lTvUdMv9
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id eBr4BHec39eI for <dev@httpd.apache.org>;
	Wed, 24 Feb 2016 09:11:42 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 6B8705FB50
	for <dev@httpd.apache.org>; Wed, 24 Feb 2016 09:11:42 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 97F7015A0724; Wed, 24 Feb 2016 10:11:34 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=eissing.org; s=mail;
	t=1456305094; bh=kDjhe4+X7XFyK9RaaH8KUAxMLd57V8HrLKF/eAepOWg=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=lTvUdMv9WI5eLXG+EZ7hF4m3eAZ21K5zCtfA+/4uv7OsNFDpb3i2UWZNmOi1UnukW
	 I5VCXz1LXfm3ANPC8h/2X4Q7dtReSI9gf16nQOahVZIN8X9AZTq50wGpnd+P0kahsc
	 Vpt6gOE2OW2vup15CK/9K6/VTLDT3KZi6doIsJWw=
Received: from [192.168.1.150] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 399E315A0295
	for <dev@httpd.apache.org>; Wed, 24 Feb 2016 10:11:34 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=eissing.org; s=mail;
	t=1456305094; bh=kDjhe4+X7XFyK9RaaH8KUAxMLd57V8HrLKF/eAepOWg=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=lTvUdMv9WI5eLXG+EZ7hF4m3eAZ21K5zCtfA+/4uv7OsNFDpb3i2UWZNmOi1UnukW
	 I5VCXz1LXfm3ANPC8h/2X4Q7dtReSI9gf16nQOahVZIN8X9AZTq50wGpnd+P0kahsc
	 Vpt6gOE2OW2vup15CK/9K6/VTLDT3KZi6doIsJWw=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1732027 - /httpd/httpd/trunk/docs/manual/mod/mod_http2.xml
From: Stefan Eissing <stefan@eissing.org>
In-Reply-To: <20160224071226.BDDE43A0336@svn01-us-west.apache.org>
Date: Wed, 24 Feb 2016 10:11:37 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <19BC8B54-9907-46FA-AA60-0EF4F2F3D6A5@eissing.org>
References: <20160224071226.BDDE43A0336@svn01-us-west.apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> Am 24.02.2016 um 08:12 schrieb elukey@apache.org:
>=20
> +
> +        <p><code>h2</code> (HTTP/2 over TLS) is the preferred =
connection scheme chosen by browsers up to now, but the HTTP/2 protocol =
<a =
href=3D"https://http2.github.io/faq/#does-http2-require-encryption">does =
not require</a> the use of encryption. To enable <code>h2c</code> =
(HTTP/2 over TCP) please check the <directive =
module=3D"mod_http2">H2Direct</directive> directive first.</p>
> +
> +        <p>Refer to the official <a =
href=3D"https://http2.github.io/faq">HTTP/2 FAQ</a> for any doubt about =
the protocol.</p>

Yes and no. "H2Direct" use is orthogonal to "Protocols" settings. So, =
the following combinations are all fine:

# in a vhost using TLS, this allows h2 negotiation via ALPN *and*,=20
# if the client does not talk ALPN, via HTTP/2 preamble checking=20
# (the "direct" mode)
    Protocols h2 http/1.1
    H2Direct on

# in a non-TLS server (vhost not possible since without TLS connection=20=

# does not indicate a server name), this allows "Upgrade:" to h2c and=20
# disables the direct mode. So, a client wanting to talk HTTP/2 *needs*=20=

# to Upgrade.=20
    Protocols h2c http/1.1
    H2Direct off

# As a default setting on a server, will enable HTTP/2 for TLS and=20
# non-TLS connections. The default allow Direct mode on non-TLS and=20
# will not sniff for Direct on TLS connections.
    Protocols h2 h2c http/1.1

Hope this helps. Questions welcome.

-Stefan=

From dev-return-85664-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 24 09:32:24 2016
Return-Path: <dev-return-85664-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BE96C18BC7
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Feb 2016 09:32:24 +0000 (UTC)
Received: (qmail 96426 invoked by uid 500); 24 Feb 2016 09:32:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 96356 invoked by uid 500); 24 Feb 2016 09:32:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 96346 invoked by uid 99); 24 Feb 2016 09:32:02 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Feb 2016 09:32:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B8378C04D5
	for <dev@httpd.apache.org>; Wed, 24 Feb 2016 09:32:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id FGBbPs-Wx4Ux for <dev@httpd.apache.org>;
	Wed, 24 Feb 2016 09:32:01 +0000 (UTC)
Received: from mail-lf0-f44.google.com (mail-lf0-f44.google.com [209.85.215.44])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 82CC35FBE2
	for <dev@httpd.apache.org>; Wed, 24 Feb 2016 09:32:00 +0000 (UTC)
Received: by mail-lf0-f44.google.com with SMTP id m1so7944495lfg.0
        for <dev@httpd.apache.org>; Wed, 24 Feb 2016 01:32:00 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=SboSzlL4erpJdqZdKaltKr1Dy2NnRacb8V1xsABgqv4=;
        b=z6lN0a1os6lt9VgpRy+EMIrRHb/e9F6qJz2yaaxUHlVRqWcWPr7pzUOgVMwi1rN6SD
         /rC/1Msr4OtpwP/a00GIbjjyPLvWGS2ZugmBtxiF5HmtSjn5fUgGJvi3wq/fqJPV/Trh
         b633OnMpLbpR9OPZx5vjH5UYuWEwsNXEwS0bYlAPjyEi4Xe8LHsQ2DR/If7iFGEMT3R1
         IWO/FYb52mKH4zBVPWcojlGKGwaLw9yzRpaVWwmDdP0mjgK7TghTFb5FOf2L7mD9XNiM
         8eIIxWX2vdl+QwullJ6xNl6NZ/tqNjlx7fKhBWPa/uveAOMfUtaI0rKB8vUDZQTz0T8i
         ZR8w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=SboSzlL4erpJdqZdKaltKr1Dy2NnRacb8V1xsABgqv4=;
        b=Vqx1cD/p/fjzOrO4o3wygKX6PeyZfEOuVjmQ5rjs00s02MJ22q5qHEyoIS2rh9h+K8
         oXmVO+5U54H9PAaeAcpYLvd3nr4tR5aXemGkrNH8UqLq5yqZ8I8AlFRNFXO2EcYaRm/g
         TkmGm1ZTFwIbzCaOXFm1CZqNJOtIpohADPB70U8UNpx2nRWq6Cl2UMtIbl8CQOJ1w53S
         DWEwmJ+sGDXcWFckY+w7GscoJVefgiRbJoU6wSxvKfVS31waNmTaj4xTYuTx8nw0an6m
         XV3WaU/nG/OiYCz31WFxKILTqQTc9SjN0OFJzYOVQ2utvdj+G4RyUuAFwcSrQnDS1rP8
         CKWg==
X-Gm-Message-State: AG10YORlr2GoZRmmjWeszyGVhJLeqN3EslDD1d2bGHosul7Dcq+wpLEOsUj9RCHrRkleWAzG6BpD444jWqVXVQ==
MIME-Version: 1.0
X-Received: by 10.25.22.231 with SMTP id 100mr14187727lfw.153.1456306320022;
 Wed, 24 Feb 2016 01:32:00 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Wed, 24 Feb 2016 01:31:59 -0800 (PST)
In-Reply-To: <19BC8B54-9907-46FA-AA60-0EF4F2F3D6A5@eissing.org>
References: <20160224071226.BDDE43A0336@svn01-us-west.apache.org>
	<19BC8B54-9907-46FA-AA60-0EF4F2F3D6A5@eissing.org>
Date: Wed, 24 Feb 2016 10:31:59 +0100
Message-ID: <CAFedD42pjyhW0niZxJQiW7agcs-v-zyXvdM4-xQr7Yak1x4r2A@mail.gmail.com>
Subject: Re: svn commit: r1732027 - /httpd/httpd/trunk/docs/manual/mod/mod_http2.xml
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a114015aee3a3f6052c80bc99

--001a114015aee3a3f6052c80bc99
Content-Type: text/plain; charset=UTF-8

Hi Stefan!

2016-02-24 10:11 GMT+01:00 Stefan Eissing <stefan@eissing.org>:
>
>
> Hope this helps. Questions welcome.
>
> -Stefan


Yes it does, I'll add more info to the documentation later on today!

Luca

--001a114015aee3a3f6052c80bc99
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi Stefan!<br><div class=3D"gmail_extra"><br><div class=3D=
"gmail_quote">2016-02-24 10:11 GMT+01:00 Stefan Eissing <span dir=3D"ltr">&=
lt;<a href=3D"mailto:stefan@eissing.org" target=3D"_blank">stefan@eissing.o=
rg</a>&gt;</span>:<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .=
8ex;border-left:1px #ccc solid;padding-left:1ex">
<br>
Hope this helps. Questions welcome.<br>
<span class=3D"HOEnZb"><font color=3D"#888888"><br>
-Stefan</font></span></blockquote></div><br></div><div class=3D"gmail_extra=
">Yes it does, I&#39;ll add more info to the documentation later on today!<=
/div><div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">Luca</=
div><div class=3D"gmail_extra"><br></div></div>

--001a114015aee3a3f6052c80bc99--

From dev-return-85665-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 24 10:44:34 2016
Return-Path: <dev-return-85665-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5589618EDE
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Feb 2016 10:44:34 +0000 (UTC)
Received: (qmail 91533 invoked by uid 500); 24 Feb 2016 10:44:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91458 invoked by uid 500); 24 Feb 2016 10:44:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91441 invoked by uid 99); 24 Feb 2016 10:44:24 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Feb 2016 10:44:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 1F8E31A042A
	for <dev@httpd.apache.org>; Wed, 24 Feb 2016 10:44:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.5
X-Spam-Level: ***
X-Spam-Status: No, score=3.5 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=2.5]
	autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id d3atoIyL0mCp for <dev@httpd.apache.org>;
	Wed, 24 Feb 2016 10:44:22 +0000 (UTC)
Received: from jupiter.hal-nine-zero-zero-zero.net (jupiter.hal-nine-zero-zero-zero.net [212.227.252.63])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with SMTP id D3B8C5FAD4
	for <dev@httpd.apache.org>; Wed, 24 Feb 2016 10:44:21 +0000 (UTC)
Received: (qmail 25519 invoked from network); 24 Feb 2016 10:44:14 -0000
Received: from unknown (HELO localhost) (212.227.252.63)
  by jupiter.hal-nine-zero-zero-zero.net with SMTP; 24 Feb 2016 10:44:14 -0000
From: =?utf-8?q?Andr=C3=A9_Malo?= <nd@perlig.de>
Organization: TIMTOWTDI
To: docs@httpd.apache.org,
 dev@httpd.apache.org
Subject: Re: svn commit: r1732029 - in /httpd/httpd/branches/2.2.x/docs/manual: ./ style/ style/lang/ style/xsl/
Date: Wed, 24 Feb 2016 11:44:14 +0100
User-Agent: KMail/1.9.10
References: <20160224072825.558FB3A0336@svn01-us-west.apache.org>
In-Reply-To: <20160224072825.558FB3A0336@svn01-us-west.apache.org>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <201602241144.14474@news.perlig.de>

Hi,

* elukey@apache.org wrote:

> Author: elukey
> Date: Wed Feb 24 07:28:24 2016
> New Revision: 1732029
>
> URL: http://svn.apache.org/viewvc?rev=1732029&view=rev
> Log:
> Added retirement banner to all the documentation pages to suggest the
> migration to 2.4

Is there a reason why you reset the banner translations?

Cheers,
nd
-- 
Winnetous Erbe: <http://pub.perlig.de/books.html#apache2>

From dev-return-85666-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 24 11:18:55 2016
Return-Path: <dev-return-85666-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C3EA818069
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Feb 2016 11:18:55 +0000 (UTC)
Received: (qmail 60383 invoked by uid 500); 24 Feb 2016 11:18:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60217 invoked by uid 500); 24 Feb 2016 11:18:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60198 invoked by uid 99); 24 Feb 2016 11:18:52 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Feb 2016 11:18:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B1F61C03F0;
	Wed, 24 Feb 2016 11:18:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id a3Hjp1pBdjoR; Wed, 24 Feb 2016 11:18:50 +0000 (UTC)
Received: from mail-lf0-f42.google.com (mail-lf0-f42.google.com [209.85.215.42])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 2EDB25FAD4;
	Wed, 24 Feb 2016 11:18:50 +0000 (UTC)
Received: by mail-lf0-f42.google.com with SMTP id l143so9571031lfe.2;
        Wed, 24 Feb 2016 03:18:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=lL9JMdhKJqiTOsZ0o47TiYwEz3rxk7uJWThf9ORBp08=;
        b=x9W9E7BDSuzm1GhK27GumMVCLu3qzZCZndnq30lWDkvVhb0dAXM02Gt5oG7ccumxBY
         6hV4w9mD71w0dYsQXDrGksbPJi3p+UXgKAhT9KlDzY5JFTh1sYpoVM1c3mRdveNL2bhI
         VFk5JT7+XH3j74rYOT1E8maWjPtxZK0KXswVuYAiA7IC/yUYwG9P0kZrBz0LSXraccGV
         1jowgfoNoy68DIirRHCbJN9yVjNCjQcZEKGcqaJgsJq6fG+mupUhYbCu/Aj/h1Tl5xz+
         qIDuvN3gZTo0YPi+eKqa9Ytz9Ut8aoVFKiyf6eVO2frZ7trJRxl/NKzKcEt9JUH/6q2H
         PDfA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=lL9JMdhKJqiTOsZ0o47TiYwEz3rxk7uJWThf9ORBp08=;
        b=F12d+P8WPtoucbTD26j9sO/TuKA2tXh0yARPK07b9qhdRklaoIGpp8E717NtmyngtM
         jvYoOK0aNdtlSg5BA90Ey7JESXwu0pzOpiKfJHFaXftp23zXIn4x7fOZxRRsoGHydi1V
         6v89OSWJTN+lVQqO/PapLbbnQGmkW5nkpMqlXWN9Fzu2UlPabZSlCNLFLcbzoP/tH7XG
         KF0GOVZFTcpvvNmKevlY1HcSHo3cpkbSFnjcJh2Y6HCgKa8/Pxe5zgtASWGhV8WOnNEu
         JzCJs3JcFe2MdRvV96gHBFRJsW5yShTJguKQJ8zqsEDlTZgTH5VAfHeb3ixjvbWc+8qB
         kJlA==
X-Gm-Message-State: AG10YOSCEHiTQVeYCs0KE0nuOwTp83HwpB6yfbzBq79a89vwl+9lc3VXqhERI2NY05g8V2brB2hqb74EWwGiNw==
MIME-Version: 1.0
X-Received: by 10.25.83.83 with SMTP id h80mr12024384lfb.115.1456312729698;
 Wed, 24 Feb 2016 03:18:49 -0800 (PST)
Received: by 10.25.18.219 with HTTP; Wed, 24 Feb 2016 03:18:49 -0800 (PST)
In-Reply-To: <201602241144.14474@news.perlig.de>
References: <20160224072825.558FB3A0336@svn01-us-west.apache.org>
	<201602241144.14474@news.perlig.de>
Date: Wed, 24 Feb 2016 12:18:49 +0100
Message-ID: <CAFedD42x82xh62Vbo=NPaM-97GqYjuZb5z=hSJtKD6M4JQmuvg@mail.gmail.com>
Subject: Re: svn commit: r1732029 - in /httpd/httpd/branches/2.2.x/docs/manual:
 ./ style/ style/lang/ style/xsl/
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Cc: docs@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a1140e73eef8d66052c823af7

--001a1140e73eef8d66052c823af7
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi Andr=C3=A9!

2016-02-24 11:44 GMT+01:00 Andr=C3=A9 Malo <nd@perlig.de>:
>
>
> Is there a reason why you reset the banner translations?
>
>
I changed the banner's wording a bit for this use case. From (taking 2.0
one as reference):

"This document refers to the 2.0 version of Apache httpd, which is no
longer maintained. Upgrade, and refer to the current version of httpd
instead, documented at:"

to

"This document refers to a legacy release (2.2) of Apache httpd. The active
release (2.4) is documented here. If you have not already upgraded, please
follow this link for more information."


The 2.2 use case seems a bit different because it is legacy but still
supported, so I thought to add a more conservative message. I consequently
changed the translated banners to avoid confusion, but we might just decide
to go for the "no longer maintained" original option to keep all the
translations.

Let me know if you want me to amend my change, or just rollback it entirely
to study a better solution.

Thanks!

Luca

--001a1140e73eef8d66052c823af7
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi=C2=A0Andr=C3=A9!<div><div class=3D"gmail_extra"><br><di=
v class=3D"gmail_quote">2016-02-24 11:44 GMT+01:00 Andr=C3=A9 Malo <span di=
r=3D"ltr">&lt;<a href=3D"mailto:nd@perlig.de" target=3D"_blank">nd@perlig.d=
e</a>&gt;</span>:<blockquote class=3D"gmail_quote" style=3D"margin:0px 0px =
0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-l=
eft-style:solid;padding-left:1ex">
<br>
Is there a reason why you reset the banner translations?<br>
<br></blockquote><div>=C2=A0</div><div>I changed the banner&#39;s wording a=
 bit for this use case. From (taking 2.0 one as reference):</div><div><br><=
/div><div>&quot;This document refers to the 2.0 version of Apache httpd, wh=
ich is no longer maintained. Upgrade, and refer to the current version of h=
ttpd instead, documented at:&quot;</div><div><br></div><div>to</div><div><b=
r></div><div>&quot;This document refers to a legacy release (2.2) of Apache=
 httpd. The active release (2.4) is documented here. If you have not alread=
y upgraded, please follow this link for more information.&quot;</div><div><=
br></div><div><br></div><div>The 2.2 use case seems a bit different because=
 it is legacy but still supported, so I thought to add a more conservative =
message. I consequently changed the translated banners to avoid confusion, =
but we might just decide to go for the &quot;no longer maintained&quot; ori=
ginal option to keep all the translations.=C2=A0</div><div><br></div><div>L=
et me know if you want me to amend my change, or just rollback it entirely =
to study a better solution.=C2=A0</div><div><br></div><div>Thanks!</div><di=
v><br></div><div>Luca</div><div>=C2=A0</div></div></div></div></div>

--001a1140e73eef8d66052c823af7--

From dev-return-85667-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Feb 24 12:07:11 2016
Return-Path: <dev-return-85667-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0AB96182A2
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Feb 2016 12:07:11 +0000 (UTC)
Received: (qmail 49492 invoked by uid 500); 24 Feb 2016 12:00:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49415 invoked by uid 500); 24 Feb 2016 12:00:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49404 invoked by uid 99); 24 Feb 2016 12:00:28 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Feb 2016 12:00:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A7428C146B
	for <dev@httpd.apache.org>; Wed, 24 Feb 2016 12:00:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id OI6Mr-68M3zu for <dev@httpd.apache.org>;
	Wed, 24 Feb 2016 12:00:24 +0000 (UTC)
Received: from jupiter.hal-nine-zero-zero-zero.net (jupiter.hal-nine-zero-zero-zero.net [212.227.252.63])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with SMTP id 3D6985FAD4
	for <dev@httpd.apache.org>; Wed, 24 Feb 2016 12:00:24 +0000 (UTC)
Received: (qmail 26151 invoked from network); 24 Feb 2016 12:00:23 -0000
Received: from unknown (HELO localhost) (212.227.252.63)
  by jupiter.hal-nine-zero-zero-zero.net with SMTP; 24 Feb 2016 12:00:23 -0000
From: =?iso-8859-1?q?Andr=E9_Malo?= <nd@perlig.de>
Organization: TIMTOWTDI
To: docs@httpd.apache.org
Subject: Re: svn commit: r1732029 - in /httpd/httpd/branches/2.2.x/docs/manual: ./ style/ style/lang/ style/xsl/
Date: Wed, 24 Feb 2016 13:00:23 +0100
User-Agent: KMail/1.9.10
Cc: dev@httpd.apache.org
References: <20160224072825.558FB3A0336@svn01-us-west.apache.org> <201602241144.14474@news.perlig.de> <CAFedD42x82xh62Vbo=NPaM-97GqYjuZb5z=hSJtKD6M4JQmuvg@mail.gmail.com>
In-Reply-To: <CAFedD42x82xh62Vbo=NPaM-97GqYjuZb5z=hSJtKD6M4JQmuvg@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <201602241300.23672@news.perlig.de>

* Luca Toscano wrote:

> Hi Andr=E9!
>
> 2016-02-24 11:44 GMT+01:00 Andr=E9 Malo <nd@perlig.de>:
> > Is there a reason why you reset the banner translations?
>
> I changed the banner's wording a bit for this use case. From (taking 2.0
> one as reference):
>
> "This document refers to the 2.0 version of Apache httpd, which is no
> longer maintained. Upgrade, and refer to the current version of httpd
> instead, documented at:"
>
> to
>
> "This document refers to a legacy release (2.2) of Apache httpd. The acti=
ve
> release (2.4) is documented here. If you have not already upgraded, please
> follow this link for more information."
>
>
> The 2.2 use case seems a bit different because it is legacy but still
> supported, so I thought to add a more conservative message. I consequently
> changed the translated banners to avoid confusion, but we might just deci=
de
> to go for the "no longer maintained" original option to keep all the
> translations.

Ah, didn't get that. Thanks!

> Let me know if you want me to amend my change, or just rollback it entire=
ly
> to study a better solution.

Nah, it's just fine ;)


Cheers,
nd
=2D-=20
Already I've seen people (really!) write web URLs in the form:
http:\\some.site.somewhere
[...] How soon until greengrocers start writing "apples $1\pound"
or something?                           -- Joona I Palaste in clc

From dev-return-85668-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Feb 25 18:27:28 2016
Return-Path: <dev-return-85668-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4AD2618C68
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 25 Feb 2016 18:27:28 +0000 (UTC)
Received: (qmail 32286 invoked by uid 500); 25 Feb 2016 18:27:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32205 invoked by uid 500); 25 Feb 2016 18:27:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32195 invoked by uid 99); 25 Feb 2016 18:27:27 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Feb 2016 18:27:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 11019C0476
	for <dev@httpd.apache.org>; Thu, 25 Feb 2016 18:27:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Z7nGmeRNhfrH for <dev@httpd.apache.org>;
	Thu, 25 Feb 2016 18:27:26 +0000 (UTC)
Received: from mail-pf0-f178.google.com (mail-pf0-f178.google.com [209.85.192.178])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id F3D745F5A1
	for <dev@httpd.apache.org>; Thu, 25 Feb 2016 18:27:25 +0000 (UTC)
Received: by mail-pf0-f178.google.com with SMTP id x65so36977484pfb.1
        for <dev@httpd.apache.org>; Thu, 25 Feb 2016 10:27:25 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-type:content-transfer-encoding;
        bh=8c0TnZ/R6CfhQH22DHygl2lJFssmVRg1fOCHaucly6M=;
        b=tFH74kTomTY1Ky8OoWxIPbb4UUzYYzBZAnmFw3E0g91Cj7dMbOmlmtfKqz5xkrd8gW
         WhFfkM/+Xmnf8C3W4Boulq8naQbuG75DbvAfWj22M3p2hImzi4Bij66ExojK6vjwylGt
         7ch1AekBLakFJGxCP1i4IJUvU6YJr9nUF1jfcTY9XqGYdgB81FANSWtwFyeS4C9hO+TI
         mZ/YQUyeQxdoindfh8BKaHyX5j8DVeKeeOWQKDjqDKD0MDZyH3eTkY7GVy5KyrNZ1dZn
         ExHrIIh1V8amvxhE1l5b0TtHC7siSWChx3ihphbKgxNLEBqChMpk9nFAwySZx3tfc8Q4
         3dLw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:subject:to:references:from:message-id:date
         :user-agent:mime-version:in-reply-to:content-type
         :content-transfer-encoding;
        bh=8c0TnZ/R6CfhQH22DHygl2lJFssmVRg1fOCHaucly6M=;
        b=a/jeOcfgPsWegpd81yFwd/m3Y0uyZs2vIFfE79sMNEFu72iiSkl4B+koiFrzP9IaQi
         EGHugnfGvPpTYLAZQedjF0ujD+CPKcHf07ZEYvj5ugTs/eRafwQhYA095+k9s/CCeXqG
         Jn1bLdlOvm0nBtPMSzrYM0lK/QAIqVM9vH8xCIHBBr+7Rg/kotGi2jN2OMdcZq86sffY
         KAngIH2Cdg3rlMpIi9YnlSOOh+tUyT0RUXMg8GyVZxgv38PDkmFl2xozaS7L1vLCvEXK
         lZe0rFo6k6icgHb+5fCVBqUTZ6ZfiFDXKIishj3aPaDR+VTNG8CUdC3/c4LZ4TaLjdZ0
         6/2A==
X-Gm-Message-State: AG10YOTf0jpafRQgAx8l6WBCdgp19Gn4XR7p0tepQiXY7DzQwbvQylQ/wtQIRBMJrNY1GA==
X-Received: by 10.98.67.153 with SMTP id l25mr65170193pfi.111.1456424845102;
        Thu, 25 Feb 2016 10:27:25 -0800 (PST)
Received: from [192.168.1.14] (50-39-119-28.bvtn.or.frontiernet.net. [50.39.119.28])
        by smtp.gmail.com with ESMTPSA id n68sm13803144pfj.46.2016.02.25.10.27.23
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Thu, 25 Feb 2016 10:27:24 -0800 (PST)
Subject: Re: svn commit: r1732328 - in /httpd/httpd/trunk/modules/http2:
 h2_mplx.c h2_proxy_session.c h2_proxy_session.h h2_util.c h2_util.h
 mod_proxy_http2.c
To: dev@httpd.apache.org
References: <20160225161918.DBBD43A0113@svn01-us-west.apache.org>
From: Jacob Champion <champion.p@gmail.com>
Message-ID: <56CF478B.5000808@gmail.com>
Date: Thu, 25 Feb 2016 10:27:23 -0800
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <20160225161918.DBBD43A0113@svn01-us-west.apache.org>
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: 7bit

On 02/25/2016 08:19 AM, icing@apache.org wrote:
> --- httpd/httpd/trunk/modules/http2/h2_mplx.c (original)
> +++ httpd/httpd/trunk/modules/http2/h2_mplx.c Thu Feb 25 16:19:18 2016
> @@ -17,7 +17,6 @@
>  #include <stddef.h>
>  #include <stdlib.h>
>  
> -#include <apr_queue.h>
>  #include <apr_thread_mutex.h>
>  #include <apr_thread_cond.h>
>  #include <apr_strings.h>

FYI: with this change, mod_http2 no longer compiles with APR-2/trunk,
because of what appears to be a circular dependency in
apr_thread_mutex.h. (apr_queue.h was masking the problem.)

I filed a bug against APR [1].

--Jacob

[1] https://bz.apache.org/bugzilla/show_bug.cgi?id=59068

From dev-return-85669-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 00:46:52 2016
Return-Path: <dev-return-85669-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4CC02188B5
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 00:46:52 +0000 (UTC)
Received: (qmail 23463 invoked by uid 500); 26 Feb 2016 00:46:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23383 invoked by uid 500); 26 Feb 2016 00:46:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23373 invoked by uid 99); 26 Feb 2016 00:46:51 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 00:46:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 349211A00C5
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 00:46:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.801
X-Spam-Level:
X-Spam-Status: No, score=-0.801 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=gbiv.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 1eeLeegFXAgC for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 00:46:49 +0000 (UTC)
Received: from homiemail-a84.g.dreamhost.com (sub4.mail.dreamhost.com [69.163.253.135])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 6CBA25F640
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 00:46:49 +0000 (UTC)
Received: from homiemail-a84.g.dreamhost.com (localhost [127.0.0.1])
	by homiemail-a84.g.dreamhost.com (Postfix) with ESMTP id 5403F1DE086
	for <dev@httpd.apache.org>; Thu, 25 Feb 2016 16:46:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed; d=gbiv.com; h=from
	:content-type:content-transfer-encoding:subject:message-id:date
	:to:mime-version; s=gbiv.com; bh=V70UHZat8y/fu58QjgMRIBsWM/4=;
	 b=Ep/b7adJBYBO8yNX07mKW1p7y9abwrrpsbnOgb5wWIMzQQ+NX2ihPy8NtBn3q
	FQmy/72cRccNSllPHXjak10YE3KuBZdaB33R767s8Fjvd1gSy5oFxWTGRnE1U4X6
	F7VXp0Hb5rf2xbT9FVHBpCGrydCXqzqF4X/FB3rKhkjw8s=
Received: from [192.168.1.2] (ip68-228-71-159.oc.oc.cox.net [68.228.71.159])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	(Authenticated sender: fielding@gbiv.com)
	by homiemail-a84.g.dreamhost.com (Postfix) with ESMTPSA id 14A2D1DE058
	for <dev@httpd.apache.org>; Thu, 25 Feb 2016 16:46:42 -0800 (PST)
From: "Roy T. Fielding" <fielding@gbiv.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: where to put update_mime_types.pl?
Message-Id: <4452FCD4-7D3E-4549-9F56-22F60CF40491@gbiv.com>
Date: Thu, 25 Feb 2016 16:46:41 -0800
To: dev <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
X-Mailer: Apple Mail (2.2104)

I have a perl script (see below) for updating the mime.types file with =
the latest
registered IANA media types.  I would like to add it to our version =
control,
but I am unsure whether to place it in

  httpd/trunk/support/

or in

  httpd/docs-build/trunk/

I guess it depends on whether we want to distribute it as part of the =
product
or just use it ourselves as an occasional tool.  It is generally useful, =
though
not intended to be bullet proof.

....Roy

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D

#!/usr/bin/perl
#
# update_mime_types.pl: Read an existing Apache mime.types file and
# merge its entries with any new types discovered within an
# IANA media-types.xml file (see below for obtaining it).
#
# All existing mime.types entries are preserved as is (aside from =
sorting).
# Any new registered types are merged as a commented-out entry without
# an assigned extension, and then the entire file is printed to stdout.
#
# Typical use would be something like:
#=20
#  wget -N http://www.iana.org/assignments/media-types/media-types.xml
#  ./update_mime_types.pl > new.types
#  diff -u mime.types new.types               ; check the differences
#  rm mime.types && mv new.types mime.types   ; only if diffs are good
#
# Note that we assume all files are in the current working directory
# and efficiency is not an issue.
#
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version =
2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or =
implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
my $mity =3D 'mime.types';
my $medy =3D 'media-types.xml';

die "no $mity here\n" unless (-e $mity);
die "no $medy here\n" unless (-e $medy);

my $in_head =3D 1;
my @header =3D ();
my %mtype =3D ();

# Read through the Apache httpd mime.types file to create tables
# keyed on the minor type names.  We save the entire input line as
# the hash value so that existing configs won't change when output.
# We assume the type names are already lowercased tokens.
#
die "cannot open $mity: $!" unless open (MIME, "<", $mity);

while (<MIME>) {
    if ($in_head) {
        push @header, $_;
        if (/^# =3D=3D=3D=3D=3D=3D=3D=3D=3D/) {
            $in_head =3D 0;
        }
        next;
    }
    if (/^(# )?([a-z_\+\-\.]+\/\S+)/) {
        $mtype{$2} =3D $_;
    }
    else {
        warn "Skipping: ", $_;
    }
}
close MIME;

# Read through the IANA media types registry, in XML form, and extract
# whatever looks to be a registered type based on the element structure.
# Yes, this is horribly fragile, but the format isn't expected to =
change.
#
die "cannot open $medy: $!" unless open (IANA, "<", $medy);

my $major    =3D 'examples';
my $thistype =3D '';

while (<IANA>) {
    last if (/^\s*<people>/);
    next if (/(OBSOLETE|DEPRECATE)/);

    if (/^\s*<registry id=3D"([a-z_\+\-\.]+)"/) {
        $major =3D $1;
        next;
    }
    next if ($major eq 'examples');

    if (/^\s*<name>([^<]+)<\/name>/) {
        $thistype =3D lc "$major/$1";
        if (!defined($mtype{$thistype})) {
            $mtype{$thistype} =3D "# $thistype\n";
        }
    }
}
close IANA;

# Finally, output a replacement for Apache httpd's mime.types file
#
print @header;

foreach $key (sort(keys %mtype)) {
    print $mtype{$key};
}

exit 0;=

From dev-return-85670-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 09:45:12 2016
Return-Path: <dev-return-85670-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A4070180C5
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 09:45:12 +0000 (UTC)
Received: (qmail 96193 invoked by uid 500); 26 Feb 2016 09:45:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 96124 invoked by uid 500); 26 Feb 2016 09:45:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 96115 invoked by uid 99); 26 Feb 2016 09:45:12 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 09:45:12 +0000
Received: from gauss.localdomain (v4-86130a44.pool.vitroconnect.de [134.19.10.68])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id D8B651A0181
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 09:45:11 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 9BF4E291
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 10:45:11 +0100 (CET)
Subject: Re: where to put update_mime_types.pl?
To: dev@httpd.apache.org
References: <4452FCD4-7D3E-4549-9F56-22F60CF40491@gbiv.com>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56D01EA7.4050907@apache.org>
Date: Fri, 26 Feb 2016 10:45:11 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <4452FCD4-7D3E-4549-9F56-22F60CF40491@gbiv.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit



On 02/26/2016 01:46 AM, Roy T. Fielding wrote:
> I have a perl script (see below) for updating the mime.types file with the latest
> registered IANA media types.  I would like to add it to our version control,
> but I am unsure whether to place it in
> 
>   httpd/trunk/support/
> 
> or in
> 
>   httpd/docs-build/trunk/

For now I would would vote for

httpd/docs-build/trunk/

Regards

Rdiger


From dev-return-85672-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 09:57:20 2016
Return-Path: <dev-return-85672-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D1B19182F3
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 09:57:20 +0000 (UTC)
Received: (qmail 31811 invoked by uid 500); 26 Feb 2016 09:57:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 31728 invoked by uid 500); 26 Feb 2016 09:57:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 31718 invoked by uid 99); 26 Feb 2016 09:57:20 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 09:57:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id D895AC093B
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 09:57:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.33
X-Spam-Level:
X-Spam-Status: No, score=-0.33 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id yMUMKDFH8pxb for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 09:57:18 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 8C66F5F2C2
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 09:57:18 +0000 (UTC)
Received: from [192.168.220.204] (unknown [192.168.220.204])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 2412D82223
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 09:57:11 +0000 (GMT)
From: Graham Leggett <minfrin@sharp.fm>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Subject: httpd + systemd
Message-Id: <D1A76245-E64A-44A9-AA40-47B651F9E2F2@sharp.fm>
Date: Fri, 26 Feb 2016 11:57:11 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
X-Mailer: Apple Mail (2.2104)

Hi all,

I am trying to come up with a vanilla systemd unit file so that our RPM =
packaging contains a sensible startup on systemd environments, but I=E2=80=
=99m struggling.

With the unit file below the =E2=80=9Csystemctl restart httpd=E2=80=9D =
command hangs. Usually the server starts fine, but then the server is =
stopped by something a short while afterwards for no clear reason. =
According to google the hang in systemctl happens for many people, =
systemctl is waiting for a message that never comes, but the causes are =
widely varied and I am struggling to figure out exactly what is wrong.

What I am trying to achieve is a simple daemon start, with no =
mod_systemd (which isn=E2=80=99t part of core httpd).

Can anyone point out any obvious errors in the following?

[Unit]
Description=3DThe Apache HTTP Server
After=3Dnetwork.target remote-fs.target nss-lookup.target
Documentation=3Dman:httpd(8)
Documentation=3Dman:apachectl(8)

[Service]
Type=3Dforking
PIDFile=3D/var/run/httpd.pid
EnvironmentFile=3D/etc/sysconfig/httpd
ExecStart=3D/usr/sbin/httpd $OPTIONS
ExecReload=3D/usr/sbin/httpd $OPTIONS -k graceful
ExecStop=3D/bin/kill -WINCH ${MAINPID}
# We want systemd to give httpd some time to finish gracefully, but =
still want
# it to kill httpd after TimeoutStopSec if something went wrong during =
the
# graceful stop. Normally, Systemd sends SIGTERM signal right after the
# ExecStop, which would kill httpd. We are sending useless SIGCONT here =
to give
# httpd time to finish.
KillSignal=3DSIGCONT
PrivateTmp=3Dtrue

[Install]
WantedBy=3Dmulti-user.target

Regards,
Graham
=E2=80=94


From dev-return-85671-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 10:04:26 2016
Return-Path: <dev-return-85671-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 156011836E
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 10:04:26 +0000 (UTC)
Received: (qmail 29967 invoked by uid 500); 26 Feb 2016 09:57:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29902 invoked by uid 500); 26 Feb 2016 09:57:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29892 invoked by uid 99); 26 Feb 2016 09:57:10 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 09:57:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id D2B9AC0B9C
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 09:57:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=XoUqJPip;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=dXsRqch8
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 0Fo3REvr24bH for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 09:57:08 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 924EC5F5CE
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 09:57:07 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 34B0B15A0782; Fri, 26 Feb 2016 10:57:01 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456480621; bh=Vjj1A9N8w6YpmtL53JH6TKKJI0ux14zO3nkkFfL0oMA=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=XoUqJPip5zlUz4DGCdMXbkFA/XB2OLr/iAo3wD0SGvceVy5ICeim+uQqkofbES9C6
	 gF+zC6tX8MkM/NQcK8YIcHYP31MOTqiIQMgJNtqn0u5FRIdru27uD7Mg4dyVu/R0YW
	 q+LL95iqoLtYAFUgOh38EgHcYA1E1rIW2hkKJDf4=
Received: from [192.168.1.150] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id EFEF815A0339
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 10:57:00 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456480620; bh=Vjj1A9N8w6YpmtL53JH6TKKJI0ux14zO3nkkFfL0oMA=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=dXsRqch8LHGZPL/qHP/UI42aSqBbOz+xcv+01uabZui1fE0HriILUHrHf4T/7Tyba
	 jdn6l09IVIyRfSXQl6rSlH8GhikOBD8h0FmUIUZEI59q1cyPBF4zxXPUQY+jl31A53
	 XL9jGfTj8YEIANEJZobQPDCz4F3RV7kgNTWnK2p4=
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: where to put update_mime_types.pl?
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56D01EA7.4050907@apache.org>
Date: Fri, 26 Feb 2016 10:57:00 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <A9A8F2E0-BF71-4E71-ABFB-CD12E4070E84@greenbytes.de>
References: <4452FCD4-7D3E-4549-9F56-22F60CF40491@gbiv.com> <56D01EA7.4050907@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

+1=20

> Am 26.02.2016 um 10:45 schrieb Ruediger Pluem <rpluem@apache.org>:
>=20
>=20
>=20
> On 02/26/2016 01:46 AM, Roy T. Fielding wrote:
>> I have a perl script (see below) for updating the mime.types file =
with the latest
>> registered IANA media types.  I would like to add it to our version =
control,
>> but I am unsure whether to place it in
>>=20
>>  httpd/trunk/support/
>>=20
>> or in
>>=20
>>  httpd/docs-build/trunk/
>=20
> For now I would would vote for
>=20
> httpd/docs-build/trunk/
>=20
> Regards
>=20
> R=FCdiger
>=20


From dev-return-85673-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 10:19:45 2016
Return-Path: <dev-return-85673-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1C336185E7
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 10:19:45 +0000 (UTC)
Received: (qmail 89244 invoked by uid 500); 26 Feb 2016 10:19:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89163 invoked by uid 500); 26 Feb 2016 10:19:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89153 invoked by uid 99); 26 Feb 2016 10:19:35 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 10:19:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id DD771C0D6B
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 10:19:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.703
X-Spam-Level:
X-Spam-Status: No, score=-0.703 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_LOW=-0.7, RP_MATCHES_RCVD=-0.001,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id uxty7UgwZhUO for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 10:19:33 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 03B395F3FE
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 10:19:32 +0000 (UTC)
Subject: Re: httpd + systemd
To: dev@httpd.apache.org
References: <D1A76245-E64A-44A9-AA40-47B651F9E2F2@sharp.fm>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
Organization: the lounge interactive design
Message-ID: <56D026AD.1000501@thelounge.net>
Date: Fri, 26 Feb 2016 11:19:25 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <D1A76245-E64A-44A9-AA40-47B651F9E2F2@sharp.fm>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="egxJOG4co0u0S3cR2FMmkNad3bd8dMnBi"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--egxJOG4co0u0S3cR2FMmkNad3bd8dMnBi
Content-Type: multipart/mixed; boundary="5afSVS0Mt1WKfwsoKPMDCS0TI95G4Jko2"
From: Reindl Harald <h.reindl@thelounge.net>
To: dev@httpd.apache.org
Message-ID: <56D026AD.1000501@thelounge.net>
Subject: Re: httpd + systemd
References: <D1A76245-E64A-44A9-AA40-47B651F9E2F2@sharp.fm>
In-Reply-To: <D1A76245-E64A-44A9-AA40-47B651F9E2F2@sharp.fm>

--5afSVS0Mt1WKfwsoKPMDCS0TI95G4Jko2
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable



Am 26.02.2016 um 10:57 schrieb Graham Leggett:
> Hi all,
>
> I am trying to come up with a vanilla systemd unit file so that our RPM=
 packaging contains a sensible startup on systemd environments, but I=E2=80=
=99m struggling.
>
> With the unit file below the =E2=80=9Csystemctl restart httpd=E2=80=9D =
command hangs. Usually the server starts fine, but then the server is sto=
pped by something a short while afterwards for no clear reason. According=
 to google the hang in systemctl happens for many people, systemctl is wa=
iting for a message that never comes, but the causes are widely varied an=
d I am struggling to figure out exactly what is wrong.
>
> What I am trying to achieve is a simple daemon start, with no mod_syste=
md (which isn=E2=80=99t part of core httpd).
>
> Can anyone point out any obvious errors in the following?

i would recommend the following which is in use here starting in 2012 on =

all servers, with the no-forking the mainpid for systemd is clear and by =

stop the service all processes get a SIGTERM from systemd

that works also with mpm-prefork perfectly (we use prefork)

while i understand the "give httpd some time to finish gracefully" in=20
case of a hard restart it has the drawback that new connections are not=20
accepted for that time-period and so it has negative impact

in case of a SIGTERM the daemon is supposed to do a clean shutdown anyway=
s

[Service]
Type=3Dsimple
EnvironmentFile=3D-/etc/sysconfig/httpd
ExecStart=3D/usr/sbin/httpd $OPTIONS -D FOREGROUND
ExecReload=3D/usr/sbin/httpd $OPTIONS -k graceful
Restart=3Dalways
RestartSec=3D1

> [Unit]
> Description=3DThe Apache HTTP Server
> After=3Dnetwork.target remote-fs.target nss-lookup.target
> Documentation=3Dman:httpd(8)
> Documentation=3Dman:apachectl(8)
>
> [Service]
> Type=3Dforking
> PIDFile=3D/var/run/httpd.pid
> EnvironmentFile=3D/etc/sysconfig/httpd
> ExecStart=3D/usr/sbin/httpd $OPTIONS
> ExecReload=3D/usr/sbin/httpd $OPTIONS -k graceful
> ExecStop=3D/bin/kill -WINCH ${MAINPID}
> # We want systemd to give httpd some time to finish gracefully, but sti=
ll want
> # it to kill httpd after TimeoutStopSec if something went wrong during =
the
> # graceful stop. Normally, Systemd sends SIGTERM signal right after the=

> # ExecStop, which would kill httpd. We are sending useless SIGCONT here=
 to give
> # httpd time to finish.
> KillSignal=3DSIGCONT
> PrivateTmp=3Dtrue
>
> [Install]
> WantedBy=3Dmulti-user.target


--5afSVS0Mt1WKfwsoKPMDCS0TI95G4Jko2--

--egxJOG4co0u0S3cR2FMmkNad3bd8dMnBi
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlbQJq0ACgkQhmBjz394Anl22QCfQhMccdTFYS1QB5hVMMYFo02K
F9kAnjhgJFgyELckp7zfDwd/mV6O6UYB
=MYy4
-----END PGP SIGNATURE-----

--egxJOG4co0u0S3cR2FMmkNad3bd8dMnBi--

From dev-return-85674-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 14:02:02 2016
Return-Path: <dev-return-85674-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3D53C1823E
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 14:02:02 +0000 (UTC)
Received: (qmail 59829 invoked by uid 500); 26 Feb 2016 14:02:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59751 invoked by uid 500); 26 Feb 2016 14:02:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59741 invoked by uid 99); 26 Feb 2016 14:02:01 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 14:02:01 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C1035C0179
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 14:02:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.031
X-Spam-Level:
X-Spam-Status: No, score=-1.031 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_LOW=-0.7, RP_MATCHES_RCVD=-0.329,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id AKsbqnxlthXS for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 14:01:59 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 80A725FB25
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 14:01:59 +0000 (UTC)
To: Mailing-List httpd-dev <dev@httpd.apache.org>
From: Reindl Harald <h.reindl@thelounge.net>
Subject: BufferedLogs and docs
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
Organization: the lounge interactive design
Message-ID: <56D05AD0.8070402@thelounge.net>
Date: Fri, 26 Feb 2016 15:01:52 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="iNm3c0SkcfGx5SRr7wh2v2EqUSMiWn0as"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--iNm3c0SkcfGx5SRr7wh2v2EqUSMiWn0as
Content-Type: multipart/mixed; boundary="aPJ0CBBotecM7LiOVhljfcndxWWlR45rK"
From: Reindl Harald <h.reindl@thelounge.net>
To: Mailing-List httpd-dev <dev@httpd.apache.org>
Message-ID: <56D05AD0.8070402@thelounge.net>
Subject: BufferedLogs and docs

--aPJ0CBBotecM7LiOVhljfcndxWWlR45rK
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable

http://httpd.apache.org/docs/2.4/mod/mod_log_config.html#bufferedlogs
Context: server config

is that a documentation error or a error in the module that=20
"BufferedLogs Off" inside a vhost is accepted

the config below at least gives no error and it's unclear if it disables =

the BufferedLogs from the global config entirely or is silently ignored

<IfModule mod_ssl.c>
  <VirtualHost *:443>
   BufferedLogs Off
   ...
  </VirtualHost>
</IfModule>


--aPJ0CBBotecM7LiOVhljfcndxWWlR45rK--

--iNm3c0SkcfGx5SRr7wh2v2EqUSMiWn0as
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlbQWtAACgkQhmBjz394Ank5DACfS+kIte/jbKubwe2dkANYyGZ3
MfIAnA/LQ6ZPEjyegtAJ4HW+XlLP6BNU
=kH64
-----END PGP SIGNATURE-----

--iNm3c0SkcfGx5SRr7wh2v2EqUSMiWn0as--

From dev-return-85675-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 14:08:32 2016
Return-Path: <dev-return-85675-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 01A871826B
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 14:08:32 +0000 (UTC)
Received: (qmail 71063 invoked by uid 500); 26 Feb 2016 14:08:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70995 invoked by uid 500); 26 Feb 2016 14:08:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70985 invoked by uid 99); 26 Feb 2016 14:08:31 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 14:08:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D8B55180492
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 14:08:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.031
X-Spam-Level:
X-Spam-Status: No, score=-1.031 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_LOW=-0.7, RP_MATCHES_RCVD=-0.329,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id sjd0gW5Oism9 for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 14:08:30 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id C72C35F5CE
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 14:08:29 +0000 (UTC)
Subject: Re: BufferedLogs and docs
To: dev@httpd.apache.org
References: <56D05AD0.8070402@thelounge.net>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
Organization: the lounge interactive design
Message-ID: <56D05C57.1090203@thelounge.net>
Date: Fri, 26 Feb 2016 15:08:23 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <56D05AD0.8070402@thelounge.net>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="XRg5DgNHFiGiSVp3pBUMmfMlKLKRB1pXI"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--XRg5DgNHFiGiSVp3pBUMmfMlKLKRB1pXI
Content-Type: multipart/mixed; boundary="RqC8ToDn4juPJ5ONXGLMh91cj9EPUMdq9"
From: Reindl Harald <h.reindl@thelounge.net>
To: dev@httpd.apache.org
Message-ID: <56D05C57.1090203@thelounge.net>
Subject: Re: BufferedLogs and docs
References: <56D05AD0.8070402@thelounge.net>
In-Reply-To: <56D05AD0.8070402@thelounge.net>

--RqC8ToDn4juPJ5ONXGLMh91cj9EPUMdq9
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable



Am 26.02.2016 um 15:01 schrieb Reindl Harald:
> http://httpd.apache.org/docs/2.4/mod/mod_log_config.html#bufferedlogs
> Context: server config
>
> is that a documentation error or a error in the module that
> "BufferedLogs Off" inside a vhost is accepted
>
> the config below at least gives no error and it's unclear if it disable=
s
> the BufferedLogs from the global config entirely or is silently ignored=

>
> <IfModule mod_ssl.c>
>   <VirtualHost *:443>
>    BufferedLogs Off
>    ...
>   </VirtualHost>
> </IfModule>

looking with "tail -f" to a different bhost-specific logfile in fact it=20
disables BufferedLogs globally instead  for only that vhost or raise a=20
error witch "apachectl -t" that it is not allowed here

so it's a bug


--RqC8ToDn4juPJ5ONXGLMh91cj9EPUMdq9--

--XRg5DgNHFiGiSVp3pBUMmfMlKLKRB1pXI
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlbQXFcACgkQhmBjz394Anlt7gCbByllDkwm7sDgj1RHERUzLKxd
ipoAn3yln/v6n3Js6i2nJcDJiqD5XtyD
=lal5
-----END PGP SIGNATURE-----

--XRg5DgNHFiGiSVp3pBUMmfMlKLKRB1pXI--

From dev-return-85676-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 15:52:50 2016
Return-Path: <dev-return-85676-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0E33E1889C
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 15:52:50 +0000 (UTC)
Received: (qmail 94265 invoked by uid 500); 26 Feb 2016 15:52:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94190 invoked by uid 500); 26 Feb 2016 15:52:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94180 invoked by uid 99); 26 Feb 2016 15:52:49 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 15:52:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 083FEC0179
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 15:52:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id fp2HMaWuLZhe for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 15:52:48 +0000 (UTC)
Received: from mail-io0-f173.google.com (mail-io0-f173.google.com [209.85.223.173])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 9C7A05F5CD
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 15:52:47 +0000 (UTC)
Received: by mail-io0-f173.google.com with SMTP id g203so126058409iof.2
        for <dev@httpd.apache.org>; Fri, 26 Feb 2016 07:52:47 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=Xz5IAwZ6pSvBfO2gWuEOw/qmmc5GcQjTQeqsJxQ+r70=;
        b=YhVPrUI++07/IizpAr5zLWZrBUQoAJojRjMwiIT/4orVkpZoYuOmQtSNmUWtRdHd0B
         cSGYQ5Vmr7eGFvLrHqrv18hCrcdWF77zJ2WvvHCjclXEO9b8M0bT5J5WA/K+bfE7wKTE
         tvwkVqSpJCtBA2bOepxTOKH640XuS8xb9d0TRRkZafa7LUSqa34GqRb8V3KmwkX9Nvrs
         LkVZDSYezDLE3vgMzU1orcDRTPm9tYBW9PUVZv6WDQ/HLemksjBw5xbRTwfy7FnFMrlt
         z4+KJSz6cOKr0iBev7W3kB65NNzrGj+9h/N2VpAf5ltdznfN25fJLhkjX9mCJsGx2Rcm
         9XZg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=Xz5IAwZ6pSvBfO2gWuEOw/qmmc5GcQjTQeqsJxQ+r70=;
        b=ahfUgi/V/WI727mmaf0BcFxiQ/4dGSxNeVeaF7KMVuPwzFwYU19+tNVspyO7Ld31N7
         XEfgPDn/MssKsV9r1B7rtWK/KsOzolrD1LZePOipER67lQRAP8ucBLTIHE+l7uUvFFk6
         GFdGudgG9Q8CMDI17nwqJFDbY1EKU/ahHxsapZcKWdaaNJH8mTHNfqhaNCwJTWzQZdp6
         TyqLphe3RFPWMF/l3i/HwbgQvUvBZmWuW4T7t5EzMdBEPojdXKcdQAvIH80ANX+eCc/V
         LF0WUkHT+utuKlWRuQQJ5/zmQU8Atk5LSrD/3/8akCPRWB/OAHxyESAYs7NpU1br7it7
         pRFQ==
X-Gm-Message-State: AG10YOTWH3MAaWXbjAZl1p1Reav4BH4mhkZDnPCONYzJB42pWKfxemUPw444uGmLSlOksFLiYQBgY7u4uJ155g==
MIME-Version: 1.0
X-Received: by 10.107.164.212 with SMTP id d81mr9924147ioj.169.1456501966644;
 Fri, 26 Feb 2016 07:52:46 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Fri, 26 Feb 2016 07:52:46 -0800 (PST)
In-Reply-To: <CAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com>
References: <CAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com>
Date: Fri, 26 Feb 2016 10:52:46 -0500
Message-ID: <CALK=YjP-TtceVoKJf9WDtqzzJ5MuU-U2XF8xm9oJ_cY_GiUazw@mail.gmail.com>
Subject: Re: apache-swat project - need feedback!
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

I tried to take this for a spin, because I had a bad fix (1 step
forward, 10 steps back!) fix for an issue you later wrote a test for.

But the httpd.conf template doesn't load any modules, so my (typical)
DSO config didn't work at all.

Did I do something wrong?  Our Apache::Test harness copies the
loadmodules in the installed config file as a bootstrap for the new
config IIUC.

From dev-return-85677-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 15:54:29 2016
Return-Path: <dev-return-85677-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 87F71188A8
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 15:54:29 +0000 (UTC)
Received: (qmail 97165 invoked by uid 500); 26 Feb 2016 15:54:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97091 invoked by uid 500); 26 Feb 2016 15:54:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97081 invoked by uid 99); 26 Feb 2016 15:54:22 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 15:54:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 43FEAC0179
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 15:54:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id pR92rF1zHbMX for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 15:54:21 +0000 (UTC)
Received: from mail-ig0-f176.google.com (mail-ig0-f176.google.com [209.85.213.176])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 583E45F39D
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 15:54:21 +0000 (UTC)
Received: by mail-ig0-f176.google.com with SMTP id y8so38310228igp.1
        for <dev@httpd.apache.org>; Fri, 26 Feb 2016 07:54:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=rGzKFqlekDijtQ38v9H4TLi43gXwj83FBUw4Fa6KjWE=;
        b=nRRth08rN+xsynP9y/lPjsFpDvKifg57dh1N1RZ6vtGz/q/FoTWWYlU3ZDKWXF1pw7
         1fRxZl3yVYnQQdYzxYlxUDBPRUf0AGKDNSu8A1JJ36go6Cbbu18KNhV57vKxz5UYho21
         CgXirQ8PHJGo3vnXD079ah1A5XjEwtKHnbbzwSyT3k4h46Nnj0DZq5yoA3H1Px1EZzFG
         WZoSfYDXZ/2+g4+39TXg/k0QizV2eLKqTAozqIcrwQ0Vvf7edwtjSHVAeu2V321guhu0
         3xFZbmBPlXLPZ4BEsyiIItqLLaBSsyS0Jdp/I+WWw/3WBfMuZJCA3QmKDoRbIVRQ2KKb
         djjA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=rGzKFqlekDijtQ38v9H4TLi43gXwj83FBUw4Fa6KjWE=;
        b=FsdnTQpXQzisIYOAT3mwGE/h5u53VV8D9irlAAUxQ2+piktnxGRZuMxE0bmCh8Gopa
         5L7g+l8lFs4BhKZrnnJ5HqLCRRP8AEUGZiB47qSJ0op9NnNKpUQRl/Tprz31KY/JhBMC
         gH+aexGPSpqDOVGr5AXK82hEWJCPmHZ652Tq2E05Tb/+xCFkBohwOmNRaKthOIiAqSbH
         E78NaGX4Xm96CeVrxDHowE2t6/HWHliZdYM4NYhRmg6SlHbnbzm2eoLC0JosQPvRV7Vn
         sEY1MJPcbrK2qkYfOU85S2FZy6GRDz00LonA0Z1cuFMTPr9sAcwGMaGfojvyBokkCZF2
         wzBw==
X-Gm-Message-State: AD7BkJJkp3EX0TmhWzPKT1Rob50lBz6NtA/zALWlU2yvIxteafzolg5O1aVqoMKn3/As7ipwRPW4QiP6eo0/3A==
MIME-Version: 1.0
X-Received: by 10.50.155.40 with SMTP id vt8mr3296332igb.56.1456502060749;
 Fri, 26 Feb 2016 07:54:20 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Fri, 26 Feb 2016 07:54:20 -0800 (PST)
In-Reply-To: <CALK=YjP-TtceVoKJf9WDtqzzJ5MuU-U2XF8xm9oJ_cY_GiUazw@mail.gmail.com>
References: <CAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com>
	<CALK=YjP-TtceVoKJf9WDtqzzJ5MuU-U2XF8xm9oJ_cY_GiUazw@mail.gmail.com>
Date: Fri, 26 Feb 2016 10:54:20 -0500
Message-ID: <CALK=YjN6n1dNiNVDMjsY_sW8yY-K0-gaxAtfAVB42bRkZ9ZqHg@mail.gmail.com>
Subject: Re: apache-swat project - need feedback!
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Whoops, I realized this is not true -- it's got some modules, but it
didn't have MY modules -- notably my MPM.

On Fri, Feb 26, 2016 at 10:52 AM, Eric Covener <covener@gmail.com> wrote:
> I tried to take this for a spin, because I had a bad fix (1 step
> forward, 10 steps back!) fix for an issue you later wrote a test for.
>
> But the httpd.conf template doesn't load any modules, so my (typical)
> DSO config didn't work at all.
>
> Did I do something wrong?  Our Apache::Test harness copies the
> loadmodules in the installed config file as a bootstrap for the new
> config IIUC.



-- 
Eric Covener
covener@gmail.com

From dev-return-85678-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 16:11:24 2016
Return-Path: <dev-return-85678-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 37DD518980
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 16:11:24 +0000 (UTC)
Received: (qmail 27155 invoked by uid 500); 26 Feb 2016 16:11:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 27081 invoked by uid 500); 26 Feb 2016 16:11:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 27066 invoked by uid 99); 26 Feb 2016 16:11:23 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 16:11:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 59CD8C0C18
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 16:11:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.361
X-Spam-Level: *
X-Spam-Status: No, score=1.361 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RDNS_DYNAMIC=0.363,
	RP_MATCHES_RCVD=-0.001, SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id GNYe8mRMomCK for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 16:11:21 +0000 (UTC)
Received: from nebula.c8h10n4o2.org.uk (nebula.c8h10n4o2.org.uk [80.68.88.207])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 893945F1E3
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 16:11:20 +0000 (UTC)
Received: from 94.196.225.178.threembb.co.uk ([94.196.225.178])
	by nebula.c8h10n4o2.org.uk with esmtpsa (TLS1.2:ECDHE_RSA_AES_256_CBC_SHA1:256)
	(Exim 4.84)
	(envelope-from <isoma@c8h10n4o2.org.uk>)
	id 1aZKz2-00035X-Uy
	for dev@httpd.apache.org; Fri, 26 Feb 2016 16:11:13 +0000
User-Agent: K-9 Mail for Android
In-Reply-To: <56D026AD.1000501@thelounge.net>
References: <D1A76245-E64A-44A9-AA40-47B651F9E2F2@sharp.fm> <56D026AD.1000501@thelounge.net>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Content-Type: text/plain;
 charset=UTF-8
Subject: Re: httpd + systemd
From: Tim Bannister <isoma@c8h10n4o2.org.uk>
Date: Fri, 26 Feb 2016 16:11:04 +0000
To: dev@httpd.apache.org
Message-ID: <4FC95ED4-88F1-4A17-8521-97BFA422A9DB@c8h10n4o2.org.uk>

On 26 February 2016, Reindl Harald wrote:
>
>
>
>in case of a SIGTERM the daemon is supposed to do a clean shutdown
>anyways
>
>[Service]
>Type=simple
>EnvironmentFile=-/etc/sysconfig/httpd
>ExecStart=/usr/sbin/httpd $OPTIONS -D FOREGROUND
>ExecReload=/usr/sbin/httpd $OPTIONS -k graceful
>Restart=always
>RestartSec=1
>
Maybe add an ExecStop as well which calls graceful-stop? This is more reliable than a signal.

After DefaultTimeoutStopSec seconds, systemd will intervene regardless.
-- 
Tim Bannister  isoma@c8h10n4o2.org.uk

From dev-return-85679-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 16:16:19 2016
Return-Path: <dev-return-85679-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 405C1189CA
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 16:16:19 +0000 (UTC)
Received: (qmail 42884 invoked by uid 500); 26 Feb 2016 16:16:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42819 invoked by uid 500); 26 Feb 2016 16:16:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42809 invoked by uid 99); 26 Feb 2016 16:16:15 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 16:16:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 3CD75180492
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 16:16:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.031
X-Spam-Level:
X-Spam-Status: No, score=-1.031 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_LOW=-0.7, RP_MATCHES_RCVD=-0.329,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id TFtgU59tjsHy for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 16:16:12 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 61D635F5CE
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 16:16:12 +0000 (UTC)
Subject: Re: httpd + systemd
To: dev@httpd.apache.org
References: <D1A76245-E64A-44A9-AA40-47B651F9E2F2@sharp.fm>
 <56D026AD.1000501@thelounge.net>
 <4FC95ED4-88F1-4A17-8521-97BFA422A9DB@c8h10n4o2.org.uk>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
Organization: the lounge interactive design
Message-ID: <56D07A4A.2050904@thelounge.net>
Date: Fri, 26 Feb 2016 17:16:10 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <4FC95ED4-88F1-4A17-8521-97BFA422A9DB@c8h10n4o2.org.uk>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="UUHRWqwcs8VjnRP3B3HoFIP1rJjAkITLJ"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--UUHRWqwcs8VjnRP3B3HoFIP1rJjAkITLJ
Content-Type: multipart/mixed; boundary="jedu4rvdmkIVHFToK4VUSvXTFMAoXhwL6"
From: Reindl Harald <h.reindl@thelounge.net>
To: dev@httpd.apache.org
Message-ID: <56D07A4A.2050904@thelounge.net>
Subject: Re: httpd + systemd
References: <D1A76245-E64A-44A9-AA40-47B651F9E2F2@sharp.fm>
 <56D026AD.1000501@thelounge.net>
 <4FC95ED4-88F1-4A17-8521-97BFA422A9DB@c8h10n4o2.org.uk>
In-Reply-To: <4FC95ED4-88F1-4A17-8521-97BFA422A9DB@c8h10n4o2.org.uk>

--jedu4rvdmkIVHFToK4VUSvXTFMAoXhwL6
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable



Am 26.02.2016 um 17:11 schrieb Tim Bannister:
> On 26 February 2016, Reindl Harald wrote:
>>
>>
>>
>> in case of a SIGTERM the daemon is supposed to do a clean shutdown
>> anyways
>>
>> [Service]
>> Type=3Dsimple
>> EnvironmentFile=3D-/etc/sysconfig/httpd
>> ExecStart=3D/usr/sbin/httpd $OPTIONS -D FOREGROUND
>> ExecReload=3D/usr/sbin/httpd $OPTIONS -k graceful
>> Restart=3Dalways
>> RestartSec=3D1
>>
> Maybe add an ExecStop as well which calls graceful-stop? This is more r=
eliable than a signal.
>
> After DefaultTimeoutStopSec seconds, systemd will intervene regardless

it works not the way you likely think and may make things worser than a=20
controlled SIGTERM

https://www.freedesktop.org/software/systemd/man/systemd.service.html

Note that it is usually not sufficient to specify a command for this=20
setting that only asks the service to terminate (for example, by queuing =

some form of termination signal for it), but does not wait for it to do=20
so. Since the remaining processes of the services are killed using=20
SIGKILL immediately after the command exited, this would not result in a =

clean stop. The specified command should hence be a synchronous=20
operation, not an asynchronous one.


--jedu4rvdmkIVHFToK4VUSvXTFMAoXhwL6--

--UUHRWqwcs8VjnRP3B3HoFIP1rJjAkITLJ
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlbQekoACgkQhmBjz394AnkyjgCgm+apslhHKZU55GMKNmYZCsxx
qtoAn2fNCBcbHUjdPVNnGvgfu4GXpOD9
=W+Kk
-----END PGP SIGNATURE-----

--UUHRWqwcs8VjnRP3B3HoFIP1rJjAkITLJ--

From dev-return-85680-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 16:17:39 2016
Return-Path: <dev-return-85680-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5761F189D8
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 16:17:39 +0000 (UTC)
Received: (qmail 46561 invoked by uid 500); 26 Feb 2016 16:17:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46477 invoked by uid 500); 26 Feb 2016 16:17:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46466 invoked by uid 99); 26 Feb 2016 16:17:38 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 16:17:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 47403C0EA5
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 16:17:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 2vtHZLjFjY1t for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 16:17:36 +0000 (UTC)
Received: from resqmta-po-06v.sys.comcast.net (resqmta-po-06v.sys.comcast.net [96.114.154.165])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 594CD5F5CE
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 16:17:35 +0000 (UTC)
Received: from resomta-po-03v.sys.comcast.net ([96.114.154.227])
	by resqmta-po-06v.sys.comcast.net with comcast
	id P4FY1s00A4ueUHc014HZVo; Fri, 26 Feb 2016 16:17:33 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-03v.sys.comcast.net with comcast
	id P4HZ1s0062U0RYt014HZdo; Fri, 26 Feb 2016 16:17:33 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: apache-swat project - need feedback!
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CALK=YjN6n1dNiNVDMjsY_sW8yY-K0-gaxAtfAVB42bRkZ9ZqHg@mail.gmail.com>
Date: Fri, 26 Feb 2016 11:17:32 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <3D095EE9-4A3A-4D44-9EF8-17A13ACA471B@jaguNET.com>
References: <CAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com> <CALK=YjP-TtceVoKJf9WDtqzzJ5MuU-U2XF8xm9oJ_cY_GiUazw@mail.gmail.com> <CALK=YjN6n1dNiNVDMjsY_sW8yY-K0-gaxAtfAVB42bRkZ9ZqHg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1456503453;
	bh=9DhHbl9KSJTx4+41neMnFOaCKytPqRFAYfFKo/OlTWo=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=jtUi1usVcK09zpIFBrusQhwTOWjfrmA6WaeYKjl2L6FU2fMiZuGgwyMlP53iyIT/N
	 CsY9DGf9XoeIWS268xwyEFb/o9tNx8NlF+QqyfFr9BF8UPmvoYajkgFpeO/HZUR5kI
	 ALWj8sKQwCixpTMEMQuf61trxZfjPpYXU2cfPorxPoCz/2EyiAEX+Ki1ujPu4OEFR7
	 0uVkSXn1bQfvbkIZSXr020OD4A1GWngs3RUyFXVO5saG0dbCM+nsyMkAWzMTdqnF7m
	 nZ47CXfenNxWHz0IT/9SPiL+of/nmyDr8BPaInTCRDRteSow2HBWCgHKMxU0ibyn0W
	 ofXXbEyv2ljoQ==

Any hints would be appreciated...

I'd also like to dig deeper into using it.

> On Feb 26, 2016, at 10:54 AM, Eric Covener <covener@gmail.com> wrote:
> 
> Whoops, I realized this is not true -- it's got some modules, but it
> didn't have MY modules -- notably my MPM.
> 
> On Fri, Feb 26, 2016 at 10:52 AM, Eric Covener <covener@gmail.com> wrote:
>> I tried to take this for a spin, because I had a bad fix (1 step
>> forward, 10 steps back!) fix for an issue you later wrote a test for.
>> 
>> But the httpd.conf template doesn't load any modules, so my (typical)
>> DSO config didn't work at all.
>> 
>> Did I do something wrong?  Our Apache::Test harness copies the
>> loadmodules in the installed config file as a bootstrap for the new
>> config IIUC.
> 
> 
> 
> -- 
> Eric Covener
> covener@gmail.com


From dev-return-85681-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 16:23:57 2016
Return-Path: <dev-return-85681-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8CB2418A21
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 16:23:57 +0000 (UTC)
Received: (qmail 65732 invoked by uid 500); 26 Feb 2016 16:23:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65654 invoked by uid 500); 26 Feb 2016 16:23:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65644 invoked by uid 99); 26 Feb 2016 16:23:56 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 16:23:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 63BFAC0E34
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 16:23:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id JK6vPzdu0g-b for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 16:23:55 +0000 (UTC)
Received: from mail-ig0-f178.google.com (mail-ig0-f178.google.com [209.85.213.178])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 01B245F119
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 16:23:49 +0000 (UTC)
Received: by mail-ig0-f178.google.com with SMTP id y8so38909944igp.1
        for <dev@httpd.apache.org>; Fri, 26 Feb 2016 08:23:49 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=1BZUFIikkVUA1MFXq8s5KPWlBH1kQwGAGCPhzuVKuC8=;
        b=lw3y1OFn/vfFfX1MG3d702UZupn51du8sVAOGxRCF0xWwyJMYNJ6hx75UT8Yxh3Y4o
         0DtCoVLFo7IyzCPTZmToVUmFdEVSY9WR/Eykdr7ScwsdCAk+vDe98Tdxf/yCheKSHsJ2
         3AujVf4r90l+eQMip7vpM21kcVPZz4aOVVg+QhmvhsoSRW7YUUfDNl+9DF5Xl/esVSYl
         hOntScrszLKHBweTbOgvWEkFNaCFPJDejnRZu2lGiRgTLEEFBfFbWsRFhN+8WUUzuEbB
         2SCDwexw5yglFCw3i1CGDVazknqOANJNBtVTPH/1Gq3nG797wLKaPf3cKgRSi3idjADk
         c+EA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=1BZUFIikkVUA1MFXq8s5KPWlBH1kQwGAGCPhzuVKuC8=;
        b=cVdKaDL9FPTKuMCY94BGl5jB5iXoU7vQCDBa6UdrnM+yEJ5ONXopcM8RWwS4vSvNfp
         cyLTZe1DoBfSQxJJdhp+JZvgGiDRLgW3uvAxSIuv5AoznnnZ8Q9sa9TrSaZn4gWx/C84
         aJkALqRRFsQax2JXwfNabYehGA/Hn9hqNZnc3xbfGJ2QPC/rv0swLnqarvrd/WGyzDFf
         hRRLnML8oy/GEmeoGwuDBpvLYsyseFOcrw54BRJrGGmO81JQeIdshfExP86zXigZYnbH
         vpTdvR1zwpJrHNA/8st2DpZRxo31sx8VntTf4R6nowKfJFmM9KK9c7k23z/tpDfzUMbv
         y6TQ==
X-Gm-Message-State: AD7BkJKkYOezRfwfkvmm+/TfFkNOCGH3faCkMx3O8KIZhR2XLQWkyF703yNDTWRx+RfuzzX/ZLSejXW24vELmg==
MIME-Version: 1.0
X-Received: by 10.50.143.37 with SMTP id sb5mr203583igb.72.1456503828973; Fri,
 26 Feb 2016 08:23:48 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Fri, 26 Feb 2016 08:23:48 -0800 (PST)
In-Reply-To: <CAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com>
References: <CAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com>
Date: Fri, 26 Feb 2016 11:23:48 -0500
Message-ID: <CALK=YjPfXWdanLmj2LYJibNFz_Hh1s4fqFqLRG9QEEc-DJAwkw@mail.gmail.com>
Subject: Re: apache-swat project - need feedback!
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Feb 4, 2016 at 6:07 AM, Alexey Melezhik <melezhik@gmail.com> wrote:
> * what things could be improved

I notice that failed (bad status code for example) tests hang for a
many seconds which makes iterating over stuff a little slow.

-- 
Eric Covener
covener@gmail.com

From dev-return-85682-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 16:39:02 2016
Return-Path: <dev-return-85682-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2297418B04
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 16:39:02 +0000 (UTC)
Received: (qmail 15057 invoked by uid 500); 26 Feb 2016 16:38:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14984 invoked by uid 500); 26 Feb 2016 16:38:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14974 invoked by uid 99); 26 Feb 2016 16:38:52 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 16:38:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id D4A6AC0179
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 16:38:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 0DhLmsSJCLys for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 16:38:51 +0000 (UTC)
Received: from mail-io0-f177.google.com (mail-io0-f177.google.com [209.85.223.177])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id F29555F39B
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 16:38:50 +0000 (UTC)
Received: by mail-io0-f177.google.com with SMTP id z135so128256787iof.0
        for <dev@httpd.apache.org>; Fri, 26 Feb 2016 08:38:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=MvjoX/in3PJCinthzJuaP8lW8VzBAOcWn/fEP4jwMA8=;
        b=ix86mgrTA8kxHQHE4lHvYDrRtW/Xvn1P0arkAw81+6RcmBZ6H8Z0K1F2pZHVFwIKKq
         cEIRwLYO79OLnzv0HXpOHVLJBidsLsyXyd8jrSkuADiAsAOKm/WKKT5U8v2vgyhkt0yh
         sxVAgFUOjzDZlP25LiIYIMIY9W2EksQCFHNtBkSoXr4ZmwuSSQqbbyEntu/KuAqLvd39
         dXVYKKZA2cv1UYGu6xGKSHshNU38u4XWnmhJZGRgOi0Biu+j2XVBYuZFGZ7XQSW5U1rF
         Isxc7uN4geLlWVjR6DRSfrnf0O1pkFUN5nPm+ljU4yZgh0b/A/T0Me6osdZZVAnbr8mI
         39sQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=MvjoX/in3PJCinthzJuaP8lW8VzBAOcWn/fEP4jwMA8=;
        b=L9tAHG+CnZi1jINIfkshO7l+rZ2bibFKLP6P/fiKpQxMcJNC21aGJ3VTUNkL7k08WC
         Ve9LXiDcxJT0K7c0zr//okjHx7RCosfNiRBCATMEEELqbjRXfN4EZ8vftIxrPDfOfkAo
         ig1GRcNIZYre+NzZPm7KTse0wWMqf84bOutWBfH0OK4QWtras460ofuWIjjOBn3HPpgA
         lM2go0u7wv/bJ3/1//d+HfTSB4l4OHuobo84G3dUpToS6PB4Sdoxm+DzeGsh0YX/SELB
         F2T2D2zAxG9J5C6WSYJ5Mbg1TN0TIfCzlDr/TfNcWiJEHWFe/ILV4uNEhDjz/j1xSwpa
         Z35g==
X-Gm-Message-State: AG10YOQz9/Y+VrQv3EWCWdN091tkKL+4r1xdlnLwQKJ1tPkRI+tjEyj8fEcDnphSiMfqP5MRhPryhDpVDt576g==
MIME-Version: 1.0
X-Received: by 10.107.186.195 with SMTP id k186mr9416310iof.90.1456504730238;
 Fri, 26 Feb 2016 08:38:50 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Fri, 26 Feb 2016 08:38:50 -0800 (PST)
In-Reply-To: <CALK=YjPfXWdanLmj2LYJibNFz_Hh1s4fqFqLRG9QEEc-DJAwkw@mail.gmail.com>
References: <CAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com>
	<CALK=YjPfXWdanLmj2LYJibNFz_Hh1s4fqFqLRG9QEEc-DJAwkw@mail.gmail.com>
Date: Fri, 26 Feb 2016 11:38:50 -0500
Message-ID: <CALK=YjN7+oPcXgx4huxReyy_BPD5sbQpLa1KqWoBicd_YakkmA@mail.gmail.com>
Subject: Re: apache-swat project - need feedback!
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Feb 26, 2016 at 11:23 AM, Eric Covener <covener@gmail.com> wrote:
> On Thu, Feb 4, 2016 at 6:07 AM, Alexey Melezhik <melezhik@gmail.com> wrote:
>> * what things could be improved
>
> I notice that failed (bad status code for example) tests hang for a
> many seconds which makes iterating over stuff a little slow.

The harness uses a path like this to request missing.txt:

58854/denied/missing.txt/get.txt

How would you phrase a a request for /58854/denied/ ?

From dev-return-85683-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 17:06:30 2016
Return-Path: <dev-return-85683-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CF86E18CC7
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 17:06:30 +0000 (UTC)
Received: (qmail 26640 invoked by uid 500); 26 Feb 2016 17:06:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26575 invoked by uid 500); 26 Feb 2016 17:06:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26565 invoked by uid 99); 26 Feb 2016 17:06:30 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 17:06:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id DFBF5C093B
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 17:06:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Xqn0Jm5M;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=qDAi4bps
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 32FjZvItHwrE for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 17:06:27 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id AD3F35F5CE
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 17:06:26 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 1C28B15A0AB3; Fri, 26 Feb 2016 18:06:26 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456506386; bh=g/76AJpj+cA/aj2rdYXQH6onwnTv/xBti90Nb0gwKJE=;
	h=From:Subject:Date:To:From;
	b=Xqn0Jm5MIfGVePP6AETEO/XBtsxmxlYfRiNuRYnJaLvsB8jjtxK4TNOjJv0M3b35X
	 k4sp4zLTUE5BBVgbd3OdHUbWDKlWCX2L9T3iQGBdFftA+sHRgU2dSvRMkzcIdgPRXa
	 HTcqvT80+sX2AtAh4NqYu1L/Ylk32t5H/EbEIkNQ=
Received: from [192.168.1.150] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 7321115A04B1
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 18:06:24 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456506384; bh=g/76AJpj+cA/aj2rdYXQH6onwnTv/xBti90Nb0gwKJE=;
	h=From:Subject:Date:To:From;
	b=qDAi4bpsRuk6PyFMSaN9dPlJopa9OnCduoawGBA1KTCimwJcGXI46FG9liiad/hlZ
	 Kt0XzCVHou+tHSHM5X5HC2q13NLeUUpB7OArQoZVwDB/molCAL21NG+UUfXUhF0FPp
	 fd4dGimjhsBNS840PuNUA0Rg3TThaotZ835QcGsQ=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: state of h2 (long)
Message-Id: <B7B7891F-D769-4537-8CCC-8C02B0D5BC97@greenbytes.de>
Date: Fri, 26 Feb 2016 18:06:24 +0100
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)

Things winding down here a bit before the weekend (at least I try) and I =
thought=20
I'd summarize a bit the state of HTTP/2 in our little project, =
because...well, some
might be interested and certainly no one has the time to follow all my =
crazy submits.

* trunk <-> 2.4.x
  the version in 2.4.x has gathered a bit dust, as we made several =
tweaks in trunk
  in regard to async connection handling and scoreboard updates. These =
have all been
  backported, except one. Once that is through, I'll make a backport of =
mod_http2,
  so that 2.4.x gets all the nice new things.

* nice new things
  in trunk we have the following additions:
  - http/2 connections get queued properly when they become idle on the =
event mpm.
    that should be nice for people with many connections or long =
keepalives configured.
  - timeouts and keepalive timeouts are respected as for http/1 =
connections, no extra
    configuration.
  - stability: with the interim releases in github and the help of nice =
people, several
    improvements have been made here and the 1.2.5 github has no =
reported open blockers,
    hanging connections or segfaults. All those changes are in trunk.
  - server push: the module now remembers in each open connection which =
resources
    have already been pushed, using hash digests. This also implements =
an outsketched
    extension =
https://datatracker.ietf.org/doc/draft-kazuho-h2-cache-digest/ whereby
    clients can send a highly compressed digest of the resources they =
have. This is
    very early and experimental and we'll see how/if browsers adapt this =
and how
    it will change over time.=20
  - To offload worker threads, the module allows a number of file =
handles to have
    open. So, ideally, when serving static content, workers just lookup =
the file,
    return and the master connections streams them out. This number =
existed before
    as number per master connection. Now this number is multiplied by =
the number of
    workers and made a process wide pool where h2 connections can borrow =
amounts.
    Still, I am not totally satisfied with this. This should not be =
configurable, but
    httpd itself should check for ulimits of the process and configure =
itself, I think.
  - the scoreboard shows more information for h2 connections, such as =
its connection
    state and some stream statistics. Maybe the h2 workers should show =
up in a separate
    section on day...
     127.0.0.1	http/1.1	test2.example.org:12345	wait, streams: =
1/100/100/0/0 (open/recv/resp/push/rst)
  - request engines! which leads us to:

 * mod_proxy_http2
   is configured just like other proxy modules with by using 'h2' or =
'h2c' as url prefix
   in the configuration directives.=20
   <IfModule proxy_http2_module>
       <Proxy "balancer://h2-local">
           BalancerMember "h2://test2.example.org:12346"
       </Proxy>
        ProxyPass "/h2proxy" "balancer://h2-local"
        ProxyPassReverse "/h2proxy" "balancer://h2-local"
    </IfModule>
    Initially, it used one h2 connection for one request. The =
connection, and the http2
    session associated with it, was reused via the nice proxy =
infrastructure.

    This is how things still are when the original connection is =
http/1.1
    When this is http/2 itself, however, the first such request will =
register a=20
    "request engine" that will accept more requests while the initial =
one is still
    being served and use the same backend connection for it. When the =
last assigned
    request is done, it unregisters and dissolves into fine mist.
    The connection and h2 session stays as before, so a new request can =
reuse the connection
    in a new engine.

    This works quite (but not 100%) reliable at the moment. There are =
still some races when
    requests are sent out while the backend is already shutting down and =
the retry does
    not catch all cases.

    Important here is that requests for engines process all the usual =
hooks and filters
    and yaddayadda of our infrastructure, just like with http/1.1. This =
works as follows:

    - incoming request is handed to a worker thread as is done for all =
by mod_http2
    - httpd/proxy identifies the handler of mod_proxy_http2 as the =
responsible
    - mod_proxy_http2 finds out what backend it shall talk to and ask =
from mod_http2
      (if present, the usual optionals) if there is already an engine =
for this backend,
      and that it is willing to host one if there is not.
    - mod_http2, if it has one, *freezes* the task for this request =
(which holds the
      replacements for the core input/output filters on this slave =
connection) and
      returns that it will take care of it, once the handler is done. =
The handler then
      just returns as if it had processed the request.
      Upon return of the worker, the mod_http2 sees a frozen task and =
makes it ready
      for processing in an engine. Next time the engine polls for more =
requests, it is
      forwarded.

    - What is this freezing? Basically, an additional output filter that =
saves all=20
      incoming buckets for later. So, the EOR bucket is set aside here, =
for example.
    - Is it fast? No, not yet. Flow control handling is not optimal and =
I am sure there
      are lots of other places that can be improved.
    - Then why? This way of handling proxy requests saves connections to =
the backend
      and threads in the server process. That should be motivation =
enough. If httpd
      is a reverse proxy, then doing the same work with 1-2 orders of =
magnitude less
      file handles and threads should be interesting.
    - And: it could be done for mod_proxy_http, too! I see no reason why =
a single
      thread cannot use pollsets to juggle a couple of http/1.1 backend =
connections
      on top of a http/2 master connection.

Anyways, let me hear what you think. Anyone wants to help?

-Stefan



From dev-return-85684-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 20:05:29 2016
Return-Path: <dev-return-85684-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0368318872
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 20:05:29 +0000 (UTC)
Received: (qmail 88347 invoked by uid 500); 26 Feb 2016 20:05:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88279 invoked by uid 500); 26 Feb 2016 20:05:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88266 invoked by uid 99); 26 Feb 2016 20:05:28 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 20:05:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A5D0C180492
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 20:05:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.179
X-Spam-Level: **
X-Spam-Status: No, score=2.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FREEMAIL_REPLY=1, HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id QluexCVQ6nUb for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 20:05:26 +0000 (UTC)
Received: from mail-wm0-f49.google.com (mail-wm0-f49.google.com [74.125.82.49])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 4AD5C5F2C2
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 20:05:26 +0000 (UTC)
Received: by mail-wm0-f49.google.com with SMTP id a4so83854970wme.1
        for <dev@httpd.apache.org>; Fri, 26 Feb 2016 12:05:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=XwNbHbHu0z7HvDAuirpLnStYzV+tVyEpi1RemX3kqvs=;
        b=SFjMWxy/UAEz3Ok28DnNYXDJb085pyASAux24RuQt+aqCVgimFhCkR/3XMVSTMBmJt
         omi5JMqJxGd4QYBnNNn0eLYZ8MPvJscfUxtoNx6ueAfeyW1dHw6+baNjPX48LWv1SdOf
         qD7Sh+e8H1iyrrwbz6O/rS3UQTkdKj6T2WtpX1nVtKau2pHcgqJRuaGSyg/4eKbSG6cV
         7J+0bGAtXoyuud1EtzROtJ7RXxF99cRkuUvqNUVXt7a4y9TBHYThfgUNnH52IK00oyU/
         +FVDXEhfzyk8k4ov6UVuk7TEtpvr5iXdGnkzyA9HSAyhhTE0yLkh0F5aOLC27r45Kk55
         /5DQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=XwNbHbHu0z7HvDAuirpLnStYzV+tVyEpi1RemX3kqvs=;
        b=EB0m2fgnOfoLq4ABjR66klAdT40lEXmH0ab038ah/tigIeV70YKVahAg0KhFJaqcgz
         baaaVAA3gy1zUG5FpUdDuKznrOEU5yFL6nU4TCFA1pO9Ees65QvCBSiG9Cr5JW37yXGa
         3EEwhloR8WDVkH/FflkikGIyCo7+HltRKnHHnpCD4jpNP5bdM8OrErgiNbrsOgGm+/Qr
         PTVLAbsUjIPuWjtFXKC9giuDtItFsvlzBGnZauCyxLsv+vfdob6Ae5jHKmO5ZOZhdTp1
         dyn7IsYfDU9Fk9bvCgNS0a01RoTpZaEwGMi6s4GdG13iq5zKjkv4E/gPKUdNF4VJSGdt
         urKQ==
X-Gm-Message-State: AD7BkJKcgO6k/uk3/Q11uLYKHjIo+msMOn5VLoA4IFhoQQX5OSVI2czNGp/59+Bjy4oY3vBfjd9+TvfgCqDSjA==
MIME-Version: 1.0
X-Received: by 10.194.23.37 with SMTP id j5mr3253826wjf.171.1456517125230;
 Fri, 26 Feb 2016 12:05:25 -0800 (PST)
Received: by 10.194.11.3 with HTTP; Fri, 26 Feb 2016 12:05:25 -0800 (PST)
In-Reply-To: <CALK=YjPfXWdanLmj2LYJibNFz_Hh1s4fqFqLRG9QEEc-DJAwkw@mail.gmail.com>
References: <CAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com>
	<CALK=YjPfXWdanLmj2LYJibNFz_Hh1s4fqFqLRG9QEEc-DJAwkw@mail.gmail.com>
Date: Fri, 26 Feb 2016 23:05:25 +0300
Message-ID: <CAL7UUk8JTee7tzgX_o38PAdu88WHHpCyWHsTBfwsicohyZ_X4w@mail.gmail.com>
Subject: Re: apache-swat project - need feedback!
From: Alexey Melezhik <melezhik@gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7b414e8cdbd502052cb1d1ae

--047d7b414e8cdbd502052cb1d1ae
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi ! Please try to set try_num variable , which defines number of attempts
in case of unsuccessful return , swat makes exponential delays on every
retry , so to get things fast you probably need try_num=3D1, please follow
https://github.com/melezhik/swat#curl-parameters for details, also please
consider ignore_http_err variable to test unsuccessful http responses, I
hope this could be helpful.

=D0=BF=D1=8F=D1=82=D0=BD=D0=B8=D1=86=D0=B0, 26 =D1=84=D0=B5=D0=B2=D1=80=D0=
=B0=D0=BB=D1=8F 2016 =D0=B3. =D0=BF=D0=BE=D0=BB=D1=8C=D0=B7=D0=BE=D0=B2=D0=
=B0=D1=82=D0=B5=D0=BB=D1=8C Eric Covener =D0=BD=D0=B0=D0=BF=D0=B8=D1=81=D0=
=B0=D0=BB:

> On Thu, Feb 4, 2016 at 6:07 AM, Alexey Melezhik <melezhik@gmail.com
> <javascript:;>> wrote:
> > * what things could be improved
>
> I notice that failed (bad status code for example) tests hang for a
> many seconds which makes iterating over stuff a little slow.
>
> --
> Eric Covener
> covener@gmail.com <javascript:;>
>

--047d7b414e8cdbd502052cb1d1ae
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi ! Please try to set try_num variable , which defines number of attempts =
in case of unsuccessful return , swat makes exponential delays on every ret=
ry ,=C2=A0so to get things fast you probably need try_num=3D1, please follo=
w=C2=A0<a href=3D"https://github.com/melezhik/swat#curl-parameters">https:/=
/github.com/melezhik/swat#curl-parameters</a>=C2=A0for details, also please=
 consider ignore_http_err variable to test unsuccessful http responses, I h=
ope this could be helpful.<br><br>=D0=BF=D1=8F=D1=82=D0=BD=D0=B8=D1=86=D0=
=B0, 26 =D1=84=D0=B5=D0=B2=D1=80=D0=B0=D0=BB=D1=8F 2016 =D0=B3. =D0=BF=D0=
=BE=D0=BB=D1=8C=D0=B7=D0=BE=D0=B2=D0=B0=D1=82=D0=B5=D0=BB=D1=8C Eric Covene=
r  =D0=BD=D0=B0=D0=BF=D0=B8=D1=81=D0=B0=D0=BB:<br><blockquote class=3D"gmai=
l_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left=
:1ex">On Thu, Feb 4, 2016 at 6:07 AM, Alexey Melezhik &lt;<a href=3D"javasc=
ript:;" onclick=3D"_e(event, &#39;cvml&#39;, &#39;melezhik@gmail.com&#39;)"=
>melezhik@gmail.com</a>&gt; wrote:<br>
&gt; * what things could be improved<br>
<br>
I notice that failed (bad status code for example) tests hang for a<br>
many seconds which makes iterating over stuff a little slow.<br>
<br>
--<br>
Eric Covener<br>
<a href=3D"javascript:;" onclick=3D"_e(event, &#39;cvml&#39;, &#39;covener@=
gmail.com&#39;)">covener@gmail.com</a><br>
</blockquote>

--047d7b414e8cdbd502052cb1d1ae--

From dev-return-85685-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 20:14:24 2016
Return-Path: <dev-return-85685-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D527E1890E
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 20:14:24 +0000 (UTC)
Received: (qmail 9938 invoked by uid 500); 26 Feb 2016 20:14:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 9872 invoked by uid 500); 26 Feb 2016 20:14:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 9862 invoked by uid 99); 26 Feb 2016 20:14:18 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 20:14:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B5D42C0FA7
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 20:14:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.179
X-Spam-Level: **
X-Spam-Status: No, score=2.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FREEMAIL_REPLY=1, HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id e3kZZgQMxYg6 for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 20:14:16 +0000 (UTC)
Received: from mail-wm0-f52.google.com (mail-wm0-f52.google.com [74.125.82.52])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 34BFC5FAED
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 20:14:16 +0000 (UTC)
Received: by mail-wm0-f52.google.com with SMTP id p65so448202wmp.1
        for <dev@httpd.apache.org>; Fri, 26 Feb 2016 12:14:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=R4mfCnLLzmh0E1AhdHmtQFCO0G6R/Rv1Gu1gbR+e24w=;
        b=Hz2j2w+Qnp0ZPe4tD2r+j4gty7AXcNG+OoO6cnXRG+2GxHpal3guxUtZG7fwnXpYPU
         /UAh/TBhPeXRmI9dd3zigxRqrffUpGzyIjf2FF/IV5uQc8eAOL0U5/A9gWNrJGI47ogH
         6Zc/CUrZmmcOTWfWh3QuAyscRiNJlKuuAOhgmAStpMn6K+s53qNTc9NbIodGYiPhBcYR
         1MNQ9IQOuEMRtQuS/Ual8F/Xc2PxjqmAnXN402gh/3RyU6cnX6WE4yqQ3Lm63uVTADfo
         TYPImVxE5vcI1vnosbdJ6ydxoyWXZ6qBxbMkKbwvucUGKa43X5bdd5og0CicFELTF9Ml
         pOAQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=R4mfCnLLzmh0E1AhdHmtQFCO0G6R/Rv1Gu1gbR+e24w=;
        b=ippLiVmj1F5oWa0i2byMGh9bJgW1QDi9nfFnPTHgeTHZ50jRBwodyIBIe2nxJPB+gV
         De23DKD6btnx8V0V6jP0bNISxfx6O+TghKrh7Zzt9CoMO2uN7RNIGI7j4e7Vx6beQuQs
         a3TkF+tdEcIzbiPkrmdTlBfCBfj5G7MKfZNbLgVDxIRudJjns8kqG9Mzd2fQcxV9Y/HQ
         Z61Xa4THKcFAyy/vStNP51MDpRM00oX8mZ3saH6ldaMOOSS3nCLcPpoasqRcURH1p12n
         6jLDx3RxUnwJ0gXF3Qum0j7dX2R9IzFj0AinWJM6Qt6Y9IEhzxTkImCKi3LCaPAjIq4l
         BLpA==
X-Gm-Message-State: AD7BkJLRA30o8drvAQ+8F1pJinJkTRp5bNMt6tdrM8QKglhG0ua5YH9NrVIWBtAL7RnwND/hHy/6mCdzN+L7Ig==
MIME-Version: 1.0
X-Received: by 10.28.22.74 with SMTP id 71mr4873247wmw.47.1456517655937; Fri,
 26 Feb 2016 12:14:15 -0800 (PST)
Received: by 10.194.11.3 with HTTP; Fri, 26 Feb 2016 12:14:15 -0800 (PST)
In-Reply-To: <CALK=YjN6n1dNiNVDMjsY_sW8yY-K0-gaxAtfAVB42bRkZ9ZqHg@mail.gmail.com>
References: <CAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com>
	<CALK=YjP-TtceVoKJf9WDtqzzJ5MuU-U2XF8xm9oJ_cY_GiUazw@mail.gmail.com>
	<CALK=YjN6n1dNiNVDMjsY_sW8yY-K0-gaxAtfAVB42bRkZ9ZqHg@mail.gmail.com>
Date: Fri, 26 Feb 2016 23:14:15 +0300
Message-ID: <CAL7UUk_ugBLFq9YKi2-uXWLPKYLykZet75nSi1wtDG_73uktVw@mail.gmail.com>
Subject: Re: apache-swat project - need feedback!
From: Alexey Melezhik <melezhik@gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1146762c7dcaaa052cb1f17b

--001a1146762c7dcaaa052cb1f17b
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi Eric! Have you made these three steps ?

1. Make sure that http.conf.templ has all your changes ( concerning
MPM modules loading )

2. # generate httpd.conf

./configure.bash /path/to/apache/server/root

3. # run apache with new http do.conf

sudo /path/to/apache/install/prefix/bin/apachectl -f `pwd`/httpd.conf

Step one is not described at apache swat docs, probably I need to update th=
is.


=D0=BF=D1=8F=D1=82=D0=BD=D0=B8=D1=86=D0=B0, 26 =D1=84=D0=B5=D0=B2=D1=80=D0=
=B0=D0=BB=D1=8F 2016 =D0=B3. =D0=BF=D0=BE=D0=BB=D1=8C=D0=B7=D0=BE=D0=B2=D0=
=B0=D1=82=D0=B5=D0=BB=D1=8C Eric Covener =D0=BD=D0=B0=D0=BF=D0=B8=D1=81=D0=
=B0=D0=BB:

> Whoops, I realized this is not true -- it's got some modules, but it
> didn't have MY modules -- notably my MPM.
>
> On Fri, Feb 26, 2016 at 10:52 AM, Eric Covener <covener@gmail.com
> <javascript:;>> wrote:
> > I tried to take this for a spin, because I had a bad fix (1 step
> > forward, 10 steps back!) fix for an issue you later wrote a test for.
> >
> > But the httpd.conf template doesn't load any modules, so my (typical)
> > DSO config didn't work at all.
> >
> > Did I do something wrong?  Our Apache::Test harness copies the
> > loadmodules in the installed config file as a bootstrap for the new
> > config IIUC.
>
>
>
> --
> Eric Covener
> covener@gmail.com <javascript:;>
>

--001a1146762c7dcaaa052cb1f17b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi Eric! Have=C2=A0you made=C2=A0these three=C2=A0steps ?<div><br></div><di=
v><pre style=3D"overflow:auto;margin-top:0px;margin-bottom:16px;line-height=
:1.45;padding:16px;border-top-left-radius:3px;border-top-right-radius:3px;b=
order-bottom-right-radius:3px;border-bottom-left-radius:3px;word-wrap:norma=
l"><code style=3D"padding:0px;margin:0px;border-top-left-radius:3px;border-=
top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radi=
us:3px;word-break:normal;border:0px;display:inline;line-height:inherit;word=
-wrap:normal;white-space:normal;background-color:rgba(255,255,255,0)"><font=
 face=3D"Helvetica Neue, Helvetica, Arial, sans-serif" size=3D"3">1. Make s=
ure that http.conf.templ=C2=A0has all your=C2=A0changes ( concerning MPM mo=
dules loading )=C2=A0</font></code></pre><pre style=3D"overflow:auto;margin=
-top:0px;margin-bottom:16px;line-height:1.45;padding:16px;border-top-left-r=
adius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border=
-bottom-left-radius:3px;word-wrap:normal"><code style=3D"padding:0px;margin=
:0px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-r=
ight-radius:3px;border-bottom-left-radius:3px;word-break:normal;border:0px;=
display:inline;line-height:inherit;word-wrap:normal;white-space:normal;back=
ground-color:rgba(255,255,255,0)"><font face=3D"Helvetica Neue, Helvetica, =
Arial, sans-serif" size=3D"3"></font></code><span style=3D"font-family:&#39=
;Helvetica Neue&#39;,Helvetica,Arial,sans-serif;font-size:medium;white-spac=
e:normal;background-color:rgba(255,255,255,0)">2.</span><span style=3D"font=
-family:&#39;Helvetica Neue&#39;,Helvetica,Arial,sans-serif;font-size:mediu=
m;white-space:normal;background-color:rgba(255,255,255,0)"> #=C2=A0</span><=
span style=3D"font-family:&#39;Helvetica Neue&#39;,Helvetica,Arial,sans-ser=
if;font-size:medium;white-space:normal;background-color:rgba(255,255,255,0)=
">generate httpd.conf=C2=A0</span></pre><pre style=3D"overflow:auto;margin-=
top:0px;margin-bottom:16px;line-height:1.45;padding:16px;border-top-left-ra=
dius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-=
bottom-left-radius:3px;word-wrap:normal"><code style=3D"padding:0px;margin:=
0px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-ri=
ght-radius:3px;border-bottom-left-radius:3px;word-break:normal;border:0px;d=
isplay:inline;line-height:inherit;word-wrap:normal;white-space:normal;backg=
round-color:rgba(255,255,255,0)"><font face=3D"Helvetica Neue, Helvetica, A=
rial, sans-serif" size=3D"3">./configure.bash /path/to/apache/server/root=
=C2=A0</font></code></pre><pre style=3D"overflow:auto;margin-top:0px;margin=
-bottom:16px;line-height:1.45;padding:16px;border-top-left-radius:3px;borde=
r-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-ra=
dius:3px;word-wrap:normal"><span style=3D"font-family:&#39;Helvetica Neue&#=
39;,Helvetica,Arial,sans-serif;font-size:medium;white-space:normal;backgrou=
nd-color:rgba(255,255,255,0)">3.=C2=A0# run apache=C2=A0with new http do.co=
nf</span></pre><pre style=3D"overflow:auto;margin-top:0px;margin-bottom:16p=
x;line-height:1.45;padding:16px;border-top-left-radius:3px;border-top-right=
-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;wo=
rd-wrap:normal"><span style=3D"font-family:&#39;Helvetica Neue&#39;,Helveti=
ca,Arial,sans-serif;font-size:medium;white-space:normal;background-color:rg=
ba(255,255,255,0)"></span><span style=3D"font-family:&#39;Helvetica Neue&#3=
9;,Helvetica,Arial,sans-serif;font-size:medium;white-space:normal;backgroun=
d-color:rgba(255,255,255,0)">sudo /path/to/apache/install/prefix/bin/apache=
ctl -f `pwd`/httpd.conf</span></pre><pre style=3D"overflow:auto;margin-top:=
0px;margin-bottom:16px;line-height:1.45;padding:16px;border-top-left-radius=
:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bott=
om-left-radius:3px;word-wrap:normal"><font face=3D"Helvetica Neue, Helvetic=
a, Arial, sans-serif" size=3D"3"><span style=3D"white-space:normal">Step on=
e is not described at apache=C2=A0swat docs, probably I=C2=A0need to update=
 this.=C2=A0</span></font></pre><br>=D0=BF=D1=8F=D1=82=D0=BD=D0=B8=D1=86=D0=
=B0, 26 =D1=84=D0=B5=D0=B2=D1=80=D0=B0=D0=BB=D1=8F 2016 =D0=B3. =D0=BF=D0=
=BE=D0=BB=D1=8C=D0=B7=D0=BE=D0=B2=D0=B0=D1=82=D0=B5=D0=BB=D1=8C Eric Covene=
r  =D0=BD=D0=B0=D0=BF=D0=B8=D1=81=D0=B0=D0=BB:<br><blockquote class=3D"gmai=
l_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left=
:1ex">Whoops, I realized this is not true -- it&#39;s got some modules, but=
 it<br>
didn&#39;t have MY modules -- notably my MPM.<br>
<br>
On Fri, Feb 26, 2016 at 10:52 AM, Eric Covener &lt;<a href=3D"javascript:;"=
 onclick=3D"_e(event, &#39;cvml&#39;, &#39;covener@gmail.com&#39;)">covener=
@gmail.com</a>&gt; wrote:<br>
&gt; I tried to take this for a spin, because I had a bad fix (1 step<br>
&gt; forward, 10 steps back!) fix for an issue you later wrote a test for.<=
br>
&gt;<br>
&gt; But the httpd.conf template doesn&#39;t load any modules, so my (typic=
al)<br>
&gt; DSO config didn&#39;t work at all.<br>
&gt;<br>
&gt; Did I do something wrong?=C2=A0 Our Apache::Test harness copies the<br=
>
&gt; loadmodules in the installed config file as a bootstrap for the new<br=
>
&gt; config IIUC.<br>
<br>
<br>
<br>
--<br>
Eric Covener<br>
<a href=3D"javascript:;" onclick=3D"_e(event, &#39;cvml&#39;, &#39;covener@=
gmail.com&#39;)">covener@gmail.com</a><br>
</blockquote></div>

--001a1146762c7dcaaa052cb1f17b--

From dev-return-85686-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 20:31:44 2016
Return-Path: <dev-return-85686-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BF330189FB
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 20:31:44 +0000 (UTC)
Received: (qmail 75251 invoked by uid 500); 26 Feb 2016 20:31:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75182 invoked by uid 500); 26 Feb 2016 20:31:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75172 invoked by uid 99); 26 Feb 2016 20:31:44 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 20:31:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 7A4951A030A
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 20:31:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.179
X-Spam-Level: **
X-Spam-Status: No, score=2.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FREEMAIL_REPLY=1, HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 6wEhwemyZxYT for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 20:31:42 +0000 (UTC)
Received: from mail-wm0-f53.google.com (mail-wm0-f53.google.com [74.125.82.53])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 1B50F5FAED
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 20:31:42 +0000 (UTC)
Received: by mail-wm0-f53.google.com with SMTP id g62so85022977wme.0
        for <dev@httpd.apache.org>; Fri, 26 Feb 2016 12:31:42 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=EbmAuafZua8hfg35bxKRLrsPkj2B9ca0XYfZ9Qm0jiQ=;
        b=gQj+d0m4c/DK2nEAdk+NixBX0RzYxLlWw8boktz+RAE0RqX09FvTde1pgp8FaJEFyN
         7BrbPR9hWmxx2kjG62eD08oVNgCqQjp5BDt31kKQ7cKykmcSfvvjySQZPhpkLbQMkxw1
         QsWjS/485ezMEjmm3pd49c0Jh38n2//0YLvPxKMXOt4N7gY5RBqwyqQ6Ylm3uZgKgeJi
         25GurU59S0f8UAXPIq3aACdb3/uejgvdjFnSb/5MjicQdEIeG/qj/1o9q6MAE4OA66Js
         IAKg6a0PNzuHNgbRyFZ/qtNqGQr00/aiHJPXKsJ6r/KoGh04U6P6pbIytxQHoW4/YgHy
         joAA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=EbmAuafZua8hfg35bxKRLrsPkj2B9ca0XYfZ9Qm0jiQ=;
        b=aRiOZBVeOssaSqFIHWKyU5/u8tV1qFqR3iYptmzM0RvqHAYE0DwrPxznh76y/VfInk
         XDNkdgmTq0kbq29K0zq1lZ+DzN60SLocsVUuJDKXqRbae9LQBtDqsohqbEIqMmYVHIMm
         Y6yTHjjTweLuovgV76F19/va1pku/PiX6+xEVE/v5SJAbfwNe4nWRlQ73ILzvsQ9qBTZ
         xhKLOaAjXjclLIocGdbceugIqpdE3PhIz1BGTKdJrrqb9WveV0yrL1DlsexIbF2idq7k
         gu+QqUCMweFIZfF8rcI6taxrbshym+UWVWDBCynnNX0Hvdw8SJY32SPClDcdvCPxDkVm
         HfAA==
X-Gm-Message-State: AD7BkJJ+itOJOz+nOPISS6jemyoDpJtiYay6BqSc8YktG8fyTgTL7RJeaIvUQLnlTLWeJXzJDYGX0CvmEbdJ+w==
MIME-Version: 1.0
X-Received: by 10.28.22.74 with SMTP id 71mr4926472wmw.47.1456518701622; Fri,
 26 Feb 2016 12:31:41 -0800 (PST)
Received: by 10.194.11.3 with HTTP; Fri, 26 Feb 2016 12:31:41 -0800 (PST)
In-Reply-To: <CALK=YjN7+oPcXgx4huxReyy_BPD5sbQpLa1KqWoBicd_YakkmA@mail.gmail.com>
References: <CAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com>
	<CALK=YjPfXWdanLmj2LYJibNFz_Hh1s4fqFqLRG9QEEc-DJAwkw@mail.gmail.com>
	<CALK=YjN7+oPcXgx4huxReyy_BPD5sbQpLa1KqWoBicd_YakkmA@mail.gmail.com>
Date: Fri, 26 Feb 2016 23:31:41 +0300
Message-ID: <CAL7UUk9OYSXOSp3u7LDzi8mOrjyWN=+kfEG64Cd40ZzXTEzg6g@mail.gmail.com>
Subject: Re: apache-swat project - need feedback!
From: Alexey Melezhik <melezhik@gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1146762cd1a9e4052cb22f2f

--001a1146762cd1a9e4052cb22f2f
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi , not sure if I completely understand the question, but if you ask about
mapping http requess into swat language,  then this is my answer :

In terms of swat request is just a directories and file paths  so GET
/58854/denied/
would be a
directory 58854/denied/ with a file get.txt in it.

$ mkdir -p 58854/denied/
$ echo 200 0K > 58854/denied/get.txt

More on this is written here
https://github.com/melezhik/swat#write-your-swat-story

Please let me know if it helps

=D0=BF=D1=8F=D1=82=D0=BD=D0=B8=D1=86=D0=B0, 26 =D1=84=D0=B5=D0=B2=D1=80=D0=
=B0=D0=BB=D1=8F 2016 =D0=B3. =D0=BF=D0=BE=D0=BB=D1=8C=D0=B7=D0=BE=D0=B2=D0=
=B0=D1=82=D0=B5=D0=BB=D1=8C Eric Covener =D0=BD=D0=B0=D0=BF=D0=B8=D1=81=D0=
=B0=D0=BB:

> On Fri, Feb 26, 2016 at 11:23 AM, Eric Covener <covener@gmail.com
> <javascript:;>> wrote:
> > On Thu, Feb 4, 2016 at 6:07 AM, Alexey Melezhik <melezhik@gmail.com
> <javascript:;>> wrote:
> >> * what things could be improved
> >
> > I notice that failed (bad status code for example) tests hang for a
> > many seconds which makes iterating over stuff a little slow.
>
> The harness uses a path like this to request missing.txt:
>
> 58854/denied/missing.txt/get.txt
>
> How would you phrase a a request for /58854/denied/ ?
>

--001a1146762cd1a9e4052cb22f2f
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi , not sure if I completely understand the question, but if you ask about=
 mapping http requess=C2=A0into swat language,=C2=A0=C2=A0then=C2=A0this is=
 my answer :<div><br></div><div>In terms of swat request is just a director=
ies=C2=A0and file=C2=A0paths=C2=A0=C2=A0so GET /<font size=3D"2"><span styl=
e=3D"background-color:rgba(255,255,255,0)">58854/denied/ would be a=C2=A0</=
span></font></div><div><font size=3D"2"><span style=3D"-webkit-tap-highligh=
t-color: rgba(26, 26, 26, 0.301961);">directory=C2=A0</span><span style=3D"=
background-color:rgba(255,255,255,0)">58854/denied/ with a file get.txt in =
it.=C2=A0</span></font></div><div><font size=3D"2"><span style=3D"-webkit-t=
ap-highlight-color: rgba(26, 26, 26, 0.301961);"><br></span></font></div><d=
iv><font size=3D"2"><span style=3D"-webkit-tap-highlight-color: rgba(26, 26=
, 26, 0.301961);">$ mkdir -p=C2=A0</span><span style=3D"background-color:rg=
ba(255,255,255,0)">58854/denied/</span></font></div><div><font size=3D"2"><=
span style=3D"-webkit-tap-highlight-color: rgba(26, 26, 26, 0.301961);">$ e=
cho 200 0K &gt;=C2=A0</span><span style=3D"background-color:rgba(255,255,25=
5,0)">58854/denied/get.txt=C2=A0</span></font></div><div><font size=3D"2"><=
span style=3D"-webkit-tap-highlight-color: rgba(26, 26, 26, 0.301961);"><br=
></span></font></div><div><font size=3D"2"><span style=3D"-webkit-tap-highl=
ight-color: rgba(26, 26, 26, 0.301961);">More on this is written here=C2=A0=
</span></font><a href=3D"https://github.com/melezhik/swat#write-your-swat-s=
tory">https://github.com/melezhik/swat#write-your-swat-story</a></div><div>=
<br></div><div>Please let me know if it helps=C2=A0<br><div><div><br>=D0=BF=
=D1=8F=D1=82=D0=BD=D0=B8=D1=86=D0=B0, 26 =D1=84=D0=B5=D0=B2=D1=80=D0=B0=D0=
=BB=D1=8F 2016 =D0=B3. =D0=BF=D0=BE=D0=BB=D1=8C=D0=B7=D0=BE=D0=B2=D0=B0=D1=
=82=D0=B5=D0=BB=D1=8C Eric Covener  =D0=BD=D0=B0=D0=BF=D0=B8=D1=81=D0=B0=D0=
=BB:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border=
-left:1px #ccc solid;padding-left:1ex">On Fri, Feb 26, 2016 at 11:23 AM, Er=
ic Covener &lt;<a href=3D"javascript:;" onclick=3D"_e(event, &#39;cvml&#39;=
, &#39;covener@gmail.com&#39;)">covener@gmail.com</a>&gt; wrote:<br>
&gt; On Thu, Feb 4, 2016 at 6:07 AM, Alexey Melezhik &lt;<a href=3D"javascr=
ipt:;" onclick=3D"_e(event, &#39;cvml&#39;, &#39;melezhik@gmail.com&#39;)">=
melezhik@gmail.com</a>&gt; wrote:<br>
&gt;&gt; * what things could be improved<br>
&gt;<br>
&gt; I notice that failed (bad status code for example) tests hang for a<br=
>
&gt; many seconds which makes iterating over stuff a little slow.<br>
<br>
The harness uses a path like this to request missing.txt:<br>
<br>
58854/denied/missing.txt/get.txt<br>
<br>
How would you phrase a a request for /58854/denied/ ?<br>
</blockquote></div></div></div>

--001a1146762cd1a9e4052cb22f2f--

From dev-return-85687-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 20:41:29 2016
Return-Path: <dev-return-85687-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4771618A69
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 20:41:29 +0000 (UTC)
Received: (qmail 15258 invoked by uid 500); 26 Feb 2016 20:41:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15188 invoked by uid 500); 26 Feb 2016 20:41:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15178 invoked by uid 99); 26 Feb 2016 20:41:28 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 20:41:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 6D4E2180492
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 20:41:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.179
X-Spam-Level: **
X-Spam-Status: No, score=2.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FREEMAIL_REPLY=1, HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 4G5j400Vpgca for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 20:41:25 +0000 (UTC)
Received: from mail-wm0-f54.google.com (mail-wm0-f54.google.com [74.125.82.54])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 5F9A65F5A1
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 20:41:25 +0000 (UTC)
Received: by mail-wm0-f54.google.com with SMTP id a4so2254555wme.0
        for <dev@httpd.apache.org>; Fri, 26 Feb 2016 12:41:25 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=p3fic2gjmIfuVPoJkZuPY/dDuP1VkM3hwd3/thiUfjY=;
        b=c085D+wNB+ANCO/6enLU62IEHd083LBJiU0APwX2ZSQElqhcstc/cuflxQtXPIjv2H
         X2x0A8WI1YAZNb1lI/dUmfUwIb1OpyUNZujWoaYxbKaQWQrmMXHR0OGWcay+5Mwf2Xy/
         aqbR9v4Q4NdHKW+C/mfcl3SpbltKEkpUpC9TGgFAf3c0nycUYqVZEbwZgLyQStgGmYrL
         O+CJMsYmYrlrswDcLRU2SI49PPynNygOCUeg9x0z3SR0lvOXRgCTB3fLW0P0TC6JLVPr
         Qc+2yRdHKlfZxRXbp258qUZZPsP3h7oUPyJqBXyGvTsEKvgrKkqJuI7bYplzs8E/s5Cx
         Dmag==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=p3fic2gjmIfuVPoJkZuPY/dDuP1VkM3hwd3/thiUfjY=;
        b=a6cNfeQXigQ6byV96klZT6imDlPwFZMTYRvCKi+RhXBbEir2G1q1zr4lxtaJwUm2fb
         eA3iId9OMcXDuQJm99XvW6uwyy3S+AaGDzr3ZbDTpOb6YMGDyZZgES+4Md2gl+Au7ipJ
         RXxs9WB0B/ZrOIRfly84NcRrtpIlC2K8vPMaMSvT48uEEb4QnD20fyHRQH4r3+pCVO2Y
         f4Bnxomw/d1kEfRu3qvC5qYNFL7a3bUpb0mT3ANqrokzJ+nbortXVvyclZi0txZENUWT
         dby/6ByF1LwSCPInELjIRemvLsVuSX/SK/M7zQPIQMmdIN0OS9wVhS62wlx0uI357A0m
         ZSSw==
X-Gm-Message-State: AD7BkJKpbXufzFf5w0lwYuucIqVW0hP8OvX6cTMN04RffyWOfXcJePvJT8uCJCFph+O55N7vdDS0SWSoL1yRJw==
MIME-Version: 1.0
X-Received: by 10.28.173.143 with SMTP id w137mr5346302wme.101.1456519278360;
 Fri, 26 Feb 2016 12:41:18 -0800 (PST)
Received: by 10.194.11.3 with HTTP; Fri, 26 Feb 2016 12:41:18 -0800 (PST)
In-Reply-To: <CALK=YjPfXWdanLmj2LYJibNFz_Hh1s4fqFqLRG9QEEc-DJAwkw@mail.gmail.com>
References: <CAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com>
	<CALK=YjPfXWdanLmj2LYJibNFz_Hh1s4fqFqLRG9QEEc-DJAwkw@mail.gmail.com>
Date: Fri, 26 Feb 2016 23:41:18 +0300
Message-ID: <CAL7UUk9K6=vWM3ZNrVV50jjurC-5TWrVvQfXeY_7aedkTDPnfw@mail.gmail.com>
Subject: Re: apache-swat project - need feedback!
From: Alexey Melezhik <melezhik@gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11444c5231fc73052cb2521e

--001a11444c5231fc73052cb2521e
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Please also consider these 2 variables as tests time tuning , in cases of
dead locks or hanging requests they also could be helpful



   -

   curl_connect_timeout - maximum time in seconds that you allow the
   connection to the server to take, follow curl documentation for full
   explanation.
   -

   curl_max_time - maximum time in seconds that you allow the whole
   operation to take, follow curl documentation for full explanation.


   All, these parameters like curl_max_time, try_num, ignore_http_err,
   could be set in per project or per request basis, please follow this lin=
k
   for details - https://github.com/melezhik/swat#swat-ini-files

=D0=BF=D1=8F=D1=82=D0=BD=D0=B8=D1=86=D0=B0, 26 =D1=84=D0=B5=D0=B2=D1=80=D0=
=B0=D0=BB=D1=8F 2016 =D0=B3. =D0=BF=D0=BE=D0=BB=D1=8C=D0=B7=D0=BE=D0=B2=D0=
=B0=D1=82=D0=B5=D0=BB=D1=8C Eric Covener =D0=BD=D0=B0=D0=BF=D0=B8=D1=81=D0=
=B0=D0=BB:

> On Thu, Feb 4, 2016 at 6:07 AM, Alexey Melezhik <melezhik@gmail.com
> <javascript:;>> wrote:
> > * what things could be improved
>
> I notice that failed (bad status code for example) tests hang for a
> many seconds which makes iterating over stuff a little slow.
>
> --
> Eric Covener
> covener@gmail.com <javascript:;>
>

--001a11444c5231fc73052cb2521e
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Please also consider these 2 variables as tests time tuning ,=C2=A0in cases=
 of dead locks or hanging requests they also could be helpful<div><br></div=
><div><br><ul style=3D"padding:0px 0px 0px 2em;margin-top:0px;margin-bottom=
:16px"><li style=3D"box-sizing: border-box;"><p style=3D"margin-top:16px;ma=
rgin-bottom:16px"><font face=3D"Helvetica Neue, Helvetica, Arial, sans-seri=
f" size=3D"3"><span style=3D"background-color:rgba(255,255,255,0)"><code st=
yle=3D"padding:0.2em 0px;margin:0px;border-top-left-radius:3px;border-top-r=
ight-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3p=
x">curl_connect_timeout</code>=C2=A0- maximum time in seconds that you allo=
w the connection to the server to take, follow curl documentation for full =
explanation.</span></font></p></li><li style=3D"box-sizing: border-box;"><p=
 style=3D"margin-top:16px;margin-bottom:16px"><font face=3D"Helvetica Neue,=
 Helvetica, Arial, sans-serif" size=3D"3"><span style=3D"background-color:r=
gba(255,255,255,0)"><code style=3D"padding:0.2em 0px;margin:0px;border-top-=
left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;=
border-bottom-left-radius:3px">curl_max_time</code>=C2=A0- maximum time in =
seconds that you allow the whole operation to take, follow curl documentati=
on for full explanation.</span></font></p><p style=3D"margin-top:16px;margi=
n-bottom:16px"><font face=3D"Helvetica Neue, Helvetica, Arial, sans-serif" =
size=3D"3"><span style=3D"background-color:rgba(255,255,255,0)"><br></span>=
</font></p><p style=3D"margin-top:16px;margin-bottom:16px"><font face=3D"He=
lvetica Neue, Helvetica, Arial, sans-serif" size=3D"3"><span style=3D"backg=
round-color:rgba(255,255,255,0)">All, these parameters like curl_max_time,=
=C2=A0try_num, ignore_http_err, could be set in per=C2=A0project or per req=
uest basis, please follow this link for details -=C2=A0</span></font><a hre=
f=3D"https://github.com/melezhik/swat#swat-ini-files">https://github.com/me=
lezhik/swat#swat-ini-files</a></p></li></ul>=D0=BF=D1=8F=D1=82=D0=BD=D0=B8=
=D1=86=D0=B0, 26 =D1=84=D0=B5=D0=B2=D1=80=D0=B0=D0=BB=D1=8F 2016 =D0=B3. =
=D0=BF=D0=BE=D0=BB=D1=8C=D0=B7=D0=BE=D0=B2=D0=B0=D1=82=D0=B5=D0=BB=D1=8C Er=
ic Covener  =D0=BD=D0=B0=D0=BF=D0=B8=D1=81=D0=B0=D0=BB:<br><blockquote clas=
s=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;pad=
ding-left:1ex">On Thu, Feb 4, 2016 at 6:07 AM, Alexey Melezhik &lt;<a href=
=3D"javascript:;" onclick=3D"_e(event, &#39;cvml&#39;, &#39;melezhik@gmail.=
com&#39;)">melezhik@gmail.com</a>&gt; wrote:<br>
&gt; * what things could be improved<br>
<br>
I notice that failed (bad status code for example) tests hang for a<br>
many seconds which makes iterating over stuff a little slow.<br>
<br>
--<br>
Eric Covener<br>
<a href=3D"javascript:;" onclick=3D"_e(event, &#39;cvml&#39;, &#39;covener@=
gmail.com&#39;)">covener@gmail.com</a><br>
</blockquote></div>

--001a11444c5231fc73052cb2521e--

From dev-return-85688-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Feb 26 22:31:47 2016
Return-Path: <dev-return-85688-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 69B7B18293
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Feb 2016 22:31:47 +0000 (UTC)
Received: (qmail 22148 invoked by uid 500); 26 Feb 2016 22:31:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22083 invoked by uid 500); 26 Feb 2016 22:31:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22071 invoked by uid 99); 26 Feb 2016 22:31:47 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Feb 2016 22:31:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D00BA180492
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 22:31:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.299
X-Spam-Level: *
X-Spam-Status: No, score=1.299 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rcbowen-com.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id MkbYl1YBcV1O for <dev@httpd.apache.org>;
	Fri, 26 Feb 2016 22:31:44 +0000 (UTC)
Received: from mail-lb0-f175.google.com (mail-lb0-f175.google.com [209.85.217.175])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 822475F1E3
	for <dev@httpd.apache.org>; Fri, 26 Feb 2016 22:31:44 +0000 (UTC)
Received: by mail-lb0-f175.google.com with SMTP id bc4so54101774lbc.2
        for <dev@httpd.apache.org>; Fri, 26 Feb 2016 14:31:44 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rcbowen-com.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=Jqef7B05uAwBq3xJiQ6w2CivdVkBwcFIKz/+W4dX4ak=;
        b=cgRdKqTJLiYyHf56GSY6zEbg8NGEz3Sili7iBzuhKymUVWilVgfor+onTw/1no2LSK
         s+/ICHM/aJQUVYG2UlnqEAn6SXhIAAsqHyrA0B0dNaFaaNPbHBDX2qgTeKw2B+FW5eYR
         wFln/wJxM+WMwySDmIfuXVnfgZL6aTYFJQU4j/2jUX9lcU+Gmfk7WN8myIhl3kiDiZSp
         TW4dqQXV5eQotS3yUBcjxOTv6HstI3Jd3h2SIDS/LZV7SoKlucnD0v9Gj0ysOaULCpM2
         BVWSb1CicuHTMAGO0lCWxgYqAd23Nmd+hqG7OsW6oQJbbx3nESxRo0HtAqogIqrDLheG
         +Yag==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=Jqef7B05uAwBq3xJiQ6w2CivdVkBwcFIKz/+W4dX4ak=;
        b=AulK1oTSbkmAMB/MpLuBcQV3xP/a9in6yExR6HtCXKpE9sSCpzoccT5rG+wP5wTATK
         FChCiaeLVxDLUdLupwPMVs/X2MSV4flJSk5vN+afOD/Fhn00wDGPdrWHLCqvch0s+A0Y
         grUBggGC6P2nrcnrftiMIm8uZ7OtgS3dx1/GGXWTJkeItiuegwfNMjqlfZJSL2F7viTT
         h9sWYWxapy6Xq8hFXckl+E5jAGhcHxN4yuSAh/jarsc0zA/9e9uBdKXL1Piaaq+FLwus
         HlhlIfUeZozE+A2HGgMEAFcR8xunqYIKSe2WZFj2izJFzH8JPOLoyARrY/oKcavQ4dXS
         /gEA==
X-Gm-Message-State: AD7BkJL+d2LMJWa+8kAjz2buMV1j3pDqWtQfWEoumf4TOh1a1zJ6QjrXSc9q6JMoCF8FF2ynUZCwQgJbBj1Gvw==
MIME-Version: 1.0
X-Received: by 10.112.52.100 with SMTP id s4mr1518151lbo.108.1456525897732;
 Fri, 26 Feb 2016 14:31:37 -0800 (PST)
Received: by 10.112.20.194 with HTTP; Fri, 26 Feb 2016 14:31:37 -0800 (PST)
Received: by 10.112.20.194 with HTTP; Fri, 26 Feb 2016 14:31:37 -0800 (PST)
In-Reply-To: <56D01EA7.4050907@apache.org>
References: <4452FCD4-7D3E-4549-9F56-22F60CF40491@gbiv.com>
	<56D01EA7.4050907@apache.org>
Date: Fri, 26 Feb 2016 17:31:37 -0500
Message-ID: <CAD6VresVYDm=AtGaMQ3XPoNUD5U=iNQb-Z7=KJa0uGj9Ox7deQ@mail.gmail.com>
Subject: Re: where to put update_mime_types.pl?
From: Rich Bowen <rbowen@rcbowen.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11c3e7c8bdabad052cb3dc7a

--001a11c3e7c8bdabad052cb3dc7a
Content-Type: text/plain; charset=UTF-8

On Feb 26, 2016 04:45, "Ruediger Pluem" <rpluem@apache.org> wrote:
>
>
>
> On 02/26/2016 01:46 AM, Roy T. Fielding wrote:
> > I have a perl script (see below) for updating the mime.types file with
the latest
> > registered IANA media types.  I would like to add it to our version
control,
> > but I am unsure whether to place it in
> >
> >   httpd/trunk/support/
> >
> > or in
> >
> >   httpd/docs-build/trunk/
>
> For now I would would vote for
>
> httpd/docs-build/trunk/
>

Agreed. Updating the mime.types file tends to fall to the docs folks.

--001a11c3e7c8bdabad052cb3dc7a
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr"><br>
On Feb 26, 2016 04:45, &quot;Ruediger Pluem&quot; &lt;<a href=3D"mailto:rpl=
uem@apache.org">rpluem@apache.org</a>&gt; wrote:<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt; On 02/26/2016 01:46 AM, Roy T. Fielding wrote:<br>
&gt; &gt; I have a perl script (see below) for updating the mime.types file=
 with the latest<br>
&gt; &gt; registered IANA media types.=C2=A0 I would like to add it to our =
version control,<br>
&gt; &gt; but I am unsure whether to place it in<br>
&gt; &gt;<br>
&gt; &gt;=C2=A0 =C2=A0httpd/trunk/support/<br>
&gt; &gt;<br>
&gt; &gt; or in<br>
&gt; &gt;<br>
&gt; &gt;=C2=A0 =C2=A0httpd/docs-build/trunk/<br>
&gt;<br>
&gt; For now I would would vote for<br>
&gt;<br>
&gt; httpd/docs-build/trunk/<br>
&gt;<br></p>
<p dir=3D"ltr">Agreed. Updating the mime.types file tends to fall to the do=
cs folks. </p>

--001a11c3e7c8bdabad052cb3dc7a--

From dev-return-85689-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Feb 27 00:46:22 2016
Return-Path: <dev-return-85689-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C47DE18B55
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 27 Feb 2016 00:46:22 +0000 (UTC)
Received: (qmail 54838 invoked by uid 500); 27 Feb 2016 00:46:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54765 invoked by uid 500); 27 Feb 2016 00:46:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54755 invoked by uid 99); 27 Feb 2016 00:46:17 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Feb 2016 00:46:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id EFDF61A01B7
	for <dev@httpd.apache.org>; Sat, 27 Feb 2016 00:46:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id kczusRNb7JJU for <dev@httpd.apache.org>;
	Sat, 27 Feb 2016 00:46:16 +0000 (UTC)
Received: from heavyspace.ca (li52-56.members.linode.com [72.14.186.56])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id 2730D5F39B
	for <dev@httpd.apache.org>; Sat, 27 Feb 2016 00:46:16 +0000 (UTC)
Received: by heavyspace.ca (Postfix, from userid 1001)
	id 3D92F47150; Sat, 27 Feb 2016 00:50:08 +0000 ()
Received: from mail.heavyspace.ca (localhost [127.0.0.1])
	by heavyspace.ca (Postfix) with ESMTP id 6D7334714E
	for <dev@httpd.apache.org>; Sat, 27 Feb 2016 00:50:07 +0000 ()
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII;
 format=flowed
Content-Transfer-Encoding: 7bit
Date: Fri, 26 Feb 2016 18:50:07 -0600
From: monttyle@heavyspace.ca
To: dev@httpd.apache.org
Subject: Suexec permissions question
Message-ID: <ae1bcada9ff89e4488e240762f985a8a@heavyspace.ca>
X-Sender: monttyle@heavyspace.ca
User-Agent: Roundcube Webmail/1.0.2

This is not a question on how to use suexec, that's fairly clear.  The 
strict, hardwired conditions its willing to suexec under are also 
spelled out pretty clear.  My question is the nature of these 
requirements -- why they're the way they are.  The user and group 
requirements specifically.

suexec insists that the file being executed needs to be the same owner 
and group as what the web server will be running as after suexec.  
Doesn't this requirement make things *less* secure?  You can't really 
protect a file against its own owner overwriting it.  The same 
requirement is on the folder, leaving the web server two legal chmods 
away from allowing an exploit to create, delete, and modify files inside 
the vhost at will.

From dev-return-85690-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Feb 28 07:15:17 2016
Return-Path: <dev-return-85690-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4C47F1928C
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 28 Feb 2016 07:15:17 +0000 (UTC)
Received: (qmail 83840 invoked by uid 500); 28 Feb 2016 07:15:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83749 invoked by uid 500); 28 Feb 2016 07:15:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83740 invoked by uid 99); 28 Feb 2016 07:15:16 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 Feb 2016 07:15:16 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id 380C41A027E
	for <dev@httpd.apache.org>; Sun, 28 Feb 2016 07:15:16 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id AD13D6033A; Sun, 28 Feb 2016 07:15:15 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2016/02/28]
Message-Id: <20160228071515.AD13D6033A@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 28 Feb 2016 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24437|Opn|Nor|2003-11-05|mod_auth_ldap doubly-escapes backslash (\) charact|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Enh|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37770|Opn|Blk|2005-12-03|proxy: error reading status line from remote serve|
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Inf|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|Verify that log directories exist in httpd -t conf|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|Opn|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Maj|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47650|Opn|Trv|2009-08-05|httxt2dbm calculates value size incorrectly       |
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|New|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51104|Opn|Maj|2011-04-21|C++ support about httpd_config.h                  |
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|Opn|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Blk|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Nor|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|53999|Opn|Nor|2012-10-13|Deadlock between procmgr_send_spawn_cmd()/proctabl|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|Ver|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|mod_remoteip updates the "ip" (%a), but "host" (%h|
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|Inf|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|New|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|Ver|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|Ver|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|Ver|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|Ver|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Enh|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|Opn|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
|58089|New|Nor|2015-07-01|mod_authz_host uses proxy IP even when mod_remotei|
|58101|New|Nor|2015-07-05|DeflateCompressionLevel inside vhost resets logfor|
|58107|New|Blk|2015-07-06|Httpd crashes on startup every time, dump file att|
|58109|New|Nor|2015-07-06|Apache on windows cannot handle the hash symbol (#|
|58118|New|Min|2015-07-09|mod_proxy_fcgi logs 503 when user aborts connectio|
|58120|New|Nor|2015-07-10|ProxyPassInherit does not work as expect          |
|58121|New|Nor|2015-07-10|ProxyHTMLMeta seems to ignore all <meta http-equiv|
|58129|New|Nor|2015-07-12|man pages are not generated correctly             |
|58132|New|Nor|2015-07-12|non-standard, non-traditional man page layout make|
|58135|New|Nor|2015-07-14|mod_cache sends client "if-Modified-Since" to back|
|58141|New|Nor|2015-07-15|Apache Service doesn't start when rotatlogs.exe pa|
|58142|New|Nor|2015-07-15|authz_core ignores loglevel                       |
|58158|New|Nor|2015-07-21|Not honoring HTTP spec with regard to Accept-Encod|
|58168|New|Enh|2015-07-21|Would like full request evaluation support in Rewr|
|58171|New|Nor|2015-07-22|ap_session_save saves the wrong session after a de|
|58177|New|Enh|2015-07-24|Mod Proxy forward trailers in http chunked request|
|58180|New|Enh|2015-07-24|ErrorDocument original URL in subsequent <Location|
|58181|New|Enh|2015-07-25|mod_expire should allow "minus" keyword same like |
|58188|New|Nor|2015-07-28|http2 mod_lua: support build with lua 5.2+        |
|58197|New|Nor|2015-07-31|apr-util-1.5.4 build against openldap - "could not|
|58225|New|Reg|2015-08-08|intermitant segfault 11 in session_identity_encode|
|58226|New|Nor|2015-08-08|XSS in Error Page                                 |
|58231|New|Nor|2015-08-11|RewriteCond can add "Host" to the Vary-Header     |
|58235|New|Enh|2015-08-12|Ability to allow from domain but with using forwar|
|58243|New|Nor|2015-08-14|rotatelogs goes infinite at startup               |
|58248|New|Nor|2015-08-17|Error 404 in use some characters of utf8 in url   |
|58257|New|Nor|2015-08-18|require ldap-group does not work if account-fullna|
|58278|Inf|Blk|2015-08-24|apache - mod_security Issue : apache no releasing |
|58280|New|Nor|2015-08-24|Backend connection not closed until timeout if cli|
|58288|New|Blk|2015-08-27|Semaphore amount increase until crash when enablin|
|58292|New|Nor|2015-08-27|FallbackResource breaks chunked encoding sometimes|
|58304|New|Nor|2015-08-30|Unexpected Warnings from Macro Use in 2.4         |
|58307|New|Nor|2015-08-31|Segmentation fault in child in "read(__nbytes, __b|
|58317|New|Min|2015-09-02|Error message AH01630 is missing file name on deny|
|58334|New|Min|2015-09-06|WebDAV HTTP access does not include meta tag for c|
|58335|New|Nor|2015-09-07|mod_authnz_ldap mismatch                          |
|58343|New|Nor|2015-09-08|The pdf files come up as a blank page.            |
|58354|New|Maj|2015-09-10|(20014)Internal error (specific information not av|
|58356|New|Blk|2015-09-10|Session jumping due to incorrect route            |
|58364|New|Reg|2015-09-11|Apache Server is restarted time to time (Release 2|
|58417|New|Min|2015-09-16|ApacheBench (ab) won't display Server Software of |
|58419|New|Nor|2015-09-16|ApacheBench (ab) doesn't work with keep-alives aga|
|58423|New|Reg|2015-09-17|Apache >= 2.4.8 PCRE_DUPNAMES causes build failure|
|58437|Opn|Nor|2015-09-21|mod_h2: h2c doesn't work using upgrade from http 1|
|58467|New|Maj|2015-09-29|Environment Variables in ProxyHTMLURLMap produces |
|58475|New|Nor|2015-10-03|Support append/merge with semicolon-separated head|
|58488|New|Nor|2015-10-08|Stoped PHP-FPM pool in multi-pool system with comu|
|58491|New|Maj|2015-10-09|Core dumps appear when the load increases         |
|58492|Inf|Nor|2015-10-09|I think LDAPConnectionPoolTTL is not being honored|
|58498|New|Nor|2015-10-16|Apache 2.4.17: Regression with mod_autoindex (in c|
|58500|New|Nor|2015-10-16|dav_fs not enabled by default                     |
|58503|New|Cri|2015-10-16|segfault in apr_brigade_cleanup() under high load |
|58509|New|Trv|2015-10-20|2.4.17-dev introduces second core.c handler at sta|
|58524|New|Nor|2015-10-23|mod_http2 segfaults when under heavy load         |
|58528|New|Nor|2015-10-23|AllowOverrideList None gets misparsed and .htacces|
|58529|New|Maj|2015-10-23|Segmentation fault after modifying a proxy Balance|
|58550|New|Enh|2015-10-26|During load, Apache 2.2.x with prefork MPM didn|
|58574|New|Nor|2015-11-02|Apache error AH01630 (client denied) but working  |
|58593|New|Nor|2015-11-06|mod_proxy wrong decision between http and ws      |
|58598|New|Enh|2015-11-08|Internal Server Error (500) when requesting non-ex|
|58602|New|Nor|2015-11-11|Priority issue on DirectoryMatch directive        |
|58604|New|Reg|2015-11-12|Plaintext auth broken in any Explicit FTP/AUTH TLS|
|58612|New|Min|2015-11-16|mod_webdav when write_stream failed should break a|
|58669|New|Nor|2015-11-30|Order of DBDInitSQL and DBDPrepareSQL             |
|58688|New|Nor|2015-12-03|Missing mod_ssl connection-level upgrade headers f|
|58700|New|Nor|2015-12-07|Apache logs not working with mod_remoteip and X-fo|
|58720|New|Enh|2015-12-11|querying server status stalls when scoreboard is f|
|58727|New|Min|2015-12-13|Directories with a ProxyPass directive are not dis|
|58732|New|Nor|2015-12-14|Error Log isn't writing When Apache Shutdown with |
|58739|New|Cri|2015-12-15|Undocumented behavior of REDIRECT_URL and REDIRECT|
|58777|New|Enh|2015-12-28|URLs containing a ? are assumed to be query string|
|58798|New|Nor|2016-01-04|Misleading terminology                            |
|58799|New|Nor|2016-01-04|mod_fcgid: FcgidMinProcessesPerClass doesn't seem |
|58803|New|Cri|2016-01-05|HTTP connection is getting closed after 5 mins ( R|
|58806|New|Maj|2016-01-05|HTTP/2 appears to keep workers in KEEPALIVE status|
|58825|Inf|Nor|2016-01-08|Upload really big files with PUT method and XMLHTT|
|58826|New|Cri|2016-01-08|OCSP Stapling does not resolve DNS                |
|58828|New|Maj|2016-01-08|LA-U variables not set depending on the URI       |
|58834|New|Nor|2016-01-11|ModRewrite fails with .php urls and FPM on Apache |
|58842|New|Nor|2016-01-12|mod_proxy DNS cache with authoritative and no-auth|
|58854|Inf|Reg|2016-01-13|RewriteRule in .htaccess ignores 'Require all deni|
|58855|New|Enh|2016-01-14|Don't read through entire string when testing for |
|58856|New|Reg|2016-01-14|AddOutputFilterByType in Apache 2.4 inserts filter|
|58873|New|Nor|2016-01-15|Chunked encoding, Content Length and mod_deflate  |
|58880|New|Enh|2016-01-17|Support serving stale content while revalidating c|
|58887|Inf|Nor|2016-01-18|Updated install.xml.es and took out the html code |
|58889|New|Blk|2016-01-19|mod_proxy mixes random chars to the backend reques|
|58890|New|Nor|2016-01-19|Address comments on expression parser doc         |
|58892|New|Nor|2016-01-19|Remove 'advanced' rewrite doc, and organize by top|
|58893|New|Nor|2016-01-19|Document that RewriteMap names must be unique acro|
|58894|Inf|Nor|2016-01-20|Updates and Translated into Spanish new features 2|
|58901|New|Nor|2016-01-21|Download of large file is aborted in SSL_write on |
|58907|Inf|Nor|2016-01-21|Translated document  sitemap.xml.es into Spanish  |
|58921|New|Nor|2016-01-26|Compiler removal of code to clear password buffer |
|58926|New|Nor|2016-01-28|[Patchset] Improvements for apxs                  |
|58929|New|Maj|2016-01-28|coredump when sending illegal CONNECT request     |
|58934|New|Nor|2016-01-29|mod_proxy initial BalancerMember settings not appl|
|58944|New|Nor|2016-01-30|configure script breaks openssl static library dep|
|58945|New|Nor|2016-01-30|Custom-error.xml.es Translated to Spanish.        |
|58960|New|Nor|2016-02-02|Proxying Docker Registry HTTP PATCH command fails |
|58964|New|Maj|2016-02-03|Problems when caching more than one SSI level     |
|58969|New|Nor|2016-02-04|Translated bind.xml.es into spanish need feedback |
|58971|New|Nor|2016-02-04|Upgrade header added in 2.4.18 causes disconnect f|
|58977|New|Maj|2016-02-06|Wrong saved content                               |
|58981|New|Min|2016-02-07|Makefile.win references incorrect src_so file exte|
|58984|New|Nor|2016-02-09|mod_rewrite documentation for R flag should includ|
|58990|New|Enh|2016-02-10|Option to send "406 Not Acceptable" when mime type|
|58994|Inf|Nor|2016-02-11|Apache service is crashing for every two hours    |
|59007|New|Nor|2016-02-15|mod_proxy disables balancer worker after a timeout|
|59019|New|Nor|2016-02-17|UnDefine corrupts the list of defines             |
|59022|New|Nor|2016-02-17|No bytes in in mod_http2 acces log.               |
|59032|New|Enh|2016-02-19|mod_proxy_http replaces non compliant status-line |
|59040|New|Trv|2016-02-22|SSILegacyExprParser directive defined as OR_LIMIT,|
|59045|New|Maj|2016-02-22|AH01382: Request body read timeout triggered in re|
|59049|New|Maj|2016-02-23|Apache doesn't recover from OCSP decode error     |
|59078|New|Min|2016-02-26|http2 module causes threads to stick in graceful e|
|59086|New|Nor|2016-02-27|Brackets in DocumentRoot and Directory not support|
+-----+---+---+----------+--------------------------------------------------+
| Total 1582 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-85691-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Feb 28 10:03:42 2016
Return-Path: <dev-return-85691-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3F3DF19420
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 28 Feb 2016 10:03:42 +0000 (UTC)
Received: (qmail 64058 invoked by uid 500); 28 Feb 2016 10:03:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63978 invoked by uid 500); 28 Feb 2016 10:03:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63968 invoked by uid 99); 28 Feb 2016 10:03:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 Feb 2016 10:03:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 3B7D8C0856
	for <dev@httpd.apache.org>; Sun, 28 Feb 2016 10:03:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.18
X-Spam-Level: *
X-Spam-Status: No, score=1.18 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001, WEIRD_PORT=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id PotrBGyWoEF1 for <dev@httpd.apache.org>;
	Sun, 28 Feb 2016 10:03:40 +0000 (UTC)
Received: from mail-lb0-f174.google.com (mail-lb0-f174.google.com [209.85.217.174])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 6E64C5F202
	for <dev@httpd.apache.org>; Sun, 28 Feb 2016 10:03:39 +0000 (UTC)
Received: by mail-lb0-f174.google.com with SMTP id x1so65936763lbj.3
        for <dev@httpd.apache.org>; Sun, 28 Feb 2016 02:03:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=DJacJMMUz9jOBFXYQmDeu8aVKmAF0HCx2iTK9oh4oRU=;
        b=y3DS9B+SuEheD78djPI6ptSV/xTrAS60btxG+fZkLpcrvftdUxYxOhyL3PaJIzHvUc
         Io47Bv8Mzowd+E0qelMybYaedTPyxwcbHTQmSfMOO5MxH8atDgZgTsgLnHD+IVuC9go8
         x0XiW/nytZWv2hwBUNk3tO0vbBV5w63Patnarv5xHTA81kLoAOHgKE+AC98Ynn/A+nzc
         CumVpYcCtBou544zhMBVpPhLlMbhR8suhBvs1m0Hxspn4o2+HvuGU15Btm0ntLG5gIOF
         hHIl4FZIKBBjrs8DxD7mu5DI3JMKSmKXPrebU8hlLFv5E23FTIvERj4sL9x8EBF/rNpK
         PeLA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=DJacJMMUz9jOBFXYQmDeu8aVKmAF0HCx2iTK9oh4oRU=;
        b=eKzAkJwk3O4fXs6a3jYQBN8vYflTxByB3slEHnWXj46SP+6kCEyarf9YnmY+1/OjVK
         UG2ZL0smdeTdMG/lmiqyYI5L+uy4gRIN6Ck22U8KXSnLj6BxhhYBQMjA1Ql9M82AVLmI
         UwRDp5r1QHqng4ayCCxnyzy8bGChoEB3PXyDPvgNz+aRwG1ZDBrPLBk+pjgDt5E/Jg9U
         NNrR7jfELjV1hSzPgFYz4lyt/kpPKsuSaPS9v50xp9OS0HJnkr5RzjwSx+46DABW5raq
         lWZ/BEP8o7kAZX/mcecggMIkcZ0NhNyJBXmdwUMac018noGWtvza7UEDN4H+Vq+xhvgR
         +maQ==
X-Gm-Message-State: AD7BkJKZujq5qgYsi0kVhyUtd/bNoRSN6fM/2H9SAoZqnajBP0OHOQc7pZpGjbzvlD00kB/Cyn2cO9OmgkaCGQ==
MIME-Version: 1.0
X-Received: by 10.112.52.100 with SMTP id s4mr3683706lbo.108.1456653817913;
 Sun, 28 Feb 2016 02:03:37 -0800 (PST)
Received: by 10.25.31.135 with HTTP; Sun, 28 Feb 2016 02:03:37 -0800 (PST)
In-Reply-To: <B7B7891F-D769-4537-8CCC-8C02B0D5BC97@greenbytes.de>
References: <B7B7891F-D769-4537-8CCC-8C02B0D5BC97@greenbytes.de>
Date: Sun, 28 Feb 2016 11:03:37 +0100
Message-ID: <CAFedD40LELQUK8nP0kN6+upBFFJWLFGzPDtzAkG=OVkWipkHyQ@mail.gmail.com>
Subject: Re: state of h2 (long)
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11c3e7c860a86f052cd1a509

--001a11c3e7c860a86f052cd1a509
Content-Type: text/plain; charset=UTF-8

Hi Stefan!

2016-02-26 18:06 GMT+01:00 Stefan Eissing <stefan.eissing@greenbytes.de>:

> Things winding down here a bit before the weekend (at least I try) and I
> thought
> I'd summarize a bit the state of HTTP/2 in our little project,
> because...well, some
> might be interested and certainly no one has the time to follow all my
> crazy submits.
>

Thanks a lot for all the info!


>
> * nice new things
> ...
>   - the scoreboard shows more information for h2 connections, such as its
> connection
>     state and some stream statistics. Maybe the h2 workers should show up
> in a separate
>     section on day...
>      127.0.0.1  http/1.1        test2.example.org:12345 wait, streams:
> 1/100/100/0/0 (open/recv/resp/push/rst)
>

Do we already have h2 workers data in the scoreboard (and therefore we just
only need to modify mod_status) or not? I am really interested in working
on mod_status if you need any help!


>   - request engines! which leads us to:
>
>  * mod_proxy_http2
>

This is really interesting, especially because (from what I know) httpd is
the only one supporting proxied http2 requests at the moment. Do you think
that it is too early to start a documentation page in trunk about it?
(Didn't find one but I might be wrong)


> Anyways, let me hear what you think. Anyone wants to help?


Would it be ok to start an how-to section about http2 in trunk using the
following (great) starting points? (Anybody interested please let me know)

https://icing.github.io/mod_h2/internals.html
https://icing.github.io/mod_h2/howto.html

Thanks!!

Luca

--001a11c3e7c860a86f052cd1a509
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi Stefan!<div class=3D"gmail_extra"><br><div class=3D"gma=
il_quote">2016-02-26 18:06 GMT+01:00 Stefan Eissing <span dir=3D"ltr">&lt;<=
a href=3D"mailto:stefan.eissing@greenbytes.de" target=3D"_blank">stefan.eis=
sing@greenbytes.de</a>&gt;</span>:<br><blockquote class=3D"gmail_quote" sty=
le=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(=
204,204,204);border-left-style:solid;padding-left:1ex">Things winding down =
here a bit before the weekend (at least I try) and I thought<br>
I&#39;d summarize a bit the state of HTTP/2 in our little project, because.=
..well, some<br>
might be interested and certainly no one has the time to follow all my craz=
y submits.<br></blockquote><div><br></div><div>Thanks a lot for all the inf=
o!</div><div>=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"margin:=
0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);=
border-left-style:solid;padding-left:1ex">
<br>
* nice new things<br>...<br>
=C2=A0 - the scoreboard shows more information for h2 connections, such as =
its connection<br>
=C2=A0 =C2=A0 state and some stream statistics. Maybe the h2 workers should=
 show up in a separate<br>
=C2=A0 =C2=A0 section on day...<br>
=C2=A0 =C2=A0 =C2=A0127.0.0.1=C2=A0 http/1.1=C2=A0 =C2=A0 =C2=A0 =C2=A0 <a =
href=3D"http://test2.example.org:12345" rel=3D"noreferrer" target=3D"_blank=
">test2.example.org:12345</a> wait, streams: 1/100/100/0/0 (open/recv/resp/=
push/rst)<br></blockquote><div><br></div><div>Do we already have h2 workers=
 data in the scoreboard (and therefore we just only need to modify mod_stat=
us) or not? I am really interested in working on mod_status if you need any=
 help!=C2=A0<br></div><div>=C2=A0</div><blockquote class=3D"gmail_quote" st=
yle=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb=
(204,204,204);border-left-style:solid;padding-left:1ex">
=C2=A0 - request engines! which leads us to:<br>
<br>
=C2=A0* mod_proxy_http2<br></blockquote><div><br></div><div>This is really =
interesting, especially because (from what I know) httpd is the only one su=
pporting proxied http2 requests at the moment. Do you think that it is too =
early to start a documentation page in trunk about it? (Didn&#39;t find one=
 but I might be wrong)</div><div>=C2=A0</div><blockquote class=3D"gmail_quo=
te" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-col=
or:rgb(204,204,204);border-left-style:solid;padding-left:1ex">
Anyways, let me hear what you think. Anyone wants to help?</blockquote><div=
><br></div><div>Would it be ok to start an how-to section about http2 in tr=
unk using the following (great) starting points? (Anybody interested please=
 let me know)</div><div><br></div><div><a href=3D"https://icing.github.io/m=
od_h2/internals.html">https://icing.github.io/mod_h2/internals.html</a></di=
v><div><a href=3D"https://icing.github.io/mod_h2/howto.html">https://icing.=
github.io/mod_h2/howto.html</a></div><div><br></div><div>Thanks!!</div><div=
><br></div><div>Luca=C2=A0<br></div></div><br></div></div>

--001a11c3e7c860a86f052cd1a509--

From dev-return-85692-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Feb 28 19:36:51 2016
Return-Path: <dev-return-85692-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6724D19D25
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 28 Feb 2016 19:36:51 +0000 (UTC)
Received: (qmail 33941 invoked by uid 500); 28 Feb 2016 19:36:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33865 invoked by uid 500); 28 Feb 2016 19:36:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33855 invoked by uid 99); 28 Feb 2016 19:36:50 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 Feb 2016 19:36:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 7CAC1C093B
	for <dev@httpd.apache.org>; Sun, 28 Feb 2016 19:36:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.299
X-Spam-Level:
X-Spam-Status: No, score=0.299 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id OPGYSOjwTrSX for <dev@httpd.apache.org>;
	Sun, 28 Feb 2016 19:36:48 +0000 (UTC)
Received: from fed1rmfepo102.cox.net (fed1rmfepo102.cox.net [68.230.241.144])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id 70CD75FB0B
	for <dev@httpd.apache.org>; Sun, 28 Feb 2016 19:36:46 +0000 (UTC)
Received: from fed1rmimpo109.cox.net ([68.230.241.158])
          by fed1rmfepo102.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20160228193640.EEBX7752.fed1rmfepo102.cox.net@fed1rmimpo109.cox.net>
          for <dev@httpd.apache.org>; Sun, 28 Feb 2016 14:36:40 -0500
Received: from [192.168.1.33] ([98.176.34.113])
	by fed1rmimpo109.cox.net with cox
	id Pvce1s00D2STVfm01vcf3Z; Sun, 28 Feb 2016 14:36:39 -0500
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020205.56D34C48.0010,ss=1,re=0.000,recu=0.000,reip=0.000,cl=1,cld=1,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.1 cv=Jb4c1R+V c=1 sm=1 tr=0
 a=8xCO7h6kmYZdHn5tUOQhsw==:117 a=8xCO7h6kmYZdHn5tUOQhsw==:17
 a=L9H7d07YOLsA:10 a=9cW_t1CCXrUA:10 a=s5jvgZ67dGcA:10 a=8nJEP1OIZ-IA:10
 a=48vgC7mUAAAA:8 a=QIhr-27iAAAA:8 a=XX8Si1PToitwu72wYnkA:9
 a=wAY5Ktm2fTkHQAMa:21 a=Yy-_0ND2RT6G25EC:21 a=wPNLvfGTeEIA:10
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <56D34C62.5040406@gknw.net>
Date: Sun, 28 Feb 2016 11:37:06 -0800
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: state of h2 (long)
References: <B7B7891F-D769-4537-8CCC-8C02B0D5BC97@greenbytes.de>
In-Reply-To: <B7B7891F-D769-4537-8CCC-8C02B0D5BC97@greenbytes.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi Stefan,

I've had a real lack of time lately to do much on trunk's mod_http2 on 
the windows side. The new mod_proxy_http2 requires a few functions from 
mod_http2 and with what time I have had I have been unsuccessful 
figuring out how to get these functions exported. So if you (or anyone 
else) can figure this out, I'd appreciate it.

Gregg

On 2/26/2016 9:06 AM, Stefan Eissing wrote:
> Things winding down here a bit before the weekend (at least I try) and I thought
> I'd summarize a bit the state of HTTP/2 in our little project, because...well, some
> might be interested and certainly no one has the time to follow all my crazy submits.
>
> * trunk<->  2.4.x
>    the version in 2.4.x has gathered a bit dust, as we made several tweaks in trunk
>    in regard to async connection handling and scoreboard updates. These have all been
>    backported, except one. Once that is through, I'll make a backport of mod_http2,
>    so that 2.4.x gets all the nice new things.
>
> * nice new things
>    in trunk we have the following additions:
>    - http/2 connections get queued properly when they become idle on the event mpm.
>      that should be nice for people with many connections or long keepalives configured.
>    - timeouts and keepalive timeouts are respected as for http/1 connections, no extra
>      configuration.
>    - stability: with the interim releases in github and the help of nice people, several
>      improvements have been made here and the 1.2.5 github has no reported open blockers,
>      hanging connections or segfaults. All those changes are in trunk.
>    - server push: the module now remembers in each open connection which resources
>      have already been pushed, using hash digests. This also implements an outsketched
>      extension https://datatracker.ietf.org/doc/draft-kazuho-h2-cache-digest/ whereby
>      clients can send a highly compressed digest of the resources they have. This is
>      very early and experimental and we'll see how/if browsers adapt this and how
>      it will change over time.
>    - To offload worker threads, the module allows a number of file handles to have
>      open. So, ideally, when serving static content, workers just lookup the file,
>      return and the master connections streams them out. This number existed before
>      as number per master connection. Now this number is multiplied by the number of
>      workers and made a process wide pool where h2 connections can borrow amounts.
>      Still, I am not totally satisfied with this. This should not be configurable, but
>      httpd itself should check for ulimits of the process and configure itself, I think.
>    - the scoreboard shows more information for h2 connections, such as its connection
>      state and some stream statistics. Maybe the h2 workers should show up in a separate
>      section on day...
>       127.0.0.1	http/1.1	test2.example.org:12345	wait, streams: 1/100/100/0/0 (open/recv/resp/push/rst)
>    - request engines! which leads us to:
>
>   * mod_proxy_http2
>     is configured just like other proxy modules with by using 'h2' or 'h2c' as url prefix
>     in the configuration directives.
>     <IfModule proxy_http2_module>
>         <Proxy "balancer://h2-local">
>             BalancerMember "h2://test2.example.org:12346"
>         </Proxy>
>          ProxyPass "/h2proxy" "balancer://h2-local"
>          ProxyPassReverse "/h2proxy" "balancer://h2-local"
>      </IfModule>
>      Initially, it used one h2 connection for one request. The connection, and the http2
>      session associated with it, was reused via the nice proxy infrastructure.
>
>      This is how things still are when the original connection is http/1.1
>      When this is http/2 itself, however, the first such request will register a
>      "request engine" that will accept more requests while the initial one is still
>      being served and use the same backend connection for it. When the last assigned
>      request is done, it unregisters and dissolves into fine mist.
>      The connection and h2 session stays as before, so a new request can reuse the connection
>      in a new engine.
>
>      This works quite (but not 100%) reliable at the moment. There are still some races when
>      requests are sent out while the backend is already shutting down and the retry does
>      not catch all cases.
>
>      Important here is that requests for engines process all the usual hooks and filters
>      and yaddayadda of our infrastructure, just like with http/1.1. This works as follows:
>
>      - incoming request is handed to a worker thread as is done for all by mod_http2
>      - httpd/proxy identifies the handler of mod_proxy_http2 as the responsible
>      - mod_proxy_http2 finds out what backend it shall talk to and ask from mod_http2
>        (if present, the usual optionals) if there is already an engine for this backend,
>        and that it is willing to host one if there is not.
>      - mod_http2, if it has one, *freezes* the task for this request (which holds the
>        replacements for the core input/output filters on this slave connection) and
>        returns that it will take care of it, once the handler is done. The handler then
>        just returns as if it had processed the request.
>        Upon return of the worker, the mod_http2 sees a frozen task and makes it ready
>        for processing in an engine. Next time the engine polls for more requests, it is
>        forwarded.
>
>      - What is this freezing? Basically, an additional output filter that saves all
>        incoming buckets for later. So, the EOR bucket is set aside here, for example.
>      - Is it fast? No, not yet. Flow control handling is not optimal and I am sure there
>        are lots of other places that can be improved.
>      - Then why? This way of handling proxy requests saves connections to the backend
>        and threads in the server process. That should be motivation enough. If httpd
>        is a reverse proxy, then doing the same work with 1-2 orders of magnitude less
>        file handles and threads should be interesting.
>      - And: it could be done for mod_proxy_http, too! I see no reason why a single
>        thread cannot use pollsets to juggle a couple of http/1.1 backend connections
>        on top of a http/2 master connection.
>
> Anyways, let me hear what you think. Anyone wants to help?
>
> -Stefan
>
>


From dev-return-85693-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Feb 28 20:33:45 2016
Return-Path: <dev-return-85693-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DF81E19DE0
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 28 Feb 2016 20:33:44 +0000 (UTC)
Received: (qmail 81250 invoked by uid 500); 28 Feb 2016 20:33:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 81163 invoked by uid 500); 28 Feb 2016 20:33:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 81153 invoked by uid 99); 28 Feb 2016 20:33:44 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 Feb 2016 20:33:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 9D742180556
	for <dev@httpd.apache.org>; Sun, 28 Feb 2016 20:33:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id lprV7z7QHI1O for <dev@httpd.apache.org>;
	Sun, 28 Feb 2016 20:33:43 +0000 (UTC)
Received: from mail-wm0-f49.google.com (mail-wm0-f49.google.com [74.125.82.49])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 9C6C55F393
	for <dev@httpd.apache.org>; Sun, 28 Feb 2016 20:33:42 +0000 (UTC)
Received: by mail-wm0-f49.google.com with SMTP id l68so12970035wml.0
        for <dev@httpd.apache.org>; Sun, 28 Feb 2016 12:33:42 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=5gWkEUGQl2kNi2y8qcAXm0TeGhw6CvDQGo/5Vuwmeqw=;
        b=BTCIrc85x9xZyx9lbQ/CGVsgY+UPpMtNmlbfASn2jkP7DrlzUgTPQDq3556GjIAmIq
         yuI+0kvpCHRUH9wOMiAh+NmgYVSgYsg9NFM84cwTLiZZfmyDR2b0EVP/WZ/7qJXMdLy0
         mQRUCS8F3daZAIUlfOItavZIXQvSr/bxpCg+3p9RXuTRcTi1wgfAfdz16ZtvQTL4pTeH
         zvw9NeqxrY07i5a9jvJ6VaNM07tNDoGiCrip2SEFxAgQsuMOIS6BE5rPt6YqdiWb0V6s
         V6xcqAgWxnvpjodwNhBFnRFWFy/o2UYE6xBrYchaiE8zODSFWoNI/zMzHFpNSdA49B85
         2tiA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=5gWkEUGQl2kNi2y8qcAXm0TeGhw6CvDQGo/5Vuwmeqw=;
        b=Ngebrlcl3nsAty1KVl3yjKQefE34PT6qsPftSr88/rB7pf21vaJbfN0g7SOACavbsJ
         OjShB1s/3dBzPfiG6NQda9fzqkzjaQjOh4HAeXE2nB4gZi//aZKYrBNLW9as1McYXHxJ
         1DL18T/lz9aL4amNeEhOCdZIigTtVAotjyVpbomMviK4c9Ndg3g33/fCIC3t5pxV5R+g
         u7RffYJD15HuB4UdA2tblQTEjfd98FkzpSteL0utBcEEcIEjAS57JIgezI6EJvS/RsSp
         SdgR2Z27JFXSD56Usn5iK1C/FFqB+rpZZ51hrK7lUxw3SSx23HuplSTvdKGJBN7ZNpW4
         Du1A==
X-Gm-Message-State: AD7BkJJEgq3uoaO3ENSPaOUXK5LXZR3+5zTQIwl7iHxZ1r6CxXrFieNLsKFw3sEwGXJtElLZFnUuz2aRx3eUUw==
MIME-Version: 1.0
X-Received: by 10.28.139.147 with SMTP id n141mr8472128wmd.53.1456691621598;
 Sun, 28 Feb 2016 12:33:41 -0800 (PST)
Received: by 10.28.73.10 with HTTP; Sun, 28 Feb 2016 12:33:41 -0800 (PST)
In-Reply-To: <alpine.DEB.2.10.1601142224300.1035@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto>
	<CAA=k7mUMDyTNdfagxsejQM49DF8jh5rw+CmDy3_4fJ3MY0sgCQ@mail.gmail.com>
	<alpine.DEB.2.10.1601142224300.1035@sto>
Date: Sun, 28 Feb 2016 21:33:41 +0100
Message-ID: <CAA=k7mUcBTXkMsk99P1akQBkR_ayFwScP1PQzQDZwknPHDS4rw@mail.gmail.com>
Subject: Re: access control for dynamic hosts
From: Mario Brandt <jblond@gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi,

On 14 January 2016 at 22:36, Fabien <fabien@apache.org> wrote:
>

> Maybe the reverse dns is working on your test address?

I checked it and yes it does work that way. I never knew it did.

Cheers
Mario

From dev-return-85694-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Feb 28 20:38:42 2016
Return-Path: <dev-return-85694-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2CD8619E05
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 28 Feb 2016 20:38:42 +0000 (UTC)
Received: (qmail 84374 invoked by uid 500); 28 Feb 2016 20:38:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84302 invoked by uid 500); 28 Feb 2016 20:38:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84292 invoked by uid 99); 28 Feb 2016 20:38:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 Feb 2016 20:38:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 45DC9C0856
	for <dev@httpd.apache.org>; Sun, 28 Feb 2016 20:38:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id oz2ipeU9q_oi for <dev@httpd.apache.org>;
	Sun, 28 Feb 2016 20:38:40 +0000 (UTC)
Received: from mail-wm0-f42.google.com (mail-wm0-f42.google.com [74.125.82.42])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 1C4205FB0C
	for <dev@httpd.apache.org>; Sun, 28 Feb 2016 20:38:40 +0000 (UTC)
Received: by mail-wm0-f42.google.com with SMTP id l68so34971056wml.1
        for <dev@httpd.apache.org>; Sun, 28 Feb 2016 12:38:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to;
        bh=Lz0p50KlJbF6HvG1N4bQ4EN4h+mWC1X+grFvBfLpG0o=;
        b=oMJpGbCTRcpJtZmziZskTyVPhRO3DAvCivfJEXy4ebwxlFLLJTUYPF4VqQQ9gU7N8c
         O4NEqq613MpnmYpav9Z83JrDrBJbQsbJDRxc5jBTw0o60otYVTRU7a2O+9xHyxozlYYI
         v+kWWHs093G/PAgt/yivi+EPZESKvI9eidnbg3ECQ8cupE8nt3iF/LXmGqDLd3Yq+/O2
         IILnBTzPStmAAGK7mCs2KloUDNQGChY/Oh/M+bXbUaURUmGSufnB+Mg18MfxIm3agfh5
         uFaGce6/yW0y2IjKsvHJjtmeN8mgSap0iIjKGZgn/L4c7K/Rh7vnn/HHSFb8Vs5TQN1r
         6dOA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to;
        bh=Lz0p50KlJbF6HvG1N4bQ4EN4h+mWC1X+grFvBfLpG0o=;
        b=PQUDWnp2OGyOVbY6spc5jbJ0UAk9QiNGQi7uNSpj73wWEwajn6j8tILFAcU6ylvwD2
         BHp6+kZ9EbEO81nBh/EtYA+PmUBzRWarOMLc/c2YZLBkH8s+DqxjCCxz4ZS7XUFklmij
         UgBlO/JkLUE9C/LU0aq35L0kFqz9yB0TPDSf6Owc4aHH00VycDvm95o5NRpMRDHlz5TK
         Zq5jIqbsjwF1bn3Xv7ZsUh6Jgs8Wu1r5qjrPI2o8Lf8UMgyiQqhsD4c6oQ2uzaMwrypo
         3wSrYpymjVJiU7v77QxvLuw6pXT/Khwh7ElJa0ldeBjBUPnTNJWGxrXHIFxsXnOffz+p
         ZVDw==
X-Gm-Message-State: AD7BkJKD835LbcHWkVgyyXu9yl9hhxAgfdy6fptemhz8JmChv8enOrAqF2zitWwwWwBcaHK4SXa1eDD+zZrEAA==
MIME-Version: 1.0
X-Received: by 10.28.178.209 with SMTP id b200mr8306862wmf.98.1456691912574;
 Sun, 28 Feb 2016 12:38:32 -0800 (PST)
Received: by 10.28.73.10 with HTTP; Sun, 28 Feb 2016 12:38:32 -0800 (PST)
Date: Sun, 28 Feb 2016 21:38:32 +0100
Message-ID: <CAA=k7mWzXTo2fj-br4mN91JBe0yZR+tV6uJ7xwZiAAOQS+cLFg@mail.gmail.com>
Subject: PHP OPcache with fcgid and restart
From: Mario Brandt <jblond@gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi,

it would be uberawesome if you could take a look the patch 48769 [1]
since than the OP cache from PHP would not die with a graceful
restart.

Thank you!
Mario


[1] https://issues.apache.org/bugzilla/show_bug.cgi?id=48769

From dev-return-85695-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 06:16:29 2016
Return-Path: <dev-return-85695-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D43EE189CD
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 06:16:29 +0000 (UTC)
Received: (qmail 46079 invoked by uid 500); 29 Feb 2016 06:16:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46006 invoked by uid 500); 29 Feb 2016 06:16:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45995 invoked by uid 99); 29 Feb 2016 06:16:29 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 06:16:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id A1BCE1A059F
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 06:16:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id hmPq-8oqcSGm for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 06:16:27 +0000 (UTC)
Received: from boipeva.ensmp.fr (boipeva.ensmp.fr [194.214.158.136])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTP id 5E7725FB0C
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 06:16:27 +0000 (UTC)
Received: from cri.ensmp.fr (152.200.219.88.rev.sfr.net [88.219.200.152])
	(authenticated bits=0)
	by boipeva.ensmp.fr (8.15.2/8.15.1/JMMC-22/Oct/2013) with ESMTPSA id u1T6GJrv000623
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 07:16:20 +0100
Date: Mon, 29 Feb 2016 07:16:15 +0100 (CET)
From: fabien@apache.org
X-X-Sender: fabien@sto
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: Re: access control for dynamic hosts
In-Reply-To: <CAA=k7mUcBTXkMsk99P1akQBkR_ayFwScP1PQzQDZwknPHDS4rw@mail.gmail.com>
Message-ID: <alpine.DEB.2.10.1602290712290.11546@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto> <CAA=k7mUMDyTNdfagxsejQM49DF8jh5rw+CmDy3_4fJ3MY0sgCQ@mail.gmail.com> <alpine.DEB.2.10.1601142224300.1035@sto> <CAA=k7mUcBTXkMsk99P1akQBkR_ayFwScP1PQzQDZwknPHDS4rw@mail.gmail.com>
User-Agent: Alpine 2.10 (DEB 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Miltered: at boipeva.ensmp.fr with ID 56D3E233.000 by Joe's j-chkmail (http : // j-chkmail dot ensmp dot fr)!
X-j-chkmail-Auth: USER-ID fabien.coelho
X-j-chkmail-Enveloppe: 56D3E233.000 from 152.200.219.88.rev.sfr.net/152.200.219.88.rev.sfr.net/88.219.200.152/cri.ensmp.fr/<fabien@apache.org>


Hello,

>> Maybe the reverse dns is working on your test address?
>
> I checked it and yes it does work that way. I never knew it did.

Indeed.

This feature makes sense because it allows to allow a full domain, say 
"apache.org", any host of which the inverse dns resolves to the domain can 
then be allowed.

But this also means that if the reverse dns is not controlled, say with 
the dynamic dns and a moving ip, ip control does not work, hence my 
proposal for a lesser version which just checks that a client ip is 
allowed just by resolving a name.

-- 
Fabien.

From dev-return-85696-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 10:05:32 2016
Return-Path: <dev-return-85696-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F0D6D18554
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 10:05:32 +0000 (UTC)
Received: (qmail 5086 invoked by uid 500); 29 Feb 2016 10:05:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5003 invoked by uid 500); 29 Feb 2016 10:05:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 4993 invoked by uid 99); 29 Feb 2016 10:05:31 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 10:05:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 55B62C0140
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 10:05:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.031
X-Spam-Level:
X-Spam-Status: No, score=-1.031 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_LOW=-0.7, RP_MATCHES_RCVD=-0.329,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id LxnWfGCw23ip for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 10:05:30 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 803E35F1B9
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 10:05:29 +0000 (UTC)
Subject: Re: access control for dynamic hosts
To: dev@httpd.apache.org
References: <alpine.DEB.2.10.1512200931040.29581@sto>
 <CAA=k7mUMDyTNdfagxsejQM49DF8jh5rw+CmDy3_4fJ3MY0sgCQ@mail.gmail.com>
 <alpine.DEB.2.10.1601142224300.1035@sto>
 <CAA=k7mUcBTXkMsk99P1akQBkR_ayFwScP1PQzQDZwknPHDS4rw@mail.gmail.com>
 <alpine.DEB.2.10.1602290712290.11546@sto>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
Organization: the lounge interactive design
Message-ID: <56D417E2.3030408@thelounge.net>
Date: Mon, 29 Feb 2016 11:05:22 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <alpine.DEB.2.10.1602290712290.11546@sto>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="1jPWFciEGQGCSHA4ER76atrwtRjjXVviH"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--1jPWFciEGQGCSHA4ER76atrwtRjjXVviH
Content-Type: multipart/mixed; boundary="7dUo9lTk9LF8LKDvUfkSk0pUqrmNAgiC5"
From: Reindl Harald <h.reindl@thelounge.net>
To: dev@httpd.apache.org
Message-ID: <56D417E2.3030408@thelounge.net>
Subject: Re: access control for dynamic hosts
References: <alpine.DEB.2.10.1512200931040.29581@sto>
 <CAA=k7mUMDyTNdfagxsejQM49DF8jh5rw+CmDy3_4fJ3MY0sgCQ@mail.gmail.com>
 <alpine.DEB.2.10.1601142224300.1035@sto>
 <CAA=k7mUcBTXkMsk99P1akQBkR_ayFwScP1PQzQDZwknPHDS4rw@mail.gmail.com>
 <alpine.DEB.2.10.1602290712290.11546@sto>
In-Reply-To: <alpine.DEB.2.10.1602290712290.11546@sto>

--7dUo9lTk9LF8LKDvUfkSk0pUqrmNAgiC5
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: quoted-printable



Am 29.02.2016 um 07:16 schrieb fabien@apache.org:
>>> Maybe the reverse dns is working on your test address?
>>
>> I checked it and yes it does work that way. I never knew it did.
>
> Indeed.
>
> This feature makes sense because it allows to allow a full domain, say
> "apache.org", any host of which the inverse dns resolves to the domain
> can then be allowed.
>
> But this also means that if the reverse dns is not controlled, say with=

> the dynamic dns and a moving ip, ip control does not work, hence my
> proposal for a lesser version which just checks that a client ip is
> allowed just by resolving a name.

that is unsafe

it takes me exactly 5 seconds to add a PTR "myserver.apache.org" to one=20
of our public ip-addresses if i would like to and nobody can do anything =

against it except check if the A record matchs because that can only be=20
controlled by the domain owner

the same for anybody else who has a /24 or bigger network and the=20
reverse dns delegated to his own namservers - i would not do such=20
things, others would and so it's nothing to hand authentication on it



--7dUo9lTk9LF8LKDvUfkSk0pUqrmNAgiC5--

--1jPWFciEGQGCSHA4ER76atrwtRjjXVviH
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlbUF+IACgkQhmBjz394Ank52ACbB6QIRaRMyG+7QRULTkxgS1I5
3TkAnRto2bjxAIJaKvxtMSXfhmOjtyt+
=wC0b
-----END PGP SIGNATURE-----

--1jPWFciEGQGCSHA4ER76atrwtRjjXVviH--

From dev-return-85697-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 12:06:33 2016
Return-Path: <dev-return-85697-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6835D1914B
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 12:06:33 +0000 (UTC)
Received: (qmail 45913 invoked by uid 500); 29 Feb 2016 12:06:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 45839 invoked by uid 500); 29 Feb 2016 12:06:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45829 invoked by uid 99); 29 Feb 2016 12:06:32 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 12:06:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 834331805AF
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 12:06:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id FZCjPxUh4pKC for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 12:06:31 +0000 (UTC)
Received: from resqmta-po-11v.sys.comcast.net (resqmta-po-11v.sys.comcast.net [96.114.154.170])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 053F25FB43
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 12:06:30 +0000 (UTC)
Received: from resomta-po-05v.sys.comcast.net ([96.114.154.229])
	by resqmta-po-11v.sys.comcast.net with comcast
	id QC6E1s0024xDoy801C6Qdh; Mon, 29 Feb 2016 12:06:24 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-05v.sys.comcast.net with comcast
	id QC6N1s00H2U0RYt01C6Pi2; Mon, 29 Feb 2016 12:06:23 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Suexec permissions question
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <ae1bcada9ff89e4488e240762f985a8a@heavyspace.ca>
Date: Mon, 29 Feb 2016 07:06:22 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <0D9749BE-0B90-4FE8-9A09-7C94F612D996@jaguNET.com>
References: <ae1bcada9ff89e4488e240762f985a8a@heavyspace.ca>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1456747584;
	bh=E3NTK5P34ivu2kvwZ7nRTJGANWTvGSQEqMOv5NXmUeM=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=kKp6Ddm59sRHXmH5TjJ93qX4rKC9MLOwth7LAiZR29rs9BqHXwS/nXS1uMY8/CNSQ
	 vRrgjXpzKZ6xPpgRJxTvxY3hiJzVS+4z6/yXLfXmjK3r7IKiFqRO11oxnW0lNLKW16
	 P9uVoj5QnSBaLxLbHe167mkeUnVs3LTFcKbrVAmaao7mxRloIIYIOoMZ2UUj/INy2L
	 aWZFGgPhH8GOhrJsVwuRUGpyMBcwDKkM0qiV282gFzlQh+p2yC1d5SDjGjRXEzJshX
	 t3bRcQ2khbFFK8UkxI4raWQENIF2t/ubEGOv9qNu4F4mCYybWJw7D3Nh1Vop5Ut4XO
	 Ycqs8QQBTtQxw==


> On Feb 26, 2016, at 7:50 PM, monttyle@heavyspace.ca wrote:
>=20
> This is not a question on how to use suexec, that's fairly clear.  The =
strict, hardwired conditions its willing to suexec under are also =
spelled out pretty clear.  My question is the nature of these =
requirements -- why they're the way they are.  The user and group =
requirements specifically.
>=20
> suexec insists that the file being executed needs to be the same owner =
and group as what the web server will be running as after suexec.  =
Doesn't this requirement make things *less* secure?  You can't really =
protect a file against its own owner overwriting it.  The same =
requirement is on the folder, leaving the web server two legal chmods =
away from allowing an exploit to create, delete, and modify files inside =
the vhost at will.

Those conditions are hardly unique. The other major suexec-like
script, cgiwrapd, also had the same set of conditions and
requirements.

First of all, the idea is that the admin "trusts" whatever users are
allowed to use suexec. It's also understood that the risk associated
is directly related to how well tied-down the user account itself
is. Finally, it's to ensure that when running as 'foo:bar", I can
only access files that are owned by 'foo:bar'. If I am 'foo:bar'
and I am trying to run a file owned by 'kirk:trek' then something
is hinky, and we don't want to allow it.=

From dev-return-85698-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 12:09:38 2016
Return-Path: <dev-return-85698-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9295019173
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 12:09:38 +0000 (UTC)
Received: (qmail 51058 invoked by uid 500); 29 Feb 2016 12:09:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50993 invoked by uid 500); 29 Feb 2016 12:09:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50983 invoked by uid 99); 29 Feb 2016 12:09:37 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 12:09:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8A45B180361
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 12:09:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.161
X-Spam-Level: ***
X-Spam-Status: No, score=3.161 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_BL=0.01, RCVD_IN_MSPIKE_L3=2.499, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id jw4D7HpyS9Jq for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 12:09:36 +0000 (UTC)
Received: from resqmta-po-01v.sys.comcast.net (resqmta-po-01v.sys.comcast.net [96.114.154.160])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 7A7ED5F393
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 12:09:36 +0000 (UTC)
Received: from resomta-po-01v.sys.comcast.net ([96.114.154.225])
	by resqmta-po-01v.sys.comcast.net with comcast
	id QC9b1s0044s37d401C9bXK; Mon, 29 Feb 2016 12:09:35 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-01v.sys.comcast.net with comcast
	id QC9a1s0092U0RYt01C9a1S; Mon, 29 Feb 2016 12:09:35 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: Thinking about a T&R of 2.4.19 soonish
Message-Id: <70F7BCBB-73CA-4993-A270-38A3220CE8B5@jaguNET.com>
Date: Mon, 29 Feb 2016 07:09:34 -0500
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1456747775;
	bh=n1NFMZ8SOegNfv4PZfvRzIvL5mUm9eBWU5/eWHUGVuI=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=VbHMe+YUwI2A3FuosgD1cTDojejqglm5tTVr/HNBRRjAS+piN7mx45WEDvTbUOMg5
	 lR4E59yhMkYfUX4vSn4Z0sNaY3IzBCcSvDo33PiadH3fnBIIw3/7J0WWsIoXnuoPtQ
	 JPxq9v6MN6Qk45fG/xnX8i1y69ojHgnGBnWQtbPU941It3raQ/83i9DQqQqqNw5cm3
	 kunwdmXOPd5U9q/52RXsNFuLVkmWz/hTn16L5KpZ9M/vI8aGluUakSG4mw9Fr752wJ
	 9og7G0b6i8UMLBolCHn/mNFMdoodEnyeDooGrOIaEemypRquyGRbepa/9HoeuyzUgj
	 zXzsjn5whmcvw==

It's about time for us to consider another release of the 2.4
branch... We've accumulated some good stuff, with some other
potential backports which could be *very* cool folded into
2.4.19...

Looking at early/mid March and I'll be serving as RM.

Get those votes and backports in!

From dev-return-85699-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 12:10:35 2016
Return-Path: <dev-return-85699-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5F4E6191C0
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 12:10:35 +0000 (UTC)
Received: (qmail 54682 invoked by uid 500); 29 Feb 2016 12:10:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54587 invoked by uid 500); 29 Feb 2016 12:10:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54573 invoked by uid 99); 29 Feb 2016 12:10:34 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 12:10:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 6E471C0140
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 12:10:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.262
X-Spam-Level:
X-Spam-Status: No, score=0.262 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RDNS_DYNAMIC=0.363, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=LiJMGvRS;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=LiJMGvRS
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 6EvUZmQXdErE for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 12:10:32 +0000 (UTC)
Received: from mail.greenbytes.de (b2b-5-10-171-186.unitymedia.biz [5.10.171.186])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 4162A5F642
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 12:10:32 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id A225F15A0AF3; Mon, 29 Feb 2016 13:10:24 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456747824; bh=UL798YirQVEz9RQRHWXrzFHPfISzZtuv5pF2LG28hQM=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=LiJMGvRSuYOu9Ar817BsXtnlkvcMyv+aaE7jsdJAjgpn/gfYlRJOyUy6ECJeLs90V
	 a5fai2vPUbOevc4sxiZY2JsOc+pB/FWlfnW06fLFueXwZOzdcowOlufMEjjUbh21DG
	 VmEfzrUvMhYxG9JB1tibxENw0KnhsYG/1Am8mFG4=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 1385C15A0638
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 13:10:24 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456747824; bh=UL798YirQVEz9RQRHWXrzFHPfISzZtuv5pF2LG28hQM=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=LiJMGvRSuYOu9Ar817BsXtnlkvcMyv+aaE7jsdJAjgpn/gfYlRJOyUy6ECJeLs90V
	 a5fai2vPUbOevc4sxiZY2JsOc+pB/FWlfnW06fLFueXwZOzdcowOlufMEjjUbh21DG
	 VmEfzrUvMhYxG9JB1tibxENw0KnhsYG/1Am8mFG4=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Thinking about a T&R of 2.4.19 soonish
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <70F7BCBB-73CA-4993-A270-38A3220CE8B5@jaguNET.com>
Date: Mon, 29 Feb 2016 13:10:32 +0100
Content-Transfer-Encoding: 7bit
Message-Id: <28124FCA-5A18-4614-9EA9-9E75BFD4ECFA@greenbytes.de>
References: <70F7BCBB-73CA-4993-A270-38A3220CE8B5@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Easy: +1

(and thanks for RMing yet again)
> Am 29.02.2016 um 13:09 schrieb Jim Jagielski <jim@jaguNET.com>:
> 
> It's about time for us to consider another release of the 2.4
> branch... We've accumulated some good stuff, with some other
> potential backports which could be *very* cool folded into
> 2.4.19...
> 
> Looking at early/mid March and I'll be serving as RM.
> 
> Get those votes and backports in!


From dev-return-85700-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 12:43:49 2016
Return-Path: <dev-return-85700-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CCDDC19384
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 12:43:49 +0000 (UTC)
Received: (qmail 3932 invoked by uid 500); 29 Feb 2016 12:43:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3866 invoked by uid 500); 29 Feb 2016 12:43:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3856 invoked by uid 99); 29 Feb 2016 12:43:33 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 12:43:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 2D506C0140
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 12:43:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id E97Jq_c4eNi7 for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 12:43:31 +0000 (UTC)
Received: from mail-qg0-f45.google.com (mail-qg0-f45.google.com [209.85.192.45])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 526755F1D5
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 12:43:30 +0000 (UTC)
Received: by mail-qg0-f45.google.com with SMTP id d32so57884887qgd.0
        for <dev@httpd.apache.org>; Mon, 29 Feb 2016 04:43:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc;
        bh=Z/jLUyjDG33uWuSn0ZwQP+eDCrrjTaUat6FDXKTQYKs=;
        b=0IYpafRFersXCn+pOiQsS+r1Zej569dgUbjcUjPAh7uS6ZJH54EzPXqRpLL2IwaR2M
         trmaBdQ7V5ujNLZOhqzhLzzFf58qX5acUDjpHlzkS7EIY0dpAgvXkOl0iJKm59EqkPxZ
         M/Xw7wXIfPm6b3kZS+92jbpi33t6HiVN4QKPf4ltTO94+819K61AHglfreOdL76P9rCr
         +jol1iJsk3pQvV8G35vx2TUy+jES9O0jHLFdCkhZnsZQ3k1QnitSXyv6XRIfAu90JmwP
         UYK+l6FdQQMEbOaA+kpbdu7Q/SoNrYFP+xkdifiFiXhee4lO0enn/gj7Oplp1cW8RP/j
         u8rg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc;
        bh=Z/jLUyjDG33uWuSn0ZwQP+eDCrrjTaUat6FDXKTQYKs=;
        b=IVE/ksLad2FQTUaOZpcQvthrMOn2beNR2+HH0S4sAl8H4vEPsOLYDu32j+/J+0pKYf
         wMUAvp0IK5wRCumb389KqnD8HHuW4YMjwSgBDAjC3s8UFbcWsghr7BmUgYbL3/BQjqlE
         ATrHk4TcveD0eKRXMOfc87Fjhnw5KnBQLolVkJb2HD5lCJfhUjbn0Gkyi04BA6rm+/Af
         adQO7nVMhR9MZWcUtfzLnGOvKLO7hIPwvOdmSYldw5TN+fxdcxGnRr9zRssSdIR5+s9I
         38j6qxQJArvPaxZWYGQLHGovYT0ZxSPu+PDCRzBzUtrEHcR6HH0I//W5wQ9+OAkbbx04
         263A==
X-Gm-Message-State: AD7BkJLZtv9hYkc2PC5wGoHfZh5RWkhkbQRmo57Xe65/ilCUPskqomcCjVC/aEk+o1Wxy1tz5jC2TxOIcd4W1g==
MIME-Version: 1.0
X-Received: by 10.140.82.70 with SMTP id g64mr7022314qgd.14.1456749809373;
 Mon, 29 Feb 2016 04:43:29 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Mon, 29 Feb 2016 04:43:29 -0800 (PST)
In-Reply-To: <CAJA1Y2ZBVOWr2ThF-xpFZjFRdPGgaLRqu97bQBNMbX+AxASEhQ@mail.gmail.com>
References: <CAJA1Y2ZBVOWr2ThF-xpFZjFRdPGgaLRqu97bQBNMbX+AxASEhQ@mail.gmail.com>
Date: Mon, 29 Feb 2016 13:43:29 +0100
Message-ID: <CAKQ1sVPS_9C6mnpxYzSHCZD7YtY1HPBhnJUg5F48N+GjUZmG0g@mail.gmail.com>
Subject: Re: Bug 57227 - Patch still not in main stream
From: Yann Ylavic <ylavic.dev@gmail.com>
To: Bruno Raoult <braoult@gmail.com>
Cc: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi,

On Mon, Feb 29, 2016 at 1:31 PM, Bruno Raoult <braoult@gmail.com> wrote:
>
> I did find a bug in mod_autoindex more than one year ago, about missing CSS
> class, and proposed a patch at same time
> (https://bz.apache.org/bugzilla/show_bug.cgi?id=57227).
> It appears that this patch is still not applied in recent versions.

It seems that it was merge in version 2.4.12, with
http://svn.apache.org/r1651644 (no changelog associated, though).

Regards,
Yann.

From dev-return-85701-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 13:19:46 2016
Return-Path: <dev-return-85701-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 87D2019484
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 13:19:46 +0000 (UTC)
Received: (qmail 80935 invoked by uid 500); 29 Feb 2016 13:19:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 80864 invoked by uid 500); 29 Feb 2016 13:19:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80854 invoked by uid 99); 29 Feb 2016 13:19:46 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 13:19:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 9145E180361
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 13:19:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.223
X-Spam-Level:
X-Spam-Status: No, score=0.223 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=united-security-providers.ch
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id CaZjrA3CLzDc for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 13:19:44 +0000 (UTC)
Received: from chzhuspmr01.united-security-providers.ch (chzhuspmr01.united-security-providers.ch [185.60.180.10])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id B997C5FB63
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 13:19:43 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; d=united-security-providers.ch; s=usp; c=relaxed/relaxed;
	h=from:to:subject:thread-topic:thread-index:date:message-id:references:in-reply-to:accept-language:x-ms-has-attach:x-ms-tnef-correlator:x-originating-ip:content-language:mime-version:content-type;
	bh=pJQtDz5yBXCJ+89Yv0qfRISqZSiI1SmJMl7r94vGtKo=;
	b=eFzUE/dJZkV8lAwQx/KtxImD5ysvfHlGeCNjXsn2jOszHR+MRQvpQXpmKeA8vtq7VjRjAiT4r12mpRGjsHCwVHTpNy86uHaMpOLQ6xIPq0CFyHdfnQMDcpxknITTI6FVH281+H9iiLe5zyCsoPziqURIOLFqUEJYwB9Rbn87Sk41vABSfd1NuMPGPZjrWPgOTTP9snc3P3RSHQTab3K2lLugyYw+5G1ttWXOwAWuP4Ui+uh2iffk8z4X4cn9QGfvPYFQtz/jH1fO/4/irm1RZ9fAtePi+pd11lCTU5yBbv2weoMBuvufgY0Fj8IJJ2pfdNruYnQ8x+GDL9dBy2kCRQ==
Received: from uspSEPP01.united-security-providers.ch ([192.168.4.23])
	by chzhuspmr01.united-security-providers.ch  with ESMTP id u1TDJZGO009214-u1TDJZGQ009214
	(version=TLSv1.2 cipher=AES256-SHA bits=256 verify=CAFAIL)
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 14:19:35 +0100
Received: from uspEXCH02.u-s-p.local (unknown [192.168.1.12])
	by uspSEPP01.united-security-providers.ch (Postfix) with ESMTPS
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 14:19:35 +0100 (CET)
Received: from USPEXCH02.u-s-p.local ([fe80::c4ef:3a24:9241:72f6]) by
 uspEXCH02.u-s-p.local ([::1]) with mapi id 14.03.0279.002; Mon, 29 Feb 2016
 14:19:35 +0100
From: "Lenk, Micha" <Micha.Lenk@united-security-providers.ch>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: Thinking about a T&R of 2.4.19 soonish
Thread-Topic: Thinking about a T&R of 2.4.19 soonish
Thread-Index: AQHRcuoYcSjLD+2D7kKGfTtma7aSfp9DAYmQ
Date: Mon, 29 Feb 2016 13:19:34 +0000
Message-ID: <49190C3D718E3B4FB7B0EABD006A153B0BB91DB0@uspEXCH02.u-s-p.local>
References: <70F7BCBB-73CA-4993-A270-38A3220CE8B5@jaguNET.com>
In-Reply-To: <70F7BCBB-73CA-4993-A270-38A3220CE8B5@jaguNET.com>
Accept-Language: de-CH, en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [172.17.2.78]
Content-Language: de-DE
MIME-Version: 1.0
Content-Type: multipart/signed; protocol="application/x-pkcs7-signature"; micalg="sha1"; boundary="----F873FA6664B6BA4F1B80D0776156B895"

This is an S/MIME signed message

------F873FA6664B6BA4F1B80D0776156B895
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-version: 1.0

RldJVywgSSBhbSBhIGJpdCBjb25jZXJuZWQgYWJvdXQgaHR0cHM6Ly9iei5hcGFjaGUub3JnL2J1
Z3ppbGxhL3Nob3dfYnVnLmNnaT9pZD01OTA0NS4NCklmIHRoaXMgd2lsbCBiZSBmaXhlZCB3aXRo
IDIuNC4xOSwgcGxlYXNlIGdvIGFoZWFkLiA6KQ0KDQpSZWdhcmRzLA0KTWljaGENCg0KPiAtLS0t
LVVyc3Byw7xuZ2xpY2hlIE5hY2hyaWNodC0tLS0tDQo+IFZvbjogSmltIEphZ2llbHNraSBbbWFp
bHRvOmppbUBqYWd1TkVULmNvbV0NCj4gR2VzZW5kZXQ6IE1vbnRhZywgMjkuIEZlYnJ1YXIgMjAx
NiAxMzoxMA0KPiBBbjogaHR0cGQgPGRldkBodHRwZC5hcGFjaGUub3JnPg0KPiBCZXRyZWZmOiBU
aGlua2luZyBhYm91dCBhIFQmUiBvZiAyLjQuMTkgc29vbmlzaA0KPiANCj4gSXQncyBhYm91dCB0
aW1lIGZvciB1cyB0byBjb25zaWRlciBhbm90aGVyIHJlbGVhc2Ugb2YgdGhlIDIuNA0KPiBicmFu
Y2guLi4gV2UndmUgYWNjdW11bGF0ZWQgc29tZSBnb29kIHN0dWZmLCB3aXRoIHNvbWUgb3RoZXIN
Cj4gcG90ZW50aWFsIGJhY2twb3J0cyB3aGljaCBjb3VsZCBiZSAqdmVyeSogY29vbCBmb2xkZWQg
aW50bw0KPiAyLjQuMTkuLi4NCj4gDQo+IExvb2tpbmcgYXQgZWFybHkvbWlkIE1hcmNoIGFuZCBJ
J2xsIGJlIHNlcnZpbmcgYXMgUk0uDQo+IA0KPiBHZXQgdGhvc2Ugdm90ZXMgYW5kIGJhY2twb3J0
cyBpbiENCg==

------F873FA6664B6BA4F1B80D0776156B895
Content-Type: application/x-pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"

MIIVfwYJKoZIhvcNAQcCoIIVcDCCFWwCAQExCzAJBgUrDgMCGgUAMAsGCSqGSIb3
DQEHAaCCEqswgga+MIIEpqADAgECAg8FRNZOrR7TNtUyQF0AuTYwDQYJKoZIhvcN
AQELBQAwRzELMAkGA1UEBhMCQ0gxFTATBgNVBAoTDFN3aXNzU2lnbiBBRzEhMB8G
A1UEAxMYU3dpc3NTaWduIFNpbHZlciBDQSAtIEcyMB4XDTE0MDkxOTIwMzY0OVoX
DTI5MDkxNTIwMzY0OVowVjELMAkGA1UEBhMCQ0gxFTATBgNVBAoTDFN3aXNzU2ln
biBBRzEwMC4GA1UEAxMnU3dpc3NTaWduIFBlcnNvbmFsIFNpbHZlciBDQSAyMDE0
IC0gRzIyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyzmxOYX++smh
vMODqQ5KLYRyHv9oxafEHewP16iLEx6z0RaLQNwPU28BPezoZLWX24O8qKjAhDhY
XgMUK+bKMO8AsusTORmSRyohAOVyzcIxYg7MVir/d8RjjJjCb3jXtbbM6X0fM6aR
BSr+0VLW9Oyc/k1MalLhhXZiu7lo5lJj/MEhkZJdGdjcgNEZ40kWVwIOGUSFqynJ
L/rGbWsKofb3/2thNRUmlJQCaSVdafe9XmuC2ZAMBvlDBSJJ6zbQIFpjEOM4IdV/
FitBikZ68mfopNC6Hn8kJ3WYlEktVsRUM5GdYvnVX95bqRWYnJRTwYDpCRcVtBuA
KTKh0K8TpwIDAQABo4ICljCCApIwDgYDVR0PAQH/BAQDAgEGMBIGA1UdEwEB/wQI
MAYBAf8CAQAwHQYDVR0OBBYEFPDHozKRtevKtVh3FadOvhpdYUMlMB8GA1UdIwQY
MBaAFBegzcHkQbY6WzvLRZ29HMKY+oZYMIH/BgNVHR8EgfcwgfQwR6BFoEOGQWh0
dHA6Ly9jcmwuc3dpc3NzaWduLm5ldC8xN0EwQ0RDMUU0NDFCNjNBNUIzQkNCNDU5
REJEMUNDMjk4RkE4NjU4MIGooIGloIGihoGfbGRhcDovL2RpcmVjdG9yeS5zd2lz
c3NpZ24ubmV0L0NOPTE3QTBDREMxRTQ0MUI2M0E1QjNCQ0I0NTlEQkQxQ0MyOThG
QTg2NTglMkNPPVN3aXNzU2lnbiUyQ0M9Q0g/Y2VydGlmaWNhdGVSZXZvY2F0aW9u
TGlzdD9iYXNlP29iamVjdENsYXNzPWNSTERpc3RyaWJ1dGlvblBvaW50MGEGA1Ud
IARaMFgwVgYJYIV0AVkBAwEGMEkwRwYIKwYBBQUHAgEWO2h0dHA6Ly9yZXBvc2l0
b3J5LnN3aXNzc2lnbi5jb20vU3dpc3NTaWduLVNpbHZlci1DUC1DUFMucGRmMIHG
BggrBgEFBQcBAQSBuTCBtjBkBggrBgEFBQcwAoZYaHR0cDovL3N3aXNzc2lnbi5u
ZXQvY2dpLWJpbi9hdXRob3JpdHkvZG93bmxvYWQvMTdBMENEQzFFNDQxQjYzQTVC
M0JDQjQ1OURCRDFDQzI5OEZBODY1ODBOBggrBgEFBQcwAYZCaHR0cDovL29jc3Au
c3dpc3NzaWduLm5ldC8xN0EwQ0RDMUU0NDFCNjNBNUIzQkNCNDU5REJEMUNDMjk4
RkE4NjU4MA0GCSqGSIb3DQEBCwUAA4ICAQDDeadXt3utUWj1RIxBlSgBfHTWO2q8
be+n1005mR1ojcoI2dBxsRk1k2+CxhxJuFHuTPlsCm/Ypfv++zBeANKUq8QSUbqq
iqtq3RnXK0r3FrJrUc90Wymic96X/thPICF9aQywUOWNWIyALuUXHN1jeqrvBfnD
aZ7kjHFiXELuOvLN4BLvi1zpzlMoMuyVCxlUoiGN+n9Qp0+8GXuya4wpP3c+yiPH
aVpBnX1mMW96cXnaqWU663/XENULX1QZfM43JSSEUNCvQDTCX5LiepHzL0JHG588
QvvZX6W8cEWO76A5kPWheGzXwGdZGeEA3lz8eOhP3buskS5yi/zqR29DKLy7uY6U
vvpQ3VCTG0wYtnb/w0cKWbTNbVXYarZfyS/BlDY+vq5ANQYg7eACTC00RQ5Dr6L0
2JAV5dDAm0RArjyPk1G8mWhzaXt1WJm31ARP3/GCcREde/wTHXdlVWPXUnJ83TFH
hqeV2KwmcT0j5hI79H+alob+K+qg8yYNdcYWjDEg5xFHoeeparClsoEe3D3QoeNu
1fBmphx915KITQAHC3Hnc+dz5FRlafw3jfEeb3Dup2yzUkVnWdYFSLEh6Zco2dn0
tKagZyM2vGBHDlwof12TijG6jTE2FMd6Qp1vIMFsKvgWD2rZAJQyuz1VscXDoQ2x
eXdUHeAzgn7u6jCCBb0wggOloAMCAQICCE8b1C9Uuy9LMA0GCSqGSIb3DQEBBQUA
MEcxCzAJBgNVBAYTAkNIMRUwEwYDVQQKEwxTd2lzc1NpZ24gQUcxITAfBgNVBAMT
GFN3aXNzU2lnbiBTaWx2ZXIgQ0EgLSBHMjAeFw0wNjEwMjUwODMyNDZaFw0zNjEw
MjUwODMyNDZaMEcxCzAJBgNVBAYTAkNIMRUwEwYDVQQKEwxTd2lzc1NpZ24gQUcx
ITAfBgNVBAMTGFN3aXNzU2lnbiBTaWx2ZXIgQ0EgLSBHMjCCAiIwDQYJKoZIhvcN
AQEBBQADggIPADCCAgoCggIBAMTxh3/TeDH3OMn4w5lDvMf3vDfnTnG6S4+lcx1c
bpiuA1euODdDLxc9H8jOaBDBeK4ZAysQ+ix5g/bouWi5VfIERKc5+fwEix7xok0n
+WF7urflohO262E+0GzR5vv6Xu0dtJ6gNVuhksvwSZL+hQoFPubZC+JPu9yVN/yR
6TI1ItEfOk4nhZ2wFZQy2mENR01gQq6SR+iDWlBY6YqLuV2h3N2ZSh82Z7tI5IO2
N+tIOq8PZ48XB+gEyu9qMYfUwLb5lHF7Z2S4tpFKQntlLjBqDPWQ7pXm8s2C7Nmh
Suz2skvlRYXmbXiTBC6cgm02qcQxZB+Ggwsq9DUKeMlVz0GwR+kwn5m+YagGhLko
el842RupOLCDf3PBwztIKoIPIZu4zKg1w4Qbg7M+vqSVaQE6iQB4BNnJ9JkZq1Z+
W4uGORWRpBAsCTKAYLOTwCq2GAudfo1J8hBKf/nVRi8ZkqOZpyasu4w85g68Rwfc
c1HxcGQvCPm0Rx0wbETqKTeFkmhmvIM4/ns5LtNQ8B/7XmC2qab6J0Hxmxhy8vWE
dErJZ8RUrkhk34zRbrAd4QePCB6ZnHHpTNil90cSH3TRUZ6G88KiI0ALc9tLpudz
BozBoOnBWaxG+uYv+M9xnEZtucQVjTh5A0VI78Rd1wjuhzkihrIND1hD93GpSC79
6tYfAgMBAAGjgawwgakwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8w
HQYDVR0OBBYEFBegzcHkQbY6WzvLRZ29HMKY+oZYMB8GA1UdIwQYMBaAFBegzcHk
QbY6WzvLRZ29HMKY+oZYMEYGA1UdIAQ/MD0wOwYJYIV0AVkBAwEBMC4wLAYIKwYB
BQUHAgEWIGh0dHA6Ly9yZXBvc2l0b3J5LnN3aXNzc2lnbi5jb20vMA0GCSqGSIb3
DQEBBQUAA4ICAQBzxoHgJ9ItD+CVMOKaQX9QLF9fYmGphmppGAx0SdZdhOpBUhhv
WK1QViBqxr0oaViR3JERNak6HbwapWCe2B9/RZFp2X67eHLBBg8qzo+FcGGsoM0L
uDkpVoQyToa7PcQq2dcfcu7+UaEiQbFxAmMagrBiq15XEh/fy911oMBdeZCMG+BQ
5t4x/ph7cF+lkNit+AK2b9Ng3UBLIsU9rTp6nxoaR5F5M7qC3DJpA5ZuH0vwcf7j
Z3Kgsb9ci+T6mSLHhLkbjSOXP+0l4M9lu/VhBO/dHrJaQSJaoZ9dLOhbyW2pDAx4
qmDGVo8BWgxovGkZecQffpcFv8XpJFFe1NVLU+3ZI1o2A2WjwQOtQTDzRhuFkK9l
tdWx5BZbeHUdl3ptWakqj3vew4eJEJlJc3jIPb1RNXQq1fF+aRsquzu9JbiaWj1y
YZBmh+4M1k3UEXQLav4LA/yjVVeJ/krLrlsXBcjyjSMxUzjSLWo/grmNCGr3XkF0
bsMRfgesKWCRPzjKVxANvTAvx6XmQaDargWHmqCkZWxMCQyJurjTucCTijD6jeWa
axUBTmeq2mJWPoQIZtLENn2nPhD8iODUgOUAvarzTgajemr5YnLjCU/rmw4BI/Gf
u3zc3GwRlyWy8rRjFNIGKmeMg/XO6gfYmmoe7OQKuypM6wlgOc7KYtgubjCCBiQw
ggUMoAMCAQICEAC86xtk9TkHtKsGgVT7lmIwDQYJKoZIhvcNAQELBQAwVjELMAkG
A1UEBhMCQ0gxFTATBgNVBAoTDFN3aXNzU2lnbiBBRzEwMC4GA1UEAxMnU3dpc3NT
aWduIFBlcnNvbmFsIFNpbHZlciBDQSAyMDE0IC0gRzIyMB4XDTE1MTExODE3NTk0
OFoXDTE2MTExODE3NTk0OFowZDEqMCgGA1UEAxMhU2VjdXJlIE1haWw6IFNFUFBt
YWlsIENlcnRpZmljYXRlMTYwNAYJKoZIhvcNAQkBFidtaWNoYS5sZW5rQHVuaXRl
ZC1zZWN1cml0eS1wcm92aWRlcnMuY2gwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQDugScrbwrOygD/+F107+kXS5F24WBmApvSFJNW4wyHY7okV7fW8j0S
JHEDIT2C/Y2XM7uD0AnxXkxRdAFQlOJn3aUpf85km81Ln6wr2/k5k4kRGqi39E/C
YSy0F9jnDfEGDSwiZo0YZGYEcftNNhrb2PWeh0006RFQjlZiCKBvKvmT39bJ702E
1Rm9Nxiumx17N8YqBW+EceKpBcuZ3avWJdgrtEl5IJLTkq6QIn98ZWgPSGO9qtYv
AleU9iqihPLaed64MdboLEJo1oMOq45XzUVCVUH6mCfRZgxaWiTxbLbKlMb/lHtb
f9ovfYqn4zc80+dYLO8Vm1R+NT1mqi+TAgMBAAGjggLeMIIC2jAyBgNVHREEKzAp
gSdtaWNoYS5sZW5rQHVuaXRlZC1zZWN1cml0eS1wcm92aWRlcnMuY2gwDgYDVR0P
AQH/BAQDAgSwMBMGA1UdJQQMMAoGCCsGAQUFBwMEMB0GA1UdDgQWBBS/jrly67bv
WQYEUhRbZayguYL7gDAfBgNVHSMEGDAWgBTwx6MykbXryrVYdxWnTr4aXWFDJTCB
/wYDVR0fBIH3MIH0MEegRaBDhkFodHRwOi8vY3JsLnN3aXNzc2lnbi5uZXQvRjBD
N0EzMzI5MUI1RUJDQUI1NTg3NzE1QTc0RUJFMUE1RDYxNDMyNTCBqKCBpaCBooaB
n2xkYXA6Ly9kaXJlY3Rvcnkuc3dpc3NzaWduLm5ldC9DTj1GMEM3QTMzMjkxQjVF
QkNBQjU1ODc3MTVBNzRFQkUxQTVENjE0MzI1JTJDTz1Td2lzc1NpZ24lMkNDPUNI
P2NlcnRpZmljYXRlUmV2b2NhdGlvbkxpc3Q/YmFzZT9vYmplY3RDbGFzcz1jUkxE
aXN0cmlidXRpb25Qb2ludDBhBgNVHSAEWjBYMFYGCWCFdAFZAQMBBjBJMEcGCCsG
AQUFBwIBFjtodHRwOi8vcmVwb3NpdG9yeS5zd2lzc3NpZ24uY29tL1N3aXNzU2ln
bi1TaWx2ZXItQ1AtQ1BTLnBkZjCB2QYIKwYBBQUHAQEEgcwwgckwZAYIKwYBBQUH
MAKGWGh0dHA6Ly9zd2lzc3NpZ24ubmV0L2NnaS1iaW4vYXV0aG9yaXR5L2Rvd25s
b2FkL0YwQzdBMzMyOTFCNUVCQ0FCNTU4NzcxNUE3NEVCRTFBNUQ2MTQzMjUwYQYI
KwYBBQUHMAGGVWh0dHA6Ly9zaWx2ZXItcGVyc29uYWwtZzIub2NzcC5zd2lzc3Np
Z24ubmV0L0YwQzdBMzMyOTFCNUVCQ0FCNTU4NzcxNUE3NEVCRTFBNUQ2MTQzMjUw
DQYJKoZIhvcNAQELBQADggEBAJMGactyo817VOhIu9IN8SkDXjyKxlBQoV2x5Nh4
Igd6ULcHYu7iKBTXovU7H+zV0Kv3hIKHzLOMhiU0cN6eeDtnoeElvQ/XpsjgrR41
GJ8iaHdZf0TVI2C85r4oxqhGEGRFK6wzk/mTWNczPiLwa3l2IyUX3W3LkUspIKc/
IIxf+LNfzUHqsylf/0/ETf6q3Tw49ubQvOPwe2C/AnRb6jtgUkkWNcoinRUV5O1C
Cm0+nH1wXClFrJqpb+fxOLYbpUq3xvCo+8VaHYMNp221u5gu5oGc3dQX7R5Fb3bF
/OipLz83241HQrxRTjQ6ynvy60Zs71MyNR9CjOemFT44MokxggKcMIICmAIBATBq
MFYxCzAJBgNVBAYTAkNIMRUwEwYDVQQKEwxTd2lzc1NpZ24gQUcxMDAuBgNVBAMT
J1N3aXNzU2lnbiBQZXJzb25hbCBTaWx2ZXIgQ0EgMjAxNCAtIEcyMgIQALzrG2T1
OQe0qwaBVPuWYjAJBgUrDgMCGgUAoIIBBzAYBgkqhkiG9w0BCQMxCwYJKoZIhvcN
AQcBMBwGCSqGSIb3DQEJBTEPFw0xNjAyMjkxMzE5MzVaMCMGCSqGSIb3DQEJBDEW
BBQmRjHDpBus14q86sb5vuJVkITk6DCBpwYJKoZIhvcNAQkPMYGZMIGWMAsGCWCG
SAFlAwQBKjAIBgYqhQMCAgkwCgYIKoUDBwEBAgIwCgYIKoUDBwEBAgMwCAYGKoUD
AgIVMAsGCWCGSAFlAwQBFjALBglghkgBZQMEAQIwCgYIKoZIhvcNAwcwDgYIKoZI
hvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0GCCqGSIb3DQMCAgEo
MA0GCSqGSIb3DQEBAQUABIIBAGzO/Xx6E++mS1VNb/kcwceQmlbGkOKsq+z5fmlD
wSwE40maDO8tdGw2asLgb3+5619+7vvTKYoToNyORP30E1EyKoL1SZTqCoQgCBPi
Cs5Znpqpkng1r+e+5AjM92ZuFdeIvF6SPSVyT3YPX/bzZb8PikQUCBOtaBfcn5nM
1gbSUtcElZbHn1Upt4dIPiNwQzpgHtYnv2VgkaQ802HIZEjEDTTcvPNSyZ2MJe1c
mIwaGv0KtZvdC7ET9RLXfae6tGJis2cgR2kfiXqTsCdCSmnqNcN7QfQK44S3Rfkq
1eWZ2yLXLKIq/enMdwuJhHvOJSQwO1HVKaPPwJ0uj6sCdMY=

------F873FA6664B6BA4F1B80D0776156B895--


From dev-return-85702-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 14:22:36 2016
Return-Path: <dev-return-85702-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D22321967A
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 14:22:27 +0000 (UTC)
Received: (qmail 75921 invoked by uid 500); 29 Feb 2016 14:22:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75832 invoked by uid 500); 29 Feb 2016 14:22:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75822 invoked by uid 99); 29 Feb 2016 14:22:27 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 14:22:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 00F4DC20B5
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 14:22:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 1kqr7uC2fOH9 for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 14:22:23 +0000 (UTC)
Received: from resqmta-po-10v.sys.comcast.net (resqmta-po-10v.sys.comcast.net [96.114.154.169])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 99FF15FADB
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 14:22:22 +0000 (UTC)
Received: from resomta-po-16v.sys.comcast.net ([96.114.154.240])
	by resqmta-po-10v.sys.comcast.net with comcast
	id QENG1s0075BUCh401ENMb2; Mon, 29 Feb 2016 14:22:21 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-16v.sys.comcast.net with comcast
	id QENL1s0012U0RYt01ENLai; Mon, 29 Feb 2016 14:22:21 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Thinking about a T&R of 2.4.19 soonish
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <49190C3D718E3B4FB7B0EABD006A153B0BB91DB0@uspEXCH02.u-s-p.local>
Date: Mon, 29 Feb 2016 09:22:19 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <DA9EB48F-7948-4732-9A6B-16E9B4B40F9E@jaguNET.com>
References: <70F7BCBB-73CA-4993-A270-38A3220CE8B5@jaguNET.com> <49190C3D718E3B4FB7B0EABD006A153B0BB91DB0@uspEXCH02.u-s-p.local>
To: httpd <dev@httpd.apache.org>,
 Yann Ylavic <ylavic.dev@gmail.com>
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1456755741;
	bh=skNWYHpnHRnTX7wlmrsRCkQjNOTSLUJfS13zuMqZHmQ=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=e38hcya5gFC0fu7pRpEFfEm4IusULj0+LUN7hzBXBKFoHAh5mQlLakWXGlKI56jJi
	 eH3Xh3NdN4yl7wFuDtJ2YyN142Dyq014diFovsJkyEistUgAxZpwBfD5p9oI616n8T
	 QJSpfTapLOQi2Xj9P16Ol4V0c6ePgOQlwHvu4cXHc915hTqVmRoavfx9GYqsxLzkrg
	 mhdzp26QyILCbmXj63Ed/mcT5/9/XBA19HTMwmwxi05gzLLcDSI6nLFpbv/4vPLjVj
	 mIgmnwbGmBbwWtjV8aPbRAlePql6c+TJ7292gWVFDKMsWkHgpjtVget6BJsUcfH+AL
	 Ug0NiQR/AHzxw==

Is this 2.4 specific... Looking in trunk for =
https://bz.apache.org/bugzilla/attachment.cgi?id=3D33611

> On Feb 29, 2016, at 8:19 AM, Lenk, Micha =
<Micha.Lenk@united-security-providers.ch> wrote:
>=20
> FWIW, I am a bit concerned about =
https://bz.apache.org/bugzilla/show_bug.cgi?id=3D59045.
> If this will be fixed with 2.4.19, please go ahead. :)
>=20
> Regards,
> Micha
>=20
>> -----Urspr=C3=BCngliche Nachricht-----
>> Von: Jim Jagielski [mailto:jim@jaguNET.com]
>> Gesendet: Montag, 29. Februar 2016 13:10
>> An: httpd <dev@httpd.apache.org>
>> Betreff: Thinking about a T&R of 2.4.19 soonish
>>=20
>> It's about time for us to consider another release of the 2.4
>> branch... We've accumulated some good stuff, with some other
>> potential backports which could be *very* cool folded into
>> 2.4.19...
>>=20
>> Looking at early/mid March and I'll be serving as RM.
>>=20
>> Get those votes and backports in!


From dev-return-85703-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 14:56:05 2016
Return-Path: <dev-return-85703-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 56F8B197F5
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 14:56:05 +0000 (UTC)
Received: (qmail 76972 invoked by uid 500); 29 Feb 2016 14:56:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76852 invoked by uid 500); 29 Feb 2016 14:56:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76827 invoked by uid 99); 29 Feb 2016 14:56:04 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 14:56:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A29F018065B;
	Mon, 29 Feb 2016 14:56:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id mE2ld8NfrwzX; Mon, 29 Feb 2016 14:56:02 +0000 (UTC)
Received: from mail-qk0-f181.google.com (mail-qk0-f181.google.com [209.85.220.181])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id D10035FB72;
	Mon, 29 Feb 2016 14:56:01 +0000 (UTC)
Received: by mail-qk0-f181.google.com with SMTP id s68so56839924qkh.3;
        Mon, 29 Feb 2016 06:56:01 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc;
        bh=VmmrzrcjsF+Wi6ki9T1w/1cxxe2nUH/xt0Iq87nKcxQ=;
        b=0cCNhXIRhLrIIqRkgososxG903kVPvLWVriP3vyE/5rvOsUJ3+toQwlJQKCkoxYfXg
         m/vxLS56KtrrnBRf0X6zkc0R0p0ZIzyvI5PwU2E9byVA3jv5GjppjpzJhyAir3qjhoBL
         Vl+FQzP4pe1vn3CZAMNP9DjNuuKqgBJzAHH7fAIqFg5ojhmc3Bt461BDg0ii0lfznHmB
         BDPo6TUp3ucvEjvGcnOLE/3FhS8uSfnUyLaaWuJyf+1Ps4kwhnPG3QmKymr+mJVMPj2a
         End5EheS5IgesuGnKWs+/MENgwduwBcTnHoY7ZYYyIXkI+StI95JmkWNHq5deBuuJ1dM
         ocDQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc;
        bh=VmmrzrcjsF+Wi6ki9T1w/1cxxe2nUH/xt0Iq87nKcxQ=;
        b=JEtc4rIgu664q+mz5IZ2AzZxiTPSttYcmJPQfuPUoblkqmZuZsUJaL3b2d/Gzyil0O
         Xdq6MY+gxqesUQuM6oEWIEGe8Vx3TnqwUL5YoK2lFkngvie/gP4N+1ARBX5ZkbiKsafw
         McLzKMbMvToZ/AwTSQZEBontX9fJcJ/5AfrlqvQV2e3WutBf+14bIW+fej/7l2EkUY0m
         trvnMBWXDyA0q/+GqNkiSrm/CjqdE91dHiSrN+5JZifWFGM/8w3Da8Yi3EJAxF9JSM2r
         f173SV9W2x4un83r+G2o1c3xJekRXmdMdnpNLIVOpxz5H2YR+RxJUnngYqXA7JB8C0WD
         9WJQ==
X-Gm-Message-State: AD7BkJIvBGYe3Zq8uLifQegMBU8m5/a6IE8LeJLgtbY7W2MTXMDjQ6JZagVmHIDzZyRXGUDRSAcBKysltO68kQ==
MIME-Version: 1.0
X-Received: by 10.55.200.215 with SMTP id t84mr20106616qkl.55.1456757754607;
 Mon, 29 Feb 2016 06:55:54 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Mon, 29 Feb 2016 06:55:54 -0800 (PST)
In-Reply-To: <CAJA1Y2bM513oCx+3K5xKYDP61BNfTNuQxQbvjgU7xnJhNS6Nqw@mail.gmail.com>
References: <CAJA1Y2ZBVOWr2ThF-xpFZjFRdPGgaLRqu97bQBNMbX+AxASEhQ@mail.gmail.com>
	<CAKQ1sVPS_9C6mnpxYzSHCZD7YtY1HPBhnJUg5F48N+GjUZmG0g@mail.gmail.com>
	<CAJA1Y2bM513oCx+3K5xKYDP61BNfTNuQxQbvjgU7xnJhNS6Nqw@mail.gmail.com>
Date: Mon, 29 Feb 2016 15:55:54 +0100
Message-ID: <CAKQ1sVPfXFd4G0y2QDepmNwpq=i0+0SgN6CZx882Dj390RSA9A@mail.gmail.com>
Subject: Re: Bug 57227 - Patch still not in main stream
From: Yann Ylavic <ylavic.dev@gmail.com>
To: Bruno Raoult <braoult@gmail.com>
Cc: httpd-dev <dev@httpd.apache.org>, 
	Apache HTTPD Bugs Notification List <bugs@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

[CCing the original bugs@ list and dev@ which I somehow added from my
first response.
Not sure bugs@ is to be addressed directly though, it is normally CCed
for bugzilla reports only...]

On Mon, Feb 29, 2016 at 2:52 PM, Bruno Raoult <braoult@gmail.com> wrote:
>
>> On Mon, Feb 29, 2016 at 1:31 PM, Bruno Raoult <braoult@gmail.com> wrote:
>> >
>> > I did find a bug in mod_autoindex more than one year ago, about missing
>> > CSS
>> > class, and proposed a patch at same time
>> > (https://bz.apache.org/bugzilla/show_bug.cgi?id=57227).
>> > It appears that this patch is still not applied in recent versions.
>>
>> It seems that it was merge in version 2.4.12, with
>> http://svn.apache.org/r1651644 (no changelog associated, though).
>
> It was indeed (just checked on my latest Ubuntu desktop, which has 2.4.12).
>
> In order to find out by myself next time, how did you jump from r1648201
> (which I
> found from my bug/patch report) to r1651644 and then to 2.4.12 ?
> I am missing some steps for sure.

I guess the easiest way would have been a CHANGES entry, and/or the
merge commit referenced in the bugzilla report (this is usually the
case, but not here...).
Personnaly I just searched r1648201 in my mailbox history which
pointed out to the merge in r1651644, but I'm subscribed to the cvs@
list (as a committer).

Otherwise I think the safest way is to search the trunk commit
reference (r1648201 here) either on google (something like "httpd
2.4.x merge r1648201", but it does not seem to help here) or better in
the commit messages of the 2.4.x branch (that is in the output of: svn
log -v http://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.x),
which points to r1651644 here.
Not very friendly but it works since each commit in a stable branch
contains the reference of the original (merged) commit in trunk...

For the release number (here 2.4.12), I compared the date of the
commit r1651644 in 2.4.x (still given by the "svn log ..." command
above) with the ones of the releases (maintained in the STATUS file of
each branch, eg: svn cat
http://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.x/STATUS),
2.4.12 being the next version released (2.4.11 wasn't) after "Wed, Jan
14 2015" (the date of r1651644).

Hope this helps :p

From dev-return-85704-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 15:02:23 2016
Return-Path: <dev-return-85704-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CD8D719828
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 15:02:23 +0000 (UTC)
Received: (qmail 84857 invoked by uid 500); 29 Feb 2016 15:02:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84774 invoked by uid 500); 29 Feb 2016 15:02:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84764 invoked by uid 99); 29 Feb 2016 15:02:23 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 15:02:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id BACB6C0287
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 15:02:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id qEzv4PjBtikk for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 15:02:20 +0000 (UTC)
Received: from mail-qg0-f45.google.com (mail-qg0-f45.google.com [209.85.192.45])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id E44965FB43
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 15:02:19 +0000 (UTC)
Received: by mail-qg0-f45.google.com with SMTP id d32so61208005qgd.0
        for <dev@httpd.apache.org>; Mon, 29 Feb 2016 07:02:19 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=BqonYr5lQ+OSKxxHNEOoSTADQniAHZGMsmTsGHhszm4=;
        b=UWJfKhxAUJEOMpQzy0PKNT99WzSWolmcxZlWXQ+mSFTGr02JVeGW4Y6jO9gs0PwwUv
         0A7KcidZc9bsjsPhI21QDfwE+1HFEUM2b2ISmgpO2HuEJ8koQ2Fh6sHBM7LjfA62QN/N
         Nm5uSvjA5dhMXyRRPalxzE1QOYu0Kw0ELyFk48ZwdGjXRBWHzvDBDQ8f1rWi5Y5Epvjr
         rJvhEaNN+AQTizUp5QFEAqxy7lyeaXXROEy/Ui43lCGxp3DwaCcI2y8fPnjGQw4Qa7ea
         s2QeA8nzfUh9U4yemqPMs+pE22K8JOYWP8hqHNDRf7tgO0uaYTII3X/hiS/mzYqGMB6u
         LwlQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=BqonYr5lQ+OSKxxHNEOoSTADQniAHZGMsmTsGHhszm4=;
        b=ETCnJlPB7ctko8Od0LnR2SAK5tiJ2ieXnQwht6NXSWYfxLbpKjlq3Y7ygtKhvp1UUk
         hLQjh7DM2Iuwu980STVUQXZ+x6MFFOpKREN55GBfmlncTa5l9mXktN77kv8PeHTA3PPf
         9f0BEqmYjrTGiuzxmpps1UjjRKradU86uAZKWG9HCqkj89FVZUyDFkU39J5qgbvBe214
         zZ9blemhUVqx8UfklHVc4hogEzV+53gaBxXA+GWZ2d6rSfj25MwZwD9ZwamNebk/CWW0
         4pYIVOmrSK1QKIQ2aJvGjcyvBtHPE5LD9V0/MoRjP52r96PFmr0Bez2gVa47gMyYxRSA
         l8qw==
X-Gm-Message-State: AD7BkJL24fQ5fkAy1UiyvKWPSrloqn1vh09YMCH67lBa8R+CCGxD+hCcHI+75ktv/xJ3LkuGqpEt4DsPPwtBGA==
MIME-Version: 1.0
X-Received: by 10.140.43.37 with SMTP id d34mr19364817qga.51.1456758133557;
 Mon, 29 Feb 2016 07:02:13 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Mon, 29 Feb 2016 07:02:13 -0800 (PST)
In-Reply-To: <DA9EB48F-7948-4732-9A6B-16E9B4B40F9E@jaguNET.com>
References: <70F7BCBB-73CA-4993-A270-38A3220CE8B5@jaguNET.com>
	<49190C3D718E3B4FB7B0EABD006A153B0BB91DB0@uspEXCH02.u-s-p.local>
	<DA9EB48F-7948-4732-9A6B-16E9B4B40F9E@jaguNET.com>
Date: Mon, 29 Feb 2016 16:02:13 +0100
Message-ID: <CAKQ1sVMVoHEUwkbSsUoFUVAcgftF9uXYS6oS25f-UbsUppCOnA@mail.gmail.com>
Subject: Re: Thinking about a T&R of 2.4.19 soonish
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, Feb 29, 2016 at 3:22 PM, Jim Jagielski <jim@jagunet.com> wrote:
> Is this 2.4 specific... Looking in trunk for https://bz.apache.org/bugzilla/attachment.cgi?id=33611

This patch is proposed on bz only for now, waiting for the OP to test...

>
>> On Feb 29, 2016, at 8:19 AM, Lenk, Micha <Micha.Lenk@united-security-providers.ch> wrote:
>>
>> FWIW, I am a bit concerned about https://bz.apache.org/bugzilla/show_bug.cgi?id=59045.
>> If this will be fixed with 2.4.19, please go ahead. :)

The more testers, the more chances it can be committed and backported quickly ;)

Regards,
Yann.

From dev-return-85705-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 15:16:09 2016
Return-Path: <dev-return-85705-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DBF0D1987B
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 15:16:09 +0000 (UTC)
Received: (qmail 15757 invoked by uid 500); 29 Feb 2016 15:16:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15685 invoked by uid 500); 29 Feb 2016 15:16:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15675 invoked by uid 99); 29 Feb 2016 15:16:08 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 15:16:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id F0B51C0287
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 15:16:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id uxE9KfZyLcYg for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 15:16:04 +0000 (UTC)
Received: from mail-ig0-f182.google.com (mail-ig0-f182.google.com [209.85.213.182])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id AE5525FB72
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 15:16:03 +0000 (UTC)
Received: by mail-ig0-f182.google.com with SMTP id y8so79994540igp.1
        for <dev@httpd.apache.org>; Mon, 29 Feb 2016 07:16:03 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=en+O0bWZWuyoXmosLdAbTG7SbM+8f5qdKj6Tl+asA/U=;
        b=EoW6k3xYK4DJzGxhz0ehFyqOk6b+7Mg/NAYuZZFTuZDfqHmXlnY2FS4SyY62Z69n1M
         UmjVz4BOcGxPa734UOl9pmojh9ONn2BGunr73uMkGl4hTZ7/MW8+zdNIClFHi687kksK
         IwDZLDq+1xq98KfsdprUg//ofOsw154tZYhgnNmgJtOuTyT3A/qN+6pl0kt47I0iKJm3
         xOrIVuOa68XpzGx5ZsC0oZZltf6k4FOP28Et/elm2YRahGE8fzCE6QEMj4kiaJvt/p4W
         LmmbGLxfwborRLoaKB89oHSGEl97YVylOxTHzz8mg27JL0GJ0bdqpG3veHYrPSi0TTI8
         jvLQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=en+O0bWZWuyoXmosLdAbTG7SbM+8f5qdKj6Tl+asA/U=;
        b=FQGGhI0gPVejnwCNxzDhRMtk0VDLwebaCTvyeyN6HARcxDlm5z515e31hqgbPBdA1y
         bn2RxnMRjeoXCaw2WEVDkLST34s/uL91LMowL1j0DjgCfx+0TWWQnCupqbzxhTB9XAzr
         XeOO8Lac/CheqG7Fsz2I2u/AIJphDEKBxBBKYL4pkyJTTQlvJIhhmRZUzXL7+DpD5rOB
         LMuyLl2NPlq+VSyUqJcoNmlKb8HnKfZGJ+uyAEERnS7hjEVx5hLxQt9H2KRR8T8UZ68d
         ao/dJNWrXubdvLg9kKodBRx+8CPn0sfwKHTpQHaRdcZr7IqXI+IV8HEiD4L4V/owqVsZ
         yqvA==
X-Gm-Message-State: AD7BkJKCZQNtDiMINyha0UtohKGMg9q3uA47Htv7dZ7/LjEkCk9t7vuX4HNDkdd1dzK9x4IeTdjjqgfzL5JfeA==
MIME-Version: 1.0
X-Received: by 10.50.50.180 with SMTP id d20mr8352084igo.72.1456758962725;
 Mon, 29 Feb 2016 07:16:02 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Mon, 29 Feb 2016 07:16:02 -0800 (PST)
In-Reply-To: <70F7BCBB-73CA-4993-A270-38A3220CE8B5@jaguNET.com>
References: <70F7BCBB-73CA-4993-A270-38A3220CE8B5@jaguNET.com>
Date: Mon, 29 Feb 2016 10:16:02 -0500
Message-ID: <CALK=YjMzNj9e=W4oA1K1q3cxxec_zFbAq3SxGCP0uY89Qig1Ng@mail.gmail.com>
Subject: Re: Thinking about a T&R of 2.4.19 soonish
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, Feb 29, 2016 at 7:09 AM, Jim Jagielski <jim@jagunet.com> wrote:
> It's about time for us to consider another release of the 2.4
> branch... We've accumulated some good stuff, with some other
> potential backports which could be *very* cool folded into
> 2.4.19...

I just realized my rewrite regression didn't ship.
 never shipped

-- 
Eric Covener
covener@gmail.com

From dev-return-85706-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 15:17:48 2016
Return-Path: <dev-return-85706-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D128319887
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 15:17:48 +0000 (UTC)
Received: (qmail 18117 invoked by uid 500); 29 Feb 2016 15:17:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18039 invoked by uid 500); 29 Feb 2016 15:17:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18029 invoked by uid 99); 29 Feb 2016 15:17:14 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 15:17:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 95E60C1E1C
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 15:17:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id EncunK_pXhPV for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 15:17:13 +0000 (UTC)
Received: from mail-ig0-f182.google.com (mail-ig0-f182.google.com [209.85.213.182])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id AC4B05FB2B
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 15:17:12 +0000 (UTC)
Received: by mail-ig0-f182.google.com with SMTP id xg9so76637577igb.1
        for <dev@httpd.apache.org>; Mon, 29 Feb 2016 07:17:12 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=h91wQwoVihms0bXpk4rF4vGg7QqcJdUJ9DU2DFI3IlM=;
        b=0ZRVpPcNm8W2SwTrGv9/16V5O7r+vvesp3s8+usSjmtqMoSvI/3fVMIW1T5dRPnGT7
         RX2ncbK/gGc74iEZoDd9d0f6fGmYa+4HyFzNsLwGTpi+r3H5y2nL3t+pH1soqN8JdUZz
         W1b4zkiqqmR2U6rpFCq9JJ+Sb7Sbr10w1LkFRy0cMtraV73nO2jmodcv0W3Md2k5VVmK
         0cTvUJ6DLX9mCnAN63V8v1EeFQWUKEjfsdnHk8Rdgu6Id3q/qYEox/NlzsInnWW9nBGQ
         3QX8KzAAw8B3so0HoIIPnLjs60uK+EJVDA+giOdFyqb3wuTQO5Si2IJKWTOw0yKuF1HD
         uIuA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=h91wQwoVihms0bXpk4rF4vGg7QqcJdUJ9DU2DFI3IlM=;
        b=drCk7DPmLCSKTxRTc+gUGPlI92glFsI7EKHpp9mdRiIf2yrY1gDni/VmjQR6OKjsYg
         ztFyF9Sg4/GWAcEag4U7toRqlbEMIBIxjWKuC951MPkbiTmkHYp+TL1sywABj8fjreyN
         N8RZWWGdiuYay7yuTkSXnr9OUWl447BHIFMAo2FVyFRYleWXPxeV2kNNkoCCl5M3t7UG
         d7SF3jgqJrhQPOuZLqVSp36pr6vnruQKV+Di7pWB4tVs3UpRvC23LXk3EdRk73IiiF5N
         mvqfkVVb57NDYLiis1uUCrLMOJ3D4DUbQKVQhxHav76BdLecwPVZFk+ZIhDH1vIhSNrK
         QXnw==
X-Gm-Message-State: AD7BkJK3uPebi7SalIZ1UqJNK9MZ87pNWYV7Nq/0sRm/AZ4+bLzr0Yt+HRvVkXupqCmmOWyefMIiNR0CQwDSwQ==
MIME-Version: 1.0
X-Received: by 10.50.155.40 with SMTP id vt8mr9599474igb.56.1456759026287;
 Mon, 29 Feb 2016 07:17:06 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Mon, 29 Feb 2016 07:17:06 -0800 (PST)
In-Reply-To: <CALK=YjMzNj9e=W4oA1K1q3cxxec_zFbAq3SxGCP0uY89Qig1Ng@mail.gmail.com>
References: <70F7BCBB-73CA-4993-A270-38A3220CE8B5@jaguNET.com>
	<CALK=YjMzNj9e=W4oA1K1q3cxxec_zFbAq3SxGCP0uY89Qig1Ng@mail.gmail.com>
Date: Mon, 29 Feb 2016 10:17:06 -0500
Message-ID: <CALK=YjO4YN4M-WRArnUU2cqf+f=5sirdWZxYivd5s=MbN2XR=g@mail.gmail.com>
Subject: Re: Thinking about a T&R of 2.4.19 soonish
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, Feb 29, 2016 at 10:16 AM, Eric Covener <covener@gmail.com> wrote:
> On Mon, Feb 29, 2016 at 7:09 AM, Jim Jagielski <jim@jagunet.com> wrote:
>> It's about time for us to consider another release of the 2.4
>> branch... We've accumulated some good stuff, with some other
>> potential backports which could be *very* cool folded into
>> 2.4.19...
>
> I just realized my rewrite regression didn't ship.
>  never shipped

Keyboard lost its mind.  Referring to
https://bz.apache.org/bugzilla/show_bug.cgi?id=58854

I'd still like a day or two to fix or revert, but I wanted to clear up
that I mislead Jim about this
one on IRC (that we needed a release to fix it in addition to cool h2 stuff)

From dev-return-85707-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 15:27:38 2016
Return-Path: <dev-return-85707-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2E931198D5
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 15:27:38 +0000 (UTC)
Received: (qmail 54590 invoked by uid 500); 29 Feb 2016 15:27:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54514 invoked by uid 500); 29 Feb 2016 15:27:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54495 invoked by uid 99); 29 Feb 2016 15:27:37 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 15:27:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 21890C0287;
	Mon, 29 Feb 2016 15:27:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id EywQUEZVf8DP; Mon, 29 Feb 2016 15:27:36 +0000 (UTC)
Received: from mail-qg0-f43.google.com (mail-qg0-f43.google.com [209.85.192.43])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 2EAEC5FB7C;
	Mon, 29 Feb 2016 15:27:36 +0000 (UTC)
Received: by mail-qg0-f43.google.com with SMTP id y89so117713813qge.2;
        Mon, 29 Feb 2016 07:27:36 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc;
        bh=iNehZ02iVK4YGqhy91Az7vNPIUBoSErcq8tcS8wp2EA=;
        b=FKFFN+YkuevcmmQxeN2ghDIiG24Mc+jGDf0tsPwwQEeQLozjbFX4sYIB0iFe9LrLtV
         CQ8Lkc+weE/BaacknfzCN5tHda6jFHdpLwjeipuekSDXq1vo9ohpbqjvxLO8kfcmZ7Qb
         H4kNPFLr//UiPTBkMtJVOFb3kNdhJM/OFL37iIQ2vs9TIZNUF4gSD4plGRmhPyru1FUS
         m6uCL3YW6ILe92QfYQ3J1ITPF9ihlxtNuo8+H+pxEnPpNIbdxSWfArcm7OupZiQ0fqD3
         WEzKeWvPlk17CZg5iCOqqV9NVwuOAJ0hoYJnSDF9xBCqiuRQzuC32ul90Dh9yFseqRwk
         dYFw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc;
        bh=iNehZ02iVK4YGqhy91Az7vNPIUBoSErcq8tcS8wp2EA=;
        b=hEz86HbhXCgZsT55b91kVZPia6Q1ht8LsQpVu6SmaDIiFFvGF1jRkIW8BZVPYenUzV
         jpQQflXi8+cuY8jkdwcx173qlClQV9vYrPz62Z4ryfhs//7U4xfAZK3TOozCSA7iVdRX
         q0aCp0n2/kGhmBcClE+E57zuMz6r13FQ2yrfDnR8K3QZg+cqhbCfST+YGiXRjJOoVGAB
         Gjo+WmUevvEEXETEa7P/nhVHZLp/OB5Un+sGghT4M2vRYAcRX3xB2PQnKMBgbcygCH7i
         rXNH4f8NRJnNs5Ji9e9ejFQV/kWDLw68QXLd3MJVpJZHt23QMXwWWxXmPyoV6INOE+3t
         Ncmw==
X-Gm-Message-State: AD7BkJKlPY5wsOaCfq/le0/epBM2LSJMjhD4aMACDBnNh7IVulGI4GcOc1MfLeE9Pi7XDDKpNro8Wak6ZbZFPQ==
MIME-Version: 1.0
X-Received: by 10.140.167.135 with SMTP id n129mr20225461qhn.73.1456759649528;
 Mon, 29 Feb 2016 07:27:29 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Mon, 29 Feb 2016 07:27:29 -0800 (PST)
In-Reply-To: <CAKQ1sVPfXFd4G0y2QDepmNwpq=i0+0SgN6CZx882Dj390RSA9A@mail.gmail.com>
References: <CAJA1Y2ZBVOWr2ThF-xpFZjFRdPGgaLRqu97bQBNMbX+AxASEhQ@mail.gmail.com>
	<CAKQ1sVPS_9C6mnpxYzSHCZD7YtY1HPBhnJUg5F48N+GjUZmG0g@mail.gmail.com>
	<CAJA1Y2bM513oCx+3K5xKYDP61BNfTNuQxQbvjgU7xnJhNS6Nqw@mail.gmail.com>
	<CAKQ1sVPfXFd4G0y2QDepmNwpq=i0+0SgN6CZx882Dj390RSA9A@mail.gmail.com>
Date: Mon, 29 Feb 2016 16:27:29 +0100
Message-ID: <CAKQ1sVNd=Pu+DPpcZPeiHXYedw-dYxt8EA3862AEOL-_NRhGQg@mail.gmail.com>
Subject: Re: Bug 57227 - Patch still not in main stream
From: Yann Ylavic <ylavic.dev@gmail.com>
To: Bruno Raoult <braoult@gmail.com>
Cc: httpd-dev <dev@httpd.apache.org>, 
	Apache HTTPD Bugs Notification List <bugs@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, Feb 29, 2016 at 3:55 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> On Mon, Feb 29, 2016 at 2:52 PM, Bruno Raoult <braoult@gmail.com> wrote:
>>
>> In order to find out by myself next time, how did you jump from r1648201
>> (which I
>> found from my bug/patch report) to r1651644 and then to 2.4.12 ?
>> I am missing some steps for sure.
>
> Otherwise I think the safest way is to search the trunk commit
> reference (r1648201 here) either on google (something like "httpd
> 2.4.x merge r1648201", but it does not seem to help here) or better in
> the commit messages of the 2.4.x branch (that is in the output of: svn
> log -v http://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.x),
> which points to r1651644 here.
> Not very friendly but it works since each commit in a stable branch
> contains the reference of the original (merged) commit in trunk...

A more friendly way could be to search for r1648201 in
http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/modules/generators/mod_autoindex.c?view=log,
since you know the changed file here, or use the root path
(.../viewvc/httpd/httpd/branches/2.4.x/?view=log) if you really don't
have such information (it takes longer to compute the result, though).

Hope this helps better.

From dev-return-85708-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 16:01:31 2016
Return-Path: <dev-return-85708-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9AA19199E7
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 16:01:31 +0000 (UTC)
Received: (qmail 70194 invoked by uid 500); 29 Feb 2016 16:01:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70027 invoked by uid 500); 29 Feb 2016 16:01:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69952 invoked by uid 99); 29 Feb 2016 16:01:20 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 16:01:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 4ADD318061E
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 16:01:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.161
X-Spam-Level: ***
X-Spam-Status: No, score=3.161 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_BL=0.01, RCVD_IN_MSPIKE_L3=2.499, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id wHMuraRsU1KX for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 16:01:17 +0000 (UTC)
Received: from resqmta-po-01v.sys.comcast.net (resqmta-po-01v.sys.comcast.net [96.114.154.160])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 9F9B85F54E
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 16:01:16 +0000 (UTC)
Received: from resomta-po-01v.sys.comcast.net ([96.114.154.225])
	by resqmta-po-01v.sys.comcast.net with comcast
	id QG0u1s0044s37d401G1FVp; Mon, 29 Feb 2016 16:01:15 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-01v.sys.comcast.net with comcast
	id QG1E1s0042U0RYt01G1EMC; Mon, 29 Feb 2016 16:01:14 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Bug 57227 - Patch still not in main stream
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVPS_9C6mnpxYzSHCZD7YtY1HPBhnJUg5F48N+GjUZmG0g@mail.gmail.com>
Date: Mon, 29 Feb 2016 11:01:14 -0500
Cc: Bruno Raoult <braoult@gmail.com>
Content-Transfer-Encoding: quoted-printable
Message-Id: <8B4B4630-7C2A-4E4E-824B-28EAD4097CE1@jaguNET.com>
References: <CAJA1Y2ZBVOWr2ThF-xpFZjFRdPGgaLRqu97bQBNMbX+AxASEhQ@mail.gmail.com> <CAKQ1sVPS_9C6mnpxYzSHCZD7YtY1HPBhnJUg5F48N+GjUZmG0g@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1456761675;
	bh=92pKqs9B69CvDrP5f4Kl6/llvGD3lZTLCm5L4r0s+CA=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=QZWU6WGlMaRqCJKPXmjzxc4BF8F2Fqht/eaDapV/EvHppK0koBf5iBDdzeP7/YlGj
	 eWkUAWA2+xEXcxnum5/fH3fnr5ZNRF7f+QFgu/hQtIrnmC3sJZe8OyAsTYeUVTlW7L
	 D8FkxjTWMHZ7wD+hmVp5vhgx+S8pzxbgBHaflZ0H1D69yZPvPfdVePVqS1ezsc5Cpi
	 03gcAFp0+7ekypHC89g42PoDhcdNaxuw6LwNt+KEjx9jqwjmS19Pu8uAJqyNzf+uGj
	 fzjvkG7276EQTfUiQMAKKp37mtz5YkLnmUXMFRGKMGNLPTgDUk2PX/fOC5z7PlAn+Q
	 +mG/OlE6FB3eg==


> On Feb 29, 2016, at 7:43 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>=20
> Hi,
>=20
> On Mon, Feb 29, 2016 at 1:31 PM, Bruno Raoult <braoult@gmail.com> =
wrote:
>>=20
>> I did find a bug in mod_autoindex more than one year ago, about =
missing CSS
>> class, and proposed a patch at same time
>> (https://bz.apache.org/bugzilla/show_bug.cgi?id=3D57227).
>> It appears that this patch is still not applied in recent versions.
>=20
> It seems that it was merge in version 2.4.12, with
> http://svn.apache.org/r1651644 (no changelog associated, though).
>=20

There was no changelog entry in the orig patch, hence none
in the backport.


From dev-return-85709-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 16:19:04 2016
Return-Path: <dev-return-85709-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1246E19A77
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 16:19:04 +0000 (UTC)
Received: (qmail 16121 invoked by uid 500); 29 Feb 2016 16:19:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16054 invoked by uid 500); 29 Feb 2016 16:19:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16044 invoked by uid 99); 29 Feb 2016 16:19:03 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 16:19:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 2B205C0140
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 16:19:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Muc4Yv1aeB7l for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 16:19:01 +0000 (UTC)
Received: from heavyspace.ca (li52-56.members.linode.com [72.14.186.56])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 522325F1B9
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 16:19:01 +0000 (UTC)
Received: by heavyspace.ca (Postfix, from userid 1001)
	id A027E44DB4; Mon, 29 Feb 2016 16:22:55 +0000 ()
Received: from mail.heavyspace.ca (localhost [127.0.0.1])
	by heavyspace.ca (Postfix) with ESMTP id 79A1444D76
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 16:22:54 +0000 ()
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII;
 format=flowed
Content-Transfer-Encoding: 7bit
Date: Mon, 29 Feb 2016 10:22:54 -0600
From: monttyle@heavyspace.ca
To: dev@httpd.apache.org
Subject: Re: Suexec permissions question
In-Reply-To: <0D9749BE-0B90-4FE8-9A09-7C94F612D996@jaguNET.com>
References: <ae1bcada9ff89e4488e240762f985a8a@heavyspace.ca>
 <0D9749BE-0B90-4FE8-9A09-7C94F612D996@jaguNET.com>
Message-ID: <bb0be53014a930fd14156e1ddb077c96@heavyspace.ca>
X-Sender: monttyle@heavyspace.ca
User-Agent: Roundcube Webmail/1.0.2

On 2016-02-29 06:06, Jim Jagielski wrote:
>> On Feb 26, 2016, at 7:50 PM, monttyle@heavyspace.ca wrote:
>> 
>> This is not a question on how to use suexec, that's fairly clear.  The 
>> strict, hardwired conditions its willing to suexec under are also 
>> spelled out pretty clear.  My question is the nature of these 
>> requirements -- why they're the way they are.  The user and group 
>> requirements specifically.
>> 
>> suexec insists that the file being executed needs to be the same owner 
>> and group as what the web server will be running as after suexec.  
>> Doesn't this requirement make things *less* secure?  You can't really 
>> protect a file against its own owner overwriting it.  The same 
>> requirement is on the folder, leaving the web server two legal chmods 
>> away from allowing an exploit to create, delete, and modify files 
>> inside the vhost at will.
> 
> Those conditions are hardly unique. The other major suexec-like
> script, cgiwrapd, also had the same set of conditions and
> requirements.
> 
> First of all, the idea is that the admin "trusts" whatever users are
> allowed to use suexec. It's also understood that the risk associated
> is directly related to how well tied-down the user account itself
> is. Finally, it's to ensure that when running as 'foo:bar", I can
> only access files that are owned by 'foo:bar'. If I am 'foo:bar'
> and I am trying to run a file owned by 'kirk:trek' then something
> is hinky, and we don't want to allow it.

I understand the point of not allowing apache to suexec any
arbitrary file, and matching user:group makes sense to an extent.
But using user:group as blind labels ignores what these permissions
really mean to the kernel.

Any running program has access to modify any files and folders
belonging to its user by definition.  If you chmod that away,
it can chmod them right back.  This is very difficult to prevent
without resorting to read-only filesystems, immutable bits, or
ACL's.  This is why most executables -- including suexec itself!
-- aren't owned by the users who run them.

The ability to name a specific required owner, DIFFERENT from
what's being suexec-ed to, would close this security hole.

From dev-return-85710-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 16:34:57 2016
Return-Path: <dev-return-85710-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1842519B10
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 16:34:57 +0000 (UTC)
Received: (qmail 52515 invoked by uid 500); 29 Feb 2016 16:34:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52454 invoked by uid 500); 29 Feb 2016 16:34:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52444 invoked by uid 99); 29 Feb 2016 16:34:53 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 16:34:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 14483C0140
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 16:34:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id hQhjY0y5QI1O for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 16:34:52 +0000 (UTC)
Received: from mail-qk0-f179.google.com (mail-qk0-f179.google.com [209.85.220.179])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 107495F27E
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 16:34:52 +0000 (UTC)
Received: by mail-qk0-f179.google.com with SMTP id s5so58304953qkd.0
        for <dev@httpd.apache.org>; Mon, 29 Feb 2016 08:34:52 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc;
        bh=kyDuHP89AconJ8H2ycbLdRAqkqEE4aw69QOQdVU57ew=;
        b=qihpqeBWAtj+UTHzCys2mUb6yjbuPgqe5BCwkU//upjjIOAotggEm2gmK8FmvmbdXh
         M1T4qi4+VpRJ15Ref/HHopncwo6q3zchk1ZGYGalEQjuv+SE1ZbL1deBFMEcGBFWzlVd
         Z5qNwH0quLTiFSfuCa17Qs7K545/rd//mVTIPAp0HPnOI1n7tWG6FD46yXvahsfbx88F
         M3RByJehxkeqVOV8WvhX+tsuCXLfFP6EvXiO9rfgQiqvXworQpRtBCRV7eUSYGNl4KOm
         KU0q/E0y7Vaf+blz+gf5C5e1ksZJH0DS2+3CDbfz/15FhxT8t9v7iCVhqHY7aJUR9SgE
         Rvcg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc;
        bh=kyDuHP89AconJ8H2ycbLdRAqkqEE4aw69QOQdVU57ew=;
        b=BKbog2XLKrTxnMBOrLfMZMhklsNvkGt85GS3X2R35MNLDcYhYZ5CTsKDO9tryOe1Qk
         XbcSydw4sSnr8yuyEw5JT/zkbXzfdfwgh0K0W2vlFbaLA2lkumYUeP7Oqul6o2oIWpvg
         JL1RYef/O6cdrlE+t4UdxpWup98yb0QomAmK72S7jwNzCFiNJxHE2wY/AxYXUoxbY8Za
         gPyVrkZGMwv5xySr01L+T1iWVcV8hcQGp6DLnGWUmYs21TstQrUXVQ4Zppy54VcpD1jM
         fpuNk8XpDBz588Atij1eSGeg9/sP0SRYc8sHusCNFC5+x2827dGcLWSPHC/5o+0elpkW
         AVIw==
X-Gm-Message-State: AD7BkJJFsQPSb5PHINz6Hu7pv4s1GVKx6NtmeKkW4ag3tVd2TM6HT5gNjapxf3dCE3v9Fs0TThyPkgn8uYL8Iw==
MIME-Version: 1.0
X-Received: by 10.55.200.215 with SMTP id t84mr20814567qkl.55.1456763685438;
 Mon, 29 Feb 2016 08:34:45 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Mon, 29 Feb 2016 08:34:45 -0800 (PST)
In-Reply-To: <8B4B4630-7C2A-4E4E-824B-28EAD4097CE1@jaguNET.com>
References: <CAJA1Y2ZBVOWr2ThF-xpFZjFRdPGgaLRqu97bQBNMbX+AxASEhQ@mail.gmail.com>
	<CAKQ1sVPS_9C6mnpxYzSHCZD7YtY1HPBhnJUg5F48N+GjUZmG0g@mail.gmail.com>
	<8B4B4630-7C2A-4E4E-824B-28EAD4097CE1@jaguNET.com>
Date: Mon, 29 Feb 2016 17:34:45 +0100
Message-ID: <CAKQ1sVPt2t1+P42gQJai-R-RAKT3POJWdUGtCYx87Vg7NhmLaA@mail.gmail.com>
Subject: Re: Bug 57227 - Patch still not in main stream
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Cc: Bruno Raoult <braoult@gmail.com>
Content-Type: text/plain; charset=UTF-8

On Mon, Feb 29, 2016 at 5:01 PM, Jim Jagielski <jim@jagunet.com> wrote:
>
>> On Feb 29, 2016, at 7:43 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> Hi,
>>
>> On Mon, Feb 29, 2016 at 1:31 PM, Bruno Raoult <braoult@gmail.com> wrote:
>>>
>>> I did find a bug in mod_autoindex more than one year ago, about missing CSS
>>> class, and proposed a patch at same time
>>> (https://bz.apache.org/bugzilla/show_bug.cgi?id=57227).
>>> It appears that this patch is still not applied in recent versions.
>>
>> It seems that it was merge in version 2.4.12, with
>> http://svn.apache.org/r1651644 (no changelog associated, though).
>>
>
> There was no changelog entry in the orig patch, hence none
> in the backport.

Yes, I know, maybe we should be more strict about this at backport
time, dunno...
It would be more work for the proposer/backporter, sometimes the trunk
commits were not meant to be backported anytime soon, and don't
contain the CHANGES entry (not provided by the original committer).
But we are not so bad wrt this generally, and anyway too much
procedure isn't ideal either, it may still happen one day or
another...

From dev-return-85711-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 16:48:42 2016
Return-Path: <dev-return-85711-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 96ACA19BC3
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 16:48:42 +0000 (UTC)
Received: (qmail 99247 invoked by uid 500); 29 Feb 2016 16:47:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99184 invoked by uid 500); 29 Feb 2016 16:47:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99164 invoked by uid 99); 29 Feb 2016 16:47:42 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 16:47:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 3817F180672
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 16:47:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id KhCh1F7cWDhA for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 16:47:41 +0000 (UTC)
Received: from heavyspace.ca (li52-56.members.linode.com [72.14.186.56])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 68C1C5FB63
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 16:47:41 +0000 (UTC)
Received: by heavyspace.ca (Postfix, from userid 1001)
	id 93E4A44DB4; Mon, 29 Feb 2016 16:51:36 +0000 ()
Received: from mail.heavyspace.ca (localhost [127.0.0.1])
	by heavyspace.ca (Postfix) with ESMTP id C5E2744D76
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 16:51:35 +0000 ()
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII;
 format=flowed
Content-Transfer-Encoding: 7bit
Date: Mon, 29 Feb 2016 10:51:35 -0600
From: monttyle@heavyspace.ca
To: dev@httpd.apache.org
Subject: Re: Suexec permissions question
In-Reply-To: <0D9749BE-0B90-4FE8-9A09-7C94F612D996@jaguNET.com>
References: <ae1bcada9ff89e4488e240762f985a8a@heavyspace.ca>
 <0D9749BE-0B90-4FE8-9A09-7C94F612D996@jaguNET.com>
Message-ID: <e15ed7f1045346e7ab88ee8d96000b8f@heavyspace.ca>
X-Sender: monttyle@heavyspace.ca
User-Agent: Roundcube Webmail/1.0.2

On 2016-02-29 06:06, Jim Jagielski wrote:
> First of all, the idea is that the admin "trusts" whatever users are
> allowed to use suexec. It's also understood that the risk associated
> is directly related to how well tied-down the user account itself
> is.

It's more of a first-past-the-door situation.  By definition, any
suexec-ed file will have at least one daemon-modifiable executable,
and one daemon-modifiable folder available to be exploited.  That's
taking "trust" farther than strictly necessary.

From dev-return-85712-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 17:35:59 2016
Return-Path: <dev-return-85712-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 690E919E2E
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 17:35:59 +0000 (UTC)
Received: (qmail 34273 invoked by uid 500); 29 Feb 2016 17:35:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34195 invoked by uid 500); 29 Feb 2016 17:35:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34185 invoked by uid 99); 29 Feb 2016 17:35:25 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 17:35:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 93A21C2EE4
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 17:35:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id M2vAAbYqmoPT for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 17:35:22 +0000 (UTC)
Received: from mail-io0-f182.google.com (mail-io0-f182.google.com [209.85.223.182])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id B407E5FADB
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 17:35:21 +0000 (UTC)
Received: by mail-io0-f182.google.com with SMTP id g203so194105791iof.2
        for <dev@httpd.apache.org>; Mon, 29 Feb 2016 09:35:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=aU1Jl16PxXrpAHlDw14t317rZ7VOjwN+9zeYqLPuoOo=;
        b=SBEtUKdzgQNIqJ0o7hDw53EeIaD8P9coJlem2FTEdt6HKlPuYvIcLsSzZbYdiumIzK
         yDM7tJgmlA7+4MEqk3YgcWlZmM9sEC2Iuu/35WWUniz7yXldc+hQmbTGBTsbFUHtw76q
         tde7ljUDDom7NSUsRMx8F2VPXuTa2VGRhK0XifbOgQsBNv4QIiJCydxu/TaZj9E/Y5QP
         2UNWZxAMCf1h/XGVtNr/3WVr2sWwCfp3qL1gQy4wlzMLzhk/OQEiZODAXxTCm9H0x15R
         DyTUBSegCYJgpwg961Ixvlr/7QlaqvT/sB4JWFOd9NWWPEQs3aHZ7VDrK8pPtPscAZNv
         c9OQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=aU1Jl16PxXrpAHlDw14t317rZ7VOjwN+9zeYqLPuoOo=;
        b=gFeXbpfk6WwCrcYJ3TOhLRONBRW6CunVQc8Eg5g/h7pdGZOP1iEmoxuNLJ5wVdLgwF
         dhNrtW9ZrfYynqsIbEQvqg+YfBRE2ew/0VLxdwyhTgAgVRxfPirChZb/kAQSE32Z8AfD
         zzfS2rXguC5MrYngQJLwq9MjqQYwgeshcPuf3AzB2HjfwxmWDsmMRV4awgEfy1HMTEdV
         dXlfEeH6pugNkoeaGqw1I8PARLLUrrIr1BqF/fjRRFsIwJeOk809EMg1eqpdHpVuBidp
         stb2pfaKYXnQxif2JERmwp7JzTbquv0Ps5b5axM1ngGXlTiuIqXShNZFWYHC3tfi+gnd
         JdMg==
X-Gm-Message-State: AD7BkJK/T+b4zKX8Uh2FNHOYEjOOH2WsnShLEAACxvjq0Vm7NwAM/RnhUGAmz7hbubhCOYytMhyTFoJzzXdYNOBL
MIME-Version: 1.0
X-Received: by 10.107.28.134 with SMTP id c128mr3378965ioc.86.1456767320594;
 Mon, 29 Feb 2016 09:35:20 -0800 (PST)
Received: by 10.107.3.94 with HTTP; Mon, 29 Feb 2016 09:35:20 -0800 (PST)
In-Reply-To: <56D34C62.5040406@gknw.net>
References: <B7B7891F-D769-4537-8CCC-8C02B0D5BC97@greenbytes.de>
	<56D34C62.5040406@gknw.net>
Date: Mon, 29 Feb 2016 11:35:20 -0600
Message-ID: <CACsi251oO2Ox6_bTo-ceUN+BO3zHBSN0qLK5f6jWB9+8j3QYBA@mail.gmail.com>
Subject: Re: state of h2 (long)
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113ff30caa38f9052cec12ef

--001a113ff30caa38f9052cec12ef
Content-Type: text/plain; charset=UTF-8

On Sun, Feb 28, 2016 at 1:37 PM, Gregg Smith <gls@gknw.net> wrote:

> Hi Stefan,
>
> I've had a real lack of time lately to do much on trunk's mod_http2 on the
> windows side. The new mod_proxy_http2 requires a few functions from
> mod_http2 and with what time I have had I have been unsuccessful figuring
> out how to get these functions exported. So if you (or anyone else) can
> figure this out, I'd appreciate it


Looking at this today.

Had some great luck during our hack at HackIllinois using cmake (my student
was having issues with linux on BusyBox and didn't have a whole lot of
extra
toolkit installed under windows, so we trying to run with the minimal extra
packages we could between the trunk repositories to build on Studio 2015).
I documented the efforts here, but so far this ignores openssl/http2...

https://wiki.apache.org/httpd/WindowsTrunkCompilation

Between Jeff's first effort @
https://github.com/trawick/nghttp2-minimal-cmake
and a broader effort w/
https://github.com/tatsuhiro-t/nghttp2/issues/448#issuecomment-182849066
the cmake builds for nghttp2 look almost simple, which is what I'm looking
at
for the moment.

Huge props to everyone who's contributed on cmake for both httpd's build
and for our components!

Cheers,

Bill

--001a113ff30caa38f9052cec12ef
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On S=
un, Feb 28, 2016 at 1:37 PM, Gregg Smith <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:gls@gknw.net" target=3D"_blank">gls@gknw.net</a>&gt;</span> wrote:<br=
><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border=
-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;=
padding-left:1ex">Hi Stefan,<br>
<br>
I&#39;ve had a real lack of time lately to do much on trunk&#39;s mod_http2=
 on the windows side. The new mod_proxy_http2 requires a few functions from=
 mod_http2 and with what time I have had I have been unsuccessful figuring =
out how to get these functions exported. So if you (or anyone else) can fig=
ure this out, I&#39;d appreciate it</blockquote><div><br></div><div>Looking=
 at this today.</div><div><br></div><div>Had some great luck during our hac=
k at HackIllinois using cmake (my student</div><div>was having issues with =
linux on BusyBox and didn&#39;t have a whole lot of extra=C2=A0</div><div>t=
oolkit installed under windows, so we trying to run with the minimal extra<=
/div><div>packages we could between the trunk repositories to build on Stud=
io 2015).</div><div>I documented the efforts here, but so far this ignores =
openssl/http2...</div><div><br></div><div><a href=3D"https://wiki.apache.or=
g/httpd/WindowsTrunkCompilation">https://wiki.apache.org/httpd/WindowsTrunk=
Compilation</a><br></div><div><br></div><div>Between Jeff&#39;s first effor=
t @=C2=A0<a href=3D"https://github.com/trawick/nghttp2-minimal-cmake">https=
://github.com/trawick/nghttp2-minimal-cmake</a></div><div>and a broader eff=
ort w/=C2=A0<a href=3D"https://github.com/tatsuhiro-t/nghttp2/issues/448#is=
suecomment-182849066">https://github.com/tatsuhiro-t/nghttp2/issues/448#iss=
uecomment-182849066</a></div><div>the cmake builds for nghttp2 look almost =
simple, which is what I&#39;m looking at</div><div>for the moment.</div><di=
v><br></div><div>Huge props to everyone who&#39;s contributed on cmake for =
both httpd&#39;s build</div><div>and for our components!</div><div><br></di=
v><div>Cheers,</div><div><br></div><div>Bill</div><div><br></div><div><br><=
/div><div><br></div></div><br></div></div>

--001a113ff30caa38f9052cec12ef--

From dev-return-85713-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 17:36:11 2016
Return-Path: <dev-return-85713-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1748319E2F
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 17:36:11 +0000 (UTC)
Received: (qmail 35624 invoked by uid 500); 29 Feb 2016 17:36:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35560 invoked by uid 500); 29 Feb 2016 17:36:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35550 invoked by uid 99); 29 Feb 2016 17:36:10 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 17:36:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id B008B1A0C52
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 17:36:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 7D18hUqLio_X for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 17:36:09 +0000 (UTC)
Received: from mail-io0-f172.google.com (mail-io0-f172.google.com [209.85.223.172])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 579C05F54F
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 17:36:08 +0000 (UTC)
Received: by mail-io0-f172.google.com with SMTP id 9so190464641iom.1
        for <dev@httpd.apache.org>; Mon, 29 Feb 2016 09:36:08 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=/BUch+iDdfkt1fbAFHC6vltS6Ufa9afXwufGn5JDfBY=;
        b=GwpV3UKG3fMw3fwmc41OTvq/Bi6qRyhS489/i9vbFVXy3sYKmWHUlz9NbZVot0Hf3j
         /2C0yHBO8akxPrNsniP4G/w5WnBDzvsRlv/8bqfKmgBlg0eK0lyPYqNCFPFlAq319a3s
         x4UUDOVEhMjhd4EHAB9OjaGSaAiDdALB2w3R1VOABFkopTBtcX59aDL+MrqQXhf3MGAa
         rtSNuTa6mEVnAf6j8u2vPuNirowqhxnB9yx6LMb0Em/S6eB4QTJbQLSBZZGxTTOeMbK0
         iVgho3ovJQhjo/b+5VfHPsKbI8TgffJRkU2z+BZZLl/fVMaP6+B/Py1YhThE/+kANumQ
         3RbA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=/BUch+iDdfkt1fbAFHC6vltS6Ufa9afXwufGn5JDfBY=;
        b=Q6K54EHTXA4/MLYLEIwZGl0/chlw4AlHL3H6Xv2x7t/EiyLF4C9OAxPhk8MGXgYzIo
         kBR4l9eSDCecLaIixsx34hxolaF5zPC+GtDOj8o4YuTwiPChCq9bEggSLVF7EHVP+Oby
         0eo5rsT45dLU5rs7EOl34RdXobe8fThwP4CSFDFBK3Iwo+v5EHY69+2ZyUK4FK+qRrbk
         AG3WbfvEGjDGIVscp/pjEnbsqmdSX16PBnyDtEsZ2pZjUItI5QHmlUgylT4BE4d083+6
         Zi9L/lrstsdOJ7dhKJQ+ki0dIKpk6WVaYMIdU+FCYMhdshtlMBD0/DWp7xantmipvBaI
         TyMQ==
X-Gm-Message-State: AG10YOR2CXSBb+TrgMWXHudQugQDeNkkieYBfJy375Zip0xHyvGzKwHL1g0nZPxZ2EVXstOakFi8JjcxJkIWoA==
MIME-Version: 1.0
X-Received: by 10.107.186.195 with SMTP id k186mr21260585iof.90.1456767367385;
 Mon, 29 Feb 2016 09:36:07 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Mon, 29 Feb 2016 09:36:07 -0800 (PST)
In-Reply-To: <CACsi251oO2Ox6_bTo-ceUN+BO3zHBSN0qLK5f6jWB9+8j3QYBA@mail.gmail.com>
References: <B7B7891F-D769-4537-8CCC-8C02B0D5BC97@greenbytes.de>
	<56D34C62.5040406@gknw.net>
	<CACsi251oO2Ox6_bTo-ceUN+BO3zHBSN0qLK5f6jWB9+8j3QYBA@mail.gmail.com>
Date: Mon, 29 Feb 2016 12:36:07 -0500
Message-ID: <CALK=YjP96vCjYh4CxHawWG_LqB0PHFeAPGZiKsFqkrHrG=NLGw@mail.gmail.com>
Subject: Re: state of h2 (long)
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, Feb 29, 2016 at 12:35 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> Huge props to everyone who's contributed on cmake for both httpd's build
> and for our components!

+1, very cool.

-- 
Eric Covener
covener@gmail.com

From dev-return-85714-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 20:33:15 2016
Return-Path: <dev-return-85714-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1EF5E18984
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 20:33:15 +0000 (UTC)
Received: (qmail 48980 invoked by uid 500); 29 Feb 2016 20:33:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48585 invoked by uid 500); 29 Feb 2016 20:33:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48575 invoked by uid 99); 29 Feb 2016 20:33:14 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 20:33:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1CB4AC0287
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 20:33:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Hg8n9I2278Ic for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 20:33:10 +0000 (UTC)
Received: from resqmta-po-04v.sys.comcast.net (resqmta-po-04v.sys.comcast.net [96.114.154.163])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 4FFD25FADB
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 20:33:09 +0000 (UTC)
Received: from resomta-po-08v.sys.comcast.net ([96.114.154.232])
	by resqmta-po-04v.sys.comcast.net with comcast
	id QLYc1s006516pyw01LZ26A; Mon, 29 Feb 2016 20:33:02 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-08v.sys.comcast.net with comcast
	id QLZ01s00S2U0RYt01LZ1dd; Mon, 29 Feb 2016 20:33:02 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: state of h2 (long)
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <B7B7891F-D769-4537-8CCC-8C02B0D5BC97@greenbytes.de>
Date: Mon, 29 Feb 2016 15:33:00 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <74C57D78-2C02-49F4-A104-75A76AE2F493@jaguNET.com>
References: <B7B7891F-D769-4537-8CCC-8C02B0D5BC97@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1456777982;
	bh=zlPqJDR/FguCy/karKGM+l7CgtViiyKttZSdorXih5s=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=A+6+AGSfIOcSA+1LrGkbBGhGyI2ZFjWy31p5mnSHVIJgN+CH93qZN4wUn6EoOk5hz
	 2DyM7aR9YyU5VpbnL3LuKJLOp8CqemPDN2qscLzrZTSukQMh2R3l/A63gTgqBeHxw8
	 nsPasLOTDZk0bwpVgVqNvFeSExo/OnS3azytv1Dxpr3PknGa2K3EYocpjT4uMhHGOX
	 8T2bzsGki5Vir55oU9YhCheFFnUbutfi3RbUs8JWyk/OEUVZoOS3AMn/YAsX1c2o68
	 q7p8ZKGzKEo3AWWlA8dZ+VvcZ2AUeeFW9ShzOqP5avYTDBYuD2vZQjLAkRqW0w1Rpa
	 PC22kJsu4tkGQ==


> On Feb 26, 2016, at 12:06 PM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
>    - And: it could be done for mod_proxy_http, too! I see no reason =
why a single
>      thread cannot use pollsets to juggle a couple of http/1.1 backend =
connections
>      on top of a http/2 master connection.
>=20

I've been digging into how we could better leverage serf on the =
mod_proxy
side w/o going the route of mod_serf itself...  Agreed that using
pollsets et.al. would be useful. Maybe some of the motorz mpm logic
could be used by mod_proxy...?


From dev-return-85715-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 21:55:19 2016
Return-Path: <dev-return-85715-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8EF7218DA2
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 21:55:19 +0000 (UTC)
Received: (qmail 23051 invoked by uid 500); 29 Feb 2016 21:55:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22974 invoked by uid 500); 29 Feb 2016 21:55:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22964 invoked by uid 99); 29 Feb 2016 21:55:18 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 21:55:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1B33CC0287
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 21:55:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 1wmM3vqzh7jN for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 21:55:16 +0000 (UTC)
Received: from mail-wm0-f43.google.com (mail-wm0-f43.google.com [74.125.82.43])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 4EEC85FB2B
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 21:55:16 +0000 (UTC)
Received: by mail-wm0-f43.google.com with SMTP id l68so9402888wml.0
        for <dev@httpd.apache.org>; Mon, 29 Feb 2016 13:55:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=qOWyESpUoxWzwS/bLzikw6LiQESxuEsLr32WcA61RGk=;
        b=SzL8qFkkKEM6IPh8os2fJYJgthuNMn0fSmklkBwOF2jTCQb5EFQUe8BxSCmArCFnvt
         W4Ahc3H0gdpU2VM+9nfS/p8v3d+vGp0E9na0FIk7ZoDotJLlUec803Ilkd79RJEcYs0N
         syYB8uUxbsoZVipENFcIxdDVreXj8kZivGFK76FskrxLW/CNhqENviSIy9BndltvkCyN
         9GLNUYVQSGnqMrFi/qmhiR/NvrCyw77q6f50GsHTmSSxeanlQKxAo8+eCoSDTpuwKVay
         Tlhix+B3yzuyvc+XU3a3Kl5k2MWtSl1d9jsT5coukxZufF+KoxjydQmZrnTNFmq+bNR1
         0ddA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=qOWyESpUoxWzwS/bLzikw6LiQESxuEsLr32WcA61RGk=;
        b=H6iFfmqELYVx36wbsxJUSBRTQ3b7M88zXKVj9WJltyuOW7vPJALvb/H+Gae1YBAs2/
         YIUj1ITMMkPRBbJb9DnBOKjTOVVVntalTfFXsm8tVbVVVSUR7Ev+xtPERVwHXlpLBqOi
         vRRbB9mno0XcT36ebDT2sc2TMcri6gK/SAqzhJVbvrwjeenxTgvV9n3/MIGAm9jDY6uS
         d/yqNeurh81i06GaaUMVbNRlTeqvHOUKcYm0QYLLiCHrQw9lGEQjEW4XurOjxsmpwZnR
         7PIdVa6H93Brq9LKHGXxk9E60FME7VSedRnfXsguFuwzUFLi5JCEIrUP8D0hiw+EqYRv
         PjFA==
X-Gm-Message-State: AD7BkJKCIp230JBrjB2ZKp5tSlu+UeykUJRH7xMDwd9XXKXwLuE9GLpuITw5ah+24ohDNJ8qP9RDNsQKmUlftw==
MIME-Version: 1.0
X-Received: by 10.28.63.200 with SMTP id m191mr167338wma.21.1456782908711;
 Mon, 29 Feb 2016 13:55:08 -0800 (PST)
Received: by 10.28.19.10 with HTTP; Mon, 29 Feb 2016 13:55:08 -0800 (PST)
In-Reply-To: <CACsi251oO2Ox6_bTo-ceUN+BO3zHBSN0qLK5f6jWB9+8j3QYBA@mail.gmail.com>
References: <B7B7891F-D769-4537-8CCC-8C02B0D5BC97@greenbytes.de>
	<56D34C62.5040406@gknw.net>
	<CACsi251oO2Ox6_bTo-ceUN+BO3zHBSN0qLK5f6jWB9+8j3QYBA@mail.gmail.com>
Date: Mon, 29 Feb 2016 13:55:08 -0800
Message-ID: <CAGu=u8gSex0+4KXfmy_rYCdcB-_TOfb-aZ1=rhBihYePx=8Tug@mail.gmail.com>
Subject: Re: state of h2 (long)
From: Jacob Champion <champion.p@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Mon, Feb 29, 2016 at 9:35 AM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> On Sun, Feb 28, 2016 at 1:37 PM, Gregg Smith <gls@gknw.net> wrote:
>>
>> Hi Stefan,
>>
>> I've had a real lack of time lately to do much on trunk's mod_http2 on the
>> windows side. The new mod_proxy_http2 requires a few functions from
>> mod_http2 and with what time I have had I have been unsuccessful figuring
>> out how to get these functions exported. So if you (or anyone else) can
>> figure this out, I'd appreciate it
>
> Looking at this today.

Oops, I probably started duplicating some of your work then. In case
it is still useful... my current work in progress is a set of three
patches, up at

   https://github.com/jchampio/httpd/commits/dev/cmake-http2

The first two patches are general CMake changes:
- use CMake generator expressions so that multi-configuration
generators (e.g. Visual Studio 2015) can correctly install build
artifacts like PDBs
- a change to path quoting so that we can install to paths with quotes
in them (e.g. "Program Files")

The third patch is the one that gets mod_proxy_http2 compiling (export
the three h2_iq symbols, fix up the APLOG usage, etc).

I'm only just figuring out how to actually test the proxy module at
runtime, though, so... caveat emptor.

> Between Jeff's first effort @ https://github.com/trawick/nghttp2-minimal-cmake
> and a broader effort w/
> https://github.com/tatsuhiro-t/nghttp2/issues/448#issuecomment-182849066
> the cmake builds for nghttp2 look almost simple, which is what I'm looking
> at for the moment.

Ooh, nice! My MinGW build of nghttp2 this morning was a little
painful... looking forward to having this.

--Jacob

From dev-return-85716-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Feb 29 22:03:46 2016
Return-Path: <dev-return-85716-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E433F18E46
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Feb 2016 22:03:45 +0000 (UTC)
Received: (qmail 58799 invoked by uid 500); 29 Feb 2016 22:03:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58725 invoked by uid 500); 29 Feb 2016 22:03:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58715 invoked by uid 99); 29 Feb 2016 22:03:45 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Feb 2016 22:03:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id CAECEC0287
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 22:03:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id nMby2uuS4Oxk for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 22:03:42 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 474AF5FB72
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 22:03:42 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 9661C21223
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 23:03:35 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LakX6uO7MQ07 for <dev@httpd.apache.org>;
	Mon, 29 Feb 2016 23:03:35 +0100 (CET)
Received: from [10.0.0.1] (unknown [101.174.32.199])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 6118B20F17
	for <dev@httpd.apache.org>; Mon, 29 Feb 2016 23:03:33 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: Backport of auto proxy(_util) exports?
Message-ID: <56D4C029.7090303@gknw.net>
Date: Tue, 1 Mar 2016 09:03:21 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/M Rainer,
Any known reason your recent tweaks to automatically create the 
mod_proxy exports list cannot be nominated for back-port to 2.4.x?

If there is a technical and/or time constraint I'll submit a patch for 
at least a couple of symbols needed to build 2.4.x/modules/proxy.

Norm

