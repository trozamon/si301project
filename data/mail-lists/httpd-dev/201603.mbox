From dev-return-85717-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 01:43:06 2016
Return-Path: <dev-return-85717-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 38D6E18A07
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 01:43:06 +0000 (UTC)
Received: (qmail 60284 invoked by uid 500); 1 Mar 2016 01:43:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60143 invoked by uid 500); 1 Mar 2016 01:43:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60133 invoked by uid 99); 1 Mar 2016 01:43:05 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 01:43:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id F3174C316B
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 01:43:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 066G1nk3D6-6 for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 01:43:04 +0000 (UTC)
Received: from mail-qk0-f179.google.com (mail-qk0-f179.google.com [209.85.220.179])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 8792B5FADB
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 01:43:03 +0000 (UTC)
Received: by mail-qk0-f179.google.com with SMTP id o6so64304485qkc.2
        for <dev@httpd.apache.org>; Mon, 29 Feb 2016 17:43:03 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=gfk4od7VV2J/N7pxmLGkxLGUb2Oxu72Xqw8EYatAa1E=;
        b=k1mPrNwFAlTHZ5FG/rimeO9GTKqj9Byc937jz8HDUNd8UaiyDV7PnKfV0BPSzMPuGH
         NCyfha8+Fa5g/B1PRK8Aci79RU0jzgxTM1YRyAYQsSiU8HY7A90TL4uFsqIai5Sz5+Ad
         +2ZNHnbRatMeVDzmgNcpUMoNOPWObJYEiYgl6Os9RjZSjLAnL3JMiwE47Kzu9EhI96jQ
         cZYVoQdPYwH3CgieSoztMadDlQ6AwAfSeQt0qjrOR2YUf6tBx/6tbvrQ3UMzD65aYLPk
         3w8yYFXDrOVe7KRpyjfbInoIyqT87o4mIIS85SPRnKlCQpb20GMh7Nlz9vTD3YUEUFQd
         6ifg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=gfk4od7VV2J/N7pxmLGkxLGUb2Oxu72Xqw8EYatAa1E=;
        b=ckZPj7Z9+m9EySLbzdbVYSQQb8mcvwOOHVRSv62iHV7c88IoFQQP3O7Zp9GZd5PeBN
         +57IA91fjBGP33JqqXLmdrysGCBz4+LSjqW7cF7Q6uaZ3RZ7EHLudC2n/xuT95YWJv/t
         GCsOOqWqA14Eojs2GhcoPFdJvh1mMFRaPFw9W36mHq3mtIMZkoiIIGL6sxJll+h1Ncko
         8ldbI6r33chFqI6/jjyaaiJlmh3CvhlL4zo4kMO+YgEuBGOd0gVzs/dAh95dsq1eBNgz
         XNz9lYQHXSJfZWgT0qoN0cMykXCK0sEdJpLqW5Z+Nr/Cr+F+UJzOcQRsQ+CruEBVfP1M
         2h8Q==
X-Gm-Message-State: AD7BkJITGrYSSz+BWAeKKaBcUg/BPEqTlh9oU069vHlEgy9r4kESaRux3xKVc0jFv409XlYCEfk5owjnzc1kTg==
MIME-Version: 1.0
X-Received: by 10.55.200.215 with SMTP id t84mr23808841qkl.55.1456796576181;
 Mon, 29 Feb 2016 17:42:56 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Mon, 29 Feb 2016 17:42:56 -0800 (PST)
In-Reply-To: <56BCABEF.5090403@apache.org>
References: <20160211145704.7B7FC3A09FC@svn01-us-west.apache.org>
	<56BCABEF.5090403@apache.org>
Date: Tue, 1 Mar 2016 02:42:56 +0100
Message-ID: <CAKQ1sVMvD=awEWwTbYWRTGuBR0GSTy0muTC_nCFH99aWFZFL9Q@mail.gmail.com>
Subject: Re: svn commit: r1729847 - /httpd/httpd/trunk/modules/proxy/proxy_util.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Feb 11, 2016 at 4:42 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>
> In general this looks fine. We only run in trouble if something provided in the Host header is longer then
> PROXY_WORKER_MAX_HOSTNAME_SIZE (in case of ProxyPreserveHost on). Then we loose the SNI hostname on these requests.
> Probably never happens, but could be fun to debug if it happens :-).
> So probably HUGE_STRING_LEN would be better, but a huge waste of stack resources in most cases for sure.

It seems that RFC1035 limits host/DNS names to 255/253 (not clear if
it's for each or both when the host name is dotted with the domain
name), so I choose 512 (should be enough in any case including the
trailing \0) as the limit in r1732986...

Backport proposed in r1732988.

Thanks for the review,
Yann.

From dev-return-85718-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 03:09:49 2016
Return-Path: <dev-return-85718-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BAA3618D54
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 03:09:49 +0000 (UTC)
Received: (qmail 14413 invoked by uid 500); 1 Mar 2016 03:09:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14336 invoked by uid 500); 1 Mar 2016 03:09:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14326 invoked by uid 99); 1 Mar 2016 03:09:48 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 03:09:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id B6B1C1A0CE6
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 03:09:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.63
X-Spam-Level:
X-Spam-Status: No, score=-2.63 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.329,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id qybLRiCkcXSo for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 03:09:45 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTP id 537CC5FB0D
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 03:09:45 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u2139ilQ014338
	for <dev@httpd.apache.org>; Tue, 1 Mar 2016 04:09:44 +0100 (CET)
Subject: Re: Backport of auto proxy(_util) exports?
To: dev@httpd.apache.org
References: <56D4C029.7090303@gknw.net>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56D507F6.4040209@kippdata.de>
Date: Tue, 1 Mar 2016 04:09:42 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <56D4C029.7090303@gknw.net>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 29.02.2016 um 23:03 schrieb NormW:
> G/M Rainer,
> Any known reason your recent tweaks to automatically create the
> mod_proxy exports list cannot be nominated for back-port to 2.4.x?

Not that I'm aware off. Things have settled a bit now, so probably it' 
the time to propose a backport.

> If there is a technical and/or time constraint I'll submit a patch for
> at least a couple of symbols needed to build 2.4.x/modules/proxy.

That would be great!

Rainer

From dev-return-85719-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 10:44:12 2016
Return-Path: <dev-return-85719-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C1AE919A95
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 10:44:12 +0000 (UTC)
Received: (qmail 89068 invoked by uid 500); 1 Mar 2016 10:44:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88980 invoked by uid 500); 1 Mar 2016 10:44:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88969 invoked by uid 99); 1 Mar 2016 10:44:12 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 10:44:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8BE751805A8
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 10:44:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.262
X-Spam-Level:
X-Spam-Status: No, score=0.262 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RDNS_DYNAMIC=0.363, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=A78sdc9m;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=XdmCrTKb
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id S18DT9VbdYvj for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 10:44:09 +0000 (UTC)
Received: from mail.greenbytes.de (b2b-5-10-171-186.unitymedia.biz [5.10.171.186])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id EFBC25F5A5
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 10:44:08 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 03B1115A09D5; Tue,  1 Mar 2016 11:44:02 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456829042; bh=IswVod62voG/7QQToUpZDp6EJ75Z0mVLMBxAzESc7vg=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=A78sdc9mhxfcLkPcRmKzYA2jOBkqk1M7aBWcBaXKXR+pBalYyyXhl+CkWzEfM7iZO
	 WHGAc+SV6okEBVKKarCRqIJf0cW66Or0h5HRiEtRw11wc9FvpI7pGgdMFTgyXjck+x
	 cOgvemRbvBLBuCaRz/7GvdssaiemQAosnm+ChxEI=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 6B3D015A0740
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 11:44:00 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456829040; bh=IswVod62voG/7QQToUpZDp6EJ75Z0mVLMBxAzESc7vg=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=XdmCrTKbfEW1gcuCwTleFDeMA9oklgXYAE8L38VgSOdanGEH4rPJVImxN+Hn1kRZn
	 VimlEC7qFeS+0WwZdPWGwVpzoqmR9T52KzV/S3cX97xAPSXsgKhVxNDSg1RRTMGd3Q
	 rUwrGYwJ5/LF/iMErck8KRvb8BZKm0z2nsv/8Buw=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: state of h2 (long)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAGu=u8gSex0+4KXfmy_rYCdcB-_TOfb-aZ1=rhBihYePx=8Tug@mail.gmail.com>
Date: Tue, 1 Mar 2016 11:44:00 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <E446CF21-BA23-4B16-9101-971F0C9B377D@greenbytes.de>
References: <B7B7891F-D769-4537-8CCC-8C02B0D5BC97@greenbytes.de> <56D34C62.5040406@gknw.net> <CACsi251oO2Ox6_bTo-ceUN+BO3zHBSN0qLK5f6jWB9+8j3QYBA@mail.gmail.com> <CAGu=u8gSex0+4KXfmy_rYCdcB-_TOfb-aZ1=rhBihYePx=8Tug@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

I am very glad that someone is looking into this... if I can be of any =
help, let me know.

> Am 29.02.2016 um 22:55 schrieb Jacob Champion <champion.p@gmail.com>:
>=20
> On Mon, Feb 29, 2016 at 9:35 AM, William A Rowe Jr =
<wrowe@rowe-clan.net> wrote:
>> On Sun, Feb 28, 2016 at 1:37 PM, Gregg Smith <gls@gknw.net> wrote:
>>>=20
>>> Hi Stefan,
>>>=20
>>> I've had a real lack of time lately to do much on trunk's mod_http2 =
on the
>>> windows side. The new mod_proxy_http2 requires a few functions from
>>> mod_http2 and with what time I have had I have been unsuccessful =
figuring
>>> out how to get these functions exported. So if you (or anyone else) =
can
>>> figure this out, I'd appreciate it
>>=20
>> Looking at this today.
>=20
> Oops, I probably started duplicating some of your work then. In case
> it is still useful... my current work in progress is a set of three
> patches, up at
>=20
>   https://github.com/jchampio/httpd/commits/dev/cmake-http2
>=20
> The first two patches are general CMake changes:
> - use CMake generator expressions so that multi-configuration
> generators (e.g. Visual Studio 2015) can correctly install build
> artifacts like PDBs
> - a change to path quoting so that we can install to paths with quotes
> in them (e.g. "Program Files")
>=20
> The third patch is the one that gets mod_proxy_http2 compiling (export
> the three h2_iq symbols, fix up the APLOG usage, etc).
>=20
> I'm only just figuring out how to actually test the proxy module at
> runtime, though, so... caveat emptor.
>=20
>> Between Jeff's first effort @ =
https://github.com/trawick/nghttp2-minimal-cmake
>> and a broader effort w/
>> =
https://github.com/tatsuhiro-t/nghttp2/issues/448#issuecomment-182849066
>> the cmake builds for nghttp2 look almost simple, which is what I'm =
looking
>> at for the moment.
>=20
> Ooh, nice! My MinGW build of nghttp2 this morning was a little
> painful... looking forward to having this.
>=20
> --Jacob


From dev-return-85720-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 11:58:24 2016
Return-Path: <dev-return-85720-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D85EA19E9E
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 11:58:24 +0000 (UTC)
Received: (qmail 28147 invoked by uid 500); 1 Mar 2016 11:58:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28065 invoked by uid 500); 1 Mar 2016 11:58:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28055 invoked by uid 99); 1 Mar 2016 11:58:14 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 11:58:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 4643DC0D25
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 11:58:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id x9IrlN_FYy-5 for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 11:58:13 +0000 (UTC)
Received: from resqmta-po-08v.sys.comcast.net (resqmta-po-08v.sys.comcast.net [96.114.154.167])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 7B89B5FBF8
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 11:58:12 +0000 (UTC)
Received: from resomta-po-01v.sys.comcast.net ([96.114.154.225])
	by resqmta-po-08v.sys.comcast.net with comcast
	id Qby51s0054s37d401by5iJ; Tue, 01 Mar 2016 11:58:05 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-01v.sys.comcast.net with comcast
	id Qby41s00E2U0RYt01by4M3; Tue, 01 Mar 2016 11:58:05 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1732986 - /httpd/httpd/trunk/modules/proxy/proxy_util.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <20160301012007.3D5093A024F@svn01-us-west.apache.org>
Date: Tue, 1 Mar 2016 06:58:04 -0500
Cc: cvs@httpd.apache.org
Content-Transfer-Encoding: quoted-printable
Message-Id: <8C0ABDEA-FAAB-434A-91BF-735DCB7E8803@jaguNET.com>
References: <20160301012007.3D5093A024F@svn01-us-west.apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1456833485;
	bh=IfBmeJq/tC8otf9HkqfRk3+ofick2DlUU0GPvjg42YQ=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=ko/ur4QuSn70kA+q70DRCpkpiPAu+tsjTQqYLGPczuyIZLrmThGzfhp4VoojJW1qQ
	 A2oiriMxu0bKtydBSM5aNa1nxgCoLiZN3hjSqbqbMzlv5+UolMzWyheW9rHq+np3wU
	 GAZwAY5w4X8qM+zYI6MlQkFNaNa+UUdKOBze++J6rOBtzxZBsTZOxYWEvO/ny2mHBV
	 sAmIPwdu7XJaQ5Lx2wDHpVFmDk21nBM8k4XRmtqs9PMTZCyqG0hAogPvsqMQcPs0cN
	 5CCHU7g7n3sUeQabhLOYcO/hCvvAs9ZWKwoUyGLney5Pmb2KT4+bTN8VBIdGc10TKQ
	 T4OKGJ34896FQ==

I'd prefer we use a define, eg:

#define PROXY_WORKER_RFC1035_SIZE 512

rather than embedding magic numbers...

> On Feb 29, 2016, at 8:20 PM, ylavic@apache.org wrote:
>=20
> Author: ylavic
> Date: Tue Mar  1 01:20:06 2016
> New Revision: 1732986
>=20
> URL: http://svn.apache.org/viewvc?rev=3D1732986&view=3Drev
> Log:
> mod_proxy: follow up to r1729826 + r1729847.
> Adjust stacked ssl_hostname maximum size.
>=20
> Modified:
>    httpd/httpd/trunk/modules/proxy/proxy_util.c
>=20
> Modified: httpd/httpd/trunk/modules/proxy/proxy_util.c
> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/proxy_util.c?=
rev=3D1732986&r1=3D1732985&r2=3D1732986&view=3Ddiff
> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
> --- httpd/httpd/trunk/modules/proxy/proxy_util.c (original)
> +++ httpd/httpd/trunk/modules/proxy/proxy_util.c Tue Mar  1 01:20:06 =
2016
> @@ -2721,7 +2721,7 @@ PROXY_DECLARE(int) ap_proxy_connect_back
>              * restore any ssl_hostname for this connection set =
earlier by
>              * ap_proxy_determine_connection().
>              */
> -            char ssl_hostname[PROXY_WORKER_MAX_HOSTNAME_SIZE];
> +            char ssl_hostname[512]; /* host+domain names max =
(rfc1035-2.3.4) */
>             if (!conn->ssl_hostname || PROXY_STRNCPY(ssl_hostname,
>                                                      =
conn->ssl_hostname)) {
>                 ssl_hostname[0] =3D '\0';
>=20
>=20


From dev-return-85721-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 12:26:27 2016
Return-Path: <dev-return-85721-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7C90B19F81
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 12:26:27 +0000 (UTC)
Received: (qmail 87621 invoked by uid 500); 1 Mar 2016 12:26:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 87532 invoked by uid 500); 1 Mar 2016 12:26:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87522 invoked by uid 99); 1 Mar 2016 12:26:26 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 12:26:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id D33F21A0D13
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 12:26:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.298
X-Spam-Level:
X-Spam-Status: No, score=0.298 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id APsXWaINpGS9 for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 12:26:24 +0000 (UTC)
Received: from mail1.bemta3.messagelabs.com (mail1.bemta3.messagelabs.com [195.245.230.168])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 7F5435FADB
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 12:26:23 +0000 (UTC)
Received: from [195.245.230.51] by server-8.bemta-3.messagelabs.com id F6/AA-04050-96A85D65; Tue, 01 Mar 2016 12:26:17 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-12.tower-33.messagelabs.com!1456835176!18902921!1
X-Originating-IP: [195.232.244.133]
X-StarScan-Received:
X-StarScan-Version: 8.11; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 25340 invoked from network); 1 Mar 2016 12:26:16 -0000
Received: from mailout01.vodafone.com (HELO mailout01.vodafone.com) (195.232.244.133)
  by server-12.tower-33.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 1 Mar 2016 12:26:16 -0000
Received: from mailint03.vodafone.com (mailint03.vodafone.com [195.232.244.200])
	by mailout01.vodafone.com (Postfix) with ESMTP id 3qDyP45LlWz1yBX
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 13:26:16 +0100 (CET)
Received: from mailint03.vodafone.com (localhost [127.0.0.1])
	by mailint03.vodafone.com (Postfix) with ESMTP id 3qDyP44RGGz16KG1
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 13:26:16 +0100 (CET)
Received: from VOEXC02W.internal.vodafone.com (voexc02w.dc-ratingen.de [145.230.101.22])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint03.vodafone.com (Postfix) with ESMTPS id 3qDyP443wTz16K9W
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 13:26:16 +0100 (CET)
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.216]) by
 VOEXC02W.internal.vodafone.com ([145.230.101.22]) with mapi id
 14.03.0224.002; Tue, 1 Mar 2016 13:26:16 +0100
From: =?iso-8859-1?Q?Pl=FCm=2C_R=FCdiger=2C_Vodafone_Group?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: svn commit: r1732986 -
 /httpd/httpd/trunk/modules/proxy/proxy_util.c
Thread-Topic: svn commit: r1732986 -
 /httpd/httpd/trunk/modules/proxy/proxy_util.c
Thread-Index: AQHRc7GlqlwEUnFDu0Wwcf1q4UJ01J9Eg6Jw
Date: Tue, 1 Mar 2016 12:26:15 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627ACA0089FB@VOEXM10W.internal.vodafone.com>
References: <20160301012007.3D5093A024F@svn01-us-west.apache.org>
 <8C0ABDEA-FAAB-434A-91BF-735DCB7E8803@jaguNET.com>
In-Reply-To: <8C0ABDEA-FAAB-434A-91BF-735DCB7E8803@jaguNET.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0



> -----Original Message-----
> From: Jim Jagielski [mailto:jim@jaguNET.com]
> Sent: Dienstag, 1. M=E4rz 2016 12:58
> To: dev@httpd.apache.org
> Cc: cvs@httpd.apache.org
> Subject: Re: svn commit: r1732986 -
> /httpd/httpd/trunk/modules/proxy/proxy_util.c
>=20
> I'd prefer we use a define, eg:
>=20
> #define PROXY_WORKER_RFC1035_SIZE 512
>=20
> rather than embedding magic numbers...

+1

Regards

R=FCdiger

>=20
> > On Feb 29, 2016, at 8:20 PM, ylavic@apache.org wrote:
> >
> > Author: ylavic
> > Date: Tue Mar  1 01:20:06 2016
> > New Revision: 1732986
> >
> > URL: http://svn.apache.org/viewvc?rev=3D1732986&view=3Drev
> > Log:
> > mod_proxy: follow up to r1729826 + r1729847.
> > Adjust stacked ssl_hostname maximum size.
> >
> > Modified:
> >    httpd/httpd/trunk/modules/proxy/proxy_util.c
> >
> > Modified: httpd/httpd/trunk/modules/proxy/proxy_util.c
> > URL:
> http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/proxy_util.c=
?
> rev=3D1732986&r1=3D1732985&r2=3D1732986&view=3Ddiff
> >
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> =3D=3D=3D=3D
> > --- httpd/httpd/trunk/modules/proxy/proxy_util.c (original)
> > +++ httpd/httpd/trunk/modules/proxy/proxy_util.c Tue Mar  1 01:20:06
> 2016
> > @@ -2721,7 +2721,7 @@ PROXY_DECLARE(int) ap_proxy_connect_back
> >              * restore any ssl_hostname for this connection set earlier
> by
> >              * ap_proxy_determine_connection().
> >              */
> > -            char ssl_hostname[PROXY_WORKER_MAX_HOSTNAME_SIZE];
> > +            char ssl_hostname[512]; /* host+domain names max (rfc1035-
> 2.3.4) */
> >             if (!conn->ssl_hostname || PROXY_STRNCPY(ssl_hostname,
> >                                                      conn-
> >ssl_hostname)) {
> >                 ssl_hostname[0] =3D '\0';
> >
> >


From dev-return-85722-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 12:40:28 2016
Return-Path: <dev-return-85722-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 810601801E
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 12:40:28 +0000 (UTC)
Received: (qmail 19081 invoked by uid 500); 1 Mar 2016 12:40:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19021 invoked by uid 500); 1 Mar 2016 12:40:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19010 invoked by uid 99); 1 Mar 2016 12:40:28 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 12:40:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 9A336C3536
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 12:40:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id fENmuys4vuPg for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 12:40:26 +0000 (UTC)
Received: from mail-qg0-f54.google.com (mail-qg0-f54.google.com [209.85.192.54])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 24D1A5FBBD
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 12:40:26 +0000 (UTC)
Received: by mail-qg0-f54.google.com with SMTP id b67so140311856qgb.1
        for <dev@httpd.apache.org>; Tue, 01 Mar 2016 04:40:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-transfer-encoding;
        bh=EVxgbN2lBlSDxGq+Yvtya9ujuLCSoNME1L9/lmSm0X4=;
        b=BvVn7yWO/qiuvlXJY1wHTrr8RVhVdWS+q+uRGt31LfQlGQOwvDmjjjCHTviS2YlkUi
         4vtlwcnocmSLfeXhHi0DkRA9hRE2kmR58ewM32l7i+wnsxTt7TmpRFnMpRzANpMdRr+D
         Gt38kpqViK9dzcJxSOZ7pBSozzGjk/F8Srr5oSgOFoGh/RMK5jPJzerMVKkZgtRrAZfE
         QPeAk+buym50bp3p2Fpili2wDHr/o/xTjg3cJSDm0os+7w3C/8lmDD1GbpiYo+SeVk1/
         nOu8t9+Z5vBPiXH3gzwl/41qKchqtkKNNziGrd/dPXUNk1VODSxEoQ8fp6I1Hy2MXlhS
         mmSQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-transfer-encoding;
        bh=EVxgbN2lBlSDxGq+Yvtya9ujuLCSoNME1L9/lmSm0X4=;
        b=JmB797sUtfivDwjG2kdJxP0DBrywl/HIWDmir+N5wgYQQUsaComspl3Qu9Iy/7P6ma
         /jJQ7qMbybhDIVym7EcXutjcLKysYshJDjdpGWF+NuzdPozDi4Ho5Te3XjP/dvzAK47g
         /PrfC5dkI6ypqa8ljBzX5ovv90dpMiC0YC78YsjH0bnqHgzcQ3Ws6J8Xs80RFA+ht8uU
         hSf4Tut8oyqZdwqcO7jzx7aEmidA/zzXGo8vUSeK9YlyOqnjT8KAL9tS6pOZYCUpZlIR
         /CaY9s1t5XDafvYNyvLpjFTFkRn1T4gTlmCNwkkxnox9gtaQTxoOcl9xhSb8gD2i+uLV
         3g4Q==
X-Gm-Message-State: AD7BkJKS7rxMgUqF/PIduN1lIcjP5YSVm6BrQvvbKhFuX3EnImoYqOTdl5WHpMGMwXsTITDULd9YDQKujaTw3w==
MIME-Version: 1.0
X-Received: by 10.140.166.6 with SMTP id m6mr3700857qhm.70.1456836019361; Tue,
 01 Mar 2016 04:40:19 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Tue, 1 Mar 2016 04:40:19 -0800 (PST)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627ACA0089FB@VOEXM10W.internal.vodafone.com>
References: <20160301012007.3D5093A024F@svn01-us-west.apache.org>
	<8C0ABDEA-FAAB-434A-91BF-735DCB7E8803@jaguNET.com>
	<AB1691BE05AE7F4992697F2A0835627ACA0089FB@VOEXM10W.internal.vodafone.com>
Date: Tue, 1 Mar 2016 13:40:19 +0100
Message-ID: <CAKQ1sVPD_yq4ZLoPqTcJkRE-=GwnVkB3V2c3NOzA_4KfYC7UZw@mail.gmail.com>
Subject: Re: svn commit: r1732986 - /httpd/httpd/trunk/modules/proxy/proxy_util.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Tue, Mar 1, 2016 at 1:26 PM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
>
>> From: Jim Jagielski [mailto:jim@jaguNET.com]
>>
>> I'd prefer we use a define, eg:
>>
>> #define PROXY_WORKER_RFC1035_SIZE 512
>>
>> rather than embedding magic numbers...
>
> +1

Agreed, much better, committed in r1733056.

Thanks for the review,
Yann.

From dev-return-85723-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 12:45:07 2016
Return-Path: <dev-return-85723-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E369B18070
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 12:45:06 +0000 (UTC)
Received: (qmail 24348 invoked by uid 500); 1 Mar 2016 12:45:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 24279 invoked by uid 500); 1 Mar 2016 12:45:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 24270 invoked by uid 99); 1 Mar 2016 12:45:03 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 12:45:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 06AD5C3543
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 12:45:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 0JoJiYuJXe5s for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 12:45:02 +0000 (UTC)
Received: from jiboia.ensmp.fr (jiboia.ensmp.fr [194.214.158.137])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id E43505F39C
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 12:45:01 +0000 (UTC)
Received: from cri.ensmp.fr (nat-any-rnt.cri.ensmp.fr [195.83.117.252])
	(authenticated bits=0)
	by jiboia.ensmp.fr (8.15.2/8.15.1/JMMC-22/Oct/2013) with ESMTPSA id u21Ciser011836
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Tue, 1 Mar 2016 13:44:55 +0100
Date: Tue, 1 Mar 2016 13:44:54 +0100 (CET)
From: fabien@apache.org
X-X-Sender: fabien@sto
To: APACHE development mailing list <dev@httpd.apache.org>
Subject: Re: access control for dynamic hosts
In-Reply-To: <56D417E2.3030408@thelounge.net>
Message-ID: <alpine.DEB.2.10.1603011337370.18133@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto> <CAA=k7mUMDyTNdfagxsejQM49DF8jh5rw+CmDy3_4fJ3MY0sgCQ@mail.gmail.com> <alpine.DEB.2.10.1601142224300.1035@sto> <CAA=k7mUcBTXkMsk99P1akQBkR_ayFwScP1PQzQDZwknPHDS4rw@mail.gmail.com> <alpine.DEB.2.10.1602290712290.11546@sto>
 <56D417E2.3030408@thelounge.net>
User-Agent: Alpine 2.10 (DEB 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; format=flowed; charset=US-ASCII
X-Miltered: at jiboia.ensmp.fr with ID 56D58EC6.000 by Joe's j-chkmail (http : // j-chkmail dot ensmp dot fr)!
X-j-chkmail-Auth: USER-ID fabien.coelho
X-j-chkmail-Enveloppe: 56D58EC6.000 from nat-any-rnt.cri.ensmp.fr/nat-any-rnt.cri.ensmp.fr/195.83.117.252/cri.ensmp.fr/<fabien@apache.org>


>> This feature makes sense because it allows to allow a full domain, say
>> "apache.org", any host of which the inverse dns resolves to the domain
>> can then be allowed.
>> 
>> But this also means that if the reverse dns is not controlled, say with
>> the dynamic dns and a moving ip, ip control does not work, hence my
>> proposal for a lesser version which just checks that a client ip is
>> allowed just by resolving a name.
>
> that is unsafe

> it takes me exactly 5 seconds to add a PTR "myserver.apache.org" to one of 
> our public ip-addresses if i would like to and nobody can do anything against 
> it except check if the A record matchs because that can only be controlled by 
> the domain owner

Indeed, but then "host" also checks that forward resolution works, that is 
"myserver.apache.org" must *also* point back to the same IP.

> the same for anybody else who has a /24 or bigger network and the reverse dns 
> delegated to his own namservers - i would not do such things, others would 
> and so it's nothing to hand authentication on it

Sure, the second forward checks that all is well.


The feature I'm proposing is not related to that. I'm suggesting to have a 
way to specify host names *only* which are checked forward *only*.

   Require xxx foo.apache.org
   # allows ip of "foo.apache.org", just be resolving the name

For use with dyndns services.

-- 
Fabien.

From dev-return-85724-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 13:19:38 2016
Return-Path: <dev-return-85724-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7B61518196
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 13:19:38 +0000 (UTC)
Received: (qmail 85447 invoked by uid 500); 1 Mar 2016 13:19:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85377 invoked by uid 500); 1 Mar 2016 13:19:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85362 invoked by uid 99); 1 Mar 2016 13:19:37 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 13:19:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 60D031800ED
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 13:19:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id lLCXesh6Lfcq for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 13:19:36 +0000 (UTC)
Received: from mail-qk0-f176.google.com (mail-qk0-f176.google.com [209.85.220.176])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 887DA5FAD8
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 13:19:36 +0000 (UTC)
Received: by mail-qk0-f176.google.com with SMTP id x1so68756914qkc.1
        for <dev@httpd.apache.org>; Tue, 01 Mar 2016 05:19:36 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=NsIDG6CkQIF5zPAOoBERaNdB/kiQxxCbxsSUEUFi81A=;
        b=zpuF0XUj77p+bSu2HTXWzM9EVxXfivH1XqG1RQu99paND4Z4T1F2CzV8LFbsRWV4us
         aVsw86sH6kZEjuwNLTK5Bb5xCU98tPrsei0Xhk9Zy+b9GlyrI+NmEO+4iFdx3vKCjC9W
         lL3OLankd4zzgFMbPu6xpIpN06HvOVqJQFaZ2qiMXME5tXhAsQQQHVm9toDURNsId4/G
         WhwlDlqnSnZra2AnIcJIXbmzY2IGORAJwn+OsXmS1yPIQ1zMhE04Kzt65jrP2zm0dHQ2
         MTyxGzgp0F0xWSiBX5V/HGmkIIz0ldAYL7hKAY6Idjd6Pg2TUHhRccR+kMgbjf6pQf9H
         sy9Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=NsIDG6CkQIF5zPAOoBERaNdB/kiQxxCbxsSUEUFi81A=;
        b=ezES+QOtrQZk0Lp+gLzb4IIMrjjmH+9eUQf2tX0+TQ+VbriwPH1J6q4WFVgOUNt7DH
         7JLQIMgFMsIGFJgc+uKe5ujTi+yJuZpPZpeLlEzF1cgk3/fDhq5s5WeWuiC+yIw691F6
         MnWX9Fn9+wR+9HwxrYOLPtLDpWfcaBKevFfUZGgAGR5BWN/IwpiYV1pTCYVVB5EgpTv4
         Yz/ZkeOGA+B0ex4px2p0Q7EOqMdvC+hJrJCdZn3n8u/dHQ+S6Nc0ms0SaKMjVHsXdU97
         45sdJEDN0Mw/Y25r3itWbhcmbudLTc9xaQ/h4nF0ZV4PCOXt/90AjBZweaoUaic2jsr3
         a1vA==
X-Gm-Message-State: AD7BkJLlg8morgMsDZlrWs6xVC+ZVKEle4JcxtcqBMgjlnkpwgLtyHG5ZF1EK6vrKa/MoNCzmTa+wcjxHfLHOA==
MIME-Version: 1.0
X-Received: by 10.55.75.203 with SMTP id y194mr26722672qka.2.1456838370304;
 Tue, 01 Mar 2016 05:19:30 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Tue, 1 Mar 2016 05:19:30 -0800 (PST)
In-Reply-To: <alpine.DEB.2.10.1601140936560.28426@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto>
	<alpine.DEB.2.10.1601140936560.28426@sto>
Date: Tue, 1 Mar 2016 14:19:30 +0100
Message-ID: <CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com>
Subject: Re: access control for dynamic hosts
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi Fabien,

On Thu, Jan 14, 2016 at 9:38 AM, Fabien <fabien@apache.org> wrote:
>
> Would anyone have an opinion, please?
>
> Although I can just commit the proposed changes, a formal go would be nice.

Looks good to me.

It would have to be documented though, especially the difference with
"Require host" and maybe their complementarity (wrt security).

How about "Require dns" (and mod_authz_dns) for the name?

Regards,
Yann.

From dev-return-85725-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 13:51:33 2016
Return-Path: <dev-return-85725-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3E62D182B6
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 13:51:33 +0000 (UTC)
Received: (qmail 51179 invoked by uid 500); 1 Mar 2016 13:51:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51118 invoked by uid 500); 1 Mar 2016 13:51:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51107 invoked by uid 99); 1 Mar 2016 13:51:29 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 13:51:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 9F1991A10BB
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 13:51:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.651
X-Spam-Level:
X-Spam-Status: No, score=-0.651 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=2, RCVD_IN_DNSWL_MED=-2.3,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RP_MATCHES_RCVD=-0.329, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id fO3gEFJlNdlh for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 13:51:26 +0000 (UTC)
Received: from mx1.cpanel.net (mx1.cpanel.net [208.74.121.68])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 6FD255FAD8
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 13:51:26 +0000 (UTC)
Received: from ng2.cptxoffice.net ([208.74.121.106]:28876 helo=[10.7.7.38])
	by mx1.cpanel.net with esmtpsa (TLSv1:ECDHE-RSA-AES256-SHA:256)
	(Exim 4.86)
	(envelope-from <jacob.perkins@cpanel.net>)
	id 1aakhs-0002P3-1r
	for dev@httpd.apache.org; Tue, 01 Mar 2016 07:51:20 -0600
Content-Type: multipart/signed; boundary="Apple-Mail=_95C163BB-A4F9-41C4-8B17-CC25E1788348"; protocol="application/pgp-signature"; micalg=pgp-sha512
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: access control for dynamic hosts
X-Pgp-Agent: GPGMail 2.6b2
From: Jacob Perkins <jacob.perkins@cpanel.net>
In-Reply-To: <alpine.DEB.2.10.1603011337370.18133@sto>
Date: Tue, 1 Mar 2016 07:51:19 -0600
Message-Id: <1773CF50-E28D-4FEE-832C-29579C5AE676@cpanel.net>
References: <alpine.DEB.2.10.1512200931040.29581@sto> <CAA=k7mUMDyTNdfagxsejQM49DF8jh5rw+CmDy3_4fJ3MY0sgCQ@mail.gmail.com> <alpine.DEB.2.10.1601142224300.1035@sto> <CAA=k7mUcBTXkMsk99P1akQBkR_ayFwScP1PQzQDZwknPHDS4rw@mail.gmail.com> <alpine.DEB.2.10.1602290712290.11546@sto> <56D417E2.3030408@thelounge.net> <alpine.DEB.2.10.1603011337370.18133@sto>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - mx1.cpanel.net
X-AntiAbuse: Original Domain - httpd.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - cpanel.net
X-Get-Message-Sender-Via: mx1.cpanel.net: authenticated_id: jacob.perkins@cpanel.net
X-Authenticated-Sender: mx1.cpanel.net: jacob.perkins@cpanel.net


--Apple-Mail=_95C163BB-A4F9-41C4-8B17-CC25E1788348
Content-Type: multipart/alternative;
	boundary="Apple-Mail=_6F4569A4-7443-4653-8048-55AF19765943"


--Apple-Mail=_6F4569A4-7443-4653-8048-55AF19765943
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8

This would be a god send. I personally use a lot of dynamic hosts from =
my ISP, in that I=E2=80=99m unable to control the rDNS records of the =
IPs I=E2=80=99m assigned. Having an option for checks going =
=E2=80=98forward=E2=80=99 only would be terrific.

=E2=80=94
Jacob Perkins
Product Owner
cPanel Inc.

jacob.perkins@cpanel.net <mailto:jacob.perkins@cpanel.net>
Office:  713-529-0800 x 4046
Cell:  713-560-8655

> On Mar 1, 2016, at 6:44 AM, fabien@apache.org wrote:
>=20
>  Require xxx foo.apache.org <http://foo.apache.org/>
>  # allows ip of "foo.apache.org <http://foo.apache.org/>", just be =
resolving the name
>=20
> For use with dyndns services.
>=20


--Apple-Mail=_6F4569A4-7443-4653-8048-55AF19765943
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html;
	charset=utf-8

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html =
charset=3Dutf-8"></head><body style=3D"word-wrap: break-word; =
-webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" =
class=3D"">This would be a god send. I personally use a lot of dynamic =
hosts from my ISP, in that I=E2=80=99m unable to control the rDNS =
records of the IPs I=E2=80=99m assigned. Having an option for checks =
going =E2=80=98forward=E2=80=99 only would be terrific.<br class=3D""><div=
 class=3D"">
<div style=3D"color: rgb(0, 0, 0); font-family: Helvetica; font-size: =
12px; font-style: normal; font-variant: normal; font-weight: normal; =
letter-spacing: normal; line-height: normal; text-align: -webkit-auto; =
text-indent: 0px; text-transform: none; white-space: normal; =
word-spacing: 0px; -webkit-text-stroke-width: 0px; orphans: 2; widows: =
2; word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><br =
class=3D"Apple-interchange-newline">=E2=80=94</div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D"">Jacob Perkins<br class=3D""></div><div =
style=3D"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; =
font-style: normal; font-variant: normal; font-weight: normal; =
letter-spacing: normal; line-height: normal; text-align: -webkit-auto; =
text-indent: 0px; text-transform: none; white-space: normal; =
word-spacing: 0px; -webkit-text-stroke-width: 0px; orphans: 2; widows: =
2; word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D"">Product Owner</div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><b class=3D""><font color=3D"#ff7c00" =
class=3D"">cPanel Inc.</font></b></div><div style=3D"color: rgb(0, 0, =
0); font-family: Helvetica; font-size: 12px; font-style: normal; =
font-variant: normal; font-weight: normal; letter-spacing: normal; =
line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><br class=3D""></div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><a href=3D"mailto:jacob.perkins@cpanel.net"=
 class=3D"">jacob.perkins@cpanel.net</a></div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D"">Office: &nbsp;713-529-0800 =
x&nbsp;4046</div><div style=3D"color: rgb(0, 0, 0); font-family: =
Helvetica; font-size: 12px; font-style: normal; font-variant: normal; =
font-weight: normal; letter-spacing: normal; line-height: normal; =
text-align: -webkit-auto; text-indent: 0px; text-transform: none; =
white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; =
orphans: 2; widows: 2; word-wrap: break-word; -webkit-nbsp-mode: space; =
-webkit-line-break: after-white-space;" class=3D"">Cell: =
&nbsp;713-560-8655</div>
</div>
<br class=3D""><div><blockquote type=3D"cite" class=3D""><div =
class=3D"">On Mar 1, 2016, at 6:44 AM, <a =
href=3D"mailto:fabien@apache.org" class=3D"">fabien@apache.org</a> =
wrote:</div><br class=3D"Apple-interchange-newline"><div class=3D""><span =
style=3D"font-family: Helvetica; font-size: 12px; font-style: normal; =
font-variant: normal; font-weight: normal; letter-spacing: normal; =
orphans: auto; text-align: start; text-indent: 0px; text-transform: =
none; white-space: normal; widows: auto; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; float: none; display: inline =
!important;" class=3D"">&nbsp;Require xxx<span =
class=3D"Apple-converted-space">&nbsp;</span></span><a =
href=3D"http://foo.apache.org/" style=3D"font-family: Helvetica; =
font-size: 12px; font-style: normal; font-variant: normal; font-weight: =
normal; letter-spacing: normal; orphans: auto; text-align: start; =
text-indent: 0px; text-transform: none; white-space: normal; widows: =
auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" =
class=3D"">foo.apache.org</a><br style=3D"font-family: Helvetica; =
font-size: 12px; font-style: normal; font-variant: normal; font-weight: =
normal; letter-spacing: normal; orphans: auto; text-align: start; =
text-indent: 0px; text-transform: none; white-space: normal; widows: =
auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=3D""><span=
 style=3D"font-family: Helvetica; font-size: 12px; font-style: normal; =
font-variant: normal; font-weight: normal; letter-spacing: normal; =
orphans: auto; text-align: start; text-indent: 0px; text-transform: =
none; white-space: normal; widows: auto; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; float: none; display: inline =
!important;" class=3D"">&nbsp;# allows ip of "</span><a =
href=3D"http://foo.apache.org/" style=3D"font-family: Helvetica; =
font-size: 12px; font-style: normal; font-variant: normal; font-weight: =
normal; letter-spacing: normal; orphans: auto; text-align: start; =
text-indent: 0px; text-transform: none; white-space: normal; widows: =
auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" =
class=3D"">foo.apache.org</a><span style=3D"font-family: Helvetica; =
font-size: 12px; font-style: normal; font-variant: normal; font-weight: =
normal; letter-spacing: normal; orphans: auto; text-align: start; =
text-indent: 0px; text-transform: none; white-space: normal; widows: =
auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; =
display: inline !important;" class=3D"">", just be resolving the =
name</span><br style=3D"font-family: Helvetica; font-size: 12px; =
font-style: normal; font-variant: normal; font-weight: normal; =
letter-spacing: normal; orphans: auto; text-align: start; text-indent: =
0px; text-transform: none; white-space: normal; widows: auto; =
word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=3D""><br =
style=3D"font-family: Helvetica; font-size: 12px; font-style: normal; =
font-variant: normal; font-weight: normal; letter-spacing: normal; =
orphans: auto; text-align: start; text-indent: 0px; text-transform: =
none; white-space: normal; widows: auto; word-spacing: 0px; =
-webkit-text-stroke-width: 0px;" class=3D""><span style=3D"font-family: =
Helvetica; font-size: 12px; font-style: normal; font-variant: normal; =
font-weight: normal; letter-spacing: normal; orphans: auto; text-align: =
start; text-indent: 0px; text-transform: none; white-space: normal; =
widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: =
none; display: inline !important;" class=3D"">For use with dyndns =
services.</span><br style=3D"font-family: Helvetica; font-size: 12px; =
font-style: normal; font-variant: normal; font-weight: normal; =
letter-spacing: normal; orphans: auto; text-align: start; text-indent: =
0px; text-transform: none; white-space: normal; widows: auto; =
word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=3D""><br =
style=3D"font-family: Helvetica; font-size: 12px; font-style: normal; =
font-variant: normal; font-weight: normal; letter-spacing: normal; =
orphans: auto; text-align: start; text-indent: 0px; text-transform: =
none; white-space: normal; widows: auto; word-spacing: 0px; =
-webkit-text-stroke-width: 0px;" class=3D""></div></blockquote></div><br =
class=3D""></body></html>=

--Apple-Mail=_6F4569A4-7443-4653-8048-55AF19765943--

--Apple-Mail=_95C163BB-A4F9-41C4-8B17-CC25E1788348
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
	filename=signature.asc
Content-Type: application/pgp-signature;
	name=signature.asc
Content-Description: Message signed with OpenPGP using GPGMail

-----BEGIN PGP SIGNATURE-----
Comment: GPGTools - https://gpgtools.org

iQEcBAEBCgAGBQJW1Z5XAAoJEIo8JcFLoqwqys0H/Akp8cpy4hS0jcrcVOcroB/M
BPk/sifVH5X+5iiGCuD0wOIpgWHfg/JjW7SZBlJ3as/8UGQwqBNyRSqa6LYgR4Ac
OBbkz67ksVANtDnOwkkncVOh6lIbl6NOmg9r/FD/aCdvNNueEB3loPbW3o0dz6A9
z+wdshYf+zyD09goSgF7LlWJzbF8e2mFZbMU0fXjnxL0ColfYxiIuxbmPjywQ06o
VpaP0j+Jhz350oxM1GqIu8P7fTTQ4lXFLRyynwCfLVYRs9rZtb6bAQux00sSjLNS
YTpZWruwh+3guNK2RJWJk54ZjmIAB0L/ouwJxV+6uk5QBV9R7bDBmkQ32yrdHpw=
=mgdh
-----END PGP SIGNATURE-----

--Apple-Mail=_95C163BB-A4F9-41C4-8B17-CC25E1788348--

From dev-return-85726-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 14:32:53 2016
Return-Path: <dev-return-85726-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D8761184A2
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 14:32:53 +0000 (UTC)
Received: (qmail 49308 invoked by uid 500); 1 Mar 2016 14:31:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49234 invoked by uid 500); 1 Mar 2016 14:31:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49224 invoked by uid 99); 1 Mar 2016 14:31:55 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 14:31:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id E458C1A05C5
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 14:31:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id yt3p6bfMiWv9 for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 14:31:54 +0000 (UTC)
Received: from mail-io0-f176.google.com (mail-io0-f176.google.com [209.85.223.176])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id C04425FBC0
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 14:31:53 +0000 (UTC)
Received: by mail-io0-f176.google.com with SMTP id l127so223985629iof.3
        for <dev@httpd.apache.org>; Tue, 01 Mar 2016 06:31:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=WUFcEKpt1vPcNRfP4Al+SabDxPQ8qfl1lCV/PlHiJtg=;
        b=cSNQ9YJovDZmnlLFTLUd9N09ovsnpmr7c1L9iYcXaCyh5E1aGAMziNP5Y+sNkcj37z
         1/sl21OwmdzXEpfg246ltf42MOtcb2ZaS8zTT9n5B3QlFMSTwpopO+uCQIPsQj1GYGvg
         7VSf8KwMwsRK/mx0xZWpiEQW35FryY2nDNhxKLoxlIu1uQJzn4GwO1Aai3P8BaF9qU6x
         yNU96gi/It37vMnmRf+nLG3dvq3RFGJfiJR8mh9mTd7aWfB37CVkpc6NBNnBtzFdBJN5
         0FMn9Z+O5NmwE9cy1IbM1m8wHcGljB0f5VtDmSCDBgf6FF42Ql/oe+I6tjdYuiqchR/7
         XJlQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=WUFcEKpt1vPcNRfP4Al+SabDxPQ8qfl1lCV/PlHiJtg=;
        b=iYFnOsky0tQe2FPyQpgU90iSCNunvSXwjyAX5NrVDku4OE9p6DV0kjqzf5m/QxA7LL
         m1ONXo1QYBOPzw/aLCYRiobOUGR1YWTvNvzodlC2MjDohCzZmH9GHqx8I2DnC975GX8U
         sT1KLv9BYn09u2JlmGyCgmhcQZFu9tfLli1zoqzwGQ5S0ntdAJ7r8fNTsd3TLUpu6ENm
         GQZtrDIgdSeHw10fSUcdJkvxfGfO1LgFZHJBKniUc0kS5+ez8/F2R7pSbfXOlyLhXNIv
         XKtBOYKENHA9wfdBDjIKZKlLQs8BeEzcQ0QRvg5XVxZbtfpkvgMgQg72qcbPCIMuTDT9
         b6Jw==
X-Gm-Message-State: AD7BkJKuk5K859Q9QG8ZBlhwaoJTNb8PQKRGfF4huNpLOG5NZhiTThJaMA+/eMhi/a2ihLMYdhSSm/q9+I5CzA==
MIME-Version: 1.0
X-Received: by 10.107.26.201 with SMTP id a192mr299730ioa.13.1456842707631;
 Tue, 01 Mar 2016 06:31:47 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Tue, 1 Mar 2016 06:31:47 -0800 (PST)
In-Reply-To: <CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com>
References: <alpine.DEB.2.10.1512200931040.29581@sto>
	<alpine.DEB.2.10.1601140936560.28426@sto>
	<CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com>
Date: Tue, 1 Mar 2016 09:31:47 -0500
Message-ID: <CALK=YjO9=ThhRc7OzBjrCD3TWEi-mHnpcYDJWnuxEv5FWG5C8Q@mail.gmail.com>
Subject: Re: access control for dynamic hosts
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 1, 2016 at 8:19 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> How about "Require dns" (and mod_authz_dns) for the name?

I think it is  reasonable to extend authz_host to disable the reverse
check when requested (via some new first arg to require)

From dev-return-85727-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 14:46:28 2016
Return-Path: <dev-return-85727-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D299518540
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 14:46:28 +0000 (UTC)
Received: (qmail 90553 invoked by uid 500); 1 Mar 2016 14:46:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 90478 invoked by uid 500); 1 Mar 2016 14:46:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 90468 invoked by uid 99); 1 Mar 2016 14:46:28 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 14:46:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id F35371A10F3
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 14:46:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.33
X-Spam-Level:
X-Spam-Status: No, score=-0.33 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id sXp01G3lK0N1 for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 14:46:26 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTP id 54A285F33F
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 14:46:26 +0000 (UTC)
Received: from [10.105.13.212] (unknown [5.56.169.82])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 9B5A782094
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 14:46:19 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: state of h2 (long)
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <74C57D78-2C02-49F4-A104-75A76AE2F493@jaguNET.com>
Date: Tue, 1 Mar 2016 16:46:18 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <EB0B5021-4F27-4649-9BE6-0DF6E9CF6FEB@sharp.fm>
References: <B7B7891F-D769-4537-8CCC-8C02B0D5BC97@greenbytes.de> <74C57D78-2C02-49F4-A104-75A76AE2F493@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 29 Feb 2016, at 10:33 PM, Jim Jagielski <jim@jaguNET.com> wrote:

> I've been digging into how we could better leverage serf on the =
mod_proxy
> side w/o going the route of mod_serf itself...  Agreed that using
> pollsets et.al. would be useful. Maybe some of the motorz mpm logic
> could be used by mod_proxy=E2=80=A6?

I currently think everything we need is now there.

I am in the process of adding TCP protocol support to the core and to =
the proxy (in other words we can be a TCP proxy in addition to an HTTP =
proxy), and am trying to see what problems we run into that stop us =
doing this asynchronously.

(What I want to achieve is an SNI proxy, in other words a TCP proxy that =
interprets enough of an SSL handshake to extract the SNI header, and use =
that name as the basis of a TCP tunnel to some backend server which then =
completes that SSL handshake. My end goal is that I can TLS client =
certificate all the way to a backend server without terminating that TLS =
connection on the proxy, and not use a dedicated IP per endpoint.)

Regards,
Graham
=E2=80=94


From dev-return-85728-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 14:53:54 2016
Return-Path: <dev-return-85728-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BF5EE185AE
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 14:53:54 +0000 (UTC)
Received: (qmail 8162 invoked by uid 500); 1 Mar 2016 14:53:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 8099 invoked by uid 500); 1 Mar 2016 14:53:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 8090 invoked by uid 99); 1 Mar 2016 14:53:54 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 14:53:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id D6E1CC362F
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 14:53:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id s1zxbQVoto4i for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 14:53:52 +0000 (UTC)
Received: from boipeva.ensmp.fr (boipeva.ensmp.fr [194.214.158.136])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 6342F5F39C
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 14:53:52 +0000 (UTC)
Received: from cri.ensmp.fr (nat-any-rnt.cri.ensmp.fr [195.83.117.252])
	(authenticated bits=0)
	by boipeva.ensmp.fr (8.15.2/8.15.1/JMMC-22/Oct/2013) with ESMTPSA id u21Erixm004113
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Tue, 1 Mar 2016 15:53:45 +0100
Date: Tue, 1 Mar 2016 15:53:44 +0100 (CET)
From: fabien@apache.org
X-X-Sender: fabien@sto
To: httpd-dev <dev@httpd.apache.org>
Subject: Re: access control for dynamic hosts
In-Reply-To: <CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com>
Message-ID: <alpine.DEB.2.10.1603011545040.18133@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto> <alpine.DEB.2.10.1601140936560.28426@sto> <CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com>
User-Agent: Alpine 2.10 (DEB 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; format=flowed; charset=US-ASCII
X-Miltered: at boipeva.ensmp.fr with ID 56D5ACF8.000 by Joe's j-chkmail (http : // j-chkmail dot ensmp dot fr)!
X-j-chkmail-Auth: USER-ID fabien.coelho
X-j-chkmail-Enveloppe: 56D5ACF8.000 from nat-any-rnt.cri.ensmp.fr/nat-any-rnt.cri.ensmp.fr/195.83.117.252/cri.ensmp.fr/<fabien@apache.org>


Hello Yann,

> [...]
>
> Looks good to me.
>
> It would have to be documented though, especially the difference with
> "Require host" and maybe their complementarity (wrt security).

Sure, it needs a documentation, obviously. I will not commit anything 
without a doc.

> How about "Require dns" (and mod_authz_dns) for the name?

Hmm. Note that "Require host" also uses the DNS, doubly so. I'm not sure 
that naming one "dns" might not suggest that the other ones would not use 
it?

I think that "Require host" should really be name "Require domain" because 
it is what it does, then "Require host" would be available... but this is 
too late:-)

Maybe "Require ip" could be extended instead of using a new name:

   "Require ip myserver.apache.org"

Would query the DNS to get the IP when checking for the authorization.
Not sure that it is a good idea, though.

-- 
Fabien.

From dev-return-85729-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 14:59:02 2016
Return-Path: <dev-return-85729-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7B01A185ED
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 14:59:02 +0000 (UTC)
Received: (qmail 23562 invoked by uid 500); 1 Mar 2016 14:58:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23487 invoked by uid 500); 1 Mar 2016 14:58:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23477 invoked by uid 99); 1 Mar 2016 14:58:55 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 14:58:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 3ECB1C0D25
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 14:58:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 7qmXyjiq8G8T for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 14:58:53 +0000 (UTC)
Received: from boipeva.ensmp.fr (boipeva.ensmp.fr [194.214.158.136])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 540325FBCC
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 14:58:38 +0000 (UTC)
Received: from cri.ensmp.fr (nat-any-rnt.cri.ensmp.fr [195.83.117.252])
	(authenticated bits=0)
	by boipeva.ensmp.fr (8.15.2/8.15.1/JMMC-22/Oct/2013) with ESMTPSA id u21EwSXk004774
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Tue, 1 Mar 2016 15:58:28 +0100
Date: Tue, 1 Mar 2016 15:58:28 +0100 (CET)
From: fabien@apache.org
X-X-Sender: fabien@sto
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Subject: Re: access control for dynamic hosts
In-Reply-To: <CALK=YjO9=ThhRc7OzBjrCD3TWEi-mHnpcYDJWnuxEv5FWG5C8Q@mail.gmail.com>
Message-ID: <alpine.DEB.2.10.1603011554420.18133@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto> <alpine.DEB.2.10.1601140936560.28426@sto> <CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com> <CALK=YjO9=ThhRc7OzBjrCD3TWEi-mHnpcYDJWnuxEv5FWG5C8Q@mail.gmail.com>
User-Agent: Alpine 2.10 (DEB 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Miltered: at boipeva.ensmp.fr with ID 56D5AE14.000 by Joe's j-chkmail (http : // j-chkmail dot ensmp dot fr)!
X-j-chkmail-Auth: USER-ID fabien.coelho
X-j-chkmail-Enveloppe: 56D5AE14.000 from nat-any-rnt.cri.ensmp.fr/nat-any-rnt.cri.ensmp.fr/195.83.117.252/cri.ensmp.fr/<fabien@apache.org>


>> How about "Require dns" (and mod_authz_dns) for the name?
>
> I think it is  reasonable to extend authz_host to disable the reverse
> check when requested (via some new first arg to require)

Note that the inner working logic is different, but this is an 
implementation detail.

What syntax would be appropriate?

   Require forward host foo.apache.org
   Require host forward-only foo.apache.org

Or maybe just a tag in front of the names?

   Require host mydomain.org !mydynahost.domain.org
   Require host mydomain.org *mydynahost.domain.org
   Require host mydomain.org ?mydynahost.domain.org

???

-- 
Fabien.

From dev-return-85730-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 15:00:10 2016
Return-Path: <dev-return-85730-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5F84118604
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 15:00:10 +0000 (UTC)
Received: (qmail 26028 invoked by uid 500); 1 Mar 2016 15:00:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25957 invoked by uid 500); 1 Mar 2016 15:00:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25947 invoked by uid 99); 1 Mar 2016 15:00:09 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 15:00:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4FE7AC3649
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 15:00:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id a_LPcU1fq1gu for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 15:00:08 +0000 (UTC)
Received: from mail-io0-f177.google.com (mail-io0-f177.google.com [209.85.223.177])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id F15BF5F33F
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 15:00:07 +0000 (UTC)
Received: by mail-io0-f177.google.com with SMTP id n190so21864735iof.0
        for <dev@httpd.apache.org>; Tue, 01 Mar 2016 07:00:07 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=/RLuRvUn3WK6F+XYMjFzhIWe/mBnHnwx9JBJjbC27R4=;
        b=ho+s05NUfy1cfgzOUoZzwQX5TfSpsPUq24zw+jbEP6k5Rb/fRGuSDGG6gDDo5jW2Gc
         RAJBHiiHZkjsMrkbo5g0XYAuKSUVytDmQg5KWXgjFG65/3jl2H118JX/3yg/PgNt6wXf
         GnJJxUF4iF1LqrP8ODV5nbypJ/uOqjm7K3sY27SlxIzQsj6sdOWiwfSDB9NeUwfyJAUT
         Kwva0pWNQRZwUNT0IsGznfaDfZitcKpSxSYwcepg+9/n3qU3oVHqaAxwj95YnX40WDig
         w1OW4hQYuwxuh+8WTNOAC+b6ilq0AV/kZaa1QvJ7UtocXfIRBwZ2k8keeLWUW0Vnomek
         VuKA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=/RLuRvUn3WK6F+XYMjFzhIWe/mBnHnwx9JBJjbC27R4=;
        b=b4JMZ3B/TAe/owJhHPNqwmm+pekn4f19Dj8ubEnYKg4fBRAvtRRkd+UUpKo7ILuuAx
         woVZFQST3ElTtGYuztTsGT1FCEYv+OR+FC6q1YspvBMYviQB3ZVEOxPeRNY7e2pYeHc7
         NhR18xtw3ZiAOQbYJzJXCe9jNjwp4Q2LowwrgdbN+rgPt6AwkyVMUUEBYCAIF25ecYPT
         RRZwqq8ZDFOs4nnNwe9zrr2tM8STKYUXCWS9GFT0d6i4UWa1UexbuDy0hacLOxsrD/+g
         SvLVxmC2rNQPH3X0XxeeyaKNamiGePA53k0hT3S8U9Yac8ahyZ4P8XIxjsfYVdfe31Ls
         e9Zw==
X-Gm-Message-State: AD7BkJJ44JoATYo5ZQuRKVlUlrC7Rbd0kvxxjrVtOLBbVf4mkwtjimbt0OPRtoJolSPVKuv1fVBrmOIndWd3Lw==
MIME-Version: 1.0
X-Received: by 10.107.26.201 with SMTP id a192mr437803ioa.13.1456844401075;
 Tue, 01 Mar 2016 07:00:01 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Tue, 1 Mar 2016 07:00:01 -0800 (PST)
In-Reply-To: <alpine.DEB.2.10.1603011545040.18133@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto>
	<alpine.DEB.2.10.1601140936560.28426@sto>
	<CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com>
	<alpine.DEB.2.10.1603011545040.18133@sto>
Date: Tue, 1 Mar 2016 10:00:01 -0500
Message-ID: <CALK=YjOv-3FxaSULNF5myB_E5S=Pun=p-113sucVO+RsQ1UC4w@mail.gmail.com>
Subject: Re: access control for dynamic hosts
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 1, 2016 at 9:53 AM,  <fabien@apache.org> wrote:
> Maybe "Require ip" could be extended instead of using a new name:
>
>   "Require ip myserver.apache.org"


Unfortunately I think you need to pick an awkward name here so it
cannot be confused/misused.  Like "forward-dns"

-- 
Eric Covener
covener@gmail.com

From dev-return-85731-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 15:03:47 2016
Return-Path: <dev-return-85731-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 924081863C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 15:03:46 +0000 (UTC)
Received: (qmail 36563 invoked by uid 500); 1 Mar 2016 15:03:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36490 invoked by uid 500); 1 Mar 2016 15:03:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36480 invoked by uid 99); 1 Mar 2016 15:03:46 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 15:03:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 89559C3657
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 15:03:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id j_RlzXmA9MMZ for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 15:03:44 +0000 (UTC)
Received: from mail-qg0-f43.google.com (mail-qg0-f43.google.com [209.85.192.43])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 379F95F5A5
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 15:03:44 +0000 (UTC)
Received: by mail-qg0-f43.google.com with SMTP id y89so143808602qge.2
        for <dev@httpd.apache.org>; Tue, 01 Mar 2016 07:03:44 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=RQJLOjXeVRbfcdrST1zF6zGismUmtiLbmJAuBstwGm0=;
        b=itJrrzxL2Q81727YpwyByqPOpe8TU5cYN95t6vJ2LH5rQ0zQ/IXb76fB3jl+h+LTx9
         GvyE80rOlm8pe6hZJzwinnSpnq82XGehq05i6Am8O9ff3c6FsHrgZwDFFE2PXlOIS3E/
         WO2WxVmw8teONWHAV58OzkAs2pP6UgZDXxGHC7BNh6m+BUcGWakS/mY56R1IMPYbG5ZE
         0kCXO/wzY8Q/Ie52JPYdeJcxYJlh7PsUalDUwLWjZplvCww5egxgeQIgXXuiFBtC8iv5
         QUySnI8e8pAaxBDGXbKF0wZ6lrcEPNGWwiNlkGIHGtYmzpOYNCMLOmaqhpNZEYS3EgZr
         uvlA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=RQJLOjXeVRbfcdrST1zF6zGismUmtiLbmJAuBstwGm0=;
        b=T+1S+CZff1ICXq3hMJhs9N1g91zhayexWPMGRAVSdpUixc1E3VYcE9j/7Z86srtGFg
         zT15ORA1N6HTk0alOietZ4vBnrFDXZKi5eXJOBGlZnyCXkkUH4nPousCF6bGtf4e8/Sb
         wmvHn7iBYcqOLKLhKnB4kf85AoOnwvKRXxx8ScUch2HBiuKFsysxgP2uDE+OnbyUb10f
         dLgCcW4AYWqzoQYsPuYNOnUZlz2W/Zs/Mg1gEMCunw6yW1pm4RRMGIPJ/TDu1lI4TL45
         fkTU/hoCEA/Jpr97kSJ8FVHN/P+jhUbGlTpooWR1aPHSvs3MoP1pksrhBe3I7wYjwhUE
         ADoQ==
X-Gm-Message-State: AD7BkJIVGB5rtl7tivujQz/lS2DcNFgN3BTkL0fZ6f5n54edOb9irP3zJK7Y7XfC9leRCvkuM/BUjy0jdgGzSg==
MIME-Version: 1.0
X-Received: by 10.140.161.198 with SMTP id h189mr28636505qhh.24.1456844623140;
 Tue, 01 Mar 2016 07:03:43 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Tue, 1 Mar 2016 07:03:43 -0800 (PST)
In-Reply-To: <CAKQ1sVOkO=iVpkV7-rNqQ1AZyv+P9_VuCKGybfMWxLFGYY2M3Q@mail.gmail.com>
References: <alpine.DEB.2.10.1512200931040.29581@sto>
	<alpine.DEB.2.10.1601140936560.28426@sto>
	<CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com>
	<CALK=YjO9=ThhRc7OzBjrCD3TWEi-mHnpcYDJWnuxEv5FWG5C8Q@mail.gmail.com>
	<CAKQ1sVOkO=iVpkV7-rNqQ1AZyv+P9_VuCKGybfMWxLFGYY2M3Q@mail.gmail.com>
Date: Tue, 1 Mar 2016 16:03:43 +0100
Message-ID: <CAKQ1sVMJQvLvXLnTzEyx7eGtGrc7ejtPpPd9AfCD3u9Vd3uBOw@mail.gmail.com>
Subject: Re: access control for dynamic hosts
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 1, 2016 at 4:01 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Tue, Mar 1, 2016 at 3:31 PM, Eric Covener <covener@gmail.com> wrote:
>> On Tue, Mar 1, 2016 at 8:19 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>> How about "Require dns" (and mod_authz_dns) for the name?
>>
>> I think it is  reasonable to extend authz_host to disable the reverse
>> check when requested (via some new first arg to require)
>
> Good idea.

Oups, it seems this has been abandoned already :p

From dev-return-85732-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 15:06:59 2016
Return-Path: <dev-return-85732-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5142E1866C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 15:06:59 +0000 (UTC)
Received: (qmail 46222 invoked by uid 500); 1 Mar 2016 15:06:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46151 invoked by uid 500); 1 Mar 2016 15:06:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46141 invoked by uid 99); 1 Mar 2016 15:06:58 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 15:06:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 71D30C0D25
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 15:06:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 0pTGk_23cVX0 for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 15:06:56 +0000 (UTC)
Received: from mail-qg0-f43.google.com (mail-qg0-f43.google.com [209.85.192.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id BFB025FBF8
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 15:06:55 +0000 (UTC)
Received: by mail-qg0-f43.google.com with SMTP id b67so143775734qgb.1
        for <dev@httpd.apache.org>; Tue, 01 Mar 2016 07:06:55 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=kcXR3fMnEGNehyLPEgPRlyU2qxxObNebyRQ1fDHewg0=;
        b=vZZV62X5GOmibolq9koIoPRWbCxsHZiXRIXLL4ZAeyx/NmGA9aI4fyMBT77Dg18zJ/
         DOcMQZ44frtULiqsLR/4Cnntc0RHtAe8qQ4ZYLkdLDg/j/sQaVSPoA0N7GI8fO86du4t
         UJPfRSv4NIjs3v01K54bPhW81KA+osg2QVdiGHZ2tmtr3+z1qlG25a0WdZLcvyiGSo0F
         DnUmMK9SVTqbFJrQBWyJWJP6j5MihSPmJ0SsgKhdZPwULX5FtFJwzk/IbP0O8R4pjC5M
         Js3BxeZXOIXltoOvZBlWKXAc3V/0eIm+LX0NmLQeEj04qj05gLnBodm9JhD6UaqtfSFC
         zj+A==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=kcXR3fMnEGNehyLPEgPRlyU2qxxObNebyRQ1fDHewg0=;
        b=mvfHV/6BZ9STOzQlgdfAN64+6LjOkl2HoaH898K1Cn7OPZUjRIVMzbTWoFcyGSKPra
         L5RFpgRgsJwkDwJYirHlmv7Y06A4Ye84YGRFM527Yn07DpiMWBtNHAsCWA//EZ1ZojPS
         eulM2BVusz8SrRUha6NPdlzAFUkc45hZJD0nwEqgxjJXVGaK+EId61vbT1yj0Y2j2BuX
         ZuhQKn1qj2uStTotak1Zo5Qyilm9rFqs/f1tXTA3OX3ELKaK2CpGf8RgnPORjaG8enei
         6zEw2vqaAgfgx++9f/9z0Y6e+f279RkkvvlDNSI7pllKrJJDz7vjMZPjeTH9Duw7nHNT
         pdQw==
X-Gm-Message-State: AD7BkJKjpUvdQO2HEckLdSpWkU/zjNd8ayE49m/5F67q4BXe8R/x7ArBBppG4Pr1HUtXBXpGTmEg9T/vtCbwsQ==
MIME-Version: 1.0
X-Received: by 10.140.167.135 with SMTP id n129mr27363451qhn.73.1456844508970;
 Tue, 01 Mar 2016 07:01:48 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Tue, 1 Mar 2016 07:01:48 -0800 (PST)
In-Reply-To: <CALK=YjO9=ThhRc7OzBjrCD3TWEi-mHnpcYDJWnuxEv5FWG5C8Q@mail.gmail.com>
References: <alpine.DEB.2.10.1512200931040.29581@sto>
	<alpine.DEB.2.10.1601140936560.28426@sto>
	<CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com>
	<CALK=YjO9=ThhRc7OzBjrCD3TWEi-mHnpcYDJWnuxEv5FWG5C8Q@mail.gmail.com>
Date: Tue, 1 Mar 2016 16:01:48 +0100
Message-ID: <CAKQ1sVOkO=iVpkV7-rNqQ1AZyv+P9_VuCKGybfMWxLFGYY2M3Q@mail.gmail.com>
Subject: Re: access control for dynamic hosts
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 1, 2016 at 3:31 PM, Eric Covener <covener@gmail.com> wrote:
> On Tue, Mar 1, 2016 at 8:19 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> How about "Require dns" (and mod_authz_dns) for the name?
>
> I think it is  reasonable to extend authz_host to disable the reverse
> check when requested (via some new first arg to require)

Good idea.

From dev-return-85733-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 15:09:21 2016
Return-Path: <dev-return-85733-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0E7401868A
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 15:09:21 +0000 (UTC)
Received: (qmail 56813 invoked by uid 500); 1 Mar 2016 15:09:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56735 invoked by uid 500); 1 Mar 2016 15:09:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56725 invoked by uid 99); 1 Mar 2016 15:09:07 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 15:09:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 81ACCC0D25
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 15:09:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.39
X-Spam-Level: *
X-Spam-Status: No, score=1.39 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, T_DKIM_INVALID=0.01]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new); dkim=neutral
	reason="invalid (public key: missing p= tag)" header.d=ymkatz.net
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id EzKx2jVjuhaA for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 15:09:06 +0000 (UTC)
Received: from mail-oi0-f49.google.com (mail-oi0-f49.google.com [209.85.218.49])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id BB21D5FBED
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 15:09:05 +0000 (UTC)
Received: by mail-oi0-f49.google.com with SMTP id m82so130612938oif.1
        for <dev@httpd.apache.org>; Tue, 01 Mar 2016 07:09:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=ymkatz.net; s=g;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=58U7mE02K69czn03optvRY1A9wP7Fd1WHxdjHNEDeTI=;
        b=PXiGkcw6/89RAotjlMGDufW5ghEMzwUjKCBX1LLL+gCKzowoER98nfAuaFf6YVUISp
         HVk9DWudIvAZGaV1sYzSWYQQ+i1Izgt/RZZQSNZJdcZ6MM6O8dEeMoWCRSXjANDnD48W
         3PMcCdJqXVf5zmBMz0FEXK0CAZrpHA4MPxwPI=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=58U7mE02K69czn03optvRY1A9wP7Fd1WHxdjHNEDeTI=;
        b=BB25wH4idaW5b6/peQ7VHwM5a4vRzsa5bcbZ4x465N6y1dDaubDBnt/Li+IoUfRap3
         oEscMV3g9iZJXiXXsOvifSHCktjzxtWmWfuVqCttaFYTOHZzVoEufS9AmppzipdT2C9c
         kh5cty8EPM8cAl2atK2B8HZ2vUqV6kxXWPCQEZ/TmEcCpnPbGuPIyqL1mE9q39DvZekP
         kAghewJlGmx20xLHccdLAxMFT58x81xUSfb3yR7JWeKfPN2r0koQGmu3XjKUOtYBlN/K
         LY1h1oxujkMLNA87cBx2NKs4xtdYk2U2BsjKrt8Dejb7r315OdEavFvH+3qeTl+q7pdv
         nL+w==
X-Gm-Message-State: AD7BkJJk4V/Uvs3gb0G/a5TfjFtURkgg2nQ/QhDTiUgtz7SIe/4nQaewrxlRSTTPQ2GRf4fe
X-Received: by 10.202.72.87 with SMTP id v84mr16431028oia.9.1456844944501;
        Tue, 01 Mar 2016 07:09:04 -0800 (PST)
Received: from mail-ob0-f175.google.com (mail-ob0-f175.google.com. [209.85.214.175])
        by smtp.gmail.com with ESMTPSA id i185sm22119954oib.20.2016.03.01.07.09.03
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Tue, 01 Mar 2016 07:09:03 -0800 (PST)
Received: by mail-ob0-f175.google.com with SMTP id ts10so168692895obc.1
        for <dev@httpd.apache.org>; Tue, 01 Mar 2016 07:09:03 -0800 (PST)
X-Received: by 10.182.245.138 with SMTP id xo10mr16287970obc.56.1456844943651;
 Tue, 01 Mar 2016 07:09:03 -0800 (PST)
MIME-Version: 1.0
Received: by 10.202.61.86 with HTTP; Tue, 1 Mar 2016 07:08:44 -0800 (PST)
In-Reply-To: <CALK=YjOv-3FxaSULNF5myB_E5S=Pun=p-113sucVO+RsQ1UC4w@mail.gmail.com>
References: <alpine.DEB.2.10.1512200931040.29581@sto> <alpine.DEB.2.10.1601140936560.28426@sto>
 <CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com>
 <alpine.DEB.2.10.1603011545040.18133@sto> <CALK=YjOv-3FxaSULNF5myB_E5S=Pun=p-113sucVO+RsQ1UC4w@mail.gmail.com>
From: Yehuda Katz <yehuda@ymkatz.net>
Date: Tue, 1 Mar 2016 10:08:44 -0500
X-Gmail-Original-Message-ID: <CAGBAQ476LTr-XS8psUMiF3i5GUqu+io8qi_gyx-pODW30CM30A@mail.gmail.com>
Message-ID: <CAGBAQ476LTr-XS8psUMiF3i5GUqu+io8qi_gyx-pODW30CM30A@mail.gmail.com>
Subject: Re: access control for dynamic hosts
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11c1d78a5c10d8052cfe25fd

--001a11c1d78a5c10d8052cfe25fd
Content-Type: text/plain; charset=UTF-8

dyndns is a company name, but it seems to be synonymous for a lot of
systems with dynamic-dns.
That would make a recognizable option for a lot of people.

- Y

On Tue, Mar 1, 2016 at 10:00 AM, Eric Covener <covener@gmail.com> wrote:

> On Tue, Mar 1, 2016 at 9:53 AM,  <fabien@apache.org> wrote:
> > Maybe "Require ip" could be extended instead of using a new name:
> >
> >   "Require ip myserver.apache.org"
>
>
> Unfortunately I think you need to pick an awkward name here so it
> cannot be confused/misused.  Like "forward-dns"
>
> --
> Eric Covener
> covener@gmail.com
>

--001a11c1d78a5c10d8052cfe25fd
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">dyndns is a company name, but it seems to be synonymous fo=
r a lot of systems with dynamic-dns.<div>That would make a recognizable opt=
ion for a lot of people.</div><div><br></div><div>- Y</div></div><div class=
=3D"gmail_extra"><br><div class=3D"gmail_quote">On Tue, Mar 1, 2016 at 10:0=
0 AM, Eric Covener <span dir=3D"ltr">&lt;<a href=3D"mailto:covener@gmail.co=
m" target=3D"_blank">covener@gmail.com</a>&gt;</span> wrote:<br><blockquote=
 class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc soli=
d;padding-left:1ex"><span class=3D"">On Tue, Mar 1, 2016 at 9:53 AM,=C2=A0 =
&lt;<a href=3D"mailto:fabien@apache.org">fabien@apache.org</a>&gt; wrote:<b=
r>
&gt; Maybe &quot;Require ip&quot; could be extended instead of using a new =
name:<br>
&gt;<br>
&gt;=C2=A0 =C2=A0&quot;Require ip <a href=3D"http://myserver.apache.org" re=
l=3D"noreferrer" target=3D"_blank">myserver.apache.org</a>&quot;<br>
<br>
<br>
</span>Unfortunately I think you need to pick an awkward name here so it<br=
>
cannot be confused/misused.=C2=A0 Like &quot;forward-dns&quot;<br>
<span class=3D"HOEnZb"><font color=3D"#888888"><br>
--<br>
Eric Covener<br>
<a href=3D"mailto:covener@gmail.com">covener@gmail.com</a><br>
</font></span></blockquote></div><br></div>

--001a11c1d78a5c10d8052cfe25fd--

From dev-return-85734-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 15:30:15 2016
Return-Path: <dev-return-85734-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2E5DE1874C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 15:30:15 +0000 (UTC)
Received: (qmail 3870 invoked by uid 500); 1 Mar 2016 15:29:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3793 invoked by uid 500); 1 Mar 2016 15:29:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3780 invoked by uid 99); 1 Mar 2016 15:29:52 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 15:29:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B79EDC3627;
	Tue,  1 Mar 2016 15:29:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id dB8K4zbVakra; Tue,  1 Mar 2016 15:29:51 +0000 (UTC)
Received: from mail-io0-f176.google.com (mail-io0-f176.google.com [209.85.223.176])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 5644A5FE57;
	Tue,  1 Mar 2016 15:29:50 +0000 (UTC)
Received: by mail-io0-f176.google.com with SMTP id b188so8272706iof.1;
        Tue, 01 Mar 2016 07:29:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc;
        bh=ZPlYy8lqhhUTiWiLl5APhfb3eiNs0HFpziHrCwIBaZo=;
        b=nK4GxeuRfBeK5jp7WcyfxgiLUkXNaS1QaR5D0886NDGVuVfCnYg6zAHGHwWcYtV7GG
         u5b3nmTOUN7WiMVPi/de9qn/iJ48y4xsmCf6Ae5DHIrKtOafSX0VD07Vv6iAgIyET/yW
         Y0KzBgdcNPRN6yrsJuQC+F07gkhgiEkaxEudT340Zx1HjzZmCkeWRV7ceapX/SWo4zyY
         Lfb0rS1MxDXG+s2btDGbVwxJOcq49T1JXShafFFXWNb7XzSP/P7vDx01PI9k2DWxjkm3
         LAH3RVkLAmkO7pHHnAryUp9q/yQwwddGQc4yqzEy5Fdl9iJYdAqpmcnQtqACq9rTbRll
         D1zg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc;
        bh=ZPlYy8lqhhUTiWiLl5APhfb3eiNs0HFpziHrCwIBaZo=;
        b=IZz6xRRkECF16IIgpprCU31Bvk32tm8qxDU856gGAHaMffPhfSXEZ0saCPchkpVfbf
         GgUIWru59AhXUbHUUkkLvH4g9qBXDYGF8SdmlaeoHrrko91pEi1a3E3yQrZeHD5J2JDX
         H6WWjVXp3ujDnDZj8DokNNHAXsMhy8sz6sndUHbd9SXSktoxo0zRfzElCFgCdgzomAtB
         Un2cW6sxqIhooZgXTA1gs8cSb0tjqe5k+gqxEXj0N/yxHqD+vqV9eToaKn237HynFrZG
         9/URMTZnsdTlSeO2hTIcvRpE6rR+Tt5QmHUpyhM2Kge65yC1IuMeQgJq5PRzoQs3BieL
         H5GA==
X-Gm-Message-State: AD7BkJLDoyobcedSwCXDxhkbkKQLfJxRMzxpmFjR0GkXkcF5vNe2Dk+MkRwV1WLHGJbBf+UQW222ThzY9k8rAg==
MIME-Version: 1.0
X-Received: by 10.107.154.18 with SMTP id c18mr2741671ioe.169.1456846189343;
 Tue, 01 Mar 2016 07:29:49 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Tue, 1 Mar 2016 07:29:49 -0800 (PST)
In-Reply-To: <20160301123141.30EC73A0428@svn01-us-west.apache.org>
References: <20160301123141.30EC73A0428@svn01-us-west.apache.org>
Date: Tue, 1 Mar 2016 10:29:49 -0500
Message-ID: <CALK=YjMQBABgCyuLy-C9zAXCRGOcZY+bADrgmJ7kg-WWn8Y+RQ@mail.gmail.com>
Subject: Re: svn commit: r1733054 - in /httpd/httpd/trunk/modules:
 filters/mod_reqtimeout.c proxy/mod_proxy.h proxy/proxy_util.c
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Cc: cvs@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 1, 2016 at 7:31 AM,  <ylavic@apache.org> wrote:
> Author: ylavic
> Date: Tue Mar  1 12:31:40 2016
> New Revision: 1733054
>
> URL: http://svn.apache.org/viewvc?rev=1733054&view=rev
> Log:
> mod_proxy: follow up to r1729826 + r1729847 + r1732986.
> Don't use magic constants.
>
> Modified:
>     httpd/httpd/trunk/modules/filters/mod_reqtimeout.c
>     httpd/httpd/trunk/modules/proxy/mod_proxy.h
>     httpd/httpd/trunk/modules/proxy/proxy_util.c
>
> Modified: httpd/httpd/trunk/modules/filters/mod_reqtimeout.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/filters/mod_reqtimeout.c?rev=1733054&r1=1733053&r2=1733054&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/filters/mod_reqtimeout.c (original)
> +++ httpd/httpd/trunk/modules/filters/mod_reqtimeout.c Tue Mar  1 12:31:40 2016
> @@ -352,6 +352,15 @@ out:
>      return rv;
>  }
>
> +static apr_status_t reqtimeout_pause(ap_filter_t *f, apr_bucket_brigade *bb)
> +{
> +    if (!APR_BRIGADE_EMPTY(bb) && AP_BUCKET_IS_EOR(APR_BRIGADE_LAST(bb))) {
> +        reqtimeout_con_cfg *ccfg = f->ctx;
> +        ccfg->timeout_at = 0;
> +    }
> +    return ap_pass_brigade(f->next, bb);
> +}
> +
>  static int reqtimeout_init(conn_rec *c)


intentional?

-- 
Eric Covener
covener@gmail.com

From dev-return-85735-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 15:34:20 2016
Return-Path: <dev-return-85735-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 403331878E
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 15:34:20 +0000 (UTC)
Received: (qmail 16788 invoked by uid 500); 1 Mar 2016 15:34:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16715 invoked by uid 500); 1 Mar 2016 15:34:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16705 invoked by uid 99); 1 Mar 2016 15:34:03 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 15:34:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 913DEC3673
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 15:34:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id E99zNu85wcca for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 15:34:02 +0000 (UTC)
Received: from mail-qk0-f174.google.com (mail-qk0-f174.google.com [209.85.220.174])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 325AF5F5A5
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 15:34:02 +0000 (UTC)
Received: by mail-qk0-f174.google.com with SMTP id x1so70469534qkc.1
        for <dev@httpd.apache.org>; Tue, 01 Mar 2016 07:34:02 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=3n9fK1oPoIKh7unupzGvo80q3vLDQ6xTd5+quFZ6T7U=;
        b=yKdHcC5WRPc42bvSbleiwJDgofdwDac+e7+dIcL1dZhic4mbvDvLlOefqa/sbCYihE
         z2kusk0PsEvUQHc+YOVwbJQCMAHu1yiTcGBW3ZtrtSjUi6w+3O8aUODJMIWAg5CviwRX
         uK8iPv1IiRwryFoj/bmtiYTzXeNIjmoyK3aMbAzJkLB6qW3hwJC4V5snkMU+9mYWDDA1
         irDKKQ+k7J7DSlDKUaeoODbfqkM+sonO/d6WRg0a/spU4pZkaldGP2QsqJfkt93wzYb1
         rxNzrKaRm+9ni94q4M3eoOs62oQeKUJGCdhaa9KWSB1T2TY7WsxNtBMhaMEoKSyuej++
         41mQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=3n9fK1oPoIKh7unupzGvo80q3vLDQ6xTd5+quFZ6T7U=;
        b=OnDjj5ypDRCV7QRp2/CRnnqm08bR4Hye1hbu+27+K3ju3vm/SncpMvmWnp2K0NFZiw
         qDdzGOK6HjzhzbeRW1v4hQ+y7ctKVmd6W8RuOT+wKtMG4YB0bVsHku9HKIgS0Iiv6Y/K
         YtMW/UJ/9GihtVwc4t+HozD9njyH8T5A4H3O2yRM3t/oD9fxn5Y3REIa5FeES1DL6igc
         JCPx8Fc6foIBXmBLKVy65S390oc0KkIGixdSp39T83RWCXGii1opIOtgVW5gQQjmhRiD
         Kc1BuBx1ZlzQ/wc/5zZH2S9BcuZUc3G2kE6dNByGBodR7++NRV9u9C0nsV3l4YL/XUCK
         r3lA==
X-Gm-Message-State: AD7BkJLvYmYwk8qD7lJ4RfXIwdAckKpeV67YIVm+4Qt7z27VdSYJWpHpdAyXqBeI3nKwxJ8YQ3+63Ew3F8rsZQ==
MIME-Version: 1.0
X-Received: by 10.55.200.215 with SMTP id t84mr27677505qkl.55.1456846435089;
 Tue, 01 Mar 2016 07:33:55 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Tue, 1 Mar 2016 07:33:55 -0800 (PST)
In-Reply-To: <CALK=YjMQBABgCyuLy-C9zAXCRGOcZY+bADrgmJ7kg-WWn8Y+RQ@mail.gmail.com>
References: <20160301123141.30EC73A0428@svn01-us-west.apache.org>
	<CALK=YjMQBABgCyuLy-C9zAXCRGOcZY+bADrgmJ7kg-WWn8Y+RQ@mail.gmail.com>
Date: Tue, 1 Mar 2016 16:33:55 +0100
Message-ID: <CAKQ1sVMZ5h1bdMZE=Yp+6ze=3xTaqzU3twjaZmxhi5fErNUr3w@mail.gmail.com>
Subject: Re: svn commit: r1733054 - in /httpd/httpd/trunk/modules:
 filters/mod_reqtimeout.c proxy/mod_proxy.h proxy/proxy_util.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 1, 2016 at 4:29 PM, Eric Covener <covener@gmail.com> wrote:
>
> intentional?

No :/
Reverted in r1733055 and re-commited in r1733056 already.

From dev-return-85736-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 15:48:40 2016
Return-Path: <dev-return-85736-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D624F18832
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 15:48:39 +0000 (UTC)
Received: (qmail 80385 invoked by uid 500); 1 Mar 2016 15:48:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 80323 invoked by uid 500); 1 Mar 2016 15:48:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80313 invoked by uid 99); 1 Mar 2016 15:48:23 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 15:48:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 144631800EE
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 15:48:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.998
X-Spam-Level: *
X-Spam-Status: No, score=1.998 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=2, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id MAaXZjCj51Zx for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 15:48:21 +0000 (UTC)
Received: from mgap1a-mgmt.jacksonnational.com (mgap1c-mgmt.jacksonnational.com [12.34.36.39])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 69B475F54E
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 15:48:20 +0000 (UTC)
X-IronPort-AV: E=Sophos;i="5.22,523,1449550800"; 
   d="scan'208,217";a="228100775"
Received: from vtunpep1a.jacksonnational.com (HELO DC01PXMBP003.jacksonnational.com) ([10.8.111.30])
  by mgap1a-mgmt.jacksonnational.com with ESMTP; 01 Mar 2016 10:38:12 -0500
Received: from DC03PXMBP003.jacksonnational.com (10.12.105.32) by
 DC01PXMBP003.jacksonnational.com (10.8.105.32) with Microsoft SMTP Server
 (TLS) id 15.0.1044.25; Tue, 1 Mar 2016 10:38:11 -0500
Received: from DC03PXMBP003.jacksonnational.com ([10.12.105.32]) by
 DC03PXMBP003.jacksonnational.com ([10.12.105.32]) with mapi id
 15.00.1044.021; Tue, 1 Mar 2016 10:38:11 -0500
From: "Houser, Rick" <rick.houser@jackson.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: access control for dynamic hosts
Thread-Topic: access control for dynamic hosts
Thread-Index: AQHROwLQGLJX26Fr3USWw2kgGWXUKJ77K6mAgEosHACAABpUAIAAAcGAgAACcAD//6yYkA==
Date: Tue, 1 Mar 2016 15:38:11 +0000
Message-ID: <d8501203143f4460851565d067246491@DC03PXMBP003.jacksonnational.com>
References: <alpine.DEB.2.10.1512200931040.29581@sto>
 <alpine.DEB.2.10.1601140936560.28426@sto>
 <CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com>
 <alpine.DEB.2.10.1603011545040.18133@sto>
 <CALK=YjOv-3FxaSULNF5myB_E5S=Pun=p-113sucVO+RsQ1UC4w@mail.gmail.com>
 <CAGBAQ476LTr-XS8psUMiF3i5GUqu+io8qi_gyx-pODW30CM30A@mail.gmail.com>
In-Reply-To: <CAGBAQ476LTr-XS8psUMiF3i5GUqu+io8qi_gyx-pODW30CM30A@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-ms-exchange-transport-fromentityheader: Hosted
x-originating-ip: [10.6.30.191]
x-tm-as-product-ver: SMEX-11.0.0.1251-8.000.1202-22166.000
x-tm-as-result: No--50.694600-0.000000-31
x-tm-as-user-approved-sender: Yes
x-tm-as-user-blocked-sender: No
Content-Type: multipart/alternative;
	boundary="_000_d8501203143f4460851565d067246491DC03PXMBP003jacksonnati_"
MIME-Version: 1.0
X-DLP-JNL: Passed

--_000_d8501203143f4460851565d067246491DC03PXMBP003jacksonnati_
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

Rm9yd2FyZCBkb2VzbuKAmXQgbWVhbiBkeW5hbWljLCBob3dldmVyLCBhbmQgdXNpbmcgb25lIHBh
cnRpY3VsYXIgc29sdXRpb24gbGlrZSB0aGF0IGlzIG1pc2xlYWRpbmcsIElNTy4gIFVzaW5nIOKA
nGZvcndhcmQtZG5z4oCdIG1ha2VzIG1vcmUgc2Vuc2UgdG8gbWUuDQoNClRoYXQgc2FpZCwgaG93
IHdvdWxkIHlvdSBpbnRlbmQgdG8gaGFuZGxlIG11bHRpcGxlIEEgcmVjb3JkcyBmb3IgdGhlIHNh
bWUgbmFtZTogbG9vayB0aGVtIGFsbCB1cCBhbmQgc3RvcmUgaW4gYSB0YWJsZSwgb3Igc3VwcG9y
dCBvbmx5IG9uZSBBIHJlY29yZCBwZXIgbmFtZT8gIEF0IGEgbWluaW11bSwgSSB0aGluayB0aGF0
IG5lZWRzIHRvIGJlIGNsZWFybHkgZG9jdW1lbnRlZC4NCg0KDQpSaWNrIEhvdXNlcg0KDQpGcm9t
OiBZZWh1ZGEgS2F0eiBbbWFpbHRvOnllaHVkYUB5bWthdHoubmV0XQ0KU2VudDogVHVlc2RheSwg
TWFyY2ggMDEsIDIwMTYgMTA6MDkgQU0NClRvOiBkZXZAaHR0cGQuYXBhY2hlLm9yZw0KU3ViamVj
dDogUmU6IGFjY2VzcyBjb250cm9sIGZvciBkeW5hbWljIGhvc3RzDQoNCmR5bmRucyBpcyBhIGNv
bXBhbnkgbmFtZSwgYnV0IGl0IHNlZW1zIHRvIGJlIHN5bm9ueW1vdXMgZm9yIGEgbG90IG9mIHN5
c3RlbXMgd2l0aCBkeW5hbWljLWRucy4NClRoYXQgd291bGQgbWFrZSBhIHJlY29nbml6YWJsZSBv
cHRpb24gZm9yIGEgbG90IG9mIHBlb3BsZS4NCg0KLSBZDQoNCk9uIFR1ZSwgTWFyIDEsIDIwMTYg
YXQgMTA6MDAgQU0sIEVyaWMgQ292ZW5lciA8Y292ZW5lckBnbWFpbC5jb208bWFpbHRvOmNvdmVu
ZXJAZ21haWwuY29tPj4gd3JvdGU6DQpPbiBUdWUsIE1hciAxLCAyMDE2IGF0IDk6NTMgQU0sICA8
ZmFiaWVuQGFwYWNoZS5vcmc8bWFpbHRvOmZhYmllbkBhcGFjaGUub3JnPj4gd3JvdGU6DQo+IE1h
eWJlICJSZXF1aXJlIGlwIiBjb3VsZCBiZSBleHRlbmRlZCBpbnN0ZWFkIG9mIHVzaW5nIGEgbmV3
IG5hbWU6DQo+DQo+ICAgIlJlcXVpcmUgaXAgbXlzZXJ2ZXIuYXBhY2hlLm9yZzxodHRwOi8vbXlz
ZXJ2ZXIuYXBhY2hlLm9yZz4iDQoNCg0KVW5mb3J0dW5hdGVseSBJIHRoaW5rIHlvdSBuZWVkIHRv
IHBpY2sgYW4gYXdrd2FyZCBuYW1lIGhlcmUgc28gaXQNCmNhbm5vdCBiZSBjb25mdXNlZC9taXN1
c2VkLiAgTGlrZSAiZm9yd2FyZC1kbnMiDQoNCi0tDQpFcmljIENvdmVuZXINCmNvdmVuZXJAZ21h
aWwuY29tPG1haWx0bzpjb3ZlbmVyQGdtYWlsLmNvbT4NCg0K

--_000_d8501203143f4460851565d067246491DC03PXMBP003jacksonnati_
Content-Type: text/html; charset="utf-8"
Content-Transfer-Encoding: base64

PGh0bWwgeG1sbnM6dj0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiIHhtbG5zOm89InVy
bjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOm9mZmljZSIgeG1sbnM6dz0idXJuOnNjaGVt
YXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6d29yZCIgeG1sbnM6bT0iaHR0cDovL3NjaGVtYXMubWlj
cm9zb2Z0LmNvbS9vZmZpY2UvMjAwNC8xMi9vbW1sIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcv
VFIvUkVDLWh0bWw0MCI+DQo8aGVhZD4NCjxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIg
Y29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4NCjxtZXRhIG5hbWU9IkdlbmVyYXRv
ciIgY29udGVudD0iTWljcm9zb2Z0IFdvcmQgMTUgKGZpbHRlcmVkIG1lZGl1bSkiPg0KPHN0eWxl
PjwhLS0NCi8qIEZvbnQgRGVmaW5pdGlvbnMgKi8NCkBmb250LWZhY2UNCgl7Zm9udC1mYW1pbHk6
IkNhbWJyaWEgTWF0aCI7DQoJcGFub3NlLTE6MiA0IDUgMyA1IDQgNiAzIDIgNDt9DQpAZm9udC1m
YWNlDQoJe2ZvbnQtZmFtaWx5OkNhbGlicmk7DQoJcGFub3NlLTE6MiAxNSA1IDIgMiAyIDQgMyAy
IDQ7fQ0KLyogU3R5bGUgRGVmaW5pdGlvbnMgKi8NCnAuTXNvTm9ybWFsLCBsaS5Nc29Ob3JtYWws
IGRpdi5Nc29Ob3JtYWwNCgl7bWFyZ2luOjBpbjsNCgltYXJnaW4tYm90dG9tOi4wMDAxcHQ7DQoJ
Zm9udC1zaXplOjEyLjBwdDsNCglmb250LWZhbWlseToiVGltZXMgTmV3IFJvbWFuIixzZXJpZjt9
DQphOmxpbmssIHNwYW4uTXNvSHlwZXJsaW5rDQoJe21zby1zdHlsZS1wcmlvcml0eTo5OTsNCglj
b2xvcjpibHVlOw0KCXRleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7fQ0KYTp2aXNpdGVkLCBzcGFu
Lk1zb0h5cGVybGlua0ZvbGxvd2VkDQoJe21zby1zdHlsZS1wcmlvcml0eTo5OTsNCgljb2xvcjpw
dXJwbGU7DQoJdGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTt9DQpzcGFuLmhvZW56Yg0KCXttc28t
c3R5bGUtbmFtZTpob2VuemI7fQ0Kc3Bhbi5FbWFpbFN0eWxlMTgNCgl7bXNvLXN0eWxlLXR5cGU6
cGVyc29uYWwtcmVwbHk7DQoJZm9udC1mYW1pbHk6IkNhbGlicmkiLHNhbnMtc2VyaWY7DQoJY29s
b3I6IzFGNDk3RDt9DQouTXNvQ2hwRGVmYXVsdA0KCXttc28tc3R5bGUtdHlwZTpleHBvcnQtb25s
eTsNCglmb250LWZhbWlseToiQ2FsaWJyaSIsc2Fucy1zZXJpZjt9DQpAcGFnZSBXb3JkU2VjdGlv
bjENCgl7c2l6ZTo4LjVpbiAxMS4waW47DQoJbWFyZ2luOjEuMGluIDEuMGluIDEuMGluIDEuMGlu
O30NCmRpdi5Xb3JkU2VjdGlvbjENCgl7cGFnZTpXb3JkU2VjdGlvbjE7fQ0KLS0+PC9zdHlsZT48
IS0tW2lmIGd0ZSBtc28gOV0+PHhtbD4NCjxvOnNoYXBlZGVmYXVsdHMgdjpleHQ9ImVkaXQiIHNw
aWRtYXg9IjEwMjYiIC8+DQo8L3htbD48IVtlbmRpZl0tLT48IS0tW2lmIGd0ZSBtc28gOV0+PHht
bD4NCjxvOnNoYXBlbGF5b3V0IHY6ZXh0PSJlZGl0Ij4NCjxvOmlkbWFwIHY6ZXh0PSJlZGl0IiBk
YXRhPSIxIiAvPg0KPC9vOnNoYXBlbGF5b3V0PjwveG1sPjwhW2VuZGlmXS0tPg0KPC9oZWFkPg0K
PGJvZHkgbGFuZz0iRU4tVVMiIGxpbms9ImJsdWUiIHZsaW5rPSJwdXJwbGUiPg0KPGRpdiBjbGFz
cz0iV29yZFNlY3Rpb24xIj4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPjxhIG5hbWU9Il9NYWlsRW5k
Q29tcG9zZSI+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMS4wcHQ7Zm9udC1mYW1pbHk6JnF1b3Q7
Q2FsaWJyaSZxdW90OyxzYW5zLXNlcmlmO2NvbG9yOiMxRjQ5N0QiPkZvcndhcmQgZG9lc27igJl0
IG1lYW4gZHluYW1pYywgaG93ZXZlciwgYW5kIHVzaW5nIG9uZSBwYXJ0aWN1bGFyIHNvbHV0aW9u
IGxpa2UgdGhhdCBpcyBtaXNsZWFkaW5nLCBJTU8uJm5ic3A7IFVzaW5nIOKAnGZvcndhcmQtZG5z
4oCdIG1ha2VzIG1vcmUNCiBzZW5zZSB0byBtZS48bzpwPjwvbzpwPjwvc3Bhbj48L2E+PC9wPg0K
PHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMS4wcHQ7Zm9udC1m
YW1pbHk6JnF1b3Q7Q2FsaWJyaSZxdW90OyxzYW5zLXNlcmlmO2NvbG9yOiMxRjQ5N0QiPjxvOnA+
Jm5ic3A7PC9vOnA+PC9zcGFuPjwvcD4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPjxzcGFuIHN0eWxl
PSJmb250LXNpemU6MTEuMHB0O2ZvbnQtZmFtaWx5OiZxdW90O0NhbGlicmkmcXVvdDssc2Fucy1z
ZXJpZjtjb2xvcjojMUY0OTdEIj5UaGF0IHNhaWQsIGhvdyB3b3VsZCB5b3UgaW50ZW5kIHRvIGhh
bmRsZSBtdWx0aXBsZSBBIHJlY29yZHMgZm9yIHRoZSBzYW1lIG5hbWU6IGxvb2sgdGhlbSBhbGwg
dXAgYW5kIHN0b3JlIGluIGEgdGFibGUsIG9yIHN1cHBvcnQgb25seSBvbmUgQSByZWNvcmQgcGVy
IG5hbWU/Jm5ic3A7DQogQXQgYSBtaW5pbXVtLCBJIHRoaW5rIHRoYXQgbmVlZHMgdG8gYmUgY2xl
YXJseSBkb2N1bWVudGVkLjxvOnA+PC9vOnA+PC9zcGFuPjwvcD4NCjxwIGNsYXNzPSJNc29Ob3Jt
YWwiPjxzcGFuIHN0eWxlPSJmb250LXNpemU6MTEuMHB0O2ZvbnQtZmFtaWx5OiZxdW90O0NhbGli
cmkmcXVvdDssc2Fucy1zZXJpZjtjb2xvcjojMUY0OTdEIj48bzpwPiZuYnNwOzwvbzpwPjwvc3Bh
bj48L3A+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj48c3BhbiBzdHlsZT0iZm9udC1zaXplOjExLjBw
dDtmb250LWZhbWlseTomcXVvdDtDYWxpYnJpJnF1b3Q7LHNhbnMtc2VyaWY7Y29sb3I6IzFGNDk3
RCI+PG86cD4mbmJzcDs8L286cD48L3NwYW4+PC9wPg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNw
YW4gc3R5bGU9ImZvbnQtc2l6ZToxMS4wcHQ7Zm9udC1mYW1pbHk6JnF1b3Q7Q2FsaWJyaSZxdW90
OyxzYW5zLXNlcmlmO2NvbG9yOiMxRjQ5N0QiPlJpY2sgSG91c2VyPG86cD48L286cD48L3NwYW4+
PC9wPg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMS4wcHQ7
Zm9udC1mYW1pbHk6JnF1b3Q7Q2FsaWJyaSZxdW90OyxzYW5zLXNlcmlmO2NvbG9yOiMxRjQ5N0Qi
PjxvOnA+Jm5ic3A7PC9vOnA+PC9zcGFuPjwvcD4NCjxkaXYgc3R5bGU9ImJvcmRlcjpub25lO2Jv
cmRlci1sZWZ0OnNvbGlkIGJsdWUgMS41cHQ7cGFkZGluZzowaW4gMGluIDBpbiA0LjBwdCI+DQo8
ZGl2Pg0KPGRpdiBzdHlsZT0iYm9yZGVyOm5vbmU7Ym9yZGVyLXRvcDpzb2xpZCAjRTFFMUUxIDEu
MHB0O3BhZGRpbmc6My4wcHQgMGluIDBpbiAwaW4iPg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PGI+
PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMS4wcHQ7Zm9udC1mYW1pbHk6JnF1b3Q7Q2FsaWJyaSZx
dW90OyxzYW5zLXNlcmlmIj5Gcm9tOjwvc3Bhbj48L2I+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTox
MS4wcHQ7Zm9udC1mYW1pbHk6JnF1b3Q7Q2FsaWJyaSZxdW90OyxzYW5zLXNlcmlmIj4gWWVodWRh
IEthdHogW21haWx0bzp5ZWh1ZGFAeW1rYXR6Lm5ldF0NCjxicj4NCjxiPlNlbnQ6PC9iPiBUdWVz
ZGF5LCBNYXJjaCAwMSwgMjAxNiAxMDowOSBBTTxicj4NCjxiPlRvOjwvYj4gZGV2QGh0dHBkLmFw
YWNoZS5vcmc8YnI+DQo8Yj5TdWJqZWN0OjwvYj4gUmU6IGFjY2VzcyBjb250cm9sIGZvciBkeW5h
bWljIGhvc3RzPG86cD48L286cD48L3NwYW4+PC9wPg0KPC9kaXY+DQo8L2Rpdj4NCjxwIGNsYXNz
PSJNc29Ob3JtYWwiPjxvOnA+Jm5ic3A7PC9vOnA+PC9wPg0KPGRpdj4NCjxwIGNsYXNzPSJNc29O
b3JtYWwiPmR5bmRucyBpcyBhIGNvbXBhbnkgbmFtZSwgYnV0IGl0IHNlZW1zIHRvIGJlIHN5bm9u
eW1vdXMgZm9yIGEgbG90IG9mIHN5c3RlbXMgd2l0aCBkeW5hbWljLWRucy48bzpwPjwvbzpwPjwv
cD4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj5UaGF0IHdvdWxkIG1ha2UgYSByZWNvZ25p
emFibGUgb3B0aW9uIGZvciBhIGxvdCBvZiBwZW9wbGUuPG86cD48L286cD48L3A+DQo8L2Rpdj4N
CjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj48bzpwPiZuYnNwOzwvbzpwPjwvcD4NCjwvZGl2
Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPi0gWTxvOnA+PC9vOnA+PC9wPg0KPC9kaXY+
DQo8L2Rpdj4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj48bzpwPiZuYnNwOzwvbzpwPjwv
cD4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj5PbiBUdWUsIE1hciAxLCAyMDE2IGF0IDEw
OjAwIEFNLCBFcmljIENvdmVuZXIgJmx0OzxhIGhyZWY9Im1haWx0bzpjb3ZlbmVyQGdtYWlsLmNv
bSIgdGFyZ2V0PSJfYmxhbmsiPmNvdmVuZXJAZ21haWwuY29tPC9hPiZndDsgd3JvdGU6PG86cD48
L286cD48L3A+DQo8YmxvY2txdW90ZSBzdHlsZT0iYm9yZGVyOm5vbmU7Ym9yZGVyLWxlZnQ6c29s
aWQgI0NDQ0NDQyAxLjBwdDtwYWRkaW5nOjBpbiAwaW4gMGluIDYuMHB0O21hcmdpbi1sZWZ0OjQu
OHB0O21hcmdpbi1yaWdodDowaW4iPg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+T24gVHVlLCBNYXIg
MSwgMjAxNiBhdCA5OjUzIEFNLCZuYnNwOyAmbHQ7PGEgaHJlZj0ibWFpbHRvOmZhYmllbkBhcGFj
aGUub3JnIj5mYWJpZW5AYXBhY2hlLm9yZzwvYT4mZ3Q7IHdyb3RlOjxicj4NCiZndDsgTWF5YmUg
JnF1b3Q7UmVxdWlyZSBpcCZxdW90OyBjb3VsZCBiZSBleHRlbmRlZCBpbnN0ZWFkIG9mIHVzaW5n
IGEgbmV3IG5hbWU6PGJyPg0KJmd0Ozxicj4NCiZndDsmbmJzcDsgJm5ic3A7JnF1b3Q7UmVxdWly
ZSBpcCA8YSBocmVmPSJodHRwOi8vbXlzZXJ2ZXIuYXBhY2hlLm9yZyIgdGFyZ2V0PSJfYmxhbmsi
Pm15c2VydmVyLmFwYWNoZS5vcmc8L2E+JnF1b3Q7PGJyPg0KPGJyPg0KPGJyPg0KVW5mb3J0dW5h
dGVseSBJIHRoaW5rIHlvdSBuZWVkIHRvIHBpY2sgYW4gYXdrd2FyZCBuYW1lIGhlcmUgc28gaXQ8
YnI+DQpjYW5ub3QgYmUgY29uZnVzZWQvbWlzdXNlZC4mbmJzcDsgTGlrZSAmcXVvdDtmb3J3YXJk
LWRucyZxdW90Ozxicj4NCjxzcGFuIHN0eWxlPSJjb2xvcjojODg4ODg4Ij48YnI+DQo8c3BhbiBj
bGFzcz0iaG9lbnpiIj4tLTwvc3Bhbj48YnI+DQo8c3BhbiBjbGFzcz0iaG9lbnpiIj5FcmljIENv
dmVuZXI8L3NwYW4+PGJyPg0KPHNwYW4gY2xhc3M9ImhvZW56YiI+PGEgaHJlZj0ibWFpbHRvOmNv
dmVuZXJAZ21haWwuY29tIj5jb3ZlbmVyQGdtYWlsLmNvbTwvYT48L3NwYW4+PC9zcGFuPjxvOnA+
PC9vOnA+PC9wPg0KPC9ibG9ja3F1b3RlPg0KPC9kaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj48
bzpwPiZuYnNwOzwvbzpwPjwvcD4NCjwvZGl2Pg0KPC9kaXY+DQo8L2Rpdj4NCjwvYm9keT4NCjwv
aHRtbD4NCg==

--_000_d8501203143f4460851565d067246491DC03PXMBP003jacksonnati_--

From dev-return-85737-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 16:19:42 2016
Return-Path: <dev-return-85737-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7F5F11896E
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 16:19:42 +0000 (UTC)
Received: (qmail 79398 invoked by uid 500); 1 Mar 2016 16:19:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 79332 invoked by uid 500); 1 Mar 2016 16:19:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 79322 invoked by uid 99); 1 Mar 2016 16:19:42 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 16:19:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A15A9C369D
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 16:19:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 9GzTr9sQALWY for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 16:19:37 +0000 (UTC)
Received: from resqmta-po-07v.sys.comcast.net (resqmta-po-07v.sys.comcast.net [96.114.154.166])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 1392160D34
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 16:08:09 +0000 (UTC)
Received: from resomta-po-07v.sys.comcast.net ([96.114.154.231])
	by resqmta-po-07v.sys.comcast.net with comcast
	id Qg4Q1s0084zp9eg01g4Tbw; Tue, 01 Mar 2016 16:04:27 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-07v.sys.comcast.net with comcast
	id Qg4S1s00B2U0RYt01g4SxK; Tue, 01 Mar 2016 16:04:27 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: state of h2 (long)
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <EB0B5021-4F27-4649-9BE6-0DF6E9CF6FEB@sharp.fm>
Date: Tue, 1 Mar 2016 11:04:26 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <9CA01063-B2D7-4969-BAA3-4AED782E42FA@jaguNET.com>
References: <B7B7891F-D769-4537-8CCC-8C02B0D5BC97@greenbytes.de> <74C57D78-2C02-49F4-A104-75A76AE2F493@jaguNET.com> <EB0B5021-4F27-4649-9BE6-0DF6E9CF6FEB@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1456848267;
	bh=wT+/G9yl9iK9x+aFqlTPII5OL22n8/1EqKw/W3zmVv8=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=bfu5hyxXU3FrrR3KHcSMPEm1Ejml2iS9Z8gOE1J6q2bJcMQHOr0slGbjQdx6L2d6J
	 /HtMZ2F35spe3ABFoPonQWwmxSVfgKOV+RF9/fva4KrSjcj2ymyM0UpxQbXrxIigXV
	 80xg4G0487N3JZJyTFH2A+SkQMHSV5twWWJ0XF0cP0GKPChDXCvjycquu03h5MaElX
	 SkROM8Eop9AUD4QNwXI83p1vpULgwb0rY/qmbZbAmRtCrl5ZIzPPrgN1nteYtn/OoU
	 W25rruguLxiC9rFsQfLpE7AKp4PUTJWR+CgQisFz9keefUJzslUxhIpiFGhPhFIBh3
	 WqBZzIt7baavw==


> On Mar 1, 2016, at 9:46 AM, Graham Leggett <minfrin@sharp.fm> wrote:
>=20
> On 29 Feb 2016, at 10:33 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
>> I've been digging into how we could better leverage serf on the =
mod_proxy
>> side w/o going the route of mod_serf itself...  Agreed that using
>> pollsets et.al. would be useful. Maybe some of the motorz mpm logic
>> could be used by mod_proxy=E2=80=A6?
>=20
> I currently think everything we need is now there.
>=20
> I am in the process of adding TCP protocol support to the core and to =
the proxy (in other words we can be a TCP proxy in addition to an HTTP =
proxy), and am trying to see what problems we run into that stop us =
doing this asynchronously.

WOW! That is super cool!

Really looking forward to it!

>=20
> (What I want to achieve is an SNI proxy, in other words a TCP proxy =
that interprets enough of an SSL handshake to extract the SNI header, =
and use that name as the basis of a TCP tunnel to some backend server =
which then completes that SSL handshake. My end goal is that I can TLS =
client certificate all the way to a backend server without terminating =
that TLS connection on the proxy, and not use a dedicated IP per =
endpoint.)
>=20
> Regards,
> Graham
> =E2=80=94
>=20


From dev-return-85738-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 16:40:29 2016
Return-Path: <dev-return-85738-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B47D318A9B
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 16:40:29 +0000 (UTC)
Received: (qmail 76114 invoked by uid 500); 1 Mar 2016 16:39:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76032 invoked by uid 500); 1 Mar 2016 16:39:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76022 invoked by uid 99); 1 Mar 2016 16:39:50 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 16:39:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id D428C1A1097
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 16:39:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id aT24lOdSIKzp for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 16:39:48 +0000 (UTC)
Received: from jiboia.ensmp.fr (jiboia.ensmp.fr [194.214.158.137])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTP id 292E660D15
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 16:39:48 +0000 (UTC)
Received: from cri.ensmp.fr (nat-any-rnt.cri.ensmp.fr [195.83.117.252])
	(authenticated bits=0)
	by jiboia.ensmp.fr (8.15.2/8.15.1/JMMC-22/Oct/2013) with ESMTPSA id u21GdfAp006259
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Tue, 1 Mar 2016 17:39:42 +0100
Date: Tue, 1 Mar 2016 17:39:41 +0100 (CET)
From: fabien@apache.org
X-X-Sender: fabien@sto
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: access control for dynamic hosts
In-Reply-To: <d8501203143f4460851565d067246491@DC03PXMBP003.jacksonnational.com>
Message-ID: <alpine.DEB.2.10.1603011734000.18133@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto> <alpine.DEB.2.10.1601140936560.28426@sto> <CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com> <alpine.DEB.2.10.1603011545040.18133@sto> <CALK=YjOv-3FxaSULNF5myB_E5S=Pun=p-113sucVO+RsQ1UC4w@mail.gmail.com>
 <CAGBAQ476LTr-XS8psUMiF3i5GUqu+io8qi_gyx-pODW30CM30A@mail.gmail.com> <d8501203143f4460851565d067246491@DC03PXMBP003.jacksonnational.com>
User-Agent: Alpine 2.10 (DEB 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="8323329-659343725-1456850345=:18133"
Content-ID: <alpine.DEB.2.10.1603011739070.18133@sto>
X-Miltered: at jiboia.ensmp.fr with ID 56D5C5CD.000 by Joe's j-chkmail (http : // j-chkmail dot ensmp dot fr)!
X-j-chkmail-Auth: USER-ID fabien.coelho
X-j-chkmail-Enveloppe: 56D5C5CD.000 from nat-any-rnt.cri.ensmp.fr/nat-any-rnt.cri.ensmp.fr/195.83.117.252/cri.ensmp.fr/<fabien@apache.org>

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.

--8323329-659343725-1456850345=:18133
Content-Type: TEXT/PLAIN; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8BIT
Content-ID: <alpine.DEB.2.10.1603011739071.18133@sto>


Hello Rick,

> Forward doesnt mean dynamic, however, and using one particular solution 
> like that is misleading, IMO.  Using forward-dns makes more sense to 
> me.

Yep, with such a name what it does is pretty clear.

> That said, how would you intend to handle multiple A records for the 
> same name: look them all up and store in a table, or support only one A 
> record per name?  At a minimum, I think that needs to be clearly 
> documented.

Sure. The "poc" implementation posted up-thread walks over all the records 
till a match is found, or this is a deny.

There is no attempt at caching anything, as the actual use case is to deal 
with dynamic dns hosts, so with pretty short refresh times. Caching is the 
problem of the dns resolver.

-- 
Fabien.
--8323329-659343725-1456850345=:18133--

From dev-return-85739-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 19:08:29 2016
Return-Path: <dev-return-85739-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B5F141835D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 19:08:29 +0000 (UTC)
Received: (qmail 89909 invoked by uid 500); 1 Mar 2016 19:08:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89835 invoked by uid 500); 1 Mar 2016 19:08:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89825 invoked by uid 99); 1 Mar 2016 19:08:19 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 19:08:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 42701C0CD7
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 19:08:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Qk82de_WruCL for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 19:08:16 +0000 (UTC)
Received: from mail-wm0-f45.google.com (mail-wm0-f45.google.com [74.125.82.45])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 1BB515F5A5
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 19:08:16 +0000 (UTC)
Received: by mail-wm0-f45.google.com with SMTP id l68so49526526wml.0
        for <dev@httpd.apache.org>; Tue, 01 Mar 2016 11:08:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=uwXEqK4+Zf/1OOQluz49rn+AD195POAnXbd95qySnb4=;
        b=NNwAWfyJJEQ5JYHGBFIi+d8prabGg/4eTttH07JPHh9NNp/cshJGh1UOyoNeE20rG/
         XObkDR4cDcTpbA7uEdE7+9Qtq3wHXIw5pMdUN3AmX8c/gDqaxYByPLYN1Nl9DJty3IRk
         hH2xABEHEX5TsGFP0Kqmi4GBicD+OSldjsrj9xdE1BzBZvJKdL6QHOPoVapQLOBMFvKI
         GNNpoBNvzvPlvjQyJerf+7slKbflJ2zGHQQiaeDf6xlu0LZadmLZ1AICxd2lwMDJGmeb
         AJ4dPgCoDciWDMLsh8w8baSspb4k64WJ2nS6WBXG2WrZwNANPvuHfiWWR6/iBBZFcYr8
         WIvg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=uwXEqK4+Zf/1OOQluz49rn+AD195POAnXbd95qySnb4=;
        b=gEcYCxF013uToiomd0waE6M0lBj97+muU+Hg+Gk/cRDZJtgLgxIcw+evr6R152DoL6
         +aH1c33+jBWXGuwFOd8rZ9l1SXAME0ipxdvmxTydo/gwyIJWiOMbzZDA+pUbIeD9tgFd
         k8C+fJQSjCrLiIzldnFIs0VbdFIXGvhVZIQOf6sPdvXZ0FzY+08SVXIluQ8GajNHM33J
         JlROufwA+WNbC+RiIwsAIF5weoXQQMcajgJUNeBkCbkHTtLg08Lw8jtZEGPgIhCVVXWV
         FeiVThV5v+xndTSI2nESyIDxM5ox/pb6ey/SFSPeuRAE8KBXySkaBa+oObU+lFAWx/Ju
         P0GQ==
X-Gm-Message-State: AD7BkJI9Th5W0jXjSBomu3bqWcS4uVXhzNmrGDLI4Qmss8lv8pdE7eqCjvrqKme7jYU7sip/mKTVwY9Wul2mEQ==
MIME-Version: 1.0
X-Received: by 10.194.188.20 with SMTP id fw20mr26383512wjc.80.1456859295769;
 Tue, 01 Mar 2016 11:08:15 -0800 (PST)
Received: by 10.28.19.10 with HTTP; Tue, 1 Mar 2016 11:08:15 -0800 (PST)
In-Reply-To: <CAGu=u8gSex0+4KXfmy_rYCdcB-_TOfb-aZ1=rhBihYePx=8Tug@mail.gmail.com>
References: <B7B7891F-D769-4537-8CCC-8C02B0D5BC97@greenbytes.de>
	<56D34C62.5040406@gknw.net>
	<CACsi251oO2Ox6_bTo-ceUN+BO3zHBSN0qLK5f6jWB9+8j3QYBA@mail.gmail.com>
	<CAGu=u8gSex0+4KXfmy_rYCdcB-_TOfb-aZ1=rhBihYePx=8Tug@mail.gmail.com>
Date: Tue, 1 Mar 2016 11:08:15 -0800
Message-ID: <CAGu=u8g3VaiUp4DJHLQOOQuRQyFzWzf7g4K1HBJUgF6-LoYbaA@mail.gmail.com>
Subject: Re: state of h2 (long)
From: Jacob Champion <champion.p@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/mixed; boundary=047d7b6d9514d095ae052d017c1b

--047d7b6d9514d095ae052d017c1b
Content-Type: text/plain; charset=UTF-8

On Mon, Feb 29, 2016 at 1:55 PM, Jacob Champion <champion.p@gmail.com> wrote:
> I'm only just figuring out how to actually test the proxy module at
> runtime, though, so... caveat emptor.

FWIW, with that patchset, I was able to get an h2c (plaintext) proxy
working with the nghttp2.org test server. So that's a good sign. I
still don't have my OpenSSL build process for Windows down enough to
test out an h2 proxy, but that'll be my next trick.

That said, the h2c proxy needed an additional patch to work --
mod_proxy_http2's URL canonicalization removes port 80 from h2c://
URLs, but mod_proxy doesn't know which port to use for the h2c
pseudo-scheme, so the proxy fails. One possible solution (patch
attached) is to add the h2c and h2 schemes to the proxy_schemes_t list
in proxy_util.c. I don't know if that's the *right* solution, but it
works for me?

--Jacob

--047d7b6d9514d095ae052d017c1b
Content-Type: application/octet-stream; name="http2-proxy-ports.patch"
Content-Disposition: attachment; filename="http2-proxy-ports.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_il9sdg960

ZGlmZiAtLWdpdCBhL21vZHVsZXMvcHJveHkvcHJveHlfdXRpbC5jIGIvbW9kdWxlcy9wcm94eS9w
cm94eV91dGlsLmMKaW5kZXggNjk0OWYyYy4uMDM2YWUxNCAxMDA2NDQKLS0tIGEvbW9kdWxlcy9w
cm94eS9wcm94eV91dGlsLmMKKysrIGIvbW9kdWxlcy9wcm94eS9wcm94eV91dGlsLmMKQEAgLTM2
ODEsNiArMzY4MSw4IEBAIHN0YXRpYyBwcm94eV9zY2hlbWVzX3QgcHNjaGVtZXNbXSA9CiAgICAg
eyJmY2dpIiwgICAgIDgwMDB9LAogICAgIHsiYWpwIiwgICAgICBBSlAxM19ERUZfUE9SVH0sCiAg
ICAgeyJzY2dpIiwgICAgIFNDR0lfREVGX1BPUlR9LAorICAgIHsiaDJjIiwgICAgICBERUZBVUxU
X0hUVFBfUE9SVH0sCisgICAgeyJoMiIsICAgICAgIERFRkFVTFRfSFRUUFNfUE9SVH0sCiAgICAg
eyBOVUxMLCAweEZGRkYgfSAgICAgLyogdW5rbm93biBwb3J0ICovCiB9OwogCg==
--047d7b6d9514d095ae052d017c1b--

From dev-return-85740-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 21:18:34 2016
Return-Path: <dev-return-85740-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CF4FC18DE9
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 21:18:34 +0000 (UTC)
Received: (qmail 62965 invoked by uid 500); 1 Mar 2016 21:18:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62815 invoked by uid 500); 1 Mar 2016 21:18:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62648 invoked by uid 99); 1 Mar 2016 21:18:33 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 21:18:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 3B67CC22A6
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 21:18:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id hs12mQWEEYIf for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 21:18:32 +0000 (UTC)
Received: from mail-wm0-f46.google.com (mail-wm0-f46.google.com [74.125.82.46])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 144FA5FBF5
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 21:18:32 +0000 (UTC)
Received: by mail-wm0-f46.google.com with SMTP id l68so56832698wml.0
        for <dev@httpd.apache.org>; Tue, 01 Mar 2016 13:18:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=L3Aeel+HsAmqC3qsk1f2iEzTfh3ZOWYK5P/65F8aY/4=;
        b=S7vQJWbt+zyjAVXFkQxXTUG+Xb7w9uMTzZEP3nB62Ym18il8CpTK8YAz6JwtE3s0YL
         x9YxKmi8JrMfGHPkOJ3pMrg1Qe9KgEjSUKnQgKtOlNPI/3YHodhdF3iJoyP5kwvMYD74
         91Htro8XHAAzhinfJCDyZrK7hr3OjE+OCVJb/EVlldkQlWBndcEfP53V8VT5asror8do
         9fahbBftJ/iZH6MP2Zg+66Kv7mcmKaS0ZmTeqoOVFt5klrCwYxUvLqi5jBf+UmxqzsXx
         5jKv0LZj60mVPAGfWZgF8mljKa5bMXtjC5FZ/goQeAitnXxM/mr91at3mKQLTLC2AAnA
         siUQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=L3Aeel+HsAmqC3qsk1f2iEzTfh3ZOWYK5P/65F8aY/4=;
        b=WUMlLWtLHyPYJyJTGg1wFfed+GcMCHKC/MHcF7yWn5vQOya7HvhxL+P9i67QcdPmeO
         tgL3TDMFgiE2wrWwOR39LdJivT32NclMaCYV/B4tSIpLsMNizSfHiVEDlXys8G/mpBRh
         mdv1NqMfABBIQ7awyeYwEa3Tllg/lDCdPKP6P7Fg2QuIoHZStWQuPeC2UagX+SrG7Nv/
         4NQkGp3uypH9dBCEbyPhJMOPFzDfg6JPQq/RH+jnru9ZaKnxsPFUZjKvqeDMTLXPIeIE
         fb3ZTtH+jpc+YdyOqmJi90OqW2bXFc5tuY/V9GRoWRB/6K51OBSnYyZ6OSoisWxxayN/
         aJmA==
X-Gm-Message-State: AD7BkJKxZpeZFrbSgcPL1B9kXzRS9uOxMuA9oVq/3Nqyky8L8utyEX86Kf2OIKG29pPeI+Lt+vMDMtgvTf5xZg==
MIME-Version: 1.0
X-Received: by 10.194.188.20 with SMTP id fw20mr26888624wjc.80.1456866811693;
 Tue, 01 Mar 2016 13:13:31 -0800 (PST)
Received: by 10.28.19.10 with HTTP; Tue, 1 Mar 2016 13:13:31 -0800 (PST)
In-Reply-To: <CAGu=u8g3VaiUp4DJHLQOOQuRQyFzWzf7g4K1HBJUgF6-LoYbaA@mail.gmail.com>
References: <B7B7891F-D769-4537-8CCC-8C02B0D5BC97@greenbytes.de>
	<56D34C62.5040406@gknw.net>
	<CACsi251oO2Ox6_bTo-ceUN+BO3zHBSN0qLK5f6jWB9+8j3QYBA@mail.gmail.com>
	<CAGu=u8gSex0+4KXfmy_rYCdcB-_TOfb-aZ1=rhBihYePx=8Tug@mail.gmail.com>
	<CAGu=u8g3VaiUp4DJHLQOOQuRQyFzWzf7g4K1HBJUgF6-LoYbaA@mail.gmail.com>
Date: Tue, 1 Mar 2016 13:13:31 -0800
Message-ID: <CAGu=u8gX2G3vUcs9Ghvz6pRxtCa8=B4ubcLh6aZo-tRRLNboTg@mail.gmail.com>
Subject: Re: state of h2 (long)
From: Jacob Champion <champion.p@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 1, 2016 at 11:08 AM, Jacob Champion <champion.p@gmail.com> wrote:
> I still don't have my OpenSSL build process for Windows down enough to
> test out an h2 proxy, but that'll be my next trick.

Looks like an HTTP/1.1 -> h2 proxy works for me as well on Windows,
once I got a functioning SSLProxyEngine. This is cool stuff!

--Jacob

From dev-return-85741-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 21:30:58 2016
Return-Path: <dev-return-85741-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8DDE618EE6
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 21:30:58 +0000 (UTC)
Received: (qmail 98475 invoked by uid 500); 1 Mar 2016 21:30:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98402 invoked by uid 500); 1 Mar 2016 21:30:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98392 invoked by uid 99); 1 Mar 2016 21:30:51 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 21:30:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 53E0AC0185
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 21:30:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.8
X-Spam-Level: *
X-Spam-Status: No, score=1.8 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_DNSWL_NONE=-0.0001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id lWZzed7GMzm9 for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 21:30:49 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id D23D25FBC0
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 21:30:48 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id D00B820F2F
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 22:30:41 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ac7hRRnZ8LUc for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 22:30:41 +0100 (CET)
Received: from [10.0.0.1] (unknown [101.175.183.241])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id A703D20581
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 22:30:40 +0100 (CET)
Subject: Re: Backport of auto proxy(_util) exports?
To: dev@httpd.apache.org
References: <56D4C029.7090303@gknw.net> <56D507F6.4040209@kippdata.de>
From: NormW <normw@gknw.net>
Message-ID: <56D609F2.3020300@gknw.net>
Date: Wed, 2 Mar 2016 08:30:26 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <56D507F6.4040209@kippdata.de>
Content-Type: multipart/mixed;
 boundary="------------010003080407020301070401"

This is a multi-part message in MIME format.
--------------010003080407020301070401
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/M,
As of last night the following additional exports from 2.4 mod_proxy 
builds all NetWare modules presently in the 2.4 modules/proxy dir:
> Index: modules/proxy/NWGNUproxy
> ===================================================================
> --- modules/proxy/NWGNUproxy	(revision 1733007)
> +++ modules/proxy/NWGNUproxy	(working copy)
> @@ -273,6 +273,7 @@
>  	@echo $(DL) proxy_run_scheme_handler,$(DL)>> $@
>  	@echo $(DL) ap_proxy_acquire_connection,$(DL)>> $@
>  	@echo $(DL) ap_proxy_backend_broke,$(DL)>> $@
> +	@echo $(DL) ap_proxy_buckets_lifetime_transform,$(DL)>> $@
>  	@echo $(DL) ap_proxy_c2hex,$(DL)>> $@
>  	@echo $(DL) ap_proxy_canon_netloc,$(DL)>> $@
>  	@echo $(DL) ap_proxy_canonenc,$(DL)>> $@
> @@ -318,6 +319,7 @@
>  	@echo $(DL) ap_proxy_strncpy,$(DL)>> $@
>  	@echo $(DL) ap_proxy_sync_balancer,$(DL)>> $@
>  	@echo $(DL) ap_proxy_trans_match,$(DL)>> $@
> +	@echo $(DL) ap_proxy_transfer_between_connections,$(DL)>> $@
>  	@echo $(DL) ap_proxy_valid_balancer_name,$(DL)>> $@
>  	@echo $(DL) ap_proxy_worker_name,$(DL)>> $@
>  	@echo $(DL) ap_proxyerror$(DL)>> $@
Norm

On 1/03/2016 2:09 PM, Rainer Jung wrote:
> Am 29.02.2016 um 23:03 schrieb NormW:
>> G/M Rainer,
>> Any known reason your recent tweaks to automatically create the
>> mod_proxy exports list cannot be nominated for back-port to 2.4.x?
>
> Not that I'm aware off. Things have settled a bit now, so probably it'
> the time to propose a backport.
>
>> If there is a technical and/or time constraint I'll submit a patch for
>> at least a couple of symbols needed to build 2.4.x/modules/proxy.
>
> That would be great!
>
> Rainer


--------------010003080407020301070401
Content-Type: text/x-patch;
 name="extra_proxy_exports_2_4.diff"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="extra_proxy_exports_2_4.diff"

Index: modules/proxy/NWGNUproxy
===================================================================
--- modules/proxy/NWGNUproxy	(revision 1733007)
+++ modules/proxy/NWGNUproxy	(working copy)
@@ -273,6 +273,7 @@
 	@echo $(DL) proxy_run_scheme_handler,$(DL)>> $@
 	@echo $(DL) ap_proxy_acquire_connection,$(DL)>> $@
 	@echo $(DL) ap_proxy_backend_broke,$(DL)>> $@
+	@echo $(DL) ap_proxy_buckets_lifetime_transform,$(DL)>> $@
 	@echo $(DL) ap_proxy_c2hex,$(DL)>> $@
 	@echo $(DL) ap_proxy_canon_netloc,$(DL)>> $@
 	@echo $(DL) ap_proxy_canonenc,$(DL)>> $@
@@ -318,6 +319,7 @@
 	@echo $(DL) ap_proxy_strncpy,$(DL)>> $@
 	@echo $(DL) ap_proxy_sync_balancer,$(DL)>> $@
 	@echo $(DL) ap_proxy_trans_match,$(DL)>> $@
+	@echo $(DL) ap_proxy_transfer_between_connections,$(DL)>> $@
 	@echo $(DL) ap_proxy_valid_balancer_name,$(DL)>> $@
 	@echo $(DL) ap_proxy_worker_name,$(DL)>> $@
 	@echo $(DL) ap_proxyerror$(DL)>> $@

--------------010003080407020301070401--

From dev-return-85742-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  1 22:45:57 2016
Return-Path: <dev-return-85742-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0EA7D193E7
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Mar 2016 22:45:57 +0000 (UTC)
Received: (qmail 58242 invoked by uid 500); 1 Mar 2016 22:45:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58171 invoked by uid 500); 1 Mar 2016 22:45:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58161 invoked by uid 99); 1 Mar 2016 22:45:56 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Mar 2016 22:45:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 2A516C397B
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 22:45:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.262
X-Spam-Level:
X-Spam-Status: No, score=0.262 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RDNS_DYNAMIC=0.363, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Huy2nwZZ;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Huy2nwZZ
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id hgIH7xkZpwPF for <dev@httpd.apache.org>;
	Tue,  1 Mar 2016 22:45:53 +0000 (UTC)
Received: from mail.greenbytes.de (b2b-5-10-171-186.unitymedia.biz [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id D3D785F39C
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 22:45:43 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 5DE9D15A0806; Tue,  1 Mar 2016 23:43:13 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456872193; bh=ahh6vVYEltaS68R+xI7FO7V5sKL9IDZlQV4uIV2MkJQ=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=Huy2nwZZU8D1nBgmG1aLR3hQaS9zwxd2ZFBgGuEWC4FBYuO/hAKck5HnWTwXZCMq1
	 3xhb3dKnYnFB+AftzxounlUDxJOQe3DvxqRrE8ZFp/BHQVTg1rMwgjlKgNbUPNcTeD
	 flJLS/iJHcUAq98YmwzxSBO77dlFAVtsIfwDSeGY=
Received: from [192.168.178.70] (unknown [84.189.95.129])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 2FCFE15A0806
	for <dev@httpd.apache.org>; Tue,  1 Mar 2016 23:43:13 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456872193; bh=ahh6vVYEltaS68R+xI7FO7V5sKL9IDZlQV4uIV2MkJQ=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=Huy2nwZZU8D1nBgmG1aLR3hQaS9zwxd2ZFBgGuEWC4FBYuO/hAKck5HnWTwXZCMq1
	 3xhb3dKnYnFB+AftzxounlUDxJOQe3DvxqRrE8ZFp/BHQVTg1rMwgjlKgNbUPNcTeD
	 flJLS/iJHcUAq98YmwzxSBO77dlFAVtsIfwDSeGY=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: state of h2 (long)
Message-Id: <879425CF-2094-4950-9E1F-DA66DAF518F6@greenbytes.de>
Date: Tue, 1 Mar 2016 23:43:12 +0100
References: <B7B7891F-D769-4537-8CCC-8C02B0D5BC97@greenbytes.de> <56D34C62.5040406@gknw.net> <CACsi251oO2Ox6_bTo-ceUN+BO3zHBSN0qLK5f6jWB9+8j3QYBA@mail.gmail.com> <CAGu=u8gSex0+4KXfmy_rYCdcB-_TOfb-aZ1=rhBihYePx=8Tug@mail.gmail.com> <CAGu=u8g3VaiUp4DJHLQOOQuRQyFzWzf7g4K1HBJUgF6-LoYbaA@mail.gmail.com> <CAGu=u8gX2G3vUcs9Ghvz6pRxtCa8=B4ubcLh6aZo-tRRLNboTg@mail.gmail.com>
In-Reply-To: <CAGu=u8gX2G3vUcs9Ghvz6pRxtCa8=B4ubcLh6aZo-tRRLNboTg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: iPhone Mail (13D20)

Yeah! I'll get that in tomorrow. Nice work!

> Am 01.03.2016 um 22:13 schrieb Jacob Champion <champion.p@gmail.com>:
>=20
>> On Tue, Mar 1, 2016 at 11:08 AM, Jacob Champion <champion.p@gmail.com> wr=
ote:
>> I still don't have my OpenSSL build process for Windows down enough to
>> test out an h2 proxy, but that'll be my next trick.
>=20
> Looks like an HTTP/1.1 -> h2 proxy works for me as well on Windows,
> once I got a functioning SSLProxyEngine. This is cool stuff!
>=20
> --Jacob

From dev-return-85743-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 00:04:42 2016
Return-Path: <dev-return-85743-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C0C10197F6
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 00:04:42 +0000 (UTC)
Received: (qmail 16540 invoked by uid 500); 2 Mar 2016 00:04:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16479 invoked by uid 500); 2 Mar 2016 00:04:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16469 invoked by uid 99); 2 Mar 2016 00:04:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 00:04:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 6BB271A03CB
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 00:04:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id yFOxS_Kap48h for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 00:04:40 +0000 (UTC)
Received: from mail-qg0-f48.google.com (mail-qg0-f48.google.com [209.85.192.48])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id A49C85F54E
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 00:04:39 +0000 (UTC)
Received: by mail-qg0-f48.google.com with SMTP id b67so156601368qgb.1
        for <dev@httpd.apache.org>; Tue, 01 Mar 2016 16:04:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=9g5pNCYBy1g2PXdynuiRbtvCcPAf5CPRlU4UOnVuGrU=;
        b=IlgDaTIzgJ98yOu5BtWYHLCEvp7ZO+w4z+d4n6QX9W9yHcNUpsvRMRT7d9uKa4thWR
         K5dACU2t2fN29sE5lfct6BMq8Bb96gnS6GF+d49XHZg3YR0Bp8pQGuaB28j67gvfKLcp
         ohOjMrgCV8VqoQz5e0SDZKC7g+Ayb64/X9It3AIWTKqO0N1MG0q8JKytA0ynBP8bp8Jk
         2s/Nx8c6fHTlVVnchQd9U6TNv0elLk9hc4UV/GHsWcb6EFIX1E0/JYEsShuPHAyl+DCe
         WQWGXopISFq+DBqCcPTH5G9kQ/CT2yX9XuDL3TSwNUkkc5ijb/IfiMdU3L3xFv97AwUJ
         KF4g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=9g5pNCYBy1g2PXdynuiRbtvCcPAf5CPRlU4UOnVuGrU=;
        b=Rc+hBDHdtGaCuH5usgMYaXt1JZTTjDtVGnQGiMNAVK7uSuil3CLQsnJmTbhe8kzz7x
         4aMBPftbppWh+Cad54fhrj2hR7s0fptu7bk0kxCVGfKrz0Ldwj+IMqF8VN7iWB4BhWzb
         jzgzkusYs5jVRsiu3F/IwxYuQgM7muLhtjBvpSYZWjdTm+ermJKjBoDomJ/pjCmVGn5a
         iRwQE0oh/k3bm7cEbzLPaQ76/RgKbl3VQe/EuCXeiQa4ZFhMpv+/KJ7pZ501mSUkar7e
         d0zlibGVLcpY0R1qyuQN2+nL9RRmfshBP08sX23cy6D8FJwmCqVrDZ6rCC49OpQsuOH+
         ozWw==
X-Gm-Message-State: AD7BkJKMZARXhvFWkfahOEx5htg+nEqM909DxT6kWbsiVGeFbOz1cog1VRTuksJT2FO96CkIDuZnSYU0crkTjg==
MIME-Version: 1.0
X-Received: by 10.140.249.6 with SMTP id u6mr32001404qhc.83.1456876777755;
 Tue, 01 Mar 2016 15:59:37 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Tue, 1 Mar 2016 15:59:37 -0800 (PST)
In-Reply-To: <20160129155125.C8ED63A0185@svn01-us-west.apache.org>
References: <20160129155125.C8ED63A0185@svn01-us-west.apache.org>
Date: Wed, 2 Mar 2016 00:59:37 +0100
Message-ID: <CAKQ1sVMAKVpMna+SuOeDWr8tyT_7+bTWpRpfxQw0k+YUSepyqg@mail.gmail.com>
Subject: Re: svn commit: r1727603 - in /httpd/httpd/trunk: CHANGES server/mpm/event/event.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Jan 29, 2016 at 4:51 PM,  <icing@apache.org> wrote:
> Author: icing
> Date: Fri Jan 29 15:51:25 2016
> New Revision: 1727603
>
> URL: http://svn.apache.org/viewvc?rev=1727603&view=rev
> Log:
> event: slave connection init, vhost early config
>
> Modified:
>     httpd/httpd/trunk/server/mpm/event/event.c
[]
>
> Modified: httpd/httpd/trunk/server/mpm/event/event.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/mpm/event/event.c?rev=1727603&r1=1727602&r2=1727603&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/server/mpm/event/event.c (original)
> +++ httpd/httpd/trunk/server/mpm/event/event.c Fri Jan 29 15:51:25 2016
> @@ -3293,6 +3293,55 @@ static int event_run(apr_pool_t * _pconf
>      return OK;
>  }
>
> +static void setup_slave_conn(conn_rec *c, void *csd)
> +{
> +    event_conn_state_t *mcs;
> +    event_conn_state_t *cs;
> +
> +    mcs = ap_get_module_config(c->master->conn_config, &mpm_event_module);
> +
> +    cs = apr_pcalloc(c->pool, sizeof(*cs));
> +    cs->c = c;
> +    cs->r = NULL;
> +    cs->sc = mcs->sc;
> +    cs->suspended = 0;
> +    cs->p = c->pool;
> +    cs->bucket_alloc = c->bucket_alloc;

Can the slave connection really have the same bucket_alloc as the master?
Can't both be processed (i.e. process_socket) at the same time?

> +    cs->pfd = mcs->pfd;
> +    cs->pub = mcs->pub;

Looks unnecessary, since the two pub's (only) fields below are overwritten.

> +    cs->pub.state = CONN_STATE_READ_REQUEST_LINE;
> +    cs->pub.sense = CONN_SENSE_DEFAULT;
> +
> +    c->cs = &(cs->pub);
> +    ap_set_module_config(c->conn_config, &mpm_event_module, cs);
> +}

Regards,
Yann.

From dev-return-85744-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 00:06:13 2016
Return-Path: <dev-return-85744-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0A4DA19815
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 00:06:13 +0000 (UTC)
Received: (qmail 21605 invoked by uid 500); 2 Mar 2016 00:06:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21527 invoked by uid 500); 2 Mar 2016 00:06:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21517 invoked by uid 99); 2 Mar 2016 00:06:12 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 00:06:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0B955180550
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 00:06:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 6XemiFoGxXdr for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 00:06:11 +0000 (UTC)
Received: from mail-qg0-f47.google.com (mail-qg0-f47.google.com [209.85.192.47])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 3DBBE5FBFB
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 00:05:56 +0000 (UTC)
Received: by mail-qg0-f47.google.com with SMTP id y89so156676000qge.2
        for <dev@httpd.apache.org>; Tue, 01 Mar 2016 16:05:56 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=b4E9oV0kPApaxBJ75ZNcFBg1QWSt5zmX+aEpxQ8inxE=;
        b=ULJjKJmWkEgbu2TzExoZKtl+MXQnEzsqjb1s2ipoA3KM8zbben3tZuK2FSRqFNxKOn
         EFYYtmKCSCtHccu0W+v+8AkA49uWiteuhHf7gfmTHeaO6PvoPmCGSPi5EegzWj1OS45H
         UuCVN/xI7ZHlMIauk7MYHP2o78JnuH3NXxJAKu6Lh14ZKeQ2I82XwiE4sxSzA+PZpvFk
         zbTzXBm+RWxLpnqStW+rT8oNeWa0qlWg6y33hxqLPigUHZ27jJKj2uIogfFqety5Hd9p
         8DIIkSnoATSelJWnizVl+qwRwh98p1u/cAtjfAE/PFHSijqvF1mf2Zi+j9eIRFQTYPpp
         7HTg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=b4E9oV0kPApaxBJ75ZNcFBg1QWSt5zmX+aEpxQ8inxE=;
        b=L3nskkUD43g3QLPW+cJH6MKYGeTAJhW0gUueWcveRkpdSYTJz2Uv0xuKybZfQnAPj3
         h0GlEW8c71t6LK4fWfyuEW7bx79R6A7W2hkBMCMKvU+Y+Weh782p5KRq79HqxYbLUNMz
         MoZdauy3qcDOxnhwbh8PY5p7CXQ6g1SBKR2V4BTtv0J3P7SD+kwr+RjWYz/bQtfQfl5R
         NCU4DT7yJI8e0h6l4/UDI1u+FiLslTEee146zxlEsk30VuP9AtqClhQbkzeUuc8WgQDB
         9uSt4bY6sCiBzuTM3OuCGhzq6P83MH6zsZvrRz7vBlLKPsfZlDP5RmDbtZ1MqeJzdfGa
         HEaA==
X-Gm-Message-State: AD7BkJIzzpjlrAn/CwIRsns0M6ROnWubaE9kxTf8V+W4FC2JHAemfJqFaxb8Y0tBgAi/hIp0RZQyCuwGV9f3iw==
MIME-Version: 1.0
X-Received: by 10.140.43.37 with SMTP id d34mr29419873qga.51.1456877013811;
 Tue, 01 Mar 2016 16:03:33 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Tue, 1 Mar 2016 16:03:33 -0800 (PST)
In-Reply-To: <CAKQ1sVMAKVpMna+SuOeDWr8tyT_7+bTWpRpfxQw0k+YUSepyqg@mail.gmail.com>
References: <20160129155125.C8ED63A0185@svn01-us-west.apache.org>
	<CAKQ1sVMAKVpMna+SuOeDWr8tyT_7+bTWpRpfxQw0k+YUSepyqg@mail.gmail.com>
Date: Wed, 2 Mar 2016 01:03:33 +0100
Message-ID: <CAKQ1sVMKkLuOCjDqjEgDVd7A_=xrhpjrRi3aXJu20K-UDZg9fQ@mail.gmail.com>
Subject: Re: svn commit: r1727603 - in /httpd/httpd/trunk: CHANGES server/mpm/event/event.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 2, 2016 at 12:59 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Fri, Jan 29, 2016 at 4:51 PM,  <icing@apache.org> wrote:
>>
>> +static void setup_slave_conn(conn_rec *c, void *csd)
>> +{
>> +    event_conn_state_t *mcs;
>> +    event_conn_state_t *cs;
>> +
>> +    mcs = ap_get_module_config(c->master->conn_config, &mpm_event_module);
>> +
>> +    cs = apr_pcalloc(c->pool, sizeof(*cs));
>> +    cs->c = c;
>> +    cs->r = NULL;
>> +    cs->sc = mcs->sc;
>> +    cs->suspended = 0;
>> +    cs->p = c->pool;
>> +    cs->bucket_alloc = c->bucket_alloc;
>
> Can the slave connection really have the same bucket_alloc as the master?
> Can't both be processed (i.e. process_socket) at the same time?

Forget that, I have read it as: cs->bucket_alloc = mcs->bucket_alloc :p

From dev-return-85745-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 00:14:47 2016
Return-Path: <dev-return-85745-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 64B9D19852
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 00:14:47 +0000 (UTC)
Received: (qmail 41946 invoked by uid 500); 2 Mar 2016 00:14:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41849 invoked by uid 500); 2 Mar 2016 00:14:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41839 invoked by uid 99); 2 Mar 2016 00:14:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 00:14:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 7D289C0D25
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 00:14:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.33
X-Spam-Level:
X-Spam-Status: No, score=-0.33 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id q0sR9XHm1EVB for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 00:14:40 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id 4BA6A5FBDB
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 00:14:40 +0000 (UTC)
Received: from [192.168.220.210] (unknown [192.168.220.210])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 7E38682097
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 00:09:32 +0000 (GMT)
From: Graham Leggett <minfrin@sharp.fm>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Subject: conn_rec needs a context
Message-Id: <35DA6E0F-5A78-40D8-B9A7-F6398606EEE2@sharp.fm>
Date: Wed, 2 Mar 2016 02:09:31 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
X-Mailer: Apple Mail (2.2104)

Hi all,

In order to get connections to have async behaviour, it must be possible =
for the process_connection hook to exit in the expectation of being =
called again when an async mpm is present - this is easy, the mpms =
already do that.

The missing bit is that conn_rec needs a context so that when is is =
called a second time it knows what state it is in.

There is a void *ctx variable that was added in r1565657, but I=E2=80=99m =
not sure it is enough.

Would it make sense to add a vector of contexts that same way we have a =
vector of configs, one slot for each module, which will allow any module =
to add a context of it=E2=80=99s own to conn_rec without having to =
extend conn_rec?

It would be nice to have the same for requests, for the same reason.

Thoughts?

Regards,
Graham
=E2=80=94


From dev-return-85746-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 00:23:51 2016
Return-Path: <dev-return-85746-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 049F1198A6
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 00:23:51 +0000 (UTC)
Received: (qmail 64765 invoked by uid 500); 2 Mar 2016 00:23:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64699 invoked by uid 500); 2 Mar 2016 00:23:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64689 invoked by uid 99); 2 Mar 2016 00:23:50 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 00:23:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6B15DC226E
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 00:23:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id wuOmglYL4DI7 for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 00:23:48 +0000 (UTC)
Received: from mail-qk0-f174.google.com (mail-qk0-f174.google.com [209.85.220.174])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 140E160D0D
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 00:23:49 +0000 (UTC)
Received: by mail-qk0-f174.google.com with SMTP id s68so76424387qkh.3
        for <dev@httpd.apache.org>; Tue, 01 Mar 2016 16:23:49 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-transfer-encoding;
        bh=yYwQD3mkILOMvb3Ff+5IovGDWxB8oUfQaFuq/Tj56Q4=;
        b=x1YbpyRzj6C9FP6WtHTxD2qMujfBt18fliTPMqunb14w953AvHzRwPZTtVckV5z6T2
         2y1kTdySB8i7oMWQXI8RS74/NMyx4byLCZtfa8BnH5Ln6tbwP6fVVUu++RM+GpzEmX6P
         RjfacHQ+ogJzS6aZYvu4VjQzAhp5wcujA3GyyXqSGuI3kdZvusAWcqB249OmrhqZap8+
         avrCrExQe8m+zfpDWIs2kuQ9FOK4wDxhaLnl2RqfL8R2yeLB2zum8HxiOp226m5db/Oa
         aOJT5rQI0POALmDun3Vkd+qtGB7OKr6SJvMVvA1Jasbav7/rr99YOhVrTOHMGotY2/WW
         p2/Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-transfer-encoding;
        bh=yYwQD3mkILOMvb3Ff+5IovGDWxB8oUfQaFuq/Tj56Q4=;
        b=kwuMFpiquFZGCH6I2DBQgLERF+rMzt3L2S3qE+TTnc4s8Q9d7ZVNPP0sLBwWJEVwzy
         I6QUoYt1ZWOlUeWpN0vNvDmHOe6smEhU05Ilt18gXQn8q0DReQnN5FGp2bwUmqe1E+lM
         mBUyB/Mgq5IKQhwgk6crGiSXo9XW2ejquVALLc/Qra0qewdTueoFiSUmCCS5wEsM2ypU
         hUYPPj3doJwvtLqjR/t7GpSsZ3Q5cbONKGppB1wQEZtdjOdxao6IjU7KaBSGAMlLYooa
         WAmk1vFIFwOBsld2eIxOTDmpG585+qCmtf8IAtxFndpmBTqt1faL5CJKrR7Px209svlq
         P4jQ==
X-Gm-Message-State: AD7BkJKSGsrAPI2pgBRlPKtcB52T69ZevRmZIWM4ClY1wAXUhHbc3LjGSaYdBWvaTElrr3z+XwjASn4WyzMqaQ==
MIME-Version: 1.0
X-Received: by 10.55.75.203 with SMTP id y194mr30634741qka.2.1456878222217;
 Tue, 01 Mar 2016 16:23:42 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Tue, 1 Mar 2016 16:23:42 -0800 (PST)
In-Reply-To: <35DA6E0F-5A78-40D8-B9A7-F6398606EEE2@sharp.fm>
References: <35DA6E0F-5A78-40D8-B9A7-F6398606EEE2@sharp.fm>
Date: Wed, 2 Mar 2016 01:23:42 +0100
Message-ID: <CAKQ1sVP2X0p1UcGRfAB7CkpxjJcxJqPzfnwAwq6nGQ3fOOV3dA@mail.gmail.com>
Subject: Re: conn_rec needs a context
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi,

On Wed, Mar 2, 2016 at 1:09 AM, Graham Leggett <minfrin@sharp.fm> wrote:
>
> Would it make sense to add a vector of contexts that same way we have a v=
ector of configs, one slot for each module, which will allow any module to =
add a context of it=E2=80=99s own to conn_rec without having to extend conn=
_rec?

Can't the existing ap_[gs]et_module_config(c->conn_config, ...) be
used for that purpose?

>
> It would be nice to have the same for requests, for the same reason.

Likewise with r->request_config?

Regards,
Yann.

From dev-return-85747-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 00:26:20 2016
Return-Path: <dev-return-85747-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C988C198C3
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 00:26:20 +0000 (UTC)
Received: (qmail 72100 invoked by uid 500); 2 Mar 2016 00:26:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71995 invoked by uid 500); 2 Mar 2016 00:26:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71913 invoked by uid 99); 2 Mar 2016 00:26:19 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 00:26:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D9C6518055A
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 00:26:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id XVyyVhR-Pc4k for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 00:26:18 +0000 (UTC)
Received: from mail-qg0-f44.google.com (mail-qg0-f44.google.com [209.85.192.44])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id EA12C5FE69
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 00:26:17 +0000 (UTC)
Received: by mail-qg0-f44.google.com with SMTP id y89so157052706qge.2
        for <dev@httpd.apache.org>; Tue, 01 Mar 2016 16:26:17 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-transfer-encoding;
        bh=vzXo44Iy8qIBwd7RAAiwWNwMSKdZsyOYmDKE9PPpJ74=;
        b=I5xAi4zm43/Dku7WpmQry+iaXRQXu9eWWqfl5yUNppKTSngPLQ3TeDmyr6ZUlWfOPW
         F4QzWeck/ba2dTVcYxQ4YBPpRZgAI9/qZITHGC0HYOlODXzNXDWRgL6NJDixODPLpmTY
         LTtHRWjrk5cYf++9/IHIHJT9hmE2fIhLMcr0NEgRkCZ/u0ox3qP7SOaj5Th6FBtDrNyp
         HZDIx8HxRfUblog6tYJjzIX+OhzUJl23BUPnfR85tO4VE/+VLU2OlivGMB62TX7hcDwJ
         Fl30uRkB4fiyiMmazh9GEJLT9fslY4ZBhGkXExwn3wC30LjCE2wIrm5phHLjh0G3TT+N
         GAxA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-transfer-encoding;
        bh=vzXo44Iy8qIBwd7RAAiwWNwMSKdZsyOYmDKE9PPpJ74=;
        b=RUgMx69WvTlJRyt9pLJ9ja+tXmMNQLRkOB2/z1PmwPaUvWe3/XSX9+W1m8ilhy/x+y
         dMlFK84xRjNaXwuwcyJoiRaoRNcZpUC+PdJK12jOBHh6Gl1UI6Xznxk9lb8Xii22XZFM
         aoKiEBiZUlFqczG3tBu8W5BMoGv+06vlpK/euP6/EzRKBW4qiJG0ZMvzrIjWKxfjKtE2
         WIVIteQ+6nxOiqKec+aU4xb2b6TvBZKpqXn63ID1tzyd8uZHOCE+whWQmQ883PiqWMBw
         EBo7olDYmZ8CvAS+XgZJplnAeejENlPbpxgVE+n6mabolH8HOYtIOJdLqs70QZzoMkna
         ofuQ==
X-Gm-Message-State: AD7BkJJyR2sEYdCEhb9FaQ0x3KjqvJd2b6y4gqDK/OEMwyytdPtypg+7DwaEEa27yaRiPGzTjlREZqGm8DJZug==
MIME-Version: 1.0
X-Received: by 10.140.92.23 with SMTP id a23mr4534786qge.92.1456878377494;
 Tue, 01 Mar 2016 16:26:17 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Tue, 1 Mar 2016 16:26:17 -0800 (PST)
In-Reply-To: <CAKQ1sVP2X0p1UcGRfAB7CkpxjJcxJqPzfnwAwq6nGQ3fOOV3dA@mail.gmail.com>
References: <35DA6E0F-5A78-40D8-B9A7-F6398606EEE2@sharp.fm>
	<CAKQ1sVP2X0p1UcGRfAB7CkpxjJcxJqPzfnwAwq6nGQ3fOOV3dA@mail.gmail.com>
Date: Wed, 2 Mar 2016 01:26:17 +0100
Message-ID: <CAKQ1sVNzxwLnYMqhAJpOUEY5-pSRp=RS_-Q68Yz6OqnjqUwygQ@mail.gmail.com>
Subject: Re: conn_rec needs a context
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Mar 2, 2016 at 1:23 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> Hi,
>
> On Wed, Mar 2, 2016 at 1:09 AM, Graham Leggett <minfrin@sharp.fm> wrote:
>>
>> Would it make sense to add a vector of contexts that same way we have a =
vector of configs, one slot for each module, which will allow any module to=
 add a context of it=E2=80=99s own to conn_rec without having to extend con=
n_rec?
>
> Can't the existing ap_[gs]et_module_config(c->conn_config, ...) be
> used for that purpose?

I mean, put the context in the module config?

From dev-return-85748-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 07:03:36 2016
Return-Path: <dev-return-85748-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB0EA1874A
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 07:03:36 +0000 (UTC)
Received: (qmail 86169 invoked by uid 500); 2 Mar 2016 07:03:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86069 invoked by uid 500); 2 Mar 2016 07:03:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86059 invoked by uid 99); 2 Mar 2016 07:03:36 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 07:03:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A273EC06C5
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 07:03:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id pA5VJOZgiVad for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 07:03:33 +0000 (UTC)
Received: from smtp.smtpout.orange.fr (smtp06.smtpout.orange.fr [80.12.242.128])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 40A545F2C4
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 07:03:33 +0000 (UTC)
Received: from [127.0.0.1] ([92.140.152.21])
	by mwinf5d11 with ME
	id Qv3Y1s0080TxQ9003v3YG6; Wed, 02 Mar 2016 08:03:32 +0100
X-ME-Helo: [127.0.0.1]
X-ME-Date: Wed, 02 Mar 2016 08:03:32 +0100
X-ME-IP: 92.140.152.21
Subject: Re: mod_speling changes in trunk and backport
To: dev@httpd.apache.org
References: <56CCB209.8080802@kippdata.de>
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Message-ID: <56D69043.3030803@wanadoo.fr>
Date: Wed, 2 Mar 2016 08:03:31 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <56CCB209.8080802@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 160301-2, 01/03/2016), Outbound message
X-Antivirus-Status: Clean

Le 23/02/2016 20:24, Rainer Jung a crit :
> There were two changes to mod_speling in trunk in 2013/2014. They were 
> motivated by PR 44221: although the docs claim that using 
> "CheckCaseOnly On" "limits the action of the spelling correction to 
> lower/upper case changes. Other potential corrections are not 
> performed." In fact mod_speling still checks for content files which 
> only differ in the file name suffix form the request URI. That part of 
> the code was contained in an #ifdef but active by default. The changes 
> introduce a new directive that allows to control that part of the 
> behavior by configuration.
>
> Now the question: it seems to me that due to the change being done in 
> two steps, now the directive CheckCaseOnly and the new one 
> CheckBasenameMatch are not independent of each other. Setting 
> CheckBasenameMatch  to "On" only enables the suffix handling if 
> CheckCaseOnly if "Off". For improved compatibility and for better 
> orthogonality I would suggest to keep the features separate from each 
> other, ie.:
>
> Index: modules/mappers/mod_speling.c
> ===================================================================
> --- modules/mappers/mod_speling.c       (revision 1731929)
> +++ modules/mappers/mod_speling.c       (working copy)
> @@ -326,8 +326,7 @@
>           * because it won't find anything matching that spelling.
>           * With the extension-munging, it would locate "foobar.html".
>           */
> -        else if ((cfg->check_case_only == 0) &&
> -                 (cfg->check_basename_match == 1)) {
> +        else if (cfg->check_basename_match == 1) {
>              /*
>               * Okay... we didn't find anything. Now we take out the 
> hard-core
>               * power tools. There are several cases here. Someone 
> might have
>
>
> That way the old changes could be ported back to 2.4 with the only 
> change that the default for CheckBasenameMatch would be "On" in 2.4 
> for compatibility reasons and "Off" in trunk to satisfy the principle 
> of least surprise.
>
> Regards,
>
> Rainer
>
Hi,

One other remark from Eric at the time being [1] was that is also 
changed the legacy behavior.
Having CheckBasenameMatch default to 1 (at least for 2.4.x) would keep 
compatibility with existing config.

Keeping the 2 options independent would also require a tweak in the doc.

CJ

[1] 
http://mail-archives.apache.org/mod_mbox/httpd-cvs/201401.mbox/%3C20140128052621.21F91238899C@eris.apache.org%3E

From dev-return-85749-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 10:00:04 2016
Return-Path: <dev-return-85749-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C8CCE182C8
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 10:00:04 +0000 (UTC)
Received: (qmail 91085 invoked by uid 500); 2 Mar 2016 10:00:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91010 invoked by uid 500); 2 Mar 2016 10:00:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91000 invoked by uid 99); 2 Mar 2016 10:00:04 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 10:00:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id A9E6F1A0D28
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 10:00:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.63
X-Spam-Level:
X-Spam-Status: No, score=-2.63 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.329,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 63Adc5j9yIan for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 10:00:01 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 308635F3F4
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 10:00:01 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u229xrqA006003
	for <dev@httpd.apache.org>; Wed, 2 Mar 2016 10:59:53 +0100 (CET)
Subject: Re: mod_speling changes in trunk and backport
To: dev@httpd.apache.org
References: <56CCB209.8080802@kippdata.de> <56D69043.3030803@wanadoo.fr>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56D6B995.8000701@kippdata.de>
Date: Wed, 2 Mar 2016 10:59:49 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <56D69043.3030803@wanadoo.fr>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

Am 02.03.2016 um 08:03 schrieb Christophe JAILLET:
> Le 23/02/2016 20:24, Rainer Jung a crit :
>> There were two changes to mod_speling in trunk in 2013/2014. They were
>> motivated by PR 44221: although the docs claim that using
>> "CheckCaseOnly On" "limits the action of the spelling correction to
>> lower/upper case changes. Other potential corrections are not
>> performed." In fact mod_speling still checks for content files which
>> only differ in the file name suffix form the request URI. That part of
>> the code was contained in an #ifdef but active by default. The changes
>> introduce a new directive that allows to control that part of the
>> behavior by configuration.
>>
>> Now the question: it seems to me that due to the change being done in
>> two steps, now the directive CheckCaseOnly and the new one
>> CheckBasenameMatch are not independent of each other. Setting
>> CheckBasenameMatch  to "On" only enables the suffix handling if
>> CheckCaseOnly if "Off". For improved compatibility and for better
>> orthogonality I would suggest to keep the features separate from each
>> other, ie.:
>>
>> Index: modules/mappers/mod_speling.c
>> ===================================================================
>> --- modules/mappers/mod_speling.c       (revision 1731929)
>> +++ modules/mappers/mod_speling.c       (working copy)
>> @@ -326,8 +326,7 @@
>>           * because it won't find anything matching that spelling.
>>           * With the extension-munging, it would locate "foobar.html".
>>           */
>> -        else if ((cfg->check_case_only == 0) &&
>> -                 (cfg->check_basename_match == 1)) {
>> +        else if (cfg->check_basename_match == 1) {
>>              /*
>>               * Okay... we didn't find anything. Now we take out the
>> hard-core
>>               * power tools. There are several cases here. Someone
>> might have
>>
>>
>> That way the old changes could be ported back to 2.4 with the only
>> change that the default for CheckBasenameMatch would be "On" in 2.4
>> for compatibility reasons and "Off" in trunk to satisfy the principle
>> of least surprise.
>>
>> Regards,
>>
>> Rainer
>>
> Hi,
>
> One other remark from Eric at the time being [1] was that is also
> changed the legacy behavior.
> Having CheckBasenameMatch default to 1 (at least for 2.4.x) would keep
> compatibility with existing config.
>
> Keeping the 2 options independent would also require a tweak in the doc.
>
> CJ
>
> [1]
> http://mail-archives.apache.org/mod_mbox/httpd-cvs/201401.mbox/%3C20140128052621.21F91238899C@eris.apache.org%3E

I already tweaked the trunk docs (hopefully understandable) and indeed 
plan to backport with a different default for CheckBasenameMatch.

I haven't yet proposed the backport, because I don't like that 
mod_speling has no merge code for the config. IMHO that means if a 
config has a hierarchy of mod_speling settings, non-set values will 
always be reset to their defaults in the non-merging. I plan to add 
merging using a "set" flag.

Regards,

Rainer


From dev-return-85750-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 10:12:10 2016
Return-Path: <dev-return-85750-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0388918342
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 10:12:10 +0000 (UTC)
Received: (qmail 16973 invoked by uid 500); 2 Mar 2016 10:12:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16901 invoked by uid 500); 2 Mar 2016 10:12:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16891 invoked by uid 99); 2 Mar 2016 10:12:09 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 10:12:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1C40FC086C
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 10:12:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.262
X-Spam-Level:
X-Spam-Status: No, score=0.262 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RDNS_DYNAMIC=0.363, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=r3D5roVE;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=W2njZJwp
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id tfnCE7HbUO6z for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 10:12:07 +0000 (UTC)
Received: from mail.greenbytes.de (b2b-5-10-171-186.unitymedia.biz [5.10.171.186])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 996255F54E
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 10:12:04 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 047C815A089A; Wed,  2 Mar 2016 11:06:58 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456913218; bh=yjMYMGTUfjV+/gDQYtUZIVQYvBY+CYN89xh4I/HpY28=;
	h=From:Subject:Date:To:From;
	b=r3D5roVEFFTtEowj3G94gx3gbGynMiIBNWPewrZCXZYPUaM+BhNXR7hLl3MyORDB1
	 jm6I1I0CJoM0ngS5B9MtJoQ87XWp4/EOYcmyVYp73ylMEZsVPOejgwLo/qqzScvRFO
	 x0bsqQUglgwxJCLGaPPu/Kt+9vm7Nz6QY7zKgh9E=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 7615F15A06BE
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 11:06:57 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456913217; bh=yjMYMGTUfjV+/gDQYtUZIVQYvBY+CYN89xh4I/HpY28=;
	h=From:Subject:Date:To:From;
	b=W2njZJwpvB0xgeHk4eiDfegfnTlRU8ayCSewosZDF/GfJ6XEmUw1SVX6PGv38dXMV
	 uFrio7rXNK6rq4BnE59njeVL1SE0Y+DW0vS1lMLqKdcB0Tz3qmhhYQSqa96tZd1MQ4
	 HJo3Kibo3ZOgtnc8UT7UC9QlZZddcPHVHIem6xnQ=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: mod_proxy_http2
Message-Id: <1AAE509D-9DBD-4836-B5C2-B3744E9C49A0@greenbytes.de>
Date: Wed, 2 Mar 2016 11:06:57 +0100
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)

to backport or not to backport that is the question. opinions?

From dev-return-85751-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 11:21:40 2016
Return-Path: <dev-return-85751-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B6AEE188CC
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 11:21:40 +0000 (UTC)
Received: (qmail 4054 invoked by uid 500); 2 Mar 2016 11:21:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3979 invoked by uid 500); 2 Mar 2016 11:21:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3969 invoked by uid 99); 2 Mar 2016 11:21:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 11:21:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id CC25DC22AB
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 11:21:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.561
X-Spam-Level: **
X-Spam-Status: No, score=2.561 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_BL=0.01, RCVD_IN_MSPIKE_L3=1.899, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id EU1MdZCFz7eh for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 11:21:38 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 0A9665F3F3
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 11:21:37 +0000 (UTC)
Received: from resomta-po-17v.sys.comcast.net ([96.114.154.241])
	by resqmta-po-05v.sys.comcast.net with comcast
	id QzMb1s0025Clt1L01zMbT0; Wed, 02 Mar 2016 11:21:35 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-17v.sys.comcast.net with comcast
	id QzMa1s0022U0RYt01zMaKw; Wed, 02 Mar 2016 11:21:35 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: conn_rec needs a context
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <35DA6E0F-5A78-40D8-B9A7-F6398606EEE2@sharp.fm>
Date: Wed, 2 Mar 2016 06:21:33 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <B423879D-31BA-49FC-8E49-22375663F3E6@jaguNET.com>
References: <35DA6E0F-5A78-40D8-B9A7-F6398606EEE2@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1456917695;
	bh=IguPJ64cMACrCCRwQVGebg/5qDP4qpD6sfP5WM3Y2No=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=IP5t0Fa3ix26XcufNuAH7qRZVhdBXVTMedhSltU4nlTbvww5C+3NoDoe9LdhvW9Kl
	 s5zT+KD9Oe1SRr29aiCV5lJtIgEZPGx61NqmNZK1mPvtaAp52485fIH0gc92stJE+G
	 Y7q97Y4yRvv9go3DdrFJ1avr0tT5g2P6hW3HyfA5yALllb1Wvg57RpZN54TzHsEm5U
	 7HvQj0e57BZk0ZovF5oqH67dV7YZiRWwxN1zi2d87198/Zf0cKoRW6NEOruI7XDPEZ
	 /qQpG9OAsmeW++4CDyc1AGBTsnuaH4bhCdloRSqy9o1252cbfKOax7W1DvvVa1zSwv
	 hLJaV6aRtULhA==


> On Mar 1, 2016, at 7:09 PM, Graham Leggett <minfrin@sharp.fm> wrote:
>=20
> Hi all,
>=20
> In order to get connections to have async behaviour, it must be =
possible for the process_connection hook to exit in the expectation of =
being called again when an async mpm is present - this is easy, the mpms =
already do that.
>=20
> The missing bit is that conn_rec needs a context so that when is is =
called a second time it knows what state it is in.
>=20
> There is a void *ctx variable that was added in r1565657, but I=E2=80=99=
m not sure it is enough.
>=20
> Would it make sense to add a vector of contexts that same way we have =
a vector of configs, one slot for each module, which will allow any =
module to add a context of it=E2=80=99s own to conn_rec without having =
to extend conn_rec?
>=20
> It would be nice to have the same for requests, for the same reason.
>=20

Makes sense to me...


From dev-return-85752-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 11:22:42 2016
Return-Path: <dev-return-85752-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DC53B18902
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 11:22:41 +0000 (UTC)
Received: (qmail 8034 invoked by uid 500); 2 Mar 2016 11:22:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 7963 invoked by uid 500); 2 Mar 2016 11:22:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 7952 invoked by uid 99); 2 Mar 2016 11:22:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 11:22:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id EC7971A11E6
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 11:22:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id L0MRUZSfE00w for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 11:22:40 +0000 (UTC)
Received: from resqmta-po-01v.sys.comcast.net (resqmta-po-01v.sys.comcast.net [96.114.154.160])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 5996F5FD9E
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 11:22:39 +0000 (UTC)
Received: from resomta-po-17v.sys.comcast.net ([96.114.154.241])
	by resqmta-po-01v.sys.comcast.net with comcast
	id QzNY1s0045Clt1L01zNY26; Wed, 02 Mar 2016 11:22:32 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-17v.sys.comcast.net with comcast
	id QzMa1s0022U0RYt01zNXPM; Wed, 02 Mar 2016 11:22:32 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_proxy_http2
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <1AAE509D-9DBD-4836-B5C2-B3744E9C49A0@greenbytes.de>
Date: Wed, 2 Mar 2016 06:22:31 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <515177FA-05A0-4A85-8456-916712E47025@jaguNET.com>
References: <1AAE509D-9DBD-4836-B5C2-B3744E9C49A0@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1456917752;
	bh=2dcnocvBCg+YExQc36KKa6AkfBu6UeEVcf5zxVkQhMk=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=dflMAlzK32RgPDWtXvp00ERSK89du8cxwJVc289gdEt5Ysc8uJ8qH+GCkeHsVh06x
	 bWhJE/8h6skjrxiS7ZAybky+TZvkMMOeTh+F8pJTJfIxiQ3Iz9rLTc+jmu8BNY5+Oq
	 +QG77v1L1DBLUv5CPcTfXOP89s0nuHuy1Q9O5vgDh+wofkk3FSfwNs4AjbswFbuPur
	 VCTu1tUtl1+S+/g3FK7OkHEa/2YX6ih3nRmM5392+Ef6GfH+STIKg2ssDqkpxJJG1v
	 TwovgRP8re4QhsJjDtlRgkxu7YQ29sSEzh5Idz5+8JduHS5x8S0vAAWPKp3trKQD5E
	 9IOvYi7YuZelA==

I would think that it is not covered under the http2 exception
and would require a backport proposal and vote...

> On Mar 2, 2016, at 5:06 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
> to backport or not to backport that is the question. opinions?


From dev-return-85753-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 11:24:09 2016
Return-Path: <dev-return-85753-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4AEED1890C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 11:24:09 +0000 (UTC)
Received: (qmail 15037 invoked by uid 500); 2 Mar 2016 11:24:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14964 invoked by uid 500); 2 Mar 2016 11:24:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14954 invoked by uid 99); 2 Mar 2016 11:24:08 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 11:24:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 61A12C232B
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 11:24:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.262
X-Spam-Level:
X-Spam-Status: No, score=0.262 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RDNS_DYNAMIC=0.363, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=LynRUM9g;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Z69WZHAh
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id gtktNWsgUc70 for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 11:24:04 +0000 (UTC)
Received: from mail.greenbytes.de (b2b-5-10-171-186.unitymedia.biz [5.10.171.186])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 0D8BA5FD9E
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 11:24:03 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id BED0115A089A; Wed,  2 Mar 2016 12:23:56 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456917836; bh=TMaUwNsyT059mWka+26KxwyA42jl67fPD5dQw7Qq/Ws=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=LynRUM9gxv5r8JbAsOwrNCi5L0XuOMqsQBethSnr8ktIZis3OEHJPgWYBybwBFG6J
	 I+mjtm3Wd1wyYbOu+pqULVE61PCmAJx/3Mf3MpyFLt/O9ZQD17LFEzohueqU7tFHnr
	 CaDSN3xop75IMX7gJksJCOE14MgvDvmc8UhQ8f04=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id E619515A06BE
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 12:23:54 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456917834; bh=TMaUwNsyT059mWka+26KxwyA42jl67fPD5dQw7Qq/Ws=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=Z69WZHAh6Ksot/uJ1Hgn064QW+HxfsNJxsLFmgllUpnIgdYugez/qxJxsTM3MIBEN
	 pVphtfrRE1o0fX+MGrRG+jHRKIzUO1qN4YoIMQZdg05UIsnYlR1I75OGZvm/z5PiL6
	 +PTuZONXVxauh+meoCRg357RkYl09nehbaUXwl64=
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: conn_rec needs a context
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <B423879D-31BA-49FC-8E49-22375663F3E6@jaguNET.com>
Date: Wed, 2 Mar 2016 12:23:54 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <98876EAC-E450-4578-9C31-14312806686F@greenbytes.de>
References: <35DA6E0F-5A78-40D8-B9A7-F6398606EEE2@sharp.fm> <B423879D-31BA-49FC-8E49-22375663F3E6@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

+1

> Am 02.03.2016 um 12:21 schrieb Jim Jagielski <jim@jaguNET.com>:
>=20
>=20
>> On Mar 1, 2016, at 7:09 PM, Graham Leggett <minfrin@sharp.fm> wrote:
>>=20
>> Hi all,
>>=20
>> In order to get connections to have async behaviour, it must be =
possible for the process_connection hook to exit in the expectation of =
being called again when an async mpm is present - this is easy, the mpms =
already do that.
>>=20
>> The missing bit is that conn_rec needs a context so that when is is =
called a second time it knows what state it is in.
>>=20
>> There is a void *ctx variable that was added in r1565657, but I=E2=80=99=
m not sure it is enough.
>>=20
>> Would it make sense to add a vector of contexts that same way we have =
a vector of configs, one slot for each module, which will allow any =
module to add a context of it=E2=80=99s own to conn_rec without having =
to extend conn_rec?
>>=20
>> It would be nice to have the same for requests, for the same reason.
>>=20
>=20
> Makes sense to me...
>=20


From dev-return-85754-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 11:30:19 2016
Return-Path: <dev-return-85754-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5909018978
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 11:30:19 +0000 (UTC)
Received: (qmail 36549 invoked by uid 500); 2 Mar 2016 11:30:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36467 invoked by uid 500); 2 Mar 2016 11:30:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36450 invoked by uid 99); 2 Mar 2016 11:30:18 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 11:30:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 332B41A0464
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 11:30:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.262
X-Spam-Level:
X-Spam-Status: No, score=0.262 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RDNS_DYNAMIC=0.363, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=E4zzSsd1;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=oDodGsub
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Z2fuZt6B-_cX for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 11:30:17 +0000 (UTC)
Received: from mail.greenbytes.de (b2b-5-10-171-186.unitymedia.biz [5.10.171.186])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id DAE545FE5F
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 11:30:15 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 642A115A089A; Wed,  2 Mar 2016 12:25:09 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456917909; bh=ZVcm/lPBulKRpM4tsE8G5zPYif9t5QuBWBhM0on2c1g=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=E4zzSsd19AKiEmJG4IDW2VmQ2Wr6diP19VlJJ9GTvqGgy60r6LhOEzpteJsaG0ViO
	 AyWaSEeXXz16JFLnMt8N5KOdvUWyd9mIkXfNBZtAZLtqNJ/5wQ/x4sSl3WviXSm22g
	 VAqF/xGrxHxYtgpEkcAzxA8QO+or1SknHdQGVMRw=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id C59DC15A06BE
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 12:25:07 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456917907; bh=ZVcm/lPBulKRpM4tsE8G5zPYif9t5QuBWBhM0on2c1g=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=oDodGsubqH4zokwvd1wju92fDTzzWdW3Dvev5l+rzCRtz93Iv6cVovwpYC5hPJMgM
	 WvFkYLmiiN8zERuSfmR6TUfglMjgqE8VZxc8gXOEDUntoYRCuBPg+RdGP0WzSeRGUE
	 iHyNXjy12eteDApannt5KAdlnOXcyZ9FNT26QsJY=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_proxy_http2
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <515177FA-05A0-4A85-8456-916712E47025@jaguNET.com>
Date: Wed, 2 Mar 2016 12:25:07 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <33CEBF79-DC79-46CD-AA94-EA9A4517EF8F@greenbytes.de>
References: <1AAE509D-9DBD-4836-B5C2-B3744E9C49A0@greenbytes.de> <515177FA-05A0-4A85-8456-916712E47025@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Yeah, that's what I thought. I just wanted to test the water =
temperature...

> Am 02.03.2016 um 12:22 schrieb Jim Jagielski <jim@jaguNET.com>:
>=20
> I would think that it is not covered under the http2 exception
> and would require a backport proposal and vote...
>=20
>> On Mar 2, 2016, at 5:06 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>>=20
>> to backport or not to backport that is the question. opinions?
>=20


From dev-return-85755-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 12:09:49 2016
Return-Path: <dev-return-85755-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6209E18B0B
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 12:09:49 +0000 (UTC)
Received: (qmail 3460 invoked by uid 500); 2 Mar 2016 12:09:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3393 invoked by uid 500); 2 Mar 2016 12:09:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3383 invoked by uid 99); 2 Mar 2016 12:09:48 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 12:09:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4BCF9C6B03
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 12:09:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id A5Hwy2if9Jj6 for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 12:09:47 +0000 (UTC)
Received: from resqmta-ch2-05v.sys.comcast.net (resqmta-ch2-05v.sys.comcast.net [69.252.207.37])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 151D55FB14
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 12:09:46 +0000 (UTC)
Received: from resomta-ch2-08v.sys.comcast.net ([69.252.207.104])
	by resqmta-ch2-05v.sys.comcast.net with comcast
	id R04U1s0062Fh1PH0104fGX; Wed, 02 Mar 2016 12:04:39 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-08v.sys.comcast.net with comcast
	id R04e1s0062U0RYt0104eUZ; Wed, 02 Mar 2016 12:04:39 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_proxy_http2
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <33CEBF79-DC79-46CD-AA94-EA9A4517EF8F@greenbytes.de>
Date: Wed, 2 Mar 2016 07:04:38 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <589B0EB9-A668-4C6C-8DED-7F02E302825A@jaguNET.com>
References: <1AAE509D-9DBD-4836-B5C2-B3744E9C49A0@greenbytes.de> <515177FA-05A0-4A85-8456-916712E47025@jaguNET.com> <33CEBF79-DC79-46CD-AA94-EA9A4517EF8F@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1456920279;
	bh=l89ARGsqqIdyFu/pbhKOxWkGUjx6xbsqvoi+QDu2cRo=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=nAQbH5QXp5n9aB0bJNpkjnGuS1cL9co76jD+bl4wt5W9q13fP4kgAmdedkMqUPCIA
	 u8RsF/gfdGYIev6Z4Yd1Aws9J6q4PIZX3L5rv+AhoRWus9HaQdhlS+yaDZyd/eeCh0
	 YfLGWTSQ/X74+8BDGGlQY8fJAgOXPw17Afn2CRigVnlIjn4dkAOugRdBbsCxQ8OjEi
	 152pObjlrzA8j/Kxz33FUD4suaiU8vLqbp22vDTQC/ChwK3IGPM+4rWD0toNM7qbel
	 s+d9aoccGnYun5u6M6CqsKCaiSwU5TBGYvbZNMwQuvvvJMbDwTUGTlaNBi9BHUW94u
	 JmG6wHhreqaQQ==

I think if we could get mod_proxy_http2 and mod_proxy_hcheck into
the next 2.4.x release, we would really, really be Happy.

:)

> On Mar 2, 2016, at 6:25 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
> Yeah, that's what I thought. I just wanted to test the water =
temperature...
>=20
>> Am 02.03.2016 um 12:22 schrieb Jim Jagielski <jim@jaguNET.com>:
>>=20
>> I would think that it is not covered under the http2 exception
>> and would require a backport proposal and vote...
>>=20
>>> On Mar 2, 2016, at 5:06 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>>>=20
>>> to backport or not to backport that is the question. opinions?
>>=20
>=20


From dev-return-85756-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 13:26:11 2016
Return-Path: <dev-return-85756-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A741318FAB
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 13:26:11 +0000 (UTC)
Received: (qmail 43874 invoked by uid 500); 2 Mar 2016 13:26:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 43809 invoked by uid 500); 2 Mar 2016 13:26:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 43798 invoked by uid 99); 2 Mar 2016 13:26:10 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 13:26:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 0BDA71A120E
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 13:26:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.262
X-Spam-Level:
X-Spam-Status: No, score=0.262 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RDNS_DYNAMIC=0.363, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=CnA+XCuH;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=HJD8RecD
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id wKavWVmEcE0P for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 13:26:08 +0000 (UTC)
Received: from mail.greenbytes.de (b2b-5-10-171-186.unitymedia.biz [5.10.171.186])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 263645F341
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 13:26:07 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id B74B915A134C; Wed,  2 Mar 2016 14:26:06 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456925166; bh=ItgYHV7k9YBdFepgRqhA5iHNpWdeC/xfWg5z7a+IMT8=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=CnA+XCuHHLqz8DYj9gRIcLj2+FyYhKVFseEWCB3Q7he2GrDsabC4QKU9p5qLgeCtH
	 2uI7/rCBuwIib0A3wQBqCktH4EqhtXzodPgggbHiPFK7EZm5fcVyiCaYlQxt3GCsnn
	 BeMXfbm03D1FXHGc5YxKE/0TSxDQEnzgWi9MBwVI=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id DD20815A046E
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 14:26:04 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456925164; bh=ItgYHV7k9YBdFepgRqhA5iHNpWdeC/xfWg5z7a+IMT8=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=HJD8RecDUkvE0LGMfsz0h1aBFrTKsfXOKfxn/XngCTmeybfZwRW4Hed3aX5DHWVIU
	 P1I1l0FUYzBl2l1e+y/N9C0dIGOL+nYmFeQp8IsYkHIBSgbPg/+7b8OFQdN3QFgj+T
	 YlOkaRgQ39UZFJ2IyxRgch4c5iWLieEzyaoDLABw=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_proxy_http2
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <589B0EB9-A668-4C6C-8DED-7F02E302825A@jaguNET.com>
Date: Wed, 2 Mar 2016 14:26:04 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <F04CD4B0-CC96-4017-B0B4-59D8E65A9969@greenbytes.de>
References: <1AAE509D-9DBD-4836-B5C2-B3744E9C49A0@greenbytes.de> <515177FA-05A0-4A85-8456-916712E47025@jaguNET.com> <33CEBF79-DC79-46CD-AA94-EA9A4517EF8F@greenbytes.de> <589B0EB9-A668-4C6C-8DED-7F02E302825A@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> Am 02.03.2016 um 13:04 schrieb Jim Jagielski <jim@jaguNET.com>:
>=20
> I think if we could get mod_proxy_http2 and mod_proxy_hcheck into
> the next 2.4.x release, we would really, really be Happy.
>=20
> :)

Totally agreed. I'll try to finish up some rough edges on proxy_http2 =
and then make a proposal.

>=20
>> On Mar 2, 2016, at 6:25 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>>=20
>> Yeah, that's what I thought. I just wanted to test the water =
temperature...
>>=20
>>> Am 02.03.2016 um 12:22 schrieb Jim Jagielski <jim@jaguNET.com>:
>>>=20
>>> I would think that it is not covered under the http2 exception
>>> and would require a backport proposal and vote...
>>>=20
>>>> On Mar 2, 2016, at 5:06 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>>>>=20
>>>> to backport or not to backport that is the question. opinions?
>>>=20
>>=20
>=20


From dev-return-85757-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 14:06:11 2016
Return-Path: <dev-return-85757-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 146011829C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 14:06:11 +0000 (UTC)
Received: (qmail 45824 invoked by uid 500); 2 Mar 2016 14:06:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 45700 invoked by uid 500); 2 Mar 2016 14:06:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45689 invoked by uid 99); 2 Mar 2016 14:06:09 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 14:06:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 0489B1A1267
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 14:06:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 5YTfrrsCXiLL for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 14:06:08 +0000 (UTC)
Received: from mail-qg0-f54.google.com (mail-qg0-f54.google.com [209.85.192.54])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id A36F15FD9E
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 14:06:07 +0000 (UTC)
Received: by mail-qg0-f54.google.com with SMTP id u110so40197939qge.3
        for <dev@httpd.apache.org>; Wed, 02 Mar 2016 06:06:07 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=PKLBamo7OdimGfgdvmCXOTOIOYCO0I6gwgNmPSWwYfA=;
        b=c8Ah8f76p9X3Is6Brlb6ohDo/oCYeWVOd47LcwvMf1wslErhHWORakXGQox8O8fHhH
         qsJs1NQmZvD17SQg1PQdxn63YrTTADyaWOwdXPW739d7sA8PZkzxjDzgIVuZ7AbKAMSS
         CRnj9jsF/rgU6ertEwM7/1w2cOnHfiEG7ndZNBMnabtqZWKyQoY6R20NNKhxZ93Q7eZG
         ClTYyEHi2f//Jx4iSvpwktsHoVFrPEdCW+lsaYGASUObZrYOPpU+W9AMu01lOFShG7yZ
         EtPBKYHDCu0uWaVO5xKWqa2OAefsQkbcOCXBKxgOO5I9O4OR6jTtOZf7bF4LUgivr5Yf
         bAIA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=PKLBamo7OdimGfgdvmCXOTOIOYCO0I6gwgNmPSWwYfA=;
        b=WmRnvTTkkWh2QjV4NB2tcYWEJlQgrhKqZEvdLjGfoK6QNy6p8T2gDKh1pIAjKA1SU4
         L1NNChJHkagJZsy0Lorpzx84VGSY8LPw50BVA+FHVzql6VKEiM7+mHA0pAJ+frpnvl8d
         5Ho/mXRUJUg94CqsYABRewSxNT/fk4KluCksiC9ObtvsUu+O2G1ANnCmX0HdeC9wh8V9
         axpGsT5h5+qIk+rwFULzT12WYYz4h4HmvZHHoN+DzkVFxhh/UWwKM7iWwBrnBqm9L1HC
         KJsBcSoRlcIRF89RKuDfMs3Fgth6BM5OWE/EARRGrl6JaqbmCD6IPce3R7H/5V+HcPNN
         fTBQ==
X-Gm-Message-State: AD7BkJLlhuMZrfhCYDp1MwIY1sed+5hPIgJwMhHC4ZIHqkWLCK/nyuYYB8VraqBBm100CI4FF6lWGtbCPD/Rkw==
MIME-Version: 1.0
X-Received: by 10.140.43.37 with SMTP id d34mr32748444qga.51.1456927557011;
 Wed, 02 Mar 2016 06:05:57 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 2 Mar 2016 06:05:56 -0800 (PST)
In-Reply-To: <20160302131005.9C0663A0249@svn01-us-west.apache.org>
References: <20160302131005.9C0663A0249@svn01-us-west.apache.org>
Date: Wed, 2 Mar 2016 15:05:56 +0100
Message-ID: <CAKQ1sVMd4GYw+Y9oG-VjFsC1PRQ_HpgLPK0kbtHFG5yfxDa+pA@mail.gmail.com>
Subject: Re: svn commit: r1733279 - in /httpd/httpd/branches/2.4.x: ./ STATUS
 server/core.c server/util_mutex.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 2, 2016 at 2:10 PM,  <icing@apache.org> wrote:
> Author: icing
> Date: Wed Mar  2 13:10:05 2016
> New Revision: 1733279
>
> URL: http://svn.apache.org/viewvc?rev=1733279&view=rev
> Log:
> backport

We should try to reference the backported (trunk) revisions in the
commit messages.
Otherwise it could be hard later to figure which commit was backported
(or not), and we sometimes need to search by revision number (either
in revision logs, or even gg)...

From dev-return-85758-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 14:31:17 2016
Return-Path: <dev-return-85758-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BBF8B183D4
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 14:31:17 +0000 (UTC)
Received: (qmail 14889 invoked by uid 500); 2 Mar 2016 14:31:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14813 invoked by uid 500); 2 Mar 2016 14:31:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14801 invoked by uid 99); 2 Mar 2016 14:31:17 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 14:31:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id CA337C086C
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 14:31:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.262
X-Spam-Level:
X-Spam-Status: No, score=0.262 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RDNS_DYNAMIC=0.363, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=UEf8k3cA;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=sdcwTVE8
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id eWgjARWdl258 for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 14:31:15 +0000 (UTC)
Received: from mail.greenbytes.de (b2b-5-10-171-186.unitymedia.biz [5.10.171.186])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 8C21A5FE5C
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 14:31:09 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 35BCB15A137B; Wed,  2 Mar 2016 15:31:07 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456929067; bh=5YlcC8kDyVIxfrYIuoiOwKMHPAFfAhnhaeU2+RVGUMU=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=UEf8k3cA2IbDof+NMkBopjfmRDwMontNh4ocwaY0nu6tC7WDyb1TJcn+YHbeD/2e+
	 qZ8pDFAEqOcgCTwbxHdYf3P7yUhdcRBZjIZcSSGbfifGVU/U9SrEaneGr6jhd0gZfd
	 Y6VhhGK/v1jHFZ0k3zKXFDMr1rDUy6DYMo8ml68A=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id C558F15A0781
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 15:31:06 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456929066; bh=5YlcC8kDyVIxfrYIuoiOwKMHPAFfAhnhaeU2+RVGUMU=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=sdcwTVE8+ywQ21e18pPX+TMR2lhZt/tYQg/Tv+Z2kIeycGIEFg7aGrQxhhuQiIY47
	 WhYlD+I5Pjmzs+IFerrO9coYeu1CI1/w63CioVPo2z6EGVNSDOwNEyWmhBwaWd7qy6
	 569tnPDd2UaTHfVbNpyl3d4Y2bUqXFQyLIRsUrqw=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1733279 - in /httpd/httpd/branches/2.4.x: ./ STATUS server/core.c server/util_mutex.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVMd4GYw+Y9oG-VjFsC1PRQ_HpgLPK0kbtHFG5yfxDa+pA@mail.gmail.com>
Date: Wed, 2 Mar 2016 15:31:06 +0100
Content-Transfer-Encoding: 7bit
Message-Id: <E6B861CD-C315-4220-9BEC-3FDC757BD2B3@greenbytes.de>
References: <20160302131005.9C0663A0249@svn01-us-west.apache.org> <CAKQ1sVMd4GYw+Y9oG-VjFsC1PRQ_HpgLPK0kbtHFG5yfxDa+pA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

I can do that. However - smartass mode on - if one uses the actual 
"svn merge -c NNN,NNN", subversion will track that and 

  svn mergeinfo --show-revs merged ^/httpd/httpd/trunk .

in a 2.4.x checkout will show it. But I am not trying to change existing
practise here that works. And with pre-supplied 2.4 patches, this 
information might not be there - depends how it was created.

-Stefan

> Am 02.03.2016 um 15:05 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
> 
> On Wed, Mar 2, 2016 at 2:10 PM,  <icing@apache.org> wrote:
>> Author: icing
>> Date: Wed Mar  2 13:10:05 2016
>> New Revision: 1733279
>> 
>> URL: http://svn.apache.org/viewvc?rev=1733279&view=rev
>> Log:
>> backport
> 
> We should try to reference the backported (trunk) revisions in the
> commit messages.
> Otherwise it could be hard later to figure which commit was backported
> (or not), and we sometimes need to search by revision number (either
> in revision logs, or even gg)...


From dev-return-85759-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 15:20:37 2016
Return-Path: <dev-return-85759-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 60A0F18672
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 15:20:37 +0000 (UTC)
Received: (qmail 69703 invoked by uid 500); 2 Mar 2016 15:20:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 69632 invoked by uid 500); 2 Mar 2016 15:20:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69622 invoked by uid 99); 2 Mar 2016 15:20:36 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 15:20:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1867B18057C
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 15:20:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.279
X-Spam-Level: *
X-Spam-Status: No, score=1.279 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id EsPod63k83Rx for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 15:20:33 +0000 (UTC)
Received: from mail-qk0-f177.google.com (mail-qk0-f177.google.com [209.85.220.177])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 0DC6B5FBF5
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 15:20:31 +0000 (UTC)
Received: by mail-qk0-f177.google.com with SMTP id s5so83416626qkd.0
        for <dev@httpd.apache.org>; Wed, 02 Mar 2016 07:20:31 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=CUpxC+e2GqB7uiqn8o/Jy6lFW2rj0YSCzhM/KFrc3nY=;
        b=jlbjM+J9K1m+VdKHOIFrXtfzmCv6g8eL+YdRaaizcg/9DTDwd/aIbaU2I9utste3S0
         aEbHqBA7vvnnTukKTxnHblaqhb+yLS89cpyyY7GDf0YSWqMslcCkdUEGQoEwLlxKLiYi
         P4rD4TGps2RHAV2duBrvEjGnTuhRwuRN1M/N+SSqYUlbCTUSUXHTEF/oAB8WNzBVF1vG
         I891YvcayseczdFVc3P1mHhB/3tWhM4jEbMzB/gTLgeRidbnTxik/9NPFsExbKovOx8P
         WUV0mGfO7CyDYJZA25kRfoC98bLTfGe8q1s/OOVtGzB6PhyhiiAwlXl0KuuaNPIEMsh3
         YXbQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=CUpxC+e2GqB7uiqn8o/Jy6lFW2rj0YSCzhM/KFrc3nY=;
        b=WEo8qmMtwGPMK3Zj9jBx09XX5RvRJu5VCYlA3Ch6qWMBq71TyxYEDFjZlcRdOe/xfe
         qxowCyuVPAMZxAFxMKHXIQXsWkxDQD9boL5vI08pRN5PoUBeF4lHZ9Q185wP8anYlvxj
         zIoQeDIfp6gWNxHBGY/oNZQiVm3sYrepMkg01r99VTBQq+Hbdytez01L911Xe3khaecu
         UgeDajWz2TKu3OKTEaYOJA4W4CHyHoi2P9XCGZ9qvZ2lVk04jYryxqst8a5J/QAK6PDs
         u7FehhegFh7HJKlrxSlNKbQEZwv/FOIiTGSrMD+PV9CtPsqfzU0IpGAZAsywf/yQvdJB
         7z1w==
X-Gm-Message-State: AD7BkJLXs8aaOiMe1n5yS9oTaceGAMyenj/piRPYx+6UUHFVdqfHBTfGtaEzdF1JCVfsD8/P+vSBexB1ZC67iyFw
MIME-Version: 1.0
X-Received: by 10.55.76.84 with SMTP id z81mr33478052qka.17.1456931729095;
 Wed, 02 Mar 2016 07:15:29 -0800 (PST)
Received: by 10.55.60.7 with HTTP; Wed, 2 Mar 2016 07:15:28 -0800 (PST)
In-Reply-To: <E6B861CD-C315-4220-9BEC-3FDC757BD2B3@greenbytes.de>
References: <20160302131005.9C0663A0249@svn01-us-west.apache.org>
	<CAKQ1sVMd4GYw+Y9oG-VjFsC1PRQ_HpgLPK0kbtHFG5yfxDa+pA@mail.gmail.com>
	<E6B861CD-C315-4220-9BEC-3FDC757BD2B3@greenbytes.de>
Date: Wed, 2 Mar 2016 09:15:28 -0600
Message-ID: <CACsi252jhGBNTvvo+BvebE9C_d40DNmK8vfBdWHpvcb8_paB2Q@mail.gmail.com>
Subject: Re: svn commit: r1733279 - in /httpd/httpd/branches/2.4.x: ./ STATUS
 server/core.c server/util_mutex.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11487ed62cf705052d125ad1

--001a11487ed62cf705052d125ad1
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 2, 2016 at 8:31 AM, Stefan Eissing <stefan.eissing@greenbytes.de
> wrote:

> I can do that. However - smartass mode on - if one uses the actual
> "svn merge -c NNN,NNN", subversion will track that and
>
>   svn mergeinfo --show-revs merged ^/httpd/httpd/trunk .
>
> in a 2.4.x checkout will show it. But I am not trying to change existing
> practise here that works. And with pre-supplied 2.4 patches, this
> information might not be there - depends how it was created.
>

Counter-smart-ass reply; while dealing in email/commit history through
viewvc and similar, the svn:mergeinfo is similarly clear and easily
reviewed. I follow both practices, svn merge for the summary you are
looking at above, combined with a log message that can be followed
by a later reviewer or troubleshooter.

Please do stick with practice and follow the svn conventions in use here?
Those are always up for discussion but should be discussed and even
more-so agreed upon on the dev list.  That includes attribution plus PR
and revision references in the commit log text (and CVE references, but
we will often edit those logs after a security release has been shipped
as not to call attention to the side-effects of a bug fix too quickly).

--001a11487ed62cf705052d125ad1
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On W=
ed, Mar 2, 2016 at 8:31 AM, Stefan Eissing <span dir=3D"ltr">&lt;<a href=3D=
"mailto:stefan.eissing@greenbytes.de" target=3D"_blank">stefan.eissing@gree=
nbytes.de</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=
=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">I can do=
 that. However - smartass mode on - if one uses the actual<br>
&quot;svn merge -c NNN,NNN&quot;, subversion will track that and<br>
<br>
=C2=A0 svn mergeinfo --show-revs merged ^/httpd/httpd/trunk .<br>
<br>
in a 2.4.x checkout will show it. But I am not trying to change existing<br=
>
practise here that works. And with pre-supplied 2.4 patches, this<br>
information might not be there - depends how it was created.<br>
<div class=3D"HOEnZb"><div class=3D"h5"></div></div></blockquote><div><br><=
/div><div>Counter-smart-ass reply; while dealing in email/commit history th=
rough</div><div>viewvc and similar, the svn:mergeinfo is similarly clear an=
d easily</div><div>reviewed. I follow both practices, svn merge for the sum=
mary you are</div><div>looking at above, combined with a log message that c=
an be followed=C2=A0</div><div>by a later reviewer or troubleshooter.</div>=
<div><br></div><div>Please do stick with practice and follow the svn conven=
tions in use here?</div><div>Those are always up for discussion but should =
be discussed and even</div><div>more-so agreed upon on the dev list.=C2=A0 =
That includes attribution plus PR=C2=A0</div><div>and revision references i=
n the commit log text (and CVE references, but</div><div>we will often edit=
 those logs after a security release has been shipped</div><div>as not to c=
all attention to the side-effects of a bug fix too quickly).</div><div><br>=
</div><div><br></div></div></div></div>

--001a11487ed62cf705052d125ad1--

From dev-return-85760-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 15:37:27 2016
Return-Path: <dev-return-85760-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DE5D718766
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 15:37:27 +0000 (UTC)
Received: (qmail 16578 invoked by uid 500); 2 Mar 2016 15:37:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16500 invoked by uid 500); 2 Mar 2016 15:37:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16489 invoked by uid 99); 2 Mar 2016 15:37:27 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 15:37:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C2414C00ED
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 15:37:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.262
X-Spam-Level:
X-Spam-Status: No, score=0.262 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RDNS_DYNAMIC=0.363, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=jts7nFuL;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=PtV1gdDi
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 08PtD1NQGQGf for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 15:37:25 +0000 (UTC)
Received: from mail.greenbytes.de (b2b-5-10-171-186.unitymedia.biz [5.10.171.186])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id E13235FB70
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 15:37:24 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 040A815A1393; Wed,  2 Mar 2016 16:37:23 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456933043; bh=Tku8nY6brjHXHkz5BYu5CWPzLPh9jWd2TXSngd+Ezno=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=jts7nFuLvEjFfGLnVT7KKr6LZbzf2aW/epzB3p2xQqWjXsWuJegF9HlEVbnJ+gSdd
	 ubw3X6pGOcKHL5LhAXQWkE4MufrtHQThxK2ox8x+JYFpP8f/pq22Iip7JBnnIZAJsu
	 KI6kaQ2mf6GDKKScXIEBmyFSHZoIfvnZYOUUMIyk=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 7E7A815A0737
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 16:37:21 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456933041; bh=Tku8nY6brjHXHkz5BYu5CWPzLPh9jWd2TXSngd+Ezno=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=PtV1gdDiTWvtoYKnvOmL/qBiRZQ9ZS/7+qXlcqwPD0lcf8ZyjeofQi9EV4KZulLB7
	 gYxD5wAujq5mBYMXXNy4nsUP3rhhoUrpeEWczPtpCLwKnMx/TRToCf29sy7UxtIRzf
	 HUVrbVBW+mSnzS/exfFwx0efZsdn04vGvwPQbqns=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1733279 - in /httpd/httpd/branches/2.4.x: ./ STATUS server/core.c server/util_mutex.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CACsi252jhGBNTvvo+BvebE9C_d40DNmK8vfBdWHpvcb8_paB2Q@mail.gmail.com>
Date: Wed, 2 Mar 2016 16:37:21 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <2729C9F8-A3B7-4F67-B4B2-3F92EFD6BFB1@greenbytes.de>
References: <20160302131005.9C0663A0249@svn01-us-west.apache.org> <CAKQ1sVMd4GYw+Y9oG-VjFsC1PRQ_HpgLPK0kbtHFG5yfxDa+pA@mail.gmail.com> <E6B861CD-C315-4220-9BEC-3FDC757BD2B3@greenbytes.de> <CACsi252jhGBNTvvo+BvebE9C_d40DNmK8vfBdWHpvcb8_paB2Q@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

I will add the revision numbers to the log when merging - no problem.=20
You are correct that things can only work when everyone follows common=20=

practise, or - lacking knowledge - learns to do so.

-Stefan

> Am 02.03.2016 um 16:15 schrieb William A Rowe Jr =
<wrowe@rowe-clan.net>:
>=20
> On Wed, Mar 2, 2016 at 8:31 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
> I can do that. However - smartass mode on - if one uses the actual
> "svn merge -c NNN,NNN", subversion will track that and
>=20
>   svn mergeinfo --show-revs merged ^/httpd/httpd/trunk .
>=20
> in a 2.4.x checkout will show it. But I am not trying to change =
existing
> practise here that works. And with pre-supplied 2.4 patches, this
> information might not be there - depends how it was created.
>=20
> Counter-smart-ass reply; while dealing in email/commit history through
> viewvc and similar, the svn:mergeinfo is similarly clear and easily
> reviewed. I follow both practices, svn merge for the summary you are
> looking at above, combined with a log message that can be followed=20
> by a later reviewer or troubleshooter.
>=20
> Please do stick with practice and follow the svn conventions in use =
here?
> Those are always up for discussion but should be discussed and even
> more-so agreed upon on the dev list.  That includes attribution plus =
PR=20
> and revision references in the commit log text (and CVE references, =
but
> we will often edit those logs after a security release has been =
shipped
> as not to call attention to the side-effects of a bug fix too =
quickly).
>=20
>=20


From dev-return-85761-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 15:59:26 2016
Return-Path: <dev-return-85761-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 672C618864
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 15:59:26 +0000 (UTC)
Received: (qmail 71822 invoked by uid 500); 2 Mar 2016 15:59:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71745 invoked by uid 500); 2 Mar 2016 15:59:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71735 invoked by uid 99); 2 Mar 2016 15:59:25 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 15:59:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 31DB5C6C27
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 15:59:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.002
X-Spam-Level:
X-Spam-Status: No, score=-0.002 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id eSTgENjBSnHI for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 15:59:20 +0000 (UTC)
Received: from mail-qg0-f45.google.com (mail-qg0-f45.google.com [209.85.192.45])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id B115A5FBF5
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 15:59:19 +0000 (UTC)
Received: by mail-qg0-f45.google.com with SMTP id w104so11456200qge.1
        for <dev@httpd.apache.org>; Wed, 02 Mar 2016 07:59:19 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=+8jUpNfHufEJYGwUGFvZeDW3rIrP7zCNZQnF74OgFQw=;
        b=E9ickCcSggjZljEEduHdd5qXr9nUT7vhG+i8m4/imUGjGDV74mhCQ2+8iT3FHzqO8N
         2XDfKjoWsGwDY9fbWa9SKIJ/C1IKWcTcPl1zclRjCZ14uAtjlwgjHqxopTfckio9KvjK
         XEgR3VZXJw9gUEnnmSwZhhjr2oZTdoWCDS+ucutrJck+9G0gD7QIazQit1wvanfWCGWI
         u1GvmxHw2WAYu2F/jjW//rffujQupY8oCYVgyu916CIJKy35wu3olU15grVg8069V2bZ
         /lZ3Yva1eGvmQt91MUj8RS7xaXqD/wepF5DRSMdHIV334owjprkQn5z+b3mwUVgUaXPh
         TkiA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=+8jUpNfHufEJYGwUGFvZeDW3rIrP7zCNZQnF74OgFQw=;
        b=Gdnn7hIqQBaUvz4fDh4NIh+63MA9eBqAQkfJug5o49dYHTzmZkehcOyojhiS8N3JUD
         1ejcpqqQHvLN87ulEGxYfRikq9dL8HDk2sIyYtE1QUy24hvbYNTGe2n4XR1g5oQdMcmt
         fwh+jf+hYo/P5yCEFuDHEP9oTV9NezGmBvt09YQeX5bVQkNzZeYL6HscSrH1BKSLizVq
         Mvu6RH2R8QdzdyCg+4ngW346AQnJ2C/gkj5VRQTYnzJsrnsaRetDI/vrpbjCNwx2o/cW
         hv1aNvv1A21hgsqxcVsie4ku2JWNhfq9sdrGql1JseWvbLBmWpYomb+Hp3CJrqvORUqs
         IQ+w==
X-Gm-Message-State: AD7BkJKi/HQwOZZWNZ9MjX/MyAJrNf/TAxyiZBode+2i/W51cjoBnros9n+W13GXM/7TKzJog0ytLsWzatf90w==
MIME-Version: 1.0
X-Received: by 10.140.82.70 with SMTP id g64mr22663570qgd.14.1456934349473;
 Wed, 02 Mar 2016 07:59:09 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 2 Mar 2016 07:59:09 -0800 (PST)
In-Reply-To: <E6B861CD-C315-4220-9BEC-3FDC757BD2B3@greenbytes.de>
References: <20160302131005.9C0663A0249@svn01-us-west.apache.org>
	<CAKQ1sVMd4GYw+Y9oG-VjFsC1PRQ_HpgLPK0kbtHFG5yfxDa+pA@mail.gmail.com>
	<E6B861CD-C315-4220-9BEC-3FDC757BD2B3@greenbytes.de>
Date: Wed, 2 Mar 2016 16:59:09 +0100
Message-ID: <CAKQ1sVPL3L5j5-udWFwxn-6-7ZbB+vtxUeiocR_T0q8WLceCqw@mail.gmail.com>
Subject: Re: svn commit: r1733279 - in /httpd/httpd/branches/2.4.x: ./ STATUS
 server/core.c server/util_mutex.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

tl;dr
I like commit messages :)

On Wed, Mar 2, 2016 at 3:31 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> I can do that. However - smartass mode on - if one uses the actual
> "svn merge -c NNN,NNN", subversion will track that and
>
>   svn mergeinfo --show-revs merged ^/httpd/httpd/trunk .
>
> in a 2.4.x checkout will show it.

The command above is nice but does not show the 2.4.x revision the
trunk one I'm looking for is merged into.

Eg., for this current merge, the relevant output is:

------------------------------------------------------------------------
r1732252 | jailletc36 | 2016-02-25 07:51:13 +0100 (Thu, 25 Feb 2016) | 1 line

Save a few bytes in conf pool when parsing 'DefaultRuntimeDir' directive.
------------------------------------------------------------------------
r1732353 | jailletc36 | 2016-02-25 20:49:21 +0100 (Thu, 25 Feb 2016) | 1 line

Save a few bytes in conf pool when parsing 'DocumentRoot' directive on some OS.
------------------------------------------------------------------------
r1732369 | jailletc36 | 2016-02-25 22:00:46 +0100 (Thu, 25 Feb 2016) | 1 line

Save a few bytes in conf pool when parsing 'Mutex' directive on some OS.
------------------------------------------------------------------------

but I can't find any r1733279 there, and had to look at the original
STATUS' change:

-  *) Save a few bytes in conf pool when parsing some directives
-     Trunk patch:
-         http://svn.apache.org/r1732252
-         http://svn.apache.org/r1732353
-         http://svn.apache.org/r1732369
-     2.4.x patch:
-         Trunk version of patch works
-     +1: jailletc36, ylavic, icing

to figure out.

I often have to search for a particular commit revision, mainly in my
mailbox (cvs@), to find out what's related, and for this the commit
message helps a lot ;)

But I agree that I may not be svn expert enough to find the right
command by myself...

The online viewvc's "Revision Log" does not show the svn properties
too, useful tool when you don't have you working copy (or svn) at
hand.

> But I am not trying to change existing
> practise here that works.

Honestly I didn't really know it was a required practice (is it?),
just always seen it in merge messages and found it useful, so just
proposed...

> And with pre-supplied 2.4 patches, this
> information might not be there - depends how it was created.

Right, it should/must? be in STATUS "Trunk patch(es):" though, if
referring to a real trunk commit at least (this helps finding and
commenting the original commit on review too).


No strict opinion on all that though, my personal use of commit
messages may be abusive, and if the information I need is missing,
well I'll find it some other way...

Regards,
Yann.

PS: I don't like too much top posting too :p
There seems to be two "real" schools here, so I adapt...

From dev-return-85762-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 16:09:19 2016
Return-Path: <dev-return-85762-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4077618900
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 16:09:19 +0000 (UTC)
Received: (qmail 8048 invoked by uid 500); 2 Mar 2016 16:09:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 7943 invoked by uid 500); 2 Mar 2016 16:09:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 7926 invoked by uid 99); 2 Mar 2016 16:09:18 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 16:09:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1F097C086C
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 16:09:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id iAeX2fRw0EAu for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 16:09:16 +0000 (UTC)
Received: from mail-io0-f169.google.com (mail-io0-f169.google.com [209.85.223.169])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 45C0C5FE5F
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 16:09:15 +0000 (UTC)
Received: by mail-io0-f169.google.com with SMTP id g203so264184485iof.2
        for <dev@httpd.apache.org>; Wed, 02 Mar 2016 08:09:15 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=ICOc3IX7UeEoR+UJcTZcZLbDMSMDa4lhwb/bOP83zpU=;
        b=OPPk6CrEBGpyBoLOOH1qVNVPMLn/LHQzIIhJX6d6RsnESPAkx9OnKtbCCJVxe4qH2S
         FWBfa1M6RZxg57uQHqeVHJkVjEnYOWUWv3oSG5oPyQ4atRvAedBWedFwuFkMDO4kEzQs
         LrlCGIS19BlZ2EkqMLlEFMhTNKamS1oKQndJnyNNU3X3z1Zce82Y+L6KeVPngXzEfnD3
         g7cRCpaNJTikuYqW55suiAQQ4oynqbyEDCc2Nw3vqVyHXJANXCo12v8NLPcmi+AJbsig
         byhFlTa2eKekIArFJcEhPHwdlL2hhNvE1Ol/hGBiPiIxfdIEASzHe3DMC8DTsJ319fJo
         J5kw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=ICOc3IX7UeEoR+UJcTZcZLbDMSMDa4lhwb/bOP83zpU=;
        b=J0y8RnHuQKb5RSWIWCcl8uwvow9IK4N14hA76N1Xx+A8bhF+rLnzgWWXj8ZL2Jhbgl
         khesGwe88sLZVE69irYRpXjeMfW72iT1d4mHCNsEDxHe0UL5hfus/dpCfquRoYLaxmz9
         llh2BAWjVVMdbfCPR8+3lKoeGJTVXBcfWT4hw3W4SXpbcAuJjtH+Q6pTEwt1yVHOIA7K
         9k3GHMVQcI4sGan3c3z5ucsS6U+gaeyaH0xamw3FkLemWjtvlSMGBGLGqsxCl3lTGQKb
         qYDgUF4i2zK4b/lu5VVoc4RB5Q7XhEy7QAuaKqzbPQRuuaGGk59dgKIqrJsapttjoKPv
         FIgQ==
X-Gm-Message-State: AD7BkJJfqRqpQAH2d47puz2BmmDKj5Zqas3YlTeXsEZcW0CToN2B34r25KR0VjFLl+dgtVRaHrvHZ6MTKE1zUA==
MIME-Version: 1.0
X-Received: by 10.107.26.201 with SMTP id a192mr6486200ioa.13.1456934654082;
 Wed, 02 Mar 2016 08:04:14 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Wed, 2 Mar 2016 08:04:14 -0800 (PST)
In-Reply-To: <CAKQ1sVPL3L5j5-udWFwxn-6-7ZbB+vtxUeiocR_T0q8WLceCqw@mail.gmail.com>
References: <20160302131005.9C0663A0249@svn01-us-west.apache.org>
	<CAKQ1sVMd4GYw+Y9oG-VjFsC1PRQ_HpgLPK0kbtHFG5yfxDa+pA@mail.gmail.com>
	<E6B861CD-C315-4220-9BEC-3FDC757BD2B3@greenbytes.de>
	<CAKQ1sVPL3L5j5-udWFwxn-6-7ZbB+vtxUeiocR_T0q8WLceCqw@mail.gmail.com>
Date: Wed, 2 Mar 2016 11:04:14 -0500
Message-ID: <CALK=YjNHz6LxyZy0BKCKXF=ZFHwzbKgkhxe_9GyOufnsKm0dFQ@mail.gmail.com>
Subject: Re: svn commit: r1733279 - in /httpd/httpd/branches/2.4.x: ./ STATUS
 server/core.c server/util_mutex.c
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 2, 2016 at 10:59 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> Honestly I didn't really know it was a required practice (is it?),
> just always seen it in merge messages and found it useful, so just
> proposed...


Dunno if this is always clear to newcomers but some of use a script called
svn.merge which helps with routine merges.

http://webcache.googleusercontent.com/search?q=cache:WHtgz59cWzoJ:people.apache.org/~jorton/svn.merge+&cd=1&hl=en&ct=clnk&gl=us

It's good for the crude but effective gmail archive searches.

From dev-return-85763-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 16:11:05 2016
Return-Path: <dev-return-85763-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A8E341891B
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 16:11:05 +0000 (UTC)
Received: (qmail 18880 invoked by uid 500); 2 Mar 2016 16:11:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18815 invoked by uid 500); 2 Mar 2016 16:11:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18804 invoked by uid 99); 2 Mar 2016 16:11:05 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 16:11:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 859C9C001C
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 16:11:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 9A2gPO7v1hbo for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 16:11:03 +0000 (UTC)
Received: from mail-qg0-f41.google.com (mail-qg0-f41.google.com [209.85.192.41])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 2B1365F3F4
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 16:11:03 +0000 (UTC)
Received: by mail-qg0-f41.google.com with SMTP id y89so172661368qge.2
        for <dev@httpd.apache.org>; Wed, 02 Mar 2016 08:11:03 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=bucF14qF5ewUNAdXYH7HsutcTj0Q2BCb9kXeJDn2U6A=;
        b=X3TFzWg6yEqa5KuCUIreuGBwGUKvoixyliWcifHD9gLKaLoHnup5Xr25uAePbxswLB
         beuAGcAdCpgAa88HoE5tEfDY8yqXesKAtfdvBuEvH7mfQ+pUkoUoB6IG565A1kDOKR4q
         BrOoYz0gTzEBzhNq6Sfol988wjQ7CezHh6XWkaiyHlGmzHFsDyjxyCZR3X6j0LmpJAb1
         HOHFHiXhhY4axTFdy6cbAJHcXPBv9SQH8WIETsxgbp3bBbYlkdW4cy+iXkQFuNeq1Btm
         Dod9xueRUxr0KjKWR1VPrgqRpteJOvph9ryFovswCbMOKk2s+ev4eT0l0GZnxHSNQ9T/
         oscw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=bucF14qF5ewUNAdXYH7HsutcTj0Q2BCb9kXeJDn2U6A=;
        b=ZC6nsHCp18oc5DRHD+Z9sma5ZhFdG9i9uTZ+2qllQWDNfnuQAvH292ZK4tFMIS5jka
         cgGccUBgI1r41XMVK+SuUOASNsSxtgSisySGOVBZr9e35N4WV/YTDmK6HleahcnZ2dff
         mN116Pc1LNc6ofj9DdlDNxYghmfgbUgFN5m2dk21gPx2R2jjez0f/+0+KloxP9Rm52DB
         CLD25G2wBbselCokJmEWaUnfkCQXN0jIp28/FWEjOcPEdmzIjw7F7728hRa0aKG/rRuq
         FMLp0KA3wBmH3rM8dzTjAFoMLme1tfKV4Nm8mFc++56t2Gpx6ovfzdWV84uuySD8wUVD
         8cRg==
X-Gm-Message-State: AD7BkJI8QkZysI7783du+Orm+A3W1927CgaDw0/Te815KmHHOc0YSmM97gaAUuVyXZFDjH0xRx+tLzBTdw78qA==
MIME-Version: 1.0
X-Received: by 10.140.101.147 with SMTP id u19mr35372370qge.71.1456934755011;
 Wed, 02 Mar 2016 08:05:55 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 2 Mar 2016 08:05:54 -0800 (PST)
In-Reply-To: <20160302095105.B7A993A0142@svn01-us-west.apache.org>
References: <20160302095105.B7A993A0142@svn01-us-west.apache.org>
Date: Wed, 2 Mar 2016 17:05:54 +0100
Message-ID: <CAKQ1sVOeFMkhC0CFF29X80FGnPSrLBpckEGDub9hV-CiVMJLig@mail.gmail.com>
Subject: Re: svn commit: r1733239 - /httpd/httpd/trunk/modules/proxy/proxy_util.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 2, 2016 at 10:51 AM,  <icing@apache.org> wrote:
> Author: icing
> Date: Wed Mar  2 09:51:05 2016
> New Revision: 1733239
>
> URL: http://svn.apache.org/viewvc?rev=1733239&view=rev
> Log:
> adding default port numbers for h2/h2x proxy schemes, by jchampion
>
> Modified:
>     httpd/httpd/trunk/modules/proxy/proxy_util.c
>
> Modified: httpd/httpd/trunk/modules/proxy/proxy_util.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/proxy_util.c?rev=1733239&r1=1733238&r2=1733239&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/proxy/proxy_util.c (original)
> +++ httpd/httpd/trunk/modules/proxy/proxy_util.c Wed Mar  2 09:51:05 2016
> @@ -3681,6 +3681,8 @@ static proxy_schemes_t pschemes[] =
>      {"fcgi",     8000},
>      {"ajp",      AJP13_DEF_PORT},
>      {"scgi",     SCGI_DEF_PORT},
> +    {"h2c",      DEFAULT_HTTP_PORT},
> +    {"h2",       DEFAULT_HTTPS_PORT},

We possibly need another way to define/lookup/compare proxy schemes
(likewise with APR's), the more this list grows, the more it is cycle
consuming (jfclere reported an issue possibly related to it some time
ago).

Maybe a load-time-constructed hash table ?

>      { NULL, 0xFFFF }     /* unknown port */
>  };

From dev-return-85764-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 16:13:43 2016
Return-Path: <dev-return-85764-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 597FF18937
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 16:13:43 +0000 (UTC)
Received: (qmail 26075 invoked by uid 500); 2 Mar 2016 16:13:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25992 invoked by uid 500); 2 Mar 2016 16:13:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25969 invoked by uid 99); 2 Mar 2016 16:13:42 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 16:13:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 767171A0704
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 16:13:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id QVQY-c-MPmW3 for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 16:13:40 +0000 (UTC)
Received: from mail-qk0-f170.google.com (mail-qk0-f170.google.com [209.85.220.170])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id E49E25FD9E
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 16:13:39 +0000 (UTC)
Received: by mail-qk0-f170.google.com with SMTP id o6so84412465qkc.2
        for <dev@httpd.apache.org>; Wed, 02 Mar 2016 08:13:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to;
        bh=dSd7gPp78WUkL33ek60iHPfZXr2OGYAME9n3FohvDDY=;
        b=SfJsfE/xc0llNxqOQb8W1r3JJy4adkxr8TrigUVKjK61Oca2CZ7XZyAzKkrfSmpPTa
         RlaAr2zyniO4P2mVddvFiUEeZDwPpKT6yXaOe/i85RwLhFyEpZ35jWBaKdWE9c3INpmN
         Lq8/A0WTaSfxWqhTxxbiKMhkyjKbdbEIJKBdOLNlY29x2IgrCNghY3B7vHS5pOwTDkea
         zZtzOzX+qU7d8s4YnUwbWNhXPobzPHQRfATE6Jy5FSrPytRO4QmMuRnp+yhoVfMbXMXZ
         fGE5Q/2gnBGu0rlEunqg6WAxLNYgpFO1AwMudKcPXs5Vs88F55BZju1MZIK2XZSbzyJ3
         rouQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to;
        bh=dSd7gPp78WUkL33ek60iHPfZXr2OGYAME9n3FohvDDY=;
        b=iPip7IHZni8BFgM9soP2PgGma7LIbm5c8NhebftQPHyX/sUEdXZrJydm5DFJmqMTk/
         HmYgMOBRbuvrBo/nWA7gplLEsaYDqVlTrXEkjXiQS8wnhqQh6uPYrq+L2PEw6rHbbPLf
         otitw7PfGtCD+YPDftaMT/1L29U0O5eH8cG5mmGQN6thDwRYQtXjLKi+R3L6fZF+WO67
         R9TD7XGXds5z5r1zznrPnqTDR+M7P3zSlJ7+MdfVkDG9gg3N21OUi981QoaKz2WIrp3X
         GSxNq+9dnb7MJdJdtpbY04NBp30TnjOxqN7gKhAy5V5gBZL9N+wQO9qQ3AyG8nC5Y+q1
         jE8w==
X-Gm-Message-State: AD7BkJLm7NUKtuFbcgDwRJ3tppTgTmx+KBwNcwMPIf0RflvfMCyNY2JIHN+s1LHLBWrznBZSkBi1mQCBKjrt1Q==
MIME-Version: 1.0
X-Received: by 10.55.71.195 with SMTP id u186mr34310846qka.38.1456935217217;
 Wed, 02 Mar 2016 08:13:37 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 2 Mar 2016 08:13:37 -0800 (PST)
Date: Wed, 2 Mar 2016 17:13:37 +0100
Message-ID: <CAKQ1sVN=PDhOpzu+NSQj3CndX+VTZd6cxK4Cjqx_q3HTU5mXzQ@mail.gmail.com>
Subject: BalancerPersist "relaxable" checks (was: svn commit: r1733283 - /httpd/httpd/branches/2.4.x/STATUS)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

re: mod_proxy_hcheck backport

>       ylavic: Looks like the changes on struct proxy_worker_shared would break
>               startup with "BalancerPersist on" due to the strict checks on
>               the sizes of existing slotmems (slotmem_create/attach)?
> +     jim: Yes, that is right (re: breakage)... this would be noted at
> +          release.

Maybe we could have a "BalancerPersist try" option which would
remove/reset the existing persistent files/SHMs when the sizes change
(either corrupted files or this kind of upgrade change).

That could save the admin from having to locate the relevent
files/SHMs (on disk/ipc/dev) and remove them, which is not obvious
when you have multiple httpd instances running and only some of them
need this administrative cleanage (the others keep running), since the
names of the files/SHMs is not "configurable" (the ID based on
servername/line/.. is finally ap_proxy_hashfunc()ed for practical
reasons) and can hardly be related to an httpd instance...

From dev-return-85765-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 16:17:16 2016
Return-Path: <dev-return-85765-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 322AB1897F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 16:17:16 +0000 (UTC)
Received: (qmail 49919 invoked by uid 500); 2 Mar 2016 16:17:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49850 invoked by uid 500); 2 Mar 2016 16:17:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49836 invoked by uid 99); 2 Mar 2016 16:17:15 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 16:17:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 15BD31A128B
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 16:17:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Xx4eMLMfCtDH for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 16:17:14 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id A46675FBC0
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 16:17:09 +0000 (UTC)
Received: by mail-qg0-f52.google.com with SMTP id t4so16205609qge.0
        for <dev@httpd.apache.org>; Wed, 02 Mar 2016 08:17:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=7/zf5o+uV4IhI00REKIL9cyzWQ1DQAwMbqdGpH9XvOs=;
        b=Np60wYycX56PsjMSIyw+GZOlRmrMSaD7mIpqGOjYVoGblrxOFNfvszIx++bK2+0d+c
         FC9lI19MNL+qs5+caHqmjHWppVue84MY34bY3I0vYWxH0qm0U/WDlPmlIw1B7rpluCT5
         zzpzt6hr+Efcj6D0DfY0ksx3LM6YxZHXj2uPgFSK10UhoRpiRQf8epqAsXfQ9hYg2VEI
         yTzMH7QY33d4E906Rp+e/ZSTEEsSXwWrbju1QN/UGxsWDHE4oHuGCaeIaTm1UFLr9Or0
         qAwhazBoepEf7+foLLczri8BcVy1ZybDfKj+0pgGKVjD4ZkWE6PU+JEP0DFu6bVvntC5
         JwxQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=7/zf5o+uV4IhI00REKIL9cyzWQ1DQAwMbqdGpH9XvOs=;
        b=Rt7rx4aXCQx+n5sbFpex6oHqLpHUQq/hWw9u56nD1ulZCdRpDJZMLUjBjcErQE6c6E
         jSIajsZkjcw7MoQjbDOeS5aoA/n4RRhYob3fFsRjtyP2ljG/Bs1L5XCnbP96pirmHVWH
         KY86qJ+5UekBWMRdmqExPWvixjyXdZpUgWc3JovTJNpXkk7ZIrrtRoE8RTcbHf+O1+IR
         5IQ72aKSjrw89vMBLwH7MgNxQLmxlSzXHJfM/HPTbda3+j1+MGrLeSC3QWbb3OefLZi5
         35xUp/SiilWx6Z0YbIc8XBJ5f/SpR/iPp77eduQepfcLF/f8UlACYlgDyaMiLnCtIxV/
         QLcg==
X-Gm-Message-State: AD7BkJIxz9isK9TebYcoIWQR39ORdNZYUL9U60dqJq+siautJDZcZLKqpyPlyIA0UQUwoUcGkbhLKu4y0BRxBg==
MIME-Version: 1.0
X-Received: by 10.140.82.70 with SMTP id g64mr22796066qgd.14.1456935422293;
 Wed, 02 Mar 2016 08:17:02 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 2 Mar 2016 08:17:02 -0800 (PST)
In-Reply-To: <CALK=YjNHz6LxyZy0BKCKXF=ZFHwzbKgkhxe_9GyOufnsKm0dFQ@mail.gmail.com>
References: <20160302131005.9C0663A0249@svn01-us-west.apache.org>
	<CAKQ1sVMd4GYw+Y9oG-VjFsC1PRQ_HpgLPK0kbtHFG5yfxDa+pA@mail.gmail.com>
	<E6B861CD-C315-4220-9BEC-3FDC757BD2B3@greenbytes.de>
	<CAKQ1sVPL3L5j5-udWFwxn-6-7ZbB+vtxUeiocR_T0q8WLceCqw@mail.gmail.com>
	<CALK=YjNHz6LxyZy0BKCKXF=ZFHwzbKgkhxe_9GyOufnsKm0dFQ@mail.gmail.com>
Date: Wed, 2 Mar 2016 17:17:02 +0100
Message-ID: <CAKQ1sVMuUp2JfHzSCb1Knk3uss8uAQbup2A_DAGfhzYTaWbvhw@mail.gmail.com>
Subject: Re: svn commit: r1733279 - in /httpd/httpd/branches/2.4.x: ./ STATUS
 server/core.c server/util_mutex.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 2, 2016 at 5:04 PM, Eric Covener <covener@gmail.com> wrote:
>
> Dunno if this is always clear to newcomers but some of use a script called
> svn.merge which helps with routine merges.
>
> http://webcache.googleusercontent.com/search?q=cache:WHtgz59cWzoJ:people.apache.org/~jorton/svn.merge+&cd=1&hl=en&ct=clnk&gl=us

Oh, it seems you just saved me a lot of time and repetitive work :)

>
> It's good for the crude but effective gmail archive searches.

Thanks a bunch!

From dev-return-85766-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 16:17:21 2016
Return-Path: <dev-return-85766-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 322681898B
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 16:17:21 +0000 (UTC)
Received: (qmail 51616 invoked by uid 500); 2 Mar 2016 16:17:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51541 invoked by uid 500); 2 Mar 2016 16:17:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51526 invoked by uid 99); 2 Mar 2016 16:17:20 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 16:17:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 17B24C086C
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 16:17:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.262
X-Spam-Level:
X-Spam-Status: No, score=0.262 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RDNS_DYNAMIC=0.363, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=f/dHlsw1;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=K7qKQaBs
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id wSXljlzIR_m4 for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 16:17:18 +0000 (UTC)
Received: from mail.greenbytes.de (b2b-5-10-171-186.unitymedia.biz [5.10.171.186])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id CFBCB5FE5C
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 16:17:17 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 0974415A137B; Wed,  2 Mar 2016 17:17:14 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456935434; bh=49J5UDY4piHO3SCJjoP142Rbuoo+nZiDl5k54/pRXHE=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=f/dHlsw1/DCEaJpZbGWPKNl+HJ533w+p4yw8e2+48fF/j56owfDDevfRDGBjM50+/
	 MC1tbuRWg8Wg/fdck6JL2XAPeWazI+9FHYpCAEFFVjtUn9sOrW6LM1/YekZDeVKs8M
	 HFIc653+/i+r2ugAQ4PZOZgEV6gj+dWFOqDGZ5Ds=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id CC8BA15A06CF
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 17:17:13 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456935433; bh=49J5UDY4piHO3SCJjoP142Rbuoo+nZiDl5k54/pRXHE=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=K7qKQaBs2T6LPhZtxpi6sP6Yglcnlflws0K51R3fh8ws+BzDcYcDPsqgV3h8v8EIb
	 1pwxpMRI1gDaaPHx5PxnnqgqeTLlwIsIzy0AC+H9/KOnLKdLUcmzFD3rjSRQWQxY7l
	 3wU5bQMCafDnBPr44JvS/KUbvRSfX8qDRo7mljFE=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1733239 - /httpd/httpd/trunk/modules/proxy/proxy_util.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVOeFMkhC0CFF29X80FGnPSrLBpckEGDub9hV-CiVMJLig@mail.gmail.com>
Date: Wed, 2 Mar 2016 17:17:13 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <0E565DFB-A0F8-47A1-AC81-7A46153399BF@greenbytes.de>
References: <20160302095105.B7A993A0142@svn01-us-west.apache.org> <CAKQ1sVOeFMkhC0CFF29X80FGnPSrLBpckEGDub9hV-CiVMJLig@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> Am 02.03.2016 um 17:05 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Wed, Mar 2, 2016 at 10:51 AM,  <icing@apache.org> wrote:
>> Author: icing
>> Date: Wed Mar  2 09:51:05 2016
>> New Revision: 1733239
>>=20
>> URL: http://svn.apache.org/viewvc?rev=3D1733239&view=3Drev
>> Log:
>> adding default port numbers for h2/h2x proxy schemes, by jchampion
>>=20
>> Modified:
>>    httpd/httpd/trunk/modules/proxy/proxy_util.c
>>=20
>> Modified: httpd/httpd/trunk/modules/proxy/proxy_util.c
>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/proxy_util.c?=
rev=3D1733239&r1=3D1733238&r2=3D1733239&view=3Ddiff
>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>> --- httpd/httpd/trunk/modules/proxy/proxy_util.c (original)
>> +++ httpd/httpd/trunk/modules/proxy/proxy_util.c Wed Mar  2 09:51:05 =
2016
>> @@ -3681,6 +3681,8 @@ static proxy_schemes_t pschemes[] =3D
>>     {"fcgi",     8000},
>>     {"ajp",      AJP13_DEF_PORT},
>>     {"scgi",     SCGI_DEF_PORT},
>> +    {"h2c",      DEFAULT_HTTP_PORT},
>> +    {"h2",       DEFAULT_HTTPS_PORT},
>=20
> We possibly need another way to define/lookup/compare proxy schemes
> (likewise with APR's), the more this list grows, the more it is cycle
> consuming (jfclere reported an issue possibly related to it some time
> ago).
>=20
> Maybe a load-time-constructed hash table ?

Hmmm, the things above are not all real URI schemes and, as such, have =
no real definition outside our project. I *would* like each =
canon_handler to return the port number or something like it. The =
knowledge about default ports would better reside in the mod_proxy_XXX =
source than the common util.

-Stefan=

From dev-return-85767-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 16:20:12 2016
Return-Path: <dev-return-85767-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9CA75189A4
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 16:20:12 +0000 (UTC)
Received: (qmail 59180 invoked by uid 500); 2 Mar 2016 16:20:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59102 invoked by uid 500); 2 Mar 2016 16:20:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59092 invoked by uid 99); 2 Mar 2016 16:20:12 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 16:20:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id BEF1DC0D25
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 16:20:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.33
X-Spam-Level:
X-Spam-Status: No, score=-0.33 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id VJbi95kNeOST for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 16:20:10 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id 411985FBDB
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 16:20:10 +0000 (UTC)
Received: from [10.105.34.69] (unknown [5.56.169.80])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 463B882198
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 16:20:09 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: conn_rec needs a context
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <CAKQ1sVNzxwLnYMqhAJpOUEY5-pSRp=RS_-Q68Yz6OqnjqUwygQ@mail.gmail.com>
Date: Wed, 2 Mar 2016 18:20:08 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <EE6E3C1F-2C60-4AA5-901D-95F101B0F21C@sharp.fm>
References: <35DA6E0F-5A78-40D8-B9A7-F6398606EEE2@sharp.fm> <CAKQ1sVP2X0p1UcGRfAB7CkpxjJcxJqPzfnwAwq6nGQ3fOOV3dA@mail.gmail.com> <CAKQ1sVNzxwLnYMqhAJpOUEY5-pSRp=RS_-Q68Yz6OqnjqUwygQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 02 Mar 2016, at 2:26 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

>>> Would it make sense to add a vector of contexts that same way we =
have a vector of configs, one slot for each module, which will allow any =
module to add a context of it=E2=80=99s own to conn_rec without having =
to extend conn_rec?
>>=20
>> Can't the existing ap_[gs]et_module_config(c->conn_config, ...) be
>> used for that purpose?
>=20
> I mean, put the context in the module config?

If we can it would be great - but is there an API guarantee that the =
memory pointed to by the config is a per-connection copy of the config, =
and not the raw underlying server wide config instead?

Regards,
Graham
=E2=80=94


From dev-return-85768-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 16:21:41 2016
Return-Path: <dev-return-85768-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 786AD189B4
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 16:21:41 +0000 (UTC)
Received: (qmail 62978 invoked by uid 500); 2 Mar 2016 16:21:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62904 invoked by uid 500); 2 Mar 2016 16:21:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62894 invoked by uid 99); 2 Mar 2016 16:21:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 16:21:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 85917C086C
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 16:21:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.262
X-Spam-Level:
X-Spam-Status: No, score=0.262 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RDNS_DYNAMIC=0.363, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=h+uPJxP3;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=rX9N4OU5
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id qL53ewBkS1tW for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 16:21:38 +0000 (UTC)
Received: from mail.greenbytes.de (b2b-5-10-171-186.unitymedia.biz [5.10.171.186])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 2DC4B5FB70
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 16:21:38 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id A9A7F15A137B; Wed,  2 Mar 2016 17:21:36 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456935696; bh=NUoZ3PP2NP+4UuopzyoEYT1oi6cLg8Z+nicTwO9nxow=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=h+uPJxP3TH34dRIAxTvyF9m+X3RR3624CBHRzZMsqpvbW1iyj2EYFI2Q3q4RO1EaU
	 v2ThjMXl41JwBjNkhVZL9Xij4aT+c91p4uqdfg2CYmsKp3Xwz0qwurNHEwT+CV/QY5
	 f21yJuz8cXFReDmGXyrD1m0wETAbgMvBZlNtBd2k=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 3AD2F15A06CF
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 17:21:35 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1456935695; bh=NUoZ3PP2NP+4UuopzyoEYT1oi6cLg8Z+nicTwO9nxow=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=rX9N4OU5c+Uq67NgwnDcSzQ7xcHgNDB5Y89INMblTgc7M7hbKlT3ZVyWGxdDmBGcD
	 Omt6aawrHH4LcBZ63l47VK0K3jL3M5co+0GhTo819OqpFhB/cRRBGztCd/CVXG+sN1
	 gatLs/l5hQHM0nLF/suCROE+47FriLPjPqtc37zA=
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: conn_rec needs a context
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <EE6E3C1F-2C60-4AA5-901D-95F101B0F21C@sharp.fm>
Date: Wed, 2 Mar 2016 17:21:35 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <AC2AF5B8-0AC1-4D39-A388-B46A2D6950F6@greenbytes.de>
References: <35DA6E0F-5A78-40D8-B9A7-F6398606EEE2@sharp.fm> <CAKQ1sVP2X0p1UcGRfAB7CkpxjJcxJqPzfnwAwq6nGQ3fOOV3dA@mail.gmail.com> <CAKQ1sVNzxwLnYMqhAJpOUEY5-pSRp=RS_-Q68Yz6OqnjqUwygQ@mail.gmail.com> <EE6E3C1F-2C60-4AA5-901D-95F101B0F21C@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> Am 02.03.2016 um 17:20 schrieb Graham Leggett <minfrin@sharp.fm>:
>=20
> On 02 Mar 2016, at 2:26 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>=20
>>>> Would it make sense to add a vector of contexts that same way we =
have a vector of configs, one slot for each module, which will allow any =
module to add a context of it=E2=80=99s own to conn_rec without having =
to extend conn_rec?
>>>=20
>>> Can't the existing ap_[gs]et_module_config(c->conn_config, ...) be
>>> used for that purpose?
>>=20
>> I mean, put the context in the module config?
>=20
> If we can it would be great - but is there an API guarantee that the =
memory pointed to by the config is a per-connection copy of the config, =
and not the raw underlying server wide config instead?

Does not, for example, mod_ssl rely on that?=

From dev-return-85769-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 19:08:44 2016
Return-Path: <dev-return-85769-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3EA2518524
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 19:08:44 +0000 (UTC)
Received: (qmail 24020 invoked by uid 500); 2 Mar 2016 19:08:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23947 invoked by uid 500); 2 Mar 2016 19:08:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23937 invoked by uid 99); 2 Mar 2016 19:08:43 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 19:08:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id EAA8D18057C
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 19:08:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id mJAun0P5_1IE for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 19:08:41 +0000 (UTC)
Received: from resqmta-po-03v.sys.comcast.net (resqmta-po-03v.sys.comcast.net [96.114.154.162])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id A8FC55FAFF
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 19:08:40 +0000 (UTC)
Received: from resomta-po-13v.sys.comcast.net ([96.114.154.237])
	by resqmta-po-03v.sys.comcast.net with comcast
	id R78T1s00157bBgG0178YEg; Wed, 02 Mar 2016 19:08:32 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-13v.sys.comcast.net with comcast
	id R78X1s00F2U0RYt0178YGJ; Wed, 02 Mar 2016 19:08:32 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: BalancerPersist "relaxable" checks (was: svn commit: r1733283 - /httpd/httpd/branches/2.4.x/STATUS)
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVN=PDhOpzu+NSQj3CndX+VTZd6cxK4Cjqx_q3HTU5mXzQ@mail.gmail.com>
Date: Wed, 2 Mar 2016 14:08:31 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <D9188233-565B-40C8-957E-6FAAC97146FE@jaguNET.com>
References: <CAKQ1sVN=PDhOpzu+NSQj3CndX+VTZd6cxK4Cjqx_q3HTU5mXzQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1456945712;
	bh=ALjp9mjRl8RjBdtYzqXLgnYequ7yU6gJZ4pzKsFUMho=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=tg72r83dy6jd9GMnN/+CDixJq7LM2nWmK2RhIwWPnkF/sFvRsDNBDCO8Sm2KOvJCx
	 c+s5l+B4lS8iRk1UZarTLdp39g2bINa2m6PH8CzECiPe7pmlWizMKv4UlTWJpIfG/9
	 b49p1ommxWBKI9eQEv7sOWU66cSm8iBgen9VmOUa5kkShrz+N29AclMa8Kh6YeUN35
	 bAmOC0XNjRQsgLV3asmuLusR/uBV0+OClilir9RMgAHfLOUu9xHTfay+dyHGjjVKf8
	 fxRG9sVtmwGd5FWrIFRb0hnp7tEshPEM/0UIJa+YLBnJSlgjOsOZjmFvm23ffy4vXP
	 yPgRRIo57+I4g==


> On Mar 2, 2016, at 11:13 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>=20
> re: mod_proxy_hcheck backport
>=20
>>      ylavic: Looks like the changes on struct proxy_worker_shared =
would break
>>              startup with "BalancerPersist on" due to the strict =
checks on
>>              the sizes of existing slotmems (slotmem_create/attach)?
>> +     jim: Yes, that is right (re: breakage)... this would be noted =
at
>> +          release.
>=20
> Maybe we could have a "BalancerPersist try" option which would
> remove/reset the existing persistent files/SHMs when the sizes change
> (either corrupted files or this kind of upgrade change).
>=20
> That could save the admin from having to locate the relevent
> files/SHMs (on disk/ipc/dev) and remove them, which is not obvious
> when you have multiple httpd instances running and only some of them
> need this administrative cleanage (the others keep running), since the
> names of the files/SHMs is not "configurable" (the ID based on
> servername/line/.. is finally ap_proxy_hashfunc()ed for practical
> reasons) and can hardly be related to an httpd instance...

Hmmm... iirc, if there is a mismatch, the old files are
automagically removed.=

From dev-return-85770-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 19:10:46 2016
Return-Path: <dev-return-85770-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C3C691854C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 19:10:46 +0000 (UTC)
Received: (qmail 35288 invoked by uid 500); 2 Mar 2016 19:10:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35213 invoked by uid 500); 2 Mar 2016 19:10:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35203 invoked by uid 99); 2 Mar 2016 19:10:46 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 19:10:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C91EB18057C
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 19:10:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 8fSLP9il8LyX for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 19:10:45 +0000 (UTC)
Received: from resqmta-po-01v.sys.comcast.net (resqmta-po-01v.sys.comcast.net [96.114.154.160])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id CCE195FB70
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 19:10:44 +0000 (UTC)
Received: from resomta-po-09v.sys.comcast.net ([96.114.154.233])
	by resqmta-po-01v.sys.comcast.net with comcast
	id R79h1s00752QWKC017AeKx; Wed, 02 Mar 2016 19:10:38 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-09v.sys.comcast.net with comcast
	id R7Ad1s00D2U0RYt017AdFR; Wed, 02 Mar 2016 19:10:38 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1733279 - in /httpd/httpd/branches/2.4.x: ./ STATUS server/core.c server/util_mutex.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVMuUp2JfHzSCb1Knk3uss8uAQbup2A_DAGfhzYTaWbvhw@mail.gmail.com>
Date: Wed, 2 Mar 2016 14:10:37 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <2A957701-FE93-4E88-84D3-1946C62F9FEC@jaguNET.com>
References: <20160302131005.9C0663A0249@svn01-us-west.apache.org> <CAKQ1sVMd4GYw+Y9oG-VjFsC1PRQ_HpgLPK0kbtHFG5yfxDa+pA@mail.gmail.com> <E6B861CD-C315-4220-9BEC-3FDC757BD2B3@greenbytes.de> <CAKQ1sVPL3L5j5-udWFwxn-6-7ZbB+vtxUeiocR_T0q8WLceCqw@mail.gmail.com> <CALK=YjNHz6LxyZy0BKCKXF=ZFHwzbKgkhxe_9GyOufnsKm0dFQ@mail.gmail.com> <CAKQ1sVMuUp2JfHzSCb1Knk3uss8uAQbup2A_DAGfhzYTaWbvhw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1456945838;
	bh=+0AdelHh3q+J49A/DXvGn8PEk12T11CJu0/vEm+Mg5s=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=wGLI2Eafex98rd+QvsYtEqx71oqPZ0/7tHng89qJNhrm0LoBD2FqqWIewy4VJkeou
	 fA9Ob6+l9dNC7dqTwSk5q7u5l63gjKKjh40rjzhyKzmVHKG0J6v1TrLsUCpvprIjMD
	 0iyy51EUcUHNhfJ8YhLJxxr5jEkPrl0/ozMYEv/ETq/NCcEPOGF900VqYvf1sDFLlJ
	 v+x+SKjWyIJlH/+o0mhj3xSj+z7/JH6l54O2iMN7oPm//laRoSUB01KCP7UelNHeDf
	 9IUy2IPOUwBp9csgTNhccvGY7r+0U5gVWddtrVyO0b/r/EpH1kS37SFzGCt70Yag5M
	 ybf0zR60lN5Og==

yeah, I use svn.merge and svn.record (for those cases where
I use a actual patch file, but want to record the SVN metadata)



From dev-return-85771-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 19:16:43 2016
Return-Path: <dev-return-85771-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 120541858E
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 19:16:43 +0000 (UTC)
Received: (qmail 51496 invoked by uid 500); 2 Mar 2016 19:16:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51427 invoked by uid 500); 2 Mar 2016 19:16:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51417 invoked by uid 99); 2 Mar 2016 19:16:42 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 19:16:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 190BC18057C
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 19:16:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.651
X-Spam-Level:
X-Spam-Status: No, score=0.651 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id NwYnDO_Ei26g for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 19:16:41 +0000 (UTC)
Received: from resqmta-po-11v.sys.comcast.net (resqmta-po-11v.sys.comcast.net [96.114.154.170])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id EF0085FB70
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 19:16:40 +0000 (UTC)
Received: from resomta-po-09v.sys.comcast.net ([96.114.154.233])
	by resqmta-po-11v.sys.comcast.net with comcast
	id R7AJ1s00352QWKC017BZmZ; Wed, 02 Mar 2016 19:11:33 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-09v.sys.comcast.net with comcast
	id R7Ad1s00D2U0RYt017BZNo; Wed, 02 Mar 2016 19:11:33 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: multipart/mixed; boundary="Apple-Mail=_FC49FF73-9DD5-41FD-8E4A-F0BC9A878460"
Message-Id: <3CB9C91A-EBF3-4F2A-8679-26B3FA717883@jaguNET.com>
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1733279 - in /httpd/httpd/branches/2.4.x: ./ STATUS server/core.c server/util_mutex.c
Date: Wed, 2 Mar 2016 14:11:33 -0500
References: <20160302131005.9C0663A0249@svn01-us-west.apache.org> <CAKQ1sVMd4GYw+Y9oG-VjFsC1PRQ_HpgLPK0kbtHFG5yfxDa+pA@mail.gmail.com> <E6B861CD-C315-4220-9BEC-3FDC757BD2B3@greenbytes.de> <CAKQ1sVPL3L5j5-udWFwxn-6-7ZbB+vtxUeiocR_T0q8WLceCqw@mail.gmail.com> <CALK=YjNHz6LxyZy0BKCKXF=ZFHwzbKgkhxe_9GyOufnsKm0dFQ@mail.gmail.com> <CAKQ1sVMuUp2JfHzSCb1Knk3uss8uAQbup2A_DAGfhzYTaWbvhw@mail.gmail.com> <2A957701-FE93-4E88-84D3-1946C62F9FEC@jaguNET.com>
To: dev@httpd.apache.org
In-Reply-To: <2A957701-FE93-4E88-84D3-1946C62F9FEC@jaguNET.com>
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1456945893;
	bh=y8KwN4uqqPBqZwSebpwGGgqD1ax7Efy2vu+et4Zg1eU=;
	h=Received:Received:From:Content-Type:Message-Id:Mime-Version:
	 Subject:Date:To;
	b=J0xBYPkaJmupXu5lTRUmd+TN8jDZVCPTJgRjwBOk3RQLJCAVaI93jWldGzqg9ilxW
	 LG6esWJqrQBRGL/+ZPSoEShthvrV8Shdc4MFBj+XzFCgMZjGJs0k6SBr2JcEUsAz3I
	 BFoYanka/75JD8yzvt1T7bEtKBYPEqyPiRCiupQwnddZVUsmLry8sEfdpFDGtVrL9h
	 moZ7HG4RWv1CO/TCgdaQgICZL57fGYy0wXxiieTzSK+6PY8RdgcnIXmL/BEIZnHaEo
	 pK0PVZewTuH2AKppvtus9m2H2uL12OHr/1TGi23P5DaZKEEn8dkrl9NrqpG1IDIKB2
	 TLHHR+Pim8vVQ==


--Apple-Mail=_FC49FF73-9DD5-41FD-8E4A-F0BC9A878460
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=us-ascii

Attached... just in case
--Apple-Mail=_FC49FF73-9DD5-41FD-8E4A-F0BC9A878460
Content-Disposition: attachment;
	filename=svn.merge
Content-Type: application/octet-stream;
	name="svn.merge"
Content-Transfer-Encoding: 7bit

#!/bin/bash
# svn.merge: tool for merging into a branch a number of specified
# revisions from the trunk.
# 
# Usage: (from a branch working copy)
#    $ svn.merge 200 203 210 220
#    $ vi clog  ### adjust if necessary
#    $ svn ci -F clog
# merges the specified revisions from into the wc and creates a
# suitable changelog.
svn update
LOGNAME="jim"
trunk=`svn info . | gsed -n '/^URL/{s,branches/.*,trunk,;s/^URL: //;s,tc6.0.x/,,;p}'`
revs=
for rev in $*; do
  rev=`echo "${rev}" | tr -Cd '0123456789'`
  test -n "$revs" && revs="${revs}, "
  revs="${revs}r${rev}"
  echo + svn merge -c ${rev} ${trunk}
  svn merge -c ${rev} ${trunk} || exit 1
done
test -f clog && mv -f clog clog~
echo Merge ${revs} from trunk: > clog
author=
for rev in $*; do
  rev=`echo "${rev}" | tr -Cd '0123456789'`
  echo + svn log -r${rev} ${trunk}
  svn log -r${rev} ${trunk} | gsed '1,2d;$d' >> clog
  echo + svn propget svn:author ...
  rauth=`svn propget svn:author --revprop -r ${rev} ${trunk}`
  test -z "${author}" && author="${rauth}"
  test "${rauth}" != "${author}" && author="${author}, ${rauth}"
done
if test "x$author" != "x$LOGNAME"; then
  echo Submitted by: $author >> clog
fi
echo Reviewed/backported by: $LOGNAME >> clog
#patch -p0 < /tmp/svnm.$$
#rm /tmp/svnm.$$
cat clog

--Apple-Mail=_FC49FF73-9DD5-41FD-8E4A-F0BC9A878460
Content-Disposition: attachment;
	filename=svn.record
Content-Type: application/octet-stream;
	name="svn.record"
Content-Transfer-Encoding: 7bit

#!/bin/bash
# svn.merge: tool for merging into a branch a number of specified
# revisions from the trunk.
# 
# Usage: (from a branch working copy)
#    $ svn.merge 200 203 210 220
#    $ vi clog  ### adjust if necessary
#    $ svn ci -F clog
# merges the specified revisions from into the wc and creates a
# suitable changelog.
svn update
LOGNAME="jim"
trunk=`svn info . | gsed -n '/^URL/{s,branches/.*,trunk,;s/^URL: //;s,tc6.0.x/,,;p}'`
revs=
for rev in $*; do
  rev=`echo "${rev}" | tr -Cd '0123456789'`
  test -n "$revs" && revs="${revs}, "
  revs="${revs}r${rev}"
  echo + svn merge -c --record-only ${rev} ${trunk}
  svn merge --record-only -c ${rev} ${trunk} || exit 1
done
test -f clog && mv -f clog clog~
echo Merge ${revs} from trunk: > clog
author=
for rev in $*; do
  rev=`echo "${rev}" | tr -Cd '0123456789'`
  echo + svn log -r${rev} ${trunk}
  svn log -r${rev} ${trunk} | gsed '1,2d;$d' >> clog
  echo + svn propget svn:author ...
  rauth=`svn propget svn:author --revprop -r ${rev} ${trunk}`
  test -z "${author}" && author="${rauth}"
  test "${rauth}" != "${author}" && author="${author}, ${rauth}"
done
if test "x$author" != "x$LOGNAME"; then
  echo Submitted by: $author >> clog
fi
echo Reviewed/backported by: $LOGNAME >> clog
#patch -p0 < /tmp/svnm.$$
#rm /tmp/svnm.$$
cat clog

--Apple-Mail=_FC49FF73-9DD5-41FD-8E4A-F0BC9A878460
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=us-ascii


> On Mar 2, 2016, at 2:10 PM, Jim Jagielski <jim@jaguNET.com> wrote:
> 
> yeah, I use svn.merge and svn.record (for those cases where
> I use a actual patch file, but want to record the SVN metadata)
> 
> 


--Apple-Mail=_FC49FF73-9DD5-41FD-8E4A-F0BC9A878460--

From dev-return-85772-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 22:08:48 2016
Return-Path: <dev-return-85772-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 39A7018060
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 22:08:48 +0000 (UTC)
Received: (qmail 54884 invoked by uid 500); 2 Mar 2016 22:08:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54814 invoked by uid 500); 2 Mar 2016 22:08:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54804 invoked by uid 99); 2 Mar 2016 22:08:47 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 22:08:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 5F6D9C6D0C
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 22:08:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ukOta99x5T9y for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 22:08:45 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 1796C5FD9E
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 22:08:45 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 555A920581
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 23:08:37 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id yoDgkMMZ_Ckj for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 23:08:37 +0100 (CET)
Received: from [10.0.0.1] (CPE-121-218-89-109.lnse4.ken.bigpond.net.au [121.218.89.109])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 39F80200B8
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 23:08:35 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: httpd-trunk/modules/http2/NWGNUmod_http2 svn EOL Setting
Message-ID: <56D76455.7060400@gknw.net>
Date: Thu, 3 Mar 2016 09:08:21 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/M,
Could someone with a few free seconds set the
  httpd-trunk/modules/http2/NWGNUmod_http2
file to have the appropriate svn EOL setting?

TIA
Norm

From dev-return-85773-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 22:14:31 2016
Return-Path: <dev-return-85773-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 474B7180F4
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 22:14:31 +0000 (UTC)
Received: (qmail 81582 invoked by uid 500); 2 Mar 2016 22:14:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 81519 invoked by uid 500); 2 Mar 2016 22:14:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 81505 invoked by uid 99); 2 Mar 2016 22:14:25 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 22:14:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 69D47C0091
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 22:14:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id NQswU5uqZXaP for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 22:14:23 +0000 (UTC)
Received: from mail-qk0-f180.google.com (mail-qk0-f180.google.com [209.85.220.180])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 612C75F39C
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 22:14:23 +0000 (UTC)
Received: by mail-qk0-f180.google.com with SMTP id s68so1393773qkh.3
        for <dev@httpd.apache.org>; Wed, 02 Mar 2016 14:14:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=5qf43wXip1z4JzouxlDZ2iK6EAffCHyBHdd3ofMrALQ=;
        b=HdZN/+euBSDJnuOiqwoVygPZd73hL6MTPigFmsLUOOyaVpJxI16JIpksSJubW8QN1j
         p3Jo1FjQmB+OozFa9L4VLQyI/l0oqclJGUNsoDYWJrXwMHa3CEyXcLjdlMpqryGunE0d
         CMw7pKOkMoqHKVSLEKKDWZuN3O2UcV2YRdcZ5E/38Fl8Ydc2/LKNIaWlBtPV3SawFbbM
         CKNyuEOUxAj44CIGkDkfjORieey0uJeDkQWPKtS6Y5xRYL0uzp8J0r4tbhoQZCAtYn2B
         NTSmCEqaFRecZ3NJcwAL6Xa65irs3w3lznnHbXhhQcf5PqlmT1zbLM+zdsVcWWxlblDW
         31dg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=5qf43wXip1z4JzouxlDZ2iK6EAffCHyBHdd3ofMrALQ=;
        b=YviVpuXgW6Yy6YLhSzWlq6GrzXO5H74ghfEBFV+eTjz/TBngvMTknx1USSInxDoqRN
         xfqIhCA4JPgMtB0+qQxwz8llqY4P/k1aHDhpqaDPyoyMJ7NsnYUt5pyl4rYGAWU6fg/N
         KgveEj2T0lLN4gH2e564J8+Q/6bzBQScxu55XTBs4P8vcLgECL0/yxEUkagPQmucWDaQ
         5sVILf1mAi5erkFvWeVXICN363BaDZQXLCf2nAS/c23vbwR8U8trVz/dOJrGy4TKOu81
         5AQjno9UWHmyNKt3qxS24O8q2FacIA7hdCXltiUxHBlIHv0ToXTb1JpWpRUCqFz2zWy2
         tJIg==
X-Gm-Message-State: AD7BkJKODv/IgRtZLRdPnjEeTOdz3/yRCTrf7A+C0cO1CrYZ/sfOXola0tr8inf1874VdPjMi9r+Aa0kFYmvtw==
MIME-Version: 1.0
X-Received: by 10.55.75.203 with SMTP id y194mr37071680qka.2.1456956862886;
 Wed, 02 Mar 2016 14:14:22 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 2 Mar 2016 14:14:22 -0800 (PST)
In-Reply-To: <56D76455.7060400@gknw.net>
References: <56D76455.7060400@gknw.net>
Date: Wed, 2 Mar 2016 23:14:22 +0100
Message-ID: <CAKQ1sVOJgKZkK5SkoZ-YYNCAbXHA4J4gU9FHF=P7rLXTGA7bZA@mail.gmail.com>
Subject: Re: httpd-trunk/modules/http2/NWGNUmod_http2 svn EOL Setting
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 2, 2016 at 11:08 PM, NormW <normw@gknw.net> wrote:
> G/M,
> Could someone with a few free seconds set the
>  httpd-trunk/modules/http2/NWGNUmod_http2
> file to have the appropriate svn EOL setting?

Done in r1733382.

Regards,
Yann.

From dev-return-85774-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 22:47:43 2016
Return-Path: <dev-return-85774-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 51D7F1831D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 22:47:43 +0000 (UTC)
Received: (qmail 97929 invoked by uid 500); 2 Mar 2016 22:47:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97856 invoked by uid 500); 2 Mar 2016 22:47:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97846 invoked by uid 99); 2 Mar 2016 22:47:37 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 22:47:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5A53C1A1248
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 22:47:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id JxRm48mWNYqZ for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 22:47:35 +0000 (UTC)
Received: from mail-qg0-f54.google.com (mail-qg0-f54.google.com [209.85.192.54])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 133A25FB70
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 22:47:35 +0000 (UTC)
Received: by mail-qg0-f54.google.com with SMTP id u110so3450366qge.3
        for <dev@httpd.apache.org>; Wed, 02 Mar 2016 14:47:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=9XGVqzmXQuSil9kcqYvrNkJ7olZ5O+PUFJgtu4JcJGc=;
        b=VrBOLn+N9OgfMDXcw0LGZ6AdfUwXZMlZnP/3tbvBxGCRddqyoZhDutv+MO6J0OTO8K
         pRZb4jvz5TM26qm2mTPJbcJrHhwadRLrDNMWgLZkxjH6pvBd7adGfuyA4FBPqu1cVYok
         9ymKVj9uJvsdgXV36B68T0yEhIVyKtyLae8ZQs+iQUEfDVYgLQQVCftaV/hMRQiEJtpD
         D/UmtH08IDzLuPOp7yVkIYU+NMFrRF+R21CMGhqZqbjsHdQGcwZLXuZT7tE1TOX/qrOQ
         FjTx+JV8JkhPjZxglopp+2hLgsRw6CJECAYP85fbIG/4gmuBAVQn+/gLMbIgfktAO8JH
         eyoA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=9XGVqzmXQuSil9kcqYvrNkJ7olZ5O+PUFJgtu4JcJGc=;
        b=kontonEFt8KH7sPZm29BjVh5QJtLf3j9ihYp3TIv/1YEtOKhCGA8cx2cIuQXQSObjZ
         gE+72crzE9MEY7UFvM9WNjECdKsKYbVrkR1zRbiVufraKhHxmeSiHcjg7/Uxk2TcOyu4
         2lMSUJ6nMHlad24ECPgGfr+QnZDNesfQHEen9nwGO/GUHjF6hiS4nbeTQ0zxaJVX/Oq1
         KajSIWv+OwlZpSVbXflcCeXoYuOiWoElAWjHZjShcy31jveCncBPnXuVFW2MZXB7jyfX
         FAWABxzpE6JGxiVjrVNQpSvO0r+cdOO03xNj30+BL/OiqlZV7g/gK64rrySeF4RmVOdE
         X8ig==
X-Gm-Message-State: AD7BkJJMVigidq6fV3NW7/mo2Jd01ihiJxxX2WV4M1B95sQUIYxyEKTZkpDjCvTfRpxc8rOsshej3JmWAuRvKQ==
MIME-Version: 1.0
X-Received: by 10.140.161.198 with SMTP id h189mr38772667qhh.24.1456958854345;
 Wed, 02 Mar 2016 14:47:34 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 2 Mar 2016 14:47:34 -0800 (PST)
In-Reply-To: <D9188233-565B-40C8-957E-6FAAC97146FE@jaguNET.com>
References: <CAKQ1sVN=PDhOpzu+NSQj3CndX+VTZd6cxK4Cjqx_q3HTU5mXzQ@mail.gmail.com>
	<D9188233-565B-40C8-957E-6FAAC97146FE@jaguNET.com>
Date: Wed, 2 Mar 2016 23:47:34 +0100
Message-ID: <CAKQ1sVNHm_DJ3Ne6Zsve7JedTSVPCTE_o+8ePtVtR0LWFBDSgQ@mail.gmail.com>
Subject: Re: BalancerPersist "relaxable" checks (was: svn commit: r1733283 - /httpd/httpd/branches/2.4.x/STATUS)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 2, 2016 at 8:08 PM, Jim Jagielski <jim@jagunet.com> wrote:
>
> Hmmm... iirc, if there is a mismatch, the old files are
> automagically removed.

You are right, I was still influenced by PR58024 triggering AH02599
(painful fix), but that was due to the missing unlink() semantic on
Windows...

I still think AH02599 can be triggered on unclean shutdown, with name
based SHMs when the cleanup is not called (this has nothing to do with
mod_proxy_hcheck, though).

Couldn't we use anonymous SHMs for slotmem_shm(s) since we
create/destroy them for each restart anyway?
I don't think the apr_shm_attach() path in slotmem_create() should
ever be hit (thanks to the caching of in 'globallistmem' of the
process' created SHMs, and other processes should use slotmem_attach()
anyway).
Hmm, I may miss some Windows MPM thingy again...

From dev-return-85775-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  2 22:54:08 2016
Return-Path: <dev-return-85775-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D87EA1837F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Mar 2016 22:54:08 +0000 (UTC)
Received: (qmail 13075 invoked by uid 500); 2 Mar 2016 22:54:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13008 invoked by uid 500); 2 Mar 2016 22:54:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12998 invoked by uid 99); 2 Mar 2016 22:54:08 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Mar 2016 22:54:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B396FC6D20
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 22:54:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id QANtRwYzf4Kh for <dev@httpd.apache.org>;
	Wed,  2 Mar 2016 22:54:07 +0000 (UTC)
Received: from mail-qk0-f178.google.com (mail-qk0-f178.google.com [209.85.220.178])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id B95E65FBDB
	for <dev@httpd.apache.org>; Wed,  2 Mar 2016 22:54:06 +0000 (UTC)
Received: by mail-qk0-f178.google.com with SMTP id o6so1774318qkc.2
        for <dev@httpd.apache.org>; Wed, 02 Mar 2016 14:54:06 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=/+5g2d44Qki1pScB0Hhgg9R+rrh3nu8UesHBbiEixq0=;
        b=V+VpaxtY0VfJknTVEBzXObrdS809nDgFizk24K4Jk0FAkF/QvATnybAmJbaY+XKo32
         OjLUBhDjBkhm0nR8JelqHBB3W5TAIzF1ShCASB4/EtshMSgWpRRZ1RVd6RXmI1Uf1czf
         yrD4QAWpLDiZLFdj/kVwFGu8oZZ9bnrOp0z0wZ+Y/CXCTgVW9NY1Kva+513lqx4kkXMP
         YL7dPB+/oZfafY3E/N75L3c8xD41ut1kpvuorkgU3Sc+a5C59pX7aHYyu+vDjScCHlMo
         9PjGxzTox5FLShualAe9GExbwlMFcEtG2aPGKsesg4auNQBhW1aAMcAe8nmLLm4oIyke
         Q4+w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=/+5g2d44Qki1pScB0Hhgg9R+rrh3nu8UesHBbiEixq0=;
        b=SbF4RswB+i4TvlpON9wHS/YueD9CdfuAucxwWW93ksZf3VhQhsQlslm5T81czv4e1X
         VNZpKI5P+PO+FzleNb+4TXUAYbWNJDLT43CZWsNukQ/t+RctdZfz0+kdF+kBPu5bgsF1
         reTAsQbOqfTqCvA/pEKQ4iu0kknS95g1r8CcoqE3KmroGSTE/PJDAyeHQWfrDiojTVKk
         m3s69sl8gNOnsn2j9XOzP/6+ranJvudy3RWddm7d5rpX2AAss4CptL3/UIfz1Vm/6+uX
         E3XFqPyze2Me50BbjrgKFWRsd147CBHGM0sDiOPhYlVlwsHtaZiprjivY4LdECg4iTqh
         gqyA==
X-Gm-Message-State: AD7BkJJ+O+IyrhvT+JuyOiWgXiRIbqfOVssC3V72lLvGvbUWKFB4QoYxqclo0nV0LfDhsw6W2QIsMYiAbLI0DA==
MIME-Version: 1.0
X-Received: by 10.55.26.86 with SMTP id a83mr35575982qka.79.1456959239973;
 Wed, 02 Mar 2016 14:53:59 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Wed, 2 Mar 2016 14:53:59 -0800 (PST)
In-Reply-To: <CAKQ1sVNHm_DJ3Ne6Zsve7JedTSVPCTE_o+8ePtVtR0LWFBDSgQ@mail.gmail.com>
References: <CAKQ1sVN=PDhOpzu+NSQj3CndX+VTZd6cxK4Cjqx_q3HTU5mXzQ@mail.gmail.com>
	<D9188233-565B-40C8-957E-6FAAC97146FE@jaguNET.com>
	<CAKQ1sVNHm_DJ3Ne6Zsve7JedTSVPCTE_o+8ePtVtR0LWFBDSgQ@mail.gmail.com>
Date: Wed, 2 Mar 2016 23:53:59 +0100
Message-ID: <CAKQ1sVP9k+fR4o4L74K4GQV6o+CPbfZPTSX5-fo4OmFj2YNuKQ@mail.gmail.com>
Subject: Re: BalancerPersist "relaxable" checks (was: svn commit: r1733283 - /httpd/httpd/branches/2.4.x/STATUS)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 2, 2016 at 11:47 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Wed, Mar 2, 2016 at 8:08 PM, Jim Jagielski <jim@jagunet.com> wrote:
>>
>> Hmmm... iirc, if there is a mismatch, the old files are
>> automagically removed.
>
> You are right, I was still influenced by PR58024 triggering AH02599
> (painful fix), but that was due to the missing unlink() semantic on
> Windows...
>
> I still think AH02599 can be triggered on unclean shutdown, with name
> based SHMs when the cleanup is not called (this has nothing to do with
> mod_proxy_hcheck, though).
>
> Couldn't we use anonymous SHMs for slotmem_shm(s) since we
> create/destroy them for each restart anyway?
> I don't think the apr_shm_attach() path in slotmem_create() should
> ever be hit (thanks to the caching of in 'globallistmem' of the
> process' created SHMs, and other processes should use slotmem_attach()
> anyway).
> Hmm, I may miss some Windows MPM thingy again...

Nevermind, we still need to attach() in children processes!

From dev-return-85776-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  3 14:39:01 2016
Return-Path: <dev-return-85776-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5A23818F91
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Mar 2016 14:39:01 +0000 (UTC)
Received: (qmail 38063 invoked by uid 500); 3 Mar 2016 14:38:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37989 invoked by uid 500); 3 Mar 2016 14:38:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37979 invoked by uid 99); 3 Mar 2016 14:38:55 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2016 14:38:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 324BDC14B1
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 14:38:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id sFe7cTBwsESI for <dev@httpd.apache.org>;
	Thu,  3 Mar 2016 14:38:52 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id EA7BF5F3F1
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 14:38:51 +0000 (UTC)
Received: by mail-qg0-f52.google.com with SMTP id t4so18352919qge.0
        for <dev@httpd.apache.org>; Thu, 03 Mar 2016 06:38:51 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-transfer-encoding;
        bh=ocnHQBfOSd5IkGxeEiM1H7xjhfs2sV4D1ExriTRzBUA=;
        b=FB17ilff6/kflLPM9Cjy6f49pLq0Wg+k2FgLWE6DDFSOzKEG2lxrbvFq8j95pXVslX
         ZvNjuTuLFacosrIV4BGm6rA6graMa6Mpm/FGoOmboql0FmiHa3bJDKEw1pKPdfXVx9kb
         ijSjy8P5m4ValOrTuRBmKyw3cg5c9IBkWFyNfqD6aGUD53wtCtxZWl3x/jJ7zhIphYoF
         fdbK/HiK2ELsDtndykuZ/FGa+UqEujrgag3VZG7YpI/USqHJ5AUUAOxetzzINIuC+fmW
         PssGJskChrFPD2NksR3eXxioDGF5I5LxCiy49hMs7wWUp4Bkzm/MIXBy421f9d7ZTNv5
         AVHQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-transfer-encoding;
        bh=ocnHQBfOSd5IkGxeEiM1H7xjhfs2sV4D1ExriTRzBUA=;
        b=lWBlOsNwzqPpAaW1VdHhYFAImkmh+8/DQy3NyJGLo5EZcTBdCdMTBoNfh+/v6xH6Cj
         JBj0VVS0nZ1QUTu3ylnuPlW5fINxeCUb1pk4yZy+sXe6Q2n8GUXy7XgY7BlmSErygrwX
         sZLmToPVcuDIJARwm9DeuSO3lofRzqdXoIo4MAuP6SSBMwL/6+ViYjGyZ3mXFl8yXsWC
         XwrZdTKWrq4C98ASMK3s/jqYcdTdK8g6XqSjjex5QL48Vcl/lfsfY4T9CAA9z6lLEOb6
         ntTcOUH4KI5vFv/iCWJvyJzujEsCEvUBvYdjb4XDSEj6hmTX9f0ikSxvTRQ3Gsyl9/ZY
         1Hag==
X-Gm-Message-State: AD7BkJL9tMTL1aw6uSIT5s4g7gC+MqsEfLotD1Cw0SUGwQlUZBIFmX0LozLnY+MJkc9spVkfV9ajheLjJyryrw==
MIME-Version: 1.0
X-Received: by 10.140.20.183 with SMTP id 52mr3452143qgj.38.1457015930484;
 Thu, 03 Mar 2016 06:38:50 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Thu, 3 Mar 2016 06:38:50 -0800 (PST)
In-Reply-To: <EE6E3C1F-2C60-4AA5-901D-95F101B0F21C@sharp.fm>
References: <35DA6E0F-5A78-40D8-B9A7-F6398606EEE2@sharp.fm>
	<CAKQ1sVP2X0p1UcGRfAB7CkpxjJcxJqPzfnwAwq6nGQ3fOOV3dA@mail.gmail.com>
	<CAKQ1sVNzxwLnYMqhAJpOUEY5-pSRp=RS_-Q68Yz6OqnjqUwygQ@mail.gmail.com>
	<EE6E3C1F-2C60-4AA5-901D-95F101B0F21C@sharp.fm>
Date: Thu, 3 Mar 2016 15:38:50 +0100
Message-ID: <CAKQ1sVNFAbzAaMyMXMf=VGZws2VrwHiRRyq-Qhu=cTcT=eskZw@mail.gmail.com>
Subject: Re: conn_rec needs a context
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Mar 2, 2016 at 5:20 PM, Graham Leggett <minfrin@sharp.fm> wrote:
> On 02 Mar 2016, at 2:26 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
>>>> Would it make sense to add a vector of contexts that same way we have =
a vector of configs, one slot for each module, which will allow any module =
to add a context of it=E2=80=99s own to conn_rec without having to extend c=
onn_rec?
>>>
>>> Can't the existing ap_[gs]et_module_config(c->conn_config, ...) be
>>> used for that purpose?
>>
>> I mean, put the context in the module config?
>
> If we can it would be great - but is there an API guarantee that the memo=
ry pointed to by the config is a per-connection copy of the config, and not=
 the raw underlying server wide config instead?

Hmm, not sure to follow...
The server_config is indeed pconf wide, per_dir_config is either pconf
(untouched) or request (merges) wide, but conn_config and
request_config are to be allocated explicitly by each module on the
relevant pool, nothing automagic for them AFAICT.

Would you like a per conn/request context which is automatically
allocated for all the modules, and which does not collide with the
existing conn/request configs eventually used by the modules?
Where would ap_get_module_context(c->conn_context, <themodule>) be
called from, in some "core" code or by each module?
In the former case I'd see the need for it (I suspect this is what you want=
).
But otherwise it could be handled by each module in its own _config.
Hard to say w/o more details or code...

FWIW, the http_module has no conn/request_config so far, couldn't you
simply use:
   ctx =3D ap_get_module_config(c->conn_config, &http_module)
in the ap_process_http_connection() hook?

Regards,
Yann.

From dev-return-85777-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  3 14:58:10 2016
Return-Path: <dev-return-85777-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8D0EE1806A
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Mar 2016 14:58:10 +0000 (UTC)
Received: (qmail 95921 invoked by uid 500); 3 Mar 2016 14:58:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95865 invoked by uid 500); 3 Mar 2016 14:58:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95854 invoked by uid 99); 3 Mar 2016 14:58:10 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2016 14:58:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 9EDFCC1494
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 14:58:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id LWDufX1WXeEF for <dev@httpd.apache.org>;
	Thu,  3 Mar 2016 14:58:08 +0000 (UTC)
Received: from resqmta-po-03v.sys.comcast.net (resqmta-po-03v.sys.comcast.net [96.114.154.162])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 6334A5F572
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 14:58:08 +0000 (UTC)
Received: from resomta-po-04v.sys.comcast.net ([96.114.154.228])
	by resqmta-po-03v.sys.comcast.net with comcast
	id RSxb1s0024vw8ds01Sy0f4; Thu, 03 Mar 2016 14:58:00 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-04v.sys.comcast.net with comcast
	id RSxz1s00H2U0RYt01Sy0kz; Thu, 03 Mar 2016 14:58:00 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: conn_rec needs a context
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVNFAbzAaMyMXMf=VGZws2VrwHiRRyq-Qhu=cTcT=eskZw@mail.gmail.com>
Date: Thu, 3 Mar 2016 09:57:59 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <76E5C340-BA2F-450F-9A92-396F2F8A7AB4@jaguNET.com>
References: <35DA6E0F-5A78-40D8-B9A7-F6398606EEE2@sharp.fm> <CAKQ1sVP2X0p1UcGRfAB7CkpxjJcxJqPzfnwAwq6nGQ3fOOV3dA@mail.gmail.com> <CAKQ1sVNzxwLnYMqhAJpOUEY5-pSRp=RS_-Q68Yz6OqnjqUwygQ@mail.gmail.com> <EE6E3C1F-2C60-4AA5-901D-95F101B0F21C@sharp.fm> <CAKQ1sVNFAbzAaMyMXMf=VGZws2VrwHiRRyq-Qhu=cTcT=eskZw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1457017080;
	bh=YrJDJl+OvrSJoF4suA1gV5kXbwlib9aAtdSRClXU3u0=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=qIjjCJF0idgHD5k69NheKtbkjZ4NNvXvRbRd4Vqe7BlElKYQjijsxPsTJ8DE8fUtJ
	 vpsz9uiwf1ha9QgBu2r6oqbg9HiX5WMFLn3d5+MPKJ51hP6lEHmuawfQ11obVsSaUj
	 r0A8qWShfvfVnb2JJhUdvJQimWIofPqo6OzSUnu030MX+AGMiPVQ4pPInzsiHP5k28
	 HEQ1onm8E6WblNfVJh5jvyWxbpu15xU/Ei+WF90ijBZPdVIABte4t0eZrI/YpRpiFA
	 18z/D5DKY7xbwkVNJfQLpOzWeThtvjihvM8oQXx8JJx1Q4qpKOoyvkz/I2igbt5+PE
	 D7vi5ysJTQd8Q==

    /** Config vector containing pointers to connections per-server
     *  config structures. */
    struct ap_conf_vector_t *conn_config;


From dev-return-85778-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  3 15:21:41 2016
Return-Path: <dev-return-85778-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BCC14181B9
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Mar 2016 15:21:41 +0000 (UTC)
Received: (qmail 45828 invoked by uid 500); 3 Mar 2016 15:21:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 45759 invoked by uid 500); 3 Mar 2016 15:21:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45749 invoked by uid 99); 3 Mar 2016 15:21:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2016 15:21:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id BEFB8C0585
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 15:21:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id WdQSJqG3GAYb for <dev@httpd.apache.org>;
	Thu,  3 Mar 2016 15:21:40 +0000 (UTC)
Received: from mail-qk0-f181.google.com (mail-qk0-f181.google.com [209.85.220.181])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 736B65F570
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 15:21:39 +0000 (UTC)
Received: by mail-qk0-f181.google.com with SMTP id x1so9358898qkc.1
        for <dev@httpd.apache.org>; Thu, 03 Mar 2016 07:21:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=QtBcPewPJYPqGthm2XlAGqAZOfXv6WO1nYnFFbS8PHA=;
        b=OOmBlCBtwAYVoA81N+5K9fGGFeP0o1dFghOnpdmFKahH+9WgiQpBdi/KyAWsIHtAZ7
         3NguBLDpMRK0YoZ2Tt0Jo79i8TTDzcZTEx4AeL8gFMq89AcXbkprhch84FjlavYwdHaq
         a4VtwlMsCct8/paie1MWlXqUo4X/kpcpWmNxu3pG3mffbOqGvLzRT8UpFysf0z6z3gzI
         MdXNXExyeli7g8eHHBsjS1dIZ3CWSm8INojgoxBqNjCBjG+gGB1/Sia9QxC0grH6SnCf
         lRgibujb7Vegz12e8/l/NExzSv1hGUi3wEJxjuuW9X0WKKr02eCqwXveP6Ij+1sTTW1Z
         F/Rg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=QtBcPewPJYPqGthm2XlAGqAZOfXv6WO1nYnFFbS8PHA=;
        b=KoRR55elsoa9OQkrrIiTDosF12ICoXji4GzoK37UbSEpgp40OOVal51TEt1fix0osX
         ivYAGQmb7vVbAXfLvRy7lZv6Lz2wez0XD8AkiatWGCyIq1xhK/jxFPpMu+OyP2W9ybok
         8bxDipuEeIqTlytUYxFegW0rz0Wiqmzh+SKE5EXK3Vx6ZwUtb3bmal+soJRTtNL2bTKT
         av/+6+wgGWkWgUUbYO7eo0PMxZ8xbxHPTkIERVAGH3emfMiYibCGuET31B1uL0+6DgcD
         BTc1gFE5d3Pv5i2ne7dpZxGaGWtYDR4gImbbqvWjnrnaJpftezrRMgVbg0XJ8brR4XuM
         YAhg==
X-Gm-Message-State: AD7BkJLuYufOmWnAUqFegVTFwzGWI/FtIfRGJmypKVGGMHKAk738QakJVBTa48B8q8nVE+chwSykuodJQiZgpQ==
MIME-Version: 1.0
X-Received: by 10.55.26.86 with SMTP id a83mr3560876qka.79.1457018498531; Thu,
 03 Mar 2016 07:21:38 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Thu, 3 Mar 2016 07:21:38 -0800 (PST)
In-Reply-To: <76E5C340-BA2F-450F-9A92-396F2F8A7AB4@jaguNET.com>
References: <35DA6E0F-5A78-40D8-B9A7-F6398606EEE2@sharp.fm>
	<CAKQ1sVP2X0p1UcGRfAB7CkpxjJcxJqPzfnwAwq6nGQ3fOOV3dA@mail.gmail.com>
	<CAKQ1sVNzxwLnYMqhAJpOUEY5-pSRp=RS_-Q68Yz6OqnjqUwygQ@mail.gmail.com>
	<EE6E3C1F-2C60-4AA5-901D-95F101B0F21C@sharp.fm>
	<CAKQ1sVNFAbzAaMyMXMf=VGZws2VrwHiRRyq-Qhu=cTcT=eskZw@mail.gmail.com>
	<76E5C340-BA2F-450F-9A92-396F2F8A7AB4@jaguNET.com>
Date: Thu, 3 Mar 2016 16:21:38 +0100
Message-ID: <CAKQ1sVNWAmQs+rEfSAXHTsFtCcBBhEMRh0Y49QURYHQ5Ldq0ZA@mail.gmail.com>
Subject: Re: conn_rec needs a context
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Mar 3, 2016 at 3:57 PM, Jim Jagielski <jim@jagunet.com> wrote:
>     /** Config vector containing pointers to connections per-server
>      *  config structures. */
>     struct ap_conf_vector_t *conn_config;

Yes, this is opaque, and turns out to be a implemented as void**.
We could even make it a struct if we'd want 2 "batons" per module,
with something like:
  struct ap_conf_vector_t {
      void *config;
      void *context;
  };
in server/config.c, without breaking the API (since it is opaque).
And then let ap_get_module_config/context() use the existing
conn/request_config.
Another vector might be better/simpler/safer, though.

Still I'm not sure to understand the use case for now...

From dev-return-85779-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  3 15:24:03 2016
Return-Path: <dev-return-85779-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 45D87181F1
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Mar 2016 15:24:03 +0000 (UTC)
Received: (qmail 60990 invoked by uid 500); 3 Mar 2016 15:24:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60926 invoked by uid 500); 3 Mar 2016 15:24:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60916 invoked by uid 99); 3 Mar 2016 15:24:02 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2016 15:24:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id EADBB1A053B
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 15:24:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.161
X-Spam-Level: ***
X-Spam-Status: No, score=3.161 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_BL=0.01, RCVD_IN_MSPIKE_L3=2.499, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id qcPlUSLC4WB3 for <dev@httpd.apache.org>;
	Thu,  3 Mar 2016 15:24:01 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 66B545F571
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 15:24:01 +0000 (UTC)
Received: from resomta-po-11v.sys.comcast.net ([96.114.154.235])
	by resqmta-po-05v.sys.comcast.net with comcast
	id RTPu1s00354zqzk01TPux4; Thu, 03 Mar 2016 15:23:54 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-11v.sys.comcast.net with comcast
	id RTPs1s00G2U0RYt01TPt2A; Thu, 03 Mar 2016 15:23:53 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: conn_rec needs a context
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <76E5C340-BA2F-450F-9A92-396F2F8A7AB4@jaguNET.com>
Date: Thu, 3 Mar 2016 10:23:52 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <DF05F0D5-4774-4C07-BA8B-F426C5BCAB1C@jaguNET.com>
References: <35DA6E0F-5A78-40D8-B9A7-F6398606EEE2@sharp.fm> <CAKQ1sVP2X0p1UcGRfAB7CkpxjJcxJqPzfnwAwq6nGQ3fOOV3dA@mail.gmail.com> <CAKQ1sVNzxwLnYMqhAJpOUEY5-pSRp=RS_-Q68Yz6OqnjqUwygQ@mail.gmail.com> <EE6E3C1F-2C60-4AA5-901D-95F101B0F21C@sharp.fm> <CAKQ1sVNFAbzAaMyMXMf=VGZws2VrwHiRRyq-Qhu=cTcT=eskZw@mail.gmail.com> <76E5C340-BA2F-450F-9A92-396F2F8A7AB4@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1457018634;
	bh=gkkNvCoGS84P/OkPlQgKMAP4rK8DZRMVIp2stNCPbA4=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=iEjQIbG9+ZG2+fKBA0eKIc+4b7xBrqcXISXQA1AYajJT/C7ypARYAcWAiTdGKX/rP
	 vuBoaMs0pPYzBJEWcikLK6HZcFU0rdIkufdlKijFbX4GoziBK6WcoP1HmkXQEY5EmF
	 +XnHtwD/jt/uAnkcUzeecv9aUKEEDYpPPUBPrBk3wbFMHyTmDSouqnNzMt9XiKtkv/
	 UX3Z2TiHtqiQxr6dnqhBhKub6fRMauxxVlP88vDMYKDtZOu1IUTTiQAg3AeikDARx6
	 TkoDwta6nFryBt0GzGb/s5Zooj8JtO//Y/JSKMotustGMcPi1z8nLQqf+o/EuqtZJY
	 GGrtUU6YtSvoQ==

Forgot to mention that it's created w/ ptrans which is c->pool

> On Mar 3, 2016, at 9:57 AM, Jim Jagielski <jim@jaguNET.com> wrote:
> 
>    /** Config vector containing pointers to connections per-server
>     *  config structures. */
>    struct ap_conf_vector_t *conn_config;
> 


From dev-return-85780-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  3 15:31:08 2016
Return-Path: <dev-return-85780-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CF33C18262
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Mar 2016 15:31:08 +0000 (UTC)
Received: (qmail 83444 invoked by uid 500); 3 Mar 2016 15:31:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83381 invoked by uid 500); 3 Mar 2016 15:31:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83371 invoked by uid 99); 3 Mar 2016 15:31:03 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2016 15:31:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 85938C14E2
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 15:31:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.262
X-Spam-Level:
X-Spam-Status: No, score=0.262 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RDNS_DYNAMIC=0.363, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=kgrSqKnn;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=kgrSqKnn
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id bIu6lDwGeTVL for <dev@httpd.apache.org>;
	Thu,  3 Mar 2016 15:31:00 +0000 (UTC)
Received: from mail.greenbytes.de (b2b-5-10-171-186.unitymedia.biz [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 0952A5F572
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 15:30:59 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id EFB9915A2E87; Thu,  3 Mar 2016 16:30:51 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457019051; bh=6ap1iXIN0zU7Y2/6RXbv07rylDQ2BQqILJj0Bkh7KBg=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=kgrSqKnnj+ac7uZIuGKB6W8AvDsLON7XR7l8aXHRkkRpMx0rDAPtXsZsPNN0W89Uj
	 GvjacBOmH6Vgr4LJuLb1sesoiYE3cQs3rRCFhRn9Bd0VXKpBWMf2ihtWstfFFlH9h8
	 vjcVLnQvnOKaSMJZXzYaUxl0oNUwSka4ctvHl8u0=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 835C315A06FC
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 16:30:51 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457019051; bh=6ap1iXIN0zU7Y2/6RXbv07rylDQ2BQqILJj0Bkh7KBg=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=kgrSqKnnj+ac7uZIuGKB6W8AvDsLON7XR7l8aXHRkkRpMx0rDAPtXsZsPNN0W89Uj
	 GvjacBOmH6Vgr4LJuLb1sesoiYE3cQs3rRCFhRn9Bd0VXKpBWMf2ihtWstfFFlH9h8
	 vjcVLnQvnOKaSMJZXzYaUxl0oNUwSka4ctvHl8u0=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: conn_rec needs a context
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVNWAmQs+rEfSAXHTsFtCcBBhEMRh0Y49QURYHQ5Ldq0ZA@mail.gmail.com>
Date: Thu, 3 Mar 2016 16:30:51 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <A8D9E596-C5AC-4F92-8FEA-EF65E5F1C151@greenbytes.de>
References: <35DA6E0F-5A78-40D8-B9A7-F6398606EEE2@sharp.fm> <CAKQ1sVP2X0p1UcGRfAB7CkpxjJcxJqPzfnwAwq6nGQ3fOOV3dA@mail.gmail.com> <CAKQ1sVNzxwLnYMqhAJpOUEY5-pSRp=RS_-Q68Yz6OqnjqUwygQ@mail.gmail.com> <EE6E3C1F-2C60-4AA5-901D-95F101B0F21C@sharp.fm> <CAKQ1sVNFAbzAaMyMXMf=VGZws2VrwHiRRyq-Qhu=cTcT=eskZw@mail.gmail.com> <76E5C340-BA2F-450F-9A92-396F2F8A7AB4@jaguNET.com> <CAKQ1sVNWAmQs+rEfSAXHTsFtCcBBhEMRh0Y49QURYHQ5Ldq0ZA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> Am 03.03.2016 um 16:21 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Thu, Mar 3, 2016 at 3:57 PM, Jim Jagielski <jim@jagunet.com> wrote:
>>    /** Config vector containing pointers to connections per-server
>>     *  config structures. */
>>    struct ap_conf_vector_t *conn_config;
>=20
> Yes, this is opaque, and turns out to be a implemented as void**.
> We could even make it a struct if we'd want 2 "batons" per module,
> with something like:
>  struct ap_conf_vector_t {
>      void *config;
>      void *context;
>  };
> in server/config.c, without breaking the API (since it is opaque).
> And then let ap_get_module_config/context() use the existing
> conn/request_config.
> Another vector might be better/simpler/safer, though.
>=20
> Still I'm not sure to understand the use case for now...

I think we confuse ourselves with the wording here. As I understand it, =
almost all modules store connection context information in that vector. =
In that sense, it is *their* internal configuration for the connection, =
not necessarily the same as is stored at other config locations, such as =
server or request.

Some ap_conf_vectors are populated by the runtime for all modules =
participating (like server_rec->module_config), some are not. The ones =
in conn_rec ->conn_config are only directly set by a module and the =
module determines what does there.
And what a module stores there can be a process wide singleton or =
something with the lifetime of the conn_rec->pool, it's up to the =
module.

That is how I understand it. And I hope that I'm right, but if not, =
please explain what I missed, since mod_http2 makes very much use of =
this...

-Stefan


From dev-return-85781-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  3 15:40:16 2016
Return-Path: <dev-return-85781-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D2F29182E2
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Mar 2016 15:40:16 +0000 (UTC)
Received: (qmail 15341 invoked by uid 500); 3 Mar 2016 15:40:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15262 invoked by uid 500); 3 Mar 2016 15:40:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15252 invoked by uid 99); 3 Mar 2016 15:40:16 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2016 15:40:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 1823F1A0744
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 15:40:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id sVm_sQOcAhHT for <dev@httpd.apache.org>;
	Thu,  3 Mar 2016 15:40:14 +0000 (UTC)
Received: from mail-qk0-f182.google.com (mail-qk0-f182.google.com [209.85.220.182])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 8681C5F39E
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 15:40:14 +0000 (UTC)
Received: by mail-qk0-f182.google.com with SMTP id o6so9567634qkc.2
        for <dev@httpd.apache.org>; Thu, 03 Mar 2016 07:40:14 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=kENZbOGgmYubunSd4dRzjaOyn0ftfEI70967Obz1cts=;
        b=iErH5E7nwvwGxZE3teUwbkvr0/0RO6AKKklCc3RSZezjkwQSnuvBEiFQ0YmGpt47VX
         uOYrZKP+jdmSfJCQoLaKe51VxDCFwVfN4tVJRLpdTpUvC0kG13UkroKWvvPZVI8BFj7t
         GC3/PIYYqLJQ68W6d+egyhWKbrDjMPb4+RcHQ7QRlKTr02kDZZDrg+YWRbBurewj94P7
         W9aRKvL+JEey5qozTO3URfVp5SebiYhsWq2zZ0D+zBBXIgsrPG5XlAnFVdrhea46CTcl
         Vs94S8n0xkDVOGH7BgLjO0sWBjDFIJHiLiFsRGYVPVnAVoC/vpM/FoPIr7H2rmMmTwLL
         iPcw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=kENZbOGgmYubunSd4dRzjaOyn0ftfEI70967Obz1cts=;
        b=gvf3znZLHK7QiUqLRfJ0RVtpx/RGpabOgsussaMzK2Yypyks5o3U3WeaJta42KwUjk
         bHlv8XguOu/16vi2Vyf8K9DXzYMoiVRAj2TY0V8jxxNSYzhnJpU8z+u1Jg8QJaMuO96u
         fkBhIJCWw6Re2uWyin/64HcnPH8wIQBpUXoyyl7ZUg3cF9vmhnBYgVDECnO35Hy/GJu0
         lXcHuoCIkaAHrJuF85HnuDGssFpYslaiThTOhqjM1DzF3ecf6yMwWrhtnz8sVjX/tV4D
         b1ucfmmGve6Rpmx8hDc2/eWblFVZfx/D435+qszncRl0bDE0K+QT5/EhJA5G4Ruui+ru
         SSLg==
X-Gm-Message-State: AD7BkJJ04sR4uXPICXDF9Azwjv6LiJ9Jp4NMu3aPrzReFz6T5dK6PsAs7dvCT2JDOZXumz+BYNnMiiJ6qLmqXQ==
MIME-Version: 1.0
X-Received: by 10.55.73.68 with SMTP id w65mr3801173qka.68.1457019607968; Thu,
 03 Mar 2016 07:40:07 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Thu, 3 Mar 2016 07:40:07 -0800 (PST)
In-Reply-To: <A8D9E596-C5AC-4F92-8FEA-EF65E5F1C151@greenbytes.de>
References: <35DA6E0F-5A78-40D8-B9A7-F6398606EEE2@sharp.fm>
	<CAKQ1sVP2X0p1UcGRfAB7CkpxjJcxJqPzfnwAwq6nGQ3fOOV3dA@mail.gmail.com>
	<CAKQ1sVNzxwLnYMqhAJpOUEY5-pSRp=RS_-Q68Yz6OqnjqUwygQ@mail.gmail.com>
	<EE6E3C1F-2C60-4AA5-901D-95F101B0F21C@sharp.fm>
	<CAKQ1sVNFAbzAaMyMXMf=VGZws2VrwHiRRyq-Qhu=cTcT=eskZw@mail.gmail.com>
	<76E5C340-BA2F-450F-9A92-396F2F8A7AB4@jaguNET.com>
	<CAKQ1sVNWAmQs+rEfSAXHTsFtCcBBhEMRh0Y49QURYHQ5Ldq0ZA@mail.gmail.com>
	<A8D9E596-C5AC-4F92-8FEA-EF65E5F1C151@greenbytes.de>
Date: Thu, 3 Mar 2016 16:40:07 +0100
Message-ID: <CAKQ1sVMkJrKRdwLDR9KcVpaw53JC12cwL65JpiK=-q2-hfGPSg@mail.gmail.com>
Subject: Re: conn_rec needs a context
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Mar 3, 2016 at 4:30 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
>
> Some ap_conf_vectors are populated by the runtime for all modules participating (like server_rec->module_config), some are not. The ones in conn_rec ->conn_config are only directly set by a module and the module determines what does there.
> And what a module stores there can be a process wide singleton or something with the lifetime of the conn_rec->pool, it's up to the module.

+1

From dev-return-85782-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  3 16:15:27 2016
Return-Path: <dev-return-85782-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2EF64184CB
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Mar 2016 16:15:27 +0000 (UTC)
Received: (qmail 56103 invoked by uid 500); 3 Mar 2016 16:15:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56037 invoked by uid 500); 3 Mar 2016 16:15:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56027 invoked by uid 99); 3 Mar 2016 16:15:26 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2016 16:15:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 2F5081A0725
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 16:15:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id fzqzhjaXEczt for <dev@httpd.apache.org>;
	Thu,  3 Mar 2016 16:15:23 +0000 (UTC)
Received: from resqmta-po-12v.sys.comcast.net (resqmta-po-12v.sys.comcast.net [96.114.154.171])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 8557D5F39E
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 16:15:23 +0000 (UTC)
Received: from resomta-po-10v.sys.comcast.net ([96.114.154.234])
	by resqmta-po-12v.sys.comcast.net with comcast
	id RUEi1s00453iAfU01UFGqm; Thu, 03 Mar 2016 16:15:16 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-10v.sys.comcast.net with comcast
	id RUFF1s00E2U0RYt01UFF4U; Thu, 03 Mar 2016 16:15:16 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: conn_rec needs a context
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <A8D9E596-C5AC-4F92-8FEA-EF65E5F1C151@greenbytes.de>
Date: Thu, 3 Mar 2016 11:15:15 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <C3EC5B36-F3D5-4BAF-A986-C1E32DF08DEC@jaguNET.com>
References: <35DA6E0F-5A78-40D8-B9A7-F6398606EEE2@sharp.fm> <CAKQ1sVP2X0p1UcGRfAB7CkpxjJcxJqPzfnwAwq6nGQ3fOOV3dA@mail.gmail.com> <CAKQ1sVNzxwLnYMqhAJpOUEY5-pSRp=RS_-Q68Yz6OqnjqUwygQ@mail.gmail.com> <EE6E3C1F-2C60-4AA5-901D-95F101B0F21C@sharp.fm> <CAKQ1sVNFAbzAaMyMXMf=VGZws2VrwHiRRyq-Qhu=cTcT=eskZw@mail.gmail.com> <76E5C340-BA2F-450F-9A92-396F2F8A7AB4@jaguNET.com> <CAKQ1sVNWAmQs+rEfSAXHTsFtCcBBhEMRh0Y49QURYHQ5Ldq0ZA@mail.gmail.com> <A8D9E596-C5AC-4F92-8FEA-EF65E5F1C151@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1457021716;
	bh=tcFbdBNS7a7kh7qJzg3Eeyov3S3CKBPkFmEYPYKuZKc=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=K3zA0A24tB0bAaKMddEy4tRaVto4NGmBMwsqjgg1znRcThKZYczhDrDalinyMUHHp
	 sgNcMrSeMhIOF2HSXdwhZUSLYXfz0a844fR4MdUlcp5JtpCNwB7xyJRJOYETdqBq7W
	 vcNcKf3XIxDbak683a6ksm3EbQ81sRQAJrvOYvrBQWMPkNXmjUIAeBszVvTwpxwMdL
	 xGMoIfkvjhNWqU97Ov7+3hqdTp+zXGu2wSxZOcqB0OfJKUr8oLNxGie6HDOxrsl2mq
	 wCIqqRQTXLoBciK56B86oQwjpcmD6YIFgk4vUA4Uyd7ex0tZFLJUCm4vpqP0JntLWH
	 3eFw+rgK9Jnow==

Yes, that is right. SOME modules can grab the context for *other*
modules (proxy does this), but in general, the context is related
to *this* connection for *this* module.

> On Mar 3, 2016, at 10:30 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
>=20
>> Am 03.03.2016 um 16:21 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>=20
>> On Thu, Mar 3, 2016 at 3:57 PM, Jim Jagielski <jim@jagunet.com> =
wrote:
>>>   /** Config vector containing pointers to connections per-server
>>>    *  config structures. */
>>>   struct ap_conf_vector_t *conn_config;
>>=20
>> Yes, this is opaque, and turns out to be a implemented as void**.
>> We could even make it a struct if we'd want 2 "batons" per module,
>> with something like:
>> struct ap_conf_vector_t {
>>     void *config;
>>     void *context;
>> };
>> in server/config.c, without breaking the API (since it is opaque).
>> And then let ap_get_module_config/context() use the existing
>> conn/request_config.
>> Another vector might be better/simpler/safer, though.
>>=20
>> Still I'm not sure to understand the use case for now...
>=20
> I think we confuse ourselves with the wording here. As I understand =
it, almost all modules store connection context information in that =
vector. In that sense, it is *their* internal configuration for the =
connection, not necessarily the same as is stored at other config =
locations, such as server or request.
>=20
> Some ap_conf_vectors are populated by the runtime for all modules =
participating (like server_rec->module_config), some are not. The ones =
in conn_rec ->conn_config are only directly set by a module and the =
module determines what does there.
> And what a module stores there can be a process wide singleton or =
something with the lifetime of the conn_rec->pool, it's up to the =
module.
>=20
> That is how I understand it. And I hope that I'm right, but if not, =
please explain what I missed, since mod_http2 makes very much use of =
this...
>=20
> -Stefan
>=20


From dev-return-85783-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  3 17:49:39 2016
Return-Path: <dev-return-85783-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 53B4218AEE
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Mar 2016 17:49:39 +0000 (UTC)
Received: (qmail 75947 invoked by uid 500); 3 Mar 2016 17:49:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75868 invoked by uid 500); 3 Mar 2016 17:49:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75858 invoked by uid 99); 3 Mar 2016 17:49:38 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2016 17:49:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5728C1801DA
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 17:49:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id Kl6L2mVJaErZ for <dev@httpd.apache.org>;
	Thu,  3 Mar 2016 17:49:36 +0000 (UTC)
Received: from heavyspace.ca (li52-56.members.linode.com [72.14.186.56])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id E84965F3F4
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 17:49:35 +0000 (UTC)
Received: by heavyspace.ca (Postfix, from userid 1001)
	id 9697B44DB4; Thu,  3 Mar 2016 17:53:40 +0000 ()
Received: from mail.heavyspace.ca (localhost [127.0.0.1])
	by heavyspace.ca (Postfix) with ESMTP id 78CA144D75
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 17:53:39 +0000 ()
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII;
 format=flowed
Content-Transfer-Encoding: 7bit
Date: Thu, 03 Mar 2016 11:53:39 -0600
From: monttyle@heavyspace.ca
To: dev@httpd.apache.org
Subject: Re: Suexec permissions question
In-Reply-To: <bb0be53014a930fd14156e1ddb077c96@heavyspace.ca>
References: <ae1bcada9ff89e4488e240762f985a8a@heavyspace.ca>
 <0D9749BE-0B90-4FE8-9A09-7C94F612D996@jaguNET.com>
 <bb0be53014a930fd14156e1ddb077c96@heavyspace.ca>
Message-ID: <b628c40d5dedebba9ebf1e81aeb137e3@heavyspace.ca>
X-Sender: monttyle@heavyspace.ca
User-Agent: Roundcube Webmail/1.0.2

On 2016-02-29 10:22, monttyle@heavyspace.ca wrote:
> On 2016-02-29 06:06, Jim Jagielski wrote:
>>> On Feb 26, 2016, at 7:50 PM, monttyle@heavyspace.ca wrote:
>>> 
>>> This is not a question on how to use suexec, that's fairly clear.  
>>> The strict, hardwired conditions its willing to suexec under are also 
>>> spelled out pretty clear.  My question is the nature of these 
>>> requirements -- why they're the way they are.  The user and group 
>>> requirements specifically.
>>> 
>>> suexec insists that the file being executed needs to be the same 
>>> owner and group as what the web server will be running as after 
>>> suexec.  Doesn't this requirement make things *less* secure?  You 
>>> can't really protect a file against its own owner overwriting it.  
>>> The same requirement is on the folder, leaving the web server two 
>>> legal chmods away from allowing an exploit to create, delete, and 
>>> modify files inside the vhost at will.
>> 
>> Those conditions are hardly unique. The other major suexec-like
>> script, cgiwrapd, also had the same set of conditions and
>> requirements.
>> 
>> First of all, the idea is that the admin "trusts" whatever users are
>> allowed to use suexec. It's also understood that the risk associated
>> is directly related to how well tied-down the user account itself
>> is. Finally, it's to ensure that when running as 'foo:bar", I can
>> only access files that are owned by 'foo:bar'. If I am 'foo:bar'
>> and I am trying to run a file owned by 'kirk:trek' then something
>> is hinky, and we don't want to allow it.
> 
> I understand the point of not allowing apache to suexec any
> arbitrary file, and matching user:group makes sense to an extent.
> But using user:group as blind labels ignores what these permissions
> really mean to the kernel.
> 
> Any running program has access to modify any files and folders
> belonging to its user by definition.  If you chmod that away,
> it can chmod them right back.  This is very difficult to prevent
> without resorting to read-only filesystems, immutable bits, or
> ACL's.  This is why most executables -- including suexec itself!
> -- aren't owned by the users who run them.
> 
> The ability to name a specific required owner, DIFFERENT from
> what's being suexec-ed to, would close this security hole.

Any comments?  I am considering writing that patch if I can,
but there may be pitfalls I haven't thought of.

From dev-return-85784-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  3 18:22:23 2016
Return-Path: <dev-return-85784-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C1DA018CE7
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Mar 2016 18:22:23 +0000 (UTC)
Received: (qmail 514 invoked by uid 500); 3 Mar 2016 18:22:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 438 invoked by uid 500); 3 Mar 2016 18:22:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 428 invoked by uid 99); 3 Mar 2016 18:22:23 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2016 18:22:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D87CA1804BB
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 18:22:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 3qTn0siLtG9A for <dev@httpd.apache.org>;
	Thu,  3 Mar 2016 18:22:20 +0000 (UTC)
Received: from resqmta-po-07v.sys.comcast.net (resqmta-po-07v.sys.comcast.net [96.114.154.166])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 4475F5F570
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 18:22:20 +0000 (UTC)
Received: from resomta-po-20v.sys.comcast.net ([96.114.154.244])
	by resqmta-po-07v.sys.comcast.net with comcast
	id RWMx1s0025Geu2801WNKRv; Thu, 03 Mar 2016 18:22:19 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-20v.sys.comcast.net with comcast
	id RWNH1s00v2U0RYt01WNJDT; Thu, 03 Mar 2016 18:22:19 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Suexec permissions question
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <bb0be53014a930fd14156e1ddb077c96@heavyspace.ca>
Date: Thu, 3 Mar 2016 13:22:17 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <9B4DE7D9-99B3-4719-BFC5-C54826AED1BB@jaguNET.com>
References: <ae1bcada9ff89e4488e240762f985a8a@heavyspace.ca> <0D9749BE-0B90-4FE8-9A09-7C94F612D996@jaguNET.com> <bb0be53014a930fd14156e1ddb077c96@heavyspace.ca>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1457029339;
	bh=wZuAijhyDZ+5mxBos+TIlgtI8wuTsU4CZD8djXZIE4E=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=LbzbxmY1PChS2Sm5mbFZQrwa7zoA2uqh6jAdTG/rFtUbtYH2xuexBqdnvCC7Nol+h
	 q+6PFb45i99/REflAKlm23mzdYcsckqVd1fS1R5DkH2YGA9jYBIrqUtWhsNCU72hhp
	 0hdVEbaSMcFryt7TR36wZiRM9MFuO8a3NICg3EWLPPn82ZrqPszkWH8OEqEmWXvmdK
	 ELVKjw/IHWx+gZ8ExWqGauOevtP9fpd1HKqdlTfa7FqgPesR1PpfFtlodILSp2cDZT
	 0lQh3XwCN89qZx0hGEWWqSfm5TsdqEnhG3aacc2YIt6imH8ENTUPsNcRTTPSlG1FKH
	 ukJXIL+PrDS7w==


> On Feb 29, 2016, at 11:22 AM, monttyle@heavyspace.ca wrote:
> 
> I understand the point of not allowing apache to suexec any
> arbitrary file, and matching user:group makes sense to an extent.
> But using user:group as blind labels ignores what these permissions
> really mean to the kernel.

No, it's meant to work *with* file-level permissions.

> 
> Any running program has access to modify any files and folders
> belonging to its user by definition.  If you chmod that away,
> it can chmod them right back.  This is very difficult to prevent
> without resorting to read-only filesystems, immutable bits, or
> ACL's.  This is why most executables -- including suexec itself!
> -- aren't owned by the users who run them.
> 
> The ability to name a specific required owner, DIFFERENT from
> what's being suexec-ed to, would close this security hole.

I still don't understand what your actual concern is, nor
the attack vector that you are trying to fix. Can you
provide more detail, being as specific as possible.

Thx.

From dev-return-85785-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  3 18:48:10 2016
Return-Path: <dev-return-85785-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DEB0718E35
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Mar 2016 18:48:09 +0000 (UTC)
Received: (qmail 79002 invoked by uid 500); 3 Mar 2016 18:48:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78930 invoked by uid 500); 3 Mar 2016 18:48:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 78920 invoked by uid 99); 3 Mar 2016 18:48:08 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2016 18:48:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 8997C1A06F4
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 18:48:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id eGz71fTkDILI for <dev@httpd.apache.org>;
	Thu,  3 Mar 2016 18:48:06 +0000 (UTC)
Received: from resqmta-po-06v.sys.comcast.net (resqmta-po-06v.sys.comcast.net [96.114.154.165])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 16E0B5F3F4
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 18:48:05 +0000 (UTC)
Received: from resomta-po-02v.sys.comcast.net ([96.114.154.226])
	by resqmta-po-06v.sys.comcast.net with comcast
	id RWnv1s0014tLnxL01WnyD9; Thu, 03 Mar 2016 18:47:58 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-02v.sys.comcast.net with comcast
	id RWnx1s00H2U0RYt01WnyDV; Thu, 03 Mar 2016 18:47:58 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Suexec permissions question
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <9B4DE7D9-99B3-4719-BFC5-C54826AED1BB@jaguNET.com>
Date: Thu, 3 Mar 2016 13:47:57 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <72D226ED-95F6-485B-A8A7-36F11F38A0C2@jaguNET.com>
References: <ae1bcada9ff89e4488e240762f985a8a@heavyspace.ca> <0D9749BE-0B90-4FE8-9A09-7C94F612D996@jaguNET.com> <bb0be53014a930fd14156e1ddb077c96@heavyspace.ca> <9B4DE7D9-99B3-4719-BFC5-C54826AED1BB@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1457030878;
	bh=3PtnCUvJSIfsAG3vW5nMaCDJab5zr7Fzq6QnNbdodhU=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=WiNnyvFX2Hlel5z9/2ID2TGciPHmnbtXTjEl3jJIbkTpsBwJKD9O1+ZToz7s6Ck6G
	 ZVbeHnBBHL9Y4rjMpiNwKglaY/bgu8hKsyEq1ifJ7PYXRmsBOxTMnryviz1zgfsrmG
	 g4Y5wlYshLFxGoAHSJY7LBDxV5RNcBHuUmVc2TKF8Dc6NTH0ec/m0fWCojoxhlk4m0
	 L29DvURlXhkYgGcEXJhx3NZwOBm0aOjcMi3VgDsj1eOs2oCOksLGPTtWS3DZkbtisw
	 fXIjrbes3j6D1v1oOI4I7LprScUpGWTU2EYJi0MB3ZoxzSL5Grh1JSQg5IslMetY14
	 wfaFzWeCDcGzQ==

For historical purposes :)

[13:25:42]  <jchampion>	jimjag: I'll let monttyle respond on-list, but =
his attack vector (at least, as I understood it) was as follows:
[13:26:39]  <jchampion>	attacker uses a one-time vulnerability in a CGI =
script to modify the script itself (or anything in the parent directory) =
and thus becomes a persistent threat
[13:27:30]  <jchampion>	if suexec allowed a separate owner (for example, =
root), this wouldn't be possible, as long as the parent directory and =
executable script were root-owned.
[13:27:51]  <jchampion>	(he wanted to be able to specify a different =
trusted owner for maintenance purposes)
[13:28:26]  <@jimjag>	jchampion : well, if I grok that right, then why =
even use suexec at all?
[13:28:47]  <jchampion>	jimjag: to isolate several CGI apps running =
under different trust levels.
[13:28:47]  <@jimjag>	let the person run their CGI script as the web =
server uid
[13:29:12]  <jchampion>	"user" here isn't "person"; he's essentially =
separating them into different system accounts
[13:29:22]  <@jimjag>	So how would that work. I am 'jim' but my CGIs =
run as 'jimfoo' ??
[13:29:37]  	niq (~God@apache/committer/niq) left IRC (Ping timeout: =
252 seconds)
[13:29:43]  <jchampion>	CGI app A runs under "jimA", app B runs under =
"jimB", etc.
[13:30:00]  <jchampion>	that way app A can touch its own stuff, but not =
app B's stuff.
[13:30:04]  <jchampion>	and vice-versa.
[13:30:25]  <@jimjag>	but jima and jimb would need to be different =
uids, right?
[13:30:29]  <jchampion>	yes.
[13:31:33]  <@jimjag>	So what is to prevent someone from  someone =
using the above one-time vulnerability in a CGI script as jimB and thus =
continue to be a threat?
[13:32:36]  <jchampion>	The answer to that is app-specific, I think. =
monttyle's point is that the current suexec strategy forces at least two =
points of vulnerability (the parent directory and the script itself)
[13:33:18]  <@jimjag>	So the App is owned by a different uid that the =
app runs as??
[13:34:01]  <jchampion>	the app's executable is, yes. The rest of the =
"app" may be assets, databases, whatever, that are owned by the UID that =
the app is running as.
[13:34:20]  <jchampion>	Those assets could be locked down to limit the =
damage that a bad-acting jimB could do, for instance.
[13:35:17]  <@jimjag>	So I create an app, owned by me, which the runs =
as say.... jchampion, which then has access to all of jchampions files =
on the file system ? :)
[13:36:22]  <jchampion>	no, because 1) you don't have permission to =
modify the Apache config to do that, and 2) the owner must be explicitly =
trusted (at compile-time) in monttyle's suggested scheme.
[13:37:01]  <jchampion>	in other words, he's asking for a "I trust user =
X, so let it own a suexec'd file, but no one else"
[13:37:57]  <jchampion>	personally, I think it'd be enough of a =
compromise to add a root-ownership exception. But I see where he's =
coming from on the maintenance side.
[13:38:12]  <thumbs>	interesting
[13:38:17]  <@jimjag>	so why can't the admin just create a cgi-script =
that itself is suid to whoever they want that user to "pretend" to be?
[13:39:03]  <@jimjag>	It sounds like it's a whole diferent use case =
thansuexec
[13:39:12]  <jchampion>	jimjag: setuid scripts are verboten in the =
security sphere, for one
[13:39:29]  <jchampion>	for two, they'd have to become a setuid security =
expert to do it correctly
[13:39:58]  <@jimjag>	suexec is designed for a singlular specific =
purpose... adding "features" to it increases the attack vector surface =
area... :)
[13:40:26]  <jchampion>	I agree with you there, which is why I'm for a =
middle ground that allows root ownership in the check.
[13:40:34]  <@jimjag>	I'm not opposed to the feature, but adding it to =
suexec seems wrong, imo at least.
[13:41:10]  <jchampion>	i.e. if the parent directory and the CGI script =
are owned by root instead of the suexec'ing user, that should be okay =
too.
[13:41:38]  <@jimjag>	how in the world would someone be able to update =
the script if owned by root?
[13:42:08]  <jchampion>	if they are root. Remember, his use case is an =
administrator separating concerns between multiple administrator-owned =
applications.
[13:42:26]  <jchampion>	It's a different use case from the typical "I =
have a bunch of end users who want to run stuff on port 80"
[13:43:01]  <@jimjag>	But again, that seems opposite from what suexec =
is all about. It's all about USERS, not the admin.
[13:43:03]  <jchampion>	It's just one "person" here, using suexec for =
privilege separation.
[13:43:32]  <jchampion>	How would you solve the problem then? suexec =
seems like a perfect tool for privilege separation.
[13:43:46]  <@jimjag>	So yeah, it's a different use case, which =
requires a different solution, not "extending" an existing solution for =
a specific use-case... if you catch my meaning
[13:43:47]  <jchampion>	Whether the users are real people or just system =
accounts.
[13:44:00]  <jchampion>	But suexec is already a privilege separation =
tool...
[13:44:12]  <@jimjag>	So like I said, I'm fine w/ the concept; just =
not fine with it being folded into suexec.
[13:44:29]  <@jimjag>	I don't want suexec to turn into systemd :)
[13:44:37]  <jchampion>	In other words: if you designed a tool to do =
this "new thing", it would end up duplicating all of suexec, and adding =
a single new feature.
[13:45:21]  <@jimjag>	jchampion : How? Most of the checks, etc are =
based on a specific use case that no longer applies in this one, if I =
grok it...
[13:45:52]  <jchampion>	AFAICT, all of the checks still apply, to avoid =
setuid vulnerabilities. There's only one that is changed: the check for =
ownership.
[13:46:40]  <jchampion>	The vast majority of the suexec logic is there =
to avoid setuid attacks. All of that would be duplicated.
[13:47:10]  <@jimjag>	I'd have to see the implementation...=20=

From dev-return-85786-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  3 20:01:35 2016
Return-Path: <dev-return-85786-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2637A18345
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Mar 2016 20:01:35 +0000 (UTC)
Received: (qmail 48866 invoked by uid 500); 3 Mar 2016 20:01:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48783 invoked by uid 500); 3 Mar 2016 20:01:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48773 invoked by uid 99); 3 Mar 2016 20:01:34 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2016 20:01:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id BC3601A136B
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 20:01:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id dGZVpyS7GiMC for <dev@httpd.apache.org>;
	Thu,  3 Mar 2016 20:01:33 +0000 (UTC)
Received: from mail-ig0-f175.google.com (mail-ig0-f175.google.com [209.85.213.175])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id AAF1E5F39E
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 20:01:32 +0000 (UTC)
Received: by mail-ig0-f175.google.com with SMTP id g6so28073518igt.1
        for <dev@httpd.apache.org>; Thu, 03 Mar 2016 12:01:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=U1X/5FQyQ5boRlrFZm1tL8C9eBdF3ayVffU1sfV2kBU=;
        b=e1MhJz1lhvazW5/cXYWY+06wOk4VBTP62FhbV9gFGIMiejGv4jdNZ2vVv/MKPjMZhT
         ofBg/YrcG+1hw8k3eLACK5xZqX/DFgZYthbv7eDFhmb9EJG/9c6hiTEOE983KpfU/awz
         3aFCWnbUVvldQNVn7FrW4qcsT6bPT1TbZPadVyNHnHEhkReHBUJ+BaSlN9hmfc5Ip9/5
         xFvcCmiLMaiML/S2TAQ3rhljIKrPCK3JNFcse23Xi09k/DebMMdTV8Yb6EG9y8kCAmzh
         EhEfJ94VlXIGHzrr6pPK4K4Uk/W0Slueo+oa+yjLUY6b8zc17b4S3xdrjpPTlxC7+mE1
         C1rg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=U1X/5FQyQ5boRlrFZm1tL8C9eBdF3ayVffU1sfV2kBU=;
        b=AS8xfyU3u1kx7ipRCKiKX+ig0Vj4Ya+2aRcXc9zGoqjYMzPAWbXW7pu7q79K7TbTTK
         YoEbiDAuLkxVwSAzn0597T4gQK3RTxgyFWqixuhqIDQpsjJ31ZrwUYbNxkEbJ9UwYSvH
         1waCEtZJVGkred7750yCuefbOWHR20xjBSHmAEJp0jIlTiUiQlezzb0VJYMmmC2MoQNk
         ifQcpCJpdokxSawo7u08iXhJXKvzhHGJmxXRHIT7hKLoQGk12LlIgMUDCy/VBHuZ+2tR
         qkyZJEMDjmu4TyUhI3tSrLzhsn0OcorpPPqJbPpErQYb+F33cyfeqFOBIrqYdze3qmB0
         vnLA==
X-Gm-Message-State: AD7BkJLIdRtwjNc6Pm0IYm2elcfeeok3cQkS04NpJx+XojZjtmy2UpLqvnzXeZ/XTwNh/UXu1HIuxVjkQiiSnA0y
MIME-Version: 1.0
X-Received: by 10.50.132.6 with SMTP id oq6mr1003262igb.32.1457035291959; Thu,
 03 Mar 2016 12:01:31 -0800 (PST)
Received: by 10.107.149.12 with HTTP; Thu, 3 Mar 2016 12:01:31 -0800 (PST)
Received: by 10.107.149.12 with HTTP; Thu, 3 Mar 2016 12:01:31 -0800 (PST)
In-Reply-To: <72D226ED-95F6-485B-A8A7-36F11F38A0C2@jaguNET.com>
References: <ae1bcada9ff89e4488e240762f985a8a@heavyspace.ca>
	<0D9749BE-0B90-4FE8-9A09-7C94F612D996@jaguNET.com>
	<bb0be53014a930fd14156e1ddb077c96@heavyspace.ca>
	<9B4DE7D9-99B3-4719-BFC5-C54826AED1BB@jaguNET.com>
	<72D226ED-95F6-485B-A8A7-36F11F38A0C2@jaguNET.com>
Date: Thu, 3 Mar 2016 14:01:31 -0600
Message-ID: <CACsi252TfeRZC3B6n1aE3wtVj2cReOZbVCVcQ-LVtKYKPX95mA@mail.gmail.com>
Subject: Re: Suexec permissions question
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7b3a9b5c00be2b052d2a77c3

--047d7b3a9b5c00be2b052d2a77c3
Content-Type: text/plain; charset=UTF-8

I think this can be summarized as follows;

Httpd starts as root, changes to httpd user account.

AppDev user account is compiled-in to suexec as run-if-owner matches that
user account.

Suexec invokes AppDev's script with the appropriate userid of AppRun
account in lieu of AppDev user.

AppRun user has no permission to manipulate AppDev owned applications.

Suexec will refuse to run applications owned by AppRun account itself.

--047d7b3a9b5c00be2b052d2a77c3
Content-Type: text/html; charset=UTF-8

<p dir="ltr">I think this can be summarized as follows;</p>
<p dir="ltr">Httpd starts as root, changes to httpd user account.</p>
<p dir="ltr">AppDev user account is compiled-in to suexec as run-if-owner matches that user account.</p>
<p dir="ltr">Suexec invokes AppDev&#39;s script with the appropriate userid of AppRun account in lieu of AppDev user.</p>
<p dir="ltr">AppRun user has no permission to manipulate AppDev owned applications.</p>
<p dir="ltr">Suexec will refuse to run applications owned by AppRun account itself.</p>

--047d7b3a9b5c00be2b052d2a77c3--

From dev-return-85787-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  3 21:36:52 2016
Return-Path: <dev-return-85787-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AA1E51896C
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Mar 2016 21:36:52 +0000 (UTC)
Received: (qmail 44617 invoked by uid 500); 3 Mar 2016 21:36:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 44540 invoked by uid 500); 3 Mar 2016 21:36:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 44530 invoked by uid 99); 3 Mar 2016 21:36:52 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Mar 2016 21:36:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id A06B71A0355
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 21:36:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id xgIB6vSX-Xrw for <dev@httpd.apache.org>;
	Thu,  3 Mar 2016 21:36:49 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 171575F3F1
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 21:36:48 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 9135020F3E
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 22:36:41 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id n7WdnOImai-c for <dev@httpd.apache.org>;
	Thu,  3 Mar 2016 22:36:41 +0100 (CET)
Received: from [10.0.0.1] (CPE-121-218-171-217.lnse4.cht.bigpond.net.au [121.218.171.217])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 8BD7520581
	for <dev@httpd.apache.org>; Thu,  3 Mar 2016 22:36:40 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: A (likely) simple question regarding mod_proxy_http2
Message-ID: <56D8AE5A.6080207@gknw.net>
Date: Fri, 4 Mar 2016 08:36:26 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Trying my limited knowledge at compiling modules\http2\mod_proxy_http2, 
and the compiler (no sniggering please) barfs in both source:
h2_proxy_session.c and mod_proxy_http2.c
with an error that says they (respectively) can't open mod_http2.h.

mod_http2.c has #include "mod_http2.h",
the above proxy source have #include <mod_http2.h>

Since the NetWare makefiles are always local to the built dir, AFAIK 
using <> in the #include means a system search path (-Ixxx) whereas the 
double quotes implies 'local dir', so change to #include "mod_http2.h" 
and it they compile nicely; an alternative would to add -I., but have 
never seen this to be necessary elsewhere in the httpd build system.

Any comments?
TIA,
Norm




From dev-return-85788-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  4 08:10:27 2016
Return-Path: <dev-return-85788-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5D7001845D
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Mar 2016 08:10:27 +0000 (UTC)
Received: (qmail 34478 invoked by uid 500); 4 Mar 2016 08:10:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34299 invoked by uid 500); 4 Mar 2016 08:10:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34290 invoked by uid 99); 4 Mar 2016 08:10:21 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2016 08:10:21 +0000
Received: from gauss.localdomain (v4-86130a44.pool.vitroconnect.de [134.19.10.68])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 58DA31A00E4
	for <dev@httpd.apache.org>; Fri,  4 Mar 2016 08:10:21 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id F11BEE7
	for <dev@httpd.apache.org>; Fri,  4 Mar 2016 09:10:26 +0100 (CET)
Subject: Re: A (likely) simple question regarding mod_proxy_http2
To: dev@httpd.apache.org
References: <56D8AE5A.6080207@gknw.net>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56D942F2.5020001@apache.org>
Date: Fri, 4 Mar 2016 09:10:26 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <56D8AE5A.6080207@gknw.net>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/03/2016 10:36 PM, NormW wrote:
> Trying my limited knowledge at compiling modules\http2\mod_proxy_http2, and the compiler (no sniggering please) barfs in
> both source:
> h2_proxy_session.c and mod_proxy_http2.c
> with an error that says they (respectively) can't open mod_http2.h.
> 
> mod_http2.c has #include "mod_http2.h",
> the above proxy source have #include <mod_http2.h>

IMHO #include "mod_http2.h"

is correct.

Regards

Rdiger


From dev-return-85789-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  4 17:11:26 2016
Return-Path: <dev-return-85789-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 04C3718B56
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Mar 2016 17:11:26 +0000 (UTC)
Received: (qmail 68690 invoked by uid 500); 4 Mar 2016 17:11:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68620 invoked by uid 500); 4 Mar 2016 17:11:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68610 invoked by uid 99); 4 Mar 2016 17:11:24 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2016 17:11:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7CC9D1806AD
	for <dev@httpd.apache.org>; Fri,  4 Mar 2016 17:11:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id xoHzX6ajS7Im for <dev@httpd.apache.org>;
	Fri,  4 Mar 2016 17:11:22 +0000 (UTC)
Received: from mail-qg0-f47.google.com (mail-qg0-f47.google.com [209.85.192.47])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id B0A385F56F
	for <dev@httpd.apache.org>; Fri,  4 Mar 2016 17:11:21 +0000 (UTC)
Received: by mail-qg0-f47.google.com with SMTP id y89so48235000qge.2
        for <dev@httpd.apache.org>; Fri, 04 Mar 2016 09:11:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=8uX3d9NZi7y107yJam2PMG2hzi0uVBPvd4pqV96V2ys=;
        b=uyV0ca2cFYYS7i0xDrBZKVIyGiaebi69A010zpVb9wIaV5QCzRQkefYR9x/M3mdA0Y
         SJpMI6f/ywdRgze3znzzx704GfV7uLphQ6yWFe17ZXKq136pHtwVkK5oFiU6LSLI1c6R
         bxcVxVE0gC85OeK695s2haJ8bY5AS84rvOfw/ZYgpPPRZJkpPmqFvduouTK8ELLR+3aJ
         CaGct4EYy+j13nprUw3kS17t/4+0oRGGLSLqfVrvinB5XYzQT+OtwiiFyld/d8JPX7la
         sq2gDvY4BT2JyCRmukVEpPqhbfslSFZERHqnwW43NecD3wAKdUTyJrTmfmavnW8Y689w
         p5Iw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=8uX3d9NZi7y107yJam2PMG2hzi0uVBPvd4pqV96V2ys=;
        b=T00xFpcuFwuUL/crNZP94yi1DQfeiGoB/6ivxx4N4L1XEdRMa28qcyaMihJdHzKeCL
         LabKqpp6U7oVCyQqafA10nm2sf07N00LguuwN7wJovOPEqYn19wEsJF2zmd+JbQH5JC0
         GnWOS6IG/bar3sCIJYk+FUeNYzvnbPWn+vjaQfec1GICulXvFjhXbMciC6lPXLWesIe8
         gLhJodKkLXUHL6pKMstlhQVztcu6CcuJzwh8L71HEKnB9LnsWlU9uoi2eHncClt+Ts/0
         osAbe17qBfOvXpaY5+clpQpK+wym8nRLuJ3o8ItyKvn5EezWF7bCsPxI+UO9cTHyTdIi
         v7yQ==
X-Gm-Message-State: AD7BkJIKF6Nq5V0yn0bTCGAmsDn8025yE1Gq8vdVXDR9XA1qz6sjhhyJKLL4BrAPhlouH+LC0K9EHzFZ0IK5Rg==
MIME-Version: 1.0
X-Received: by 10.140.249.6 with SMTP id u6mr12228858qhc.83.1457111475358;
 Fri, 04 Mar 2016 09:11:15 -0800 (PST)
Received: by 10.55.5.3 with HTTP; Fri, 4 Mar 2016 09:11:15 -0800 (PST)
In-Reply-To: <bug-59045-61843-ztVn3hnJEm@https.bz.apache.org/bugzilla/>
References: <bug-59045-61843@https.bz.apache.org/bugzilla/>
	<bug-59045-61843-ztVn3hnJEm@https.bz.apache.org/bugzilla/>
Date: Fri, 4 Mar 2016 18:11:15 +0100
Message-ID: <CAKQ1sVPpYGvKp3aPwS0GyLHLNdRX20oHMAT6yP0F30dY-tg+Aw@mail.gmail.com>
Subject: Re: [Bug 59045] Request body read timeout (AH01382) triggered with
 SSL in reverse proxy setup
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Re: proposed fix/filter to pause reqtimeout in bewteen requests...

On Fri, Mar 4, 2016 at 5:00 PM,  <bugzilla@apache.org> wrote:
> https://bz.apache.org/bugzilla/show_bug.cgi?id=59045
>
> --- Comment #13 from Ruediger Pluem <rpluem@apache.org> ---
> (In reply to Yann Ylavic from comment #12)
>> (In reply to Ruediger Pluem from comment #11)
>> >
>> > Hm. Is another output filter really the best solution? It has to be passed
>> > for every run of the output chain.
>> > How about setting a note to c->notes in check_pipeline that informs
>> > mod_reqtimeout to step out of our way temporarily? This removes the need for
>> > mod_reqtimeout to second guess from other conditions that it has to step out.
>>
>> It's not really an heavy filter, not sure it performs slower than an
>> apr_table lookup...
>> This filter shouldn't be noticeable from a performance POV, and I think it
>> is sane in any case, do we (will) control all the speculative/non-blocking
>> (administrative) reads between requests?
>
> I admit that it might be a matter of taste. You can argue that you don't know
> where all these actions between requests happen and hence that in these cases
> the callers that pull from the input chain miss to set the note. Furthermore
> you can argue that the callers shouldn't need to know about mod_reqtimeout and
> the need to disable it and that they might forget to enable it again or disable
> it again if we do so automatically in mod_reqtimeout.

I've nothing more to argue :)

> On the other hand we had
> a fix for this issue already in 2.4.16 and did not capture all cases.

I hesitate for the final, provided the filter solution works and is
accepted, to remove the leading check:

    if (block == APR_NONBLOCK_READ && mode == AP_MODE_SPECULATIVE) {
        /*  The source of these above us in the core is check_pipeline(), which
         *  is between requests but before this filter knows to reset timeouts
         *  during pre_read_request().  If they appear elsewhere, just don't
         *  check or extend the time since they won't block and we'll see the
         *  bytes again later
         */
        return ap_get_brigade(f->next, bb, mode, block, readbytes);
    }

in reqtimeout_filter().

It would indeed be redundant now, and may miss other (relevant)
speculative reads that could trigger a timeout.
Below there is another check on AP_MODE_SPECULATIVE which prevents
updating the timer until the real (non speculative) bytes are read,
this one would remain.
The goal is to timeout as soon as we can...

Thoughts?

> Probably
> we missed other edge cases and need to add further more less complex code to
> detect them in mod_reqtimeout whereas in the notes case we would just need to
> set the note on callers side.

We'd need to add these same missed cases on the callers side too.
But as I said I'm not opposed to both solutions, the filter for the
core case and a note for the modules' convenience (couldn't we rearm
mod_reqtimeout on mod_[proxy_]http2 and configurably on
mod_proxy_wstunnel with this? Looks sensible to me...).

Regards,
Yann.

From dev-return-85790-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  4 17:36:18 2016
Return-Path: <dev-return-85790-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BBAF118D93
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Mar 2016 17:36:18 +0000 (UTC)
Received: (qmail 48801 invoked by uid 500); 4 Mar 2016 17:36:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48713 invoked by uid 500); 4 Mar 2016 17:36:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48702 invoked by uid 99); 4 Mar 2016 17:36:18 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2016 17:36:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id AA2A91A1411
	for <dev@httpd.apache.org>; Fri,  4 Mar 2016 17:36:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id JimjRcKMCOlF for <dev@httpd.apache.org>;
	Fri,  4 Mar 2016 17:36:16 +0000 (UTC)
Received: from heavyspace.ca (li52-56.members.linode.com [72.14.186.56])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 40B8B5F3F4
	for <dev@httpd.apache.org>; Fri,  4 Mar 2016 17:36:16 +0000 (UTC)
Received: by heavyspace.ca (Postfix, from userid 1001)
	id C2BDD44DB4; Fri,  4 Mar 2016 17:40:29 +0000 ()
Received: from mail.heavyspace.ca (localhost [127.0.0.1])
	by heavyspace.ca (Postfix) with ESMTP id E6B4744D77
	for <dev@httpd.apache.org>; Fri,  4 Mar 2016 17:40:28 +0000 ()
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII;
 format=flowed
Content-Transfer-Encoding: 7bit
Date: Fri, 04 Mar 2016 11:40:28 -0600
From: monttyle@heavyspace.ca
To: dev@httpd.apache.org
Subject: Re: Suexec permissions question
In-Reply-To: <9B4DE7D9-99B3-4719-BFC5-C54826AED1BB@jaguNET.com>
References: <ae1bcada9ff89e4488e240762f985a8a@heavyspace.ca>
 <0D9749BE-0B90-4FE8-9A09-7C94F612D996@jaguNET.com>
 <bb0be53014a930fd14156e1ddb077c96@heavyspace.ca>
 <9B4DE7D9-99B3-4719-BFC5-C54826AED1BB@jaguNET.com>
Message-ID: <b9e32368e4a0a195fdd970318bb62d05@heavyspace.ca>
X-Sender: monttyle@heavyspace.ca
User-Agent: Roundcube Webmail/1.0.2

On 2016-03-03 12:22, Jim Jagielski wrote:
> I still don't understand what your actual concern is, nor
> the attack vector that you are trying to fix. Can you
> provide more detail, being as specific as possible.
> 
> Thx.

Let me clarify the problem by changing it very slightly:
a) What are the implications of /usr/sbin/suexec being owned by 
apache:apache?
- As the owner of its own binary, a bug or exploit could modify it 
without escalation.

b) What are the implications of /usr/sbin/suexec refusing to run when 
NOT owned by apache:apache?
- Barring nonstandard features, it can't be meaningfully secured.

Which is why apache demands that it NOT own suexec:

-rws--x--- 1 root apache 14120 Feb 26 17:58 /usr/sbin/suexec

Even if the kernel would be okay with other ownership, suexec will freak 
out.  This arrangement prevents anything but a sever escalation bug from 
altering the suexec executable.

Once past this gate and seduid-ed, though, suexec insists upon 
user-owned files inside user-owned filers.  I suppose this slightly like 
a chmod jail -- you can trash your own files and folders, but at least 
you won't trash anyone else's.  But I don't see why this setup is 
mandatory -- it could be secured much further.

In short:  suexec requiring files belong to a specific owner and group 
makes sense to avoid blank-cheque situations, but why insist on BEING 
that owner too?  That guarantees a different blank-cheque situation.

From dev-return-85791-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  4 22:02:59 2016
Return-Path: <dev-return-85791-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3128319A3D
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Mar 2016 22:02:59 +0000 (UTC)
Received: (qmail 36618 invoked by uid 500); 4 Mar 2016 22:02:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36554 invoked by uid 500); 4 Mar 2016 22:02:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36544 invoked by uid 99); 4 Mar 2016 22:02:58 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Mar 2016 22:02:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 116CE1806AD
	for <dev@httpd.apache.org>; Fri,  4 Mar 2016 22:02:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.8
X-Spam-Level: *
X-Spam-Status: No, score=1.8 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_DNSWL_NONE=-0.0001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id k4zqdGRGL3Bk for <dev@httpd.apache.org>;
	Fri,  4 Mar 2016 22:02:54 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 1B95C5F39E
	for <dev@httpd.apache.org>; Fri,  4 Mar 2016 22:02:53 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 3804C21129
	for <dev@httpd.apache.org>; Fri,  4 Mar 2016 22:56:46 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id GxiUHhIhbHfD for <dev@httpd.apache.org>;
	Fri,  4 Mar 2016 22:56:45 +0100 (CET)
Received: from [10.0.0.1] (unknown [101.175.52.184])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 8FF1520581
	for <dev@httpd.apache.org>; Fri,  4 Mar 2016 22:56:44 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: Add ?? mod_proxy_http2 for NetWare build - Take 1
Message-ID: <56DA0490.6030408@gknw.net>
Date: Sat, 5 Mar 2016 08:56:32 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: multipart/mixed;
 boundary="------------050102090600000107080205"

This is a multi-part message in MIME format.
--------------050102090600000107080205
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/M,
The attached patch and NWGNUproxyht2 builds the (trunk) mod_proxy_http2 
module BUT does include some AS YET unapproved minor tweaks in the two 
proxy_http2 source files.

Norm

--------------050102090600000107080205
Content-Type: text/x-patch;
 name="trunk_modules_http2_proxy.diff"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="trunk_modules_http2_proxy.diff"

Index: modules/http2/h2_proxy_session.c
===================================================================
--- modules/http2/h2_proxy_session.c	(revision 1733642)
+++ modules/http2/h2_proxy_session.c	(working copy)
@@ -19,7 +19,7 @@
 
 #include <httpd.h>
 #include <mod_proxy.h>
-#include <mod_http2.h>
+#include "mod_http2.h"
 
 #include "h2.h"
 #include "h2_int_queue.h"
Index: modules/http2/NWGNUmod_http2
===================================================================
--- modules/http2/NWGNUmod_http2	(revision 1733642)
+++ modules/http2/NWGNUmod_http2	(working copy)
@@ -259,7 +259,7 @@
 # Any symbols exported to here
 #
 FILES_nlm_exports = \
-	http2_module \
+	@$(OBJDIR)/mod_http2.imp \
 	$(EOLIST)
 
 #
@@ -273,7 +273,7 @@
 
 libs :: $(OBJDIR) $(NGH2SRC)/lib/config.h $(TARGET_lib)
 
-nlms :: libs $(TARGET_nlm)
+nlms :: libs $(OBJDIR)/mod_http2.imp $(TARGET_nlm)
 
 #
 # Updated this target to create necessary directories and copy files to the
@@ -289,7 +289,8 @@
 #
 vpath %.c $(NGH2SRC)/lib
 
-$(NGH2SRC)/lib/config.h : NWGNUmakefile
+$(NGH2SRC)/lib/config.h : NWGNUmod_http2
+	@-$(RM) $@
 	@echo $(DL)GEN  $@$(DL)
 	@echo $(DL)/* For NetWare target.$(DL) > $@
 	@echo $(DL)** Do not edit - created by Make!$(DL) >> $@
@@ -351,6 +352,58 @@
 	@echo $(DL)#endif /* NGH2_CONFIG_H */$(DL) >> $@
 
 #
+# Exports from mod_http2 for mod_proxy_http2
+$(OBJDIR)/mod_http2.imp : NWGNUmod_http2
+	@-$(RM) $@
+	@echo $(DL)GEN  $@$(DL)
+	@echo $(DL) (HTTP2)$(DL) > $@
+	@echo $(DL) http2_module,$(DL) >> $@
+	@echo $(DL) h2_ihash_add,$(DL) >> $@
+	@echo $(DL) h2_ihash_clear,$(DL) >> $@
+	@echo $(DL) h2_ihash_count,$(DL) >> $@
+	@echo $(DL) h2_ihash_create,$(DL) >> $@
+	@echo $(DL) h2_ihash_is_empty,$(DL) >> $@
+	@echo $(DL) h2_ihash_iter,$(DL) >> $@
+	@echo $(DL) h2_ihash_remove,$(DL) >> $@
+	@echo $(DL) h2_iq_add,$(DL) >> $@
+	@echo $(DL) h2_iq_create,$(DL) >> $@
+	@echo $(DL) h2_iq_remove,$(DL) >> $@
+	@echo $(DL) h2_proxy_res_ignore_header,$(DL) >> $@
+	@echo $(DL) h2_request_create,$(DL) >> $@
+	@echo $(DL) h2_request_make,$(DL) >> $@
+	@echo $(DL) h2_util_camel_case_header,$(DL) >> $@
+	@echo $(DL) h2_util_frame_print,$(DL) >> $@
+	@echo $(DL) h2_util_ngheader_make_req,$(DL) >> $@
+	@echo $(DL) nghttp2_is_fatal,$(DL) >> $@
+	@echo $(DL) nghttp2_option_del,$(DL) >> $@
+	@echo $(DL) nghttp2_option_new,$(DL) >> $@
+	@echo $(DL) nghttp2_option_set_peer_max_concurrent_streams,$(DL) >> $@
+	@echo $(DL) nghttp2_session_callbacks_del,$(DL) >> $@
+	@echo $(DL) nghttp2_session_callbacks_new,$(DL) >> $@
+	@echo $(DL) nghttp2_session_callbacks_set_before_frame_send_callback,$(DL) >> $@
+	@echo $(DL) nghttp2_session_callbacks_set_on_data_chunk_recv_callback,$(DL) >> $@
+	@echo $(DL) nghttp2_session_callbacks_set_on_frame_recv_callback,$(DL) >> $@
+	@echo $(DL) nghttp2_session_callbacks_set_on_header_callback,$(DL) >> $@
+	@echo $(DL) nghttp2_session_callbacks_set_on_stream_close_callback,$(DL) >> $@
+	@echo $(DL) nghttp2_session_callbacks_set_send_callback,$(DL) >> $@
+	@echo $(DL) nghttp2_session_client_new2,$(DL) >> $@
+	@echo $(DL) nghttp2_session_consume,$(DL) >> $@
+	@echo $(DL) nghttp2_session_del,$(DL) >> $@
+	@echo $(DL) nghttp2_session_get_remote_settings,$(DL) >> $@
+	@echo $(DL) nghttp2_session_get_stream_user_data,$(DL) >> $@
+	@echo $(DL) nghttp2_session_mem_recv,$(DL) >> $@
+	@echo $(DL) nghttp2_session_resume_data,$(DL) >> $@
+	@echo $(DL) nghttp2_session_send,$(DL) >> $@
+	@echo $(DL) nghttp2_session_want_read,$(DL) >> $@
+	@echo $(DL) nghttp2_session_want_write,$(DL) >> $@
+	@echo $(DL) nghttp2_strerror,$(DL) >> $@
+	@echo $(DL) nghttp2_submit_goaway,$(DL) >> $@
+	@echo $(DL) nghttp2_submit_request,$(DL) >> $@
+	@echo $(DL) nghttp2_submit_rst_stream,$(DL) >> $@
+	@echo $(DL) nghttp2_submit_settings,$(DL) >> $@
+	@echo $(DL) nghttp2_submit_window_update,$(DL) >> $@
+	@echo $(DL) nghttp2_version$(DL) >> $@
+
 # Include the 'tail' makefile that has targets that depend on variables defined
 # in this makefile
 #
Index: modules/http2/NWGNUmakefile
===================================================================
--- modules/http2/NWGNUmakefile	(revision 1733642)
+++ modules/http2/NWGNUmakefile	(working copy)
@@ -153,7 +153,7 @@
 #
 TARGET_nlm = \
 	$(OBJDIR)/mod_http2.nlm \
-	$(OBJDIR)/mod_http2.nlm \
+	$(OBJDIR)/proxyht2.nlm \
 	$(EOLIST)
 
 #
Index: modules/http2/mod_proxy_http2.c
===================================================================
--- modules/http2/mod_proxy_http2.c	(revision 1733642)
+++ modules/http2/mod_proxy_http2.c	(working copy)
@@ -17,7 +17,7 @@
 
 #include <httpd.h>
 #include <mod_proxy.h>
-#include <mod_http2.h>
+#include "mod_http2.h"
 
 
 #include "mod_proxy_http2.h"

--------------050102090600000107080205
Content-Type: text/plain; charset=UTF-8;
 name="NWGNUproxyht2"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
 filename="NWGNUproxyht2"

Iw0KIyBUaGlzIE1ha2VmaWxlIHJlcXVpcmVzIHRoZSBlbnZpcm9ubWVudCB2YXIgTkdIMlNS
Qw0KIyBwb2ludGluZyB0byB0aGUgYmFzZSBkaXJlY3Rvcnkgb2YgbmdodHRwMiBzb3VyY2Ug
dHJlZS4NCiMNCg0KIw0KIyBEZWNsYXJlIHRoZSBzdWItZGlyZWN0b3JpZXMgdG8gYmUgYnVp
bHQgaGVyZQ0KIw0KDQpTVUJESVJTID0gXA0KCSQoRU9MSVNUKQ0KDQojDQojIEdldCB0aGUg
J2hlYWQnIG9mIHRoZSBidWlsZCBlbnZpcm9ubWVudC4gIFRoaXMgaW5jbHVkZXMgZGVmYXVs
dCB0YXJnZXRzIGFuZA0KIyBwYXRocyB0byB0b29scw0KIw0KDQppbmNsdWRlICQoQVBfV09S
SykvYnVpbGQvTldHTlVoZWFkLmluYw0KDQojDQojIGJ1aWxkIHRoaXMgbGV2ZWwncyBmaWxl
cw0KIw0KIyBNYWtlIHN1cmUgYWxsIG5lZWRlZCBtYWNybydzIGFyZSBkZWZpbmVkDQojDQoN
CiMNCiMgVGhlc2UgZGlyZWN0b3JpZXMgd2lsbCBiZSBhdCB0aGUgYmVnaW5uaW5nIG9mIHRo
ZSBpbmNsdWRlIGxpc3QsIGZvbGxvd2VkIGJ5DQojIElOQ0RJUlMNCiMNClhJTkNESVJTCSs9
IFwNCgkJCSQoQVBSKS9pbmNsdWRlIFwNCgkJCSQoQVBSVVRJTCkvaW5jbHVkZSBcDQoJCQkk
KFNSQykvaW5jbHVkZSBcDQoJCQkkKE5HSDJTUkMpL2xpYi9pbmNsdWRlcyBcDQoJCQkkKFNU
RE1PRCkvcHJveHkgXA0KCQkJJChTRVJWRVIpL21wbS9OZXRXYXJlIFwNCgkJCSQoTldPUykg
XA0KCQkJJChFT0xJU1QpDQoNCiMNCiMgVGhlc2UgZmxhZ3Mgd2lsbCBjb21lIGFmdGVyIENG
TEFHUw0KIw0KWENGTEFHUwkJKz0gXA0KCQkJJChFT0xJU1QpDQoNCiMNCiMgVGhlc2UgZGVm
aW5lcyB3aWxsIGNvbWUgYWZ0ZXIgREVGSU5FUw0KIw0KWERFRklORVMJKz0gXA0KCQkJJChF
T0xJU1QpDQoNCiMNCiMgVGhlc2UgZmxhZ3Mgd2lsbCBiZSBhZGRlZCB0byB0aGUgbGluay5v
cHQgZmlsZQ0KIw0KWExGTEFHUwkJKz0gXA0KCQkJLUwkKE9CSkRJUikgXA0KCQkJJChFT0xJ
U1QpDQoNCiMNCiMgVGhlc2UgdmFsdWVzIHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhlIGNvcnJl
Y3QgdmFyaWFibGVzIGJhc2VkIG9uIHRoZSB2YWx1ZSBvZg0KIyBSRUxFQVNFDQojDQppZmVx
ICIkKFJFTEVBU0UpIiAiZGVidWciDQpYSU5DRElSUwkrPSBcDQoJCQkkKEVPTElTVCkNCg0K
WENGTEFHUwkJKz0gXA0KCQkJJChFT0xJU1QpDQoNClhERUZJTkVTCSs9IFwNCgkJCSQoRU9M
SVNUKQ0KDQpYTEZMQUdTCQkrPSBcDQoJCQkkKEVPTElTVCkNCmVuZGlmDQoNCmlmZXEgIiQo
UkVMRUFTRSkiICJub29wdCINClhJTkNESVJTCSs9IFwNCgkJCSQoRU9MSVNUKQ0KDQpYQ0ZM
QUdTCQkrPSBcDQoJCQkkKEVPTElTVCkNCg0KWERFRklORVMJKz0gXA0KCQkJJChFT0xJU1Qp
DQoNClhMRkxBR1MJCSs9IFwNCgkJCSQoRU9MSVNUKQ0KZW5kaWYNCg0KaWZlcSAiJChSRUxF
QVNFKSIgInJlbGVhc2UiDQpYSU5DRElSUwkrPSBcDQoJCQkkKEVPTElTVCkNCg0KWENGTEFH
UwkJKz0gXA0KCQkJJChFT0xJU1QpDQoNClhERUZJTkVTCSs9IFwNCgkJCSQoRU9MSVNUKQ0K
DQpYTEZMQUdTCQkrPSBcDQoJCQkkKEVPTElTVCkNCmVuZGlmDQoNCiMNCiMgVGhlc2UgYXJl
IHVzZWQgYnkgdGhlIGxpbmsgdGFyZ2V0IGlmIGFuIE5MTSBpcyBiZWluZyBnZW5lcmF0ZWQN
CiMgVGhpcyBpcyB1c2VkIGJ5IHRoZSBsaW5rICduYW1lJyBkaXJlY3RpdmUgdG8gbmFtZSB0
aGUgbmxtLiAgSWYgbGVmdCBibGFuaw0KIyBUQVJHRVRfbmxtIChzZWUgYmVsb3cpIHdpbGwg
YmUgdXNlZC4NCiMNCk5MTV9OQU1FCT0gcHJveHlodDINCg0KIw0KIyBUaGlzIGlzIHVzZWQg
YnkgdGhlIGxpbmsgJy1kZXNjICcgZGlyZWN0aXZlLg0KIyBJZiBsZWZ0IGJsYW5rLCBOTE1f
TkFNRSB3aWxsIGJlIHVzZWQuDQojDQpOTE1fREVTQ1JJUFRJT04JPSBBcGFjaGUgJChWRVJT
SU9OX1NUUikgSFRUUDIgUHJveHkgbW9kdWxlDQojDQojIFRoaXMgaXMgdXNlZCBieSB0aGUg
Jy10aHJlYWRuYW1lJyBkaXJlY3RpdmUuICBJZiBsZWZ0IGJsYW5rLA0KIyBOTE1fTkFNRSBU
aHJlYWQgd2lsbCBiZSB1c2VkLg0KIw0KTkxNX1RIUkVBRF9OQU1FCT0gJChOTE1fTkFNRSkN
Cg0KIw0KIyBJZiB0aGlzIGlzIHNwZWNpZmllZCwgaXQgd2lsbCBvdmVycmlkZSBWRVJTSU9O
IHZhbHVlIGluDQojICQoQVBfV09SSykvYnVpbGQvTldHTlVlbnZpcm9ubWVudC5pbmMNCiMN
Ck5MTV9WRVJTSU9OCT0NCg0KIw0KIyBJZiB0aGlzIGlzIHNwZWNpZmllZCwgaXQgd2lsbCBv
dmVycmlkZSB0aGUgZGVmYXVsdCBvZiA2NEsNCiMNCk5MTV9TVEFDS19TSVpFCT0gNjU1MzYN
Cg0KIw0KIyBJZiB0aGlzIGlzIHNwZWNpZmllZCBpdCB3aWxsIGJlIHVzZWQgYnkgdGhlIGxp
bmsgJy1lbnRyeScgZGlyZWN0aXZlDQojDQpOTE1fRU5UUllfU1lNCT0NCg0KIw0KIyBJZiB0
aGlzIGlzIHNwZWNpZmllZCBpdCB3aWxsIGJlIHVzZWQgYnkgdGhlIGxpbmsgJy1leGl0JyBk
aXJlY3RpdmUNCiMNCk5MTV9FWElUX1NZTQk9DQoNCiMNCiMgSWYgdGhpcyBpcyBzcGVjaWZp
ZWQgaXQgd2lsbCBiZSB1c2VkIGJ5IHRoZSBsaW5rICctY2hlY2snIGRpcmVjdGl2ZQ0KIw0K
TkxNX0NIRUNLX1NZTQk9DQoNCiMNCiMgSWYgdGhpcyBpcyBzcGVjaWZpZWQgaXQgd2lsbCBi
ZSB1c2VkIGJ5IHRoZSBsaW5rICctZmxhZ3MnIGRpcmVjdGl2ZQ0KIw0KTkxNX0ZMQUdTCT0N
Cg0KIw0KIyBJZiB0aGlzIGlzIHNwZWNpZmllZCBpdCB3aWxsIGJlIGxpbmtlZCBpbiB3aXRo
IHRoZSBYRENEYXRhIG9wdGlvbiBpbiB0aGUgZGVmDQojIGZpbGUgaW5zdGVhZCBvZiB0aGUg
ZGVmYXVsdCBvZiAkKE5XT1MpL2FwYWNoZS54ZGMuICBYRENEYXRhIGNhbiBiZSBkaXNhYmxl
ZA0KIyBieSBzZXR0aW5nIEFQQUNIRV9VTklQUk9DIGluIHRoZSBlbnZpcm9ubWVudA0KIw0K
WERDREFUQQkJPQ0KDQojDQojIERlY2xhcmUgYWxsIHRhcmdldCBmaWxlcyAoeW91IG11c3Qg
YWRkIHlvdXIgZmlsZXMgaGVyZSkNCiMNCg0KIw0KIyBJZiB0aGVyZSBpcyBhbiBOTE0gdGFy
Z2V0LCBwdXQgaXQgaGVyZQ0KIw0KVEFSR0VUX25sbSA9IFwNCgkkKE9CSkRJUikvJChOTE1f
TkFNRSkubmxtIFwNCgkkKEVPTElTVCkNCg0KIw0KIyBJZiB0aGVyZSBpcyBhbiBMSUIgdGFy
Z2V0LCBwdXQgaXQgaGVyZQ0KIw0KVEFSR0VUX2xpYiA9IFwNCgkkKEVPTElTVCkNCg0KIw0K
IyBUaGVzZSBhcmUgdGhlIE9CSiBmaWxlcyBuZWVkZWQgdG8gY3JlYXRlIHRoZSBOTE0gdGFy
Z2V0IGFib3ZlLg0KIyBQYXRocyBtdXN0IGFsbCB1c2UgdGhlICcvJyBjaGFyYWN0ZXINCiMN
CkZJTEVTX25sbV9vYmpzID0gXA0KCSQoT0JKRElSKS9tb2RfcHJveHlfaHR0cDIubyBcDQoJ
JChPQkpESVIpL2gyX3Byb3h5X3Nlc3Npb24ubyBcDQoJJChFT0xJU1QpDQoNCiMNCiMgVGhl
c2UgYXJlIHRoZSBMSUIgZmlsZXMgbmVlZGVkIHRvIGNyZWF0ZSB0aGUgTkxNIHRhcmdldCBh
Ym92ZS4NCiMgVGhlc2Ugd2lsbCBiZSBhZGRlZCBhcyBhIGxpYnJhcnkgY29tbWFuZCBpbiB0
aGUgbGluay5vcHQgZmlsZS4NCiMNCkZJTEVTX25sbV9saWJzID0gXA0KCSQoUFJFTFVERSkg
XA0KCSQoRU9MSVNUKQ0KDQojDQojIFRoZXNlIGFyZSB0aGUgbW9kdWxlcyB0aGF0IHRoZSBh
Ym92ZSBOTE0gdGFyZ2V0IGRlcGVuZHMgb24gdG8gbG9hZC4NCiMgVGhlc2Ugd2lsbCBiZSBh
ZGRlZCBhcyBhIG1vZHVsZSBjb21tYW5kIGluIHRoZSBsaW5rLm9wdCBmaWxlLg0KIw0KRklM
RVNfbmxtX21vZHVsZXMgPSBcDQoJTGliYyBcDQoJQXBhY2hlMiBcDQoJbW9kX3Byb3h5IFwN
Cgltb2RfaHR0cDIgXA0KCSQoRU9MSVNUKQ0KDQojDQojIElmIHRoZSBubG0gaGFzIGEgbXNn
IGZpbGUsIHB1dCBpdCdzIHBhdGggaGVyZQ0KIw0KRklMRV9ubG1fbXNnID0NCg0KIw0KIyBJ
ZiB0aGUgbmxtIGhhcyBhIGhscCBmaWxlIHB1dCBpdCdzIHBhdGggaGVyZQ0KIw0KRklMRV9u
bG1faGxwID0NCg0KIw0KIyBJZiB0aGlzIGlzIHNwZWNpZmllZCwgaXQgd2lsbCBvdmVycmlk
ZSAkKE5XT1MpXGNvcHlyaWdodC50eHQuDQojDQpGSUxFX25sbV9jb3B5cmlnaHQgPQ0KDQoj
DQojIEFueSBhZGRpdGlvbmFsIGltcG9ydHMgZ28gaGVyZQ0KIw0KRklMRVNfbmxtX1hpbXBv
cnRzID0gXA0KCUBsaWJjLmltcCBcDQoJQGFwcmxpYi5pbXAgXA0KCUBodHRwZC5pbXAgXA0K
CUAkKE9CSkRJUikvbW9kX2h0dHAyLmltcCBcDQoJYXBfcHJveHlfYWNxdWlyZV9jb25uZWN0
aW9uIFwNCglhcF9wcm94eV9jYW5vbl9uZXRsb2MgXA0KCWFwX3Byb3h5X2Nhbm9uZW5jIFwN
CglhcF9wcm94eV9jb25uZWN0X2JhY2tlbmQgXA0KCWFwX3Byb3h5X2Nvbm5lY3Rpb25fY3Jl
YXRlIFwNCglhcF9wcm94eV9jb29raWVfcmV2ZXJzZV9tYXAgXA0KCWFwX3Byb3h5X2RldGVy
bWluZV9jb25uZWN0aW9uIFwNCglhcF9wcm94eV9sb2NhdGlvbl9yZXZlcnNlX21hcCBcDQoJ
YXBfcHJveHlfcG9ydF9vZl9zY2hlbWUgXA0KCWFwX3Byb3h5X3JlbGVhc2VfY29ubmVjdGlv
biBcDQoJYXBfcHJveHlfc3NsX2Nvbm5lY3Rpb25fY2xlYW51cCBcDQoJcHJveHlfaG9va19j
YW5vbl9oYW5kbGVyIFwNCglwcm94eV9ob29rX3NjaGVtZV9oYW5kbGVyIFwNCglwcm94eV9t
b2R1bGUgXA0KCXByb3h5X3J1bl9kZXRhY2hfYmFja2VuZCBcDQoJJChFT0xJU1QpDQoNCiMN
CiMgQW55IHN5bWJvbHMgZXhwb3J0ZWQgdG8gaGVyZQ0KIw0KRklMRVNfbmxtX2V4cG9ydHMg
PSBcDQoJcHJveHlfaHR0cDJfbW9kdWxlIFwNCgkkKEVPTElTVCkNCg0KIw0KIyBUaGVzZSBh
cmUgdGhlIE9CSiBmaWxlcyBuZWVkZWQgdG8gY3JlYXRlIHRoZSBMSUIgdGFyZ2V0IGFib3Zl
Lg0KIyBQYXRocyBtdXN0IGFsbCB1c2UgdGhlICcvJyBjaGFyYWN0ZXINCiMNCkZJTEVTX2xp
Yl9vYmpzIDo9DQojDQojIGltcGxlbWVudCB0YXJnZXRzIGFuZCBkZXBlbmRhbmNpZXMgKGxl
YXZlIHRoaXMgc2VjdGlvbiBhbG9uZSkNCiMNCg0KbGlicyA6OiAkKE9CSkRJUikgJChUQVJH
RVRfbGliKQ0KDQpubG1zIDo6IGxpYnMgJChUQVJHRVRfbmxtKQ0KDQojDQojIFVwZGF0ZWQg
dGhpcyB0YXJnZXQgdG8gY3JlYXRlIG5lY2Vzc2FyeSBkaXJlY3RvcmllcyBhbmQgY29weSBm
aWxlcyB0byB0aGUNCiMgY29ycmVjdCBwbGFjZS4gIChTZWUgJChBUF9XT1JLKS9idWlsZC9O
V0dOVWhlYWQuaW5jIGZvciBleGFtcGxlcykNCiMNCmluc3RhbGwgOjogbmxtcyBGT1JDRQ0K
CSQoY2FsbCBDT1BZLCQoT0JKRElSKS8qLm5sbSwgICAgICAgICQoSU5TVEFMTEJBU0UpL21v
ZHVsZXMvKQ0KDQpjbGVhbiA6Og0KDQojDQojIEFueSBzcGVjaWFsaXplZCBydWxlcyBoZXJl
DQojDQoNCiMNCiMgSW5jbHVkZSB0aGUgJ3RhaWwnIG1ha2VmaWxlIHRoYXQgaGFzIHRhcmdl
dHMgdGhhdCBkZXBlbmQgb24gdmFyaWFibGVzIGRlZmluZWQNCiMgaW4gdGhpcyBtYWtlZmls
ZQ0KIw0KDQppbmNsdWRlICQoQVBCVUlMRCkvTldHTlV0YWlsLmluYw0KDQoNCg==
--------------050102090600000107080205--

From dev-return-85792-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar  5 00:29:15 2016
Return-Path: <dev-return-85792-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A3D3819FB7
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  5 Mar 2016 00:29:15 +0000 (UTC)
Received: (qmail 78083 invoked by uid 500); 5 Mar 2016 00:29:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78009 invoked by uid 500); 5 Mar 2016 00:29:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 77996 invoked by uid 99); 5 Mar 2016 00:29:15 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Mar 2016 00:29:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id AEFB8C08C7
	for <dev@httpd.apache.org>; Sat,  5 Mar 2016 00:29:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ph6WNm5S2lSd for <dev@httpd.apache.org>;
	Sat,  5 Mar 2016 00:29:14 +0000 (UTC)
Received: from heavyspace.ca (li52-56.members.linode.com [72.14.186.56])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id BADA95F3DA
	for <dev@httpd.apache.org>; Sat,  5 Mar 2016 00:29:13 +0000 (UTC)
Received: by heavyspace.ca (Postfix, from userid 1001)
	id 784BA44DB4; Sat,  5 Mar 2016 00:33:23 +0000 ()
Received: from mail.heavyspace.ca (localhost [127.0.0.1])
	by heavyspace.ca (Postfix) with ESMTP id A6E8F44D75
	for <dev@httpd.apache.org>; Sat,  5 Mar 2016 00:33:22 +0000 ()
MIME-Version: 1.0
Content-Type: multipart/mixed;
 boundary="=_5971d1078e156e9273fed90217838a66"
Date: Fri, 04 Mar 2016 18:33:22 -0600
From: monttyle@heavyspace.ca
To: dev@httpd.apache.org
Subject: suexec different-owner patch
Message-ID: <72c1d83fe1b56bb4fb90beaf8e4cdd19@heavyspace.ca>
X-Sender: monttyle@heavyspace.ca
User-Agent: Roundcube Webmail/1.0.2

--=_5971d1078e156e9273fed90217838a66
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII;
 format=flowed

Here is my first try at a patch for my suggestion, modified from httpd 
2.2.31.  It works to my satisfaction, able to switch to a UID other than 
the file's owner, while still strictly matching the UID and GID of the 
file against known values.  I make no guarantees of correctness or 
bug-freeness however.  The changes are so simple though, I hope there's 
nothing flagrantly wrong.

It uses another option, "SuexecFileGroup", which independently defines 
the specific user and group the file must belong to.  If you don't 
define it, it defaults to the old behavior.  I re-used suexec's own 
sanity checking on the new option where it seemed appropriate.

Criticisms, please?
--=_5971d1078e156e9273fed90217838a66
Content-Transfer-Encoding: base64
Content-Type: application/x-gzip;
 name=specialsuexec.patch.gz
Content-Disposition: attachment;
 filename=specialsuexec.patch.gz;
 size=3119

H4sICB4m2lYAA3NwZWNpYWxzdWV4ZWMucGF0Y2gAtVp5b9vKEf/b+hQbA3mlLOogddiW4CB+eU5r
NImDHOgDUkNgyCVFRCJZHlbSxP3sndmLy0Oy5aJGIlG7M7OzM7+dg6QX+j7pp6RfkFWeJ17fHtiD
sTXcxF6xptkwoBFNnTxOMxxaZgX9Tt2BWyHuZwl1Q2fNJx9i7fT7/YPWOrJHo1l/dNq3bDIaz8dn
88lkMJJ/pIefnV6v9z/oBEtYsMS4P5qS0Whuzeb2ZGCf2dbpZASr8iVeviT96cyckR582ufk5csO
wb+U5kUakc03N478MDCS7qJD7juk0+v0stzJQ5fATJYTd+Wk5CSjuVh36QehZ7gbb5k46SYjJ3Bp
krs49MjJhgszOz3y8J8uvghBhj4Aa3Q7vZ9ckFiYC1/msKQfkAtiNMa7RGiw4Iy6RJqmwOMkS3dF
3W9L3ABM5/R7brAdvLv5tLx+t/zj+sPyzc2r5evrN1e/xNib67fXn8A+PS419ImB0p5dkHef37zp
kp/lfoVZYVqocF/yFFH43RPaDoTuNHK+rqlXkQG7679AKw/ALFznInI21Aa7w0h30UYaSNJAkga7
SIuMpl6I1hjV5x03D+8ozFhV9ek6o7qKfpKGUe4bWe7BVlv8ffwPJ43CKJiTj2yjr8M1/WsaFwmB
lSlfJaX/KuBHRj5+vvrz6hXZpk6S0HTwz+i4W11eWBWtDRMw2CH7MVo8AqOPgOgjMApWwSM2O8cj
dm6b1kQdMWXVYp8vW0h3+bJNasWXnd5R6BtGDUAw1yW//UaMGlpwHA7ZEfj16ADstdDuBF+b3IrG
R8yZOzFIOAiIhkG0tmWdormtyZlZRjRyQvIVRS2+FMGtVKRLwoxEcQ5zKXW8fub4lJwMOcvlezje
15+Wny7/fmUbxxyqn0FBBtVjk9QgZTIImuTDxw+vlq9u3r1WKDpGLuJEHgkYyv04JVnibCPqkSSN
XZplNDvumjKGtK6sDkl1Zb995V77ynlMNk7urogTOCGC1QepuDKj/snkoEnvwbod70mJdPX0pLU6
NJGu/v+JdFUm0gmxzueTGeTSwfn07Gwyms3GWiK1Gezg85ShrkPyHwn1qA/RKC3cHNDJjMwOTfh9
GXo0ysP8B6QmRI+IaS2zPptlvBBWCT8BmI/rqW+fz+JsiHLZh7e/2KmRNn1SI0ADWf2R3YfoZkOl
cTa3R4f6oEWktLk9nk/tuW0Pzuxm8TKeTsDcPf4lzzpaKeQhpBGnTyK6ddIgk1NsEMbgGLLwtOj0
y3FUDSOSyS/ZEZLFw04CuMZDJYbxUvA1dAE97lBHoTUUAc8eqALYlk9ZNsEva6T2LMOg1IJF3HSZ
ZCIXg1rHz9cexA5jHUdBl2Gu/0KkDr6n4ckJxD52KXfwkBiDyfli3WJG6BKZmdWuH+SX7IFk14wh
rUt+/SLP1M668iDhn8j9l+8/LK/e3by9equyAjPV+chEuIzPJ/XUq9lMfA1PiLNex66TUwzOLmVh
ekIAHAQRY7IEEkZJkYvfGFYdEhXrNclpugkjDB6YPhiEBNCkBZhs3H8W/pvGvsEh0IW8ZISkRyZd
abvD+GZdmfo1EAMvr5qWv1+/K6dR7JfR7b5ZC2el3WtztpzT8Swnx7fK1XnqFQlqzPBd29aXCRJK
eNXmpnJOriA9w79PTkiRQdkIRs9WFK0ec13RY+ysQHL7RjGjQ4aMoCDIV0XGkDAZnWGcmFgTFZ0Z
zLRCwosBWH2JDakS2pjvjf261WpinWRaIeGwItsVbIUYfLjXu+2qHQnYMntB/l+6UH3k1OAudE3d
l6ZcxyQ0ugOj5jnEFWzIdoX6rEiSOM2Hj2ls67TNYF+nwNA8wdAMB8uy5tPx3LIPjfZtMrVeFf7Z
54PZlIX70ZmeYidT07IgycL31FYHGgwTpnEELnDX1Ingp2xXRSMgMnDiZNkWqvxkuyDyzLOxOPVA
SJ7+IKt4DU0Lh9uwzs9D2kmQCnbk52MNZsGvJEB4XGLcx+7yzlnDL8Q/OtiotBE4ovo9jIKwdJZE
RsGxcGzZ48l0dnp2PjruYo8J02sqpruVRhGZjWQLRglonmyBQFFdtPSm+LeOgyV0bMZxGDEdSQ7A
o1CfYBBG3jkxnmddaMFMwmUtqgLo9zA3rNFUH7/f2yvWtAQzGRBFQ6nqE3UNvcdpalvtmuqNJWjX
f5Fsl6LBudecGjScytDQ8Gqwy6vBfq8GO7wapNxeAQJIUR1qKY7cmluDPW6dHejWUs1AujV4qlu5
shW/PkHVil+DFOqfdBmUfmWV4wYaI4MV2mkAobgs1b7csoae7y/iSJO9qlwKAsJ/5Li/dgJdNdVY
8lgAn4vKNDJz9EZQeUCbFkJIazBzzAVtzBVTJWsoYWRAkmUdX9lvLA3MmHbbl5fMfGW/sbRkFi6q
cktmbkak47cMFm0rs9qlarA6c9DGXCK5xdqcmdtGX7s0WMvarcxBG3PL2q3Mq3hDARWLCjMOinte
MeQPwcwy3fTchMw3Ho2g2Jd5jgt0Ny2+d+PNButRKIm+UlkVeQ1t3K335fL98u3ln+8vP/3tVmjj
FmkKGYxAHvyG9VWpUYXZa2X2YjeN4x3MrJ56avbVmQ9OvURjxnCNei0RnFJtpSYO1lZuMCdpoDNj
cZY6mwYrZ+a9h32K/VlvPJuZY6vSe6gYl8cx8Xl7UWxgHxm/uakIRTCzuqqrEe2RjmZeeN5B6b6o
TAb6pC0nATxybHyrdX6wVk4jDyDzla6cuzBO5/xsxdtI3EGCU3IHl+y0sHrODymOJk4Kxev6hzqu
oY81r0teXEB7wocgyg+HR2rjarHazstbyCpQSG0nt/XpyganOH2El6R3QezF0dFwSK7AczbuLHVY
cc4pXNJHimb+QlRQ3ynWuTICgXKYmQENAGFzyDG3KbJc3EiTm67tUApSG2QmuXju8dyFP3butxKr
dmy6EpK0/Aa71hGWQF+azWW4eZ7hP7YfdslUYXof6WuaFekmJyg1NDVNyo5dNmnQmL7CgggjUUYp
VgLYNzPUpEWEt/1hIMzkGVJcMKQIsendUhbNoC3LYuJk6JoQb5iGkbgNYpljbOnGlmmPK+erTMza
TWIFdK4dNFW+EwVrEMjswXecDQi7HZzSPoYVJ8pNXB31iiOaKV9sKdnCJOr3jdKEBDFZOwAJdfsE
oHLRWuyXZpTuV75qpYdi5+L52mOeqrhAe9aDKfmivQqtemrnciVDYz1RovqiTGo4+ypN4ZjERS49
rSVVhlXwq6jlBpJJhHatEK7Cb1c9rFOxsli16y3NTo1YKzgVV8Uej+h5KiIXVTla66PG7/ml+BI1
8i6dVetTVfyJmlcq5Yf1Zo1QU29RfbXgsiaSPBoXWr10CDIe6JR0qhZkVBumGvGh9m3tmyoy26Ex
OxAaLe1TVfOnqt6GjcMVb2CjDCI1mT3VueCGVNclYrPj5oWzVolN3D4UZApe7CbeZGyeQ8Q/O68+
2HsTBxxhELAzfDwCrceKplQUw1kBlxCxIaNjHidxQiO0kOL/SqFlYSQZdIb4WLCOR7RnFHOTFsJ8
Q7Ag7qn8AbXVXGTVqh1JtWIz5Z75r120QYVW5uI96tQ1aihVfxBfVUpPL1UFd/AFGl+rsjU21KUS
K9jrJ5bF3j+ZnuqPM9QhMNwVpHID2o4/bl4tP9zcfOqycz/qkl+/qgvAiaE5NDgG9CkmKRsV/Zw0
ebh8YJNyG7ckxGORoyMtdSKPPEG6bos9dLjGok10RaOS2YmwFMFjK1ssvbfesXxFFj+/1lgfvxcv
/dimBWafWfB9qj9FUs7hqNwdyNHFohyGQI43oylrIv003ihmpNcIYy4BLEFAJl6KKnAgObQEgK8U
oEtk4zbIcnYTDp2ojgy+S1AnChpEQpLs4vZK0olQUomHFlvwFiklPusB/5LttQpwOLmSVbZQYcRN
AX3UhuY0xSr02idFpEhMXjKLpgIK5ViJYTUzaM6e8WOkL42KGvCI1mdVdzyQXKpRAyv7e8yswGr4
e+ysUe0xdFNWm6Wb50BWNdh8AZ8B1ekQ/nfJJsx4C3bcfFvneBvmK63HL7nAWdI8arA1YhP2Sg++
XdF8gclnc+zVi+baNUOadZu1sNTsZTZM07gpYOODtf8CVL4AmOooAAA=
--=_5971d1078e156e9273fed90217838a66--


From dev-return-85793-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar  5 12:25:28 2016
Return-Path: <dev-return-85793-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 516C418264
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  5 Mar 2016 12:25:28 +0000 (UTC)
Received: (qmail 99540 invoked by uid 500); 5 Mar 2016 12:25:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99475 invoked by uid 500); 5 Mar 2016 12:25:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99465 invoked by uid 99); 5 Mar 2016 12:25:22 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Mar 2016 12:25:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 725E2C0478
	for <dev@httpd.apache.org>; Sat,  5 Mar 2016 12:25:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id JD06vROS6rPQ for <dev@httpd.apache.org>;
	Sat,  5 Mar 2016 12:25:21 +0000 (UTC)
Received: from mail-ob0-f171.google.com (mail-ob0-f171.google.com [209.85.214.171])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 6E7695FB08
	for <dev@httpd.apache.org>; Sat,  5 Mar 2016 12:25:21 +0000 (UTC)
Received: by mail-ob0-f171.google.com with SMTP id xx9so71668548obc.2
        for <dev@httpd.apache.org>; Sat, 05 Mar 2016 04:25:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:from:date:message-id:subject:to;
        bh=A7FAu93aWoq3h9q81NxjNUJBxbzqoFj0ReDvrpg+8eA=;
        b=sZMwDemNr7NpG+KAkIdW4S2gXdqhwu99yooee3VUcJM0VLqUgxaXsKYUHTzea9tDur
         edyZQVp/Qo+ZjoYcIhGpCBXmiqP7UtW05U0Gu0Nj/xYwJdrG83l/tuARreo7mNeO+X6h
         uVQYg7ZfQdjdi1n2R5zIL7CTC9swsZ/mGxIjtqTRutcL2Dry2mjq3HA/9w6+4JktyE45
         a9lZ9BBCsao40PEUwIkkmBWvXfmTEWDL3GMpSSRgsiwVFInU+esgdbwU2XZDHuFtTXjq
         6k7Vu+fJQyHeXEEi/irSs2bLzW4KuEXF4c51RGgJvAz9Bo0SxS9rEUXpFf4bQqFwgaOW
         zACg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=A7FAu93aWoq3h9q81NxjNUJBxbzqoFj0ReDvrpg+8eA=;
        b=PNXj20lgMRWAmFIeQlDBNoeDKlti6XyIelTs7cbcJZzIVlgkMXDaWsIytPhvzfG4Ty
         y1rfUD3kA7RdFFhCIMxEXFHEIAsxQbDr/Rkh4tjeGCD2Ml9C64/4ks3R1Z1Vofv9+IVS
         NtEW70/lxgUBRfCG9TpzeRnHB2lU3vhq5aXTXezkBzBf57f9Ujzgnwkr2HXLmpBcecA6
         RE01u3KYGho4onHVaLP2yE91xijP5uVPIDIV9tsMIQ1InJk+tHvUmOiyRzmlTpsUPXFj
         mk586SK+etfZ3vTaM+IxxOTCKYrE5e4pBh20LuXNLxyQ2E8h+v184sA4hjAl7/I+77f4
         NE6g==
X-Gm-Message-State: AD7BkJLojLAalNASCsRisRDxBgT1q893wgs6+Os/qBMRYh+LGo5eh3KokcqeqnP8AYL/LAzINqK4WHF+nv5mSg==
X-Received: by 10.60.227.5 with SMTP id rw5mr347931oec.54.1457180714750; Sat,
 05 Mar 2016 04:25:14 -0800 (PST)
MIME-Version: 1.0
Received: by 10.157.4.6 with HTTP; Sat, 5 Mar 2016 04:24:35 -0800 (PST)
From: Tom Browder <tom.browder@gmail.com>
Date: Sat, 5 Mar 2016 06:24:35 -0600
Message-ID: <CAFMGiz-f7LM6wj3NwFcO=mmuGP13xdGu4PBCJY7XPaYZCzVAcQ@mail.gmail.com>
Subject: Static code checker research worth investigating (Communications of
 the ACM, 03/2016, Vol. 59, No. 03, p. 99)
To: Developer discussions <brlcad-devel@lists.sourceforge.net>, 
	"dev@httpd.apache.org" <dev@httpd.apache.org>, perl6-compiler@perl.org, openssl-dev@openssl.org, 
	postfix-devel@postfix.org, pgsql-hackers@postgresql.org, 
	cyrus-devel@lists.andrew.cmu.edu, pcre-dev@exim.org, perl5-porters@perl.org
Content-Type: text/plain; charset=UTF-8

Interesting article in latest issue of subject titled:

  "A Differential Approach to Undefined Behavior Detection"

which may describe procedures not used in other static analysis programs.

Article references the authors' website here:

  http://css.csail.mit.edu/stack

which contains more info links and a link to the software on github here:

  https://github.com/xiw/stack

Best regards,

-Tom

From dev-return-85794-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar  5 22:54:40 2016
Return-Path: <dev-return-85794-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3C89D1829C
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  5 Mar 2016 22:54:40 +0000 (UTC)
Received: (qmail 34434 invoked by uid 500); 5 Mar 2016 22:54:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34360 invoked by uid 500); 5 Mar 2016 22:54:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34350 invoked by uid 99); 5 Mar 2016 22:54:39 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Mar 2016 22:54:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 380BF1A06DB
	for <dev@httpd.apache.org>; Sat,  5 Mar 2016 22:54:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.8
X-Spam-Level: *
X-Spam-Status: No, score=1.8 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_DNSWL_NONE=-0.0001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id XVgwm7q8IcqL for <dev@httpd.apache.org>;
	Sat,  5 Mar 2016 22:54:35 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 5D80D5FB08
	for <dev@httpd.apache.org>; Sat,  5 Mar 2016 22:54:34 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id E115B21124
	for <dev@httpd.apache.org>; Sat,  5 Mar 2016 23:54:25 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id u0OHIQjc4zDW for <dev@httpd.apache.org>;
	Sat,  5 Mar 2016 23:54:25 +0100 (CET)
Received: from [10.0.0.1] (unknown [101.174.186.239])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 1F59A2025A
	for <dev@httpd.apache.org>; Sat,  5 Mar 2016 23:54:23 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: Add ?? mod_prox_http2 for NetWare build - Take 2
Message-ID: <56DB638A.90405@gknw.net>
Date: Sun, 6 Mar 2016 09:54:02 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: multipart/mixed;
 boundary="------------050802020905000807030609"

This is a multi-part message in MIME format.
--------------050802020905000807030609
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/M,
This supercedes Take 1 due to additional exports now needed by 
mod_proxy_http2 from mod_proxy and mod_http2.
Same caveat applies re tweaks to mod_proxy_http2 source files.
Norm

--------------050802020905000807030609
Content-Type: text/plain; charset=UTF-8;
 name="NWGNUproxyht2"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
 filename="NWGNUproxyht2"

Iw0KIyBUaGlzIE1ha2VmaWxlIHJlcXVpcmVzIHRoZSBlbnZpcm9ubWVudCB2YXIgTkdIMlNS
Qw0KIyBwb2ludGluZyB0byB0aGUgYmFzZSBkaXJlY3Rvcnkgb2YgbmdodHRwMiBzb3VyY2Ug
dHJlZS4NCiMNCg0KIw0KIyBEZWNsYXJlIHRoZSBzdWItZGlyZWN0b3JpZXMgdG8gYmUgYnVp
bHQgaGVyZQ0KIw0KDQpTVUJESVJTID0gXA0KCSQoRU9MSVNUKQ0KDQojDQojIEdldCB0aGUg
J2hlYWQnIG9mIHRoZSBidWlsZCBlbnZpcm9ubWVudC4gIFRoaXMgaW5jbHVkZXMgZGVmYXVs
dCB0YXJnZXRzIGFuZA0KIyBwYXRocyB0byB0b29scw0KIw0KDQppbmNsdWRlICQoQVBfV09S
SykvYnVpbGQvTldHTlVoZWFkLmluYw0KDQojDQojIGJ1aWxkIHRoaXMgbGV2ZWwncyBmaWxl
cw0KIw0KIyBNYWtlIHN1cmUgYWxsIG5lZWRlZCBtYWNybydzIGFyZSBkZWZpbmVkDQojDQoN
CiMNCiMgVGhlc2UgZGlyZWN0b3JpZXMgd2lsbCBiZSBhdCB0aGUgYmVnaW5uaW5nIG9mIHRo
ZSBpbmNsdWRlIGxpc3QsIGZvbGxvd2VkIGJ5DQojIElOQ0RJUlMNCiMNClhJTkNESVJTCSs9
IFwNCgkJCSQoQVBSKS9pbmNsdWRlIFwNCgkJCSQoQVBSVVRJTCkvaW5jbHVkZSBcDQoJCQkk
KFNSQykvaW5jbHVkZSBcDQoJCQkkKE5HSDJTUkMpL2xpYi9pbmNsdWRlcyBcDQoJCQkkKFNU
RE1PRCkvcHJveHkgXA0KCQkJJChTRVJWRVIpL21wbS9OZXRXYXJlIFwNCgkJCSQoTldPUykg
XA0KCQkJJChFT0xJU1QpDQoNCiMNCiMgVGhlc2UgZmxhZ3Mgd2lsbCBjb21lIGFmdGVyIENG
TEFHUw0KIw0KWENGTEFHUwkJKz0gXA0KCQkJJChFT0xJU1QpDQoNCiMNCiMgVGhlc2UgZGVm
aW5lcyB3aWxsIGNvbWUgYWZ0ZXIgREVGSU5FUw0KIw0KWERFRklORVMJKz0gXA0KCQkJJChF
T0xJU1QpDQoNCiMNCiMgVGhlc2UgZmxhZ3Mgd2lsbCBiZSBhZGRlZCB0byB0aGUgbGluay5v
cHQgZmlsZQ0KIw0KWExGTEFHUwkJKz0gXA0KCQkJLUwkKE9CSkRJUikgXA0KCQkJJChFT0xJ
U1QpDQoNCiMNCiMgVGhlc2UgdmFsdWVzIHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhlIGNvcnJl
Y3QgdmFyaWFibGVzIGJhc2VkIG9uIHRoZSB2YWx1ZSBvZg0KIyBSRUxFQVNFDQojDQppZmVx
ICIkKFJFTEVBU0UpIiAiZGVidWciDQpYSU5DRElSUwkrPSBcDQoJCQkkKEVPTElTVCkNCg0K
WENGTEFHUwkJKz0gXA0KCQkJJChFT0xJU1QpDQoNClhERUZJTkVTCSs9IFwNCgkJCSQoRU9M
SVNUKQ0KDQpYTEZMQUdTCQkrPSBcDQoJCQkkKEVPTElTVCkNCmVuZGlmDQoNCmlmZXEgIiQo
UkVMRUFTRSkiICJub29wdCINClhJTkNESVJTCSs9IFwNCgkJCSQoRU9MSVNUKQ0KDQpYQ0ZM
QUdTCQkrPSBcDQoJCQkkKEVPTElTVCkNCg0KWERFRklORVMJKz0gXA0KCQkJJChFT0xJU1Qp
DQoNClhMRkxBR1MJCSs9IFwNCgkJCSQoRU9MSVNUKQ0KZW5kaWYNCg0KaWZlcSAiJChSRUxF
QVNFKSIgInJlbGVhc2UiDQpYSU5DRElSUwkrPSBcDQoJCQkkKEVPTElTVCkNCg0KWENGTEFH
UwkJKz0gXA0KCQkJJChFT0xJU1QpDQoNClhERUZJTkVTCSs9IFwNCgkJCSQoRU9MSVNUKQ0K
DQpYTEZMQUdTCQkrPSBcDQoJCQkkKEVPTElTVCkNCmVuZGlmDQoNCiMNCiMgVGhlc2UgYXJl
IHVzZWQgYnkgdGhlIGxpbmsgdGFyZ2V0IGlmIGFuIE5MTSBpcyBiZWluZyBnZW5lcmF0ZWQN
CiMgVGhpcyBpcyB1c2VkIGJ5IHRoZSBsaW5rICduYW1lJyBkaXJlY3RpdmUgdG8gbmFtZSB0
aGUgbmxtLiAgSWYgbGVmdCBibGFuaw0KIyBUQVJHRVRfbmxtIChzZWUgYmVsb3cpIHdpbGwg
YmUgdXNlZC4NCiMNCk5MTV9OQU1FCT0gcHJveHlodDINCg0KIw0KIyBUaGlzIGlzIHVzZWQg
YnkgdGhlIGxpbmsgJy1kZXNjICcgZGlyZWN0aXZlLg0KIyBJZiBsZWZ0IGJsYW5rLCBOTE1f
TkFNRSB3aWxsIGJlIHVzZWQuDQojDQpOTE1fREVTQ1JJUFRJT04JPSBBcGFjaGUgJChWRVJT
SU9OX1NUUikgSFRUUDIgUHJveHkgbW9kdWxlDQojDQojIFRoaXMgaXMgdXNlZCBieSB0aGUg
Jy10aHJlYWRuYW1lJyBkaXJlY3RpdmUuICBJZiBsZWZ0IGJsYW5rLA0KIyBOTE1fTkFNRSBU
aHJlYWQgd2lsbCBiZSB1c2VkLg0KIw0KTkxNX1RIUkVBRF9OQU1FCT0gJChOTE1fTkFNRSkN
Cg0KIw0KIyBJZiB0aGlzIGlzIHNwZWNpZmllZCwgaXQgd2lsbCBvdmVycmlkZSBWRVJTSU9O
IHZhbHVlIGluDQojICQoQVBfV09SSykvYnVpbGQvTldHTlVlbnZpcm9ubWVudC5pbmMNCiMN
Ck5MTV9WRVJTSU9OCT0NCg0KIw0KIyBJZiB0aGlzIGlzIHNwZWNpZmllZCwgaXQgd2lsbCBv
dmVycmlkZSB0aGUgZGVmYXVsdCBvZiA2NEsNCiMNCk5MTV9TVEFDS19TSVpFCT0gNjU1MzYN
Cg0KIw0KIyBJZiB0aGlzIGlzIHNwZWNpZmllZCBpdCB3aWxsIGJlIHVzZWQgYnkgdGhlIGxp
bmsgJy1lbnRyeScgZGlyZWN0aXZlDQojDQpOTE1fRU5UUllfU1lNCT0NCg0KIw0KIyBJZiB0
aGlzIGlzIHNwZWNpZmllZCBpdCB3aWxsIGJlIHVzZWQgYnkgdGhlIGxpbmsgJy1leGl0JyBk
aXJlY3RpdmUNCiMNCk5MTV9FWElUX1NZTQk9DQoNCiMNCiMgSWYgdGhpcyBpcyBzcGVjaWZp
ZWQgaXQgd2lsbCBiZSB1c2VkIGJ5IHRoZSBsaW5rICctY2hlY2snIGRpcmVjdGl2ZQ0KIw0K
TkxNX0NIRUNLX1NZTQk9DQoNCiMNCiMgSWYgdGhpcyBpcyBzcGVjaWZpZWQgaXQgd2lsbCBi
ZSB1c2VkIGJ5IHRoZSBsaW5rICctZmxhZ3MnIGRpcmVjdGl2ZQ0KIw0KTkxNX0ZMQUdTCT0N
Cg0KIw0KIyBJZiB0aGlzIGlzIHNwZWNpZmllZCBpdCB3aWxsIGJlIGxpbmtlZCBpbiB3aXRo
IHRoZSBYRENEYXRhIG9wdGlvbiBpbiB0aGUgZGVmDQojIGZpbGUgaW5zdGVhZCBvZiB0aGUg
ZGVmYXVsdCBvZiAkKE5XT1MpL2FwYWNoZS54ZGMuICBYRENEYXRhIGNhbiBiZSBkaXNhYmxl
ZA0KIyBieSBzZXR0aW5nIEFQQUNIRV9VTklQUk9DIGluIHRoZSBlbnZpcm9ubWVudA0KIw0K
WERDREFUQQkJPQ0KDQojDQojIERlY2xhcmUgYWxsIHRhcmdldCBmaWxlcyAoeW91IG11c3Qg
YWRkIHlvdXIgZmlsZXMgaGVyZSkNCiMNCg0KIw0KIyBJZiB0aGVyZSBpcyBhbiBOTE0gdGFy
Z2V0LCBwdXQgaXQgaGVyZQ0KIw0KVEFSR0VUX25sbSA9IFwNCgkkKE9CSkRJUikvJChOTE1f
TkFNRSkubmxtIFwNCgkkKEVPTElTVCkNCg0KIw0KIyBJZiB0aGVyZSBpcyBhbiBMSUIgdGFy
Z2V0LCBwdXQgaXQgaGVyZQ0KIw0KVEFSR0VUX2xpYiA9IFwNCgkkKEVPTElTVCkNCg0KIw0K
IyBUaGVzZSBhcmUgdGhlIE9CSiBmaWxlcyBuZWVkZWQgdG8gY3JlYXRlIHRoZSBOTE0gdGFy
Z2V0IGFib3ZlLg0KIyBQYXRocyBtdXN0IGFsbCB1c2UgdGhlICcvJyBjaGFyYWN0ZXINCiMN
CkZJTEVTX25sbV9vYmpzID0gXA0KCSQoT0JKRElSKS9tb2RfcHJveHlfaHR0cDIubyBcDQoJ
JChPQkpESVIpL2gyX3Byb3h5X3Nlc3Npb24ubyBcDQoJJChFT0xJU1QpDQoNCiMNCiMgVGhl
c2UgYXJlIHRoZSBMSUIgZmlsZXMgbmVlZGVkIHRvIGNyZWF0ZSB0aGUgTkxNIHRhcmdldCBh
Ym92ZS4NCiMgVGhlc2Ugd2lsbCBiZSBhZGRlZCBhcyBhIGxpYnJhcnkgY29tbWFuZCBpbiB0
aGUgbGluay5vcHQgZmlsZS4NCiMNCkZJTEVTX25sbV9saWJzID0gXA0KCSQoUFJFTFVERSkg
XA0KCSQoRU9MSVNUKQ0KDQojDQojIFRoZXNlIGFyZSB0aGUgbW9kdWxlcyB0aGF0IHRoZSBh
Ym92ZSBOTE0gdGFyZ2V0IGRlcGVuZHMgb24gdG8gbG9hZC4NCiMgVGhlc2Ugd2lsbCBiZSBh
ZGRlZCBhcyBhIG1vZHVsZSBjb21tYW5kIGluIHRoZSBsaW5rLm9wdCBmaWxlLg0KIw0KRklM
RVNfbmxtX21vZHVsZXMgPSBcDQoJTGliYyBcDQoJQXBhY2hlMiBcDQoJbW9kX3Byb3h5IFwN
Cgltb2RfaHR0cDIgXA0KCSQoRU9MSVNUKQ0KDQojDQojIElmIHRoZSBubG0gaGFzIGEgbXNn
IGZpbGUsIHB1dCBpdCdzIHBhdGggaGVyZQ0KIw0KRklMRV9ubG1fbXNnID0NCg0KIw0KIyBJ
ZiB0aGUgbmxtIGhhcyBhIGhscCBmaWxlIHB1dCBpdCdzIHBhdGggaGVyZQ0KIw0KRklMRV9u
bG1faGxwID0NCg0KIw0KIyBJZiB0aGlzIGlzIHNwZWNpZmllZCwgaXQgd2lsbCBvdmVycmlk
ZSAkKE5XT1MpXGNvcHlyaWdodC50eHQuDQojDQpGSUxFX25sbV9jb3B5cmlnaHQgPQ0KDQoj
DQojIEFueSBhZGRpdGlvbmFsIGltcG9ydHMgZ28gaGVyZQ0KIw0KRklMRVNfbmxtX1hpbXBv
cnRzID0gXA0KCUBsaWJjLmltcCBcDQoJQGFwcmxpYi5pbXAgXA0KCUBodHRwZC5pbXAgXA0K
CUAkKE9CSkRJUikvbW9kX2h0dHAyLmltcCBcDQoJYXBfcHJveHlfYWNxdWlyZV9jb25uZWN0
aW9uIFwNCglhcF9wcm94eV9jYW5vbl9uZXRsb2MgXA0KCWFwX3Byb3h5X2Nhbm9uZW5jIFwN
CglhcF9wcm94eV9jb25uZWN0X2JhY2tlbmQgXA0KCWFwX3Byb3h5X2Nvbm5lY3Rpb25fY3Jl
YXRlIFwNCglhcF9wcm94eV9jb29raWVfcmV2ZXJzZV9tYXAgXA0KCWFwX3Byb3h5X2RldGVy
bWluZV9jb25uZWN0aW9uIFwNCglhcF9wcm94eV9sb2NhdGlvbl9yZXZlcnNlX21hcCBcDQoJ
YXBfcHJveHlfcG9ydF9vZl9zY2hlbWUgXA0KCWFwX3Byb3h5X3JlbGVhc2VfY29ubmVjdGlv
biBcDQoJYXBfcHJveHlfc3NsX2Nvbm5lY3Rpb25fY2xlYW51cCBcDQoJYXBfc29ja19kaXNh
YmxlX25hZ2xlIFwNCglwcm94eV9ob29rX2Nhbm9uX2hhbmRsZXIgXA0KCXByb3h5X2hvb2tf
c2NoZW1lX2hhbmRsZXIgXA0KCXByb3h5X21vZHVsZSBcDQoJcHJveHlfcnVuX2RldGFjaF9i
YWNrZW5kIFwNCgkkKEVPTElTVCkNCg0KIw0KIyBBbnkgc3ltYm9scyBleHBvcnRlZCB0byBo
ZXJlDQojDQpGSUxFU19ubG1fZXhwb3J0cyA9IFwNCglwcm94eV9odHRwMl9tb2R1bGUgXA0K
CSQoRU9MSVNUKQ0KDQojDQojIFRoZXNlIGFyZSB0aGUgT0JKIGZpbGVzIG5lZWRlZCB0byBj
cmVhdGUgdGhlIExJQiB0YXJnZXQgYWJvdmUuDQojIFBhdGhzIG11c3QgYWxsIHVzZSB0aGUg
Jy8nIGNoYXJhY3Rlcg0KIw0KRklMRVNfbGliX29ianMgOj0NCiMNCiMgaW1wbGVtZW50IHRh
cmdldHMgYW5kIGRlcGVuZGFuY2llcyAobGVhdmUgdGhpcyBzZWN0aW9uIGFsb25lKQ0KIw0K
DQpsaWJzIDo6ICQoT0JKRElSKSAkKFRBUkdFVF9saWIpDQoNCm5sbXMgOjogbGlicyAkKFRB
UkdFVF9ubG0pDQoNCiMNCiMgVXBkYXRlZCB0aGlzIHRhcmdldCB0byBjcmVhdGUgbmVjZXNz
YXJ5IGRpcmVjdG9yaWVzIGFuZCBjb3B5IGZpbGVzIHRvIHRoZQ0KIyBjb3JyZWN0IHBsYWNl
LiAgKFNlZSAkKEFQX1dPUkspL2J1aWxkL05XR05VaGVhZC5pbmMgZm9yIGV4YW1wbGVzKQ0K
Iw0KaW5zdGFsbCA6OiBubG1zIEZPUkNFDQoJJChjYWxsIENPUFksJChPQkpESVIpLyoubmxt
LCAgICAgICAgJChJTlNUQUxMQkFTRSkvbW9kdWxlcy8pDQoNCmNsZWFuIDo6DQoNCiMNCiMg
QW55IHNwZWNpYWxpemVkIHJ1bGVzIGhlcmUNCiMNCg0KIw0KIyBJbmNsdWRlIHRoZSAndGFp
bCcgbWFrZWZpbGUgdGhhdCBoYXMgdGFyZ2V0cyB0aGF0IGRlcGVuZCBvbiB2YXJpYWJsZXMg
ZGVmaW5lZA0KIyBpbiB0aGlzIG1ha2VmaWxlDQojDQoNCmluY2x1ZGUgJChBUEJVSUxEKS9O
V0dOVXRhaWwuaW5jDQoNCg0K
--------------050802020905000807030609
Content-Type: text/x-patch;
 name="trunk_modules_http2_proxy2.diff"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="trunk_modules_http2_proxy2.diff"

Index: modules/http2/h2_proxy_session.c
===================================================================
--- modules/http2/h2_proxy_session.c	(revision 1733768)
+++ modules/http2/h2_proxy_session.c	(working copy)
@@ -20,7 +20,7 @@
 #include <mpm_common.h>
 #include <httpd.h>
 #include <mod_proxy.h>
-#include <mod_http2.h>
+#include "mod_http2.h"
 
 #include "h2.h"
 #include "h2_int_queue.h"
Index: modules/http2/NWGNUmod_http2
===================================================================
--- modules/http2/NWGNUmod_http2	(revision 1733768)
+++ modules/http2/NWGNUmod_http2	(working copy)
@@ -260,7 +260,7 @@
 # Any symbols exported to here
 #
 FILES_nlm_exports = \
-	http2_module \
+	@$(OBJDIR)/mod_http2.imp \
 	$(EOLIST)
 
 #
@@ -274,7 +274,7 @@
 
 libs :: $(OBJDIR) $(NGH2SRC)/lib/config.h $(TARGET_lib)
 
-nlms :: libs $(TARGET_nlm)
+nlms :: libs $(OBJDIR)/mod_http2.imp $(TARGET_nlm)
 
 #
 # Updated this target to create necessary directories and copy files to the
@@ -290,7 +290,8 @@
 #
 vpath %.c $(NGH2SRC)/lib
 
-$(NGH2SRC)/lib/config.h : NWGNUmakefile
+$(NGH2SRC)/lib/config.h : NWGNUmod_http2
+	@-$(RM) $@
 	@echo $(DL)GEN  $@$(DL)
 	@echo $(DL)/* For NetWare target.$(DL) > $@
 	@echo $(DL)** Do not edit - created by Make!$(DL) >> $@
@@ -352,6 +353,60 @@
 	@echo $(DL)#endif /* NGH2_CONFIG_H */$(DL) >> $@
 
 #
+# Exports from mod_http2 for mod_proxy_http2
+$(OBJDIR)/mod_http2.imp : NWGNUmod_http2
+	@-$(RM) $@
+	@echo $(DL)GEN  $@$(DL)
+	@echo $(DL) (HTTP2)$(DL) > $@
+	@echo $(DL) http2_module,$(DL) >> $@
+	@echo $(DL) h2_ihash_add,$(DL) >> $@
+	@echo $(DL) h2_ihash_clear,$(DL) >> $@
+	@echo $(DL) h2_ihash_count,$(DL) >> $@
+	@echo $(DL) h2_ihash_create,$(DL) >> $@
+	@echo $(DL) h2_ihash_is_empty,$(DL) >> $@
+	@echo $(DL) h2_ihash_iter,$(DL) >> $@
+	@echo $(DL) h2_ihash_remove,$(DL) >> $@
+	@echo $(DL) h2_iq_add,$(DL) >> $@
+	@echo $(DL) h2_iq_create,$(DL) >> $@
+	@echo $(DL) h2_iq_remove,$(DL) >> $@
+	@echo $(DL) h2_log2,$(DL) >> $@
+	@echo $(DL) h2_proxy_res_ignore_header,$(DL) >> $@
+	@echo $(DL) h2_request_create,$(DL) >> $@
+	@echo $(DL) h2_request_make,$(DL) >> $@
+	@echo $(DL) h2_util_camel_case_header,$(DL) >> $@
+	@echo $(DL) h2_util_frame_print,$(DL) >> $@
+	@echo $(DL) h2_util_ngheader_make_req,$(DL) >> $@
+	@echo $(DL) nghttp2_is_fatal,$(DL) >> $@
+	@echo $(DL) nghttp2_option_del,$(DL) >> $@
+	@echo $(DL) nghttp2_option_new,$(DL) >> $@
+	@echo $(DL) nghttp2_option_set_no_auto_window_update,$(DL) >> $@
+	@echo $(DL) nghttp2_option_set_peer_max_concurrent_streams,$(DL) >> $@
+	@echo $(DL) nghttp2_session_callbacks_del,$(DL) >> $@
+	@echo $(DL) nghttp2_session_callbacks_new,$(DL) >> $@
+	@echo $(DL) nghttp2_session_callbacks_set_before_frame_send_callback,$(DL) >> $@
+	@echo $(DL) nghttp2_session_callbacks_set_on_data_chunk_recv_callback,$(DL) >> $@
+	@echo $(DL) nghttp2_session_callbacks_set_on_frame_recv_callback,$(DL) >> $@
+	@echo $(DL) nghttp2_session_callbacks_set_on_header_callback,$(DL) >> $@
+	@echo $(DL) nghttp2_session_callbacks_set_on_stream_close_callback,$(DL) >> $@
+	@echo $(DL) nghttp2_session_callbacks_set_send_callback,$(DL) >> $@
+	@echo $(DL) nghttp2_session_client_new2,$(DL) >> $@
+	@echo $(DL) nghttp2_session_consume,$(DL) >> $@
+	@echo $(DL) nghttp2_session_del,$(DL) >> $@
+	@echo $(DL) nghttp2_session_get_remote_settings,$(DL) >> $@
+	@echo $(DL) nghttp2_session_get_stream_user_data,$(DL) >> $@
+	@echo $(DL) nghttp2_session_mem_recv,$(DL) >> $@
+	@echo $(DL) nghttp2_session_resume_data,$(DL) >> $@
+	@echo $(DL) nghttp2_session_send,$(DL) >> $@
+	@echo $(DL) nghttp2_session_want_read,$(DL) >> $@
+	@echo $(DL) nghttp2_session_want_write,$(DL) >> $@
+	@echo $(DL) nghttp2_strerror,$(DL) >> $@
+	@echo $(DL) nghttp2_submit_goaway,$(DL) >> $@
+	@echo $(DL) nghttp2_submit_request,$(DL) >> $@
+	@echo $(DL) nghttp2_submit_rst_stream,$(DL) >> $@
+	@echo $(DL) nghttp2_submit_settings,$(DL) >> $@
+	@echo $(DL) nghttp2_submit_window_update,$(DL) >> $@
+	@echo $(DL) nghttp2_version$(DL) >> $@
+
 # Include the 'tail' makefile that has targets that depend on variables defined
 # in this makefile
 #
Index: modules/http2/NWGNUmakefile
===================================================================
--- modules/http2/NWGNUmakefile	(revision 1733768)
+++ modules/http2/NWGNUmakefile	(working copy)
@@ -153,7 +153,7 @@
 #
 TARGET_nlm = \
 	$(OBJDIR)/mod_http2.nlm \
-	$(OBJDIR)/mod_http2.nlm \
+	$(OBJDIR)/proxyht2.nlm \
 	$(EOLIST)
 
 #
Index: modules/http2/mod_proxy_http2.c
===================================================================
--- modules/http2/mod_proxy_http2.c	(revision 1733768)
+++ modules/http2/mod_proxy_http2.c	(working copy)
@@ -17,7 +17,7 @@
 
 #include <httpd.h>
 #include <mod_proxy.h>
-#include <mod_http2.h>
+#include "mod_http2.h"
 
 
 #include "mod_proxy_http2.h"

--------------050802020905000807030609--

From dev-return-85795-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar  6 07:13:53 2016
Return-Path: <dev-return-85795-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 686DE18B35
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  6 Mar 2016 07:13:53 +0000 (UTC)
Received: (qmail 3584 invoked by uid 500); 6 Mar 2016 07:13:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3522 invoked by uid 500); 6 Mar 2016 07:13:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3513 invoked by uid 99); 6 Mar 2016 07:13:52 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Mar 2016 07:13:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 441A1C0A90
	for <dev@httpd.apache.org>; Sun,  6 Mar 2016 07:13:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.8
X-Spam-Level: *
X-Spam-Status: No, score=1.8 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_DNSWL_NONE=-0.0001] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id urWdPiAMo2kq for <dev@httpd.apache.org>;
	Sun,  6 Mar 2016 07:13:50 +0000 (UTC)
Received: from boipeva.ensmp.fr (boipeva.ensmp.fr [194.214.158.136])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTP id 4C2C95F2EF
	for <dev@httpd.apache.org>; Sun,  6 Mar 2016 07:13:50 +0000 (UTC)
Received: from cri.ensmp.fr (152.200.219.88.rev.sfr.net [88.219.200.152])
	(authenticated bits=0)
	by boipeva.ensmp.fr (8.15.2/8.15.1/JMMC-22/Oct/2013) with ESMTPSA id u267DhHE027042
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Sun, 6 Mar 2016 08:13:43 +0100
Date: Sun, 6 Mar 2016 08:13:40 +0100 (CET)
From: Fabien <fabien@apache.org>
X-X-Sender: fabien@sto
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Subject: Re: access control for dynamic hosts (vote?)
In-Reply-To: <CALK=YjOv-3FxaSULNF5myB_E5S=Pun=p-113sucVO+RsQ1UC4w@mail.gmail.com>
Message-ID: <alpine.DEB.2.10.1603060800330.11128@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto> <alpine.DEB.2.10.1601140936560.28426@sto> <CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com> <alpine.DEB.2.10.1603011545040.18133@sto>
 <CALK=YjOv-3FxaSULNF5myB_E5S=Pun=p-113sucVO+RsQ1UC4w@mail.gmail.com>
User-Agent: Alpine 2.10 (DEB 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="8323329-506019824-1457248421=:11128"
X-Miltered: at boipeva.ensmp.fr with ID 56DBD8A7.000 by Joe's j-chkmail (http : // j-chkmail dot ensmp dot fr)!
X-j-chkmail-Auth: USER-ID fabien.coelho
X-j-chkmail-Enveloppe: 56DBD8A7.000 from 152.200.219.88.rev.sfr.net/152.200.219.88.rev.sfr.net/88.219.200.152/cri.ensmp.fr/<fabien@apache.org>

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.

--8323329-506019824-1457248421=:11128
Content-Type: TEXT/PLAIN; format=flowed; charset=US-ASCII


Hello Apache developers,

> Unfortunately I think you need to pick an awkward name here so it
> cannot be confused/misused.  Like "forward-dns"

Attached is a patch against the sources, including a documentation, 
which use the syntax "Require forward-dns foo.apache.org".

The second file is the same extension as an external module, for easy 
testing. The only difference with the integrated version is the error 
messages text which are given the function name instead of en APLOGNO, and 
the absence of documentation.

I'm proposing to commit the patch if I'm given a go.

Vote?

-- 
Fabien.
--8323329-506019824-1457248421=:11128
Content-Type: TEXT/x-diff; name=forward-dns-1.patch
Content-Transfer-Encoding: BASE64
Content-ID: <alpine.DEB.2.10.1603060813400.11128@sto>
Content-Description: 
Content-Disposition: attachment; filename=forward-dns-1.patch

SW5kZXg6IGRvY3MvbG9nLW1lc3NhZ2UtdGFncy9uZXh0LW51bWJlcg0KPT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQ0KLS0tIGRvY3MvbG9nLW1lc3NhZ2UtdGFn
cy9uZXh0LW51bWJlcgkocmV2aXNpb24gMTczMzU1OSkNCisrKyBkb2NzL2xv
Zy1tZXNzYWdlLXRhZ3MvbmV4dC1udW1iZXIJKHdvcmtpbmcgY29weSkNCkBA
IC0xICsxIEBADQotMzM1NA0KKzMzNTcNCkluZGV4OiBkb2NzL21hbnVhbC9t
b2QvbW9kX2F1dGh6X2hvc3QueG1sDQo9PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
DQotLS0gZG9jcy9tYW51YWwvbW9kL21vZF9hdXRoel9ob3N0LnhtbAkocmV2
aXNpb24gMTczMzU1OSkNCisrKyBkb2NzL21hbnVhbC9tb2QvbW9kX2F1dGh6
X2hvc3QueG1sCSh3b3JraW5nIGNvcHkpDQpAQCAtNTgsNyArNTgsOCBAQA0K
ICAgICA8cD5BcGFjaGUncyA8ZGlyZWN0aXZlIG1vZHVsZT0ibW9kX2F1dGh6
X2NvcmUiPlJlcXVpcmU8L2RpcmVjdGl2ZT4NCiAgICAgZGlyZWN0aXZlIGlz
IHVzZWQgZHVyaW5nIHRoZSBhdXRob3JpemF0aW9uIHBoYXNlIHRvIGVuc3Vy
ZSB0aGF0IGEgdXNlciBpcyBhbGxvd2VkIG9yDQogICAgIGRlbmllZCBhY2Nl
c3MgdG8gYSByZXNvdXJjZS4gIG1vZF9hdXRoel9ob3N0IGV4dGVuZHMgdGhl
DQotICAgIGF1dGhvcml6YXRpb24gdHlwZXMgd2l0aCA8Y29kZT5pcDwvY29k
ZT4sIDxjb2RlPmhvc3Q8L2NvZGU+IGFuZCA8Y29kZT5sb2NhbDwvY29kZT4u
DQorICAgIGF1dGhvcml6YXRpb24gdHlwZXMgd2l0aCA8Y29kZT5pcDwvY29k
ZT4sIDxjb2RlPmhvc3Q8L2NvZGU+LA0KKyAgICA8Y29kZT5mb3J3YXJkLWRu
czwvY29kZT4gYW5kIDxjb2RlPmxvY2FsPC9jb2RlPi4NCiAgICAgT3RoZXIg
YXV0aG9yaXphdGlvbiB0eXBlcyBtYXkgYWxzbyBiZQ0KICAgICB1c2VkIGJ1
dCBtYXkgcmVxdWlyZSB0aGF0IGFkZGl0aW9uYWwgYXV0aG9yaXphdGlvbiBt
b2R1bGVzIGJlIGxvYWRlZC48L3A+DQogDQpAQCAtMTU3LDYgKzE1OCwyOSBA
QA0KIA0KIDwvc2VjdGlvbj4NCiANCis8c2VjdGlvbiBpZD0icmVxZndkZG5z
Ij48dGl0bGU+UmVxdWlyZSBmb3J3YXJkLWRuczwvdGl0bGU+DQorDQorICAg
IDxwPlRoZSA8Y29kZT5mb3J3YXJkLWRuczwvY29kZT4gcHJvdmlkZXIgYWxs
b3dzIGFjY2VzcyB0byB0aGUgc2VydmVyDQorICAgIHRvIGJlIGNvbnRyb2xs
ZWQgYmFzZWQgb24gc2ltcGxlIGhvc3QgbmFtZXMuICBXaGVuDQorICAgIDxj
b2RlPlJlcXVpcmUgZm9yd2FyZC1kbnMgPHZhcj5ob3N0LW5hbWU8L3Zhcj48
L2NvZGU+IGlzIHNwZWNpZmllZCwNCisgICAgYWxsIElQIGFkZHJlc3NlcyBj
b3JyZXNwb25kaW5nIHRvIDxjb2RlPjx2YXI+aG9zdC1uYW1lPHZhcj48L2Nv
ZGU+DQorICAgIGFyZSBhbGxvd2VkIGFjY2Vzcy48L3A+DQorDQorICAgIDxw
PkluIGNvbnRyYXN0IHRvIHRoZSA8Y29kZT5ob3N0PC9jb2RlPiBwcm92aWRl
ciwgdGhpcyBwcm92aWRlciBkb2VzIG5vdA0KKyAgICByZWx5IG9uIHJldmVy
c2UgRE5TIGxvb2t1cHM6IGl0IHNpbXBseSBxdWVyaWVzIHRoZSBETlMgZm9y
IHRoZSBob3N0IG5hbWUNCisgICAgYW5kIGFsbG93cyBhIGNsaWVudCBpZiBp
dHMgSVAgbWF0Y2hlcy4gIEFzIGEgY29uc2VxdWVuY2UsIGl0IHdpbGwgb25s
eQ0KKyAgICB3b3JrIHdpdGggaG9zdCBuYW1lcywgbm90IGRvbWFpbiBuYW1l
cy4gIEhvd2V2ZXIsIGFzIHRoZSByZXZlcnNlIEROUyBpcw0KKyAgICBub3Qg
dXNlZCwgaXQgd2lsbCB3b3JrIHdpdGggY2xpZW50cyB3aGljaCB1c2UgYSBk
eW5hbWljIEROUyBzZXJ2aWNlLjwvcD4NCisNCisgICAgPGhpZ2hsaWdodCBs
YW5ndWFnZT0iY29uZmlnIj4NCitSZXF1aXJlIGZvcndhcmQtZG5zIGJsYS5l
eGFtcGxlLm9yZw0KKyAgICA8L2hpZ2hsaWdodD4NCisNCisgICAgPHA+QSBj
bGllbnQgdGhlIElQIG9mIHdoaWNoIGlzIHJlc29sdmVkIGZyb20gdGhlIG5h
bWUNCisgICAgPGNvZGU+YmxhLmV4YW1wbGUub3JnPC9jb2RlPiB3aWxsIGJl
IGdyYW50ZWQgYWNjZXNzLjwvcD4NCisNCis8L3NlY3Rpb24+DQorDQogPHNl
Y3Rpb24gaWQ9InJlcWxvY2FsIj48dGl0bGU+UmVxdWlyZSBsb2NhbDwvdGl0
bGU+DQogDQogICAgIDxwPlRoZSA8Y29kZT5sb2NhbDwvY29kZT4gcHJvdmlk
ZXIgYWxsb3dzIGFjY2VzcyB0byB0aGUgc2VydmVyIGlmIGFueQ0KSW5kZXg6
IG1vZHVsZXMvYWFhL21vZF9hdXRoel9ob3N0LmMNCj09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT0NCi0tLSBtb2R1bGVzL2FhYS9tb2RfYXV0aHpfaG9zdC5jCShy
ZXZpc2lvbiAxNzMzNTU5KQ0KKysrIG1vZHVsZXMvYWFhL21vZF9hdXRoel9o
b3N0LmMJKHdvcmtpbmcgY29weSkNCkBAIC0yMTYsNiArMjE2LDcxIEBADQog
ICAgIHJldHVybiBBVVRIWl9ERU5JRUQ7DQogfQ0KIA0KK3N0YXRpYyBhdXRo
el9zdGF0dXMNCitmb3J3YXJkX2Ruc19jaGVja19hdXRob3JpemF0aW9uKHJl
cXVlc3RfcmVjICpyLA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgY29uc3QgY2hhciAqcmVxdWlyZV9saW5lLA0KKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgY29uc3Qgdm9pZCAqcGFyc2VkX3JlcXVpcmVf
bGluZSkNCit7DQorICAgIGNvbnN0IGNoYXIgKmVyciA9IE5VTEw7DQorICAg
IGNvbnN0IGFwX2V4cHJfaW5mb190ICpleHByID0gcGFyc2VkX3JlcXVpcmVf
bGluZTsNCisgICAgY29uc3QgY2hhciAqcmVxdWlyZSwgKnQ7DQorICAgIGNo
YXIgKnc7DQorDQorICAgIC8qIHRoZSByZXF1aXJlIGxpbmUgaXMgYW4gZXhw
cmVzc2lvbiwgd2hpY2ggaXMgZXZhbHVhdGVkIG5vdy4gKi8NCisgICAgcmVx
dWlyZSA9IGFwX2V4cHJfc3RyX2V4ZWMociwgZXhwciwgJmVycik7DQorICAg
IGlmIChlcnIpIHsNCisgICAgICBhcF9sb2dfcmVycm9yKEFQTE9HX01BUkss
IEFQTE9HX0VSUiwgMCwgciwgQVBMT0dOTygwMzM1NCkNCisgICAgICAgICAg
ICAgICAgICAgICJDYW4ndCBldmFsdWF0ZSByZXF1aXJlIGV4cHJlc3Npb246
ICVzIiwgZXJyKTsNCisgICAgICByZXR1cm4gQVVUSFpfREVOSUVEOw0KKyAg
ICB9DQorDQorICAgIC8qIHRva2VuaXplIGV4cGVjdGVkIGxpc3Qgb2YgbmFt
ZXMgKi8NCisgICAgdCA9IHJlcXVpcmU7DQorICAgIHdoaWxlICgodyA9IGFw
X2dldHdvcmRfY29uZihyLT5wb29sLCAmdCkpICYmIHdbMF0pIHsNCisNCisg
ICAgICAgIGFwcl9zb2NrYWRkcl90ICpzYTsNCisgICAgICAgIGFwcl9zdGF0
dXNfdCBydjsNCisgICAgICAgIGNoYXIgKmhhc2hfcHRyOw0KKw0KKyAgICAg
ICAgLyogc3RvcCBvbiBhcGFjaGUgY29uZmlndXJhdGlvbiBmaWxlIGNvbW1l
bnRzICovDQorICAgICAgICBpZiAoKGhhc2hfcHRyID0gYXBfc3RyY2hyKHcs
ICcjJykpKSB7DQorICAgICAgICAgICAgaWYgKGhhc2hfcHRyID09IHcpIHsN
CisgICAgICAgICAgICAgICAgYnJlYWs7DQorICAgICAgICAgICAgfQ0KKyAg
ICAgICAgICAgICpoYXNoX3B0ciA9ICdcMCc7DQorICAgICAgICB9DQorDQor
ICAgICAgICAvKiBkb2VzIHRoZSBjbGllbnQgaXAgbWF0Y2ggb25lIG9mIHRo
ZSBuYW1lcz8gKi8NCisgICAgICAgIHJ2ID0gYXByX3NvY2thZGRyX2luZm9f
Z2V0KCZzYSwgdywgQVBSX1VOU1BFQywgMCwgMCwgci0+cG9vbCk7DQorICAg
ICAgICBpZiAocnYgPT0gQVBSX1NVQ0NFU1MpIHsNCisNCisgICAgICAgICAg
ICB3aGlsZSAoc2EpIHsNCisgICAgICAgICAgICAgICAgaW50IG1hdGNoID0g
YXByX3NvY2thZGRyX2VxdWFsKHNhLCByLT51c2VyYWdlbnRfYWRkcik7DQor
DQorICAgICAgICAgICAgICAgIGFwX2xvZ19yZXJyb3IoQVBMT0dfTUFSSywg
QVBMT0dfREVCVUcsIDAsIHIsIEFQTE9HTk8oMDMzNTUpDQorICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgImFjY2VzcyBjaGVjayBmb3IgJXMgYXMg
JyVzJzogJXMiLA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIt
PnVzZXJhZ2VudF9pcCwgdywgbWF0Y2g/ICJ5ZXMiOiAibm8iKTsNCisgICAg
ICAgICAgICAgICAgaWYgKG1hdGNoKSB7DQorICAgICAgICAgICAgICAgICAg
ICByZXR1cm4gQVVUSFpfR1JBTlRFRDsNCisgICAgICAgICAgICAgICAgfQ0K
Kw0KKyAgICAgICAgICAgICAgICBzYSA9IHNhLT5uZXh0Ow0KKyAgICAgICAg
ICAgIH0NCisgICAgICAgIH0NCisgICAgICAgIGVsc2Ugew0KKyAgICAgICAg
ICAgIGFwX2xvZ19yZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfV0FSTklORywg
MCwgciwgQVBMT0dOTygwMzM1NikNCisgICAgICAgICAgICAgICAgICAgICAg
ICAgICJObyBzb2NrYWRkciBpbmZvIGZvciBcIiVzXCIiLCB3KTsNCisgICAg
ICAgIH0NCisNCisgICAgICAgIC8qIHN0b3AgcHJvY2Vzc2luZywgd2UgYXJl
IGluIGEgY29tbWVudCAqLw0KKyAgICAgICAgaWYgKGhhc2hfcHRyKSB7DQor
ICAgICAgICAgICAgYnJlYWs7DQorICAgICAgICB9DQorICAgIH0NCisNCisg
ICAgcmV0dXJuIEFVVEhaX0RFTklFRDsNCit9DQorDQogc3RhdGljIGF1dGh6
X3N0YXR1cyBsb2NhbF9jaGVja19hdXRob3JpemF0aW9uKHJlcXVlc3RfcmVj
ICpyLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBjb25zdCBjaGFyICpyZXF1aXJlX2xpbmUsDQogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZv
aWQgKnBhcnNlZF9yZXF1aXJlX2xpbmUpDQpAQCAtMjY1LDYgKzMzMCwxMiBA
QA0KICAgICAmaG9zdF9wYXJzZV9jb25maWcsDQogfTsNCiANCitzdGF0aWMg
Y29uc3QgYXV0aHpfcHJvdmlkZXIgYXV0aHpfZm9yd2FyZF9kbnNfcHJvdmlk
ZXIgPQ0KK3sNCisgICAgJmZvcndhcmRfZG5zX2NoZWNrX2F1dGhvcml6YXRp
b24sDQorICAgICZob3N0X3BhcnNlX2NvbmZpZywNCit9Ow0KKw0KIHN0YXRp
YyBjb25zdCBhdXRoel9wcm92aWRlciBhdXRoel9sb2NhbF9wcm92aWRlciA9
DQogew0KICAgICAmbG9jYWxfY2hlY2tfYXV0aG9yaXphdGlvbiwNCkBAIC0z
MDksNiArMzgwLDEwIEBADQogICAgIGFwX3JlZ2lzdGVyX2F1dGhfcHJvdmlk
ZXIocCwgQVVUSFpfUFJPVklERVJfR1JPVVAsICJob3N0IiwNCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBBVVRIWl9QUk9WSURFUl9WRVJTSU9O
LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZhdXRoel9ob3N0
X3Byb3ZpZGVyLCBBUF9BVVRIX0lOVEVSTkFMX1BFUl9DT05GKTsNCisgICAg
YXBfcmVnaXN0ZXJfYXV0aF9wcm92aWRlcihwLCBBVVRIWl9QUk9WSURFUl9H
Uk9VUCwgImZvcndhcmQtZG5zIiwNCisgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBBVVRIWl9QUk9WSURFUl9WRVJTSU9OLA0KKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICZhdXRoel9mb3J3YXJkX2Ruc19wcm92aWRl
ciwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBUF9BVVRIX0lO
VEVSTkFMX1BFUl9DT05GKTsNCiAgICAgYXBfcmVnaXN0ZXJfYXV0aF9wcm92
aWRlcihwLCBBVVRIWl9QUk9WSURFUl9HUk9VUCwgImxvY2FsIiwNCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBBVVRIWl9QUk9WSURFUl9WRVJT
SU9OLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZhdXRoel9s
b2NhbF9wcm92aWRlciwgQVBfQVVUSF9JTlRFUk5BTF9QRVJfQ09ORik7DQo=

--8323329-506019824-1457248421=:11128
Content-Type: TEXT/x-csrc; name=mod_authz_forward_dns.c
Content-Transfer-Encoding: BASE64
Content-ID: <alpine.DEB.2.10.1603060813401.11128@sto>
Content-Description: 
Content-Disposition: attachment; filename=mod_authz_forward_dns.c

LyogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9u
IChBU0YpIHVuZGVyIG9uZSBvciBtb3JlDQogKiBjb250cmlidXRvciBsaWNl
bnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3RyaWJ1
dGVkIHdpdGgNCiAqIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1h
dGlvbiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4NCiAqIFRoZSBB
U0YgbGljZW5zZXMgdGhpcyBmaWxlIHRvIFlvdSB1bmRlciB0aGUgQXBhY2hl
IExpY2Vuc2UsIFZlcnNpb24gMi4wDQogKiAodGhlICJMaWNlbnNlIik7IHlv
dSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ug
d2l0aA0KICogdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkg
b2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiAgICAgaHR0cDovL3d3dy5hcGFj
aGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0KICogVW5sZXNzIHJl
cXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0
aW5nLCBzb2Z0d2FyZQ0KICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vu
c2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywNCiAqIFdJ
VEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBl
aXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLg0KICogU2VlIHRoZSBMaWNlbnNl
IGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Np
b25zIGFuZA0KICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuDQog
Ki8NCg0KLyoNCiAqIFNlY3VyaXR5IG9wdGlvbnMgZXRjLg0KICoNCiAqIE1v
ZHVsZSBkZXJpdmVkIGZyb20gY29kZSBvcmlnaW5hbGx5IHdyaXR0ZW4gYnkg
Um9iIE1jQ29vbA0KICoNCiAqLw0KDQojaW5jbHVkZSAiYXByX3N0cmluZ3Mu
aCINCiNpbmNsdWRlICJhcHJfbmV0d29ya19pby5oIg0KI2luY2x1ZGUgImFw
cl9tZDUuaCINCiNpbmNsdWRlICJhcHJfaGFzaC5oIg0KDQojZGVmaW5lIEFQ
Ul9XQU5UX1NUUkZVTkMNCiNkZWZpbmUgQVBSX1dBTlRfQllURUZVTkMNCiNp
bmNsdWRlICJhcHJfd2FudC5oIg0KDQojaW5jbHVkZSAiYXBfY29uZmlnLmgi
DQojaW5jbHVkZSAiYXBfcHJvdmlkZXIuaCINCiNpbmNsdWRlICJodHRwZC5o
Ig0KI2luY2x1ZGUgImh0dHBfY29yZS5oIg0KI2luY2x1ZGUgImh0dHBfY29u
ZmlnLmgiDQojaW5jbHVkZSAiaHR0cF9sb2cuaCINCiNpbmNsdWRlICJodHRw
X3Byb3RvY29sLmgiDQojaW5jbHVkZSAiaHR0cF9yZXF1ZXN0LmgiDQoNCiNp
bmNsdWRlICJtb2RfYXV0aC5oIg0KDQojaWYgQVBSX0hBVkVfTkVUSU5FVF9J
Tl9IDQojaW5jbHVkZSA8bmV0aW5ldC9pbi5oPg0KI2VuZGlmDQoNCnN0YXRp
YyBhdXRoel9zdGF0dXMNCmZvcndhcmRfZG5zX2NoZWNrX2F1dGhvcml6YXRp
b24ocmVxdWVzdF9yZWMgKnIsDQogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGNvbnN0IGNoYXIgKnJlcXVpcmVfbGluZSwNCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgY29uc3Qgdm9pZCAqcGFyc2VkX3JlcXVp
cmVfbGluZSkNCnsNCiAgICBjb25zdCBjaGFyICplcnIgPSBOVUxMOw0KICAg
IGNvbnN0IGFwX2V4cHJfaW5mb190ICpleHByID0gcGFyc2VkX3JlcXVpcmVf
bGluZTsNCiAgICBjb25zdCBjaGFyICpyZXF1aXJlLCAqdDsNCiAgICBjaGFy
ICp3Ow0KDQogICAgLyogdGhlIHJlcXVpcmUgbGluZSBpcyBhbiBleHByZXNz
aW9uLCB3aGljaCBpcyBldmFsdWF0ZWQgbm93LiAqLw0KICAgIHJlcXVpcmUg
PSBhcF9leHByX3N0cl9leGVjKHIsIGV4cHIsICZlcnIpOw0KICAgIGlmIChl
cnIpIHsNCiAgICAgIGFwX2xvZ19yZXJyb3IoQVBMT0dfTUFSSywgQVBMT0df
RVJSLCAwLCByLCAvLyBBUExPR05PKEZJWE1FKQ0KICAgICAgICAgICAgICAg
ICAgICAiZm9yd2FyZF9kbnNfY2hlY2tfYXV0aG9yaXphdGlvbjogIg0KICAg
ICAgICAgICAgICAgICAgICAiQ2FuJ3QgZXZhbHVhdGUgcmVxdWlyZSBleHBy
ZXNzaW9uOiAlcyIsIGVycik7DQogICAgICByZXR1cm4gQVVUSFpfREVOSUVE
Ow0KICAgIH0NCg0KICAgIC8qIHRva2VuaXplIGV4cGVjdGVkIGxpc3Qgb2Yg
bmFtZXMgKi8NCiAgICB0ID0gcmVxdWlyZTsNCiAgICB3aGlsZSAoKHcgPSBh
cF9nZXR3b3JkX2NvbmYoci0+cG9vbCwgJnQpKSAmJiB3WzBdKSB7DQoNCiAg
ICAgICAgYXByX3NvY2thZGRyX3QgKnNhOw0KICAgICAgICBhcHJfc3RhdHVz
X3QgcnY7DQogICAgICAgIGNoYXIgKmhhc2hfcHRyOw0KDQogICAgICAgIC8q
IHN0b3Agb24gYXBhY2hlIGNvbmZpZ3VyYXRpb24gZmlsZSBjb21tZW50cyAq
Lw0KICAgICAgICBpZiAoKGhhc2hfcHRyID0gYXBfc3RyY2hyKHcsICcjJykp
KSB7DQogICAgICAgICAgICBpZiAoaGFzaF9wdHIgPT0gdykgew0KICAgICAg
ICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAg
Kmhhc2hfcHRyID0gJ1wwJzsNCiAgICAgICAgfQ0KDQogICAgICAgIC8qIGRv
ZXMgdGhlIGNsaWVudCBpcCBtYXRjaCBvbmUgb2YgdGhlIG5hbWVzPyAqLw0K
ICAgICAgICBydiA9IGFwcl9zb2NrYWRkcl9pbmZvX2dldCgmc2EsIHcsIEFQ
Ul9VTlNQRUMsIDAsIDAsIHItPnBvb2wpOw0KICAgICAgICBpZiAocnYgPT0g
QVBSX1NVQ0NFU1MpIHsNCg0KICAgICAgICAgICAgd2hpbGUgKHNhKSB7DQog
ICAgICAgICAgICAgICAgaW50IG1hdGNoID0gYXByX3NvY2thZGRyX2VxdWFs
KHNhLCByLT51c2VyYWdlbnRfYWRkcik7DQoNCiAgICAgICAgICAgICAgICBh
cF9sb2dfcmVycm9yKEFQTE9HX01BUkssIEFQTE9HX0RFQlVHLCAwLCByLCAv
LyBBUExPR05PKEZJWE1FKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgImZvcndhcmRfZG5zX2NoZWNrX2F1dGhvcml6YXRpb24iIC8vIF9fZnVu
Y19fDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiOiAlcyBmb3Ig
JXM6ICVzIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHcsIHIt
PnVzZXJhZ2VudF9pcCwgbWF0Y2g/ICJ5ZXMiOiAibm8iKTsNCiAgICAgICAg
ICAgICAgICBpZiAobWF0Y2gpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0
dXJuIEFVVEhaX0dSQU5URUQ7DQogICAgICAgICAgICAgICAgfQ0KDQogICAg
ICAgICAgICAgICAgc2EgPSBzYS0+bmV4dDsNCiAgICAgICAgICAgIH0NCiAg
ICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIGFwX2xvZ19y
ZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfV0FSTklORywgMCwgciwgLy8gQVBM
T0dOTyhGSVhNRSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgImZvcndh
cmRfZG5zX2NoZWNrX2F1dGhvcml6YXRpb24iIC8vIF9fZnVuY19fDQogICAg
ICAgICAgICAgICAgICAgICAgICAgICI6IG5vIHNvY2thZGRyIGluZm8gZm9y
IFwiJXNcIiIsIHcpOw0KICAgICAgICB9DQoNCiAgICAgICAgLyogc3RvcCBw
cm9jZXNzaW5nLCB3ZSBhcmUgaW4gYSBjb21tZW50ICovDQogICAgICAgIGlm
IChoYXNoX3B0cikgew0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIH0N
CiAgICB9DQoNCiAgICByZXR1cm4gQVVUSFpfREVOSUVEOw0KfQ0KDQovKiBj
b3B5IG9mIGhvc3RfcGFyc2VfY29uZmlnICovDQpzdGF0aWMgY29uc3QgY2hh
ciAqaG9zdF9wYXJzZV9jb25maWcoY21kX3Bhcm1zICpjbWQsIGNvbnN0IGNo
YXIgKnJlcXVpcmVfbGluZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBjb25zdCB2b2lkICoqcGFyc2VkX3JlcXVpcmVfbGluZSkN
CnsNCiAgICBjb25zdCBjaGFyICpleHByX2VyciA9IE5VTEw7DQogICAgYXBf
ZXhwcl9pbmZvX3QgKmV4cHI7DQoNCiAgICBleHByID0gYXBfZXhwcl9wYXJz
ZV9jbWQoY21kLCByZXF1aXJlX2xpbmUsIEFQX0VYUFJfRkxBR19TVFJJTkdf
UkVTVUxULA0KICAgICAgICAgICAgJmV4cHJfZXJyLCBOVUxMKTsNCg0KICAg
IGlmIChleHByX2VycikNCiAgICAgICAgcmV0dXJuIGFwcl9wc3RyY2F0KGNt
ZC0+dGVtcF9wb29sLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIkNh
bm5vdCBwYXJzZSBleHByZXNzaW9uIGluIHJlcXVpcmUgbGluZTogIiwNCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJfZXJyLCBOVUxMKTsNCg0K
ICAgICpwYXJzZWRfcmVxdWlyZV9saW5lID0gZXhwcjsNCg0KICAgIHJldHVy
biBOVUxMOw0KfQ0KDQpzdGF0aWMgY29uc3QgYXV0aHpfcHJvdmlkZXIgYXV0
aHpfZm9yd2FyZF9kbnNfcHJvdmlkZXIgPQ0Kew0KICAgICZmb3J3YXJkX2Ru
c19jaGVja19hdXRob3JpemF0aW9uLA0KICAgICZob3N0X3BhcnNlX2NvbmZp
ZywNCn07DQoNCnN0YXRpYyB2b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29s
X3QgKnApDQp7DQogICAgYXBfcmVnaXN0ZXJfYXV0aF9wcm92aWRlcihwLCBB
VVRIWl9QUk9WSURFUl9HUk9VUCwgImZvcndhcmQtZG5zIiwNCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIEFVVEhaX1BST1ZJREVSX1ZFUlNJT04s
DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmYXV0aHpfZm9yd2Fy
ZF9kbnNfcHJvdmlkZXIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBBUF9BVVRIX0lOVEVSTkFMX1BFUl9DT05GKTsNCn0NCg0KQVBfREVDTEFS
RV9NT0RVTEUoYXV0aHpfZm9yd2FyZF9kbnMpID0NCnsNCiAgICBTVEFOREFS
RDIwX01PRFVMRV9TVFVGRiwNCiAgICBOVUxMLCAgICAgICAgICAgICAgICAg
ICAgICAgICAgIC8qIGRpciBjb25maWcgY3JlYXRlciAqLw0KICAgIE5VTEws
ICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogZGlyIG1lcmdlciAtLS0g
ZGVmYXVsdCBpcyB0byBvdmVycmlkZSAqLw0KICAgIE5VTEwsICAgICAgICAg
ICAgICAgICAgICAgICAgICAgLyogc2VydmVyIGNvbmZpZyAqLw0KICAgIE5V
TEwsICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogbWVyZ2Ugc2VydmVy
IGNvbmZpZyAqLw0KICAgIE5VTEwsDQogICAgcmVnaXN0ZXJfaG9va3MgICAg
ICAgICAgICAgICAgICAvKiByZWdpc3RlciBob29rcyAqLw0KfTsNCg==

--8323329-506019824-1457248421=:11128--

From dev-return-85796-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar  6 07:15:17 2016
Return-Path: <dev-return-85796-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7930018B3D
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  6 Mar 2016 07:15:17 +0000 (UTC)
Received: (qmail 5521 invoked by uid 500); 6 Mar 2016 07:15:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5436 invoked by uid 500); 6 Mar 2016 07:15:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5427 invoked by uid 99); 6 Mar 2016 07:15:16 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Mar 2016 07:15:16 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id 77C891A0312
	for <dev@httpd.apache.org>; Sun,  6 Mar 2016 07:15:16 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id F02F460D59; Sun,  6 Mar 2016 07:15:15 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2016/03/06]
Message-Id: <20160306071515.F02F460D59@asf-bz1-us-mid.priv.apache.org>
Date: Sun,  6 Mar 2016 07:15:06 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24437|Opn|Nor|2003-11-05|mod_auth_ldap doubly-escapes backslash (\) charact|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Enh|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37770|Opn|Blk|2005-12-03|proxy: error reading status line from remote serve|
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Inf|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|Verify that log directories exist in httpd -t conf|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|Opn|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Maj|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47650|Opn|Trv|2009-08-05|httxt2dbm calculates value size incorrectly       |
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|New|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51104|Opn|Maj|2011-04-21|C++ support about httpd_config.h                  |
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|Opn|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Blk|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Nor|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|53999|Opn|Nor|2012-10-13|Deadlock between procmgr_send_spawn_cmd()/proctabl|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|Ver|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|mod_remoteip updates the "ip" (%a), but "host" (%h|
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|Inf|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|New|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|Ver|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|Ver|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|Ver|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|Ver|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Enh|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|Opn|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
|58089|New|Nor|2015-07-01|mod_authz_host uses proxy IP even when mod_remotei|
|58101|New|Nor|2015-07-05|DeflateCompressionLevel inside vhost resets logfor|
|58107|New|Blk|2015-07-06|Httpd crashes on startup every time, dump file att|
|58109|New|Nor|2015-07-06|Apache on windows cannot handle the hash symbol (#|
|58118|New|Min|2015-07-09|mod_proxy_fcgi logs 503 when user aborts connectio|
|58120|New|Nor|2015-07-10|ProxyPassInherit does not work as expect          |
|58121|New|Nor|2015-07-10|ProxyHTMLMeta seems to ignore all <meta http-equiv|
|58129|New|Nor|2015-07-12|man pages are not generated correctly             |
|58132|New|Nor|2015-07-12|non-standard, non-traditional man page layout make|
|58135|New|Nor|2015-07-14|mod_cache sends client "if-Modified-Since" to back|
|58141|New|Nor|2015-07-15|Apache Service doesn't start when rotatlogs.exe pa|
|58142|New|Nor|2015-07-15|authz_core ignores loglevel                       |
|58158|New|Nor|2015-07-21|Not honoring HTTP spec with regard to Accept-Encod|
|58168|New|Enh|2015-07-21|Would like full request evaluation support in Rewr|
|58171|New|Nor|2015-07-22|ap_session_save saves the wrong session after a de|
|58177|New|Enh|2015-07-24|Mod Proxy forward trailers in http chunked request|
|58180|New|Enh|2015-07-24|ErrorDocument original URL in subsequent <Location|
|58181|New|Enh|2015-07-25|mod_expire should allow "minus" keyword same like |
|58188|New|Nor|2015-07-28|http2 mod_lua: support build with lua 5.2+        |
|58197|New|Nor|2015-07-31|apr-util-1.5.4 build against openldap - "could not|
|58225|New|Reg|2015-08-08|intermitant segfault 11 in session_identity_encode|
|58226|New|Nor|2015-08-08|XSS in Error Page                                 |
|58231|New|Nor|2015-08-11|RewriteCond can add "Host" to the Vary-Header     |
|58235|New|Enh|2015-08-12|Ability to allow from domain but with using forwar|
|58243|New|Nor|2015-08-14|rotatelogs goes infinite at startup               |
|58248|New|Nor|2015-08-17|Error 404 in use some characters of utf8 in url   |
|58257|New|Nor|2015-08-18|require ldap-group does not work if account-fullna|
|58278|Inf|Blk|2015-08-24|apache - mod_security Issue : apache no releasing |
|58280|New|Nor|2015-08-24|Backend connection not closed until timeout if cli|
|58288|New|Blk|2015-08-27|Semaphore amount increase until crash when enablin|
|58292|New|Nor|2015-08-27|FallbackResource breaks chunked encoding sometimes|
|58304|New|Nor|2015-08-30|Unexpected Warnings from Macro Use in 2.4         |
|58307|New|Nor|2015-08-31|Segmentation fault in child in "read(__nbytes, __b|
|58317|New|Min|2015-09-02|Error message AH01630 is missing file name on deny|
|58334|New|Min|2015-09-06|WebDAV HTTP access does not include meta tag for c|
|58335|New|Nor|2015-09-07|mod_authnz_ldap mismatch                          |
|58343|New|Nor|2015-09-08|The pdf files come up as a blank page.            |
|58354|New|Maj|2015-09-10|(20014)Internal error (specific information not av|
|58356|New|Blk|2015-09-10|Session jumping due to incorrect route            |
|58364|New|Reg|2015-09-11|Apache Server is restarted time to time (Release 2|
|58417|New|Min|2015-09-16|ApacheBench (ab) won't display Server Software of |
|58419|New|Nor|2015-09-16|ApacheBench (ab) doesn't work with keep-alives aga|
|58423|New|Reg|2015-09-17|Apache >= 2.4.8 PCRE_DUPNAMES causes build failure|
|58437|Opn|Nor|2015-09-21|mod_h2: h2c doesn't work using upgrade from http 1|
|58467|New|Maj|2015-09-29|Environment Variables in ProxyHTMLURLMap produces |
|58475|New|Nor|2015-10-03|Support append/merge with semicolon-separated head|
|58488|New|Nor|2015-10-08|Stoped PHP-FPM pool in multi-pool system with comu|
|58491|New|Maj|2015-10-09|Core dumps appear when the load increases         |
|58492|Inf|Nor|2015-10-09|I think LDAPConnectionPoolTTL is not being honored|
|58498|New|Nor|2015-10-16|Apache 2.4.17: Regression with mod_autoindex (in c|
|58500|New|Nor|2015-10-16|dav_fs not enabled by default                     |
|58503|New|Cri|2015-10-16|segfault in apr_brigade_cleanup() under high load |
|58509|New|Trv|2015-10-20|2.4.17-dev introduces second core.c handler at sta|
|58524|New|Nor|2015-10-23|mod_http2 segfaults when under heavy load         |
|58528|New|Nor|2015-10-23|AllowOverrideList None gets misparsed and .htacces|
|58529|New|Maj|2015-10-23|Segmentation fault after modifying a proxy Balance|
|58550|New|Enh|2015-10-26|During load, Apache 2.2.x with prefork MPM didn|
|58574|New|Nor|2015-11-02|Apache error AH01630 (client denied) but working  |
|58593|New|Nor|2015-11-06|mod_proxy wrong decision between http and ws      |
|58598|New|Enh|2015-11-08|Internal Server Error (500) when requesting non-ex|
|58602|New|Nor|2015-11-11|Priority issue on DirectoryMatch directive        |
|58604|New|Reg|2015-11-12|Plaintext auth broken in any Explicit FTP/AUTH TLS|
|58612|New|Min|2015-11-16|mod_webdav when write_stream failed should break a|
|58669|New|Nor|2015-11-30|Order of DBDInitSQL and DBDPrepareSQL             |
|58688|New|Nor|2015-12-03|Missing mod_ssl connection-level upgrade headers f|
|58700|New|Nor|2015-12-07|Apache logs not working with mod_remoteip and X-fo|
|58720|New|Enh|2015-12-11|querying server status stalls when scoreboard is f|
|58727|New|Min|2015-12-13|Directories with a ProxyPass directive are not dis|
|58732|New|Nor|2015-12-14|Error Log isn't writing When Apache Shutdown with |
|58739|New|Cri|2015-12-15|Undocumented behavior of REDIRECT_URL and REDIRECT|
|58777|New|Enh|2015-12-28|URLs containing a ? are assumed to be query string|
|58798|New|Nor|2016-01-04|Misleading terminology                            |
|58799|New|Nor|2016-01-04|mod_fcgid: FcgidMinProcessesPerClass doesn't seem |
|58803|New|Cri|2016-01-05|HTTP connection is getting closed after 5 mins ( R|
|58826|New|Cri|2016-01-08|OCSP Stapling does not resolve DNS                |
|58828|New|Maj|2016-01-08|LA-U variables not set depending on the URI       |
|58834|New|Nor|2016-01-11|ModRewrite fails with .php urls and FPM on Apache |
|58842|New|Nor|2016-01-12|mod_proxy DNS cache with authoritative and no-auth|
|58854|Inf|Reg|2016-01-13|RewriteRule in .htaccess ignores 'Require all deni|
|58855|New|Enh|2016-01-14|Don't read through entire string when testing for |
|58856|New|Reg|2016-01-14|AddOutputFilterByType in Apache 2.4 inserts filter|
|58873|New|Nor|2016-01-15|Chunked encoding, Content Length and mod_deflate  |
|58880|New|Enh|2016-01-17|Support serving stale content while revalidating c|
|58887|Inf|Nor|2016-01-18|Updated install.xml.es and took out the html code |
|58889|New|Blk|2016-01-19|mod_proxy mixes random chars to the backend reques|
|58890|New|Nor|2016-01-19|Address comments on expression parser doc         |
|58892|New|Nor|2016-01-19|Remove 'advanced' rewrite doc, and organize by top|
|58893|New|Nor|2016-01-19|Document that RewriteMap names must be unique acro|
|58894|Inf|Nor|2016-01-20|Updates and Translated into Spanish new features 2|
|58901|New|Nor|2016-01-21|Download of large file is aborted in SSL_write on |
|58907|Inf|Nor|2016-01-21|Translated document  sitemap.xml.es into Spanish  |
|58921|New|Nor|2016-01-26|Compiler removal of code to clear password buffer |
|58926|New|Nor|2016-01-28|[Patchset] Improvements for apxs                  |
|58929|New|Maj|2016-01-28|coredump when sending illegal CONNECT request     |
|58934|New|Nor|2016-01-29|mod_proxy initial BalancerMember settings not appl|
|58944|New|Nor|2016-01-30|configure script breaks openssl static library dep|
|58945|New|Nor|2016-01-30|Custom-error.xml.es Translated to Spanish.        |
|58960|New|Nor|2016-02-02|Proxying Docker Registry HTTP PATCH command fails |
|58964|New|Maj|2016-02-03|Problems when caching more than one SSI level     |
|58969|New|Nor|2016-02-04|Translated bind.xml.es into spanish need feedback |
|58971|New|Nor|2016-02-04|Upgrade header added in 2.4.18 causes disconnect f|
|58977|New|Maj|2016-02-06|Wrong saved content                               |
|58981|New|Min|2016-02-07|Makefile.win references incorrect src_so file exte|
|58984|New|Nor|2016-02-09|mod_rewrite documentation for R flag should includ|
|58990|New|Enh|2016-02-10|Option to send "406 Not Acceptable" when mime type|
|58994|Inf|Nor|2016-02-11|Apache service is crashing for every two hours    |
|59007|New|Nor|2016-02-15|mod_proxy disables balancer worker after a timeout|
|59032|New|Enh|2016-02-19|mod_proxy_http replaces non compliant status-line |
|59040|New|Trv|2016-02-22|SSILegacyExprParser directive defined as OR_LIMIT,|
|59045|New|Maj|2016-02-22|Request body read timeout (AH01382) triggered with|
|59049|New|Maj|2016-02-23|Apache doesn't recover from OCSP decode error     |
|59078|New|Min|2016-02-26|http2 module causes threads to stick in graceful e|
|59086|New|Nor|2016-02-27|Brackets in DocumentRoot and Directory not support|
|59087|Opn|Nor|2016-02-29|DH parameters with too small prime lengths used wi|
|59088|New|Nor|2016-02-29|mod_reqtimeout default log level too low          |
|59090|New|Cri|2016-03-01|Issue with WebDav - org.apache.http.NoHttpResponse|
|59111|New|Nor|2016-03-03|Apache Bench does not parse lowercase field names |
|59121|New|Min|2016-03-04|The fix to mod_http2 for bug 59078 broke server-st|
|59124|New|Nor|2016-03-05|mod_autoindex not behaving as described in the doc|
+-----+---+---+----------+--------------------------------------------------+
| Total 1583 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-85797-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar  6 08:31:37 2016
Return-Path: <dev-return-85797-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5720E18D43
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  6 Mar 2016 08:31:37 +0000 (UTC)
Received: (qmail 94319 invoked by uid 500); 6 Mar 2016 08:31:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94268 invoked by uid 500); 6 Mar 2016 08:31:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94258 invoked by uid 99); 6 Mar 2016 08:31:36 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Mar 2016 08:31:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 7BB261A0897
	for <dev@httpd.apache.org>; Sun,  6 Mar 2016 08:31:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.262
X-Spam-Level:
X-Spam-Status: No, score=0.262 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RDNS_DYNAMIC=0.363, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Md1E/sfZ;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=rWUmaUd6
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 8GgEVy1V6Qx6 for <dev@httpd.apache.org>;
	Sun,  6 Mar 2016 08:31:32 +0000 (UTC)
Received: from mail.greenbytes.de (b2b-5-10-171-186.unitymedia.biz [5.10.171.186])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id EFA685F3F1
	for <dev@httpd.apache.org>; Sun,  6 Mar 2016 08:31:31 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 232B915A08A6; Sun,  6 Mar 2016 09:31:25 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457253085; bh=fTGZbzJ8AK++HXoVRqyn7oSqAYVIoBh6fnAAIQAb9Ao=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=Md1E/sfZrvYFmPwyBoGIKOhgms3ClzS8mvNGzADnPc9pQ0Old5wFjqi03mulLfudv
	 bIrByLSQ2urdQEdUbgzBWqh7Dwrs5qAV3YENbEaKFDMGO8vMrUP2YkS/7yWAmwQKBN
	 Nc8CoNVKBRUc14nIcHxXeFZZYK6Z2gg5fPisRoT8=
Received: from [192.168.178.70] (unknown [84.150.90.197])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 6FA2315A0364
	for <dev@httpd.apache.org>; Sun,  6 Mar 2016 09:31:24 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457253084; bh=fTGZbzJ8AK++HXoVRqyn7oSqAYVIoBh6fnAAIQAb9Ao=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=rWUmaUd68zSA/jW4mq0hbC/KwZLrVvvu5m9wIhK7djh3He4HWii9WQj3l5b28E6r8
	 dyUTsIcTL1IVctWB3wMOKJdiEZMeEzHD0NVJ1yMhySHh6poKpnosMfudqMbIBcN+IU
	 ewvDW2+1zy+OSq+N3b/dU7AWVyEavXed1we0TwlM=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: Add ?? mod_prox_http2 for NetWare build - Take 2
Message-Id: <6A047CC9-B47F-46A3-B8D7-2E3A6E779A8B@greenbytes.de>
Date: Sun, 6 Mar 2016 09:31:23 +0100
References: <56DB638A.90405@gknw.net>
In-Reply-To: <56DB638A.90405@gknw.net>
To: dev@httpd.apache.org
X-Mailer: iPhone Mail (13D20)

Thanks Norm, will look at it tomorrow.=20

> Am 05.03.2016 um 23:54 schrieb NormW <normw@gknw.net>:
>=20
> G/M,
> This supercedes Take 1 due to additional exports now needed by mod_proxy_h=
ttp2 from mod_proxy and mod_http2.
> Same caveat applies re tweaks to mod_proxy_http2 source files.
> Norm
> <NWGNUproxyht2>
> <trunk_modules_http2_proxy2.diff>

From dev-return-85798-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar  6 12:04:49 2016
Return-Path: <dev-return-85798-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 86CD418141
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  6 Mar 2016 12:04:49 +0000 (UTC)
Received: (qmail 12381 invoked by uid 500); 6 Mar 2016 12:04:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12299 invoked by uid 500); 6 Mar 2016 12:04:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12288 invoked by uid 99); 6 Mar 2016 12:04:48 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Mar 2016 12:04:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C69DD1A08A3
	for <dev@httpd.apache.org>; Sun,  6 Mar 2016 12:04:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id YZdQNN-WUffM for <dev@httpd.apache.org>;
	Sun,  6 Mar 2016 12:04:45 +0000 (UTC)
Received: from mail-qg0-f47.google.com (mail-qg0-f47.google.com [209.85.192.47])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id E082D5F3F2
	for <dev@httpd.apache.org>; Sun,  6 Mar 2016 12:04:44 +0000 (UTC)
Received: by mail-qg0-f47.google.com with SMTP id w104so77457419qge.1
        for <dev@httpd.apache.org>; Sun, 06 Mar 2016 04:04:44 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=W3YYEAVxUiZMSp08l5rdg9XyUmo71cxfxwYnIDMPLzw=;
        b=IOigro9CkhJzs2KzCB8TyS4BrioN1K0Wjbns3l66Oe2nf8U8HZqz9RVTEnRvyEJH5Q
         cVuyOYpr2Jr4Nzo9MxUPIgiS5fHEksBiyXqrKLg/+nJWV80xZUWTQKtnj6qVObx1vdTX
         g6mBJNZAffjNQ3cLAP66bTyp0RY0HocNXMToweYcAx7opmql4jIVk8uGun5Nfh95n+EV
         AGdpG2yqShK0P3Afc5cqzL66kTjDJFxUqEKdCkZkZ+aDsbn1Cg3gSrQGhHT0xsl2ydQF
         pfLoHg8bs7Xsf//TG6DLWg+N8HHd3LQdKfA3MVrRF1qQ15O+pWosl+M9wML02P+wK2tC
         lc5Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=W3YYEAVxUiZMSp08l5rdg9XyUmo71cxfxwYnIDMPLzw=;
        b=iBzeqlfYmjHP/mKmW03GrXXcHdjG9T1hJQ1G7ajoCEsgPIT0bOgkvQPSKxDWy/Ko8z
         uVhBoVGCKleMAamsJ5yCtQbkIGKTIr/b0m6FtMccvXypEHwe0Y1s8Mj6Z6KRMhwJvDtm
         0Xv5naVekfiz5ekI7+wVt57+4rcYfP+nokBwRvpyO7Hq+eRKPYyexx+f2k/hD7c8Q7zB
         vVyRrk+MYkNW7UcV2Y9xewxEDdUS4867GFcrXQ0kvPg/HNJWDxGyGlMpJk+YtbzgM8Jl
         ChkjuPebLtPHKGuVi/dxU/WvQtncqeH14dmkULzQzzIge6R4nWd0udq/Z9J8u8UhUFi/
         GuPQ==
X-Gm-Message-State: AD7BkJL6H1OpnpEqbYmwVWivUKHhm6Ffp6wvI51J+Zb646/kLQwJZ+C+vros3e81/FMGnohzI9nI5mrBsU8Tjg==
MIME-Version: 1.0
X-Received: by 10.140.82.70 with SMTP id g64mr22547354qgd.14.1457265877780;
 Sun, 06 Mar 2016 04:04:37 -0800 (PST)
Received: by 10.55.10.7 with HTTP; Sun, 6 Mar 2016 04:04:37 -0800 (PST)
In-Reply-To: <alpine.DEB.2.10.1603060800330.11128@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto>
	<alpine.DEB.2.10.1601140936560.28426@sto>
	<CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com>
	<alpine.DEB.2.10.1603011545040.18133@sto>
	<CALK=YjOv-3FxaSULNF5myB_E5S=Pun=p-113sucVO+RsQ1UC4w@mail.gmail.com>
	<alpine.DEB.2.10.1603060800330.11128@sto>
Date: Sun, 6 Mar 2016 13:04:37 +0100
Message-ID: <CAKQ1sVPb0G+WqQiqytm=X3TVVOCk6PLfvWCUPTWrPt_gMQ1=NQ@mail.gmail.com>
Subject: Re: access control for dynamic hosts (vote?)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Sun, Mar 6, 2016 at 8:13 AM, Fabien <fabien@apache.org> wrote:
>
> I'm proposing to commit the patch if I'm given a go.
>
> Vote?

LGTM, +1

Regards,
Yann.

From dev-return-85799-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar  6 13:12:20 2016
Return-Path: <dev-return-85799-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 07ABB18265
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  6 Mar 2016 13:12:20 +0000 (UTC)
Received: (qmail 94851 invoked by uid 500); 6 Mar 2016 13:12:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94782 invoked by uid 500); 6 Mar 2016 13:12:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94772 invoked by uid 99); 6 Mar 2016 13:12:19 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Mar 2016 13:12:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1563E1804CE
	for <dev@httpd.apache.org>; Sun,  6 Mar 2016 13:12:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.8
X-Spam-Level: *
X-Spam-Status: No, score=1.8 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_DNSWL_NONE=-0.0001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id DDxuK9APZpOv for <dev@httpd.apache.org>;
	Sun,  6 Mar 2016 13:12:17 +0000 (UTC)
Received: from boipeva.ensmp.fr (boipeva.ensmp.fr [194.214.158.136])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id EA62D5FB5B
	for <dev@httpd.apache.org>; Sun,  6 Mar 2016 13:12:16 +0000 (UTC)
Received: from cri.ensmp.fr (152.200.219.88.rev.sfr.net [88.219.200.152])
	(authenticated bits=0)
	by boipeva.ensmp.fr (8.15.2/8.15.1/JMMC-22/Oct/2013) with ESMTPSA id u26DC8Ne001624
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Sun, 6 Mar 2016 14:12:09 +0100
Date: Sun, 6 Mar 2016 14:12:05 +0100 (CET)
From: Fabien <fabien@apache.org>
X-X-Sender: fabien@sto
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Subject: Re: access control for dynamic hosts (vote?)
In-Reply-To: <alpine.DEB.2.10.1603060800330.11128@sto>
Message-ID: <alpine.DEB.2.10.1603061409220.11128@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto> <alpine.DEB.2.10.1601140936560.28426@sto> <CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com> <alpine.DEB.2.10.1603011545040.18133@sto> <CALK=YjOv-3FxaSULNF5myB_E5S=Pun=p-113sucVO+RsQ1UC4w@mail.gmail.com>
 <alpine.DEB.2.10.1603060800330.11128@sto>
User-Agent: Alpine 2.10 (DEB 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="8323329-1055231117-1457269927=:11128"
X-Miltered: at boipeva.ensmp.fr with ID 56DC2CA8.000 by Joe's j-chkmail (http : // j-chkmail dot ensmp dot fr)!
X-j-chkmail-Auth: USER-ID fabien.coelho
X-j-chkmail-Enveloppe: 56DC2CA8.000 from 152.200.219.88.rev.sfr.net/152.200.219.88.rev.sfr.net/88.219.200.152/cri.ensmp.fr/<fabien@apache.org>

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.

--8323329-1055231117-1457269927=:11128
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed


> Attached is a patch against the sources, including a documentation, which use 
> the syntax "Require forward-dns foo.apache.org".

Here is a v2 which adds a missing "/" in the XML documentation.

-- 
Fabien.
--8323329-1055231117-1457269927=:11128
Content-Type: TEXT/x-diff; name=forward-dns-2.patch
Content-Transfer-Encoding: BASE64
Content-ID: <alpine.DEB.2.10.1603061412050.11128@sto>
Content-Description: 
Content-Disposition: attachment; filename=forward-dns-2.patch

SW5kZXg6IGRvY3MvbG9nLW1lc3NhZ2UtdGFncy9uZXh0LW51bWJlcg0KPT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQ0KLS0tIGRvY3MvbG9nLW1lc3NhZ2UtdGFn
cy9uZXh0LW51bWJlcgkocmV2aXNpb24gMTczMzc5MSkNCisrKyBkb2NzL2xv
Zy1tZXNzYWdlLXRhZ3MvbmV4dC1udW1iZXIJKHdvcmtpbmcgY29weSkNCkBA
IC0xICsxIEBADQotMzM1NA0KKzMzNTcNCkluZGV4OiBkb2NzL21hbnVhbC9t
b2QvbW9kX2F1dGh6X2hvc3QueG1sDQo9PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
DQotLS0gZG9jcy9tYW51YWwvbW9kL21vZF9hdXRoel9ob3N0LnhtbAkocmV2
aXNpb24gMTczMzc5MSkNCisrKyBkb2NzL21hbnVhbC9tb2QvbW9kX2F1dGh6
X2hvc3QueG1sCSh3b3JraW5nIGNvcHkpDQpAQCAtNTgsNyArNTgsOCBAQA0K
ICAgICA8cD5BcGFjaGUncyA8ZGlyZWN0aXZlIG1vZHVsZT0ibW9kX2F1dGh6
X2NvcmUiPlJlcXVpcmU8L2RpcmVjdGl2ZT4NCiAgICAgZGlyZWN0aXZlIGlz
IHVzZWQgZHVyaW5nIHRoZSBhdXRob3JpemF0aW9uIHBoYXNlIHRvIGVuc3Vy
ZSB0aGF0IGEgdXNlciBpcyBhbGxvd2VkIG9yDQogICAgIGRlbmllZCBhY2Nl
c3MgdG8gYSByZXNvdXJjZS4gIG1vZF9hdXRoel9ob3N0IGV4dGVuZHMgdGhl
DQotICAgIGF1dGhvcml6YXRpb24gdHlwZXMgd2l0aCA8Y29kZT5pcDwvY29k
ZT4sIDxjb2RlPmhvc3Q8L2NvZGU+IGFuZCA8Y29kZT5sb2NhbDwvY29kZT4u
DQorICAgIGF1dGhvcml6YXRpb24gdHlwZXMgd2l0aCA8Y29kZT5pcDwvY29k
ZT4sIDxjb2RlPmhvc3Q8L2NvZGU+LA0KKyAgICA8Y29kZT5mb3J3YXJkLWRu
czwvY29kZT4gYW5kIDxjb2RlPmxvY2FsPC9jb2RlPi4NCiAgICAgT3RoZXIg
YXV0aG9yaXphdGlvbiB0eXBlcyBtYXkgYWxzbyBiZQ0KICAgICB1c2VkIGJ1
dCBtYXkgcmVxdWlyZSB0aGF0IGFkZGl0aW9uYWwgYXV0aG9yaXphdGlvbiBt
b2R1bGVzIGJlIGxvYWRlZC48L3A+DQogDQpAQCAtMTU3LDYgKzE1OCwyOSBA
QA0KIA0KIDwvc2VjdGlvbj4NCiANCis8c2VjdGlvbiBpZD0icmVxZndkZG5z
Ij48dGl0bGU+UmVxdWlyZSBmb3J3YXJkLWRuczwvdGl0bGU+DQorDQorICAg
IDxwPlRoZSA8Y29kZT5mb3J3YXJkLWRuczwvY29kZT4gcHJvdmlkZXIgYWxs
b3dzIGFjY2VzcyB0byB0aGUgc2VydmVyDQorICAgIHRvIGJlIGNvbnRyb2xs
ZWQgYmFzZWQgb24gc2ltcGxlIGhvc3QgbmFtZXMuICBXaGVuDQorICAgIDxj
b2RlPlJlcXVpcmUgZm9yd2FyZC1kbnMgPHZhcj5ob3N0LW5hbWU8L3Zhcj48
L2NvZGU+IGlzIHNwZWNpZmllZCwNCisgICAgYWxsIElQIGFkZHJlc3NlcyBj
b3JyZXNwb25kaW5nIHRvIDxjb2RlPjx2YXI+aG9zdC1uYW1lPC92YXI+PC9j
b2RlPg0KKyAgICBhcmUgYWxsb3dlZCBhY2Nlc3MuPC9wPg0KKw0KKyAgICA8
cD5JbiBjb250cmFzdCB0byB0aGUgPGNvZGU+aG9zdDwvY29kZT4gcHJvdmlk
ZXIsIHRoaXMgcHJvdmlkZXIgZG9lcyBub3QNCisgICAgcmVseSBvbiByZXZl
cnNlIEROUyBsb29rdXBzOiBpdCBzaW1wbHkgcXVlcmllcyB0aGUgRE5TIGZv
ciB0aGUgaG9zdCBuYW1lDQorICAgIGFuZCBhbGxvd3MgYSBjbGllbnQgaWYg
aXRzIElQIG1hdGNoZXMuICBBcyBhIGNvbnNlcXVlbmNlLCBpdCB3aWxsIG9u
bHkNCisgICAgd29yayB3aXRoIGhvc3QgbmFtZXMsIG5vdCBkb21haW4gbmFt
ZXMuICBIb3dldmVyLCBhcyB0aGUgcmV2ZXJzZSBETlMgaXMNCisgICAgbm90
IHVzZWQsIGl0IHdpbGwgd29yayB3aXRoIGNsaWVudHMgd2hpY2ggdXNlIGEg
ZHluYW1pYyBETlMgc2VydmljZS48L3A+DQorDQorICAgIDxoaWdobGlnaHQg
bGFuZ3VhZ2U9ImNvbmZpZyI+DQorUmVxdWlyZSBmb3J3YXJkLWRucyBibGEu
ZXhhbXBsZS5vcmcNCisgICAgPC9oaWdobGlnaHQ+DQorDQorICAgIDxwPkEg
Y2xpZW50IHRoZSBJUCBvZiB3aGljaCBpcyByZXNvbHZlZCBmcm9tIHRoZSBu
YW1lDQorICAgIDxjb2RlPmJsYS5leGFtcGxlLm9yZzwvY29kZT4gd2lsbCBi
ZSBncmFudGVkIGFjY2Vzcy48L3A+DQorDQorPC9zZWN0aW9uPg0KKw0KIDxz
ZWN0aW9uIGlkPSJyZXFsb2NhbCI+PHRpdGxlPlJlcXVpcmUgbG9jYWw8L3Rp
dGxlPg0KIA0KICAgICA8cD5UaGUgPGNvZGU+bG9jYWw8L2NvZGU+IHByb3Zp
ZGVyIGFsbG93cyBhY2Nlc3MgdG8gdGhlIHNlcnZlciBpZiBhbnkNCkluZGV4
OiBtb2R1bGVzL2FhYS9tb2RfYXV0aHpfaG9zdC5jDQo9PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09DQotLS0gbW9kdWxlcy9hYWEvbW9kX2F1dGh6X2hvc3QuYwko
cmV2aXNpb24gMTczMzc5MSkNCisrKyBtb2R1bGVzL2FhYS9tb2RfYXV0aHpf
aG9zdC5jCSh3b3JraW5nIGNvcHkpDQpAQCAtMjE2LDYgKzIxNiw3MSBAQA0K
ICAgICByZXR1cm4gQVVUSFpfREVOSUVEOw0KIH0NCiANCitzdGF0aWMgYXV0
aHpfc3RhdHVzDQorZm9yd2FyZF9kbnNfY2hlY2tfYXV0aG9yaXphdGlvbihy
ZXF1ZXN0X3JlYyAqciwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGNvbnN0IGNoYXIgKnJlcXVpcmVfbGluZSwNCisgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGNvbnN0IHZvaWQgKnBhcnNlZF9yZXF1aXJl
X2xpbmUpDQorew0KKyAgICBjb25zdCBjaGFyICplcnIgPSBOVUxMOw0KKyAg
ICBjb25zdCBhcF9leHByX2luZm9fdCAqZXhwciA9IHBhcnNlZF9yZXF1aXJl
X2xpbmU7DQorICAgIGNvbnN0IGNoYXIgKnJlcXVpcmUsICp0Ow0KKyAgICBj
aGFyICp3Ow0KKw0KKyAgICAvKiB0aGUgcmVxdWlyZSBsaW5lIGlzIGFuIGV4
cHJlc3Npb24sIHdoaWNoIGlzIGV2YWx1YXRlZCBub3cuICovDQorICAgIHJl
cXVpcmUgPSBhcF9leHByX3N0cl9leGVjKHIsIGV4cHIsICZlcnIpOw0KKyAg
ICBpZiAoZXJyKSB7DQorICAgICAgYXBfbG9nX3JlcnJvcihBUExPR19NQVJL
LCBBUExPR19FUlIsIDAsIHIsIEFQTE9HTk8oMDMzNTQpDQorICAgICAgICAg
ICAgICAgICAgICAiQ2FuJ3QgZXZhbHVhdGUgcmVxdWlyZSBleHByZXNzaW9u
OiAlcyIsIGVycik7DQorICAgICAgcmV0dXJuIEFVVEhaX0RFTklFRDsNCisg
ICAgfQ0KKw0KKyAgICAvKiB0b2tlbml6ZSBleHBlY3RlZCBsaXN0IG9mIG5h
bWVzICovDQorICAgIHQgPSByZXF1aXJlOw0KKyAgICB3aGlsZSAoKHcgPSBh
cF9nZXR3b3JkX2NvbmYoci0+cG9vbCwgJnQpKSAmJiB3WzBdKSB7DQorDQor
ICAgICAgICBhcHJfc29ja2FkZHJfdCAqc2E7DQorICAgICAgICBhcHJfc3Rh
dHVzX3QgcnY7DQorICAgICAgICBjaGFyICpoYXNoX3B0cjsNCisNCisgICAg
ICAgIC8qIHN0b3Agb24gYXBhY2hlIGNvbmZpZ3VyYXRpb24gZmlsZSBjb21t
ZW50cyAqLw0KKyAgICAgICAgaWYgKChoYXNoX3B0ciA9IGFwX3N0cmNocih3
LCAnIycpKSkgew0KKyAgICAgICAgICAgIGlmIChoYXNoX3B0ciA9PSB3KSB7
DQorICAgICAgICAgICAgICAgIGJyZWFrOw0KKyAgICAgICAgICAgIH0NCisg
ICAgICAgICAgICAqaGFzaF9wdHIgPSAnXDAnOw0KKyAgICAgICAgfQ0KKw0K
KyAgICAgICAgLyogZG9lcyB0aGUgY2xpZW50IGlwIG1hdGNoIG9uZSBvZiB0
aGUgbmFtZXM/ICovDQorICAgICAgICBydiA9IGFwcl9zb2NrYWRkcl9pbmZv
X2dldCgmc2EsIHcsIEFQUl9VTlNQRUMsIDAsIDAsIHItPnBvb2wpOw0KKyAg
ICAgICAgaWYgKHJ2ID09IEFQUl9TVUNDRVNTKSB7DQorDQorICAgICAgICAg
ICAgd2hpbGUgKHNhKSB7DQorICAgICAgICAgICAgICAgIGludCBtYXRjaCA9
IGFwcl9zb2NrYWRkcl9lcXVhbChzYSwgci0+dXNlcmFnZW50X2FkZHIpOw0K
Kw0KKyAgICAgICAgICAgICAgICBhcF9sb2dfcmVycm9yKEFQTE9HX01BUkss
IEFQTE9HX0RFQlVHLCAwLCByLCBBUExPR05PKDAzMzU1KQ0KKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICJhY2Nlc3MgY2hlY2sgZm9yICVzIGFz
ICclcyc6ICVzIiwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBy
LT51c2VyYWdlbnRfaXAsIHcsIG1hdGNoPyAieWVzIjogIm5vIik7DQorICAg
ICAgICAgICAgICAgIGlmIChtYXRjaCkgew0KKyAgICAgICAgICAgICAgICAg
ICAgcmV0dXJuIEFVVEhaX0dSQU5URUQ7DQorICAgICAgICAgICAgICAgIH0N
CisNCisgICAgICAgICAgICAgICAgc2EgPSBzYS0+bmV4dDsNCisgICAgICAg
ICAgICB9DQorICAgICAgICB9DQorICAgICAgICBlbHNlIHsNCisgICAgICAg
ICAgICBhcF9sb2dfcmVycm9yKEFQTE9HX01BUkssIEFQTE9HX1dBUk5JTkcs
IDAsIHIsIEFQTE9HTk8oMDMzNTYpDQorICAgICAgICAgICAgICAgICAgICAg
ICAgICAiTm8gc29ja2FkZHIgaW5mbyBmb3IgXCIlc1wiIiwgdyk7DQorICAg
ICAgICB9DQorDQorICAgICAgICAvKiBzdG9wIHByb2Nlc3NpbmcsIHdlIGFy
ZSBpbiBhIGNvbW1lbnQgKi8NCisgICAgICAgIGlmIChoYXNoX3B0cikgew0K
KyAgICAgICAgICAgIGJyZWFrOw0KKyAgICAgICAgfQ0KKyAgICB9DQorDQor
ICAgIHJldHVybiBBVVRIWl9ERU5JRUQ7DQorfQ0KKw0KIHN0YXRpYyBhdXRo
el9zdGF0dXMgbG9jYWxfY2hlY2tfYXV0aG9yaXphdGlvbihyZXF1ZXN0X3Jl
YyAqciwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgY29uc3QgY2hhciAqcmVxdWlyZV9saW5lLA0KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2
b2lkICpwYXJzZWRfcmVxdWlyZV9saW5lKQ0KQEAgLTI2NSw2ICszMzAsMTIg
QEANCiAgICAgJmhvc3RfcGFyc2VfY29uZmlnLA0KIH07DQogDQorc3RhdGlj
IGNvbnN0IGF1dGh6X3Byb3ZpZGVyIGF1dGh6X2ZvcndhcmRfZG5zX3Byb3Zp
ZGVyID0NCit7DQorICAgICZmb3J3YXJkX2Ruc19jaGVja19hdXRob3JpemF0
aW9uLA0KKyAgICAmaG9zdF9wYXJzZV9jb25maWcsDQorfTsNCisNCiBzdGF0
aWMgY29uc3QgYXV0aHpfcHJvdmlkZXIgYXV0aHpfbG9jYWxfcHJvdmlkZXIg
PQ0KIHsNCiAgICAgJmxvY2FsX2NoZWNrX2F1dGhvcml6YXRpb24sDQpAQCAt
MzA5LDYgKzM4MCwxMCBAQA0KICAgICBhcF9yZWdpc3Rlcl9hdXRoX3Byb3Zp
ZGVyKHAsIEFVVEhaX1BST1ZJREVSX0dST1VQLCAiaG9zdCIsDQogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgQVVUSFpfUFJPVklERVJfVkVSU0lP
TiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmYXV0aHpfaG9z
dF9wcm92aWRlciwgQVBfQVVUSF9JTlRFUk5BTF9QRVJfQ09ORik7DQorICAg
IGFwX3JlZ2lzdGVyX2F1dGhfcHJvdmlkZXIocCwgQVVUSFpfUFJPVklERVJf
R1JPVVAsICJmb3J3YXJkLWRucyIsDQorICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgQVVUSFpfUFJPVklERVJfVkVSU0lPTiwNCisgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAmYXV0aHpfZm9yd2FyZF9kbnNfcHJvdmlk
ZXIsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVBfQVVUSF9J
TlRFUk5BTF9QRVJfQ09ORik7DQogICAgIGFwX3JlZ2lzdGVyX2F1dGhfcHJv
dmlkZXIocCwgQVVUSFpfUFJPVklERVJfR1JPVVAsICJsb2NhbCIsDQogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgQVVUSFpfUFJPVklERVJfVkVS
U0lPTiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmYXV0aHpf
bG9jYWxfcHJvdmlkZXIsIEFQX0FVVEhfSU5URVJOQUxfUEVSX0NPTkYpOw0K

--8323329-1055231117-1457269927=:11128--

From dev-return-85800-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar  6 20:50:32 2016
Return-Path: <dev-return-85800-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B891F18B83
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  6 Mar 2016 20:50:32 +0000 (UTC)
Received: (qmail 3435 invoked by uid 500); 6 Mar 2016 20:50:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3372 invoked by uid 500); 6 Mar 2016 20:50:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3362 invoked by uid 99); 6 Mar 2016 20:50:27 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Mar 2016 20:50:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 3B4C8C17D1
	for <dev@httpd.apache.org>; Sun,  6 Mar 2016 20:50:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 3PcSaKXX-hTw for <dev@httpd.apache.org>;
	Sun,  6 Mar 2016 20:50:26 +0000 (UTC)
Received: from mail-wm0-f47.google.com (mail-wm0-f47.google.com [74.125.82.47])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 345A45FB1D
	for <dev@httpd.apache.org>; Sun,  6 Mar 2016 20:50:26 +0000 (UTC)
Received: by mail-wm0-f47.google.com with SMTP id l68so84525643wml.0
        for <dev@httpd.apache.org>; Sun, 06 Mar 2016 12:50:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=ySFhnCpDIO0dDBrdfoULCFGmYvpxsAodBymnd2F4gw0=;
        b=MB9Ki4U79m6aup+fLrUmnUVC6mJQYTaS79zb0tzBRmYUDH32i7LmevJiBiwYKRL33W
         3ZSpO2DqStHSjymZ6zO4Lf5aMt55glKMvXsLPqpg2pZoSXQfeCIx1gYvVpUhy2dLuPSB
         sYDZu8mT9yNZY1NHM+iXa8sCWj45zFPYdtmO81I1eG/unic8GMq0vaypeePPwqARqi3F
         tu5m2GhZzYh51kmVE5ozpg42g4JuzaEkqnnIKBfhpjn6LI7SNUNMeaR0zORJRar26uGN
         bGxafjk7zHsO1UoN4mSHKZbONNE0hNPGIs0MRFv7l8i7G4rTpL61nrV/ycaDxTCB66PJ
         BRbA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=ySFhnCpDIO0dDBrdfoULCFGmYvpxsAodBymnd2F4gw0=;
        b=OFS6IyOeB5+3R2nvzsqHLJpYt8dATFEGqE3vB0DP/BZ8XmqbPa2qk27mekgRB2Z80V
         LKCvo8GDLhaMaE/aB+W6iS0vfKQA7QABUp5h1O0jsKtSbP0z9jFeOoQ/gR7jYjpsfIZH
         cuXYmTie0+G6Xrzr/PmuGp5I15zVnSojJM7hHVPLWJ+FZWCvMDzPO2zcasYqHIYZpUeh
         qpKqLy8YaNcgiqBvVerqRf+nYRhwkRjwV83iGwYw2I0Adm3yPEp1myTTk8lyYDpT1X7k
         HmMIbn7ugPTEU5F2TiTXEj5Uf9omYmu834yo6w2w1/Bgi7THJwmbXMAlYyTzkpnk1f4l
         MIAw==
X-Gm-Message-State: AD7BkJKm/sByGACqkXya+AB+TmuqgW2WE207BDnaF7NWeR7WwrREK9dyKDDhMF02RLh57kJ/d6iH1QLmySVCWg==
MIME-Version: 1.0
X-Received: by 10.194.2.202 with SMTP id 10mr21817813wjw.94.1457297424974;
 Sun, 06 Mar 2016 12:50:24 -0800 (PST)
Received: by 10.28.129.78 with HTTP; Sun, 6 Mar 2016 12:50:24 -0800 (PST)
In-Reply-To: <alpine.DEB.2.10.1603061409220.11128@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto>
	<alpine.DEB.2.10.1601140936560.28426@sto>
	<CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com>
	<alpine.DEB.2.10.1603011545040.18133@sto>
	<CALK=YjOv-3FxaSULNF5myB_E5S=Pun=p-113sucVO+RsQ1UC4w@mail.gmail.com>
	<alpine.DEB.2.10.1603060800330.11128@sto>
	<alpine.DEB.2.10.1603061409220.11128@sto>
Date: Sun, 6 Mar 2016 21:50:24 +0100
Message-ID: <CAA=k7mXvjBA6KqmGPjc+7b2L4GQEJ4wZQpzEfaeMuvC1r_x8ng@mail.gmail.com>
Subject: Re: access control for dynamic hosts (vote?)
From: Mario Brandt <jblond@gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

+1

On 6 March 2016 at 14:12, Fabien <fabien@apache.org> wrote:
>
>> Attached is a patch against the sources, including a documentation, which
>> use the syntax "Require forward-dns foo.apache.org".
>
>
> Here is a v2 which adds a missing "/" in the XML documentation.
>
> --
> Fabien.

From dev-return-85801-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar  7 11:41:39 2016
Return-Path: <dev-return-85801-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D157B191CC
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  7 Mar 2016 11:41:39 +0000 (UTC)
Received: (qmail 18960 invoked by uid 500); 7 Mar 2016 11:41:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18896 invoked by uid 500); 7 Mar 2016 11:41:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18886 invoked by uid 99); 7 Mar 2016 11:41:38 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Mar 2016 11:41:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8B125180184
	for <dev@httpd.apache.org>; Mon,  7 Mar 2016 11:41:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -4.551
X-Spam-Level:
X-Spam-Status: No, score=-4.551 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, RCVD_IN_DNSWL_HI=-5,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RP_MATCHES_RCVD=-0.329, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 8z2JYvHO19-w for <dev@httpd.apache.org>;
	Mon,  7 Mar 2016 11:41:35 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 1D5E65FBB9
	for <dev@httpd.apache.org>; Mon,  7 Mar 2016 11:41:35 +0000 (UTC)
Received: from int-mx09.intmail.prod.int.phx2.redhat.com (int-mx09.intmail.prod.int.phx2.redhat.com [10.5.11.22])
	by mx1.redhat.com (Postfix) with ESMTPS id 126697208C
	for <dev@httpd.apache.org>; Mon,  7 Mar 2016 11:41:28 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-33.brq.redhat.com [10.40.204.33])
	by int-mx09.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id u27BfQfR014749
	for <dev@httpd.apache.org>; Mon, 7 Mar 2016 06:41:27 -0500
To: dev@httpd.apache.org
From: =?UTF-8?Q?Jan_Kalu=c5=bea?= <jkaluza@redhat.com>
Subject: [PATCH] Add "FreeListen" to support IP_FREEBIND
Message-ID: <56DD68E5.2040309@redhat.com>
Date: Mon, 7 Mar 2016 12:41:25 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.0
MIME-Version: 1.0
Content-Type: multipart/mixed;
 boundary="------------050900030905050705030706"
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.22
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16 (mx1.redhat.com [10.5.110.38]); Mon, 07 Mar 2016 11:41:28 +0000 (UTC)

This is a multi-part message in MIME format.
--------------050900030905050705030706
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi,

attached patch adds new "FreeListen" directive. The difference between 
"Listen" and "FreeListen" is that "FreeListen" sets the IP_FREEBIND 
socket option on platforms where this is available.

It is therefore possible to start the server even when particular IP 
address set in the "FreeListen" is not configured yet.

This is needed for httpd startup with systemd when one wants to use 
particular IP address to bind. There is no way how to start httpd after 
the IP address has been configured in systemd and according to systemd 
developers, the applications should become more robust to handle network 
changes like that. The full reasoning is explained here [1].

The patch needs latest APR-trunk currently, but it could be rewritten to 
set IP_FREEBIND directly instead of using APR API (We use that way for 
REUSEADDR socket option).

Do you think FreeListen is good name for this feature, or would you 
name/implement it differently?

[1] https://www.freedesktop.org/wiki/Software/systemd/NetworkTarget/

Regards,
Jan Kaluza

--------------050900030905050705030706
Content-Type: text/x-patch;
 name="httpd-trunk-freelisten.patch"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="httpd-trunk-freelisten.patch"

Index: docs/manual/mod/mpm_common.xml
===================================================================
--- docs/manual/mod/mpm_common.xml	(revision 1733461)
+++ docs/manual/mod/mpm_common.xml	(working copy)
@@ -104,6 +104,31 @@
 </directivesynopsis>
 
 <directivesynopsis>
+<name>FreeListen</name>
+<description>IP addresses and ports that the server
+listens to</description>
+<syntax>FreeListen [<var>IP-address</var>:]<var>portnumber</var> [<var>protocol</var>]</syntax>
+<contextlist><context>server config</context></contextlist>
+<modulelist><module>event</module><module>worker</module>
+<module>prefork</module><module>mpm_winnt</module>
+<module>mpm_netware</module><module>mpmt_os2</module>
+</modulelist>
+
+<usage>
+    <p>The <directive>FreeListen</directive> directive has the same meaning
+    as the <directive>Listen</directive> directive. The difference between
+    these two directives is that <directive>FreeListen</directive> directive
+    sets the <code>IP_FREEBIND</code> socket option on platforms where this
+    option is available.</p>
+
+    <p>It is therefore possible to start the server even when particular IP
+    address set in the <directive>FreeListen</directive> directive is not
+    configured yet.</p>
+</usage>
+<seealso><directive module="mpm_common">Listen</directive></seealso>
+</directivesynopsis>
+
+<directivesynopsis>
 <name>GracefulShutdownTimeout</name>
 <description>Specify a timeout after which a gracefully shutdown server
 will exit.</description>
@@ -241,6 +266,7 @@
     </note>
 
 </usage>
+<seealso><directive module="mpm_common">FreeListen</directive></seealso>
 <seealso><a href="../dns-caveats.html">DNS Issues</a></seealso>
 <seealso><a href="../bind.html">Setting which addresses and ports Apache HTTP Server
     uses</a></seealso>
Index: include/ap_listen.h
===================================================================
--- include/ap_listen.h	(revision 1733461)
+++ include/ap_listen.h	(working copy)
@@ -71,6 +71,10 @@
     const char* protocol;
 
     ap_slave_t *slave;
+    /**
+     * Whether use APR_SO_FREEBIND.
+     */
+    int free_bind;
 };
 
 /**
@@ -148,8 +152,10 @@
   "Maximum length of the queue of pending connections, as used by listen(2)"), \
 AP_INIT_TAKE1("ListenCoresBucketsRatio", ap_set_listencbratio, NULL, RSRC_CONF, \
   "Ratio between the number of CPU cores (online) and the number of listeners buckets"), \
-AP_INIT_TAKE_ARGV("Listen", ap_set_listener, NULL, RSRC_CONF, \
+AP_INIT_TAKE_ARGV("Listen", ap_set_listener, (void *) 0, RSRC_CONF, \
   "A port number or a numeric IP address and a port number, and an optional protocol"), \
+AP_INIT_TAKE_ARGV("FreeListen", ap_set_listener, (void *) 1, RSRC_CONF, \
+  "A port number or a numeric IP address and a port number, and an optional protocol"), \
 AP_INIT_TAKE1("SendBufferSize", ap_set_send_buffer_size, NULL, RSRC_CONF, \
   "Send buffer size in bytes"), \
 AP_INIT_TAKE1("ReceiveBufferSize", ap_set_receive_buffer_size, NULL, \
Index: server/listen.c
===================================================================
--- server/listen.c	(revision 1733461)
+++ server/listen.c	(working copy)
@@ -68,7 +68,8 @@
 #endif
 
 /* TODO: make_sock is just begging and screaming for APR abstraction */
-static apr_status_t make_sock(apr_pool_t *p, ap_listen_rec *server, int do_bind_listen)
+static apr_status_t make_sock(apr_pool_t *p, ap_listen_rec *server,
+                              int do_bind_listen)
 {
     apr_socket_t *s = server->sd;
     int one = 1;
@@ -162,6 +163,21 @@
     }
 #endif
 
+   if (server->free_bind) {
+#if defined(APR_SO_FREEBIND)
+        stat = apr_socket_opt_set(s, APR_SO_FREEBIND, one);
+        if (stat != APR_SUCCESS) {
+            ap_log_perror(APLOG_MARK, APLOG_WARNING, stat, p, APLOGNO(00071)
+                          "make_sock: failed to set set IP_FREEBIND socket option");
+            return stat;
+        }
+#else
+        ap_log_perror(APLOG_MARK, APLOG_WARNING, stat, p, APLOGNO(00071)
+                        "make_sock: FreeListen not supported by the system");
+        return APR_ENOTIMPL;
+#endif
+    }
+
     if (do_bind_listen) {
 #if APR_HAVE_IPV6
         if (server->bind_addr->family == APR_INET6) {
@@ -348,6 +364,7 @@
     rec = apr_palloc(process->pool, sizeof(ap_listen_rec));
     rec->active = 0;
     rec->next = 0;
+    rec->free_bind = 0;
 
     rv = apr_os_sock_make(&rec->sd, &si, process->pool);
     if (rv != APR_SUCCESS) {
@@ -406,7 +423,7 @@
 
 static const char *alloc_listener(process_rec *process, char *addr,
                                   apr_port_t port, const char* proto,
-                                  void *slave)
+                                  void *slave, int free_bind)
 {
     ap_listen_rec **walk, *last;
     apr_status_t status;
@@ -470,6 +487,7 @@
         new->active = 0;
         new->next = 0;
         new->bind_addr = sa;
+        new->free_bind = free_bind;
         new->protocol = apr_pstrdup(process->pool, proto);
 
         /* Go to the next sockaddr. */
@@ -827,6 +845,7 @@
                 duplr = apr_palloc(p, sizeof(ap_listen_rec));
                 duplr->slave = NULL;
                 duplr->protocol = apr_pstrdup(p, lr->protocol);
+                duplr->free_bind = lr->free_bind;
                 hostname = apr_pstrdup(p, lr->bind_addr->hostname);
                 port = lr->bind_addr->port;
                 apr_sockaddr_info_get(&sa, hostname, APR_UNSPEC, port, 0, p);
@@ -1011,7 +1030,8 @@
     }
 #endif
 
-    return alloc_listener(cmd->server->process, host, port, proto, NULL);
+    return alloc_listener(cmd->server->process, host, port, proto, NULL,
+                          cmd->cmd->cmd_data != NULL);
 }
 
 AP_DECLARE_NONSTD(const char *) ap_set_listenbacklog(cmd_parms *cmd,

--------------050900030905050705030706--

From dev-return-85802-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar  7 15:17:42 2016
Return-Path: <dev-return-85802-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E734F1981A
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  7 Mar 2016 15:17:42 +0000 (UTC)
Received: (qmail 68878 invoked by uid 500); 7 Mar 2016 15:17:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68807 invoked by uid 500); 7 Mar 2016 15:17:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68797 invoked by uid 99); 7 Mar 2016 15:17:42 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Mar 2016 15:17:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id D9DD61A03FA
	for <dev@httpd.apache.org>; Mon,  7 Mar 2016 15:17:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id shYMp5cNS3Ks for <dev@httpd.apache.org>;
	Mon,  7 Mar 2016 15:17:39 +0000 (UTC)
Received: from resqmta-po-03v.sys.comcast.net (resqmta-po-03v.sys.comcast.net [96.114.154.162])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 390675FE2F
	for <dev@httpd.apache.org>; Mon,  7 Mar 2016 15:17:39 +0000 (UTC)
Received: from resomta-po-19v.sys.comcast.net ([96.114.154.243])
	by resqmta-po-03v.sys.comcast.net with comcast
	id T3HG1s0065FMDhs013HYo8; Mon, 07 Mar 2016 15:17:32 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-19v.sys.comcast.net with comcast
	id T3HW1s00S2U0RYt013HXB0; Mon, 07 Mar 2016 15:17:31 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56DD68E5.2040309@redhat.com>
Date: Mon, 7 Mar 2016 10:17:30 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com>
References: <56DD68E5.2040309@redhat.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1457363852;
	bh=0HT5vt0vT0UVFo5Qzl4pWWvbhjxytJYvrvtsbvM/FLU=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=KdHbmo5jcFCpZNZETRE4muIG9Z70JFS+VGVxxL0Q0n1/VJMhmnRgMhXCqxKa9ZFfW
	 TR2nISqNCAsVWk+yp1/UJYIw+UttS3kemDlLqmODLUZbp/i/0V8rmSiP8xb0TF5Tlu
	 73JDsoYcOqjcZ9EZNirktU2cgnyArvh5sGEVvcaUu30YqHvTg6JrNA+ZXPXyn+XqnM
	 XsfKQ/ZCENrkUn/p/9n5dDuy4gTrCJ6u8R9jsKLW+9Ip9aiSkhVTdl4AJaz2twt4FM
	 Z8xl7hjFn+m55gdMEG99PsoBfQodoNFtdHh7/UtJ6KEogy/FzxesRKn6T4QwSrjGcB
	 9fh5x10EQYREw==

Intstead of adding YAD (yet another directive ;) ), would it
be possible to somehow leverage Listen itself, maybe with some
sort of flag?

> On Mar 7, 2016, at 6:41 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> =
wrote:
>=20
> Hi,
>=20
> attached patch adds new "FreeListen" directive. The difference between =
"Listen" and "FreeListen" is that "FreeListen" sets the IP_FREEBIND =
socket option on platforms where this is available.
>=20
> It is therefore possible to start the server even when particular IP =
address set in the "FreeListen" is not configured yet.
>=20
> This is needed for httpd startup with systemd when one wants to use =
particular IP address to bind. There is no way how to start httpd after =
the IP address has been configured in systemd and according to systemd =
developers, the applications should become more robust to handle network =
changes like that. The full reasoning is explained here [1].
>=20
> The patch needs latest APR-trunk currently, but it could be rewritten =
to set IP_FREEBIND directly instead of using APR API (We use that way =
for REUSEADDR socket option).
>=20
> Do you think FreeListen is good name for this feature, or would you =
name/implement it differently?
>=20
> [1] https://www.freedesktop.org/wiki/Software/systemd/NetworkTarget/
>=20
> Regards,
> Jan Kaluza
> <httpd-trunk-freelisten.patch>


From dev-return-85803-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar  7 19:54:02 2016
Return-Path: <dev-return-85803-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 32603187DC
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  7 Mar 2016 19:54:02 +0000 (UTC)
Received: (qmail 9630 invoked by uid 500); 7 Mar 2016 19:54:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 8995 invoked by uid 500); 7 Mar 2016 19:54:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 8696 invoked by uid 99); 7 Mar 2016 19:54:01 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Mar 2016 19:54:01 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 3B284C0AB3
	for <dev@httpd.apache.org>; Mon,  7 Mar 2016 19:54:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -5.351
X-Spam-Level:
X-Spam-Status: No, score=-5.351 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_HI=-5, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RP_MATCHES_RCVD=-0.329, SPF_HELO_PASS=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 9SloGsThkKRK for <dev@httpd.apache.org>;
	Mon,  7 Mar 2016 19:53:59 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id BE6EA5F54F
	for <dev@httpd.apache.org>; Mon,  7 Mar 2016 19:53:58 +0000 (UTC)
Received: from int-mx11.intmail.prod.int.phx2.redhat.com (int-mx11.intmail.prod.int.phx2.redhat.com [10.5.11.24])
	by mx1.redhat.com (Postfix) with ESMTPS id A62F77209D
	for <dev@httpd.apache.org>; Mon,  7 Mar 2016 19:53:57 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-33.brq.redhat.com [10.40.204.33])
	by int-mx11.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id u27JruX4018235
	for <dev@httpd.apache.org>; Mon, 7 Mar 2016 14:53:56 -0500
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
To: dev@httpd.apache.org
References: <56DD68E5.2040309@redhat.com>
 <3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com>
From: =?UTF-8?Q?Jan_Kalu=c5=bea?= <jkaluza@redhat.com>
Message-ID: <56DDDC53.1060103@redhat.com>
Date: Mon, 7 Mar 2016 20:53:55 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.0
MIME-Version: 1.0
In-Reply-To: <3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.24
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16 (mx1.redhat.com [10.5.110.38]); Mon, 07 Mar 2016 19:53:57 +0000 (UTC)

On 03/07/2016 04:17 PM, Jim Jagielski wrote:
> Intstead of adding YAD (yet another directive ;) ), would it
> be possible to somehow leverage Listen itself, maybe with some
> sort of flag?

Yes, that would be quite possible. I was thinking about that way, but I 
have chosen YAD as a first approach. If you think adding flag to Listen 
is better way, I can rework my patch.

Regards,
Jan Kaluza

>> On Mar 7, 2016, at 6:41 AM, Jan Kalua <jkaluza@redhat.com> wrote:
>>
>> Hi,
>>
>> attached patch adds new "FreeListen" directive. The difference between "Listen" and "FreeListen" is that "FreeListen" sets the IP_FREEBIND socket option on platforms where this is available.
>>
>> It is therefore possible to start the server even when particular IP address set in the "FreeListen" is not configured yet.
>>
>> This is needed for httpd startup with systemd when one wants to use particular IP address to bind. There is no way how to start httpd after the IP address has been configured in systemd and according to systemd developers, the applications should become more robust to handle network changes like that. The full reasoning is explained here [1].
>>
>> The patch needs latest APR-trunk currently, but it could be rewritten to set IP_FREEBIND directly instead of using APR API (We use that way for REUSEADDR socket option).
>>
>> Do you think FreeListen is good name for this feature, or would you name/implement it differently?
>>
>> [1] https://www.freedesktop.org/wiki/Software/systemd/NetworkTarget/
>>
>> Regards,
>> Jan Kaluza
>> <httpd-trunk-freelisten.patch>
>


From dev-return-85804-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  8 02:06:51 2016
Return-Path: <dev-return-85804-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ADB7F19B9D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Mar 2016 02:06:51 +0000 (UTC)
Received: (qmail 47293 invoked by uid 500); 8 Mar 2016 02:06:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 47228 invoked by uid 500); 8 Mar 2016 02:06:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 47218 invoked by uid 99); 8 Mar 2016 02:06:51 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2016 02:06:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id AD0B5C6F08
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 02:06:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.279
X-Spam-Level: *
X-Spam-Status: No, score=1.279 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id zdqWZqxozJPN for <dev@httpd.apache.org>;
	Tue,  8 Mar 2016 02:06:48 +0000 (UTC)
Received: from mail-ig0-f178.google.com (mail-ig0-f178.google.com [209.85.213.178])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 8E5CC5F5CC
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 02:06:47 +0000 (UTC)
Received: by mail-ig0-f178.google.com with SMTP id ig19so6664374igb.1
        for <dev@httpd.apache.org>; Mon, 07 Mar 2016 18:06:47 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=19Gss7pmnSqs7bzAlSlPT4j5JbZAytRU3xV1Mo9RsMg=;
        b=KZbyn88boaitL+oEy/KEwu/DUPFLjndrlfy+0X5YzggyVOh8/U8ZYV96vYprQxjdrv
         22HQ2sgP8a2DhXfihvdAdj8sM8BllsTpzQbeLzdQemH3sl88sFeRCbsV8htTB4IQk37Z
         Dl/etSYWfsd0IGADUN54sKIukkWHW2RY8Ll6BZRYarzhO+1sqJa2bANwy1+NYXG6YfkF
         VCpq6A5r7fF4+3qvtzOfm1tgJpTY2HmKzjZ4bjBH1kzssvjUekFSgL5MdBorLhtwXJp7
         SPwtDCu5gWVR2qdfdcDEUV305QJf3+E0jwKWJHHqsBFDZelt7ikUT48inXYKV0kkYyxy
         GhMA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=19Gss7pmnSqs7bzAlSlPT4j5JbZAytRU3xV1Mo9RsMg=;
        b=RUkDFBvwQfwZ+D5ToUehObeKMg74EFSCgAg2gi7Ut0vUZDgTChJ6kVbp9f1lvRORNi
         oRVJPvWGVZ1hV+kONZpjZgDizC+VxmjPBxWn/jFzDYMUFz23I/8jsWUtC72lgEe2wqhz
         nxJs7dtkQrOaU9hYnEHS170YxHynJZM75pEQ5xDhuVb3s8x0Q6YtXCS9J5jev1c9gR2S
         EhF5gPeXzPAOon5EmwkRx8vjlH+hAmU0NjFjGPAl7Wex5sXbwvEoMyPOQymosOlq+30j
         M2gHFmbSAk6qN683yWZM1nS8QZqmFwWNNZVMeiUCok0s7pkcKAzNLjWABKJezi6Seari
         G1Gw==
X-Gm-Message-State: AD7BkJKvcRwLGHGdBd4jUb4VJGVaccCLu6O9tm6fWFdMt0r3/tugfLuzAsyc678F5ap8atEzi0txOyZlH4K1Es/d
MIME-Version: 1.0
X-Received: by 10.50.132.6 with SMTP id oq6mr16049382igb.32.1457402806433;
 Mon, 07 Mar 2016 18:06:46 -0800 (PST)
Received: by 10.107.149.12 with HTTP; Mon, 7 Mar 2016 18:06:46 -0800 (PST)
Received: by 10.107.149.12 with HTTP; Mon, 7 Mar 2016 18:06:46 -0800 (PST)
In-Reply-To: <56DDDC53.1060103@redhat.com>
References: <56DD68E5.2040309@redhat.com>
	<3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com>
	<56DDDC53.1060103@redhat.com>
Date: Mon, 7 Mar 2016 20:06:46 -0600
Message-ID: <CACsi253rUFf7zY=F3EJrRGJTWUSckV590ypunAcUvkFLVMDmfQ@mail.gmail.com>
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7b3a9b5c92fee4052d800821

--047d7b3a9b5c92fee4052d800821
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Mar 7, 2016 13:54, "Jan Kalu=C5=BEa" <jkaluza@redhat.com> wrote:
>
> On 03/07/2016 04:17 PM, Jim Jagielski wrote:
>>
>> Intstead of adding YAD (yet another directive ;) ), would it
>> be possible to somehow leverage Listen itself, maybe with some
>> sort of flag?
>
>
> Yes, that would be quite possible. I was thinking about that way, but I
have chosen YAD as a first approach. If you think adding flag to Listen is
better way, I can rework my patch.
>
> Regards,
> Jan Kaluza
>
>
>>> On Mar 7, 2016, at 6:41 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrote:
>>>
>>> Hi,
>>>
>>> attached patch adds new "FreeListen" directive. The difference between
"Listen" and "FreeListen" is that "FreeListen" sets the IP_FREEBIND socket
option on platforms where this is available.
>>>
>>> It is therefore possible to start the server even when particular IP
address set in the "FreeListen" is not configured yet.
>>>
>>> This is needed for httpd startup with systemd when one wants to use
particular IP address to bind. There is no way how to start httpd after the
IP address has been configured in systemd and according to systemd
developers, the applications should become more robust to handle network
changes like that. The full reasoning is explained here [1].
>>>
>>> The patch needs latest APR-trunk currently, but it could be rewritten
to set IP_FREEBIND directly instead of using APR API (We use that way for
REUSEADDR socket option).
>>>
>>> Do you think FreeListen is good name for this feature, or would you
name/implement it differently?
>>>
>>> [1] https://www.freedesktop.org/wiki/Software/systemd/NetworkTarget/
>>>
>>> Regards,
>>> Jan Kaluza
>>> <httpd-trunk-freelisten.patch>

Reviewing the behavior, an unadorned new directive makes more sense to me
than cluttering Listen, which already takes one optional protocol behavior
argument.

The same handler can process both directives.

--047d7b3a9b5c92fee4052d800821
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">On Mar 7, 2016 13:54, &quot;Jan Kalu=C5=BEa&quot; &lt;<a hre=
f=3D"mailto:jkaluza@redhat.com">jkaluza@redhat.com</a>&gt; wrote:<br>
&gt;<br>
&gt; On 03/07/2016 04:17 PM, Jim Jagielski wrote:<br>
&gt;&gt;<br>
&gt;&gt; Intstead of adding YAD (yet another directive ;) ), would it<br>
&gt;&gt; be possible to somehow leverage Listen itself, maybe with some<br>
&gt;&gt; sort of flag?<br>
&gt;<br>
&gt;<br>
&gt; Yes, that would be quite possible. I was thinking about that way, but =
I have chosen YAD as a first approach. If you think adding flag to Listen i=
s better way, I can rework my patch.<br>
&gt;<br>
&gt; Regards,<br>
&gt; Jan Kaluza<br>
&gt;<br>
&gt;<br>
&gt;&gt;&gt; On Mar 7, 2016, at 6:41 AM, Jan Kalu=C5=BEa &lt;<a href=3D"mai=
lto:jkaluza@redhat.com">jkaluza@redhat.com</a>&gt; wrote:<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Hi,<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; attached patch adds new &quot;FreeListen&quot; directive. The =
difference between &quot;Listen&quot; and &quot;FreeListen&quot; is that &q=
uot;FreeListen&quot; sets the IP_FREEBIND socket option on platforms where =
this is available.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; It is therefore possible to start the server even when particu=
lar IP address set in the &quot;FreeListen&quot; is not configured yet.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; This is needed for httpd startup with systemd when one wants t=
o use particular IP address to bind. There is no way how to start httpd aft=
er the IP address has been configured in systemd and according to systemd d=
evelopers, the applications should become more robust to handle network cha=
nges like that. The full reasoning is explained here [1].<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; The patch needs latest APR-trunk currently, but it could be re=
written to set IP_FREEBIND directly instead of using APR API (We use that w=
ay for REUSEADDR socket option).<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Do you think FreeListen is good name for this feature, or woul=
d you name/implement it differently?<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; [1]<a href=3D"https://www.freedesktop.org/wiki/Software/system=
d/NetworkTarget/"> https://www.freedesktop.org/wiki/Software/systemd/Networ=
kTarget/</a><br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Regards,<br>
&gt;&gt;&gt; Jan Kaluza<br>
&gt;&gt;&gt; &lt;httpd-trunk-freelisten.patch&gt;</p>
<p dir=3D"ltr">Reviewing the behavior, an unadorned new directive makes mor=
e sense to me than cluttering Listen, which already takes one optional prot=
ocol behavior argument.</p>
<p dir=3D"ltr">The same handler can process both directives.<br>
</p>

--047d7b3a9b5c92fee4052d800821--

From dev-return-85805-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  8 03:59:37 2016
Return-Path: <dev-return-85805-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9E9CB19F41
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Mar 2016 03:59:37 +0000 (UTC)
Received: (qmail 55081 invoked by uid 500); 8 Mar 2016 03:59:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55005 invoked by uid 500); 8 Mar 2016 03:59:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54995 invoked by uid 99); 8 Mar 2016 03:59:36 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2016 03:59:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 80262C0679
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 03:59:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.392
X-Spam-Level: ***
X-Spam-Status: No, score=3.392 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, HTML_MESSAGE=2, KAM_BADIPHTTP=2,
	NORMAL_HTTP_TO_IP=0.001, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, T_DKIM_INVALID=0.01,
	WEIRD_PORT=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new); dkim=neutral
	reason="invalid (public key: missing p= tag)" header.d=ymkatz.net
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id d8vxAwZHgrdx for <dev@httpd.apache.org>;
	Tue,  8 Mar 2016 03:59:34 +0000 (UTC)
Received: from mail-ob0-f170.google.com (mail-ob0-f170.google.com [209.85.214.170])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 7D7715FB7B
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 03:59:32 +0000 (UTC)
Received: by mail-ob0-f170.google.com with SMTP id m7so3112930obh.3
        for <dev@httpd.apache.org>; Mon, 07 Mar 2016 19:59:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=ymkatz.net; s=g;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
        bh=Na5/kIAHYFciu5taxl3yJAikDq4KkC3RzeBVjdHkwRg=;
        b=DxSQi6y1PdosRwjF+WxVUf3ab/9ZPJHQDDUjHAUmcMYA+J0fqOeB7eyMGSgz1Qwj+2
         jxUNQ7JKbq81X60gV/dSPwYLq3OfHmbvTM7/DsngWifOylfq5ojIG14FdYHcod08Lons
         DTntkM+eSMedbvPHEsmGDrXxPywNxM1pgsMRk=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to;
        bh=Na5/kIAHYFciu5taxl3yJAikDq4KkC3RzeBVjdHkwRg=;
        b=K1C1k3dw5J9RAorfqddpYOgIJEFKKTNcA+s0sMpeXm2QUd65ifE5JXFawa/SXI3RD/
         qPjnPh+Az5HajhH5wkhQErSIf+xaMDkTGHLaG9WAXT54BaE5i5J5a1O91fTBaWfe/Apr
         Q+7Ap2ApTSIz48y7f+o1Cm8ccGH7Ak4ng9mAAAKmH8XpjgTvPBn1dxIcXY6orLA0anWG
         rQfKkL5JhOTHtARBTjsFwRxvz8D64mg4Thwf/mn7Oc3E4H8oXxtFM5DEmh0zgy2L0sfT
         S1J+rkGZYRcPTDdPbNhYgX0qFrAOGNV+HsdFMLjeAXnjOGYyplCtlEXwPC7TelDz4wSB
         zM5w==
X-Gm-Message-State: AD7BkJIrcpPeC07gRi2buNYqdigKULWkIvgKYzmLGJHEc03OBdlh+Wuc/qgItujHgIrUzSCc
X-Received: by 10.60.135.98 with SMTP id pr2mr16821647oeb.65.1457409571382;
        Mon, 07 Mar 2016 19:59:31 -0800 (PST)
Received: from mail-oi0-f47.google.com (mail-oi0-f47.google.com. [209.85.218.47])
        by smtp.gmail.com with ESMTPSA id d10sm504258oem.0.2016.03.07.19.59.30
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Mon, 07 Mar 2016 19:59:30 -0800 (PST)
Received: by mail-oi0-f47.google.com with SMTP id d205so2525094oia.0
        for <dev@httpd.apache.org>; Mon, 07 Mar 2016 19:59:30 -0800 (PST)
X-Received: by 10.202.214.5 with SMTP id n5mr15620105oig.78.1457409570241;
 Mon, 07 Mar 2016 19:59:30 -0800 (PST)
MIME-Version: 1.0
Received: by 10.202.61.86 with HTTP; Mon, 7 Mar 2016 19:59:10 -0800 (PST)
In-Reply-To: <CACsi253rUFf7zY=F3EJrRGJTWUSckV590ypunAcUvkFLVMDmfQ@mail.gmail.com>
References: <56DD68E5.2040309@redhat.com> <3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com>
 <56DDDC53.1060103@redhat.com> <CACsi253rUFf7zY=F3EJrRGJTWUSckV590ypunAcUvkFLVMDmfQ@mail.gmail.com>
From: Yehuda Katz <yehuda@ymkatz.net>
Date: Mon, 7 Mar 2016 22:59:10 -0500
X-Gmail-Original-Message-ID: <CAGBAQ47FRpVRV7ymht-weDRmPwNW0yA94cxQXFAOM_Ns=HteCg@mail.gmail.com>
Message-ID: <CAGBAQ47FRpVRV7ymht-weDRmPwNW0yA94cxQXFAOM_Ns=HteCg@mail.gmail.com>
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113b00b4ba08e8052d819b32

--001a113b00b4ba08e8052d819b32
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Mon, Mar 7, 2016 at 9:06 PM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> On Mar 7, 2016 13:54, "Jan Kalu=C5=BEa" <jkaluza@redhat.com> wrote:
> >
> > On 03/07/2016 04:17 PM, Jim Jagielski wrote:
> >>
> >> Intstead of adding YAD (yet another directive ;) ), would it
> >> be possible to somehow leverage Listen itself, maybe with some
> >> sort of flag?
> >
> >
> > Yes, that would be quite possible. I was thinking about that way, but I
> have chosen YAD as a first approach. If you think adding flag to Listen i=
s
> better way, I can rework my patch.
> >
> > Regards,
> > Jan Kaluza
> >
>
Reviewing the behavior, an unadorned new directive makes more sense to me
> than cluttering Listen, which already takes one optional protocol behavio=
r
> argument.
>
> The same handler can process both directives.
>
A benefit of using a flag is: what happens if the default changes at some
point? YAD would need to be created to go back to the old behavior - which
would make things more complicated.  Is it possible to use something like a
plus/minus or question mark symbol with each address:port which would allow
the default to be changed at some future point without requiring having
this discussion again?

Example:
Listen ?192.170.2.1:80  # Use IP_FREEBIND to listen when IP is available
(new behavior)
Listen +192.170.2.5:8000  # Require IP to be available (old behavior)
Listen [2001:db8::a00:20ff:fea7:ccea]:80  # Current default behavior (old)

- Y

--001a113b00b4ba08e8052d819b32
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Mar 7, 2016 at 9:06 PM, William A Rowe Jr <span dir=3D"ltr">&lt;<a href=
=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&g=
t;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0=
px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);borde=
r-left-style:solid;padding-left:1ex"><div class=3D""><div class=3D"h5"><p d=
ir=3D"ltr">On Mar 7, 2016 13:54, &quot;Jan Kalu=C5=BEa&quot; &lt;<a href=3D=
"mailto:jkaluza@redhat.com" target=3D"_blank">jkaluza@redhat.com</a>&gt; wr=
ote:<br>
&gt;<br>
&gt; On 03/07/2016 04:17 PM, Jim Jagielski wrote:<br>
&gt;&gt;<br>
&gt;&gt; Intstead of adding YAD (yet another directive ;) ), would it<br>
&gt;&gt; be possible to somehow leverage Listen itself, maybe with some<br>
&gt;&gt; sort of flag?<br>
&gt;<br>
&gt;<br>
&gt; Yes, that would be quite possible. I was thinking about that way, but =
I have chosen YAD as a first approach. If you think adding flag to Listen i=
s better way, I can rework my patch.<br>
&gt;<br>
&gt; Regards,<br>
&gt; Jan Kaluza<br>
&gt;</p></div></div></blockquote><blockquote class=3D"gmail_quote" style=3D=
"margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,2=
04,204);border-left-style:solid;padding-left:1ex"><div class=3D""><div clas=
s=3D"h5"><p dir=3D"ltr"><span style=3D"color:rgb(34,34,34)">Reviewing the b=
ehavior, an unadorned new directive makes more sense to me than cluttering =
Listen, which already takes one optional protocol behavior argument.</span>=
<br></p></div></div>
<p dir=3D"ltr">The same handler can process both directives.<br>
</p>
</blockquote></div><div class=3D"gmail_extra">A benefit of using a flag is:=
 what happens if the default changes at some point? YAD would need to be cr=
eated to go back to the old behavior - which would make things more complic=
ated.=C2=A0 Is it possible to use something like a plus/minus or question m=
ark symbol with each address:port which would allow the default to be chang=
ed at some future point without requiring having this discussion again?</di=
v><div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">Example:<=
/div><div class=3D"gmail_extra"><div class=3D"gmail_extra">Listen ?<a href=
=3D"http://192.170.2.1:80">192.170.2.1:80</a> =C2=A0# Use=C2=A0IP_FREEBIND =
to listen when IP is available (new behavior)</div><div class=3D"gmail_extr=
a">Listen +<a href=3D"http://192.170.2.5:8000">192.170.2.5:8000</a> =C2=A0#=
 Require IP to be available (old behavior)</div></div><div class=3D"gmail_e=
xtra">Listen [2001:db8::a00:20ff:fea7:ccea]:80 =C2=A0# Current default beha=
vior (old)<br></div><div class=3D"gmail_extra"><br></div><div class=3D"gmai=
l_extra">- Y</div></div></div>

--001a113b00b4ba08e8052d819b32--

From dev-return-85806-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  8 05:32:53 2016
Return-Path: <dev-return-85806-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DD1D3102BF
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Mar 2016 05:32:53 +0000 (UTC)
Received: (qmail 22432 invoked by uid 500); 8 Mar 2016 05:32:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22304 invoked by uid 500); 8 Mar 2016 05:32:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22294 invoked by uid 99); 8 Mar 2016 05:32:53 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2016 05:32:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E9C0FC0EAF
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 05:32:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.3
X-Spam-Level: ***
X-Spam-Status: No, score=3.3 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	KAM_BADIPHTTP=2, NORMAL_HTTP_TO_IP=0.001, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, WEIRD_PORT=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id MfUl5SHrhHFx for <dev@httpd.apache.org>;
	Tue,  8 Mar 2016 05:32:51 +0000 (UTC)
Received: from mail-io0-f175.google.com (mail-io0-f175.google.com [209.85.223.175])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id F09BF5FAE8
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 05:32:50 +0000 (UTC)
Received: by mail-io0-f175.google.com with SMTP id m184so14189679iof.1
        for <dev@httpd.apache.org>; Mon, 07 Mar 2016 21:32:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=QJTPOdfJxZwnXB0GYwonRk+4cQB1XGVWrihpwxDWlRY=;
        b=RWQXdOzM+A3KYlimqCcT3juhsGK4Jqomi81+cpuezHjj6jn7PwnIL4RHSwcAMberz4
         /qiBECLjv4X5ffDGW9zKPVWgFb3B8mcTihhwRbQdyFT4jbXLOKo200AS9b3DcYvCCY32
         h47xxAPZgr86uBRRvYSwH23Jn7b96S2yPxADO5tlQQ+eGxx8JslLCCiehIPtEU8bDM2y
         IZlvElWc/ayNSh95cV/dioPZiI2Ni3KHPrEPMl9l9WYnMKevuRzLx0cfQ5P4HpIAM4Hs
         MXbwvxEuZdzCwWZ2Oa6bJWhmOO6YR0StTb1bNOz0hX2D3Q7/y5KjNaVs+NETtSjotbBj
         a2Bw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=QJTPOdfJxZwnXB0GYwonRk+4cQB1XGVWrihpwxDWlRY=;
        b=TAjSX9Cvs8TYa7rSqKyQbFUiNe0H9lsliZ1O1AOvcWUzq0GScYrkqeEr3tYIkcpcMr
         S1iksktzZGm8Eif/cw8HpF6gmIiWcqzwwN9Zhd/xTKbFnkzTysIL7MZoJwiWUM2NBZYm
         RBG3pCJ+oq8ulC5j4lCctlAn2hKmtplAWoirkJZ9dYoR5yXWMlnxeqpI1ubdu5cPrdrG
         MtfrXj6j7kFcPa8kTbr1dmllvc1gnVyWCJZVWJevo1Ydx81hcjmWjDJBGkRJcMzr+sZX
         QlIep/IGXsausC2YdDt5FcxjhLc7D7m4tiQp8QjyoT4cwoqMsZoVhLyCyjdCdajOyoDI
         1QOA==
X-Gm-Message-State: AD7BkJILvDdlQD9aBwEa14lDVnLxhkw+zvLVqVPsqs3H2TraYIl7bvQKwxU2QgSBAjcm0Y2TKkyEfFhjnKtpldyT
MIME-Version: 1.0
X-Received: by 10.107.14.66 with SMTP id 63mr25830217ioo.150.1457415170282;
 Mon, 07 Mar 2016 21:32:50 -0800 (PST)
Received: by 10.107.149.12 with HTTP; Mon, 7 Mar 2016 21:32:50 -0800 (PST)
Received: by 10.107.149.12 with HTTP; Mon, 7 Mar 2016 21:32:50 -0800 (PST)
In-Reply-To: <CAGBAQ47FRpVRV7ymht-weDRmPwNW0yA94cxQXFAOM_Ns=HteCg@mail.gmail.com>
References: <56DD68E5.2040309@redhat.com>
	<3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com>
	<56DDDC53.1060103@redhat.com>
	<CACsi253rUFf7zY=F3EJrRGJTWUSckV590ypunAcUvkFLVMDmfQ@mail.gmail.com>
	<CAGBAQ47FRpVRV7ymht-weDRmPwNW0yA94cxQXFAOM_Ns=HteCg@mail.gmail.com>
Date: Mon, 7 Mar 2016 23:32:50 -0600
Message-ID: <CACsi2507SbFCA4zG-EJca81MGzBwOsL_gjA4_GeecEi+=n9GBQ@mail.gmail.com>
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113fe1be84138f052d82e902

--001a113fe1be84138f052d82e902
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Mar 7, 2016 21:59, "Yehuda Katz" <yehuda@ymkatz.net> wrote:
>
> On Mon, Mar 7, 2016 at 9:06 PM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:
>>
>> On Mar 7, 2016 13:54, "Jan Kalu=C5=BEa" <jkaluza@redhat.com> wrote:
>> >
>> > On 03/07/2016 04:17 PM, Jim Jagielski wrote:
>> >>
>> >> Intstead of adding YAD (yet another directive ;) ), would it
>> >> be possible to somehow leverage Listen itself, maybe with some
>> >> sort of flag?
>> >
>> >
>> > Yes, that would be quite possible. I was thinking about that way, but
I have chosen YAD as a first approach. If you think adding flag to Listen
is better way, I can rework my patch.
>> >
>> > Regards,
>> > Jan Kaluza
>> >
>>
>> Reviewing the behavior, an unadorned new directive makes more sense to
me than cluttering Listen, which already takes one optional protocol
behavior argument.
>>
>> The same handler can process both directives.
>
> A benefit of using a flag is: what happens if the default changes at some
point? YAD would need to be created to go back to the old behavior - which
would make things more complicated.  Is it possible to use something like a
plus/minus or question mark symbol with each address:port which would allow
the default to be changed at some future point without requiring having
this discussion again?
>
> Example:
> Listen ?192.170.2.1:80  # Use IP_FREEBIND to listen when IP is available
(new behavior)
> Listen +192.170.2.5:8000  # Require IP to be available (old behavior)
> Listen [2001:db8::a00:20ff:fea7:ccea]:80  # Current default behavior (old=
)

Interesting point, I raised the same consideration for piped logging syntax
some years ago.  But at that time it was the consensus that the default
would change with the next major version.

I see small probably that this would become a default behavior, from the
perspective of robustness alone.  I see that you simply suggest a tri-state
(and trailing '?' Vs '!' makes more intuitive sense to me), but I'm not
seeing a consensus yet that the default would change in the future.

The same can be accomplished by adding a third 'FixedListen' directive,
leaving Listen itself free to switch behaviors.

But from the migration perspective, I'd be loath to switch any default
Listen behavior without the admin's explicit intervention.  POLS.

--001a113fe1be84138f052d82e902
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">On Mar 7, 2016 21:59, &quot;Yehuda Katz&quot; &lt;<a href=3D=
"mailto:yehuda@ymkatz.net">yehuda@ymkatz.net</a>&gt; wrote:<br>
&gt;<br>
&gt; On Mon, Mar 7, 2016 at 9:06 PM, William A Rowe Jr &lt;<a href=3D"mailt=
o:wrowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt; wrote:<br>
&gt;&gt;<br>
&gt;&gt; On Mar 7, 2016 13:54, &quot;Jan Kalu=C5=BEa&quot; &lt;<a href=3D"m=
ailto:jkaluza@redhat.com">jkaluza@redhat.com</a>&gt; wrote:<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; On 03/07/2016 04:17 PM, Jim Jagielski wrote:<br>
&gt;&gt; &gt;&gt;<br>
&gt;&gt; &gt;&gt; Intstead of adding YAD (yet another directive ;) ), would=
 it<br>
&gt;&gt; &gt;&gt; be possible to somehow leverage Listen itself, maybe with=
 some<br>
&gt;&gt; &gt;&gt; sort of flag?<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; Yes, that would be quite possible. I was thinking about that =
way, but I have chosen YAD as a first approach. If you think adding flag to=
 Listen is better way, I can rework my patch.<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; Regards,<br>
&gt;&gt; &gt; Jan Kaluza<br>
&gt;&gt; &gt;<br>
&gt;&gt;<br>
&gt;&gt; Reviewing the behavior, an unadorned new directive makes more sens=
e to me than cluttering Listen, which already takes one optional protocol b=
ehavior argument.<br>
&gt;&gt;<br>
&gt;&gt; The same handler can process both directives.<br>
&gt;<br>
&gt; A benefit of using a flag is: what happens if the default changes at s=
ome point? YAD would need to be created to go back to the old behavior - wh=
ich would make things more complicated.=C2=A0 Is it possible to use somethi=
ng like a plus/minus or question mark symbol with each address:port which w=
ould allow the default to be changed at some future point without requiring=
 having this discussion again?<br>
&gt;<br>
&gt; Example:<br>
&gt; Listen ?<a href=3D"http://192.170.2.1:80">192.170.2.1:80</a> =C2=A0# U=
se=C2=A0IP_FREEBIND to listen when IP is available (new behavior)<br>
&gt; Listen +<a href=3D"http://192.170.2.5:8000">192.170.2.5:8000</a> =C2=
=A0# Require IP to be available (old behavior)<br>
&gt; Listen [2001:db8::a00:20ff:fea7:ccea]:80 =C2=A0# Current default behav=
ior (old)</p>
<p dir=3D"ltr">Interesting point, I raised the same consideration for piped=
 logging syntax some years ago.=C2=A0 But at that time it was the consensus=
 that the default would change with the next major version.</p>
<p dir=3D"ltr">I see small probably that this would become a default behavi=
or, from the perspective of robustness alone.=C2=A0 I see that you simply s=
uggest a tri-state (and trailing &#39;?&#39; Vs &#39;!&#39; makes more intu=
itive sense to me), but I&#39;m not seeing a consensus yet that the default=
 would change in the future.</p>
<p dir=3D"ltr">The same can be accomplished by adding a third &#39;FixedLis=
ten&#39; directive, leaving Listen itself free to switch behaviors.</p>
<p dir=3D"ltr">But from the migration perspective, I&#39;d be loath to swit=
ch any default Listen behavior without the admin&#39;s explicit interventio=
n.=C2=A0 POLS.</p>

--001a113fe1be84138f052d82e902--

From dev-return-85807-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  8 08:28:57 2016
Return-Path: <dev-return-85807-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6F66410A65
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Mar 2016 08:28:57 +0000 (UTC)
Received: (qmail 6611 invoked by uid 500); 8 Mar 2016 08:28:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6524 invoked by uid 500); 8 Mar 2016 08:28:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6514 invoked by uid 99); 8 Mar 2016 08:28:56 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2016 08:28:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 6DFFB180602
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 08:28:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -3.349
X-Spam-Level:
X-Spam-Status: No, score=-3.349 tagged_above=-999 required=6.31
	tests=[KAM_BADIPHTTP=2, NORMAL_HTTP_TO_IP=0.001, RCVD_IN_DNSWL_HI=-5,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RP_MATCHES_RCVD=-0.329, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	WEIRD_PORT=0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id H8cy_UdRhtvy for <dev@httpd.apache.org>;
	Tue,  8 Mar 2016 08:28:54 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id F0EF75FAD6
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 08:28:53 +0000 (UTC)
Received: from int-mx09.intmail.prod.int.phx2.redhat.com (int-mx09.intmail.prod.int.phx2.redhat.com [10.5.11.22])
	by mx1.redhat.com (Postfix) with ESMTPS id 40D41461D3
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 08:28:53 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-33.brq.redhat.com [10.40.204.33])
	by int-mx09.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id u288SpDF001071
	for <dev@httpd.apache.org>; Tue, 8 Mar 2016 03:28:52 -0500
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
To: dev@httpd.apache.org
References: <56DD68E5.2040309@redhat.com>
 <3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com>
 <56DDDC53.1060103@redhat.com>
 <CACsi253rUFf7zY=F3EJrRGJTWUSckV590ypunAcUvkFLVMDmfQ@mail.gmail.com>
 <CAGBAQ47FRpVRV7ymht-weDRmPwNW0yA94cxQXFAOM_Ns=HteCg@mail.gmail.com>
 <CACsi2507SbFCA4zG-EJca81MGzBwOsL_gjA4_GeecEi+=n9GBQ@mail.gmail.com>
From: =?UTF-8?Q?Jan_Kalu=c5=bea?= <jkaluza@redhat.com>
Message-ID: <56DE8D43.40505@redhat.com>
Date: Tue, 8 Mar 2016 09:28:51 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.0
MIME-Version: 1.0
In-Reply-To: <CACsi2507SbFCA4zG-EJca81MGzBwOsL_gjA4_GeecEi+=n9GBQ@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.22

On 03/08/2016 06:32 AM, William A Rowe Jr wrote:
> On Mar 7, 2016 21:59, "Yehuda Katz" <yehuda@ymkatz.net
> <mailto:yehuda@ymkatz.net>> wrote:
>  >
>  > On Mon, Mar 7, 2016 at 9:06 PM, William A Rowe Jr
> <wrowe@rowe-clan.net <mailto:wrowe@rowe-clan.net>> wrote:
>  >>
>  >> On Mar 7, 2016 13:54, "Jan Kalua" <jkaluza@redhat.com
> <mailto:jkaluza@redhat.com>> wrote:
>  >> >
>  >> > On 03/07/2016 04:17 PM, Jim Jagielski wrote:
>  >> >>
>  >> >> Intstead of adding YAD (yet another directive ;) ), would it
>  >> >> be possible to somehow leverage Listen itself, maybe with some
>  >> >> sort of flag?
>  >> >
>  >> >
>  >> > Yes, that would be quite possible. I was thinking about that way,
> but I have chosen YAD as a first approach. If you think adding flag to
> Listen is better way, I can rework my patch.
>  >> >
>  >> > Regards,
>  >> > Jan Kaluza
>  >> >
>  >>
>  >> Reviewing the behavior, an unadorned new directive makes more sense
> to me than cluttering Listen, which already takes one optional protocol
> behavior argument.
>  >>
>  >> The same handler can process both directives.
>  >
>  > A benefit of using a flag is: what happens if the default changes at
> some point? YAD would need to be created to go back to the old behavior
> - which would make things more complicated.  Is it possible to use
> something like a plus/minus or question mark symbol with each
> address:port which would allow the default to be changed at some future
> point without requiring having this discussion again?
>  >
>  > Example:
>  > Listen ?192.170.2.1:80 <http://192.170.2.1:80>  # Use IP_FREEBIND to
> listen when IP is available (new behavior)
>  > Listen +192.170.2.5:8000 <http://192.170.2.5:8000>  # Require IP to
> be available (old behavior)
>  > Listen [2001:db8::a00:20ff:fea7:ccea]:80  # Current default behavior
> (old)
>
> Interesting point, I raised the same consideration for piped logging
> syntax some years ago.  But at that time it was the consensus that the
> default would change with the next major version.
>
> I see small probably that this would become a default behavior, from the
> perspective of robustness alone.  I see that you simply suggest a
> tri-state (and trailing '?' Vs '!' makes more intuitive sense to me),
> but I'm not seeing a consensus yet that the default would change in the
> future.

I think that the default behaviour should not be changed, at least not 
in major version.

I have chosen FreeListen over the flags, because I personally think it's 
better to have two directives than single one with more and more flags 
changing its behaviour. But I care more about that feature, not about a 
way how it is enabled in the end :).

Jan Kaluza

>
> The same can be accomplished by adding a third 'FixedListen' directive,
> leaving Listen itself free to switch behaviors.
>
> But from the migration perspective, I'd be loath to switch any default
> Listen behavior without the admin's explicit intervention.  POLS.
>


From dev-return-85808-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  8 08:46:11 2016
Return-Path: <dev-return-85808-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B7AC010B28
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Mar 2016 08:46:11 +0000 (UTC)
Received: (qmail 41312 invoked by uid 500); 8 Mar 2016 08:46:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41247 invoked by uid 500); 8 Mar 2016 08:46:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41237 invoked by uid 99); 8 Mar 2016 08:46:11 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2016 08:46:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C584CC2BD8
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 08:46:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ujIiGSbetRlV for <dev@httpd.apache.org>;
	Tue,  8 Mar 2016 08:46:10 +0000 (UTC)
Received: from mail-qg0-f54.google.com (mail-qg0-f54.google.com [209.85.192.54])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 7133E5FAE2
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 08:46:09 +0000 (UTC)
Received: by mail-qg0-f54.google.com with SMTP id y89so6555630qge.2
        for <dev@httpd.apache.org>; Tue, 08 Mar 2016 00:46:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-transfer-encoding;
        bh=7oD1C2JnzrmMR+iIGO0QIPQnHpSF/w6GwCDhEMG/2aY=;
        b=t3/R700VEkxtPl8rg3MsrosU7PN1Dvc3yFpynDdPKe88gpVcAgXpLkARTCSZCuwbvW
         mwr0y4Zg7VgWtkr4DEcQvHflBphb34D8DKcrn90fOqa5BxWzDnH5+3bbb6B3qsHv19us
         3CFzD5P8HJ5M8spFCQoHvNh0uc5lNbcJU8126+X23VLZ0rMWZuGyCUKwthOIAEzkQaam
         xABf2pMoMuQkVU9W5h3QxPUy1SJ87V10iasnLZ+bHfRk1/OoUpGTayV/Cjj4P6BRkjPI
         mZcl9/G2PEs1r/OSpJuJAp/39O6Ll82rz7XxVNSHZ1Kah1gFenRVMPBqXlG7zhe1lCOe
         FD6w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-transfer-encoding;
        bh=7oD1C2JnzrmMR+iIGO0QIPQnHpSF/w6GwCDhEMG/2aY=;
        b=CtsPGkGP2FobK7975mfqQAlYAomipyjmYhXrXwVuRD1lMCX+XIdxr8F4raV8Wx63nK
         hYiGkIlyeY2TFpqbHysdBGOWDcvSkz0X4Ml7QSj+0r/aDgTv02/N+iTD3sEql6Ae9ZrW
         wlxWRaeFqukQ2zZzH3ifeqVUwjO/LQ6VMnszAKCBdM3eQoZxAdVw6AJaNjX+37RNBLRS
         PN0m4TmyqHZRvWXKA6A6l6oD065W9iwlcluk8nDFZZie+r1B6ZxgRQlllpYxMhbqtJof
         5EOpsemW2z+72EUOi8NNVg24ylO21Q2EtNnzt4hhsU3slEDqPPRVvmpgpC+pyb5oAeKt
         5kjg==
X-Gm-Message-State: AD7BkJL0DXpmtjQt+oK+7p90x1yc5qDFH1PeEYNwojweiMrMwCzyVoLEfOGTnwQ+SNTG8VLG2ZXYX1U7NZYUVQ==
MIME-Version: 1.0
X-Received: by 10.140.166.6 with SMTP id m6mr36757937qhm.70.1457426768503;
 Tue, 08 Mar 2016 00:46:08 -0800 (PST)
Received: by 10.55.10.7 with HTTP; Tue, 8 Mar 2016 00:46:08 -0800 (PST)
In-Reply-To: <56DE8D43.40505@redhat.com>
References: <56DD68E5.2040309@redhat.com>
	<3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com>
	<56DDDC53.1060103@redhat.com>
	<CACsi253rUFf7zY=F3EJrRGJTWUSckV590ypunAcUvkFLVMDmfQ@mail.gmail.com>
	<CAGBAQ47FRpVRV7ymht-weDRmPwNW0yA94cxQXFAOM_Ns=HteCg@mail.gmail.com>
	<CACsi2507SbFCA4zG-EJca81MGzBwOsL_gjA4_GeecEi+=n9GBQ@mail.gmail.com>
	<56DE8D43.40505@redhat.com>
Date: Tue, 8 Mar 2016 09:46:08 +0100
Message-ID: <CAKQ1sVMXnU0wkLeDWfdvcfTBNaZqw_SgJpgM9LiCN2iyzKv8hg@mail.gmail.com>
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Tue, Mar 8, 2016 at 9:28 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrote:
>
> I have chosen FreeListen over the flags

FWIW, should be take the YAD path, I'd prefer ListenFree (over
FreeListen) to emphasize on the "Listen directive family" with a
prefix...

Regards,
Yann.

From dev-return-85809-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  8 09:25:38 2016
Return-Path: <dev-return-85809-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 938B410CCD
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Mar 2016 09:25:38 +0000 (UTC)
Received: (qmail 13141 invoked by uid 500); 8 Mar 2016 09:25:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13069 invoked by uid 500); 8 Mar 2016 09:25:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13059 invoked by uid 99); 8 Mar 2016 09:25:37 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2016 09:25:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 425841A0368
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 09:25:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id v_cYQmUBfXPx for <dev@httpd.apache.org>;
	Tue,  8 Mar 2016 09:25:36 +0000 (UTC)
Received: from mail-qg0-f53.google.com (mail-qg0-f53.google.com [209.85.192.53])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 3E85F5FB56
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 09:25:36 +0000 (UTC)
Received: by mail-qg0-f53.google.com with SMTP id u110so7105288qge.3
        for <dev@httpd.apache.org>; Tue, 08 Mar 2016 01:25:36 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-transfer-encoding;
        bh=EXRSDrUKweLhWkIkYe3Z6pE5QgBa1VWAhc1rgsBgMvA=;
        b=F2OhTCUA09cxf4IxRM7jB3si+9NGKnvUqBlODijbeaRvyzlRYJjUCta41yT8qjL8K+
         bC/7tgHT47YRLjP7DpCBvT+kw4FZxd+GkpXEgf7PbzoREEn+BO8KfF80uN3Ph50f93YC
         v0Rr8StaBsyBu3DTfTbN6IAGdWZQrjWgyvd0qLEt79wMxM45ySF2LARN9zEkO03fjxdG
         NETIA0TkVXsmUb2D7dc4kVHYXDmhgEW/D52+Ubem+df2OM2JylDuRTJirkUejpLRYvCX
         8W1a35X1CHMWrv1CDpE4JPjk/ilBLKYTVRReqswwzkBpmGJuYphhHcG+gK1YOivgQuRb
         nkHg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-transfer-encoding;
        bh=EXRSDrUKweLhWkIkYe3Z6pE5QgBa1VWAhc1rgsBgMvA=;
        b=JXFt6IU/aJ6l/Ta3JeLxS/zZuqAyHxm7aVm6wdN6oToH18VEY/awBO83sViQgNMsDx
         tDwSqLTGKhJfq1BqhG2tnL1VTu2vvawbFw5nX6Xw4Q0ioMo+dISWM7XBE5tIqIGsktHI
         xARnsGERethFq2l48GjU04ZiB54s3fjiEJZGx0oqCCqdpoR2mFGfaMutxxJ4iuq/ZxEu
         o2jjemgX12u9rfzPv9FmSosbmzKoHh6S2XY2Nmx9/Xm4Ur64gu+J9txQLfQspheB5Q0g
         waKgWFl5VJCpABumk05qcwgKxZ4UsckzUxczuNidjxM8h+zzBE/U1RIOmPp+qUwHoijP
         gK3A==
X-Gm-Message-State: AD7BkJLJK8IvWK5xTtdpx4nZiQ3R6HEEeMuqmCduuPLiUKWOD5yMrseLeSO1kB1QRG9gEIgsqDaEX6vEolZTJg==
MIME-Version: 1.0
X-Received: by 10.140.161.198 with SMTP id h189mr35986575qhh.24.1457429135564;
 Tue, 08 Mar 2016 01:25:35 -0800 (PST)
Received: by 10.55.10.7 with HTTP; Tue, 8 Mar 2016 01:25:35 -0800 (PST)
In-Reply-To: <CAKQ1sVMXnU0wkLeDWfdvcfTBNaZqw_SgJpgM9LiCN2iyzKv8hg@mail.gmail.com>
References: <56DD68E5.2040309@redhat.com>
	<3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com>
	<56DDDC53.1060103@redhat.com>
	<CACsi253rUFf7zY=F3EJrRGJTWUSckV590ypunAcUvkFLVMDmfQ@mail.gmail.com>
	<CAGBAQ47FRpVRV7ymht-weDRmPwNW0yA94cxQXFAOM_Ns=HteCg@mail.gmail.com>
	<CACsi2507SbFCA4zG-EJca81MGzBwOsL_gjA4_GeecEi+=n9GBQ@mail.gmail.com>
	<56DE8D43.40505@redhat.com>
	<CAKQ1sVMXnU0wkLeDWfdvcfTBNaZqw_SgJpgM9LiCN2iyzKv8hg@mail.gmail.com>
Date: Tue, 8 Mar 2016 10:25:35 +0100
Message-ID: <CAKQ1sVOaVLX=jg-V6vZ1A-8XFRt4xHse_+FbHyZ-eQ5SChQKfA@mail.gmail.com>
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Tue, Mar 8, 2016 at 9:46 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Tue, Mar 8, 2016 at 9:28 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrot=
e:
>>
>> I have chosen FreeListen over the flags
>
> FWIW, should be take the YAD path, I'd prefer ListenFree (over
> FreeListen) to emphasize on the "Listen directive family" with a
> prefix...

Thinking more about this, I think I second Jim on the wish to have a
single Listen directive with some parameter like
"options=3Dfreebind,backlog:4095,reuseport,...".

We could then whatever (new) IP option more easily (less docs work...)
and maybe deprecate ListenBacklog.

For example, the "reuseport" (SO_REUSEPORT) option seem to be usable
w/o the current buckets mechanism in latest linux kernels, so indeed
we may add more and more options there...

From dev-return-85810-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  8 09:36:44 2016
Return-Path: <dev-return-85810-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 607E910D8D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Mar 2016 09:36:44 +0000 (UTC)
Received: (qmail 59060 invoked by uid 500); 8 Mar 2016 09:36:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58993 invoked by uid 500); 8 Mar 2016 09:36:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58983 invoked by uid 99); 8 Mar 2016 09:36:43 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2016 09:36:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1BCE5C002C
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 09:36:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id IbG7eiCu53vh for <dev@httpd.apache.org>;
	Tue,  8 Mar 2016 09:36:42 +0000 (UTC)
Received: from mail-qk0-f182.google.com (mail-qk0-f182.google.com [209.85.220.182])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id B22EC5F393
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 09:36:41 +0000 (UTC)
Received: by mail-qk0-f182.google.com with SMTP id o6so3424857qkc.2
        for <dev@httpd.apache.org>; Tue, 08 Mar 2016 01:36:41 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-transfer-encoding;
        bh=bFEMj2J+sio6prBHSO9RWlStlYHJVyxz9mZhVorjLRc=;
        b=NxGUVhvHA5HnBdY6OlXZSkh0aPi4mqCgIwNkk/4jvYDNzM+M0HSqdUZhhelvFtGVvK
         ED9vBwh3Sv9wSH0L84qpdu0ElI03XmnzM3Of6bkMnBk2Lws3EBoHmjQFzqbZxyLYOVCR
         bqZEwYiDrbo6b8EegYarTI+h6HmO5VZzEpjU3Oc64cxjJgZx4tnBGhk8s8ixSVBcDCMN
         BQ5GMIBQBLbnXn6NfUpIxGjAYMw/SqKE5jBbNsiiSgMfgv2zvMgL3FLly6kMNbrEALS5
         XzU0RqhkKIa8q2cDlRoToqnapsYwx7AArB8hA1+Ti1llewP4ol/UAbRKFGhO+zg5RTAE
         9unA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-transfer-encoding;
        bh=bFEMj2J+sio6prBHSO9RWlStlYHJVyxz9mZhVorjLRc=;
        b=kHT8wz3l6oPm/icLsdHHTHeDThsOihBNP/Q4vwcvY52nrGitloBJ5vyRAEYNSvu+Q5
         v7iUCSUOS3D/60qij+C6GGRrDBj0178DaieZ4YLRb5NQ1T+WXICkq0p2zoftoWRHxlq0
         ePU974QWmiA++I/k/QNPG2ocFsdjVqWqrZMwNU2ZbBk9r12wFVrh80p8SigcHhs6drJg
         p1hJaqbubYqBQFADxHeP7+vg9S9r/jwf4NUOpiPKfPyv3g821RmE2/M3L94nBKVJLSD3
         FlNCnRkJuG3Lfn/J5tzEj9wvwLBfozPfowBKWeDCyHL8HacxHaYy3G7KJ1f6pLYEBtyt
         c8Vg==
X-Gm-Message-State: AD7BkJKbmc44skh4wckETM68D1ngcCR6+bIJ5E+BsiEliV9HVnzJlaCmY0D8pLeRnNjbX2RNkEEkEf0RxjRtLQ==
MIME-Version: 1.0
X-Received: by 10.55.71.195 with SMTP id u186mr34331175qka.38.1457429795197;
 Tue, 08 Mar 2016 01:36:35 -0800 (PST)
Received: by 10.55.10.7 with HTTP; Tue, 8 Mar 2016 01:36:35 -0800 (PST)
In-Reply-To: <56DD68E5.2040309@redhat.com>
References: <56DD68E5.2040309@redhat.com>
Date: Tue, 8 Mar 2016 10:36:35 +0100
Message-ID: <CAKQ1sVMeMc=yCoFPTaRjbREUsrfOU_41Fz0Sr6ow606zOyfH8w@mail.gmail.com>
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Mon, Mar 7, 2016 at 12:41 PM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrote=
:
>
> This is needed for httpd startup with systemd when one wants to use
> particular IP address to bind. There is no way how to start httpd after t=
he
> IP address has been configured in systemd and according to systemd
> developers, the applications should become more robust to handle network
> changes like that. The full reasoning is explained here [1].

Another use case is keepalived (VRRP) where the IPs are set by the
daemon when needed (eg. fail-over), and hence not always available at
startup.
It may be worth mentioning in the docs that this new feature would
help in such case, and could replace settings like sysctl's
net.ipv[46].ip_nonlocal_bind which are system (or at least network
namespace) wide.

Regards,
Yann.

From dev-return-85811-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  8 10:43:25 2016
Return-Path: <dev-return-85811-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8F5CF18072
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Mar 2016 10:43:25 +0000 (UTC)
Received: (qmail 94073 invoked by uid 500); 8 Mar 2016 10:43:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94006 invoked by uid 500); 8 Mar 2016 10:43:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 93992 invoked by uid 99); 8 Mar 2016 10:43:24 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2016 10:43:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 9E875180602
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 10:43:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -5.351
X-Spam-Level:
X-Spam-Status: No, score=-5.351 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_HI=-5, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RP_MATCHES_RCVD=-0.329, SPF_HELO_PASS=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id I29CUuIEqTPY for <dev@httpd.apache.org>;
	Tue,  8 Mar 2016 10:43:22 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 0E51C5FB56
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 10:43:22 +0000 (UTC)
Received: from int-mx14.intmail.prod.int.phx2.redhat.com (int-mx14.intmail.prod.int.phx2.redhat.com [10.5.11.27])
	by mx1.redhat.com (Postfix) with ESMTPS id 64EF6256F
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 10:43:21 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-33.brq.redhat.com [10.40.204.33])
	by int-mx14.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id u28AhKOr019047
	for <dev@httpd.apache.org>; Tue, 8 Mar 2016 05:43:20 -0500
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
To: dev@httpd.apache.org
References: <56DD68E5.2040309@redhat.com>
 <3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com>
 <56DDDC53.1060103@redhat.com>
 <CACsi253rUFf7zY=F3EJrRGJTWUSckV590ypunAcUvkFLVMDmfQ@mail.gmail.com>
 <CAGBAQ47FRpVRV7ymht-weDRmPwNW0yA94cxQXFAOM_Ns=HteCg@mail.gmail.com>
 <CACsi2507SbFCA4zG-EJca81MGzBwOsL_gjA4_GeecEi+=n9GBQ@mail.gmail.com>
 <56DE8D43.40505@redhat.com>
 <CAKQ1sVMXnU0wkLeDWfdvcfTBNaZqw_SgJpgM9LiCN2iyzKv8hg@mail.gmail.com>
 <CAKQ1sVOaVLX=jg-V6vZ1A-8XFRt4xHse_+FbHyZ-eQ5SChQKfA@mail.gmail.com>
From: =?UTF-8?Q?Jan_Kalu=c5=bea?= <jkaluza@redhat.com>
Message-ID: <56DEACC7.3080007@redhat.com>
Date: Tue, 8 Mar 2016 11:43:19 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.0
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVOaVLX=jg-V6vZ1A-8XFRt4xHse_+FbHyZ-eQ5SChQKfA@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.27

On 03/08/2016 10:25 AM, Yann Ylavic wrote:
> On Tue, Mar 8, 2016 at 9:46 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> On Tue, Mar 8, 2016 at 9:28 AM, Jan Kalua <jkaluza@redhat.com> wrote:
>>>
>>> I have chosen FreeListen over the flags
>>
>> FWIW, should be take the YAD path, I'd prefer ListenFree (over
>> FreeListen) to emphasize on the "Listen directive family" with a
>> prefix...
>
> Thinking more about this, I think I second Jim on the wish to have a
> single Listen directive with some parameter like
> "options=freebind,backlog:4095,reuseport,...".

Thinking about right syntax for options...

I would personally like something like "Listen [IP-address:]portnumber 
[protocol] [option1] [option2] ...". Do we have list of supported 
protocols by Listen directive, or we support whatever protocol is there?

If we have explicit list of protocols, then the protocols itself could 
become an options.

If not, can it be acceptable, that you always have to define protocol 
when you wan to use options?

Otherwise I can always implement Yann's idea with "Listen 
[IP-address:]portnumber [protocol] [options=[option1,option2,...]]".

Regards,
Jan Kaluza


> We could then whatever (new) IP option more easily (less docs work...)
> and maybe deprecate ListenBacklog.
>
> For example, the "reuseport" (SO_REUSEPORT) option seem to be usable
> w/o the current buckets mechanism in latest linux kernels, so indeed
> we may add more and more options there...
>


From dev-return-85812-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  8 16:40:21 2016
Return-Path: <dev-return-85812-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7427B18155
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Mar 2016 16:40:21 +0000 (UTC)
Received: (qmail 66288 invoked by uid 500); 8 Mar 2016 16:40:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 66205 invoked by uid 500); 8 Mar 2016 16:40:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 66185 invoked by uid 99); 8 Mar 2016 16:40:20 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2016 16:40:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 9D5331A0ACB
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 16:40:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652, WEIRD_PORT=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id l107KaSHEHR5 for <dev@httpd.apache.org>;
	Tue,  8 Mar 2016 16:40:17 +0000 (UTC)
Received: from resqmta-po-03v.sys.comcast.net (resqmta-po-03v.sys.comcast.net [96.114.154.162])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 43F2F5F20E
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 16:40:16 +0000 (UTC)
Received: from resomta-po-03v.sys.comcast.net ([96.114.154.227])
	by resqmta-po-03v.sys.comcast.net with comcast
	id TUfV1s0034ueUHc01UgADm; Tue, 08 Mar 2016 16:40:10 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-03v.sys.comcast.net with comcast
	id TUe91s0042U0RYt01Ue9to; Tue, 08 Mar 2016 16:38:10 +0000
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_proxy_wstunnel incomplete handshake
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <6018550.Zyo3QNZvLY@itsj>
Date: Tue, 8 Mar 2016 11:38:08 -0500
Cc: ComDev <dev@community.apache.org>
Content-Transfer-Encoding: 7bit
Message-Id: <6E3757FF-06EE-4FE8-8A40-214B9E5AB48C@jaguNET.com>
References: <6018550.Zyo3QNZvLY@itsj>
To: tvb@able.be,
 httpd <dev@httpd.apache.org>
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1457455210;
	bh=isSrptRDeMyuM2KudVcB5vdHPx9FCRcK7mmM7ZD3gTI=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=RLQd1jfwLq94/5ws/vivb4nqvo1gL4Hkt++hjsULciW0+umRVJdWAOQy2EprTQqD1
	 jeb+AD+YvQZS4eMZmsFO7tgRpRuaAny687byDW4XaZP9nAmkGoy9X3RyQG2jxxXdvZ
	 NXHHHlCyeUtDKXjxhdXPUvOumR3evBCB8V39gQ9juuHkgPrNaXKXDr8C0gh+FX4U/P
	 UvBKKCBqgxOaWKjr7QnGUispBH+LBsVAT9YG00usKtDT6iBOLVErzsDxcB3ji1QwyU
	 VMBVOZNNH0U+h1uigaYCS/bJ0ywwdH7T01N/b0LlSXzQx+vlKQEZTx35IQfC/hwwBp
	 SRRXn/1k3G4Eg==

Thank you for your email. I am forwarding this to the
correct Email list, which is dev@httpd.apache.org.

> On Mar 8, 2016, at 11:28 AM, tvb@able.be wrote:
> 
> Hi,
> 
> I'm currently testing a Web socket application behind an apache reverse 
> proxy. I started off with apache version 2.4.12, but after some weird 
> behavior decided to test versions 2.4.16, 2.4.18 and latest svn.
> 
> https://httpd.apache.org/docs/2.4/mod/mod_proxy_wstunnel.html[1] 
> says that
> 
> "It provides support for the tunnelling of web socket connections to a 
> backend websockets server. The connection is automatically upgraded 
> to a websocket connection".
> 
> Consider the following config, where reverse proxy listens on 
> 192.168.0.1 port 80 and web socket application is hosted on internal 
> web server 192.168.15.233 port 8888.
> 
> LoadModule proxy_module          modules/mod_proxy.so 
> LoadModule proxy_wstunnel_module 
> modules/mod_proxy_wstunnel.so
> 
> Listen 192.168.0.1:80 
> 
> 
>    Servername test-ws.domain.org
> 
>    ProxyRequests Off 
> 
> 
>    RewriteRule ^/([a-zA-Z0-9\.\_\ -:/]*)$  ws://192.168.15.233:8888/$1 [P]
> 
>    RewriteRule     .* - [F]
> 
>    ProxyPass / ws://192.168.15.233:8888/
>    ProxyPassReverse / ws://192.168.15.233:8888/
> 
> </VirtualHost>
> 
> From reading the docs it appeared as if HTTP requests are processed 
> as normal, unless it is requested to upgrade it to a web socket. 
> Basically in apache 2.4.12 the above config expects everything to be a 
> web socket. The first request on a connection is processed as normal, 
> but once considered a web socket, data is proxied as is without any 
> further processing.
> 
> On 2.4.18 the behavior is different, only requests with the "Upgrade: 
> Websocket" present are considered valid, any other request is denied 
> stating unsupported protocol.
> 
> 
> For instance:
> 
> $ telnet 192.168.0.1 80
> Trying 192.168.0.1... 
> 
> 
> The error log shows: 
> 
> "[Mon Mar 07 11:26:03.133185 2016] [proxy:warn] [pid 26745] [client 
> 192.168.0.1:33296] AH01144: No protocol handler was valid for the URL 
> /. If you are using a DSO ve
> 
> 
> 
> 
> The source code also reads that only the request is considered, and a 
> response of the server is not/never expected. The only expectation is 
> that the connection is opened at both sides (and readable), where it 
> should expect a response to complete the handshake of the HTTP 
> upgrade mechanism.
> 
> Any success or failure of the web server is not considered, eg. in 
> success situations a 101 "Switching protocols" can be expected, any 
> error status code to indicate a failure. Moreover this allows anyone to 
> open a (secure) tunnel towards the back-end server, and possibly 
> request anything (other) through it without apache noticing or notifying 
> about it (no access/error logs).
> 
> Consider the following configuration on 2.4.18:
> 
> LoadModule proxy_module          modules/mod_proxy.so 
> LoadModule proxy_wstunnel_module 
> modules/mod_proxy_wstunnel.so
> 
> Listen 192.168.0.1:80 
> 
> 
>    Servername test-ws.domain.org
> 
>    ProxyRequests Off 
> 
> 
>    RewriteRule ^/(TEST/[a-zA-Z0-9\.\_\ -:/]*)$ 
> ws://192.168.15.233:8888/$1 [P]
>    RewriteRule ^/[a-zA-Z0-9\.\_\ -:/]*)$  http://192.168.15.233:8888/$1 [P]
> 
>    RewriteRule     .* - [F]
> 
>    ProxyPass /TEST/ ws://192.168.15.233:8888/TEST/
>    ProxyPassReverse /TEST ws://192.168.15.233:8888/TEST/
> 
>    ProxyPass / ws://192.168.15.233:8888/
>    ProxyPassReverse / ws://192.168.15.233:8888/
> 
> </VirtualHost>
> 
> $ telnet 192.168.0.1 80
> 
> HTTP/1.1 404 Not Found 
> 
> 
> HTTP/1.1 200 OK 
> 
> 
> 
> 
> The access log is empty, no trace of any failure. Still the connection is 
> persistent and tunneling is further allowed.
> 
> 
> The error log shows :
> [Tue Mar 08 12:58:31.391351 2016] [rewrite:trace1] [pid 5988] 
> mod_rewrite.c(476): [client 192.168.0.1:34207] 192.168.0.1 - - 
> [192.168.0.1/sid#8c95ed8][rid#8cf0130/initial] go-ahead with proxy 
> request proxy:wss://192.168.15.233:8888/TEST/anyapp [OK] [Tue Mar 
> 08 12:58:31.391726 2016] [ssl:info] [pid 5988] [remote 
> 192.168.15.233:8888] AH01964: Connection to child 0 established 
> (server 192.168.0.1:80)
> 
> 
> Later when the connection is terminated or times out, the access log 
> shows:
> 
> 192.168.0.1 - - [08/Mar/2016:12:58:30 +0100] "GET /INS-
> AWINGU/anyapp HTTP/1.1" 200 -
> 
> Shouldn't there be some additional processing that at least completes 
> the HTTP upgrade handshake before opening the tunnel permanently. If 
> not, connections are left open and can be reused for other purposes.
> 
> Kind regards,
> Tijs


From dev-return-85813-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  8 17:23:35 2016
Return-Path: <dev-return-85813-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D2C8C1856F
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Mar 2016 17:23:35 +0000 (UTC)
Received: (qmail 85127 invoked by uid 500); 8 Mar 2016 17:23:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85057 invoked by uid 500); 8 Mar 2016 17:23:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85047 invoked by uid 99); 8 Mar 2016 17:23:35 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2016 17:23:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 07A071A1425
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 17:23:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.033
X-Spam-Level: *
X-Spam-Status: No, score=1.033 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RDNS_DYNAMIC=0.363,
	RP_MATCHES_RCVD=-0.329, SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id QUt5TtV77pOQ for <dev@httpd.apache.org>;
	Tue,  8 Mar 2016 17:23:32 +0000 (UTC)
Received: from nebula.c8h10n4o2.org.uk (nebula.c8h10n4o2.org.uk [80.68.88.207])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 93DA65F1B3
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 17:23:32 +0000 (UTC)
Received: from consume.c8h10n4o2.org.uk ([2001:8b0:caee:2::2])
	by nebula.c8h10n4o2.org.uk with esmtpsa (TLS1.0:ECDHE_RSA_AES_256_CBC_SHA384:256)
	(Exim 4.84)
	(envelope-from <isoma@c8h10n4o2.org.uk>)
	id 1adLLv-00074t-DI
	for dev@httpd.apache.org; Tue, 08 Mar 2016 17:23:23 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
From: Tim Bannister <isoma@c8h10n4o2.org.uk>
In-Reply-To: <CAKQ1sVOaVLX=jg-V6vZ1A-8XFRt4xHse_+FbHyZ-eQ5SChQKfA@mail.gmail.com>
Date: Tue, 8 Mar 2016 17:23:22 +0000
Content-Transfer-Encoding: quoted-printable
Message-Id: <7AFBC71A-6051-4FB8-B2CB-E677B30D8CDE@c8h10n4o2.org.uk>
References: <56DD68E5.2040309@redhat.com> <3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com> <56DDDC53.1060103@redhat.com> <CACsi253rUFf7zY=F3EJrRGJTWUSckV590ypunAcUvkFLVMDmfQ@mail.gmail.com> <CAGBAQ47FRpVRV7ymht-weDRmPwNW0yA94cxQXFAOM_Ns=HteCg@mail.gmail.com> <CACsi2507SbFCA4zG-EJca81MGzBwOsL_gjA4_GeecEi+=n9GBQ@mail.gmail.com> <56DE8D43.40505@redhat.com> <CAKQ1sVMXnU0wkLeDWfdvcfTBNaZqw_SgJpgM9LiCN2iyzKv8hg@mail.gmail.com> <CAKQ1sVOaVLX=jg-V6vZ1A-8XFRt4xHse_+FbHyZ-eQ5SChQKfA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

On 8 Mar 2016, at 09:25, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Tue, Mar 8, 2016 at 9:46 AM, Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
>> On Tue, Mar 8, 2016 at 9:28 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> =
wrote:
>>>=20
>>> I have chosen FreeListen over the flags
>>=20
>> FWIW, should be take the YAD path, I'd prefer ListenFree (over
>> FreeListen) to emphasize on the "Listen directive family" with a
>> prefix...
>=20
> Thinking more about this, I think I second Jim on the wish to have a
> single Listen directive with some parameter like
> "options=3Dfreebind,backlog:4095,reuseport,...".
>=20
> We could then whatever (new) IP option more easily (less docs work...)
> and maybe deprecate ListenBacklog.

+1

I thought of having an feature / module for having a separate process =
bind the listening TCP socket (and send the FD to httpd over an AF_UNIX =
socket*), ending up with the same =
"options=3Dfreebind,backlog:4095,reuseport,..." concept.

I'm presuming that =E2=80=9Coptions=3Dprotocol:https=E2=80=9D would be =
fine too, and =E2=80=9Chttps=E2=80=9D on its own would be taken to be a =
deprecated shorthand?


* similar to how https://github.com/JiriHorky/privbind works

--=20
Tim Bannister =E2=80=93 isoma@c8h10n4o2.org.uk


From dev-return-85814-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  8 17:39:02 2016
Return-Path: <dev-return-85814-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 68C3C18657
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Mar 2016 17:39:02 +0000 (UTC)
Received: (qmail 54894 invoked by uid 500); 8 Mar 2016 17:39:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54835 invoked by uid 500); 8 Mar 2016 17:39:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54825 invoked by uid 99); 8 Mar 2016 17:39:01 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2016 17:39:01 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E2228C2EA5
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 17:39:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.361
X-Spam-Level: *
X-Spam-Status: No, score=1.361 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RDNS_DYNAMIC=0.363,
	RP_MATCHES_RCVD=-0.001, SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Yzv2qTVYO-u0 for <dev@httpd.apache.org>;
	Tue,  8 Mar 2016 17:38:59 +0000 (UTC)
Received: from nebula.c8h10n4o2.org.uk (nebula.c8h10n4o2.org.uk [80.68.88.207])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 8CE345F393
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 17:38:58 +0000 (UTC)
Received: from consume.c8h10n4o2.org.uk ([2001:8b0:caee:2::2])
	by nebula.c8h10n4o2.org.uk with esmtpsa (TLS1.0:ECDHE_RSA_AES_256_CBC_SHA384:256)
	(Exim 4.84)
	(envelope-from <isoma@c8h10n4o2.org.uk>)
	id 1adLau-00076p-A1
	for dev@httpd.apache.org; Tue, 08 Mar 2016 17:38:52 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
From: Tim Bannister <isoma@c8h10n4o2.org.uk>
In-Reply-To: <56DEACC7.3080007@redhat.com>
Date: Tue, 8 Mar 2016 17:38:52 +0000
Content-Transfer-Encoding: quoted-printable
Message-Id: <06B0C8CC-8CE9-4617-A213-66D41BBFFF3D@c8h10n4o2.org.uk>
References: <56DD68E5.2040309@redhat.com> <3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com> <56DDDC53.1060103@redhat.com> <CACsi253rUFf7zY=F3EJrRGJTWUSckV590ypunAcUvkFLVMDmfQ@mail.gmail.com> <CAGBAQ47FRpVRV7ymht-weDRmPwNW0yA94cxQXFAOM_Ns=HteCg@mail.gmail.com> <CACsi2507SbFCA4zG-EJca81MGzBwOsL_gjA4_GeecEi+=n9GBQ@mail.gmail.com> <56DE8D43.40505@redhat.com> <CAKQ1sVMXnU0wkLeDWfdvcfTBNaZqw_SgJpgM9LiCN2iyzKv8hg@mail.gmail.com> <CAKQ1sVOaVLX=jg-V6vZ1A-8XFRt4xHse_+FbHyZ-eQ5SChQKfA@mail.gmail.com> <56DEACC7.3080007@redhat.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

On 8 Mar 2016, at 10:43, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrote:
> On 03/08/2016 10:25 AM, Yann Ylavic wrote:
>> On Tue, Mar 8, 2016 at 9:46 AM, Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
>>> On Tue, Mar 8, 2016 at 9:28 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> =
wrote:
>>>>=20
>>>> I have chosen FreeListen over the flags
>>>=20
>>> FWIW, should be take the YAD path, I'd prefer ListenFree (over
>>> FreeListen) to emphasize on the "Listen directive family" with a
>>> prefix...
>>=20
>> Thinking more about this, I think I second Jim on the wish to have a
>> single Listen directive with some parameter like
>> "options=3Dfreebind,backlog:4095,reuseport,...".
>=20
> Thinking about right syntax for options...
>=20
> I would personally like something like "Listen [IP-address:]portnumber =
[protocol] [option1] [option2] ...". Do we have list of supported =
protocols by Listen directive, or we support whatever protocol is there?
>=20
> If we have explicit list of protocols, then the protocols itself could =
become an options.
>=20
> If not, can it be acceptable, that you always have to define protocol =
when you wan to use options?

That sounds fine too.

One proviso comes with the idea of a single socket that can serve =
several protocols. Think of WebSocket, because it is awkward: from an =
HTTP point-of-view, the protocol is initially HTTP and then upgrades to =
WebSocket; however, from a WebSocket point of view, the protocol is =
WebSocket throughout with a preamble that also happens to resemble =
HTTP/1.1.

Using the first model, only one protocol need be specified (but it's not =
clear which upgrades are valid for this socket). Using the second model, =
the Listen directive needs a way for the admin to specify multiple =
protocols. Maybe the answer is for that to be set in the Protocols =
directive only?

What should the Listen directive look like, ideally, for a =
freebind-enabled socket that can be either HTTP or WebSocket, and needs =
to specify options? Like this perhaps:

Listen [2001:db8::a00:20ff:fea7:ccea]:1234 http/1.1,websocket =
options=3Dfreebind




--=20
Tim Bannister =E2=80=93 isoma@c8h10n4o2.org.uk


From dev-return-85815-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  8 17:39:33 2016
Return-Path: <dev-return-85815-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EF61418667
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Mar 2016 17:39:32 +0000 (UTC)
Received: (qmail 60001 invoked by uid 500); 8 Mar 2016 17:39:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59928 invoked by uid 500); 8 Mar 2016 17:39:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59918 invoked by uid 99); 8 Mar 2016 17:39:32 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2016 17:39:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id EC0B318060A
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 17:39:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.002
X-Spam-Level:
X-Spam-Status: No, score=-0.002 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id R_NcGDz3BH4q for <dev@httpd.apache.org>;
	Tue,  8 Mar 2016 17:39:27 +0000 (UTC)
Received: from mail-qg0-f47.google.com (mail-qg0-f47.google.com [209.85.192.47])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 8B5935F1B3
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 17:39:26 +0000 (UTC)
Received: by mail-qg0-f47.google.com with SMTP id t4so18595840qge.0
        for <dev@httpd.apache.org>; Tue, 08 Mar 2016 09:39:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc;
        bh=SAQwDlyr5tQHASpvb9HoXZyRAzhIQyjQNvcU6B4JeFM=;
        b=UuhftXGB3CyGmwJXKDaPrrt6wLf6FtY3uREm2rTnqeKhDa+md4nMW4dR5jeUTYioyj
         xUAC5cm6yYOyaYqYNu6H+/JcgEoDS6+BFioeP/EgSCCAbf3AMDZ/pJEl7lYf1G7Q0K8g
         zGT3X0riA+bklUoo2W+9qEgcDRdG9U7XIZTgyOPj2lwqT58KSenxwO52JXYJgCqqbPqj
         xC2qarzt6SkawvPh9I/nHh7iUvDFnVuA3zYG1G4Ev2hqId9M2Oo1nIc5QmJSNo/a4w9w
         rGrB7PPLP59nXDVcsWvwvlGOmSIc01t4xFNGm98TrgUuDf4CKkBaDvUVptPFw4UPmg3J
         RBEA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc;
        bh=SAQwDlyr5tQHASpvb9HoXZyRAzhIQyjQNvcU6B4JeFM=;
        b=WArpiAFXMXqEmc47lYrC6m6AzhEGQjaTCO509MwhMxfFv7ydDRfT3S+g52FJS9mfQc
         DOrcEyj2dbQZFe9/QHSDV0cV7LSWXmx2HjR5pXxLJ2Gncs5lePFw/YIFghbHRKiyRNv5
         LpLEm7GkfLQh3R3mpEEtWxLHuLAhtj7t/lGlIJ4unQlSZR9aMXOpHiYz8cTEhWWOstbt
         5v4C06bL901b85WfpcoEaIz8jDD3W3OUWnz8TSRjT1Ge1J2Lfs+/0W6o1Ok5a16IEHyq
         HCl+6/yT5jGr/GjDHBVf/s6clofYjLHzPk66n0BwWD0ZcJj0hjge07DZ4cESv2pGq2Jl
         DDXA==
X-Gm-Message-State: AD7BkJLc7BdUfincSP0msQHpXjPvY1YkfeIxTK2yifvuY5rcEl3mNHB47jARFwRVrzL1qR9W/X6wf7E/WhHVPA==
MIME-Version: 1.0
X-Received: by 10.140.101.147 with SMTP id u19mr38409453qge.71.1457458765774;
 Tue, 08 Mar 2016 09:39:25 -0800 (PST)
Received: by 10.55.10.7 with HTTP; Tue, 8 Mar 2016 09:39:25 -0800 (PST)
In-Reply-To: <6E3757FF-06EE-4FE8-8A40-214B9E5AB48C@jaguNET.com>
References: <6018550.Zyo3QNZvLY@itsj>
	<6E3757FF-06EE-4FE8-8A40-214B9E5AB48C@jaguNET.com>
Date: Tue, 8 Mar 2016 18:39:25 +0100
Message-ID: <CAKQ1sVOb6=ma_zNmYk4kap88KrdFv+qyu2TEwXS2pxdXq5KzrQ@mail.gmail.com>
Subject: Re: mod_proxy_wstunnel incomplete handshake
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Cc: tvb@able.be
Content-Type: multipart/mixed; boundary=001a11c16da80280b6052d8d1048

--001a11c16da80280b6052d8d1048
Content-Type: text/plain; charset=UTF-8

Actually I was working on these lands lately to implement some Upgrade
forwarding.

I ended up with the attached patch (still incomplete, but working)
which moves some mod_proxy_wstunnel parts (TCP-forwarding) to
proxy_util and finally uses the parsing/power of mod_proxy_http for
this achievement.
The patch is based on 2.4.18 and does not apply to trunk or 2.4.x due
latest changes wrt lifetime_transform buckets, but could be easily
adapted...

I think handling Upgrade in mod_proxy_http would "deprecate"
mod_proxy_wstunnel which, as Tijs noticed, can't handle conditional
Upgrade w/o some logic already in mod_proxy_http, and which does not
play well with mod_proxy_http either when the requested (sub)paths
collide.

I'm proposing it now (quite quickly) to see if the approach looks
relevant/suitable/viable (and I could work further on it), or if it is
simply not a good idea :)

Thoughts?

--001a11c16da80280b6052d8d1048
Content-Type: text/x-patch; charset=US-ASCII; 
	name="httpd-2.4.18-mod_proxy_http-upgrade.patch"
Content-Disposition: attachment; 
	filename="httpd-2.4.18-mod_proxy_http-upgrade.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_iljpa8oa0

SW5kZXg6IGluY2x1ZGUvaHR0cF9wcm90b2NvbC5oCj09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIGluY2x1ZGUvaHR0
cF9wcm90b2NvbC5oCShyZXZpc2lvbiAxNzM0MTA5KQorKysgaW5jbHVkZS9odHRwX3Byb3RvY29s
LmgJKHdvcmtpbmcgY29weSkKQEAgLTk3NiwxMCArOTc2LDEzIEBAIEFQX0RFQ0xBUkUodm9pZCkg
YXBfc2V0X3N1Yl9yZXFfcHJvdG9jb2wocmVxdWVzdF9yCiAgKi8KIEFQX0RFQ0xBUkUodm9pZCkg
YXBfZmluYWxpemVfc3ViX3JlcV9wcm90b2NvbChyZXF1ZXN0X3JlYyAqc3ViX3IpOwogCisjZGVm
aW5lIEFQX1NFTkRfSU5URVJJTV9LRUVQX0hFQURFUlMgMHhkZWFkYmVlZgogLyoqCiAgKiBTZW5k
IGFuIGludGVyaW0gKEhUVFAgMXh4KSByZXNwb25zZSBpbW1lZGlhdGVseS4KICAqIEBwYXJhbSBy
IFRoZSByZXF1ZXN0CiAgKiBAcGFyYW0gc2VuZF9oZWFkZXJzIFdoZXRoZXIgdG8gc2VuZCZjbGVh
ciBoZWFkZXJzIGluIHItPmhlYWRlcnNfb3V0CisgKiBAcmVtYXJrIHNlbmRfaGVhZGVycyA9PSBB
UF9TRU5EX0lOVEVSSU1fS0VFUF9IRUFERVJTIGFsbG93cyB0byBzZW5kCisgKiAgICAgICAgIGJ1
dCBub3QgY2xlYXIgci0+aGVhZGVyc19vdXQKICAqLwogQVBfREVDTEFSRSh2b2lkKSBhcF9zZW5k
X2ludGVyaW1fcmVzcG9uc2UocmVxdWVzdF9yZWMgKnIsIGludCBzZW5kX2hlYWRlcnMpOwogCklu
ZGV4OiBtb2R1bGVzL3Byb3h5L21vZF9wcm94eS5oCj09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvcHJv
eHkvbW9kX3Byb3h5LmgJKHJldmlzaW9uIDE3MzQxMDkpCisrKyBtb2R1bGVzL3Byb3h5L21vZF9w
cm94eS5oCSh3b3JraW5nIGNvcHkpCkBAIC0xMDA0LDYgKzEwMDQsOSBAQCBQUk9YWV9ERUNMQVJF
KGludCkgYXBfcHJveHlfcGFzc19icmlnYWRlKGFwcl9idWNrZQogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBjb25uX3JlYyAqb3JpZ2luLCBhcHJfYnVja2V0X2JyaWdh
ZGUgKmJiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgZmx1
c2gpOwogCitQUk9YWV9ERUNMQVJFKGludCkgYXBfcHJveHlfdHVubmVsX3JlcXVlc3QoYXByX3Bv
b2xfdCAqcCwgcmVxdWVzdF9yZWMgKnIsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgcHJveHlfY29ubl9yZWMgKmJhY2tlbmQpOworCiAvKioKICAqIENsZWFyIHRo
ZSBoZWFkZXJzIHJlZmVyZW5jZWQgYnkgdGhlIENvbm5lY3Rpb24gaGVhZGVyIGZyb20gdGhlIGdp
dmVuCiAgKiB0YWJsZSwgYW5kIHJlbW92ZSB0aGUgQ29ubmVjdGlvbiBoZWFkZXIuCkluZGV4OiBt
b2R1bGVzL3Byb3h5L21vZF9wcm94eV9odHRwLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9wcm94
eS9tb2RfcHJveHlfaHR0cC5jCShyZXZpc2lvbiAxNzM0MTA5KQorKysgbW9kdWxlcy9wcm94eS9t
b2RfcHJveHlfaHR0cC5jCSh3b3JraW5nIGNvcHkpCkBAIC03MTIsNiArNzEyLDcgQEAgaW50IGFw
X3Byb3h5X2h0dHBfcmVxdWVzdChhcHJfcG9vbF90ICpwLCByZXF1ZXN0X3IKICAgICBlbnVtIHJi
X21ldGhvZHMgcmJfbWV0aG9kID0gUkJfSU5JVDsKICAgICBjaGFyICpvbGRfY2xfdmFsID0gTlVM
TDsKICAgICBjaGFyICpvbGRfdGVfdmFsID0gTlVMTDsKKyAgICBjb25zdCBjaGFyICp1cGdyYWRl
ID0gTlVMTDsKICAgICBhcHJfb2ZmX3QgYnl0ZXNfcmVhZCA9IDA7CiAgICAgYXByX29mZl90IGJ5
dGVzOwogICAgIGludCBmb3JjZTEwLCBydjsKQEAgLTcyMyw2ICs3MjQsOSBAQCBpbnQgYXBfcHJv
eHlfaHR0cF9yZXF1ZXN0KGFwcl9wb29sX3QgKnAsIHJlcXVlc3RfcgogICAgICAgICB9CiAgICAg
ICAgIGZvcmNlMTAgPSAxOwogICAgIH0gZWxzZSB7CisgICAgICAgIGlmIChhcHJfdGFibGVfZ2V0
KHItPnN1YnByb2Nlc3NfZW52LCAicHJveHktZm9yd2FyZC11cGdyYWRlIikpIHsKKyAgICAgICAg
ICAgIHVwZ3JhZGUgPSBhcHJfdGFibGVfZ2V0KHItPmhlYWRlcnNfaW4sICJVcGdyYWRlIik7Cisg
ICAgICAgIH0KICAgICAgICAgZm9yY2UxMCA9IDA7CiAgICAgfQogCkBAIC05MjUsNiArOTI5LDEw
IEBAIHNraXBfYm9keToKICAgICAgICAgaWYgKCFhcF9wcm94eV9jb25uZWN0aW9uX3JldXNhYmxl
KHBfY29ubikpIHsKICAgICAgICAgICAgIGJ1ZiA9IGFwcl9wc3RyZHVwKHAsICJDb25uZWN0aW9u
OiBjbG9zZSIgQ1JMRik7CiAgICAgICAgIH0KKyAgICAgICAgZWxzZSBpZiAodXBncmFkZSkgewor
ICAgICAgICAgICAgYnVmID0gYXByX3BzdHJjYXQocCwgIkNvbm5lY3Rpb246IEtlZXAtQWxpdmUs
IFVwZ3JhZGUiIENSTEYKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJVcGdyYWRl
OiAiLCB1cGdyYWRlLCBDUkxGLCBOVUxMKTsKKyAgICAgICAgfQogICAgICAgICBlbHNlIHsKICAg
ICAgICAgICAgIGJ1ZiA9IGFwcl9wc3RyZHVwKHAsICJDb25uZWN0aW9uOiBLZWVwLUFsaXZlIiBD
UkxGKTsKICAgICAgICAgfQpAQCAtMTI0OCw3ICsxMjU2LDYgQEAgYXByX3N0YXR1c190IGFwX3By
b3h5X2h0dHBfcHJvY2Vzc19yZXNwb25zZShhcHJfcG8KICAgICBzdGF0aWMgY29uc3QgY2hhciAq
aG9wX2J5X2hvcF9oZHJzW10gPQogICAgICAgICB7IktlZXAtQWxpdmUiLCAiUHJveHktQXV0aGVu
dGljYXRlIiwgIlRFIiwgIlRyYWlsZXIiLCAiVXBncmFkZSIsIE5VTEx9OwogICAgIGludCBpOwot
ICAgIGNvbnN0IGNoYXIgKnRlID0gTlVMTDsKICAgICBpbnQgb3JpZ2luYWxfc3RhdHVzID0gci0+
c3RhdHVzOwogICAgIGludCBwcm94eV9zdGF0dXMgPSBPSzsKICAgICBjb25zdCBjaGFyICpvcmln
aW5hbF9zdGF0dXNfbGluZSA9IHItPnN0YXR1c19saW5lOwpAQCAtMTI5NSw2ICsxMzAyLDcgQEAg
YXByX3N0YXR1c190IGFwX3Byb3h5X2h0dHBfcHJvY2Vzc19yZXNwb25zZShhcHJfcG8KICAgICAg
ICAgICAgICAgICAgICBvcmlnaW4tPmxvY2FsX2FkZHItPnBvcnQpKTsKICAgICB0bXBfYmIgPSBh
cHJfYnJpZ2FkZV9jcmVhdGUocCwgYy0+YnVja2V0X2FsbG9jKTsKICAgICBkbyB7CisgICAgICAg
IGNvbnN0IGNoYXIgKnRlID0gTlVMTCwgKnVwZ3JhZGUgPSBOVUxMOwogICAgICAgICBhcHJfc3Rh
dHVzX3QgcmM7CiAKICAgICAgICAgYXByX2JyaWdhZGVfY2xlYW51cChiYik7CkBAIC0xNDkwLDYg
KzE0OTgsMTEgQEAgYXByX3N0YXR1c190IGFwX3Byb3h5X2h0dHBfcHJvY2Vzc19yZXNwb25zZShh
cHJfcG8KICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgdGUgPSBhcHJfdGFibGVfZ2V0KHIt
PmhlYWRlcnNfb3V0LCAiVHJhbnNmZXItRW5jb2RpbmciKTsKIAorICAgICAgICAgICAgLyogTGlr
ZXdpc2UgZm9yIFVwZ3JhZGUgaGVhZGVyICovCisgICAgICAgICAgICBpZiAoci0+c3RhdHVzID09
IEhUVFBfU1dJVENISU5HX1BST1RPQ09MUykgeworICAgICAgICAgICAgICAgIHVwZ3JhZGUgPSBh
cHJfdGFibGVfZ2V0KHItPmhlYWRlcnNfb3V0LCAiVXBncmFkZSIpOworICAgICAgICAgICAgfQor
CiAgICAgICAgICAgICAvKiBzdHJpcCBjb25uZWN0aW9uIGxpc3RlZCBob3AtYnktaG9wIGhlYWRl
cnMgZnJvbSByZXNwb25zZSAqLwogICAgICAgICAgICAgdG9jbG9zZSA9IGFwX3Byb3h5X2NsZWFy
X2Nvbm5lY3Rpb25fZm4ociwgci0+aGVhZGVyc19vdXQpOwogICAgICAgICAgICAgaWYgKHRvY2xv
c2UpIHsKQEAgLTE1ODMsMTAgKzE1OTYsMjcgQEAgYXByX3N0YXR1c190IGFwX3Byb3h5X2h0dHBf
cHJvY2Vzc19yZXNwb25zZShhcHJfcG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgInByb3h5LWludGVyaW0tcmVzcG9uc2UiKTsKICAgICAgICAgICAgIGFw
X2xvZ19yZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfVFJBQ0UyLCAwLCByLAogICAgICAgICAgICAg
ICAgICAgICAgICAgICAiSFRUUDogcmVjZWl2ZWQgaW50ZXJpbSAlZCByZXNwb25zZSIsIHItPnN0
YXR1cyk7Ci0gICAgICAgICAgICBpZiAoIXBvbGljeQotICAgICAgICAgICAgICAgICAgICB8fCAo
IXN0cmNhc2VjbXAocG9saWN5LCAiUkZDIikgJiYgKChyLT5leHBlY3RpbmdfMTAwID0gMSkpKSkg
eworICAgICAgICAgICAgaWYgKCFwb2xpY3kgfHwgIXN0cmNhc2VjbXAocG9saWN5LCAiUkZDIikp
IHsKKyAgICAgICAgICAgICAgICBpZiAodXBncmFkZSkgeworICAgICAgICAgICAgICAgICAgICBh
cHJfdGFibGVfc2V0bihyLT5oZWFkZXJzX291dCwgIlVwZ3JhZGUiLCB1cGdyYWRlKTsKKyAgICAg
ICAgICAgICAgICAgICAgYXByX3RhYmxlX3NldG4oci0+aGVhZGVyc19vdXQsICJDb25uZWN0aW9u
IiwgInVwZ3JhZGUiKTsKKyAgICAgICAgICAgICAgICAgICAgCisgICAgICAgICAgICAgICAgICAg
IC8qIFNpbmNlIGFmdGVyIHRoZSBVcGdyYWRlIHRoaXMgaXMgbm90IEhUVFAgYW55bW9yZSwKKyAg
ICAgICAgICAgICAgICAgICAgICogY29uc2lkZXIgdGhlIEhUVFAgKGZpbmFsKSByZXNwb25zZSBp
cyB0aGlzIHN0YXR1cyAxMDEsCisgICAgICAgICAgICAgICAgICAgICAqIGhlbmNlIHRlbGwgYXBf
c2VuZF9pbnRlcmltX3Jlc3BvbnNlKCkgdG8gc2VuZCBidXQgc3RpbGwKKyAgICAgICAgICAgICAg
ICAgICAgICoga2VlcCAobm90IGNsZWFyKSB0aGUgaGVhZGVycy4KKyAgICAgICAgICAgICAgICAg
ICAgICovCisgICAgICAgICAgICAgICAgICAgIGFwX3NlbmRfaW50ZXJpbV9yZXNwb25zZShyLCBB
UF9TRU5EX0lOVEVSSU1fS0VFUF9IRUFERVJTKTsKKyAgICAgICAgICAgICAgICB9CisgICAgICAg
ICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgIGFwX3NlbmRfaW50ZXJpbV9yZXNwb25zZShy
LCAxKTsKICAgICAgICAgICAgIH0KKyAgICAgICAgICAgIGVsc2UgaWYgKHVwZ3JhZGUpIHsKKyAg
ICAgICAgICAgICAgICByZXR1cm4gYXBfcHJveHllcnJvcihyLCBIVFRQX0JBRF9HQVRFV0FZLAor
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHJfcHNwcmludGYocCwgIlVuZXhwZWN0
ZWQgc3RhdHVzICVpICIKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICJyZXR1cm5lZCBieSByZW1vdGUgc2VydmVyIiwKKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHByb3h5X3N0YXR1cykpOworICAgICAgICAgICAgfQogICAg
ICAgICAgICAgLyogRklYTUU6IHJlZmluZSB0aGlzIHRvIGJlIGFibGUgdG8gc3BlY2lmeSBwZXIt
cmVzcG9uc2Utc3RhdHVzCiAgICAgICAgICAgICAgKiBwb2xpY2llcyBhbmQgbWF5YmUgYWxzbyBh
ZGQgb3B0aW9uIHRvIGJhaWwgb3V0IHdpdGggNTAyCiAgICAgICAgICAgICAgKi8KQEAgLTE2MTEs
MzEgKzE2NDEsNiBAQCBhcHJfc3RhdHVzX3QgYXBfcHJveHlfaHR0cF9wcm9jZXNzX3Jlc3BvbnNl
KGFwcl9wbwogICAgICAgICAgICAgfQogICAgICAgICB9CiAKLSAgICAgICAgci0+c2VudF9ib2R5
Y3QgPSAxOwotICAgICAgICAvKgotICAgICAgICAgKiBJcyBpdCBhbiBIVFRQLzAuOSByZXNwb25z
ZSBvciBkaWQgd2UgbWF5YmUgcHJlcmVhZCB0aGUgMXN0IGxpbmUgb2YKLSAgICAgICAgICogdGhl
IHJlc3BvbnNlPyBJZiBzbywgbG9hZCB0aGUgZXh0cmEgZGF0YS4gVGhlc2UgYXJlIDIgbXV0dWFs
bHkKLSAgICAgICAgICogZXhjbHVzaXZlIHBvc3NpYmlsaXRpZXMsIHRoYXQganVzdCBoYXBwZW4g
dG8gcmVxdWlyZSB2ZXJ5Ci0gICAgICAgICAqIHNpbWlsYXIgYmVoYXZpb3IuCi0gICAgICAgICAq
LwotICAgICAgICBpZiAoYmFja2Fzc3dhcmRzIHx8IHByZWFkX2xlbikgewotICAgICAgICAgICAg
YXByX3NzaXplX3QgY250ciA9IChhcHJfc3NpemVfdClwcmVhZF9sZW47Ci0gICAgICAgICAgICBp
ZiAoYmFja2Fzc3dhcmRzKSB7Ci0gICAgICAgICAgICAgICAgLypAQEBGSVhNRToKLSAgICAgICAg
ICAgICAgICAgKiBBdCB0aGlzIHBvaW50IGluIHJlc3BvbnNlIHByb2Nlc3Npbmcgb2YgYSAwLjkg
cmVzcG9uc2UsCi0gICAgICAgICAgICAgICAgICogd2UgZG9uJ3Qga25vdyB5ZXQgd2hldGhlciBk
YXRhIGlzIGJpbmFyeSBvciBub3QuCi0gICAgICAgICAgICAgICAgICogbW9kX2NoYXJzZXRfbGl0
ZSB3aWxsIGdldCBjb250cm9sIGxhdGVyIG9uLCBzbyBpdCBjYW5ub3QKLSAgICAgICAgICAgICAg
ICAgKiBkZWNpZGUgb24gdGhlIGNvbnZlcnNpb24gb2YgdGhpcyBidWZmZXIgZnVsbCBvZiBkYXRh
LgotICAgICAgICAgICAgICAgICAqIEhvd2V2ZXIsIGNoYW5jZXMgYXJlIHRoYXQgd2UgYXJlIG5v
dCByZWFsbHkgdGFsa2luZyB0byBhbgotICAgICAgICAgICAgICAgICAqIEhUVFAvMC45IHNlcnZl
ciwgYnV0IHRvIHNvbWUgZGlmZmVyZW50IHByb3RvY29sLCB0aGVyZWZvcmUKLSAgICAgICAgICAg
ICAgICAgKiB0aGUgYmVzdCBndWVzcyBJTUhPIGlzIHRvIGFsd2F5cyB0cmVhdCB0aGUgYnVmZmVy
IGFzICJ0ZXh0L3giOgotICAgICAgICAgICAgICAgICAqLwotICAgICAgICAgICAgICAgIGFwX3hs
YXRlX3Byb3RvX3RvX2FzY2lpKGJ1ZmZlciwgbGVuKTsKLSAgICAgICAgICAgICAgICBjbnRyID0g
KGFwcl9zc2l6ZV90KWxlbjsKLSAgICAgICAgICAgIH0KLSAgICAgICAgICAgIGUgPSBhcHJfYnVj
a2V0X2hlYXBfY3JlYXRlKGJ1ZmZlciwgY250ciwgTlVMTCwgYy0+YnVja2V0X2FsbG9jKTsKLSAg
ICAgICAgICAgIEFQUl9CUklHQURFX0lOU0VSVF9UQUlMKGJiLCBlKTsKLSAgICAgICAgfQogICAg
ICAgICAvKiBQUiA0MTY0NjogZ2V0IEhFQUQgcmlnaHQgd2l0aCBQcm94eUVycm9yT3ZlcnJpZGUg
Ki8KICAgICAgICAgaWYgKGFwX2lzX0hUVFBfRVJST1Ioci0+c3RhdHVzKSAmJiBkY29uZi0+ZXJy
b3Jfb3ZlcnJpZGUpIHsKICAgICAgICAgICAgIC8qIGNsZWFyIHItPnN0YXR1cyBmb3Igb3ZlcnJp
ZGUgZXJyb3IsIG90aGVyd2lzZSBFcnJvckRvY3VtZW50CkBAIC0xNjY5LDYgKzE2NzQsNDMgQEAg
YXByX3N0YXR1c190IGFwX3Byb3h5X2h0dHBfcHJvY2Vzc19yZXNwb25zZShhcHJfcG8KICAgICAg
ICAgICAgIHJldHVybiBwcm94eV9zdGF0dXM7CiAgICAgICAgIH0KIAorICAgICAgICByLT5zZW50
X2JvZHljdCA9IDE7CisgICAgICAgIC8qCisgICAgICAgICAqIElzIGl0IGFuIEhUVFAvMC45IHJl
c3BvbnNlIG9yIGRpZCB3ZSBtYXliZSBwcmVyZWFkIHRoZSAxc3QgbGluZSBvZgorICAgICAgICAg
KiB0aGUgcmVzcG9uc2U/IElmIHNvLCBsb2FkIHRoZSBleHRyYSBkYXRhLiBUaGVzZSBhcmUgMiBt
dXR1YWxseQorICAgICAgICAgKiBleGNsdXNpdmUgcG9zc2liaWxpdGllcywgdGhhdCBqdXN0IGhh
cHBlbiB0byByZXF1aXJlIHZlcnkKKyAgICAgICAgICogc2ltaWxhciBiZWhhdmlvci4KKyAgICAg
ICAgICovCisgICAgICAgIGlmIChiYWNrYXNzd2FyZHMgfHwgcHJlYWRfbGVuKSB7CisgICAgICAg
ICAgICBhcHJfc3NpemVfdCBjbnRyID0gKGFwcl9zc2l6ZV90KXByZWFkX2xlbjsKKyAgICAgICAg
ICAgIGlmIChiYWNrYXNzd2FyZHMpIHsKKyAgICAgICAgICAgICAgICAvKkBAQEZJWE1FOgorICAg
ICAgICAgICAgICAgICAqIEF0IHRoaXMgcG9pbnQgaW4gcmVzcG9uc2UgcHJvY2Vzc2luZyBvZiBh
IDAuOSByZXNwb25zZSwKKyAgICAgICAgICAgICAgICAgKiB3ZSBkb24ndCBrbm93IHlldCB3aGV0
aGVyIGRhdGEgaXMgYmluYXJ5IG9yIG5vdC4KKyAgICAgICAgICAgICAgICAgKiBtb2RfY2hhcnNl
dF9saXRlIHdpbGwgZ2V0IGNvbnRyb2wgbGF0ZXIgb24sIHNvIGl0IGNhbm5vdAorICAgICAgICAg
ICAgICAgICAqIGRlY2lkZSBvbiB0aGUgY29udmVyc2lvbiBvZiB0aGlzIGJ1ZmZlciBmdWxsIG9m
IGRhdGEuCisgICAgICAgICAgICAgICAgICogSG93ZXZlciwgY2hhbmNlcyBhcmUgdGhhdCB3ZSBh
cmUgbm90IHJlYWxseSB0YWxraW5nIHRvIGFuCisgICAgICAgICAgICAgICAgICogSFRUUC8wLjkg
c2VydmVyLCBidXQgdG8gc29tZSBkaWZmZXJlbnQgcHJvdG9jb2wsIHRoZXJlZm9yZQorICAgICAg
ICAgICAgICAgICAqIHRoZSBiZXN0IGd1ZXNzIElNSE8gaXMgdG8gYWx3YXlzIHRyZWF0IHRoZSBi
dWZmZXIgYXMgInRleHQveCI6CisgICAgICAgICAgICAgICAgICovCisgICAgICAgICAgICAgICAg
YXBfeGxhdGVfcHJvdG9fdG9fYXNjaWkoYnVmZmVyLCBsZW4pOworICAgICAgICAgICAgICAgIGNu
dHIgPSAoYXByX3NzaXplX3QpbGVuOworICAgICAgICAgICAgfQorICAgICAgICAgICAgZSA9IGFw
cl9idWNrZXRfaGVhcF9jcmVhdGUoYnVmZmVyLCBjbnRyLCBOVUxMLCBjLT5idWNrZXRfYWxsb2Mp
OworICAgICAgICAgICAgQVBSX0JSSUdBREVfSU5TRVJUX1RBSUwocGFzc19iYiwgZSk7CisgICAg
ICAgIH0KKworICAgICAgICBpZiAodXBncmFkZSkgeworICAgICAgICAgICAgYXBfbG9nX3JlcnJv
cihBUExPR19NQVJLLCBBUExPR19ERUJVRywgMCwgciwKKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgInByb3h5OiB0dW5uZWxpbmcgcHJvdG9jb2wgJXMiLCB1cGdyYWRlKTsKKyAgICAgICAgICAg
IGlmICghQVBSX0JSSUdBREVfRU1QVFkocGFzc19iYikpIHsKKyAgICAgICAgICAgICAgICBhcF9m
Zmx1c2goYy0+b3V0cHV0X2ZpbHRlcnMsIHBhc3NfYmIpOworICAgICAgICAgICAgICAgIGFwcl9i
cmlnYWRlX2NsZWFudXAocGFzc19iYik7CisgICAgICAgICAgICB9CisgICAgICAgICAgICBhcF9w
cm94eV90dW5uZWxfcmVxdWVzdChiYWNrZW5kLT5yLT5wb29sLCByLCBiYWNrZW5kKTsKKyAgICAg
ICAgICAgIHJldHVybiBPSzsKKyAgICAgICAgfQorCiAgICAgICAgIC8qIHNlbmQgYm9keSAtIGJ1
dCBvbmx5IGlmIGEgYm9keSBpcyBleHBlY3RlZCAqLwogICAgICAgICBpZiAoKCFyLT5oZWFkZXJf
b25seSkgJiYgICAgICAgICAgICAgICAgICAgLyogbm90IEhFQUQgcmVxdWVzdCAqLwogICAgICAg
ICAgICAgIWludGVyaW1fcmVzcG9uc2UgJiYgICAgICAgICAgICAgICAgICAgLyogbm90IGFueSAx
eHggcmVzcG9uc2UgKi8KSW5kZXg6IG1vZHVsZXMvcHJveHkvbW9kX3Byb3h5X3dzdHVubmVsLmMK
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQotLS0gbW9kdWxlcy9wcm94eS9tb2RfcHJveHlfd3N0dW5uZWwuYwkocmV2aXNp
b24gMTczNDEwOSkKKysrIG1vZHVsZXMvcHJveHkvbW9kX3Byb3h5X3dzdHVubmVsLmMJKHdvcmtp
bmcgY29weSkKQEAgLTkwLDYwICs5MCw2IEBAIHN0YXRpYyBpbnQgcHJveHlfd3N0dW5uZWxfY2Fu
b24ocmVxdWVzdF9yZWMgKnIsIGNoCiB9CiAKIAotc3RhdGljIGFwcl9zdGF0dXNfdCBwcm94eV93
c3R1bm5lbF90cmFuc2ZlcihyZXF1ZXN0X3JlYyAqciwgY29ubl9yZWMgKmNfaSwgY29ubl9yZWMg
KmNfbywKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHJfYnVja2V0X2Jy
aWdhZGUgKmJiLCBjaGFyICpuYW1lLCBpbnQgKnNlbnQpCi17Ci0gICAgYXByX3N0YXR1c190IHJ2
OwotI2lmZGVmIERFQlVHR0lORwotICAgIGFwcl9vZmZfdCBsZW47Ci0jZW5kaWYKLQotICAgIGRv
IHsKLSAgICAgICAgYXByX2JyaWdhZGVfY2xlYW51cChiYik7Ci0gICAgICAgIHJ2ID0gYXBfZ2V0
X2JyaWdhZGUoY19pLT5pbnB1dF9maWx0ZXJzLCBiYiwgQVBfTU9ERV9SRUFEQllURVMsCi0gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgQVBSX05PTkJMT0NLX1JFQUQsIEFQX0lPQlVGU0laRSk7
Ci0gICAgICAgIGlmIChydiA9PSBBUFJfU1VDQ0VTUykgewotICAgICAgICAgICAgaWYgKGNfby0+
YWJvcnRlZCkgewotICAgICAgICAgICAgICAgIHJldHVybiBBUFJfRVBJUEU7Ci0gICAgICAgICAg
ICB9Ci0gICAgICAgICAgICBpZiAoQVBSX0JSSUdBREVfRU1QVFkoYmIpKSB7Ci0gICAgICAgICAg
ICAgICAgYnJlYWs7Ci0gICAgICAgICAgICB9Ci0jaWZkZWYgREVCVUdHSU5HCi0gICAgICAgICAg
ICBsZW4gPSAtMTsKLSAgICAgICAgICAgIGFwcl9icmlnYWRlX2xlbmd0aChiYiwgMCwgJmxlbik7
Ci0gICAgICAgICAgICBhcF9sb2dfcmVycm9yKEFQTE9HX01BUkssIEFQTE9HX0RFQlVHLCAwLCBy
LCBBUExPR05PKDAyNDQwKQotICAgICAgICAgICAgICAgICAgICAgICAgICAicmVhZCAlIiBBUFJf
T0ZGX1RfRk1UCi0gICAgICAgICAgICAgICAgICAgICAgICAgICIgYnl0ZXMgZnJvbSAlcyIsIGxl
biwgbmFtZSk7Ci0jZW5kaWYKLSAgICAgICAgICAgIGlmIChzZW50KSB7Ci0gICAgICAgICAgICAg
ICAgKnNlbnQgPSAxOwotICAgICAgICAgICAgfQotICAgICAgICAgICAgcnYgPSBhcF9wYXNzX2Jy
aWdhZGUoY19vLT5vdXRwdXRfZmlsdGVycywgYmIpOwotICAgICAgICAgICAgaWYgKHJ2ID09IEFQ
Ul9TVUNDRVNTKSB7Ci0gICAgICAgICAgICAgICAgYXBfZmZsdXNoKGNfby0+b3V0cHV0X2ZpbHRl
cnMsIGJiKTsKLSAgICAgICAgICAgIH0KLSAgICAgICAgICAgIGVsc2UgewotICAgICAgICAgICAg
ICAgIGFwX2xvZ19yZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfRVJSLCBydiwgciwgQVBMT0dOTygw
MjQ0MSkKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJlcnJvciBvbiAlcyAtIGFwX3Bh
c3NfYnJpZ2FkZSIsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lKTsKLSAgICAg
ICAgICAgIH0KLSAgICAgICAgfSBlbHNlIGlmICghQVBSX1NUQVRVU19JU19FQUdBSU4ocnYpICYm
ICFBUFJfU1RBVFVTX0lTX0VPRihydikpIHsKLSAgICAgICAgICAgIGFwX2xvZ19yZXJyb3IoQVBM
T0dfTUFSSywgQVBMT0dfREVCVUcsIHJ2LCByLCBBUExPR05PKDAyNDQyKQotICAgICAgICAgICAg
ICAgICAgICAgICAgICAiZXJyb3Igb24gJXMgLSBhcF9nZXRfYnJpZ2FkZSIsCi0gICAgICAgICAg
ICAgICAgICAgICAgICAgIG5hbWUpOwotICAgICAgICB9Ci0gICAgfSB3aGlsZSAocnYgPT0gQVBS
X1NVQ0NFU1MpOwotCi0gICAgYXBfbG9nX3JlcnJvcihBUExPR19NQVJLLCBBUExPR19UUkFDRTIs
IHJ2LCByLCAid3N0dW5uZWxfdHJhbnNmZXIgY29tcGxldGUiKTsKLQotICAgIGlmIChBUFJfU1RB
VFVTX0lTX0VBR0FJTihydikpIHsKLSAgICAgICAgcnYgPSBBUFJfU1VDQ0VTUzsKLSAgICB9Ci0K
LSAgICByZXR1cm4gcnY7Ci19Ci0KIC8qCiAgKiBwcm9jZXNzIHRoZSByZXF1ZXN0IGFuZCB3cml0
ZSB0aGUgcmVzcG9uc2UuCiAgKi8KQEAgLTE1NSwxMyArMTAxLDcgQEAgc3RhdGljIGludCBwcm94
eV93c3R1bm5lbF9yZXF1ZXN0KGFwcl9wb29sX3QgKnAsIHIKICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgY2hhciAqdXJsLCBjaGFyICpzZXJ2ZXJfcG9ydHN0cikKIHsKICAgICBhcHJf
c3RhdHVzX3QgcnY7Ci0gICAgYXByX3BvbGxzZXRfdCAqcG9sbHNldDsKLSAgICBhcHJfcG9sbGZk
X3QgcG9sbGZkOwotICAgIGNvbnN0IGFwcl9wb2xsZmRfdCAqc2lnbmFsbGVkOwotICAgIGFwcl9p
bnQzMl90IHBvbGxjbnQsIHBpOwotICAgIGFwcl9pbnQxNl90IHBvbGxldmVudDsKICAgICBjb25u
X3JlYyAqYyA9IHItPmNvbm5lY3Rpb247Ci0gICAgYXByX3NvY2tldF90ICpzb2NrID0gY29ubi0+
c29jazsKICAgICBjb25uX3JlYyAqYmFja2Nvbm4gPSBjb25uLT5jb25uZWN0aW9uOwogICAgIGNo
YXIgKmJ1ZjsKICAgICBhcHJfYnVja2V0X2JyaWdhZGUgKmhlYWRlcl9icmlnYWRlOwpAQCAtMTY4
LDkgKzEwOCw2IEBAIHN0YXRpYyBpbnQgcHJveHlfd3N0dW5uZWxfcmVxdWVzdChhcHJfcG9vbF90
ICpwLCByCiAgICAgYXByX2J1Y2tldCAqZTsKICAgICBjaGFyICpvbGRfY2xfdmFsID0gTlVMTDsK
ICAgICBjaGFyICpvbGRfdGVfdmFsID0gTlVMTDsKLSAgICBhcHJfYnVja2V0X2JyaWdhZGUgKmJi
ID0gYXByX2JyaWdhZGVfY3JlYXRlKHAsIGMtPmJ1Y2tldF9hbGxvYyk7Ci0gICAgYXByX3NvY2tl
dF90ICpjbGllbnRfc29ja2V0ID0gYXBfZ2V0X2Nvbm5fc29ja2V0KGMpOwotICAgIGludCBkb25l
ID0gMCwgcmVwbGllZCA9IDA7CiAKICAgICBoZWFkZXJfYnJpZ2FkZSA9IGFwcl9icmlnYWRlX2Ny
ZWF0ZShwLCBiYWNrY29ubi0+YnVja2V0X2FsbG9jKTsKIApAQCAtMTgzLDcgKzEyMCw5IEBAIHN0
YXRpYyBpbnQgcHJveHlfd3N0dW5uZWxfcmVxdWVzdChhcHJfcG9vbF90ICpwLCByCiAgICAgICAg
IHJldHVybiBydjsKICAgICB9CiAKLSAgICBidWYgPSBhcHJfcHN0cmR1cChwLCAiVXBncmFkZTog
V2ViU29ja2V0IiBDUkxGICJDb25uZWN0aW9uOiBVcGdyYWRlIiBDUkxGIENSTEYpOworICAgIGJ1
ZiA9IGFwcl9wc3RyZHVwKHAsICJVcGdyYWRlOiBXZWJTb2NrZXQiIENSTEYKKyAgICAgICAgICAg
ICAgICAgICAgICAgICAiQ29ubmVjdGlvbjogVXBncmFkZSIgQ1JMRgorICAgICAgICAgICAgICAg
ICAgICAgICAgIENSTEYpOwogICAgIGFwX3hsYXRlX3Byb3RvX3RvX2FzY2lpKGJ1Ziwgc3RybGVu
KGJ1ZikpOwogICAgIGUgPSBhcHJfYnVja2V0X3Bvb2xfY3JlYXRlKGJ1Ziwgc3RybGVuKGJ1Ziks
IHAsIGMtPmJ1Y2tldF9hbGxvYyk7CiAgICAgQVBSX0JSSUdBREVfSU5TRVJUX1RBSUwoaGVhZGVy
X2JyaWdhZGUsIGUpOwpAQCAtMTkyLDExNyArMTMxLDcgQEAgc3RhdGljIGludCBwcm94eV93c3R1
bm5lbF9yZXF1ZXN0KGFwcl9wb29sX3QgKnAsIHIKICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGhlYWRlcl9icmlnYWRlLCAxKSkgIT0gT0spCiAgICAgICAgIHJldHVybiBydjsK
IAotICAgIGFwX2xvZ19yZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfVFJBQ0UyLCAwLCByLCAic2V0
dGluZyB1cCBwb2xsKCkiKTsKLQotICAgIGlmICgocnYgPSBhcHJfcG9sbHNldF9jcmVhdGUoJnBv
bGxzZXQsIDIsIHAsIDApKSAhPSBBUFJfU1VDQ0VTUykgewotICAgICAgICBhcF9sb2dfcmVycm9y
KEFQTE9HX01BUkssIEFQTE9HX0VSUiwgcnYsIHIsIEFQTE9HTk8oMDI0NDMpCi0gICAgICAgICAg
ICAgICAgICAgICAgImVycm9yIGFwcl9wb2xsc2V0X2NyZWF0ZSgpIik7Ci0gICAgICAgIHJldHVy
biBIVFRQX0lOVEVSTkFMX1NFUlZFUl9FUlJPUjsKLSAgICB9Ci0KLSNpZiAwCi0gICAgYXByX3Nv
Y2tldF9vcHRfc2V0KHNvY2ssIEFQUl9TT19OT05CTE9DSywgMSk7Ci0gICAgYXByX3NvY2tldF9v
cHRfc2V0KHNvY2ssIEFQUl9TT19LRUVQQUxJVkUsIDEpOwotICAgIGFwcl9zb2NrZXRfb3B0X3Nl
dChjbGllbnRfc29ja2V0LCBBUFJfU09fTk9OQkxPQ0ssIDEpOwotICAgIGFwcl9zb2NrZXRfb3B0
X3NldChjbGllbnRfc29ja2V0LCBBUFJfU09fS0VFUEFMSVZFLCAxKTsKLSNlbmRpZgotCi0gICAg
cG9sbGZkLnAgPSBwOwotICAgIHBvbGxmZC5kZXNjX3R5cGUgPSBBUFJfUE9MTF9TT0NLRVQ7Ci0g
ICAgcG9sbGZkLnJlcWV2ZW50cyA9IEFQUl9QT0xMSU4gfCBBUFJfUE9MTEhVUDsKLSAgICBwb2xs
ZmQuZGVzYy5zID0gc29jazsKLSAgICBwb2xsZmQuY2xpZW50X2RhdGEgPSBOVUxMOwotICAgIGFw
cl9wb2xsc2V0X2FkZChwb2xsc2V0LCAmcG9sbGZkKTsKLQotICAgIHBvbGxmZC5kZXNjLnMgPSBj
bGllbnRfc29ja2V0OwotICAgIGFwcl9wb2xsc2V0X2FkZChwb2xsc2V0LCAmcG9sbGZkKTsKLQot
ICAgIGFwX3JlbW92ZV9pbnB1dF9maWx0ZXJfYnloYW5kbGUoYy0+aW5wdXRfZmlsdGVycywgInJl
cXRpbWVvdXQiKTsKLQotICAgIHItPm91dHB1dF9maWx0ZXJzID0gYy0+b3V0cHV0X2ZpbHRlcnM7
Ci0gICAgci0+cHJvdG9fb3V0cHV0X2ZpbHRlcnMgPSBjLT5vdXRwdXRfZmlsdGVyczsKLSAgICBy
LT5pbnB1dF9maWx0ZXJzID0gYy0+aW5wdXRfZmlsdGVyczsKLSAgICByLT5wcm90b19pbnB1dF9m
aWx0ZXJzID0gYy0+aW5wdXRfZmlsdGVyczsKLQotICAgIC8qIFRoaXMgaGFuZGxlciBzaG91bGQg
dGFrZSBjYXJlIG9mIHRoZSBlbnRpcmUgY29ubmVjdGlvbjsgbWFrZSBpdCBzbyB0aGF0Ci0gICAg
ICogbm90aGluZyBlbHNlIGlzIGF0dGVtcHRlZCBvbiB0aGUgY29ubmVjdGlvbiBhZnRlciByZXR1
cm5pbmcuICovCi0gICAgYy0+a2VlcGFsaXZlID0gQVBfQ09OTl9DTE9TRTsKLQotICAgIGRvIHsg
LyogTG9vcCB1bnRpbCBkb25lIChvbmUgc2lkZSBjbG9zZXMgdGhlIGNvbm5lY3Rpb24sIG9yIGFu
IGVycm9yKSAqLwotICAgICAgICBydiA9IGFwcl9wb2xsc2V0X3BvbGwocG9sbHNldCwgLTEsICZw
b2xsY250LCAmc2lnbmFsbGVkKTsKLSAgICAgICAgaWYgKHJ2ICE9IEFQUl9TVUNDRVNTKSB7Ci0g
ICAgICAgICAgICBpZiAoQVBSX1NUQVRVU19JU19FSU5UUihydikpIHsKLSAgICAgICAgICAgICAg
ICBjb250aW51ZTsKLSAgICAgICAgICAgIH0KLSAgICAgICAgICAgIGFwX2xvZ19yZXJyb3IoQVBM
T0dfTUFSSywgQVBMT0dfRVJSLCBydiwgciwgQVBMT0dOTygwMjQ0NCkgImVycm9yIGFwcl9wb2xs
KCkiKTsKLSAgICAgICAgICAgIHJldHVybiBIVFRQX0lOVEVSTkFMX1NFUlZFUl9FUlJPUjsKLSAg
ICAgICAgfQotICAgICAgICBhcF9sb2dfcmVycm9yKEFQTE9HX01BUkssIEFQTE9HX1RSQUNFMSwg
MCwgciwgQVBMT0dOTygwMjQ0NSkKLSAgICAgICAgICAgICAgICAgICAgICAid29rZSBmcm9tIHBv
bGwoKSwgaT0lZCIsIHBvbGxjbnQpOwotCi0gICAgICAgIGZvciAocGkgPSAwOyBwaSA8IHBvbGxj
bnQ7IHBpKyspIHsKLSAgICAgICAgICAgIGNvbnN0IGFwcl9wb2xsZmRfdCAqY3VyID0gJnNpZ25h
bGxlZFtwaV07Ci0KLSAgICAgICAgICAgIGlmIChjdXItPmRlc2MucyA9PSBzb2NrKSB7Ci0gICAg
ICAgICAgICAgICAgcG9sbGV2ZW50ID0gY3VyLT5ydG5ldmVudHM7Ci0gICAgICAgICAgICAgICAg
aWYgKHBvbGxldmVudCAmIChBUFJfUE9MTElOIHwgQVBSX1BPTExIVVApKSB7Ci0gICAgICAgICAg
ICAgICAgICAgIGFwX2xvZ19yZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfVFJBQ0UxLCAwLCByLCBB
UExPR05PKDAyNDQ2KQotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzb2NrIHdh
cyByZWFkYWJsZSIpOwotICAgICAgICAgICAgICAgICAgICBkb25lIHw9IHByb3h5X3dzdHVubmVs
X3RyYW5zZmVyKHIsIGJhY2tjb25uLCBjLCBiYiwKLSAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAic29jayIsIE5VTEwpICE9IEFQUl9TVUNDRVNTOwot
ICAgICAgICAgICAgICAgIH0KLSAgICAgICAgICAgICAgICBlbHNlIGlmIChwb2xsZXZlbnQgJiBB
UFJfUE9MTEVSUikgewotICAgICAgICAgICAgICAgICAgICBhcF9sb2dfcmVycm9yKEFQTE9HX01B
UkssIEFQTE9HX05PVElDRSwgMCwgciwgQVBMT0dOTygwMjQ0NykKLSAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAiZXJyb3Igb24gYmFja2Nvbm4iKTsKLSAgICAgICAgICAgICAgICAgICAgYmFj
a2Nvbm4tPmFib3J0ZWQgPSAxOwotICAgICAgICAgICAgICAgICAgICBkb25lID0gMTsKLSAgICAg
ICAgICAgICAgICB9Ci0gICAgICAgICAgICAgICAgZWxzZSB7IAotICAgICAgICAgICAgICAgICAg
ICBhcF9sb2dfcmVycm9yKEFQTE9HX01BUkssIEFQTE9HX05PVElDRSwgMCwgciwgQVBMT0dOTygw
MjYwNSkKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAidW5rbm93biBldmVudCBvbiBiYWNr
Y29ubiAlZCIsIHBvbGxldmVudCk7Ci0gICAgICAgICAgICAgICAgICAgIGRvbmUgPSAxOwotICAg
ICAgICAgICAgICAgIH0KLSAgICAgICAgICAgIH0KLSAgICAgICAgICAgIGVsc2UgaWYgKGN1ci0+
ZGVzYy5zID09IGNsaWVudF9zb2NrZXQpIHsKLSAgICAgICAgICAgICAgICBwb2xsZXZlbnQgPSBj
dXItPnJ0bmV2ZW50czsKLSAgICAgICAgICAgICAgICBpZiAocG9sbGV2ZW50ICYgKEFQUl9QT0xM
SU4gfCBBUFJfUE9MTEhVUCkpIHsKLSAgICAgICAgICAgICAgICAgICAgYXBfbG9nX3JlcnJvcihB
UExPR19NQVJLLCBBUExPR19UUkFDRTEsIDAsIHIsIEFQTE9HTk8oMDI0NDgpCi0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgImNsaWVudCB3YXMgcmVhZGFibGUiKTsKLSAgICAgICAg
ICAgICAgICAgICAgZG9uZSB8PSBwcm94eV93c3R1bm5lbF90cmFuc2ZlcihyLCBjLCBiYWNrY29u
biwgYmIsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgImNsaWVudCIsICZyZXBsaWVkKSAhPSBBUFJfU1VDQ0VTUzsKLSAgICAgICAgICAgICAgICB9
Ci0gICAgICAgICAgICAgICAgZWxzZSBpZiAocG9sbGV2ZW50ICYgQVBSX1BPTExFUlIpIHsKLSAg
ICAgICAgICAgICAgICAgICAgYXBfbG9nX3JlcnJvcihBUExPR19NQVJLLCBBUExPR19UUkFDRTEs
IDAsIHIsIEFQTE9HTk8oMDI2MDcpCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgImVycm9y
IG9uIGNsaWVudCBjb25uIik7Ci0gICAgICAgICAgICAgICAgICAgIGMtPmFib3J0ZWQgPSAxOwot
ICAgICAgICAgICAgICAgICAgICBkb25lID0gMTsKLSAgICAgICAgICAgICAgICB9Ci0gICAgICAg
ICAgICAgICAgZWxzZSB7IAotICAgICAgICAgICAgICAgICAgICBhcF9sb2dfcmVycm9yKEFQTE9H
X01BUkssIEFQTE9HX05PVElDRSwgMCwgciwgQVBMT0dOTygwMjYwNikKLSAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAidW5rbm93biBldmVudCBvbiBjbGllbnQgY29ubiAlZCIsIHBvbGxldmVu
dCk7Ci0gICAgICAgICAgICAgICAgICAgIGRvbmUgPSAxOwotICAgICAgICAgICAgICAgIH0KLSAg
ICAgICAgICAgIH0KLSAgICAgICAgICAgIGVsc2UgewotICAgICAgICAgICAgICAgIGFwX2xvZ19y
ZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfSU5GTywgMCwgciwgQVBMT0dOTygwMjQ0OSkKLSAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICJ1bmtub3duIHNvY2tldCBpbiBwb2xsc2V0Iik7Ci0g
ICAgICAgICAgICAgICAgZG9uZSA9IDE7Ci0gICAgICAgICAgICB9Ci0KLSAgICAgICAgfQotICAg
IH0gd2hpbGUgKCFkb25lKTsKLQotICAgIGFwX2xvZ19yZXJyb3IoQVBMT0dfTUFSSywgQVBMT0df
VFJBQ0UyLCAwLCByLAotICAgICAgICAgICAgICAgICAgImZpbmlzaGVkIHdpdGggcG9sbCgpIC0g
Y2xlYW5pbmcgdXAiKTsKLQotICAgIGlmICghcmVwbGllZCkgewotICAgICAgICByZXR1cm4gSFRU
UF9CQURfR0FURVdBWTsKLSAgICB9Ci0gICAgZWxzZSB7Ci0gICAgICAgIHJldHVybiBPSzsKLSAg
ICB9Ci0KLSAgICByZXR1cm4gT0s7CisgICAgcmV0dXJuIGFwX3Byb3h5X3R1bm5lbF9yZXF1ZXN0
KHItPnBvb2wsIHIsIGNvbm4pOwogfQogCiAvKgpAQCAtMzE1LDkgKzE0NCw3IEBAIHN0YXRpYyBp
bnQgcHJveHlfd3N0dW5uZWxfaGFuZGxlcihyZXF1ZXN0X3JlYyAqciwKICAgICBpbnQgc3RhdHVz
OwogICAgIGNoYXIgc2VydmVyX3BvcnRzdHJbMzJdOwogICAgIHByb3h5X2Nvbm5fcmVjICpiYWNr
ZW5kID0gTlVMTDsKLSAgICBjb25zdCBjaGFyICp1cGdyYWRlOwotICAgIGNoYXIgKnNjaGVtZTsK
LSAgICBpbnQgcmV0cnk7CisgICAgY29uc3QgY2hhciAqc2NoZW1lLCAqdXBncmFkZTsKICAgICBj
b25uX3JlYyAqYyA9IHItPmNvbm5lY3Rpb247CiAgICAgYXByX3Bvb2xfdCAqcCA9IHItPnBvb2w7
CiAgICAgYXByX3VyaV90ICp1cmk7CkBAIC0zMzksNyArMTY2LDcgQEAgc3RhdGljIGludCBwcm94
eV93c3R1bm5lbF9oYW5kbGVyKHJlcXVlc3RfcmVjICpyLAogICAgIGlmICghdXBncmFkZSB8fCBz
dHJjYXNlY21wKHVwZ3JhZGUsICJXZWJTb2NrZXQiKSAhPSAwKSB7CiAgICAgICAgIGFwX2xvZ19y
ZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfREVCVUcsIDAsIHIsIEFQTE9HTk8oMDI5MDApCiAgICAg
ICAgICAgICAgICAgICAgICAgImRlY2xpbmluZyBVUkwgJXMgIChub3QgV2ViU29ja2V0KSIsIHVy
bCk7Ci0gICAgICAgIHJldHVybiBERUNMSU5FRDsKKyAgICAgICAgcmV0dXJuIEhUVFBfVVBHUkFE
RV9SRVFVSVJFRDsKICAgICB9CiAKICAgICB1cmkgPSBhcHJfcGFsbG9jKHAsIHNpemVvZigqdXJp
KSk7CkBAIC0zNTcsMTEgKzE4NCwxMiBAQCBzdGF0aWMgaW50IHByb3h5X3dzdHVubmVsX2hhbmRs
ZXIocmVxdWVzdF9yZWMgKnIsCiAgICAgfQogCiAgICAgYmFja2VuZC0+aXNfc3NsID0gaXNfc3Ns
OwotICAgIGJhY2tlbmQtPmNsb3NlID0gMDsKIAotICAgIHJldHJ5ID0gMDsKLSAgICB3aGlsZSAo
cmV0cnkgPCAyKSB7CisgICAgYXBfcmVtb3ZlX2lucHV0X2ZpbHRlcl9ieWhhbmRsZShjLT5pbnB1
dF9maWx0ZXJzLCAicmVxdGltZW91dCIpOworCisgICAgZG8gewogICAgICAgICBjaGFyICpsb2N1
cmwgPSB1cmw7CisKICAgICAgICAgLyogU3RlcCBPbmU6IERldGVybWluZSBXaG8gVG8gQ29ubmVj
dCBUbyAqLwogICAgICAgICBzdGF0dXMgPSBhcF9wcm94eV9kZXRlcm1pbmVfY29ubmVjdGlvbihw
LCByLCBjb25mLCB3b3JrZXIsIGJhY2tlbmQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHVyaSwgJmxvY3VybCwgcHJveHluYW1lLCBwcm94eXBvcnQsCkBA
IC0zNzksNiArMjA3LDcgQEAgc3RhdGljIGludCBwcm94eV93c3R1bm5lbF9oYW5kbGVyKHJlcXVl
c3RfcmVjICpyLAogICAgICAgICAgICAgc3RhdHVzID0gSFRUUF9TRVJWSUNFX1VOQVZBSUxBQkxF
OwogICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgIH0KKwogICAgICAgICAvKiBTdGVwIFRocmVl
OiBDcmVhdGUgY29ubl9yZWMgKi8KICAgICAgICAgaWYgKCFiYWNrZW5kLT5jb25uZWN0aW9uKSB7
CiAgICAgICAgICAgICBpZiAoKHN0YXR1cyA9IGFwX3Byb3h5X2Nvbm5lY3Rpb25fY3JlYXRlKHNj
aGVtZSwgYmFja2VuZCwKQEAgLTM4NiwxNCArMjE1LDEwIEBAIHN0YXRpYyBpbnQgcHJveHlfd3N0
dW5uZWxfaGFuZGxlcihyZXF1ZXN0X3JlYyAqciwKICAgICAgICAgICAgICAgICBicmVhazsKICAg
ICAgICAgfQogCi0gICAgICAgIGJhY2tlbmQtPmNsb3NlID0gMTsgLyogbXVzdCBiZSBhZnRlciBh
cF9wcm94eV9kZXRlcm1pbmVfY29ubmVjdGlvbiAqLwotCi0KICAgICAgICAgLyogU3RlcCBUaHJl
ZTogUHJvY2VzcyB0aGUgUmVxdWVzdCAqLwogICAgICAgICBzdGF0dXMgPSBwcm94eV93c3R1bm5l
bF9yZXF1ZXN0KHAsIHIsIGJhY2tlbmQsIHdvcmtlciwgY29uZiwgdXJpLCBsb2N1cmwsCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlcl9wb3J0c3RyKTsKLSAgICAg
ICAgYnJlYWs7Ci0gICAgfQorICAgIH0gd2hpbGUgKDApOwogCiAgICAgLyogRG8gbm90IGNsb3Nl
IHRoZSBzb2NrZXQgKi8KICAgICBhcF9wcm94eV9yZWxlYXNlX2Nvbm5lY3Rpb24oc2NoZW1lLCBi
YWNrZW5kLCByLT5zZXJ2ZXIpOwpJbmRleDogbW9kdWxlcy9wcm94eS9wcm94eV91dGlsLmMKPT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PQotLS0gbW9kdWxlcy9wcm94eS9wcm94eV91dGlsLmMJKHJldmlzaW9uIDE3MzQxMDkp
CisrKyBtb2R1bGVzL3Byb3h5L3Byb3h5X3V0aWwuYwkod29ya2luZyBjb3B5KQpAQCAtMzQyMSw2
ICszNDIxLDcgQEAgUFJPWFlfREVDTEFSRShpbnQpIGFwX3Byb3h5X2NyZWF0ZV9oZHJicmdkKGFw
cl9wb28KICAgICBpZiAoZG9fMTAwX2NvbnRpbnVlKSB7CiAgICAgICAgIGNvbnN0IGNoYXIgKnZh
bDsKIAorI2lmIDAKICAgICAgICAgaWYgKCFyLT5leHBlY3RpbmdfMTAwKSB7CiAgICAgICAgICAg
ICAvKiBEb24ndCBmb3J3YXJkIGFueSAiMTAwIENvbnRpbnVlIiByZXNwb25zZSBpZiB0aGUgY2xp
ZW50IGlzCiAgICAgICAgICAgICAgKiBub3QgZXhwZWN0aW5nIGl0LgpAQCAtMzQyOCw2ICszNDI5
LDcgQEAgUFJPWFlfREVDTEFSRShpbnQpIGFwX3Byb3h5X2NyZWF0ZV9oZHJicmdkKGFwcl9wb28K
ICAgICAgICAgICAgIGFwcl90YWJsZV9zZXRuKHItPnN1YnByb2Nlc3NfZW52LCAicHJveHktaW50
ZXJpbS1yZXNwb25zZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIlN1cHByZXNzIik7CiAgICAgICAgIH0KKyNlbmRpZgogCiAgICAgICAgIC8qIEFkZCB0
aGUgRXhwZWN0IGhlYWRlciBpZiBub3QgYWxyZWFkeSB0aGVyZS4gKi8KICAgICAgICAgaWYgKCgo
dmFsID0gYXByX3RhYmxlX2dldChyLT5oZWFkZXJzX2luLCAiRXhwZWN0IikpID09IE5VTEwpCkBA
IC0zNTk4LDYgKzM2MDAsMjEwIEBAIFBST1hZX0RFQ0xBUkUoaW50KSBhcF9wcm94eV9wYXNzX2Jy
aWdhZGUoYXByX2J1Y2tlCiAgICAgcmV0dXJuIE9LOwogfQogCitzdGF0aWMgaW50IHByb3h5X3Ry
YW5zZmVyKHJlcXVlc3RfcmVjICpyLCBjb25uX3JlYyAqY19pLCBjb25uX3JlYyAqY19vLAorICAg
ICAgICAgICAgICAgICAgICAgICAgICBhcHJfYnVja2V0X2JyaWdhZGUgKmJiLCBjb25zdCBjaGFy
ICpuYW1lLCBpbnQgKnNlbnQpCit7CisgICAgYXByX3N0YXR1c190IHJ2OworICAgIGludCBwYXNz
ZWQgPSAwOworCisgICAgZG8geworICAgICAgICBhcHJfYnJpZ2FkZV9jbGVhbnVwKGJiKTsKKyAg
ICAgICAgcnYgPSBhcF9nZXRfYnJpZ2FkZShjX2ktPmlucHV0X2ZpbHRlcnMsIGJiLCBBUF9NT0RF
X1JFQURCWVRFUywKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICBBUFJfTk9OQkxPQ0tfUkVB
RCwgQVBfSU9CVUZTSVpFKTsKKyAgICAgICAgaWYgKHJ2ID09IEFQUl9TVUNDRVNTKSB7CisgICAg
ICAgICAgICBpZiAoY19vLT5hYm9ydGVkKSB7CisgICAgICAgICAgICAgICAgcnYgPSBBUFJfRVBJ
UEU7CisgICAgICAgICAgICAgICAgYnJlYWs7CisgICAgICAgICAgICB9CisgICAgICAgICAgICBp
ZiAoQVBSX0JSSUdBREVfRU1QVFkoYmIpKSB7CisgICAgICAgICAgICAgICAgYnJlYWs7CisgICAg
ICAgICAgICB9CisgICAgICAgICAgICBydiA9IGFwX3Bhc3NfYnJpZ2FkZShjX28tPm91dHB1dF9m
aWx0ZXJzLCBiYik7CisgICAgICAgICAgICBpZiAocnYgIT0gQVBSX1NVQ0NFU1MpIHsKKyAgICAg
ICAgICAgICAgICBhcF9sb2dfcmVycm9yKEFQTE9HX01BUkssIEFQTE9HX0VSUiwgcnYsIHIsIEFQ
TE9HTk8oMDI0NDEpCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicHJveHk6IHRyYW5z
ZmVyIGZvciAlcyBmYWlsZWQgb24gd3JpdGUiLCBuYW1lKTsKKyAgICAgICAgICAgIH0KKyAgICAg
ICAgICAgIHBhc3NlZCA9IDE7CisgICAgICAgIH0KKyAgICAgICAgZWxzZSBpZiAoIUFQUl9TVEFU
VVNfSVNfRUFHQUlOKHJ2KSAmJiAhQVBSX1NUQVRVU19JU19FT0YocnYpKSB7CisgICAgICAgICAg
ICBhcF9sb2dfcmVycm9yKEFQTE9HX01BUkssIEFQTE9HX0RFQlVHLCBydiwgciwgQVBMT0dOTygw
MjQ0MikKKyAgICAgICAgICAgICAgICAgICAgICAgICAgInByb3h5OiB0cmFuc2ZlciBmb3IgJXMg
ZmFpbGVkIG9uIHJlYWQiLAorICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lKTsKKyAgICAg
ICAgfQorICAgIH0gd2hpbGUgKHJ2ID09IEFQUl9TVUNDRVNTKTsKKworICAgIGlmIChwYXNzZWQg
JiYgIWNfby0+YWJvcnRlZCkgeworICAgICAgICBhcHJfc3RhdHVzX3QgdG1wOworICAgICAgICBh
cHJfYnJpZ2FkZV9jbGVhbnVwKGJiKTsKKyAgICAgICAgdG1wID0gYXBfZmZsdXNoKGNfby0+b3V0
cHV0X2ZpbHRlcnMsIGJiKTsKKyAgICAgICAgaWYgKHJ2ID09IEFQUl9TVUNDRVNTKSB7CisgICAg
ICAgICAgICBydiA9IHRtcDsKKyAgICAgICAgfQorICAgIH0KKyAgICBpZiAoc2VudCkgeworICAg
ICAgICAqc2VudCA9IHBhc3NlZDsKKyAgICB9CisKKyAgICBhcF9sb2dfcmVycm9yKEFQTE9HX01B
UkssIEFQTE9HX1RSQUNFMiwgcnYsIHIsCisgICAgICAgICAgICAgICAgICAicHJveHk6IHRyYW5z
ZmVyIGZvciAlcyBjb21wbGV0ZSIsIG5hbWUpOworCisgICAgaWYgKEFQUl9TVEFUVVNfSVNfRUFH
QUlOKHJ2KSkgeworICAgICAgICBydiA9IEFQUl9TVUNDRVNTOworICAgIH0KKyAgICByZXR1cm4g
cnY7Cit9CisKKy8qCisgKiBGb3J3YXJkIGFueXRoaW5nIGZyb208PT50byB0aGUgY2xpZW50PD0+
YmFja2VuZCB1bnRpbCBvbmUgZW5kIGNsb3Nlcy4KKyAqLworUFJPWFlfREVDTEFSRShpbnQpIGFw
X3Byb3h5X3R1bm5lbF9yZXF1ZXN0KGFwcl9wb29sX3QgKnAsIHJlcXVlc3RfcmVjICpyLAorICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5X2Nvbm5fcmVjICpi
YWNrZW5kKQoreworICAgIGFwcl9zdGF0dXNfdCBydjsKKyAgICBhcHJfcG9sbGZkX3QgKnBvbGxm
ZHM7CisgICAgYXByX3BvbGxzZXRfdCAqcG9sbHNldDsKKyAgICBjb25zdCBhcHJfcG9sbGZkX3Qg
KnNpZ25hbGxlZDsKKyAgICBhcHJfaW50MzJfdCBwb2xsY250LCBwaTsKKyAgICBhcHJfaW50MTZf
dCBwb2xsZXZlbnQ7CisgICAgY29ubl9yZWMgKmMgPSByLT5jb25uZWN0aW9uOworICAgIGNvbm5f
cmVjICpiYWNrZW5kX2MgPSBiYWNrZW5kLT5jb25uZWN0aW9uOworICAgIGFwcl9zb2NrZXRfdCAq
YmFja2VuZF9zb2NrZXQgPSBiYWNrZW5kLT5zb2NrOworICAgIGFwcl9zb2NrZXRfdCAqY2xpZW50
X3NvY2tldCA9IGFwX2dldF9jb25uX3NvY2tldChjKTsKKyAgICBhcHJfYnVja2V0X2JyaWdhZGUg
KmJiID0gYXByX2JyaWdhZGVfY3JlYXRlKHAsIGMtPmJ1Y2tldF9hbGxvYyk7CisgICAgYXByX2lu
dGVydmFsX3RpbWVfdCB0aW1lb3V0ID0gLTEsIGJhY2tlbmRfdGltZW91dCA9IC0xOworICAgIGlu
dCBkb25lID0gMCwgcmVwbGllZCA9IDA7CisKKyAgICBydiA9IGFwcl9wb2xsc2V0X2NyZWF0ZSgm
cG9sbHNldCwgMiwgcCwgQVBSX1BPTExTRVRfTk9DT1BZKTsKKyAgICBpZiAocnYgIT0gQVBSX1NV
Q0NFU1MpIHsKKyAgICAgICAgYXBfbG9nX3JlcnJvcihBUExPR19NQVJLLCBBUExPR19FUlIsIHJ2
LCByLCBBUExPR05PKDAyNDQzKQorICAgICAgICAgICAgICAgICAgICAgICJwcm94eTogdHVubmVs
OiBjYW4ndCBjcmVhdGUgcG9sbHNldCIpOworICAgICAgICByZXR1cm4gSFRUUF9JTlRFUk5BTF9T
RVJWRVJfRVJST1I7CisgICAgfQorCisjaWYgMAorICAgIGFwcl9zb2NrZXRfb3B0X3NldChiYWNr
ZW5kX3NvY2tldCwgQVBSX1NPX05PTkJMT0NLLCAxKTsKKyAgICBhcHJfc29ja2V0X29wdF9zZXQo
YmFja2VuZF9zb2NrZXQsIEFQUl9TT19LRUVQQUxJVkUsIDEpOworICAgIGFwcl9zb2NrZXRfb3B0
X3NldChjbGllbnRfc29ja2V0LCBBUFJfU09fTk9OQkxPQ0ssIDEpOworICAgIGFwcl9zb2NrZXRf
b3B0X3NldChjbGllbnRfc29ja2V0LCBBUFJfU09fS0VFUEFMSVZFLCAxKTsKKyNlbmRpZgorCisg
ICAgcG9sbGZkcyA9IGFwcl9wY2FsbG9jKHAsIHNpemVvZihhcHJfcG9sbGZkX3QpICogMik7Cisg
ICAgcG9sbGZkc1swXS5wID0gcG9sbGZkc1sxXS5wID0gcDsKKyAgICBwb2xsZmRzWzBdLmRlc2Nf
dHlwZSA9IHBvbGxmZHNbMV0uZGVzY190eXBlID0gQVBSX1BPTExfU09DS0VUOworICAgIHBvbGxm
ZHNbMF0ucmVxZXZlbnRzID0gcG9sbGZkc1sxXS5yZXFldmVudHMgPSBBUFJfUE9MTElOIHwgQVBS
X1BPTExIVVA7CisgICAgcG9sbGZkc1swXS5kZXNjLnMgPSBjbGllbnRfc29ja2V0OworICAgIHBv
bGxmZHNbMV0uZGVzYy5zID0gYmFja2VuZF9zb2NrZXQ7CisgICAgYXByX3BvbGxzZXRfYWRkKHBv
bGxzZXQsICZwb2xsZmRzWzBdKTsKKyAgICBhcHJfcG9sbHNldF9hZGQocG9sbHNldCwgJnBvbGxm
ZHNbMV0pOworCisgICAgci0+b3V0cHV0X2ZpbHRlcnMgPSBjLT5vdXRwdXRfZmlsdGVyczsKKyAg
ICByLT5wcm90b19vdXRwdXRfZmlsdGVycyA9IGMtPm91dHB1dF9maWx0ZXJzOworICAgIHItPmlu
cHV0X2ZpbHRlcnMgPSBjLT5pbnB1dF9maWx0ZXJzOworICAgIHItPnByb3RvX2lucHV0X2ZpbHRl
cnMgPSBjLT5pbnB1dF9maWx0ZXJzOworCisgICAgLyogVGhpcyBsb29wIHdpbGwgdGFrZSBvZiB0
aGUgZW50aXJlIGNvbm5lY3Rpb25zOyBtYWtlIGl0IHNvIHRoYXQKKyAgICAgKiBub3RoaW5nIGVs
c2UgaXMgYXR0ZW1wdGVkIG9uIHRoZW0gYWZ0ZXIgcmV0dXJuaW5nLgorICAgICAqLworICAgIGMt
PmtlZXBhbGl2ZSA9IEFQX0NPTk5fQ0xPU0U7CisgICAgYmFja2VuZC0+Y2xvc2UgPSAxOworCisg
ICAgYXByX3NvY2tldF90aW1lb3V0X2dldChjbGllbnRfc29ja2V0LCAmdGltZW91dCk7CisgICAg
YXByX3NvY2tldF90aW1lb3V0X2dldChiYWNrZW5kX3NvY2tldCwgJmJhY2tlbmRfdGltZW91dCk7
CisgICAgaWYgKHRpbWVvdXQgPCAwKSB7CisgICAgICAgIHRpbWVvdXQgPSBiYWNrZW5kX3RpbWVv
dXQ7CisgICAgfQorICAgIGVsc2UgaWYgKHRpbWVvdXQgPiBiYWNrZW5kX3RpbWVvdXQpIHsKKyAg
ICAgICAgdGltZW91dCA9IGJhY2tlbmRfdGltZW91dDsKKyAgICB9CisKKyAgICBhcF9sb2dfcmVy
cm9yKEFQTE9HX01BUkssIEFQTE9HX1RSQUNFMSwgMCwgciwKKyAgICAgICAgICAgICAgICAgICJw
cm94eTogdHVubmVsOiBzdGFydGluZyAodGltZW91dCAlIiBBUFJfVElNRV9UX0ZNVCAiKSIsCisg
ICAgICAgICAgICAgICAgICBhcHJfdGltZV9zZWModGltZW91dCkpOworCisgICAgZG8geyAvKiBM
b29wIHVudGlsIGRvbmUgKG9uZSBzaWRlIGNsb3NlcyB0aGUgY29ubmVjdGlvbiwgb3IgYW4gZXJy
b3IpICovCisgICAgICAgIHJ2ID0gYXByX3BvbGxzZXRfcG9sbChwb2xsc2V0LCB0aW1lb3V0LCAm
cG9sbGNudCwgJnNpZ25hbGxlZCk7CisgICAgICAgIGlmIChydiAhPSBBUFJfU1VDQ0VTUykgewor
ICAgICAgICAgICAgaWYgKEFQUl9TVEFUVVNfSVNfRUlOVFIocnYpKSB7CisgICAgICAgICAgICAg
ICAgY29udGludWU7CisgICAgICAgICAgICB9CisgICAgICAgICAgICBhcF9sb2dfcmVycm9yKEFQ
TE9HX01BUkssIEFQTE9HX0VSUiwgcnYsIHIsIEFQTE9HTk8oMDI0NDQpCisgICAgICAgICAgICAg
ICAgICAgICAgICAgICJwcm94eTogdHVubmVsOiBwb2xsaW5nIGZhaWxlZCIpOworICAgICAgICAg
ICAgYnJlYWs7CisgICAgICAgIH0KKyAgICAgICAgYXBfbG9nX3JlcnJvcihBUExPR19NQVJLLCBB
UExPR19UUkFDRTIsIDAsIHIsIEFQTE9HTk8oMDI0NDUpCisgICAgICAgICAgICAgICAgICAgICAg
InByb3h5OiB0dW5uZWw6IHdva2VuIHVwLCBpPSVkIiwgcG9sbGNudCk7CisKKyAgICAgICAgZm9y
IChwaSA9IDA7IHBpIDwgcG9sbGNudDsgcGkrKykgeworICAgICAgICAgICAgY29uc3QgYXByX3Bv
bGxmZF90ICpjdXIgPSAmc2lnbmFsbGVkW3BpXTsKKworICAgICAgICAgICAgaWYgKGN1ci0+ZGVz
Yy5zID09IGJhY2tlbmRfc29ja2V0KSB7CisgICAgICAgICAgICAgICAgcG9sbGV2ZW50ID0gY3Vy
LT5ydG5ldmVudHM7CisgICAgICAgICAgICAgICAgaWYgKHBvbGxldmVudCAmIChBUFJfUE9MTElO
IHwgQVBSX1BPTExIVVApKSB7CisgICAgICAgICAgICAgICAgICAgIGFwX2xvZ19yZXJyb3IoQVBM
T0dfTUFSSywgQVBMT0dfVFJBQ0UyLCAwLCByLCBBUExPR05PKDAyNDQ2KQorICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICJwcm94eTogdHVubmVsOiBiYWNrZW5kIHdhcyByZWFkYWJs
ZSIpOworICAgICAgICAgICAgICAgICAgICBkb25lIHw9IChwcm94eV90cmFuc2ZlcihyLCBiYWNr
ZW5kX2MsIGMsIGJiLCAiYmFja2VuZCIsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIE5VTEwpICE9IEFQUl9TVUNDRVNTKTsKKyAgICAgICAgICAgICAgICB9Cisg
ICAgICAgICAgICAgICAgZWxzZSBpZiAocG9sbGV2ZW50ICYgQVBSX1BPTExFUlIpIHsKKyAgICAg
ICAgICAgICAgICAgICAgYXBfbG9nX3JlcnJvcihBUExPR19NQVJLLCBBUExPR19OT1RJQ0UsIDAs
IHIsIEFQTE9HTk8oMDI0NDcpCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgInByb3h5OiB0
dW5uZWw6IGVycm9yIG9uIGJhY2tlbmQgY29ubmVjdGlvbiIpOworICAgICAgICAgICAgICAgICAg
ICBiYWNrZW5kX2MtPmFib3J0ZWQgPSAxOworICAgICAgICAgICAgICAgICAgICBkb25lID0gMTsK
KyAgICAgICAgICAgICAgICB9CisgICAgICAgICAgICAgICAgZWxzZSB7IAorICAgICAgICAgICAg
ICAgICAgICBhcF9sb2dfcmVycm9yKEFQTE9HX01BUkssIEFQTE9HX05PVElDRSwgMCwgciwgQVBM
T0dOTygwMjYwNSkKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAicHJveHk6IHR1bm5lbDog
dW5rbm93biBldmVudCAlZCBvbiBiYWNrZW5kIGNvbm5lY3Rpb24iLAorICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIChpbnQpcG9sbGV2ZW50KTsKKyAgICAgICAgICAgICAgICAgICAgZG9uZSA9
IDE7CisgICAgICAgICAgICAgICAgfQorICAgICAgICAgICAgfQorICAgICAgICAgICAgZWxzZSBp
ZiAoY3VyLT5kZXNjLnMgPT0gY2xpZW50X3NvY2tldCkgeworICAgICAgICAgICAgICAgIHBvbGxl
dmVudCA9IGN1ci0+cnRuZXZlbnRzOworICAgICAgICAgICAgICAgIGlmIChwb2xsZXZlbnQgJiAo
QVBSX1BPTExJTiB8IEFQUl9QT0xMSFVQKSkgeworICAgICAgICAgICAgICAgICAgICBhcF9sb2df
cmVycm9yKEFQTE9HX01BUkssIEFQTE9HX1RSQUNFMiwgMCwgciwgQVBMT0dOTygwMjQ0OCkKKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicHJveHk6IHR1bm5lbDogY2xpZW50IHdh
cyByZWFkYWJsZSIpOworICAgICAgICAgICAgICAgICAgICBkb25lIHw9IChwcm94eV90cmFuc2Zl
cihyLCBjLCBiYWNrZW5kX2MsIGJiLCAiY2xpZW50IiwKKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgJnJlcGxpZWQpICE9IEFQUl9TVUNDRVNTKTsKKyAgICAgICAg
ICAgICAgICB9CisgICAgICAgICAgICAgICAgZWxzZSBpZiAocG9sbGV2ZW50ICYgQVBSX1BPTExF
UlIpIHsKKyAgICAgICAgICAgICAgICAgICAgYXBfbG9nX3JlcnJvcihBUExPR19NQVJLLCBBUExP
R19UUkFDRTIsIDAsIHIsIEFQTE9HTk8oMDI2MDcpCisgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgInByb3h5OiB0dW5uZWw6IGVycm9yIG9uIGNsaWVudCBjb25uZWN0aW9uIik7Cisg
ICAgICAgICAgICAgICAgICAgIGMtPmFib3J0ZWQgPSAxOworICAgICAgICAgICAgICAgICAgICBk
b25lID0gMTsKKyAgICAgICAgICAgICAgICB9CisgICAgICAgICAgICAgICAgZWxzZSB7IAorICAg
ICAgICAgICAgICAgICAgICBhcF9sb2dfcmVycm9yKEFQTE9HX01BUkssIEFQTE9HX05PVElDRSwg
MCwgciwgQVBMT0dOTygwMjYwNikKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAicHJveHk6
IHR1bm5lbDogdW5rbm93biBldmVudCAlZCBvbiBjbGllbnQgY29ubmVjdGlvbiIsCisgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgKGludClwb2xsZXZlbnQpOworICAgICAgICAgICAgICAgICAg
ICBkb25lID0gMTsKKyAgICAgICAgICAgICAgICB9CisgICAgICAgICAgICB9CisgICAgICAgICAg
ICBlbHNlIHsKKyAgICAgICAgICAgICAgICBhcF9sb2dfcmVycm9yKEFQTE9HX01BUkssIEFQTE9H
X0lORk8sIDAsIHIsIEFQTE9HTk8oMDI0NDkpCisgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAicHJveHk6IHR1bm5lbDogdW5rbm93biBzb2NrZXQgaW4gcG9sbHNldCIpOworICAgICAgICAg
ICAgICAgIGRvbmUgPSAxOworICAgICAgICAgICAgfQorICAgICAgICB9CisgICAgfSB3aGlsZSAo
IWRvbmUpOworCisgICAgYXBfbG9nX3JlcnJvcihBUExPR19NQVJLLCBBUExPR19UUkFDRTEsIDAs
IHIsCisgICAgICAgICAgICAgICAgICAicHJveHk6IHR1bm5lbDogZmluaXNoZWQiKTsKKworICAg
IGFwcl9wb2xsc2V0X3JlbW92ZShwb2xsc2V0LCAmcG9sbGZkc1sxXSk7CisgICAgYXByX3BvbGxz
ZXRfcmVtb3ZlKHBvbGxzZXQsICZwb2xsZmRzWzBdKTsKKyAgICBhcHJfcG9sbHNldF9kZXN0cm95
KHBvbGxzZXQpOworICAgIGFwcl9icmlnYWRlX2Rlc3Ryb3koYmIpOworCisgICAgaWYgKHJ2KSB7
CisgICAgICAgIHJldHVybiBIVFRQX0lOVEVSTkFMX1NFUlZFUl9FUlJPUjsKKyAgICB9CisgICAg
aWYgKCFyZXBsaWVkKSB7CisgICAgICAgIHJldHVybiBIVFRQX0JBRF9HQVRFV0FZOworICAgIH0K
KworICAgIHJldHVybiBPSzsKK30KKwogLyogRmlsbCBpbiB1bmtub3duIHNjaGVtZXMgZnJvbSBh
cHJfdXJpX3BvcnRfb2Zfc2NoZW1lKCkgKi8KIAogdHlwZWRlZiBzdHJ1Y3QgcHJveHlfc2NoZW1l
c190IHsKSW5kZXg6IHNlcnZlci9wcm90b2NvbC5jCj09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIHNlcnZlci9wcm90
b2NvbC5jCShyZXZpc2lvbiAxNzM0MTA5KQorKysgc2VydmVyL3Byb3RvY29sLmMJKHdvcmtpbmcg
Y29weSkKQEAgLTE3NjUsMjMgKzE3NjUsMjUgQEAgQVBfREVDTEFSRSh2b2lkKSBhcF9zZW5kX2lu
dGVyaW1fcmVzcG9uc2UocmVxdWVzdF8KICAgICAgICAgICAgICAgICAgICAgICAiU3RhdHVzIGlz
ICVkIC0gbm90IHNlbmRpbmcgaW50ZXJpbSByZXNwb25zZSIsIHItPnN0YXR1cyk7CiAgICAgICAg
IHJldHVybjsKICAgICB9Ci0gICAgaWYgKChyLT5zdGF0dXMgPT0gSFRUUF9DT05USU5VRSkgJiYg
IXItPmV4cGVjdGluZ18xMDApIHsKLSAgICAgICAgLyoKLSAgICAgICAgICogRG9uJ3Qgc2VuZCAx
MDAtQ29udGludWUgd2hlbiB0aGVyZSB3YXMgbm8gRXhwZWN0OiAxMDAtY29udGludWUKLSAgICAg
ICAgICogaW4gdGhlIHJlcXVlc3QgaGVhZGVycy4gRm9yIG9yaWdpbiBzZXJ2ZXJzIHRoaXMgaXMg
YSBTSE9VTEQgTk9UCi0gICAgICAgICAqIGZvciBwcm94aWVzIGl0IGlzIGEgTVVTVCBOT1QgYWNj
b3JkaW5nIHRvIFJGQyAyNjE2IDguMi4zCisgICAgaWYgKHItPnN0YXR1cyA9PSBIVFRQX0NPTlRJ
TlVFKSB7CisgICAgICAgIGlmICghci0+ZXhwZWN0aW5nXzEwMCkgeworICAgICAgICAgICAgLyoK
KyAgICAgICAgICAgICAqIERvbid0IHNlbmQgMTAwLUNvbnRpbnVlIHdoZW4gdGhlcmUgd2FzIG5v
IEV4cGVjdDogMTAwLWNvbnRpbnVlCisgICAgICAgICAgICAgKiBpbiB0aGUgcmVxdWVzdCBoZWFk
ZXJzLiBGb3Igb3JpZ2luIHNlcnZlcnMgdGhpcyBpcyBhIFNIT1VMRCBOT1QKKyAgICAgICAgICAg
ICAqIGZvciBwcm94aWVzIGl0IGlzIGEgTVVTVCBOT1QgYWNjb3JkaW5nIHRvIFJGQyAyNjE2IDgu
Mi4zCisgICAgICAgICAgICAgKi8KKyAgICAgICAgICAgIHJldHVybjsKKyAgICAgICAgfQorCisg
ICAgICAgIC8qIGlmIHdlIHNlbmQgYW4gaW50ZXJpbSByZXNwb25zZSwgd2UncmUgbm8gbG9uZ2Vy
IGluIGEgc3RhdGUgb2YKKyAgICAgICAgICogZXhwZWN0aW5nIG9uZS4gIEFsc28sIHRoaXMgY291
bGQgZmVhc2libHkgYmUgaW4gYSBzdWJyZXF1ZXN0LAorICAgICAgICAgKiBzbyB3ZSBuZWVkIHRv
IHByb3BhZ2F0ZSB0aGUgZmFjdCB0aGF0IHdlIHJlc3BvbmRlZC4KICAgICAgICAgICovCi0gICAg
ICAgIHJldHVybjsKKyAgICAgICAgZm9yIChyciA9IHI7IHJyICE9IE5VTEw7IHJyID0gcnItPm1h
aW4pIHsKKyAgICAgICAgICAgIHJyLT5leHBlY3RpbmdfMTAwID0gMDsKKyAgICAgICAgfQogICAg
IH0KIAotICAgIC8qIGlmIHdlIHNlbmQgYW4gaW50ZXJpbSByZXNwb25zZSwgd2UncmUgbm8gbG9u
Z2VyIGluIGEgc3RhdGUgb2YKLSAgICAgKiBleHBlY3Rpbmcgb25lLiAgQWxzbywgdGhpcyBjb3Vs
ZCBmZWFzaWJseSBiZSBpbiBhIHN1YnJlcXVlc3QsCi0gICAgICogc28gd2UgbmVlZCB0byBwcm9w
YWdhdGUgdGhlIGZhY3QgdGhhdCB3ZSByZXNwb25kZWQuCi0gICAgICovCi0gICAgZm9yIChyciA9
IHI7IHJyICE9IE5VTEw7IHJyID0gcnItPm1haW4pIHsKLSAgICAgICAgcnItPmV4cGVjdGluZ18x
MDAgPSAwOwotICAgIH0KLQogICAgIHN0YXR1c19saW5lID0gYXByX3BzdHJjYXQoci0+cG9vbCwg
QVBfU0VSVkVSX1BST1RPQ09MLCAiICIsIHItPnN0YXR1c19saW5lLCBDUkxGLCBOVUxMKTsKICAg
ICBhcF94bGF0ZV9wcm90b190b19hc2NpaShzdGF0dXNfbGluZSwgc3RybGVuKHN0YXR1c19saW5l
KSk7CiAKQEAgLTE3OTEsNyArMTc5Myw5IEBAIEFQX0RFQ0xBUkUodm9pZCkgYXBfc2VuZF9pbnRl
cmltX3Jlc3BvbnNlKHJlcXVlc3RfCiAgICAgYXBfZnB1dHMoeC5mLCB4LmJiLCBzdGF0dXNfbGlu
ZSk7CiAgICAgaWYgKHNlbmRfaGVhZGVycykgewogICAgICAgICBhcHJfdGFibGVfZG8oc2VuZF9o
ZWFkZXIsICZ4LCByLT5oZWFkZXJzX291dCwgTlVMTCk7Ci0gICAgICAgIGFwcl90YWJsZV9jbGVh
cihyLT5oZWFkZXJzX291dCk7CisgICAgICAgIGlmIChzZW5kX2hlYWRlcnMgIT0gQVBfU0VORF9J
TlRFUklNX0tFRVBfSEVBREVSUykgeworICAgICAgICAgICAgYXByX3RhYmxlX2NsZWFyKHItPmhl
YWRlcnNfb3V0KTsKKyAgICAgICAgfQogICAgIH0KICAgICBhcF9mcHV0cyh4LmYsIHguYmIsIENS
TEZfQVNDSUkpOwogICAgIGFwX2ZmbHVzaCh4LmYsIHguYmIpOwo=
--001a11c16da80280b6052d8d1048--


From dev-return-85816-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  8 18:13:35 2016
Return-Path: <dev-return-85816-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6F3E9189AD
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Mar 2016 18:13:35 +0000 (UTC)
Received: (qmail 98550 invoked by uid 500); 8 Mar 2016 18:13:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98480 invoked by uid 500); 8 Mar 2016 18:13:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98470 invoked by uid 99); 8 Mar 2016 18:13:34 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2016 18:13:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 4318418060A
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 18:13:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 6lQIZFZvOgCW for <dev@httpd.apache.org>;
	Tue,  8 Mar 2016 18:13:32 +0000 (UTC)
Received: from mail-io0-f176.google.com (mail-io0-f176.google.com [209.85.223.176])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 9984A5FBCD
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 18:13:31 +0000 (UTC)
Received: by mail-io0-f176.google.com with SMTP id n190so36377117iof.0
        for <dev@httpd.apache.org>; Tue, 08 Mar 2016 10:13:31 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=QaSjMWnoE8B5NbVeMDCY/Xf29AW6VqH3sX3/KhQgZxQ=;
        b=N0aEng+Two3TcBCMNI/B3GP+aEwnYYhZ7KuicSWMx+YDwJt7btCZbp7AQRuvF/K6Zf
         wl7lFOKpiOqqmPrgveUPE0OeE228QGKq1IHpzrHotE+arvgpMXgYWDa8c3eEgdzp12Px
         FEgDO/hPW4121cod7BGP+x22zxhb6KLNjqflURr4DzE8FMCwMRMlNkzDaX1UPVqTnwHo
         ljIfE4JHJNXprnM1r7CyYQx6djLaN+xpkM6kYsieWEJP6HPP+gg7turLH7pcxBScumrf
         +ke98duVI+IBEJ/0xniu2+d3s1lz/NeD85Ler9d6VCrF29e/r92buQal0SwqiEwxYfJg
         i6qw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=QaSjMWnoE8B5NbVeMDCY/Xf29AW6VqH3sX3/KhQgZxQ=;
        b=ZkUUWXEeSbzM+ybbMeplQB+3VmimjHRUWYWF73FFvI1wADp0J1ZFfTtoc6A0koihI7
         R3X4yILPOnPqm50xFKVI/n53eUYBti8KgpUXZXBSEJLUQRvelyUCz/oM8nVIzNIRmnj9
         0mbiGjUPaUpyfH5NjZw+jqjueV5WLxf1Ylg3JybOFf3SqhL8qF79ObczI6Ps5LPdt27P
         SwZtnm3cwGc6x6y1QW0Y2sywG85avU0nHo2cBaULmFN2Qj324DXeT9Ee9aLzRGNjjQtt
         LyL/pXsTQ7dh+JWfqaowt/BNtxBFNA6AI+41u20PgKHEEJxRXnqVQMHK59nMF0T20v/o
         H4Bg==
X-Gm-Message-State: AD7BkJK/4/uQr4jJdBOmyLBtnULJZYiUEKe2h2QZMBeKxhY/EaX7x5HNjDoihRE5oiPrVQrb4DT9IkOFu5PICEju
MIME-Version: 1.0
X-Received: by 10.107.27.205 with SMTP id b196mr28830580iob.163.1457460810894;
 Tue, 08 Mar 2016 10:13:30 -0800 (PST)
Received: by 10.107.149.12 with HTTP; Tue, 8 Mar 2016 10:13:30 -0800 (PST)
In-Reply-To: <06B0C8CC-8CE9-4617-A213-66D41BBFFF3D@c8h10n4o2.org.uk>
References: <56DD68E5.2040309@redhat.com>
	<3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com>
	<56DDDC53.1060103@redhat.com>
	<CACsi253rUFf7zY=F3EJrRGJTWUSckV590ypunAcUvkFLVMDmfQ@mail.gmail.com>
	<CAGBAQ47FRpVRV7ymht-weDRmPwNW0yA94cxQXFAOM_Ns=HteCg@mail.gmail.com>
	<CACsi2507SbFCA4zG-EJca81MGzBwOsL_gjA4_GeecEi+=n9GBQ@mail.gmail.com>
	<56DE8D43.40505@redhat.com>
	<CAKQ1sVMXnU0wkLeDWfdvcfTBNaZqw_SgJpgM9LiCN2iyzKv8hg@mail.gmail.com>
	<CAKQ1sVOaVLX=jg-V6vZ1A-8XFRt4xHse_+FbHyZ-eQ5SChQKfA@mail.gmail.com>
	<56DEACC7.3080007@redhat.com>
	<06B0C8CC-8CE9-4617-A213-66D41BBFFF3D@c8h10n4o2.org.uk>
Date: Tue, 8 Mar 2016 12:13:30 -0600
Message-ID: <CACsi252aS8aH+3hC9R1QnE0CTgv4n5PfpeOPFRo42K+V7XMZjg@mail.gmail.com>
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113fecfce86f19052d8d892e

--001a113fecfce86f19052d8d892e
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Tue, Mar 8, 2016 at 11:38 AM, Tim Bannister <isoma@c8h10n4o2.org.uk>
wrote:

> On 8 Mar 2016, at 10:43, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrote:
> > On 03/08/2016 10:25 AM, Yann Ylavic wrote:
> >> On Tue, Mar 8, 2016 at 9:46 AM, Yann Ylavic <ylavic.dev@gmail.com>
> wrote:
> >>> On Tue, Mar 8, 2016 at 9:28 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> =
wrote:
> >>>>
> >>>> I have chosen FreeListen over the flags
> >>>
> >>> FWIW, should be take the YAD path, I'd prefer ListenFree (over
> >>> FreeListen) to emphasize on the "Listen directive family" with a
> >>> prefix...
> >>
> >> Thinking more about this, I think I second Jim on the wish to have a
> >> single Listen directive with some parameter like
> >> "options=3Dfreebind,backlog:4095,reuseport,...".
> >
> > Thinking about right syntax for options...
> >
> > I would personally like something like "Listen [IP-address:]portnumber
> [protocol] [option1] [option2] ...". Do we have list of supported protoco=
ls
> by Listen directive, or we support whatever protocol is there?
> >
> > If we have explicit list of protocols, then the protocols itself could
> become an options.
> >
> > If not, can it be acceptable, that you always have to define protocol
> when you wan to use options?
>
> That sounds fine too.
>
> One proviso comes with the idea of a single socket that can serve several
> protocols. Think of WebSocket, because it is awkward: from an HTTP
> point-of-view, the protocol is initially HTTP and then upgrades to
> WebSocket; however, from a WebSocket point of view, the protocol is
> WebSocket throughout with a preamble that also happens to resemble HTTP/1=
.1.
>
> Using the first model, only one protocol need be specified (but it's not
> clear which upgrades are valid for this socket). Using the second model,
> the Listen directive needs a way for the admin to specify multiple
> protocols. Maybe the answer is for that to be set in the Protocols
> directive only?
>

Keep in mind, the protocol at this layer is simply the 'first responder' to
react
to an incoming connection, which in your case is the http (or h2?) protocol=
.
The truly critical aspect is what the kernel may do to defer the accept,
whether
that is looking for a complete http request (or h2c request, someday), or
the
server must instigate the first response (no incoming bytes from the client=
)
in the case of ftp and similar, or whether this may be an ssl handshake.

In the case of WebSocket, that module should be reacting to the headers,
the initial protocol state is still HTTP/1.1 from httpd's perspective.


> What should the Listen directive look like, ideally, for a
> freebind-enabled socket that can be either HTTP or WebSocket, and needs t=
o
> specify options? Like this perhaps:
>
> Listen [2001:db8::a00:20ff:fea7:ccea]:1234 http/1.1,websocket
> options=3Dfreebind


Keep in mind this becomes a nightmare entanglement between optional,
loadable support modules and the server core.  The existing implementation
of listen was flexible enough to provide new arbitrary protocols and resolv=
e
these at runtime.  There is no reason to distinguish http/1.1, as we would
have already done so (e.g. http/1.0, http/0.9 etc).  It isn't necessary.

If a websocket implementation is properly stacked on top of the core, there
is no need for special-casing this interaction.  It will be able to speak
over
http or https, or conceivably even over a single h2, or h2c stream, and wil=
l
support httpready or freebind mechanics.

Re-implementing the handshake entirely in a WebSocket module seems
like overkill, much like re-implementing the h2c handshake would be.

--001a113fecfce86f19052d8d892e
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
ue, Mar 8, 2016 at 11:38 AM, Tim Bannister <span dir=3D"ltr">&lt;<a href=3D=
"mailto:isoma@c8h10n4o2.org.uk" target=3D"_blank">isoma@c8h10n4o2.org.uk</a=
>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 =
0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><span class=3D"">On 8=
 Mar 2016, at 10:43, Jan Kalu=C5=BEa &lt;<a href=3D"mailto:jkaluza@redhat.c=
om">jkaluza@redhat.com</a>&gt; wrote:<br>
&gt; On 03/08/2016 10:25 AM, Yann Ylavic wrote:<br>
&gt;&gt; On Tue, Mar 8, 2016 at 9:46 AM, Yann Ylavic &lt;<a href=3D"mailto:=
ylavic.dev@gmail.com">ylavic.dev@gmail.com</a>&gt; wrote:<br>
&gt;&gt;&gt; On Tue, Mar 8, 2016 at 9:28 AM, Jan Kalu=C5=BEa &lt;<a href=3D=
"mailto:jkaluza@redhat.com">jkaluza@redhat.com</a>&gt; wrote:<br>
&gt;&gt;&gt;&gt;<br>
&gt;&gt;&gt;&gt; I have chosen FreeListen over the flags<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; FWIW, should be take the YAD path, I&#39;d prefer ListenFree (=
over<br>
&gt;&gt;&gt; FreeListen) to emphasize on the &quot;Listen directive family&=
quot; with a<br>
&gt;&gt;&gt; prefix...<br>
&gt;&gt;<br>
&gt;&gt; Thinking more about this, I think I second Jim on the wish to have=
 a<br>
&gt;&gt; single Listen directive with some parameter like<br>
&gt;&gt; &quot;options=3Dfreebind,backlog:4095,reuseport,...&quot;.<br>
&gt;<br>
&gt; Thinking about right syntax for options...<br>
&gt;<br>
&gt; I would personally like something like &quot;Listen [IP-address:]portn=
umber [protocol] [option1] [option2] ...&quot;. Do we have list of supporte=
d protocols by Listen directive, or we support whatever protocol is there?<=
br>
&gt;<br>
&gt; If we have explicit list of protocols, then the protocols itself could=
 become an options.<br>
&gt;<br>
&gt; If not, can it be acceptable, that you always have to define protocol =
when you wan to use options?<br>
<br>
</span>That sounds fine too.<br>
<br>
One proviso comes with the idea of a single socket that can serve several p=
rotocols. Think of WebSocket, because it is awkward: from an HTTP point-of-=
view, the protocol is initially HTTP and then upgrades to WebSocket; howeve=
r, from a WebSocket point of view, the protocol is WebSocket throughout wit=
h a preamble that also happens to resemble HTTP/1.1.<br>
<br>
Using the first model, only one protocol need be specified (but it&#39;s no=
t clear which upgrades are valid for this socket). Using the second model, =
the Listen directive needs a way for the admin to specify multiple protocol=
s. Maybe the answer is for that to be set in the Protocols directive only?<=
br></blockquote><div><br></div><div>Keep in mind, the protocol at this laye=
r is simply the &#39;first responder&#39; to react</div><div>to an incoming=
 connection, which in your case is the http (or h2?) protocol.</div><div>Th=
e truly critical aspect is what the kernel may do to defer the accept, whet=
her</div><div>that is looking for a complete http request (or h2c request, =
someday), or the</div><div>server must instigate the first response (no inc=
oming bytes from the client)</div><div>in the case of ftp and similar, or w=
hether this may be an ssl handshake.</div><div><br></div><div>In the case o=
f WebSocket, that module should be reacting to the headers,</div><div>the i=
nitial protocol state is still HTTP/1.1 from httpd&#39;s perspective.</div>=
<div>=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8=
ex;border-left:1px #ccc solid;padding-left:1ex">
What should the Listen directive look like, ideally, for a freebind-enabled=
 socket that can be either HTTP or WebSocket, and needs to specify options?=
 Like this perhaps:<br>
<br>
Listen [2001:db8::a00:20ff:fea7:ccea]:1234 http/1.1,websocket options=3Dfre=
ebind</blockquote><div><br></div><div>Keep in mind this becomes a nightmare=
 entanglement between optional,</div><div>loadable support modules and the =
server core.=C2=A0 The existing implementation</div><div>of listen was flex=
ible enough to provide new arbitrary protocols and resolve</div><div>these =
at runtime.=C2=A0 There is no reason to distinguish http/1.1, as we would</=
div><div>have already done so (e.g. http/1.0, http/0.9 etc).=C2=A0 It isn&#=
39;t necessary.</div><div><br></div><div>If a websocket implementation is p=
roperly stacked on top of the core, there</div><div>is no need for special-=
casing this interaction.=C2=A0 It will be able to speak over</div><div>http=
 or https, or conceivably even over a single h2, or h2c stream, and will</d=
iv><div>support httpready or freebind mechanics.</div><div><br></div><div>R=
e-implementing the handshake entirely in a WebSocket module seems</div><div=
>like overkill, much like re-implementing the h2c handshake would be.</div>=
<div><br></div><div>=C2=A0</div></div></div></div>

--001a113fecfce86f19052d8d892e--

From dev-return-85817-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  8 18:48:00 2016
Return-Path: <dev-return-85817-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6380818CF3
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Mar 2016 18:48:00 +0000 (UTC)
Received: (qmail 80836 invoked by uid 500); 8 Mar 2016 18:47:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 80763 invoked by uid 500); 8 Mar 2016 18:47:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80753 invoked by uid 99); 8 Mar 2016 18:47:59 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2016 18:47:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 0F5E7C2058
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 18:47:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.361
X-Spam-Level: *
X-Spam-Status: No, score=1.361 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RDNS_DYNAMIC=0.363,
	RP_MATCHES_RCVD=-0.001, SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id IhtQbvpqak3d for <dev@httpd.apache.org>;
	Tue,  8 Mar 2016 18:47:57 +0000 (UTC)
Received: from nebula.c8h10n4o2.org.uk (nebula.c8h10n4o2.org.uk [80.68.88.207])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id B55F45F1B3
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 18:47:56 +0000 (UTC)
Received: from consume.c8h10n4o2.org.uk ([2001:8b0:caee:2::2])
	by nebula.c8h10n4o2.org.uk with esmtpsa (TLS1.0:ECDHE_RSA_AES_256_CBC_SHA384:256)
	(Exim 4.84)
	(envelope-from <isoma@c8h10n4o2.org.uk>)
	id 1adMfh-0007Ia-S3
	for dev@httpd.apache.org; Tue, 08 Mar 2016 18:47:53 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
From: Tim Bannister <isoma@c8h10n4o2.org.uk>
In-Reply-To: <CACsi252aS8aH+3hC9R1QnE0CTgv4n5PfpeOPFRo42K+V7XMZjg@mail.gmail.com>
Date: Tue, 8 Mar 2016 18:47:53 +0000
Content-Transfer-Encoding: quoted-printable
Message-Id: <FA769429-A422-4CB4-AC0B-B4FE860F3641@c8h10n4o2.org.uk>
References: <56DD68E5.2040309@redhat.com> <3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com> <56DDDC53.1060103@redhat.com> <CACsi253rUFf7zY=F3EJrRGJTWUSckV590ypunAcUvkFLVMDmfQ@mail.gmail.com> <CAGBAQ47FRpVRV7ymht-weDRmPwNW0yA94cxQXFAOM_Ns=HteCg@mail.gmail.com> <CACsi2507SbFCA4zG-EJca81MGzBwOsL_gjA4_GeecEi+=n9GBQ@mail.gmail.com> <56DE8D43.40505@redhat.com> <CAKQ1sVMXnU0wkLeDWfdvcfTBNaZqw_SgJpgM9LiCN2iyzKv8hg@mail.gmail.com> <CAKQ1sVOaVLX=jg-V6vZ1A-8XFRt4xHse_+FbHyZ-eQ5SChQKfA@mail.gmail.com> <56DEACC7.3080007@redhat.com> <06B0C8CC-8CE9-4617-A213-66D41BBFFF3D@c8h10n4o2.org.uk> <CACsi252aS8aH+3hC9R1QnE0CTgv4n5PfpeOPFRo42K+V7XMZjg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> On 8 Mar 2016, at 18:13, William A Rowe Jr <wrowe@rowe-clan.net> =
wrote:
>>=20
>> On Tue, Mar 8, 2016 at 11:38 AM, Tim Bannister =
<isoma@c8h10n4o2.org.uk> wrote:
>> On 8 Mar 2016, at 10:43, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrote:
>> > On 03/08/2016 10:25 AM, Yann Ylavic wrote:
>> >> On Tue, Mar 8, 2016 at 9:46 AM, Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
>> >>> On Tue, Mar 8, 2016 at 9:28 AM, Jan Kalu=C5=BEa =
<jkaluza@redhat.com> wrote:
>> >>>>
>> >>>> I have chosen FreeListen over the flags
>> >>>
>> >>> FWIW, should be take the YAD path, I'd prefer ListenFree (over
>> >>> FreeListen) to emphasize on the "Listen directive family" with a
>> >>> prefix...
>> >>
>> >> Thinking more about this, I think I second Jim on the wish to have =
a
>> >> single Listen directive with some parameter like
>> >> "options=3Dfreebind,backlog:4095,reuseport,...".
>> >
>> > Thinking about right syntax for options...
>> >
>> > I would personally like something like "Listen =
[IP-address:]portnumber [protocol] [option1] [option2] ...". Do we have =
list of supported protocols by Listen directive, or we support whatever =
protocol is there?
>> >
>> > If we have explicit list of protocols, then the protocols itself =
could become an options.
>> >
>> > If not, can it be acceptable, that you always have to define =
protocol when you wan to use options?
>>=20
>> That sounds fine too.
>>=20
>> One proviso comes with the idea of a single socket that can serve =
several protocols. Think of WebSocket, because it is awkward: from an =
HTTP point-of-view, the protocol is initially HTTP and then upgrades to =
WebSocket; however, from a WebSocket point of view, the protocol is =
WebSocket throughout with a preamble that also happens to resemble =
HTTP/1.1.
>>=20
>> Using the first model, only one protocol need be specified (but it's =
not clear which upgrades are valid for this socket). Using the second =
model, the Listen directive needs a way for the admin to specify =
multiple protocols. Maybe the answer is for that to be set in the =
Protocols directive only?

Either mental model might be valid, and I wouldn't presume to say which =
we should be using. Maybe it's not even feasible to have a single =
abstraction for how httpd works (because things like HTTP/2, TLS, =
WebSocket confuse matters by each using their own interpretation).

=E2=80=A6

> Keep in mind this becomes a nightmare entanglement between optional, =
loadable support modules and the server core.  The existing =
implementation
> of listen was flexible enough to provide new arbitrary protocols and =
resolve these at runtime.  There is no reason to distinguish http/1.1, =
as we would have already done so (e.g. http/1.0, http/0.9 etc).  It =
isn't necessary.

I agree, but: Protocols vs. Protocol is already awkward to document and =
use. I hope we don't accidentally make anything worse.


> If a websocket implementation is properly stacked on top of the core, =
there is no need for special-casing this interaction.  It will be able =
to speak over http or https, or conceivably even over a single h2, or =
h2c stream, and will support httpready or freebind mechanics.

I chose WebSocket precisely because it's a pain and will illustrate =
awkward cases. WebSocket over HTTP/2 sounds like a red herring, as =
normal WebSocket runs over a stream transport (TCP). In RFC 6455 it's an =
upgrade, and once that upgrade has happened then HTTP is not part of the =
stack any more. WebSocket Secure runs over TLS but, again, discards HTTP =
after the upgrade.

> Re-implementing the handshake entirely in a WebSocket module seems =
like overkill, much like re-implementing the h2c handshake would be.

No worries there =E2=80=93 sounds like you're more in favour of the =
first of the two models then? In that case the Listen directive =
simplifies to one of:
Listen [2001:db8::a00:20ff:fea7:ccea]:1234 http options=3Dfreebind

or:
Listen [2001:db8::a00:20ff:fea7:ccea]:1234 =
options=3Dprotocol:http,freebind


I'm mindful that there is already an overlap between Listen, Protocol, =
and Protocols. Making the Listen directive more complex makes sense to =
me; the added complexity makes it more important to try get it right.



My aim here is that we agree on a new definition of Listen that's =
implementable, understandable, and has a way to specify use of =
IP_FREEBIND. It's nice to have it extensible but that is not as strong a =
consideration as the other details. Which choice do people like best?


--=20
Tim Bannister =E2=80=93 isoma@c8h10n4o2.org.uk=

From dev-return-85818-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  8 19:06:53 2016
Return-Path: <dev-return-85818-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B368B18F4C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Mar 2016 19:06:53 +0000 (UTC)
Received: (qmail 20892 invoked by uid 500); 8 Mar 2016 19:06:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 20828 invoked by uid 500); 8 Mar 2016 19:06:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 20818 invoked by uid 99); 8 Mar 2016 19:06:53 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2016 19:06:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 4808E1A037B
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 19:06:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 6ImgXi5gL1GN for <dev@httpd.apache.org>;
	Tue,  8 Mar 2016 19:06:50 +0000 (UTC)
Received: from mail-io0-f180.google.com (mail-io0-f180.google.com [209.85.223.180])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id D56415F56E
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 19:06:49 +0000 (UTC)
Received: by mail-io0-f180.google.com with SMTP id n190so38224459iof.0
        for <dev@httpd.apache.org>; Tue, 08 Mar 2016 11:06:49 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to;
        bh=Z/ED5VBDcjmkDjW9vJL3VCsqJ9mxJy80gVOm6MheOZQ=;
        b=ujWD8RnZ7R42oxIcQO0Gl1fRcytpTbAMlVamx0GajKT1jLOJAil1W19ZwnrluJXPzs
         f36XUKUx5m7w5r5V+QW5KeqwYy1N3nGTINHJbFtRhGlgsu4PgXgm3PbO3hkRD4kijIgA
         elHEFgUAoHJ0dsdFk/Ayr7O5YIghmV3OZggN9J880oNp2m0lM1djSVZ2Rv4qjUAN3Ok8
         yUUH8fdGCKfloCaKEY9J5sjgNalKndhGSXc+0SA8W2K5eZe5jueOad9GQaMZ4n4LRsm0
         q5YYjLJTqJpe733yGWxr9knx7cIgvDsvg17L0cg4GhNBYoqTi4D/x0wU0XkdSO0vxAO6
         dtMA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to;
        bh=Z/ED5VBDcjmkDjW9vJL3VCsqJ9mxJy80gVOm6MheOZQ=;
        b=m20u84Tj5NBkWBYlPJg7Ka4JsbFtKKa3nBxMiarWCF+jONch+B4GMsvDyprT8B1j5J
         K4n8er3DAt4N//5X1zQcNb22ebgFyhRdRJ/iSn/YbSBJpPytSujmfEvNc3KeYxEuZmqo
         EoYp+MJlagoSEHMIo2W6Me1cbALl6yOMSlgLDq85yWQpL8wrMJb233wIfrxH6BFkntzZ
         Sxy+cvnjGNsPn2j9PY6kgA1p/k3ZPL7mEwUn1IyT9ok1naMQfsKw/4TA7NBGwIa/Wbz3
         Ttl6uefU6NZIiYSXSXWEY8tOXUqT2X8iQlhCZgJcj++s8aE+nXmgLq8VU1vTCWzWqDD+
         zbUA==
X-Gm-Message-State: AD7BkJKC98586dYJ23O8tQUKelxQ0pVMlpAz3xuS3OIaaUaEFacfkb+1/qECt46c/FxaYHHT9WPJxGgUApAIcg==
MIME-Version: 1.0
X-Received: by 10.107.137.152 with SMTP id t24mr21570477ioi.147.1457464008796;
 Tue, 08 Mar 2016 11:06:48 -0800 (PST)
Received: by 10.36.155.198 with HTTP; Tue, 8 Mar 2016 11:06:48 -0800 (PST)
Date: Tue, 8 Mar 2016 14:06:48 -0500
Message-ID: <CAKUrXK63R-DJHnEfxu14rqBpdWBtsfQHdek1xnDvoKmb4ELVbg@mail.gmail.com>
Subject: configuring alternate algorithms for CGI variables (yet again?)
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113f90228495af052d8e482a

--001a113f90228495af052d8e482a
Content-Type: text/plain; charset=UTF-8

Synopsis:

CGIVariable variable keyword-applicable-to-variable

e.g.,

CGIVariable REQUEST_URI from-active-request|from-request-line

(Please oh please think of a better directive name :) )

from-active-request:  REQUEST_URI will be set from the active request
(possibly a subrequest).
from-request-line (default):  REQUEST_URI will be set from the original
request line received from the client.

This kind of setting would be part of core's request_config, and would be
consulted as appropriate by different code bundled with httpd
(ap_add_cgi_vars(), mod_proxy_FOO, etc.) or even third-party modules
(mod_xSGI), like the CGIPassAuth directive.

The problem at hand: Make REQUEST_URI in a script invoked via SSI represent
the script invocation, not the original request.  It worked this way in
very early 2.0.x for a while, until https://archive.apache.org/gnats/7580
which restored the 1.3 behavior.  The current value in httpd is a pain for
a particular customer app that can be used with httpd 2.4 or with a
different web server.  (FWIW, ssl_var_lookup("REQUEST_URI") uses r->uri; I
didn't even know it cared.)

Generally: An more obvious variable that could use such configuration is
PATH_INFO; this is implemented (inconsistently) in multiple proxy backends,
and configured using an "envvar" that isn't effective if you do the obvious
thing, SetEnv.  While PATH_INFO is out of scope for me for the moment, I'd
like to control how REQUEST_URI is set in a manner that is extensible to
other CGI variables in the future.

Thoughts?

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a113f90228495af052d8e482a
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div>Synopsis:</div><div><br></div><div>CGIVariable variab=
le keyword-applicable-to-variable<br></div><div><br></div><div>e.g.,</div><=
div><br></div><div>CGIVariable REQUEST_URI from-active-request|from-request=
-line</div><div><br></div><div>(Please oh please think of a better directiv=
e name :) )</div><div><br></div><div>from-active-request: =C2=A0REQUEST_URI=
 will be set from the active request (possibly a subrequest).</div><div>fro=
m-request-line (default): =C2=A0REQUEST_URI will be set from the original r=
equest line received from the client.</div><div><br></div><div>This kind of=
 setting would be part of core&#39;s request_config, and would be consulted=
 as appropriate by different code bundled with httpd (ap_add_cgi_vars(), mo=
d_proxy_FOO, etc.) or even third-party modules (mod_xSGI), like the CGIPass=
Auth directive.</div><div><br></div><div>The problem at hand: Make REQUEST_=
URI in a script invoked via SSI represent the script invocation, not the or=
iginal request.=C2=A0 It worked this way in very early 2.0.x for a while, u=
ntil=C2=A0<a href=3D"https://archive.apache.org/gnats/7580">https://archive=
.apache.org/gnats/7580</a> which restored the 1.3 behavior.=C2=A0 The curre=
nt value in httpd is a pain for a particular customer app that can be used =
with httpd 2.4 or with a different web server. =C2=A0(FWIW, ssl_var_lookup(=
&quot;REQUEST_URI&quot;) uses r-&gt;uri; I didn&#39;t even know it cared.)<=
br></div><div><div><br></div><div>Generally: An more obvious variable that =
could use such configuration is PATH_INFO; this is implemented (inconsisten=
tly) in multiple proxy backends, and configured using an &quot;envvar&quot;=
 that isn&#39;t effective if you do the obvious thing, SetEnv.=C2=A0 While =
PATH_INFO is out of scope for me for the moment, I&#39;d like to control ho=
w REQUEST_URI is set in a manner that is extensible to other CGI variables =
in the future.</div><div><br></div><div>Thoughts?</div><div><br></div><div>=
-- <br><div class=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... m=
arried an alien...<br><a href=3D"http://emptyhammock.com/" target=3D"_blank=
">http://emptyhammock.com/</a><div><br></div></div></div>
</div></div></div>

--001a113f90228495af052d8e482a--

From dev-return-85819-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  8 20:21:41 2016
Return-Path: <dev-return-85819-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C4A01185A5
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Mar 2016 20:21:41 +0000 (UTC)
Received: (qmail 39348 invoked by uid 500); 8 Mar 2016 20:21:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39289 invoked by uid 500); 8 Mar 2016 20:21:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39279 invoked by uid 99); 8 Mar 2016 20:21:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Mar 2016 20:21:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 2ED8FC0314
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 20:21:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id ix0KkLxTb91c for <dev@httpd.apache.org>;
	Tue,  8 Mar 2016 20:21:38 +0000 (UTC)
Received: from mail-pf0-f178.google.com (mail-pf0-f178.google.com [209.85.192.178])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 5D9B45FAE2
	for <dev@httpd.apache.org>; Tue,  8 Mar 2016 20:21:37 +0000 (UTC)
Received: by mail-pf0-f178.google.com with SMTP id 129so20559876pfw.1
        for <dev@httpd.apache.org>; Tue, 08 Mar 2016 12:21:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-transfer-encoding;
        bh=9zwYmbQA+cS2YCaM4AGc0cFSZ2tqpOpLca4S//wsLII=;
        b=IFuPMY4E/iAz+BJCu7oYzM3ndk3HqcOiXTkdcYaAHAvAkTNsovR34Z3YE39PYLIHZK
         VhP2IZQ10aSLlX7qdjCtEWhVSr1HXZZMHFY+1/Gi4M8WMtaQHmwo7o+LAo6R6XxO9uCD
         nOmlin8EMzZvjoQiQHyWzbCMmKCff5YBgSf2mtb3corlyosAupraTALVGB/Ahmb+RQwH
         og9q7+pl+hsulYLW8MtGiRXCXGbc/js3BjYCaRIFyzSKe77+X+aU12+lKgSs97+E6Rcc
         YWTTGLICIZuyX8XaCaCU/4MEkYk3WtFkCOKFCP0a7DphiLrrD3zYLK8eVHDD4Y8oI0Ca
         wUgg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:subject:to:references:from:message-id:date
         :user-agent:mime-version:in-reply-to:content-transfer-encoding;
        bh=9zwYmbQA+cS2YCaM4AGc0cFSZ2tqpOpLca4S//wsLII=;
        b=TMlLt/Xt49akUTkPBTeO9SOpcefv/VYnnlHrBahu52K7KTgXtLkX+y+C2kWXFh3whV
         5c/IQ9wfG8lhypf6UW/7HtYFu6XM5uvtCaYYazMIilu4VNFEwsa6dZbJq55jpW84bfJ2
         PIwPXoAIM5o9KK6wxGOQzOxBDN4mRgKjaDRrv6kQ30NBdKIo7GtZdgQkbxZ5/+k7dWun
         /7oZ7LbqsvfsKmLQzVSr11qWlCm7kaEjLV/pB33xCWPhxABYKMhFW7IrHfwRO1TeCQjt
         uHBpGSc8kR5NATaCfu6V0Ix1BQxJ3fy9CQf33I2BorjxmYHNi0vAdRJHm7HMFjPSDc0P
         yEwQ==
X-Gm-Message-State: AD7BkJKnGUe4raxBVx8hUGco3ZOVNKr63qBuvcZHwNmXFu7OACY4vcaVUnTyZBbiUcAZtg==
X-Received: by 10.98.74.200 with SMTP id c69mr22786181pfj.129.1457468490280;
        Tue, 08 Mar 2016 12:21:30 -0800 (PST)
Received: from [192.168.1.2] (50-39-119-28.bvtn.or.frontiernet.net. [50.39.119.28])
        by smtp.gmail.com with ESMTPSA id ud8sm6948843pac.11.2016.03.08.12.21.28
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Tue, 08 Mar 2016 12:21:28 -0800 (PST)
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
To: dev@httpd.apache.org
References: <56DD68E5.2040309@redhat.com>
 <3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com>
 <56DDDC53.1060103@redhat.com>
 <CACsi253rUFf7zY=F3EJrRGJTWUSckV590ypunAcUvkFLVMDmfQ@mail.gmail.com>
 <CAGBAQ47FRpVRV7ymht-weDRmPwNW0yA94cxQXFAOM_Ns=HteCg@mail.gmail.com>
 <CACsi2507SbFCA4zG-EJca81MGzBwOsL_gjA4_GeecEi+=n9GBQ@mail.gmail.com>
 <56DE8D43.40505@redhat.com>
 <CAKQ1sVMXnU0wkLeDWfdvcfTBNaZqw_SgJpgM9LiCN2iyzKv8hg@mail.gmail.com>
 <CAKQ1sVOaVLX=jg-V6vZ1A-8XFRt4xHse_+FbHyZ-eQ5SChQKfA@mail.gmail.com>
 <56DEACC7.3080007@redhat.com>
 <06B0C8CC-8CE9-4617-A213-66D41BBFFF3D@c8h10n4o2.org.uk>
 <CACsi252aS8aH+3hC9R1QnE0CTgv4n5PfpeOPFRo42K+V7XMZjg@mail.gmail.com>
 <FA769429-A422-4CB4-AC0B-B4FE860F3641@c8h10n4o2.org.uk>
From: Jacob Champion <champion.p@gmail.com>
Message-ID: <56DF3448.3050702@gmail.com>
Date: Tue, 8 Mar 2016 12:21:28 -0800
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <FA769429-A422-4CB4-AC0B-B4FE860F3641@c8h10n4o2.org.uk>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit

On 03/08/2016 10:47 AM, Tim Bannister wrote:
>> On 8 Mar 2016, at 18:13, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
>> If a websocket implementation is properly stacked on top of the
>> core, there is no need for special-casing this interaction.  It
>> will be able to speak over http or https, or conceivably even over
>> a single h2, or h2c stream, and will support httpready or freebind
>> mechanics.
> 
> I chose WebSocket precisely because it's a pain and will illustrate
> awkward cases. WebSocket over HTTP/2 sounds like a red herring, as
> normal WebSocket runs over a stream transport (TCP). In RFC 6455 it's
> an upgrade, and once that upgrade has happened then HTTP is not part
> of the stack any more. WebSocket Secure runs over TLS but, again,
> discards HTTP after the upgrade.

Right. WebSocket is WebSocket, and isn't communicating "over" or
"inside" another stream. There is only one way to create a WebSocket
connection, and that's by upgrading from an HTTP/1.1 request. AFAIK,
HTTP/2 + WebSocket does not exist, nor does ALPN of a "pure" WebSocket
stream.

--Jacob

From dev-return-85820-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  9 12:14:05 2016
Return-Path: <dev-return-85820-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 53BAA19B8F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  9 Mar 2016 12:14:05 +0000 (UTC)
Received: (qmail 91747 invoked by uid 500); 9 Mar 2016 12:14:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91680 invoked by uid 500); 9 Mar 2016 12:14:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91670 invoked by uid 99); 9 Mar 2016 12:14:04 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2016 12:14:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 1973AC0A56
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 12:14:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id YsUoPh12dO5K for <dev@httpd.apache.org>;
	Wed,  9 Mar 2016 12:14:02 +0000 (UTC)
Received: from mail-qg0-f50.google.com (mail-qg0-f50.google.com [209.85.192.50])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 0F6FE5FAD8
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 12:14:02 +0000 (UTC)
Received: by mail-qg0-f50.google.com with SMTP id w104so39109605qge.1
        for <dev@httpd.apache.org>; Wed, 09 Mar 2016 04:14:02 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=8Y8/dR/MBzJ9Fbdln2Ws93MTM34PfSyV70UgjgXtQMs=;
        b=MjX15X/us0EYcESgMN8Q5Z52IwQ50qpHB33uxx/cmkuQi7o6WM7FavfOeKTjGpw/u4
         X3vV3kuPyl6AwOrc1vqwqxxuYjZnrsbkHE1hTR1oxHamS8O8PlmXbNggGJLTJydvT+KA
         1EfvzoKK4brTlGg88L60Al26huDQLy6f8BysKDRMkJ/D3JmTNqrZcyRMdle9Qr0JdKhM
         ERtUNbCjxFeOGtGO//EvdJXz2cxjzDgT1Bug1bPP97PeysBVnfsEYQBR1LJz44/I+jMi
         PBwdwVETXtcJ7z577sHZ1KoWsiSM/hITU6tcq8UYrc+nG4ufsxRd1Sd5nqrXwsGxFzHp
         93jg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=8Y8/dR/MBzJ9Fbdln2Ws93MTM34PfSyV70UgjgXtQMs=;
        b=aLIQ0aRWV/xCg9a3p1t/FLWpx/m/yNkg/kcxXshOq8gUUyAoz3BnBv1zWqc92xhVVL
         PGcEZEgmgILCWIeAqGNncCsxNnoos1X5JQnSQBvk0eDC7GQ3Vp9NOiA3Y1shNVFqiOCM
         wIHTEqX/kpDAnBOHLLJI83PMeBRi1ZIu+Exz9GOgauiI9HjNMKRLgGl67cwZneTNhqkm
         BE1dOBTPY6pIZQDf2uX604c9ZqN4a9zmYzpp59kavT6XDS/CsYUa26Jn9AB+5e4+HnJG
         jUoK3yUlC3ikYIGhZU6ZjcUC6w73k5K1w9uzKV6wH/GpqHjfUSX1ErZfIlgC5yS5lqwl
         kJeA==
X-Gm-Message-State: AD7BkJL7wMD3LStyZdbMqbeTKy8sUEGboOo8J1Tn4TXBbaen2BUTeR0ldZr3eE15MGi/rGTZnVspnxyEcrloDw==
MIME-Version: 1.0
X-Received: by 10.140.249.6 with SMTP id u6mr45594483qhc.83.1457525635600;
 Wed, 09 Mar 2016 04:13:55 -0800 (PST)
Received: by 10.55.10.7 with HTTP; Wed, 9 Mar 2016 04:13:55 -0800 (PST)
In-Reply-To: <20150925062905.CCD863A01E3@svn01-us-west.apache.org>
References: <20150925062905.CCD863A01E3@svn01-us-west.apache.org>
Date: Wed, 9 Mar 2016 13:13:55 +0100
Message-ID: <CAKQ1sVMWn5qPp2bcgeNbYh2MKLj-cdT_g4YzdXZV8vvfgS7XpQ@mail.gmail.com>
Subject: Re: svn commit: r1705217 - in /httpd/httpd/trunk: CHANGES server/util_script.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 25, 2015 at 8:29 AM,  <gsmith@apache.org> wrote:
> Author: gsmith
> Date: Fri Sep 25 06:29:05 2015
> New Revision: 1705217
>
> URL: http://svn.apache.org/viewvc?rev=1705217&view=rev
> Log:
> core/util_script: relax alphanumeric filter of enviroment variable names
> on Windows to allow '(' and ')' for passing PROGRAMFILES(X86) et.al.
> unadulterated in 64 bit versions of Windows. PR 46751.

Can one define functions in environment variables on Windows (and if
so is the parenthesis in the place)?
I don't think so, but not very aware of Windows things either, thus
prefer to ask wrt CVE-2014-6271...

What about MinGW or any unix-like shell ported on Windows (which could
be used as CGI)?

Regards,
Yann.

From dev-return-85821-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  9 12:16:04 2016
Return-Path: <dev-return-85821-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2FF2619B9F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  9 Mar 2016 12:16:04 +0000 (UTC)
Received: (qmail 94598 invoked by uid 500); 9 Mar 2016 12:16:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94525 invoked by uid 500); 9 Mar 2016 12:16:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94515 invoked by uid 99); 9 Mar 2016 12:16:03 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2016 12:16:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id AA6A7C0C99
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 12:16:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id MkJnjzoP-QXG for <dev@httpd.apache.org>;
	Wed,  9 Mar 2016 12:16:01 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id B69125FAC8
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 12:16:00 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 6C4D720E01
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 13:15:51 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 22O8wUx9kwV3 for <dev@httpd.apache.org>;
	Wed,  9 Mar 2016 13:15:51 +0100 (CET)
Received: from [10.0.0.1] (unknown [101.175.23.180])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 4D2BA22E91
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 13:15:49 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: h2_request.c > ap_create_request() puzzle.
Message-ID: <56E013ED.1000305@gknw.net>
Date: Wed, 9 Mar 2016 23:15:41 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/E
Can't decide if the following:

> GEN  obj_release/mod_http2_link.opt
> LINK obj_release/mod_http2.nlm
> ### mwldnlm Linker Error:
> #   Undefined symbol: ap_create_request in
> #   h2_request.o

is a typo and should be calling ap_create_request_config()

or if:

> request_rec *ap_create_request(conn_rec *conn)
(protocol.c/http_protocol.h)

needs to declared as:

> AP_DECLARE(request_rec) *ap_create_request(conn_rec *conn)

otherwise the ap_create_request symbol is not exported from the server 
for use by other modules...?

Norm

From dev-return-85822-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  9 12:39:30 2016
Return-Path: <dev-return-85822-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4F10219C95
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  9 Mar 2016 12:39:30 +0000 (UTC)
Received: (qmail 53679 invoked by uid 500); 9 Mar 2016 12:39:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53606 invoked by uid 500); 9 Mar 2016 12:39:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53596 invoked by uid 99); 9 Mar 2016 12:39:29 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2016 12:39:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 09EBF1806D4
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 12:39:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=k7O4zLKv;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=BLz7Ak1O
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id GIeXw8hOE07Z for <dev@httpd.apache.org>;
	Wed,  9 Mar 2016 12:39:26 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 55F475FAD6
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 12:39:26 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 140CD15A0728; Wed,  9 Mar 2016 13:39:19 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457527159; bh=KKwkKE5ZIdjgtvLiR0kfUYY97tOcoIqkloA5BP//4+k=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=k7O4zLKvjp2qVNXphyZ4hZl9relWyJDg+BD7uKZJyJ1w2ZvtrsLwKj2Drngf41rkt
	 nt14P74A7pxzRC5U4iNRR+nuRXJVCAqfG+cnr+ZpPM/Z/pnIDwWqxjfxeByjENO6Fp
	 zM2qaBi5J7zPiRfrmUuBY2K0KyDxapKwufc7XVkg=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 9725515A0046
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 13:39:18 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457527158; bh=KKwkKE5ZIdjgtvLiR0kfUYY97tOcoIqkloA5BP//4+k=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=BLz7Ak1Oau6Zoy6ehy1/fPX7YDBThvfF8l278Se9Opo+fDP7dDQl70gSQugMc63Te
	 5Q5Qy3+zm1VD1AGRHe319SXPBps527x6O9d2b74W96Du0SSyikxhJZ6tvNlV8XCJ5T
	 /5tk14SSKrSAdTZroG/StaR8V3g41JUXtjohfIaA=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: h2_request.c > ap_create_request() puzzle.
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56E013ED.1000305@gknw.net>
Date: Wed, 9 Mar 2016 13:39:18 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <111B4CA6-5D10-4127-AC9D-3D85A3DFD3D1@greenbytes.de>
References: <56E013ED.1000305@gknw.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

The DECLARE is missing, I think. Added in r1734231.

> Am 09.03.2016 um 13:15 schrieb NormW <normw@gknw.net>:
>=20
> G/E
> Can't decide if the following:
>=20
>> GEN  obj_release/mod_http2_link.opt
>> LINK obj_release/mod_http2.nlm
>> ### mwldnlm Linker Error:
>> #   Undefined symbol: ap_create_request in
>> #   h2_request.o
>=20
> is a typo and should be calling ap_create_request_config()
>=20
> or if:
>=20
>> request_rec *ap_create_request(conn_rec *conn)
> (protocol.c/http_protocol.h)
>=20
> needs to declared as:
>=20
>> AP_DECLARE(request_rec) *ap_create_request(conn_rec *conn)
>=20
> otherwise the ap_create_request symbol is not exported from the server =
for use by other modules...?
>=20
> Norm


From dev-return-85823-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  9 12:42:24 2016
Return-Path: <dev-return-85823-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E136319CA7
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  9 Mar 2016 12:42:24 +0000 (UTC)
Received: (qmail 58542 invoked by uid 500); 9 Mar 2016 12:42:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58472 invoked by uid 500); 9 Mar 2016 12:42:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58462 invoked by uid 99); 9 Mar 2016 12:42:19 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2016 12:42:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id E08021A0CB9
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 12:42:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 2R4DkWfcdrzR for <dev@httpd.apache.org>;
	Wed,  9 Mar 2016 12:42:16 +0000 (UTC)
Received: from mail-qk0-f175.google.com (mail-qk0-f175.google.com [209.85.220.175])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 167285F3FF
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 12:42:16 +0000 (UTC)
Received: by mail-qk0-f175.google.com with SMTP id x1so19289978qkc.1
        for <dev@httpd.apache.org>; Wed, 09 Mar 2016 04:42:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=fRV/kJDRp0uR8dA18yk5ArU1poospyW5V/FiN4rowrY=;
        b=EkXplug8DFhmv2ThPqQdlyPzDdTr0QZcWnM5ts5KBKovJvvtuAiW4hw4XzgZeuUy3K
         HlLZ5flsBOQesiezB+m4ySzrcJPAwbJNySFYkH8IHU1+/Pa338OcamcP/QqiMJt9P1jU
         RKzkVhOQm6QPIauyP6f2xmAm/GDXiD3KL4bcRLaf6SX+TuL5aoFtpzKkf/H71VzKF9pq
         QaerZea7/aML5ErTne9oMuv0mNY7qNgfaPp3I82prAj3ZzvhKLqyWkUxMb8k+Eof4txT
         SSaIM4BvNHh9K5iYqA+csbFA2H1CW+NdJ14bQ/Pe9cYEVQZZNDvi0FcKhVSqEcjfFN9T
         HoRQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=fRV/kJDRp0uR8dA18yk5ArU1poospyW5V/FiN4rowrY=;
        b=OacmrhhZKMxlpP0vx0JJBJDgGCXmh+kAgTCVpEsB19DNMSXkvY4/SluSEFmdxljqJY
         MYSf2kBA/Ql3GL2yEeBeRDhVlRRryZqu+hPzBQw/e2//CYN9ODJbgsJ2T5+a9mEnIyvv
         hoTEtwNshQbbWkbfWqZMW0ayCnIXKz6QoADVF95l9Unq1bGXgQw24T94O3uliel8dmGs
         l6nmUPdKqJjGSzbaFIj2/nI1u4h02qd15mWIR2O45q3aiK3CfMq+lt73aR4ekET7PZDf
         FE0E1+0o6IylIOA+HnEtV75L6LyqdAs8k22An110fMkRL7HyafB8XKL/oUL1FSTK++zf
         QPvA==
X-Gm-Message-State: AD7BkJKIS0DZXNVOPOWMN+YoFEtWk9kFNvETbGRFDoj8C5h8MLoI9QPb28knJWGfKYje3JYldOjTJ4DJ0ijHRQ==
MIME-Version: 1.0
X-Received: by 10.55.75.203 with SMTP id y194mr43473101qka.2.1457527335146;
 Wed, 09 Mar 2016 04:42:15 -0800 (PST)
Received: by 10.55.10.7 with HTTP; Wed, 9 Mar 2016 04:42:15 -0800 (PST)
In-Reply-To: <CAKQ1sVMWn5qPp2bcgeNbYh2MKLj-cdT_g4YzdXZV8vvfgS7XpQ@mail.gmail.com>
References: <20150925062905.CCD863A01E3@svn01-us-west.apache.org>
	<CAKQ1sVMWn5qPp2bcgeNbYh2MKLj-cdT_g4YzdXZV8vvfgS7XpQ@mail.gmail.com>
Date: Wed, 9 Mar 2016 13:42:15 +0100
Message-ID: <CAKQ1sVOwedz3RTeCP2vNSfTcbhWb3TbkhgKeS7ex+apegVgNCA@mail.gmail.com>
Subject: Re: svn commit: r1705217 - in /httpd/httpd/trunk: CHANGES server/util_script.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 9, 2016 at 1:13 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Fri, Sep 25, 2015 at 8:29 AM,  <gsmith@apache.org> wrote:
>> Author: gsmith
>> Date: Fri Sep 25 06:29:05 2015
>> New Revision: 1705217
>>
>> URL: http://svn.apache.org/viewvc?rev=1705217&view=rev
>> Log:
>> core/util_script: relax alphanumeric filter of enviroment variable names
>> on Windows to allow '(' and ')' for passing PROGRAMFILES(X86) et.al.
>> unadulterated in 64 bit versions of Windows. PR 46751.
>
> Can one define functions in environment variables on Windows (and if
> so is the parenthesis in the place)?
> I don't think so, but not very aware of Windows things either, thus
> prefer to ask wrt CVE-2014-6271...
>
> What about MinGW or any unix-like shell ported on Windows (which could
> be used as CGI)?

It seems we didn't do anything about CVE-2014-6271 et.al. anyway (bash
issue), still I find this permissive env names quite dubious...
Btw, SGIs that really care about these vars could use PROGRAMFILES_X86_ already.

From dev-return-85824-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  9 12:53:18 2016
Return-Path: <dev-return-85824-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CF4AA19D05
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  9 Mar 2016 12:53:18 +0000 (UTC)
Received: (qmail 82697 invoked by uid 500); 9 Mar 2016 12:53:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 82628 invoked by uid 500); 9 Mar 2016 12:53:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82618 invoked by uid 99); 9 Mar 2016 12:53:18 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2016 12:53:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id BDDFA1806D4
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 12:53:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=UOvLpQXW;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=UOvLpQXW
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 6osOPP0bMhGf for <dev@httpd.apache.org>;
	Wed,  9 Mar 2016 12:53:17 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 86F805F640
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 12:53:16 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 2B5C315A0728; Wed,  9 Mar 2016 13:53:16 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457527996; bh=F/mRgS25IH8lMVAUnXa3n/9v+AhdTNzneL/QYmodzFI=;
	h=From:Subject:Date:To:From;
	b=UOvLpQXWlWPkg1JtMKDv8+MeL5iRIpFmCnC5pz1ZwI89qsAWkZi8CnckcPv27YybB
	 nFcOABJE3kEKksZ0EzOLxQGXP7oRYtU+9eIU7esyhHKkA14/VzZ2XRLWkbXNYgSW8w
	 T4hR67drf4j5rSkmLLGlPZuv9Q/uUMqOact5z+V8=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 051B115A0046
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 13:53:15 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457527996; bh=F/mRgS25IH8lMVAUnXa3n/9v+AhdTNzneL/QYmodzFI=;
	h=From:Subject:Date:To:From;
	b=UOvLpQXWlWPkg1JtMKDv8+MeL5iRIpFmCnC5pz1ZwI89qsAWkZi8CnckcPv27YybB
	 nFcOABJE3kEKksZ0EzOLxQGXP7oRYtU+9eIU7esyhHKkA14/VzZ2XRLWkbXNYgSW8w
	 T4hR67drf4j5rSkmLLGlPZuv9Q/uUMqOact5z+V8=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: [VOTE] backport mod_proxy_http2 to 2.4.x as experimental
Message-Id: <8D02D650-C77C-40E3-8D11-28556C5A4F2E@greenbytes.de>
Date: Wed, 9 Mar 2016 13:53:15 +0100
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)

I propose to backport mod_proxy_http2 to 2.4.x as an experimental
module with the same restrictions as mod_http2.

Purpose:
mod_proxy_http2 allows proxy HTTP/2 connections, using its own
h2: and h2c: proxy schemes for the configuration. It expects
the backend to talk HTTP/2 and will not fallback to HTTP/1.1.

When called inside a HTTP/1.1 connection, it will open/reuse
an existing HTTP/2 backend connection for this one request. 

When called inside a HTTP/2 connection, new requests can be 
transferred to an already ongoing backend HTTP/2 connection
for the same master. So, in an ideal case, all concurrent streams
inside one frontend connection are managed to the backend over
a single connection as well.

Status:
The module functions in standard HTTP/2 test scenarios and seems
stable under basic load. Performance is good for small requests
but flow control handling is not good for large responses and 
performance degrades. Collecting feedback from early testers
will be valuable - as was for mod_http2.



From dev-return-85825-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  9 12:54:14 2016
Return-Path: <dev-return-85825-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8099819D0A
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  9 Mar 2016 12:54:14 +0000 (UTC)
Received: (qmail 83991 invoked by uid 500); 9 Mar 2016 12:54:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83920 invoked by uid 500); 9 Mar 2016 12:54:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83910 invoked by uid 99); 9 Mar 2016 12:54:14 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2016 12:54:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id A10D61A0CF0
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 12:54:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=GKXJpvmX;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=GKXJpvmX
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id qSE3lBVhOYh0 for <dev@httpd.apache.org>;
	Wed,  9 Mar 2016 12:54:13 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id D7D725FAD8
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 12:54:12 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 6792715A0728; Wed,  9 Mar 2016 13:54:06 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457528046; bh=qcvkzRzH3JCNh2gJJLDo+AcjFVF97VaBvP/LAfrJyqE=;
	h=From:Subject:Date:To:From;
	b=GKXJpvmXKFU7TE8YJdMhK2z3gbTcRtIaxnJbgFb1+x64m3azf/Zsxkj5qDsNEqnUA
	 LJTDkJGCjY5n0Gsknk6tdtNkMLycrfyRDggarnAGiuzwz9bwOhhhGHN2cXekxRcAkD
	 l8Owq9n8Qc3Dfr8pI4OuEEXftjv1X7QmxvAQcUI4=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 4955C15A0046
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 13:54:06 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457528046; bh=qcvkzRzH3JCNh2gJJLDo+AcjFVF97VaBvP/LAfrJyqE=;
	h=From:Subject:Date:To:From;
	b=GKXJpvmXKFU7TE8YJdMhK2z3gbTcRtIaxnJbgFb1+x64m3azf/Zsxkj5qDsNEqnUA
	 LJTDkJGCjY5n0Gsknk6tdtNkMLycrfyRDggarnAGiuzwz9bwOhhhGHN2cXekxRcAkD
	 l8Owq9n8Qc3Dfr8pI4OuEEXftjv1X7QmxvAQcUI4=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: backport proposal vote
Message-Id: <EA15C349-1C22-4578-967B-D41D27029C0C@greenbytes.de>
Date: Wed, 9 Mar 2016 13:54:06 +0100
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)

I hope this is how it's done...

-Stefan

From dev-return-85826-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  9 14:05:58 2016
Return-Path: <dev-return-85826-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 24E18180FD
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  9 Mar 2016 14:05:58 +0000 (UTC)
Received: (qmail 98633 invoked by uid 500); 9 Mar 2016 14:05:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98530 invoked by uid 500); 9 Mar 2016 14:05:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98515 invoked by uid 99); 9 Mar 2016 14:05:56 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2016 14:05:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 63698C3318
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 14:05:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id hGHG0W84yk9I for <dev@httpd.apache.org>;
	Wed,  9 Mar 2016 14:05:52 +0000 (UTC)
Received: from resqmta-po-07v.sys.comcast.net (resqmta-po-07v.sys.comcast.net [96.114.154.166])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id E9DA45FADB
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 14:05:51 +0000 (UTC)
Received: from resomta-po-08v.sys.comcast.net ([96.114.154.232])
	by resqmta-po-07v.sys.comcast.net with comcast
	id Tq5c1s005516pyw01q5jzU; Wed, 09 Mar 2016 14:05:43 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-08v.sys.comcast.net with comcast
	id Tq5i1s00Y2U0RYt01q5jYk; Wed, 09 Mar 2016 14:05:43 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: [VOTE] backport mod_proxy_http2 to 2.4.x as experimental
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <8D02D650-C77C-40E3-8D11-28556C5A4F2E@greenbytes.de>
Date: Wed, 9 Mar 2016 09:05:42 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <1EC80C7A-D7E5-41CC-8A12-60A231EC253E@jaguNET.com>
References: <8D02D650-C77C-40E3-8D11-28556C5A4F2E@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1457532343;
	bh=66N2OYwIG+3tfPA1sxRSiv9YdCIeG4QMPbQnYkVON2A=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=L/4jxIdEmmvuuj3c9xaNQLhpqaYPYMEESqFGidpKVuFbaBrOHW9mZKFqWL583Rp1f
	 fwJn0gV95UsGudrEsgcLsF39ENMOAP1MUl5HUGvTNWMuqxfP+y4G4mBXMUWa8MMWoP
	 xJgMZMeTw9AcR3dwo83XTJYbjUKMHn8SR6DBeNlwfJpMMyGHbx7yPsUsaMs6FMMfzd
	 kPmtZiXOHlAVGlxRX9OxcIeyP5DTnfmW/MhB/KN6dv8ShxxSFHj63vZwWSW7nXndwx
	 7Qo98Ww3iN8nVhRajxtkkO0t3H6ojuyZsFMLsLfGsDRXfeCkqo5nx43DeGDMHZZ+RS
	 JThuKSl/9xdrA==

Go ahead and propose for backport... it will require 3 +1s
for inclusion.

> On Mar 9, 2016, at 7:53 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
> I propose to backport mod_proxy_http2 to 2.4.x as an experimental
> module with the same restrictions as mod_http2.
>=20
> Purpose:
> mod_proxy_http2 allows proxy HTTP/2 connections, using its own
> h2: and h2c: proxy schemes for the configuration. It expects
> the backend to talk HTTP/2 and will not fallback to HTTP/1.1.
>=20
> When called inside a HTTP/1.1 connection, it will open/reuse
> an existing HTTP/2 backend connection for this one request.=20
>=20
> When called inside a HTTP/2 connection, new requests can be=20
> transferred to an already ongoing backend HTTP/2 connection
> for the same master. So, in an ideal case, all concurrent streams
> inside one frontend connection are managed to the backend over
> a single connection as well.
>=20
> Status:
> The module functions in standard HTTP/2 test scenarios and seems
> stable under basic load. Performance is good for small requests
> but flow control handling is not good for large responses and=20
> performance degrades. Collecting feedback from early testers
> will be valuable - as was for mod_http2.
>=20
>=20


From dev-return-85827-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  9 15:57:23 2016
Return-Path: <dev-return-85827-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D768118A86
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  9 Mar 2016 15:57:23 +0000 (UTC)
Received: (qmail 2024 invoked by uid 500); 9 Mar 2016 15:57:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1941 invoked by uid 500); 9 Mar 2016 15:57:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1926 invoked by uid 99); 9 Mar 2016 15:57:23 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2016 15:57:23 +0000
Received: from gauss.localdomain (v4-86130a44.pool.vitroconnect.de [134.19.10.68])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id CA86C1A010E
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 15:57:22 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 3092E624
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 16:57:21 +0100 (CET)
Subject: Re: svn commit: r1734231 - /httpd/httpd/trunk/include/http_protocol.h
To: dev@httpd.apache.org
References: <20160309123905.117263A0052@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56E047E1.1060102@apache.org>
Date: Wed, 9 Mar 2016 16:57:21 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <20160309123905.117263A0052@svn01-us-west.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/09/2016 01:39 PM, icing@apache.org wrote:
> Author: icing
> Date: Wed Mar  9 12:39:04 2016
> New Revision: 1734231
> 
> URL: http://svn.apache.org/viewvc?rev=1734231&view=rev
> Log:
> added AP_DECLARE for new ap_create_request
> 
> Modified:
>     httpd/httpd/trunk/include/http_protocol.h
> 
> Modified: httpd/httpd/trunk/include/http_protocol.h
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/include/http_protocol.h?rev=1734231&r1=1734230&r2=1734231&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/include/http_protocol.h (original)
> +++ httpd/httpd/trunk/include/http_protocol.h Wed Mar  9 12:39:04 2016
> @@ -58,7 +58,7 @@ AP_DECLARE_DATA extern ap_filter_rec_t *
>   * @param c The current connection
>   * @return The new request_rec
>   */
> -request_rec *ap_create_request(conn_rec *c);
> +AP_DECLARE(request_rec *) ap_create_request(conn_rec *c);
>  
>  /**
>   * Read a request and fill in the fields.
> 
> 
> 

Don't we need to do this in server/protocol.c as well?

Regards

Rdiger

From dev-return-85828-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  9 16:10:05 2016
Return-Path: <dev-return-85828-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 59ACF18B9D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  9 Mar 2016 16:10:05 +0000 (UTC)
Received: (qmail 65774 invoked by uid 500); 9 Mar 2016 16:10:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65703 invoked by uid 500); 9 Mar 2016 16:10:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65693 invoked by uid 99); 9 Mar 2016 16:10:04 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2016 16:10:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 3BB70C0C99
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 16:10:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=T845/q4s;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=T845/q4s
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id snGkPII30mV9 for <dev@httpd.apache.org>;
	Wed,  9 Mar 2016 16:10:02 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id C45E95F3FF
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 16:10:01 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 30E3715A0B68; Wed,  9 Mar 2016 17:10:01 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457539801; bh=R05mTxZ78PFoJZV8MtZDD4OMvoJ/kNltwZKkOuvhxlY=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=T845/q4srkA+4uWOn4MMk8VWHjlzXnISF+Wd7BhpjygcQG4NIqDw9zvsppu987Dsn
	 6e8q30fBOMaBHGSEOIV2I1WWA/pq5FiEcbBLzOQV+eZx+DSVedytNwMwekmJOPQ8Tk
	 kC/RytDm30cHGuGDh1H7iHYlB2TFqOHBm43CBEZY=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 03FF815A0B47
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 17:10:01 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457539801; bh=R05mTxZ78PFoJZV8MtZDD4OMvoJ/kNltwZKkOuvhxlY=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=T845/q4srkA+4uWOn4MMk8VWHjlzXnISF+Wd7BhpjygcQG4NIqDw9zvsppu987Dsn
	 6e8q30fBOMaBHGSEOIV2I1WWA/pq5FiEcbBLzOQV+eZx+DSVedytNwMwekmJOPQ8Tk
	 kC/RytDm30cHGuGDh1H7iHYlB2TFqOHBm43CBEZY=
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1734231 - /httpd/httpd/trunk/include/http_protocol.h
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56E047E1.1060102@apache.org>
Date: Wed, 9 Mar 2016 17:10:00 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <A1BC08CC-04FF-4B13-8F0D-B1A757EE1692@greenbytes.de>
References: <20160309123905.117263A0052@svn01-us-west.apache.org> <56E047E1.1060102@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

You are correct. Fixed in r1734281.

> Am 09.03.2016 um 16:57 schrieb Ruediger Pluem <rpluem@apache.org>:
>=20
>=20
>=20
> On 03/09/2016 01:39 PM, icing@apache.org wrote:
>> Author: icing
>> Date: Wed Mar  9 12:39:04 2016
>> New Revision: 1734231
>>=20
>> URL: http://svn.apache.org/viewvc?rev=3D1734231&view=3Drev
>> Log:
>> added AP_DECLARE for new ap_create_request
>>=20
>> Modified:
>>    httpd/httpd/trunk/include/http_protocol.h
>>=20
>> Modified: httpd/httpd/trunk/include/http_protocol.h
>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/include/http_protocol.h?rev=
=3D1734231&r1=3D1734230&r2=3D1734231&view=3Ddiff
>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>> --- httpd/httpd/trunk/include/http_protocol.h (original)
>> +++ httpd/httpd/trunk/include/http_protocol.h Wed Mar  9 12:39:04 =
2016
>> @@ -58,7 +58,7 @@ AP_DECLARE_DATA extern ap_filter_rec_t *
>>  * @param c The current connection
>>  * @return The new request_rec
>>  */
>> -request_rec *ap_create_request(conn_rec *c);
>> +AP_DECLARE(request_rec *) ap_create_request(conn_rec *c);
>>=20
>> /**
>>  * Read a request and fill in the fields.
>>=20
>>=20
>>=20
>=20
> Don't we need to do this in server/protocol.c as well?
>=20
> Regards
>=20
> R=C3=BCdiger


From dev-return-85829-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  9 16:44:37 2016
Return-Path: <dev-return-85829-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C7C7318DA2
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  9 Mar 2016 16:44:37 +0000 (UTC)
Received: (qmail 88730 invoked by uid 500); 9 Mar 2016 16:44:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88652 invoked by uid 500); 9 Mar 2016 16:44:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88643 invoked by uid 99); 9 Mar 2016 16:44:37 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2016 16:44:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E7D68C35B3
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 16:44:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 8vZ_DCPie2yk for <dev@httpd.apache.org>;
	Wed,  9 Mar 2016 16:44:36 +0000 (UTC)
Received: from boipeva.ensmp.fr (boipeva.ensmp.fr [194.214.158.136])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id DA30E5FB17
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 16:44:35 +0000 (UTC)
Received: from cri.ensmp.fr (152.200.219.88.rev.sfr.net [88.219.200.152])
	(authenticated bits=0)
	by boipeva.ensmp.fr (8.15.2/8.15.1/JMMC-22/Oct/2013) with ESMTPSA id u29GiRR0014492
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Wed, 9 Mar 2016 17:44:28 +0100
Date: Wed, 9 Mar 2016 17:44:26 +0100 (CET)
From: fabien@apache.org
X-X-Sender: fabien@sto
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Subject: Re: [VOTE] access control for dynamic hosts
In-Reply-To: <alpine.DEB.2.10.1603060800330.11128@sto>
Message-ID: <alpine.DEB.2.10.1603091742580.25393@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto> <alpine.DEB.2.10.1601140936560.28426@sto> <CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com> <alpine.DEB.2.10.1603011545040.18133@sto> <CALK=YjOv-3FxaSULNF5myB_E5S=Pun=p-113sucVO+RsQ1UC4w@mail.gmail.com>
 <alpine.DEB.2.10.1603060800330.11128@sto>
User-Agent: Alpine 2.10 (DEB 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Miltered: at boipeva.ensmp.fr with ID 56E052EB.001 by Joe's j-chkmail (http : // j-chkmail dot ensmp dot fr)!
X-j-chkmail-Auth: USER-ID fabien.coelho
X-j-chkmail-Enveloppe: 56E052EB.001 from 152.200.219.88.rev.sfr.net/152.200.219.88.rev.sfr.net/88.219.200.152/cri.ensmp.fr/<fabien@apache.org>


> I'm proposing to commit the patch if I'm given a go.

Currently 2 votes:

+1: Mario Brandt, Yann Ylavic

-- 
Fabien.

From dev-return-85830-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  9 16:53:20 2016
Return-Path: <dev-return-85830-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C040D18E26
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  9 Mar 2016 16:53:20 +0000 (UTC)
Received: (qmail 37319 invoked by uid 500); 9 Mar 2016 16:53:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37241 invoked by uid 500); 9 Mar 2016 16:53:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37208 invoked by uid 99); 9 Mar 2016 16:53:19 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2016 16:53:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 8B87A1A0677
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 16:53:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=II/ixX8l;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=II/ixX8l
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id RVu8DHuYcEdG for <dev@httpd.apache.org>;
	Wed,  9 Mar 2016 16:53:17 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 7C8345F33D
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 16:53:17 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id B28DC15A0B68; Wed,  9 Mar 2016 17:53:15 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457542395; bh=KqR7fFJx10e3nSDs/WwiAVE6bMNDcRfNJGpXgutDl7o=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=II/ixX8ljACFQbR3SIrfwPEUkuaBmNemghz72p4dtreEkMrrwXg7Lbn0J48dufaM+
	 DoKE4/Zih3OTSyQrbe2ESPAqwtKXhKEUbjzUcz6zyUqfBW1byYBNSseqAVY8rEDMWi
	 fTWowVY8Su5hFeFz3dX6r/QYWoCwGfTqSq7VCP+8=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 2959215A0582
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 17:53:15 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457542395; bh=KqR7fFJx10e3nSDs/WwiAVE6bMNDcRfNJGpXgutDl7o=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=II/ixX8ljACFQbR3SIrfwPEUkuaBmNemghz72p4dtreEkMrrwXg7Lbn0J48dufaM+
	 DoKE4/Zih3OTSyQrbe2ESPAqwtKXhKEUbjzUcz6zyUqfBW1byYBNSseqAVY8rEDMWi
	 fTWowVY8Su5hFeFz3dX6r/QYWoCwGfTqSq7VCP+8=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Add ?? mod_proxy_http2 for NetWare build - Take 1
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56DA0490.6030408@gknw.net>
Date: Wed, 9 Mar 2016 17:53:15 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <74ADB86D-4030-4381-BAF7-1FB36E446157@greenbytes.de>
References: <56DA0490.6030408@gknw.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Applied to trunk in r1734286.=20

> Am 04.03.2016 um 22:56 schrieb NormW <normw@gknw.net>:
>=20
> G/M,
> The attached patch and NWGNUproxyht2 builds the (trunk) =
mod_proxy_http2 module BUT does include some AS YET unapproved minor =
tweaks in the two proxy_http2 source files.
>=20
> Norm
> <trunk_modules_http2_proxy.diff><NWGNUproxyht2.txt>


From dev-return-85831-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  9 16:56:53 2016
Return-Path: <dev-return-85831-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F362E18E4F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  9 Mar 2016 16:56:52 +0000 (UTC)
Received: (qmail 50472 invoked by uid 500); 9 Mar 2016 16:56:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50408 invoked by uid 500); 9 Mar 2016 16:56:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50398 invoked by uid 99); 9 Mar 2016 16:56:52 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2016 16:56:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C20831A103B
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 16:56:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ZO0TvVx1lkwn for <dev@httpd.apache.org>;
	Wed,  9 Mar 2016 16:56:49 +0000 (UTC)
Received: from mail-qg0-f44.google.com (mail-qg0-f44.google.com [209.85.192.44])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 60F215FAD8
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 16:56:49 +0000 (UTC)
Received: by mail-qg0-f44.google.com with SMTP id u110so46653205qge.3
        for <dev@httpd.apache.org>; Wed, 09 Mar 2016 08:56:49 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=isp0DQ5I9mK8k6N/3CmAZZp6XfUT6OrHIO8Jw91pSEw=;
        b=s53ntca/4fWwYzPudI1UYG87O2vndkFwdQg3wSEbbHJfzSWPIGRFeTMoKZbkiXbcB7
         vqqLlJPhAORXXAG6soDEWl95CJ/l9JIBKBy0+mxvhLJIJ5CNemE+ZBsFoYTWLguGgStM
         d+Sab8ScoAGxKBeaL1KquP/qGaywNe+1hNlcXdkBfm8kQt7iszKiZf7h9M11GfsVRvPb
         gYaxZjV3Ub2rf1AY1eGxDFZpR2HrilRhp5hePN9/SinKv8si/9YPpf2qwui57ZO594NM
         lf1fIWxAihue5GaQIiLEY3u5iA/3ozgvRL+X/BL0W9QOF4Ev78S8kXCNyRbhxVuebs+K
         SH3Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=isp0DQ5I9mK8k6N/3CmAZZp6XfUT6OrHIO8Jw91pSEw=;
        b=MfNraSaK7CIph4vE6HwkcJ7VNstgY1/49I0QHX+b98JQ6NTU0NYZcmQztkQqxCUeg/
         UdPktx3+6HZldj7Ki75YVp2mRMsaJl3eWG2bLuP9/qCzl9aQbeZDHBiSVF0VS78BKcfP
         g4gyw++Ouuk/Ojnr2txBI4Lxm0m80PJ7MaYCsaQqcZrtp1u7eBs0u5o0K1ktt9hb+KbL
         U7LlbeIRSq+dzpGCwOvWSK+M9uH4m9jYi0S1wZC57lB62iB/b2nYanuk6FU4TqhwnBHu
         ZTwI89DapsxeHtUlf7CMFch/yNPMMUJPJjH0jhU6QwKg1tor0kr2OWaDfRuXahkS9KzM
         wMqg==
X-Gm-Message-State: AD7BkJLZuzLKOjNfutV3ZHV3jEjc9flr0fndKkt7uJD0/OH6i2pRJngrysRM762cve2DgSP9oQE2/06PYDCrZA==
MIME-Version: 1.0
X-Received: by 10.140.166.6 with SMTP id m6mr48071357qhm.70.1457542603399;
 Wed, 09 Mar 2016 08:56:43 -0800 (PST)
Received: by 10.55.10.7 with HTTP; Wed, 9 Mar 2016 08:56:43 -0800 (PST)
In-Reply-To: <alpine.DEB.2.10.1603091742580.25393@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto>
	<alpine.DEB.2.10.1601140936560.28426@sto>
	<CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com>
	<alpine.DEB.2.10.1603011545040.18133@sto>
	<CALK=YjOv-3FxaSULNF5myB_E5S=Pun=p-113sucVO+RsQ1UC4w@mail.gmail.com>
	<alpine.DEB.2.10.1603060800330.11128@sto>
	<alpine.DEB.2.10.1603091742580.25393@sto>
Date: Wed, 9 Mar 2016 17:56:43 +0100
Message-ID: <CAKQ1sVOTT55LVYt_PSUQq5wT1WWobSRgULUNGY8bwjL7C9_Z0A@mail.gmail.com>
Subject: Re: [VOTE] access control for dynamic hosts
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi Fabien,

On Wed, Mar 9, 2016 at 5:44 PM,  <fabien@apache.org> wrote:
>
> Currently 2 votes:
>
> +1: Mario Brandt, Yann Ylavic

I think you can go ahead, trunk is in CTR (Commit Then Review) mode.
You may have more feedbacks when done...

Regards,
Yann.

From dev-return-85832-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  9 21:21:39 2016
Return-Path: <dev-return-85832-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 516DB190EF
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  9 Mar 2016 21:21:39 +0000 (UTC)
Received: (qmail 87873 invoked by uid 500); 9 Mar 2016 21:21:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 87794 invoked by uid 500); 9 Mar 2016 21:21:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87783 invoked by uid 99); 9 Mar 2016 21:21:33 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2016 21:21:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 5874FC0EB1
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 21:21:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.801
X-Spam-Level:
X-Spam-Status: No, score=-0.801 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=gbiv.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 2ygafWMerl53 for <dev@httpd.apache.org>;
	Wed,  9 Mar 2016 21:21:32 +0000 (UTC)
Received: from homiemail-a97.g.dreamhost.com (sub4.mail.dreamhost.com [69.163.253.135])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id BA02A5F33D
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 21:21:31 +0000 (UTC)
Received: from homiemail-a97.g.dreamhost.com (localhost [127.0.0.1])
	by homiemail-a97.g.dreamhost.com (Postfix) with ESMTP id 60E3E2860A0
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 13:21:22 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed; d=gbiv.com; h=from
	:content-type:content-transfer-encoding:subject:date:references
	:to:message-id:mime-version; s=gbiv.com; bh=sHfx69WVbMmWDcbJsTkP
	a+S2Iyk=; b=G2DVwOaRiKT181vi7VBwlNYnrxQDsn+GTgwn0Ov+H0duNpF16MtJ
	TGesK4cboX/OPxwyG7hLeFwRpSDP3ayxUAK3j2JEhdu8+wAW89gGJkMY3P9ByomY
	JE6eqm9XcHwO8X4JjOHhAN6w59ROEtULcnOe6EhvzZgtXytqVYzS610=
Received: from [192.168.1.2] (ip68-228-71-159.oc.oc.cox.net [68.228.71.159])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	(Authenticated sender: fielding@gbiv.com)
	by homiemail-a97.g.dreamhost.com (Postfix) with ESMTPSA id 86F7328608E
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 13:21:20 -0800 (PST)
From: "Roy T. Fielding" <fielding@gbiv.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: Fwd: RFC 7804 on Salted Challenge Response HTTP Authentication Mechanism
Date: Wed, 9 Mar 2016 13:21:16 -0800
References: <20160309190155.C474D180452@rfc-editor.org>
To: dev <dev@httpd.apache.org>
Message-Id: <9ABADD37-B913-45E5-B89D-D0272438DC66@gbiv.com>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
X-Mailer: Apple Mail (2.2104)

For folks looking for a new feature to develop,

....Roy


> Begin forwarded message:
>=20
> From: rfc-editor@rfc-editor.org
> Subject: RFC 7804 on Salted Challenge Response HTTP Authentication =
Mechanism
> Date: March 9, 2016 at 11:01:55 AM PST
> To: ietf-announce@ietf.org, rfc-dist@rfc-editor.org
> Cc: drafts-update-ref@iana.org, http-auth@ietf.org, =
rfc-editor@rfc-editor.org
> Reply-To: ietf@ietf.org
> List-Archive: =
<https://mailarchive.ietf.org/arch/browse/ietf-announce/>
>=20
> A new Request for Comments is now available in online RFC libraries.
>=20
>=20
>        RFC 7804
>=20
>        Title:      Salted Challenge Response HTTP Authentication=20
>                    Mechanism=20
>        Author:     A. Melnikov
>        Status:     Experimental
>        Stream:     IETF
>        Date:       March 2016
>        Mailbox:    alexey.melnikov@isode.com
>        Pages:      18
>        Characters: 39440
>        Updates/Obsoletes/SeeAlso:   None
>=20
>        I-D Tag:    draft-ietf-httpauth-scram-auth-15.txt
>=20
>        URL:        https://www.rfc-editor.org/info/rfc7804
>=20
>        DOI:        http://dx.doi.org/10.17487/RFC7804
>=20
> This specification describes a family of HTTP authentication
> mechanisms called the Salted Challenge Response Authentication
> Mechanism (SCRAM), which provides a more robust authentication
> mechanism than a plaintext password protected by Transport Layer
> Security (TLS) and avoids the deployment obstacles presented by
> earlier TLS-protected challenge response authentication mechanisms.
>=20
> This document is a product of the Hypertext Transfer Protocol =
Authentication Working Group of the IETF.
>=20
>=20
> EXPERIMENTAL: This memo defines an Experimental Protocol for the
> Internet community.  It does not specify an Internet standard of any
> kind. Discussion and suggestions for improvement are requested.
> Distribution of this memo is unlimited.
>=20
> This announcement is sent to the IETF-Announce and rfc-dist lists.
> To subscribe or unsubscribe, see
>  https://www.ietf.org/mailman/listinfo/ietf-announce
>  https://mailman.rfc-editor.org/mailman/listinfo/rfc-dist
>=20
> For searching the RFC series, see https://www.rfc-editor.org/search
> For downloading RFCs, see https://www.rfc-editor.org/retrieve/bulk
>=20
> Requests for special distribution should be addressed to either the
> author of the RFC in question, or to rfc-editor@rfc-editor.org.  =
Unless
> specifically noted otherwise on the RFC itself, all RFCs are for
> unlimited distribution.
>=20
>=20
> The RFC Editor Team
> Association Management Solutions, LLC
>=20
>=20


From dev-return-85833-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  9 22:45:07 2016
Return-Path: <dev-return-85833-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E1B4A19595
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  9 Mar 2016 22:45:06 +0000 (UTC)
Received: (qmail 57988 invoked by uid 500); 9 Mar 2016 22:45:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57911 invoked by uid 500); 9 Mar 2016 22:45:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57901 invoked by uid 99); 9 Mar 2016 22:45:06 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Mar 2016 22:45:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 033471A0664
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 22:45:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.079
X-Spam-Level: **
X-Spam-Status: No, score=2.079 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, KAM_LAZY_DOMAIN_SECURITY=1,
	PLING_QUERY=0.279, RCVD_IN_DNSWL_NONE=-0.0001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Usjv2FZzi0LK for <dev@httpd.apache.org>;
	Wed,  9 Mar 2016 22:45:03 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 337695FAC8
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 22:45:02 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 89C6522E8A
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 23:45:00 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aJgXQd840AAu for <dev@httpd.apache.org>;
	Wed,  9 Mar 2016 23:45:00 +0100 (CET)
Received: from [10.0.0.1] (CPE-121-217-27-139.lnse1.cht.bigpond.net.au [121.217.27.139])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 3F70622E89
	for <dev@httpd.apache.org>; Wed,  9 Mar 2016 23:44:58 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: Add ?? mod_proxy_http2 for NetWare build - Take 3 - Very close now!
Message-ID: <56E0A75D.6040701@gknw.net>
Date: Thu, 10 Mar 2016 09:44:45 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: multipart/mixed;
 boundary="------------050102070509010101000800"

This is a multi-part message in MIME format.
--------------050102070509010101000800
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/M
Thanks Stefan for all the help so far.
A build of httpd-trunk this morning shows the followning tweaks are 
still required:

- The additional exports in the two NWGNU files are for recent changes 
to mod_proxy_http2;
- The httpd_module export is already included in mod_http2.imp and neeed 
not be in the list also;
- By means unknown the
> -	@$(OBJDIR)/mod_http2.imp \
acquired 4+ trailing spaces after the backslash character and thus Make 
would ignore the backslash and spit the dummy on the following line;
- mod_proxy_http2.c still needs the double quotes tweak.

> Index: modules/http2/NWGNUmod_http2
> ===================================================================
> --- modules/http2/NWGNUmod_http2	(revision 1734307)
> +++ modules/http2/NWGNUmod_http2	(working copy)
> @@ -260,8 +260,7 @@
>  # Any symbols exported to here
>  #
>  FILES_nlm_exports = \
> -	http2_module \
> -	@$(OBJDIR)/mod_http2.imp \
> +	@$(OBJDIR)/mod_http2.imp \
>  	$(EOLIST)
>
>  #
> @@ -370,6 +369,7 @@
>  	@echo $(DL) h2_iq_add,$(DL) >> $@
>  	@echo $(DL) h2_iq_create,$(DL) >> $@
>  	@echo $(DL) h2_iq_remove,$(DL) >> $@
> +	@echo $(DL) h2_log2,$(DL) >> $@
>  	@echo $(DL) h2_proxy_res_ignore_header,$(DL) >> $@
>  	@echo $(DL) h2_request_create,$(DL) >> $@
>  	@echo $(DL) h2_request_make,$(DL) >> $@
> @@ -379,6 +379,7 @@
>  	@echo $(DL) nghttp2_is_fatal,$(DL) >> $@
>  	@echo $(DL) nghttp2_option_del,$(DL) >> $@
>  	@echo $(DL) nghttp2_option_new,$(DL) >> $@
> +	@echo $(DL) nghttp2_option_set_no_auto_window_update,$(DL) >> $@
>  	@echo $(DL) nghttp2_option_set_peer_max_concurrent_streams,$(DL) >> $@
>  	@echo $(DL) nghttp2_session_callbacks_del,$(DL) >> $@
>  	@echo $(DL) nghttp2_session_callbacks_new,$(DL) >> $@
> Index: modules/http2/mod_proxy_http2.c
> ===================================================================
> --- modules/http2/mod_proxy_http2.c	(revision 1734307)
> +++ modules/http2/mod_proxy_http2.c	(working copy)
> @@ -17,7 +17,7 @@
>
>  #include <httpd.h>
>  #include <mod_proxy.h>
> -#include <mod_http2.h>
> +#include "mod_http2.h"
>
>
>  #include "mod_proxy_http2.h"
> Index: modules/http2/NWGNUproxyht2
> ===================================================================
> --- modules/http2/NWGNUproxyht2	(revision 1734307)
> +++ modules/http2/NWGNUproxyht2	(working copy)
> @@ -237,6 +237,7 @@
>  	ap_proxy_port_of_scheme \
>  	ap_proxy_release_connection \
>  	ap_proxy_ssl_connection_cleanup \
> +	ap_sock_disable_nagle \
>  	proxy_hook_canon_handler \
>  	proxy_hook_scheme_handler \
>  	proxy_module \

--------------050102070509010101000800
Content-Type: text/x-patch;
 name="trunk_modules_http2_proxy3.diff"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="trunk_modules_http2_proxy3.diff"

Index: modules/http2/NWGNUmod_http2
===================================================================
--- modules/http2/NWGNUmod_http2	(revision 1734307)
+++ modules/http2/NWGNUmod_http2	(working copy)
@@ -260,8 +260,7 @@
 # Any symbols exported to here
 #
 FILES_nlm_exports = \
-	http2_module \
-	@$(OBJDIR)/mod_http2.imp \        
+	@$(OBJDIR)/mod_http2.imp \
 	$(EOLIST)
 
 #
@@ -370,6 +369,7 @@
 	@echo $(DL) h2_iq_add,$(DL) >> $@
 	@echo $(DL) h2_iq_create,$(DL) >> $@
 	@echo $(DL) h2_iq_remove,$(DL) >> $@
+	@echo $(DL) h2_log2,$(DL) >> $@
 	@echo $(DL) h2_proxy_res_ignore_header,$(DL) >> $@
 	@echo $(DL) h2_request_create,$(DL) >> $@
 	@echo $(DL) h2_request_make,$(DL) >> $@
@@ -379,6 +379,7 @@
 	@echo $(DL) nghttp2_is_fatal,$(DL) >> $@
 	@echo $(DL) nghttp2_option_del,$(DL) >> $@
 	@echo $(DL) nghttp2_option_new,$(DL) >> $@
+	@echo $(DL) nghttp2_option_set_no_auto_window_update,$(DL) >> $@
 	@echo $(DL) nghttp2_option_set_peer_max_concurrent_streams,$(DL) >> $@
 	@echo $(DL) nghttp2_session_callbacks_del,$(DL) >> $@
 	@echo $(DL) nghttp2_session_callbacks_new,$(DL) >> $@
Index: modules/http2/mod_proxy_http2.c
===================================================================
--- modules/http2/mod_proxy_http2.c	(revision 1734307)
+++ modules/http2/mod_proxy_http2.c	(working copy)
@@ -17,7 +17,7 @@
 
 #include <httpd.h>
 #include <mod_proxy.h>
-#include <mod_http2.h>
+#include "mod_http2.h"
 
 
 #include "mod_proxy_http2.h"
Index: modules/http2/NWGNUproxyht2
===================================================================
--- modules/http2/NWGNUproxyht2	(revision 1734307)
+++ modules/http2/NWGNUproxyht2	(working copy)
@@ -237,6 +237,7 @@
 	ap_proxy_port_of_scheme \
 	ap_proxy_release_connection \
 	ap_proxy_ssl_connection_cleanup \
+	ap_sock_disable_nagle \
 	proxy_hook_canon_handler \
 	proxy_hook_scheme_handler \
 	proxy_module \

--------------050102070509010101000800--

From dev-return-85834-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 10 06:45:20 2016
Return-Path: <dev-return-85834-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9E0AD18794
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 10 Mar 2016 06:45:20 +0000 (UTC)
Received: (qmail 67847 invoked by uid 500); 10 Mar 2016 06:45:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67778 invoked by uid 500); 10 Mar 2016 06:45:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67769 invoked by uid 99); 10 Mar 2016 06:45:19 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2016 06:45:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 8AD2FC035D
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 06:45:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id vhYNcA5Lr7BJ for <dev@httpd.apache.org>;
	Thu, 10 Mar 2016 06:45:18 +0000 (UTC)
Received: from jiboia.ensmp.fr (jiboia.ensmp.fr [194.214.158.137])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTP id 756B85F3FF
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 06:45:18 +0000 (UTC)
Received: from cri.ensmp.fr (152.200.219.88.rev.sfr.net [88.219.200.152])
	(authenticated bits=0)
	by jiboia.ensmp.fr (8.15.2/8.15.1/JMMC-22/Oct/2013) with ESMTPSA id u2A6jAYJ029502
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 07:45:11 +0100
Date: Thu, 10 Mar 2016 07:45:08 +0100 (CET)
From: fabien@apache.org
X-X-Sender: fabien@sto
To: httpd-dev <dev@httpd.apache.org>
Subject: Re: [VOTE] access control for dynamic hosts
In-Reply-To: <CAKQ1sVOTT55LVYt_PSUQq5wT1WWobSRgULUNGY8bwjL7C9_Z0A@mail.gmail.com>
Message-ID: <alpine.DEB.2.10.1603100740330.25393@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto> <alpine.DEB.2.10.1601140936560.28426@sto> <CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com> <alpine.DEB.2.10.1603011545040.18133@sto> <CALK=YjOv-3FxaSULNF5myB_E5S=Pun=p-113sucVO+RsQ1UC4w@mail.gmail.com>
 <alpine.DEB.2.10.1603060800330.11128@sto> <alpine.DEB.2.10.1603091742580.25393@sto> <CAKQ1sVOTT55LVYt_PSUQq5wT1WWobSRgULUNGY8bwjL7C9_Z0A@mail.gmail.com>
User-Agent: Alpine 2.10 (DEB 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; format=flowed; charset=US-ASCII
X-Miltered: at jiboia.ensmp.fr with ID 56E117F6.000 by Joe's j-chkmail (http : // j-chkmail dot ensmp dot fr)!
X-j-chkmail-Auth: USER-ID fabien.coelho
X-j-chkmail-Enveloppe: 56E117F6.000 from 152.200.219.88.rev.sfr.net/152.200.219.88.rev.sfr.net/88.219.200.152/cri.ensmp.fr/<fabien@apache.org>


Hello Yann,

>> +1: Mario Brandt, Yann Ylavic
>
> I think you can go ahead, trunk is in CTR (Commit Then Review) mode.

Ok, I'll do a last check and commit soon.

-- 
Fabien.

From dev-return-85835-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 10 09:29:05 2016
Return-Path: <dev-return-85835-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 206DD18DF4
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 10 Mar 2016 09:29:05 +0000 (UTC)
Received: (qmail 5147 invoked by uid 500); 10 Mar 2016 09:29:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5073 invoked by uid 500); 10 Mar 2016 09:29:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5063 invoked by uid 99); 10 Mar 2016 09:29:04 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2016 09:29:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 30F58C1384
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 09:29:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.977
X-Spam-Level:
X-Spam-Status: No, score=0.977 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, PLING_QUERY=0.279, RP_MATCHES_RCVD=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Q/0Lbv2j;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Q/0Lbv2j
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id PkhbZJO5Pe2F for <dev@httpd.apache.org>;
	Thu, 10 Mar 2016 09:29:02 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 6D7905FB50
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 09:29:01 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id A64D715A0C33; Thu, 10 Mar 2016 10:28:54 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457602134; bh=JAOFO+V7yqvlIBNRwXJfTWWEDZfLGVhldufSsGcLUTA=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=Q/0Lbv2jxWM+O2r2rOsmt0NePHdRSxk4+BF95naaG++DEuOSDntl4iq1tiFkzXUYM
	 JYjh5Ye/phFIj4bxVLZGdAOV0QMQ6dN6PzHSCdLW9+9go6KGzQFpcOVCl4fg3Txj26
	 1BHA7tvD1Kj0JPHjxh+SMr2dhbkRO/GkohEg6NWs=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 301ED15A0A22
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 10:28:54 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457602134; bh=JAOFO+V7yqvlIBNRwXJfTWWEDZfLGVhldufSsGcLUTA=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=Q/0Lbv2jxWM+O2r2rOsmt0NePHdRSxk4+BF95naaG++DEuOSDntl4iq1tiFkzXUYM
	 JYjh5Ye/phFIj4bxVLZGdAOV0QMQ6dN6PzHSCdLW9+9go6KGzQFpcOVCl4fg3Txj26
	 1BHA7tvD1Kj0JPHjxh+SMr2dhbkRO/GkohEg6NWs=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Add ?? mod_proxy_http2 for NetWare build - Take 3 - Very close now!
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56E0A75D.6040701@gknw.net>
Date: Thu, 10 Mar 2016 10:28:57 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <FA349F3F-B488-46C5-B28D-7D0BF2892029@greenbytes.de>
References: <56E0A75D.6040701@gknw.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Applied in r1734372.=20

-Stefan

> Am 09.03.2016 um 23:44 schrieb NormW <normw@gknw.net>:
>=20
> G/M
> Thanks Stefan for all the help so far.
> A build of httpd-trunk this morning shows the followning tweaks are =
still required:
>=20
> - The additional exports in the two NWGNU files are for recent changes =
to mod_proxy_http2;
> - The httpd_module export is already included in mod_http2.imp and =
neeed not be in the list also;
> - By means unknown the
>> -	@$(OBJDIR)/mod_http2.imp \
> acquired 4+ trailing spaces after the backslash character and thus =
Make would ignore the backslash and spit the dummy on the following =
line;
> - mod_proxy_http2.c still needs the double quotes tweak.
>=20
>> Index: modules/http2/NWGNUmod_http2
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>> --- modules/http2/NWGNUmod_http2	(revision 1734307)
>> +++ modules/http2/NWGNUmod_http2	(working copy)
>> @@ -260,8 +260,7 @@
>> # Any symbols exported to here
>> #
>> FILES_nlm_exports =3D \
>> -	http2_module \
>> -	@$(OBJDIR)/mod_http2.imp \
>> +	@$(OBJDIR)/mod_http2.imp \
>> 	$(EOLIST)
>>=20
>> #
>> @@ -370,6 +369,7 @@
>> 	@echo $(DL) h2_iq_add,$(DL) >> $@
>> 	@echo $(DL) h2_iq_create,$(DL) >> $@
>> 	@echo $(DL) h2_iq_remove,$(DL) >> $@
>> +	@echo $(DL) h2_log2,$(DL) >> $@
>> 	@echo $(DL) h2_proxy_res_ignore_header,$(DL) >> $@
>> 	@echo $(DL) h2_request_create,$(DL) >> $@
>> 	@echo $(DL) h2_request_make,$(DL) >> $@
>> @@ -379,6 +379,7 @@
>> 	@echo $(DL) nghttp2_is_fatal,$(DL) >> $@
>> 	@echo $(DL) nghttp2_option_del,$(DL) >> $@
>> 	@echo $(DL) nghttp2_option_new,$(DL) >> $@
>> +	@echo $(DL) nghttp2_option_set_no_auto_window_update,$(DL) >> $@
>> 	@echo $(DL) nghttp2_option_set_peer_max_concurrent_streams,$(DL) =
>> $@
>> 	@echo $(DL) nghttp2_session_callbacks_del,$(DL) >> $@
>> 	@echo $(DL) nghttp2_session_callbacks_new,$(DL) >> $@
>> Index: modules/http2/mod_proxy_http2.c
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>> --- modules/http2/mod_proxy_http2.c	(revision 1734307)
>> +++ modules/http2/mod_proxy_http2.c	(working copy)
>> @@ -17,7 +17,7 @@
>>=20
>> #include <httpd.h>
>> #include <mod_proxy.h>
>> -#include <mod_http2.h>
>> +#include "mod_http2.h"
>>=20
>>=20
>> #include "mod_proxy_http2.h"
>> Index: modules/http2/NWGNUproxyht2
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>> --- modules/http2/NWGNUproxyht2	(revision 1734307)
>> +++ modules/http2/NWGNUproxyht2	(working copy)
>> @@ -237,6 +237,7 @@
>> 	ap_proxy_port_of_scheme \
>> 	ap_proxy_release_connection \
>> 	ap_proxy_ssl_connection_cleanup \
>> +	ap_sock_disable_nagle \
>> 	proxy_hook_canon_handler \
>> 	proxy_hook_scheme_handler \
>> 	proxy_module \
> <trunk_modules_http2_proxy3.diff>


From dev-return-85836-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 10 13:37:43 2016
Return-Path: <dev-return-85836-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D46391969E
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 10 Mar 2016 13:37:43 +0000 (UTC)
Received: (qmail 60643 invoked by uid 500); 10 Mar 2016 13:37:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60115 invoked by uid 500); 10 Mar 2016 13:37:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59889 invoked by uid 99); 10 Mar 2016 13:37:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2016 13:37:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 9C4251A06BF
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 13:37:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.5
X-Spam-Level: ***
X-Spam-Status: No, score=3.5 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=2.5,
	RCVD_IN_DNSWL_NONE=-0.0001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id JV8gDCMpSPtH for <dev@httpd.apache.org>;
	Thu, 10 Mar 2016 13:37:38 +0000 (UTC)
Received: from boipeva.ensmp.fr (boipeva.ensmp.fr [194.214.158.136])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id 769265FB46
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 13:37:38 +0000 (UTC)
Received: from cri.ensmp.fr (nat-any-rnt.cri.ensmp.fr [195.83.117.252])
	(authenticated bits=0)
	by boipeva.ensmp.fr (8.15.2/8.15.1/JMMC-22/Oct/2013) with ESMTPSA id u2ADbaau001274
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 14:37:36 +0100
Date: Thu, 10 Mar 2016 14:37:36 +0100 (CET)
From: Fabien <fabien@apache.org>
X-X-Sender: fabien@sto
To: httpd-dev <dev@httpd.apache.org>
Subject: Re: [VOTE] access control for dynamic hosts
In-Reply-To: <CAKQ1sVOTT55LVYt_PSUQq5wT1WWobSRgULUNGY8bwjL7C9_Z0A@mail.gmail.com>
Message-ID: <alpine.DEB.2.10.1603101433460.5901@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto> <alpine.DEB.2.10.1601140936560.28426@sto> <CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com> <alpine.DEB.2.10.1603011545040.18133@sto> <CALK=YjOv-3FxaSULNF5myB_E5S=Pun=p-113sucVO+RsQ1UC4w@mail.gmail.com>
 <alpine.DEB.2.10.1603060800330.11128@sto> <alpine.DEB.2.10.1603091742580.25393@sto> <CAKQ1sVOTT55LVYt_PSUQq5wT1WWobSRgULUNGY8bwjL7C9_Z0A@mail.gmail.com>
User-Agent: Alpine 2.10 (DEB 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Miltered: at boipeva.ensmp.fr with ID 56E178A0.000 by Joe's j-chkmail (http : // j-chkmail dot ensmp dot fr)!
X-j-chkmail-Auth: USER-ID fabien.coelho
X-j-chkmail-Enveloppe: 56E178A0.000 from nat-any-rnt.cri.ensmp.fr/nat-any-rnt.cri.ensmp.fr/195.83.117.252/cri.ensmp.fr/<fabien@apache.org>


>> Currently 2 votes:
>>
>> +1: Mario Brandt, Yann Ylavic
>
> I think you can go ahead, trunk is in CTR (Commit Then Review) mode.

I just committed the changes as r1734412:

https://svn.apache.org/viewvc?view=revision&revision=1734412

-- 
Fabien.

From dev-return-85837-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 10 15:01:43 2016
Return-Path: <dev-return-85837-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E382819A76
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 10 Mar 2016 15:01:43 +0000 (UTC)
Received: (qmail 11999 invoked by uid 500); 10 Mar 2016 15:01:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11930 invoked by uid 500); 10 Mar 2016 15:01:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11920 invoked by uid 99); 10 Mar 2016 15:01:43 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2016 15:01:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id DEE451A0572
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 15:01:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id cyQ5mQT-g3UR for <dev@httpd.apache.org>;
	Thu, 10 Mar 2016 15:01:40 +0000 (UTC)
Received: from mail-wm0-f47.google.com (mail-wm0-f47.google.com [74.125.82.47])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 41AE95F2C3
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 15:01:40 +0000 (UTC)
Received: by mail-wm0-f47.google.com with SMTP id n186so34384032wmn.1
        for <dev@httpd.apache.org>; Thu, 10 Mar 2016 07:01:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=2haN4m2lhR9ELkR4w15gvuHIg+Xza4Btcm46xjnXBIQ=;
        b=fCb6sK+vTo9XnDjYCNOd4mn18cl2Cp0Gx6V9toxPxUM00sHJRAEcWCz9JnzYm3lFqu
         Tx0cUvZWOuZ7m598ho++g88tpdkRjZYjKCQ8XGiZ+sy4nEAogfAGQn+Kkf1YAw/tu4XG
         uiZvRNMK8jqzogEPeppyJ2LZc7ij4+IfQhDDEjoGqiE0ZVam4ojrGuEADDf+47+yT7Xb
         DuWKaOv2QP6Ll4mkI9QZUFrR2gMcvLRit1seMp2pL2Qm5EV0v2++pWvlJjCBOF6GQ1Gg
         2ezwpbfqHyup2MQK+6PIa1VksPaGosMwekbRY7PwfYKWnZ5I4h0hG7x9PkSfShjuWf+K
         OFRA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=2haN4m2lhR9ELkR4w15gvuHIg+Xza4Btcm46xjnXBIQ=;
        b=M7KlZj+IJilrQfwdLdtsaMd6urFanF9X0BenZQ2uW+VZsq/darMcTr9EDeRb4oHG8L
         iN//prUBU6IJa56CNxZ7uUeW2uD+LV3NDcyv4eHl3KSzpJH3/ddrTfUF4Vnv6Eq9bl+n
         ronfzLxpZolAmsNh7N59hHVPvit4kUknmf9w/PtucEa26nRth44bOq1KyV47DFwnG2sz
         2r3qb9K1t9sSfgIS8J/rpx69/kvlth0bA91j2mUumZiaUZZUrG7VbDjP5juE2QUUvewA
         82HJMu3oUMgijfnxd31w8JNvIn5fYF3eftzgtpRCI1ZMfZzTeO/8BZr+8ST+RSDE1wVt
         4stw==
X-Gm-Message-State: AD7BkJLDHslZoWVUJ3xx2RW6vFcZX6apsgBcKRY2GOwQ5WmKqu5Htmnkoa/c0urWTHdzlF88Sd/gg+076p79tw==
MIME-Version: 1.0
X-Received: by 10.28.73.66 with SMTP id w63mr4624805wma.53.1457622093886; Thu,
 10 Mar 2016 07:01:33 -0800 (PST)
Received: by 10.28.129.78 with HTTP; Thu, 10 Mar 2016 07:01:33 -0800 (PST)
In-Reply-To: <8D02D650-C77C-40E3-8D11-28556C5A4F2E@greenbytes.de>
References: <8D02D650-C77C-40E3-8D11-28556C5A4F2E@greenbytes.de>
Date: Thu, 10 Mar 2016 16:01:33 +0100
Message-ID: <CAA=k7mVR62nLG7+AsgcAeA3=bcSYGzsDpExzHC2B5n1X=+atFA@mail.gmail.com>
Subject: Re: [VOTE] backport mod_proxy_http2 to 2.4.x as experimental
From: Mario Brandt <jblond@gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

+1

On 9 March 2016 at 13:53, Stefan Eissing <stefan.eissing@greenbytes.de> wrote:
> I propose to backport mod_proxy_http2 to 2.4.x as an experimental
> module with the same restrictions as mod_http2.
>
> Purpose:
> mod_proxy_http2 allows proxy HTTP/2 connections, using its own
> h2: and h2c: proxy schemes for the configuration. It expects
> the backend to talk HTTP/2 and will not fallback to HTTP/1.1.
>
> When called inside a HTTP/1.1 connection, it will open/reuse
> an existing HTTP/2 backend connection for this one request.
>
> When called inside a HTTP/2 connection, new requests can be
> transferred to an already ongoing backend HTTP/2 connection
> for the same master. So, in an ideal case, all concurrent streams
> inside one frontend connection are managed to the backend over
> a single connection as well.
>
> Status:
> The module functions in standard HTTP/2 test scenarios and seems
> stable under basic load. Performance is good for small requests
> but flow control handling is not good for large responses and
> performance degrades. Collecting feedback from early testers
> will be valuable - as was for mod_http2.
>
>

From dev-return-85838-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 10 15:48:57 2016
Return-Path: <dev-return-85838-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 963AB19C38
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 10 Mar 2016 15:48:57 +0000 (UTC)
Received: (qmail 64171 invoked by uid 500); 10 Mar 2016 15:48:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64092 invoked by uid 500); 10 Mar 2016 15:48:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64011 invoked by uid 99); 10 Mar 2016 15:48:56 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2016 15:48:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5816E180535
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 15:48:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 6Yitd2gmlXB3 for <dev@httpd.apache.org>;
	Thu, 10 Mar 2016 15:48:55 +0000 (UTC)
Received: from mail-qk0-f182.google.com (mail-qk0-f182.google.com [209.85.220.182])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id ACA555FB0F
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 15:48:54 +0000 (UTC)
Received: by mail-qk0-f182.google.com with SMTP id o6so35947489qkc.2
        for <dev@httpd.apache.org>; Thu, 10 Mar 2016 07:48:54 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to;
        bh=r7/kEXs/ks2vqSc70Jhp3TKDJedCRsh11yjwib9jZlw=;
        b=MogQDeiaKlScEr4EOoa1pEnmI482fbzUTSM1qE7EyiaON7tXsamJcHSQ8BeXO+Iqkv
         NH0iTMZ59VMywMolAzDSs3ml4wVF1lHUpd21TtckqxB0q+duwxtsvsNzHfR3JjSyuiEF
         IppWb76MXZh2lQrKiNVDegow2vorgIaBHMdC/ms8LZ046JkIRXvLBuz9G07sH5AvIE87
         DasGPoovLv459T0Cw/UtR4bGhbqNaTD80uHDHJKHOrrGqCVugwgKT6HPumBYXQOF9fT6
         TNS04OsS6wTJwyi+ylxTVS46gxyzTWY1TgQW3jtRwjEJuhl4cfwhffT2AxYM1iix/JVf
         l0Kg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to;
        bh=r7/kEXs/ks2vqSc70Jhp3TKDJedCRsh11yjwib9jZlw=;
        b=l3SMbokVJIoYP8g24Kc2eeCcFBdhDju4ZlEhh7RslkrO0QXtv9jRFzA6Ml09NvB+QU
         yk/jSFfq857z0bkVO6V/D9OF/pLCyhZz7qozqRna6KYha7xFldkFYJa7ssnZ/bL4Y7yi
         W2txRcwem5qBhrj0cvj7ISue6rU6SFClfIkPk7xQgZZqzQAa48Dc5IteWjfzi+GEVWkZ
         jvOxoRKX1xr60IcKDiY5JEMyM5+NN1JuNbpQqm79wMKnUEOScV4QYdXvqshH1pnJpbbC
         CJaMq664fZLgq1FY3Y+XxbgyiPGdHbiaSKfYCySHbvc96Be9JrY52lPd2Puf/U/fvcoP
         TYnw==
X-Gm-Message-State: AD7BkJItIm0RalKmLMEGm6kLHTPC2AvkPs/RNFDusiCQuBg0S5dqkfoeY9Tq7OFaxbLMuLOgHWOLvAGbVA+EYw==
MIME-Version: 1.0
X-Received: by 10.55.26.86 with SMTP id a83mr4859536qka.79.1457624927931; Thu,
 10 Mar 2016 07:48:47 -0800 (PST)
Received: by 10.55.10.7 with HTTP; Thu, 10 Mar 2016 07:48:47 -0800 (PST)
Date: Thu, 10 Mar 2016 16:48:47 +0100
Message-ID: <CAKQ1sVNhCZcwkD5oDG-K8MY0orLhd_ERNbct8YAMG15RoOLg0Q@mail.gmail.com>
Subject: mod_proxy_http2 questions (was: [VOTE] backport mod_proxy_http2 to
 2.4.x as experimental)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi Stefan,

sorry I didn't look closely enough in mod_proxy_http2's code yet to
answer the following questions by myself, so I'm asking here...

On Wed, Mar 9, 2016 at 1:53 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
>
> When called inside a HTTP/1.1 connection, it will open/reuse
> an existing HTTP/2 backend connection for this one request.
>
> When called inside a HTTP/2 connection, new requests can be
> transferred to an already ongoing backend HTTP/2 connection
> for the same master.

I can follow the request path which traverses the "normal" http/1
hooks/filters (after the http/2 ones in the latter case), but the
response seems to be handled solely in the http2 code.

Am I right to think that any registered request or connection output
filter will get called as usual with an HTTP/1 response?

It may not make much sense for things like mod_deflate (already
integrated in h2) but others like mod_headers/security/third-party
working at the request level would still want to play here...

Also, what about filters registered on the backend connection?
With mod_proxy_http the proxy_create_req hook allows this and for
example I (will) use it in a patch (about to be proposed) to
mod_logio/mod_status for per-vhost counters (rated incoming and
outgoing connections, requests, bytes, TTFB, TTLB, ..., on both the
client and backend sides, implemented with some (new) mod_logio
connection filters).
Since there is no "fake" request_rec used/needed in mod_proxy_http2,
the is no such hook, but I guess there can be one (or even several
more specific to h2, dunno)...
Anyway, that is surely not a primary goal, I'm just thinking out loud here :)

Thanks,
Yann.

From dev-return-85839-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 10 16:38:33 2016
Return-Path: <dev-return-85839-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EDCDA19F47
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 10 Mar 2016 16:38:32 +0000 (UTC)
Received: (qmail 36357 invoked by uid 500); 10 Mar 2016 16:38:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36287 invoked by uid 500); 10 Mar 2016 16:38:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36277 invoked by uid 99); 10 Mar 2016 16:38:31 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2016 16:38:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 76130C237B
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 16:38:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=JWZ+j5Lw;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=W0KmxiEm
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id cT-pRINmPER0 for <dev@httpd.apache.org>;
	Thu, 10 Mar 2016 16:38:28 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 10BD35F56B
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 16:38:28 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 352F815A0C71; Thu, 10 Mar 2016 17:38:26 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457627906; bh=kLu9+8LuZCSCgMNGpNiR4P8FOWyuM2rR2BZx6J0qkbE=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=JWZ+j5Lwq2CHgJcsMNNkHVMitOAPMcbhHOJwOXIUDUrC7R+hQ4lILSe/r64sKma2n
	 ZRlnGgr0HtNyOJp2xHfUVZH0LwWG/gv9zFZ3axGhqewBEQFO9r/4bnCeYfbI5kYU2b
	 sOyUtxUbNqyJqqqT0i1avT/Kbk6O0SVCph13IPgo=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id D8B0315A0361
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 17:38:25 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457627905; bh=kLu9+8LuZCSCgMNGpNiR4P8FOWyuM2rR2BZx6J0qkbE=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=W0KmxiEmuSlMabNrQeakn4Y8d9VXnypvFFLVj2KooAIdci0UGmL3DIfe77FI6ZQph
	 UwmtFOS6gC4PKLOpYKNUTbocZFBMfB5gmcQ9jfleh+MGLAHQ20PGZH2cE45tR+GSt1
	 wIBVhrd6XkodrTI4xWUA3Ynyrv2Hcdsrrhh2OyJM=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_proxy_http2 questions (was: [VOTE] backport mod_proxy_http2 to 2.4.x as experimental)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVNhCZcwkD5oDG-K8MY0orLhd_ERNbct8YAMG15RoOLg0Q@mail.gmail.com>
Date: Thu, 10 Mar 2016 17:38:25 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <720F92C7-6875-40C6-B0B6-B5F594795E2D@greenbytes.de>
References: <CAKQ1sVNhCZcwkD5oDG-K8MY0orLhd_ERNbct8YAMG15RoOLg0Q@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Hi Yann,

thanks for the questions. I'd really love to bounce the idea of my =
implementation
around here, because I hope that I got things right and, since I do not =
know all
corners and hooks in our little product, to get feedback what I have =
overlooked.

Iterative, the Common Case
--------------------------
First, if mod_proxy_http2 is called in a HTTP/1 connection, all should =
be pretty
much the same as for mod_proxy_http. I basically started with that code =
and added
the HTTP/2 session handling in.=20

The HTTP/2 session is allocated with proxy_conn->connection->pool and =
registers
there for shutdown. So when mod_proxy_http2 get called serial for one =
request
after the other, it will find an existing HTTP/2 session on an already =
used
connection and use that again. That is nothing different than the =
HTTP/1.1 case
with some additional state piggy backed on the backend connection.

This was the first iteration of the module.

As to the input/output handling for that request_rec, that is basic =
mod_http2
stuff. The core filters have been replaced with ones that shuffle the =
data
to h2 internal things (mainly through the h2_mplx) and the response =
headers
are taken directly from the request_rec->headers_out. The http2 usual =
way.

Concurrent Handling
-------------------
I was then thinking: how do I get all the concurrent proxy_http2 =
requests to
use the same connection? I was originally thinking about some dort of =
de-mux,
a sort of concentrator that sits on a single connection and communicates =
with
all the worker threads that have proxy requests...

But that would be insane! There would be one worker sitting on the =
master
connection, several workers for each single proxy request and one more
worker that sits on the backend connection. And all the proxy requests=20=

would do is move data from the master connection thread to the backend
one and vice versa. But what we need is just 2 workers: one for the =
master
connection and one for the backend connection. They should handle as =
many
concurrent requests as configured!

Backend Engines
---------------
How can we do that? Let's discuss one master http2 connection with
no proxy request ongoing. The next request which is handled by =
proxy_http2
is the "first" - it sees no other ongoing request against the same=20
backend. It registers itself at the master http2 session for the =
backend.
It performs the request in the usual way, de-registers itself again
and returns. Same as with HTTP/1, plus some registration dance of what
I named a "request engine".

If another worker handles a proxy_http2 request, while the "first"
engine is ongoing, it sees that someone has registered for the backend
that it also needs. What it then does is "hand over" the request_rec
to the "first" engine and immediately returns as if done.

So, the "first" proxy_http2 worker collects all request_recs against
the same backend and continues running until it is out of requests. Then=20=

it also shuts down.

So, while several requests against the same backend are ongoing, there
are two main workers handling it, plus, very shortly, some workers that
create request_recs, find out that they are proxy_http2, hand them over=20=

and return.

So, how do we hand request_recs over to another thread?

Request Transfer
----------------
First of all, the request_recs inside a HTTP/2 connection are all =
created
on top of slave connections and mod_http2 has a tight grip of the =
lifetime
of those connections. So, all that has been allocated from that slave
connection directly will still be there when the mod_proxy handler
returns.

But the request_rec itself and all filters that have been installed
use a child pool and the usual runtime gets rid of that pool at the
end of the request. How does it know that the request has ended? When
the EOR bucket gets destroyed.

So, mod_http2, when handing over request_recs, first *freezes* it
by adding a top output filter that sets all buckets it gets aside. Which
basically is the EOR bucket. It passes nothing on while frozen, so=20
output filters further down never get called at this time.

When the proxy_http2 worker for that request returns, mod_http2
notices the frozen request, thaws it and signals the backend connection
worker that the request is ready for processing. The backend worker
picks it up, handles it and *closes the output* which will write
the buckets set aside before. This will write the EOR and the=20
request deallocates itself. During this time, all the input/output
filter etc. will remain in place and work.

Conclusion, TODOs
-----------------
As to you question re filters on the backend connection: those are
used unchanged. However they will be used for HTTP/2 data and while
the byte counters will do, any request counter will not. I do not
know what else is done there...

Also I have not had the time to look at the logging of such request.
There might be some more work done there.

I hope this give an explanation of how mod_proxy_http2 works
together with mod_http2. If not, please ask. Happy to explain and
get feedback.

Cheers,

Stefan

> Am 10.03.2016 um 16:48 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> Hi Stefan,
>=20
> sorry I didn't look closely enough in mod_proxy_http2's code yet to
> answer the following questions by myself, so I'm asking here...
>=20
> On Wed, Mar 9, 2016 at 1:53 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>>=20
>> When called inside a HTTP/1.1 connection, it will open/reuse
>> an existing HTTP/2 backend connection for this one request.
>>=20
>> When called inside a HTTP/2 connection, new requests can be
>> transferred to an already ongoing backend HTTP/2 connection
>> for the same master.
>=20
> I can follow the request path which traverses the "normal" http/1
> hooks/filters (after the http/2 ones in the latter case), but the
> response seems to be handled solely in the http2 code.
>=20
> Am I right to think that any registered request or connection output
> filter will get called as usual with an HTTP/1 response?
>=20
> It may not make much sense for things like mod_deflate (already
> integrated in h2) but others like mod_headers/security/third-party
> working at the request level would still want to play here...
>=20
> Also, what about filters registered on the backend connection?
> With mod_proxy_http the proxy_create_req hook allows this and for
> example I (will) use it in a patch (about to be proposed) to
> mod_logio/mod_status for per-vhost counters (rated incoming and
> outgoing connections, requests, bytes, TTFB, TTLB, ..., on both the
> client and backend sides, implemented with some (new) mod_logio
> connection filters).
> Since there is no "fake" request_rec used/needed in mod_proxy_http2,
> the is no such hook, but I guess there can be one (or even several
> more specific to h2, dunno)...
> Anyway, that is surely not a primary goal, I'm just thinking out loud =
here :)
>=20
> Thanks,
> Yann.


From dev-return-85840-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 10 21:24:21 2016
Return-Path: <dev-return-85840-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3A586180A5
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 10 Mar 2016 21:24:21 +0000 (UTC)
Received: (qmail 40283 invoked by uid 500); 10 Mar 2016 21:24:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 40204 invoked by uid 500); 10 Mar 2016 21:24:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 40192 invoked by uid 99); 10 Mar 2016 21:24:19 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2016 21:24:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 74D9A1A1186
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 21:24:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id lx8LiNZKKUIb for <dev@httpd.apache.org>;
	Thu, 10 Mar 2016 21:24:17 +0000 (UTC)
Received: from mail-qg0-f41.google.com (mail-qg0-f41.google.com [209.85.192.41])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 4E5B45F5CD
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 21:24:17 +0000 (UTC)
Received: by mail-qg0-f41.google.com with SMTP id t4so82292566qge.0
        for <dev@httpd.apache.org>; Thu, 10 Mar 2016 13:24:17 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=P09AYWyzO3D9eV2o7di46dTLcDAJA2PrP6WoVqeJK2I=;
        b=VIOTVZYYK7dbU9H8C6Bj/94zvhl4T5GzpXIuJWzy3/yH2b4OL3sCDPg435lFMlkTbb
         v9g2vPx6NN7gftw6y+tmcWFiHzKaRbMX1xF6iPv5tjs9tIfztYRF75wBSkk+O29t4YS2
         8AR+ygCPnXcLRBLPQIDWIKe4O0i0mvKH2I5gI3KaFl2X9hCC5AbT+j2hMBcIxATYPaCO
         s00mII8UrBDejuwokatf2LTSVcBnW7FUx2J5pp870HLI7Lu0P2lw/HzmaBx3dnFlz7c+
         QKxZJbWgTDLGeh6Imgm0A+abxNOv0NlY9mZoenaV8rMOlYxJLPJQg5Ln7g6cBSgAUVnq
         c/5Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=P09AYWyzO3D9eV2o7di46dTLcDAJA2PrP6WoVqeJK2I=;
        b=PC78LVC1QL6C7uy0fDZl+9qwilpHBehFCZQcInT0mAldWaUPKgT3RLMzm4htBpeL1F
         kygvnsEE21uYRT08nQhzIjRdMIfQtrZ2JJ99AF8VDMZoTZgY0rgBfVqAMHRiBWo9w/wP
         /AqBQlhMWNyGRcSrSM+C/Lus2ntPTETzZAa7B8rVqKaxMiEkRAlBYC+6/ReFGoZGG+7g
         +a/XV+dehETn23bZTu2itabtbibLaqruK10Y+PuCylC11B1O3TWOhm75mVWr1Xm4xaNR
         du4gsszeowPfWLe43LHAevx0mAAy9LGx2PYeBJ4PbFbcgqMmIdrgop7yo+12rlnbGi0N
         ICZg==
X-Gm-Message-State: AD7BkJLZeHWVGqbusS0xoH6ZH5aAHPzG2pPLKUSrwSwT9JIT4Rn1meWOFV6N055KsU2hQj7U2xGrzu00YupurA==
MIME-Version: 1.0
X-Received: by 10.140.249.6 with SMTP id u6mr7516317qhc.83.1457645056661; Thu,
 10 Mar 2016 13:24:16 -0800 (PST)
Received: by 10.55.10.7 with HTTP; Thu, 10 Mar 2016 13:24:16 -0800 (PST)
In-Reply-To: <720F92C7-6875-40C6-B0B6-B5F594795E2D@greenbytes.de>
References: <CAKQ1sVNhCZcwkD5oDG-K8MY0orLhd_ERNbct8YAMG15RoOLg0Q@mail.gmail.com>
	<720F92C7-6875-40C6-B0B6-B5F594795E2D@greenbytes.de>
Date: Thu, 10 Mar 2016 22:24:16 +0100
Message-ID: <CAKQ1sVN-NE8MOaLEoVucQvbu2F-uGJ5wJ526W0xMKJ8QPMmGrw@mail.gmail.com>
Subject: Re: mod_proxy_http2 questions (was: [VOTE] backport mod_proxy_http2
 to 2.4.x as experimental)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Mar 10, 2016 at 5:38 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
>
> Iterative, the Common Case
> --------------------------
[]
>
> As to the input/output handling for that request_rec, that is basic mod_http2
> stuff. The core filters have been replaced with ones that shuffle the data
> to h2 internal things (mainly through the h2_mplx) and the response headers
> are taken directly from the request_rec->headers_out. The http2 usual way.

OK, got that, h2_filter_stream_output() is the network filter of the
slave (http/1) connections.

>
> Concurrent Handling
> -------------------
> I was then thinking: how do I get all the concurrent proxy_http2 requests to
> use the same connection? I was originally thinking about some dort of de-mux,
> a sort of concentrator that sits on a single connection and communicates with
> all the worker threads that have proxy requests...
>
> But that would be insane! There would be one worker sitting on the master
> connection, several workers for each single proxy request and one more
> worker that sits on the backend connection. And all the proxy requests
> would do is move data from the master connection thread to the backend
> one and vice versa. But what we need is just 2 workers: one for the master
> connection and one for the backend connection. They should handle as many
> concurrent requests as configured!

Hmm, I'm not sure to follow here.
I read this as no need for workers because after all we don't need h1
requests to forward h2.

But proxying is not only about routing, it's also rewriting, caching,
filtering, securing..., so who would do that actual work per request
if not workers?

I understand the need for an efficient pure h2 proxy which would only
route or balance requests, but that's not the only use case, we need
to handle the other cases too...

Sure there could be a single pollset and queue(s) on each side
(actually listeners, even if that may sound weird on the backend
side), but I don't see how we would fill in those without (a pool of)
workers that do the h1 work (if any).
That's pretty much what the MPM (event) does, let's make it available
for backend connections (there is some code like this alredy in
mod_proxy_wstunnel which makes use of SUSPENDED and MPM callbacks,
that may be a way).

>
> Backend Engines
> ---------------
> How can we do that? Let's discuss one master http2 connection with
> no proxy request ongoing. The next request which is handled by proxy_http2
> is the "first" - it sees no other ongoing request against the same
> backend. It registers itself at the master http2 session for the backend.
> It performs the request in the usual way, de-registers itself again
> and returns. Same as with HTTP/1, plus some registration dance of what
> I named a "request engine".
>
> If another worker handles a proxy_http2 request, while the "first"
> engine is ongoing, it sees that someone has registered for the backend
> that it also needs. What it then does is "hand over" the request_rec
> to the "first" engine and immediately returns as if done.

Which sends out the EOR since the core thinks the request is done, right?
If so, wouldn't returning SUSPENDED be more appropriate (that would
free the worker thread for some other work)?

>
> So, the "first" proxy_http2 worker collects all request_recs against
> the same backend and continues running until it is out of requests. Then
> it also shuts down.
>
> So, while several requests against the same backend are ongoing, there
> are two main workers handling it, plus, very shortly, some workers that
> create request_recs, find out that they are proxy_http2, hand them over
> and return.
>
> So, how do we hand request_recs over to another thread?
>
> Request Transfer
> ----------------
> First of all, the request_recs inside a HTTP/2 connection are all created
> on top of slave connections and mod_http2 has a tight grip of the lifetime
> of those connections. So, all that has been allocated from that slave
> connection directly will still be there when the mod_proxy handler
> returns.
>
> But the request_rec itself and all filters that have been installed
> use a child pool and the usual runtime gets rid of that pool at the
> end of the request. How does it know that the request has ended? When
> the EOR bucket gets destroyed.
>
> So, mod_http2, when handing over request_recs, first *freezes* it
> by adding a top output filter that sets all buckets it gets aside. Which
> basically is the EOR bucket. It passes nothing on while frozen, so
> output filters further down never get called at this time.

That possibly shouldn't be needed, nothing would go out until the
backend provides the h1 response (or chunks, via h2 of course)
corresponding to a h1 request (both kept in relation with a
context/baton) and then the response bytes could go out through normal
filtering (finally h1_to_h2 on the client side if that's h2 there
too).

>
> When the proxy_http2 worker for that request returns, mod_http2
> notices the frozen request, thaws it and signals the backend connection
> worker that the request is ready for processing. The backend worker
> picks it up, handles it and *closes the output* which will write
> the buckets set aside before. This will write the EOR and the
> request deallocates itself. During this time, all the input/output
> filter etc. will remain in place and work.

With my description above, that would translate to: before the worker
thread available to handle the last bytes of a response sends them, it
also flushes the EOR.

Each worker thread could still do as much work as possible (as you
describe) to save some queuing in the MPM, but that's possibly further
optimization.

>
> Conclusion, TODOs
> -----------------
> As to you question re filters on the backend connection: those are
> used unchanged. However they will be used for HTTP/2 data and while
> the byte counters will do, any request counter will not. I do not
> know what else is done there...
>
> Also I have not had the time to look at the logging of such request.
> There might be some more work done there.

Yes, that's another story (and mod_logio would better count h2
connections/bytes if that's the underlying protocol after all...).

>
> I hope this give an explanation of how mod_proxy_http2 works
> together with mod_http2. If not, please ask. Happy to explain and
> get feedback.

Thanks for explaining Stefan, same here :)

Regards,
Yann.

From dev-return-85841-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 10 22:05:27 2016
Return-Path: <dev-return-85841-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E4D1118353
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 10 Mar 2016 22:05:26 +0000 (UTC)
Received: (qmail 32282 invoked by uid 500); 10 Mar 2016 22:05:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32216 invoked by uid 500); 10 Mar 2016 22:05:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32204 invoked by uid 99); 10 Mar 2016 22:05:26 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Mar 2016 22:05:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E1311C24A1
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 22:05:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.279
X-Spam-Level: *
X-Spam-Status: No, score=1.279 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, PLING_QUERY=0.279,
	RCVD_IN_DNSWL_NONE=-0.0001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id qsi-hGM4Ugn8 for <dev@httpd.apache.org>;
	Thu, 10 Mar 2016 22:05:24 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 8BE395F572
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 22:05:24 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 2A77922E85
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 23:05:15 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DSKz-f1UdW1Z for <dev@httpd.apache.org>;
	Thu, 10 Mar 2016 23:05:15 +0100 (CET)
Received: from [10.0.0.1] (CPE-121-217-150-29.lnse2.cht.bigpond.net.au [121.217.150.29])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 31B5822E7C
	for <dev@httpd.apache.org>; Thu, 10 Mar 2016 23:05:13 +0100 (CET)
Subject: Re: Add ?? mod_proxy_http2 for NetWare build - All done!
To: dev@httpd.apache.org
References: <56E0A75D.6040701@gknw.net>
 <FA349F3F-B488-46C5-B28D-7D0BF2892029@greenbytes.de>
From: NormW <normw@gknw.net>
Message-ID: <56E1EF8B.3020708@gknw.net>
Date: Fri, 11 Mar 2016 09:04:59 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <FA349F3F-B488-46C5-B28D-7D0BF2892029@greenbytes.de>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit

G/M Stefan,
All done. and many thanks for taking the time out to attend to it.

Regards
Norm


From dev-return-85842-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 11 10:33:42 2016
Return-Path: <dev-return-85842-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8737A1858E
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 11 Mar 2016 10:33:42 +0000 (UTC)
Received: (qmail 17696 invoked by uid 500); 11 Mar 2016 10:33:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17636 invoked by uid 500); 11 Mar 2016 10:33:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17626 invoked by uid 99); 11 Mar 2016 10:33:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2016 10:33:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 7BCA81A0036
	for <dev@httpd.apache.org>; Fri, 11 Mar 2016 10:33:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Rf2oHMco;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Rf2oHMco
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 5heWQiG31Y4L for <dev@httpd.apache.org>;
	Fri, 11 Mar 2016 10:33:38 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id A1D205F19D
	for <dev@httpd.apache.org>; Fri, 11 Mar 2016 10:33:37 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 7A51E15A3504; Fri, 11 Mar 2016 11:33:29 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457692409; bh=VeSWwKP1afjk8oD3XASQ0QYrjEIKoTmqzgGZ1d98J/Q=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=Rf2oHMcowvEPK5+FLiOgqiqXZvgG+VzlK/ssdhQf4D8pLfGl0/66mKYGwah7pqSxi
	 7kfCVcOoyIUwTm876Vh//o1Y6nt/d8z62YPich+Hhgbf6FaCbLNAakcvehOLLe0S1i
	 jwjO31wxXZYs8wB1eH6+nEsSZLf+3DVV8KAo6unQ=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 341BB15A3500
	for <dev@httpd.apache.org>; Fri, 11 Mar 2016 11:33:29 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457692409; bh=VeSWwKP1afjk8oD3XASQ0QYrjEIKoTmqzgGZ1d98J/Q=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=Rf2oHMcowvEPK5+FLiOgqiqXZvgG+VzlK/ssdhQf4D8pLfGl0/66mKYGwah7pqSxi
	 7kfCVcOoyIUwTm876Vh//o1Y6nt/d8z62YPich+Hhgbf6FaCbLNAakcvehOLLe0S1i
	 jwjO31wxXZYs8wB1eH6+nEsSZLf+3DVV8KAo6unQ=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_proxy_http2 questions (was: [VOTE] backport mod_proxy_http2 to 2.4.x as experimental)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVN-NE8MOaLEoVucQvbu2F-uGJ5wJ526W0xMKJ8QPMmGrw@mail.gmail.com>
Date: Fri, 11 Mar 2016 11:33:28 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <7A688430-04C5-45AA-B7E3-6CB3905C5A81@greenbytes.de>
References: <CAKQ1sVNhCZcwkD5oDG-K8MY0orLhd_ERNbct8YAMG15RoOLg0Q@mail.gmail.com> <720F92C7-6875-40C6-B0B6-B5F594795E2D@greenbytes.de> <CAKQ1sVN-NE8MOaLEoVucQvbu2F-uGJ5wJ526W0xMKJ8QPMmGrw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> Am 10.03.2016 um 22:24 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> [...]
>>=20
>> Concurrent Handling
>> -------------------
>> I was then thinking: how do I get all the concurrent proxy_http2 =
requests to
>> use the same connection? I was originally thinking about some dort of =
de-mux,
>> a sort of concentrator that sits on a single connection and =
communicates with
>> all the worker threads that have proxy requests...
>>=20
>> But that would be insane! There would be one worker sitting on the =
master
>> connection, several workers for each single proxy request and one =
more
>> worker that sits on the backend connection. And all the proxy =
requests
>> would do is move data from the master connection thread to the =
backend
>> one and vice versa. But what we need is just 2 workers: one for the =
master
>> connection and one for the backend connection. They should handle as =
many
>> concurrent requests as configured!
>=20
> Hmm, I'm not sure to follow here.
> I read this as no need for workers because after all we don't need h1
> requests to forward h2.

That is not what I meant. I'd like to draw some pictures, but ASCII art
in emails... I give this a try ;-)

Let's say we have a http/2 connection running on a regular mpm worker. =
Name
that "m1". This spawns off requests to h2_workers on slave connections
s1, s2, etc, which create and process the requests r1.3.
These do process the requests in the usual http/1.1 infrastructure
of httpd. This would look like this:

mpm-worker: m1
 h2-worker: |--- s1[r1]
 h2-worker: |--- s2[r2]
 h2-worker: |--- s3[r3]

This happens for *all* requests incoming on m1 - always.

If s1-3 encounter a typical mod_proxy_http configuration, the requests
would open backend connections b1-3 (let's keep caching etc. out of=20
this for now):

mpm-worker: m1
 h2-worker: |--- s1[r1] (proxy_http) ---> b1
 h2-worker: |--- s2[r2] (proxy_http) ---> b2
 h2-worker: |--- s3[r3] (proxy_http) ---> b3

Now, with a h1 backend connection, we need three of them to process
three requests in parallel. Not so with h2. With proxy_http2, we'd like
b1-3 to be only a single connection.

So my original idea was to build something like this:

mpm-worker: m1
 h2-worker: |--- s1[r1] (proxy_http2) ----> h2-multiplexer <--> b1
 h2-worker: |--- s2[r2] (proxy_http2) ------|
 h2-worker: |--- s3[r3] (proxy_http2) ------|

But having 3 h2-workers occupied the whole time only to shuffle
request/response bodies between m1 and b2 is a waste. The current
design therefore establishes this:

mpm-worker: m1
 h2-worker: |--- proxy_http2_engine (s1[r1],s2[r2],s3[r3]) <--> b1

When a new request comes in, slave s4 is created and started
on a worker:

mpm-worker: m1
 h2-worker: |--- proxy_http2_engine (s1[r1],s2[r2],s3[r3]) <--> b1
 h2-worker: |--- s4[r4]

When that runs into the handler of mod_proxy_http2 and is about
to allocate a new backend connection, it first checks with m1 if
there is already some h2-worker processing requests for the same
backend. If there is, we make (assuming for the fun that r1 and
r2 have finished in the meantime):

A. same backend
mpm-worker: m1
 h2-worker: |--- proxy_http2_engine (s3[r3],s4[r4]) <--> b1

if b1 is to another backend however, we will establish this:

B. different backend
mpm-worker: m1
 h2-worker: |--- proxy_http2_engine (s3[r3]) <--> b1
 h2-worker: |--- proxy_http2_engine (s4[r4]) <--> b2

> But proxying is not only about routing, it's also rewriting, caching,
> filtering, securing..., so who would do that actual work per request
> if not workers?

If I understand you correctly, all this is still happening. The things
I describe above are only happening when the handler of mod_proxy_http2
is invoked to open the backend connection.

I assume caching, rewriting etc. happens before that?=20

> I understand the need for an efficient pure h2 proxy which would only
> route or balance requests, but that's not the only use case, we need
> to handle the other cases too...

No, I did not build that. All request and response data are passed
through the normal request_rec->in/out filters.=20

> Sure there could be a single pollset and queue(s) on each side
> (actually listeners, even if that may sound weird on the backend
> side), but I don't see how we would fill in those without (a pool of)
> workers that do the h1 work (if any).

I think a "proxy_http_engine", similar to http2 but with a separate
backend connection for each slave could be built and that could use
a pollset.

> That's pretty much what the MPM (event) does, let's make it available
> for backend connections (there is some code like this alredy in
> mod_proxy_wstunnel which makes use of SUSPENDED and MPM callbacks,
> that may be a way).

Yes, that makes sense. Maybe we can go even further and make the
whole request processing not rely on the stack so much. Then we could
suspend/resume more often and, as I understand it, that is what
Graham is working for also.

(Comments on the rest in another mail)

-Stefan


From dev-return-85843-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 11 11:02:46 2016
Return-Path: <dev-return-85843-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 17B171866A
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 11 Mar 2016 11:02:46 +0000 (UTC)
Received: (qmail 62326 invoked by uid 500); 11 Mar 2016 11:02:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62243 invoked by uid 500); 11 Mar 2016 11:02:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62232 invoked by uid 99); 11 Mar 2016 11:02:44 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2016 11:02:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 57346180528
	for <dev@httpd.apache.org>; Fri, 11 Mar 2016 11:02:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=HYc1xxYP;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=sD/NB67l
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id z-5txXhSa7Vg for <dev@httpd.apache.org>;
	Fri, 11 Mar 2016 11:02:42 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 42F2D5F2EF
	for <dev@httpd.apache.org>; Fri, 11 Mar 2016 11:02:42 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 49B0415A0472; Fri, 11 Mar 2016 12:02:35 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457694155; bh=aFhTifPwPnB5kuMLHXLC8f5y2naKOAhnnC0wd+dATNE=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=HYc1xxYPKRnEpoJ+JoA9jp7M6dTzfxY97mRICLG7YUauchc/854II2rWiZVod6PJG
	 3Ct5kaAO0Vucsi1v80OgRdnfsCh2TDx53v61f5DfXB+oqSIq8dj1yAITUiJUNSB25+
	 VGrCeTxpoVrOkDwMnm00wzFdMzvyhs6ZgPL18Kzc=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id A367C15A0316
	for <dev@httpd.apache.org>; Fri, 11 Mar 2016 12:02:33 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457694153; bh=aFhTifPwPnB5kuMLHXLC8f5y2naKOAhnnC0wd+dATNE=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=sD/NB67lewDAiSbpooX2kzlYtngD4P6og8sK+S1Rm4L7BllpY69ktyQQCw4Xgx5zt
	 TWtifkCcPujWvEid7v03991IkoUG0gWksSX4sDwbs4ioV3xT5OqGK3gL3pu9+56quk
	 zA55gsZBRbXcqZ7mqiL/ZB3jkAFfPHnqErHPz1iM=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: request SUSPENDED (was: [VOTE] backport mod_proxy_http2 to 2.4.x as experimental)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVN-NE8MOaLEoVucQvbu2F-uGJ5wJ526W0xMKJ8QPMmGrw@mail.gmail.com>
Date: Fri, 11 Mar 2016 12:02:33 +0100
Content-Transfer-Encoding: 7bit
Message-Id: <AA0FBA98-DF13-429B-BAAA-C7B433A0A8AC@greenbytes.de>
References: <CAKQ1sVNhCZcwkD5oDG-K8MY0orLhd_ERNbct8YAMG15RoOLg0Q@mail.gmail.com> <720F92C7-6875-40C6-B0B6-B5F594795E2D@greenbytes.de> <CAKQ1sVN-NE8MOaLEoVucQvbu2F-uGJ5wJ526W0xMKJ8QPMmGrw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Comments to the later parts, re suspending requests.

> Am 10.03.2016 um 22:24 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
> [...]
> On Thu, Mar 10, 2016 at 5:38 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> 
>> Backend Engines
>> ---------------
>> How can we do that? Let's discuss one master http2 connection with
>> no proxy request ongoing. The next request which is handled by proxy_http2
>> is the "first" - it sees no other ongoing request against the same
>> backend. It registers itself at the master http2 session for the backend.
>> It performs the request in the usual way, de-registers itself again
>> and returns. Same as with HTTP/1, plus some registration dance of what
>> I named a "request engine".
>> 
>> If another worker handles a proxy_http2 request, while the "first"
>> engine is ongoing, it sees that someone has registered for the backend
>> that it also needs. What it then does is "hand over" the request_rec
>> to the "first" engine and immediately returns as if done.
> 
> Which sends out the EOR since the core thinks the request is done, right?
> If so, wouldn't returning SUSPENDED be more appropriate (that would
> free the worker thread for some other work)?

Now I learned something new! Have to try this.

So, a handler may return SUSPENDED, which inhibits the EOR write and
sets the connection in state SUSPENDED as well and leaves the 
process_connection loop, but only with an async mpm. Right?

I assume that the resume handling is supposed to happen in the
in/out filters only then. How much of that is available in 2.4? I
saw that there are several improvements in trunk on that part...

But on the h2 slave connections, this could work in both branches. I 
will give this a shot.

>> [...]
>> 
>> When the proxy_http2 worker for that request returns, mod_http2
>> notices the frozen request, thaws it and signals the backend connection
>> worker that the request is ready for processing. The backend worker
>> picks it up, handles it and *closes the output* which will write
>> the buckets set aside before. This will write the EOR and the
>> request deallocates itself. During this time, all the input/output
>> filter etc. will remain in place and work.
> 
> With my description above, that would translate to: before the worker
> thread available to handle the last bytes of a response sends them, it
> also flushes the EOR.
> 
> Each worker thread could still do as much work as possible (as you
> describe) to save some queuing in the MPM, but that's possibly further
> optimization.

Still learning about all the interactions between MPM, event and core.
It's quite some code there...

Cheers,

  Stefan

From dev-return-85844-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 11 11:59:15 2016
Return-Path: <dev-return-85844-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C07BC187F6
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 11 Mar 2016 11:59:15 +0000 (UTC)
Received: (qmail 64288 invoked by uid 500); 11 Mar 2016 11:59:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64215 invoked by uid 500); 11 Mar 2016 11:59:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64205 invoked by uid 99); 11 Mar 2016 11:59:14 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2016 11:59:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 0C4B61A1297
	for <dev@httpd.apache.org>; Fri, 11 Mar 2016 11:59:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=iyFLvzVE;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=iyFLvzVE
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id M695ruSb5S1v for <dev@httpd.apache.org>;
	Fri, 11 Mar 2016 11:59:10 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 2428C5FAF6
	for <dev@httpd.apache.org>; Fri, 11 Mar 2016 11:59:09 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 58B1C15A0462; Fri, 11 Mar 2016 12:59:08 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457697548; bh=SvkvXxG2yBKbEnsfvLxXHq+egOX5isnQboqmD4cS6sQ=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=iyFLvzVEHgiq9aW/cOqfpO8QdBT0yH+Nsg4if7M/PNb1voMw1/vNIuwx5Jyy8Sdle
	 KIXNhPOkZ908FK1gvHsXK+G1FFEGmc03/gQzZXxTmYmmBOMvV2yv1GTICQxrwfzYtL
	 kOag62k2ja1lekl6XQq924ESz8M3oPFC+Bpgna8c=
Received: from [192.168.1.134] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 0132715A031B
	for <dev@httpd.apache.org>; Fri, 11 Mar 2016 12:59:07 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457697548; bh=SvkvXxG2yBKbEnsfvLxXHq+egOX5isnQboqmD4cS6sQ=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=iyFLvzVEHgiq9aW/cOqfpO8QdBT0yH+Nsg4if7M/PNb1voMw1/vNIuwx5Jyy8Sdle
	 KIXNhPOkZ908FK1gvHsXK+G1FFEGmc03/gQzZXxTmYmmBOMvV2yv1GTICQxrwfzYtL
	 kOag62k2ja1lekl6XQq924ESz8M3oPFC+Bpgna8c=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: request SUSPENDED (was: [VOTE] backport mod_proxy_http2 to 2.4.x as experimental)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <AA0FBA98-DF13-429B-BAAA-C7B433A0A8AC@greenbytes.de>
Date: Fri, 11 Mar 2016 12:59:07 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <9A8B495E-7D45-49D6-8AB5-F17049E74684@greenbytes.de>
References: <CAKQ1sVNhCZcwkD5oDG-K8MY0orLhd_ERNbct8YAMG15RoOLg0Q@mail.gmail.com> <720F92C7-6875-40C6-B0B6-B5F594795E2D@greenbytes.de> <CAKQ1sVN-NE8MOaLEoVucQvbu2F-uGJ5wJ526W0xMKJ8QPMmGrw@mail.gmail.com> <AA0FBA98-DF13-429B-BAAA-C7B433A0A8AC@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Ok, tests show that on returning SUSPENDED, no EOS + EOR buckets are =
written,
but a FLUSH is passed by ap_process_request() nevertheless.

Maybe that should not be done on a suspended connection, not sure.

-Stefan

> Am 11.03.2016 um 12:02 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>=20
> Comments to the later parts, re suspending requests.
>=20
>> Am 10.03.2016 um 22:24 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>> [...]
>> On Thu, Mar 10, 2016 at 5:38 PM, Stefan Eissing
>> <stefan.eissing@greenbytes.de> wrote:
>>>=20
>>> Backend Engines
>>> ---------------
>>> How can we do that? Let's discuss one master http2 connection with
>>> no proxy request ongoing. The next request which is handled by =
proxy_http2
>>> is the "first" - it sees no other ongoing request against the same
>>> backend. It registers itself at the master http2 session for the =
backend.
>>> It performs the request in the usual way, de-registers itself again
>>> and returns. Same as with HTTP/1, plus some registration dance of =
what
>>> I named a "request engine".
>>>=20
>>> If another worker handles a proxy_http2 request, while the "first"
>>> engine is ongoing, it sees that someone has registered for the =
backend
>>> that it also needs. What it then does is "hand over" the request_rec
>>> to the "first" engine and immediately returns as if done.
>>=20
>> Which sends out the EOR since the core thinks the request is done, =
right?
>> If so, wouldn't returning SUSPENDED be more appropriate (that would
>> free the worker thread for some other work)?
>=20
> Now I learned something new! Have to try this.
>=20
> So, a handler may return SUSPENDED, which inhibits the EOR write and
> sets the connection in state SUSPENDED as well and leaves the=20
> process_connection loop, but only with an async mpm. Right?
>=20
> I assume that the resume handling is supposed to happen in the
> in/out filters only then. How much of that is available in 2.4? I
> saw that there are several improvements in trunk on that part...
>=20
> But on the h2 slave connections, this could work in both branches. I=20=

> will give this a shot.
>=20
>>> [...]
>>>=20
>>> When the proxy_http2 worker for that request returns, mod_http2
>>> notices the frozen request, thaws it and signals the backend =
connection
>>> worker that the request is ready for processing. The backend worker
>>> picks it up, handles it and *closes the output* which will write
>>> the buckets set aside before. This will write the EOR and the
>>> request deallocates itself. During this time, all the input/output
>>> filter etc. will remain in place and work.
>>=20
>> With my description above, that would translate to: before the worker
>> thread available to handle the last bytes of a response sends them, =
it
>> also flushes the EOR.
>>=20
>> Each worker thread could still do as much work as possible (as you
>> describe) to save some queuing in the MPM, but that's possibly =
further
>> optimization.
>=20
> Still learning about all the interactions between MPM, event and core.
> It's quite some code there...
>=20
> Cheers,
>=20
>  Stefan


From dev-return-85845-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 11 12:03:19 2016
Return-Path: <dev-return-85845-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2502318844
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 11 Mar 2016 12:03:19 +0000 (UTC)
Received: (qmail 78733 invoked by uid 500); 11 Mar 2016 12:03:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78664 invoked by uid 500); 11 Mar 2016 12:03:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 78624 invoked by uid 99); 11 Mar 2016 12:03:14 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Mar 2016 12:03:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 9BA1E1A129F
	for <dev@httpd.apache.org>; Fri, 11 Mar 2016 12:03:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id oIODrfk6XTaO for <dev@httpd.apache.org>;
	Fri, 11 Mar 2016 12:03:11 +0000 (UTC)
Received: from mail-qg0-f51.google.com (mail-qg0-f51.google.com [209.85.192.51])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 6736F5F2EF
	for <dev@httpd.apache.org>; Fri, 11 Mar 2016 12:03:11 +0000 (UTC)
Received: by mail-qg0-f51.google.com with SMTP id u110so95827572qge.3
        for <dev@httpd.apache.org>; Fri, 11 Mar 2016 04:03:11 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=h5ip/KC8/5GuCnkVCLyUtW+7wGwdB34uHumuR1ktDE8=;
        b=s8nJSbTNsaTqiOZ0MGLU+jASqEcudoIpTSMYEIVj0/p0JbgkmENkGOzftPRt7ZHzCw
         czwblwsacKKe4cStIYjIH044SNECfjreWRxMqqDJtxvy5BJt/sXDAMnzHQg4FNBdJ53d
         SbpMOiz9i79xqOFgQ/9HRztO+8dLxUBX8U/nvw9Ook7RvhDF/kvuIYMwjkwbUe2MtFIc
         mIW0mSiWZEmOWDLyRZ7akbjRfc6NFXs++6nGwGjQPpZWaClpze2W45kGNrg3wQl6sbS5
         TSI3ZqzSjz3Kzrdlzob6EPZ64ubr32lNmD/J4d6cosG97MHxsIJs/etatQ8Edhet/PcZ
         Mphg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=h5ip/KC8/5GuCnkVCLyUtW+7wGwdB34uHumuR1ktDE8=;
        b=WqwmtasEBf1i6DtlP+dWhkn7eTsoBptAYBPoq/wycFi9FluFqThbdlQKTMGXoqzab1
         JmI7J9RqD6SwUlQPKG5MSJUyoFx+jFGYQd6TK95JKjaJUeISrJTwnKIjG49gHErs4FjL
         ezuD/8LkuomUkZP8mN+aFXuOjcHxc5wF0F+5BUAecXcDx8bfR9qW4uNjBR3CLCIlUScy
         qRRDQl0JmH+4oFtIuOFnX5/T00xsfc7SZCMRIL312ijaNekrRdNb6hqYWmh+99ryAtHs
         CDQvNi2MAtd1Vhu6IsIKuy4WMU3pYYDWVrUoNWCbRqNB7ObrOHfqJ82wz7MXPH/KcOf6
         UXVw==
X-Gm-Message-State: AD7BkJKjlaxGZJSDcsVAuVfPB1xZlAwvsmmNtZR9NAsaL78U07xq+0e5tDTuiD9lvR2LDt92MpMMxUoQYwtXZg==
MIME-Version: 1.0
X-Received: by 10.140.164.71 with SMTP id k68mr11585836qhk.97.1457697790674;
 Fri, 11 Mar 2016 04:03:10 -0800 (PST)
Received: by 10.55.10.7 with HTTP; Fri, 11 Mar 2016 04:03:10 -0800 (PST)
In-Reply-To: <7A688430-04C5-45AA-B7E3-6CB3905C5A81@greenbytes.de>
References: <CAKQ1sVNhCZcwkD5oDG-K8MY0orLhd_ERNbct8YAMG15RoOLg0Q@mail.gmail.com>
	<720F92C7-6875-40C6-B0B6-B5F594795E2D@greenbytes.de>
	<CAKQ1sVN-NE8MOaLEoVucQvbu2F-uGJ5wJ526W0xMKJ8QPMmGrw@mail.gmail.com>
	<7A688430-04C5-45AA-B7E3-6CB3905C5A81@greenbytes.de>
Date: Fri, 11 Mar 2016 13:03:10 +0100
Message-ID: <CAKQ1sVNP56o=SybVVF2qqQF++Kzw_p1YQmwGtFNmO__THzOrAA@mail.gmail.com>
Subject: Re: mod_proxy_http2 questions (was: [VOTE] backport mod_proxy_http2
 to 2.4.x as experimental)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Mar 11, 2016 at 11:33 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
>
>> Am 10.03.2016 um 22:24 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>
>> [...]
>>>
>>> Concurrent Handling
>>> -------------------
>>> I was then thinking: how do I get all the concurrent proxy_http2 requests to
>>> use the same connection? I was originally thinking about some dort of de-mux,
>>> a sort of concentrator that sits on a single connection and communicates with
>>> all the worker threads that have proxy requests...
>>>
>>> But that would be insane! There would be one worker sitting on the master
>>> connection, several workers for each single proxy request and one more
>>> worker that sits on the backend connection. And all the proxy requests
>>> would do is move data from the master connection thread to the backend
>>> one and vice versa. But what we need is just 2 workers: one for the master
>>> connection and one for the backend connection. They should handle as many
>>> concurrent requests as configured!
>>
>> Hmm, I'm not sure to follow here.
>> I read this as no need for workers because after all we don't need h1
>> requests to forward h2.
>
> That is not what I meant. I'd like to draw some pictures, but ASCII art
> in emails... I give this a try ;-)

Sorry, I misunderstood what you meant in the first part, and somehow
realized that by reading further (just leaved my first comments to be
at ease with nice explanations and ascii art you do so brilliantly :)
That's even clearer now, thanks!

>
>> But proxying is not only about routing, it's also rewriting, caching,
>> filtering, securing..., so who would do that actual work per request
>> if not workers?
>
> If I understand you correctly, all this is still happening. The things
> I describe above are only happening when the handler of mod_proxy_http2
> is invoked to open the backend connection.
>
> I assume caching, rewriting etc. happens before that?

Yes, all h1 stuff should work out of the box ;)

>> That's pretty much what the MPM (event) does, let's make it available
>> for backend connections (there is some code like this alredy in
>> mod_proxy_wstunnel which makes use of SUSPENDED and MPM callbacks,
>> that may be a way).
>
> Yes, that makes sense. Maybe we can go even further and make the
> whole request processing not rely on the stack so much. Then we could
> suspend/resume more often and, as I understand it, that is what
> Graham is working for also.

Yes, I'm looking forward Graham's work too.
Re. suspend/resume, we'll need to take care of thread/context switches
as much as possible (i.e. not waking threads for small chunks),
possibly by setting buckets aside until significant/whole data is
available, plus batching.

>
> (Comments on the rest in another mail)

Going there now...

From dev-return-85846-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 12 15:46:33 2016
Return-Path: <dev-return-85846-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 359B0199A5
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 12 Mar 2016 15:46:33 +0000 (UTC)
Received: (qmail 81505 invoked by uid 500); 12 Mar 2016 15:46:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 81436 invoked by uid 500); 12 Mar 2016 15:46:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 81426 invoked by uid 99); 12 Mar 2016 15:46:32 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Mar 2016 15:46:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 8F000C6521
	for <dev@httpd.apache.org>; Sat, 12 Mar 2016 15:46:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.002
X-Spam-Level:
X-Spam-Status: No, score=-0.002 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id aWxruw3y6OLY for <dev@httpd.apache.org>;
	Sat, 12 Mar 2016 15:46:30 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id B53615FB7F
	for <dev@httpd.apache.org>; Sat, 12 Mar 2016 15:46:29 +0000 (UTC)
Received: from [192.168.220.204] (unknown [192.168.220.204])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id F2AE4826E0
	for <dev@httpd.apache.org>; Sat, 12 Mar 2016 15:46:22 +0000 (GMT)
From: Graham Leggett <minfrin@sharp.fm>
Content-Type: multipart/mixed; boundary="Apple-Mail=_8248A05A-A997-46A6-B13C-C5339B82516C"
Subject: [Patch] mod_tcp / mod_proxy_tcp / mod_ssl_tcp
Message-Id: <B1F5326F-47FC-4868-8FAB-6D9DD492385F@sharp.fm>
Date: Sat, 12 Mar 2016 17:46:21 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
X-Mailer: Apple Mail (2.2104)


--Apple-Mail=_8248A05A-A997-46A6-B13C-C5339B82516C
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=us-ascii

Hi all,

The following patch provides support for TCP proxying to httpd.

It consists of the following three parts:

- mod_tcp: Allows the frontend to receive pure TCP connections
- mod_proxy_tcp: Allows the proxy to make pure tcp or tls connections to =
a backend
- mod_ssl_tcp: Allows the proxy to route incoming connections based on =
the SNI header (tlsext)

In the following example config, incoming TCP connections are routed =
based on their SNI (the tlsext protocol) to given backend servers, which =
then complete the SSL connections as raw tunnels.

This allows you to use client certificates through the httpd proxy =
balancer all the way to the backend server without the proxy terminating =
any SSL along the way.

<VirtualHost localhost:9000>
  Protocol tlsext

  ServerName jira.example.com

  ProxyPass / tcp://john.example.com:443
</VirtualHost>

<VirtualHost localhost:9000>
  Protocol tlsext

  ServerName www.example.com

  ProxyPass / tcp://erica.example.com:443
</VirtualHost>

In order for mod_ssl_tcp to work, it needs to read ahead to see if any =
client hello message is present, and then set aside any extra data so it =
could be read again. This is fundamentally incompatible with =
c->data_in_input_filters which only allows the core filter to set aside =
unread data. For this reason the ability to set aside data was rolled =
out to all filters.

mod_ssl_tcp just cares about SNI for now, but could conceivably support =
APLN too, making a configuration something like this:

<VirtualHost localhost:9000>
  Protocol tlsext
  ServerName secure.example.com
  <Protocol imap>
    ProxyPass / tcp://imap.example.com:993
  </Protocol>
  <Protocol pop>
    ProxyPass / tcp://pop3.example.com:995
  </Protocol>
</VirtualHost>

Regards,
Graham
--


--Apple-Mail=_8248A05A-A997-46A6-B13C-C5339B82516C
Content-Disposition: attachment;
	filename=httpd-tcp-proxy.patch
Content-Type: application/octet-stream;
	name="httpd-tcp-proxy.patch"
Content-Transfer-Encoding: 7bit

Index: modules/protocols
===================================================================
--- modules/protocols	(revision 1734657)
+++ modules/protocols	(working copy)

Property changes on: modules/protocols
___________________________________________________________________
Added: svn:ignore
## -0,0 +1,23 ##
+.deps
+.libs
+*.la
+modules.mk
+Makefile
+*.lo
+*.slo
+*.so
+*.x
+Debug
+Release
+*.plg
+*.aps
+*.dep
+*.mak
+*.rc
+BuildLog.htm
+*.stc
+*.stt
+*.sto
+*.vcproj
+*.vcproj.*
+
Index: modules/protocols/Makefile.in
===================================================================
--- modules/protocols/Makefile.in	(revision 0)
+++ modules/protocols/Makefile.in	(working copy)
@@ -0,0 +1,3 @@
+
+include $(top_srcdir)/build/special.mk
+
Index: modules/protocols/config.m4
===================================================================
--- modules/protocols/config.m4	(revision 0)
+++ modules/protocols/config.m4	(working copy)
@@ -0,0 +1,8 @@
+dnl modules enabled in this directory by default
+
+APACHE_MODPATH_INIT(protocols)
+
+APACHE_MODULE(tcp, TCP protocol support, , , most)
+
+APACHE_MODPATH_FINISH
+
Index: modules/protocols/mod_tcp.c
===================================================================
--- modules/protocols/mod_tcp.c	(revision 0)
+++ modules/protocols/mod_tcp.c	(working copy)
@@ -0,0 +1,368 @@
+/* Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+#include "httpd.h"
+#include "http_connection.h"
+#include "http_core.h"
+#include "http_log.h"
+#include "http_protocol.h"
+#include "http_request.h"
+#include "ap_mpm.h"
+
+module AP_MODULE_DECLARE_DATA tcp_module;
+
+/*
+ * mod_tcp.c
+ *
+ * A module that accepts raw TCP connections, in the expectation that the
+ * connection will be handled by mod_proxy_tcp.
+ *
+ * When SNI is available, the target host can be used to select the given
+ * backend.
+ *
+ *  Created on: Feb 26, 2016
+ *      Author: minfrin
+ */
+
+typedef struct {
+    unsigned int is_enabled_set:1;
+    int is_enabled;
+    int is_sni;
+} tcp_server_conf;
+
+typedef enum {
+    TCP_STATE_INIT_REQUEST = 0,
+    TCP_STATE_READ_BLANK_LINE,
+    TCP_STATE_POST_READ_REQUEST,
+    TCP_STATE_PROCESS_REQUEST,
+    TCP_STATE_COMPLETION,
+} tcp_state_e;
+
+typedef struct {
+    request_rec *r;
+    apr_bucket_brigade *bb;
+    tcp_state_e state;
+} tcp_conn_conf;
+
+static int tcp_method = M_INVALID;
+
+/**
+ * Frontend Handling
+ * -----------------
+ *
+ * We handle connections from the frontend to the proxy, consisting
+ * of a simple tunnel.
+ */
+
+static tcp_conn_conf *tcp_init_connection_ctx(conn_rec *c)
+{
+    tcp_conn_conf *cconf = ap_get_module_config(c->conn_config, &tcp_module);
+
+    if (cconf) {
+        return cconf;
+    }
+
+    cconf = apr_pcalloc(c->pool, sizeof(*cconf));
+
+    ap_set_module_config(c->conn_config, &tcp_module, cconf);
+
+    return cconf;
+}
+
+static int tcp_pre_connection(conn_rec *c, void *csd)
+{
+
+    tcp_server_conf *tconf = ap_get_module_config(c->base_server->module_config,
+            &tcp_module);
+
+    /* are we tcp? */
+    if (!tconf->is_enabled) {
+        return DECLINED;
+    }
+
+    tcp_init_connection_ctx(c);
+
+    apr_socket_timeout_set(csd, c->base_server->keep_alive_timeout);
+
+    return OK;
+}
+
+static int tcp_process_connection(conn_rec* conn)
+{
+
+    tcp_server_conf *tconf =
+            ap_get_module_config(conn->base_server->module_config,
+                    &tcp_module);
+
+    /* are we tcp? */
+    if (!tconf->is_enabled) {
+        return DECLINED;
+    }
+
+    else {
+        request_rec *r;
+        apr_status_t rv;
+        int access_status;
+
+        tcp_conn_conf *cconf =
+                ap_get_module_config(conn->conn_config, &tcp_module);
+        r = cconf->r;
+
+        /*
+         * tcp_process_connection() is designed to be reentrant and work
+         * correctly in an asynchronous mode of operation.
+         */
+
+        switch (cconf->state) {
+
+        /* initialise our request */
+        case TCP_STATE_INIT_REQUEST:
+
+            conn->keepalive = AP_CONN_CLOSE;
+
+            if (tconf->is_sni) {
+                if (!ap_add_input_filter("SSL_TCP_SNI", NULL, r, conn)) {
+                    ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, conn, APLOGNO()
+                                  "TCP with ServerName/ServerAlias enabled, but mod_ssl_tcp not present");
+
+                    conn->aborted = 1;
+
+                    return OK;
+                }
+            }
+
+            r = cconf->r = ap_create_request(conn);
+
+            /*
+             * Workaround: the http_create_request() function doesn't check
+             * the protocol, and adds HTTP filters in all cases incorrectly.
+             * Until this is fixed, work around the problem by actively
+             * removing the HTTP filters.
+             */
+            ap_remove_output_filter_byhandle(r->output_filters, "HTTP_IN");
+            ap_remove_output_filter_byhandle(r->output_filters, "HTTP_HEADER");
+            ap_remove_output_filter_byhandle(r->output_filters, "CHUNK");
+            ap_remove_output_filter_byhandle(r->output_filters,
+                    "HTTP_OUTERROR");
+            ap_remove_output_filter_byhandle(r->output_filters, "BYTERANGE");
+
+            ap_run_pre_read_request(r, conn);
+
+            /* set the request line */
+            r->the_request = "TCP /";
+            r->request_time = apr_time_now();
+            r->protocol = "TCP";
+            r->method = "TCP";
+            r->method_number = tcp_method;
+            ap_parse_uri(r, "/");
+
+            /* prepare for reading the blank line */
+            cconf->bb = apr_brigade_create(conn->pool, conn->bucket_alloc);
+            cconf->state = TCP_STATE_READ_BLANK_LINE;
+
+        /* read the blank line (no break) */
+        case TCP_STATE_READ_BLANK_LINE:
+
+            /* read a blank line to trigger SSL */
+
+            /* Note: we're forced to do a blocking read here because the
+             * core presently suppresses APR_EAGAIN, and as a result we
+             * can't tell the difference between "call me again, mod_ssl
+             * wants to handshake" or "nothing to see here".
+             *
+             * When APR_EAGAIN is supported we can be fully async here.
+             */
+
+            ap_update_child_status(conn->sbh, SERVER_BUSY_READ, r);
+
+            rv = ap_get_brigade(r->input_filters, cconf->bb, AP_MODE_INIT,
+                                APR_BLOCK_READ, 0);
+            if (APR_STATUS_IS_EAGAIN(rv)) {
+                /* coming around again */
+                return OK;
+            }
+            else if (APR_SUCCESS != rv) {
+
+                if (APR_STATUS_IS_TIMEUP(rv)) {
+                    access_status = HTTP_REQUEST_TIME_OUT;
+                }
+                else {
+                    access_status = HTTP_BAD_REQUEST;
+                }
+
+                ap_finalize_request_protocol(r);
+                ap_update_child_status(conn->sbh, SERVER_BUSY_LOG, r);
+                ap_run_log_transaction(r);
+                cconf->r = NULL;
+
+                return OK;
+            }
+
+            /* prepare for running post read request */
+            apr_brigade_destroy(cconf->bb);
+            cconf->state = TCP_STATE_POST_READ_REQUEST;
+
+        /* after reading the request (no break) */
+        case TCP_STATE_POST_READ_REQUEST:
+
+            /* we may have switched to another server */
+            r->server = conn->base_server;
+            r->per_dir_config = r->server->lookup_defaults;
+
+            if ((access_status = ap_run_post_read_request(r))) {
+                ap_finalize_request_protocol(r);
+                ap_update_child_status(conn->sbh, SERVER_BUSY_LOG, r);
+                ap_run_log_transaction(r);
+                r = NULL;
+
+                return OK;
+            }
+
+            /* prepare for running process request */
+            cconf->state = TCP_STATE_PROCESS_REQUEST;
+
+        /* process the request (no break) */
+        case TCP_STATE_PROCESS_REQUEST:
+
+            ap_update_child_status(conn->sbh, SERVER_BUSY_WRITE, r);
+
+            /* FIXME: ap_process_request() is void and can only be run once
+             * Make a ap_process_request_ex() that has the ability to be
+             * called again.
+             */
+            ap_process_request(r);
+
+            /* indicate that we're complete at this point */
+            cconf->state = TCP_STATE_COMPLETION;
+            return OK;
+
+        /* if we're done, we leave (no break) */
+        case TCP_STATE_COMPLETION:
+
+            /* if we're still being called at this point, our connection is done*/
+            conn->aborted = 1;
+
+        /* drop through (no break) */
+        default: {
+            break;
+        }
+        }
+
+    }
+
+    return OK;
+}
+
+
+/**
+ * Configuration
+ * -------------
+ *
+ */
+
+static void *create_tcp_config(apr_pool_t *p, server_rec *s)
+{
+    tcp_server_conf *new = apr_pcalloc(p, sizeof(tcp_server_conf));
+
+    return new;
+}
+
+static void *merge_tcp_config(apr_pool_t *p, void *basev, void *overridesv)
+{
+    tcp_server_conf *ps = apr_pcalloc(p, sizeof(tcp_server_conf));
+    tcp_server_conf *base = (tcp_server_conf *) basev;
+    tcp_server_conf *overrides = (tcp_server_conf *) overridesv;
+
+    ps->is_enabled =
+            (overrides->is_enabled_set == 0) ? base->is_enabled :
+                    overrides->is_enabled;
+    ps->is_enabled_set = overrides->is_enabled_set || base->is_enabled_set;
+
+    return ps;
+}
+
+static int tcp_post_config(apr_pool_t *p, apr_pool_t *plog, apr_pool_t *ptemp,
+                       server_rec *base_server)
+{
+    server_rec *s;
+
+    tcp_server_conf *bconf = ap_get_module_config(base_server->module_config,
+            &tcp_module);
+
+    for (s = base_server; s; s = s->next) {
+        const char *protocol;
+
+        tcp_server_conf *conf = ap_get_module_config(s->module_config,
+                &tcp_module);
+
+        /* Default to enabled if Protocol is tcp */
+        if ((protocol = ap_get_server_protocol(s))) {
+
+            if (!strcmp("tcp", protocol)) {
+                conf->is_enabled = 1;
+            }
+            else if (!strcmp("tlsext", protocol)) {
+
+                /* Turn on the SNI filter if TCP and ServerName/ServerAlias */
+                if (s->server_hostname || s->names->nelts
+                        || s->wild_names->nelts) {
+                    conf->is_enabled = 1;
+                    bconf->is_sni = 1;
+                }
+                else {
+                    ap_log_error(APLOG_MARK, APLOG_CRIT, 0, s, APLOGNO()
+                                 "mod_tcp: Protocol 'tlsext' specified in "
+                                 "VirtualHost, but ServerName/ServerAlias not present");
+                    return HTTP_INTERNAL_SERVER_ERROR;
+                }
+            }
+
+        }
+
+    }
+
+    tcp_method = ap_method_register(p, "TCP");
+
+    return OK;
+}
+
+static const command_rec tcp_cmds[] =
+{
+    {NULL}
+};
+
+static void ap_tcp_register_hook(apr_pool_t *p)
+{
+    static const char *const aszSucc[] = { "mod_ssl.c", NULL};
+
+    ap_hook_post_config(tcp_post_config, NULL, NULL, APR_HOOK_MIDDLE);
+
+    ap_hook_pre_connection(tcp_pre_connection,NULL,NULL, APR_HOOK_MIDDLE);
+    /* after mod_ssl, but before http */
+    ap_hook_process_connection(tcp_process_connection,
+                               NULL, aszSucc, APR_HOOK_MIDDLE);
+
+}
+
+AP_DECLARE_MODULE(tcp) = {
+    STANDARD20_MODULE_STUFF,
+    NULL,                       /* create per-directory config structure */
+    NULL,                       /* merge per-directory config structures */
+    create_tcp_config,          /* create per-server config structure */
+    merge_tcp_config,           /* merge per-server config structures */
+    tcp_cmds,                   /* command apr_table_t */
+    ap_tcp_register_hook        /* register hooks */
+};
Index: modules/proxy/config.m4
===================================================================
--- modules/proxy/config.m4	(revision 1734657)
+++ modules/proxy/config.m4	(working copy)
@@ -25,6 +25,7 @@
 proxy_fdpass_objs="mod_proxy_fdpass.lo"
 proxy_ajp_objs="mod_proxy_ajp.lo ajp_header.lo ajp_link.lo ajp_msg.lo ajp_utils.lo"
 proxy_wstunnel_objs="mod_proxy_wstunnel.lo"
+proxy_tcp_objs="mod_proxy_tcp.lo"
 proxy_balancer_objs="mod_proxy_balancer.lo"
 
 case "$host" in
@@ -39,6 +40,7 @@
     proxy_fdpass_objs="$proxy_fdpass_objs mod_proxy.la"
     proxy_ajp_objs="$proxy_ajp_objs mod_proxy.la"
     proxy_wstunnel_objs="$proxy_wstunnel_objs mod_proxy.la"
+    proxy_tcp_objs="$proxy_tcp_objs mod_proxy.la"
     proxy_balancer_objs="$proxy_balancer_objs mod_proxy.la"
     ;;
 esac
@@ -58,6 +60,7 @@
     enable_proxy_fdpass=no
   fi
 ],proxy)
+APACHE_MODULE(proxy_tcp, Apache proxy TCP Tunnel module.  Requires and is enabled by --enable-proxy., $proxy_tcp_objs, , $proxy_mods_enable,, proxy)
 APACHE_MODULE(proxy_wstunnel, Apache proxy Websocket Tunnel module.  Requires and is enabled by --enable-proxy., $proxy_wstunnel_objs, , $proxy_mods_enable,, proxy)
 APACHE_MODULE(proxy_ajp, Apache proxy AJP module.  Requires and is enabled by --enable-proxy., $proxy_ajp_objs, , $proxy_mods_enable,, proxy)
 APACHE_MODULE(proxy_balancer, Apache proxy BALANCER module.  Requires and is enabled by --enable-proxy., $proxy_balancer_objs, , $proxy_mods_enable,, proxy)
Index: modules/proxy/mod_proxy_tcp.c
===================================================================
--- modules/proxy/mod_proxy_tcp.c	(revision 0)
+++ modules/proxy/mod_proxy_tcp.c	(working copy)
@@ -0,0 +1,567 @@
+/* Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+#include "mod_proxy.h"
+#include "ap_mpm.h"
+
+module AP_MODULE_DECLARE_DATA proxy_tcp_module;
+
+/*
+ * mod_proxy_tcp.c
+ *
+ * A module for mod_proxy that creates a TCP tunnel towards a backend endpoint,
+ * with or without SSL.
+ *
+ * When SNI is available, the target host can be used to select the given
+ * backend.
+ *
+ *  Created on: Feb 26, 2016
+ *      Author: minfrin
+ */
+
+typedef struct {
+    unsigned int idle_timeout_set:1;
+    unsigned int async_delay_set:1;
+    int is_async;
+    apr_time_t idle_timeout;
+    apr_time_t async_delay;
+} proxy_tcp_server_conf;
+
+typedef struct tcp_baton_t {
+    request_rec *r;
+    proxy_conn_rec *proxy_connrec;
+    apr_socket_t *server_soc;
+    apr_socket_t *client_soc;
+    apr_pollset_t *pollset;
+    apr_bucket_brigade *bb_i;
+    apr_bucket_brigade *bb_o;
+    apr_pool_t *subpool;        /* cleared before each suspend, destroyed when request ends */
+    char *scheme;               /* required to release the proxy connection */
+} tcp_baton_t;
+
+static ap_filter_rec_t *proxy_tcp_output_filter_handle;
+
+
+/**
+ * Backend Handling
+ * ----------------
+ *
+ * We handle connections from the proxy to the backend, consisting
+ * of a simple tunnel.
+ */
+
+static void proxy_tcp_callback(void *b);
+
+static apr_status_t proxy_tcp_output_filter(ap_filter_t *f, apr_bucket_brigade *bb)
+{
+
+    return APR_SUCCESS;
+}
+
+static int proxy_tcp_pump(tcp_baton_t *baton, apr_time_t timeout, int try_async) {
+    request_rec *r = baton->r;
+    conn_rec *c = r->connection;
+    proxy_conn_rec *conn = baton->proxy_connrec;
+    apr_socket_t *sock = conn->sock;
+    conn_rec *backconn = conn->connection;
+    const apr_pollfd_t *signalled;
+    apr_int32_t pollcnt, pi;
+    apr_int16_t pollevent;
+    apr_pollset_t *pollset = baton->pollset;
+    apr_socket_t *client_socket = baton->client_soc;
+    apr_status_t rv;
+    apr_bucket_brigade *bb_i = baton->bb_i;
+    apr_bucket_brigade *bb_o = baton->bb_o;
+    int done = 0, replied = 0;
+
+    do {
+        int loop = 0;
+
+        /* first, do we have any pending data? read it before trying to block */
+        if (ap_filter_input_pending(backconn) == OK) {
+            done |= ap_proxy_transfer_between_connections(r, backconn, c, bb_i,
+                    bb_o, "sock", NULL, AP_IOBUFSIZE, 0) != APR_SUCCESS;
+            loop = 1;
+        }
+        if (ap_filter_input_pending(c) == OK) {
+            done |= ap_proxy_transfer_between_connections(r, c, backconn, bb_i,
+                    bb_o, "client", NULL, AP_IOBUFSIZE, 0) != APR_SUCCESS;
+            loop = 1;
+        }
+        if (loop) {
+            continue;
+        }
+
+        /* poll for read in either direction */
+        rv = apr_pollset_poll(pollset, timeout, &pollcnt, &signalled);
+        if (rv != APR_SUCCESS) {
+            if (APR_STATUS_IS_EINTR(rv)) {
+                continue;
+            }
+            else if (APR_STATUS_IS_TIMEUP(rv)) {
+                if (try_async) {
+                    ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r, APLOGNO() "Attempting to go async");
+                    return SUSPENDED;
+                }
+                else {
+                    return HTTP_REQUEST_TIME_OUT;
+                }
+            }
+            else {
+                ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, r, APLOGNO() "error apr_poll()");
+                return HTTP_INTERNAL_SERVER_ERROR;
+            }
+        }
+
+        ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r, APLOGNO()
+                "woke from poll(), i=%d", pollcnt);
+
+        for (pi = 0; pi < pollcnt; pi++) {
+            const apr_pollfd_t *cur = &signalled[pi];
+
+            if (cur->desc.s == sock) {
+                pollevent = cur->rtnevents;
+                if (pollevent & (APR_POLLIN | APR_POLLHUP)) {
+                    ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r, APLOGNO(02446)
+                            "sock was readable");
+                    done |= ap_proxy_transfer_between_connections(r, backconn,
+                            c, bb_i, bb_o, "sock", NULL, AP_IOBUFSIZE, 0)
+                            != APR_SUCCESS;
+                }
+                else if (pollevent & APR_POLLERR) {
+                    ap_log_rerror(APLOG_MARK, APLOG_NOTICE, 0, r, APLOGNO(02447)
+                            "error on backconn");
+                    backconn->aborted = 1;
+                    done = 1;
+                }
+                else {
+                    ap_log_rerror(APLOG_MARK, APLOG_NOTICE, 0, r, APLOGNO(02605)
+                            "unknown event on backconn %d", pollevent);
+                    done = 1;
+                }
+            }
+            else if (cur->desc.s == client_socket) {
+                pollevent = cur->rtnevents;
+                if (pollevent & (APR_POLLIN | APR_POLLHUP)) {
+                    ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r, APLOGNO(02448)
+                            "client was readable");
+                    done |= ap_proxy_transfer_between_connections(r, c,
+                            backconn, bb_o, bb_i, "client", &replied,
+                            AP_IOBUFSIZE, 0) != APR_SUCCESS;
+                }
+                else if (pollevent & APR_POLLERR) {
+                    ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r, APLOGNO(02607)
+                            "error on client conn");
+                    c->aborted = 1;
+                    done = 1;
+                }
+                else {
+                    ap_log_rerror(APLOG_MARK, APLOG_NOTICE, 0, r, APLOGNO(02606)
+                            "unknown event on client conn %d", pollevent);
+                    done = 1;
+                }
+            }
+            else {
+                ap_log_rerror(APLOG_MARK, APLOG_INFO, 0, r, APLOGNO(02449)
+                        "unknown socket in pollset");
+                done = 1;
+            }
+
+        }
+    } while (!done);
+
+    ap_log_rerror(APLOG_MARK, APLOG_TRACE2, 0, r,
+            "finished with poll() - cleaning up");
+
+    if (!replied) {
+        return HTTP_BAD_GATEWAY;
+    }
+    else {
+        return OK;
+    }
+}
+
+static void proxy_tcp_finish(tcp_baton_t *baton) {
+    ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, baton->r, "proxy_tcp_finish");
+    baton->proxy_connrec->close = 1; /* new handshake expected on each back-conn */
+    baton->r->connection->keepalive = AP_CONN_CLOSE;
+    ap_proxy_release_connection(baton->scheme, baton->proxy_connrec, baton->r->server);
+    ap_finalize_request_protocol(baton->r);
+    ap_lingering_close(baton->r->connection);
+    apr_socket_close(baton->client_soc);
+    ap_mpm_resume_suspended(baton->r->connection);
+    ap_process_request_after_handler(baton->r); /* don't touch baton or r after here */
+}
+
+/* If neither socket becomes readable in the specified timeout,
+ * this callback will kill the request.  We do not have to worry about
+ * having a cancel and a IO both queued.
+ */
+static void proxy_tcp_cancel_callback(void *b)
+{
+    tcp_baton_t *baton = (tcp_baton_t*)b;
+    ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, baton->r, "proxy_tcp_cancel_callback, IO timed out");
+    proxy_tcp_finish(baton);
+    return;
+}
+
+/* Invoked by the event loop when data is ready on either end.
+ *  Pump both ends until they'd block and then start over again
+ *  We don't need the invoke_mtx, since we never put multiple callback events
+ *  in the queue.
+ */
+static void proxy_tcp_callback(void *b) {
+    int status;
+    apr_socket_t *sockets[3] = {NULL, NULL, NULL};
+    tcp_baton_t *baton = (tcp_baton_t*)b;
+
+    proxy_tcp_server_conf *tconf =
+            ap_get_module_config(baton->r->connection->base_server->module_config,
+                    &proxy_tcp_module);
+
+    apr_pool_clear(baton->subpool);
+
+    status = proxy_tcp_pump(baton, tconf->async_delay, tconf->is_async);
+    if (status == SUSPENDED) {
+        sockets[0] = baton->client_soc;
+        sockets[1] = baton->server_soc;
+
+        ap_mpm_register_socket_callback_timeout(sockets, baton->subpool, 1,
+            proxy_tcp_callback,
+            proxy_tcp_cancel_callback,
+            baton,
+            tconf->idle_timeout);
+
+        ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, baton->r, "proxy_tcp_callback suspend");
+    }
+    else {
+        proxy_tcp_finish(baton);
+    }
+
+}
+
+/*
+ * process the request and write the response.
+ */
+static int proxy_tcp_request(apr_pool_t *p, request_rec *r,
+                             proxy_conn_rec *conn,
+                             proxy_worker *worker,
+                             proxy_server_conf *conf,
+                             apr_uri_t *uri,
+                             char *url, char *server_portstr, char *scheme)
+{
+    apr_status_t rv;
+    apr_pollset_t *pollset;
+    apr_pollfd_t pollfd;
+    conn_rec *c = r->connection;
+    apr_socket_t *sock = conn->sock;
+    apr_bucket_brigade *bb_in = apr_brigade_create(p, conn->connection->bucket_alloc);
+    apr_bucket_brigade *bb_out = apr_brigade_create(p, c->bucket_alloc);
+    apr_socket_t *client_socket = ap_get_conn_socket(c);
+    tcp_baton_t *baton = apr_pcalloc(r->pool, sizeof(tcp_baton_t));
+    apr_socket_t *sockets[3] = {NULL, NULL, NULL};
+    int status;
+
+    proxy_tcp_server_conf *tconf = ap_get_module_config(c->base_server->module_config,
+            &proxy_tcp_module);
+
+    ap_log_rerror(APLOG_MARK, APLOG_TRACE2, 0, r, "setting up poll()");
+
+    if ((rv = apr_pollset_create(&pollset, 2, p, 0)) != APR_SUCCESS) {
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, r, APLOGNO()
+                      "error apr_pollset_create()");
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
+
+    /* CHECKME: This probably doesn't work with mod_ssl WANTS_WRITE. */
+
+    pollfd.p = p;
+    pollfd.desc_type = APR_POLL_SOCKET;
+    pollfd.reqevents = APR_POLLIN | APR_POLLHUP;
+    pollfd.desc.s = sock;
+    pollfd.client_data = NULL;
+    apr_pollset_add(pollset, &pollfd);
+
+    pollfd.desc.s = client_socket;
+    apr_pollset_add(pollset, &pollfd);
+
+    ap_remove_input_filter_byhandle(c->input_filters, "reqtimeout");
+
+    /* This handler should take care of the entire connection; make it so that
+     * nothing else is attempted on the connection after returning. */
+    c->keepalive = AP_CONN_CLOSE;
+
+    baton->r = r;
+    baton->pollset = pollset;
+    baton->client_soc = client_socket;
+    baton->server_soc = sock;
+    baton->proxy_connrec = conn;
+    baton->bb_o = bb_out;
+    baton->bb_i = bb_in;
+    baton->scheme = scheme;
+    apr_pool_create(&baton->subpool, r->pool);
+
+    if (!tconf->is_async) {
+        status = proxy_tcp_pump(baton, tconf->idle_timeout, tconf->is_async);
+    }
+    else {
+        status = proxy_tcp_pump(baton, tconf->async_delay, tconf->is_async);
+        apr_pool_clear(baton->subpool);
+        if (status == SUSPENDED) {
+            sockets[0] = baton->client_soc;
+            sockets[1] = baton->server_soc;
+            rv = ap_mpm_register_socket_callback_timeout(sockets, baton->subpool, 1,
+                         proxy_tcp_callback,
+                         proxy_tcp_cancel_callback,
+                         baton,
+                         tconf->idle_timeout);
+            if (rv == APR_SUCCESS) {
+                return SUSPENDED;
+            }
+            else if (APR_STATUS_IS_ENOTIMPL(rv)) {
+                ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r, APLOGNO() "No async support");
+                status = proxy_tcp_pump(baton, tconf->idle_timeout, 0); /* force no async */
+            }
+            else {
+                ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, r,
+                              APLOGNO() "error creating tcp tunnel");
+                return HTTP_INTERNAL_SERVER_ERROR;
+            }
+        }
+    }
+
+    if (status != OK) {
+        /* Avoid sending error pages down an upgraded connection */
+        if (status != HTTP_REQUEST_TIME_OUT) {
+            r->status = status;
+        }
+        status = OK;
+    }
+    return status;
+}
+
+/**
+ * Canonicalize the URL, ignoring the path components which make
+ * no sense for a raw tcp or tls connection.
+ */
+static int proxy_tcp_canon(request_rec *r, char *url)
+{
+    char *host, sport[7];
+    const char *err;
+    char *scheme;
+    apr_port_t port, def_port;
+
+    /* ap_port_of_scheme() */
+    if (ap_casecmpstrn(url, "tcp:", 4) == 0) {
+        url += 4;
+        scheme = "tcp:";
+        def_port = apr_uri_port_of_scheme("http");
+    }
+    else if (ap_casecmpstrn(url, "tls:", 4) == 0) {
+        url += 4;
+        scheme = "tls:";
+        def_port = apr_uri_port_of_scheme("https");
+    }
+    else {
+        return DECLINED;
+    }
+
+    port = def_port;
+    ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r, "canonicalising URL %s", url);
+
+    /*
+     * do syntactic check.
+     * We break the URL into host, port, path, search
+     */
+    err = ap_proxy_canon_netloc(r->pool, &url, NULL, NULL, &host, &port);
+    if (err) {
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO(02439) "error parsing URL %s: %s",
+                      url, err);
+        return HTTP_BAD_REQUEST;
+    }
+
+    apr_snprintf(sport, sizeof(sport), ":%d", port);
+
+    if (ap_strchr_c(host, ':')) {
+        /* if literal IPv6 address */
+        host = apr_pstrcat(r->pool, "[", host, "]", NULL);
+    }
+    r->filename = apr_pstrcat(r->pool, "proxy:", scheme, "//", host, sport,
+            NULL);
+
+    return OK;
+}
+
+static int proxy_tcp_handler(request_rec *r, proxy_worker *worker,
+                             proxy_server_conf *conf,
+                             char *url, const char *proxyname,
+                             apr_port_t proxyport)
+{
+    int status;
+    char server_portstr[32];
+    proxy_conn_rec *backend = NULL;
+    char *scheme;
+    conn_rec *c = r->connection;
+    apr_pool_t *p = r->pool;
+    char *locurl = url;
+    apr_uri_t *uri;
+    int is_ssl = 0;
+
+    if (ap_casecmpstrn(url, "tls:", 4) == 0) {
+        scheme = "tls";
+        is_ssl = 1;
+    }
+    else if (ap_casecmpstrn(url, "tcp:", 4) == 0) {
+        scheme = "tcp";
+    }
+    else {
+        ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r, APLOGNO() "declining URL %s", url);
+        return DECLINED;
+    }
+
+    // FIXME: looks generic below this point
+
+    uri = apr_palloc(p, sizeof(*uri));
+    ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r, APLOGNO() "serving URL %s", url);
+
+    /* create space for state information */
+    status = ap_proxy_acquire_connection(scheme, &backend, worker, r->server);
+    if (status != OK) {
+        goto cleanup;
+    }
+
+    backend->is_ssl = is_ssl;
+    backend->close = 0;
+
+    /* Step One: Determine Who To Connect To */
+    status = ap_proxy_determine_connection(p, r, conf, worker, backend,
+                                           uri, &locurl, proxyname, proxyport,
+                                           server_portstr,
+                                           sizeof(server_portstr));
+    if (status != OK) {
+        goto cleanup;
+    }
+
+    /* Step Two: Make the Connection */
+    if (ap_proxy_connect_backend(scheme, backend, worker, r->server)) {
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO(02452)
+                      "failed to make connection to backend: %s",
+                      backend->hostname);
+        status = HTTP_SERVICE_UNAVAILABLE;
+        goto cleanup;
+    }
+
+    /* Step Three: Create conn_rec */
+    if (!backend->connection) {
+        status = ap_proxy_connection_create(scheme, backend, c, r->server);
+        if (status  != OK) {
+            goto cleanup;
+        }
+    }
+
+    /* Step Three: Process the Request */
+    status = proxy_tcp_request(p, r, backend, worker, conf, uri, locurl,
+                                  server_portstr, scheme);
+
+cleanup:
+    /* Do not close the socket */
+    if (backend && status != SUSPENDED) {
+        backend->close = 1;
+        ap_proxy_release_connection(scheme, backend, r->server);
+    }
+    return status;
+}
+
+/**
+ * Configuration
+ * -------------
+ *
+ */
+
+static void * create_proxy_tcp_config(apr_pool_t *p, server_rec *s)
+{
+    proxy_tcp_server_conf *new = apr_pcalloc(p, sizeof(proxy_tcp_server_conf));
+
+    new->idle_timeout = -1; /* no timeout */
+
+    return new;
+}
+
+static void * merge_proxy_tcp_config(apr_pool_t *p, void *basev, void *overridesv)
+{
+    proxy_tcp_server_conf *ps = apr_pcalloc(p, sizeof(proxy_tcp_server_conf));
+    proxy_tcp_server_conf *base = (proxy_tcp_server_conf *) basev;
+    proxy_tcp_server_conf *overrides = (proxy_tcp_server_conf *) overridesv;
+
+    ps->idle_timeout =
+            (overrides->idle_timeout_set == 0) ? base->idle_timeout :
+                    overrides->idle_timeout;
+    ps->idle_timeout_set = overrides->idle_timeout_set || base->idle_timeout_set;
+
+    ps->async_delay =
+            (overrides->async_delay_set == 0) ? base->async_delay :
+                    overrides->async_delay;
+    ps->async_delay_set = overrides->async_delay_set || base->async_delay_set;
+
+    return ps;
+}
+
+static int proxy_tcp_post_config(apr_pool_t *p, apr_pool_t *plog,
+        apr_pool_t *ptemp, server_rec *base_server)
+{
+    server_rec *s;
+    int async_mpm = 0;
+
+    if (ap_mpm_query(AP_MPMQ_IS_ASYNC, &async_mpm) != APR_SUCCESS) {
+        async_mpm = 0;
+    }
+
+    for (s = base_server; s; s = s->next) {
+        proxy_tcp_server_conf *conf = ap_get_module_config(s->module_config,
+                &proxy_tcp_module);
+
+        conf->is_async = async_mpm;
+    }
+
+    return OK;
+}
+
+static const command_rec proxy_tcp_cmds[] =
+{
+    {NULL}
+};
+
+static void ap_proxy_tcp_register_hook(apr_pool_t *p)
+{
+    ap_hook_post_config(proxy_tcp_post_config, NULL, NULL, APR_HOOK_MIDDLE);
+
+    proxy_hook_scheme_handler(proxy_tcp_handler, NULL, NULL, APR_HOOK_FIRST);
+    proxy_hook_canon_handler(proxy_tcp_canon, NULL, NULL, APR_HOOK_FIRST);
+
+    proxy_tcp_output_filter_handle = ap_register_output_filter("PROXY_TCP_OUT",
+            proxy_tcp_output_filter, NULL, AP_FTYPE_PROTOCOL);
+
+}
+
+AP_DECLARE_MODULE(proxy_tcp) = {
+    STANDARD20_MODULE_STUFF,
+    NULL,                       /* create per-directory config structure */
+    NULL,                       /* merge per-directory config structures */
+    create_proxy_tcp_config,    /* create per-server config structure */
+    merge_proxy_tcp_config,     /* merge per-server config structures */
+    proxy_tcp_cmds,             /* command apr_table_t */
+    ap_proxy_tcp_register_hook  /* register hooks */
+};
Index: modules/ssl/config.m4
===================================================================
--- modules/ssl/config.m4	(revision 1734657)
+++ modules/ssl/config.m4	(working copy)
@@ -60,6 +60,13 @@
     fi
 ])
 
+APACHE_MODULE(ssl_tcp, [Support for detecting SNI during TCP proxying], , , most, [
+    dnl TODO: Check for OpenSSL >= 1.0.2
+    if test "$enable_ssl" = "no"; then
+        AC_MSG_ERROR([mod_ssl_tcp is dependent on mod_ssl, which is not enabled.])
+    fi
+])
+
 dnl #  end of module specific part
 APACHE_MODPATH_FINISH
 
Index: modules/ssl/mod_ssl_tcp.c
===================================================================
--- modules/ssl/mod_ssl_tcp.c	(revision 0)
+++ modules/ssl/mod_ssl_tcp.c	(working copy)
@@ -0,0 +1,435 @@
+/* Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+#include "ap_mpm.h"
+#include "httpd.h"
+#include "http_log.h"
+#include "http_vhost.h"
+#include "util_filter.h"
+
+/* OpenSSL headers */
+#include <openssl/opensslv.h>
+#if (OPENSSL_VERSION_NUMBER >= 0x10001000)
+/* must be defined before including ssl.h */
+#define OPENSSL_NO_SSL_INTERN
+#endif
+#include <openssl/ssl.h>
+#include <openssl/err.h>
+#include <openssl/x509.h>
+#include <openssl/pem.h>
+#include <openssl/crypto.h>
+#include <openssl/evp.h>
+#include <openssl/rand.h>
+#include <openssl/x509v3.h>
+#include <openssl/x509_vfy.h>
+#include <openssl/ocsp.h>
+
+/**
+  * The following features all depend on TLS extension support.
+  * Within this block, check again for features (not version numbers).
+  */
+#if !defined(OPENSSL_NO_TLSEXT) && defined(SSL_set_tlsext_host_name)
+
+#define HAVE_TLSEXT
+
+/* TLS session tickets */
+#if defined(SSL_CTX_set_tlsext_ticket_key_cb)
+#define HAVE_TLS_SESSION_TICKETS
+#define TLSEXT_TICKET_KEY_LEN 48
+#ifndef tlsext_tick_md
+#ifdef OPENSSL_NO_SHA256
+#define tlsext_tick_md EVP_sha1
+#else
+#define tlsext_tick_md EVP_sha256
+#endif
+#endif
+#endif
+
+/* ALPN Protocol Negotiation */
+#if defined(TLSEXT_TYPE_application_layer_protocol_negotiation)
+#define HAVE_TLS_ALPN
+#endif
+
+#endif /* !defined(OPENSSL_NO_TLSEXT) && defined(SSL_set_tlsext_host_name) */
+
+module AP_MODULE_DECLARE_DATA ssl_tcp_module;
+
+/*
+ * mod_ssl_tcp.c
+ *
+ *  Created on: Mar 6, 2016
+ *      Author: minfrin
+ */
+
+/*
+ * This input filter parses the initial client hello, and extracts the
+ * SNI information and sets the virtual host as detected. This filter
+ * is designed to be used when httpd must react to the SNI request, but
+ * not terminate TLS itself.
+ */
+
+static ap_filter_rec_t *ssl_tcp_output_filter_handle;
+
+#ifdef HAVE_TLSEXT
+
+typedef struct {
+    apr_pool_t *pool;
+    apr_bucket_brigade *tmpbb;
+    SSL_CTX *ssl_ctx;
+    SSL *ssl;
+    BIO* in_bio;
+    BIO* out_bio;
+    int done;
+} filter_sni_ctx_t;
+
+apr_status_t ssl_tcp_cleanup(void *data)
+{
+    filter_sni_ctx_t *ctx = data;
+
+    SSL_free(ctx->ssl);
+    SSL_CTX_free(ctx->ssl_ctx);
+
+    return APR_SUCCESS;
+}
+
+/*
+ * Return TRUE iff the given servername matches the server record when
+ * selecting virtual hosts.
+ */
+int sni_vhost_matches(const char *servername, server_rec *s)
+{
+    apr_array_header_t *names;
+    int i;
+
+    /* check ServerName */
+    if (!strcasecmp(servername, s->server_hostname)) {
+        return TRUE;
+    }
+
+    /*
+     * if not matched yet, check ServerAlias entries
+     * (adapted from vhost.c:matches_aliases())
+     */
+    names = s->names;
+    if (names) {
+        char **name = (char **)names->elts;
+        for (i = 0; i < names->nelts; ++i) {
+            if (!name[i])
+                continue;
+            if (!strcasecmp(servername, name[i])) {
+                return TRUE;
+            }
+        }
+    }
+
+    /* if still no match, check ServerAlias entries with wildcards */
+    names = s->wild_names;
+    if (names) {
+        char **name = (char **)names->elts;
+        for (i = 0; i < names->nelts; ++i) {
+            if (!name[i])
+                continue;
+            if (!ap_strcasecmp_match(servername, name[i])) {
+                return TRUE;
+            }
+        }
+    }
+
+    return FALSE;
+}
+
+static int sni_find_vhost(void *servername, conn_rec *c, server_rec *s)
+{
+    int found;
+
+    found = sni_vhost_matches(servername, s);
+
+    /* set SSL_CTX (if matched) */
+    if (found) {
+
+        c->base_server = s;
+
+        return 1;
+    }
+
+    return 0;
+}
+
+#endif
+
+static apr_status_t ssl_tcp_filter(ap_filter_t *f,
+                                      apr_bucket_brigade *b,
+                                      ap_input_mode_t mode,
+                                      apr_read_type_e block,
+                                      apr_off_t readbytes)
+{
+#ifdef HAVE_TLSEXT
+
+    apr_status_t rv;
+    filter_sni_ctx_t *ctx = f->ctx;
+    const char *str;
+    apr_size_t len;
+    apr_off_t extra = 0;
+    const char *servername = NULL;
+
+    ap_log_cerror(APLOG_MARK, APLOG_TRACE4, 0, f->c,
+                  "read of TLS client hello to parse SNI, mode %d, "
+                  "%" APR_OFF_T_FMT " bytes",
+                  mode, readbytes);
+
+    if (!ctx) {
+        apr_pool_t *pool;
+
+        /* we want to cleanup as early as possible so we don't
+         * hang around for the duration of the request.
+         */
+        apr_pool_create(&pool, f->c->pool);
+
+        f->ctx = ctx = apr_palloc(pool, sizeof(*ctx));
+        ctx->pool = pool;
+        ap_filter_prepare_brigade(f, NULL);
+        ctx->tmpbb = apr_brigade_create(pool, f->c->bucket_alloc);
+        ctx->done = 0;
+
+        ctx->ssl_ctx = SSL_CTX_new(TLSv1_server_method());
+        ctx->ssl = SSL_new(ctx->ssl_ctx);
+        SSL_set_cipher_list(ctx->ssl, "ALL");
+        ctx->in_bio = BIO_new(BIO_s_mem());
+        ctx->out_bio = BIO_new(BIO_s_mem());
+        SSL_set_bio(ctx->ssl, ctx->in_bio, ctx->out_bio);
+        SSL_set_accept_state(ctx->ssl);
+
+        apr_pool_cleanup_register(pool, ctx,
+                                  ssl_tcp_cleanup,
+                                  apr_pool_cleanup_null);
+
+    }
+    else if (ctx->done && APR_BRIGADE_EMPTY(f->bb)) {
+
+        /* we're done, clean up early */
+        ap_remove_input_filter(f);
+        apr_pool_destroy(ctx->pool);
+        f->ctx = NULL;
+
+        return ap_get_brigade(f->next, b, mode, block, readbytes);
+    }
+
+    if (mode == AP_MODE_INIT) {
+
+        /*
+         * if we attempt to initialise, turn this into a READBYTES
+         * mode and attempt to read at least one SSL handshake worth
+         * of data.
+         */
+        mode = AP_MODE_READBYTES;
+        extra = HUGE_STRING_LEN;
+    }
+
+    if (mode == AP_MODE_GETLINE) {
+        return apr_brigade_split_line(b, f->bb, block, HUGE_STRING_LEN);
+    }
+
+    if (mode == AP_MODE_EATCRLF) {
+        apr_bucket *e;
+        const char *c;
+
+        while (1) {
+            if (APR_BRIGADE_EMPTY(f->bb)) {
+                return ap_get_brigade(f->next, b, mode, block, readbytes);
+            }
+
+            e = APR_BRIGADE_FIRST(f->bb);
+
+            rv = apr_bucket_read(e, &str, &len, APR_NONBLOCK_READ);
+
+            if (rv != APR_SUCCESS) {
+                return rv;
+            }
+
+            c = str;
+            while (c < str + len) {
+                if (*c == APR_ASCII_LF) {
+                    c++;
+                }
+                else if (*c == APR_ASCII_CR && *(c + 1) == APR_ASCII_LF) {
+                    c += 2;
+                }
+                else {
+                    return APR_SUCCESS;
+                }
+            }
+
+            apr_bucket_delete(e);
+        }
+        return APR_SUCCESS;
+    }
+
+    if (mode == AP_MODE_EXHAUSTIVE) {
+
+        APR_BRIGADE_CONCAT(b, f->bb);
+
+        return ap_get_brigade(f->next, b, mode, block, readbytes);
+    }
+
+    if (mode == AP_MODE_SPECULATIVE) {
+        return ap_get_brigade(f->next, b, mode, block, readbytes);
+    }
+
+    if (mode == AP_MODE_READBYTES) {
+        apr_bucket *e;
+
+        rv = ap_get_brigade(f->next, f->bb, mode, block, readbytes + extra);
+
+        if (rv != APR_SUCCESS) {
+            return rv;
+        }
+
+        e = APR_BRIGADE_FIRST(f->bb);
+        while (!ctx->done && e != APR_BRIGADE_SENTINEL(f->bb)) {
+
+            const char *str;
+            apr_size_t len;
+
+            rv = apr_bucket_read(e, &str, &len, APR_BLOCK_READ);
+            if (rv == APR_SUCCESS) {
+                int rc;
+
+                BIO_write(ctx->in_bio, str, (int) len);
+
+                if ((rc = SSL_do_handshake(ctx->ssl)) <= 0) {
+                    int ssl_err = SSL_get_error(ctx->ssl, rc);
+                    if (ssl_err == SSL_ERROR_WANT_READ) {
+                        /* handshake fine so far, give us more
+                         * data.
+                         */
+
+                    }
+                    else {
+                        /* either the first part of the handshake is done and we
+                         * want to write, or some part of the handshake has
+                         * failed. It doesn't matter at this point, we only care
+                         * about the servername.
+                         */
+
+                        /* not SSL, step out of the way */
+                        servername = SSL_get_servername(ctx->ssl, TLSEXT_NAMETYPE_host_name);
+                        ctx->done = 1;
+                    }
+                }
+
+            }
+
+            e = APR_BUCKET_NEXT(e);
+        }
+
+        rv = apr_brigade_partition(f->bb, readbytes, &e);
+        if (rv != APR_SUCCESS && rv != APR_INCOMPLETE) {
+            return rv;
+        }
+
+        ctx->tmpbb = apr_brigade_split_ex(f->bb, e, ctx->tmpbb);
+
+        APR_BRIGADE_CONCAT(b, f->bb);
+        APR_BRIGADE_CONCAT(f->bb, ctx->tmpbb);
+
+    }
+
+    /* did we detect a valid handshake and a valid servername? */
+    if (servername) {
+        if (ap_vhost_iterate_given_conn(f->c, sni_find_vhost,
+                                        (void *)servername)) {
+            ap_log_cerror(APLOG_MARK, APLOG_DEBUG, 0, f->c, APLOGNO()
+                          "TCP+SNI virtual host for servername %s found",
+                          servername);
+            return APR_SUCCESS;
+        }
+        else {
+            ap_log_cerror(APLOG_MARK, APLOG_DEBUG, 0, f->c, APLOGNO()
+                          "No matching TCP+SNI virtual host for servername "
+                          "%s found (using default/first virtual host)",
+                          servername);
+        }
+    }
+    else {
+        ap_log_cerror(APLOG_MARK, APLOG_DEBUG, 0, f->c, APLOGNO()
+                      "TCP+SNI servername not provided via TLS extension "
+                      "(using default/first virtual host)");
+    }
+
+    return APR_SUCCESS;
+
+#else
+
+    ap_log_cerror(APLOG_MARK, APLOG_DEBUG, 0, f->c,
+                  "no support for TLSEXT, SSL_TCP_SNI disabled, mode %d, "
+                  "%" APR_OFF_T_FMT " bytes",
+                  mode, readbytes);
+
+    ap_remove_input_filter(f);
+    return ap_get_brigade(f->next, b, mode, block, readbytes);
+
+#endif
+
+}
+
+static apr_status_t ssl_tcp_cleanup_pre_config(void *data)
+{
+    /* Corresponds to SSL_library_init: */
+    EVP_cleanup();
+
+    return APR_SUCCESS;
+}
+
+static int ssl_tcp_hook_pre_config(apr_pool_t *pconf,
+                               apr_pool_t *plog,
+                               apr_pool_t *ptemp)
+{
+
+    SSL_library_init();
+
+    /*
+     * Let us cleanup the ssl library when the module is unloaded
+     */
+    apr_pool_cleanup_register(pconf, NULL, ssl_tcp_cleanup_pre_config,
+                                           apr_pool_cleanup_null);
+
+    return OK;
+}
+
+static const command_rec ssl_tcp_cmds[] =
+{
+    {NULL}
+};
+
+static void ap_ssl_tcp_register_hook(apr_pool_t *p)
+{
+
+    ap_hook_pre_config(ssl_tcp_hook_pre_config, NULL, NULL, APR_HOOK_MIDDLE);
+
+    ssl_tcp_output_filter_handle = ap_register_input_filter("SSL_TCP_SNI",
+            ssl_tcp_filter, NULL, AP_FTYPE_CONNECTION + 6);
+
+}
+
+AP_DECLARE_MODULE(ssl_tcp) = {
+    STANDARD20_MODULE_STUFF,
+    NULL,                       /* create per-directory config structure */
+    NULL,                       /* merge per-directory config structures */
+    NULL,                       /* create per-server config structure */
+    NULL,                       /* merge per-server config structures */
+    ssl_tcp_cmds,             /* command apr_table_t */
+    ap_ssl_tcp_register_hook  /* register hooks */
+};

--Apple-Mail=_8248A05A-A997-46A6-B13C-C5339B82516C--

From dev-return-85847-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 12 16:26:14 2016
Return-Path: <dev-return-85847-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 915B7199F0
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 12 Mar 2016 16:26:14 +0000 (UTC)
Received: (qmail 13088 invoked by uid 500); 12 Mar 2016 16:26:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13014 invoked by uid 500); 12 Mar 2016 16:26:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13004 invoked by uid 99); 12 Mar 2016 16:26:14 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Mar 2016 16:26:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 9602BC6553
	for <dev@httpd.apache.org>; Sat, 12 Mar 2016 16:26:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Bc6DbomOO6J5 for <dev@httpd.apache.org>;
	Sat, 12 Mar 2016 16:26:11 +0000 (UTC)
Received: from mail-ig0-f175.google.com (mail-ig0-f175.google.com [209.85.213.175])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 688295FB5C
	for <dev@httpd.apache.org>; Sat, 12 Mar 2016 16:26:11 +0000 (UTC)
Received: by mail-ig0-f175.google.com with SMTP id av4so33966166igc.1
        for <dev@httpd.apache.org>; Sat, 12 Mar 2016 08:26:11 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=7ii2V9BEImvwkwattuqMStJLfxfSYqSQniF6EYPInwo=;
        b=tzo8eCT2581ZqM6tbMBlSbwYns7ln9Plu0wvZ84y1bBj/b0bMmoHSfGHN1Gpef1a79
         SZ12JEHdv+goVKDNbb4w+29mfOL+4HY2pEnj8yrsnJjssTAjBIAnfHO5wHntsXWNx41O
         owTgP67YHAUSZ482sXw6w/wgBiZHr40po8LovH6eKXxVTbiKn+MR6WEDHNQzyEoMuBkt
         QJTsyjiOgfpE5G5+VFzc7CI4RGk9N20cuSqB9Xvo3og9orb+Cy9zKZlLvUQ/gwS+ZDSR
         XV11h5pE2Y25dRe5Fq0wohbqC7GbByRAY+DIk4N6wl0GRNbptYJkZS1xX1NO3zpxr5wr
         hGtA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=7ii2V9BEImvwkwattuqMStJLfxfSYqSQniF6EYPInwo=;
        b=MIQ2fDbkMYU8FLDldBzjBYET/YjAdGknxkzVWjZ+VHDZDTCtjN6M2PUPVMTvWBfhB4
         shk2KNwwQoaRe4kyZjpxYFPXwcwoSdkCbIYtxK+fiqp+T6Fn2vAX4ps85C1bjNc6q6Kj
         eGYXAAzpE8IsqHZSyz6EnlA2VzXd6/+2eKEt4UBFZM8HCfnPNiUgamzs8S0vVJJ+ty6a
         uXBBS+m49pYZ3UtqUAqzvdEy64E1DMHWazm/V5/s13TkzienAolHG4GwflM7Gk8SOD0k
         FnajERrDlbuHLlxI1+VFBoFMc7ELvhPSBTDEd5PQIs70BemxjSN3nfaXoD9RJ3Zg+efo
         Dfbg==
X-Gm-Message-State: AD7BkJJjxbE1CEBrDL+3Z8PT4VbHZOIi8vQXO+tR/DPFaj9/Oi+dJ5xMbVLo1GoDCtj0SXIdeCNH3xReWqNgOA==
MIME-Version: 1.0
X-Received: by 10.50.39.50 with SMTP id m18mr9404356igk.56.1457799963780; Sat,
 12 Mar 2016 08:26:03 -0800 (PST)
Received: by 10.64.1.77 with HTTP; Sat, 12 Mar 2016 08:26:03 -0800 (PST)
In-Reply-To: <B1F5326F-47FC-4868-8FAB-6D9DD492385F@sharp.fm>
References: <B1F5326F-47FC-4868-8FAB-6D9DD492385F@sharp.fm>
Date: Sat, 12 Mar 2016 11:26:03 -0500
Message-ID: <CALK=YjPE_kffQUZ8GU5OUOrLF+fyWz6Y0O9T_S6wW0k2LCbuCQ@mail.gmail.com>
Subject: Re: [Patch] mod_tcp / mod_proxy_tcp / mod_ssl_tcp
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Sat, Mar 12, 2016 at 10:46 AM, Graham Leggett <minfrin@sharp.fm> wrote:
> The following patch provides support for TCP proxying to httpd.
>
> It consists of the following three parts:
>
> - mod_tcp: Allows the frontend to receive pure TCP connections
> - mod_proxy_tcp: Allows the proxy to make pure tcp or tls connections to a backend
> - mod_ssl_tcp: Allows the proxy to route incoming connections based on the SNI header (tlsext)


Very cool stuff. Only looked on the surface so far, but one thing it
reminded me of in the async case is that the MPM knows the "suspended"
count but we never gave an API to really "unsuspend" when using a
timed or socket callback.  Longer term we really need to find a way to
share that raw forwarding code as it's now probably in three modules.

From dev-return-85848-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 12 21:13:20 2016
Return-Path: <dev-return-85848-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 07B7519D74
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 12 Mar 2016 21:13:20 +0000 (UTC)
Received: (qmail 810 invoked by uid 500); 12 Mar 2016 21:13:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 744 invoked by uid 500); 12 Mar 2016 21:13:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 734 invoked by uid 99); 12 Mar 2016 21:13:19 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Mar 2016 21:13:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 2ED90C03E9
	for <dev@httpd.apache.org>; Sat, 12 Mar 2016 21:13:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id CnGiYAzMQ8Kv for <dev@httpd.apache.org>;
	Sat, 12 Mar 2016 21:13:17 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id D88345F2C3
	for <dev@httpd.apache.org>; Sat, 12 Mar 2016 21:13:16 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 98C3F20E01
	for <dev@httpd.apache.org>; Sat, 12 Mar 2016 22:13:09 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UGi3RI1NTGS1 for <dev@httpd.apache.org>;
	Sat, 12 Mar 2016 22:13:09 +0100 (CET)
Received: from [10.0.0.1] (CPE-110-147-151-242.nhl8.cht.bigpond.net.au [110.147.151.242])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 7213B20601
	for <dev@httpd.apache.org>; Sat, 12 Mar 2016 22:13:08 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: A future for mod_lua and NetWare?
Message-ID: <56E48651.4030506@gknw.net>
Date: Sun, 13 Mar 2016 08:12:49 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/M All.
When mod_lua hit httpd-trunk it was configured to have a single (global) 
memory pool, and NetWare compiled it and ran lua code as expected.

A later modification to mod_lua code introduced a memory pool per 
process and required shared memory, a function group that is not in 
NetWare's skill set. The present code can still be compiled by NetWare 
but when it is loaded into the web server, results in:

>             "mod_lua: Failed to create shared memory segment on file %s",
>                      lua_ivm_shmfile);
>         return HTTP_INTERNAL_SERVER_ERROR;

in the server logs.

The question then is:

1. Would it be desirable to support both pool modes using #ifdef 
APR_HAS_SHM to determine pool type used (this would affect at least 3 
files, mod_lua.c, lua_vmprint.c and lua_request.c);

OR

Having having regard for code simplification, the better(?) (newer) pool 
system and the age of NetWare, just remove NetWare support from mod_lua?

For consideration,
Norm

From dev-return-85849-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 13 07:15:17 2016
Return-Path: <dev-return-85849-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7758418776
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 13 Mar 2016 07:15:17 +0000 (UTC)
Received: (qmail 87957 invoked by uid 500); 13 Mar 2016 07:15:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 87870 invoked by uid 500); 13 Mar 2016 07:15:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87861 invoked by uid 99); 13 Mar 2016 07:15:16 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2016 07:15:16 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id 2A29D1A0094
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 07:15:16 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 9452F60300; Sun, 13 Mar 2016 07:15:15 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2016/03/13]
Message-Id: <20160313071515.9452F60300@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 13 Mar 2016 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24437|Opn|Nor|2003-11-05|mod_auth_ldap doubly-escapes backslash (\) charact|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Enh|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37770|Opn|Blk|2005-12-03|proxy: error reading status line from remote serve|
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Inf|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|Verify that log directories exist in httpd -t conf|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|Opn|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Maj|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47650|Opn|Trv|2009-08-05|httxt2dbm calculates value size incorrectly       |
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|New|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51104|Opn|Maj|2011-04-21|C++ support about httpd_config.h                  |
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|Opn|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Blk|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Nor|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|53999|Opn|Nor|2012-10-13|Deadlock between procmgr_send_spawn_cmd()/proctabl|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|Ver|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|mod_remoteip updates the "ip" (%a), but "host" (%h|
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|Inf|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|New|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|Ver|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|Ver|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|Ver|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|Ver|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Enh|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|Opn|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
|58089|New|Nor|2015-07-01|mod_authz_host uses proxy IP even when mod_remotei|
|58101|New|Nor|2015-07-05|DeflateCompressionLevel inside vhost resets logfor|
|58107|New|Blk|2015-07-06|Httpd crashes on startup every time, dump file att|
|58109|New|Nor|2015-07-06|Apache on windows cannot handle the hash symbol (#|
|58118|New|Min|2015-07-09|mod_proxy_fcgi logs 503 when user aborts connectio|
|58120|New|Nor|2015-07-10|ProxyPassInherit does not work as expect          |
|58121|New|Nor|2015-07-10|ProxyHTMLMeta seems to ignore all <meta http-equiv|
|58129|New|Nor|2015-07-12|man pages are not generated correctly             |
|58132|New|Nor|2015-07-12|non-standard, non-traditional man page layout make|
|58135|New|Nor|2015-07-14|mod_cache sends client "if-Modified-Since" to back|
|58141|New|Nor|2015-07-15|Apache Service doesn't start when rotatlogs.exe pa|
|58142|New|Nor|2015-07-15|authz_core ignores loglevel                       |
|58158|New|Nor|2015-07-21|Not honoring HTTP spec with regard to Accept-Encod|
|58168|New|Enh|2015-07-21|Would like full request evaluation support in Rewr|
|58171|New|Nor|2015-07-22|ap_session_save saves the wrong session after a de|
|58177|New|Enh|2015-07-24|Mod Proxy forward trailers in http chunked request|
|58180|New|Enh|2015-07-24|ErrorDocument original URL in subsequent <Location|
|58181|New|Enh|2015-07-25|mod_expire should allow "minus" keyword same like |
|58188|New|Nor|2015-07-28|http2 mod_lua: support build with lua 5.2+        |
|58197|New|Nor|2015-07-31|apr-util-1.5.4 build against openldap - "could not|
|58225|New|Reg|2015-08-08|intermitant segfault 11 in session_identity_encode|
|58226|New|Nor|2015-08-08|XSS in Error Page                                 |
|58231|New|Nor|2015-08-11|RewriteCond can add "Host" to the Vary-Header     |
|58235|New|Enh|2015-08-12|Ability to allow from domain but with using forwar|
|58243|New|Nor|2015-08-14|rotatelogs goes infinite at startup               |
|58248|New|Nor|2015-08-17|Error 404 in use some characters of utf8 in url   |
|58257|New|Nor|2015-08-18|require ldap-group does not work if account-fullna|
|58278|Inf|Blk|2015-08-24|apache - mod_security Issue : apache no releasing |
|58280|New|Nor|2015-08-24|Backend connection not closed until timeout if cli|
|58288|New|Blk|2015-08-27|Semaphore amount increase until crash when enablin|
|58292|New|Nor|2015-08-27|FallbackResource breaks chunked encoding sometimes|
|58304|New|Nor|2015-08-30|Unexpected Warnings from Macro Use in 2.4         |
|58307|New|Nor|2015-08-31|Segmentation fault in child in "read(__nbytes, __b|
|58317|New|Min|2015-09-02|Error message AH01630 is missing file name on deny|
|58334|New|Min|2015-09-06|WebDAV HTTP access does not include meta tag for c|
|58335|New|Nor|2015-09-07|mod_authnz_ldap mismatch                          |
|58343|New|Nor|2015-09-08|The pdf files come up as a blank page.            |
|58354|New|Maj|2015-09-10|(20014)Internal error (specific information not av|
|58356|New|Blk|2015-09-10|Session jumping due to incorrect route            |
|58364|New|Reg|2015-09-11|Apache Server is restarted time to time (Release 2|
|58417|New|Min|2015-09-16|ApacheBench (ab) won't display Server Software of |
|58419|New|Nor|2015-09-16|ApacheBench (ab) doesn't work with keep-alives aga|
|58423|New|Reg|2015-09-17|Apache >= 2.4.8 PCRE_DUPNAMES causes build failure|
|58437|Opn|Nor|2015-09-21|mod_h2: h2c doesn't work using upgrade from http 1|
|58467|New|Maj|2015-09-29|Environment Variables in ProxyHTMLURLMap produces |
|58475|New|Nor|2015-10-03|Support append/merge with semicolon-separated head|
|58488|New|Nor|2015-10-08|Stoped PHP-FPM pool in multi-pool system with comu|
|58491|New|Maj|2015-10-09|Core dumps appear when the load increases         |
|58492|Inf|Nor|2015-10-09|I think LDAPConnectionPoolTTL is not being honored|
|58498|New|Nor|2015-10-16|Apache 2.4.17: Regression with mod_autoindex (in c|
|58500|New|Nor|2015-10-16|dav_fs not enabled by default                     |
|58503|New|Cri|2015-10-16|segfault in apr_brigade_cleanup() under high load |
|58509|New|Trv|2015-10-20|2.4.17-dev introduces second core.c handler at sta|
|58524|New|Nor|2015-10-23|mod_http2 segfaults when under heavy load         |
|58528|New|Nor|2015-10-23|AllowOverrideList None gets misparsed and .htacces|
|58529|New|Maj|2015-10-23|Segmentation fault after modifying a proxy Balance|
|58550|New|Enh|2015-10-26|During load, Apache 2.2.x with prefork MPM didn|
|58574|New|Nor|2015-11-02|Apache error AH01630 (client denied) but working  |
|58593|New|Nor|2015-11-06|mod_proxy wrong decision between http and ws      |
|58598|New|Enh|2015-11-08|Internal Server Error (500) when requesting non-ex|
|58602|New|Nor|2015-11-11|Priority issue on DirectoryMatch directive        |
|58604|New|Reg|2015-11-12|Plaintext auth broken in any Explicit FTP/AUTH TLS|
|58612|New|Min|2015-11-16|mod_webdav when write_stream failed should break a|
|58669|New|Nor|2015-11-30|Order of DBDInitSQL and DBDPrepareSQL             |
|58688|New|Nor|2015-12-03|Missing mod_ssl connection-level upgrade headers f|
|58700|New|Nor|2015-12-07|Apache logs not working with mod_remoteip and X-fo|
|58720|New|Enh|2015-12-11|querying server status stalls when scoreboard is f|
|58727|New|Min|2015-12-13|Directories with a ProxyPass directive are not dis|
|58732|New|Nor|2015-12-14|Error Log isn't writing When Apache Shutdown with |
|58739|New|Cri|2015-12-15|Undocumented behavior of REDIRECT_URL and REDIRECT|
|58777|Opn|Maj|2015-12-28|URLs containing a ? are assumed to be query string|
|58798|New|Nor|2016-01-04|Misleading terminology                            |
|58799|New|Nor|2016-01-04|mod_fcgid: FcgidMinProcessesPerClass doesn't seem |
|58803|New|Cri|2016-01-05|HTTP connection is getting closed after 5 mins ( R|
|58826|New|Cri|2016-01-08|OCSP Stapling does not resolve DNS                |
|58828|New|Maj|2016-01-08|LA-U variables not set depending on the URI       |
|58834|New|Nor|2016-01-11|ModRewrite fails with .php urls and FPM on Apache |
|58842|New|Nor|2016-01-12|mod_proxy DNS cache with authoritative and no-auth|
|58854|Inf|Reg|2016-01-13|RewriteRule in .htaccess ignores 'Require all deni|
|58855|New|Enh|2016-01-14|Don't read through entire string when testing for |
|58856|New|Reg|2016-01-14|AddOutputFilterByType in Apache 2.4 inserts filter|
|58873|New|Nor|2016-01-15|Chunked encoding, Content Length and mod_deflate  |
|58880|New|Enh|2016-01-17|Support serving stale content while revalidating c|
|58887|Inf|Nor|2016-01-18|Updated install.xml.es and took out the html code |
|58889|New|Blk|2016-01-19|mod_proxy mixes random chars to the backend reques|
|58890|New|Nor|2016-01-19|Address comments on expression parser doc         |
|58892|New|Nor|2016-01-19|Remove 'advanced' rewrite doc, and organize by top|
|58893|New|Nor|2016-01-19|Document that RewriteMap names must be unique acro|
|58894|Inf|Nor|2016-01-20|Updates and Translated into Spanish new features 2|
|58901|New|Nor|2016-01-21|Download of large file is aborted in SSL_write on |
|58907|Inf|Nor|2016-01-21|Translated document  sitemap.xml.es into Spanish  |
|58921|New|Nor|2016-01-26|Compiler removal of code to clear password buffer |
|58926|New|Nor|2016-01-28|[Patchset] Improvements for apxs                  |
|58929|New|Maj|2016-01-28|coredump when sending illegal CONNECT request     |
|58934|New|Nor|2016-01-29|mod_proxy initial BalancerMember settings not appl|
|58944|New|Nor|2016-01-30|configure script breaks openssl static library dep|
|58945|New|Nor|2016-01-30|Custom-error.xml.es Translated to Spanish.        |
|58960|New|Nor|2016-02-02|Proxying Docker Registry HTTP PATCH command fails |
|58964|New|Maj|2016-02-03|Problems when caching more than one SSI level     |
|58969|New|Nor|2016-02-04|Translated bind.xml.es into spanish need feedback |
|58971|New|Nor|2016-02-04|Upgrade header added in 2.4.18 causes disconnect f|
|58977|New|Maj|2016-02-06|Wrong saved content                               |
|58981|New|Min|2016-02-07|Makefile.win references incorrect src_so file exte|
|58984|New|Nor|2016-02-09|mod_rewrite documentation for R flag should includ|
|58990|New|Enh|2016-02-10|Option to send "406 Not Acceptable" when mime type|
|58994|Inf|Nor|2016-02-11|Apache service is crashing for every two hours    |
|59007|New|Nor|2016-02-15|mod_proxy disables balancer worker after a timeout|
|59032|New|Enh|2016-02-19|mod_proxy_http replaces non compliant status-line |
|59040|New|Trv|2016-02-22|SSILegacyExprParser directive defined as OR_LIMIT,|
|59049|New|Maj|2016-02-23|Apache doesn't recover from OCSP decode error     |
|59086|New|Nor|2016-02-27|Brackets in DocumentRoot and Directory not support|
|59088|New|Nor|2016-02-29|mod_reqtimeout default log level too low          |
|59090|New|Cri|2016-03-01|Issue with WebDav - org.apache.http.NoHttpResponse|
|59111|New|Nor|2016-03-03|Apache Bench does not parse lowercase field names |
|59121|Inf|Min|2016-03-04|The fix to mod_http2 for bug 59078 broke server-st|
|59124|New|Nor|2016-03-05|mod_autoindex not behaving as described in the doc|
|59142|New|Nor|2016-03-08|Nocanon option in ProxyPass is ignored for a long |
+-----+---+---+----------+--------------------------------------------------+
| Total 1581 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-85850-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 13 12:50:45 2016
Return-Path: <dev-return-85850-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1BC6B18180
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 13 Mar 2016 12:50:45 +0000 (UTC)
Received: (qmail 39312 invoked by uid 500); 13 Mar 2016 12:50:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39241 invoked by uid 500); 13 Mar 2016 12:50:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39231 invoked by uid 99); 13 Mar 2016 12:50:44 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2016 12:50:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C7CAA18048C
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 12:50:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.33
X-Spam-Level:
X-Spam-Status: No, score=-0.33 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id YWrwVlRwkYzv for <dev@httpd.apache.org>;
	Sun, 13 Mar 2016 12:50:42 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 7A6565F19B
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 12:50:41 +0000 (UTC)
Received: from [192.168.220.204] (unknown [192.168.220.204])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id A82AA825FF
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 12:50:40 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: [Patch] mod_tcp / mod_proxy_tcp / mod_ssl_tcp
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <CALK=YjPE_kffQUZ8GU5OUOrLF+fyWz6Y0O9T_S6wW0k2LCbuCQ@mail.gmail.com>
Date: Sun, 13 Mar 2016 14:50:39 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <E2F0B689-576D-41B3-B7D8-1451C47545D2@sharp.fm>
References: <B1F5326F-47FC-4868-8FAB-6D9DD492385F@sharp.fm> <CALK=YjPE_kffQUZ8GU5OUOrLF+fyWz6Y0O9T_S6wW0k2LCbuCQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 12 Mar 2016, at 6:26 PM, Eric Covener <covener@gmail.com> wrote:

> Very cool stuff. Only looked on the surface so far, but one thing it
> reminded me of in the async case is that the MPM knows the "suspended"
> count but we never gave an API to really "unsuspend" when using a
> timed or socket callback.  Longer term we really need to find a way to
> share that raw forwarding code as it's now probably in three modules.

I am slowly working through this, teasing out each problem that prevents =
async behaviour.

A key part of mod_tcp is the =E2=80=9Cswitch ladder=E2=80=9D, which =
allows tcp_process_connection() to exit at any time and be called again, =
at which point it will continue where it left off. We need corresponding =
ladders deeper into the core to make each layer down able to continue =
where it left off if it got EAGAIN. We also need to fix some of the =
function signatures - ap_process_request() is void, and so cannot signal =
to us elegantly that it wants to be called again, or whether it is done =
and we can move on.

Another problem that has become apparent is that the MPMs are too =
limiting with respect to the events the core is willing to wait on. =
Right now the only event the core will handle for us is to wait for the =
underlying socket to be readable/writable. What I have in mind is a more =
general mechanism, where instead of =E2=80=9Cone socket=E2=80=9D we have =
=E2=80=9Ca stack of sockets/pipes/files[1]=E2=80=9D, and the event we =
wait for is the socket/pipe/file on the top of the stack. This gives us =
AND behaviour. If browser socket is writable AND backend socket is =
readable then [do stuff].

To state it another way, we wait for the browser socket to be writable, =
this triggers the normal pattern of events until we need to block on =
something else, for example we might block waiting for the backend proxy =
socket to be readable. That socket is added to the stack and the MPM now =
waits for that event. When that event triggers the top of the stack is =
popped off and we=E2=80=99re back to waiting on the underlying event =
(the socket).

I just need to find an elegant way to trigger all of this. It would be =
really nice if we had SOCKET, PIPE, FILE (etc) buckets that pushed =
themselves onto this stack as soon as they returned EAGAIN via some kind =
of callback.

I need to think this through to work out how to incorporate OR into =
this. Perhaps a list of stacks. This would allow a set of read events to =
run concurrently with write events. Then the sense of the connection has =
to be worked into it too so mod_ssl works non blocking.

[1] files are typically not pollable, but we shouldn't restrict our API. =
It=E2=80=99s pipes we want to block on and in our world that=E2=80=99s =
apr_file_t.

Regards,
Graham
=E2=80=94


From dev-return-85851-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 13 15:45:54 2016
Return-Path: <dev-return-85851-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0BE68184C0
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 13 Mar 2016 15:45:54 +0000 (UTC)
Received: (qmail 91500 invoked by uid 500); 13 Mar 2016 15:45:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91422 invoked by uid 500); 13 Mar 2016 15:45:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91412 invoked by uid 99); 13 Mar 2016 15:45:53 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2016 15:45:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C8F261A0794
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 15:45:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Wn4gPL56nVsN for <dev@httpd.apache.org>;
	Sun, 13 Mar 2016 15:45:51 +0000 (UTC)
Received: from resqmta-po-01v.sys.comcast.net (resqmta-po-01v.sys.comcast.net [96.114.154.160])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 394165F1B3
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 15:45:49 +0000 (UTC)
Received: from resomta-po-11v.sys.comcast.net ([96.114.154.235])
	by comcast with SMTP
	id f8D1apgTHR2Rmf8D8aowUA; Sun, 13 Mar 2016 15:45:42 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1457883942;
	bh=wTiJfK+G0vJKq9wbKgiFGmOXUux9VFdHEgjCk7uLvQk=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=M9cUdX+HYs5xluFSm2cYSt/O4S4dAo502f2pUjJjlviCSjxoQTaNbkWaLsHTTdb7h
	 lG2w0yWn6Lzc1rlo9yUfaMabu/GaRYFEynrp6bnxeDyyWs4+dDdnWBozIGL5OYsLTy
	 QFkIRZo7iEcKYhi7Z8Pclr2RE88/X1KeqswMfz66Pdep7z5WnxbfpoX9r52YvtXA0U
	 bQaSqQuMnNR258RJpuMoTtf0NvLR2J+ySHOHKnOv6NaYL4QsLtQWmYyQGnwdPUGFiM
	 ONQ0VMaPWRtPh5i8R8MIHVs7yj0Ezl851o+oJOGl6NYsTeYtvzQqcbfbG67ynFZ/aE
	 hujFWbwDuiybA==
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-11v.sys.comcast.net with comcast
	id VTlg1s00G2U0RYt01TlhiW; Sun, 13 Mar 2016 15:45:41 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: [Patch] mod_tcp / mod_proxy_tcp / mod_ssl_tcp
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <B1F5326F-47FC-4868-8FAB-6D9DD492385F@sharp.fm>
Date: Sun, 13 Mar 2016 11:45:40 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <5A2BE5B3-8DF4-4556-A046-D96AC4C41D75@jaguNET.com>
References: <B1F5326F-47FC-4868-8FAB-6D9DD492385F@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

I've given it a quick look-thru and I. Am. Impressed.

This is more Super Cool Mojo!

> On Mar 12, 2016, at 10:46 AM, Graham Leggett <minfrin@sharp.fm> wrote:
>=20
> Hi all,
>=20
> The following patch provides support for TCP proxying to httpd.
>=20
> It consists of the following three parts:
>=20
> - mod_tcp: Allows the frontend to receive pure TCP connections
> - mod_proxy_tcp: Allows the proxy to make pure tcp or tls connections =
to a backend
> - mod_ssl_tcp: Allows the proxy to route incoming connections based on =
the SNI header (tlsext)
>=20
> In the following example config, incoming TCP connections are routed =
based on their SNI (the tlsext protocol) to given backend servers, which =
then complete the SSL connections as raw tunnels.
>=20
> This allows you to use client certificates through the httpd proxy =
balancer all the way to the backend server without the proxy terminating =
any SSL along the way.
>=20
> <VirtualHost localhost:9000>
>  Protocol tlsext
>=20
>  ServerName jira.example.com
>=20
>  ProxyPass / tcp://john.example.com:443
> </VirtualHost>
>=20
> <VirtualHost localhost:9000>
>  Protocol tlsext
>=20
>  ServerName www.example.com
>=20
>  ProxyPass / tcp://erica.example.com:443
> </VirtualHost>
>=20
> In order for mod_ssl_tcp to work, it needs to read ahead to see if any =
client hello message is present, and then set aside any extra data so it =
could be read again. This is fundamentally incompatible with =
c->data_in_input_filters which only allows the core filter to set aside =
unread data. For this reason the ability to set aside data was rolled =
out to all filters.
>=20
> mod_ssl_tcp just cares about SNI for now, but could conceivably =
support APLN too, making a configuration something like this:
>=20
> <VirtualHost localhost:9000>
>  Protocol tlsext
>  ServerName secure.example.com
>  <Protocol imap>
>    ProxyPass / tcp://imap.example.com:993
>  </Protocol>
>  <Protocol pop>
>    ProxyPass / tcp://pop3.example.com:995
>  </Protocol>
> </VirtualHost>
>=20
> Regards,
> Graham
> --
>=20
> <httpd-tcp-proxy.patch>


From dev-return-85852-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 13 16:54:11 2016
Return-Path: <dev-return-85852-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E57221868D
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 13 Mar 2016 16:54:11 +0000 (UTC)
Received: (qmail 57315 invoked by uid 500); 13 Mar 2016 16:54:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57232 invoked by uid 500); 13 Mar 2016 16:54:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57222 invoked by uid 99); 13 Mar 2016 16:54:11 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2016 16:54:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id EC719180315
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 16:54:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.701
X-Spam-Level:
X-Spam-Status: No, score=-0.701 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_LOW=-0.7, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id JVjTWtbUG46M for <dev@httpd.apache.org>;
	Sun, 13 Mar 2016 16:54:10 +0000 (UTC)
Received: from s2.mail.rcig.net (s2.mail.rcig.net [216.87.38.202])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 663815F19B
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 16:54:09 +0000 (UTC)
Received: from 23-117-14-203.lightspeed.stlsmo.sbcglobal.net ([23.117.14.203]:63113 helo=[192.168.0.2])
	by s2.mail.rcig.net with esmtpa (Exim 4.72)
	(envelope-from <DRuggeri@primary.net>)
	id 1af9HE-0004Ql-CS
	for dev@httpd.apache.org; Sun, 13 Mar 2016 11:54:02 -0500
Subject: Re: [Patch] mod_tcp / mod_proxy_tcp / mod_ssl_tcp
To: dev@httpd.apache.org
References: <B1F5326F-47FC-4868-8FAB-6D9DD492385F@sharp.fm>
 <5A2BE5B3-8DF4-4556-A046-D96AC4C41D75@jaguNET.com>
From: Daniel Ruggeri <DRuggeri@primary.net>
Message-ID: <56E59B23.9080207@primary.net>
Date: Sun, 13 Mar 2016 11:53:55 -0500
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <5A2BE5B3-8DF4-4556-A046-D96AC4C41D75@jaguNET.com>
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: 7bit
X-ACL-Warn: X-The email account used to send this email was: druggeri@primary.net

+1
Really nice work

-- 
Daniel Ruggeri

On 3/13/2016 10:45 AM, Jim Jagielski wrote:
> I've given it a quick look-thru and I. Am. Impressed.
>
> This is more Super Cool Mojo!


From dev-return-85853-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 13 20:29:28 2016
Return-Path: <dev-return-85853-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6216E18BBC
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 13 Mar 2016 20:29:28 +0000 (UTC)
Received: (qmail 6371 invoked by uid 500); 13 Mar 2016 20:29:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6301 invoked by uid 500); 13 Mar 2016 20:29:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6291 invoked by uid 99); 13 Mar 2016 20:29:27 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2016 20:29:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 83277180315
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 20:29:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.33
X-Spam-Level:
X-Spam-Status: No, score=-0.33 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id zvBP-ZoEAymT for <dev@httpd.apache.org>;
	Sun, 13 Mar 2016 20:29:26 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id E2F115FAC4
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 20:29:25 +0000 (UTC)
Received: from [192.168.220.204] (unknown [192.168.220.204])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id D6D1A82616
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 20:29:18 +0000 (GMT)
From: Graham Leggett <minfrin@sharp.fm>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Subject: Proposed change to mpm_register_socket_callback(): apr_socket_t -> apr_pollfd_t
Message-Id: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm>
Date: Sun, 13 Mar 2016 22:29:18 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
X-Mailer: Apple Mail (2.2104)

Hi all,

I would like to propose a change to the mpm_register_socket_callback() =
hooks to add the ability to support both pipes as well as sockets. In =
addition, I need more control over the individual events to support the =
idea that one socket/pipe might want to read at the same time another =
might want to write.

What I have in mind is to swap the apr_socket_t with a apr_pollfd_t, =
with all operation staying the same.

Index: include/mpm_common.h
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- include/mpm_common.h	(revision 1734657)
+++ include/mpm_common.h	(working copy)
@@ -427,14 +427,14 @@
  * @ingroup hooks
  */
 AP_DECLARE_HOOK(apr_status_t, mpm_register_socket_callback,
-                (apr_socket_t **s, apr_pool_t *p, int for_read, =
ap_mpm_callback_fn_t *cbfn, void *baton))
+                (apr_pollfd_t **pds, apr_pool_t *p, =
ap_mpm_callback_fn_t *cbfn, void *baton))
=20
 /* register the specified callback, with timeout=20
  * @ingroup hooks
  *
  */
 AP_DECLARE_HOOK(apr_status_t, mpm_register_socket_callback_timeout,
-                (apr_socket_t **s, apr_pool_t *p, int for_read,=20
+                (apr_pollfd_t **pds, apr_pool_t *p,
                  ap_mpm_callback_fn_t *cbfn, =20
                  ap_mpm_callback_fn_t *tofn,=20
                  void *baton,=20
@@ -444,7 +444,7 @@
  * @ingroup hooks
  */
 AP_DECLARE_HOOK(apr_status_t, mpm_unregister_socket_callback,
-                (apr_socket_t **s, apr_pool_t *p))
+                (apr_pollfd_t **pds, apr_pool_t *p))
=20
 /** Resume the suspended connection=20
  * @ingroup hooks

Regards,
Graham
=E2=80=94


From dev-return-85854-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 13 20:53:31 2016
Return-Path: <dev-return-85854-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EA35B18C2E
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 13 Mar 2016 20:53:31 +0000 (UTC)
Received: (qmail 27102 invoked by uid 500); 13 Mar 2016 20:53:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 27038 invoked by uid 500); 13 Mar 2016 20:53:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 27028 invoked by uid 99); 13 Mar 2016 20:53:31 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2016 20:53:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 105CEC059B
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 20:53:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id sTHLggTWVtFz for <dev@httpd.apache.org>;
	Sun, 13 Mar 2016 20:53:28 +0000 (UTC)
Received: from mail-io0-f182.google.com (mail-io0-f182.google.com [209.85.223.182])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 8FE5E5FAC4
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 20:53:28 +0000 (UTC)
Received: by mail-io0-f182.google.com with SMTP id m184so201986144iof.1
        for <dev@httpd.apache.org>; Sun, 13 Mar 2016 13:53:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=osEE2RtU8VL1PBcjOR4rwRmBhhM0G5H4BfvNOvVCYM4=;
        b=HKdInQty+VhGy29LgkV3OYaKZLcBd5Z1BNK+sMxa8SJj7fkfjfa886m69DVN6WAudW
         bn3DMDwaIhgBGgnURfoShKG4MXwvxyVnxo/ABdKWc9e0A6cQJ/e08cqnJd21Q6/bCxV7
         6PqRabYKoudZKGbTR8z3SU8VE3kk/GdLdMjkoGd69nyjvEMBrvD0Q8ffq2QyOyfeCJAi
         wI7VCeZShfZWyE/ZRrFRJWygYs8/h5efjTSMMTDmeAWbGhRAOAM0SkYKfC1hDmRWm27p
         vYV1s0DQP8wqG2FGE7PiStjNy/ex4neJHoVyNcKYtiFG3ey/PpCsB6FcRIBaFe+v7knO
         ammQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=osEE2RtU8VL1PBcjOR4rwRmBhhM0G5H4BfvNOvVCYM4=;
        b=Ku/lKmexLfZV6FOyFkIBnbzdlOFz4RGNJer7Fc0AoEG68Y2S8te9dQwBSzJ0bXaygz
         ZjDxIF6pzTCGOYgbkOWXb5IwZ/cYshzITOC7PwXvhyvcBGz5a2WB649LBZjnfxB+i2yp
         6eZ7quNyOu8ee1pG0GV89BABcVKsU37tXmk8HkV9emgnrIy6MZIRoY5mVyInUb5OMJ9Y
         uiXm48qS5wTtxgmXCpuTBBX9l54EPGDrca4dAn/80Xwd3yDVaBgZcrpv0uMaEGEvs1sS
         vTqmutW+7HCZkY/aHlJPJwCqTIbUkR40ksR8YZ9gbL4a+MvMkFBs+oqN8p6RsgRYrZ8u
         EDaw==
X-Gm-Message-State: AD7BkJJuabZXlfcE0mkLUBVrIQxshEu+DYHuDT7XOTdjh/5AW40Lwt5f84sHFpeaG+GDZ3RJTD4gp7pB45yk/w==
MIME-Version: 1.0
X-Received: by 10.107.154.18 with SMTP id c18mr22905420ioe.169.1457902407884;
 Sun, 13 Mar 2016 13:53:27 -0700 (PDT)
Received: by 10.64.1.77 with HTTP; Sun, 13 Mar 2016 13:53:27 -0700 (PDT)
In-Reply-To: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm>
References: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm>
Date: Sun, 13 Mar 2016 16:53:27 -0400
Message-ID: <CALK=YjOnyjO0YsZ63rD-rXNPHyHE03owXpWRDP3O+Je=4iNQJg@mail.gmail.com>
Subject: Re: Proposed change to mpm_register_socket_callback(): apr_socket_t
 -> apr_pollfd_t
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Sun, Mar 13, 2016 at 4:29 PM, Graham Leggett <minfrin@sharp.fm> wrote:
> What I have in mind is to swap the apr_socket_t with a apr_pollfd_t, with all operation staying the same.

I don't think I had a good reason for going one way or the other, +1
here.  Trunk-only and presumably nobody consuming it from the lack of
feedback.


-- 
Eric Covener
covener@gmail.com

From dev-return-85855-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 13 20:54:44 2016
Return-Path: <dev-return-85855-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 51F5D18C3A
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 13 Mar 2016 20:54:44 +0000 (UTC)
Received: (qmail 28421 invoked by uid 500); 13 Mar 2016 20:54:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28348 invoked by uid 500); 13 Mar 2016 20:54:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28337 invoked by uid 99); 13 Mar 2016 20:54:43 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2016 20:54:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 62A8D1A134D
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 20:54:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.33
X-Spam-Level:
X-Spam-Status: No, score=-0.33 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id mO6IKHZ9lM8f for <dev@httpd.apache.org>;
	Sun, 13 Mar 2016 20:54:42 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 2E6145F2F2
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 20:54:42 +0000 (UTC)
Received: from [192.168.220.204] (unknown [192.168.220.204])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 60C4E82619
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 20:54:35 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: Proposed change to mpm_register_socket_callback(): apr_socket_t -> apr_pollfd_t
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <CALK=YjOnyjO0YsZ63rD-rXNPHyHE03owXpWRDP3O+Je=4iNQJg@mail.gmail.com>
Date: Sun, 13 Mar 2016 22:54:34 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <F37BF2FE-6E64-4F39-A0E0-7BC959EE543A@sharp.fm>
References: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm> <CALK=YjOnyjO0YsZ63rD-rXNPHyHE03owXpWRDP3O+Je=4iNQJg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 13 Mar 2016, at 10:53 PM, Eric Covener <covener@gmail.com> wrote:

> I don't think I had a good reason for going one way or the other, +1
> here.  Trunk-only and presumably nobody consuming it from the lack of
> feedback.

=46rom what I can see, this was never backported to v2.4.

Regards,
Graham
=E2=80=94


From dev-return-85856-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 13 20:55:43 2016
Return-Path: <dev-return-85856-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D0CC018C40
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 13 Mar 2016 20:55:43 +0000 (UTC)
Received: (qmail 29580 invoked by uid 500); 13 Mar 2016 20:55:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29510 invoked by uid 500); 13 Mar 2016 20:55:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29500 invoked by uid 99); 13 Mar 2016 20:55:43 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2016 20:55:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id F2C071A134D
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 20:55:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id xtWjJFwp8g68 for <dev@httpd.apache.org>;
	Sun, 13 Mar 2016 20:55:41 +0000 (UTC)
Received: from mail-ig0-f181.google.com (mail-ig0-f181.google.com [209.85.213.181])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 3F2215F2F2
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 20:55:40 +0000 (UTC)
Received: by mail-ig0-f181.google.com with SMTP id av4so48610895igc.1
        for <dev@httpd.apache.org>; Sun, 13 Mar 2016 13:55:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=yOB82x91EsS27KFyEmyJqxEHkGuWIDrc0fkHpGs8qFc=;
        b=MjmnDKvIBeY4ToeGyHd6pDX9KH2uP1+gHf2McRt7e1lCwLLsQj6iQgZqKrSx5NKaZv
         eb1jp5vLKlcRVNUhAMZ5OcUeaLhZEjGRKBQRvpjeLx7lMndRF0vz9wQ0oGnj3dqEQwCx
         MJ0k7MeMag0uoc2ik6tIL+n82uuuqATu9XSuub3Ep232hpmSxEDi6UgBDZRbh4gaOOA+
         mjsrUSBN7T9UHcSy8d8DuWwlHCGnujkQou87J6zrrDgsKwpIdcvf312q2K1RBczyckbj
         Z5r2K1PhMyQQX9td5mcnMew7e6sI85lyiiXX1oZ1qJyOCjMUp5X2CgtceCuuGVuG9GaG
         OWDg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=yOB82x91EsS27KFyEmyJqxEHkGuWIDrc0fkHpGs8qFc=;
        b=MRdGiJ6bfwtSQJe38odxPGff9HRVqaYUzZsC9C1K4IivJONsppReivWTIoqCooGEIu
         zqF4C0U1dsV0tWcsxjUnZToSQxidypvOdALvYsdYUzyJh333WTDNmQyNr2HIm4+V5/gq
         gVxp9GYTRCxq7k3V0l87Obzur6ZP7jgWU4TNTPgJHhl8ee/UBm9/I9fw5qKJECfw6E+d
         4r0U5ELeiTdaAYN6BE2hCnB9RU6Yj5xyY2jwTEumf+/3dFR4Cx8VstdkUrFZVSnBUuu1
         BSbU9bqs6xzrp/KkcYZrDs11vH2CI0qLBZDN5xx6PWyFUZKdGlu9iQ2IiSYKZx6WEGOG
         2row==
X-Gm-Message-State: AD7BkJIqcNyHo9C+LjWjOh0u/zbmTfrJjRxdhXTOCPEiVeDfUTFw+mnLtowZ3QUr5mjVEunzSqJQVe0vne5fng==
MIME-Version: 1.0
X-Received: by 10.50.118.100 with SMTP id kl4mr13618585igb.72.1457902532852;
 Sun, 13 Mar 2016 13:55:32 -0700 (PDT)
Received: by 10.64.1.77 with HTTP; Sun, 13 Mar 2016 13:55:32 -0700 (PDT)
In-Reply-To: <F37BF2FE-6E64-4F39-A0E0-7BC959EE543A@sharp.fm>
References: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm>
	<CALK=YjOnyjO0YsZ63rD-rXNPHyHE03owXpWRDP3O+Je=4iNQJg@mail.gmail.com>
	<F37BF2FE-6E64-4F39-A0E0-7BC959EE543A@sharp.fm>
Date: Sun, 13 Mar 2016 16:55:32 -0400
Message-ID: <CALK=YjM-pZysD=DC0jUC+r14BsY9HXoXriO9_NDY8mOVxYqnHg@mail.gmail.com>
Subject: Re: Proposed change to mpm_register_socket_callback(): apr_socket_t
 -> apr_pollfd_t
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Sun, Mar 13, 2016 at 4:54 PM, Graham Leggett <minfrin@sharp.fm> wrote:
> From what I can see, this was never backported to v2.4.

I also meant the original feature never made it, so we can whatever we
want to it.

From dev-return-85857-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 13 21:21:57 2016
Return-Path: <dev-return-85857-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C513018CD7
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 13 Mar 2016 21:21:57 +0000 (UTC)
Received: (qmail 53424 invoked by uid 500); 13 Mar 2016 21:21:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53346 invoked by uid 500); 13 Mar 2016 21:21:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53336 invoked by uid 99); 13 Mar 2016 21:21:56 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2016 21:21:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 95729180315
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 21:21:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.03
X-Spam-Level:
X-Spam-Status: No, score=-1.03 tagged_above=-999 required=6.31
	tests=[HEADER_FROM_DIFFERENT_DOMAINS=0.001, RCVD_IN_DNSWL_LOW=-0.7,
	RP_MATCHES_RCVD=-0.329, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 4HL_DW8eRff2 for <dev@httpd.apache.org>;
	Sun, 13 Mar 2016 21:21:52 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 684645F1B3
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 21:21:52 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1afDSM-0006db-LM
	for dev@httpd.apache.org; Sun, 13 Mar 2016 22:21:46 +0100
Received: from aorleans-552-1-100-119.w92-140.abo.wanadoo.fr ([92.140.171.119])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Sun, 13 Mar 2016 22:21:46 +0100
Received: from christophe.jaillet by aorleans-552-1-100-119.w92-140.abo.wanadoo.fr with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Sun, 13 Mar 2016 22:21:46 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Subject: r1619483
Date: Sun, 13 Mar 2016 22:21:35 +0100
Lines: 13
Message-ID: <nc4ll1$r0h$1@ger.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: aorleans-552-1-100-119.w92-140.abo.wanadoo.fr
X-Mozilla-News-Host: news://news.gmane.org:119
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
X-Antivirus: avast! (VPS 160313-1, 13/03/2016), Outbound message
X-Antivirus-Status: Clean

Hi,

while looking at potential backport to synch and trunk, I arrived on 
r1619483.

This is a follow up of r1619444 which is a follow up of r1619383.
These 2 have been bakcported (see r1669555)

So I was wondering if r1619483 should also have been backported at the 
same time?

Best regards,
CJ


From dev-return-85858-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 13 23:41:37 2016
Return-Path: <dev-return-85858-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8307F18F2F
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 13 Mar 2016 23:41:37 +0000 (UTC)
Received: (qmail 91451 invoked by uid 500); 13 Mar 2016 23:41:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91381 invoked by uid 500); 13 Mar 2016 23:41:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91371 invoked by uid 99); 13 Mar 2016 23:41:36 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Mar 2016 23:41:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 35C07C0FCD
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 23:41:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.798
X-Spam-Level:
X-Spam-Status: No, score=0.798 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, RP_MATCHES_RCVD=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 6_WHuOFY7AnC for <dev@httpd.apache.org>;
	Sun, 13 Mar 2016 23:41:34 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTP id E2B125FB0F
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 23:41:33 +0000 (UTC)
Received: from [192.168.220.204] (unknown [192.168.220.204])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id C37E28261D
	for <dev@httpd.apache.org>; Sun, 13 Mar 2016 23:41:26 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: Proposed change to mpm_register_socket_callback(): apr_socket_t -> apr_pollfd_t
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <CALK=YjM-pZysD=DC0jUC+r14BsY9HXoXriO9_NDY8mOVxYqnHg@mail.gmail.com>
Date: Mon, 14 Mar 2016 01:41:24 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <DFE8326E-1E4F-47D4-BDA8-5ADE5DAE4161@sharp.fm>
References: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm> <CALK=YjOnyjO0YsZ63rD-rXNPHyHE03owXpWRDP3O+Je=4iNQJg@mail.gmail.com> <F37BF2FE-6E64-4F39-A0E0-7BC959EE543A@sharp.fm> <CALK=YjM-pZysD=DC0jUC+r14BsY9HXoXriO9_NDY8mOVxYqnHg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 13 Mar 2016, at 10:55 PM, Eric Covener <covener@gmail.com> wrote:

> I also meant the original feature never made it, so we can whatever we
> want to it.

What do you think of this?

It includes a cleanup to the original pool to remove any unfired =
pollsets from the core.

Index: include/ap_mpm.h
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- include/ap_mpm.h	(revision 1734657)
+++ include/ap_mpm.h	(working copy)
@@ -207,50 +207,48 @@
                                                        void *baton);
=20
 /**
- * Register a callback on the readability or writability on a group of =
sockets
- * @param s Null-terminated list of sockets
+ * Register a callback on the readability or writability on a group of
+ * sockets/pipes.
+ * @param pds Null-terminated list of apr_pollfd_t
  * @param p pool for use between registration and callback
- * @param for_read Whether the sockets are monitored for read or =
writability
  * @param cbfn The callback function
  * @param baton userdata for the callback function
- * @return APR_SUCCESS if all sockets could be added to a pollset,=20
+ * @return APR_SUCCESS if all sockets/pipes could be added to a =
pollset,
  * APR_ENOTIMPL if no asynch support, or an apr_pollset_add error.
- * @remark When activity is found on any 1 socket in the list, all are =
removed=20
+ * @remark When activity is found on any 1 socket/pipe in the list, all =
are removed
  * from the pollset and only 1 callback is issued.
  */
=20
-AP_DECLARE(apr_status_t) ap_mpm_register_socket_callback(apr_socket_t =
**s,
-                                                         apr_pool_t *p,
-                                                         int for_read,=20=

-                                                         =
ap_mpm_callback_fn_t *cbfn,
-                                                         void *baton);
+AP_DECLARE(apr_status_t) ap_mpm_register_poll_callback(apr_pollfd_t =
**pds,
+                                                       apr_pool_t *p,
+                                                       =
ap_mpm_callback_fn_t *cbfn,
+                                                       void *baton);
  /**
- * Register a callback on the readability or writability on a group of =
sockets, with a timeout
- * @param s Null-terminated list of sockets
+ * Register a callback on the readability or writability on a group of =
sockets/pipes,
+ * with a timeout.
+ * @param pds Null-terminated list of apr_polldf_t
  * @param p pool for use between registration and callback
- * @param for_read Whether the sockets are monitored for read or =
writability
  * @param cbfn The callback function
  * @param tofn The callback function if the timeout expires
  * @param baton userdata for the callback function
  * @param timeout timeout for I/O in microseconds, unlimited if <=3D 0
- * @return APR_SUCCESS if all sockets could be added to a pollset,=20
+ * @return APR_SUCCESS if all sockets/pipes could be added to a =
pollset,
  * APR_ENOTIMPL if no asynch support, or an apr_pollset_add error.
- * @remark When activity is found on any 1 socket in the list, all are =
removed=20
+ * @remark When activity is found on any 1 socket/pipe in the list, all =
are removed
  * from the pollset and only 1 callback is issued.=20
  * @remark For each call, only one of tofn or cbfn will be called, =
never both.
  */
=20
-AP_DECLARE(apr_status_t) =
ap_mpm_register_socket_callback_timeout(apr_socket_t **s,
+AP_DECLARE(apr_status_t) =
ap_mpm_register_poll_callback_timeout(apr_pollfd_t **pfds,
                                                          apr_pool_t *p,
-                                                         int for_read,=20=

                                                          =
ap_mpm_callback_fn_t *cbfn,
                                                          =
ap_mpm_callback_fn_t *tofn,
                                                          void *baton,
                                                          apr_time_t =
timeout);
=20
=20
-AP_DECLARE(apr_status_t) ap_mpm_unregister_socket_callback(apr_socket_t =
**s,=20
-                                                           apr_pool_t =
*p);
+AP_DECLARE(apr_status_t) ap_mpm_unregister_poll_callback(apr_pollfd_t =
**pfds,
+                                                         apr_pool_t =
*p);
=20
 typedef enum mpm_child_status {
     MPM_CHILD_STARTED,
Index: include/mpm_common.h
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- include/mpm_common.h	(revision 1734657)
+++ include/mpm_common.h	(working copy)
@@ -426,15 +426,15 @@
  * register the specified callback
  * @ingroup hooks
  */
-AP_DECLARE_HOOK(apr_status_t, mpm_register_socket_callback,
-                (apr_socket_t **s, apr_pool_t *p, int for_read, =
ap_mpm_callback_fn_t *cbfn, void *baton))
+AP_DECLARE_HOOK(apr_status_t, mpm_register_poll_callback,
+                (apr_pollfd_t **pds, apr_pool_t *p, =
ap_mpm_callback_fn_t *cbfn, void *baton))
=20
 /* register the specified callback, with timeout=20
  * @ingroup hooks
  *
  */
-AP_DECLARE_HOOK(apr_status_t, mpm_register_socket_callback_timeout,
-                (apr_socket_t **s, apr_pool_t *p, int for_read,=20
+AP_DECLARE_HOOK(apr_status_t, mpm_register_poll_callback_timeout,
+                (apr_pollfd_t **pds, apr_pool_t *p,
                  ap_mpm_callback_fn_t *cbfn, =20
                  ap_mpm_callback_fn_t *tofn,=20
                  void *baton,=20
@@ -443,8 +443,8 @@
  * Unregister the specified callback
  * @ingroup hooks
  */
-AP_DECLARE_HOOK(apr_status_t, mpm_unregister_socket_callback,
-                (apr_socket_t **s, apr_pool_t *p))
+AP_DECLARE_HOOK(apr_status_t, mpm_unregister_poll_callback,
+                (apr_pollfd_t **pds, apr_pool_t *p))
=20
 /** Resume the suspended connection=20
  * @ingroup hooks
Index: server/mpm/event/event.c
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- server/mpm/event/event.c	(revision 1734657)
+++ server/mpm/event/event.c	(working copy)
@@ -1528,9 +1528,27 @@
     return APR_SUCCESS;
 }
=20
-static apr_status_t event_register_socket_callback_ex(apr_socket_t **s,=20=

+static apr_status_t event_cleanup_poll_callback(void *data)
+{
+    apr_status_t final_rc =3D APR_SUCCESS;
+    apr_pollfd_t **pfds =3D data;
+
+    while (*pfds) {
+        if ((*pfds)->client_data) {
+            apr_status_t rc;
+            rc =3D apr_pollset_remove(event_pollset, (*pfds));
+            if (rc !=3D APR_SUCCESS && !APR_STATUS_IS_NOTFOUND(rc)) {
+                final_rc =3D rc;
+            }
+        }
+        pfds++;
+    }
+
+    return final_rc;
+}
+
+static apr_status_t event_register_poll_callback_ex(apr_pollfd_t =
**pfds,
                                                   apr_pool_t *p,=20
-                                                  int for_read,
                                                   ap_mpm_callback_fn_t =
*cbfn,
                                                   ap_mpm_callback_fn_t =
*tofn,
                                                   void *baton,=20
@@ -1540,15 +1558,12 @@
     int i =3D 0, nsock;
     socket_callback_baton_t *scb =3D apr_pcalloc(p, sizeof(*scb));
     listener_poll_type *pt =3D apr_palloc(p, sizeof(*pt));
-    apr_pollfd_t **pfds =3D NULL;
=20
-    while(s[i] !=3D NULL) {=20
-        i++;=20
+    while(pfds[i] !=3D NULL) {
+        i++;
     }
     nsock =3D i;
=20
-    pfds =3D apr_pcalloc(p, (nsock+1) * sizeof(apr_pollfd_t*));
-
     pt->type =3D PT_USER;
     pt->baton =3D scb;
=20
@@ -1557,12 +1572,10 @@
     scb->nsock =3D nsock;
     scb->pfds =3D pfds;
=20
+    apr_pool_pre_cleanup_register(p, pfds, =
event_cleanup_poll_callback);
+
     for (i =3D 0; i<nsock; i++) {=20
-        pfds[i] =3D apr_pcalloc(p, sizeof(apr_pollfd_t));
-        pfds[i]->desc_type =3D APR_POLL_SOCKET;
-        pfds[i]->reqevents =3D (for_read ? APR_POLLIN : APR_POLLOUT) | =
APR_POLLERR | APR_POLLHUP;
-        pfds[i]->desc.s =3D s[i];
-        pfds[i]->p =3D p;
+        pfds[i]->reqevents =3D (pfds[i]->reqevents) | APR_POLLERR | =
APR_POLLHUP;
         pfds[i]->client_data =3D pt;
     }
=20
@@ -1578,45 +1591,21 @@
     }
     return final_rc;
 }
-static apr_status_t event_register_socket_callback(apr_socket_t **s,=20
-                                                  apr_pool_t *p,=20
-                                                  int for_read,
-                                                  ap_mpm_callback_fn_t =
*cbfn,
-                                                  void *baton)
+
+static apr_status_t event_register_poll_callback(apr_pollfd_t **pfds,
+                                                 apr_pool_t *p,
+                                                 ap_mpm_callback_fn_t =
*cbfn,
+                                                 void *baton)
 {
-    return event_register_socket_callback_ex(s, p, for_read,=20
-                                             cbfn,=20
-                                             NULL, /* no timeout =
function */
-                                             baton,=20
-                                             0     /* no timeout */);
+    return event_register_poll_callback_ex(pfds, p,
+                                           cbfn,
+                                           NULL, /* no timeout function =
*/
+                                           baton,
+                                           0     /* no timeout */);
 }
-static apr_status_t event_unregister_socket_callback(apr_socket_t **s, =
apr_pool_t *p)
+static apr_status_t event_unregister_poll_callback(apr_pollfd_t **pfds, =
apr_pool_t *p)
 {
-    int i =3D 0, nsock;
-    apr_status_t final_rc =3D APR_SUCCESS;
-    apr_pollfd_t **pfds =3D NULL;
-
-    while(s[i] !=3D NULL) {=20
-        i++;=20
-    }
-    nsock =3D i;
-=20
-    pfds =3D apr_palloc(p, nsock * sizeof(apr_pollfd_t*));
-
-    for (i =3D 0; i<nsock; i++) {=20
-        apr_status_t rc;
-        pfds[i] =3D apr_pcalloc(p, sizeof(apr_pollfd_t));
-        pfds[i]->desc_type =3D APR_POLL_SOCKET;
-        pfds[i]->reqevents =3D APR_POLLERR | APR_POLLHUP;
-        pfds[i]->desc.s =3D s[i];
-        pfds[i]->client_data =3D NULL;
-        rc =3D apr_pollset_remove(event_pollset, pfds[i]);
-        if (rc !=3D APR_SUCCESS && !APR_STATUS_IS_NOTFOUND(rc)) {
-            final_rc =3D rc;
-        }
-    }
-
-    return final_rc;
+    return apr_pool_cleanup_run(p, pfds, event_cleanup_poll_callback);
 }
=20
 /*
@@ -2057,7 +2046,8 @@
                                                NULL /* no associated =
socket callback */);
                     /* remove all sockets in my set */
                     for (i =3D 0; i < baton->nsock; i++) {=20
-                        apr_pollset_remove(event_pollset, =
baton->pfds[i]);=20
+                        apr_pollset_remove(event_pollset, =
baton->pfds[i]);
+                        baton->pfds[i]->client_data =3D NULL;
                     }
=20
                     push_timer2worker(te);
@@ -3789,11 +3779,11 @@
     ap_hook_mpm_query(event_query, NULL, NULL, APR_HOOK_MIDDLE);
     ap_hook_mpm_register_timed_callback(event_register_timed_callback, =
NULL, NULL,
                                         APR_HOOK_MIDDLE);
-    =
ap_hook_mpm_register_socket_callback(event_register_socket_callback, =
NULL, NULL,
+    ap_hook_mpm_register_poll_callback(event_register_poll_callback, =
NULL, NULL,
                                         APR_HOOK_MIDDLE);
-    =
ap_hook_mpm_register_socket_callback_timeout(event_register_socket_callbac=
k_ex, NULL, NULL,
+    =
ap_hook_mpm_register_poll_callback_timeout(event_register_poll_callback_ex=
, NULL, NULL,
                                         APR_HOOK_MIDDLE);
-    =
ap_hook_mpm_unregister_socket_callback(event_unregister_socket_callback, =
NULL, NULL,
+    =
ap_hook_mpm_unregister_poll_callback(event_unregister_poll_callback, =
NULL, NULL,
                                         APR_HOOK_MIDDLE);
     ap_hook_pre_read_request(event_pre_read_request, NULL, NULL, =
APR_HOOK_MIDDLE);
     ap_hook_post_read_request(event_post_read_request, NULL, NULL, =
APR_HOOK_MIDDLE);
Index: server/mpm_common.c
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- server/mpm_common.c	(revision 1734657)
+++ server/mpm_common.c	(working copy)
@@ -68,9 +68,9 @@
     APR_HOOK_LINK(mpm) \
     APR_HOOK_LINK(mpm_query) \
     APR_HOOK_LINK(mpm_register_timed_callback) \
-    APR_HOOK_LINK(mpm_register_socket_callback) \
-    APR_HOOK_LINK(mpm_register_socket_callback_timeout) \
-    APR_HOOK_LINK(mpm_unregister_socket_callback) \
+    APR_HOOK_LINK(mpm_register_poll_callback) \
+    APR_HOOK_LINK(mpm_register_poll_callback_timeout) \
+    APR_HOOK_LINK(mpm_unregister_poll_callback) \
     APR_HOOK_LINK(mpm_get_name) \
     APR_HOOK_LINK(mpm_resume_suspended) \
     APR_HOOK_LINK(end_generation) \
@@ -110,15 +110,15 @@
 AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_resume_suspended,
                             (conn_rec *c),
                             (c), APR_ENOTIMPL)
-AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_register_socket_callback,
-                            (apr_socket_t **s, apr_pool_t *p, int =
for_read, ap_mpm_callback_fn_t *cbfn, void *baton),
-                            (s, p, for_read, cbfn, baton), =
APR_ENOTIMPL)
-AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, =
mpm_register_socket_callback_timeout,
-                            (apr_socket_t **s, apr_pool_t *p, int =
for_read, ap_mpm_callback_fn_t *cbfn, ap_mpm_callback_fn_t *tofn, void =
*baton, apr_time_t timeout),
-                            (s, p, for_read, cbfn, tofn, baton, =
timeout), APR_ENOTIMPL)
-AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, =
mpm_unregister_socket_callback,
-                            (apr_socket_t **s, apr_pool_t *p),
-                            (s, p), APR_ENOTIMPL)
+AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_register_poll_callback,
+                            (apr_pollfd_t **pds, apr_pool_t *p, =
ap_mpm_callback_fn_t *cbfn, void *baton),
+                            (pds, p, cbfn, baton), APR_ENOTIMPL)
+AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, =
mpm_register_poll_callback_timeout,
+                            (apr_pollfd_t **pds, apr_pool_t *p, =
ap_mpm_callback_fn_t *cbfn, ap_mpm_callback_fn_t *tofn, void *baton, =
apr_time_t timeout),
+                            (pds, p, cbfn, tofn, baton, timeout), =
APR_ENOTIMPL)
+AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_unregister_poll_callback,
+                            (apr_pollfd_t **pds, apr_pool_t *p),
+                            (pds, p), APR_ENOTIMPL)
 AP_IMPLEMENT_HOOK_RUN_FIRST(int, output_pending,
                             (conn_rec *c), (c), DECLINED)
 AP_IMPLEMENT_HOOK_RUN_FIRST(int, input_pending,
@@ -565,23 +565,22 @@
 {
     return ap_run_mpm_register_timed_callback(t, cbfn, baton);
 }
-AP_DECLARE(apr_status_t) ap_mpm_register_socket_callback(apr_socket_t =
**s, apr_pool_t *p, int for_read, ap_mpm_callback_fn_t *cbfn, void =
*baton)
+AP_DECLARE(apr_status_t) ap_mpm_register_poll_callback(apr_pollfd_t =
**pds, apr_pool_t *p, ap_mpm_callback_fn_t *cbfn, void *baton)
 {
-    return ap_run_mpm_register_socket_callback(s, p, for_read, cbfn, =
baton);
+    return ap_run_mpm_register_poll_callback(pds, p, cbfn, baton);
 }
-AP_DECLARE(apr_status_t) =
ap_mpm_register_socket_callback_timeout(apr_socket_t **s,=20
-                                                                 =
apr_pool_t *p,=20
-                                                                 int =
for_read,=20
-                                                                 =
ap_mpm_callback_fn_t *cbfn,=20
-                                                                 =
ap_mpm_callback_fn_t *tofn,=20
-                                                                 void =
*baton,=20
-                                                                 =
apr_time_t timeout)
+AP_DECLARE(apr_status_t) =
ap_mpm_register_poll_callback_timeout(apr_pollfd_t **pds,
+                                                               =
apr_pool_t *p,
+                                                               =
ap_mpm_callback_fn_t *cbfn,
+                                                               =
ap_mpm_callback_fn_t *tofn,
+                                                               void =
*baton,
+                                                               =
apr_time_t timeout)
 {
-    return ap_run_mpm_register_socket_callback_timeout(s, p, for_read, =
cbfn, tofn, baton, timeout);
+    return ap_run_mpm_register_poll_callback_timeout(pds, p, cbfn, =
tofn, baton, timeout);
 }
-AP_DECLARE(apr_status_t) ap_mpm_unregister_socket_callback(apr_socket_t =
**s, apr_pool_t *p)
+AP_DECLARE(apr_status_t) ap_mpm_unregister_poll_callback(apr_pollfd_t =
**pds, apr_pool_t *p)
 {
-    return ap_run_mpm_unregister_socket_callback(s, p);
+    return ap_run_mpm_unregister_poll_callback(pds, p);
 }
=20
 AP_DECLARE(const char *)ap_show_mpm(void)
Index: modules/proxy/mod_proxy_wstunnel.c
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- modules/proxy/mod_proxy_wstunnel.c	(revision 1734657)
+++ modules/proxy/mod_proxy_wstunnel.c	(working copy)
@@ -182,15 +182,29 @@
  */
 static void proxy_wstunnel_callback(void *b) {=20
     int status;
-    apr_socket_t *sockets[3] =3D {NULL, NULL, NULL};
     ws_baton_t *baton =3D (ws_baton_t*)b;
     proxyws_dir_conf *dconf =3D =
ap_get_module_config(baton->r->per_dir_config, &proxy_wstunnel_module);
     apr_pool_clear(baton->subpool);
     status =3D proxy_wstunnel_pump(baton, dconf->async_delay, =
dconf->is_async);
     if (status =3D=3D SUSPENDED) {
-        sockets[0] =3D baton->client_soc;
-        sockets[1] =3D baton->server_soc;
-        ap_mpm_register_socket_callback_timeout(sockets, =
baton->subpool, 1,=20
+
+        apr_pollfd_t **pfds =3D apr_palloc(baton->subpool, (3) * =
sizeof(apr_pollfd_t*));
+
+        pfds[0] =3D apr_pcalloc(baton->subpool, sizeof(apr_pollfd_t));
+        pfds[0]->desc_type =3D APR_POLL_SOCKET;
+        pfds[0]->reqevents =3D APR_POLLIN | APR_POLLERR | APR_POLLHUP;
+        pfds[0]->desc.s =3D baton->client_soc;
+        pfds[0]->p =3D baton->subpool;
+
+        pfds[1] =3D apr_pcalloc(baton->subpool, sizeof(apr_pollfd_t));
+        pfds[1]->desc_type =3D APR_POLL_SOCKET;
+        pfds[1]->reqevents =3D APR_POLLIN | APR_POLLERR | APR_POLLHUP;
+        pfds[1]->desc.s =3D baton->server_soc;
+        pfds[1]->p =3D baton->subpool;
+
+        pfds[2] =3D NULL;
+
+        ap_mpm_register_poll_callback_timeout(pfds, baton->subpool,
             proxy_wstunnel_callback,=20
             proxy_wstunnel_cancel_callback,=20
             baton,=20
@@ -298,7 +312,6 @@
     apr_bucket_brigade *bb =3D apr_brigade_create(p, c->bucket_alloc);
     apr_socket_t *client_socket =3D ap_get_conn_socket(c);
     ws_baton_t *baton =3D apr_pcalloc(r->pool, sizeof(ws_baton_t));
-    apr_socket_t *sockets[3] =3D {NULL, NULL, NULL};
     int status;
     proxyws_dir_conf *dconf =3D ap_get_module_config(r->per_dir_config, =
&proxy_wstunnel_module);
=20
@@ -377,9 +390,24 @@
         status =3D proxy_wstunnel_pump(baton, dconf->async_delay, =
dconf->is_async);=20
         apr_pool_clear(baton->subpool);
         if (status =3D=3D SUSPENDED) {
-            sockets[0] =3D baton->client_soc;
-            sockets[1] =3D baton->server_soc;
-            rv =3D ap_mpm_register_socket_callback_timeout(sockets, =
baton->subpool, 1,=20
+
+            apr_pollfd_t **pfds =3D apr_palloc(baton->subpool, (3) * =
sizeof(apr_pollfd_t*));
+
+            pfds[0] =3D apr_pcalloc(baton->subpool, =
sizeof(apr_pollfd_t));
+            pfds[0]->desc_type =3D APR_POLL_SOCKET;
+            pfds[0]->reqevents =3D APR_POLLIN | APR_POLLERR | =
APR_POLLHUP;
+            pfds[0]->desc.s =3D baton->client_soc;
+            pfds[0]->p =3D baton->subpool;
+
+            pfds[1] =3D apr_pcalloc(baton->subpool, =
sizeof(apr_pollfd_t));
+            pfds[1]->desc_type =3D APR_POLL_SOCKET;
+            pfds[1]->reqevents =3D APR_POLLIN | APR_POLLERR | =
APR_POLLHUP;
+            pfds[1]->desc.s =3D baton->server_soc;
+            pfds[1]->p =3D baton->subpool;
+
+            pfds[2] =3D NULL;
+
+            rv =3D ap_mpm_register_poll_callback_timeout(pfds, =
baton->subpool,
                          proxy_wstunnel_callback,=20
                          proxy_wstunnel_cancel_callback,=20
                          baton,=20

Regards,
Graham
=E2=80=94


From dev-return-85859-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 08:32:41 2016
Return-Path: <dev-return-85859-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3E8061997E
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 08:32:41 +0000 (UTC)
Received: (qmail 62352 invoked by uid 500); 14 Mar 2016 08:32:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62274 invoked by uid 500); 14 Mar 2016 08:32:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62264 invoked by uid 99); 14 Mar 2016 08:32:39 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 08:32:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7226E18031C
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 08:32:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id aKApxV3oBA2T for <dev@httpd.apache.org>;
	Mon, 14 Mar 2016 08:32:37 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id B21695F39E
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 08:32:36 +0000 (UTC)
Received: by mail-qg0-f52.google.com with SMTP id w104so147694803qge.1
        for <dev@httpd.apache.org>; Mon, 14 Mar 2016 01:32:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=bQCJVy8fVd2kx3WlHRhAbQN8TUV9/xlspH9tghVE9bU=;
        b=ynyem+YfF8RETYoA2Nm0xA5T6jCygadFm3nt96jJk8F1d3mxsLPKmslZ3G6C6Kpdv2
         55JByhHj77LcKeI66cr5sk70MMqBE8xk8nMrPp7VIxTF54qfbB3C+THnWE+sQrG59G7J
         v9kMlvfc/wXocQt7mb9fnyUEXzGBM6lGqSVPm2HMZbs+M5OjS6Ut6BXmic86M71dcQ4B
         BXqrPCI3+xL8yb6PmZJR1ppqCrY/QG5ZOovx0Wf0ZBI7Z1rYXRxRvPoBf/yNy0wlJ4l+
         r6XkGaSc3GSXGfXnZk4gtyaTx/Nzjnl68oQMFsFr34SCaau9KiWhbOC3lZdNxy5eoMrM
         cj7A==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=bQCJVy8fVd2kx3WlHRhAbQN8TUV9/xlspH9tghVE9bU=;
        b=a2ZSyvGxSXxnaJpoCNWsQfrr1g1NG1OKkkhQlnVhb2PXTGClhO1KXqDn9Yy911dwif
         e4NQhxq90aruicIA4w8fxngMdkxgzqJCIjkZMXHc/mXa6Tq3xKBvkt0tlI0JtaWogVl6
         xOwneWekMstdWh6hxrTHZsCOkEX+FjoQNm6h/yhTKSp0OmhdOtlZjqyyCUwEzGT44Ybc
         J4n3a9YnpObEMNp6a8+tZBv+U9GP7l8qmBFFESUtzwN+kmC+bkxco6OqGA24go+5yPQs
         zyUPoACcnwx+YKBkR4JhSU5A6YODljKl3Asr40LBSaQdFIQc/VeS8yIP4MwpENN3GCV8
         xx1A==
X-Gm-Message-State: AD7BkJK3QoTOcAYxTKTP3Rioni8YMHNaGQad9PocDp1EUJu6nIjuTOx+BhOT58qlP+/nXoXKe5agy6roqM3IXg==
MIME-Version: 1.0
X-Received: by 10.140.166.6 with SMTP id m6mr30675189qhm.70.1457944349806;
 Mon, 14 Mar 2016 01:32:29 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Mon, 14 Mar 2016 01:32:29 -0700 (PDT)
In-Reply-To: <DFE8326E-1E4F-47D4-BDA8-5ADE5DAE4161@sharp.fm>
References: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm>
	<CALK=YjOnyjO0YsZ63rD-rXNPHyHE03owXpWRDP3O+Je=4iNQJg@mail.gmail.com>
	<F37BF2FE-6E64-4F39-A0E0-7BC959EE543A@sharp.fm>
	<CALK=YjM-pZysD=DC0jUC+r14BsY9HXoXriO9_NDY8mOVxYqnHg@mail.gmail.com>
	<DFE8326E-1E4F-47D4-BDA8-5ADE5DAE4161@sharp.fm>
Date: Mon, 14 Mar 2016 09:32:29 +0100
Message-ID: <CAKQ1sVPqUBzEg3aNkmbXi6wyv=FKZYPEN0iOBv_cFeVc8Wng6g@mail.gmail.com>
Subject: Re: Proposed change to mpm_register_socket_callback(): apr_socket_t
 -> apr_pollfd_t
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, Mar 14, 2016 at 12:41 AM, Graham Leggett <minfrin@sharp.fm> wrote:
> On 13 Mar 2016, at 10:55 PM, Eric Covener <covener@gmail.com> wrote:
>
>> I also meant the original feature never made it, so we can whatever we
>> want to it.
>
> What do you think of this?

Looks good and indeed very valuable to me, s/socket/pollfd/ is a great idea.

Maybe a little nit-picking below...

>
> Index: include/ap_mpm.h
> ===================================================================
> --- include/ap_mpm.h    (revision 1734657)
> +++ include/ap_mpm.h    (working copy)
> @@ -207,50 +207,48 @@
>                                                         void *baton);
>
>  /**
> - * Register a callback on the readability or writability on a group of sockets
> - * @param s Null-terminated list of sockets
> + * Register a callback on the readability or writability on a group of
> + * sockets/pipes.
> + * @param pds Null-terminated list of apr_pollfd_t
>   * @param p pool for use between registration and callback
> - * @param for_read Whether the sockets are monitored for read or writability
>   * @param cbfn The callback function
>   * @param baton userdata for the callback function
> - * @return APR_SUCCESS if all sockets could be added to a pollset,
> + * @return APR_SUCCESS if all sockets/pipes could be added to a pollset,
>   * APR_ENOTIMPL if no asynch support, or an apr_pollset_add error.
> - * @remark When activity is found on any 1 socket in the list, all are removed
> + * @remark When activity is found on any 1 socket/pipe in the list, all are removed
>   * from the pollset and only 1 callback is issued.
>   */
>
> -AP_DECLARE(apr_status_t) ap_mpm_register_socket_callback(apr_socket_t **s,
> -                                                         apr_pool_t *p,
> -                                                         int for_read,
> -                                                         ap_mpm_callback_fn_t *cbfn,
> -                                                         void *baton);
> +AP_DECLARE(apr_status_t) ap_mpm_register_poll_callback(apr_pollfd_t **pds,
> +                                                       apr_pool_t *p,
> +                                                       ap_mpm_callback_fn_t *cbfn,
> +                                                       void *baton);

Since apr_pollfd_t is not opaque (unlike apr_socket_t), maybe we could
remove the indirection here (and in the code below) with somthing like
(apr_pollfd_t *pfds, size_t npfds, ...).
That would allow a single allocation (all pfds in once) and possibly
make things easier for the caller.

Regards,
Yann.

From dev-return-85860-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 08:48:22 2016
Return-Path: <dev-return-85860-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BAC81199E8
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 08:48:22 +0000 (UTC)
Received: (qmail 97397 invoked by uid 500); 14 Mar 2016 08:48:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97323 invoked by uid 500); 14 Mar 2016 08:48:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97314 invoked by uid 99); 14 Mar 2016 08:48:21 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 08:48:21 +0000
Received: from gauss.localdomain (v4-86130a44.pool.vitroconnect.de [134.19.10.68])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 117611A0182
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 08:48:21 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 8C47B1A3
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 09:48:23 +0100 (CET)
Subject: Re: svn commit: r1734656 - in /httpd/httpd/trunk: ./ include/
 modules/http/ server/ server/mpm/event/ server/mpm/motorz/ server/mpm/simple/
To: dev@httpd.apache.org
References: <20160312004358.D49B93A0318@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56E67AD7.8000409@apache.org>
Date: Mon, 14 Mar 2016 09:48:23 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <20160312004358.D49B93A0318@svn01-us-west.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/12/2016 01:43 AM, minfrin@apache.org wrote:
> Author: minfrin
> Date: Sat Mar 12 00:43:58 2016
> New Revision: 1734656
> 
> URL: http://svn.apache.org/viewvc?rev=1734656&view=rev
> Log:
> core: Extend support for setting aside data from the network input filter
> to any connection or request input filter.
> 
> Modified:
>     httpd/httpd/trunk/CHANGES
>     httpd/httpd/trunk/include/ap_mmn.h
>     httpd/httpd/trunk/include/httpd.h
>     httpd/httpd/trunk/include/mpm_common.h
>     httpd/httpd/trunk/include/util_filter.h
>     httpd/httpd/trunk/modules/http/http_core.c
>     httpd/httpd/trunk/modules/http/http_request.c
>     httpd/httpd/trunk/server/core.c
>     httpd/httpd/trunk/server/core_filters.c
>     httpd/httpd/trunk/server/mpm/event/event.c
>     httpd/httpd/trunk/server/mpm/motorz/motorz.c
>     httpd/httpd/trunk/server/mpm/simple/simple_io.c
>     httpd/httpd/trunk/server/mpm_common.c
>     httpd/httpd/trunk/server/util_filter.c
> 


This seems to cause frequent (no always) failures with test 8 of t/ssl/proxy.t.
The request times out with a 504 status. So it looks like the "backend" in this request does not respond.
Used MPM is Event, OS CentOS 6 64 Bit. Without further investigating my closeset guess would be that the changes to
checkpipeline cause this.


Regards

Rdiger

From dev-return-85861-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 09:01:14 2016
Return-Path: <dev-return-85861-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3A94319A5B
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 09:01:14 +0000 (UTC)
Received: (qmail 33825 invoked by uid 500); 14 Mar 2016 09:01:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33746 invoked by uid 500); 14 Mar 2016 09:01:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33733 invoked by uid 99); 14 Mar 2016 09:01:13 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 09:01:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 3A64AC03E9
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 09:01:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id wEWsBNnl_seW for <dev@httpd.apache.org>;
	Mon, 14 Mar 2016 09:01:11 +0000 (UTC)
Received: from mail-qg0-f42.google.com (mail-qg0-f42.google.com [209.85.192.42])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id B76BB5F39E
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 09:01:10 +0000 (UTC)
Received: by mail-qg0-f42.google.com with SMTP id u110so148048693qge.3
        for <dev@httpd.apache.org>; Mon, 14 Mar 2016 02:01:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=62KROULaPil9brVCnfdYKaCMjUL5y5S8pwcK9p8+uz0=;
        b=V75os0Vl8UbvAr/6RfM4hfzLwYw+kW+Qmfd/AiUM6iMz5QoCVqlaYuOff7n8e7eTv1
         9YwS7Hwxt0mB31BiyIyMVoerRViOeKuPwUR27P+phzrejaMbQUSeZJCwaQliCc4Kb0MK
         0nHnr4VErlJeBJNLtrGkV2OTOOn3o1SMzLOjZ8+lqmeuK3bF5ZRk/fLqhN1ssTYGRd7i
         dEydnN70oF+sywo4hZH1WqBoseMM8CUtYSAh0lJ7K0q+aI35Mb5xxDBPLHlp2gjX6zIa
         oQ9VgVnyVVvydxda2lyfDv527ZNYObE9pTJNSUtSGFFQJYtTvh0EBBAF+/uAwrqFQmJN
         I0/Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=62KROULaPil9brVCnfdYKaCMjUL5y5S8pwcK9p8+uz0=;
        b=D5tWRtMxrUuyLBa2iS+5y3GLwev38tkgY34G7esPitudS/b+Iy9mkOKx8zy6OCPJeu
         B2e5aEbLBKJ4xP62tEd3iD3xmaO0YCMljxfJLNUBMKCGeBx/fEgZSSA50uLuTmi7WKiP
         hh9biepDupHaPnYQkRoTXC/l+oH8pYAIFdBsyiJbyHUXjtPh9bKRgB84ik+F6ynoXKjg
         llFqXnlRg2BA9sDx1k4ns3ri8hzBK8xWBv2eY/kpstbk1GDcfuuOZrMSOaLPrkl/Jtqt
         KFkCniF0e8W9HT50oJp01TPq1jXTwMz5jCRqRjbiZbt9bNMchsJDKfpd52ot76O51N94
         rMAQ==
X-Gm-Message-State: AD7BkJId8ZDlBcVe9DGKJ57a9A2VdV61PMs/AhXeB1ZZ97wBI4QpL9nPIeT0nvfVfTsBCQZCoFYnJbHS21D1sg==
MIME-Version: 1.0
X-Received: by 10.140.20.183 with SMTP id 52mr28658784qgj.38.1457946063708;
 Mon, 14 Mar 2016 02:01:03 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Mon, 14 Mar 2016 02:01:03 -0700 (PDT)
In-Reply-To: <B1F5326F-47FC-4868-8FAB-6D9DD492385F@sharp.fm>
References: <B1F5326F-47FC-4868-8FAB-6D9DD492385F@sharp.fm>
Date: Mon, 14 Mar 2016 10:01:03 +0100
Message-ID: <CAKQ1sVMOGTT7vn7SZh6oyO5sqcK9ahaojxe=LHHjZHqy6GsdTQ@mail.gmail.com>
Subject: Re: [Patch] mod_tcp / mod_proxy_tcp / mod_ssl_tcp
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Sat, Mar 12, 2016 at 4:46 PM, Graham Leggett <minfrin@sharp.fm> wrote:
>
> The following patch provides support for TCP proxying to httpd.
>
> It consists of the following three parts:
>
> - mod_tcp: Allows the frontend to receive pure TCP connections

It looks like this module is only needed to remove HTTP filters from the chain.
Is the goal to have this core module instead of mod_http and make the
latter dynamic?

> - mod_proxy_tcp: Allows the proxy to make pure tcp or tls connections to a backend

Thanks, this will be very useful.

> - mod_ssl_tcp: Allows the proxy to route incoming connections based on the SNI header (tlsext)

Hmm, isn't mod_ssl (underlying-)protocol agnostic?
Why couldn't it be used as-is (or adapted), and avoid code duplication?

>
> In the following example config, incoming TCP connections are routed based on their SNI (the tlsext protocol) to given backend servers, which then complete the SSL connections as raw tunnels.
>
> This allows you to use client certificates through the httpd proxy balancer all the way to the backend server without the proxy terminating any SSL along the way.
>
> <VirtualHost localhost:9000>
>   Protocol tlsext

Maybe "tcps"? I agree that SNI extension is needed, but "tlsext" looks
confusing.

I'll look at the patch in more details, I may have missed things...

Regards,
Yann.

From dev-return-85862-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 09:13:48 2016
Return-Path: <dev-return-85862-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 10BCA19AF6
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 09:13:48 +0000 (UTC)
Received: (qmail 62163 invoked by uid 500); 14 Mar 2016 09:13:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62092 invoked by uid 500); 14 Mar 2016 09:13:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62082 invoked by uid 99); 14 Mar 2016 09:13:47 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 09:13:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 204B21A0041
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 09:13:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Oq0BKUxm;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Oq0BKUxm
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id fo_Yw_p1Ybmv for <dev@httpd.apache.org>;
	Mon, 14 Mar 2016 09:13:44 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 869C25FB2A
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 09:13:43 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id E768E15A05B1; Mon, 14 Mar 2016 10:13:35 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457946815; bh=CnovXRxcIbQ2f/p3UAkBPrZyRDGz/8rs5eSwMD1uwu4=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=Oq0BKUxm3YTIC8G5wssQaoZF9LD4jw5d/Hjl0Ke5RdomevuXrERhXTfAhwH40KKYz
	 cM3G7lvz/YJcdbfsRIQtDyKi7KVSaFU42HlRhdDbSNaiozR2IexCfxJOKE+W90CUqk
	 o/NvvbtoLbv6Ofo36Aq9U9rlY5KkzoJt4aDvwgHI=
Received: from [192.168.1.48] (unknown [87.78.27.87])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 500D315A022E
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 10:13:35 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1457946815; bh=CnovXRxcIbQ2f/p3UAkBPrZyRDGz/8rs5eSwMD1uwu4=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=Oq0BKUxm3YTIC8G5wssQaoZF9LD4jw5d/Hjl0Ke5RdomevuXrERhXTfAhwH40KKYz
	 cM3G7lvz/YJcdbfsRIQtDyKi7KVSaFU42HlRhdDbSNaiozR2IexCfxJOKE+W90CUqk
	 o/NvvbtoLbv6Ofo36Aq9U9rlY5KkzoJt4aDvwgHI=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Proposed change to mpm_register_socket_callback(): apr_socket_t -> apr_pollfd_t
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVPqUBzEg3aNkmbXi6wyv=FKZYPEN0iOBv_cFeVc8Wng6g@mail.gmail.com>
Date: Mon, 14 Mar 2016 10:13:34 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <C6F7F4F0-5918-4DC9-B82D-26409B97AE04@greenbytes.de>
References: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm> <CALK=YjOnyjO0YsZ63rD-rXNPHyHE03owXpWRDP3O+Je=4iNQJg@mail.gmail.com> <F37BF2FE-6E64-4F39-A0E0-7BC959EE543A@sharp.fm> <CALK=YjM-pZysD=DC0jUC+r14BsY9HXoXriO9_NDY8mOVxYqnHg@mail.gmail.com> <DFE8326E-1E4F-47D4-BDA8-5ADE5DAE4161@sharp.fm> <CAKQ1sVPqUBzEg3aNkmbXi6wyv=FKZYPEN0iOBv_cFeVc8Wng6g@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> Am 14.03.2016 um 09:32 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Mon, Mar 14, 2016 at 12:41 AM, Graham Leggett <minfrin@sharp.fm> =
wrote:
>> On 13 Mar 2016, at 10:55 PM, Eric Covener <covener@gmail.com> wrote:
>>=20
>>> I also meant the original feature never made it, so we can whatever =
we
>>> want to it.
>>=20
>> What do you think of this?
>=20
> Looks good and indeed very valuable to me, s/socket/pollfd/ is a great =
idea.

Like the direction this is going as well.

Do we need a MPM Query for detecting support before one actually has a =
handle
for registration?

> Maybe a little nit-picking below...
>=20
>>=20
>> Index: include/ap_mpm.h
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>> --- include/ap_mpm.h    (revision 1734657)
>> +++ include/ap_mpm.h    (working copy)
>> @@ -207,50 +207,48 @@
>>                                                        void *baton);
>>=20
>> /**
>> - * Register a callback on the readability or writability on a group =
of sockets
>> - * @param s Null-terminated list of sockets
>> + * Register a callback on the readability or writability on a group =
of
>> + * sockets/pipes.
>> + * @param pds Null-terminated list of apr_pollfd_t
>>  * @param p pool for use between registration and callback
>> - * @param for_read Whether the sockets are monitored for read or =
writability
>>  * @param cbfn The callback function
>>  * @param baton userdata for the callback function
>> - * @return APR_SUCCESS if all sockets could be added to a pollset,
>> + * @return APR_SUCCESS if all sockets/pipes could be added to a =
pollset,
>>  * APR_ENOTIMPL if no asynch support, or an apr_pollset_add error.
>> - * @remark When activity is found on any 1 socket in the list, all =
are removed
>> + * @remark When activity is found on any 1 socket/pipe in the list, =
all are removed
>>  * from the pollset and only 1 callback is issued.
>>  */
>>=20
>> -AP_DECLARE(apr_status_t) =
ap_mpm_register_socket_callback(apr_socket_t **s,
>> -                                                         apr_pool_t =
*p,
>> -                                                         int =
for_read,
>> -                                                         =
ap_mpm_callback_fn_t *cbfn,
>> -                                                         void =
*baton);
>> +AP_DECLARE(apr_status_t) ap_mpm_register_poll_callback(apr_pollfd_t =
**pds,
>> +                                                       apr_pool_t =
*p,
>> +                                                       =
ap_mpm_callback_fn_t *cbfn,
>> +                                                       void *baton);
>=20
> Since apr_pollfd_t is not opaque (unlike apr_socket_t), maybe we could
> remove the indirection here (and in the code below) with somthing like
> (apr_pollfd_t *pfds, size_t npfds, ...).
> That would allow a single allocation (all pfds in once) and possibly
> make things easier for the caller.
>=20
> Regards,
> Yann.


From dev-return-85863-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 10:11:02 2016
Return-Path: <dev-return-85863-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 85B0519D22
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 10:11:02 +0000 (UTC)
Received: (qmail 97424 invoked by uid 500); 14 Mar 2016 10:10:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97339 invoked by uid 500); 14 Mar 2016 10:10:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97329 invoked by uid 99); 14 Mar 2016 10:10:57 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 10:10:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B6660C09B4
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 10:10:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id aBQi0U-6qT-l for <dev@httpd.apache.org>;
	Mon, 14 Mar 2016 10:10:54 +0000 (UTC)
Received: from mail-qg0-f42.google.com (mail-qg0-f42.google.com [209.85.192.42])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id F10F15FAE1
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 10:10:53 +0000 (UTC)
Received: by mail-qg0-f42.google.com with SMTP id y89so149030951qge.2
        for <dev@httpd.apache.org>; Mon, 14 Mar 2016 03:10:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=2L5+X52E4LYuOg5Rptgm9HLPuogGetXJ2GcR68mCBdo=;
        b=vQXFAkkkJXGTrms+RzTA9I055rG2ZYDbgzZ5OdrxmA06TIItEwkXrxMzdckRC33oLQ
         UbkBPgFGEPDHbf3Mr43oCSB6fsePu32DyYO/2t20AW/9/o2NYK1VJ/bkswYY6LrzcW4/
         JIU/otJkDLPXlOF6727kGWRycudt6Epk2DF8FCgI6BECNnpzXSkv/NZ6RRUZk5Y471Rq
         mJoXFp5gYzboFDkJEKQuIwGo/DRkeMikhROHkBH3jCWOU68f6Z2CFhHBdJ/b2OwmaAeK
         C0XCNo3tFoLAsiN1brP+ErJr9F6Bvles1QQ4NQ6yj8oLKqlxH7LiW5HRGfZlxFEGryzc
         dEQg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=2L5+X52E4LYuOg5Rptgm9HLPuogGetXJ2GcR68mCBdo=;
        b=HvWXLBVEtCwu/g1w+h0yQq9ZmJPNcAGwqiJDADbAZsR+UJzi3k7vlcYBihcCIDnEVj
         RGcaSlmhR+WCy2kZSD6YSi9TAkw3gl/5D9lA41+RhiyII1sc+YO+oqL06sIhZATNOPCh
         DdWUKcT0cXKMD8op6gKyNDvvox+iWHKEtiH2u2DGgEzfIhD7+bJHv54RR0/iAmU9vf4j
         FJvTgsEZBR6M6oLGn+YxN5GfWMZNgSrKhTLJOy+/qZ4w57KEoaexEEn/HAekOfADsIJH
         2ZamZrv32FkAnjTI4ml3JldKhXDgPStrlmS1jdnqdf/6soURJnh/1QJVPxslMbvPpHFF
         C74Q==
X-Gm-Message-State: AD7BkJKGUQUFO3HMXVcFukfe96G2f9exEDPYUCc7Zv5sHh5ANggAly+Ep4RdA9mOQSlV+p+okQ5VBDVqELMC+A==
MIME-Version: 1.0
X-Received: by 10.140.166.6 with SMTP id m6mr31135870qhm.70.1457950253013;
 Mon, 14 Mar 2016 03:10:53 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Mon, 14 Mar 2016 03:10:52 -0700 (PDT)
In-Reply-To: <nc4ll1$r0h$1@ger.gmane.org>
References: <nc4ll1$r0h$1@ger.gmane.org>
Date: Mon, 14 Mar 2016 11:10:52 +0100
Message-ID: <CAKQ1sVMiyWbFsr9K2kDPLL0wD1rsnriSPnmKEtbN63Hs7UuqMQ@mail.gmail.com>
Subject: Re: r1619483
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi Christophe,

On Sun, Mar 13, 2016 at 10:21 PM, Christophe JAILLET
<christophe.jaillet@wanadoo.fr> wrote:
> Hi,
>
> while looking at potential backport to synch and trunk, I arrived on
> r1619483.
>
> This is a follow up of r1619444 which is a follow up of r1619383.
> These 2 have been bakcported (see r1669555)
>
> So I was wondering if r1619483 should also have been backported at the same
> time?

It's been a long time, but it seems that indeed this follow up did not
make it in r1669555 :/

Recollecting, this commit uses the correct way to account for inflated
bytes should there be data already available before the inflate() call
(otherwise some bytes may be counted twice).

I think we should merge it now, better late than never :)

Regards,
Yann.

From dev-return-85864-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 11:01:41 2016
Return-Path: <dev-return-85864-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7278019F4D
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 11:01:41 +0000 (UTC)
Received: (qmail 37015 invoked by uid 500); 14 Mar 2016 11:01:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36947 invoked by uid 500); 14 Mar 2016 11:01:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36937 invoked by uid 99); 14 Mar 2016 11:01:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 11:01:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 516251A0131
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 11:01:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.33
X-Spam-Level:
X-Spam-Status: No, score=-0.33 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id lZOXEwJQz6R9 for <dev@httpd.apache.org>;
	Mon, 14 Mar 2016 11:01:39 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTP id A80C45FB0E
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 11:01:38 +0000 (UTC)
Received: from [10.105.13.205] (unknown [5.56.169.82])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 1AA2C824CD
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 11:01:37 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: [Patch] mod_tcp / mod_proxy_tcp / mod_ssl_tcp
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <CAKQ1sVMOGTT7vn7SZh6oyO5sqcK9ahaojxe=LHHjZHqy6GsdTQ@mail.gmail.com>
Date: Mon, 14 Mar 2016 13:01:31 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <4BF73B3E-9404-4764-B5EA-22D0941E85F4@sharp.fm>
References: <B1F5326F-47FC-4868-8FAB-6D9DD492385F@sharp.fm> <CAKQ1sVMOGTT7vn7SZh6oyO5sqcK9ahaojxe=LHHjZHqy6GsdTQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 14 Mar 2016, at 11:01 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

>> The following patch provides support for TCP proxying to httpd.
>>=20
>> It consists of the following three parts:
>>=20
>> - mod_tcp: Allows the frontend to receive pure TCP connections
>=20
> It looks like this module is only needed to remove HTTP filters from =
the chain.
> Is the goal to have this core module instead of mod_http and make the
> latter dynamic?

Hmmm - good point.

What we need next is a proper protocol handling mechanism to efficiently =
determine the protocol in use on the connection, the same way we can =
efficiently determine the HTTP method.

Once we have that the core can be free of HTTP modules and we can just =
use the mod_tcp process_connection() handler.

>> - mod_proxy_tcp: Allows the proxy to make pure tcp or tls connections =
to a backend
>=20
> Thanks, this will be very useful.
>=20
>> - mod_ssl_tcp: Allows the proxy to route incoming connections based =
on the SNI header (tlsext)
>=20
> Hmm, isn't mod_ssl (underlying-)protocol agnostic?
> Why couldn't it be used as-is (or adapted), and avoid code =
duplication?

It was like that to start with, but I split it all out so it could stand =
alone.

I see the value of mod_ssl just having this as an extra input filter, =
will simplify this.

>> In the following example config, incoming TCP connections are routed =
based on their SNI (the tlsext protocol) to given backend servers, which =
then complete the SSL connections as raw tunnels.
>>=20
>> This allows you to use client certificates through the httpd proxy =
balancer all the way to the backend server without the proxy terminating =
any SSL along the way.
>>=20
>> <VirtualHost localhost:9000>
>>  Protocol tlsext
>=20
> Maybe "tcps"? I agree that SNI extension is needed, but "tlsext" looks
> confusing.

The =E2=80=9Ctlsext=E2=80=9D refers to the TLS extentions which are =
parsed to determine what the client is trying to talk to. These =
extensions are SNI and APLN (not yet supported but would be great if we =
could).

=E2=80=9Ctcps=E2=80=9D implies =E2=80=9Ctcp over ssl=E2=80=9D, which we =
already can do - just turn on SSLEnable.

Regards,
Graham
=E2=80=94


From dev-return-85865-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 11:07:41 2016
Return-Path: <dev-return-85865-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 46ED119F82
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 11:07:41 +0000 (UTC)
Received: (qmail 52707 invoked by uid 500); 14 Mar 2016 11:07:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52640 invoked by uid 500); 14 Mar 2016 11:07:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52625 invoked by uid 99); 14 Mar 2016 11:07:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 11:07:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 60D731A137D
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 11:07:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.33
X-Spam-Level:
X-Spam-Status: No, score=-0.33 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id rYi_KL3Nljw7 for <dev@httpd.apache.org>;
	Mon, 14 Mar 2016 11:07:39 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id 51A8B5FACA
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 11:07:39 +0000 (UTC)
Received: from [10.105.13.205] (unknown [5.56.169.82])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 601A3824CD
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 11:07:38 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: Proposed change to mpm_register_socket_callback(): apr_socket_t -> apr_pollfd_t
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <CAKQ1sVPqUBzEg3aNkmbXi6wyv=FKZYPEN0iOBv_cFeVc8Wng6g@mail.gmail.com>
Date: Mon, 14 Mar 2016 13:07:37 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <BBEF2AEF-E69A-4CFE-BBAE-4F48E05453CD@sharp.fm>
References: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm> <CALK=YjOnyjO0YsZ63rD-rXNPHyHE03owXpWRDP3O+Je=4iNQJg@mail.gmail.com> <F37BF2FE-6E64-4F39-A0E0-7BC959EE543A@sharp.fm> <CALK=YjM-pZysD=DC0jUC+r14BsY9HXoXriO9_NDY8mOVxYqnHg@mail.gmail.com> <DFE8326E-1E4F-47D4-BDA8-5ADE5DAE4161@sharp.fm> <CAKQ1sVPqUBzEg3aNkmbXi6wyv=FKZYPEN0iOBv_cFeVc8Wng6g@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 14 Mar 2016, at 10:32 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> Since apr_pollfd_t is not opaque (unlike apr_socket_t), maybe we could
> remove the indirection here (and in the code below) with somthing like
> (apr_pollfd_t *pfds, size_t npfds, ...).
> That would allow a single allocation (all pfds in once) and possibly
> make things easier for the caller.

This definitely makes sense.

I originally wondered whether we could pass an apr_array_header_t into =
it, but it felt like overkill. Doing it your way means that we could use =
an array if we wanted to, or we could just pass structures on the stack, =
which would be much more flexible.

Regards,
Graham
=E2=80=94


From dev-return-85866-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 13:55:56 2016
Return-Path: <dev-return-85866-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1CE821867C
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 13:55:56 +0000 (UTC)
Received: (qmail 34634 invoked by uid 500); 14 Mar 2016 13:55:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34563 invoked by uid 500); 14 Mar 2016 13:55:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34553 invoked by uid 99); 14 Mar 2016 13:55:55 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 13:55:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 40C08C679D
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 13:55:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id f1I-CmnFO0Sx for <dev@httpd.apache.org>;
	Mon, 14 Mar 2016 13:55:54 +0000 (UTC)
Received: from resqmta-po-12v.sys.comcast.net (resqmta-po-12v.sys.comcast.net [96.114.154.171])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id D72205F620
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 13:55:53 +0000 (UTC)
Received: from resomta-po-09v.sys.comcast.net ([96.114.154.233])
	by resqmta-po-12v.sys.comcast.net with comcast
	id Vpvn1s00552QWKC01pvnuv; Mon, 14 Mar 2016 13:55:47 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-09v.sys.comcast.net with comcast
	id Vpvm1s0092U0RYt01pvmQh; Mon, 14 Mar 2016 13:55:47 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1734656 - in /httpd/httpd/trunk: ./ include/ modules/http/ server/ server/mpm/event/ server/mpm/motorz/ server/mpm/simple/
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56E67AD7.8000409@apache.org>
Date: Mon, 14 Mar 2016 09:55:46 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <7DB2BC15-92B7-4B69-81A1-C5A253ECB4EB@jaguNET.com>
References: <20160312004358.D49B93A0318@svn01-us-west.apache.org> <56E67AD7.8000409@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1457963747;
	bh=u5kFpyoeneloQQicl1BZOhS3hqnbOjSmuh3bpffQ0J4=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=q4LeUNJOIjej5Bo71mu9by/VqLtwCttOPZEVWH6d9e8qJvbp3ttGCS+s7pXE04FtX
	 Aa3W8RF6j/HjthhqUyOtNy4kRfApdTb/lh/iqLMnCabQtJXdCRqslTcpSVIgqspxvn
	 F90qMGm2jjFAvxkTaNTEGs/Xmuh4Y00bOJCJW8Mmri6T+y7OI25SpWJerpjz7Wp3w4
	 w58miJDGLugN4Jnz5VReSM00wTx5l65BSPLpGtYvxEmLMkt2BQWiCMu5xOTvkypq48
	 0YuGeSDaw96LhuZptuaNmprhEpV1avS2gd6QQ5XqmijUEz5nXxrvRQS/ebhzcBHVg8
	 XBg1+OZu5nYJw==


> On Mar 14, 2016, at 4:48 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>=20
>=20
> This seems to cause frequent (no always) failures with test 8 of =
t/ssl/proxy.t.
> The request times out with a 504 status. So it looks like the =
"backend" in this request does not respond.
> Used MPM is Event, OS CentOS 6 64 Bit. Without further investigating =
my closeset guess would be that the changes to
> checkpipeline cause this.
>=20
>=20

Getting similar behavior on OSX as well. Note sure if you are also
seeing occasional errors here as well:
   t/modules/rewrite.t ................. 28/29 # Failed test 28 in =
t/modules/rewrite.t at line 88
   # Failed test 29 in t/modules/rewrite.t at line 90

Also:
   t/modules/proxy.t ................... 5/18 # Failed test 5 in =
t/modules/proxy.t at line 28
   # Failed test 6 in t/modules/proxy.t at line 29




From dev-return-85867-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 13:57:14 2016
Return-Path: <dev-return-85867-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1DD9818690
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 13:57:14 +0000 (UTC)
Received: (qmail 42201 invoked by uid 500); 14 Mar 2016 13:57:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42116 invoked by uid 500); 14 Mar 2016 13:57:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42106 invoked by uid 99); 14 Mar 2016 13:57:13 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 13:57:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 373241800EC
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 13:57:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ltQFmYLG5Hsl for <dev@httpd.apache.org>;
	Mon, 14 Mar 2016 13:57:11 +0000 (UTC)
Received: from resqmta-po-07v.sys.comcast.net (resqmta-po-07v.sys.comcast.net [96.114.154.166])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 278FB5FB4A
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 13:57:10 +0000 (UTC)
Received: from resomta-po-17v.sys.comcast.net ([96.114.154.241])
	by resqmta-po-07v.sys.comcast.net with comcast
	id Vpwp1s0055Clt1L01px3K2; Mon, 14 Mar 2016 13:57:03 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-17v.sys.comcast.net with comcast
	id Vpx21s00B2U0RYt01px3A3; Mon, 14 Mar 2016 13:57:03 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Proposed change to mpm_register_socket_callback(): apr_socket_t -> apr_pollfd_t
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <BBEF2AEF-E69A-4CFE-BBAE-4F48E05453CD@sharp.fm>
Date: Mon, 14 Mar 2016 09:57:02 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <C2A16944-816D-4961-909B-64981FAF14DF@jaguNET.com>
References: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm> <CALK=YjOnyjO0YsZ63rD-rXNPHyHE03owXpWRDP3O+Je=4iNQJg@mail.gmail.com> <F37BF2FE-6E64-4F39-A0E0-7BC959EE543A@sharp.fm> <CALK=YjM-pZysD=DC0jUC+r14BsY9HXoXriO9_NDY8mOVxYqnHg@mail.gmail.com> <DFE8326E-1E4F-47D4-BDA8-5ADE5DAE4161@sharp.fm> <CAKQ1sVPqUBzEg3aNkmbXi6wyv=FKZYPEN0iOBv_cFeVc8Wng6g@mail.gmail.com> <BBEF2AEF-E69A-4CFE-BBAE-4F48E05453CD@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1457963823;
	bh=Er7ln6Ssz14/q/4dEobLWpVEFBg0M2et6TXks3EQRH4=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=FVF7ZVku6ahkEFbPsztklRmIVRjBfZ0CuOh2lI22PLskDsT+vtKvzY48xb+pWzEBa
	 qJHs98btqwMVFoxJucUWa/QGQyjxMQbJ2Svy4eKFSCvdtjW/2k04DJu2BIbLFcC9v8
	 TqugHk8gtg4e6Jgw2sGXMfuwri4LOm0bMTshufioJ4Tt8k9SluhK9FX26scC4nbbIJ
	 YcQF0Fp8FtkvR9g23THxVN092Pqa9XFaVvu3+LaUKChxkNAmXYjWCGNeVo1vD0DJu3
	 p+3JODB7jloexbcMQ1TSo1UkydIVAqWhOuxtQlvObovHv2mAn+FaL676oNwlIa56yT
	 SJqvMU8Y5tezQ==


> On Mar 14, 2016, at 7:07 AM, Graham Leggett <minfrin@sharp.fm> wrote:
>=20
> On 14 Mar 2016, at 10:32 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>=20
>> Since apr_pollfd_t is not opaque (unlike apr_socket_t), maybe we =
could
>> remove the indirection here (and in the code below) with somthing =
like
>> (apr_pollfd_t *pfds, size_t npfds, ...).
>> That would allow a single allocation (all pfds in once) and possibly
>> make things easier for the caller.
>=20
> This definitely makes sense.
>=20
> I originally wondered whether we could pass an apr_array_header_t into =
it, but it felt like overkill. Doing it your way means that we could use =
an array if we wanted to, or we could just pass structures on the stack, =
which would be much more flexible.
>=20

+1 for stack approach.

Also, +1 on the whole concept :)


From dev-return-85868-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 14:03:28 2016
Return-Path: <dev-return-85868-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D78ED186C6
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 14:03:28 +0000 (UTC)
Received: (qmail 56802 invoked by uid 500); 14 Mar 2016 14:03:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56724 invoked by uid 500); 14 Mar 2016 14:03:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56715 invoked by uid 99); 14 Mar 2016 14:03:28 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 14:03:28 +0000
Received: from gauss.localdomain (v4-86130a44.pool.vitroconnect.de [134.19.10.68])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id D3E081A0040
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 14:03:27 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 195031A3
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 15:03:31 +0100 (CET)
Subject: Re: svn commit: r1734656 - in /httpd/httpd/trunk: ./ include/
 modules/http/ server/ server/mpm/event/ server/mpm/motorz/ server/mpm/simple/
To: dev@httpd.apache.org
References: <20160312004358.D49B93A0318@svn01-us-west.apache.org>
 <56E67AD7.8000409@apache.org>
 <7DB2BC15-92B7-4B69-81A1-C5A253ECB4EB@jaguNET.com>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56E6C4B3.4090902@apache.org>
Date: Mon, 14 Mar 2016 15:03:31 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:42.0) Gecko/20100101
 Firefox/42.0 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <7DB2BC15-92B7-4B69-81A1-C5A253ECB4EB@jaguNET.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit



On 03/14/2016 02:55 PM, Jim Jagielski wrote:
> 
>> On Mar 14, 2016, at 4:48 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>>
>>
>> This seems to cause frequent (no always) failures with test 8 of t/ssl/proxy.t.
>> The request times out with a 504 status. So it looks like the "backend" in this request does not respond.
>> Used MPM is Event, OS CentOS 6 64 Bit. Without further investigating my closeset guess would be that the changes to
>> checkpipeline cause this.
>>
>>
> 
> Getting similar behavior on OSX as well. Note sure if you are also
> seeing occasional errors here as well:
>    t/modules/rewrite.t ................. 28/29 # Failed test 28 in t/modules/rewrite.t at line 88
>    # Failed test 29 in t/modules/rewrite.t at line 90
> 
> Also:
>    t/modules/proxy.t ................... 5/18 # Failed test 5 in t/modules/proxy.t at line 28
>    # Failed test 6 in t/modules/proxy.t at line 29
> 
> 
> 
> 

I have not noticed these here.

Regards

Rdiger


From dev-return-85869-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 14:13:59 2016
Return-Path: <dev-return-85869-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2E899187A3
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 14:13:59 +0000 (UTC)
Received: (qmail 5167 invoked by uid 500); 14 Mar 2016 14:13:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5100 invoked by uid 500); 14 Mar 2016 14:13:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5090 invoked by uid 99); 14 Mar 2016 14:13:56 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 14:13:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id DFFA9C1545
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 14:13:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id vnzlmjfjJRMR for <dev@httpd.apache.org>;
	Mon, 14 Mar 2016 14:13:54 +0000 (UTC)
Received: from resqmta-po-08v.sys.comcast.net (resqmta-po-08v.sys.comcast.net [96.114.154.167])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 841215FBE9
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 14:13:52 +0000 (UTC)
Received: from resomta-po-04v.sys.comcast.net ([96.114.154.228])
	by resqmta-po-08v.sys.comcast.net with comcast
	id VqCi1s0044vw8ds01qDl64; Mon, 14 Mar 2016 14:13:45 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-04v.sys.comcast.net with comcast
	id VqDk1s0092U0RYt01qDkap; Mon, 14 Mar 2016 14:13:45 +0000
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1734656 - in /httpd/httpd/trunk: ./ include/ modules/http/ server/ server/mpm/event/ server/mpm/motorz/ server/mpm/simple/
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56E6C4B3.4090902@apache.org>
Date: Mon, 14 Mar 2016 10:13:43 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <9E3D1D17-AB6A-4E12-9A8B-5A41330032E3@jaguNET.com>
References: <20160312004358.D49B93A0318@svn01-us-west.apache.org> <56E67AD7.8000409@apache.org> <7DB2BC15-92B7-4B69-81A1-C5A253ECB4EB@jaguNET.com> <56E6C4B3.4090902@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1457964825;
	bh=qgYP1pcdFgiNeze5QTHWTHFbBaQYFApktsHJxmP/0NM=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=VBxwIl0/Hx7/DMsccs5CMbFvOuhtxlrp7XhluDZebQY5kugxA29w81Bn6IIkA/GeA
	 9liF9u4j/UDgWtXZ6XnBhTLLxxWl16ovG74nejjgsyJINP77aaA41HPhdDaS+5sS3O
	 lpG96RKZ97QTvIOg2fc7ooOkUTNY4T5a/twjmT3b47v9dlutCkJDbndDCQ1fabYMNR
	 tAMMHMu955g5azkAen+lWi077xz3Hi9PzMeAHD3f0Yujad355x2mE5ObDLkgK8ASvL
	 78uebW1bHsnBGHJEWoaS7Rd8pNIQPSAq7tILm2hQ4osPGGA9iEJZyu65FY4MRVEpcr
	 DQJPK0qPmwRDQ==

They are also proxy-timeout related it seems:

# testing : QUERY_STRING passed OK
# expected: qr/QUERY_STRING =3D horse=3Dtrigger\n/s
# received: '<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
# <html><head>
# <title>504 Proxy Error</title>
# </head><body>
# <h1>Proxy Error</h1>
# <p>The gateway did not receive a timely response
# from the upstream server or application.</p>
# </body></html>'
not ok 27
# Failed test 27 in t/modules/rewrite.t at line 85

> On Mar 14, 2016, at 10:03 AM, Ruediger Pluem <rpluem@apache.org> =
wrote:
>=20
>=20
>=20
> On 03/14/2016 02:55 PM, Jim Jagielski wrote:
>>=20
>>> On Mar 14, 2016, at 4:48 AM, Ruediger Pluem <rpluem@apache.org> =
wrote:
>>>=20
>>>=20
>>> This seems to cause frequent (no always) failures with test 8 of =
t/ssl/proxy.t.
>>> The request times out with a 504 status. So it looks like the =
"backend" in this request does not respond.
>>> Used MPM is Event, OS CentOS 6 64 Bit. Without further investigating =
my closeset guess would be that the changes to
>>> checkpipeline cause this.
>>>=20
>>>=20
>>=20
>> Getting similar behavior on OSX as well. Note sure if you are also
>> seeing occasional errors here as well:
>>   t/modules/rewrite.t ................. 28/29 # Failed test 28 in =
t/modules/rewrite.t at line 88
>>   # Failed test 29 in t/modules/rewrite.t at line 90
>>=20
>> Also:
>>   t/modules/proxy.t ................... 5/18 # Failed test 5 in =
t/modules/proxy.t at line 28
>>   # Failed test 6 in t/modules/proxy.t at line 29
>>=20
>>=20
>>=20
>>=20
>=20
> I have not noticed these here.
>=20
> Regards
>=20
> R=FCdiger
>=20


From dev-return-85870-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 15:54:30 2016
Return-Path: <dev-return-85870-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 50BB318DB5
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 15:54:30 +0000 (UTC)
Received: (qmail 97235 invoked by uid 500); 14 Mar 2016 15:54:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97143 invoked by uid 500); 14 Mar 2016 15:54:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97133 invoked by uid 99); 14 Mar 2016 15:54:29 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 15:54:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 14CF6C0057
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 15:54:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id iiYK2ua-CPjj for <dev@httpd.apache.org>;
	Mon, 14 Mar 2016 15:54:26 +0000 (UTC)
Received: from mail-io0-f171.google.com (mail-io0-f171.google.com [209.85.223.171])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id E257A5F620
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 15:54:25 +0000 (UTC)
Received: by mail-io0-f171.google.com with SMTP id z76so227607606iof.3
        for <dev@httpd.apache.org>; Mon, 14 Mar 2016 08:54:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=ihd4jks7N0Y1lFbkMjDUhSjjcamVhLwvgJ6jDkcoUNc=;
        b=xIaqNXAgSMFz6Gxnp5ptlzg6egVJ/YAOrz2h/KTSKraiGFAkr+2Z0vHR3gCPJXJH48
         gK1f1OSbNVWkaKJNnEAnIYferVGireJ3EHtUWG1ecPUME8Vp8jIOZ++R2dq1tKs/klRX
         vltx7brjwd32DRermmkA++bKDX5UoxL2XOt+eqvVwj33CFNBJjVgZAHqsocgQQO/f5Ij
         yER1unYCogcKmbYknxCHjV0dbKsDWqD+FbweEw6B83ZXc1IPkJC0YfWBHXkIOYFdookU
         +xIK7AzfSBO/AZhH2FROx+GLM+Su8MErx/r44yLA5mK7qSzcAzCuPu3HFr/LlXloK+Ey
         75qw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=ihd4jks7N0Y1lFbkMjDUhSjjcamVhLwvgJ6jDkcoUNc=;
        b=KVR4rnp9YkUzKFTp0JlpT7PJkoD6N24UhD4RtoFmtpNbb5XxrdHc2+PHnng4HWrOtg
         beflYKS6HaUhpfPKGeWjmV0CAuBGR2UYS15yuU7KdafkNnztB5qEDnIA1TlmrnEkNMMu
         +maroclIQlokAHLdBSJSjJh8sdEWyz5fzMCiBSjdp0EX3kKFvEaYuXVfekoKzSusVxA9
         hEZIfCjmY/IJfmTMdsB0VNuDPkBfyDFf+RIXvSDZb+IF7iIXb34Ph1ZNM6CP4Y9GBgG+
         j/I2my9ca4oLccKL7iBMuw8OWfUb2rXze19y7ScJx5i1tNERSTRdBVDKWr47KtX/+6ME
         hdpw==
X-Gm-Message-State: AD7BkJKBPkfFq/yW+O3lBdjNyo17eO6uXpmO8F6k+y+uYzUTjlAKMr8FCqqkfgO4rKumueH6PTpR8sv6bftppw==
MIME-Version: 1.0
X-Received: by 10.107.184.135 with SMTP id i129mr28135501iof.4.1457970865243;
 Mon, 14 Mar 2016 08:54:25 -0700 (PDT)
Received: by 10.107.182.135 with HTTP; Mon, 14 Mar 2016 08:54:25 -0700 (PDT)
In-Reply-To: <20160314154245.C8BB23A0292@svn01-us-west.apache.org>
References: <20160314154245.C8BB23A0292@svn01-us-west.apache.org>
Date: Mon, 14 Mar 2016 11:54:25 -0400
Message-ID: <CAKUrXK5OaaF1srQw6o3trp97MGNAoC+3Lyrbae0cnB3xLouhcQ@mail.gmail.com>
Subject: Re: svn commit: r1734947 - in /httpd/httpd/trunk: CHANGES
 docs/manual/mod/core.xml include/http_core.h server/core.c server/util_script.c
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=94eb2c06f65e841047052e044b58

--94eb2c06f65e841047052e044b58
Content-Type: text/plain; charset=UTF-8

Feedback requested below on a couple of issues...

On Mon, Mar 14, 2016 at 11:42 AM, <trawick@apache.org> wrote:

> Author: trawick
> Date: Mon Mar 14 15:42:45 2016
> New Revision: 1734947
>
> URL: http://svn.apache.org/viewvc?rev=1734947&view=rev
> Log:
> Add CGIVar directive for configuring REQUEST_URI behavior
>
> The goal is to use this one directive to handle any configurable
> CGI variable behavior; only one CGI variable is supported initially.
>
> Modified:
>     httpd/httpd/trunk/CHANGES
>     httpd/httpd/trunk/docs/manual/mod/core.xml
>     httpd/httpd/trunk/include/http_core.h
>     httpd/httpd/trunk/server/core.c
>     httpd/httpd/trunk/server/util_script.c
>
> ...


>
> Modified: httpd/httpd/trunk/include/http_core.h
> URL:
> http://svn.apache.org/viewvc/httpd/httpd/trunk/include/http_core.h?rev=1734947&r1=1734946&r2=1734947&view=diff
>
> ==============================================================================
> --- httpd/httpd/trunk/include/http_core.h (original)
> +++ httpd/httpd/trunk/include/http_core.h Mon Mar 14 15:42:45 2016
> @@ -673,6 +673,9 @@ typedef struct {
>
>      unsigned int qualify_redirect_url :2;
>      ap_expr_info_t  *expr_handler;         /* forced with SetHandler */
> +
> +    /** Table of rules for building CGI variables, NULL if none
> configured */
> +    apr_hash_t *cgi_var_rules;
>

Any concerns with forcing the module/core/whatever to have to check if the
table has been created before seeing if it has a rule for a particular
variable?


>  } core_dir_config;
>
>  /* macro to implement off by default behaviour */
>
> Modified: httpd/httpd/trunk/server/core.c
> URL:
> http://svn.apache.org/viewvc/httpd/httpd/trunk/server/core.c?rev=1734947&r1=1734946&r2=1734947&view=diff
>
> ==============================================================================
> --- httpd/httpd/trunk/server/core.c (original)
> +++ httpd/httpd/trunk/server/core.c Mon Mar 14 15:42:45 2016
> @@ -420,6 +420,15 @@ static void *merge_core_dir_configs(apr_
>
>      conf->cgi_pass_auth = new->cgi_pass_auth != AP_CGI_PASS_AUTH_UNSET ?
> new->cgi_pass_auth : base->cgi_pass_auth;
>
> +    if (new->cgi_var_rules) {
> +        if (!conf->cgi_var_rules) {
> +            conf->cgi_var_rules = new->cgi_var_rules;
> +        }
> +        else {
> +            conf->cgi_var_rules = apr_hash_overlay(a, new->cgi_var_rules,
> conf->cgi_var_rules);
> +        }
> +    }
> +
>      AP_CORE_MERGE_FLAG(qualify_redirect_url, conf, base, new);
>
>      return (void*)conf;
> @@ -1872,6 +1881,31 @@ static const char *set_cgi_pass_auth(cmd
>      return NULL;
>  }
>
> +static const char *set_cgi_var(cmd_parms *cmd, void *d_,
> +                               const char *var, const char *rule_)
> +{
> +    core_dir_config *d = d_;
> +    char *rule = apr_pstrdup(cmd->pool, rule_);
> +
> +    ap_str_tolower(rule);
> +
> +    if (!strcmp(var, "REQUEST_URI")) {
> +        if (strcmp(rule, "current-uri") && strcmp(rule, "original-uri")) {
> +            return "Valid rules for REQUEST_URI are 'current-uri' and
> 'original-uri'";
> +        }
> +    }
> +    else {
> +        return apr_pstrcat(cmd->pool, "Unrecognized CGI variable: \"",
> +                           var, "\"", NULL);
>

I can see letting third-party modules use this directive for their own
purposes, which requires ignoring variables/rules we don't know about and
simply storing them in the table.  For the time being this refuses any
unexpected variables/rules; that could be loosened up later if desired.
But the possibility has some effect on the choice of rule representation --
flexible character string (current) vs. some enumerated value (more
efficient).  (Aside from letting third-party modules play without custom
code in httpd, it also simplifies the httpd implementation to pass through
anything.  That's what happens essentially with "SetEnvIf Request_URI .
proxy-fcgi-pathinfo".)

Any thoughts?



> +    }
> +
> +    if (!d->cgi_var_rules) {
> +        d->cgi_var_rules = apr_hash_make(cmd->pool);
> +    }
> +    apr_hash_set(d->cgi_var_rules, var, APR_HASH_KEY_STRING, rule);
> +    return NULL;
> +}
> +
>  static const char *set_qualify_redirect_url(cmd_parms *cmd, void *d_, int
> flag)
>  {
>      core_dir_config *d = d_;
> @@ -4565,6 +4599,8 @@ AP_INIT_TAKE12("LimitInternalRecursion",
>  AP_INIT_FLAG("CGIPassAuth", set_cgi_pass_auth, NULL, OR_AUTHCFG,
>               "Controls whether HTTP authorization headers, normally
> hidden, will "
>               "be passed to scripts"),
> +AP_INIT_TAKE2("CGIVar", set_cgi_var, NULL, OR_FILEINFO,
> +              "Controls how some CGI variables are set"),
>  AP_INIT_FLAG("QualifyRedirectURL", set_qualify_redirect_url, NULL,
> OR_FILEINFO,
>               "Controls whether the REDIRECT_URL environment variable is
> fully "
>               "qualified"),
>
> Modified: httpd/httpd/trunk/server/util_script.c
> URL:
> http://svn.apache.org/viewvc/httpd/httpd/trunk/server/util_script.c?rev=1734947&r1=1734946&r2=1734947&view=diff
>
> ==============================================================================
> --- httpd/httpd/trunk/server/util_script.c (original)
> +++ httpd/httpd/trunk/server/util_script.c Mon Mar 14 15:42:45 2016
> @@ -370,12 +370,25 @@ static char *original_uri(request_rec *r
>  AP_DECLARE(void) ap_add_cgi_vars(request_rec *r)
>  {
>      apr_table_t *e = r->subprocess_env;
> +    core_dir_config *conf =
> +        (core_dir_config *)ap_get_core_module_config(r->per_dir_config);
> +    int request_uri_from_original = 1;
> +    const char *request_uri_rule;
>
>      apr_table_setn(e, "GATEWAY_INTERFACE", "CGI/1.1");
>      apr_table_setn(e, "SERVER_PROTOCOL", r->protocol);
>      apr_table_setn(e, "REQUEST_METHOD", r->method);
>      apr_table_setn(e, "QUERY_STRING", r->args ? r->args : "");
> -    apr_table_setn(e, "REQUEST_URI", original_uri(r));
> +
> +    if (conf->cgi_var_rules) {
> +        request_uri_rule = apr_hash_get(conf->cgi_var_rules,
> "REQUEST_URI",
> +                                        APR_HASH_KEY_STRING);
> +        if (request_uri_rule && !strcmp(request_uri_rule, "current-uri"))
> {
> +            request_uri_from_original = 0;
> +        }
> +    }
> +    apr_table_setn(e, "REQUEST_URI",
> +                   request_uri_from_original ? original_uri(r) : r->uri);
>

ssl_var_lookup("REQUEST_URI") and the expression support for it always use
r->uri, which isn't the default behavior for processing r->subprocess_env.
 (shrug)



>
>      /* Note that the code below special-cases scripts run from includes,
>       * because it "knows" that the sub_request has been hacked to have the
>
>
>


-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--94eb2c06f65e841047052e044b58
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Feedback requested below on a couple of issues...<br><div =
class=3D"gmail_extra"><br><div class=3D"gmail_quote">On Mon, Mar 14, 2016 a=
t 11:42 AM,  <span dir=3D"ltr">&lt;<a href=3D"mailto:trawick@apache.org" ta=
rget=3D"_blank">trawick@apache.org</a>&gt;</span> wrote:<br><blockquote cla=
ss=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;=
border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex=
">Author: trawick<br>
Date: Mon Mar 14 15:42:45 2016<br>
New Revision: 1734947<br>
<br>
URL: <a href=3D"http://svn.apache.org/viewvc?rev=3D1734947&amp;view=3Drev" =
rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc?rev=3D173=
4947&amp;view=3Drev</a><br>
Log:<br>
Add CGIVar directive for configuring REQUEST_URI behavior<br>
<br>
The goal is to use this one directive to handle any configurable<br>
CGI variable behavior; only one CGI variable is supported initially.<br>
<br>
Modified:<br>
=C2=A0 =C2=A0 httpd/httpd/trunk/CHANGES<br>
=C2=A0 =C2=A0 httpd/httpd/trunk/docs/manual/mod/core.xml<br>
=C2=A0 =C2=A0 httpd/httpd/trunk/include/http_core.h<br>
=C2=A0 =C2=A0 httpd/httpd/trunk/server/core.c<br>
=C2=A0 =C2=A0 httpd/httpd/trunk/server/util_script.c<br>
<br></blockquote><div>...</div><div>=C2=A0</div><blockquote class=3D"gmail_=
quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-=
color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><br>
Modified: httpd/httpd/trunk/include/http_core.h<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/include/http=
_core.h?rev=3D1734947&amp;r1=3D1734946&amp;r2=3D1734947&amp;view=3Ddiff" re=
l=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc/httpd/httpd=
/trunk/include/http_core.h?rev=3D1734947&amp;r1=3D1734946&amp;r2=3D1734947&=
amp;view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/trunk/include/http_core.h (original)<br>
+++ httpd/httpd/trunk/include/http_core.h Mon Mar 14 15:42:45 2016<br>
@@ -673,6 +673,9 @@ typedef struct {<br>
<br>
=C2=A0 =C2=A0 =C2=A0unsigned int qualify_redirect_url :2;<br>
=C2=A0 =C2=A0 =C2=A0ap_expr_info_t=C2=A0 *expr_handler;=C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0/* forced with SetHandler */<br>
+<br>
+=C2=A0 =C2=A0 /** Table of rules for building CGI variables, NULL if none =
configured */<br>
+=C2=A0 =C2=A0 apr_hash_t *cgi_var_rules;<br></blockquote><div><br></div><d=
iv>Any concerns with forcing the module/core/whatever to have to check if t=
he table has been created before seeing if it has a rule for a particular v=
ariable?</div><div>=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"m=
argin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204=
,204);border-left-style:solid;padding-left:1ex">
=C2=A0} core_dir_config;<br>
<br>
=C2=A0/* macro to implement off by default behaviour */<br>
<br>
Modified: httpd/httpd/trunk/server/core.c<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/server/core.=
c?rev=3D1734947&amp;r1=3D1734946&amp;r2=3D1734947&amp;view=3Ddiff" rel=3D"n=
oreferrer" target=3D"_blank">http://svn.apache.org/viewvc/httpd/httpd/trunk=
/server/core.c?rev=3D1734947&amp;r1=3D1734946&amp;r2=3D1734947&amp;view=3Dd=
iff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/trunk/server/core.c (original)<br>
+++ httpd/httpd/trunk/server/core.c Mon Mar 14 15:42:45 2016<br>
@@ -420,6 +420,15 @@ static void *merge_core_dir_configs(apr_<br>
<br>
=C2=A0 =C2=A0 =C2=A0conf-&gt;cgi_pass_auth =3D new-&gt;cgi_pass_auth !=3D A=
P_CGI_PASS_AUTH_UNSET ? new-&gt;cgi_pass_auth : base-&gt;cgi_pass_auth;<br>
<br>
+=C2=A0 =C2=A0 if (new-&gt;cgi_var_rules) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 if (!conf-&gt;cgi_var_rules) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 conf-&gt;cgi_var_rules =3D new-&=
gt;cgi_var_rules;<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 else {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 conf-&gt;cgi_var_rules =3D apr_h=
ash_overlay(a, new-&gt;cgi_var_rules, conf-&gt;cgi_var_rules);<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 }<br>
+<br>
=C2=A0 =C2=A0 =C2=A0AP_CORE_MERGE_FLAG(qualify_redirect_url, conf, base, ne=
w);<br>
<br>
=C2=A0 =C2=A0 =C2=A0return (void*)conf;<br>
@@ -1872,6 +1881,31 @@ static const char *set_cgi_pass_auth(cmd<br>
=C2=A0 =C2=A0 =C2=A0return NULL;<br>
=C2=A0}<br>
<br>
+static const char *set_cgi_var(cmd_parms *cmd, void *d_,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0const char *var, const char *rule_)<b=
r>
+{<br>
+=C2=A0 =C2=A0 core_dir_config *d =3D d_;<br>
+=C2=A0 =C2=A0 char *rule =3D apr_pstrdup(cmd-&gt;pool, rule_);<br>
+<br>
+=C2=A0 =C2=A0 ap_str_tolower(rule);<br>
+<br>
+=C2=A0 =C2=A0 if (!strcmp(var, &quot;REQUEST_URI&quot;)) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 if (strcmp(rule, &quot;current-uri&quot;) &amp=
;&amp; strcmp(rule, &quot;original-uri&quot;)) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 return &quot;Valid rules for REQ=
UEST_URI are &#39;current-uri&#39; and &#39;original-uri&#39;&quot;;<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 else {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 return apr_pstrcat(cmd-&gt;pool, &quot;Unrecog=
nized CGI variable: \&quot;&quot;,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0var, &quot;\&quot;&quot;, NULL);<br></blockquote><d=
iv><br></div><div>I can see letting third-party modules use this directive =
for their own purposes, which requires ignoring variables/rules we don&#39;=
t know about and simply storing them in the table.=C2=A0 For the time being=
 this refuses any unexpected variables/rules; that could be loosened up lat=
er if desired.=C2=A0 But the possibility has some effect on the choice of r=
ule representation -- flexible character string (current) vs. some enumerat=
ed value (more efficient). =C2=A0(Aside from letting third-party modules pl=
ay without custom code in httpd, it also simplifies the httpd implementatio=
n to pass through anything.=C2=A0 That&#39;s what happens essentially with =
&quot;SetEnvIf Request_URI . proxy-fcgi-pathinfo&quot;.)<br><br>Any thought=
s?<br><br>=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"margin:0px=
 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);bor=
der-left-style:solid;padding-left:1ex">
+=C2=A0 =C2=A0 }<br>
+<br>
+=C2=A0 =C2=A0 if (!d-&gt;cgi_var_rules) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 d-&gt;cgi_var_rules =3D apr_hash_make(cmd-&gt;=
pool);<br>
+=C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 apr_hash_set(d-&gt;cgi_var_rules, var, APR_HASH_KEY_STRING, =
rule);<br>
+=C2=A0 =C2=A0 return NULL;<br>
+}<br>
+<br>
=C2=A0static const char *set_qualify_redirect_url(cmd_parms *cmd, void *d_,=
 int flag)<br>
=C2=A0{<br>
=C2=A0 =C2=A0 =C2=A0core_dir_config *d =3D d_;<br>
@@ -4565,6 +4599,8 @@ AP_INIT_TAKE12(&quot;LimitInternalRecursion&quot;,<br=
>
=C2=A0AP_INIT_FLAG(&quot;CGIPassAuth&quot;, set_cgi_pass_auth, NULL, OR_AUT=
HCFG,<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 &quot;Controls whether HTT=
P authorization headers, normally hidden, will &quot;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 &quot;be passed to scripts=
&quot;),<br>
+AP_INIT_TAKE2(&quot;CGIVar&quot;, set_cgi_var, NULL, OR_FILEINFO,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 &quot;Controls how some C=
GI variables are set&quot;),<br>
=C2=A0AP_INIT_FLAG(&quot;QualifyRedirectURL&quot;, set_qualify_redirect_url=
, NULL, OR_FILEINFO,<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 &quot;Controls whether the=
 REDIRECT_URL environment variable is fully &quot;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 &quot;qualified&quot;),<br=
>
<br>
Modified: httpd/httpd/trunk/server/util_script.c<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/server/util_=
script.c?rev=3D1734947&amp;r1=3D1734946&amp;r2=3D1734947&amp;view=3Ddiff" r=
el=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc/httpd/http=
d/trunk/server/util_script.c?rev=3D1734947&amp;r1=3D1734946&amp;r2=3D173494=
7&amp;view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/trunk/server/util_script.c (original)<br>
+++ httpd/httpd/trunk/server/util_script.c Mon Mar 14 15:42:45 2016<br>
@@ -370,12 +370,25 @@ static char *original_uri(request_rec *r<br>
=C2=A0AP_DECLARE(void) ap_add_cgi_vars(request_rec *r)<br>
=C2=A0{<br>
=C2=A0 =C2=A0 =C2=A0apr_table_t *e =3D r-&gt;subprocess_env;<br>
+=C2=A0 =C2=A0 core_dir_config *conf =3D<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 (core_dir_config *)ap_get_core_module_config(r=
-&gt;per_dir_config);<br>
+=C2=A0 =C2=A0 int request_uri_from_original =3D 1;<br>
+=C2=A0 =C2=A0 const char *request_uri_rule;<br>
<br>
=C2=A0 =C2=A0 =C2=A0apr_table_setn(e, &quot;GATEWAY_INTERFACE&quot;, &quot;=
CGI/1.1&quot;);<br>
=C2=A0 =C2=A0 =C2=A0apr_table_setn(e, &quot;SERVER_PROTOCOL&quot;, r-&gt;pr=
otocol);<br>
=C2=A0 =C2=A0 =C2=A0apr_table_setn(e, &quot;REQUEST_METHOD&quot;, r-&gt;met=
hod);<br>
=C2=A0 =C2=A0 =C2=A0apr_table_setn(e, &quot;QUERY_STRING&quot;, r-&gt;args =
? r-&gt;args : &quot;&quot;);<br>
-=C2=A0 =C2=A0 apr_table_setn(e, &quot;REQUEST_URI&quot;, original_uri(r));=
<br>
+<br>
+=C2=A0 =C2=A0 if (conf-&gt;cgi_var_rules) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 request_uri_rule =3D apr_hash_get(conf-&gt;cgi=
_var_rules, &quot;REQUEST_URI&quot;,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 APR_HASH=
_KEY_STRING);<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 if (request_uri_rule &amp;&amp; !strcmp(reques=
t_uri_rule, &quot;current-uri&quot;)) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 request_uri_from_original =3D 0;=
<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 apr_table_setn(e, &quot;REQUEST_URI&quot;,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0reque=
st_uri_from_original ? original_uri(r) : r-&gt;uri);<br></blockquote><div><=
br></div><div>ssl_var_lookup(&quot;REQUEST_URI&quot;) and the expression su=
pport for it always use r-&gt;uri, which isn&#39;t the default behavior for=
 processing r-&gt;subprocess_env. =C2=A0(shrug)</div><div><br></div><div>=
=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0=
.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-s=
tyle:solid;padding-left:1ex">
<br>
=C2=A0 =C2=A0 =C2=A0/* Note that the code below special-cases scripts run f=
rom includes,<br>
=C2=A0 =C2=A0 =C2=A0 * because it &quot;knows&quot; that the sub_request ha=
s been hacked to have the<br>
<br>
<br>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--94eb2c06f65e841047052e044b58--

From dev-return-85871-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 18:08:57 2016
Return-Path: <dev-return-85871-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1CDAB188A5
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 18:08:57 +0000 (UTC)
Received: (qmail 26455 invoked by uid 500); 14 Mar 2016 18:08:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25841 invoked by uid 500); 14 Mar 2016 18:08:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25797 invoked by uid 99); 14 Mar 2016 18:08:56 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 18:08:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 09926C73BA
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 18:08:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Tj0SbGzoERKl for <dev@httpd.apache.org>;
	Mon, 14 Mar 2016 18:08:55 +0000 (UTC)
Received: from mail-wm0-f53.google.com (mail-wm0-f53.google.com [74.125.82.53])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 401E55FB9E
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 18:08:54 +0000 (UTC)
Received: by mail-wm0-f53.google.com with SMTP id p65so113912796wmp.0
        for <dev@httpd.apache.org>; Mon, 14 Mar 2016 11:08:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=6UTw28bWzAIsGPKSmM6X5YUTvS3lqWey2KA/J3YLzR0=;
        b=VX2jSuMfzrnXXWDmgODU5ZPLnEZ5gdWIZZ55yJApKdWPc1EjtVWbkJK8CggqgA86dW
         8UTGyB2xfBIgs0oYzn6XzZLp4x3L+t3HqagwlATAldmsGsZNHO1dFwvAL++oy4OuBnPu
         Yf39BSidiRy9hPDTzYKbTkUWsmAuN2CQdrJpHqvnWjIq94pAG8v2ndBZ0j5SgJZDBb4o
         xUkQpbS1rZ1YjxvtPlUrZgb+qs8kJR2p7ETrjfjQYIvGvnU/cy8K6QNxooGhHN+qmAuS
         PkDJTKWqTQa1P2mDQ7F4p9emfrSxCqoLsVEoHp7ZCxZD6+f0qaKwmpFfnl/zeNj1T+bM
         TUbw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=6UTw28bWzAIsGPKSmM6X5YUTvS3lqWey2KA/J3YLzR0=;
        b=LEJSCeUYqRCufmTO+mEfTCgqSNDfxdBV5EgVW/kPqygFFxAzx1n4kDLZKUPmBjFR5S
         0dHL1Kqp/KsAKm6ZjqMx3r+1QsqYIeOeD3HCQK6iVylvrSdlk837gyTeXk63Wtcjx8Pf
         fCqV/3ygTMmGcBj+LDzRI4OZTVZ0FXkniygQi9rV6UTh4iF3CnwjFIl5Zi1ttLbY6CMa
         Co6GIXZiSqnmHTRbk3/pyHqUxx2aQxPiZFMaLJSjpQYoL2U0T/tmouPzSxiJc7wfD7D0
         m9eIl4xplzUhU3ICfnLa2dJqeGMK5thIgPB8mFVxO94ju052uin4JEUg4+/fH1MXmEnU
         WXzw==
X-Gm-Message-State: AD7BkJLabrfFRyhffymvAYlGD0fSNr0VFp2PfOKCo124+n/SlIzmY6qvTf0jC5Oy5oVs3mkslYyvDnA1vOAsgw==
MIME-Version: 1.0
X-Received: by 10.28.51.74 with SMTP id z71mr18689898wmz.15.1457978933940;
 Mon, 14 Mar 2016 11:08:53 -0700 (PDT)
Received: by 10.194.11.3 with HTTP; Mon, 14 Mar 2016 11:08:53 -0700 (PDT)
In-Reply-To: <CAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com>
References: <CAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com>
Date: Mon, 14 Mar 2016 21:08:53 +0300
Message-ID: <CAL7UUk8fahmUU-FKE0Mn_PRa_ktifUjV_1CKvkQtsPnXwGZV8w@mail.gmail.com>
Subject: Re: apache-swat project - need feedback!
From: Alexey Melezhik <melezhik@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

I have just update some docs on swatpm.org to help beginners start
with swat on more gentle way:

- http://swatpm.org/ - hello world example to start with
- http://swatpm.org/faq - FAQ page with answers to possible common
questions about swat

Regards

PS anyway, if anybody succeeded in starting writing tests with swat?
Please let me know .... Thanks


2016-02-04 14:07 GMT+03:00 Alexey Melezhik <melezhik@gmail.com>:
> Hi!
>
> Recently I have started apache-swat project
> https://github.com/melezhik/apache-swat , thanks to Bill
> for supporting my first attempt -
> http://mail-archives.apache.org/mod_mbox/httpd-dev/201601.mbox/%3CCACsi253b6=VufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com%3E
>
> As being newbie in apache project I'd be glad to get a feedback from
> apache developers
>
> * is it clear what apache-swat is?
> * is it useful / helpful ?
> * what things could be improved
>
> About apache-swat in few words.
>
> * apache-swat is test suites base to be run on local developer's environment
> * test suites is on per issues basis, issues taken by me ( in almost )
> random  ) mode from https://bz.apache.org/bugzilla/ and get converted
> into test scenarios
> * everyone is encourage create new tests for existed or new issues
> * apache-swat  tries to be as irrelevant as possible to your local
> environment so allow tests suite installation / configuration process
> with minimal efforts , a minimal conventions on your local environment
> are:
>
>  - you have perl  ( almost any version )
>  - you have cpan or cpanm ( to install swat cpan module )
>  - you have git to checkout tests suite from
> https://github.com/melezhik/apache-swat
> -  you have vanilla apache installed according
> https://httpd.apache.org/docs/2.2/en/install.html or
> https://httpd.apache.org/docs/2.4/en/install.html
>  - and then you follow a simple instruction to bootstrap apache-swat tests suite
>
> * tests sites could be run in whole chunk ( all tests ), just say:
>
>   $ swat
>
> * or you may run a certain test of your interest , mostly this is per
> issue tests, for example:
>
>  $ swat  -t 58854 # run tests for issue
> https://bz.apache.org/bugzilla/show_bug.cgi?id=58854
>
>
> Contributing to apache-swat:
>
> * git fork
> * write new tests for issue - t foo-bar-baz
> * make github MR
>
>
> Existed issues list covered by apache-swat
>
> 44221
> 46751
> 58777
> 58789
> 58854
>
> I have posted an information about apache-swat tests suite existence
> to  proper Bugzilla issue pages.
>
>
> Thanks in advance
>
>
> Alexey Melezhik

From dev-return-85872-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 19:52:09 2016
Return-Path: <dev-return-85872-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F0F3918F18
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 19:52:08 +0000 (UTC)
Received: (qmail 63432 invoked by uid 500); 14 Mar 2016 19:52:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63352 invoked by uid 500); 14 Mar 2016 19:52:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63342 invoked by uid 99); 14 Mar 2016 19:52:08 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 19:52:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E5D65C177C
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 19:52:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.002
X-Spam-Level:
X-Spam-Status: No, score=-0.002 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id G_NmoE5QHjI1 for <dev@httpd.apache.org>;
	Mon, 14 Mar 2016 19:52:06 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id C83285FB4A
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 19:52:05 +0000 (UTC)
Received: from [192.168.220.204] (unknown [192.168.220.204])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 0DE50824D3
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 19:51:58 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: Proposed change to mpm_register_socket_callback(): apr_socket_t -> apr_pollfd_t
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <CAKQ1sVPqUBzEg3aNkmbXi6wyv=FKZYPEN0iOBv_cFeVc8Wng6g@mail.gmail.com>
Date: Mon, 14 Mar 2016 21:51:58 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <65C15DDA-BCC2-49F4-B3D7-96B4853F524E@sharp.fm>
References: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm> <CALK=YjOnyjO0YsZ63rD-rXNPHyHE03owXpWRDP3O+Je=4iNQJg@mail.gmail.com> <F37BF2FE-6E64-4F39-A0E0-7BC959EE543A@sharp.fm> <CALK=YjM-pZysD=DC0jUC+r14BsY9HXoXriO9_NDY8mOVxYqnHg@mail.gmail.com> <DFE8326E-1E4F-47D4-BDA8-5ADE5DAE4161@sharp.fm> <CAKQ1sVPqUBzEg3aNkmbXi6wyv=FKZYPEN0iOBv_cFeVc8Wng6g@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 14 Mar 2016, at 10:32 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> Since apr_pollfd_t is not opaque (unlike apr_socket_t), maybe we could
> remove the indirection here (and in the code below) with somthing like
> (apr_pollfd_t *pfds, size_t npfds, ...).
> That would allow a single allocation (all pfds in once) and possibly
> make things easier for the caller.

Having looked at this in more detail this isn=E2=80=99t as simple.

The sticking point is the cleanup, which needs to be passed a single =
struct to do it=E2=80=99s work. To pass both the pfds and the npdfs =
these two need to be wrapped in a structure of some kind, which the user =
has to feed in from the outside common to both register and unregister. =
This structure probably should be an apr_array_header_t.

Is it worth making the change from apr_pollfd_t **pfds to =
apr_array_header_t *pfds?

Regards,
Graham
=E2=80=94



From dev-return-85873-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 21:17:26 2016
Return-Path: <dev-return-85873-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 31A19192FD
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 21:17:26 +0000 (UTC)
Received: (qmail 18391 invoked by uid 500); 14 Mar 2016 21:17:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18305 invoked by uid 500); 14 Mar 2016 21:17:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18295 invoked by uid 99); 14 Mar 2016 21:17:25 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 21:17:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 20FC6C0250
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 21:17:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id x27HiSdhN-uS for <dev@httpd.apache.org>;
	Mon, 14 Mar 2016 21:17:23 +0000 (UTC)
Received: from mail-qg0-f48.google.com (mail-qg0-f48.google.com [209.85.192.48])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 785EF5FB22
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 21:17:22 +0000 (UTC)
Received: by mail-qg0-f48.google.com with SMTP id t4so165707457qge.0
        for <dev@httpd.apache.org>; Mon, 14 Mar 2016 14:17:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-transfer-encoding;
        bh=fM2vi7/T9SegV4kdEU+s7KHWy49JIEBNJY/za2UfA/M=;
        b=uDhBuRrjqeNqVuGaQYIIW+kvuCvmQ5Zq2rCbrHYjx8ybaQPNCtjgK09gwDj/V8K1tr
         pIsk3p5zLW/YsfGadbCXDqpIE0jZGGUVbPNyXsYT2LBMcnlUXYjHSFxj7woMnUrRONS3
         IB5IBphxnBveLRNN1JtetEK3Q6OYvMV9cCOMzyW6mn8v31cHi4KwRnqOVPZKIxR98sBn
         Ns75m+8ydV73Tc54vlqGUZwaij+nILxAGST4pMkGmsaDbrs5S/a2Ep8ZXX9fDopREjs8
         RfvcCjExLg4/eTMFamICxwHZp4Z8F3kiHBrmL8ItAnpG1aCxLmjCC55ruYLs9hhQJSJS
         0u8g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-transfer-encoding;
        bh=fM2vi7/T9SegV4kdEU+s7KHWy49JIEBNJY/za2UfA/M=;
        b=dS/icCjJG7xet+LL0CoXmpbUOwIWsQAhX6PHLZzpsGAdnN/rYpcw5AlujlTBhBvxkR
         c/LDQ6KuzOyreTTdo4IsoNXbAvxKsPYzEJd9slKbKtM0gxKtHQimZW58FI+6swpLiU3J
         52RNqZWlk79TUJO3qeKm2qZlZg1DWn3qj2sMP3R7jzweyQdSxsQtfvYiJUfuVIBt92k2
         jMRkn4QGYQLBAYphqMDNfT0qbLDvL/bbhY75cD7RRbDhWx++Qpx467JsX401UZPOCAEO
         6LnEGsCyjnzaxH6qSSIrWxQdR/3TNlHTCXaEg521/L+6M1bYY551gsvtOXFZ3ctQCNA/
         iExg==
X-Gm-Message-State: AD7BkJIR5otSgVcYJo6yrcp3jqKlmMkDXvVsyqtPzQCVO81t2e13P6tLg4nK1G864HQrBZy/eSi51NNsACHGnw==
MIME-Version: 1.0
X-Received: by 10.140.166.6 with SMTP id m6mr35853747qhm.70.1457990241521;
 Mon, 14 Mar 2016 14:17:21 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Mon, 14 Mar 2016 14:17:21 -0700 (PDT)
In-Reply-To: <65C15DDA-BCC2-49F4-B3D7-96B4853F524E@sharp.fm>
References: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm>
	<CALK=YjOnyjO0YsZ63rD-rXNPHyHE03owXpWRDP3O+Je=4iNQJg@mail.gmail.com>
	<F37BF2FE-6E64-4F39-A0E0-7BC959EE543A@sharp.fm>
	<CALK=YjM-pZysD=DC0jUC+r14BsY9HXoXriO9_NDY8mOVxYqnHg@mail.gmail.com>
	<DFE8326E-1E4F-47D4-BDA8-5ADE5DAE4161@sharp.fm>
	<CAKQ1sVPqUBzEg3aNkmbXi6wyv=FKZYPEN0iOBv_cFeVc8Wng6g@mail.gmail.com>
	<65C15DDA-BCC2-49F4-B3D7-96B4853F524E@sharp.fm>
Date: Mon, 14 Mar 2016 22:17:21 +0100
Message-ID: <CAKQ1sVOQN_t=+=cMciUvKk-LV-f75TyWUb7G8w=gAEiYfDuvnw@mail.gmail.com>
Subject: Re: Proposed change to mpm_register_socket_callback(): apr_socket_t
 -> apr_pollfd_t
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Mon, Mar 14, 2016 at 8:51 PM, Graham Leggett <minfrin@sharp.fm> wrote:
> On 14 Mar 2016, at 10:32 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
>> Since apr_pollfd_t is not opaque (unlike apr_socket_t), maybe we could
>> remove the indirection here (and in the code below) with somthing like
>> (apr_pollfd_t *pfds, size_t npfds, ...).
>> That would allow a single allocation (all pfds in once) and possibly
>> make things easier for the caller.
>
> Having looked at this in more detail this isn=E2=80=99t as simple.
>
> The sticking point is the cleanup, which needs to be passed a single stru=
ct to do it=E2=80=99s work. To pass both the pfds and the npdfs these two n=
eed to be wrapped in a structure of some kind, which the user has to feed i=
n from the outside common to both register and unregister. This structure p=
robably should be an apr_array_header_t.

Hmm right, either this or, say, the ending pfd is the one with
->reqevents=3D0, or ->p=3DNULL, or probably better
->desc_type=3DAPR_NO_DESC.
Up to the caller to ensure this, it could possibly be documented.

>
> Is it worth making the change from apr_pollfd_t **pfds to apr_array_heade=
r_t *pfds?

That would still require some "complex" initialization, so I'd prefer
the above if it doesn't sound to hacky...

Regards,
Yann.

From dev-return-85874-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 22:29:55 2016
Return-Path: <dev-return-85874-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5EEDD19727
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 22:29:55 +0000 (UTC)
Received: (qmail 81200 invoked by uid 500); 14 Mar 2016 22:29:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 81136 invoked by uid 500); 14 Mar 2016 22:29:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 81126 invoked by uid 99); 14 Mar 2016 22:29:54 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 22:29:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5AB5E1A008C
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 22:29:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.33
X-Spam-Level:
X-Spam-Status: No, score=-0.33 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id CumWyZZmCmSz for <dev@httpd.apache.org>;
	Mon, 14 Mar 2016 22:29:53 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id E37295F620
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 22:29:52 +0000 (UTC)
Received: from [192.168.220.204] (unknown [192.168.220.204])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 84072824DD
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 22:29:51 +0000 (GMT)
From: Graham Leggett <minfrin@sharp.fm>
Content-Type: multipart/mixed; boundary="Apple-Mail=_F4557EE9-4CCC-451F-81D0-3BFF6F400B25"
Message-Id: <9A01C97A-18EF-49B4-ACE9-84C9290ACD1B@sharp.fm>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: Proposed change to mpm_register_socket_callback(): apr_socket_t -> apr_pollfd_t
Date: Tue, 15 Mar 2016 00:29:50 +0200
References: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm> <CALK=YjOnyjO0YsZ63rD-rXNPHyHE03owXpWRDP3O+Je=4iNQJg@mail.gmail.com> <F37BF2FE-6E64-4F39-A0E0-7BC959EE543A@sharp.fm> <CALK=YjM-pZysD=DC0jUC+r14BsY9HXoXriO9_NDY8mOVxYqnHg@mail.gmail.com> <DFE8326E-1E4F-47D4-BDA8-5ADE5DAE4161@sharp.fm> <CAKQ1sVPqUBzEg3aNkmbXi6wyv=FKZYPEN0iOBv_cFeVc8Wng6g@mail.gmail.com> <65C15DDA-BCC2-49F4-B3D7-96B4853F524E@sharp.fm> <CAKQ1sVOQN_t=+=cMciUvKk-LV-f75TyWUb7G8w=gAEiYfDuvnw@mail.gmail.com>
To: dev@httpd.apache.org
In-Reply-To: <CAKQ1sVOQN_t=+=cMciUvKk-LV-f75TyWUb7G8w=gAEiYfDuvnw@mail.gmail.com>
X-Mailer: Apple Mail (2.2104)


--Apple-Mail=_F4557EE9-4CCC-451F-81D0-3BFF6F400B25
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8

On 14 Mar 2016, at 11:17 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote
:
>> Having looked at this in more detail this isn=E2=80=99t as simple.
>>=20
>> The sticking point is the cleanup, which needs to be passed a single =
struct to do it=E2=80=99s work. To pass both the pfds and the npdfs =
these two need to be wrapped in a structure of some kind, which the user =
has to feed in from the outside common to both register and unregister. =
This structure probably should be an apr_array_header_t.
>=20
> Hmm right, either this or, say, the ending pfd is the one with
> ->reqevents=3D0, or ->p=3DNULL, or probably better
> ->desc_type=3DAPR_NO_DESC.
> Up to the caller to ensure this, it could possibly be documented.
>=20
>>=20
>> Is it worth making the change from apr_pollfd_t **pfds to =
apr_array_header_t *pfds?
>=20
> That would still require some "complex" initialization, so I'd prefer
> the above if it doesn't sound to hacky=E2=80=A6

I just gave it a try and it was a lot more elegant than I thought.

You create an array the precise size you need, and off you go.

Regards,
Graham
=E2=80=94


--Apple-Mail=_F4557EE9-4CCC-451F-81D0-3BFF6F400B25
Content-Disposition: attachment;
	filename=httpd-register-poll2.patch
Content-Type: application/octet-stream;
	name="httpd-register-poll2.patch"
Content-Transfer-Encoding: 7bit

Index: include/ap_mmn.h
===================================================================
--- include/ap_mmn.h	(revision 1734998)
+++ include/ap_mmn.h	(working copy)
@@ -510,12 +510,19 @@
  * 20160312.0 (2.5.0-dev)  Rename complete_connection to output_pending,
  *                         add ap_filter_input_pending(),
  *                         ap_filter_prepare_brigade(), ap_filter_direction_e
+ * 20160315.0 (2.5.0-dev)  Rename ap_mpm_register_socket_callback,
+ *                         ap_mpm_register_socket_callback_timeout and
+ *                         ap_mpm_unregister_socket_callback to
+ *                         ap_mpm_register_poll_callback,
+ *                         ap_mpm_register_poll_callback_timeout and
+ *                         ap_mpm_unregister_poll_callback. Add
+ *                         AP_MPMQ_CAN_POLL.
  */
 
 #define MODULE_MAGIC_COOKIE 0x41503235UL /* "AP25" */
 
 #ifndef MODULE_MAGIC_NUMBER_MAJOR
-#define MODULE_MAGIC_NUMBER_MAJOR 20160312
+#define MODULE_MAGIC_NUMBER_MAJOR 20160315
 #endif
 #define MODULE_MAGIC_NUMBER_MINOR 0                 /* 0...n */
 
Index: include/ap_mpm.h
===================================================================
--- include/ap_mpm.h	(revision 1734998)
+++ include/ap_mpm.h	(working copy)
@@ -180,6 +180,8 @@
 #define AP_MPMQ_HAS_SERF             16
 /** MPM supports suspending/resuming connections */
 #define AP_MPMQ_CAN_SUSPEND          17
+/** MPM supports additional pollfds */
+#define AP_MPMQ_CAN_POLL             18
 /** @} */
 
 /**
@@ -207,50 +209,57 @@
                                                        void *baton);
 
 /**
- * Register a callback on the readability or writability on a group of sockets
- * @param s Null-terminated list of sockets
+ * Register a callback on the readability or writability on a group of
+ * sockets/pipes.
+ * @param pfds Array of apr_pollfd_t
  * @param p pool for use between registration and callback
- * @param for_read Whether the sockets are monitored for read or writability
  * @param cbfn The callback function
  * @param baton userdata for the callback function
- * @return APR_SUCCESS if all sockets could be added to a pollset, 
+ * @return APR_SUCCESS if all sockets/pipes could be added to a pollset,
  * APR_ENOTIMPL if no asynch support, or an apr_pollset_add error.
- * @remark When activity is found on any 1 socket in the list, all are removed 
+ * @remark When activity is found on any 1 socket/pipe in the list, all are removed
  * from the pollset and only 1 callback is issued.
  */
 
-AP_DECLARE(apr_status_t) ap_mpm_register_socket_callback(apr_socket_t **s,
-                                                         apr_pool_t *p,
-                                                         int for_read, 
-                                                         ap_mpm_callback_fn_t *cbfn,
-                                                         void *baton);
+AP_DECLARE(apr_status_t) ap_mpm_register_poll_callback(apr_array_header_t *pds,
+                                                       apr_pool_t *p,
+                                                       ap_mpm_callback_fn_t *cbfn,
+                                                       void *baton);
  /**
- * Register a callback on the readability or writability on a group of sockets, with a timeout
- * @param s Null-terminated list of sockets
+ * Register a callback on the readability or writability on a group of sockets/pipes,
+ * with a timeout.
+ * @param pfds Array of apr_pollfd_t
  * @param p pool for use between registration and callback
- * @param for_read Whether the sockets are monitored for read or writability
  * @param cbfn The callback function
  * @param tofn The callback function if the timeout expires
  * @param baton userdata for the callback function
  * @param timeout timeout for I/O in microseconds, unlimited if <= 0
- * @return APR_SUCCESS if all sockets could be added to a pollset, 
+ * @return APR_SUCCESS if all sockets/pipes could be added to a pollset,
  * APR_ENOTIMPL if no asynch support, or an apr_pollset_add error.
- * @remark When activity is found on any 1 socket in the list, all are removed 
+ * @remark When activity is found on any 1 socket/pipe in the list, all are removed
  * from the pollset and only 1 callback is issued. 
  * @remark For each call, only one of tofn or cbfn will be called, never both.
  */
 
-AP_DECLARE(apr_status_t) ap_mpm_register_socket_callback_timeout(apr_socket_t **s,
+AP_DECLARE(apr_status_t) ap_mpm_register_poll_callback_timeout(apr_array_header_t *pfds,
                                                          apr_pool_t *p,
-                                                         int for_read, 
                                                          ap_mpm_callback_fn_t *cbfn,
                                                          ap_mpm_callback_fn_t *tofn,
                                                          void *baton,
                                                          apr_time_t timeout);
 
 
-AP_DECLARE(apr_status_t) ap_mpm_unregister_socket_callback(apr_socket_t **s, 
-                                                           apr_pool_t *p);
+/**
+* Unregister a previously registered callback.
+* @param pfds Array of apr_pollfd_t
+* @param p pool for use between registration and callback
+* @return APR_SUCCESS if all sockets/pipes could be removed from the pollset,
+* APR_ENOTIMPL if no asynch support, or an apr_pollset_remove error.
+* @remark This function triggers the cleanup registered on the pool p during
+* callback registration.
+*/
+AP_DECLARE(apr_status_t) ap_mpm_unregister_poll_callback(apr_array_header_t *pfds,
+                                                         apr_pool_t *p);
 
 typedef enum mpm_child_status {
     MPM_CHILD_STARTED,
Index: include/mpm_common.h
===================================================================
--- include/mpm_common.h	(revision 1734998)
+++ include/mpm_common.h	(working copy)
@@ -426,15 +426,15 @@
  * register the specified callback
  * @ingroup hooks
  */
-AP_DECLARE_HOOK(apr_status_t, mpm_register_socket_callback,
-                (apr_socket_t **s, apr_pool_t *p, int for_read, ap_mpm_callback_fn_t *cbfn, void *baton))
+AP_DECLARE_HOOK(apr_status_t, mpm_register_poll_callback,
+                (apr_array_header_t *pds, apr_pool_t *p, ap_mpm_callback_fn_t *cbfn, void *baton))
 
 /* register the specified callback, with timeout 
  * @ingroup hooks
  *
  */
-AP_DECLARE_HOOK(apr_status_t, mpm_register_socket_callback_timeout,
-                (apr_socket_t **s, apr_pool_t *p, int for_read, 
+AP_DECLARE_HOOK(apr_status_t, mpm_register_poll_callback_timeout,
+                (apr_array_header_t *pds, apr_pool_t *p,
                  ap_mpm_callback_fn_t *cbfn,  
                  ap_mpm_callback_fn_t *tofn, 
                  void *baton, 
@@ -443,8 +443,8 @@
  * Unregister the specified callback
  * @ingroup hooks
  */
-AP_DECLARE_HOOK(apr_status_t, mpm_unregister_socket_callback,
-                (apr_socket_t **s, apr_pool_t *p))
+AP_DECLARE_HOOK(apr_status_t, mpm_unregister_poll_callback,
+                (apr_array_header_t *pds, apr_pool_t *p))
 
 /** Resume the suspended connection 
  * @ingroup hooks
Index: server/mpm/event/event.c
===================================================================
--- server/mpm/event/event.c	(revision 1734998)
+++ server/mpm/event/event.c	(working copy)
@@ -337,12 +337,11 @@
 
 typedef struct
 {
- ap_mpm_callback_fn_t *cbfunc;
- void *user_baton; 
- apr_pollfd_t **pfds;
- int nsock;
- timer_event_t *cancel_event;    /* If a timeout was requested, a pointer to the timer event */
- unsigned int signaled:1;
+    ap_mpm_callback_fn_t *cbfunc;
+    void *user_baton;
+    apr_array_header_t *pfds;
+    timer_event_t *cancel_event; /* If a timeout was requested, a pointer to the timer event */
+    unsigned int signaled :1;
 } socket_callback_baton_t;
 
 /* data retained by event across load/unload of the module
@@ -591,6 +590,9 @@
     case AP_MPMQ_CAN_SUSPEND:
         *result = 1;
         break;
+    case AP_MPMQ_CAN_POLL:
+        *result = 1;
+        break;
     default:
         *rv = APR_ENOTIMPL;
         break;
@@ -1480,7 +1482,7 @@
                                              ap_mpm_callback_fn_t *cbfn,
                                              void *baton,
                                              int insert, 
-                                             apr_pollfd_t **remove)
+                                             apr_array_header_t *remove)
 {
     timer_event_t *te;
     /* oh yeah, and make locking smarter/fine grained. */
@@ -1514,7 +1516,7 @@
 static apr_status_t event_register_timed_callback_ex(apr_time_t t,
                                                   ap_mpm_callback_fn_t *cbfn,
                                                   void *baton, 
-                                                  apr_pollfd_t **remove)
+                                                  apr_array_header_t *remove)
 {
     event_get_timer_event(t + apr_time_now(), cbfn, baton, 1, remove);
     return APR_SUCCESS;
@@ -1528,95 +1530,82 @@
     return APR_SUCCESS;
 }
 
-static apr_status_t event_register_socket_callback_ex(apr_socket_t **s, 
-                                                  apr_pool_t *p, 
-                                                  int for_read,
+static apr_status_t event_cleanup_poll_callback(void *data)
+{
+    apr_status_t final_rc = APR_SUCCESS;
+    apr_array_header_t *pfds = data;
+    int i;
+
+    for (i = 0; i < pfds->nelts; i++) {
+        apr_pollfd_t *pfd = (apr_pollfd_t *)pfds->elts + i;
+        if (pfd->client_data) {
+            apr_status_t rc;
+            rc = apr_pollset_remove(event_pollset, pfd);
+            if (rc != APR_SUCCESS && !APR_STATUS_IS_NOTFOUND(rc)) {
+                final_rc = rc;
+            }
+        }
+    }
+
+    return final_rc;
+}
+
+static apr_status_t event_register_poll_callback_ex(apr_array_header_t *pfds,
+                                                  apr_pool_t *p,
                                                   ap_mpm_callback_fn_t *cbfn,
                                                   ap_mpm_callback_fn_t *tofn,
-                                                  void *baton, 
+                                                  void *baton,
                                                   apr_time_t timeout)
 {
-    apr_status_t rc, final_rc= APR_SUCCESS;
-    int i = 0, nsock;
     socket_callback_baton_t *scb = apr_pcalloc(p, sizeof(*scb));
     listener_poll_type *pt = apr_palloc(p, sizeof(*pt));
-    apr_pollfd_t **pfds = NULL;
+    apr_status_t rc, final_rc= APR_SUCCESS;
+    int i;
 
-    while(s[i] != NULL) { 
-        i++; 
-    }
-    nsock = i;
-
-    pfds = apr_pcalloc(p, (nsock+1) * sizeof(apr_pollfd_t*));
-
     pt->type = PT_USER;
     pt->baton = scb;
 
     scb->cbfunc = cbfn;
     scb->user_baton = baton;
-    scb->nsock = nsock;
     scb->pfds = pfds;
 
-    for (i = 0; i<nsock; i++) { 
-        pfds[i] = apr_pcalloc(p, sizeof(apr_pollfd_t));
-        pfds[i]->desc_type = APR_POLL_SOCKET;
-        pfds[i]->reqevents = (for_read ? APR_POLLIN : APR_POLLOUT) | APR_POLLERR | APR_POLLHUP;
-        pfds[i]->desc.s = s[i];
-        pfds[i]->p = p;
-        pfds[i]->client_data = pt;
+    apr_pool_pre_cleanup_register(p, pfds, event_cleanup_poll_callback);
+
+    for (i = 0; i < pfds->nelts; i++) {
+        apr_pollfd_t *pfd = (apr_pollfd_t *)pfds->elts + i;
+        pfd->reqevents = (pfd->reqevents) | APR_POLLERR | APR_POLLHUP;
+        pfd->client_data = pt;
     }
 
     if (timeout > 0) { 
         /* XXX:  This cancel timer event count fire before the pollset is updated */
         scb->cancel_event = event_get_timer_event(timeout + apr_time_now(), tofn, baton, 1, pfds);
     }
-    for (i = 0; i<nsock; i++) { 
-        rc = apr_pollset_add(event_pollset, pfds[i]);
+    for (i = 0; i < pfds->nelts; i++) {
+        apr_pollfd_t *pfd = (apr_pollfd_t *)pfds->elts + i;
+        rc = apr_pollset_add(event_pollset, pfd);
         if (rc != APR_SUCCESS) {
             final_rc = rc;
         }
     }
     return final_rc;
 }
-static apr_status_t event_register_socket_callback(apr_socket_t **s, 
-                                                  apr_pool_t *p, 
-                                                  int for_read,
-                                                  ap_mpm_callback_fn_t *cbfn,
-                                                  void *baton)
+
+static apr_status_t event_register_poll_callback(apr_array_header_t *pfds,
+                                                 apr_pool_t *p,
+                                                 ap_mpm_callback_fn_t *cbfn,
+                                                 void *baton)
 {
-    return event_register_socket_callback_ex(s, p, for_read, 
-                                             cbfn, 
-                                             NULL, /* no timeout function */
-                                             baton, 
-                                             0     /* no timeout */);
+    return event_register_poll_callback_ex(pfds, p,
+                                           cbfn,
+                                           NULL, /* no timeout function */
+                                           baton,
+                                           0     /* no timeout */);
 }
-static apr_status_t event_unregister_socket_callback(apr_socket_t **s, apr_pool_t *p)
+static apr_status_t event_unregister_poll_callback(apr_array_header_t *pfds,
+        apr_pool_t *p)
 {
-    int i = 0, nsock;
-    apr_status_t final_rc = APR_SUCCESS;
-    apr_pollfd_t **pfds = NULL;
-
-    while(s[i] != NULL) { 
-        i++; 
-    }
-    nsock = i;
- 
-    pfds = apr_palloc(p, nsock * sizeof(apr_pollfd_t*));
-
-    for (i = 0; i<nsock; i++) { 
-        apr_status_t rc;
-        pfds[i] = apr_pcalloc(p, sizeof(apr_pollfd_t));
-        pfds[i]->desc_type = APR_POLL_SOCKET;
-        pfds[i]->reqevents = APR_POLLERR | APR_POLLHUP;
-        pfds[i]->desc.s = s[i];
-        pfds[i]->client_data = NULL;
-        rc = apr_pollset_remove(event_pollset, pfds[i]);
-        if (rc != APR_SUCCESS && !APR_STATUS_IS_NOTFOUND(rc)) {
-            final_rc = rc;
-        }
-    }
-
-    return final_rc;
+    return apr_pool_cleanup_run(p, pfds, event_cleanup_poll_callback);
 }
 
 /*
@@ -1828,10 +1817,11 @@
             if (te->when < now + EVENT_FUDGE_FACTOR) {
                 apr_skiplist_pop(timer_skiplist, NULL);
                 if (!te->canceled) { 
-                    if (te->remove != NULL) {
-                        apr_pollfd_t **pfds;
-                        for (pfds = (te->remove); *pfds != NULL; pfds++) { 
-                            apr_pollset_remove(event_pollset, *pfds);
+                    if (te->remove) {
+                        int i;
+                        for (i = 0; i < te->remove->nelts; i++) {
+                            apr_pollfd_t *pfd = (apr_pollfd_t *)te->remove->elts + i;
+                            apr_pollset_remove(event_pollset, pfd);
                         }
                     }
                     push_timer2worker(te);
@@ -2056,8 +2046,10 @@
                                                0, /* don't insert it */
                                                NULL /* no associated socket callback */);
                     /* remove all sockets in my set */
-                    for (i = 0; i < baton->nsock; i++) { 
-                        apr_pollset_remove(event_pollset, baton->pfds[i]); 
+                    for (i = 0; i < baton->pfds->nelts; i++) {
+                        apr_pollfd_t *pfd = (apr_pollfd_t *)baton->pfds->elts + i;
+                        apr_pollset_remove(event_pollset, pfd);
+                        pfd->client_data = NULL;
                     }
 
                     push_timer2worker(te);
@@ -3789,11 +3781,11 @@
     ap_hook_mpm_query(event_query, NULL, NULL, APR_HOOK_MIDDLE);
     ap_hook_mpm_register_timed_callback(event_register_timed_callback, NULL, NULL,
                                         APR_HOOK_MIDDLE);
-    ap_hook_mpm_register_socket_callback(event_register_socket_callback, NULL, NULL,
+    ap_hook_mpm_register_poll_callback(event_register_poll_callback, NULL, NULL,
                                         APR_HOOK_MIDDLE);
-    ap_hook_mpm_register_socket_callback_timeout(event_register_socket_callback_ex, NULL, NULL,
+    ap_hook_mpm_register_poll_callback_timeout(event_register_poll_callback_ex, NULL, NULL,
                                         APR_HOOK_MIDDLE);
-    ap_hook_mpm_unregister_socket_callback(event_unregister_socket_callback, NULL, NULL,
+    ap_hook_mpm_unregister_poll_callback(event_unregister_poll_callback, NULL, NULL,
                                         APR_HOOK_MIDDLE);
     ap_hook_pre_read_request(event_pre_read_request, NULL, NULL, APR_HOOK_MIDDLE);
     ap_hook_post_read_request(event_post_read_request, NULL, NULL, APR_HOOK_MIDDLE);
Index: server/mpm/event/fdqueue.h
===================================================================
--- server/mpm/event/fdqueue.h	(revision 1734998)
+++ server/mpm/event/fdqueue.h	(working copy)
@@ -64,13 +64,14 @@
 
 typedef struct timer_event_t timer_event_t;
 
-struct timer_event_t {
+struct timer_event_t
+{
     APR_RING_ENTRY(timer_event_t) link;
     apr_time_t when;
     ap_mpm_callback_fn_t *cbfunc;
     void *baton;
-    int canceled;           
-    apr_pollfd_t **remove;  
+    int canceled;
+    apr_array_header_t *remove;
 };
 
 struct fd_queue_t
Index: server/mpm_common.c
===================================================================
--- server/mpm_common.c	(revision 1734998)
+++ server/mpm_common.c	(working copy)
@@ -68,9 +68,9 @@
     APR_HOOK_LINK(mpm) \
     APR_HOOK_LINK(mpm_query) \
     APR_HOOK_LINK(mpm_register_timed_callback) \
-    APR_HOOK_LINK(mpm_register_socket_callback) \
-    APR_HOOK_LINK(mpm_register_socket_callback_timeout) \
-    APR_HOOK_LINK(mpm_unregister_socket_callback) \
+    APR_HOOK_LINK(mpm_register_poll_callback) \
+    APR_HOOK_LINK(mpm_register_poll_callback_timeout) \
+    APR_HOOK_LINK(mpm_unregister_poll_callback) \
     APR_HOOK_LINK(mpm_get_name) \
     APR_HOOK_LINK(mpm_resume_suspended) \
     APR_HOOK_LINK(end_generation) \
@@ -110,15 +110,15 @@
 AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_resume_suspended,
                             (conn_rec *c),
                             (c), APR_ENOTIMPL)
-AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_register_socket_callback,
-                            (apr_socket_t **s, apr_pool_t *p, int for_read, ap_mpm_callback_fn_t *cbfn, void *baton),
-                            (s, p, for_read, cbfn, baton), APR_ENOTIMPL)
-AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_register_socket_callback_timeout,
-                            (apr_socket_t **s, apr_pool_t *p, int for_read, ap_mpm_callback_fn_t *cbfn, ap_mpm_callback_fn_t *tofn, void *baton, apr_time_t timeout),
-                            (s, p, for_read, cbfn, tofn, baton, timeout), APR_ENOTIMPL)
-AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_unregister_socket_callback,
-                            (apr_socket_t **s, apr_pool_t *p),
-                            (s, p), APR_ENOTIMPL)
+AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_register_poll_callback,
+                            (apr_array_header_t *pds, apr_pool_t *p, ap_mpm_callback_fn_t *cbfn, void *baton),
+                            (pds, p, cbfn, baton), APR_ENOTIMPL)
+AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_register_poll_callback_timeout,
+                            (apr_array_header_t *pds, apr_pool_t *p, ap_mpm_callback_fn_t *cbfn, ap_mpm_callback_fn_t *tofn, void *baton, apr_time_t timeout),
+                            (pds, p, cbfn, tofn, baton, timeout), APR_ENOTIMPL)
+AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_unregister_poll_callback,
+                            (apr_array_header_t *pds, apr_pool_t *p),
+                            (pds, p), APR_ENOTIMPL)
 AP_IMPLEMENT_HOOK_RUN_FIRST(int, output_pending,
                             (conn_rec *c), (c), DECLINED)
 AP_IMPLEMENT_HOOK_RUN_FIRST(int, input_pending,
@@ -565,23 +565,22 @@
 {
     return ap_run_mpm_register_timed_callback(t, cbfn, baton);
 }
-AP_DECLARE(apr_status_t) ap_mpm_register_socket_callback(apr_socket_t **s, apr_pool_t *p, int for_read, ap_mpm_callback_fn_t *cbfn, void *baton)
+AP_DECLARE(apr_status_t) ap_mpm_register_poll_callback(apr_array_header_t *pds, apr_pool_t *p, ap_mpm_callback_fn_t *cbfn, void *baton)
 {
-    return ap_run_mpm_register_socket_callback(s, p, for_read, cbfn, baton);
+    return ap_run_mpm_register_poll_callback(pds, p, cbfn, baton);
 }
-AP_DECLARE(apr_status_t) ap_mpm_register_socket_callback_timeout(apr_socket_t **s, 
-                                                                 apr_pool_t *p, 
-                                                                 int for_read, 
-                                                                 ap_mpm_callback_fn_t *cbfn, 
-                                                                 ap_mpm_callback_fn_t *tofn, 
-                                                                 void *baton, 
-                                                                 apr_time_t timeout)
+AP_DECLARE(apr_status_t) ap_mpm_register_poll_callback_timeout(apr_array_header_t *pds,
+                                                               apr_pool_t *p,
+                                                               ap_mpm_callback_fn_t *cbfn,
+                                                               ap_mpm_callback_fn_t *tofn,
+                                                               void *baton,
+                                                               apr_time_t timeout)
 {
-    return ap_run_mpm_register_socket_callback_timeout(s, p, for_read, cbfn, tofn, baton, timeout);
+    return ap_run_mpm_register_poll_callback_timeout(pds, p, cbfn, tofn, baton, timeout);
 }
-AP_DECLARE(apr_status_t) ap_mpm_unregister_socket_callback(apr_socket_t **s, apr_pool_t *p)
+AP_DECLARE(apr_status_t) ap_mpm_unregister_poll_callback(apr_array_header_t *pds, apr_pool_t *p)
 {
-    return ap_run_mpm_unregister_socket_callback(s, p);
+    return ap_run_mpm_unregister_poll_callback(pds, p);
 }
 
 AP_DECLARE(const char *)ap_show_mpm(void)
Index: modules/proxy/mod_proxy_wstunnel.c
===================================================================
--- modules/proxy/mod_proxy_wstunnel.c	(revision 1734998)
+++ modules/proxy/mod_proxy_wstunnel.c	(working copy)
@@ -20,7 +20,7 @@
 module AP_MODULE_DECLARE_DATA proxy_wstunnel_module;
 
 typedef struct {
-    signed char is_async;
+    int mpm_can_poll;
     apr_time_t idle_timeout;
     apr_time_t async_delay;
 } proxyws_dir_conf;
@@ -39,7 +39,7 @@
 
 static void proxy_wstunnel_callback(void *b);
 
-static int proxy_wstunnel_pump(ws_baton_t *baton, apr_time_t timeout, int try_async) {
+static int proxy_wstunnel_pump(ws_baton_t *baton, apr_time_t timeout, int try_poll) {
     request_rec *r = baton->r;
     conn_rec *c = r->connection;
     proxy_conn_rec *conn = baton->proxy_connrec;
@@ -62,7 +62,7 @@
                 continue;
             }
             else if (APR_STATUS_IS_TIMEUP(rv)) { 
-                if (try_async) { 
+                if (try_poll) {
                     ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r, APLOGNO(02542) "Attempting to go async");
                     return SUSPENDED;
                 }
@@ -182,15 +182,28 @@
  */
 static void proxy_wstunnel_callback(void *b) { 
     int status;
-    apr_socket_t *sockets[3] = {NULL, NULL, NULL};
     ws_baton_t *baton = (ws_baton_t*)b;
     proxyws_dir_conf *dconf = ap_get_module_config(baton->r->per_dir_config, &proxy_wstunnel_module);
     apr_pool_clear(baton->subpool);
-    status = proxy_wstunnel_pump(baton, dconf->async_delay, dconf->is_async);
+    status = proxy_wstunnel_pump(baton, dconf->async_delay, dconf->mpm_can_poll);
     if (status == SUSPENDED) {
-        sockets[0] = baton->client_soc;
-        sockets[1] = baton->server_soc;
-        ap_mpm_register_socket_callback_timeout(sockets, baton->subpool, 1, 
+        apr_pollfd_t *pfd;
+
+        apr_array_header_t *pfds = apr_array_make(baton->subpool, 2, sizeof(apr_pollfd_t));
+
+        pfd = apr_array_push(pfds);
+        pfd->desc_type = APR_POLL_SOCKET;
+        pfd->reqevents = APR_POLLIN | APR_POLLERR | APR_POLLHUP;
+        pfd->desc.s = baton->client_soc;
+        pfd->p = baton->subpool;
+
+        pfd = apr_array_push(pfds);
+        pfd->desc_type = APR_POLL_SOCKET;
+        pfd->reqevents = APR_POLLIN | APR_POLLERR | APR_POLLHUP;
+        pfd->desc.s = baton->server_soc;
+        pfd->p = baton->subpool;
+
+        ap_mpm_register_poll_callback_timeout(pfds, baton->subpool,
             proxy_wstunnel_callback, 
             proxy_wstunnel_cancel_callback, 
             baton, 
@@ -298,7 +311,6 @@
     apr_bucket_brigade *bb = apr_brigade_create(p, c->bucket_alloc);
     apr_socket_t *client_socket = ap_get_conn_socket(c);
     ws_baton_t *baton = apr_pcalloc(r->pool, sizeof(ws_baton_t));
-    apr_socket_t *sockets[3] = {NULL, NULL, NULL};
     int status;
     proxyws_dir_conf *dconf = ap_get_module_config(r->per_dir_config, &proxy_wstunnel_module);
 
@@ -370,16 +382,30 @@
     baton->scheme = scheme;
     apr_pool_create(&baton->subpool, r->pool);
 
-    if (!dconf->is_async) { 
-        status = proxy_wstunnel_pump(baton, dconf->idle_timeout, dconf->is_async);
+    if (!dconf->mpm_can_poll) {
+        status = proxy_wstunnel_pump(baton, dconf->idle_timeout, dconf->mpm_can_poll);
     }  
     else { 
-        status = proxy_wstunnel_pump(baton, dconf->async_delay, dconf->is_async); 
+        status = proxy_wstunnel_pump(baton, dconf->async_delay, dconf->mpm_can_poll);
         apr_pool_clear(baton->subpool);
         if (status == SUSPENDED) {
-            sockets[0] = baton->client_soc;
-            sockets[1] = baton->server_soc;
-            rv = ap_mpm_register_socket_callback_timeout(sockets, baton->subpool, 1, 
+            apr_pollfd_t *pfd;
+
+            apr_array_header_t *pfds = apr_array_make(baton->subpool, 2, sizeof(apr_pollfd_t));
+
+            pfd = apr_array_push(pfds);
+            pfd->desc_type = APR_POLL_SOCKET;
+            pfd->reqevents = APR_POLLIN | APR_POLLERR | APR_POLLHUP;
+            pfd->desc.s = baton->client_soc;
+            pfd->p = baton->subpool;
+
+            pfd = apr_array_push(pfds);
+            pfd->desc_type = APR_POLL_SOCKET;
+            pfd->reqevents = APR_POLLIN | APR_POLLERR | APR_POLLHUP;
+            pfd->desc.s = baton->server_soc;
+            pfd->p = baton->subpool;
+
+            rv = ap_mpm_register_poll_callback_timeout(pfds, baton->subpool,
                          proxy_wstunnel_callback, 
                          proxy_wstunnel_cancel_callback, 
                          baton, 
@@ -504,6 +530,8 @@
 
     new->idle_timeout = -1; /* no timeout */
 
+    ap_mpm_query(AP_MPMQ_CAN_POLL, &new->mpm_can_poll);
+
     return (void *) new;
 }
 
@@ -524,15 +552,11 @@
 
 static const command_rec ws_proxy_cmds[] =
 {
-    AP_INIT_FLAG("ProxyWebsocketAsync", ap_set_flag_slot_char, (void*)APR_OFFSETOF(proxyws_dir_conf, is_async), 
-                 RSRC_CONF|ACCESS_CONF,
-                 "on if idle websockets connections should be monitored asyncronously"),
-
     AP_INIT_TAKE1("ProxyWebsocketIdleTimeout", proxyws_set_idle, NULL, RSRC_CONF|ACCESS_CONF,
                  "timeout for activity in either direction, unlimited by default"),
 
     AP_INIT_TAKE1("ProxyWebsocketAsyncDelay", proxyws_set_aysnch_delay, NULL, RSRC_CONF|ACCESS_CONF,
-                 "amount of time to poll before going asyncronous"),
+                 "amount of time to poll before going asynchronous"),
     {NULL}
 };
 

--Apple-Mail=_F4557EE9-4CCC-451F-81D0-3BFF6F400B25
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=us-ascii




--Apple-Mail=_F4557EE9-4CCC-451F-81D0-3BFF6F400B25--

From dev-return-85875-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 22:59:11 2016
Return-Path: <dev-return-85875-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5A93F19839
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 22:59:11 +0000 (UTC)
Received: (qmail 55643 invoked by uid 500); 14 Mar 2016 22:59:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55561 invoked by uid 500); 14 Mar 2016 22:59:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55551 invoked by uid 99); 14 Mar 2016 22:59:09 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 22:59:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 93D38C071B
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 22:59:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.33
X-Spam-Level:
X-Spam-Status: No, score=-0.33 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id tGIquheRJwmd for <dev@httpd.apache.org>;
	Mon, 14 Mar 2016 22:59:07 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 1FE3F5FB5E
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 22:59:07 +0000 (UTC)
Received: from [192.168.220.204] (unknown [192.168.220.204])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id F0199824CA
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 22:59:05 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: Proposed change to mpm_register_socket_callback(): apr_socket_t -> apr_pollfd_t
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <C6F7F4F0-5918-4DC9-B82D-26409B97AE04@greenbytes.de>
Date: Tue, 15 Mar 2016 00:59:05 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <B75424F4-DC6B-4F0B-BEAE-9587ABE34DFA@sharp.fm>
References: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm> <CALK=YjOnyjO0YsZ63rD-rXNPHyHE03owXpWRDP3O+Je=4iNQJg@mail.gmail.com> <F37BF2FE-6E64-4F39-A0E0-7BC959EE543A@sharp.fm> <CALK=YjM-pZysD=DC0jUC+r14BsY9HXoXriO9_NDY8mOVxYqnHg@mail.gmail.com> <DFE8326E-1E4F-47D4-BDA8-5ADE5DAE4161@sharp.fm> <CAKQ1sVPqUBzEg3aNkmbXi6wyv=FKZYPEN0iOBv_cFeVc8Wng6g@mail.gmail.com> <C6F7F4F0-5918-4DC9-B82D-26409B97AE04@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 14 Mar 2016, at 11:13 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:

> Like the direction this is going as well.
>=20
> Do we need a MPM Query for detecting support before one actually has a =
handle
> for registration?

We do - most recent patch has that, and we managed to drop one directive =
out of mod_proxy_wstunnel.

Regards,
Graham
=E2=80=94


From dev-return-85876-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 14 23:42:09 2016
Return-Path: <dev-return-85876-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5C24B19A3F
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Mar 2016 23:42:09 +0000 (UTC)
Received: (qmail 46251 invoked by uid 500); 14 Mar 2016 23:42:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46139 invoked by uid 500); 14 Mar 2016 23:42:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46129 invoked by uid 99); 14 Mar 2016 23:42:08 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Mar 2016 23:42:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 6410CC0055
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 23:42:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.33
X-Spam-Level:
X-Spam-Status: No, score=-0.33 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id DuWdqG9Qiet7 for <dev@httpd.apache.org>;
	Mon, 14 Mar 2016 23:42:07 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 3895F5F56F
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 23:42:07 +0000 (UTC)
Received: from [192.168.220.204] (unknown [192.168.220.204])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 05EC9824D8
	for <dev@httpd.apache.org>; Mon, 14 Mar 2016 23:42:05 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1734656 - in /httpd/httpd/trunk: ./ include/ modules/http/ server/ server/mpm/event/ server/mpm/motorz/ server/mpm/simple/
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <56E67AD7.8000409@apache.org>
Date: Tue, 15 Mar 2016 01:42:05 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <59EA6159-7BA9-4721-9AAE-064D42055275@sharp.fm>
References: <20160312004358.D49B93A0318@svn01-us-west.apache.org> <56E67AD7.8000409@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 14 Mar 2016, at 10:48 AM, Ruediger Pluem <rpluem@apache.org> wrote:

> This seems to cause frequent (no always) failures with test 8 of =
t/ssl/proxy.t.
> The request times out with a 504 status. So it looks like the =
"backend" in this request does not respond.
> Used MPM is Event, OS CentOS 6 64 Bit. Without further investigating =
my closeset guess would be that the changes to
> checkpipeline cause this.

I commented out check_pipeline() completely, and it passed all the =
tests.

Looking at check_pipeline, it seems to try and eat trailing CRLFs, which =
is duplicating the functionality in read_request_line() which eats =
preceding CRLFs already.

check_pipeline() seems to have been overhauled recently, not sure what =
problem it is trying to solve. Can we remove it?

Regards,
Graham
=E2=80=94


From dev-return-85877-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 15 00:22:22 2016
Return-Path: <dev-return-85877-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3671819BF4
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 15 Mar 2016 00:22:22 +0000 (UTC)
Received: (qmail 9583 invoked by uid 500); 15 Mar 2016 00:22:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 9495 invoked by uid 500); 15 Mar 2016 00:22:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 9485 invoked by uid 99); 15 Mar 2016 00:22:21 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2016 00:22:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id B4D671A14ED
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 00:22:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.33
X-Spam-Level:
X-Spam-Status: No, score=-0.33 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Ni-Sx2cnxFfe for <dev@httpd.apache.org>;
	Tue, 15 Mar 2016 00:22:19 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTP id 4184D5FADB
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 00:22:19 +0000 (UTC)
Received: from [192.168.220.204] (unknown [192.168.220.204])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 43405824CA
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 00:22:13 +0000 (GMT)
From: Graham Leggett <minfrin@sharp.fm>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: [Patch] Ensure HTTP1 filters are only added on HTTP1 requests
Message-Id: <90268C07-B1C2-4E06-8B48-4B58FA1B22E3@sharp.fm>
Date: Tue, 15 Mar 2016 02:22:12 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
X-Mailer: Apple Mail (2.2104)

Hi all,

The following patch fixes the problem where the HTTP1 filters are added =
on non HTTP1 requests.

The filters are now only added if ap_get_protocol() returns =
AP_PROTOCOL_HTTP1.

Regards,
Graham
--

Index: modules/http/http_core.c
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- modules/http/http_core.c	(revision 1734998)
+++ modules/http/http_core.c	(working copy)
@@ -34,6 +34,8 @@
=20
 #include "mod_core.h"
=20
+module AP_MODULE_DECLARE_DATA http_module;
+
 /* Handles for core filters */
 AP_DECLARE_DATA ap_filter_rec_t *ap_http_input_filter_handle;
 AP_DECLARE_DATA ap_filter_rec_t *ap_http_header_filter_handle;
@@ -48,6 +50,10 @@
  */
 static int async_mpm =3D 0;
=20
+typedef struct {
+    int is_http;
+} http_conn_conf;
+
 static const char *set_keep_alive_timeout(cmd_parms *cmd, void *dummy,
                                           const char *arg)
 {
@@ -242,9 +248,29 @@
     return OK;
 }
=20
+static int http_pre_connection(conn_rec *c, void *csd)
+{
+    const char *protocol =3D ap_get_protocol(c);
+
+    http_conn_conf *cconf =3D apr_pcalloc(c->pool, sizeof(*cconf));
+
+    if (!protocol || !strcmp(AP_PROTOCOL_HTTP1, protocol)) {
+        cconf->is_http =3D 1;
+    }
+
+    ap_set_module_config(c->conn_config, &http_module, cconf);
+
+    return OK;
+}
+
 static int ap_process_http_connection(conn_rec *c)
 {
-    if (async_mpm && !c->clogging_input_filters) {
+    http_conn_conf *cconf =3D ap_get_module_config(c->conn_config, =
&http_module);
+
+    if (!cconf || !cconf->is_http) {
+        return DECLINED;
+    }
+    else if (async_mpm && !c->clogging_input_filters) {
         return ap_process_http_async_connection(c);
     }
     else {
@@ -254,7 +280,6 @@
=20
 static int http_create_request(request_rec *r)
 {
-    /* FIXME: we must only add these filters if we are an HTTP request =
*/
     if (!r->main && !r->prev) {
         ap_add_output_filter_handle(ap_byterange_filter_handle,
                                     NULL, r, r->connection);
@@ -295,6 +320,7 @@
 static void register_hooks(apr_pool_t *p)
 {
     ap_hook_post_config(http_post_config, NULL, NULL, APR_HOOK_MIDDLE);
+    ap_hook_pre_connection(http_pre_connection,NULL,NULL, =
APR_HOOK_REALLY_LAST);
     ap_hook_process_connection(ap_process_http_connection, NULL, NULL,
                                APR_HOOK_REALLY_LAST);
     =
ap_hook_map_to_storage(ap_send_http_trace,NULL,NULL,APR_HOOK_MIDDLE);


From dev-return-85878-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 15 08:29:25 2016
Return-Path: <dev-return-85878-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9962D19330
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 15 Mar 2016 08:29:25 +0000 (UTC)
Received: (qmail 47975 invoked by uid 500); 15 Mar 2016 08:29:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 47896 invoked by uid 500); 15 Mar 2016 08:29:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 47886 invoked by uid 99); 15 Mar 2016 08:29:25 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2016 08:29:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 845A8180184
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 08:29:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id cI5izYFnbzWA for <dev@httpd.apache.org>;
	Tue, 15 Mar 2016 08:29:21 +0000 (UTC)
Received: from mail-qk0-f173.google.com (mail-qk0-f173.google.com [209.85.220.173])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id CB2505FB4E
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 08:29:20 +0000 (UTC)
Received: by mail-qk0-f173.google.com with SMTP id s5so3912211qkd.0
        for <dev@httpd.apache.org>; Tue, 15 Mar 2016 01:29:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=UK2Lxpfserz5/W7QKMrUfdHQboxVbt+QUcVZ4igqZtc=;
        b=vw3ykiSRLKqSQI64fGnJcI6MdWh6XrA//DpZnbJrHedkLoYyGjx4U2phsbGM5tjCTS
         GTchZABCnCFxeufu6Bv2pc8O9PlCsBeR/Mrdae1s/noANr4R519HFaW4T7Ohpfcxjg5X
         9lMB1RFZIsRrz8wpqTCmBvHsxIVVrErDe6o20pZ02wPr0429QUlEg43WGQ+d0f6vqTmV
         LorqBeuvVsLpujcjrXR0y7moChbtT4TZBDvQUhsvUh/HkWKn37HasszpNIId8x2d9h5Y
         aWHgkugL9sanP0bglniCfPZ8pUBtyZ6cNDVJogf+Afj4huJ7eFo9QzaeE1zYDf8SZkub
         pAKA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=UK2Lxpfserz5/W7QKMrUfdHQboxVbt+QUcVZ4igqZtc=;
        b=fnbQrMJB3fpsD88A0ct7KgTaYN8ZgjfZn645lOw8+e314UP9K9SAwKcOxPK8HYwmQi
         uAn3+Au8NVitqmbIzw06Pmxhuu6rut/0oNG53lnu8Hrvp8NwJ+ovxQGKFF0cPaOcre0s
         Stl8HcbBAlV0ysz/qJCwjtnVb1VRW0/QSmkI1Eu00FxmKpIZbVQ100FIynq84WbdbT1S
         K5e3t6ENtuLrfVwXUKaLXTKNVMbK6X5k+MuvWbo7FS8zmsTbpjjS7mx4EnPGZ/WbquG3
         iKID9iWx4vjh3YAF+5eJEcFQU92h0PtQYbI+nAg0E0qYaD0tVxenkrrSymiPLdxCowqq
         VwZw==
X-Gm-Message-State: AD7BkJIDpbBx7URs7UBHwJzT6Al/al47M3M/QWfywWILgJtUL1NSyqAsLSuliTUmxTh9CBv57bIr09V0WaYbww==
MIME-Version: 1.0
X-Received: by 10.55.200.215 with SMTP id t84mr36470190qkl.55.1458030560258;
 Tue, 15 Mar 2016 01:29:20 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Tue, 15 Mar 2016 01:29:20 -0700 (PDT)
In-Reply-To: <59EA6159-7BA9-4721-9AAE-064D42055275@sharp.fm>
References: <20160312004358.D49B93A0318@svn01-us-west.apache.org>
	<56E67AD7.8000409@apache.org>
	<59EA6159-7BA9-4721-9AAE-064D42055275@sharp.fm>
Date: Tue, 15 Mar 2016 09:29:20 +0100
Message-ID: <CAKQ1sVPLvXdoGBb1OVWG8y=3EvDX9mOZA+=JQkt1v=r1vvy62Q@mail.gmail.com>
Subject: Re: svn commit: r1734656 - in /httpd/httpd/trunk: ./ include/
 modules/http/ server/ server/mpm/event/ server/mpm/motorz/ server/mpm/simple/
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 15, 2016 at 12:42 AM, Graham Leggett <minfrin@sharp.fm> wrote:
> On 14 Mar 2016, at 10:48 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>
>> This seems to cause frequent (no always) failures with test 8 of t/ssl/proxy.t.
>> The request times out with a 504 status. So it looks like the "backend" in this request does not respond.
>> Used MPM is Event, OS CentOS 6 64 Bit. Without further investigating my closeset guess would be that the changes to
>> checkpipeline cause this.
>
> I commented out check_pipeline() completely, and it passed all the tests.
>
> Looking at check_pipeline, it seems to try and eat trailing CRLFs, which is duplicating the functionality in read_request_line() which eats preceding CRLFs already.
>
> check_pipeline() seems to have been overhauled recently, not sure what problem it is trying to solve. Can we remove it?

No we can't, or at least we need to eat the trailing CRLFs.
Otherwise they will be considered as a pipelined request, thus if no
request is really following, we will block in read_request_line(), w/o
FLUSHing the previous response.
For mpm event, that also causes a spurious wake up (defeating
non-blocking since read_request_line() is/was? blocking).

But maybe your recent changes could avoid this, dunno, at least we
need to flush when there is no real pipelined request already there
(after the CRLFs).

Regards,
Yann.

From dev-return-85879-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 15 11:09:18 2016
Return-Path: <dev-return-85879-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 28B1F19E5D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 15 Mar 2016 11:09:18 +0000 (UTC)
Received: (qmail 14821 invoked by uid 500); 15 Mar 2016 11:09:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14737 invoked by uid 500); 15 Mar 2016 11:09:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14724 invoked by uid 99); 15 Mar 2016 11:09:17 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2016 11:09:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 36563C772D
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 11:09:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id qL49M3XiA7Jg for <dev@httpd.apache.org>;
	Tue, 15 Mar 2016 11:09:16 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 33D195FB06
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 11:09:16 +0000 (UTC)
Received: by mail-qg0-f52.google.com with SMTP id y89so10702526qge.2
        for <dev@httpd.apache.org>; Tue, 15 Mar 2016 04:09:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-transfer-encoding;
        bh=8arPQLwjzrgRzWHtAWQIvOXZ3cuQVO7iIg5M+vySmZ8=;
        b=deTC0szbPSr9nxGxL6xt8LlEMsErBOcRbLaiqW4H4UxiC7X400xQucAGCS1dlDLF3i
         CCQJo8Td+NbNVupBvmHZwZPQPMAKxMfmov/tLu3JyFmccWf2xRT0DfwSq7V720bzxmww
         BM7hV1QwVJIWMdhcwL9KwGsg8be5CasPYJxG8eESrtYqn6ZJ+EdWIvWRnwGdHL++J0BF
         lF4wm0i7s6y9nzjeWFJfa1aqC63L6TGOI4+1vO6DPIbLqP8+cf02Ndjkz9XVl7MewbIC
         5fwATe9+BDeuRTz4JeTwmMD2dFeyGFt5fPyEgHdc1Xy/S98d/91wNOgE+YZaCn9mFXSe
         j7Lw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-transfer-encoding;
        bh=8arPQLwjzrgRzWHtAWQIvOXZ3cuQVO7iIg5M+vySmZ8=;
        b=FBihETaeKVLQUwTXJm0gndL6/Q0bdcxJUtaGR2RdRVNyXdAHuso/9T3qeWos8fTN23
         /ORW+2t856FuVT28ly2Fui7nSZFq4yi7o2N2bhhmhdw15fk5OIp8rkzsZnIqiDGK/f7j
         njwua/MOu2b0cKYSuJdXQc9aIiCa5qhA/3FkuOUQiBcD+dLGL41+0pk1Tf8ThA6IDIDJ
         +wgShLNXTdsi6g4fgNxspAyP1OIrUlmZs8uF9T4mtBBjMaLvj/RWSiXMiGfXbit2yPcY
         ye9AFAdoFWVGvOKPkP0L4yda3DJfHH2av8ovwEo38wdlxzgW5e6j8tGo1OfJo/p2cnYZ
         rbwg==
X-Gm-Message-State: AD7BkJIdLDvcsNa62ZEEmcqWzUTsHwZZ/fzVWbDJPsN4i4iaX2B5N+Xik85rpUWKIgZfnWz25yrQm0qAovOWjg==
MIME-Version: 1.0
X-Received: by 10.140.82.70 with SMTP id g64mr37838196qgd.14.1458040149671;
 Tue, 15 Mar 2016 04:09:09 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Tue, 15 Mar 2016 04:09:09 -0700 (PDT)
In-Reply-To: <9A01C97A-18EF-49B4-ACE9-84C9290ACD1B@sharp.fm>
References: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm>
	<CALK=YjOnyjO0YsZ63rD-rXNPHyHE03owXpWRDP3O+Je=4iNQJg@mail.gmail.com>
	<F37BF2FE-6E64-4F39-A0E0-7BC959EE543A@sharp.fm>
	<CALK=YjM-pZysD=DC0jUC+r14BsY9HXoXriO9_NDY8mOVxYqnHg@mail.gmail.com>
	<DFE8326E-1E4F-47D4-BDA8-5ADE5DAE4161@sharp.fm>
	<CAKQ1sVPqUBzEg3aNkmbXi6wyv=FKZYPEN0iOBv_cFeVc8Wng6g@mail.gmail.com>
	<65C15DDA-BCC2-49F4-B3D7-96B4853F524E@sharp.fm>
	<CAKQ1sVOQN_t=+=cMciUvKk-LV-f75TyWUb7G8w=gAEiYfDuvnw@mail.gmail.com>
	<9A01C97A-18EF-49B4-ACE9-84C9290ACD1B@sharp.fm>
Date: Tue, 15 Mar 2016 12:09:09 +0100
Message-ID: <CAKQ1sVNzuhgL6HoG64hV71sPJp623iZTEpn6Hyvc7Lh7SNuNMg@mail.gmail.com>
Subject: Re: Proposed change to mpm_register_socket_callback(): apr_socket_t
 -> apr_pollfd_t
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Mon, Mar 14, 2016 at 11:29 PM, Graham Leggett <minfrin@sharp.fm> wrote:
> On 14 Mar 2016, at 11:17 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote
> :
>>> Having looked at this in more detail this isn=E2=80=99t as simple.
>>>
>>> The sticking point is the cleanup, which needs to be passed a single st=
ruct to do it=E2=80=99s work. To pass both the pfds and the npdfs these two=
 need to be wrapped in a structure of some kind, which the user has to feed=
 in from the outside common to both register and unregister. This structure=
 probably should be an apr_array_header_t.
>>
>> Hmm right, either this or, say, the ending pfd is the one with
>> ->reqevents=3D0, or ->p=3DNULL, or probably better
>> ->desc_type=3DAPR_NO_DESC.
>> Up to the caller to ensure this, it could possibly be documented.
>>
>>>
>>> Is it worth making the change from apr_pollfd_t **pfds to apr_array_hea=
der_t *pfds?
>>
>> That would still require some "complex" initialization, so I'd prefer
>> the above if it doesn't sound to hacky=E2=80=A6
>
> I just gave it a try and it was a lot more elegant than I thought.
>
> You create an array the precise size you need, and off you go.

That's indeed elegant enough, but I think I prefer the plain array
solution, still :p

Don't you like?
{
    apr_pollfd_t pfds[3];
    /* or */
    apr_pollfd_t *pfds =3D apr_pcalloc(p, 3 * apr_pollfd_t);

    pfds[0].desc_type =3D APR_POLL_SOCKET;
    pfds[0].desc.s =3D s0;
    ...
    pfds[1].desc_type =3D APR_POLL_SOCKET;
    pfds[1].desc.s =3D s1;
    ...
    pfds[2].desc_type =3D APR_NO_DESC;

    ap_mpm_register_poll_callback_timeout(pfds, pool, ...);
}

And the callbacks/cleanups could then loop with:
{
    apr_pollfd_t *pfd;
    for (pfd =3D pfds; pfd->desc_type !=3D APR_NO_DESC; pfd++) {
        ...
    }
}

Since APR_NO_DESC =3D=3D 0, we could even omit it above (both for
initializing pfds[2] thanks to calloc, and for the !=3D APR_NO_DESC in
the loop)...

No struct needed for cleanup_register() either, we can pass the pfds
(plain) array as is (terminated by .desc_type =3D=3D APR_NO_DESC instead
of the NULL-pointer of your first/indirect version, we can likewise
require this from the user).

But, after all, I'm not really against using an apr_array either...

Regards,
Yann.

From dev-return-85880-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 15 11:23:13 2016
Return-Path: <dev-return-85880-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8E33219EB2
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 15 Mar 2016 11:23:13 +0000 (UTC)
Received: (qmail 46576 invoked by uid 500); 15 Mar 2016 11:23:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46512 invoked by uid 500); 15 Mar 2016 11:23:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46502 invoked by uid 99); 15 Mar 2016 11:23:13 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2016 11:23:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 26337C0316
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 11:23:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.021
X-Spam-Level:
X-Spam-Status: No, score=-0.021 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=visualsvn.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id TB4Mlas8iRFC for <dev@httpd.apache.org>;
	Tue, 15 Mar 2016 11:23:10 +0000 (UTC)
Received: from mail-ig0-f169.google.com (mail-ig0-f169.google.com [209.85.213.169])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id C642B5F19D
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 11:23:09 +0000 (UTC)
Received: by mail-ig0-f169.google.com with SMTP id nk17so62983135igb.1
        for <dev@httpd.apache.org>; Tue, 15 Mar 2016 04:23:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=visualsvn.com; s=google;
        h=mime-version:from:date:message-id:subject:to;
        bh=IoGKIzGMYrdKDUJ64uBqwPn2UYNi1ML9riXhZQxoVYI=;
        b=aY0TQnKL6lzrK6XmdtEKRPxlnBJdJON3aFzcTuVcROAc3AT4v9L9LjIS+lk59N6sXO
         SKkCg2FGpxHpz+sEiP/wn+8wYAwroG+PQtPbBf7TqZnlF8r5blt4aOK87fL3pSrDmmM5
         2y9WNhKvXg2wX1xai/8Nxn3Dt+FsSUjES4cC0=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:from:date:message-id:subject:to;
        bh=IoGKIzGMYrdKDUJ64uBqwPn2UYNi1ML9riXhZQxoVYI=;
        b=ZgWM57w/4butUiZUjgpGdI336Jxs/dWQhG0OJF/iFT2bEYvULAvlaRun1oyTK+J3/L
         4J2gt63WVp+Waa476ab39EfpbM3qi9XqQqB0HM7JVbEhMzBttc0OIo1XQC5rsHmWcYhl
         qKZNoA3xwXwz99H9WFhPt5LTlNSjt3BdhU/yoNEBsY4vAh+67ItdwY7AYCgYoRuL5bD7
         RL58E/0UGjRIUEIOuk9MA2oScBhzKfcAneKoYIAQXGj2EqLu6KwqkWxTZXJCLSgGOJ22
         qsLWC66TLUvU7u3eAQFF7l6JYWEYv1KK8mU0RVzAfdw6GRZrFpmezhCsxxvEaiFXSJXp
         j+OA==
X-Gm-Message-State: AD7BkJKErzPFVZb/rKCjY/mdKRLeS0qgzBZFUcMhlBpQMA1Ag4Z+94rjA3RyHSK7efwUhZcXy+OsSNER5EeMso7t
X-Received: by 10.50.79.168 with SMTP id k8mr23513320igx.55.1458040983101;
 Tue, 15 Mar 2016 04:23:03 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.64.138.168 with HTTP; Tue, 15 Mar 2016 04:22:43 -0700 (PDT)
From: Evgeny Kotkov <evgeny.kotkov@visualsvn.com>
Date: Tue, 15 Mar 2016 14:22:43 +0300
Message-ID: <CAP_GPNhuutmx-r9woJM2D-U90f4VZJn5R+Qn+HK5OQ=M84xh_Q@mail.gmail.com>
Subject: [PATCH] mod_rewrite: double escaping of query strings in server context
To: dev@httpd.apache.org
Content-Type: multipart/mixed; boundary=047d7bf198eeddd549052e149eeb

--047d7bf198eeddd549052e149eeb
Content-Type: text/plain; charset=UTF-8

This patch fixes a problem in mod_rewrite.  The following config with the
RewriteRule in per-directory context works fine for query strings:

    <Directory "/">
        RewriteEngine  On
        RewriteRule  ^foo  http://hostname/bar  [R=301,L]
    </Directory>

But the same RewriteRule in per-server context doesn't work:

    <VirtualHost *:80>
        RewriteEngine  On
        RewriteRule  ^/foo  http://hostname/bar  [R=301,L]
    </VirtualHost>

The second example leads to double URL-escaping of the query string:

    GET /foo?q=%25
    301 Moved Permanently
    Location: http://hostname/bar?q=%25%25

This is PR 50447 [1], and the issue was fixed for per-directory contexts in
r1044673 [2].  However, RewriteRules in server context are handled differently
in mod_rewrite, and their handling wasn't updated.  The attached patch applies
the same fix for such rules.  The second patch adds a regression test for the
issue in t/modules/rewrite.t.  Both of the patches are against trunk.

[1] https://bz.apache.org/bugzilla/show_bug.cgi?id=50447
[2] https://svn.apache.org/r1044673


Regards,
Evgeny Kotkov

--047d7bf198eeddd549052e149eeb
Content-Type: text/plain; charset=US-ASCII; 
	name="rewrite-querystring-escaping-v1.patch.txt"
Content-Disposition: attachment; 
	filename="rewrite-querystring-escaping-v1.patch.txt"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_iltbv9wv0

bW9kX3Jld3JpdGU6IEZpeCBkb3VibGUgZXNjYXBpbmcgb2YgdGhlIHF1ZXJ5IHN0cmluZyBmb3Ig
UmV3cml0ZVJ1bGVzIGluCnNlcnZlciBjb250ZXh0LgoKU2VlIFBSIDUwNDQ3IGFuZCByMTA0NDY3
MyB0aGF0IGZpeGVkIHRoaXMgZm9yIGRpcmVjdG9yeSBjb250ZXh0cy4KCkluZGV4OiBtb2R1bGVz
L21hcHBlcnMvbW9kX3Jld3JpdGUuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL21hcHBlcnMvbW9k
X3Jld3JpdGUuYwkocmV2aXNpb24gMTczNTAwMSkKKysrIG1vZHVsZXMvbWFwcGVycy9tb2RfcmV3
cml0ZS5jCSh3b3JraW5nIGNvcHkpCkBAIC00NTQ4LDYgKzQ1NDgsNyBAQCBzdGF0aWMgaW50IGhv
b2tfdXJpMmZpbGUocmVxdWVzdF9yZWMgKnIpCiAgICAgdW5zaWduZWQgaW50IHBvcnQ7CiAgICAg
aW50IHJ1bGVzdGF0dXM7CiAgICAgdm9pZCAqc2tpcGRhdGE7CisgICAgY29uc3QgY2hhciAqb2Fy
Z3M7CiAKICAgICAvKgogICAgICAqICByZXRyaWV2ZSB0aGUgY29uZmlnIHN0cnVjdHVyZXMKQEAg
LTQ1OTgsNiArNDU5OSwxMiBAQCBzdGF0aWMgaW50IGhvb2tfdXJpMmZpbGUocmVxdWVzdF9yZWMg
KnIpCiAgICAgfQogCiAgICAgLyoKKyAgICAgKiAgcmVtZW1iZXIgdGhlIG9yaWdpbmFsIHF1ZXJ5
IHN0cmluZyBmb3IgbGF0ZXIgY2hlY2ssIHNpbmNlIHdlIGRvbid0CisgICAgICogIHdhbnQgdG8g
YXBwbHkgVVJMLWVzY2FwaW5nIHdoZW4gbm8gc3Vic3RpdHV0aW9uIGhhcyBjaGFuZ2VkIGl0Lgor
ICAgICAqLworICAgIG9hcmdzID0gci0+YXJnczsKKworICAgIC8qCiAgICAgICogIGFkZCB0aGUg
U0NSSVBUX1VSTCB2YXJpYWJsZSB0byB0aGUgZW52LiB0aGlzIGlzIGEgYml0IGNvbXBsaWNhdGVk
CiAgICAgICogIGR1ZSB0byB0aGUgZmFjdCB0aGF0IGFwYWNoZSB1c2VzIHN1YnJlcXVlc3RzIGFu
ZCBpbnRlcm5hbCByZWRpcmVjdHMKICAgICAgKi8KQEAgLTQ3MzEsMTEgKzQ3MzgsMjEgQEAgc3Rh
dGljIGludCBob29rX3VyaTJmaWxlKHJlcXVlc3RfcmVjICpyKQogCiAgICAgICAgICAgICAvKiBh
cHBlbmQgdGhlIFFVRVJZX1NUUklORyBwYXJ0ICovCiAgICAgICAgICAgICBpZiAoci0+YXJncykg
eworICAgICAgICAgICAgICAgIGNoYXIgKmVzY2FwZWRfYXJncyA9IE5VTEw7CisgICAgICAgICAg
ICAgICAgaW50IG5vZXNjYXBlID0gKHJ1bGVzdGF0dXMgPT0gQUNUSU9OX05PRVNDQVBFIHx8Cisg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvYXJncyAmJiAhc3RyY21wKHItPmFyZ3Ms
IG9hcmdzKSkpOworCiAgICAgICAgICAgICAgICAgci0+ZmlsZW5hbWUgPSBhcHJfcHN0cmNhdChy
LT5wb29sLCByLT5maWxlbmFtZSwgIj8iLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgKHJ1bGVzdGF0dXMgPT0gQUNUSU9OX05PRVNDQVBFKQorICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9lc2NhcGUKICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgPyByLT5hcmdzCi0gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIDogYXBfZXNjYXBlX3VyaShyLT5wb29sLCByLT5hcmdz
KSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoZXNjYXBl
ZF9hcmdzID0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
YXBfZXNjYXBlX3VyaShyLT5wb29sLCByLT5hcmdzKSksCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBOVUxMKTsKKworICAgICAgICAgICAgICAgIHJld3JpdGVsb2co
KHIsIDEsIE5VTEwsICIlcyAlcyB0byBxdWVyeSBzdHJpbmcgZm9yIHJlZGlyZWN0ICVzIiwKKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBub2VzY2FwZSA/ICJjb3B5aW5nIiA6ICJlc2NhcGlu
ZyIsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgci0+YXJncyAsCisgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgbm9lc2NhcGUgPyAiIiA6IGVzY2FwZWRfYXJncykpOwogICAgICAgICAg
ICAgfQogCiAgICAgICAgICAgICAvKiBkZXRlcm1pbmUgSFRUUCByZWRpcmVjdCByZXNwb25zZSBj
b2RlICovCg==
--047d7bf198eeddd549052e149eeb
Content-Type: text/plain; charset=US-ASCII; 
	name="rewrite-querystring-escaping-test-v1.patch.txt"
Content-Disposition: attachment; 
	filename="rewrite-querystring-escaping-test-v1.patch.txt"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_iltbvc2u1

bW9kX3Jld3JpdGU6IEFkZCByZWdyZXNzaW9uIHRlc3RzIGZvciBQUiA1MDQ0NyAoZG91YmxlIFVS
TC1lc2NhcGluZyBvZgp0aGUgcXVlcnkgc3RyaW5nKS4KCkluZGV4OiB0L2NvbmYvZXh0cmEuY29u
Zi5pbgo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09Ci0tLSB0L2NvbmYvZXh0cmEuY29uZi5pbgkocmV2aXNpb24gMTczNTAw
MSkKKysrIHQvY29uZi9leHRyYS5jb25mLmluCSh3b3JraW5nIGNvcHkpCkBAIC0yMzQsNiArMjM0
LDkgQEAKICAgICAgICAgIyMgUHJveHkgYW5kIFFTQQogICAgICAgICBSZXdyaXRlUnVsZSBecHJv
eHktcXNhLmh0bWwkIGh0dHA6Ly9AU0VSVkVSTkFNRUA6QFBPUlRAL21vZHVsZXMvY2dpL2Vudi5w
bD9mb289YmFyIFtRU0EsTCxQXQogCisgICAgICAgICMjIFJlZGlyZWN0LCBkaXJlY3RvcnkgY29u
dGV4dAorICAgICAgICBSZXdyaXRlUnVsZSBecmVkaXJlY3QtZGlyLmh0bWwkIGh0dHA6Ly9AU0VS
VkVSTkFNRUA6QFBPUlRAL2Zvb2Jhci5odG1sIFtMLFI9MzAxXQorCiAgICAgPC9EaXJlY3Rvcnk+
CiAKICAgICAjIyMgUHJveHkgcGFzcy10aHJvdWdoIHRvIGVudi5wbApAQCAtMjQzLDYgKzI0Niw5
IEBACiAgICAgUmV3cml0ZUNvbmQgJXtRVUVSWV9TVFJJTkd9IGhvcnNlPXRyaWdnZXIKICAgICBS
ZXdyaXRlUnVsZSBeL21vZHVsZXMvcmV3cml0ZS9wcm94eTMvKC4qKSQgaHR0cDovL0BTRVJWRVJO
QU1FQDpAUE9SVEAvbW9kdWxlcy9jZ2kvJDEgW0wsUF0KIAorICAgICMjIyBSZWRpcmVjdCwgc2Vy
dmVyIGNvbnRleHQKKyAgICBSZXdyaXRlUnVsZSBeL21vZHVsZXMvcmV3cml0ZS9yZWRpcmVjdC5o
dG1sJCBodHRwOi8vQFNFUlZFUk5BTUVAOkBQT1JUQC9mb29iYXIuaHRtbCBbTCxSPTMwMV0KKwog
ICAgPFZpcnR1YWxIb3N0IGN2ZV8yMDExXzMzNjhfcmV3cml0ZT4KICAgICAgIERvY3VtZW50Um9v
dCBAU0VSVkVSUk9PVEAvaHRkb2NzL21vZHVsZXMvcHJveHkKICAgICAgIFJld3JpdGVFbmdpbmUg
T24KSW5kZXg6IHQvbW9kdWxlcy9yZXdyaXRlLnQKPT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gdC9tb2R1bGVzL3Jl
d3JpdGUudAkocmV2aXNpb24gMTczNTAwMSkKKysrIHQvbW9kdWxlcy9yZXdyaXRlLnQJKHdvcmtp
bmcgY29weSkKQEAgLTEyLDExICsxMiwyMCBAQCB1c2UgQXBhY2hlOjpUZXN0VXRpbDsKIG15IEBt
YXAgPSBxdyh0eHQgcm5kIHByZyk7ICNkYm0gWFhYOiBob3d0byBkZXRlcm1pbmUgZGJtIHN1cHBv
cnQgaXMgYXZhaWxhYmxlPwogbXkgQG51bSA9IHF3KDEgMiAzIDQgNSA2KTsKIG15IEB1cmwgPSBx
dyhmb3JiaWRkZW4gZ29uZSBwZXJtIHRlbXApOwotbXkgQHRvZG8gPSAoKTsKK215IEB0b2RvOwog
bXkgJHI7CiAKLXBsYW4gdGVzdHMgPT4gQG1hcCAqIEBudW0gKyAxMSwgdG9kbyA9PiBcQHRvZG8s
IG5lZWRfbW9kdWxlICdyZXdyaXRlJzsKK2lmICghaGF2ZV9taW5fYXBhY2hlX3ZlcnNpb24oJzIu
NScpKSB7CisgICAgIyBQUiA1MDQ0Nywgc2VydmVyIGNvbnRleHQKKyAgICBwdXNoIEB0b2RvLCAy
NgorfQoraWYgKCFoYXZlX21pbl9hcGFjaGVfdmVyc2lvbignMi40JykpIHsKKyAgICAjIFBSIDUw
NDQ3LCBkaXJlY3RvcnkgY29udGV4dCAocjEwNDQ2NzMpCisgICAgcHVzaCBAdG9kbywgMjQKK30K
IAorcGxhbiB0ZXN0cyA9PiBAbWFwICogQG51bSArIDE1LCB0b2RvID0+IFxAdG9kbywgbmVlZF9t
b2R1bGUgJ3Jld3JpdGUnOworCiBmb3JlYWNoIChAbWFwKSB7CiAgICAgZm9yZWFjaCBteSAkbiAo
QG51bSkgewogICAgICAgICAjIyB0aHJvdyAkXyBpbnRvIHVwcGVyIGNhc2UganVzdCBzbyB3ZSBj
YW4gdGVzdCBvdXQgaW50ZXJuYWwKQEAgLTU4LDYgKzY3LDE5IEBAICRyID0gR0VUX0JPRFkoIi9t
b2R1bGVzL3Jld3JpdGUvcXNhLmh0bWw/YmF6PWJlZSIpCiBjaG9tcCAkcjsKIG9rIHRfY21wKCRy
LCBxci9cblFVRVJZX1NUUklORyA9IGZvbz1iYXJcJmJhej1iZWVcbi9zLCAicXVlcnktc3RyaW5n
IGFwcGVuZCB0ZXN0Iik7CiAKKyMgUFIgNTA0NDcgKGRvdWJsZSBVUkwtZXNjYXBpbmcgb2YgdGhl
IHF1ZXJ5IHN0cmluZykKK215ICRob3N0cG9ydCA9IEFwYWNoZTo6VGVzdFJlcXVlc3Q6Omhvc3Rw
b3J0KCk7CisKKyRyID0gR0VUKCIvbW9kdWxlcy9yZXdyaXRlL3JlZGlyZWN0LWRpci5odG1sP3E9
JTI1IiwgcmVkaXJlY3Rfb2sgPT4gMCk7CitvayB0X2NtcCgkci0+Y29kZSwgMzAxLCAicGVyLWRp
ciByZWRpcmVjdCByZXNwb25zZSBjb2RlIGlzIE9LIik7CitvayB0X2NtcCgkci0+aGVhZGVyKCJM
b2NhdGlvbiIpLCAiaHR0cDovLyRob3N0cG9ydC9mb29iYXIuaHRtbD9xPSUyNSIsCisgICAgICAg
ICAicGVyLWRpciBxdWVyeS1zdHJpbmcgZXNjYXBpbmcgaXMgT0siKTsKKworJHIgPSBHRVQoIi9t
b2R1bGVzL3Jld3JpdGUvcmVkaXJlY3QuaHRtbD9xPSUyNSIsIHJlZGlyZWN0X29rID0+IDApOwor
b2sgdF9jbXAoJHItPmNvZGUsIDMwMSwgInJlZGlyZWN0IHJlc3BvbnNlIGNvZGUgaXMgT0siKTsK
K29rIHRfY21wKCRyLT5oZWFkZXIoIkxvY2F0aW9uIiksICJodHRwOi8vJGhvc3Rwb3J0L2Zvb2Jh
ci5odG1sP3E9JTI1IiwKKyAgICAgICAgICJxdWVyeS1zdHJpbmcgZXNjYXBpbmcgaXMgT0siKTsK
KwogaWYgKGhhdmVfbW9kdWxlKCdtb2RfcHJveHknKSkgewogICAgICRyID0gR0VUX0JPRFkoIi9t
b2R1bGVzL3Jld3JpdGUvcHJveHkuaHRtbCIpOwogICAgIGNob21wICRyOwo=
--047d7bf198eeddd549052e149eeb--

From dev-return-85881-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 15 15:01:55 2016
Return-Path: <dev-return-85881-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5EB08191B7
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 15 Mar 2016 15:01:55 +0000 (UTC)
Received: (qmail 93061 invoked by uid 500); 15 Mar 2016 15:01:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92993 invoked by uid 500); 15 Mar 2016 15:01:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92983 invoked by uid 99); 15 Mar 2016 15:01:54 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2016 15:01:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 1DC58C2846
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 15:01:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ZSd1RL6ed_oF for <dev@httpd.apache.org>;
	Tue, 15 Mar 2016 15:01:52 +0000 (UTC)
Received: from mail-io0-f178.google.com (mail-io0-f178.google.com [209.85.223.178])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id D522F5F3FF
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 15:01:51 +0000 (UTC)
Received: by mail-io0-f178.google.com with SMTP id z76so27016874iof.3
        for <dev@httpd.apache.org>; Tue, 15 Mar 2016 08:01:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=CEZO5aXmZ76Cd1C8+5yFq7ciArIpfkLOq4eNrHvcMQk=;
        b=XMUKHR4JrLmnkinCgy994pkmQNhw+RMfeRm9h1TcCUGZNzHALFxeecVjG7rfZfPvIL
         3lbxR5gbzdxexsKPUi+DpdHMGK/abq3T8eaDbEIMwaE9L743RgqXHhrPvQBHmbI53lhl
         tMw1usvzoSX3+PAh7Xck7U4EwwDQ+cwVJYCFp1n/V0AgOmAQopqVuApDWnAaMp7fDuVY
         bBlZF6zi0qgrMyREFqnbOZefvxEHJNtsqk3EFE2zVQhQ9O5doX5KHMBfzpafYJnj1BYD
         GvuI866Vf9qBMna2sb4BbOTAM04NE34ZJNvm+3t3r9wqSBeR5lZAHLaNua6xjIuOagsC
         mqRA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=CEZO5aXmZ76Cd1C8+5yFq7ciArIpfkLOq4eNrHvcMQk=;
        b=KcKCs4zlvAhl8Czh+qL6OHl6apOkylhwTP+4m74fUywuCGsdp0xXUoBM4V/IjRskoG
         RYde+8G3NpJkFXWgAHge52xz/LlA4iXEdTJReLiKSKc1Uxz3NVnI1Uqbyo+w68MD3m+L
         0ATdatro4AOUTubR52+rioifDioT0dC/e/ljXlzuqyu+Y0e/k2S0ofB4GRdFwRH/r4J7
         1+pT05YnTjKqdrD/eKFLqGbvnCrhnYjXU2pqIaWCqsknPmkobU72NIWJQBM37HJRxkBg
         R10fJInUXYjKe171SN3bkVzxA5e/Ym8wgbLdzeFf4O2w5Agh54fH6EiwGK2j3mP0efuA
         Qc2Q==
X-Gm-Message-State: AD7BkJKRx3FzBB960Ek2DLIPQ9hhlQCst7OdI5w6iTzXWiIl4BGGwaiQ8rm5YFVOdkLwHz/IYjhwPYA2Dzdnxg==
MIME-Version: 1.0
X-Received: by 10.107.26.201 with SMTP id a192mr31600970ioa.13.1458054110826;
 Tue, 15 Mar 2016 08:01:50 -0700 (PDT)
Received: by 10.64.39.16 with HTTP; Tue, 15 Mar 2016 08:01:50 -0700 (PDT)
In-Reply-To: <CAP_GPNhuutmx-r9woJM2D-U90f4VZJn5R+Qn+HK5OQ=M84xh_Q@mail.gmail.com>
References: <CAP_GPNhuutmx-r9woJM2D-U90f4VZJn5R+Qn+HK5OQ=M84xh_Q@mail.gmail.com>
Date: Tue, 15 Mar 2016 11:01:50 -0400
Message-ID: <CALK=YjMGjxhi1gSARS4X_SGZEd_JfZ=xzJN2r2cQG7tiuemACQ@mail.gmail.com>
Subject: Re: [PATCH] mod_rewrite: double escaping of query strings in server context
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 15, 2016 at 7:22 AM, Evgeny Kotkov
<evgeny.kotkov@visualsvn.com> wrote:
> This is PR 50447 [1], and the issue was fixed for per-directory contexts in
> r1044673 [2].  However, RewriteRules in server context are handled differently
> in mod_rewrite, and their handling wasn't updated.  The attached patch applies
> the same fix for such rules.  The second patch adds a regression test for the
> issue in t/modules/rewrite.t.  Both of the patches are against trunk.


Thanks Evgeny, I've applied both patches and have queued it up for
backport review to 2.4.x.

(thanks especially for the tests too)

From dev-return-85882-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 15 17:11:39 2016
Return-Path: <dev-return-85882-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D98FC19971
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 15 Mar 2016 17:11:39 +0000 (UTC)
Received: (qmail 64359 invoked by uid 500); 15 Mar 2016 17:11:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64305 invoked by uid 500); 15 Mar 2016 17:11:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64295 invoked by uid 99); 15 Mar 2016 17:11:39 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2016 17:11:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id D291C1A0361
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 17:11:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id E3HIZ6acQrac for <dev@httpd.apache.org>;
	Tue, 15 Mar 2016 17:11:38 +0000 (UTC)
Received: from mail-qg0-f48.google.com (mail-qg0-f48.google.com [209.85.192.48])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 54B005F5CE
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 17:11:37 +0000 (UTC)
Received: by mail-qg0-f48.google.com with SMTP id w104so20107896qge.1
        for <dev@httpd.apache.org>; Tue, 15 Mar 2016 10:11:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=p64efFH9kGSruZZ08HGe9GVNDCZsN20UlM3XDRauC+o=;
        b=CBN02t+ddw/gA7bnmP1eAKO6eUZWdQZgcI4NnINUm8bNww9l/cyOuXhm+JV7hPI5Ci
         abLFCvTLlEQRYF9TfWVOzXr8ex4RIlgwc/QuHcYNtFJi6chXgwFGwBcB+1HHpuw9VhdG
         IHGR+COMHN7Q3ykQCyOOPPoGJhXylwyGSw+ZzuwizwV9h73ADzSgkvHPkFYrypr5/3qb
         GKlzZdvWIbnS4gDqWAdoPqRyxOmKQcLVTEqV8gSry1TJH3D0SLGZzZ33AsnY1I8r3QOB
         67s9EkvjZKn1ZUnDgFVXTXIaP7Yw25KYLFs3pwxdPWFSSdYf4JV+A3M9+4QLxTix72qd
         h2gQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=p64efFH9kGSruZZ08HGe9GVNDCZsN20UlM3XDRauC+o=;
        b=Z6T3RmyzFmo6pSQbwGHiMf+Yl7njZOJwjitkQYICW9cEdEXLQg/TgolR+GeqwetrMx
         Q5gRBbLJALTFw3UuynxiaXzzNXFqrPrxGbpyU1FpoUfyLIiRmjmfa/ymJmn7ykn28CuP
         KbEmaKeSSEREJ1QwCFFsCQj8pcsQE0t2/F1PCsuCqbMGRK4HhEF9DuVC+zun0P318O1w
         v1kIWn7sABdh5FNltWh2Wfcg9CKx+FlNiCKF3YfZIbEtB3SK6hm32zpBCiwwffp/o0zR
         J+8fIRXIlfN1IhK0Zf5lvO30SrZida1aXE16hkmCVXWh8NyY7tOehqwZB/HeT8DenF/B
         pZyQ==
X-Gm-Message-State: AD7BkJIL64pU6w6vyfrCaaN4zYb39cQj+KZJlpxsYVTMadKUmKjzC98gpadSXJvdwBAQ1y7gh6rB0LJto9cnzw==
MIME-Version: 1.0
X-Received: by 10.140.164.71 with SMTP id k68mr41795460qhk.97.1458061889790;
 Tue, 15 Mar 2016 10:11:29 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Tue, 15 Mar 2016 10:11:29 -0700 (PDT)
In-Reply-To: <20160311135117.D03C23A031A@svn01-us-west.apache.org>
References: <20160311135117.D03C23A031A@svn01-us-west.apache.org>
Date: Tue, 15 Mar 2016 18:11:29 +0100
Message-ID: <CAKQ1sVM8=4aYmGBXq1iHogK6f_7XV7PMthEBD7drH5ykhmMgrA@mail.gmail.com>
Subject: Re: svn commit: r1734561 - in /httpd/httpd/trunk: CHANGES
 docs/manual/mod/mod_ssl.xml modules/ssl/mod_ssl.c modules/ssl/ssl_engine_config.c
 modules/ssl/ssl_engine_init.c modules/ssl/ssl_engine_kernel.c modules/ssl/ssl_private.h
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Mar 11, 2016 at 2:51 PM,  <ylavic@apache.org> wrote:
> Author: ylavic
> Date: Fri Mar 11 13:51:17 2016
> New Revision: 1734561
>
> URL: http://svn.apache.org/viewvc?rev=1734561&view=rev
> Log:
> mod_ssl: Add no_crl_for_cert_ok flag to SSLCARevocationCheck directive
> to opt-in previous behaviour (2.2) with CRLs verification when checking
> certificate(s) with no corresponding CRL.

I wonder if this commit is not a bit overkill, and if instead of
adding new options/flags to "SSLCARevocationCheck chain|leaf
option(s)" with this only "no_crl_for_cert_ok" flag for now (will
there ever be others?), I'd rather not simply use a new token like
"chain-allow-miss"...

Anyway I have to fix ssl_callback_SSLVerify() (which uses
sc->server->crl_check_flags instead of mctx->crl_check_flags, and
hence does not work in the proxy case), so I could be easily convinced
to simplify the whole :)

Thoughts?

From dev-return-85883-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 15 19:28:22 2016
Return-Path: <dev-return-85883-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 85FA7182C2
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 15 Mar 2016 19:28:22 +0000 (UTC)
Received: (qmail 31350 invoked by uid 500); 15 Mar 2016 19:28:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 31267 invoked by uid 500); 15 Mar 2016 19:28:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 31256 invoked by uid 99); 15 Mar 2016 19:28:21 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2016 19:28:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 7A3691A048B
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 19:28:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.33
X-Spam-Level:
X-Spam-Status: No, score=-0.33 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id AUWmuBdAXt5K for <dev@httpd.apache.org>;
	Tue, 15 Mar 2016 19:28:19 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTP id 32E2D5F574
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 19:28:19 +0000 (UTC)
Received: from [192.168.220.210] (unknown [192.168.220.210])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 8FE378254D
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 19:28:18 +0000 (GMT)
From: Graham Leggett <minfrin@sharp.fm>
Content-Type: multipart/mixed; boundary="Apple-Mail=_338B6595-702E-4BEF-9EFD-B1B84A7FE9B8"
Message-Id: <49F9F117-9C1F-4D44-AB02-9505D7614265@sharp.fm>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: Proposed change to mpm_register_socket_callback(): apr_socket_t -> apr_pollfd_t
Date: Tue, 15 Mar 2016 21:28:17 +0200
References: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm> <CALK=YjOnyjO0YsZ63rD-rXNPHyHE03owXpWRDP3O+Je=4iNQJg@mail.gmail.com> <F37BF2FE-6E64-4F39-A0E0-7BC959EE543A@sharp.fm> <CALK=YjM-pZysD=DC0jUC+r14BsY9HXoXriO9_NDY8mOVxYqnHg@mail.gmail.com> <DFE8326E-1E4F-47D4-BDA8-5ADE5DAE4161@sharp.fm> <CAKQ1sVPqUBzEg3aNkmbXi6wyv=FKZYPEN0iOBv_cFeVc8Wng6g@mail.gmail.com> <65C15DDA-BCC2-49F4-B3D7-96B4853F524E@sharp.fm> <CAKQ1sVOQN_t=+=cMciUvKk-LV-f75TyWUb7G8w=gAEiYfDuvnw@mail.gmail.com> <9A01C97A-18EF-49B4-ACE9-84C9290ACD1B@sharp.fm> <CAKQ1sVNzuhgL6HoG64hV71sPJp623iZTEpn6Hyvc7Lh7SNuNMg@mail.gmail.com>
To: dev@httpd.apache.org
In-Reply-To: <CAKQ1sVNzuhgL6HoG64hV71sPJp623iZTEpn6Hyvc7Lh7SNuNMg@mail.gmail.com>
X-Mailer: Apple Mail (2.2104)


--Apple-Mail=_338B6595-702E-4BEF-9EFD-B1B84A7FE9B8
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8

On 15 Mar 2016, at 1:09 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

>> I just gave it a try and it was a lot more elegant than I thought.
>>=20
>> You create an array the precise size you need, and off you go.
>=20
> That's indeed elegant enough, but I think I prefer the plain array
> solution, still :p
>=20
> Don't you like?
> {
>    apr_pollfd_t pfds[3];
>    /* or */
>    apr_pollfd_t *pfds =3D apr_pcalloc(p, 3 * apr_pollfd_t);
>=20
>    pfds[0].desc_type =3D APR_POLL_SOCKET;
>    pfds[0].desc.s =3D s0;
>    ...
>    pfds[1].desc_type =3D APR_POLL_SOCKET;
>    pfds[1].desc.s =3D s1;
>    ...
>    pfds[2].desc_type =3D APR_NO_DESC;
>=20
>    ap_mpm_register_poll_callback_timeout(pfds, pool, ...);
> }

The trouble with the above is that because of the pool cleanup we now =
have, pfds[3] needs to live as long as pool p. In your example it does, =
but there is nothing stopping someone trying to allocate pfds[3] on the =
stack and then returning. Later the cleanup is run, and boom - difficult =
to debug crash or weird behaviour.

With the array you=E2=80=99re guaranteed the memory is allocated from a =
pool, which means the pool cleanup will always be safe.

What we should also do is drop the apr_pool_t *p parameter and read it =
from apr_header_array_t=E2=80=99s pool instead. This will be a further =
check to stop the caller from doing anything pathological, as we =
definitely know the cleanup and the array belong to each other, and our =
API becomes simpler still.

Attached patch does this.

Regards,
Graham
=E2=80=94


--Apple-Mail=_338B6595-702E-4BEF-9EFD-B1B84A7FE9B8
Content-Disposition: attachment;
	filename=httpd-register-poll3.patch
Content-Type: application/octet-stream;
	name="httpd-register-poll3.patch"
Content-Transfer-Encoding: 7bit

Index: include/ap_mmn.h
===================================================================
--- include/ap_mmn.h	(revision 1734998)
+++ include/ap_mmn.h	(working copy)
@@ -510,12 +510,19 @@
  * 20160312.0 (2.5.0-dev)  Rename complete_connection to output_pending,
  *                         add ap_filter_input_pending(),
  *                         ap_filter_prepare_brigade(), ap_filter_direction_e
+ * 20160315.0 (2.5.0-dev)  Rename ap_mpm_register_socket_callback,
+ *                         ap_mpm_register_socket_callback_timeout and
+ *                         ap_mpm_unregister_socket_callback to
+ *                         ap_mpm_register_poll_callback,
+ *                         ap_mpm_register_poll_callback_timeout and
+ *                         ap_mpm_unregister_poll_callback. Add
+ *                         AP_MPMQ_CAN_POLL.
  */
 
 #define MODULE_MAGIC_COOKIE 0x41503235UL /* "AP25" */
 
 #ifndef MODULE_MAGIC_NUMBER_MAJOR
-#define MODULE_MAGIC_NUMBER_MAJOR 20160312
+#define MODULE_MAGIC_NUMBER_MAJOR 20160315
 #endif
 #define MODULE_MAGIC_NUMBER_MINOR 0                 /* 0...n */
 
Index: include/ap_mpm.h
===================================================================
--- include/ap_mpm.h	(revision 1734998)
+++ include/ap_mpm.h	(working copy)
@@ -180,6 +180,8 @@
 #define AP_MPMQ_HAS_SERF             16
 /** MPM supports suspending/resuming connections */
 #define AP_MPMQ_CAN_SUSPEND          17
+/** MPM supports additional pollfds */
+#define AP_MPMQ_CAN_POLL             18
 /** @} */
 
 /**
@@ -207,50 +209,54 @@
                                                        void *baton);
 
 /**
- * Register a callback on the readability or writability on a group of sockets
- * @param s Null-terminated list of sockets
+ * Register a callback on the readability or writability on a group of
+ * sockets/pipes.
+ * @param pfds Array of apr_pollfd_t
  * @param p pool for use between registration and callback
- * @param for_read Whether the sockets are monitored for read or writability
  * @param cbfn The callback function
  * @param baton userdata for the callback function
- * @return APR_SUCCESS if all sockets could be added to a pollset, 
+ * @return APR_SUCCESS if all sockets/pipes could be added to a pollset,
  * APR_ENOTIMPL if no asynch support, or an apr_pollset_add error.
- * @remark When activity is found on any 1 socket in the list, all are removed 
+ * @remark When activity is found on any 1 socket/pipe in the list, all are removed
  * from the pollset and only 1 callback is issued.
  */
 
-AP_DECLARE(apr_status_t) ap_mpm_register_socket_callback(apr_socket_t **s,
-                                                         apr_pool_t *p,
-                                                         int for_read, 
-                                                         ap_mpm_callback_fn_t *cbfn,
-                                                         void *baton);
+AP_DECLARE(apr_status_t) ap_mpm_register_poll_callback(apr_array_header_t *pds,
+                                                       ap_mpm_callback_fn_t *cbfn,
+                                                       void *baton);
  /**
- * Register a callback on the readability or writability on a group of sockets, with a timeout
- * @param s Null-terminated list of sockets
+ * Register a callback on the readability or writability on a group of sockets/pipes,
+ * with a timeout.
+ * @param pfds Array of apr_pollfd_t
  * @param p pool for use between registration and callback
- * @param for_read Whether the sockets are monitored for read or writability
  * @param cbfn The callback function
  * @param tofn The callback function if the timeout expires
  * @param baton userdata for the callback function
  * @param timeout timeout for I/O in microseconds, unlimited if <= 0
- * @return APR_SUCCESS if all sockets could be added to a pollset, 
+ * @return APR_SUCCESS if all sockets/pipes could be added to a pollset,
  * APR_ENOTIMPL if no asynch support, or an apr_pollset_add error.
- * @remark When activity is found on any 1 socket in the list, all are removed 
+ * @remark When activity is found on any 1 socket/pipe in the list, all are removed
  * from the pollset and only 1 callback is issued. 
  * @remark For each call, only one of tofn or cbfn will be called, never both.
  */
 
-AP_DECLARE(apr_status_t) ap_mpm_register_socket_callback_timeout(apr_socket_t **s,
-                                                         apr_pool_t *p,
-                                                         int for_read, 
+AP_DECLARE(apr_status_t) ap_mpm_register_poll_callback_timeout(apr_array_header_t *pfds,
                                                          ap_mpm_callback_fn_t *cbfn,
                                                          ap_mpm_callback_fn_t *tofn,
                                                          void *baton,
                                                          apr_time_t timeout);
 
 
-AP_DECLARE(apr_status_t) ap_mpm_unregister_socket_callback(apr_socket_t **s, 
-                                                           apr_pool_t *p);
+/**
+* Unregister a previously registered callback.
+* @param pfds Array of apr_pollfd_t
+* @param p pool for use between registration and callback
+* @return APR_SUCCESS if all sockets/pipes could be removed from the pollset,
+* APR_ENOTIMPL if no asynch support, or an apr_pollset_remove error.
+* @remark This function triggers the cleanup registered on the pool p during
+* callback registration.
+*/
+AP_DECLARE(apr_status_t) ap_mpm_unregister_poll_callback(apr_array_header_t *pfds);
 
 typedef enum mpm_child_status {
     MPM_CHILD_STARTED,
Index: include/mpm_common.h
===================================================================
--- include/mpm_common.h	(revision 1734998)
+++ include/mpm_common.h	(working copy)
@@ -426,15 +426,15 @@
  * register the specified callback
  * @ingroup hooks
  */
-AP_DECLARE_HOOK(apr_status_t, mpm_register_socket_callback,
-                (apr_socket_t **s, apr_pool_t *p, int for_read, ap_mpm_callback_fn_t *cbfn, void *baton))
+AP_DECLARE_HOOK(apr_status_t, mpm_register_poll_callback,
+                (apr_array_header_t *pds, ap_mpm_callback_fn_t *cbfn, void *baton))
 
 /* register the specified callback, with timeout 
  * @ingroup hooks
  *
  */
-AP_DECLARE_HOOK(apr_status_t, mpm_register_socket_callback_timeout,
-                (apr_socket_t **s, apr_pool_t *p, int for_read, 
+AP_DECLARE_HOOK(apr_status_t, mpm_register_poll_callback_timeout,
+                (apr_array_header_t *pds,
                  ap_mpm_callback_fn_t *cbfn,  
                  ap_mpm_callback_fn_t *tofn, 
                  void *baton, 
@@ -443,8 +443,8 @@
  * Unregister the specified callback
  * @ingroup hooks
  */
-AP_DECLARE_HOOK(apr_status_t, mpm_unregister_socket_callback,
-                (apr_socket_t **s, apr_pool_t *p))
+AP_DECLARE_HOOK(apr_status_t, mpm_unregister_poll_callback,
+                (apr_array_header_t *pds))
 
 /** Resume the suspended connection 
  * @ingroup hooks
Index: server/mpm/event/event.c
===================================================================
--- server/mpm/event/event.c	(revision 1734998)
+++ server/mpm/event/event.c	(working copy)
@@ -337,12 +337,11 @@
 
 typedef struct
 {
- ap_mpm_callback_fn_t *cbfunc;
- void *user_baton; 
- apr_pollfd_t **pfds;
- int nsock;
- timer_event_t *cancel_event;    /* If a timeout was requested, a pointer to the timer event */
- unsigned int signaled:1;
+    ap_mpm_callback_fn_t *cbfunc;
+    void *user_baton;
+    apr_array_header_t *pfds;
+    timer_event_t *cancel_event; /* If a timeout was requested, a pointer to the timer event */
+    unsigned int signaled :1;
 } socket_callback_baton_t;
 
 /* data retained by event across load/unload of the module
@@ -591,6 +590,9 @@
     case AP_MPMQ_CAN_SUSPEND:
         *result = 1;
         break;
+    case AP_MPMQ_CAN_POLL:
+        *result = 1;
+        break;
     default:
         *rv = APR_ENOTIMPL;
         break;
@@ -1480,7 +1482,7 @@
                                              ap_mpm_callback_fn_t *cbfn,
                                              void *baton,
                                              int insert, 
-                                             apr_pollfd_t **remove)
+                                             apr_array_header_t *remove)
 {
     timer_event_t *te;
     /* oh yeah, and make locking smarter/fine grained. */
@@ -1514,7 +1516,7 @@
 static apr_status_t event_register_timed_callback_ex(apr_time_t t,
                                                   ap_mpm_callback_fn_t *cbfn,
                                                   void *baton, 
-                                                  apr_pollfd_t **remove)
+                                                  apr_array_header_t *remove)
 {
     event_get_timer_event(t + apr_time_now(), cbfn, baton, 1, remove);
     return APR_SUCCESS;
@@ -1528,95 +1530,79 @@
     return APR_SUCCESS;
 }
 
-static apr_status_t event_register_socket_callback_ex(apr_socket_t **s, 
-                                                  apr_pool_t *p, 
-                                                  int for_read,
+static apr_status_t event_cleanup_poll_callback(void *data)
+{
+    apr_status_t final_rc = APR_SUCCESS;
+    apr_array_header_t *pfds = data;
+    int i;
+
+    for (i = 0; i < pfds->nelts; i++) {
+        apr_pollfd_t *pfd = (apr_pollfd_t *)pfds->elts + i;
+        if (pfd->client_data) {
+            apr_status_t rc;
+            rc = apr_pollset_remove(event_pollset, pfd);
+            if (rc != APR_SUCCESS && !APR_STATUS_IS_NOTFOUND(rc)) {
+                final_rc = rc;
+            }
+        }
+    }
+
+    return final_rc;
+}
+
+static apr_status_t event_register_poll_callback_ex(apr_array_header_t *pfds,
                                                   ap_mpm_callback_fn_t *cbfn,
                                                   ap_mpm_callback_fn_t *tofn,
-                                                  void *baton, 
+                                                  void *baton,
                                                   apr_time_t timeout)
 {
+    socket_callback_baton_t *scb = apr_pcalloc(pfds->pool, sizeof(*scb));
+    listener_poll_type *pt = apr_palloc(pfds->pool, sizeof(*pt));
     apr_status_t rc, final_rc= APR_SUCCESS;
-    int i = 0, nsock;
-    socket_callback_baton_t *scb = apr_pcalloc(p, sizeof(*scb));
-    listener_poll_type *pt = apr_palloc(p, sizeof(*pt));
-    apr_pollfd_t **pfds = NULL;
+    int i;
 
-    while(s[i] != NULL) { 
-        i++; 
-    }
-    nsock = i;
-
-    pfds = apr_pcalloc(p, (nsock+1) * sizeof(apr_pollfd_t*));
-
     pt->type = PT_USER;
     pt->baton = scb;
 
     scb->cbfunc = cbfn;
     scb->user_baton = baton;
-    scb->nsock = nsock;
     scb->pfds = pfds;
 
-    for (i = 0; i<nsock; i++) { 
-        pfds[i] = apr_pcalloc(p, sizeof(apr_pollfd_t));
-        pfds[i]->desc_type = APR_POLL_SOCKET;
-        pfds[i]->reqevents = (for_read ? APR_POLLIN : APR_POLLOUT) | APR_POLLERR | APR_POLLHUP;
-        pfds[i]->desc.s = s[i];
-        pfds[i]->p = p;
-        pfds[i]->client_data = pt;
+    apr_pool_pre_cleanup_register(pfds->pool, pfds, event_cleanup_poll_callback);
+
+    for (i = 0; i < pfds->nelts; i++) {
+        apr_pollfd_t *pfd = (apr_pollfd_t *)pfds->elts + i;
+        pfd->reqevents = (pfd->reqevents) | APR_POLLERR | APR_POLLHUP;
+        pfd->client_data = pt;
     }
 
     if (timeout > 0) { 
         /* XXX:  This cancel timer event count fire before the pollset is updated */
         scb->cancel_event = event_get_timer_event(timeout + apr_time_now(), tofn, baton, 1, pfds);
     }
-    for (i = 0; i<nsock; i++) { 
-        rc = apr_pollset_add(event_pollset, pfds[i]);
+    for (i = 0; i < pfds->nelts; i++) {
+        apr_pollfd_t *pfd = (apr_pollfd_t *)pfds->elts + i;
+        rc = apr_pollset_add(event_pollset, pfd);
         if (rc != APR_SUCCESS) {
             final_rc = rc;
         }
     }
     return final_rc;
 }
-static apr_status_t event_register_socket_callback(apr_socket_t **s, 
-                                                  apr_pool_t *p, 
-                                                  int for_read,
-                                                  ap_mpm_callback_fn_t *cbfn,
-                                                  void *baton)
+
+static apr_status_t event_register_poll_callback(apr_array_header_t *pfds,
+                                                 ap_mpm_callback_fn_t *cbfn,
+                                                 void *baton)
 {
-    return event_register_socket_callback_ex(s, p, for_read, 
-                                             cbfn, 
-                                             NULL, /* no timeout function */
-                                             baton, 
-                                             0     /* no timeout */);
+    return event_register_poll_callback_ex(pfds,
+                                           cbfn,
+                                           NULL, /* no timeout function */
+                                           baton,
+                                           0     /* no timeout */);
 }
-static apr_status_t event_unregister_socket_callback(apr_socket_t **s, apr_pool_t *p)
+static apr_status_t event_unregister_poll_callback(apr_array_header_t *pfds)
 {
-    int i = 0, nsock;
-    apr_status_t final_rc = APR_SUCCESS;
-    apr_pollfd_t **pfds = NULL;
-
-    while(s[i] != NULL) { 
-        i++; 
-    }
-    nsock = i;
- 
-    pfds = apr_palloc(p, nsock * sizeof(apr_pollfd_t*));
-
-    for (i = 0; i<nsock; i++) { 
-        apr_status_t rc;
-        pfds[i] = apr_pcalloc(p, sizeof(apr_pollfd_t));
-        pfds[i]->desc_type = APR_POLL_SOCKET;
-        pfds[i]->reqevents = APR_POLLERR | APR_POLLHUP;
-        pfds[i]->desc.s = s[i];
-        pfds[i]->client_data = NULL;
-        rc = apr_pollset_remove(event_pollset, pfds[i]);
-        if (rc != APR_SUCCESS && !APR_STATUS_IS_NOTFOUND(rc)) {
-            final_rc = rc;
-        }
-    }
-
-    return final_rc;
+    return apr_pool_cleanup_run(pfds->pool, pfds, event_cleanup_poll_callback);
 }
 
 /*
@@ -1828,10 +1814,11 @@
             if (te->when < now + EVENT_FUDGE_FACTOR) {
                 apr_skiplist_pop(timer_skiplist, NULL);
                 if (!te->canceled) { 
-                    if (te->remove != NULL) {
-                        apr_pollfd_t **pfds;
-                        for (pfds = (te->remove); *pfds != NULL; pfds++) { 
-                            apr_pollset_remove(event_pollset, *pfds);
+                    if (te->remove) {
+                        int i;
+                        for (i = 0; i < te->remove->nelts; i++) {
+                            apr_pollfd_t *pfd = (apr_pollfd_t *)te->remove->elts + i;
+                            apr_pollset_remove(event_pollset, pfd);
                         }
                     }
                     push_timer2worker(te);
@@ -2056,8 +2043,10 @@
                                                0, /* don't insert it */
                                                NULL /* no associated socket callback */);
                     /* remove all sockets in my set */
-                    for (i = 0; i < baton->nsock; i++) { 
-                        apr_pollset_remove(event_pollset, baton->pfds[i]); 
+                    for (i = 0; i < baton->pfds->nelts; i++) {
+                        apr_pollfd_t *pfd = (apr_pollfd_t *)baton->pfds->elts + i;
+                        apr_pollset_remove(event_pollset, pfd);
+                        pfd->client_data = NULL;
                     }
 
                     push_timer2worker(te);
@@ -3789,11 +3778,11 @@
     ap_hook_mpm_query(event_query, NULL, NULL, APR_HOOK_MIDDLE);
     ap_hook_mpm_register_timed_callback(event_register_timed_callback, NULL, NULL,
                                         APR_HOOK_MIDDLE);
-    ap_hook_mpm_register_socket_callback(event_register_socket_callback, NULL, NULL,
+    ap_hook_mpm_register_poll_callback(event_register_poll_callback, NULL, NULL,
                                         APR_HOOK_MIDDLE);
-    ap_hook_mpm_register_socket_callback_timeout(event_register_socket_callback_ex, NULL, NULL,
+    ap_hook_mpm_register_poll_callback_timeout(event_register_poll_callback_ex, NULL, NULL,
                                         APR_HOOK_MIDDLE);
-    ap_hook_mpm_unregister_socket_callback(event_unregister_socket_callback, NULL, NULL,
+    ap_hook_mpm_unregister_poll_callback(event_unregister_poll_callback, NULL, NULL,
                                         APR_HOOK_MIDDLE);
     ap_hook_pre_read_request(event_pre_read_request, NULL, NULL, APR_HOOK_MIDDLE);
     ap_hook_post_read_request(event_post_read_request, NULL, NULL, APR_HOOK_MIDDLE);
Index: server/mpm/event/fdqueue.h
===================================================================
--- server/mpm/event/fdqueue.h	(revision 1734998)
+++ server/mpm/event/fdqueue.h	(working copy)
@@ -64,13 +64,14 @@
 
 typedef struct timer_event_t timer_event_t;
 
-struct timer_event_t {
+struct timer_event_t
+{
     APR_RING_ENTRY(timer_event_t) link;
     apr_time_t when;
     ap_mpm_callback_fn_t *cbfunc;
     void *baton;
-    int canceled;           
-    apr_pollfd_t **remove;  
+    int canceled;
+    apr_array_header_t *remove;
 };
 
 struct fd_queue_t
Index: server/mpm_common.c
===================================================================
--- server/mpm_common.c	(revision 1734998)
+++ server/mpm_common.c	(working copy)
@@ -68,9 +68,9 @@
     APR_HOOK_LINK(mpm) \
     APR_HOOK_LINK(mpm_query) \
     APR_HOOK_LINK(mpm_register_timed_callback) \
-    APR_HOOK_LINK(mpm_register_socket_callback) \
-    APR_HOOK_LINK(mpm_register_socket_callback_timeout) \
-    APR_HOOK_LINK(mpm_unregister_socket_callback) \
+    APR_HOOK_LINK(mpm_register_poll_callback) \
+    APR_HOOK_LINK(mpm_register_poll_callback_timeout) \
+    APR_HOOK_LINK(mpm_unregister_poll_callback) \
     APR_HOOK_LINK(mpm_get_name) \
     APR_HOOK_LINK(mpm_resume_suspended) \
     APR_HOOK_LINK(end_generation) \
@@ -110,15 +110,15 @@
 AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_resume_suspended,
                             (conn_rec *c),
                             (c), APR_ENOTIMPL)
-AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_register_socket_callback,
-                            (apr_socket_t **s, apr_pool_t *p, int for_read, ap_mpm_callback_fn_t *cbfn, void *baton),
-                            (s, p, for_read, cbfn, baton), APR_ENOTIMPL)
-AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_register_socket_callback_timeout,
-                            (apr_socket_t **s, apr_pool_t *p, int for_read, ap_mpm_callback_fn_t *cbfn, ap_mpm_callback_fn_t *tofn, void *baton, apr_time_t timeout),
-                            (s, p, for_read, cbfn, tofn, baton, timeout), APR_ENOTIMPL)
-AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_unregister_socket_callback,
-                            (apr_socket_t **s, apr_pool_t *p),
-                            (s, p), APR_ENOTIMPL)
+AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_register_poll_callback,
+                            (apr_array_header_t *pds, ap_mpm_callback_fn_t *cbfn, void *baton),
+                            (pds, cbfn, baton), APR_ENOTIMPL)
+AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_register_poll_callback_timeout,
+                            (apr_array_header_t *pds, ap_mpm_callback_fn_t *cbfn, ap_mpm_callback_fn_t *tofn, void *baton, apr_time_t timeout),
+                            (pds, cbfn, tofn, baton, timeout), APR_ENOTIMPL)
+AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_unregister_poll_callback,
+                            (apr_array_header_t *pds),
+                            (pds), APR_ENOTIMPL)
 AP_IMPLEMENT_HOOK_RUN_FIRST(int, output_pending,
                             (conn_rec *c), (c), DECLINED)
 AP_IMPLEMENT_HOOK_RUN_FIRST(int, input_pending,
@@ -565,23 +565,21 @@
 {
     return ap_run_mpm_register_timed_callback(t, cbfn, baton);
 }
-AP_DECLARE(apr_status_t) ap_mpm_register_socket_callback(apr_socket_t **s, apr_pool_t *p, int for_read, ap_mpm_callback_fn_t *cbfn, void *baton)
+AP_DECLARE(apr_status_t) ap_mpm_register_poll_callback(apr_array_header_t *pds, ap_mpm_callback_fn_t *cbfn, void *baton)
 {
-    return ap_run_mpm_register_socket_callback(s, p, for_read, cbfn, baton);
+    return ap_run_mpm_register_poll_callback(pds, cbfn, baton);
 }
-AP_DECLARE(apr_status_t) ap_mpm_register_socket_callback_timeout(apr_socket_t **s, 
-                                                                 apr_pool_t *p, 
-                                                                 int for_read, 
-                                                                 ap_mpm_callback_fn_t *cbfn, 
-                                                                 ap_mpm_callback_fn_t *tofn, 
-                                                                 void *baton, 
-                                                                 apr_time_t timeout)
+AP_DECLARE(apr_status_t) ap_mpm_register_poll_callback_timeout(apr_array_header_t *pds,
+                                                               ap_mpm_callback_fn_t *cbfn,
+                                                               ap_mpm_callback_fn_t *tofn,
+                                                               void *baton,
+                                                               apr_time_t timeout)
 {
-    return ap_run_mpm_register_socket_callback_timeout(s, p, for_read, cbfn, tofn, baton, timeout);
+    return ap_run_mpm_register_poll_callback_timeout(pds, cbfn, tofn, baton, timeout);
 }
-AP_DECLARE(apr_status_t) ap_mpm_unregister_socket_callback(apr_socket_t **s, apr_pool_t *p)
+AP_DECLARE(apr_status_t) ap_mpm_unregister_poll_callback(apr_array_header_t *pds)
 {
-    return ap_run_mpm_unregister_socket_callback(s, p);
+    return ap_run_mpm_unregister_poll_callback(pds);
 }
 
 AP_DECLARE(const char *)ap_show_mpm(void)
Index: modules/proxy/mod_proxy_wstunnel.c
===================================================================
--- modules/proxy/mod_proxy_wstunnel.c	(revision 1734998)
+++ modules/proxy/mod_proxy_wstunnel.c	(working copy)
@@ -20,7 +20,7 @@
 module AP_MODULE_DECLARE_DATA proxy_wstunnel_module;
 
 typedef struct {
-    signed char is_async;
+    int mpm_can_poll;
     apr_time_t idle_timeout;
     apr_time_t async_delay;
 } proxyws_dir_conf;
@@ -39,7 +39,7 @@
 
 static void proxy_wstunnel_callback(void *b);
 
-static int proxy_wstunnel_pump(ws_baton_t *baton, apr_time_t timeout, int try_async) {
+static int proxy_wstunnel_pump(ws_baton_t *baton, apr_time_t timeout, int try_poll) {
     request_rec *r = baton->r;
     conn_rec *c = r->connection;
     proxy_conn_rec *conn = baton->proxy_connrec;
@@ -62,7 +62,7 @@
                 continue;
             }
             else if (APR_STATUS_IS_TIMEUP(rv)) { 
-                if (try_async) { 
+                if (try_poll) {
                     ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r, APLOGNO(02542) "Attempting to go async");
                     return SUSPENDED;
                 }
@@ -182,15 +182,28 @@
  */
 static void proxy_wstunnel_callback(void *b) { 
     int status;
-    apr_socket_t *sockets[3] = {NULL, NULL, NULL};
     ws_baton_t *baton = (ws_baton_t*)b;
     proxyws_dir_conf *dconf = ap_get_module_config(baton->r->per_dir_config, &proxy_wstunnel_module);
     apr_pool_clear(baton->subpool);
-    status = proxy_wstunnel_pump(baton, dconf->async_delay, dconf->is_async);
+    status = proxy_wstunnel_pump(baton, dconf->async_delay, dconf->mpm_can_poll);
     if (status == SUSPENDED) {
-        sockets[0] = baton->client_soc;
-        sockets[1] = baton->server_soc;
-        ap_mpm_register_socket_callback_timeout(sockets, baton->subpool, 1, 
+        apr_pollfd_t *pfd;
+
+        apr_array_header_t *pfds = apr_array_make(baton->subpool, 2, sizeof(apr_pollfd_t));
+
+        pfd = apr_array_push(pfds);
+        pfd->desc_type = APR_POLL_SOCKET;
+        pfd->reqevents = APR_POLLIN | APR_POLLERR | APR_POLLHUP;
+        pfd->desc.s = baton->client_soc;
+        pfd->p = baton->subpool;
+
+        pfd = apr_array_push(pfds);
+        pfd->desc_type = APR_POLL_SOCKET;
+        pfd->reqevents = APR_POLLIN | APR_POLLERR | APR_POLLHUP;
+        pfd->desc.s = baton->server_soc;
+        pfd->p = baton->subpool;
+
+        ap_mpm_register_poll_callback_timeout(pfds,
             proxy_wstunnel_callback, 
             proxy_wstunnel_cancel_callback, 
             baton, 
@@ -298,7 +311,6 @@
     apr_bucket_brigade *bb = apr_brigade_create(p, c->bucket_alloc);
     apr_socket_t *client_socket = ap_get_conn_socket(c);
     ws_baton_t *baton = apr_pcalloc(r->pool, sizeof(ws_baton_t));
-    apr_socket_t *sockets[3] = {NULL, NULL, NULL};
     int status;
     proxyws_dir_conf *dconf = ap_get_module_config(r->per_dir_config, &proxy_wstunnel_module);
 
@@ -370,16 +382,30 @@
     baton->scheme = scheme;
     apr_pool_create(&baton->subpool, r->pool);
 
-    if (!dconf->is_async) { 
-        status = proxy_wstunnel_pump(baton, dconf->idle_timeout, dconf->is_async);
+    if (!dconf->mpm_can_poll) {
+        status = proxy_wstunnel_pump(baton, dconf->idle_timeout, dconf->mpm_can_poll);
     }  
     else { 
-        status = proxy_wstunnel_pump(baton, dconf->async_delay, dconf->is_async); 
+        status = proxy_wstunnel_pump(baton, dconf->async_delay, dconf->mpm_can_poll);
         apr_pool_clear(baton->subpool);
         if (status == SUSPENDED) {
-            sockets[0] = baton->client_soc;
-            sockets[1] = baton->server_soc;
-            rv = ap_mpm_register_socket_callback_timeout(sockets, baton->subpool, 1, 
+            apr_pollfd_t *pfd;
+
+            apr_array_header_t *pfds = apr_array_make(baton->subpool, 2, sizeof(apr_pollfd_t));
+
+            pfd = apr_array_push(pfds);
+            pfd->desc_type = APR_POLL_SOCKET;
+            pfd->reqevents = APR_POLLIN | APR_POLLERR | APR_POLLHUP;
+            pfd->desc.s = baton->client_soc;
+            pfd->p = baton->subpool;
+
+            pfd = apr_array_push(pfds);
+            pfd->desc_type = APR_POLL_SOCKET;
+            pfd->reqevents = APR_POLLIN | APR_POLLERR | APR_POLLHUP;
+            pfd->desc.s = baton->server_soc;
+            pfd->p = baton->subpool;
+
+            rv = ap_mpm_register_poll_callback_timeout(pfds,
                          proxy_wstunnel_callback, 
                          proxy_wstunnel_cancel_callback, 
                          baton, 
@@ -504,6 +530,8 @@
 
     new->idle_timeout = -1; /* no timeout */
 
+    ap_mpm_query(AP_MPMQ_CAN_POLL, &new->mpm_can_poll);
+
     return (void *) new;
 }
 
@@ -524,15 +552,11 @@
 
 static const command_rec ws_proxy_cmds[] =
 {
-    AP_INIT_FLAG("ProxyWebsocketAsync", ap_set_flag_slot_char, (void*)APR_OFFSETOF(proxyws_dir_conf, is_async), 
-                 RSRC_CONF|ACCESS_CONF,
-                 "on if idle websockets connections should be monitored asyncronously"),
-
     AP_INIT_TAKE1("ProxyWebsocketIdleTimeout", proxyws_set_idle, NULL, RSRC_CONF|ACCESS_CONF,
                  "timeout for activity in either direction, unlimited by default"),
 
     AP_INIT_TAKE1("ProxyWebsocketAsyncDelay", proxyws_set_aysnch_delay, NULL, RSRC_CONF|ACCESS_CONF,
-                 "amount of time to poll before going asyncronous"),
+                 "amount of time to poll before going asynchronous"),
     {NULL}
 };
 

--Apple-Mail=_338B6595-702E-4BEF-9EFD-B1B84A7FE9B8--

From dev-return-85884-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 15 21:03:13 2016
Return-Path: <dev-return-85884-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F11021897C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 15 Mar 2016 21:03:12 +0000 (UTC)
Received: (qmail 55804 invoked by uid 500); 15 Mar 2016 21:03:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55740 invoked by uid 500); 15 Mar 2016 21:03:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55730 invoked by uid 99); 15 Mar 2016 21:03:12 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2016 21:03:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id EE37C1A044A
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 21:03:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id m7mQILSGzYwy for <dev@httpd.apache.org>;
	Tue, 15 Mar 2016 21:03:10 +0000 (UTC)
Received: from mail-qk0-f171.google.com (mail-qk0-f171.google.com [209.85.220.171])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id D3CBE5F3F3
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 21:03:09 +0000 (UTC)
Received: by mail-qk0-f171.google.com with SMTP id x1so12744435qkc.1
        for <dev@httpd.apache.org>; Tue, 15 Mar 2016 14:03:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-transfer-encoding;
        bh=dVENQsybW2Gc0hdwedP+/2Xve0Wx707nwBNgdSXwtm8=;
        b=Jz57cZYiqcz9Wdv5FdWBznuj/FkWDb/CxQXy9nQzDCcNqHytk+zxvmzbmOkk4wz5D5
         5ZrByWEhXsyLStrsJchbuAeGwiyEtnvhLMVA3zQC1DNiShMcZ2WXiyXRFk6J6D37N0X/
         B6MICvV6sK1j8GUBsKu43hHO1/5cAnDGHkjfAwfAoZg5nGdSfwZaUdC6dolP9S5aOJkC
         SZywC4dKiW5r3TVxCZ88yV0Pr7tJd+6JHuzylDmUzS8V+KEmas5xnTDNjjogobZzOh0z
         9eb2FpGbBMdaH0cfhpQJpVcxOteSiSbvS51S5Uj3Amei9iD0pkc5ciFlBkBpV+Yv1BFM
         XhfA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-transfer-encoding;
        bh=dVENQsybW2Gc0hdwedP+/2Xve0Wx707nwBNgdSXwtm8=;
        b=J82AsJoa7ezABa5UTK32NUnKg2QR7GuyOmMTC/a0inX18+xcmSDEHU8bQPZ7jEcJC1
         +Q6PwJ7GmfZm5OInrrWN5ikQBSl4XAvo5MgcAfU1MvejrTcgT0uhKHoc5JJ3g9Leyspq
         c/mlTHZP4wTF0Zn5TU/1BxJaV47WpgrInnLS0c7oWgaz4q8T6+mYR99YZe779ni3BNLY
         yCZAESBpl9oPyr/wRVs//KcKBioNn7r2SE16IERmeqvIRrP6XoLLx3OMb41UU1kvu5hW
         UrfDsaprKo5Mcg8r6pEYwz/FWxesXoUAQT5mtIKiH7nIF0ZMvXjGym5FqXVwhmc+pnvU
         jXkg==
X-Gm-Message-State: AD7BkJIq+qULfTy0gU+QgzO3wJRKatIpxwbcWbuG+mrXapOebpIq+YnnfQc/mbrVFhcm0yKVx/TrlvLpsLfHiA==
MIME-Version: 1.0
X-Received: by 10.55.73.68 with SMTP id w65mr210273qka.68.1458075783658; Tue,
 15 Mar 2016 14:03:03 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Tue, 15 Mar 2016 14:03:03 -0700 (PDT)
In-Reply-To: <49F9F117-9C1F-4D44-AB02-9505D7614265@sharp.fm>
References: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm>
	<CALK=YjOnyjO0YsZ63rD-rXNPHyHE03owXpWRDP3O+Je=4iNQJg@mail.gmail.com>
	<F37BF2FE-6E64-4F39-A0E0-7BC959EE543A@sharp.fm>
	<CALK=YjM-pZysD=DC0jUC+r14BsY9HXoXriO9_NDY8mOVxYqnHg@mail.gmail.com>
	<DFE8326E-1E4F-47D4-BDA8-5ADE5DAE4161@sharp.fm>
	<CAKQ1sVPqUBzEg3aNkmbXi6wyv=FKZYPEN0iOBv_cFeVc8Wng6g@mail.gmail.com>
	<65C15DDA-BCC2-49F4-B3D7-96B4853F524E@sharp.fm>
	<CAKQ1sVOQN_t=+=cMciUvKk-LV-f75TyWUb7G8w=gAEiYfDuvnw@mail.gmail.com>
	<9A01C97A-18EF-49B4-ACE9-84C9290ACD1B@sharp.fm>
	<CAKQ1sVNzuhgL6HoG64hV71sPJp623iZTEpn6Hyvc7Lh7SNuNMg@mail.gmail.com>
	<49F9F117-9C1F-4D44-AB02-9505D7614265@sharp.fm>
Date: Tue, 15 Mar 2016 22:03:03 +0100
Message-ID: <CAKQ1sVNn0YFjroStF5u2bgt3_Q0D7w9b-eVizYeV3Q7SZFrRSQ@mail.gmail.com>
Subject: Re: Proposed change to mpm_register_socket_callback(): apr_socket_t
 -> apr_pollfd_t
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Tue, Mar 15, 2016 at 8:28 PM, Graham Leggett <minfrin@sharp.fm> wrote:
>
> The trouble with the above is that because of the pool cleanup we now hav=
e, pfds[3] needs to live as long as pool p. In your example it does, but th=
ere is nothing stopping someone trying to allocate pfds[3] on the stack and=
 then returning. Later the cleanup is run, and boom - difficult to debug cr=
ash or weird behaviour.

Was just an example on the possibily to use a plain array for the
interface (a stacked one is of course not recommended to register an
event callback likely run out of scope).

>
> With the array you=E2=80=99re guaranteed the memory is allocated from a p=
ool, which means the pool cleanup will always be safe.

You convinced me, I like your may better now ;)
Possibly we could also force each pfd->p to pfds->pool in
event_register_poll_callback_ex().

>
> What we should also do is drop the apr_pool_t *p parameter and read it fr=
om apr_header_array_t=E2=80=99s pool instead. This will be a further check =
to stop the caller from doing anything pathological, as we definitely know =
the cleanup and the array belong to each other, and our API becomes simpler=
 still.
>
> Attached patch does this.

+1

Regards,
Yann.

From dev-return-85885-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 15 21:52:41 2016
Return-Path: <dev-return-85885-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D2A1A18BE3
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 15 Mar 2016 21:52:41 +0000 (UTC)
Received: (qmail 89432 invoked by uid 500); 15 Mar 2016 21:52:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89364 invoked by uid 500); 15 Mar 2016 21:52:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89354 invoked by uid 99); 15 Mar 2016 21:52:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2016 21:52:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 655C91A0915
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 21:52:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.8
X-Spam-Level: *
X-Spam-Status: No, score=1.8 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_DNSWL_NONE=-0.0001] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id lvlIVRMHfto8 for <dev@httpd.apache.org>;
	Tue, 15 Mar 2016 21:52:38 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id E33915F39C
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 21:52:37 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 0D3BE22B72
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 22:52:31 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id htAzNm7Fp03O for <dev@httpd.apache.org>;
	Tue, 15 Mar 2016 22:52:30 +0100 (CET)
Received: from [10.0.0.1] (unknown [101.161.57.214])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id C8BC721860
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 22:52:29 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: httpd-2.4.x patches for NetWare build.
Message-ID: <56E88416.8020700@gknw.net>
Date: Wed, 16 Mar 2016 08:52:22 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: multipart/mixed;
 boundary="------------020309070002010207010609"

This is a multi-part message in MIME format.
--------------020309070002010207010609
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/M,
Attached two simple patches for httpd-2.4.x tree:

Add two extra missing symbols for mod_proxy needed to allow a NetWare 
build at the present time. Once the auto symbols export functionality is 
backported, this patch would also be removed.

At the present time 2.4.x waits approval to backport mod_proxy_http2, 
Until then the attached diff for NWGNUmakefile in modules/http2 is 
required - a build system vaguery says if there is only only one build 
target listed in the NWGNUmakefile it will try to build itself and 
crash. If mod_proxy_http2 is backported it becomes the second item in 
the build list and all remains happy.
Norm

--------------020309070002010207010609
Content-Type: text/x-patch;
 name="add_exports_to_modproxy_NetWare.diff"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="add_exports_to_modproxy_NetWare.diff"

Index: modules/proxy/NWGNUproxy
===================================================================
--- modules/proxy/NWGNUproxy	(revision 1735169)
+++ modules/proxy/NWGNUproxy	(working copy)
@@ -273,6 +273,7 @@
 	@echo $(DL) proxy_run_scheme_handler,$(DL)>> $@
 	@echo $(DL) ap_proxy_acquire_connection,$(DL)>> $@
 	@echo $(DL) ap_proxy_backend_broke,$(DL)>> $@
+	@echo $(DL) ap_proxy_buckets_lifetime_transform,$(DL)>> $@
 	@echo $(DL) ap_proxy_c2hex,$(DL)>> $@
 	@echo $(DL) ap_proxy_canon_netloc,$(DL)>> $@
 	@echo $(DL) ap_proxy_canonenc,$(DL)>> $@
@@ -318,6 +319,7 @@
 	@echo $(DL) ap_proxy_strncpy,$(DL)>> $@
 	@echo $(DL) ap_proxy_sync_balancer,$(DL)>> $@
 	@echo $(DL) ap_proxy_trans_match,$(DL)>> $@
+	@echo $(DL) ap_proxy_transfer_between_connections,$(DL)>> $@
 	@echo $(DL) ap_proxy_valid_balancer_name,$(DL)>> $@
 	@echo $(DL) ap_proxy_worker_name,$(DL)>> $@
 	@echo $(DL) ap_proxyerror$(DL)>> $@

--------------020309070002010207010609
Content-Type: text/x-patch;
 name="build_one_twice_for NetWare.diff"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="build_one_twice_for NetWare.diff"

Index: modules/http2/NWGNUmakefile
===================================================================
--- modules/http2/NWGNUmakefile	(revision 1735169)
+++ modules/http2/NWGNUmakefile	(working copy)
@@ -153,6 +153,7 @@
 #
 TARGET_nlm = \
 	$(OBJDIR)/mod_http2.nlm \
+	$(OBJDIR)/mod_http2.nlm \
 	$(EOLIST)
 
 #

--------------020309070002010207010609--

From dev-return-85886-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 15 23:20:04 2016
Return-Path: <dev-return-85886-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 160A518FFB
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 15 Mar 2016 23:20:04 +0000 (UTC)
Received: (qmail 94679 invoked by uid 500); 15 Mar 2016 23:20:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94613 invoked by uid 500); 15 Mar 2016 23:20:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94603 invoked by uid 99); 15 Mar 2016 23:20:03 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Mar 2016 23:20:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A38E41802E7
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 23:20:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.33
X-Spam-Level:
X-Spam-Status: No, score=-0.33 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ArUt93PMFd0Q for <dev@httpd.apache.org>;
	Tue, 15 Mar 2016 23:20:00 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTP id F0C9C5F2C5
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 23:19:59 +0000 (UTC)
Received: from [192.168.220.204] (unknown [192.168.220.204])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id ED180825D6
	for <dev@httpd.apache.org>; Tue, 15 Mar 2016 23:19:58 +0000 (GMT)
From: Graham Leggett <minfrin@sharp.fm>
Content-Type: multipart/mixed; boundary="Apple-Mail=_97027B37-4B09-4A85-A80F-E1C79986B7E7"
Message-Id: <50096E96-271F-47FA-920F-22CF117BB4C9@sharp.fm>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: [Patch] mod_tcp / mod_proxy_tcp / mod_ssl_tcp
Date: Wed, 16 Mar 2016 01:19:58 +0200
References: <B1F5326F-47FC-4868-8FAB-6D9DD492385F@sharp.fm>
To: dev@httpd.apache.org
In-Reply-To: <B1F5326F-47FC-4868-8FAB-6D9DD492385F@sharp.fm>
X-Mailer: Apple Mail (2.2104)


--Apple-Mail=_97027B37-4B09-4A85-A80F-E1C79986B7E7
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=us-ascii

On 12 Mar 2016, at 5:46 PM, Graham Leggett <minfrin@sharp.fm> wrote:

> The following patch provides support for TCP proxying to httpd.

Here is an updated patch with changes to the ap_mpm_register_poll* functions.

Regards,
Graham
--


--Apple-Mail=_97027B37-4B09-4A85-A80F-E1C79986B7E7
Content-Disposition: attachment;
	filename=httpd-tcp-proxy2.patch
Content-Type: application/octet-stream;
	name="httpd-tcp-proxy2.patch"
Content-Transfer-Encoding: 7bit

Index: modules/protocols
===================================================================
--- modules/protocols	(revision 0)
+++ modules/protocols	(working copy)

Property changes on: modules/protocols
___________________________________________________________________
Added: svn:ignore
## -0,0 +1,23 ##
+.deps
+.libs
+*.la
+modules.mk
+Makefile
+*.lo
+*.slo
+*.so
+*.x
+Debug
+Release
+*.plg
+*.aps
+*.dep
+*.mak
+*.rc
+BuildLog.htm
+*.stc
+*.stt
+*.sto
+*.vcproj
+*.vcproj.*
+
Index: modules/protocols/Makefile.in
===================================================================
--- modules/protocols/Makefile.in	(revision 0)
+++ modules/protocols/Makefile.in	(working copy)
@@ -0,0 +1,3 @@
+
+include $(top_srcdir)/build/special.mk
+
Index: modules/protocols/config.m4
===================================================================
--- modules/protocols/config.m4	(revision 0)
+++ modules/protocols/config.m4	(working copy)
@@ -0,0 +1,8 @@
+dnl modules enabled in this directory by default
+
+APACHE_MODPATH_INIT(protocols)
+
+APACHE_MODULE(tcp, TCP protocol support, , , most)
+
+APACHE_MODPATH_FINISH
+
Index: modules/protocols/mod_tcp.c
===================================================================
--- modules/protocols/mod_tcp.c	(revision 0)
+++ modules/protocols/mod_tcp.c	(working copy)
@@ -0,0 +1,368 @@
+/* Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+#include "httpd.h"
+#include "http_connection.h"
+#include "http_core.h"
+#include "http_log.h"
+#include "http_protocol.h"
+#include "http_request.h"
+#include "ap_mpm.h"
+
+module AP_MODULE_DECLARE_DATA tcp_module;
+
+/*
+ * mod_tcp.c
+ *
+ * A module that accepts raw TCP connections, in the expectation that the
+ * connection will be handled by mod_proxy_tcp.
+ *
+ * When SNI is available, the target host can be used to select the given
+ * backend.
+ *
+ *  Created on: Feb 26, 2016
+ *      Author: minfrin
+ */
+
+typedef struct {
+    unsigned int is_enabled_set:1;
+    int is_enabled;
+    int is_sni;
+} tcp_server_conf;
+
+typedef enum {
+    TCP_STATE_INIT_REQUEST = 0,
+    TCP_STATE_READ_BLANK_LINE,
+    TCP_STATE_POST_READ_REQUEST,
+    TCP_STATE_PROCESS_REQUEST,
+    TCP_STATE_COMPLETION,
+} tcp_state_e;
+
+typedef struct {
+    request_rec *r;
+    apr_bucket_brigade *bb;
+    tcp_state_e state;
+} tcp_conn_conf;
+
+static int tcp_method = M_INVALID;
+
+/**
+ * Frontend Handling
+ * -----------------
+ *
+ * We handle connections from the frontend to the proxy, consisting
+ * of a simple tunnel.
+ */
+
+static tcp_conn_conf *tcp_init_connection_ctx(conn_rec *c)
+{
+    tcp_conn_conf *cconf = ap_get_module_config(c->conn_config, &tcp_module);
+
+    if (cconf) {
+        return cconf;
+    }
+
+    cconf = apr_pcalloc(c->pool, sizeof(*cconf));
+
+    ap_set_module_config(c->conn_config, &tcp_module, cconf);
+
+    return cconf;
+}
+
+static int tcp_pre_connection(conn_rec *c, void *csd)
+{
+
+    tcp_server_conf *tconf = ap_get_module_config(c->base_server->module_config,
+            &tcp_module);
+
+    /* are we tcp? */
+    if (!tconf->is_enabled) {
+        return DECLINED;
+    }
+
+    tcp_init_connection_ctx(c);
+
+    apr_socket_timeout_set(csd, c->base_server->keep_alive_timeout);
+
+    return OK;
+}
+
+static int tcp_process_connection(conn_rec* conn)
+{
+
+    tcp_server_conf *tconf =
+            ap_get_module_config(conn->base_server->module_config,
+                    &tcp_module);
+
+    /* are we tcp? */
+    if (!tconf->is_enabled) {
+        return DECLINED;
+    }
+
+    else {
+        request_rec *r;
+        apr_status_t rv;
+        int access_status;
+
+        tcp_conn_conf *cconf =
+                ap_get_module_config(conn->conn_config, &tcp_module);
+        r = cconf->r;
+
+        /*
+         * tcp_process_connection() is designed to be reentrant and work
+         * correctly in an asynchronous mode of operation.
+         */
+
+        switch (cconf->state) {
+
+        /* initialise our request */
+        case TCP_STATE_INIT_REQUEST:
+
+            conn->keepalive = AP_CONN_CLOSE;
+
+            if (tconf->is_sni) {
+                if (!ap_add_input_filter("SSL_TCP_SNI", NULL, r, conn)) {
+                    ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, conn, APLOGNO()
+                                  "TCP with ServerName/ServerAlias enabled, but mod_ssl_tcp not present");
+
+                    conn->aborted = 1;
+
+                    return OK;
+                }
+            }
+
+            r = cconf->r = ap_create_request(conn);
+
+            /*
+             * Workaround: the http_create_request() function doesn't check
+             * the protocol, and adds HTTP filters in all cases incorrectly.
+             * Until this is fixed, work around the problem by actively
+             * removing the HTTP filters.
+             */
+            ap_remove_output_filter_byhandle(r->output_filters, "HTTP_IN");
+            ap_remove_output_filter_byhandle(r->output_filters, "HTTP_HEADER");
+            ap_remove_output_filter_byhandle(r->output_filters, "CHUNK");
+            ap_remove_output_filter_byhandle(r->output_filters,
+                    "HTTP_OUTERROR");
+            ap_remove_output_filter_byhandle(r->output_filters, "BYTERANGE");
+
+            ap_run_pre_read_request(r, conn);
+
+            /* set the request line */
+            r->the_request = "TCP /";
+            r->request_time = apr_time_now();
+            r->protocol = "TCP";
+            r->method = "TCP";
+            r->method_number = tcp_method;
+            ap_parse_uri(r, "/");
+
+            /* prepare for reading the blank line */
+            cconf->bb = apr_brigade_create(conn->pool, conn->bucket_alloc);
+            cconf->state = TCP_STATE_READ_BLANK_LINE;
+
+        /* read the blank line (no break) */
+        case TCP_STATE_READ_BLANK_LINE:
+
+            /* read a blank line to trigger SSL */
+
+            /* Note: we're forced to do a blocking read here because the
+             * core presently suppresses APR_EAGAIN, and as a result we
+             * can't tell the difference between "call me again, mod_ssl
+             * wants to handshake" or "nothing to see here".
+             *
+             * When APR_EAGAIN is supported we can be fully async here.
+             */
+
+            ap_update_child_status(conn->sbh, SERVER_BUSY_READ, r);
+
+            rv = ap_get_brigade(r->input_filters, cconf->bb, AP_MODE_INIT,
+                                APR_BLOCK_READ, 0);
+            if (APR_STATUS_IS_EAGAIN(rv)) {
+                /* coming around again */
+                return OK;
+            }
+            else if (APR_SUCCESS != rv) {
+
+                if (APR_STATUS_IS_TIMEUP(rv)) {
+                    access_status = HTTP_REQUEST_TIME_OUT;
+                }
+                else {
+                    access_status = HTTP_BAD_REQUEST;
+                }
+
+                ap_finalize_request_protocol(r);
+                ap_update_child_status(conn->sbh, SERVER_BUSY_LOG, r);
+                ap_run_log_transaction(r);
+                cconf->r = NULL;
+
+                return OK;
+            }
+
+            /* prepare for running post read request */
+            apr_brigade_destroy(cconf->bb);
+            cconf->state = TCP_STATE_POST_READ_REQUEST;
+
+        /* after reading the request (no break) */
+        case TCP_STATE_POST_READ_REQUEST:
+
+            /* we may have switched to another server */
+            r->server = conn->base_server;
+            r->per_dir_config = r->server->lookup_defaults;
+
+            if ((access_status = ap_run_post_read_request(r))) {
+                ap_finalize_request_protocol(r);
+                ap_update_child_status(conn->sbh, SERVER_BUSY_LOG, r);
+                ap_run_log_transaction(r);
+                r = NULL;
+
+                return OK;
+            }
+
+            /* prepare for running process request */
+            cconf->state = TCP_STATE_PROCESS_REQUEST;
+
+        /* process the request (no break) */
+        case TCP_STATE_PROCESS_REQUEST:
+
+            ap_update_child_status(conn->sbh, SERVER_BUSY_WRITE, r);
+
+            /* FIXME: ap_process_request() is void and can only be run once
+             * Make a ap_process_request_ex() that has the ability to be
+             * called again.
+             */
+            ap_process_request(r);
+
+            /* indicate that we're complete at this point */
+            cconf->state = TCP_STATE_COMPLETION;
+            return OK;
+
+        /* if we're done, we leave (no break) */
+        case TCP_STATE_COMPLETION:
+
+            /* if we're still being called at this point, our connection is done*/
+            conn->aborted = 1;
+
+        /* drop through (no break) */
+        default: {
+            break;
+        }
+        }
+
+    }
+
+    return OK;
+}
+
+
+/**
+ * Configuration
+ * -------------
+ *
+ */
+
+static void *create_tcp_config(apr_pool_t *p, server_rec *s)
+{
+    tcp_server_conf *new = apr_pcalloc(p, sizeof(tcp_server_conf));
+
+    return new;
+}
+
+static void *merge_tcp_config(apr_pool_t *p, void *basev, void *overridesv)
+{
+    tcp_server_conf *ps = apr_pcalloc(p, sizeof(tcp_server_conf));
+    tcp_server_conf *base = (tcp_server_conf *) basev;
+    tcp_server_conf *overrides = (tcp_server_conf *) overridesv;
+
+    ps->is_enabled =
+            (overrides->is_enabled_set == 0) ? base->is_enabled :
+                    overrides->is_enabled;
+    ps->is_enabled_set = overrides->is_enabled_set || base->is_enabled_set;
+
+    return ps;
+}
+
+static int tcp_post_config(apr_pool_t *p, apr_pool_t *plog, apr_pool_t *ptemp,
+                       server_rec *base_server)
+{
+    server_rec *s;
+
+    tcp_server_conf *bconf = ap_get_module_config(base_server->module_config,
+            &tcp_module);
+
+    for (s = base_server; s; s = s->next) {
+        const char *protocol;
+
+        tcp_server_conf *conf = ap_get_module_config(s->module_config,
+                &tcp_module);
+
+        /* Default to enabled if Protocol is tcp */
+        if ((protocol = ap_get_server_protocol(s))) {
+
+            if (!strcmp("tcp", protocol)) {
+                conf->is_enabled = 1;
+            }
+            else if (!strcmp("tlsext", protocol)) {
+
+                /* Turn on the SNI filter if TCP and ServerName/ServerAlias */
+                if (s->server_hostname || s->names->nelts
+                        || s->wild_names->nelts) {
+                    conf->is_enabled = 1;
+                    bconf->is_sni = 1;
+                }
+                else {
+                    ap_log_error(APLOG_MARK, APLOG_CRIT, 0, s, APLOGNO()
+                                 "mod_tcp: Protocol 'tlsext' specified in "
+                                 "VirtualHost, but ServerName/ServerAlias not present");
+                    return HTTP_INTERNAL_SERVER_ERROR;
+                }
+            }
+
+        }
+
+    }
+
+    tcp_method = ap_method_register(p, "TCP");
+
+    return OK;
+}
+
+static const command_rec tcp_cmds[] =
+{
+    {NULL}
+};
+
+static void ap_tcp_register_hook(apr_pool_t *p)
+{
+    static const char *const aszSucc[] = { "mod_ssl.c", NULL};
+
+    ap_hook_post_config(tcp_post_config, NULL, NULL, APR_HOOK_MIDDLE);
+
+    ap_hook_pre_connection(tcp_pre_connection,NULL,NULL, APR_HOOK_MIDDLE);
+    /* after mod_ssl, but before http */
+    ap_hook_process_connection(tcp_process_connection,
+                               NULL, aszSucc, APR_HOOK_MIDDLE);
+
+}
+
+AP_DECLARE_MODULE(tcp) = {
+    STANDARD20_MODULE_STUFF,
+    NULL,                       /* create per-directory config structure */
+    NULL,                       /* merge per-directory config structures */
+    create_tcp_config,          /* create per-server config structure */
+    merge_tcp_config,           /* merge per-server config structures */
+    tcp_cmds,                   /* command apr_table_t */
+    ap_tcp_register_hook        /* register hooks */
+};
Index: modules/proxy/config.m4
===================================================================
--- modules/proxy/config.m4	(revision 1735175)
+++ modules/proxy/config.m4	(working copy)
@@ -25,6 +25,7 @@
 proxy_fdpass_objs="mod_proxy_fdpass.lo"
 proxy_ajp_objs="mod_proxy_ajp.lo ajp_header.lo ajp_link.lo ajp_msg.lo ajp_utils.lo"
 proxy_wstunnel_objs="mod_proxy_wstunnel.lo"
+proxy_tcp_objs="mod_proxy_tcp.lo"
 proxy_balancer_objs="mod_proxy_balancer.lo"
 
 case "$host" in
@@ -39,6 +40,7 @@
     proxy_fdpass_objs="$proxy_fdpass_objs mod_proxy.la"
     proxy_ajp_objs="$proxy_ajp_objs mod_proxy.la"
     proxy_wstunnel_objs="$proxy_wstunnel_objs mod_proxy.la"
+    proxy_tcp_objs="$proxy_tcp_objs mod_proxy.la"
     proxy_balancer_objs="$proxy_balancer_objs mod_proxy.la"
     ;;
 esac
@@ -58,6 +60,7 @@
     enable_proxy_fdpass=no
   fi
 ],proxy)
+APACHE_MODULE(proxy_tcp, Apache proxy TCP Tunnel module.  Requires and is enabled by --enable-proxy., $proxy_tcp_objs, , $proxy_mods_enable,, proxy)
 APACHE_MODULE(proxy_wstunnel, Apache proxy Websocket Tunnel module.  Requires and is enabled by --enable-proxy., $proxy_wstunnel_objs, , $proxy_mods_enable,, proxy)
 APACHE_MODULE(proxy_ajp, Apache proxy AJP module.  Requires and is enabled by --enable-proxy., $proxy_ajp_objs, , $proxy_mods_enable,, proxy)
 APACHE_MODULE(proxy_balancer, Apache proxy BALANCER module.  Requires and is enabled by --enable-proxy., $proxy_balancer_objs, , $proxy_mods_enable,, proxy)
Index: modules/proxy/mod_proxy_tcp.c
===================================================================
--- modules/proxy/mod_proxy_tcp.c	(revision 0)
+++ modules/proxy/mod_proxy_tcp.c	(working copy)
@@ -0,0 +1,592 @@
+/* Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+#include "mod_proxy.h"
+#include "ap_mpm.h"
+
+module AP_MODULE_DECLARE_DATA proxy_tcp_module;
+
+/*
+ * mod_proxy_tcp.c
+ *
+ * A module for mod_proxy that creates a TCP tunnel towards a backend endpoint,
+ * with or without SSL.
+ *
+ * When SNI is available, the target host can be used to select the given
+ * backend.
+ *
+ *  Created on: Feb 26, 2016
+ *      Author: minfrin
+ */
+
+typedef struct {
+    unsigned int idle_timeout_set:1;
+    unsigned int async_delay_set:1;
+    int can_poll;
+    apr_time_t idle_timeout;
+    apr_time_t async_delay;
+} proxy_tcp_server_conf;
+
+typedef struct tcp_baton_t {
+    request_rec *r;
+    proxy_conn_rec *proxy_connrec;
+    apr_socket_t *server_soc;
+    apr_socket_t *client_soc;
+    apr_pollset_t *pollset;
+    apr_bucket_brigade *bb_i;
+    apr_bucket_brigade *bb_o;
+    apr_pool_t *subpool;        /* cleared before each suspend, destroyed when request ends */
+    char *scheme;               /* required to release the proxy connection */
+} tcp_baton_t;
+
+static ap_filter_rec_t *proxy_tcp_output_filter_handle;
+
+
+/**
+ * Backend Handling
+ * ----------------
+ *
+ * We handle connections from the proxy to the backend, consisting
+ * of a simple tunnel.
+ */
+
+static void proxy_tcp_callback(void *b);
+
+static apr_status_t proxy_tcp_output_filter(ap_filter_t *f, apr_bucket_brigade *bb)
+{
+
+    return APR_SUCCESS;
+}
+
+static int proxy_tcp_pump(tcp_baton_t *baton, apr_time_t timeout, int try_async) {
+    request_rec *r = baton->r;
+    conn_rec *c = r->connection;
+    proxy_conn_rec *conn = baton->proxy_connrec;
+    apr_socket_t *sock = conn->sock;
+    conn_rec *backconn = conn->connection;
+    const apr_pollfd_t *signalled;
+    apr_int32_t pollcnt, pi;
+    apr_int16_t pollevent;
+    apr_pollset_t *pollset = baton->pollset;
+    apr_socket_t *client_socket = baton->client_soc;
+    apr_status_t rv;
+    apr_bucket_brigade *bb_i = baton->bb_i;
+    apr_bucket_brigade *bb_o = baton->bb_o;
+    int done = 0, replied = 0;
+
+    do {
+        int loop = 0;
+
+        /* first, do we have any pending data? read it before trying to block */
+        if (ap_filter_input_pending(backconn) == OK) {
+            done |= ap_proxy_transfer_between_connections(r, backconn, c, bb_i,
+                    bb_o, "sock", NULL, AP_IOBUFSIZE, 0) != APR_SUCCESS;
+            loop = 1;
+        }
+        if (ap_filter_input_pending(c) == OK) {
+            done |= ap_proxy_transfer_between_connections(r, c, backconn, bb_i,
+                    bb_o, "client", NULL, AP_IOBUFSIZE, 0) != APR_SUCCESS;
+            loop = 1;
+        }
+        if (loop) {
+            continue;
+        }
+
+        /* poll for read in either direction */
+        rv = apr_pollset_poll(pollset, timeout, &pollcnt, &signalled);
+        if (rv != APR_SUCCESS) {
+            if (APR_STATUS_IS_EINTR(rv)) {
+                continue;
+            }
+            else if (APR_STATUS_IS_TIMEUP(rv)) {
+                if (try_async) {
+                    ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r, APLOGNO() "Attempting to go async");
+                    return SUSPENDED;
+                }
+                else {
+                    return HTTP_REQUEST_TIME_OUT;
+                }
+            }
+            else {
+                ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, r, APLOGNO() "error apr_poll()");
+                return HTTP_INTERNAL_SERVER_ERROR;
+            }
+        }
+
+        ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r, APLOGNO()
+                "woke from poll(), i=%d", pollcnt);
+
+        for (pi = 0; pi < pollcnt; pi++) {
+            const apr_pollfd_t *cur = &signalled[pi];
+
+            if (cur->desc.s == sock) {
+                pollevent = cur->rtnevents;
+                if (pollevent & (APR_POLLIN | APR_POLLHUP)) {
+                    ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r, APLOGNO(02446)
+                            "sock was readable");
+                    done |= ap_proxy_transfer_between_connections(r, backconn,
+                            c, bb_i, bb_o, "sock", NULL, AP_IOBUFSIZE, 0)
+                            != APR_SUCCESS;
+                }
+                else if (pollevent & APR_POLLERR) {
+                    ap_log_rerror(APLOG_MARK, APLOG_NOTICE, 0, r, APLOGNO(02447)
+                            "error on backconn");
+                    backconn->aborted = 1;
+                    done = 1;
+                }
+                else {
+                    ap_log_rerror(APLOG_MARK, APLOG_NOTICE, 0, r, APLOGNO(02605)
+                            "unknown event on backconn %d", pollevent);
+                    done = 1;
+                }
+            }
+            else if (cur->desc.s == client_socket) {
+                pollevent = cur->rtnevents;
+                if (pollevent & (APR_POLLIN | APR_POLLHUP)) {
+                    ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r, APLOGNO(02448)
+                            "client was readable");
+                    done |= ap_proxy_transfer_between_connections(r, c,
+                            backconn, bb_o, bb_i, "client", &replied,
+                            AP_IOBUFSIZE, 0) != APR_SUCCESS;
+                }
+                else if (pollevent & APR_POLLERR) {
+                    ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r, APLOGNO(02607)
+                            "error on client conn");
+                    c->aborted = 1;
+                    done = 1;
+                }
+                else {
+                    ap_log_rerror(APLOG_MARK, APLOG_NOTICE, 0, r, APLOGNO(02606)
+                            "unknown event on client conn %d", pollevent);
+                    done = 1;
+                }
+            }
+            else {
+                ap_log_rerror(APLOG_MARK, APLOG_INFO, 0, r, APLOGNO(02449)
+                        "unknown socket in pollset");
+                done = 1;
+            }
+
+        }
+    } while (!done);
+
+    ap_log_rerror(APLOG_MARK, APLOG_TRACE2, 0, r,
+            "finished with poll() - cleaning up");
+
+    if (!replied) {
+        return HTTP_BAD_GATEWAY;
+    }
+    else {
+        return OK;
+    }
+}
+
+static void proxy_tcp_finish(tcp_baton_t *baton) {
+    ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, baton->r, "proxy_tcp_finish");
+    baton->proxy_connrec->close = 1; /* new handshake expected on each back-conn */
+    baton->r->connection->keepalive = AP_CONN_CLOSE;
+    ap_proxy_release_connection(baton->scheme, baton->proxy_connrec, baton->r->server);
+    ap_finalize_request_protocol(baton->r);
+    ap_lingering_close(baton->r->connection);
+    apr_socket_close(baton->client_soc);
+    ap_mpm_resume_suspended(baton->r->connection);
+    ap_process_request_after_handler(baton->r); /* don't touch baton or r after here */
+}
+
+/* If neither socket becomes readable in the specified timeout,
+ * this callback will kill the request.  We do not have to worry about
+ * having a cancel and a IO both queued.
+ */
+static void proxy_tcp_cancel_callback(void *b)
+{
+    tcp_baton_t *baton = (tcp_baton_t*)b;
+    ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, baton->r, "proxy_tcp_cancel_callback, IO timed out");
+    proxy_tcp_finish(baton);
+    return;
+}
+
+/* Invoked by the event loop when data is ready on either end.
+ *  Pump both ends until they'd block and then start over again
+ *  We don't need the invoke_mtx, since we never put multiple callback events
+ *  in the queue.
+ */
+static void proxy_tcp_callback(void *b) {
+    int status;
+    tcp_baton_t *baton = (tcp_baton_t*)b;
+
+    proxy_tcp_server_conf *tconf =
+            ap_get_module_config(baton->r->connection->base_server->module_config,
+                    &proxy_tcp_module);
+
+    apr_pool_clear(baton->subpool);
+
+    status = proxy_tcp_pump(baton, tconf->async_delay, tconf->can_poll);
+    if (status == SUSPENDED) {
+        apr_pollfd_t *pfd;
+
+        apr_array_header_t *pfds = apr_array_make(baton->subpool, 2, sizeof(apr_pollfd_t));
+
+        pfd = apr_array_push(pfds);
+        pfd->desc_type = APR_POLL_SOCKET;
+        pfd->reqevents = APR_POLLIN | APR_POLLERR | APR_POLLHUP;
+        pfd->desc.s = baton->client_soc;
+        pfd->p = baton->subpool;
+
+        pfd = apr_array_push(pfds);
+        pfd->desc_type = APR_POLL_SOCKET;
+        pfd->reqevents = APR_POLLIN | APR_POLLERR | APR_POLLHUP;
+        pfd->desc.s = baton->server_soc;
+        pfd->p = baton->subpool;
+
+        ap_mpm_register_poll_callback_timeout(pfds,
+            proxy_tcp_callback,
+            proxy_tcp_cancel_callback,
+            baton,
+            tconf->idle_timeout);
+
+        ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, baton->r, "proxy_tcp_callback suspend");
+    }
+    else {
+        proxy_tcp_finish(baton);
+    }
+
+}
+
+/*
+ * process the request and write the response.
+ */
+static int proxy_tcp_request(apr_pool_t *p, request_rec *r,
+                             proxy_conn_rec *conn,
+                             proxy_worker *worker,
+                             proxy_server_conf *conf,
+                             apr_uri_t *uri,
+                             char *url, char *server_portstr, char *scheme)
+{
+    apr_status_t rv;
+    apr_pollset_t *pollset;
+    apr_pollfd_t pollfd;
+    conn_rec *c = r->connection;
+    apr_socket_t *sock = conn->sock;
+    apr_bucket_brigade *bb_in = apr_brigade_create(p, conn->connection->bucket_alloc);
+    apr_bucket_brigade *bb_out = apr_brigade_create(p, c->bucket_alloc);
+    apr_socket_t *client_socket = ap_get_conn_socket(c);
+    tcp_baton_t *baton = apr_pcalloc(r->pool, sizeof(tcp_baton_t));
+    int status;
+
+    proxy_tcp_server_conf *tconf = ap_get_module_config(c->base_server->module_config,
+            &proxy_tcp_module);
+
+    ap_log_rerror(APLOG_MARK, APLOG_TRACE2, 0, r, "setting up poll()");
+
+    if ((rv = apr_pollset_create(&pollset, 2, p, 0)) != APR_SUCCESS) {
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, r, APLOGNO()
+                      "error apr_pollset_create()");
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
+
+    /* CHECKME: This probably doesn't work with mod_ssl WANTS_WRITE. */
+
+    pollfd.p = p;
+    pollfd.desc_type = APR_POLL_SOCKET;
+    pollfd.reqevents = APR_POLLIN | APR_POLLHUP;
+    pollfd.desc.s = sock;
+    pollfd.client_data = NULL;
+    apr_pollset_add(pollset, &pollfd);
+
+    pollfd.desc.s = client_socket;
+    apr_pollset_add(pollset, &pollfd);
+
+    ap_remove_input_filter_byhandle(c->input_filters, "reqtimeout");
+
+    /* This handler should take care of the entire connection; make it so that
+     * nothing else is attempted on the connection after returning. */
+    c->keepalive = AP_CONN_CLOSE;
+
+    baton->r = r;
+    baton->pollset = pollset;
+    baton->client_soc = client_socket;
+    baton->server_soc = sock;
+    baton->proxy_connrec = conn;
+    baton->bb_o = bb_out;
+    baton->bb_i = bb_in;
+    baton->scheme = scheme;
+    apr_pool_create(&baton->subpool, r->pool);
+
+    if (!tconf->can_poll) {
+        status = proxy_tcp_pump(baton, tconf->idle_timeout, tconf->can_poll);
+    }
+    else {
+        status = proxy_tcp_pump(baton, tconf->async_delay, tconf->can_poll);
+        apr_pool_clear(baton->subpool);
+        if (status == SUSPENDED) {
+            apr_pollfd_t *pfd;
+
+            apr_array_header_t *pfds = apr_array_make(baton->subpool, 2, sizeof(apr_pollfd_t));
+
+            pfd = apr_array_push(pfds);
+            pfd->desc_type = APR_POLL_SOCKET;
+            pfd->reqevents = APR_POLLIN | APR_POLLERR | APR_POLLHUP;
+            pfd->desc.s = baton->client_soc;
+            pfd->p = baton->subpool;
+
+            pfd = apr_array_push(pfds);
+            pfd->desc_type = APR_POLL_SOCKET;
+            pfd->reqevents = APR_POLLIN | APR_POLLERR | APR_POLLHUP;
+            pfd->desc.s = baton->server_soc;
+            pfd->p = baton->subpool;
+
+            rv = ap_mpm_register_poll_callback_timeout(pfds,
+                         proxy_tcp_callback,
+                         proxy_tcp_cancel_callback,
+                         baton,
+                         tconf->idle_timeout);
+            if (rv == APR_SUCCESS) {
+                return SUSPENDED;
+            }
+            else if (APR_STATUS_IS_ENOTIMPL(rv)) {
+                ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r, APLOGNO() "No async support");
+                status = proxy_tcp_pump(baton, tconf->idle_timeout, 0); /* force no async */
+            }
+            else {
+                ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, r,
+                              APLOGNO() "error creating tcp tunnel");
+                return HTTP_INTERNAL_SERVER_ERROR;
+            }
+        }
+    }
+
+    if (status != OK) {
+        /* Avoid sending error pages down an upgraded connection */
+        if (status != HTTP_REQUEST_TIME_OUT) {
+            r->status = status;
+        }
+        status = OK;
+    }
+    return status;
+}
+
+/**
+ * Canonicalize the URL, ignoring the path components which make
+ * no sense for a raw tcp or tls connection.
+ */
+static int proxy_tcp_canon(request_rec *r, char *url)
+{
+    char *host, sport[7];
+    const char *err;
+    char *scheme;
+    apr_port_t port, def_port;
+
+    /* ap_port_of_scheme() */
+    if (ap_casecmpstrn(url, "tcp:", 4) == 0) {
+        url += 4;
+        scheme = "tcp:";
+        def_port = apr_uri_port_of_scheme("http");
+    }
+    else if (ap_casecmpstrn(url, "tls:", 4) == 0) {
+        url += 4;
+        scheme = "tls:";
+        def_port = apr_uri_port_of_scheme("https");
+    }
+    else {
+        return DECLINED;
+    }
+
+    port = def_port;
+    ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r, "canonicalising URL %s", url);
+
+    /*
+     * do syntactic check.
+     * We break the URL into host, port, path, search
+     */
+    err = ap_proxy_canon_netloc(r->pool, &url, NULL, NULL, &host, &port);
+    if (err) {
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO(02439) "error parsing URL %s: %s",
+                      url, err);
+        return HTTP_BAD_REQUEST;
+    }
+
+    apr_snprintf(sport, sizeof(sport), ":%d", port);
+
+    if (ap_strchr_c(host, ':')) {
+        /* if literal IPv6 address */
+        host = apr_pstrcat(r->pool, "[", host, "]", NULL);
+    }
+    r->filename = apr_pstrcat(r->pool, "proxy:", scheme, "//", host, sport,
+            NULL);
+
+    return OK;
+}
+
+static int proxy_tcp_handler(request_rec *r, proxy_worker *worker,
+                             proxy_server_conf *conf,
+                             char *url, const char *proxyname,
+                             apr_port_t proxyport)
+{
+    int status;
+    char server_portstr[32];
+    proxy_conn_rec *backend = NULL;
+    char *scheme;
+    conn_rec *c = r->connection;
+    apr_pool_t *p = r->pool;
+    char *locurl = url;
+    apr_uri_t *uri;
+    int is_ssl = 0;
+
+    if (ap_casecmpstrn(url, "tls:", 4) == 0) {
+        scheme = "tls";
+        is_ssl = 1;
+    }
+    else if (ap_casecmpstrn(url, "tcp:", 4) == 0) {
+        scheme = "tcp";
+    }
+    else {
+        ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r, APLOGNO() "declining URL %s", url);
+        return DECLINED;
+    }
+
+    // FIXME: looks generic below this point
+
+    uri = apr_palloc(p, sizeof(*uri));
+    ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r, APLOGNO() "serving URL %s", url);
+
+    /* create space for state information */
+    status = ap_proxy_acquire_connection(scheme, &backend, worker, r->server);
+    if (status != OK) {
+        goto cleanup;
+    }
+
+    backend->is_ssl = is_ssl;
+    backend->close = 0;
+
+    /* Step One: Determine Who To Connect To */
+    status = ap_proxy_determine_connection(p, r, conf, worker, backend,
+                                           uri, &locurl, proxyname, proxyport,
+                                           server_portstr,
+                                           sizeof(server_portstr));
+    if (status != OK) {
+        goto cleanup;
+    }
+
+    /* Step Two: Make the Connection */
+    if (ap_proxy_connect_backend(scheme, backend, worker, r->server)) {
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO(02452)
+                      "failed to make connection to backend: %s",
+                      backend->hostname);
+        status = HTTP_SERVICE_UNAVAILABLE;
+        goto cleanup;
+    }
+
+    /* Step Three: Create conn_rec */
+    if (!backend->connection) {
+        status = ap_proxy_connection_create(scheme, backend, c, r->server);
+        if (status  != OK) {
+            goto cleanup;
+        }
+    }
+
+    /* Step Three: Process the Request */
+    status = proxy_tcp_request(p, r, backend, worker, conf, uri, locurl,
+                                  server_portstr, scheme);
+
+cleanup:
+    /* Do not close the socket */
+    if (backend && status != SUSPENDED) {
+        backend->close = 1;
+        ap_proxy_release_connection(scheme, backend, r->server);
+    }
+    return status;
+}
+
+/**
+ * Configuration
+ * -------------
+ *
+ */
+
+static void * create_proxy_tcp_config(apr_pool_t *p, server_rec *s)
+{
+    proxy_tcp_server_conf *new = apr_pcalloc(p, sizeof(proxy_tcp_server_conf));
+
+    new->idle_timeout = -1; /* no timeout */
+
+    return new;
+}
+
+static void * merge_proxy_tcp_config(apr_pool_t *p, void *basev, void *overridesv)
+{
+    proxy_tcp_server_conf *ps = apr_pcalloc(p, sizeof(proxy_tcp_server_conf));
+    proxy_tcp_server_conf *base = (proxy_tcp_server_conf *) basev;
+    proxy_tcp_server_conf *overrides = (proxy_tcp_server_conf *) overridesv;
+
+    ps->idle_timeout =
+            (overrides->idle_timeout_set == 0) ? base->idle_timeout :
+                    overrides->idle_timeout;
+    ps->idle_timeout_set = overrides->idle_timeout_set || base->idle_timeout_set;
+
+    ps->async_delay =
+            (overrides->async_delay_set == 0) ? base->async_delay :
+                    overrides->async_delay;
+    ps->async_delay_set = overrides->async_delay_set || base->async_delay_set;
+
+    return ps;
+}
+
+static int proxy_tcp_post_config(apr_pool_t *p, apr_pool_t *plog,
+        apr_pool_t *ptemp, server_rec *base_server)
+{
+    server_rec *s;
+    int mpm_can_poll = 0;
+
+    if (ap_mpm_query(AP_MPMQ_CAN_POLL, &mpm_can_poll) != APR_SUCCESS) {
+        mpm_can_poll = 0;
+    }
+
+    for (s = base_server; s; s = s->next) {
+        proxy_tcp_server_conf *conf = ap_get_module_config(s->module_config,
+                &proxy_tcp_module);
+
+        conf->can_poll = mpm_can_poll;
+    }
+
+    return OK;
+}
+
+static const command_rec proxy_tcp_cmds[] =
+{
+    {NULL}
+};
+
+static void ap_proxy_tcp_register_hook(apr_pool_t *p)
+{
+    ap_hook_post_config(proxy_tcp_post_config, NULL, NULL, APR_HOOK_MIDDLE);
+
+    proxy_hook_scheme_handler(proxy_tcp_handler, NULL, NULL, APR_HOOK_FIRST);
+    proxy_hook_canon_handler(proxy_tcp_canon, NULL, NULL, APR_HOOK_FIRST);
+
+    proxy_tcp_output_filter_handle = ap_register_output_filter("PROXY_TCP_OUT",
+            proxy_tcp_output_filter, NULL, AP_FTYPE_PROTOCOL);
+
+}
+
+AP_DECLARE_MODULE(proxy_tcp) = {
+    STANDARD20_MODULE_STUFF,
+    NULL,                       /* create per-directory config structure */
+    NULL,                       /* merge per-directory config structures */
+    create_proxy_tcp_config,    /* create per-server config structure */
+    merge_proxy_tcp_config,     /* merge per-server config structures */
+    proxy_tcp_cmds,             /* command apr_table_t */
+    ap_proxy_tcp_register_hook  /* register hooks */
+};
Index: modules/ssl/config.m4
===================================================================
--- modules/ssl/config.m4	(revision 1735175)
+++ modules/ssl/config.m4	(working copy)
@@ -60,6 +60,13 @@
     fi
 ])
 
+APACHE_MODULE(ssl_tcp, [Support for detecting SNI during TCP proxying], , , most, [
+    dnl TODO: Check for OpenSSL >= 1.0.2
+    if test "$enable_ssl" = "no"; then
+        AC_MSG_ERROR([mod_ssl_tcp is dependent on mod_ssl, which is not enabled.])
+    fi
+])
+
 dnl #  end of module specific part
 APACHE_MODPATH_FINISH
 
Index: modules/ssl/mod_ssl_tcp.c
===================================================================
--- modules/ssl/mod_ssl_tcp.c	(revision 0)
+++ modules/ssl/mod_ssl_tcp.c	(working copy)
@@ -0,0 +1,435 @@
+/* Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+#include "ap_mpm.h"
+#include "httpd.h"
+#include "http_log.h"
+#include "http_vhost.h"
+#include "util_filter.h"
+
+/* OpenSSL headers */
+#include <openssl/opensslv.h>
+#if (OPENSSL_VERSION_NUMBER >= 0x10001000)
+/* must be defined before including ssl.h */
+#define OPENSSL_NO_SSL_INTERN
+#endif
+#include <openssl/ssl.h>
+#include <openssl/err.h>
+#include <openssl/x509.h>
+#include <openssl/pem.h>
+#include <openssl/crypto.h>
+#include <openssl/evp.h>
+#include <openssl/rand.h>
+#include <openssl/x509v3.h>
+#include <openssl/x509_vfy.h>
+#include <openssl/ocsp.h>
+
+/**
+  * The following features all depend on TLS extension support.
+  * Within this block, check again for features (not version numbers).
+  */
+#if !defined(OPENSSL_NO_TLSEXT) && defined(SSL_set_tlsext_host_name)
+
+#define HAVE_TLSEXT
+
+/* TLS session tickets */
+#if defined(SSL_CTX_set_tlsext_ticket_key_cb)
+#define HAVE_TLS_SESSION_TICKETS
+#define TLSEXT_TICKET_KEY_LEN 48
+#ifndef tlsext_tick_md
+#ifdef OPENSSL_NO_SHA256
+#define tlsext_tick_md EVP_sha1
+#else
+#define tlsext_tick_md EVP_sha256
+#endif
+#endif
+#endif
+
+/* ALPN Protocol Negotiation */
+#if defined(TLSEXT_TYPE_application_layer_protocol_negotiation)
+#define HAVE_TLS_ALPN
+#endif
+
+#endif /* !defined(OPENSSL_NO_TLSEXT) && defined(SSL_set_tlsext_host_name) */
+
+module AP_MODULE_DECLARE_DATA ssl_tcp_module;
+
+/*
+ * mod_ssl_tcp.c
+ *
+ *  Created on: Mar 6, 2016
+ *      Author: minfrin
+ */
+
+/*
+ * This input filter parses the initial client hello, and extracts the
+ * SNI information and sets the virtual host as detected. This filter
+ * is designed to be used when httpd must react to the SNI request, but
+ * not terminate TLS itself.
+ */
+
+static ap_filter_rec_t *ssl_tcp_output_filter_handle;
+
+#ifdef HAVE_TLSEXT
+
+typedef struct {
+    apr_pool_t *pool;
+    apr_bucket_brigade *tmpbb;
+    SSL_CTX *ssl_ctx;
+    SSL *ssl;
+    BIO* in_bio;
+    BIO* out_bio;
+    int done;
+} filter_sni_ctx_t;
+
+apr_status_t ssl_tcp_cleanup(void *data)
+{
+    filter_sni_ctx_t *ctx = data;
+
+    SSL_free(ctx->ssl);
+    SSL_CTX_free(ctx->ssl_ctx);
+
+    return APR_SUCCESS;
+}
+
+/*
+ * Return TRUE iff the given servername matches the server record when
+ * selecting virtual hosts.
+ */
+int sni_vhost_matches(const char *servername, server_rec *s)
+{
+    apr_array_header_t *names;
+    int i;
+
+    /* check ServerName */
+    if (!strcasecmp(servername, s->server_hostname)) {
+        return TRUE;
+    }
+
+    /*
+     * if not matched yet, check ServerAlias entries
+     * (adapted from vhost.c:matches_aliases())
+     */
+    names = s->names;
+    if (names) {
+        char **name = (char **)names->elts;
+        for (i = 0; i < names->nelts; ++i) {
+            if (!name[i])
+                continue;
+            if (!strcasecmp(servername, name[i])) {
+                return TRUE;
+            }
+        }
+    }
+
+    /* if still no match, check ServerAlias entries with wildcards */
+    names = s->wild_names;
+    if (names) {
+        char **name = (char **)names->elts;
+        for (i = 0; i < names->nelts; ++i) {
+            if (!name[i])
+                continue;
+            if (!ap_strcasecmp_match(servername, name[i])) {
+                return TRUE;
+            }
+        }
+    }
+
+    return FALSE;
+}
+
+static int sni_find_vhost(void *servername, conn_rec *c, server_rec *s)
+{
+    int found;
+
+    found = sni_vhost_matches(servername, s);
+
+    /* set SSL_CTX (if matched) */
+    if (found) {
+
+        c->base_server = s;
+
+        return 1;
+    }
+
+    return 0;
+}
+
+#endif
+
+static apr_status_t ssl_tcp_filter(ap_filter_t *f,
+                                      apr_bucket_brigade *b,
+                                      ap_input_mode_t mode,
+                                      apr_read_type_e block,
+                                      apr_off_t readbytes)
+{
+#ifdef HAVE_TLSEXT
+
+    apr_status_t rv;
+    filter_sni_ctx_t *ctx = f->ctx;
+    const char *str;
+    apr_size_t len;
+    apr_off_t extra = 0;
+    const char *servername = NULL;
+
+    ap_log_cerror(APLOG_MARK, APLOG_TRACE4, 0, f->c,
+                  "read of TLS client hello to parse SNI, mode %d, "
+                  "%" APR_OFF_T_FMT " bytes",
+                  mode, readbytes);
+
+    if (!ctx) {
+        apr_pool_t *pool;
+
+        /* we want to cleanup as early as possible so we don't
+         * hang around for the duration of the request.
+         */
+        apr_pool_create(&pool, f->c->pool);
+
+        f->ctx = ctx = apr_palloc(pool, sizeof(*ctx));
+        ctx->pool = pool;
+        ap_filter_prepare_brigade(f, NULL);
+        ctx->tmpbb = apr_brigade_create(pool, f->c->bucket_alloc);
+        ctx->done = 0;
+
+        ctx->ssl_ctx = SSL_CTX_new(TLSv1_server_method());
+        ctx->ssl = SSL_new(ctx->ssl_ctx);
+        SSL_set_cipher_list(ctx->ssl, "ALL");
+        ctx->in_bio = BIO_new(BIO_s_mem());
+        ctx->out_bio = BIO_new(BIO_s_mem());
+        SSL_set_bio(ctx->ssl, ctx->in_bio, ctx->out_bio);
+        SSL_set_accept_state(ctx->ssl);
+
+        apr_pool_cleanup_register(pool, ctx,
+                                  ssl_tcp_cleanup,
+                                  apr_pool_cleanup_null);
+
+    }
+    else if (ctx->done && APR_BRIGADE_EMPTY(f->bb)) {
+
+        /* we're done, clean up early */
+        ap_remove_input_filter(f);
+        apr_pool_destroy(ctx->pool);
+        f->ctx = NULL;
+
+        return ap_get_brigade(f->next, b, mode, block, readbytes);
+    }
+
+    if (mode == AP_MODE_INIT) {
+
+        /*
+         * if we attempt to initialise, turn this into a READBYTES
+         * mode and attempt to read at least one SSL handshake worth
+         * of data.
+         */
+        mode = AP_MODE_READBYTES;
+        extra = HUGE_STRING_LEN;
+    }
+
+    if (mode == AP_MODE_GETLINE) {
+        return apr_brigade_split_line(b, f->bb, block, HUGE_STRING_LEN);
+    }
+
+    if (mode == AP_MODE_EATCRLF) {
+        apr_bucket *e;
+        const char *c;
+
+        while (1) {
+            if (APR_BRIGADE_EMPTY(f->bb)) {
+                return ap_get_brigade(f->next, b, mode, block, readbytes);
+            }
+
+            e = APR_BRIGADE_FIRST(f->bb);
+
+            rv = apr_bucket_read(e, &str, &len, APR_NONBLOCK_READ);
+
+            if (rv != APR_SUCCESS) {
+                return rv;
+            }
+
+            c = str;
+            while (c < str + len) {
+                if (*c == APR_ASCII_LF) {
+                    c++;
+                }
+                else if (*c == APR_ASCII_CR && *(c + 1) == APR_ASCII_LF) {
+                    c += 2;
+                }
+                else {
+                    return APR_SUCCESS;
+                }
+            }
+
+            apr_bucket_delete(e);
+        }
+        return APR_SUCCESS;
+    }
+
+    if (mode == AP_MODE_EXHAUSTIVE) {
+
+        APR_BRIGADE_CONCAT(b, f->bb);
+
+        return ap_get_brigade(f->next, b, mode, block, readbytes);
+    }
+
+    if (mode == AP_MODE_SPECULATIVE) {
+        return ap_get_brigade(f->next, b, mode, block, readbytes);
+    }
+
+    if (mode == AP_MODE_READBYTES) {
+        apr_bucket *e;
+
+        rv = ap_get_brigade(f->next, f->bb, mode, block, readbytes + extra);
+
+        if (rv != APR_SUCCESS) {
+            return rv;
+        }
+
+        e = APR_BRIGADE_FIRST(f->bb);
+        while (!ctx->done && e != APR_BRIGADE_SENTINEL(f->bb)) {
+
+            const char *str;
+            apr_size_t len;
+
+            rv = apr_bucket_read(e, &str, &len, APR_BLOCK_READ);
+            if (rv == APR_SUCCESS) {
+                int rc;
+
+                BIO_write(ctx->in_bio, str, (int) len);
+
+                if ((rc = SSL_do_handshake(ctx->ssl)) <= 0) {
+                    int ssl_err = SSL_get_error(ctx->ssl, rc);
+                    if (ssl_err == SSL_ERROR_WANT_READ) {
+                        /* handshake fine so far, give us more
+                         * data.
+                         */
+
+                    }
+                    else {
+                        /* either the first part of the handshake is done and we
+                         * want to write, or some part of the handshake has
+                         * failed. It doesn't matter at this point, we only care
+                         * about the servername.
+                         */
+
+                        /* not SSL, step out of the way */
+                        servername = SSL_get_servername(ctx->ssl, TLSEXT_NAMETYPE_host_name);
+                        ctx->done = 1;
+                    }
+                }
+
+            }
+
+            e = APR_BUCKET_NEXT(e);
+        }
+
+        rv = apr_brigade_partition(f->bb, readbytes, &e);
+        if (rv != APR_SUCCESS && rv != APR_INCOMPLETE) {
+            return rv;
+        }
+
+        ctx->tmpbb = apr_brigade_split_ex(f->bb, e, ctx->tmpbb);
+
+        APR_BRIGADE_CONCAT(b, f->bb);
+        APR_BRIGADE_CONCAT(f->bb, ctx->tmpbb);
+
+    }
+
+    /* did we detect a valid handshake and a valid servername? */
+    if (servername) {
+        if (ap_vhost_iterate_given_conn(f->c, sni_find_vhost,
+                                        (void *)servername)) {
+            ap_log_cerror(APLOG_MARK, APLOG_DEBUG, 0, f->c, APLOGNO()
+                          "TCP+SNI virtual host for servername %s found",
+                          servername);
+            return APR_SUCCESS;
+        }
+        else {
+            ap_log_cerror(APLOG_MARK, APLOG_DEBUG, 0, f->c, APLOGNO()
+                          "No matching TCP+SNI virtual host for servername "
+                          "%s found (using default/first virtual host)",
+                          servername);
+        }
+    }
+    else {
+        ap_log_cerror(APLOG_MARK, APLOG_DEBUG, 0, f->c, APLOGNO()
+                      "TCP+SNI servername not provided via TLS extension "
+                      "(using default/first virtual host)");
+    }
+
+    return APR_SUCCESS;
+
+#else
+
+    ap_log_cerror(APLOG_MARK, APLOG_DEBUG, 0, f->c,
+                  "no support for TLSEXT, SSL_TCP_SNI disabled, mode %d, "
+                  "%" APR_OFF_T_FMT " bytes",
+                  mode, readbytes);
+
+    ap_remove_input_filter(f);
+    return ap_get_brigade(f->next, b, mode, block, readbytes);
+
+#endif
+
+}
+
+static apr_status_t ssl_tcp_cleanup_pre_config(void *data)
+{
+    /* Corresponds to SSL_library_init: */
+    EVP_cleanup();
+
+    return APR_SUCCESS;
+}
+
+static int ssl_tcp_hook_pre_config(apr_pool_t *pconf,
+                               apr_pool_t *plog,
+                               apr_pool_t *ptemp)
+{
+
+    SSL_library_init();
+
+    /*
+     * Let us cleanup the ssl library when the module is unloaded
+     */
+    apr_pool_cleanup_register(pconf, NULL, ssl_tcp_cleanup_pre_config,
+                                           apr_pool_cleanup_null);
+
+    return OK;
+}
+
+static const command_rec ssl_tcp_cmds[] =
+{
+    {NULL}
+};
+
+static void ap_ssl_tcp_register_hook(apr_pool_t *p)
+{
+
+    ap_hook_pre_config(ssl_tcp_hook_pre_config, NULL, NULL, APR_HOOK_MIDDLE);
+
+    ssl_tcp_output_filter_handle = ap_register_input_filter("SSL_TCP_SNI",
+            ssl_tcp_filter, NULL, AP_FTYPE_CONNECTION + 6);
+
+}
+
+AP_DECLARE_MODULE(ssl_tcp) = {
+    STANDARD20_MODULE_STUFF,
+    NULL,                       /* create per-directory config structure */
+    NULL,                       /* merge per-directory config structures */
+    NULL,                       /* create per-server config structure */
+    NULL,                       /* merge per-server config structures */
+    ssl_tcp_cmds,             /* command apr_table_t */
+    ap_ssl_tcp_register_hook  /* register hooks */
+};

--Apple-Mail=_97027B37-4B09-4A85-A80F-E1C79986B7E7--


From dev-return-85887-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 03:57:30 2016
Return-Path: <dev-return-85887-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 619D6198B6
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 03:57:30 +0000 (UTC)
Received: (qmail 63434 invoked by uid 500); 16 Mar 2016 03:57:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63364 invoked by uid 500); 16 Mar 2016 03:57:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63354 invoked by uid 99); 16 Mar 2016 03:57:29 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 03:57:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id E04B61A096E
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 03:57:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.279
X-Spam-Level: *
X-Spam-Status: No, score=1.279 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id YmN4GLSJqqLn for <dev@httpd.apache.org>;
	Wed, 16 Mar 2016 03:57:26 +0000 (UTC)
Received: from mail-ig0-f174.google.com (mail-ig0-f174.google.com [209.85.213.174])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 8F6F05F343
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 03:57:26 +0000 (UTC)
Received: by mail-ig0-f174.google.com with SMTP id ig19so104341553igb.0
        for <dev@httpd.apache.org>; Tue, 15 Mar 2016 20:57:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=K6X/jEz1izgF1Hcbvrx5XNmJvgRjXoK5usILHbL/GOU=;
        b=M8nZjYiKUDZ8qQ3i33oxYVb1w3aVVZuZqZuEktBJWla2fWFKxdW5iJhktt6CBC18RQ
         6wQH8zAS7a2Fj6VQ9o0wCBo0r4POi+ppEyM4/oidHe+C/xUh8O9o/8hHnw2JV4/p/xVn
         pHN7Ke2OB9/SWkwqLpvV8s0eXwH7Yt6ibdYeqlGlb7KLzoZ3JoHG8v6h37PeBgqjARyO
         Xm5FU6tsgTBVooWCOKeujgaGefNKpEBjcYhtzy7L546/Sw+qy06WBjTeFLjW6tMrtkim
         2EFnfZJfs8Osf84z6cN+bXy+//ROOyjMqUpARsSgJV6CyD5eGGofRzBQbxfRu14KHdZb
         8y2g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=K6X/jEz1izgF1Hcbvrx5XNmJvgRjXoK5usILHbL/GOU=;
        b=OsxcFk4uR3q+5Yn8G3ZbVrQiLRfdoGp2N2XG5WqR2y8GvDtrdoFBVLGdKqz/Y5PeST
         7Xi5w4GexVGJqJFdkDRIef5emHAHV0Dm5z8t2HWF0NXsA3FQae35/P/hjjGtjB6RSw4g
         irjwi9qQt9/8nuwJ2X+8pXYEXTTq3L8AkeUopIsZaVM6xkM7nCzDg9ROLl1hXQ9jkuLi
         nwLMMtQDZPxArxeOQH0eddncJU/MIycllcxshxHDavfTkz1WwNdKcvQHK+zZSFh8fO5v
         9+lXSkmh3Rd/539zvjxcQzlkkk7mf0hZijdwcGl1+CFhF3VBoIRt4KnrIEpOCgvhAOs1
         ekYg==
X-Gm-Message-State: AD7BkJLnoirOnWugfQPVQEccQvk2bD3NMKO6WnAhQ98Ci+LSsKmOZq+N04Q1dORgLhhUfx+HcbfWh3VBx1o0CjNQ
MIME-Version: 1.0
X-Received: by 10.50.142.103 with SMTP id rv7mr2306034igb.35.1458100645965;
 Tue, 15 Mar 2016 20:57:25 -0700 (PDT)
Received: by 10.107.149.12 with HTTP; Tue, 15 Mar 2016 20:57:25 -0700 (PDT)
In-Reply-To: <90268C07-B1C2-4E06-8B48-4B58FA1B22E3@sharp.fm>
References: <90268C07-B1C2-4E06-8B48-4B58FA1B22E3@sharp.fm>
Date: Tue, 15 Mar 2016 22:57:25 -0500
Message-ID: <CACsi250LmWoO+AcgEkKpFaB2h7pSmv4L294C4H1V5__=kT+jrw@mail.gmail.com>
Subject: Re: [Patch] Ensure HTTP1 filters are only added on HTTP1 requests
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11c3d4f40ccea2052e2283af

--001a11c3d4f40ccea2052e2283af
Content-Type: text/plain; charset=UTF-8

My concern is that this can't and shouldn't change on 2.4.x.

I love the concept and it is correct, however there are enough modules
relying
on the fact that they must remove the http protocol filters that changing
the
default behavior is effectively breaking binary ABI.

Thoughts?

Cheers,

Bill

On Mon, Mar 14, 2016 at 7:22 PM, Graham Leggett <minfrin@sharp.fm> wrote:

> Hi all,
>
> The following patch fixes the problem where the HTTP1 filters are added on
> non HTTP1 requests.
>
> The filters are now only added if ap_get_protocol() returns
> AP_PROTOCOL_HTTP1.
>
> Regards,
> Graham
> --
>
> Index: modules/http/http_core.c
> ===================================================================
> --- modules/http/http_core.c    (revision 1734998)
> +++ modules/http/http_core.c    (working copy)
> @@ -34,6 +34,8 @@
>
>  #include "mod_core.h"
>
> +module AP_MODULE_DECLARE_DATA http_module;
> +
>  /* Handles for core filters */
>  AP_DECLARE_DATA ap_filter_rec_t *ap_http_input_filter_handle;
>  AP_DECLARE_DATA ap_filter_rec_t *ap_http_header_filter_handle;
> @@ -48,6 +50,10 @@
>   */
>  static int async_mpm = 0;
>
> +typedef struct {
> +    int is_http;
> +} http_conn_conf;
> +
>  static const char *set_keep_alive_timeout(cmd_parms *cmd, void *dummy,
>                                            const char *arg)
>  {
> @@ -242,9 +248,29 @@
>      return OK;
>  }
>
> +static int http_pre_connection(conn_rec *c, void *csd)
> +{
> +    const char *protocol = ap_get_protocol(c);
> +
> +    http_conn_conf *cconf = apr_pcalloc(c->pool, sizeof(*cconf));
> +
> +    if (!protocol || !strcmp(AP_PROTOCOL_HTTP1, protocol)) {
> +        cconf->is_http = 1;
> +    }
> +
> +    ap_set_module_config(c->conn_config, &http_module, cconf);
> +
> +    return OK;
> +}
> +
>  static int ap_process_http_connection(conn_rec *c)
>  {
> -    if (async_mpm && !c->clogging_input_filters) {
> +    http_conn_conf *cconf = ap_get_module_config(c->conn_config,
> &http_module);
> +
> +    if (!cconf || !cconf->is_http) {
> +        return DECLINED;
> +    }
> +    else if (async_mpm && !c->clogging_input_filters) {
>          return ap_process_http_async_connection(c);
>      }
>      else {
> @@ -254,7 +280,6 @@
>
>  static int http_create_request(request_rec *r)
>  {
> -    /* FIXME: we must only add these filters if we are an HTTP request */
>      if (!r->main && !r->prev) {
>          ap_add_output_filter_handle(ap_byterange_filter_handle,
>                                      NULL, r, r->connection);
> @@ -295,6 +320,7 @@
>  static void register_hooks(apr_pool_t *p)
>  {
>      ap_hook_post_config(http_post_config, NULL, NULL, APR_HOOK_MIDDLE);
> +    ap_hook_pre_connection(http_pre_connection,NULL,NULL,
> APR_HOOK_REALLY_LAST);
>      ap_hook_process_connection(ap_process_http_connection, NULL, NULL,
>                                 APR_HOOK_REALLY_LAST);
>      ap_hook_map_to_storage(ap_send_http_trace,NULL,NULL,APR_HOOK_MIDDLE);
>
>

--001a11c3d4f40ccea2052e2283af
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">My concern is that this can&#39;t and shouldn&#39;t change=
 on 2.4.x.<div><br></div><div>I love the concept and it is correct, however=
 there are enough modules relying</div><div>on the fact that they must remo=
ve the http protocol filters that changing the</div><div>default behavior i=
s effectively breaking binary ABI.</div><div><br></div><div>Thoughts?</div>=
<div><br></div><div>Cheers,</div><div><br></div><div>Bill</div></div><div c=
lass=3D"gmail_extra"><br><div class=3D"gmail_quote">On Mon, Mar 14, 2016 at=
 7:22 PM, Graham Leggett <span dir=3D"ltr">&lt;<a href=3D"mailto:minfrin@sh=
arp.fm" target=3D"_blank">minfrin@sharp.fm</a>&gt;</span> wrote:<br><blockq=
uote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc =
solid;padding-left:1ex">Hi all,<br>
<br>
The following patch fixes the problem where the HTTP1 filters are added on =
non HTTP1 requests.<br>
<br>
The filters are now only added if ap_get_protocol() returns AP_PROTOCOL_HTT=
P1.<br>
<br>
Regards,<br>
Graham<br>
--<br>
<br>
Index: modules/http/http_core.c<br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<br>
--- modules/http/http_core.c=C2=A0 =C2=A0 (revision 1734998)<br>
+++ modules/http/http_core.c=C2=A0 =C2=A0 (working copy)<br>
@@ -34,6 +34,8 @@<br>
<br>
=C2=A0#include &quot;mod_core.h&quot;<br>
<br>
+module AP_MODULE_DECLARE_DATA http_module;<br>
+<br>
=C2=A0/* Handles for core filters */<br>
=C2=A0AP_DECLARE_DATA ap_filter_rec_t *ap_http_input_filter_handle;<br>
=C2=A0AP_DECLARE_DATA ap_filter_rec_t *ap_http_header_filter_handle;<br>
@@ -48,6 +50,10 @@<br>
=C2=A0 */<br>
=C2=A0static int async_mpm =3D 0;<br>
<br>
+typedef struct {<br>
+=C2=A0 =C2=A0 int is_http;<br>
+} http_conn_conf;<br>
+<br>
=C2=A0static const char *set_keep_alive_timeout(cmd_parms *cmd, void *dummy=
,<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0const char *arg)<br>
=C2=A0{<br>
@@ -242,9 +248,29 @@<br>
=C2=A0 =C2=A0 =C2=A0return OK;<br>
=C2=A0}<br>
<br>
+static int http_pre_connection(conn_rec *c, void *csd)<br>
+{<br>
+=C2=A0 =C2=A0 const char *protocol =3D ap_get_protocol(c);<br>
+<br>
+=C2=A0 =C2=A0 http_conn_conf *cconf =3D apr_pcalloc(c-&gt;pool, sizeof(*cc=
onf));<br>
+<br>
+=C2=A0 =C2=A0 if (!protocol || !strcmp(AP_PROTOCOL_HTTP1, protocol)) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 cconf-&gt;is_http =3D 1;<br>
+=C2=A0 =C2=A0 }<br>
+<br>
+=C2=A0 =C2=A0 ap_set_module_config(c-&gt;conn_config, &amp;http_module, cc=
onf);<br>
+<br>
+=C2=A0 =C2=A0 return OK;<br>
+}<br>
+<br>
=C2=A0static int ap_process_http_connection(conn_rec *c)<br>
=C2=A0{<br>
-=C2=A0 =C2=A0 if (async_mpm &amp;&amp; !c-&gt;clogging_input_filters) {<br=
>
+=C2=A0 =C2=A0 http_conn_conf *cconf =3D ap_get_module_config(c-&gt;conn_co=
nfig, &amp;http_module);<br>
+<br>
+=C2=A0 =C2=A0 if (!cconf || !cconf-&gt;is_http) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 return DECLINED;<br>
+=C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 else if (async_mpm &amp;&amp; !c-&gt;clogging_input_filters)=
 {<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0return ap_process_http_async_connection(c=
);<br>
=C2=A0 =C2=A0 =C2=A0}<br>
=C2=A0 =C2=A0 =C2=A0else {<br>
@@ -254,7 +280,6 @@<br>
<br>
=C2=A0static int http_create_request(request_rec *r)<br>
=C2=A0{<br>
-=C2=A0 =C2=A0 /* FIXME: we must only add these filters if we are an HTTP r=
equest */<br>
=C2=A0 =C2=A0 =C2=A0if (!r-&gt;main &amp;&amp; !r-&gt;prev) {<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0ap_add_output_filter_handle(ap_byterange_=
filter_handle,<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0NULL, r, r-&gt;c=
onnection);<br>
@@ -295,6 +320,7 @@<br>
=C2=A0static void register_hooks(apr_pool_t *p)<br>
=C2=A0{<br>
=C2=A0 =C2=A0 =C2=A0ap_hook_post_config(http_post_config, NULL, NULL, APR_H=
OOK_MIDDLE);<br>
+=C2=A0 =C2=A0 ap_hook_pre_connection(http_pre_connection,NULL,NULL, APR_HO=
OK_REALLY_LAST);<br>
=C2=A0 =C2=A0 =C2=A0ap_hook_process_connection(ap_process_http_connection, =
NULL, NULL,<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 APR_HOOK_REALLY_LAST);<br>
=C2=A0 =C2=A0 =C2=A0ap_hook_map_to_storage(ap_send_http_trace,NULL,NULL,APR=
_HOOK_MIDDLE);<br>
<br>
</blockquote></div><br></div>

--001a11c3d4f40ccea2052e2283af--

From dev-return-85888-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 08:32:36 2016
Return-Path: <dev-return-85888-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6023818121
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 08:32:36 +0000 (UTC)
Received: (qmail 52804 invoked by uid 500); 16 Mar 2016 08:32:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52748 invoked by uid 500); 16 Mar 2016 08:32:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52739 invoked by uid 99); 16 Mar 2016 08:32:35 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 08:32:35 +0000
Received: from gauss.localdomain (v4-86130a44.pool.vitroconnect.de [134.19.10.68])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 3E8DA1A0314
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 08:32:35 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 9E1A01A0
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 09:32:39 +0100 (CET)
Subject: Re: svn commit: r1735174 - in /httpd/httpd/trunk: CHANGES
 include/ap_mmn.h include/ap_mpm.h include/mpm_common.h
 modules/proxy/mod_proxy_wstunnel.c server/mpm/event/event.c
 server/mpm/event/fdqueue.h server/mpm_common.c
To: dev@httpd.apache.org
References: <20160315225252.499093A0470@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56E91A27.9050306@apache.org>
Date: Wed, 16 Mar 2016 09:32:39 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:43.0) Gecko/20100101
 Firefox/43.0 SeaMonkey/2.40
MIME-Version: 1.0
In-Reply-To: <20160315225252.499093A0470@svn01-us-west.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/15/2016 11:52 PM, minfrin@apache.org wrote:
> Author: minfrin
> Date: Tue Mar 15 22:52:51 2016
> New Revision: 1735174
> 
> URL: http://svn.apache.org/viewvc?rev=1735174&view=rev
> Log:
> mpm: Generalise the ap_mpm_register_socket functions to accept pipes or sockets.
> 
> Modified:
>     httpd/httpd/trunk/CHANGES
>     httpd/httpd/trunk/include/ap_mmn.h
>     httpd/httpd/trunk/include/ap_mpm.h
>     httpd/httpd/trunk/include/mpm_common.h
>     httpd/httpd/trunk/modules/proxy/mod_proxy_wstunnel.c
>     httpd/httpd/trunk/server/mpm/event/event.c
>     httpd/httpd/trunk/server/mpm/event/fdqueue.h
>     httpd/httpd/trunk/server/mpm_common.c
> 
> Modified: httpd/httpd/trunk/CHANGES
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/CHANGES?rev=1735174&r1=1735173&r2=1735174&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/CHANGES [utf-8] (original)
> +++ httpd/httpd/trunk/CHANGES [utf-8] Tue Mar 15 22:52:51 2016
> @@ -1,6 +1,9 @@
>                                                           -*- coding: utf-8 -*-
>  Changes with Apache 2.5.0
>  
> +  *) mpm: Generalise the ap_mpm_register_socket functions to accept pipes
> +     or sockets. [Graham Leggett]
> +
>    *) mod_rewrite: Don't implicitly URL-escape the original query string
>       when no substitution has changed it (like PR50447 but server context)
>       [Evgeny Kotkov <evgeny.kotkov visualsvn.com>]
> 

> Modified: httpd/httpd/trunk/include/ap_mpm.h
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/include/ap_mpm.h?rev=1735174&r1=1735173&r2=1735174&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/include/ap_mpm.h (original)
> +++ httpd/httpd/trunk/include/ap_mpm.h Tue Mar 15 22:52:51 2016
> @@ -180,6 +180,8 @@ AP_DECLARE(apr_status_t) ap_os_create_pr
>  #define AP_MPMQ_HAS_SERF             16
>  /** MPM supports suspending/resuming connections */
>  #define AP_MPMQ_CAN_SUSPEND          17
> +/** MPM supports additional pollfds */
> +#define AP_MPMQ_CAN_POLL             18
>  /** @} */
>  
>  /**
> @@ -202,55 +204,56 @@ typedef void (ap_mpm_callback_fn_t)(void
>  /* only added support in the Event MPM....  check for APR_ENOTIMPL */
>  AP_DECLARE(apr_status_t) ap_mpm_resume_suspended(conn_rec *c);
>  /* only added support in the Event MPM....  check for APR_ENOTIMPL */
> -AP_DECLARE(apr_status_t) ap_mpm_register_timed_callback(apr_time_t t,
> -                                                       ap_mpm_callback_fn_t *cbfn,
> -                                                       void *baton);
> +AP_DECLARE(apr_status_t) ap_mpm_register_timed_callback(
> +        apr_time_t t, ap_mpm_callback_fn_t *cbfn, void *baton);
>  
>  /**
> - * Register a callback on the readability or writability on a group of sockets
> - * @param s Null-terminated list of sockets
> + * Register a callback on the readability or writability on a group of
> + * sockets/pipes.
> + * @param pfds Array of apr_pollfd_t
>   * @param p pool for use between registration and callback

Is this a documentation error? I cannot find the pool any longer in the code.

> - * @param for_read Whether the sockets are monitored for read or writability
>   * @param cbfn The callback function
>   * @param baton userdata for the callback function
> - * @return APR_SUCCESS if all sockets could be added to a pollset, 
> + * @return APR_SUCCESS if all sockets/pipes could be added to a pollset,
>   * APR_ENOTIMPL if no asynch support, or an apr_pollset_add error.
> - * @remark When activity is found on any 1 socket in the list, all are removed 
> + * @remark When activity is found on any 1 socket/pipe in the list, all are removed
>   * from the pollset and only 1 callback is issued.
>   */
>  
> -AP_DECLARE(apr_status_t) ap_mpm_register_socket_callback(apr_socket_t **s,
> -                                                         apr_pool_t *p,
> -                                                         int for_read, 
> -                                                         ap_mpm_callback_fn_t *cbfn,
> -                                                         void *baton);
> - /**
> - * Register a callback on the readability or writability on a group of sockets, with a timeout
> - * @param s Null-terminated list of sockets
> +AP_DECLARE(apr_status_t) ap_mpm_register_poll_callback(apr_array_header_t *pds,
> +        ap_mpm_callback_fn_t *cbfn, void *baton);
> +
> +/**
> + * Register a callback on the readability or writability on a group of sockets/pipes,
> + * with a timeout.
> + * @param pfds Array of apr_pollfd_t
>   * @param p pool for use between registration and callback

Is this a documentation error? I cannot find the pool any longer in the code.

> - * @param for_read Whether the sockets are monitored for read or writability
>   * @param cbfn The callback function
>   * @param tofn The callback function if the timeout expires
>   * @param baton userdata for the callback function
>   * @param timeout timeout for I/O in microseconds, unlimited if <= 0
> - * @return APR_SUCCESS if all sockets could be added to a pollset, 
> + * @return APR_SUCCESS if all sockets/pipes could be added to a pollset,
>   * APR_ENOTIMPL if no asynch support, or an apr_pollset_add error.
> - * @remark When activity is found on any 1 socket in the list, all are removed 
> + * @remark When activity is found on any 1 socket/pipe in the list, all are removed
>   * from the pollset and only 1 callback is issued. 
>   * @remark For each call, only one of tofn or cbfn will be called, never both.
>   */
>  
> -AP_DECLARE(apr_status_t) ap_mpm_register_socket_callback_timeout(apr_socket_t **s,
> -                                                         apr_pool_t *p,
> -                                                         int for_read, 
> -                                                         ap_mpm_callback_fn_t *cbfn,
> -                                                         ap_mpm_callback_fn_t *tofn,
> -                                                         void *baton,
> -                                                         apr_time_t timeout);
> +AP_DECLARE(apr_status_t) ap_mpm_register_poll_callback_timeout(
> +        apr_array_header_t *pfds, ap_mpm_callback_fn_t *cbfn,
> +        ap_mpm_callback_fn_t *tofn, void *baton, apr_time_t timeout);
>  
>  
> -AP_DECLARE(apr_status_t) ap_mpm_unregister_socket_callback(apr_socket_t **s, 
> -                                                           apr_pool_t *p);
> +/**
> +* Unregister a previously registered callback.
> +* @param pfds Array of apr_pollfd_t
> +* @param p pool for use between registration and callback

Is this a documentation error? I cannot find the pool any longer in the code.

> +* @return APR_SUCCESS if all sockets/pipes could be removed from the pollset,
> +* APR_ENOTIMPL if no asynch support, or an apr_pollset_remove error.
> +* @remark This function triggers the cleanup registered on the pool p during
> +* callback registration.
> +*/
> +AP_DECLARE(apr_status_t) ap_mpm_unregister_poll_callback(apr_array_header_t *pfds);
>  
>  typedef enum mpm_child_status {
>      MPM_CHILD_STARTED,
> 

Regards

Rdiger

From dev-return-85889-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 08:34:53 2016
Return-Path: <dev-return-85889-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CDB3318133
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 08:34:53 +0000 (UTC)
Received: (qmail 56437 invoked by uid 500); 16 Mar 2016 08:34:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56355 invoked by uid 500); 16 Mar 2016 08:34:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56346 invoked by uid 99); 16 Mar 2016 08:34:53 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 08:34:53 +0000
Received: from gauss.localdomain (v4-86130a44.pool.vitroconnect.de [134.19.10.68])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id EA5351A0314
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 08:34:52 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 00D431A0
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 09:34:57 +0100 (CET)
Subject: Re: [Patch] Ensure HTTP1 filters are only added on HTTP1 requests
To: dev@httpd.apache.org
References: <90268C07-B1C2-4E06-8B48-4B58FA1B22E3@sharp.fm>
 <CACsi250LmWoO+AcgEkKpFaB2h7pSmv4L294C4H1V5__=kT+jrw@mail.gmail.com>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56E91AB1.6070504@apache.org>
Date: Wed, 16 Mar 2016 09:34:57 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:43.0) Gecko/20100101
 Firefox/43.0 SeaMonkey/2.40
MIME-Version: 1.0
In-Reply-To: <CACsi250LmWoO+AcgEkKpFaB2h7pSmv4L294C4H1V5__=kT+jrw@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/16/2016 04:57 AM, William A Rowe Jr wrote:
> My concern is that this can't and shouldn't change on 2.4.x.
> 
> I love the concept and it is correct, however there are enough modules relying
> on the fact that they must remove the http protocol filters that changing the
> default behavior is effectively breaking binary ABI.
> 
> Thoughts?

Agreed.

Regards

Rdiger


From dev-return-85890-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 08:58:19 2016
Return-Path: <dev-return-85890-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A79F318227
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 08:58:19 +0000 (UTC)
Received: (qmail 16950 invoked by uid 500); 16 Mar 2016 08:58:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16887 invoked by uid 500); 16 Mar 2016 08:58:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16877 invoked by uid 99); 16 Mar 2016 08:58:19 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 08:58:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D63C818058A
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 08:58:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=UZAnqio+;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=YETWZY0P
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id TrAPbZ0Ijs1R for <dev@httpd.apache.org>;
	Wed, 16 Mar 2016 08:58:17 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 83C3E5FB06
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 08:58:16 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 2086815A08C0; Wed, 16 Mar 2016 09:58:08 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458118688; bh=xaLDgfH1sPDMibDMk0o/dyFwUZIF7q7/9VYwlGdOaRI=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=UZAnqio+Y3hjC2LPKsBDXGkSI20ZTgSf8PIhcdqq9SucNwniGeh8rX9cuoGI5SmMC
	 64E89H34a2eQOiXpHtP8bs3K6uhgLcx7tBKBFU9GZtJo32iwfqmoi4wmpjhw1UD6sY
	 C1wgywcNISYvYQgvJMpQXppafTmN3yIcrIt8wLYA=
Received: from [192.168.1.48] (unknown [87.78.28.171])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id ADA4515A057D
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 09:58:05 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458118687; bh=xaLDgfH1sPDMibDMk0o/dyFwUZIF7q7/9VYwlGdOaRI=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=YETWZY0PyA9m7xQcsTT0OiDfXUByjNgewEM2MijIf9FR/SMpNwpMRJhK2jyQ73YA8
	 41eg34AOslcic0e0hP5J48Su+xbJJ411t+uLBk+9cuaSmiBDQsspsXd2to9p1y16yJ
	 UoP4AXXiVVU00MrXuSrbrCSGBltgiQaVavFl1V/I=
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: [Patch] Ensure HTTP1 filters are only added on HTTP1 requests
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56E91AB1.6070504@apache.org>
Date: Wed, 16 Mar 2016 09:58:01 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <442F97C5-D4BF-4C91-A3FF-D0ADE2973CBD@greenbytes.de>
References: <90268C07-B1C2-4E06-8B48-4B58FA1B22E3@sharp.fm> <CACsi250LmWoO+AcgEkKpFaB2h7pSmv4L294C4H1V5__=kT+jrw@mail.gmail.com> <56E91AB1.6070504@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Hmm, I can tell you for certain that modules encountering HTTP/2 =
connections
in 2.4 do not find the filters as they may expect.

So far, I have not heard of any breakage related to this. Which is not =
to say
it does not exist.=20

AFAIK the patch will only affect connections where ap_get_protocol() =
returns
something else than the default. So far, this is only true for h2 =
connections,
which is not enabled by default.=20

So, I do not see the need for worries here.

-Stefan

> Am 16.03.2016 um 09:34 schrieb Ruediger Pluem <rpluem@apache.org>:
>=20
>=20
>=20
> On 03/16/2016 04:57 AM, William A Rowe Jr wrote:
>> My concern is that this can't and shouldn't change on 2.4.x.
>>=20
>> I love the concept and it is correct, however there are enough =
modules relying
>> on the fact that they must remove the http protocol filters that =
changing the
>> default behavior is effectively breaking binary ABI.
>>=20
>> Thoughts?
>=20
> Agreed.
>=20
> Regards
>=20
> R=C3=BCdiger
>=20


From dev-return-85891-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 09:24:04 2016
Return-Path: <dev-return-85891-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7AD4B183AB
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 09:24:04 +0000 (UTC)
Received: (qmail 88529 invoked by uid 500); 16 Mar 2016 09:24:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88450 invoked by uid 500); 16 Mar 2016 09:24:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88441 invoked by uid 99); 16 Mar 2016 09:24:03 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 09:24:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id BABE61804A1
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 09:24:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.363
X-Spam-Level: *
X-Spam-Status: No, score=1.363 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RDNS_DYNAMIC=0.363]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id isRgu0b7tE9R for <dev@httpd.apache.org>;
	Wed, 16 Mar 2016 09:24:02 +0000 (UTC)
Received: from gungnir.webthing.com (209-20-83-52.slicehost.net [209.20.83.52])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 0BD025F3F0
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 09:24:02 +0000 (UTC)
Received: from [192.168.0.127] (cpc94054-newt37-2-0-cust416.19-3.cable.virginm.net [92.233.49.161])
	by gungnir.webthing.com (Postfix) with ESMTPSA id 71AB1E8C51
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 09:23:54 +0000 (UTC)
Message-ID: <1458120233.3893.30.camel@mimir.webthing.com>
Subject: Re: [Patch] Ensure HTTP1 filters are only added on HTTP1 requests
From: Nick Kew <niq@apache.org>
To: dev@httpd.apache.org
Date: Wed, 16 Mar 2016 09:23:53 +0000
In-Reply-To: <CACsi250LmWoO+AcgEkKpFaB2h7pSmv4L294C4H1V5__=kT+jrw@mail.gmail.com>
References: <90268C07-B1C2-4E06-8B48-4B58FA1B22E3@sharp.fm>
	 <CACsi250LmWoO+AcgEkKpFaB2h7pSmv4L294C4H1V5__=kT+jrw@mail.gmail.com>
Content-Type: text/plain; charset="UTF-8"
X-Mailer: Evolution 3.4.4-3 
Mime-Version: 1.0
Content-Transfer-Encoding: 7bit

On Tue, 2016-03-15 at 22:57 -0500, William A Rowe Jr wrote:
> My concern is that this can't and shouldn't change on 2.4.x.

> Thoughts?

If someone is independently using a different protocol,
or has just tweaked HTTP handling for their own reasons,
they could be using hacks/workarounds this'll break.
We've seen similar cases in the lifetime of 2.4 where PHP
introduced its own workarounds that our bugfixes then broke.

Basic lesson: any such patch must be switchable and default
to off.

On the other hand, mod_h2 being marked as pre-stable means
we haven't promised stability to anyone who's hacked it.
So mod_h2 could safely deal with protocol filters.  Or by
extension could explicitly set a flag to trigger a core
change as per this patch.

Does this merit that level of hack?

-- 
Nick Kew


From dev-return-85892-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 09:29:21 2016
Return-Path: <dev-return-85892-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DA54A183EF
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 09:29:21 +0000 (UTC)
Received: (qmail 194 invoked by uid 500); 16 Mar 2016 09:29:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 113 invoked by uid 500); 16 Mar 2016 09:29:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 104 invoked by uid 99); 16 Mar 2016 09:29:21 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 09:29:21 +0000
Received: from gauss.localdomain (v4-86130a44.pool.vitroconnect.de [134.19.10.68])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id DBCB51A0044
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 09:29:20 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id B53B41A0
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 10:29:25 +0100 (CET)
Subject: Re: svn commit: r1735176 - in /httpd/httpd/trunk: CHANGES
 modules/http/http_core.c
To: dev@httpd.apache.org
References: <20160315231343.9BD213A0470@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56E92775.1010606@apache.org>
Date: Wed, 16 Mar 2016 10:29:25 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:43.0) Gecko/20100101
 Firefox/43.0 SeaMonkey/2.40
MIME-Version: 1.0
In-Reply-To: <20160315231343.9BD213A0470@svn01-us-west.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/16/2016 12:13 AM, minfrin@apache.org wrote:
> Author: minfrin
> Date: Tue Mar 15 23:13:43 2016
> New Revision: 1735176
> 
> URL: http://svn.apache.org/viewvc?rev=1735176&view=rev
> Log:
> mod_http: Make sure HTTP filters are added on HTTP requests only.
> 
> Modified:
>     httpd/httpd/trunk/CHANGES
>     httpd/httpd/trunk/modules/http/http_core.c

With this change in the test suite doesn't even start any longer but directly stalls.

Regards

Rdiger


From dev-return-85893-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 10:47:56 2016
Return-Path: <dev-return-85893-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8A24B18840
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 10:47:56 +0000 (UTC)
Received: (qmail 60381 invoked by uid 500); 16 Mar 2016 10:47:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60296 invoked by uid 500); 16 Mar 2016 10:47:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60286 invoked by uid 99); 16 Mar 2016 10:47:56 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 10:47:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 96E8BC059B
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 10:47:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=HUFIjJwm;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=HUFIjJwm
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id bAge2pqHHHB5 for <dev@httpd.apache.org>;
	Wed, 16 Mar 2016 10:47:54 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 232C55FB15
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 10:47:53 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 8521B15A08DE; Wed, 16 Mar 2016 11:47:52 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458125272; bh=rXHY0Cqli1QXYCNE+zlEVwSb0pK1Ys3yknY9OHgLpXM=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=HUFIjJwmsn92zoL6CBmQmo8t1kCSL9Hl/dkj7vqP+6JwCYSQ7+Rfl7+DYGCkCD+kI
	 wvP3OguxhBlaJrTG5vASNMPkNbS5KtUnrXXwGHqw1QG2tFsojS+0fwAFMAZp27WMqx
	 MN8dXuW/OIqsuA2ai8j5pVa+6zAjWxi0GyC1w9BU=
Received: from [192.168.1.48] (unknown [87.78.28.171])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id DE92015A0625
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 11:47:51 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458125272; bh=rXHY0Cqli1QXYCNE+zlEVwSb0pK1Ys3yknY9OHgLpXM=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=HUFIjJwmsn92zoL6CBmQmo8t1kCSL9Hl/dkj7vqP+6JwCYSQ7+Rfl7+DYGCkCD+kI
	 wvP3OguxhBlaJrTG5vASNMPkNbS5KtUnrXXwGHqw1QG2tFsojS+0fwAFMAZp27WMqx
	 MN8dXuW/OIqsuA2ai8j5pVa+6zAjWxi0GyC1w9BU=
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1735176 - in /httpd/httpd/trunk: CHANGES modules/http/http_core.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56E92775.1010606@apache.org>
Date: Wed, 16 Mar 2016 11:47:50 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <5C1C84E0-F3DA-4EB2-8028-4CF6E8AC2C0A@greenbytes.de>
References: <20160315231343.9BD213A0470@svn01-us-west.apache.org> <56E92775.1010606@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Only HTTP/2 connections seem to work right now.

I mean, it's hard for me to complain, but that seems a bit much...

> Am 16.03.2016 um 10:29 schrieb Ruediger Pluem <rpluem@apache.org>:
>=20
>=20
>=20
> On 03/16/2016 12:13 AM, minfrin@apache.org wrote:
>> Author: minfrin
>> Date: Tue Mar 15 23:13:43 2016
>> New Revision: 1735176
>>=20
>> URL: http://svn.apache.org/viewvc?rev=3D1735176&view=3Drev
>> Log:
>> mod_http: Make sure HTTP filters are added on HTTP requests only.
>>=20
>> Modified:
>>    httpd/httpd/trunk/CHANGES
>>    httpd/httpd/trunk/modules/http/http_core.c
>=20
> With this change in the test suite doesn't even start any longer but =
directly stalls.
>=20
> Regards
>=20
> R=C3=BCdiger
>=20


From dev-return-85894-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 10:52:19 2016
Return-Path: <dev-return-85894-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4E5521885B
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 10:52:19 +0000 (UTC)
Received: (qmail 80930 invoked by uid 500); 16 Mar 2016 10:52:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 80864 invoked by uid 500); 16 Mar 2016 10:52:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80847 invoked by uid 99); 16 Mar 2016 10:52:18 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 10:52:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 92771C0316
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 10:52:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=CrnqOG/x;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=CrnqOG/x
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id pLlha0GnkOLE for <dev@httpd.apache.org>;
	Wed, 16 Mar 2016 10:52:16 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 567395F3FF
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 10:52:16 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 7BB0015A08C0; Wed, 16 Mar 2016 11:52:10 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458125530; bh=/B+SkFxaSw4ITNdHTqJTWLTvs2mde7ZYq/03JJ7js1g=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=CrnqOG/xMksLo84eLH0BCxpJTJmPJRTCGA56t7Z35xP3ov1h54fULr47dfmHqBQEa
	 3sIEMEkVMpvg79j+2cAQbplxvi+f2ocPBtAxp1U0T9qZ0m2eANkVZCsiBUJBGeFWJ4
	 0Jr6+g6rDpP7NNbNDbLPy3U3ukPu9WU6/dcTT9y4=
Received: from [192.168.1.48] (unknown [87.78.28.171])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 03AFF15A0602
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 11:52:09 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458125530; bh=/B+SkFxaSw4ITNdHTqJTWLTvs2mde7ZYq/03JJ7js1g=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=CrnqOG/xMksLo84eLH0BCxpJTJmPJRTCGA56t7Z35xP3ov1h54fULr47dfmHqBQEa
	 3sIEMEkVMpvg79j+2cAQbplxvi+f2ocPBtAxp1U0T9qZ0m2eANkVZCsiBUJBGeFWJ4
	 0Jr6+g6rDpP7NNbNDbLPy3U3ukPu9WU6/dcTT9y4=
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1735176 - in /httpd/httpd/trunk: CHANGES modules/http/http_core.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <5C1C84E0-F3DA-4EB2-8028-4CF6E8AC2C0A@greenbytes.de>
Date: Wed, 16 Mar 2016 11:52:09 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <4D0F7D19-2100-4150-BEDA-5B6DA2036B8A@greenbytes.de>
References: <20160315231343.9BD213A0470@svn01-us-west.apache.org> <56E92775.1010606@apache.org> <5C1C84E0-F3DA-4EB2-8028-4CF6E8AC2C0A@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Reverting that change, it still does not handle h1. Digging...

> Am 16.03.2016 um 11:47 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>=20
> Only HTTP/2 connections seem to work right now.
>=20
> I mean, it's hard for me to complain, but that seems a bit much...
>=20
>> Am 16.03.2016 um 10:29 schrieb Ruediger Pluem <rpluem@apache.org>:
>>=20
>>=20
>>=20
>> On 03/16/2016 12:13 AM, minfrin@apache.org wrote:
>>> Author: minfrin
>>> Date: Tue Mar 15 23:13:43 2016
>>> New Revision: 1735176
>>>=20
>>> URL: http://svn.apache.org/viewvc?rev=3D1735176&view=3Drev
>>> Log:
>>> mod_http: Make sure HTTP filters are added on HTTP requests only.
>>>=20
>>> Modified:
>>>   httpd/httpd/trunk/CHANGES
>>>   httpd/httpd/trunk/modules/http/http_core.c
>>=20
>> With this change in the test suite doesn't even start any longer but =
directly stalls.
>>=20
>> Regards
>>=20
>> R=C3=BCdiger
>>=20
>=20


From dev-return-85895-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 11:02:31 2016
Return-Path: <dev-return-85895-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D3251188D1
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 11:02:31 +0000 (UTC)
Received: (qmail 96731 invoked by uid 500); 16 Mar 2016 11:02:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 96663 invoked by uid 500); 16 Mar 2016 11:02:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 96653 invoked by uid 99); 16 Mar 2016 11:02:31 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 11:02:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id EBC01C2C2A
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 11:02:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.002
X-Spam-Level:
X-Spam-Status: No, score=-0.002 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id nxxP6xGF3B7S for <dev@httpd.apache.org>;
	Wed, 16 Mar 2016 11:02:30 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id EE5875F393
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 11:02:29 +0000 (UTC)
Received: from [10.105.13.222] (unknown [5.56.169.82])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 9EDD882409
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 11:02:22 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: [Patch] Ensure HTTP1 filters are only added on HTTP1 requests
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <CACsi250LmWoO+AcgEkKpFaB2h7pSmv4L294C4H1V5__=kT+jrw@mail.gmail.com>
Date: Wed, 16 Mar 2016 13:02:19 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <A837A96F-2AB2-410C-A41E-E1C05263C76A@sharp.fm>
References: <90268C07-B1C2-4E06-8B48-4B58FA1B22E3@sharp.fm> <CACsi250LmWoO+AcgEkKpFaB2h7pSmv4L294C4H1V5__=kT+jrw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 16 Mar 2016, at 5:57 AM, William A Rowe Jr <wrowe@rowe-clan.net> =
wrote:

> My concern is that this can't and shouldn't change on 2.4.x.
>=20
> I love the concept and it is correct, however there are enough modules =
relying
> on the fact that they must remove the http protocol filters that =
changing the
> default behavior is effectively breaking binary ABI.
>=20
> Thoughts?

Hmm=E2=80=A6removing a filter that doesn=E2=80=99t exist isn=E2=80=99t =
an error, but relying on a side effect of a filter being there and now =
suddenly it is not there any more certainly will be. You=E2=80=99re =
right on the ABI.

There are two approaches that leap to my mind, one is provide an =
optional function that signals =E2=80=9Cdon=E2=80=99t add http filters =
on non http connections=E2=80=9D, the second is to keep this change on =
v2.5+ and use version check to remove filters on any code that is =
intended to run correctly on v2.4.

Regards,
Graham
=E2=80=94


From dev-return-85896-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 11:08:06 2016
Return-Path: <dev-return-85896-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 776C018916
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 11:08:06 +0000 (UTC)
Received: (qmail 10016 invoked by uid 500); 16 Mar 2016 11:08:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 9948 invoked by uid 500); 16 Mar 2016 11:08:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 9932 invoked by uid 99); 16 Mar 2016 11:08:05 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 11:08:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id D79BEC0316
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 11:08:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=AcJU84uZ;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=AcJU84uZ
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id oMLTG3YE8dVC for <dev@httpd.apache.org>;
	Wed, 16 Mar 2016 11:08:03 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 42ADF5FB66
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 11:08:03 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id A29B615A0907; Wed, 16 Mar 2016 12:08:01 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458126481; bh=usvFXWvWqrtzlTRehGVErKQda0bFCVI8q+B4yZQMzHo=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=AcJU84uZF5BdtxmeXMORGeXjLdmLJBKju92PvY2+O0Afu7WJn8e3Ej35GZEE9bLyd
	 6CklTLh9rXn5nF23ANnMlrWpS4zpvPHs2d554Q2M5M12NSGHvP0TzBvFmCgrt86mKj
	 3//7WfNXil2Z36kt8iH58N9xgee83R/I6AQhCd2E=
Received: from [192.168.1.48] (unknown [87.78.28.171])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 451FF15A057D
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 12:08:01 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458126481; bh=usvFXWvWqrtzlTRehGVErKQda0bFCVI8q+B4yZQMzHo=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=AcJU84uZF5BdtxmeXMORGeXjLdmLJBKju92PvY2+O0Afu7WJn8e3Ej35GZEE9bLyd
	 6CklTLh9rXn5nF23ANnMlrWpS4zpvPHs2d554Q2M5M12NSGHvP0TzBvFmCgrt86mKj
	 3//7WfNXil2Z36kt8iH58N9xgee83R/I6AQhCd2E=
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1735176 - in /httpd/httpd/trunk: CHANGES modules/http/http_core.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <4D0F7D19-2100-4150-BEDA-5B6DA2036B8A@greenbytes.de>
Date: Wed, 16 Mar 2016 12:08:00 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <954664CF-5874-4C54-AF76-6FAC186AEE7B@greenbytes.de>
References: <20160315231343.9BD213A0470@svn01-us-west.apache.org> <56E92775.1010606@apache.org> <5C1C84E0-F3DA-4EB2-8028-4CF6E8AC2C0A@greenbytes.de> <4D0F7D19-2100-4150-BEDA-5B6DA2036B8A@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

I needed to revert r1735174 to make HTTP/1.1 work again. I submitted =
this to trunk since other people are affected too.

Graham: if you are unable to reproduce this and need any additional =
data, pls let me know.

-Stefan

> Am 16.03.2016 um 11:52 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>=20
> Reverting that change, it still does not handle h1. Digging...
>=20
>> Am 16.03.2016 um 11:47 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>>=20
>> Only HTTP/2 connections seem to work right now.
>>=20
>> I mean, it's hard for me to complain, but that seems a bit much...
>>=20
>>> Am 16.03.2016 um 10:29 schrieb Ruediger Pluem <rpluem@apache.org>:
>>>=20
>>>=20
>>>=20
>>> On 03/16/2016 12:13 AM, minfrin@apache.org wrote:
>>>> Author: minfrin
>>>> Date: Tue Mar 15 23:13:43 2016
>>>> New Revision: 1735176
>>>>=20
>>>> URL: http://svn.apache.org/viewvc?rev=3D1735176&view=3Drev
>>>> Log:
>>>> mod_http: Make sure HTTP filters are added on HTTP requests only.
>>>>=20
>>>> Modified:
>>>>  httpd/httpd/trunk/CHANGES
>>>>  httpd/httpd/trunk/modules/http/http_core.c
>>>=20
>>> With this change in the test suite doesn't even start any longer but =
directly stalls.
>>>=20
>>> Regards
>>>=20
>>> R=C3=BCdiger
>>>=20
>>=20
>=20


From dev-return-85897-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 11:25:32 2016
Return-Path: <dev-return-85897-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0FBED189B7
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 11:25:32 +0000 (UTC)
Received: (qmail 48811 invoked by uid 500); 16 Mar 2016 11:25:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48748 invoked by uid 500); 16 Mar 2016 11:25:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48739 invoked by uid 99); 16 Mar 2016 11:25:31 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 11:25:31 +0000
Received: from gauss.localdomain (v4-86130a44.pool.vitroconnect.de [134.19.10.68])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id EA2AB1A0044
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 11:25:30 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id B21141A0
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 12:25:35 +0100 (CET)
Subject: Re: svn commit: r1735176 - in /httpd/httpd/trunk: CHANGES
 modules/http/http_core.c
To: dev@httpd.apache.org
References: <20160315231343.9BD213A0470@svn01-us-west.apache.org>
 <56E92775.1010606@apache.org>
 <5C1C84E0-F3DA-4EB2-8028-4CF6E8AC2C0A@greenbytes.de>
 <4D0F7D19-2100-4150-BEDA-5B6DA2036B8A@greenbytes.de>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56E942AF.8050104@apache.org>
Date: Wed, 16 Mar 2016 12:25:35 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:43.0) Gecko/20100101
 Firefox/43.0 SeaMonkey/2.40
MIME-Version: 1.0
In-Reply-To: <4D0F7D19-2100-4150-BEDA-5B6DA2036B8A@greenbytes.de>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Weird. It works fine for me again by just reverting r1735176.

Regards

Rdiger

On 03/16/2016 11:52 AM, Stefan Eissing wrote:
> Reverting that change, it still does not handle h1. Digging...
> 
>> Am 16.03.2016 um 11:47 schrieb Stefan Eissing <stefan.eissing@greenbytes.de>:
>>
>> Only HTTP/2 connections seem to work right now.
>>
>> I mean, it's hard for me to complain, but that seems a bit much...
>>
>>> Am 16.03.2016 um 10:29 schrieb Ruediger Pluem <rpluem@apache.org>:
>>>
>>>
>>>
>>> On 03/16/2016 12:13 AM, minfrin@apache.org wrote:
>>>> Author: minfrin
>>>> Date: Tue Mar 15 23:13:43 2016
>>>> New Revision: 1735176
>>>>
>>>> URL: http://svn.apache.org/viewvc?rev=1735176&view=rev
>>>> Log:
>>>> mod_http: Make sure HTTP filters are added on HTTP requests only.
>>>>
>>>> Modified:
>>>>   httpd/httpd/trunk/CHANGES
>>>>   httpd/httpd/trunk/modules/http/http_core.c
>>>
>>> With this change in the test suite doesn't even start any longer but directly stalls.
>>>
>>> Regards
>>>
>>> Rdiger
>>>
>>
> 
> 

From dev-return-85898-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 11:25:50 2016
Return-Path: <dev-return-85898-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 79916189C1
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 11:25:50 +0000 (UTC)
Received: (qmail 50237 invoked by uid 500); 16 Mar 2016 11:25:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50159 invoked by uid 500); 16 Mar 2016 11:25:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50145 invoked by uid 99); 16 Mar 2016 11:25:49 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 11:25:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 7DE79C2C50
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 11:25:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.002
X-Spam-Level:
X-Spam-Status: No, score=-0.002 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id b_YYkKZ4vc_A for <dev@httpd.apache.org>;
	Wed, 16 Mar 2016 11:25:48 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 3714E5FACD
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 11:25:48 +0000 (UTC)
Received: from [10.105.35.12] (unknown [5.56.169.80])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id DF917824BE
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 11:25:41 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1735176 - in /httpd/httpd/trunk: CHANGES modules/http/http_core.c
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <954664CF-5874-4C54-AF76-6FAC186AEE7B@greenbytes.de>
Date: Wed, 16 Mar 2016 13:25:39 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <4BDC493A-C154-44A8-B5DB-4BB0E95DFD3C@sharp.fm>
References: <20160315231343.9BD213A0470@svn01-us-west.apache.org> <56E92775.1010606@apache.org> <5C1C84E0-F3DA-4EB2-8028-4CF6E8AC2C0A@greenbytes.de> <4D0F7D19-2100-4150-BEDA-5B6DA2036B8A@greenbytes.de> <954664CF-5874-4C54-AF76-6FAC186AEE7B@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 16 Mar 2016, at 1:08 PM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:

> I needed to revert r1735174 to make HTTP/1.1 work again. I submitted =
this to trunk since other people are affected too.
>=20
> Graham: if you are unable to reproduce this and need any additional =
data, pls let me know.

The test suite runs clean for me - when it hangs can you confirm where =
it is hanging?

Regards,
Graham
=E2=80=94


From dev-return-85899-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 12:07:00 2016
Return-Path: <dev-return-85899-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 89E1418B01
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 12:07:00 +0000 (UTC)
Received: (qmail 18494 invoked by uid 500); 16 Mar 2016 12:06:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18428 invoked by uid 500); 16 Mar 2016 12:06:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18418 invoked by uid 99); 16 Mar 2016 12:06:58 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 12:06:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id DCD65C2C45
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 12:06:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001, WEIRD_PORT=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=eAQHOulL;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=G9oGWZB/
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id d1XgZpYtXEFG for <dev@httpd.apache.org>;
	Wed, 16 Mar 2016 12:06:55 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 2AE475FB15
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 12:06:55 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 8EDE715A08C0; Wed, 16 Mar 2016 13:06:53 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458130013; bh=eLPJdoc7gWc4vXZtB/qfiBrzEDonJZLRpNz/djkG3b8=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=eAQHOulLTIUZ49Y2miiCiDCFzj3SGlXpCBdOyv7dzavYKgFjtY4qsJb3ehbQOrZiA
	 M5HOd8Mm3KgOIXfNdwEmnXzz4KYDrLA28mFcn9x54Z7acF+0Kkg4w9muV96udFXsOP
	 wCKeFtn2QK0Hbpm/sxzPONEiHmktkiAT8hAIcKLk=
Received: from [192.168.1.48] (unknown [87.78.28.171])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 9E37215A0325
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 13:06:52 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458130012; bh=eLPJdoc7gWc4vXZtB/qfiBrzEDonJZLRpNz/djkG3b8=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=G9oGWZB/18ZTQ9aO5Ly2KhwFhQeNlcAFKtMDiTeg/0fTI+JHRxEr2Ck/PxgnCa/ZP
	 H7EYvyFpEGJH0AYJYztu86AM1WVL2npcq7LG6CwjGv2XlNgvxn/z6cRcdNkScrodA3
	 pz3C9EDi9eQsyV/w93WI1II373mnaDpRDzjyylcc=
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1735176 - in /httpd/httpd/trunk: CHANGES modules/http/http_core.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <4BDC493A-C154-44A8-B5DB-4BB0E95DFD3C@sharp.fm>
Date: Wed, 16 Mar 2016 13:06:51 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <AB41691C-C3F3-462B-AAC4-C6FF5DB67004@greenbytes.de>
References: <20160315231343.9BD213A0470@svn01-us-west.apache.org> <56E92775.1010606@apache.org> <5C1C84E0-F3DA-4EB2-8028-4CF6E8AC2C0A@greenbytes.de> <4D0F7D19-2100-4150-BEDA-5B6DA2036B8A@greenbytes.de> <954664CF-5874-4C54-AF76-6FAC186AEE7B@greenbytes.de> <4BDC493A-C154-44A8-B5DB-4BB0E95DFD3C@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

What I see here on a single process server (-X) for simplicity:

[Wed Mar 16 12:00:25.191155 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 0 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
[Wed Mar 16 12:00:26.218216 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 0 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
[Wed Mar 16 12:00:27.240436 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 0 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
[Wed Mar 16 12:00:28.267453 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 0 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
[Wed Mar 16 12:00:29.283653 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 0 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
[Wed Mar 16 12:00:30.286473 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 1 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
[Wed Mar 16 12:00:31.306868 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 1 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
[Wed Mar 16 12:00:32.331939 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 1 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)

when I connect via curl, but no response comes back:
12:59:58 delight:~/projects/httpd/test/mod_h2/trunk> =
/opt/apache-trunk/bin/curl -vvv http://test.example.org:12345
* Rebuilt URL to: http://test.example.org:12345/
*   Trying 127.0.0.1...
* Connected to test.example.org (127.0.0.1) port 12345 (#0)
> GET / HTTP/1.1
> Host: test.example.org:12345
> User-Agent: curl/7.47.1
> Accept: */*
>=20
^C

A direct HTTP/2 connection via nghttp works:

Wed Mar 16 12:02:31.967934 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(801): [client 127.0.0.1:58729] reinstate =
empty brigade to full brigade in 'core' output filter
[Wed Mar 16 12:02:31.967954 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(884): [client 127.0.0.1:58729] will flush =
because of FLUSH bucket
[Wed Mar 16 12:02:31.967959 2016] [core:trace8] [pid 95897:tid =
123145310887936] util_filter.c(886): [client 127.0.0.1:58729] seen in =
brigade so far: bytes: 37, non-file bytes: 37, eor buckets: 0, morphing =
buckets: 0
[Wed Mar 16 12:02:31.967964 2016] [core:trace8] [pid 95897:tid =
123145310887936] util_filter.c(910): [client 127.0.0.1:58729] brigade =
contains: bytes: 0, non-file bytes: 0, eor buckets: 0, morphing buckets: =
0
[Wed Mar 16 12:02:31.967980 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(446): [client 127.0.0.1:58729] flushing =
now
[Wed Mar 16 12:02:31.967964 2016] [http:trace4] [pid 95897:tid =
123145302839296] http_request.c(398): [client 127.0.0.1:58729] Headers =
received from client:
[Wed Mar 16 12:02:31.967998 2016] [http:trace4] [pid 95897:tid =
123145302839296] http_request.c(401): [client 127.0.0.1:58729]   Accept: =
*/*
[Wed Mar 16 12:02:31.968009 2016] [http:trace4] [pid 95897:tid =
123145302839296] http_request.c(401): [client 127.0.0.1:58729]   =
Accept-Encoding: gzip, deflate
[Wed Mar 16 12:02:31.968004 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(460): [client 127.0.0.1:58729] total =
bytes written: 37
[Wed Mar 16 12:02:31.968027 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(480): [client 127.0.0.1:58729] tried =
nonblocking write, total bytes written: 37
[Wed Mar 16 12:02:31.968036 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(741): [client 127.0.0.1:58729] setaside =
empty brigade to empty brigade in 'core' output filter
[Wed Mar 16 12:02:31.968017 2016] [http:trace4] [pid 95897:tid =
123145302839296] http_request.c(401): [client 127.0.0.1:58729]   =
User-Agent: nghttp2/1.8.0
[Wed Mar 16 12:02:31.968051 2016] [http:trace4] [pid 95897:tid =
123145302839296] http_request.c(401): [client 127.0.0.1:58729]   Host: =
test.example.org:12345
[Wed Mar 16 12:02:31.968110 2016] [rewrite:trace2] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e56a0/initial] init =
rewrite engine with requested uri /
[Wed Mar 16 12:02:31.968120 2016] [rewrite:trace3] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e56a0/initial] =
applying pattern '^/latest.tar.gz$' to uri '/'
[Wed Mar 16 12:02:31.968154 2016] [rewrite:trace3] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e56a0/initial] =
applying pattern '/rewrite(.*)' to uri '/'
[Wed Mar 16 12:02:31.968162 2016] [rewrite:trace3] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e56a0/initial] =
applying pattern '/redirect(.*)' to uri '/'
[Wed Mar 16 12:02:31.968168 2016] [rewrite:trace1] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e56a0/initial] pass =
through /
[Wed Mar 16 12:02:31.968258 2016] [authz_core:debug] [pid 95897:tid =
123145302839296] mod_authz_core.c(806): [client 127.0.0.1:58729] =
AH01626: authorization result of Require all granted: granted
[Wed Mar 16 12:02:31.968267 2016] [authz_core:debug] [pid 95897:tid =
123145302839296] mod_authz_core.c(806): [client 127.0.0.1:58729] =
AH01626: authorization result of <RequireAny>: granted
[Wed Mar 16 12:02:31.968271 2016] [core:trace3] [pid 95897:tid =
123145302839296] request.c(295): [client 127.0.0.1:58729] request =
authorized without authentication by access_checker_ex hook: /
[Wed Mar 16 12:02:31.968296 2016] [rewrite:trace2] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e96a0/subreq] init =
rewrite engine with requested uri /index.html
[Wed Mar 16 12:02:31.968304 2016] [rewrite:trace3] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e96a0/subreq] =
applying pattern '/rewrite(.*)' to uri '/index.html'
[Wed Mar 16 12:02:31.968317 2016] [rewrite:trace3] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e96a0/subreq] =
applying pattern '/redirect(.*)' to uri '/index.html'
[Wed Mar 16 12:02:31.968324 2016] [rewrite:trace1] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e96a0/subreq] pass =
through /index.html
[Wed Mar 16 12:02:31.968542 2016] [core:trace6] [pid 95897:tid =
123145302839296] util_filter.c(801): [client 127.0.0.1:58729] reinstate =
empty brigade to full brigade in 'req_core' output filter
[Wed Mar 16 12:02:31.968554 2016] [core:trace8] [pid 95897:tid =
123145302839296] util_filter.c(910): [client 127.0.0.1:58729] brigade =
contains: bytes: 2005, non-file bytes: 0, eor buckets: 0, morphing =
buckets: 0
[Wed Mar 16 12:02:31.968613 2016] [core:trace6] [pid 95897:tid =
123145302839296] util_filter.c(741): [client 127.0.0.1:58729] setaside =
empty brigade to empty brigade in 'req_core' output filter
[Wed Mar 16 12:02:31.968633 2016] [core:trace6] [pid 95897:tid =
123145302839296] util_filter.c(801): [client 127.0.0.1:58729] reinstate =
empty brigade to full brigade in 'req_core' output filter
[Wed Mar 16 12:02:31.968644 2016] [core:trace8] [pid 95897:tid =
123145302839296] util_filter.c(910): [client 127.0.0.1:58729] brigade =
contains: bytes: 0, non-file bytes: 0, eor buckets: 1, morphing buckets: =
0
[Wed Mar 16 12:02:31.968666 2016] [core:trace6] [pid 95897:tid =
123145302839296] util_filter.c(741): [client 127.0.0.1:58729] setaside =
empty brigade to empty brigade in 'req_core' output filter
[Wed Mar 16 12:02:31.968673 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(801): [client 127.0.0.1:58729] reinstate =
empty brigade to full brigade in 'core' output filter
[Wed Mar 16 12:02:31.968697 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(884): [client 127.0.0.1:58729] will flush =
because of FLUSH bucket
[Wed Mar 16 12:02:31.968705 2016] [core:trace8] [pid 95897:tid =
123145310887936] util_filter.c(886): [client 127.0.0.1:58729] seen in =
brigade so far: bytes: 2142, non-file bytes: 137, eor buckets: 0, =
morphing buckets: 0
[Wed Mar 16 12:02:31.968711 2016] [core:trace8] [pid 95897:tid =
123145310887936] util_filter.c(910): [client 127.0.0.1:58729] brigade =
contains: bytes: 0, non-file bytes: 0, eor buckets: 0, morphing buckets: =
0
[Wed Mar 16 12:02:31.968716 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(446): [client 127.0.0.1:58729] flushing =
now
[Wed Mar 16 12:02:31.968766 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(460): [client 127.0.0.1:58729] total =
bytes written: 2179
[Wed Mar 16 12:02:31.968774 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(480): [client 127.0.0.1:58729] tried =
nonblocking write, total bytes written: 2179
[Wed Mar 16 12:02:31.968779 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(741): [client 127.0.0.1:58729] setaside =
empty brigade to empty brigade in 'core' output filter
[Wed Mar 16 12:02:31.969067 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(801): [client 127.0.0.1:58729] reinstate =
empty brigade to full brigade in 'core' output filter
[Wed Mar 16 12:02:31.969077 2016] [core:trace8] [pid 95897:tid =
123145310887936] util_filter.c(910): [client 127.0.0.1:58729] brigade =
contains: bytes: 0, non-file bytes: 0, eor buckets: 0, morphing buckets: =
0
[Wed Mar 16 12:02:31.969098 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(480): [client 127.0.0.1:58729] tried =
nonblocking write, total bytes written: 2179
[Wed Mar 16 12:02:31.969103 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(741): [client 127.0.0.1:58729] setaside =
empty brigade to empty brigade in 'core' output filter
[Wed Mar 16 12:02:31.969112 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(801): [client 127.0.0.1:58729] reinstate =
empty brigade to full brigade in 'core' output filter
[Wed Mar 16 12:02:31.969130 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(884): [client 127.0.0.1:58729] will flush =
because of FLUSH bucket
[Wed Mar 16 12:02:31.969135 2016] [core:trace8] [pid 95897:tid =
123145310887936] util_filter.c(886): [client 127.0.0.1:58729] seen in =
brigade so far: bytes: 0, non-file bytes: 0, eor buckets: 0, morphing =
buckets: 0
[Wed Mar 16 12:02:31.969142 2016] [core:trace8] [pid 95897:tid =
123145310887936] util_filter.c(910): [client 127.0.0.1:58729] brigade =
contains: bytes: 0, non-file bytes: 0, eor buckets: 0, morphing buckets: =
0
[Wed Mar 16 12:02:31.969157 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(446): [client 127.0.0.1:58729] flushing =
now
[Wed Mar 16 12:02:31.969164 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(460): [client 127.0.0.1:58729] total =
bytes written: 2179
[Wed Mar 16 12:02:31.969170 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(480): [client 127.0.0.1:58729] tried =
nonblocking write, total bytes written: 2179
[Wed Mar 16 12:02:31.969179 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(741): [client 127.0.0.1:58729] setaside =
empty brigade to empty brigade in 'core' output filter
[Wed Mar 16 12:02:32.594197 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 1 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
[Wed Mar 16 12:02:33.640128 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 1 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
[Wed Mar 16 12:02:34.663879 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 1 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
[
> Am 16.03.2016 um 12:25 schrieb Graham Leggett <minfrin@sharp.fm>:
>=20
> On 16 Mar 2016, at 1:08 PM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
>> I needed to revert r1735174 to make HTTP/1.1 work again. I submitted =
this to trunk since other people are affected too.
>>=20
>> Graham: if you are unable to reproduce this and need any additional =
data, pls let me know.
>=20
> The test suite runs clean for me - when it hangs can you confirm where =
it is hanging?
>=20
> Regards,
> Graham
> =E2=80=94
>=20


From dev-return-85900-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 12:15:03 2016
Return-Path: <dev-return-85900-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 530B518B4A
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 12:15:03 +0000 (UTC)
Received: (qmail 38694 invoked by uid 500); 16 Mar 2016 12:15:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38627 invoked by uid 500); 16 Mar 2016 12:15:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38617 invoked by uid 99); 16 Mar 2016 12:15:02 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 12:15:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 4B25BC059B
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 12:15:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001, WEIRD_PORT=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=qHSEVsA8;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=mwBy/eow
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id MezQJy4UoVpm for <dev@httpd.apache.org>;
	Wed, 16 Mar 2016 12:14:59 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id BAAE75F5A1
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 12:14:58 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 52F2915A08C0; Wed, 16 Mar 2016 13:14:58 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458130498; bh=9gDCGhiToLDWOGJS/aW25hr4+wBkjPXXByCfewW2NAg=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=qHSEVsA8045p6RAN4r9+t6O1JQ9IgYTG5zwXDg8nEY7NssUM0Xa/23z4sF3FlPgK5
	 fqpBW7gCgSEDltpAQ1FYCUoJuAqPJsmSAZr9i0EbvqKcxKHuKkLUpSCNuxh6BMpHmt
	 dUeTnv/yR7aHigBTfvOj/Me1M9qYDFLKMen/xNf8=
Received: from [192.168.1.48] (unknown [87.78.28.171])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id A27C515A031B
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 13:14:56 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458130496; bh=9gDCGhiToLDWOGJS/aW25hr4+wBkjPXXByCfewW2NAg=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=mwBy/eowahxrXFPI9B6cw7Bdbe0uDAjXu2tLYzmtuY3wSq1Y0AQckWIcs8WJKUCG0
	 kzZurTP+JQFOlwm/0EOdQqXYucB2+Ead+WYPxcT2I8L3lcb99WTq4WAasXhy3ythU2
	 tYYp+IV1jjUwcZdvQcXG01HAPLZnht39lTjkxAUg=
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1735176 - in /httpd/httpd/trunk: CHANGES modules/http/http_core.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <AB41691C-C3F3-462B-AAC4-C6FF5DB67004@greenbytes.de>
Date: Wed, 16 Mar 2016 13:14:55 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <66526E75-C9CE-4CC3-8730-5C251CAD3566@greenbytes.de>
References: <20160315231343.9BD213A0470@svn01-us-west.apache.org> <56E92775.1010606@apache.org> <5C1C84E0-F3DA-4EB2-8028-4CF6E8AC2C0A@greenbytes.de> <4D0F7D19-2100-4150-BEDA-5B6DA2036B8A@greenbytes.de> <954664CF-5874-4C54-AF76-6FAC186AEE7B@greenbytes.de> <4BDC493A-C154-44A8-B5DB-4BB0E95DFD3C@sharp.fm> <AB41691C-C3F3-462B-AAC4-C6FF5DB67004@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Same on OS X 15.3 as well as my Ubuntu 14.04 image

> Am 16.03.2016 um 13:06 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>=20
> What I see here on a single process server (-X) for simplicity:
>=20
> [Wed Mar 16 12:00:25.191155 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 0 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
> [Wed Mar 16 12:00:26.218216 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 0 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
> [Wed Mar 16 12:00:27.240436 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 0 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
> [Wed Mar 16 12:00:28.267453 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 0 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
> [Wed Mar 16 12:00:29.283653 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 0 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
> [Wed Mar 16 12:00:30.286473 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 1 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
> [Wed Mar 16 12:00:31.306868 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 1 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
> [Wed Mar 16 12:00:32.331939 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 1 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
>=20
> when I connect via curl, but no response comes back:
> 12:59:58 delight:~/projects/httpd/test/mod_h2/trunk> =
/opt/apache-trunk/bin/curl -vvv http://test.example.org:12345
> * Rebuilt URL to: http://test.example.org:12345/
> *   Trying 127.0.0.1...
> * Connected to test.example.org (127.0.0.1) port 12345 (#0)
>> GET / HTTP/1.1
>> Host: test.example.org:12345
>> User-Agent: curl/7.47.1
>> Accept: */*
>>=20
> ^C
>=20
> A direct HTTP/2 connection via nghttp works:
>=20
> Wed Mar 16 12:02:31.967934 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(801): [client 127.0.0.1:58729] reinstate =
empty brigade to full brigade in 'core' output filter
> [Wed Mar 16 12:02:31.967954 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(884): [client 127.0.0.1:58729] will flush =
because of FLUSH bucket
> [Wed Mar 16 12:02:31.967959 2016] [core:trace8] [pid 95897:tid =
123145310887936] util_filter.c(886): [client 127.0.0.1:58729] seen in =
brigade so far: bytes: 37, non-file bytes: 37, eor buckets: 0, morphing =
buckets: 0
> [Wed Mar 16 12:02:31.967964 2016] [core:trace8] [pid 95897:tid =
123145310887936] util_filter.c(910): [client 127.0.0.1:58729] brigade =
contains: bytes: 0, non-file bytes: 0, eor buckets: 0, morphing buckets: =
0
> [Wed Mar 16 12:02:31.967980 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(446): [client 127.0.0.1:58729] flushing =
now
> [Wed Mar 16 12:02:31.967964 2016] [http:trace4] [pid 95897:tid =
123145302839296] http_request.c(398): [client 127.0.0.1:58729] Headers =
received from client:
> [Wed Mar 16 12:02:31.967998 2016] [http:trace4] [pid 95897:tid =
123145302839296] http_request.c(401): [client 127.0.0.1:58729]   Accept: =
*/*
> [Wed Mar 16 12:02:31.968009 2016] [http:trace4] [pid 95897:tid =
123145302839296] http_request.c(401): [client 127.0.0.1:58729]   =
Accept-Encoding: gzip, deflate
> [Wed Mar 16 12:02:31.968004 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(460): [client 127.0.0.1:58729] total =
bytes written: 37
> [Wed Mar 16 12:02:31.968027 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(480): [client 127.0.0.1:58729] tried =
nonblocking write, total bytes written: 37
> [Wed Mar 16 12:02:31.968036 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(741): [client 127.0.0.1:58729] setaside =
empty brigade to empty brigade in 'core' output filter
> [Wed Mar 16 12:02:31.968017 2016] [http:trace4] [pid 95897:tid =
123145302839296] http_request.c(401): [client 127.0.0.1:58729]   =
User-Agent: nghttp2/1.8.0
> [Wed Mar 16 12:02:31.968051 2016] [http:trace4] [pid 95897:tid =
123145302839296] http_request.c(401): [client 127.0.0.1:58729]   Host: =
test.example.org:12345
> [Wed Mar 16 12:02:31.968110 2016] [rewrite:trace2] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e56a0/initial] init =
rewrite engine with requested uri /
> [Wed Mar 16 12:02:31.968120 2016] [rewrite:trace3] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e56a0/initial] =
applying pattern '^/latest.tar.gz$' to uri '/'
> [Wed Mar 16 12:02:31.968154 2016] [rewrite:trace3] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e56a0/initial] =
applying pattern '/rewrite(.*)' to uri '/'
> [Wed Mar 16 12:02:31.968162 2016] [rewrite:trace3] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e56a0/initial] =
applying pattern '/redirect(.*)' to uri '/'
> [Wed Mar 16 12:02:31.968168 2016] [rewrite:trace1] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e56a0/initial] pass =
through /
> [Wed Mar 16 12:02:31.968258 2016] [authz_core:debug] [pid 95897:tid =
123145302839296] mod_authz_core.c(806): [client 127.0.0.1:58729] =
AH01626: authorization result of Require all granted: granted
> [Wed Mar 16 12:02:31.968267 2016] [authz_core:debug] [pid 95897:tid =
123145302839296] mod_authz_core.c(806): [client 127.0.0.1:58729] =
AH01626: authorization result of <RequireAny>: granted
> [Wed Mar 16 12:02:31.968271 2016] [core:trace3] [pid 95897:tid =
123145302839296] request.c(295): [client 127.0.0.1:58729] request =
authorized without authentication by access_checker_ex hook: /
> [Wed Mar 16 12:02:31.968296 2016] [rewrite:trace2] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e96a0/subreq] init =
rewrite engine with requested uri /index.html
> [Wed Mar 16 12:02:31.968304 2016] [rewrite:trace3] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e96a0/subreq] =
applying pattern '/rewrite(.*)' to uri '/index.html'
> [Wed Mar 16 12:02:31.968317 2016] [rewrite:trace3] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e96a0/subreq] =
applying pattern '/redirect(.*)' to uri '/index.html'
> [Wed Mar 16 12:02:31.968324 2016] [rewrite:trace1] [pid 95897:tid =
123145302839296] mod_rewrite.c(485): [client 127.0.0.1:58729] 127.0.0.1 =
- - [test.example.org/sid#7fd4318a6b78][rid#7fd4318e96a0/subreq] pass =
through /index.html
> [Wed Mar 16 12:02:31.968542 2016] [core:trace6] [pid 95897:tid =
123145302839296] util_filter.c(801): [client 127.0.0.1:58729] reinstate =
empty brigade to full brigade in 'req_core' output filter
> [Wed Mar 16 12:02:31.968554 2016] [core:trace8] [pid 95897:tid =
123145302839296] util_filter.c(910): [client 127.0.0.1:58729] brigade =
contains: bytes: 2005, non-file bytes: 0, eor buckets: 0, morphing =
buckets: 0
> [Wed Mar 16 12:02:31.968613 2016] [core:trace6] [pid 95897:tid =
123145302839296] util_filter.c(741): [client 127.0.0.1:58729] setaside =
empty brigade to empty brigade in 'req_core' output filter
> [Wed Mar 16 12:02:31.968633 2016] [core:trace6] [pid 95897:tid =
123145302839296] util_filter.c(801): [client 127.0.0.1:58729] reinstate =
empty brigade to full brigade in 'req_core' output filter
> [Wed Mar 16 12:02:31.968644 2016] [core:trace8] [pid 95897:tid =
123145302839296] util_filter.c(910): [client 127.0.0.1:58729] brigade =
contains: bytes: 0, non-file bytes: 0, eor buckets: 1, morphing buckets: =
0
> [Wed Mar 16 12:02:31.968666 2016] [core:trace6] [pid 95897:tid =
123145302839296] util_filter.c(741): [client 127.0.0.1:58729] setaside =
empty brigade to empty brigade in 'req_core' output filter
> [Wed Mar 16 12:02:31.968673 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(801): [client 127.0.0.1:58729] reinstate =
empty brigade to full brigade in 'core' output filter
> [Wed Mar 16 12:02:31.968697 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(884): [client 127.0.0.1:58729] will flush =
because of FLUSH bucket
> [Wed Mar 16 12:02:31.968705 2016] [core:trace8] [pid 95897:tid =
123145310887936] util_filter.c(886): [client 127.0.0.1:58729] seen in =
brigade so far: bytes: 2142, non-file bytes: 137, eor buckets: 0, =
morphing buckets: 0
> [Wed Mar 16 12:02:31.968711 2016] [core:trace8] [pid 95897:tid =
123145310887936] util_filter.c(910): [client 127.0.0.1:58729] brigade =
contains: bytes: 0, non-file bytes: 0, eor buckets: 0, morphing buckets: =
0
> [Wed Mar 16 12:02:31.968716 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(446): [client 127.0.0.1:58729] flushing =
now
> [Wed Mar 16 12:02:31.968766 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(460): [client 127.0.0.1:58729] total =
bytes written: 2179
> [Wed Mar 16 12:02:31.968774 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(480): [client 127.0.0.1:58729] tried =
nonblocking write, total bytes written: 2179
> [Wed Mar 16 12:02:31.968779 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(741): [client 127.0.0.1:58729] setaside =
empty brigade to empty brigade in 'core' output filter
> [Wed Mar 16 12:02:31.969067 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(801): [client 127.0.0.1:58729] reinstate =
empty brigade to full brigade in 'core' output filter
> [Wed Mar 16 12:02:31.969077 2016] [core:trace8] [pid 95897:tid =
123145310887936] util_filter.c(910): [client 127.0.0.1:58729] brigade =
contains: bytes: 0, non-file bytes: 0, eor buckets: 0, morphing buckets: =
0
> [Wed Mar 16 12:02:31.969098 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(480): [client 127.0.0.1:58729] tried =
nonblocking write, total bytes written: 2179
> [Wed Mar 16 12:02:31.969103 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(741): [client 127.0.0.1:58729] setaside =
empty brigade to empty brigade in 'core' output filter
> [Wed Mar 16 12:02:31.969112 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(801): [client 127.0.0.1:58729] reinstate =
empty brigade to full brigade in 'core' output filter
> [Wed Mar 16 12:02:31.969130 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(884): [client 127.0.0.1:58729] will flush =
because of FLUSH bucket
> [Wed Mar 16 12:02:31.969135 2016] [core:trace8] [pid 95897:tid =
123145310887936] util_filter.c(886): [client 127.0.0.1:58729] seen in =
brigade so far: bytes: 0, non-file bytes: 0, eor buckets: 0, morphing =
buckets: 0
> [Wed Mar 16 12:02:31.969142 2016] [core:trace8] [pid 95897:tid =
123145310887936] util_filter.c(910): [client 127.0.0.1:58729] brigade =
contains: bytes: 0, non-file bytes: 0, eor buckets: 0, morphing buckets: =
0
> [Wed Mar 16 12:02:31.969157 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(446): [client 127.0.0.1:58729] flushing =
now
> [Wed Mar 16 12:02:31.969164 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(460): [client 127.0.0.1:58729] total =
bytes written: 2179
> [Wed Mar 16 12:02:31.969170 2016] [core:trace8] [pid 95897:tid =
123145310887936] core_filters.c(480): [client 127.0.0.1:58729] tried =
nonblocking write, total bytes written: 2179
> [Wed Mar 16 12:02:31.969179 2016] [core:trace6] [pid 95897:tid =
123145310887936] util_filter.c(741): [client 127.0.0.1:58729] setaside =
empty brigade to empty brigade in 'core' output filter
> [Wed Mar 16 12:02:32.594197 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 1 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
> [Wed Mar 16 12:02:33.640128 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 1 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
> [Wed Mar 16 12:02:34.663879 2016] [mpm_event:trace6] [pid 95897:tid =
123145323229184] event.c(1779): connections: 1 (clogged: 0 =
write-completion: 0 keep-alive: 0 lingering: 0 suspended: 0)
> [
>> Am 16.03.2016 um 12:25 schrieb Graham Leggett <minfrin@sharp.fm>:
>>=20
>> On 16 Mar 2016, at 1:08 PM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>>=20
>>> I needed to revert r1735174 to make HTTP/1.1 work again. I submitted =
this to trunk since other people are affected too.
>>>=20
>>> Graham: if you are unable to reproduce this and need any additional =
data, pls let me know.
>>=20
>> The test suite runs clean for me - when it hangs can you confirm =
where it is hanging?
>>=20
>> Regards,
>> Graham
>> =E2=80=94
>>=20
>=20


From dev-return-85901-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 12:15:16 2016
Return-Path: <dev-return-85901-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0EBA918B4E
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 12:15:16 +0000 (UTC)
Received: (qmail 39953 invoked by uid 500); 16 Mar 2016 12:15:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39884 invoked by uid 500); 16 Mar 2016 12:15:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39874 invoked by uid 99); 16 Mar 2016 12:15:15 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 12:15:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 28888C2C48
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 12:15:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id MPD73zyJ_FAE for <dev@httpd.apache.org>;
	Wed, 16 Mar 2016 12:15:14 +0000 (UTC)
Received: from mail-qg0-f42.google.com (mail-qg0-f42.google.com [209.85.192.42])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 3DEF95FB3A
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 12:15:14 +0000 (UTC)
Received: by mail-qg0-f42.google.com with SMTP id w104so40780149qge.1
        for <dev@httpd.apache.org>; Wed, 16 Mar 2016 05:15:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=G5H6A5Tf40jgVxEN76BeNoaR6vah9qZMe6iNT4RqXDo=;
        b=GAcdSOaicUvP76t3k6SfVhtx7WYfOJsM2bxBoIzi3xO4G8l9HxH0Zwg/Oz9gB0k570
         AgdmtxzQjECGaNez3m+uud8jVziHsxB1/NMT7ijU+trdMefKZzX044WT25GPFyCBUlQZ
         uEdYjI6SxiHNsKw2qg97Bsi5hE0b+1YhhR1eC09sNXZPhrSJ+JR7MsdCYc2R4UOHUHhV
         91OCZDuSWNeGFt8QodoZsuG/2b4tLi17hBQbxVs68EbmBIFIDzs2GxFABqUJSw6jKH2R
         Neab6cXajd3HptA38tHbWmfNzRxynlIrSOhOdx53UZZCvYDUMtfPAQPCIFoQysbbGlH6
         DywA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=G5H6A5Tf40jgVxEN76BeNoaR6vah9qZMe6iNT4RqXDo=;
        b=Xf/TygOHmITBcmI+58oImnDpIrHtaXe1GlbMv+MhbbUvtOWG04JImS60hwTtj1WFw2
         7S1VgVhgSd5Bxjq6pUnMpukkTJ3SgEsI1cm5E5nEBSjrRG1gNU8aLgjOfeLeCvb2eDml
         uNiXxrLuN0Oma9eJExzs0c1GDDbaVa2XS91Il2T+1sVN6iRHJaEWaS6KIk1Uvv3vxZ6A
         XofZH+4WGxxff3L3C+Cy2eh/s+AdfWRwSCcZOwaG1uspwAo4WBjDyR0TryO8HE+W6Xvs
         DQTL/7TPEUG2LXGQR4mTE7isagmpvMeQ1sm6Wjrtk4KMwKBFJCNINN+hed9qU9foofh7
         wGnw==
X-Gm-Message-State: AD7BkJLsQ1K3JmkVZjQ2qENp2WnXzp9IPG/iwEac74ezt4xcURAkuzjuJhgZBgr0i6rKIWvSEpGzQwq3DKLx0Q==
MIME-Version: 1.0
X-Received: by 10.140.164.71 with SMTP id k68mr4816146qhk.97.1458130513493;
 Wed, 16 Mar 2016 05:15:13 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Wed, 16 Mar 2016 05:15:13 -0700 (PDT)
In-Reply-To: <20160316110629.134DA3A0184@svn01-us-west.apache.org>
References: <20160316110629.134DA3A0184@svn01-us-west.apache.org>
Date: Wed, 16 Mar 2016 13:15:13 +0100
Message-ID: <CAKQ1sVNnj7vzungf0EmSKskybbFABs2FD=OCsF6GYR=0350XtA@mail.gmail.com>
Subject: Re: svn commit: r1735216 - in /httpd/httpd/trunk: CHANGES
 include/ap_mmn.h include/ap_mpm.h include/mpm_common.h modules/proxy/mod_proxy_wstunnel.c
 server/mpm/event/event.c server/mpm/event/fdqueue.h server/mpm_common.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 16, 2016 at 12:06 PM,  <icing@apache.org> wrote:
> Author: icing
> Date: Wed Mar 16 11:06:28 2016
> New Revision: 1735216
>
> URL: http://svn.apache.org/viewvc?rev=1735216&view=rev
> Log:
> reverting r1735174 as http/1.1 just terminated before response

Hmm, not sure to understand.
Didn't you mean to revert r1735176 instead?

From dev-return-85902-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 12:23:13 2016
Return-Path: <dev-return-85902-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5EDB918B98
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 12:23:13 +0000 (UTC)
Received: (qmail 53452 invoked by uid 500); 16 Mar 2016 12:23:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53370 invoked by uid 500); 16 Mar 2016 12:23:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53360 invoked by uid 99); 16 Mar 2016 12:23:12 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 12:23:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 3EAD61804A3
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 12:23:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=hHaHXZni;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=hHaHXZni
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ewA7YuiiGfWp for <dev@httpd.apache.org>;
	Wed, 16 Mar 2016 12:23:11 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id C08E55F5A1
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 12:23:10 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 61FEE15A08C0; Wed, 16 Mar 2016 13:23:10 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458130990; bh=bl+4m3diNdFpbP5Z9f5xzsiDj3pWuqRncBMTU1a2coI=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=hHaHXZniJJRIN+Ev8SBWrvBjKmSgQjZq1x7Rxf1ABKCrAoeezXcpwLm1Ly0MYg/kh
	 DWSLo/c4fY/tQSJOakaqRfvXBaEdH2flxHbbXqKHwPWXT8Fjf31jHUe/s8DiWcUND6
	 F9i8LVhS3NbMIWIi4hDqzL56wvtyIkp6Qk9B7wrk=
Received: from [192.168.1.48] (unknown [87.78.28.171])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 1F2F515A031B
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 13:23:10 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458130990; bh=bl+4m3diNdFpbP5Z9f5xzsiDj3pWuqRncBMTU1a2coI=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=hHaHXZniJJRIN+Ev8SBWrvBjKmSgQjZq1x7Rxf1ABKCrAoeezXcpwLm1Ly0MYg/kh
	 DWSLo/c4fY/tQSJOakaqRfvXBaEdH2flxHbbXqKHwPWXT8Fjf31jHUe/s8DiWcUND6
	 F9i8LVhS3NbMIWIi4hDqzL56wvtyIkp6Qk9B7wrk=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1735216 - in /httpd/httpd/trunk: CHANGES include/ap_mmn.h include/ap_mpm.h include/mpm_common.h modules/proxy/mod_proxy_wstunnel.c server/mpm/event/event.c server/mpm/event/fdqueue.h server/mpm_common.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVNnj7vzungf0EmSKskybbFABs2FD=OCsF6GYR=0350XtA@mail.gmail.com>
Date: Wed, 16 Mar 2016 13:23:09 +0100
Content-Transfer-Encoding: 7bit
Message-Id: <AFF71C9A-642E-4803-A78D-CC866AA2CB39@greenbytes.de>
References: <20160316110629.134DA3A0184@svn01-us-west.apache.org> <CAKQ1sVNnj7vzungf0EmSKskybbFABs2FD=OCsF6GYR=0350XtA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Testing again to verify...

> Am 16.03.2016 um 13:15 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
> 
> On Wed, Mar 16, 2016 at 12:06 PM,  <icing@apache.org> wrote:
>> Author: icing
>> Date: Wed Mar 16 11:06:28 2016
>> New Revision: 1735216
>> 
>> URL: http://svn.apache.org/viewvc?rev=1735216&view=rev
>> Log:
>> reverting r1735174 as http/1.1 just terminated before response
> 
> Hmm, not sure to understand.
> Didn't you mean to revert r1735176 instead?


From dev-return-85903-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 12:50:01 2016
Return-Path: <dev-return-85903-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D847E18C45
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 12:50:01 +0000 (UTC)
Received: (qmail 2865 invoked by uid 500); 16 Mar 2016 12:50:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2627 invoked by uid 500); 16 Mar 2016 12:50:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2617 invoked by uid 99); 16 Mar 2016 12:50:00 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 12:50:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 613E018048C
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 12:50:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=LUq6BuVS;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=LUq6BuVS
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id JetN8TnH662l for <dev@httpd.apache.org>;
	Wed, 16 Mar 2016 12:49:58 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 423955FB15
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 12:49:58 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id B75C315A08C0; Wed, 16 Mar 2016 13:49:56 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458132596; bh=r7+ZF0ev/ROB5FTXPU71CKzCr0f7gUNF6GwHUgRfLxQ=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=LUq6BuVSgxutgu4CDA2sGlVcuHVzlhHHnrtsCc1niurn4GtCCt0XkT1miza7i7RCe
	 X9tJEk1J1HQxVEg/1LCdE+YyTpsMRZwUAtFvA4CeCXMWzugDhPmUABqMS2usXqH5O9
	 RKXUYfGqGTAwilg9aGqrSytocdmOQ0s4HO4Yd/5w=
Received: from [192.168.1.48] (unknown [87.78.28.171])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 54BEF15A04BF
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 13:49:56 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458132596; bh=r7+ZF0ev/ROB5FTXPU71CKzCr0f7gUNF6GwHUgRfLxQ=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=LUq6BuVSgxutgu4CDA2sGlVcuHVzlhHHnrtsCc1niurn4GtCCt0XkT1miza7i7RCe
	 X9tJEk1J1HQxVEg/1LCdE+YyTpsMRZwUAtFvA4CeCXMWzugDhPmUABqMS2usXqH5O9
	 RKXUYfGqGTAwilg9aGqrSytocdmOQ0s4HO4Yd/5w=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1735216 - in /httpd/httpd/trunk: CHANGES include/ap_mmn.h include/ap_mpm.h include/mpm_common.h modules/proxy/mod_proxy_wstunnel.c server/mpm/event/event.c server/mpm/event/fdqueue.h server/mpm_common.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <AFF71C9A-642E-4803-A78D-CC866AA2CB39@greenbytes.de>
Date: Wed, 16 Mar 2016 13:49:55 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <7DD1B324-D0E1-47F2-80FD-681705BA2957@greenbytes.de>
References: <20160316110629.134DA3A0184@svn01-us-west.apache.org> <CAKQ1sVNnj7vzungf0EmSKskybbFABs2FD=OCsF6GYR=0350XtA@mail.gmail.com> <AFF71C9A-642E-4803-A78D-CC866AA2CB39@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

I am very confused right now. Nothing makes sense.

Can someone who is certain check in a trunk that is working for him?

> Am 16.03.2016 um 13:23 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>=20
> Testing again to verify...
>=20
>> Am 16.03.2016 um 13:15 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>=20
>> On Wed, Mar 16, 2016 at 12:06 PM,  <icing@apache.org> wrote:
>>> Author: icing
>>> Date: Wed Mar 16 11:06:28 2016
>>> New Revision: 1735216
>>>=20
>>> URL: http://svn.apache.org/viewvc?rev=3D1735216&view=3Drev
>>> Log:
>>> reverting r1735174 as http/1.1 just terminated before response
>>=20
>> Hmm, not sure to understand.
>> Didn't you mean to revert r1735176 instead?
>=20


From dev-return-85904-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 12:54:59 2016
Return-Path: <dev-return-85904-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EF2A618C6A
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 12:54:59 +0000 (UTC)
Received: (qmail 16261 invoked by uid 500); 16 Mar 2016 12:54:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16184 invoked by uid 500); 16 Mar 2016 12:54:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16175 invoked by uid 99); 16 Mar 2016 12:54:59 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 12:54:59 +0000
Received: from gauss.localdomain (v4-86130a44.pool.vitroconnect.de [134.19.10.68])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id CF6821A0163
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 12:54:58 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id D47C41A0
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 13:55:03 +0100 (CET)
Subject: Re: svn commit: r1735216 - in /httpd/httpd/trunk: CHANGES
 include/ap_mmn.h include/ap_mpm.h include/mpm_common.h
 modules/proxy/mod_proxy_wstunnel.c server/mpm/event/event.c
 server/mpm/event/fdqueue.h server/mpm_common.c
To: dev@httpd.apache.org
References: <20160316110629.134DA3A0184@svn01-us-west.apache.org>
 <CAKQ1sVNnj7vzungf0EmSKskybbFABs2FD=OCsF6GYR=0350XtA@mail.gmail.com>
 <AFF71C9A-642E-4803-A78D-CC866AA2CB39@greenbytes.de>
 <7DD1B324-D0E1-47F2-80FD-681705BA2957@greenbytes.de>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56E957A7.3080900@apache.org>
Date: Wed, 16 Mar 2016 13:55:03 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:43.0) Gecko/20100101
 Firefox/43.0 SeaMonkey/2.40
MIME-Version: 1.0
In-Reply-To: <7DD1B324-D0E1-47F2-80FD-681705BA2957@greenbytes.de>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

Try svn co -r 1735175 https://svn.apache.org/repos/asf/httpd/httpd/trunk or svn up -r 1735175 and see where you end
compiling and testing it.

Regards

Rdiger

On 03/16/2016 01:49 PM, Stefan Eissing wrote:
> I am very confused right now. Nothing makes sense.
> 
> Can someone who is certain check in a trunk that is working for him?
> 
>> Am 16.03.2016 um 13:23 schrieb Stefan Eissing <stefan.eissing@greenbytes.de>:
>>
>> Testing again to verify...
>>
>>> Am 16.03.2016 um 13:15 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>>
>>> On Wed, Mar 16, 2016 at 12:06 PM,  <icing@apache.org> wrote:
>>>> Author: icing
>>>> Date: Wed Mar 16 11:06:28 2016
>>>> New Revision: 1735216
>>>>
>>>> URL: http://svn.apache.org/viewvc?rev=1735216&view=rev
>>>> Log:
>>>> reverting r1735174 as http/1.1 just terminated before response
>>>
>>> Hmm, not sure to understand.
>>> Didn't you mean to revert r1735176 instead?
>>
> 
> 

From dev-return-85905-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 13:11:46 2016
Return-Path: <dev-return-85905-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B0A8C18D7B
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 13:11:46 +0000 (UTC)
Received: (qmail 64524 invoked by uid 500); 16 Mar 2016 13:11:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64454 invoked by uid 500); 16 Mar 2016 13:11:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64441 invoked by uid 99); 16 Mar 2016 13:11:45 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 13:11:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 283ED1A0997
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 13:11:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.43
X-Spam-Level:
X-Spam-Status: No, score=-0.43 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.329, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=iRWJWrY9;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=iRWJWrY9
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id yf7oNH9HRnYg for <dev@httpd.apache.org>;
	Wed, 16 Mar 2016 13:11:42 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 9E6015F610
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 13:11:41 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 39BEE15A0968; Wed, 16 Mar 2016 14:11:41 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458133901; bh=NeCa30jKAwrn3TBplDu58ovXQ+Ufy5qIxo4n73HrbY8=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=iRWJWrY9C5picPjb79uYlxreSnsbFGF6yOK0vJqOvwVa/C79QZH0uCmbHgswTPu89
	 mf56Zt74PNYTFbFERrTo77lPD1SWheE7H1ZnyMoQMyEK523JN00wx53EZISuMMMW9n
	 ed0Qg/IN+gEu3/cnNgJG0cfGAajLGKphwTOAaLaA=
Received: from [192.168.1.48] (unknown [87.78.28.171])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id DE0D915A0325
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 14:11:40 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458133901; bh=NeCa30jKAwrn3TBplDu58ovXQ+Ufy5qIxo4n73HrbY8=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=iRWJWrY9C5picPjb79uYlxreSnsbFGF6yOK0vJqOvwVa/C79QZH0uCmbHgswTPu89
	 mf56Zt74PNYTFbFERrTo77lPD1SWheE7H1ZnyMoQMyEK523JN00wx53EZISuMMMW9n
	 ed0Qg/IN+gEu3/cnNgJG0cfGAajLGKphwTOAaLaA=
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1735216 - in /httpd/httpd/trunk: CHANGES include/ap_mmn.h include/ap_mpm.h include/mpm_common.h modules/proxy/mod_proxy_wstunnel.c server/mpm/event/event.c server/mpm/event/fdqueue.h server/mpm_common.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56E957A7.3080900@apache.org>
Date: Wed, 16 Mar 2016 14:11:40 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <ADA089DB-5059-4A97-9445-60679F42CB6C@greenbytes.de>
References: <20160316110629.134DA3A0184@svn01-us-west.apache.org> <CAKQ1sVNnj7vzungf0EmSKskybbFABs2FD=OCsF6GYR=0350XtA@mail.gmail.com> <AFF71C9A-642E-4803-A78D-CC866AA2CB39@greenbytes.de> <7DD1B324-D0E1-47F2-80FD-681705BA2957@greenbytes.de> <56E957A7.3080900@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Thanks Rainer. So, my tests now concur: r1735176 is the cuplrit and I =
reverted it. The reversion of r1735174 has been reverted again, so the =
original change by Graham stands as it is.

The change of http/1 filter apply needs some more thoughts. Graham, do =
you build and test with mod_http2 loaded?

-Stefan

> Am 16.03.2016 um 13:55 schrieb Ruediger Pluem <rpluem@apache.org>:
>=20
> Try svn co -r 1735175 =
https://svn.apache.org/repos/asf/httpd/httpd/trunk or svn up -r 1735175 =
and see where you end
> compiling and testing it.
>=20
> Regards
>=20
> R=FCdiger
>=20
> On 03/16/2016 01:49 PM, Stefan Eissing wrote:
>> I am very confused right now. Nothing makes sense.
>>=20
>> Can someone who is certain check in a trunk that is working for him?
>>=20
>>> Am 16.03.2016 um 13:23 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>>>=20
>>> Testing again to verify...
>>>=20
>>>> Am 16.03.2016 um 13:15 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>>>=20
>>>> On Wed, Mar 16, 2016 at 12:06 PM,  <icing@apache.org> wrote:
>>>>> Author: icing
>>>>> Date: Wed Mar 16 11:06:28 2016
>>>>> New Revision: 1735216
>>>>>=20
>>>>> URL: http://svn.apache.org/viewvc?rev=3D1735216&view=3Drev
>>>>> Log:
>>>>> reverting r1735174 as http/1.1 just terminated before response
>>>>=20
>>>> Hmm, not sure to understand.
>>>> Didn't you mean to revert r1735176 instead?
>>>=20
>>=20
>>=20


From dev-return-85906-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 16 14:27:32 2016
Return-Path: <dev-return-85906-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6700019096
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Mar 2016 14:27:32 +0000 (UTC)
Received: (qmail 42026 invoked by uid 500); 16 Mar 2016 14:27:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41955 invoked by uid 500); 16 Mar 2016 14:27:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41945 invoked by uid 99); 16 Mar 2016 14:27:31 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Mar 2016 14:27:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 51AF3C2D79
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 14:27:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id N-jeLED24nvb for <dev@httpd.apache.org>;
	Wed, 16 Mar 2016 14:27:30 +0000 (UTC)
Received: from mail-io0-f173.google.com (mail-io0-f173.google.com [209.85.223.173])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id B80D25FB15
	for <dev@httpd.apache.org>; Wed, 16 Mar 2016 14:27:29 +0000 (UTC)
Received: by mail-io0-f173.google.com with SMTP id g184so3801902ioa.3
        for <dev@httpd.apache.org>; Wed, 16 Mar 2016 07:27:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=J6dA9jslcXX1NEDQwbBgyKNQDFd9ucXhogtJyp/fu70=;
        b=ct2gXkvQFT5H8GnY21sGUmNDROEWll6Lm7RGZhTRcD5M7D5TU5AjRcaJhWGry/AACZ
         Bq7ISOqlNBD0J03HH0OTJ9MwmtY86orK6LIozFc+zOJYJoQyafNCtfNAxaSPcUg8Um7a
         Rm+mw0ZDycGhbEYR+ygUsta97xdTy1e2w1DMn81HFY0heqHnQKMhvj1LNdQAEW5EWa8f
         qDC0VD310PJ3S7ruxhUiMmlTn2osNj9ugnlVMBmAirVFr9DC8gEQrAMW6BzAo1mOssxJ
         9zZ0wS2WwIkGdcX5ujeVpDw4+LXM8EQX3LgaeE1J4l7OrmeJyVELHcTrEeUUZv+lxb4K
         JLBA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=J6dA9jslcXX1NEDQwbBgyKNQDFd9ucXhogtJyp/fu70=;
        b=kmchKkKfBr9tV7r88zEkZTb4m0pFGWyU6yOAjvU2MI1Q9Bh57vg6AVp2IB3r3KsUMX
         DqII6gYm1lpaAEepIsd8Iqscm9Fr0ABURwZPHYqpCa+ZW9KK8+nugBqtPz6wmf1abIHA
         hXMnT/J6rPIMRqvplahEe9fUXi3tbpdUps/YCP1mGg+E9a31hZJjYfgMwH7kLIWxdWsY
         Hht92ii9CysMa9j2F6Rsla8ZLKBHrDu7E5wq+pH51gz2N9naP4iqSS+YgEi1paEJ4HEt
         go2fOpqqAee7jxa0PzCv8HhoqHIgHX2nY7cVPMzV5VFeFPVKSTznO+ajO7485WSLwCxR
         +A3w==
X-Gm-Message-State: AD7BkJI8VsCagrJ9BYjJ7swcVv9hdN5+/m81FBvGyvF36p84Hb/p5ieWLkJUkmdD5PJHtrKCuEO7TdrD+f0Ooqa5
MIME-Version: 1.0
X-Received: by 10.107.27.205 with SMTP id b196mr4012794iob.163.1458138442737;
 Wed, 16 Mar 2016 07:27:22 -0700 (PDT)
Received: by 10.107.149.12 with HTTP; Wed, 16 Mar 2016 07:27:22 -0700 (PDT)
In-Reply-To: <442F97C5-D4BF-4C91-A3FF-D0ADE2973CBD@greenbytes.de>
References: <90268C07-B1C2-4E06-8B48-4B58FA1B22E3@sharp.fm>
	<CACsi250LmWoO+AcgEkKpFaB2h7pSmv4L294C4H1V5__=kT+jrw@mail.gmail.com>
	<56E91AB1.6070504@apache.org>
	<442F97C5-D4BF-4C91-A3FF-D0ADE2973CBD@greenbytes.de>
Date: Wed, 16 Mar 2016 09:27:22 -0500
Message-ID: <CACsi252D71v4_eHJ1iYqbc8q2vXzLAx=_Dj=+k3xiMmyDz+H-A@mail.gmail.com>
Subject: Re: [Patch] Ensure HTTP1 filters are only added on HTTP1 requests
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113fecfce9cd48052e2b4fa1

--001a113fecfce9cd48052e2b4fa1
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 16, 2016 at 3:58 AM, Stefan Eissing <
stefan.eissing@greenbytes.de> wrote:

> Hmm, I can tell you for certain that modules encountering HTTP/2
> connections
> in 2.4 do not find the filters as they may expect.
>

Right, that's by design.  Existing protocol modules assume a particular
stack
for a 'default' newly created connection.  If that connection is configured
as h2
then all bets are off, but this wouldn't be the case, especially on an
upgrade
of one subversion to another (e.g. 2.4.18 to 2.4.20).

A content module that assumes anything about the filter stack can run into
troubles using mod_http2, or mod_ftp, or lots of other examples, but these
protocol modules are making assumptions about 2.4.x based on what the
server was already doing.  Let's not break those assumptions until 2.6.0
when lots of assumptions go out the door.

Bill

--001a113fecfce9cd48052e2b4fa1
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On W=
ed, Mar 16, 2016 at 3:58 AM, Stefan Eissing <span dir=3D"ltr">&lt;<a href=
=3D"mailto:stefan.eissing@greenbytes.de" target=3D"_blank">stefan.eissing@g=
reenbytes.de</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" sty=
le=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Hmm, I=
 can tell you for certain that modules encountering HTTP/2 connections<br>
in 2.4 do not find the filters as they may expect.<br></blockquote><div><br=
></div><div>Right, that&#39;s by design.=C2=A0 Existing protocol modules as=
sume a particular stack</div><div>for a &#39;default&#39; newly created con=
nection.=C2=A0 If that connection is configured as h2</div><div>then all be=
ts are off, but this wouldn&#39;t be the case, especially on an upgrade</di=
v><div>of one subversion to another (e.g. 2.4.18 to 2.4.20).</div><div><br>=
</div><div>A content module that assumes anything about the filter stack ca=
n run into=C2=A0</div><div>troubles using mod_http2, or mod_ftp, or lots of=
 other examples, but these</div><div>protocol modules are making assumption=
s about 2.4.x based on what the</div><div>server was already doing.=C2=A0 L=
et&#39;s not break those assumptions until 2.6.0</div><div>when lots of ass=
umptions go out the door.</div><div><br></div><div>Bill</div><div><br></div=
><div><br></div><div><br></div><div>=C2=A0</div></div><br></div></div>

--001a113fecfce9cd48052e2b4fa1--

From dev-return-85907-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 17 15:05:30 2016
Return-Path: <dev-return-85907-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1303E18642
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 17 Mar 2016 15:05:30 +0000 (UTC)
Received: (qmail 41279 invoked by uid 500); 17 Mar 2016 15:05:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41211 invoked by uid 500); 17 Mar 2016 15:05:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41201 invoked by uid 99); 17 Mar 2016 15:05:29 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2016 15:05:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A62671804A1
	for <dev@httpd.apache.org>; Thu, 17 Mar 2016 15:05:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.561
X-Spam-Level: **
X-Spam-Status: No, score=2.561 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_BL=0.01, RCVD_IN_MSPIKE_L3=1.899, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id DXH4Ix3Xoozc for <dev@httpd.apache.org>;
	Thu, 17 Mar 2016 15:05:26 +0000 (UTC)
Received: from resqmta-po-02v.sys.comcast.net (resqmta-po-02v.sys.comcast.net [96.114.154.161])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 2DD165F1D5
	for <dev@httpd.apache.org>; Thu, 17 Mar 2016 15:05:26 +0000 (UTC)
Received: from resomta-po-01v.sys.comcast.net ([96.114.154.225])
	by resqmta-po-02v.sys.comcast.net with comcast
	id X34y1s0064s37d40135KaA; Thu, 17 Mar 2016 15:05:19 +0000
Received: from [192.168.0.241] ([204.77.234.58])
	by resomta-po-01v.sys.comcast.net with comcast
	id X3381s00Y1GG4xo0133BUW; Thu, 17 Mar 2016 15:03:17 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: Plan for T&R of 2.4.19
Message-Id: <42D0551F-74C9-435B-8C7E-EA9F79FE901A@jaguNET.com>
Date: Thu, 17 Mar 2016 11:03:08 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458227119;
	bh=TWvQ2fHSxQcMpy8N/Jv390lX9OjRSRiyRafmO5hEo3Q=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=ce74gPjgMGlxr33ONtjjY3iNoqe2cBUQVVs5rAULi+kPAmi/XPaTP0NIogP/vDV1L
	 uJFB9yl3JN85nzWQL1lp4PeNS5BQse10gc4hLKw1WhpeOGIi+ZdMdaU3fGxVdoa3xt
	 RirHRLdt74d40yICYnuPQB515mL45X950jzyPShvDYjs0WFiuIBbMXtMzdscsblhvq
	 7qtchth09b+OeGlbikUJuyS/Vy753+qcIUReh2Z4nbh37K4CSRbLtonljndDaJmnmf
	 GuJa8dJivn01fqUhKfGYchGkcs1D7vJWMAQgP3ARyNbhV2JaQEpZrNU18+in917JC3
	 BgUZGr2wXT4sQ==

I hope to T&R 2.4.19 on Mon/Tues with a release on Friday.

There are some backports proposed that would be nice to get
into this release, otherwise I am shooting for a quick release
also around the ACNA time-frame.

From dev-return-85908-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 17 17:14:53 2016
Return-Path: <dev-return-85908-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 719D718E4A
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 17 Mar 2016 17:14:53 +0000 (UTC)
Received: (qmail 14945 invoked by uid 500); 17 Mar 2016 17:14:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14881 invoked by uid 500); 17 Mar 2016 17:14:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14871 invoked by uid 99); 17 Mar 2016 17:14:52 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2016 17:14:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 138E7C0221
	for <dev@httpd.apache.org>; Thu, 17 Mar 2016 17:14:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=PDlbPbuQ;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=NBR7L8Kp
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id dUTdlAfpMujj for <dev@httpd.apache.org>;
	Thu, 17 Mar 2016 17:14:48 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id A92655F23E
	for <dev@httpd.apache.org>; Thu, 17 Mar 2016 17:14:47 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 0292315A0B68; Thu, 17 Mar 2016 18:14:41 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458234881; bh=Kd4TkvnRFEbgVaoAbcZkHtl5XRsJWes0F+1wl7Lrf+k=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=PDlbPbuQKVOxfXqsQKPpmmVEI4o7YR3iJEF/vbznjLMkNJaMwF0l0XS/IVPl7vmah
	 IslAIXpivI5vDHRtTbciZ/cODawLyEhpFCJ7MdXdYE/Cdndz0GUEmyf0ei60rp9Qy1
	 tEqO3FeYknEBxTGYAFi8TLLpttV3pOVrVRKPhSdE=
Received: from [192.168.1.42] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 8C35E15A0225
	for <dev@httpd.apache.org>; Thu, 17 Mar 2016 18:14:40 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458234880; bh=Kd4TkvnRFEbgVaoAbcZkHtl5XRsJWes0F+1wl7Lrf+k=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=NBR7L8KpkSRjuGgeAQGEiZzqpnLkH/QyY0LL/O1av7n2YVATKYYzmrCWf2VgoDi7F
	 qp/6GukKUdFmyJfnpVnVZv0Sr+rmGoiblWAcpv8ngSwyPCshEaIQUCDHdqsj2qJQPL
	 tXION3NLnVAgZR7bKi0eB3Yqgq5ZyWr6N9nIsAEM=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: httpd-2.4.x patches for NetWare build.
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56E88416.8020700@gknw.net>
Date: Thu, 17 Mar 2016 18:14:40 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <C9BA315E-33E6-466B-BDB0-09FF80346A34@greenbytes.de>
References: <56E88416.8020700@gknw.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Applied in r1735459.

> Am 15.03.2016 um 22:52 schrieb NormW <normw@gknw.net>:
>=20
> G/M,
> Attached two simple patches for httpd-2.4.x tree:
>=20
> Add two extra missing symbols for mod_proxy needed to allow a NetWare =
build at the present time. Once the auto symbols export functionality is =
backported, this patch would also be removed.
>=20
> At the present time 2.4.x waits approval to backport mod_proxy_http2, =
Until then the attached diff for NWGNUmakefile in modules/http2 is =
required - a build system vaguery says if there is only only one build =
target listed in the NWGNUmakefile it will try to build itself and =
crash. If mod_proxy_http2 is backported it becomes the second item in =
the build list and all remains happy.
> Norm
> <add_exports_to_modproxy_NetWare.diff><build_one_twice_for =
NetWare.diff>


From dev-return-85909-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 17 17:42:45 2016
Return-Path: <dev-return-85909-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 843A718FF4
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 17 Mar 2016 17:42:45 +0000 (UTC)
Received: (qmail 22400 invoked by uid 500); 17 Mar 2016 17:42:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22326 invoked by uid 500); 17 Mar 2016 17:42:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22315 invoked by uid 99); 17 Mar 2016 17:42:44 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2016 17:42:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 47DCAC3390
	for <dev@httpd.apache.org>; Thu, 17 Mar 2016 17:42:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=JS6pdGH2;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=JS6pdGH2
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id xz0wItLCF7ni for <dev@httpd.apache.org>;
	Thu, 17 Mar 2016 17:42:43 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 5146D5F22F
	for <dev@httpd.apache.org>; Thu, 17 Mar 2016 17:42:43 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 5452F15A0B68; Thu, 17 Mar 2016 18:42:36 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458236556; bh=kz7RC3xHY0UvbCwWCune+P2AChWGZPAS8z+jXkmJX1g=;
	h=From:Subject:Date:To:From;
	b=JS6pdGH2f6vbhJOpxV/M1asaZsmE1gQ3fvFuveHwOm60E/G3NhS77QC3MeT2LryRZ
	 7oVM8TGKqXCUHnBnp8rqYSo31MV5chupLLVyw689HNA+UFjZjM5m+a9f5eQ8mlR3Ll
	 JgyASPppBwZrQLzDr8pXYZuugbYG+E6plz8ApL9Q=
Received: from [192.168.1.42] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 378B615A043C
	for <dev@httpd.apache.org>; Thu, 17 Mar 2016 18:42:36 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458236556; bh=kz7RC3xHY0UvbCwWCune+P2AChWGZPAS8z+jXkmJX1g=;
	h=From:Subject:Date:To:From;
	b=JS6pdGH2f6vbhJOpxV/M1asaZsmE1gQ3fvFuveHwOm60E/G3NhS77QC3MeT2LryRZ
	 7oVM8TGKqXCUHnBnp8rqYSo31MV5chupLLVyw689HNA+UFjZjM5m+a9f5eQ8mlR3Ll
	 JgyASPppBwZrQLzDr8pXYZuugbYG+E6plz8ApL9Q=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: mod_proxy_http2 backport proposal w. patch
Message-Id: <AD03985F-45C3-4047-BAA9-AA239E7E9045@greenbytes.de>
Date: Thu, 17 Mar 2016 18:42:36 +0100
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)

I propose a backport of mod_proxy_http2 with a 2.4.x patch included in =
STATUS. Kind souls may have a look. Maybe we can get it in for 2.4.19.

Particular attention would be welcome by people who know the differences =
between trunk and 2.4.x architecture. I had to rip out the =
"detach_backend" calls as they are non-existent and am not certain if I =
overlooked consequences. My test suites run fine, though.

Cheers,

  Stefan=

From dev-return-85910-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 17 21:46:21 2016
Return-Path: <dev-return-85910-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 090F319066
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 17 Mar 2016 21:46:21 +0000 (UTC)
Received: (qmail 19238 invoked by uid 500); 17 Mar 2016 21:46:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19163 invoked by uid 500); 17 Mar 2016 21:46:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19153 invoked by uid 99); 17 Mar 2016 21:46:20 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Mar 2016 21:46:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 2019A1A01E9
	for <dev@httpd.apache.org>; Thu, 17 Mar 2016 21:46:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.8
X-Spam-Level: *
X-Spam-Status: No, score=1.8 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_DNSWL_NONE=-0.0001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id e8_S3A4J5jmQ for <dev@httpd.apache.org>;
	Thu, 17 Mar 2016 21:46:17 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id DA8195F19A
	for <dev@httpd.apache.org>; Thu, 17 Mar 2016 21:46:16 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 159BB20F64
	for <dev@httpd.apache.org>; Thu, 17 Mar 2016 22:46:08 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id p56Z81-qaERU for <dev@httpd.apache.org>;
	Thu, 17 Mar 2016 22:46:07 +0100 (CET)
Received: from [10.0.0.1] (unknown [101.175.27.43])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 2146B209B8
	for <dev@httpd.apache.org>; Thu, 17 Mar 2016 22:46:05 +0100 (CET)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: httpd-trunk proxy_http2 NetWare build wants extra sym.
Message-ID: <56EB2592.3040205@gknw.net>
Date: Fri, 18 Mar 2016 08:45:54 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
Content-Type: multipart/mixed;
 boundary="------------010205050901010301020905"

This is a multi-part message in MIME format.
--------------010205050901010301020905
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

G/M,
A recent addition to trunk mod_proxy_http2 needs an additional export 
from hghttp2 lib, thus:

> Index: modules/http2/NWGNUmod_http2
> ===================================================================
> --- modules/http2/NWGNUmod_http2	(revision 1735506)
> +++ modules/http2/NWGNUmod_http2	(working copy)
> @@ -391,6 +391,7 @@
>  	@echo $(DL) nghttp2_session_callbacks_set_send_callback,$(DL) >> $@
>  	@echo $(DL) nghttp2_session_client_new2,$(DL) >> $@
>  	@echo $(DL) nghttp2_session_consume,$(DL) >> $@
> +	@echo $(DL) nghttp2_session_consume_connection,$(DL) >> $@
>  	@echo $(DL) nghttp2_session_del,$(DL) >> $@
>  	@echo $(DL) nghttp2_session_get_remote_settings,$(DL) >> $@
>  	@echo $(DL) nghttp2_session_get_stream_user_data,$(DL) >> $@

Excuse the noise.
Norm

--------------010205050901010301020905
Content-Type: text/x-patch;
 name="http2_proxy_wants_xtra_exp.diff"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="http2_proxy_wants_xtra_exp.diff"

Index: modules/http2/NWGNUmod_http2
===================================================================
--- modules/http2/NWGNUmod_http2	(revision 1735506)
+++ modules/http2/NWGNUmod_http2	(working copy)
@@ -391,6 +391,7 @@
 	@echo $(DL) nghttp2_session_callbacks_set_send_callback,$(DL) >> $@
 	@echo $(DL) nghttp2_session_client_new2,$(DL) >> $@
 	@echo $(DL) nghttp2_session_consume,$(DL) >> $@
+	@echo $(DL) nghttp2_session_consume_connection,$(DL) >> $@
 	@echo $(DL) nghttp2_session_del,$(DL) >> $@
 	@echo $(DL) nghttp2_session_get_remote_settings,$(DL) >> $@
 	@echo $(DL) nghttp2_session_get_stream_user_data,$(DL) >> $@

--------------010205050901010301020905--

From dev-return-85911-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 18 08:36:29 2016
Return-Path: <dev-return-85911-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 77DCE18693
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Mar 2016 08:36:29 +0000 (UTC)
Received: (qmail 26280 invoked by uid 500); 18 Mar 2016 08:36:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26208 invoked by uid 500); 18 Mar 2016 08:36:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26198 invoked by uid 99); 18 Mar 2016 08:36:29 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2016 08:36:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 339BDC0319
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 08:36:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -4.223
X-Spam-Level:
X-Spam-Status: No, score=-4.223 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, RCVD_IN_DNSWL_HI=-5,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RP_MATCHES_RCVD=-0.001, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id DFsepGjx4sTT for <dev@httpd.apache.org>;
	Fri, 18 Mar 2016 08:36:25 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 594785F231
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 08:36:25 +0000 (UTC)
Received: from int-mx13.intmail.prod.int.phx2.redhat.com (int-mx13.intmail.prod.int.phx2.redhat.com [10.5.11.26])
	by mx1.redhat.com (Postfix) with ESMTPS id A830983F46
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 08:36:23 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-45.brq.redhat.com [10.40.204.45])
	by int-mx13.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id u2I8aLWL013455
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 04:36:22 -0400
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
To: dev@httpd.apache.org
References: <56DD68E5.2040309@redhat.com>
 <3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com>
 <56DDDC53.1060103@redhat.com>
 <CACsi253rUFf7zY=F3EJrRGJTWUSckV590ypunAcUvkFLVMDmfQ@mail.gmail.com>
 <CAGBAQ47FRpVRV7ymht-weDRmPwNW0yA94cxQXFAOM_Ns=HteCg@mail.gmail.com>
 <CACsi2507SbFCA4zG-EJca81MGzBwOsL_gjA4_GeecEi+=n9GBQ@mail.gmail.com>
 <56DE8D43.40505@redhat.com>
 <CAKQ1sVMXnU0wkLeDWfdvcfTBNaZqw_SgJpgM9LiCN2iyzKv8hg@mail.gmail.com>
 <CAKQ1sVOaVLX=jg-V6vZ1A-8XFRt4xHse_+FbHyZ-eQ5SChQKfA@mail.gmail.com>
 <56DEACC7.3080007@redhat.com>
From: =?UTF-8?Q?Jan_Kalu=c5=bea?= <jkaluza@redhat.com>
Message-ID: <56EBBE04.9020202@redhat.com>
Date: Fri, 18 Mar 2016 09:36:20 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.5.0
MIME-Version: 1.0
In-Reply-To: <56DEACC7.3080007@redhat.com>
Content-Type: multipart/mixed;
 boundary="------------090808030005090203020908"
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.26

This is a multi-part message in MIME format.
--------------090808030005090203020908
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

On 03/08/2016 11:43 AM, Jan Kalua wrote:
> On 03/08/2016 10:25 AM, Yann Ylavic wrote:
>> On Tue, Mar 8, 2016 at 9:46 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>> On Tue, Mar 8, 2016 at 9:28 AM, Jan Kalua <jkaluza@redhat.com> wrote:
>>>>
>>>> I have chosen FreeListen over the flags
>>>
>>> FWIW, should be take the YAD path, I'd prefer ListenFree (over
>>> FreeListen) to emphasize on the "Listen directive family" with a
>>> prefix...
>>
>> Thinking more about this, I think I second Jim on the wish to have a
>> single Listen directive with some parameter like
>> "options=freebind,backlog:4095,reuseport,...".
>
> Thinking about right syntax for options...
>
> I would personally like something like "Listen [IP-address:]portnumber
> [protocol] [option1] [option2] ...". Do we have list of supported
> protocols by Listen directive, or we support whatever protocol is there?
>
> If we have explicit list of protocols, then the protocols itself could
> become an options.
>
> If not, can it be acceptable, that you always have to define protocol
> when you wan to use options?

I've implemented the way described in that question above ^. Please see 
the attached patch and share your opinions.

The syntax to enable IP_FREEBIND currently is:

Listen 192.168.0.1:80 http freebind

Regards,
Jan Kaluza

>
> Otherwise I can always implement Yann's idea with "Listen
> [IP-address:]portnumber [protocol] [options=[option1,option2,...]]".
>
> Regards,
> Jan Kaluza
>
>
>> We could then whatever (new) IP option more easily (less docs work...)
>> and maybe deprecate ListenBacklog.
>>
>> For example, the "reuseport" (SO_REUSEPORT) option seem to be usable
>> w/o the current buckets mechanism in latest linux kernels, so indeed
>> we may add more and more options there...
>>
>


--------------090808030005090203020908
Content-Type: text/x-patch;
 name="httpd-trunk-listen-options.patch"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="httpd-trunk-listen-options.patch"

Index: docs/manual/mod/mpm_common.xml
===================================================================
--- docs/manual/mod/mpm_common.xml	(revision 1733461)
+++ docs/manual/mod/mpm_common.xml	(working copy)
@@ -171,7 +171,7 @@
 <name>Listen</name>
 <description>IP addresses and ports that the server
 listens to</description>
-<syntax>Listen [<var>IP-address</var>:]<var>portnumber</var> [<var>protocol</var>]</syntax>
+<syntax>Listen [<var>IP-address</var>:]<var>portnumber</var> [<var>protocol</var>] [<var>option</var>] [...]</syntax>
 <contextlist><context>server config</context></contextlist>
 <modulelist><module>event</module><module>worker</module>
 <module>prefork</module><module>mpm_winnt</module>
@@ -240,6 +240,17 @@
       error message.
     </note>
 
+    <p>The optional <var>option</var> arguments are used to configure
+       system specific socket options:</p>
+
+    <table border="1">
+    <tr><th>Option</th><th>Description</th></tr>
+    <tr><td>freebind</td><td>Sets the <code>IP_FREEBIND</code> socket option
+        on systems where this option is available. It is therefore possible
+        to start the server even when particular IP address set in the
+        <directive>Listen</directive> directive is not configured yet.</td></tr>
+    </table>
+
 </usage>
 <seealso><a href="../dns-caveats.html">DNS Issues</a></seealso>
 <seealso><a href="../bind.html">Setting which addresses and ports Apache HTTP Server
Index: include/ap_listen.h
===================================================================
--- include/ap_listen.h	(revision 1733461)
+++ include/ap_listen.h	(working copy)
@@ -38,6 +38,9 @@
 typedef struct ap_listen_rec ap_listen_rec;
 typedef apr_status_t (*accept_function)(void **csd, ap_listen_rec *lr, apr_pool_t *ptrans);
 
+/* Whether use APR_SO_FREEBIND */
+#define AP_LISTEN_FREEBIND 1
+
 /**
  * @brief Apache's listeners record.
  *
@@ -71,6 +74,10 @@
     const char* protocol;
 
     ap_slave_t *slave;
+    /**
+     * Options to configure socket features.
+     */
+    int options;
 };
 
 /**
@@ -149,7 +156,7 @@
 AP_INIT_TAKE1("ListenCoresBucketsRatio", ap_set_listencbratio, NULL, RSRC_CONF, \
   "Ratio between the number of CPU cores (online) and the number of listeners buckets"), \
 AP_INIT_TAKE_ARGV("Listen", ap_set_listener, NULL, RSRC_CONF, \
-  "A port number or a numeric IP address and a port number, and an optional protocol"), \
+  "A port number or a numeric IP address and a port number, an optional protocol, and options"), \
 AP_INIT_TAKE1("SendBufferSize", ap_set_send_buffer_size, NULL, RSRC_CONF, \
   "Send buffer size in bytes"), \
 AP_INIT_TAKE1("ReceiveBufferSize", ap_set_receive_buffer_size, NULL, \
Index: server/listen.c
===================================================================
--- server/listen.c	(revision 1733461)
+++ server/listen.c	(working copy)
@@ -68,7 +68,8 @@
 #endif
 
 /* TODO: make_sock is just begging and screaming for APR abstraction */
-static apr_status_t make_sock(apr_pool_t *p, ap_listen_rec *server, int do_bind_listen)
+static apr_status_t make_sock(apr_pool_t *p, ap_listen_rec *server,
+                              int do_bind_listen)
 {
     apr_socket_t *s = server->sd;
     int one = 1;
@@ -162,6 +163,22 @@
     }
 #endif
 
+   if (server->options & AP_LISTEN_FREEBIND) {
+#if defined(APR_SO_FREEBIND)
+        stat = apr_socket_opt_set(s, APR_SO_FREEBIND, one);
+        if (stat != APR_SUCCESS) {
+            ap_log_perror(APLOG_MARK, APLOG_WARNING, stat, p, APLOGNO()
+                          "make_sock: failed to set set IP_FREEBIND socket option");
+            return stat;
+        }
+#else
+        ap_log_perror(APLOG_MARK, APLOG_WARNING, stat, p, APLOGNO()
+                        "make_sock: 'freebind' Listen option not supported "
+                        "by the system");
+        return APR_ENOTIMPL;
+#endif
+    }
+
     if (do_bind_listen) {
 #if APR_HAVE_IPV6
         if (server->bind_addr->family == APR_INET6) {
@@ -348,6 +365,7 @@
     rec = apr_palloc(process->pool, sizeof(ap_listen_rec));
     rec->active = 0;
     rec->next = 0;
+    rec->options = 0;
 
     rv = apr_os_sock_make(&rec->sd, &si, process->pool);
     if (rv != APR_SUCCESS) {
@@ -406,7 +424,7 @@
 
 static const char *alloc_listener(process_rec *process, char *addr,
                                   apr_port_t port, const char* proto,
-                                  void *slave)
+                                  void *slave, int options)
 {
     ap_listen_rec **walk, *last;
     apr_status_t status;
@@ -470,6 +488,7 @@
         new->active = 0;
         new->next = 0;
         new->bind_addr = sa;
+        new->options = options;
         new->protocol = apr_pstrdup(process->pool, proto);
 
         /* Go to the next sockaddr. */
@@ -827,6 +846,7 @@
                 duplr = apr_palloc(p, sizeof(ap_listen_rec));
                 duplr->slave = NULL;
                 duplr->protocol = apr_pstrdup(p, lr->protocol);
+                duplr->options = lr->options;
                 hostname = apr_pstrdup(p, lr->bind_addr->hostname);
                 port = lr->bind_addr->port;
                 apr_sockaddr_info_get(&sa, hostname, APR_UNSPEC, port, 0, p);
@@ -961,13 +981,14 @@
     apr_port_t port;
     apr_status_t rv;
     const char *err = ap_check_cmd_context(cmd, GLOBAL_ONLY);
+    int i;
 
     if (err != NULL) {
         return err;
     }
 
-    if (argc < 1 || argc > 2) {
-        return "Listen requires 1 or 2 arguments.";
+    if (argc < 1) {
+        return "Listen requires at least 1 argument.";
     }
 #ifdef HAVE_SYSTEMD
     if (use_systemd == -1) {
@@ -993,7 +1014,18 @@
         return "Port must be specified";
     }
 
-    if (argc != 2) {
+    int options = 0;
+    for (i = 2; i < argc; i++) {
+        const char *w = argv[i];
+        if (!strcasecmp(w, "freebind")) {
+            options |= AP_LISTEN_FREEBIND;
+        }
+        else {
+            return apr_psprintf(cmd->pool, "Unknown Listen option: %s", w);
+        }
+    }
+
+    if (argc < 2) {
         if (port == 443) {
             proto = "https";
         } else {
@@ -1011,7 +1043,8 @@
     }
 #endif
 
-    return alloc_listener(cmd->server->process, host, port, proto, NULL);
+    return alloc_listener(cmd->server->process, host, port, proto, NULL,
+                          options);
 }
 
 AP_DECLARE_NONSTD(const char *) ap_set_listenbacklog(cmd_parms *cmd,

--------------090808030005090203020908--

From dev-return-85912-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 18 09:01:55 2016
Return-Path: <dev-return-85912-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 20D0918775
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Mar 2016 09:01:55 +0000 (UTC)
Received: (qmail 72140 invoked by uid 500); 18 Mar 2016 09:01:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 72072 invoked by uid 500); 18 Mar 2016 09:01:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72063 invoked by uid 99); 18 Mar 2016 09:01:54 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2016 09:01:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 7D9F0C0221
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 09:01:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Dq3yGOW4eRnk for <dev@httpd.apache.org>;
	Fri, 18 Mar 2016 09:01:52 +0000 (UTC)
Received: from jiboia.ensmp.fr (jiboia.ensmp.fr [194.214.158.137])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id CA1E55F1D5
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 09:01:52 +0000 (UTC)
Received: from cri.ensmp.fr (nat-any-rnt.cri.ensmp.fr [195.83.117.252])
	(authenticated bits=0)
	by jiboia.ensmp.fr (8.15.2/8.15.1/JMMC-22/Oct/2013) with ESMTPSA id u2I91jUB015830
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 10:01:45 +0100
Date: Fri, 18 Mar 2016 10:01:45 +0100 (CET)
From: fabien@apache.org
X-X-Sender: fabien@sto
To: httpd <dev@httpd.apache.org>
Subject: Re: Plan for T&R of 2.4.19
In-Reply-To: <42D0551F-74C9-435B-8C7E-EA9F79FE901A@jaguNET.com>
Message-ID: <alpine.DEB.2.10.1603180956140.31871@sto>
References: <42D0551F-74C9-435B-8C7E-EA9F79FE901A@jaguNET.com>
User-Agent: Alpine 2.10 (DEB 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; format=flowed; charset=US-ASCII
X-Miltered: at jiboia.ensmp.fr with ID 56EBC3F9.000 by Joe's j-chkmail (http : // j-chkmail dot ensmp dot fr)!
X-j-chkmail-Auth: USER-ID fabien.coelho
X-j-chkmail-Enveloppe: 56EBC3F9.000 from nat-any-rnt.cri.ensmp.fr/nat-any-rnt.cri.ensmp.fr/195.83.117.252/cri.ensmp.fr/<fabien@apache.org>


Hello Jim,

> I hope to T&R 2.4.19 on Mon/Tues with a release on Friday.
>
> There are some backports proposed that would be nice to get
> into this release,

I would like to suggest backporting:

https://svn.apache.org/viewvc?view=revision&revision=1734412

It is a minor but I think useful feature which does not disrupt much the 
code base, just add a function and a new authorization provider.

Now I'm not sure of the update policy on "bug fix" release, maybe adding a 
feature is too much, in which case apply the policy and do not backport:-)

-- 
Fabien.

From dev-return-85913-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 18 09:10:46 2016
Return-Path: <dev-return-85913-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 93392187BD
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Mar 2016 09:10:46 +0000 (UTC)
Received: (qmail 87069 invoked by uid 500); 18 Mar 2016 09:10:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86985 invoked by uid 500); 18 Mar 2016 09:10:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86930 invoked by uid 99); 18 Mar 2016 09:10:44 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2016 09:10:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 6D08D1802E9
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 09:10:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id qCdBX5w5RTTi for <dev@httpd.apache.org>;
	Fri, 18 Mar 2016 09:10:43 +0000 (UTC)
Received: from mail-qg0-f41.google.com (mail-qg0-f41.google.com [209.85.192.41])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 131005F5A1
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 09:10:43 +0000 (UTC)
Received: by mail-qg0-f41.google.com with SMTP id a36so62825219qge.0
        for <dev@httpd.apache.org>; Fri, 18 Mar 2016 02:10:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=7ZKYYKx3fRIbkEz0E9tU8uaBb3w5f3gRbEsqUu7U5ck=;
        b=FPfZCJm3RZtnSd8C189vuvXa2+J32L/j8y4+IcYGqMh9+r9PH3xs6GEAOpxkztVauM
         RkVzMcQy28IMOrLhRqCgZSh7a4SKHty9DJQw305CeBxe0oMkLfKJJn0+r+kaYHe7ZkPl
         5++aEiVldg6DVAe7+QKP3cfQjwObAWawrzbQjATrNIqYdqXqDVHQnaHALo2cTM1DteTb
         byy2jXONV3EBfj3xllYMHD22kexyd/jLxG1VyouPQM+my+WxMHKs6ArGUsSXlydqFMCI
         FFZdzQfoMbHAJqxXR8HplW28ddS1su+DYbaatGJBruIZXp/5AzPIaiZ6KqwwzNAIHkR1
         1Tww==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=7ZKYYKx3fRIbkEz0E9tU8uaBb3w5f3gRbEsqUu7U5ck=;
        b=JvZBKeSp8CoPHbMOPphvEdgoFF9dKD8Na75gchmhySeCJ9A7fj4wNO0PdbzMTkiD7w
         EhYguYhVV3xxYKMUqZhx85X26AbHFmPvEt+rjWxieZYE0jUSwtWSpqGZIayCb0C/+X7G
         VPMsBjHpNOHDO4pRSpyrV6qIN8KwstFLfcgU9mT4AUuW9QSdlLEUYY/CBH2DZYfo45JK
         UW3ORJhHALOUmatSpl44MZPgtSvZJaShy96o6ikcMZG61dkXR7TyBWSmYkOJfByFrcmo
         M803iOl7eT6v/SH262HWpoRiy4WKa/SdFlQa2J3M5jLpIa2gKUHFshVXqZT4zq5REREf
         TniQ==
X-Gm-Message-State: AD7BkJLRBsQ56zH1srv5eGXPxFPu1go0/cg8uIz7dXIr8zklXRRla1lvyXMe4BF8Q7rEUg9ld2MPeAaJ/A6rYQ==
MIME-Version: 1.0
X-Received: by 10.140.96.22 with SMTP id j22mr20264280qge.92.1458292235889;
 Fri, 18 Mar 2016 02:10:35 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Fri, 18 Mar 2016 02:10:35 -0700 (PDT)
In-Reply-To: <alpine.DEB.2.10.1603180956140.31871@sto>
References: <42D0551F-74C9-435B-8C7E-EA9F79FE901A@jaguNET.com>
	<alpine.DEB.2.10.1603180956140.31871@sto>
Date: Fri, 18 Mar 2016 10:10:35 +0100
Message-ID: <CAKQ1sVN6vhrT-sW+XnwF9XnjpfKuf4-gFERA3XK-PigFP0B4mw@mail.gmail.com>
Subject: Re: Plan for T&R of 2.4.19
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Mar 18, 2016 at 10:01 AM,  <fabien@apache.org> wrote:
>
> I would like to suggest backporting:
>
> https://svn.apache.org/viewvc?view=revision&revision=1734412

Sounds reasonable, would you add an entry in the STATUS file (at the
root of branches/2.4.x) to start the vote (with your own)?

>
> Now I'm not sure of the update policy on "bug fix" release, maybe adding a
> feature is too much, in which case apply the policy and do not backport:-)

2.4.x is also a features branch ;)

Regards,
Yann.

From dev-return-85914-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 18 13:55:16 2016
Return-Path: <dev-return-85914-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 304551841D
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Mar 2016 13:55:16 +0000 (UTC)
Received: (qmail 57924 invoked by uid 500); 18 Mar 2016 13:55:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57862 invoked by uid 500); 18 Mar 2016 13:55:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57852 invoked by uid 99); 18 Mar 2016 13:55:15 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2016 13:55:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E0073C0316
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 13:55:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id YMp6HhbTMe1k for <dev@httpd.apache.org>;
	Fri, 18 Mar 2016 13:55:14 +0000 (UTC)
Received: from mail-qg0-f47.google.com (mail-qg0-f47.google.com [209.85.192.47])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 193905F23A
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 13:55:14 +0000 (UTC)
Received: by mail-qg0-f47.google.com with SMTP id w104so100160995qge.1
        for <dev@httpd.apache.org>; Fri, 18 Mar 2016 06:55:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to;
        bh=zY4K6iUf6TZTvoF51nJoFXc3bwxJOGFVyhO2dzZAqlU=;
        b=QTtg4FvZ/OLNjLvArHHH/nWnGaGgT2aTh12OpT4nu7fU8YFPeXlDddocm5o8dDKuXz
         WlNOAJu5nnwn6qC8aev5XGBjQadB0lotCwhbYyqfk1CxXc+IBV//PPdLKTsA1tAtBnVO
         ywwCaXBjm/TDMsLnOBl/ofC6u0bQwGtjw6okyRIhZ+oBya+TWDzXNVsD5CVg2qku6Gn3
         /7G2MO5BTqPdJeclVEF1mol7NA8g4Wwk1NgEJmLu8AdgtvVub9XRgr5Boob5YLJTtHES
         Cg3D9tnuZIFaNwcdbNa2Y9GzaAI3oeshz2c7m/mr0Ver7QVcH21BOkaoLo84+DwCK73b
         aAtw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to;
        bh=zY4K6iUf6TZTvoF51nJoFXc3bwxJOGFVyhO2dzZAqlU=;
        b=F/TCHdwT3ki+xL80BjK+WO+UJlyo93xw1U9U+2lgRvwuW4p0vcAZJ2sFedWcAaplxv
         XlQb0mIDAJwqNtRz7q/8Uieihq08WV8pX1mq+ZJYUSSBDlhha1vDq7wNRsZDZCsKJ/3w
         9zidEEAFKH7oiyDbehSp1PNOkuI2rUbkNGOlSfSIs58TTWqudxBI7pBtfghfqsTsRKw7
         F7a48VHWkcfBdwb8vJMlURzDYO349cMcU/fIIdI+BhmcSdhZxqcDl6qQLdH7xKP0+yKw
         9fw1geS4cCFNylEJrR+xH/D+v6DTop2jLjpB426/uEP0rIte3II7kshXM6pB7Td7fpZ8
         GDwg==
X-Gm-Message-State: AD7BkJIu2BwYT44BNXoJdDLYcoCT25GQ4+JH/xquK802TDy1Y54Xf/cNMZB8BMNelKrTv+cp7YYQDRXzFU4FEw==
MIME-Version: 1.0
X-Received: by 10.140.43.37 with SMTP id d34mr21856864qga.51.1458309307232;
 Fri, 18 Mar 2016 06:55:07 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Fri, 18 Mar 2016 06:55:07 -0700 (PDT)
Date: Fri, 18 Mar 2016 14:55:07 +0100
Message-ID: <CAKQ1sVNfuWi2Hp_B5ixFa4Tru=znGXwbAAnAwvPa_ygahBng9g@mail.gmail.com>
Subject: TLS session ticket key (shared) renewal
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Currently this can be done by using a (shared) SSLSessionTicketKeyFile
and gracefuly restarting httpd instances, but there is room for
improvements here.

Thoughts?

From dev-return-85915-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 18 14:06:31 2016
Return-Path: <dev-return-85915-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 49FC018495
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Mar 2016 14:06:31 +0000 (UTC)
Received: (qmail 85139 invoked by uid 500); 18 Mar 2016 14:06:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85061 invoked by uid 500); 18 Mar 2016 14:06:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85051 invoked by uid 99); 18 Mar 2016 14:06:30 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2016 14:06:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 1068FC385C
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 14:06:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.179
X-Spam-Level: **
X-Spam-Status: No, score=2.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RDNS_NONE=3, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id LMnQ0Q5WOLgA for <dev@httpd.apache.org>;
	Fri, 18 Mar 2016 14:06:29 +0000 (UTC)
Received: from mail-qk0-f182.google.com (unknown [209.85.220.182])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 6D0495F231
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 14:05:02 +0000 (UTC)
Received: by mail-qk0-f182.google.com with SMTP id o6so49278468qkc.2
        for <dev@httpd.apache.org>; Fri, 18 Mar 2016 07:05:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=kn7TO1pJVAt1vk0eKx7UJ/z0Gvu1yYsbXwkoJZCmD4E=;
        b=G4mhgZWMa2JBTo7p2XIl/u76loPa4PwlZokw8pDerGhhQQt5rEvc7j2UpOoNdBJhGR
         YD41JZjvDyxVm5CT0pg1K7+JryMObdnncCMCdf849C52GosFtvqeu7sFGickEzZw5O+b
         qs9e0WRrmVMQDWIayFIBQCBRGFfQsdDzxcGeZVi0Z+3Nvk4GyHgCY6b6OgMoifDsTXs+
         uaW/s9hT4p+mZn0yvOkcMXNXO1kXh4G+pWDdR0uG4IU7bPejRHuIyIJl803D5IgvLJEm
         A1Cp8RM5KJ7lbXHC1UHfiv2hkfV0f6aP+cclcu4i512SO9cTEoQEohiolbXtZq4Zi1X1
         EUbw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=kn7TO1pJVAt1vk0eKx7UJ/z0Gvu1yYsbXwkoJZCmD4E=;
        b=BsMxU5JGWtuOnBwlunuoo33AExIn1oOXlexJgDJRUIH+nWlOwbk5Dob6hHT41XlJDi
         YHuOPNjKpF9DKk9X44U2bUbsfCPcNPB2REp22Sdv2d8MjqjBai4MC2prY0QiDZofNtqZ
         sbkPafbqo+oQjSD77PfKBuDiMxdcodSpTKozBmfb9kGbp7r8MhlbTNiwvpbNE6DAat+O
         NQcbmSVKX5ONjzsqY5JwT4uiMkwYY+nN2bcCD0qiMb3JiVLMVG0zdcbhPw2RLhXbKuWP
         5QX38er9trZo4nYAl436Qb6LlaPkxv2VS/z/x+Va1Iruwlwn09ycRjH1jcuxYb5wHq/h
         N8Mw==
X-Gm-Message-State: AD7BkJK5CWAV6zZ6a9F9D+y2S0MPXTN2y3MHqA37C8u/bhSASUDUbJrg81YDcDALfIO0lpHg7MGtfCmYT3aWXQ==
MIME-Version: 1.0
X-Received: by 10.55.75.203 with SMTP id y194mr22613109qka.2.1458309686047;
 Fri, 18 Mar 2016 07:01:26 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Fri, 18 Mar 2016 07:01:25 -0700 (PDT)
In-Reply-To: <CAKQ1sVNfuWi2Hp_B5ixFa4Tru=znGXwbAAnAwvPa_ygahBng9g@mail.gmail.com>
References: <CAKQ1sVNfuWi2Hp_B5ixFa4Tru=znGXwbAAnAwvPa_ygahBng9g@mail.gmail.com>
Date: Fri, 18 Mar 2016 15:01:25 +0100
Message-ID: <CAKQ1sVPDgrY7vb2erE04uNtC_fRBQm2svhNBrhtE5OUxKQ+9BA@mail.gmail.com>
Subject: Re: TLS session ticket key (shared) renewal
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Mar 18, 2016 at 2:55 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> Currently this can be done by using a (shared) SSLSessionTicketKeyFile
> and gracefuly restarting httpd instances, but there is room for
> improvements here.
>
> Thoughts?

For the single httpd instance case at least, I'm thinking of
SSLSessionTicketKeyTimeout which could be used for renewing the
key(s), without the need for a scheduled restart.
The key(s) would have to be stored/sync-ed in a SHM (or slotmem)...

From dev-return-85916-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 18 15:09:58 2016
Return-Path: <dev-return-85916-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 21D4B187BC
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Mar 2016 15:09:58 +0000 (UTC)
Received: (qmail 18530 invoked by uid 500); 18 Mar 2016 15:09:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18461 invoked by uid 500); 18 Mar 2016 15:09:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18451 invoked by uid 99); 18 Mar 2016 15:09:56 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2016 15:09:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 072E9C387D
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 15:09:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.302
X-Spam-Level:
X-Spam-Status: No, score=-2.302 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Ggpnx9oTYQ46 for <dev@httpd.apache.org>;
	Fri, 18 Mar 2016 15:09:54 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id 4B3AF5F1D5
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 15:09:54 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u2IF9q2o012915
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 16:09:52 +0100 (CET)
Subject: Re: TLS session ticket key (shared) renewal
To: dev@httpd.apache.org
References: <CAKQ1sVNfuWi2Hp_B5ixFa4Tru=znGXwbAAnAwvPa_ygahBng9g@mail.gmail.com>
 <CAKQ1sVPDgrY7vb2erE04uNtC_fRBQm2svhNBrhtE5OUxKQ+9BA@mail.gmail.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56EC1A3C.7050607@kippdata.de>
Date: Fri, 18 Mar 2016 16:09:48 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.7.0
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVPDgrY7vb2erE04uNtC_fRBQm2svhNBrhtE5OUxKQ+9BA@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 18.03.2016 um 15:01 schrieb Yann Ylavic:
> On Fri, Mar 18, 2016 at 2:55 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> Currently this can be done by using a (shared) SSLSessionTicketKeyFile
>> and gracefuly restarting httpd instances, but there is room for
>> improvements here.
>>
>> Thoughts?
>
> For the single httpd instance case at least, I'm thinking of
> SSLSessionTicketKeyTimeout which could be used for renewing the
> key(s), without the need for a scheduled restart.
> The key(s) would have to be stored/sync-ed in a SHM (or slotmem)...

Would that mean, that at the points of time of key renewal all old 
tickets immediately loose their validity? In that case you would have a 
regular bump in negotation rates. It would be nice, if one older 
generation of keys would still work for a little time, so some overlap. 
I haven't checked how to do that though.

Any idea about a scheme how to renew the keys between nodes in a farm in 
a synced way? Finding a common point in time to renew would not be the 
problem (assuming synced clocks), but how the regenerate keys 
deterministically starting from one common secret (the 
SSLSessionTicketKeyFile) without ending with keys which are too weak?

Regards,

Rainer

From dev-return-85917-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 18 15:20:33 2016
Return-Path: <dev-return-85917-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 177EC1882F
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Mar 2016 15:20:33 +0000 (UTC)
Received: (qmail 54167 invoked by uid 500); 18 Mar 2016 15:20:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54104 invoked by uid 500); 18 Mar 2016 15:20:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54095 invoked by uid 99); 18 Mar 2016 15:20:32 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2016 15:20:32 +0000
Received: from gauss.localdomain (v4-86130a44.pool.vitroconnect.de [134.19.10.68])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id F08FE1A0182
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 15:20:31 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id F14DD1C6
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 16:20:37 +0100 (CET)
Subject: Re: TLS session ticket key (shared) renewal
To: dev@httpd.apache.org
References: <CAKQ1sVNfuWi2Hp_B5ixFa4Tru=znGXwbAAnAwvPa_ygahBng9g@mail.gmail.com>
 <CAKQ1sVPDgrY7vb2erE04uNtC_fRBQm2svhNBrhtE5OUxKQ+9BA@mail.gmail.com>
 <56EC1A3C.7050607@kippdata.de>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56EC1CC5.10004@apache.org>
Date: Fri, 18 Mar 2016 16:20:37 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:43.0) Gecko/20100101
 Firefox/43.0 SeaMonkey/2.40
MIME-Version: 1.0
In-Reply-To: <56EC1A3C.7050607@kippdata.de>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/18/2016 04:09 PM, Rainer Jung wrote:
> Am 18.03.2016 um 15:01 schrieb Yann Ylavic:
>> On Fri, Mar 18, 2016 at 2:55 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>> Currently this can be done by using a (shared) SSLSessionTicketKeyFile
>>> and gracefuly restarting httpd instances, but there is room for
>>> improvements here.
>>>
>>> Thoughts?
>>
>> For the single httpd instance case at least, I'm thinking of
>> SSLSessionTicketKeyTimeout which could be used for renewing the
>> key(s), without the need for a scheduled restart.
>> The key(s) would have to be stored/sync-ed in a SHM (or slotmem)...
> 
> Would that mean, that at the points of time of key renewal all old tickets immediately loose their validity? In that
> case you would have a regular bump in negotation rates. It would be nice, if one older generation of keys would still
> work for a little time, so some overlap. I haven't checked how to do that though.
> 
> Any idea about a scheme how to renew the keys between nodes in a farm in a synced way? Finding a common point in time to
> renew would not be the problem (assuming synced clocks), but how the regenerate keys deterministically starting from one
> common secret (the SSLSessionTicketKeyFile) without ending with keys which are too weak?

My idea would be at high level to leverage approaches that are used for one time passwords here.
But I need to admit that I don't know how feasible that is at all and how usable these approaches are for generating
a (strong) key.

Regards

Rdiger


From dev-return-85918-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 18 15:31:30 2016
Return-Path: <dev-return-85918-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5A5EE188D4
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Mar 2016 15:31:30 +0000 (UTC)
Received: (qmail 92520 invoked by uid 500); 18 Mar 2016 15:31:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92453 invoked by uid 500); 18 Mar 2016 15:31:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92444 invoked by uid 99); 18 Mar 2016 15:31:29 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2016 15:31:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id E83E118055A
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 15:31:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.5
X-Spam-Level: ***
X-Spam-Status: No, score=3.5 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=2.5]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id Cbt5-1PSJSyX for <dev@httpd.apache.org>;
	Fri, 18 Mar 2016 15:31:26 +0000 (UTC)
Received: from jiboia.ensmp.fr (jiboia.ensmp.fr [194.214.158.137])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 35C1F5F23A
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 15:31:26 +0000 (UTC)
Received: from cri.ensmp.fr (nat-any-rnt.cri.ensmp.fr [195.83.117.252])
	(authenticated bits=0)
	by jiboia.ensmp.fr (8.15.2/8.15.1/JMMC-22/Oct/2013) with ESMTPSA id u2IFVGf6027092
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 16:31:19 +0100
Date: Fri, 18 Mar 2016 16:31:16 +0100 (CET)
From: fabien@apache.org
X-X-Sender: fabien@sto
To: httpd-dev <dev@httpd.apache.org>
Subject: Re: Plan for T&R of 2.4.19
In-Reply-To: <CAKQ1sVN6vhrT-sW+XnwF9XnjpfKuf4-gFERA3XK-PigFP0B4mw@mail.gmail.com>
Message-ID: <alpine.DEB.2.10.1603181630170.6476@sto>
References: <42D0551F-74C9-435B-8C7E-EA9F79FE901A@jaguNET.com> <alpine.DEB.2.10.1603180956140.31871@sto> <CAKQ1sVN6vhrT-sW+XnwF9XnjpfKuf4-gFERA3XK-PigFP0B4mw@mail.gmail.com>
User-Agent: Alpine 2.10 (DEB 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; format=flowed; charset=US-ASCII
X-Miltered: at jiboia.ensmp.fr with ID 56EC1F44.000 by Joe's j-chkmail (http : // j-chkmail dot ensmp dot fr)!
X-j-chkmail-Auth: USER-ID fabien.coelho
X-j-chkmail-Enveloppe: 56EC1F44.000 from nat-any-rnt.cri.ensmp.fr/nat-any-rnt.cri.ensmp.fr/195.83.117.252/cri.ensmp.fr/<fabien@apache.org>


Hello Yann,

>> https://svn.apache.org/viewvc?view=revision&revision=1734412
>
> Sounds reasonable, would you add an entry in the STATUS file (at the
> root of branches/2.4.x) to start the vote (with your own)?

Ok. I did that as r1735616.

-- 
Fabien.

From dev-return-85919-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 18 16:06:48 2016
Return-Path: <dev-return-85919-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A497E18AE5
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Mar 2016 16:06:48 +0000 (UTC)
Received: (qmail 15805 invoked by uid 500); 18 Mar 2016 16:06:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15738 invoked by uid 500); 18 Mar 2016 16:06:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15728 invoked by uid 99); 18 Mar 2016 16:06:47 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2016 16:06:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 21154C388E
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 16:06:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id kRdLpwLEI2Cc for <dev@httpd.apache.org>;
	Fri, 18 Mar 2016 16:06:42 +0000 (UTC)
Received: from mail-qg0-f50.google.com (mail-qg0-f50.google.com [209.85.192.50])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 632415FAEB
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 16:06:42 +0000 (UTC)
Received: by mail-qg0-f50.google.com with SMTP id u110so103670901qge.3
        for <dev@httpd.apache.org>; Fri, 18 Mar 2016 09:06:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=Q5gj1dJ/+9J6OHkr5ZxPrmoz+da62Q20LAiRjQ1D29U=;
        b=BBrgwIq+K0Sn3OYEdjxXTunJKpK5zjl/3TMNg5e7q1olLraElmffyzkZt5Z5jGkbGI
         6AzwmaR/3yNVR9DI86G801GD2+UKpZyeBsYaioH+5d7YgGOmCnencaFMsg8i9QrqjjCd
         ANnTaRyBBKlsNWjhGy8RWt+hWU/mOXFcrwfcM8zzp4Y1NDm/42ab3l1Xdh18nf2VxwSs
         diw7SYzbvgfjSiDG3u11lpYJSrgabLKciQQCZmzEuTCzn0AbfsUSorCwtuz3AkiKUH4i
         MFmyv/PKEqqbDxSc+F6n2p7GduPvzjcEx6QNmQdLigtQkYWbJadnsMylfaLu3CS/Yp1t
         o/jA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=Q5gj1dJ/+9J6OHkr5ZxPrmoz+da62Q20LAiRjQ1D29U=;
        b=fSCcwb+5DPoVltYLo+I8jPdyW+tAFt0c9MeYTY2sK+RbXwcW30/gmCDUGi29Ellgzw
         W2FWwmTAYt/YRnJOgQ3pTc8ag/SjDol8z0nFl5aqZoy4omtWGwuQqUH/juga3r1AKMpP
         55rY02m+LlzAXvBkWZH3PsfakDNoO93jrkLwwuFm51sZqYBOKmD6iXfHhyukitdY5vCT
         aMDh39zbupjkdE3JId0nR39CmirDUIKHytVbX3yWsr9vxjfnKRia8rnhJn2axZvBpbsC
         HZMjX6u1XKZQDaOz63uWe4G8nvnI4ncDUY6nn2xQiVbJK3EXVxOb9107TnAxJ5Sj4CKQ
         49cA==
X-Gm-Message-State: AD7BkJLuoTC3UjjXkajrIYE7en+9OiUEVa7x1p1bZXAOE4H8a/bDYSLQKEbcthzbjEN3w09vCc9+E6LYz0W1KQ==
MIME-Version: 1.0
X-Received: by 10.140.221.17 with SMTP id r17mr24443469qhb.61.1458317201628;
 Fri, 18 Mar 2016 09:06:41 -0700 (PDT)
Received: by 10.55.174.4 with HTTP; Fri, 18 Mar 2016 09:06:41 -0700 (PDT)
In-Reply-To: <20160310123114.42A6C3A0318@svn01-us-west.apache.org>
References: <20160310123114.42A6C3A0318@svn01-us-west.apache.org>
Date: Fri, 18 Mar 2016 12:06:41 -0400
Message-ID: <CAKUrXK46DE=HDMdoNu2TaeYRrkbk-5SDxnd9OgaJD8D=QSTQFw@mail.gmail.com>
Subject: Re: svn commit: r1734396 - in /httpd/httpd/branches/2.4.x: ./ CHANGES
 STATUS modules/ssl/mod_ssl.c
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1138f268c5e604052e54eee0

--001a1138f268c5e604052e54eee0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Thu, Mar 10, 2016 at 7:31 AM, <ylavic@apache.org> wrote:

> Author: ylavic
> Date: Thu Mar 10 12:31:13 2016
> New Revision: 1734396
>
> URL: http://svn.apache.org/viewvc?rev=3D1734396&view=3Drev
> Log:
> Merge r1734006 from trunk:
>
> mod_ssl: Don't lose track of the SSL context if the ssl_run_pre_handshake=
()
> hook returns an error.
>

The ssl_run_pre_handshake() hook doesn't exist in the 2.4.x branch.  I
would rather like it to exist there and will propose so after some testing,
but it isn't yet clear that the CHANGES entry will make sense for httpd
2.4.19.  (We'll see.)


>
> Submitted by: minfrin
> Reviewed by: minfrin, jim, ylavic
> Backported by: ylavic
>
> Modified:
>     httpd/httpd/branches/2.4.x/   (props changed)
>     httpd/httpd/branches/2.4.x/CHANGES
>     httpd/httpd/branches/2.4.x/STATUS
>     httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl.c
>
> Propchange: httpd/httpd/branches/2.4.x/
>
> -------------------------------------------------------------------------=
-----
> --- svn:mergeinfo (original)
> +++ svn:mergeinfo Thu Mar 10 12:31:13 2016
> @@ -2,4 +2,4 @@
>  /httpd/httpd/branches/2.4.17-protocols-http2:1701609-1705681
>  /httpd/httpd/branches/revert-ap-ldap:1150158-1150173
>  /httpd/httpd/branches/wombat-integration:723609-723841
>
> -/httpd/httpd/trunk:1200475,1200478,1200482,1200491,1200496,1200513,12005=
50,1200556,1200580,1200605,1200612,1200614,1200639,1200646,1200656,1200667,=
1200679,1200699,1200702,1200955,1200957,1200961,1200963,1200968,1200975,120=
0977,1201032,1201042,1201111,1201194,1201198,1201202,1201443,1201450,120146=
0,1201956,1202236,1202453,1202456,1202886,1203400,1203491,1203632,1203714,1=
203859,1203980,1204630,1204968,1204990,1205061,1205075,1205379,1205885,1206=
291,1206472,1206587,1206850,1206940,1206978,1207719,1208753,1208835,1209053=
,1209085,1209417,1209432,1209461,1209601,1209603,1209618,1209623,1209741,12=
09754,1209766,1209776,1209797-1209798,1209811-1209812,1209814,1209908,12099=
10,1209913,1209916-1209917,1209947,1209952,1210067,1210080,1210120,1210124,=
1210130,1210148,1210219,1210221,1210252,1210284,1210336,1210378,1210725,121=
0892,1210951,1210954,1211351-1211352,1211364,1211490,1211495,1211528,121166=
3,1211680,1212872,1212883,1213338,1213380-1213381,1213391,1213399,1213567,1=
214003,1214005,1214015,12
>
>  15514,1220462,1220467,1220493,1220524,1220570,1220768,1220794,1220826,12=
20846,1221205,1221292,1222335,1222370,1222473,1222915,1222917,1222921,12229=
30,1223048,1225060,1225197-1225199,1225223,1225380,1225476,1225478,1225791,=
1225795-1225796,1226339,1226375,1227910,1228700,1228816,1229024,1229059,122=
9099,1229116,1229134,1229136,1229930,1230286,1231255,1231257,1231442,123144=
6,1231508,1231510,1231518,1232575,1232594,1232630,1232838,1234180,1234297,1=
234479,1234511,1234565,1234574,1234642-1234643,1234876,1234899,1235019,1236=
122,1236701,1237407,1238545,1238768,1239029-1239030,1239071,1239565,1240315=
,1240470,1240778,1241069,1241071,1242089,1242798,1242967,1243176,1243246,12=
43797,1243799,1244211,1245717,1290823,1290835,1291819-1291820,1291834,12918=
40,1292043,1293405,1293534-1293535,1293658,1293678,1293708,1294306,1294349,=
1294356,1294358,1294372,1294471,1297560,1299718,1299786,1300766,1301111,130=
1725,1302444,1302483,1302653,1302665,1302674,1303201,1303435,1303827,130408=
7,1304874-1304875,1305167
>
>  ,1305586,1306350,1306409,1306426,1306841,1307790,1308327,1308459,1309536=
,1309567,1311468,1324760,1325218,1325227,1325250,1325265,1325275,1325632,13=
25724,1326980,1326984,1326991,1327689,1328325-1328326,1328339,1328345,13289=
50,1330189,1330964,1331110,1331115,1331942,1331977,1332378,1333969,1334343,=
1335882,1337344,1341906,1341913,1343085,1343087,1343094,1343099,1343109,134=
3935,1345319,1345329,1346905,1347980,1348036,1348653,1348656,1348660,134990=
5,1351012-1351020,1351071-1351072,1351074,1351737,1352047,1352534,1352909-1=
352912,1357685,1358061,1359057,1359881,1359884,1361153,1361298,1361766,1361=
773,1361778,1361784,1361791-1361792,1361801,1361803,1362020,1362538,1362707=
,1363035,1363183,1363186,1363312,1363440,1363557,1363589,1363829,1363832,13=
63836-1363837,1363853,1364133,1364138,1364229,1364601,1364695,1365001,13650=
20,1365029,1365479,1366319,1366344,1366621,1367778,1367819,1368053,1368058,=
1368094,1368121,1368131,1368393,1368396,1369419,1369568,1369604,1369618,136=
9904,1369995,1369999,1370
>
>  001,1370466,1370592,1370615-1370616,1370763,1371387,1371791,1371801,1371=
878,1371903,1373270,1373447,1373898,1373955,1374157,1374199,1374247,1374874=
,1374877,1374880,1375006,1375009,1375011,1375013,1375584,1376695,1376700,13=
78178,1383490,1384408,1384913,1386576,1386578,1386726,1386822,1386880,13869=
13,1387085,1387088,1387110,1387389,1387444,1387603,1387607,1387633,1387693,=
1387979,1388029,1388445,1388447,1388648,1388660,1388825,1388899,1389316,138=
9339,1389481,1389506,1389564,1389566-1389569,1390562,1390564,1391396,139139=
8,1391771,1392120,1392122,1392150,1392214,1392345-1392347,1392850,1393033,1=
393058,1393152,1393338,1393564,1394079,1395225,1395253-1395256,1395792,1397=
172,1397320,1397636,1397687,1397710,1397716,1398025,1398040,1398066,1398478=
,1398480-1398481,1398970,1399413,1399687,1399708,1400700,1401448,1402924,14=
03476,1403483,1403492,1404653,1405407,1405856,1405973,1406068,1406493,14064=
95,1406616,1406646,1406760,1407004,1407006,1407085,1407088,1407248,1407381,=
1407459-1407460,1407528,1
>
>  407853,1407965,1408093,1408402,1408958,1408961,1409170,1409437,1409726,1=
409800,1410681,1410954,1411862,1412278,1413732,1414094,1415008,1415023,1415=
075,1416121,1416150,1416278,1417197,1417440,1417529,1418524,1418556,1418648=
,1418655,1418703,1418721,1418752,1418769,1419084,1419719,1419726,1419755,14=
19781,1419796,1420120,1420124,1420149,1420184,1420644,1420685-1420686,14209=
75,1421288,1421323,1421851,1421912,1421953,1422135,1422549,1422594,1422712,=
1422855,1422937,1422943,1422980,1423353,1423933,1425360,1425771-1425772,142=
5775,1425777,1425874,1426850,1426975,1427546,1428184,1428280,1428916,142922=
8,1429559,1429561,1429564,1429582,1430575,1430814,1430869,1433001,1433613,1=
433682,1433861,1433988,1435178,1435811,1436058,1436401,1439083,1439106,1439=
114,1439404,1439623,1442309,1442320,1442326,1442412,1442759,1442865,1447993=
,1448171,1448453,1451478,1451484,1451633,1451849,1451905,1451921,1452128,14=
52195,1452259,1452281,1452551,1452911,1452949,1452954,1453022,1453574,14536=
04,1453875-1453876,145396
>
>  3,1453981,1454386,1454414-1454415,1454888,1457437,1457450,1457471,145750=
4,1457520-1457521,1457610,1457995,1458003-1458004,1458020,1458285,1458447,1=
458456,1462266,1462269,1462643,1463044-1463047,1463052,1463056,1463455,1463=
736,1463750,1463754,1464675,1464721,1464762,1465115-1465116,1465190,1467765=
,1468581,1470183,1470679,1470940,1471449,1475878,1476604,1476621,1476642,14=
76644-1476645,1476652,1476680,1477094,1477530,1478382,1478748,1479117,14792=
16,1479222,1479411,1479528,1479905,1479966,1480046,1480627,1481197,1481302,=
1481306,1481396-1481397,1481891,1482041,1482075,1482170,1482555,1482859,148=
2996,1483005,1483027,1483190,1484343,1484398,1484832,1484910,1484914,148540=
9,1485668,1486490,1487528,1487530,1488158,1488164,1488296,1488471,1488492,1=
488644,1490493,1490507,1490550,1490761,1490994,1491155,1491221,1491234,1491=
458,1491479,1491538,1491564,1491724,1492663,1492710,1492782,1493330,1493921=
,1493925,1494536,1495501,1496194,1496338,1496429,1496709,1497371,1497588,14=
98880,1499679,1500323,150
>
>  0345,1500362,1500423,1500437,1500483,1500519,1501294,1501369,1501399,150=
1913,1502665,1502772,1503680,1503866,1503990-1503991,1504276,1506714,150987=
2,1509983,1510084-1510085,1510098,1510588,1510707,1511093,1513492,1513508,1=
514039,1514064,1514214-1514215,1514255,1514267,1514617,1515050,1515162,1515=
403,1515411,1515420,1517025,1517045,1517175,1517366,1517386,1517388,1518265=
,1518269,1519475,1520368,1520445,1520760,1520908,1521909,1523235,1523239,15=
23281,1523387,1524101,1524158,1524192,1524368,1524388,1524770,1525276,15252=
80-1525281,1525931,1526168,1526189,1526647,1526666,1527008,1527220,1527291,=
1527294-1527295,1527509,1527925-1527926,1528143,1528718,1529014,1529277,152=
9449,1529559,1529988,1529991,1530793,1531340,1531370,1531505,1531672,153196=
1-1531962,1532746,1532816,1533065,1533224,1534321,1534754,1534890,1534892,1=
536310,1537535,1538490,1540051-1540052,1541181,1541270,1541368,1542338,1542=
379,1542533,1542562,1542615,1543020,1543147,1543149,1543174,1544381,1544774=
,1544784,1544812,1544820,
>
>  1545286,1545292,1545325,1545364,1545408,1545411,1546692-1546693,1546730,=
1546759-1546760,1546801,1546804-1546805,1546835-1546836,1547845,1550061,155=
0302,1550307,1551685,1551714,1551802,1552130,1552227,1553204,1553824,155416=
1,1554168,1554170,1554175-1554176,1554179,1554181,1554184,1554188,1554192,1=
554195,1554276,1554281,1554300-1554301,1554994-1554995,1555240,1555259,1555=
266,1555423-1555424,1555463-1555464,1555467,1555555,1555569,1556206,1556428=
,1556911-1556912,1556914,1556937,1557317,1557617,1558483,1559351,1559828,15=
60367,1560546,1560679,1560689,1560729,1560977,1560979,1561137,1561262,15613=
85,1561660,1561923,1562472,1563193,1563379,1563381,1563417-1563418,1563420,=
1564052,1564437,1564475,1564756,1564760,1565081,1565711,1568404,1569615,157=
0288,1570598,1571369,1572092,1572198,1572543,1572561,1572611,1572630,157265=
5,1572663,1572668-1572671,1572896,1572905,1572911,1572967,1573224,1573229,1=
573626,1574151,1575400,1576233,1576741,1578760,1578762,1580568,1583005,1583=
007-1583008,1583027,15831
>
>  75,1583191,1584098,1584430,1584434,1584572,1584653,1584658,1584665,15847=
03,1584878,1584884,1584896,1585054,1585072,1585090,1585435,1585609,1585824,=
1585918-1585919,1586745,1586827,1587036,1587040,1587053,1587255,1587594,158=
7639,1587654,1588054,1588065,1588213,1588330,1588427,1588519,1588527,158870=
4,1588851,1588853,1589413,1590437,1590509,1591143,1591320,1591322,1591328,1=
591390,1591394,1591401,1591472,1591508,1592032,1592037,1592500,1592511,1592=
514,1592529,1592615,1592632,1593745,1594625,1594643,1594648,1595305,1595321=
,1595426,1597182,1597349,1597352,1597639,1597642,1598107,1598946,1599535,16=
01076,1601184-1601185,1601274,1601291,1601624,1601630,1601919,1601995,16023=
38,1602978,1602989,1603027,1603029,1603122,1603156,1603915,1604382,1604461,=
1604631,1605207,1605827,1605829,1607960,1608284,1608785,1608999,1609914,160=
9936,1609938,1610207,1610311,1610353,1610366,1610491,1610652,1610674,161116=
5,1611169,1611244,1611600,1611871,1611978,1612068,1615026,1615289,1617018,1=
618401,1618541,1619297,16
>
>  19383,1619444,1619835,1620324,1620461,1620932,1621367,1621372,1621417,16=
21453,1621806,1622450,1624234,1624349,1625196,1625952,1626050,1626978,16281=
04,1628918-1628919,1628924,1628950,1629235,1629239,1629244,1629250,1629372,=
1629440-1629441,1629485,1629507-1629508,1629519,1629577,1629652,1629916,163=
1885,1632454,1632740,1632742,1633730-1633731,1633793,1634120,1634237,163442=
5,1634736,1634836,1635510,1635558,1635644-1635645,1635762,1637112,1638072-1=
638073,1638879,1639614,1640031,1640036,1640040,1640042,1640331,1641077,1641=
095,1641376,1642099,1642484,1642499,1642847,1642868,1643034,1643284,1643537=
,1643825,1644245,1646282,1646724,1647035,1648201,1648394,1648433,1648719,16=
48840,1649001,1649043,1649632,1649966,1650047,1650061,1650309-1650310,16503=
20,1651088,1652829,1652929,1652931,1652955,1652982,1652985,1652989,1653941,=
1653978,1653997,1656225,1656669,1657256,1657261,1657636,1657638,1657685,165=
7881,1657897,1658760,1658765,1661067,1661258,1661448,1661464,1661486,166224=
5-1662246,1663017,1663647
>
>  ,1664071,1664133,1664205,1664299,1664709,1665215,1665218,1665625,1665643=
,1665721,1666297,1666361,1666363,1666468,1666618,1666998,1667385-1667386,16=
68532,1668535,1668553,1669130,1669289,1669292,1670434,1671364,1671396-16713=
97,1671918,1672289,1672453,1672466,1672480,1672483,1672564,1672757,1672985,=
1672989,1673113,1673155,1673368,1673455,1673769,1674056,1674538,1674542,167=
4606,1674632,1674697,1675103,1675410,1675533,1676085,1676654,1676709,167684=
2,1677096,1677143-1677146,1677149,1677151,1677153-1677156,1677159,1677339,1=
677462,1677702,1677830,1677832,1677834-1677835,1678763,1679032,1679181-1679=
182,1679192,1679428,1679432,1679470,1679620,1679712,1680276,1680895,1680900=
,1680942,1681037,1681424,1681440,1681685,1681694,1681795,1682482,1682816,16=
82819,1682907,1682923,1682937,1682979,1682988,1683044,1683047,1683123,16838=
81,1683884,1684057,1684171,1684900,1685069,1685339,1685345,1685347,1685349-=
1685350,1685650,1685659,1685779,1686085,1686853,1686856,1687539,1687680,168=
7980,1688274,1688331,1688
>
>  339-1688341,1688343,1688474-1688475,1688536,1688538,1688660,1689325,1689=
605,1689694,1689698,1690120,1690137,1690248,1691374,1691582,1691592,1691819=
,1691908,1692285,1692432,1692486,1692516,1693792,1693918-1693919,1693963,16=
94903,1694936,1694950-1694951,1695170,1695727,1695874,1695885,1695920,16961=
05,1696264,1696266,1696279,1696428,1696442,1696565,1696592,1696607,1696755,=
1696881,1697013,1697015,1697051,1697323,1697339,1697370,1697389,1697446,169=
7543,1697634,1697855,1698023,1698103,1698107,1698116,1698133,1698330,170027=
1,1700275,1700317-1700322,1700326,1700328,1700330-1700332,1700334,1700336,1=
700338,1700418,1700514,1700777,1700851,1700917,1700925,1700968,1701005,1701=
145,1701178,1701204,1701347,1701436,1701545,1701717,1702643,1702919,1703152=
,1703417,1703642,1703807,1703813,1703822,1703871,1703902,1703952,1704099,17=
04241,1704262,1704797,1704799,1704826,1705099,1705134,1705194,1705257,17057=
49,1705776,1705823,1705826,1705828,1705833,1705983,1706275,1706627,1706635,=
1706637,1706640,1706918,1
>
>  706942,1706989,1707002,1707230-1707231,1707497,1707519,1707591,1707626-1=
707627,1707640,1707831,1707883,1707889,1708107,1709008,1709587,1709596,1709=
602,1709995,1710095,1710105,1710231,1710380,1710391,1710419,1710572,1710583=
,1710723,1711479,1711553,1711648,1711728,1711902,1712382,1713040,1713209,17=
13937,1715023,1715255,1715273,1715567-1715568,1715570-1715572,1715576,17155=
81-1715585,1716211,1716388,1716460,1716487,1716660,1716940,1717063,1717086,=
1717639,1717816,1717934,1717958,1717975,1717985,1718314,1718338,1718400,171=
8514,1718556,1718569,1718598,1719016,1719018,1719189-1719190,1719252,171925=
4-1719255,1719257,1719967,1720996,1721313,1721685,1721899,1722137,1722154,1=
722572,1722701,1723122,1723143,1723284,1723567,1724847,1724857,1725149,1725=
325,1725392,1725394-1725395,1725445,1725468,1725485,1725516,1725940,1726009=
,1726026,1726086,1726233,1726798,1726881,1726888,1727071,1727111,1727317,17=
27544,1727573,1727603,1727842,1729374,1729376,1729826,1729847,1729929-17299=
31,1729960,1730297,173064
>
>  0,1730865,1732252,1732353,1732369,1732716,1732954,1732986,1733056,173306=
4,1733068,1733275,1733523,1733691,1734125
>
> +/httpd/httpd/trunk:1200475,1200478,1200482,1200491,1200496,1200513,12005=
50,1200556,1200580,1200605,1200612,1200614,1200639,1200646,1200656,1200667,=
1200679,1200699,1200702,1200955,1200957,1200961,1200963,1200968,1200975,120=
0977,1201032,1201042,1201111,1201194,1201198,1201202,1201443,1201450,120146=
0,1201956,1202236,1202453,1202456,1202886,1203400,1203491,1203632,1203714,1=
203859,1203980,1204630,1204968,1204990,1205061,1205075,1205379,1205885,1206=
291,1206472,1206587,1206850,1206940,1206978,1207719,1208753,1208835,1209053=
,1209085,1209417,1209432,1209461,1209601,1209603,1209618,1209623,1209741,12=
09754,1209766,1209776,1209797-1209798,1209811-1209812,1209814,1209908,12099=
10,1209913,1209916-1209917,1209947,1209952,1210067,1210080,1210120,1210124,=
1210130,1210148,1210219,1210221,1210252,1210284,1210336,1210378,1210725,121=
0892,1210951,1210954,1211351-1211352,1211364,1211490,1211495,1211528,121166=
3,1211680,1212872,1212883,1213338,1213380-1213381,1213391,1213399,1213567,1=
214003,1214005,1214015,12
>
>  15514,1220462,1220467,1220493,1220524,1220570,1220768,1220794,1220826,12=
20846,1221205,1221292,1222335,1222370,1222473,1222915,1222917,1222921,12229=
30,1223048,1225060,1225197-1225199,1225223,1225380,1225476,1225478,1225791,=
1225795-1225796,1226339,1226375,1227910,1228700,1228816,1229024,1229059,122=
9099,1229116,1229134,1229136,1229930,1230286,1231255,1231257,1231442,123144=
6,1231508,1231510,1231518,1232575,1232594,1232630,1232838,1234180,1234297,1=
234479,1234511,1234565,1234574,1234642-1234643,1234876,1234899,1235019,1236=
122,1236701,1237407,1238545,1238768,1239029-1239030,1239071,1239565,1240315=
,1240470,1240778,1241069,1241071,1242089,1242798,1242967,1243176,1243246,12=
43797,1243799,1244211,1245717,1290823,1290835,1291819-1291820,1291834,12918=
40,1292043,1293405,1293534-1293535,1293658,1293678,1293708,1294306,1294349,=
1294356,1294358,1294372,1294471,1297560,1299718,1299786,1300766,1301111,130=
1725,1302444,1302483,1302653,1302665,1302674,1303201,1303435,1303827,130408=
7,1304874-1304875,1305167
>
>  ,1305586,1306350,1306409,1306426,1306841,1307790,1308327,1308459,1309536=
,1309567,1311468,1324760,1325218,1325227,1325250,1325265,1325275,1325632,13=
25724,1326980,1326984,1326991,1327689,1328325-1328326,1328339,1328345,13289=
50,1330189,1330964,1331110,1331115,1331942,1331977,1332378,1333969,1334343,=
1335882,1337344,1341906,1341913,1343085,1343087,1343094,1343099,1343109,134=
3935,1345319,1345329,1346905,1347980,1348036,1348653,1348656,1348660,134990=
5,1351012-1351020,1351071-1351072,1351074,1351737,1352047,1352534,1352909-1=
352912,1357685,1358061,1359057,1359881,1359884,1361153,1361298,1361766,1361=
773,1361778,1361784,1361791-1361792,1361801,1361803,1362020,1362538,1362707=
,1363035,1363183,1363186,1363312,1363440,1363557,1363589,1363829,1363832,13=
63836-1363837,1363853,1364133,1364138,1364229,1364601,1364695,1365001,13650=
20,1365029,1365479,1366319,1366344,1366621,1367778,1367819,1368053,1368058,=
1368094,1368121,1368131,1368393,1368396,1369419,1369568,1369604,1369618,136=
9904,1369995,1369999,1370
>
>  001,1370466,1370592,1370615-1370616,1370763,1371387,1371791,1371801,1371=
878,1371903,1373270,1373447,1373898,1373955,1374157,1374199,1374247,1374874=
,1374877,1374880,1375006,1375009,1375011,1375013,1375584,1376695,1376700,13=
78178,1383490,1384408,1384913,1386576,1386578,1386726,1386822,1386880,13869=
13,1387085,1387088,1387110,1387389,1387444,1387603,1387607,1387633,1387693,=
1387979,1388029,1388445,1388447,1388648,1388660,1388825,1388899,1389316,138=
9339,1389481,1389506,1389564,1389566-1389569,1390562,1390564,1391396,139139=
8,1391771,1392120,1392122,1392150,1392214,1392345-1392347,1392850,1393033,1=
393058,1393152,1393338,1393564,1394079,1395225,1395253-1395256,1395792,1397=
172,1397320,1397636,1397687,1397710,1397716,1398025,1398040,1398066,1398478=
,1398480-1398481,1398970,1399413,1399687,1399708,1400700,1401448,1402924,14=
03476,1403483,1403492,1404653,1405407,1405856,1405973,1406068,1406493,14064=
95,1406616,1406646,1406760,1407004,1407006,1407085,1407088,1407248,1407381,=
1407459-1407460,1407528,1
>
>  407853,1407965,1408093,1408402,1408958,1408961,1409170,1409437,1409726,1=
409800,1410681,1410954,1411862,1412278,1413732,1414094,1415008,1415023,1415=
075,1416121,1416150,1416278,1417197,1417440,1417529,1418524,1418556,1418648=
,1418655,1418703,1418721,1418752,1418769,1419084,1419719,1419726,1419755,14=
19781,1419796,1420120,1420124,1420149,1420184,1420644,1420685-1420686,14209=
75,1421288,1421323,1421851,1421912,1421953,1422135,1422549,1422594,1422712,=
1422855,1422937,1422943,1422980,1423353,1423933,1425360,1425771-1425772,142=
5775,1425777,1425874,1426850,1426975,1427546,1428184,1428280,1428916,142922=
8,1429559,1429561,1429564,1429582,1430575,1430814,1430869,1433001,1433613,1=
433682,1433861,1433988,1435178,1435811,1436058,1436401,1439083,1439106,1439=
114,1439404,1439623,1442309,1442320,1442326,1442412,1442759,1442865,1447993=
,1448171,1448453,1451478,1451484,1451633,1451849,1451905,1451921,1452128,14=
52195,1452259,1452281,1452551,1452911,1452949,1452954,1453022,1453574,14536=
04,1453875-1453876,145396
>
>  3,1453981,1454386,1454414-1454415,1454888,1457437,1457450,1457471,145750=
4,1457520-1457521,1457610,1457995,1458003-1458004,1458020,1458285,1458447,1=
458456,1462266,1462269,1462643,1463044-1463047,1463052,1463056,1463455,1463=
736,1463750,1463754,1464675,1464721,1464762,1465115-1465116,1465190,1467765=
,1468581,1470183,1470679,1470940,1471449,1475878,1476604,1476621,1476642,14=
76644-1476645,1476652,1476680,1477094,1477530,1478382,1478748,1479117,14792=
16,1479222,1479411,1479528,1479905,1479966,1480046,1480627,1481197,1481302,=
1481306,1481396-1481397,1481891,1482041,1482075,1482170,1482555,1482859,148=
2996,1483005,1483027,1483190,1484343,1484398,1484832,1484910,1484914,148540=
9,1485668,1486490,1487528,1487530,1488158,1488164,1488296,1488471,1488492,1=
488644,1490493,1490507,1490550,1490761,1490994,1491155,1491221,1491234,1491=
458,1491479,1491538,1491564,1491724,1492663,1492710,1492782,1493330,1493921=
,1493925,1494536,1495501,1496194,1496338,1496429,1496709,1497371,1497588,14=
98880,1499679,1500323,150
>
>  0345,1500362,1500423,1500437,1500483,1500519,1501294,1501369,1501399,150=
1913,1502665,1502772,1503680,1503866,1503990-1503991,1504276,1506714,150987=
2,1509983,1510084-1510085,1510098,1510588,1510707,1511093,1513492,1513508,1=
514039,1514064,1514214-1514215,1514255,1514267,1514617,1515050,1515162,1515=
403,1515411,1515420,1517025,1517045,1517175,1517366,1517386,1517388,1518265=
,1518269,1519475,1520368,1520445,1520760,1520908,1521909,1523235,1523239,15=
23281,1523387,1524101,1524158,1524192,1524368,1524388,1524770,1525276,15252=
80-1525281,1525931,1526168,1526189,1526647,1526666,1527008,1527220,1527291,=
1527294-1527295,1527509,1527925-1527926,1528143,1528718,1529014,1529277,152=
9449,1529559,1529988,1529991,1530793,1531340,1531370,1531505,1531672,153196=
1-1531962,1532746,1532816,1533065,1533224,1534321,1534754,1534890,1534892,1=
536310,1537535,1538490,1540051-1540052,1541181,1541270,1541368,1542338,1542=
379,1542533,1542562,1542615,1543020,1543147,1543149,1543174,1544381,1544774=
,1544784,1544812,1544820,
>
>  1545286,1545292,1545325,1545364,1545408,1545411,1546692-1546693,1546730,=
1546759-1546760,1546801,1546804-1546805,1546835-1546836,1547845,1550061,155=
0302,1550307,1551685,1551714,1551802,1552130,1552227,1553204,1553824,155416=
1,1554168,1554170,1554175-1554176,1554179,1554181,1554184,1554188,1554192,1=
554195,1554276,1554281,1554300-1554301,1554994-1554995,1555240,1555259,1555=
266,1555423-1555424,1555463-1555464,1555467,1555555,1555569,1556206,1556428=
,1556911-1556912,1556914,1556937,1557317,1557617,1558483,1559351,1559828,15=
60367,1560546,1560679,1560689,1560729,1560977,1560979,1561137,1561262,15613=
85,1561660,1561923,1562472,1563193,1563379,1563381,1563417-1563418,1563420,=
1564052,1564437,1564475,1564756,1564760,1565081,1565711,1568404,1569615,157=
0288,1570598,1571369,1572092,1572198,1572543,1572561,1572611,1572630,157265=
5,1572663,1572668-1572671,1572896,1572905,1572911,1572967,1573224,1573229,1=
573626,1574151,1575400,1576233,1576741,1578760,1578762,1580568,1583005,1583=
007-1583008,1583027,15831
>
>  75,1583191,1584098,1584430,1584434,1584572,1584653,1584658,1584665,15847=
03,1584878,1584884,1584896,1585054,1585072,1585090,1585435,1585609,1585824,=
1585918-1585919,1586745,1586827,1587036,1587040,1587053,1587255,1587594,158=
7639,1587654,1588054,1588065,1588213,1588330,1588427,1588519,1588527,158870=
4,1588851,1588853,1589413,1590437,1590509,1591143,1591320,1591322,1591328,1=
591390,1591394,1591401,1591472,1591508,1592032,1592037,1592500,1592511,1592=
514,1592529,1592615,1592632,1593745,1594625,1594643,1594648,1595305,1595321=
,1595426,1597182,1597349,1597352,1597639,1597642,1598107,1598946,1599535,16=
01076,1601184-1601185,1601274,1601291,1601624,1601630,1601919,1601995,16023=
38,1602978,1602989,1603027,1603029,1603122,1603156,1603915,1604382,1604461,=
1604631,1605207,1605827,1605829,1607960,1608284,1608785,1608999,1609914,160=
9936,1609938,1610207,1610311,1610353,1610366,1610491,1610652,1610674,161116=
5,1611169,1611244,1611600,1611871,1611978,1612068,1615026,1615289,1617018,1=
618401,1618541,1619297,16
>
>  19383,1619444,1619835,1620324,1620461,1620932,1621367,1621372,1621417,16=
21453,1621806,1622450,1624234,1624349,1625196,1625952,1626050,1626978,16281=
04,1628918-1628919,1628924,1628950,1629235,1629239,1629244,1629250,1629372,=
1629440-1629441,1629485,1629507-1629508,1629519,1629577,1629652,1629916,163=
1885,1632454,1632740,1632742,1633730-1633731,1633793,1634120,1634237,163442=
5,1634736,1634836,1635510,1635558,1635644-1635645,1635762,1637112,1638072-1=
638073,1638879,1639614,1640031,1640036,1640040,1640042,1640331,1641077,1641=
095,1641376,1642099,1642484,1642499,1642847,1642868,1643034,1643284,1643537=
,1643825,1644245,1646282,1646724,1647035,1648201,1648394,1648433,1648719,16=
48840,1649001,1649043,1649632,1649966,1650047,1650061,1650309-1650310,16503=
20,1651088,1652829,1652929,1652931,1652955,1652982,1652985,1652989,1653941,=
1653978,1653997,1656225,1656669,1657256,1657261,1657636,1657638,1657685,165=
7881,1657897,1658760,1658765,1661067,1661258,1661448,1661464,1661486,166224=
5-1662246,1663017,1663647
>
>  ,1664071,1664133,1664205,1664299,1664709,1665215,1665218,1665625,1665643=
,1665721,1666297,1666361,1666363,1666468,1666618,1666998,1667385-1667386,16=
68532,1668535,1668553,1669130,1669289,1669292,1670434,1671364,1671396-16713=
97,1671918,1672289,1672453,1672466,1672480,1672483,1672564,1672757,1672985,=
1672989,1673113,1673155,1673368,1673455,1673769,1674056,1674538,1674542,167=
4606,1674632,1674697,1675103,1675410,1675533,1676085,1676654,1676709,167684=
2,1677096,1677143-1677146,1677149,1677151,1677153-1677156,1677159,1677339,1=
677462,1677702,1677830,1677832,1677834-1677835,1678763,1679032,1679181-1679=
182,1679192,1679428,1679432,1679470,1679620,1679712,1680276,1680895,1680900=
,1680942,1681037,1681424,1681440,1681685,1681694,1681795,1682482,1682816,16=
82819,1682907,1682923,1682937,1682979,1682988,1683044,1683047,1683123,16838=
81,1683884,1684057,1684171,1684900,1685069,1685339,1685345,1685347,1685349-=
1685350,1685650,1685659,1685779,1686085,1686853,1686856,1687539,1687680,168=
7980,1688274,1688331,1688
>
>  339-1688341,1688343,1688474-1688475,1688536,1688538,1688660,1689325,1689=
605,1689694,1689698,1690120,1690137,1690248,1691374,1691582,1691592,1691819=
,1691908,1692285,1692432,1692486,1692516,1693792,1693918-1693919,1693963,16=
94903,1694936,1694950-1694951,1695170,1695727,1695874,1695885,1695920,16961=
05,1696264,1696266,1696279,1696428,1696442,1696565,1696592,1696607,1696755,=
1696881,1697013,1697015,1697051,1697323,1697339,1697370,1697389,1697446,169=
7543,1697634,1697855,1698023,1698103,1698107,1698116,1698133,1698330,170027=
1,1700275,1700317-1700322,1700326,1700328,1700330-1700332,1700334,1700336,1=
700338,1700418,1700514,1700777,1700851,1700917,1700925,1700968,1701005,1701=
145,1701178,1701204,1701347,1701436,1701545,1701717,1702643,1702919,1703152=
,1703417,1703642,1703807,1703813,1703822,1703871,1703902,1703952,1704099,17=
04241,1704262,1704797,1704799,1704826,1705099,1705134,1705194,1705257,17057=
49,1705776,1705823,1705826,1705828,1705833,1705983,1706275,1706627,1706635,=
1706637,1706640,1706918,1
>
>  706942,1706989,1707002,1707230-1707231,1707497,1707519,1707591,1707626-1=
707627,1707640,1707831,1707883,1707889,1708107,1709008,1709587,1709596,1709=
602,1709995,1710095,1710105,1710231,1710380,1710391,1710419,1710572,1710583=
,1710723,1711479,1711553,1711648,1711728,1711902,1712382,1713040,1713209,17=
13937,1715023,1715255,1715273,1715567-1715568,1715570-1715572,1715576,17155=
81-1715585,1716211,1716388,1716460,1716487,1716660,1716940,1717063,1717086,=
1717639,1717816,1717934,1717958,1717975,1717985,1718314,1718338,1718400,171=
8514,1718556,1718569,1718598,1719016,1719018,1719189-1719190,1719252,171925=
4-1719255,1719257,1719967,1720996,1721313,1721685,1721899,1722137,1722154,1=
722572,1722701,1723122,1723143,1723284,1723567,1724847,1724857,1725149,1725=
325,1725392,1725394-1725395,1725445,1725468,1725485,1725516,1725940,1726009=
,1726026,1726086,1726233,1726798,1726881,1726888,1727071,1727111,1727317,17=
27544,1727573,1727603,1727842,1729374,1729376,1729826,1729847,1729929-17299=
31,1729960,1730297,173064
>
>  0,1730865,1732252,1732353,1732369,1732716,1732954,1732986,1733056,173306=
4,1733068,1733275,1733523,1733691,1734006,1734125
>
> Modified: httpd/httpd/branches/2.4.x/CHANGES
> URL:
> http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/CHANGES?rev=3D173=
4396&r1=3D1734395&r2=3D1734396&view=3Ddiff
>
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D
> --- httpd/httpd/branches/2.4.x/CHANGES [utf-8] (original)
> +++ httpd/httpd/branches/2.4.x/CHANGES [utf-8] Thu Mar 10 12:31:13 2016
> @@ -2,6 +2,9 @@
>
>  Changes with Apache 2.4.19
>
> +  *) mod_ssl: Don't lose track of the SSL context if the
> ssl_run_pre_handshake()
> +     hook returns an error. [Graham Leggett]
> +
>    *) mod_rewrite: Add QSL|qslast flag to allow rewrites to files with
>       literal question marks in their names. PR 58777. [Eric Covener]
>
>
> Modified: httpd/httpd/branches/2.4.x/STATUS
> URL:
> http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/STATUS?rev=3D1734=
396&r1=3D1734395&r2=3D1734396&view=3Ddiff
>
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D
> --- httpd/httpd/branches/2.4.x/STATUS (original)
> +++ httpd/httpd/branches/2.4.x/STATUS Thu Mar 10 12:31:13 2016
> @@ -112,12 +112,6 @@ RELEASE SHOWSTOPPERS:
>  PATCHES ACCEPTED TO BACKPORT FROM TRUNK:
>    [ start all new proposals below, under PATCHES PROPOSED. ]
>
> -  *) mod_ssl: Don't lose track of the SSL context if the
> ssl_run_pre_handshake()
> -     hook returns an error.
> -     trunk patch: http://svn.apache.org/r1734006
> -     2.4.x patch: trunk patch works (modulo CHANGES)
> -     +1: minfrin, jim, ylavic
> -
>    *) mod_rewrite: bug in recently backported r1734125.
>       trunk patch: http://svn.apache.org/r1734294.
>       2.4.x patch: trunk works
>
> Modified: httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl.c
> URL:
> http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/modules/ssl/mod_s=
sl.c?rev=3D1734396&r1=3D1734395&r2=3D1734396&view=3Ddiff
>
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D
> --- httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl.c (original)
> +++ httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl.c Thu Mar 10 12:31:13
> 2016
> @@ -468,7 +468,7 @@ int ssl_init_ssl_connection(conn_rec *c,
>       * attach this to the socket. Additionally we register this attachme=
nt
>       * so we can detach later.
>       */
> -    if (!(ssl =3D SSL_new(mctx->ssl_ctx))) {
> +    if (!(sslconn->ssl =3D ssl =3D SSL_new(mctx->ssl_ctx))) {
>          ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(01962)
>                        "Unable to create a new SSL connection from the SS=
L
> "
>                        "context");
> @@ -497,8 +497,6 @@ int ssl_init_ssl_connection(conn_rec *c,
>      SSL_set_app_data(ssl, c);
>      modssl_set_app_data2(ssl, NULL); /* will be request_rec */
>
> -    sslconn->ssl =3D ssl;
> -
>      SSL_set_verify_result(ssl, X509_V_OK);
>
>      ssl_io_filter_init(c, r, ssl);
>
>
>


--=20
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a1138f268c5e604052e54eee0
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Mar 10, 2016 at 7:31 AM,  <span dir=3D"ltr">&lt;<a href=3D"mailto:ylavi=
c@apache.org" target=3D"_blank">ylavic@apache.org</a>&gt;</span> wrote:<br>=
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">Author: ylavic<br>
Date: Thu Mar 10 12:31:13 2016<br>
New Revision: 1734396<br>
<br>
URL: <a href=3D"http://svn.apache.org/viewvc?rev=3D1734396&amp;view=3Drev" =
rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc?rev=3D173=
4396&amp;view=3Drev</a><br>
Log:<br>
Merge r1734006 from trunk:<br>
<br>
mod_ssl: Don&#39;t lose track of the SSL context if the ssl_run_pre_handsha=
ke()<br>
hook returns an error.<br></blockquote><div><br></div><div>The ssl_run_pre_=
handshake() hook doesn&#39;t exist in the 2.4.x branch.=C2=A0 I would rathe=
r like it to exist there and will propose so after some testing, but it isn=
&#39;t yet clear that the CHANGES entry will make sense for httpd 2.4.19. =
=C2=A0(We&#39;ll see.)</div><div>=C2=A0</div><blockquote class=3D"gmail_quo=
te" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"=
>
<br>
Submitted by: minfrin<br>
Reviewed by: minfrin, jim, ylavic<br>
Backported by: ylavic<br>
<br>
Modified:<br>
=C2=A0 =C2=A0 httpd/httpd/branches/2.4.x/=C2=A0 =C2=A0(props changed)<br>
=C2=A0 =C2=A0 httpd/httpd/branches/2.4.x/CHANGES<br>
=C2=A0 =C2=A0 httpd/httpd/branches/2.4.x/STATUS<br>
=C2=A0 =C2=A0 httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl.c<br>
<br>
Propchange: httpd/httpd/branches/2.4.x/<br>
---------------------------------------------------------------------------=
---<br>
--- svn:mergeinfo (original)<br>
+++ svn:mergeinfo Thu Mar 10 12:31:13 2016<br>
@@ -2,4 +2,4 @@<br>
=C2=A0/httpd/httpd/branches/2.4.17-protocols-http2:1701609-1705681<br>
=C2=A0/httpd/httpd/branches/revert-ap-ldap:1150158-1150173<br>
=C2=A0/httpd/httpd/branches/wombat-integration:723609-723841<br>
-/httpd/httpd/trunk:1200475,1200478,1200482,1200491,1200496,1200513,1200550=
,1200556,1200580,1200605,1200612,1200614,1200639,1200646,1200656,1200667,12=
00679,1200699,1200702,1200955,1200957,1200961,1200963,1200968,1200975,12009=
77,1201032,1201042,1201111,1201194,1201198,1201202,1201443,1201450,1201460,=
1201956,1202236,1202453,1202456,1202886,1203400,1203491,1203632,1203714,120=
3859,1203980,1204630,1204968,1204990,1205061,1205075,1205379,1205885,120629=
1,1206472,1206587,1206850,1206940,1206978,1207719,1208753,1208835,1209053,1=
209085,1209417,1209432,1209461,1209601,1209603,1209618,1209623,1209741,1209=
754,1209766,1209776,1209797-1209798,1209811-1209812,1209814,1209908,1209910=
,1209913,1209916-1209917,1209947,1209952,1210067,1210080,1210120,1210124,12=
10130,1210148,1210219,1210221,1210252,1210284,1210336,1210378,1210725,12108=
92,1210951,1210954,1211351-1211352,1211364,1211490,1211495,1211528,1211663,=
1211680,1212872,1212883,1213338,1213380-1213381,1213391,1213399,1213567,121=
4003,1214005,1214015,12<br>
=C2=A015514,1220462,1220467,1220493,1220524,1220570,1220768,1220794,1220826=
,1220846,1221205,1221292,1222335,1222370,1222473,1222915,1222917,1222921,12=
22930,1223048,1225060,1225197-1225199,1225223,1225380,1225476,1225478,12257=
91,1225795-1225796,1226339,1226375,1227910,1228700,1228816,1229024,1229059,=
1229099,1229116,1229134,1229136,1229930,1230286,1231255,1231257,1231442,123=
1446,1231508,1231510,1231518,1232575,1232594,1232630,1232838,1234180,123429=
7,1234479,1234511,1234565,1234574,1234642-1234643,1234876,1234899,1235019,1=
236122,1236701,1237407,1238545,1238768,1239029-1239030,1239071,1239565,1240=
315,1240470,1240778,1241069,1241071,1242089,1242798,1242967,1243176,1243246=
,1243797,1243799,1244211,1245717,1290823,1290835,1291819-1291820,1291834,12=
91840,1292043,1293405,1293534-1293535,1293658,1293678,1293708,1294306,12943=
49,1294356,1294358,1294372,1294471,1297560,1299718,1299786,1300766,1301111,=
1301725,1302444,1302483,1302653,1302665,1302674,1303201,1303435,1303827,130=
4087,1304874-1304875,1305167<br>
=C2=A0,1305586,1306350,1306409,1306426,1306841,1307790,1308327,1308459,1309=
536,1309567,1311468,1324760,1325218,1325227,1325250,1325265,1325275,1325632=
,1325724,1326980,1326984,1326991,1327689,1328325-1328326,1328339,1328345,13=
28950,1330189,1330964,1331110,1331115,1331942,1331977,1332378,1333969,13343=
43,1335882,1337344,1341906,1341913,1343085,1343087,1343094,1343099,1343109,=
1343935,1345319,1345329,1346905,1347980,1348036,1348653,1348656,1348660,134=
9905,1351012-1351020,1351071-1351072,1351074,1351737,1352047,1352534,135290=
9-1352912,1357685,1358061,1359057,1359881,1359884,1361153,1361298,1361766,1=
361773,1361778,1361784,1361791-1361792,1361801,1361803,1362020,1362538,1362=
707,1363035,1363183,1363186,1363312,1363440,1363557,1363589,1363829,1363832=
,1363836-1363837,1363853,1364133,1364138,1364229,1364601,1364695,1365001,13=
65020,1365029,1365479,1366319,1366344,1366621,1367778,1367819,1368053,13680=
58,1368094,1368121,1368131,1368393,1368396,1369419,1369568,1369604,1369618,=
1369904,1369995,1369999,1370<br>
=C2=A0001,1370466,1370592,1370615-1370616,1370763,1371387,1371791,1371801,1=
371878,1371903,1373270,1373447,1373898,1373955,1374157,1374199,1374247,1374=
874,1374877,1374880,1375006,1375009,1375011,1375013,1375584,1376695,1376700=
,1378178,1383490,1384408,1384913,1386576,1386578,1386726,1386822,1386880,13=
86913,1387085,1387088,1387110,1387389,1387444,1387603,1387607,1387633,13876=
93,1387979,1388029,1388445,1388447,1388648,1388660,1388825,1388899,1389316,=
1389339,1389481,1389506,1389564,1389566-1389569,1390562,1390564,1391396,139=
1398,1391771,1392120,1392122,1392150,1392214,1392345-1392347,1392850,139303=
3,1393058,1393152,1393338,1393564,1394079,1395225,1395253-1395256,1395792,1=
397172,1397320,1397636,1397687,1397710,1397716,1398025,1398040,1398066,1398=
478,1398480-1398481,1398970,1399413,1399687,1399708,1400700,1401448,1402924=
,1403476,1403483,1403492,1404653,1405407,1405856,1405973,1406068,1406493,14=
06495,1406616,1406646,1406760,1407004,1407006,1407085,1407088,1407248,14073=
81,1407459-1407460,1407528,1<br>
=C2=A0407853,1407965,1408093,1408402,1408958,1408961,1409170,1409437,140972=
6,1409800,1410681,1410954,1411862,1412278,1413732,1414094,1415008,1415023,1=
415075,1416121,1416150,1416278,1417197,1417440,1417529,1418524,1418556,1418=
648,1418655,1418703,1418721,1418752,1418769,1419084,1419719,1419726,1419755=
,1419781,1419796,1420120,1420124,1420149,1420184,1420644,1420685-1420686,14=
20975,1421288,1421323,1421851,1421912,1421953,1422135,1422549,1422594,14227=
12,1422855,1422937,1422943,1422980,1423353,1423933,1425360,1425771-1425772,=
1425775,1425777,1425874,1426850,1426975,1427546,1428184,1428280,1428916,142=
9228,1429559,1429561,1429564,1429582,1430575,1430814,1430869,1433001,143361=
3,1433682,1433861,1433988,1435178,1435811,1436058,1436401,1439083,1439106,1=
439114,1439404,1439623,1442309,1442320,1442326,1442412,1442759,1442865,1447=
993,1448171,1448453,1451478,1451484,1451633,1451849,1451905,1451921,1452128=
,1452195,1452259,1452281,1452551,1452911,1452949,1452954,1453022,1453574,14=
53604,1453875-1453876,145396<br>
=C2=A03,1453981,1454386,1454414-1454415,1454888,1457437,1457450,1457471,145=
7504,1457520-1457521,1457610,1457995,1458003-1458004,1458020,1458285,145844=
7,1458456,1462266,1462269,1462643,1463044-1463047,1463052,1463056,1463455,1=
463736,1463750,1463754,1464675,1464721,1464762,1465115-1465116,1465190,1467=
765,1468581,1470183,1470679,1470940,1471449,1475878,1476604,1476621,1476642=
,1476644-1476645,1476652,1476680,1477094,1477530,1478382,1478748,1479117,14=
79216,1479222,1479411,1479528,1479905,1479966,1480046,1480627,1481197,14813=
02,1481306,1481396-1481397,1481891,1482041,1482075,1482170,1482555,1482859,=
1482996,1483005,1483027,1483190,1484343,1484398,1484832,1484910,1484914,148=
5409,1485668,1486490,1487528,1487530,1488158,1488164,1488296,1488471,148849=
2,1488644,1490493,1490507,1490550,1490761,1490994,1491155,1491221,1491234,1=
491458,1491479,1491538,1491564,1491724,1492663,1492710,1492782,1493330,1493=
921,1493925,1494536,1495501,1496194,1496338,1496429,1496709,1497371,1497588=
,1498880,1499679,1500323,150<br>
=C2=A00345,1500362,1500423,1500437,1500483,1500519,1501294,1501369,1501399,=
1501913,1502665,1502772,1503680,1503866,1503990-1503991,1504276,1506714,150=
9872,1509983,1510084-1510085,1510098,1510588,1510707,1511093,1513492,151350=
8,1514039,1514064,1514214-1514215,1514255,1514267,1514617,1515050,1515162,1=
515403,1515411,1515420,1517025,1517045,1517175,1517366,1517386,1517388,1518=
265,1518269,1519475,1520368,1520445,1520760,1520908,1521909,1523235,1523239=
,1523281,1523387,1524101,1524158,1524192,1524368,1524388,1524770,1525276,15=
25280-1525281,1525931,1526168,1526189,1526647,1526666,1527008,1527220,15272=
91,1527294-1527295,1527509,1527925-1527926,1528143,1528718,1529014,1529277,=
1529449,1529559,1529988,1529991,1530793,1531340,1531370,1531505,1531672,153=
1961-1531962,1532746,1532816,1533065,1533224,1534321,1534754,1534890,153489=
2,1536310,1537535,1538490,1540051-1540052,1541181,1541270,1541368,1542338,1=
542379,1542533,1542562,1542615,1543020,1543147,1543149,1543174,1544381,1544=
774,1544784,1544812,1544820,<br>
=C2=A01545286,1545292,1545325,1545364,1545408,1545411,1546692-1546693,15467=
30,1546759-1546760,1546801,1546804-1546805,1546835-1546836,1547845,1550061,=
1550302,1550307,1551685,1551714,1551802,1552130,1552227,1553204,1553824,155=
4161,1554168,1554170,1554175-1554176,1554179,1554181,1554184,1554188,155419=
2,1554195,1554276,1554281,1554300-1554301,1554994-1554995,1555240,1555259,1=
555266,1555423-1555424,1555463-1555464,1555467,1555555,1555569,1556206,1556=
428,1556911-1556912,1556914,1556937,1557317,1557617,1558483,1559351,1559828=
,1560367,1560546,1560679,1560689,1560729,1560977,1560979,1561137,1561262,15=
61385,1561660,1561923,1562472,1563193,1563379,1563381,1563417-1563418,15634=
20,1564052,1564437,1564475,1564756,1564760,1565081,1565711,1568404,1569615,=
1570288,1570598,1571369,1572092,1572198,1572543,1572561,1572611,1572630,157=
2655,1572663,1572668-1572671,1572896,1572905,1572911,1572967,1573224,157322=
9,1573626,1574151,1575400,1576233,1576741,1578760,1578762,1580568,1583005,1=
583007-1583008,1583027,15831<br>
=C2=A075,1583191,1584098,1584430,1584434,1584572,1584653,1584658,1584665,15=
84703,1584878,1584884,1584896,1585054,1585072,1585090,1585435,1585609,15858=
24,1585918-1585919,1586745,1586827,1587036,1587040,1587053,1587255,1587594,=
1587639,1587654,1588054,1588065,1588213,1588330,1588427,1588519,1588527,158=
8704,1588851,1588853,1589413,1590437,1590509,1591143,1591320,1591322,159132=
8,1591390,1591394,1591401,1591472,1591508,1592032,1592037,1592500,1592511,1=
592514,1592529,1592615,1592632,1593745,1594625,1594643,1594648,1595305,1595=
321,1595426,1597182,1597349,1597352,1597639,1597642,1598107,1598946,1599535=
,1601076,1601184-1601185,1601274,1601291,1601624,1601630,1601919,1601995,16=
02338,1602978,1602989,1603027,1603029,1603122,1603156,1603915,1604382,16044=
61,1604631,1605207,1605827,1605829,1607960,1608284,1608785,1608999,1609914,=
1609936,1609938,1610207,1610311,1610353,1610366,1610491,1610652,1610674,161=
1165,1611169,1611244,1611600,1611871,1611978,1612068,1615026,1615289,161701=
8,1618401,1618541,1619297,16<br>
=C2=A019383,1619444,1619835,1620324,1620461,1620932,1621367,1621372,1621417=
,1621453,1621806,1622450,1624234,1624349,1625196,1625952,1626050,1626978,16=
28104,1628918-1628919,1628924,1628950,1629235,1629239,1629244,1629250,16293=
72,1629440-1629441,1629485,1629507-1629508,1629519,1629577,1629652,1629916,=
1631885,1632454,1632740,1632742,1633730-1633731,1633793,1634120,1634237,163=
4425,1634736,1634836,1635510,1635558,1635644-1635645,1635762,1637112,163807=
2-1638073,1638879,1639614,1640031,1640036,1640040,1640042,1640331,1641077,1=
641095,1641376,1642099,1642484,1642499,1642847,1642868,1643034,1643284,1643=
537,1643825,1644245,1646282,1646724,1647035,1648201,1648394,1648433,1648719=
,1648840,1649001,1649043,1649632,1649966,1650047,1650061,1650309-1650310,16=
50320,1651088,1652829,1652929,1652931,1652955,1652982,1652985,1652989,16539=
41,1653978,1653997,1656225,1656669,1657256,1657261,1657636,1657638,1657685,=
1657881,1657897,1658760,1658765,1661067,1661258,1661448,1661464,1661486,166=
2245-1662246,1663017,1663647<br>
=C2=A0,1664071,1664133,1664205,1664299,1664709,1665215,1665218,1665625,1665=
643,1665721,1666297,1666361,1666363,1666468,1666618,1666998,1667385-1667386=
,1668532,1668535,1668553,1669130,1669289,1669292,1670434,1671364,1671396-16=
71397,1671918,1672289,1672453,1672466,1672480,1672483,1672564,1672757,16729=
85,1672989,1673113,1673155,1673368,1673455,1673769,1674056,1674538,1674542,=
1674606,1674632,1674697,1675103,1675410,1675533,1676085,1676654,1676709,167=
6842,1677096,1677143-1677146,1677149,1677151,1677153-1677156,1677159,167733=
9,1677462,1677702,1677830,1677832,1677834-1677835,1678763,1679032,1679181-1=
679182,1679192,1679428,1679432,1679470,1679620,1679712,1680276,1680895,1680=
900,1680942,1681037,1681424,1681440,1681685,1681694,1681795,1682482,1682816=
,1682819,1682907,1682923,1682937,1682979,1682988,1683044,1683047,1683123,16=
83881,1683884,1684057,1684171,1684900,1685069,1685339,1685345,1685347,16853=
49-1685350,1685650,1685659,1685779,1686085,1686853,1686856,1687539,1687680,=
1687980,1688274,1688331,1688<br>
=C2=A0339-1688341,1688343,1688474-1688475,1688536,1688538,1688660,1689325,1=
689605,1689694,1689698,1690120,1690137,1690248,1691374,1691582,1691592,1691=
819,1691908,1692285,1692432,1692486,1692516,1693792,1693918-1693919,1693963=
,1694903,1694936,1694950-1694951,1695170,1695727,1695874,1695885,1695920,16=
96105,1696264,1696266,1696279,1696428,1696442,1696565,1696592,1696607,16967=
55,1696881,1697013,1697015,1697051,1697323,1697339,1697370,1697389,1697446,=
1697543,1697634,1697855,1698023,1698103,1698107,1698116,1698133,1698330,170=
0271,1700275,1700317-1700322,1700326,1700328,1700330-1700332,1700334,170033=
6,1700338,1700418,1700514,1700777,1700851,1700917,1700925,1700968,1701005,1=
701145,1701178,1701204,1701347,1701436,1701545,1701717,1702643,1702919,1703=
152,1703417,1703642,1703807,1703813,1703822,1703871,1703902,1703952,1704099=
,1704241,1704262,1704797,1704799,1704826,1705099,1705134,1705194,1705257,17=
05749,1705776,1705823,1705826,1705828,1705833,1705983,1706275,1706627,17066=
35,1706637,1706640,1706918,1<br>
=C2=A0706942,1706989,1707002,1707230-1707231,1707497,1707519,1707591,170762=
6-1707627,1707640,1707831,1707883,1707889,1708107,1709008,1709587,1709596,1=
709602,1709995,1710095,1710105,1710231,1710380,1710391,1710419,1710572,1710=
583,1710723,1711479,1711553,1711648,1711728,1711902,1712382,1713040,1713209=
,1713937,1715023,1715255,1715273,1715567-1715568,1715570-1715572,1715576,17=
15581-1715585,1716211,1716388,1716460,1716487,1716660,1716940,1717063,17170=
86,1717639,1717816,1717934,1717958,1717975,1717985,1718314,1718338,1718400,=
1718514,1718556,1718569,1718598,1719016,1719018,1719189-1719190,1719252,171=
9254-1719255,1719257,1719967,1720996,1721313,1721685,1721899,1722137,172215=
4,1722572,1722701,1723122,1723143,1723284,1723567,1724847,1724857,1725149,1=
725325,1725392,1725394-1725395,1725445,1725468,1725485,1725516,1725940,1726=
009,1726026,1726086,1726233,1726798,1726881,1726888,1727071,1727111,1727317=
,1727544,1727573,1727603,1727842,1729374,1729376,1729826,1729847,1729929-17=
29931,1729960,1730297,173064<br>
=C2=A00,1730865,1732252,1732353,1732369,1732716,1732954,1732986,1733056,173=
3064,1733068,1733275,1733523,1733691,1734125<br>
+/httpd/httpd/trunk:1200475,1200478,1200482,1200491,1200496,1200513,1200550=
,1200556,1200580,1200605,1200612,1200614,1200639,1200646,1200656,1200667,12=
00679,1200699,1200702,1200955,1200957,1200961,1200963,1200968,1200975,12009=
77,1201032,1201042,1201111,1201194,1201198,1201202,1201443,1201450,1201460,=
1201956,1202236,1202453,1202456,1202886,1203400,1203491,1203632,1203714,120=
3859,1203980,1204630,1204968,1204990,1205061,1205075,1205379,1205885,120629=
1,1206472,1206587,1206850,1206940,1206978,1207719,1208753,1208835,1209053,1=
209085,1209417,1209432,1209461,1209601,1209603,1209618,1209623,1209741,1209=
754,1209766,1209776,1209797-1209798,1209811-1209812,1209814,1209908,1209910=
,1209913,1209916-1209917,1209947,1209952,1210067,1210080,1210120,1210124,12=
10130,1210148,1210219,1210221,1210252,1210284,1210336,1210378,1210725,12108=
92,1210951,1210954,1211351-1211352,1211364,1211490,1211495,1211528,1211663,=
1211680,1212872,1212883,1213338,1213380-1213381,1213391,1213399,1213567,121=
4003,1214005,1214015,12<br>
=C2=A015514,1220462,1220467,1220493,1220524,1220570,1220768,1220794,1220826=
,1220846,1221205,1221292,1222335,1222370,1222473,1222915,1222917,1222921,12=
22930,1223048,1225060,1225197-1225199,1225223,1225380,1225476,1225478,12257=
91,1225795-1225796,1226339,1226375,1227910,1228700,1228816,1229024,1229059,=
1229099,1229116,1229134,1229136,1229930,1230286,1231255,1231257,1231442,123=
1446,1231508,1231510,1231518,1232575,1232594,1232630,1232838,1234180,123429=
7,1234479,1234511,1234565,1234574,1234642-1234643,1234876,1234899,1235019,1=
236122,1236701,1237407,1238545,1238768,1239029-1239030,1239071,1239565,1240=
315,1240470,1240778,1241069,1241071,1242089,1242798,1242967,1243176,1243246=
,1243797,1243799,1244211,1245717,1290823,1290835,1291819-1291820,1291834,12=
91840,1292043,1293405,1293534-1293535,1293658,1293678,1293708,1294306,12943=
49,1294356,1294358,1294372,1294471,1297560,1299718,1299786,1300766,1301111,=
1301725,1302444,1302483,1302653,1302665,1302674,1303201,1303435,1303827,130=
4087,1304874-1304875,1305167<br>
=C2=A0,1305586,1306350,1306409,1306426,1306841,1307790,1308327,1308459,1309=
536,1309567,1311468,1324760,1325218,1325227,1325250,1325265,1325275,1325632=
,1325724,1326980,1326984,1326991,1327689,1328325-1328326,1328339,1328345,13=
28950,1330189,1330964,1331110,1331115,1331942,1331977,1332378,1333969,13343=
43,1335882,1337344,1341906,1341913,1343085,1343087,1343094,1343099,1343109,=
1343935,1345319,1345329,1346905,1347980,1348036,1348653,1348656,1348660,134=
9905,1351012-1351020,1351071-1351072,1351074,1351737,1352047,1352534,135290=
9-1352912,1357685,1358061,1359057,1359881,1359884,1361153,1361298,1361766,1=
361773,1361778,1361784,1361791-1361792,1361801,1361803,1362020,1362538,1362=
707,1363035,1363183,1363186,1363312,1363440,1363557,1363589,1363829,1363832=
,1363836-1363837,1363853,1364133,1364138,1364229,1364601,1364695,1365001,13=
65020,1365029,1365479,1366319,1366344,1366621,1367778,1367819,1368053,13680=
58,1368094,1368121,1368131,1368393,1368396,1369419,1369568,1369604,1369618,=
1369904,1369995,1369999,1370<br>
=C2=A0001,1370466,1370592,1370615-1370616,1370763,1371387,1371791,1371801,1=
371878,1371903,1373270,1373447,1373898,1373955,1374157,1374199,1374247,1374=
874,1374877,1374880,1375006,1375009,1375011,1375013,1375584,1376695,1376700=
,1378178,1383490,1384408,1384913,1386576,1386578,1386726,1386822,1386880,13=
86913,1387085,1387088,1387110,1387389,1387444,1387603,1387607,1387633,13876=
93,1387979,1388029,1388445,1388447,1388648,1388660,1388825,1388899,1389316,=
1389339,1389481,1389506,1389564,1389566-1389569,1390562,1390564,1391396,139=
1398,1391771,1392120,1392122,1392150,1392214,1392345-1392347,1392850,139303=
3,1393058,1393152,1393338,1393564,1394079,1395225,1395253-1395256,1395792,1=
397172,1397320,1397636,1397687,1397710,1397716,1398025,1398040,1398066,1398=
478,1398480-1398481,1398970,1399413,1399687,1399708,1400700,1401448,1402924=
,1403476,1403483,1403492,1404653,1405407,1405856,1405973,1406068,1406493,14=
06495,1406616,1406646,1406760,1407004,1407006,1407085,1407088,1407248,14073=
81,1407459-1407460,1407528,1<br>
=C2=A0407853,1407965,1408093,1408402,1408958,1408961,1409170,1409437,140972=
6,1409800,1410681,1410954,1411862,1412278,1413732,1414094,1415008,1415023,1=
415075,1416121,1416150,1416278,1417197,1417440,1417529,1418524,1418556,1418=
648,1418655,1418703,1418721,1418752,1418769,1419084,1419719,1419726,1419755=
,1419781,1419796,1420120,1420124,1420149,1420184,1420644,1420685-1420686,14=
20975,1421288,1421323,1421851,1421912,1421953,1422135,1422549,1422594,14227=
12,1422855,1422937,1422943,1422980,1423353,1423933,1425360,1425771-1425772,=
1425775,1425777,1425874,1426850,1426975,1427546,1428184,1428280,1428916,142=
9228,1429559,1429561,1429564,1429582,1430575,1430814,1430869,1433001,143361=
3,1433682,1433861,1433988,1435178,1435811,1436058,1436401,1439083,1439106,1=
439114,1439404,1439623,1442309,1442320,1442326,1442412,1442759,1442865,1447=
993,1448171,1448453,1451478,1451484,1451633,1451849,1451905,1451921,1452128=
,1452195,1452259,1452281,1452551,1452911,1452949,1452954,1453022,1453574,14=
53604,1453875-1453876,145396<br>
=C2=A03,1453981,1454386,1454414-1454415,1454888,1457437,1457450,1457471,145=
7504,1457520-1457521,1457610,1457995,1458003-1458004,1458020,1458285,145844=
7,1458456,1462266,1462269,1462643,1463044-1463047,1463052,1463056,1463455,1=
463736,1463750,1463754,1464675,1464721,1464762,1465115-1465116,1465190,1467=
765,1468581,1470183,1470679,1470940,1471449,1475878,1476604,1476621,1476642=
,1476644-1476645,1476652,1476680,1477094,1477530,1478382,1478748,1479117,14=
79216,1479222,1479411,1479528,1479905,1479966,1480046,1480627,1481197,14813=
02,1481306,1481396-1481397,1481891,1482041,1482075,1482170,1482555,1482859,=
1482996,1483005,1483027,1483190,1484343,1484398,1484832,1484910,1484914,148=
5409,1485668,1486490,1487528,1487530,1488158,1488164,1488296,1488471,148849=
2,1488644,1490493,1490507,1490550,1490761,1490994,1491155,1491221,1491234,1=
491458,1491479,1491538,1491564,1491724,1492663,1492710,1492782,1493330,1493=
921,1493925,1494536,1495501,1496194,1496338,1496429,1496709,1497371,1497588=
,1498880,1499679,1500323,150<br>
=C2=A00345,1500362,1500423,1500437,1500483,1500519,1501294,1501369,1501399,=
1501913,1502665,1502772,1503680,1503866,1503990-1503991,1504276,1506714,150=
9872,1509983,1510084-1510085,1510098,1510588,1510707,1511093,1513492,151350=
8,1514039,1514064,1514214-1514215,1514255,1514267,1514617,1515050,1515162,1=
515403,1515411,1515420,1517025,1517045,1517175,1517366,1517386,1517388,1518=
265,1518269,1519475,1520368,1520445,1520760,1520908,1521909,1523235,1523239=
,1523281,1523387,1524101,1524158,1524192,1524368,1524388,1524770,1525276,15=
25280-1525281,1525931,1526168,1526189,1526647,1526666,1527008,1527220,15272=
91,1527294-1527295,1527509,1527925-1527926,1528143,1528718,1529014,1529277,=
1529449,1529559,1529988,1529991,1530793,1531340,1531370,1531505,1531672,153=
1961-1531962,1532746,1532816,1533065,1533224,1534321,1534754,1534890,153489=
2,1536310,1537535,1538490,1540051-1540052,1541181,1541270,1541368,1542338,1=
542379,1542533,1542562,1542615,1543020,1543147,1543149,1543174,1544381,1544=
774,1544784,1544812,1544820,<br>
=C2=A01545286,1545292,1545325,1545364,1545408,1545411,1546692-1546693,15467=
30,1546759-1546760,1546801,1546804-1546805,1546835-1546836,1547845,1550061,=
1550302,1550307,1551685,1551714,1551802,1552130,1552227,1553204,1553824,155=
4161,1554168,1554170,1554175-1554176,1554179,1554181,1554184,1554188,155419=
2,1554195,1554276,1554281,1554300-1554301,1554994-1554995,1555240,1555259,1=
555266,1555423-1555424,1555463-1555464,1555467,1555555,1555569,1556206,1556=
428,1556911-1556912,1556914,1556937,1557317,1557617,1558483,1559351,1559828=
,1560367,1560546,1560679,1560689,1560729,1560977,1560979,1561137,1561262,15=
61385,1561660,1561923,1562472,1563193,1563379,1563381,1563417-1563418,15634=
20,1564052,1564437,1564475,1564756,1564760,1565081,1565711,1568404,1569615,=
1570288,1570598,1571369,1572092,1572198,1572543,1572561,1572611,1572630,157=
2655,1572663,1572668-1572671,1572896,1572905,1572911,1572967,1573224,157322=
9,1573626,1574151,1575400,1576233,1576741,1578760,1578762,1580568,1583005,1=
583007-1583008,1583027,15831<br>
=C2=A075,1583191,1584098,1584430,1584434,1584572,1584653,1584658,1584665,15=
84703,1584878,1584884,1584896,1585054,1585072,1585090,1585435,1585609,15858=
24,1585918-1585919,1586745,1586827,1587036,1587040,1587053,1587255,1587594,=
1587639,1587654,1588054,1588065,1588213,1588330,1588427,1588519,1588527,158=
8704,1588851,1588853,1589413,1590437,1590509,1591143,1591320,1591322,159132=
8,1591390,1591394,1591401,1591472,1591508,1592032,1592037,1592500,1592511,1=
592514,1592529,1592615,1592632,1593745,1594625,1594643,1594648,1595305,1595=
321,1595426,1597182,1597349,1597352,1597639,1597642,1598107,1598946,1599535=
,1601076,1601184-1601185,1601274,1601291,1601624,1601630,1601919,1601995,16=
02338,1602978,1602989,1603027,1603029,1603122,1603156,1603915,1604382,16044=
61,1604631,1605207,1605827,1605829,1607960,1608284,1608785,1608999,1609914,=
1609936,1609938,1610207,1610311,1610353,1610366,1610491,1610652,1610674,161=
1165,1611169,1611244,1611600,1611871,1611978,1612068,1615026,1615289,161701=
8,1618401,1618541,1619297,16<br>
=C2=A019383,1619444,1619835,1620324,1620461,1620932,1621367,1621372,1621417=
,1621453,1621806,1622450,1624234,1624349,1625196,1625952,1626050,1626978,16=
28104,1628918-1628919,1628924,1628950,1629235,1629239,1629244,1629250,16293=
72,1629440-1629441,1629485,1629507-1629508,1629519,1629577,1629652,1629916,=
1631885,1632454,1632740,1632742,1633730-1633731,1633793,1634120,1634237,163=
4425,1634736,1634836,1635510,1635558,1635644-1635645,1635762,1637112,163807=
2-1638073,1638879,1639614,1640031,1640036,1640040,1640042,1640331,1641077,1=
641095,1641376,1642099,1642484,1642499,1642847,1642868,1643034,1643284,1643=
537,1643825,1644245,1646282,1646724,1647035,1648201,1648394,1648433,1648719=
,1648840,1649001,1649043,1649632,1649966,1650047,1650061,1650309-1650310,16=
50320,1651088,1652829,1652929,1652931,1652955,1652982,1652985,1652989,16539=
41,1653978,1653997,1656225,1656669,1657256,1657261,1657636,1657638,1657685,=
1657881,1657897,1658760,1658765,1661067,1661258,1661448,1661464,1661486,166=
2245-1662246,1663017,1663647<br>
=C2=A0,1664071,1664133,1664205,1664299,1664709,1665215,1665218,1665625,1665=
643,1665721,1666297,1666361,1666363,1666468,1666618,1666998,1667385-1667386=
,1668532,1668535,1668553,1669130,1669289,1669292,1670434,1671364,1671396-16=
71397,1671918,1672289,1672453,1672466,1672480,1672483,1672564,1672757,16729=
85,1672989,1673113,1673155,1673368,1673455,1673769,1674056,1674538,1674542,=
1674606,1674632,1674697,1675103,1675410,1675533,1676085,1676654,1676709,167=
6842,1677096,1677143-1677146,1677149,1677151,1677153-1677156,1677159,167733=
9,1677462,1677702,1677830,1677832,1677834-1677835,1678763,1679032,1679181-1=
679182,1679192,1679428,1679432,1679470,1679620,1679712,1680276,1680895,1680=
900,1680942,1681037,1681424,1681440,1681685,1681694,1681795,1682482,1682816=
,1682819,1682907,1682923,1682937,1682979,1682988,1683044,1683047,1683123,16=
83881,1683884,1684057,1684171,1684900,1685069,1685339,1685345,1685347,16853=
49-1685350,1685650,1685659,1685779,1686085,1686853,1686856,1687539,1687680,=
1687980,1688274,1688331,1688<br>
=C2=A0339-1688341,1688343,1688474-1688475,1688536,1688538,1688660,1689325,1=
689605,1689694,1689698,1690120,1690137,1690248,1691374,1691582,1691592,1691=
819,1691908,1692285,1692432,1692486,1692516,1693792,1693918-1693919,1693963=
,1694903,1694936,1694950-1694951,1695170,1695727,1695874,1695885,1695920,16=
96105,1696264,1696266,1696279,1696428,1696442,1696565,1696592,1696607,16967=
55,1696881,1697013,1697015,1697051,1697323,1697339,1697370,1697389,1697446,=
1697543,1697634,1697855,1698023,1698103,1698107,1698116,1698133,1698330,170=
0271,1700275,1700317-1700322,1700326,1700328,1700330-1700332,1700334,170033=
6,1700338,1700418,1700514,1700777,1700851,1700917,1700925,1700968,1701005,1=
701145,1701178,1701204,1701347,1701436,1701545,1701717,1702643,1702919,1703=
152,1703417,1703642,1703807,1703813,1703822,1703871,1703902,1703952,1704099=
,1704241,1704262,1704797,1704799,1704826,1705099,1705134,1705194,1705257,17=
05749,1705776,1705823,1705826,1705828,1705833,1705983,1706275,1706627,17066=
35,1706637,1706640,1706918,1<br>
=C2=A0706942,1706989,1707002,1707230-1707231,1707497,1707519,1707591,170762=
6-1707627,1707640,1707831,1707883,1707889,1708107,1709008,1709587,1709596,1=
709602,1709995,1710095,1710105,1710231,1710380,1710391,1710419,1710572,1710=
583,1710723,1711479,1711553,1711648,1711728,1711902,1712382,1713040,1713209=
,1713937,1715023,1715255,1715273,1715567-1715568,1715570-1715572,1715576,17=
15581-1715585,1716211,1716388,1716460,1716487,1716660,1716940,1717063,17170=
86,1717639,1717816,1717934,1717958,1717975,1717985,1718314,1718338,1718400,=
1718514,1718556,1718569,1718598,1719016,1719018,1719189-1719190,1719252,171=
9254-1719255,1719257,1719967,1720996,1721313,1721685,1721899,1722137,172215=
4,1722572,1722701,1723122,1723143,1723284,1723567,1724847,1724857,1725149,1=
725325,1725392,1725394-1725395,1725445,1725468,1725485,1725516,1725940,1726=
009,1726026,1726086,1726233,1726798,1726881,1726888,1727071,1727111,1727317=
,1727544,1727573,1727603,1727842,1729374,1729376,1729826,1729847,1729929-17=
29931,1729960,1730297,173064<br>
=C2=A00,1730865,1732252,1732353,1732369,1732716,1732954,1732986,1733056,173=
3064,1733068,1733275,1733523,1733691,1734006,1734125<br>
<br>
Modified: httpd/httpd/branches/2.4.x/CHANGES<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/CHA=
NGES?rev=3D1734396&amp;r1=3D1734395&amp;r2=3D1734396&amp;view=3Ddiff" rel=
=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc/httpd/httpd/=
branches/2.4.x/CHANGES?rev=3D1734396&amp;r1=3D1734395&amp;r2=3D1734396&amp;=
view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/branches/2.4.x/CHANGES [utf-8] (original)<br>
+++ httpd/httpd/branches/2.4.x/CHANGES [utf-8] Thu Mar 10 12:31:13 2016<br>
@@ -2,6 +2,9 @@<br>
<br>
=C2=A0Changes with Apache 2.4.19<br>
<br>
+=C2=A0 *) mod_ssl: Don&#39;t lose track of the SSL context if the ssl_run_=
pre_handshake()<br>
+=C2=A0 =C2=A0 =C2=A0hook returns an error. [Graham Leggett]<br>
+<br>
=C2=A0 =C2=A0*) mod_rewrite: Add QSL|qslast flag to allow rewrites to files=
 with<br>
=C2=A0 =C2=A0 =C2=A0 literal question marks in their names. PR 58777. [Eric=
 Covener]<br>
<br>
<br>
Modified: httpd/httpd/branches/2.4.x/STATUS<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/STA=
TUS?rev=3D1734396&amp;r1=3D1734395&amp;r2=3D1734396&amp;view=3Ddiff" rel=3D=
"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc/httpd/httpd/bra=
nches/2.4.x/STATUS?rev=3D1734396&amp;r1=3D1734395&amp;r2=3D1734396&amp;view=
=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/branches/2.4.x/STATUS (original)<br>
+++ httpd/httpd/branches/2.4.x/STATUS Thu Mar 10 12:31:13 2016<br>
@@ -112,12 +112,6 @@ RELEASE SHOWSTOPPERS:<br>
=C2=A0PATCHES ACCEPTED TO BACKPORT FROM TRUNK:<br>
=C2=A0 =C2=A0[ start all new proposals below, under PATCHES PROPOSED. ]<br>
<br>
-=C2=A0 *) mod_ssl: Don&#39;t lose track of the SSL context if the ssl_run_=
pre_handshake()<br>
-=C2=A0 =C2=A0 =C2=A0hook returns an error.<br>
-=C2=A0 =C2=A0 =C2=A0trunk patch: <a href=3D"http://svn.apache.org/r1734006=
" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/r1734006</a><b=
r>
-=C2=A0 =C2=A0 =C2=A02.4.x patch: trunk patch works (modulo CHANGES)<br>
-=C2=A0 =C2=A0 =C2=A0+1: minfrin, jim, ylavic<br>
-<br>
=C2=A0 =C2=A0*) mod_rewrite: bug in recently backported r1734125.<br>
=C2=A0 =C2=A0 =C2=A0 trunk patch: <a href=3D"http://svn.apache.org/r1734294=
" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/r1734294</a>.<=
br>
=C2=A0 =C2=A0 =C2=A0 2.4.x patch: trunk works<br>
<br>
Modified: httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl.c<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/mod=
ules/ssl/mod_ssl.c?rev=3D1734396&amp;r1=3D1734395&amp;r2=3D1734396&amp;view=
=3Ddiff" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc/=
httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl.c?rev=3D1734396&amp;r1=3D173=
4395&amp;r2=3D1734396&amp;view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl.c (original)<br>
+++ httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl.c Thu Mar 10 12:31:13 20=
16<br>
@@ -468,7 +468,7 @@ int ssl_init_ssl_connection(conn_rec *c,<br>
=C2=A0 =C2=A0 =C2=A0 * attach this to the socket. Additionally we register =
this attachment<br>
=C2=A0 =C2=A0 =C2=A0 * so we can detach later.<br>
=C2=A0 =C2=A0 =C2=A0 */<br>
-=C2=A0 =C2=A0 if (!(ssl =3D SSL_new(mctx-&gt;ssl_ctx))) {<br>
+=C2=A0 =C2=A0 if (!(sslconn-&gt;ssl =3D ssl =3D SSL_new(mctx-&gt;ssl_ctx))=
) {<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c=
, APLOGNO(01962)<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0&quot;Unable to create a new SSL connection from the SSL &quot;<b=
r>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0&quot;context&quot;);<br>
@@ -497,8 +497,6 @@ int ssl_init_ssl_connection(conn_rec *c,<br>
=C2=A0 =C2=A0 =C2=A0SSL_set_app_data(ssl, c);<br>
=C2=A0 =C2=A0 =C2=A0modssl_set_app_data2(ssl, NULL); /* will be request_rec=
 */<br>
<br>
-=C2=A0 =C2=A0 sslconn-&gt;ssl =3D ssl;<br>
-<br>
=C2=A0 =C2=A0 =C2=A0SSL_set_verify_result(ssl, X509_V_OK);<br>
<br>
=C2=A0 =C2=A0 =C2=A0ssl_io_filter_init(c, r, ssl);<br>
<br>
<br>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--001a1138f268c5e604052e54eee0--

From dev-return-85920-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 18 16:54:06 2016
Return-Path: <dev-return-85920-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4334618DB3
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Mar 2016 16:54:06 +0000 (UTC)
Received: (qmail 17147 invoked by uid 500); 18 Mar 2016 16:54:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17071 invoked by uid 500); 18 Mar 2016 16:54:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17060 invoked by uid 99); 18 Mar 2016 16:54:05 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2016 16:54:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id BF209C38AD
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 16:54:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id VJ3sGSMJqdsS for <dev@httpd.apache.org>;
	Fri, 18 Mar 2016 16:54:04 +0000 (UTC)
Received: from mail-qk0-f181.google.com (mail-qk0-f181.google.com [209.85.220.181])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id B886E5F23A
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 16:54:03 +0000 (UTC)
Received: by mail-qk0-f181.google.com with SMTP id o6so51557677qkc.2
        for <dev@httpd.apache.org>; Fri, 18 Mar 2016 09:54:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=rVxlDRuz8TkeAnUDma8iHyiA1BBOpQrbz9OgO5eYtig=;
        b=HjwNIM/6tnKm8WiiepH3xuobsI8Ec7HRAp1PbAik1GZfaala0L/YOIyFMCKgYqxKK+
         iQeA2F0ujYcv3Nal/eCfqN5eiwiXBgobPpcnL05mfAqEoW3cuce+FObuYwbRtZOFFjht
         qmnFPhEta9ZnV7FS4bkjAK1jZBtkbPDu7KsfvpkEu3Yl0NBNvOcXi15a8AosUbhOq4ay
         90AfJLr/hLXB7+9vLgknaz9ZNOM6v8bWm99UQfJ6DKbPPO/2tx9Jz8usIeLVuBTvqiVv
         P4qfJroRC3Tt9Kq0W+vhMQ64+MDsg9ZGV9rc8lgllzf6W9KvXE3pbTGjWpidqO+6HZH4
         SDlw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=rVxlDRuz8TkeAnUDma8iHyiA1BBOpQrbz9OgO5eYtig=;
        b=TfbEp+DBXloXrGEj47wMrKH9iTPk/7sBMnY+9krtW8x70f8DAlarivUPk0D7r291A9
         QPXbXsJziNjT8YtzOFs8t46xC0I017BTT5Ee0aBF+wbRYppyAz54wL/PMgyhS19U2Eeu
         R4qs/nEfA00hgQSNmr6HBToQNe/Kw/iSHbg6/7PrVIFmK3qTCVqgJ0fB3QEaqNdv8GO4
         9es4hJuWIQWF6sR7Gv7O2jqHRNZYw8TJ2mcGn+U9q7fB70pVLJUt48gXP9MwpA4hlACS
         EMcu+pv5F++CSXnQcNJJG9I1sdz/b9Ie6KJrX45R6b1sySTt95SMGT+0rCF+/YQo4djY
         N3tw==
X-Gm-Message-State: AD7BkJJdLrDXK83W6D1KVRofo/yvUsWbGpwKl9ibYEfZCKz3RnnXGmnwueBxzkHfj/xwwgq+XcWXh5/D9y1s7g==
MIME-Version: 1.0
X-Received: by 10.55.26.86 with SMTP id a83mr22850318qka.79.1458320043132;
 Fri, 18 Mar 2016 09:54:03 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Fri, 18 Mar 2016 09:54:03 -0700 (PDT)
In-Reply-To: <56EC1CC5.10004@apache.org>
References: <CAKQ1sVNfuWi2Hp_B5ixFa4Tru=znGXwbAAnAwvPa_ygahBng9g@mail.gmail.com>
	<CAKQ1sVPDgrY7vb2erE04uNtC_fRBQm2svhNBrhtE5OUxKQ+9BA@mail.gmail.com>
	<56EC1A3C.7050607@kippdata.de>
	<56EC1CC5.10004@apache.org>
Date: Fri, 18 Mar 2016 17:54:03 +0100
Message-ID: <CAKQ1sVPgYwspgSwzcMeDhyDsNNivDLJinB48mGqSrjyec2WxLA@mail.gmail.com>
Subject: Re: TLS session ticket key (shared) renewal
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Mar 18, 2016 at 4:20 PM, Ruediger Pluem <rpluem@apache.org> wrote:
> On 03/18/2016 04:09 PM, Rainer Jung wrote:
>>
>> Any idea about a scheme how to renew the keys between nodes in a farm in a synced way? Finding a common point in time to
>> renew would not be the problem (assuming synced clocks), but how the regenerate keys deterministically starting from one
>> common secret (the SSLSessionTicketKeyFile) without ending with keys which are too weak?
>
> My idea would be at high level to leverage approaches that are used for one time passwords here.
> But I need to admit that I don't know how feasible that is at all and how usable these approaches are for generating
> a (strong) key.

Maybe something like the following could work, and maybe also it could
be secure (any contradictory opinion is of course very welcome :)

Say each instance starts with the same configured passphrase and salt
(same too, but random and large enough, say 128bit).

At startup we generate a master key (MK) from this passphrase/salt
(using PDKF2, maybe with some reasonable #iterations), and we'll use a
derived key (DK) for session tickets.

To derive the MK into DKs (at startup or when the current DK
timeouts), let's again run PDKF2 but now with the current time as salt
(and a single iteration).

This scheme makes the DK deterministic at any time, hence provided
clocks are synchronized, each httpd instance should use the same key.

Since session tickets also need a HMAC key, we would do the same for
it (from another passphrase and salt).

I may be opportunistic about the security of this scheme, though,
please experts ring the bell :p

Regards,
Yann.

From dev-return-85921-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 18 16:59:35 2016
Return-Path: <dev-return-85921-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 417B218DEA
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Mar 2016 16:59:35 +0000 (UTC)
Received: (qmail 40233 invoked by uid 500); 18 Mar 2016 16:59:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 40160 invoked by uid 500); 18 Mar 2016 16:59:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 40150 invoked by uid 99); 18 Mar 2016 16:59:34 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2016 16:59:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 57A8FC38B8
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 16:59:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id PQRHwQ3NJM7S for <dev@httpd.apache.org>;
	Fri, 18 Mar 2016 16:59:33 +0000 (UTC)
Received: from mail-qg0-f54.google.com (mail-qg0-f54.google.com [209.85.192.54])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id E2AAA5FB20
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 16:59:32 +0000 (UTC)
Received: by mail-qg0-f54.google.com with SMTP id a36so73394172qge.0
        for <dev@httpd.apache.org>; Fri, 18 Mar 2016 09:59:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=gk7YKcBaCSsqTV096hGH2o1O91DunnsdvndDKPBIAkM=;
        b=0PWnsr+RrQ4oc+6lqKxVzpc6L+pvKmrL12mV8Paocx7s+oZR78AmN+vWqvLcoaToRT
         62CE7H4+uuvFOkayq45RdmmoDWsmC1XwA/l2ck+R7sf4eFbmfnLPnjpCJCEdJ6SetOg4
         bHR9zmHKWKxOwypAS7g3mF8owNZmYvvwJgxgbux/6uSy5ZTO40QRust/zfkAgTfnI4zU
         wJuDwCNbaDGeIb1ljE1hnafjmIkUUUr9l7xJUs9iacRpXfd/ghNw3lGHXMCnQHB2pg80
         6ZNsZzkpO61ELlrEtqfIRSgCy+hAqHeXl54oUaTYq3Jhi6UidE+x2whxPLvs4cVi61Ue
         zhAg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=gk7YKcBaCSsqTV096hGH2o1O91DunnsdvndDKPBIAkM=;
        b=adtMxF9h/nQbTrMrP7W3rVc4BT619+MHz7q+VCq099mKoGqzdnGaUF8cfUZDoWQk22
         OvebnqOiP6iKRlbGyjxdACqQVnY9JISPpewgth3FINLxSu0g3ZgrTPe7O80nygBn5wPm
         6XHrA0eKXXjtxBg37/GZf8OOEdf8XCcqlFwEMLM4Fha1hVjGEw7oZesZ1ki+Qs36bCiZ
         /x5Q3Ic+idJeNWaBQ/+okQIuGlU6jzAuknigXLvM8VTqnQTc+9w3yvIIbt2s825WbUr1
         Fk/XCu0rJrmt+EdNbshDH5jItgNmPW0IFfvOhn/YiIkJ+ug+ALL5pth37nOWRdl7z6Ms
         9a9g==
X-Gm-Message-State: AD7BkJLsqLYbk78tgPwbKyZXj3LqR+pSBa+yXOL8Ry7+dc51JG9ixMRYNzHTznZXu6OFAAXXsj5X+QP/rgfCxg==
MIME-Version: 1.0
X-Received: by 10.140.82.70 with SMTP id g64mr24097475qgd.14.1458320365772;
 Fri, 18 Mar 2016 09:59:25 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Fri, 18 Mar 2016 09:59:25 -0700 (PDT)
In-Reply-To: <CAKQ1sVPgYwspgSwzcMeDhyDsNNivDLJinB48mGqSrjyec2WxLA@mail.gmail.com>
References: <CAKQ1sVNfuWi2Hp_B5ixFa4Tru=znGXwbAAnAwvPa_ygahBng9g@mail.gmail.com>
	<CAKQ1sVPDgrY7vb2erE04uNtC_fRBQm2svhNBrhtE5OUxKQ+9BA@mail.gmail.com>
	<56EC1A3C.7050607@kippdata.de>
	<56EC1CC5.10004@apache.org>
	<CAKQ1sVPgYwspgSwzcMeDhyDsNNivDLJinB48mGqSrjyec2WxLA@mail.gmail.com>
Date: Fri, 18 Mar 2016 17:59:25 +0100
Message-ID: <CAKQ1sVNZabmfGr1wN3JSNvCUCnHzSAquc8v2F5FDkUDY-_oErg@mail.gmail.com>
Subject: Re: TLS session ticket key (shared) renewal
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Mar 18, 2016 at 5:54 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> Maybe something like the following could work, and maybe also it could
> be secure (any contradictory opinion is of course very welcome :)

Please s/PDKF2/PBKDF2/g in this previous message, too much
unpronounceable letters for me :)

From dev-return-85922-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 18 17:19:53 2016
Return-Path: <dev-return-85922-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DAA7E18F02
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Mar 2016 17:19:53 +0000 (UTC)
Received: (qmail 97654 invoked by uid 500); 18 Mar 2016 17:19:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97582 invoked by uid 500); 18 Mar 2016 17:19:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97572 invoked by uid 99); 18 Mar 2016 17:19:53 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2016 17:19:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7BCA71804A1
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 17:19:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id XNC-lyAMYNCh for <dev@httpd.apache.org>;
	Fri, 18 Mar 2016 17:19:50 +0000 (UTC)
Received: from mail-qk0-f172.google.com (mail-qk0-f172.google.com [209.85.220.172])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 65E7D5F22F
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 17:19:50 +0000 (UTC)
Received: by mail-qk0-f172.google.com with SMTP id o6so51885058qkc.2
        for <dev@httpd.apache.org>; Fri, 18 Mar 2016 10:19:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=3+86ic2ZhqdT4gsLjn1LajiJtWTkKZCdQJQlfmlWRZU=;
        b=QRT+A0CN128/tZaqx0HdFMcoHgrgsADoZw68kUvn95xK38xTiENTsnN+QDjZ16xsnn
         3fNa047O+cQXCFJHGXgJS+j22DVrdMalDqc3e19r4ob0tSCo7BnZNCXf8HeuldGZm4y7
         DtFFnr0/AkugoQETkOeV8eg6QR4FYzrXv8aOjcwa4IJ6AJxeIvoETY51SEO8R6Kyqk3T
         6BZ5ryzUhBkH4CPrORGWUuzyo2nQIwjocJ7Qu9NFwgSyELCB6INCGcT4Ovo77XHW1dBG
         mVpJ8XTYTbtDvaHe9b95LBP2KGX6XDVnSBTWedK8ln92yEJHLwK5fmllBrutk/OayqUg
         68kA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=3+86ic2ZhqdT4gsLjn1LajiJtWTkKZCdQJQlfmlWRZU=;
        b=VLvweytPlNx7XCHhFT4kDJAI4vCVv3h5tDPXWdkwDAjpJsw1XBZeIRadH07zJYBp5l
         07vxv7qoA8nXWvlYwx6F3StElt09B3IVvcazdagAllnu0Lc0xgzmZ12Z4ug3InCTRmx7
         WUzwymWfXhHtqXn/oD+2qb8cOejntx8IS5MzitQq6my3UzaqkspX9kJdL3jBZEut5lw+
         B3ZmwGuiEodOMzCus6QdYcG74GBQ/HSOf95wEeX1qbzmyViXBovypmM+xQEE6B08hxMs
         mx8z/VhLfX/f6yb/lIfoOdXl9Ki1gEkQ+6GVvf/ze13p8+4d6Psy2CB4HgNtMnC8djtx
         lGrw==
X-Gm-Message-State: AD7BkJJM2ZKzXD/Ewdt/V8NyR5dGIuCe/gCUsCPUFmDKPNjiRESmkJdmkVdd2c7kwhOz7u0gT/3FmnCQc+oqig==
MIME-Version: 1.0
X-Received: by 10.55.200.215 with SMTP id t84mr23995120qkl.55.1458321584494;
 Fri, 18 Mar 2016 10:19:44 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Fri, 18 Mar 2016 10:19:44 -0700 (PDT)
In-Reply-To: <CAKUrXK46DE=HDMdoNu2TaeYRrkbk-5SDxnd9OgaJD8D=QSTQFw@mail.gmail.com>
References: <20160310123114.42A6C3A0318@svn01-us-west.apache.org>
	<CAKUrXK46DE=HDMdoNu2TaeYRrkbk-5SDxnd9OgaJD8D=QSTQFw@mail.gmail.com>
Date: Fri, 18 Mar 2016 18:19:44 +0100
Message-ID: <CAKQ1sVPqRV8W6n8tT-yhhkVVALZ9WyjhZAh=RdApu5ny2hRkOQ@mail.gmail.com>
Subject: Re: svn commit: r1734396 - in /httpd/httpd/branches/2.4.x: ./ CHANGES
 STATUS modules/ssl/mod_ssl.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Mar 18, 2016 at 5:06 PM, Jeff Trawick <trawick@gmail.com> wrote:
> On Thu, Mar 10, 2016 at 7:31 AM, <ylavic@apache.org> wrote:
>>
>> Author: ylavic
>> Date: Thu Mar 10 12:31:13 2016
>> New Revision: 1734396
>>
>> URL: http://svn.apache.org/viewvc?rev=1734396&view=rev
>> Log:
>> Merge r1734006 from trunk:
>>
>> mod_ssl: Don't lose track of the SSL context if the
>> ssl_run_pre_handshake()
>> hook returns an error.
>
>
> The ssl_run_pre_handshake() hook doesn't exist in the 2.4.x branch.  I would
> rather like it to exist there and will propose so after some testing, but it
> isn't yet clear that the CHANGES entry will make sense for httpd 2.4.19.
> (We'll see.)

I think the backport worth it because in 2.4.x like in trunk, we could
also (unlikely) fail in SSL_set_session_id_context(), and likewise
lose track of sslconn->ssl.

Maybe s/ssl_run_pre_handshake/SSL_set_session_id_context/ in CHANGES?

From dev-return-85923-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 18 17:24:33 2016
Return-Path: <dev-return-85923-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D8AD518F58
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Mar 2016 17:24:33 +0000 (UTC)
Received: (qmail 15442 invoked by uid 500); 18 Mar 2016 17:24:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15381 invoked by uid 500); 18 Mar 2016 17:24:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15367 invoked by uid 99); 18 Mar 2016 17:24:33 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2016 17:24:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id CB82AC0318
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 17:24:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id mbeC8vO_sHs6 for <dev@httpd.apache.org>;
	Fri, 18 Mar 2016 17:24:31 +0000 (UTC)
Received: from mail-qg0-f50.google.com (mail-qg0-f50.google.com [209.85.192.50])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id C0A835F231
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 17:24:30 +0000 (UTC)
Received: by mail-qg0-f50.google.com with SMTP id a36so74041090qge.0
        for <dev@httpd.apache.org>; Fri, 18 Mar 2016 10:24:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=3Ot92JhJ90ymHZ0JNKbxxFiJ5NnGXb/QTrBd+J/4U9Q=;
        b=mC9UiwFBnPt/va1xcRDsrODqPKakW1XX3JC/p1oZB4I+AnYawKNV7LMdZ3I6h3t05A
         5SQn8m4CsRvK2Edx5/7/6OIxmpSEfjjMS1nuTeMosLH2p5bK9p8J15dieJbmHsdVcMmX
         H+SW3rW46FAtWX0Z/VT0P7sY7N0kvNFTu5t3nt9bJfp4PSab7yRM/vhxLidZ807Ou2O5
         h9ndQK/vfw8PFf1VKcraxeKvTvE9IX0rBWk3YxopjqC6GxihnVvpsAl0o7G4WPwXlPtj
         Af23uC/H8bEDx0TzKLknQ8v/a34HuzB/qCL/7+2UqtmGPgRJFIATQ5qRSshxhxYs/hh1
         VEPQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=3Ot92JhJ90ymHZ0JNKbxxFiJ5NnGXb/QTrBd+J/4U9Q=;
        b=fvMGb5TKcL6nqJ4aMDPqMQkN/6N7PlOZSausaIrk20XFpNgmMXZqOTREAr4WOTkKYC
         dWfo1uhGquz/mWX+VXYNuoAKmVbUIQpK/rHeqxPpsfjLKqIjNynCPCBF7gVbyG2w/Fow
         A0Jb3Hqb6bUlUfqrT7kGrHSeiANCoi+u3YsIE45r+02LpqGTlw23Dzk/5Ax88lTUok/6
         mswPbZRLVr8GjP6/GLz32ZtAKTlL8nQldaqtFw52Typ1wR4dhYit5KVTKM1+CCeJlyK7
         mRmgfEto2+ppk/8GUKTVSrYnVYNXq2lFawXxqdtU6vZgyqzQu9WxFb2t7pNSXmWxDxTG
         r1Og==
X-Gm-Message-State: AD7BkJJ+cFQG6LnfrjoVfTKG3bRYQ1HVGRnILqbPNvisR40UGU11eq82JTSTV2A2tgwkj6UByQ+29vQ7gm0QLg==
MIME-Version: 1.0
X-Received: by 10.140.43.229 with SMTP id e92mr23591733qga.98.1458321870267;
 Fri, 18 Mar 2016 10:24:30 -0700 (PDT)
Received: by 10.55.174.4 with HTTP; Fri, 18 Mar 2016 10:24:30 -0700 (PDT)
In-Reply-To: <CAKQ1sVPqRV8W6n8tT-yhhkVVALZ9WyjhZAh=RdApu5ny2hRkOQ@mail.gmail.com>
References: <20160310123114.42A6C3A0318@svn01-us-west.apache.org>
	<CAKUrXK46DE=HDMdoNu2TaeYRrkbk-5SDxnd9OgaJD8D=QSTQFw@mail.gmail.com>
	<CAKQ1sVPqRV8W6n8tT-yhhkVVALZ9WyjhZAh=RdApu5ny2hRkOQ@mail.gmail.com>
Date: Fri, 18 Mar 2016 13:24:30 -0400
Message-ID: <CAKUrXK6GQ-u7JCzsrHD_tCX_Od_s7f9pZe0nJwHBPA9daAYnVQ@mail.gmail.com>
Subject: Re: svn commit: r1734396 - in /httpd/httpd/branches/2.4.x: ./ CHANGES
 STATUS modules/ssl/mod_ssl.c
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113a57320bc97e052e56052d

--001a113a57320bc97e052e56052d
Content-Type: text/plain; charset=UTF-8

On Fri, Mar 18, 2016 at 1:19 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> On Fri, Mar 18, 2016 at 5:06 PM, Jeff Trawick <trawick@gmail.com> wrote:
> > On Thu, Mar 10, 2016 at 7:31 AM, <ylavic@apache.org> wrote:
> >>
> >> Author: ylavic
> >> Date: Thu Mar 10 12:31:13 2016
> >> New Revision: 1734396
> >>
> >> URL: http://svn.apache.org/viewvc?rev=1734396&view=rev
> >> Log:
> >> Merge r1734006 from trunk:
> >>
> >> mod_ssl: Don't lose track of the SSL context if the
> >> ssl_run_pre_handshake()
> >> hook returns an error.
> >
> >
> > The ssl_run_pre_handshake() hook doesn't exist in the 2.4.x branch.  I
> would
> > rather like it to exist there and will propose so after some testing,
> but it
> > isn't yet clear that the CHANGES entry will make sense for httpd 2.4.19.
> > (We'll see.)
>
> I think the backport worth it because in 2.4.x like in trunk, we could
> also (unlikely) fail in SSL_set_session_id_context(), and likewise
> lose track of sslconn->ssl.
>
> Maybe s/ssl_run_pre_handshake/SSL_set_session_id_context/ in CHANGES?
>

+1

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a113a57320bc97e052e56052d
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On F=
ri, Mar 18, 2016 at 1:19 PM, Yann Ylavic <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;<=
/span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8=
ex;border-left:1px #ccc solid;padding-left:1ex"><span class=3D"">On Fri, Ma=
r 18, 2016 at 5:06 PM, Jeff Trawick &lt;<a href=3D"mailto:trawick@gmail.com=
">trawick@gmail.com</a>&gt; wrote:<br>
&gt; On Thu, Mar 10, 2016 at 7:31 AM, &lt;<a href=3D"mailto:ylavic@apache.o=
rg">ylavic@apache.org</a>&gt; wrote:<br>
&gt;&gt;<br>
&gt;&gt; Author: ylavic<br>
&gt;&gt; Date: Thu Mar 10 12:31:13 2016<br>
&gt;&gt; New Revision: 1734396<br>
&gt;&gt;<br>
&gt;&gt; URL: <a href=3D"http://svn.apache.org/viewvc?rev=3D1734396&amp;vie=
w=3Drev" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc?=
rev=3D1734396&amp;view=3Drev</a><br>
&gt;&gt; Log:<br>
&gt;&gt; Merge r1734006 from trunk:<br>
&gt;&gt;<br>
&gt;&gt; mod_ssl: Don&#39;t lose track of the SSL context if the<br>
&gt;&gt; ssl_run_pre_handshake()<br>
&gt;&gt; hook returns an error.<br>
&gt;<br>
&gt;<br>
&gt; The ssl_run_pre_handshake() hook doesn&#39;t exist in the 2.4.x branch=
.=C2=A0 I would<br>
&gt; rather like it to exist there and will propose so after some testing, =
but it<br>
&gt; isn&#39;t yet clear that the CHANGES entry will make sense for httpd 2=
.4.19.<br>
&gt; (We&#39;ll see.)<br>
<br>
</span>I think the backport worth it because in 2.4.x like in trunk, we cou=
ld<br>
also (unlikely) fail in SSL_set_session_id_context(), and likewise<br>
lose track of sslconn-&gt;ssl.<br>
<br>
Maybe s/ssl_run_pre_handshake/SSL_set_session_id_context/ in CHANGES?<br></=
blockquote><div><br></div><div>+1</div></div><div><br></div>-- <br><div cla=
ss=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien=
...<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyh=
ammock.com/</a><div><br></div></div></div>
</div></div>

--001a113a57320bc97e052e56052d--

From dev-return-85924-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 18 17:38:07 2016
Return-Path: <dev-return-85924-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8149D18079
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Mar 2016 17:38:07 +0000 (UTC)
Received: (qmail 72149 invoked by uid 500); 18 Mar 2016 17:38:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 72072 invoked by uid 500); 18 Mar 2016 17:38:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72062 invoked by uid 99); 18 Mar 2016 17:38:06 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2016 17:38:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 545E4C2381
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 17:38:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 3sq437gLNXuq for <dev@httpd.apache.org>;
	Fri, 18 Mar 2016 17:38:05 +0000 (UTC)
Received: from mail-qk0-f175.google.com (mail-qk0-f175.google.com [209.85.220.175])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 81A175F231
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 17:38:05 +0000 (UTC)
Received: by mail-qk0-f175.google.com with SMTP id w77so1680353qkb.1
        for <dev@httpd.apache.org>; Fri, 18 Mar 2016 10:38:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=1k1O3F0AKCJPl0p0Mme2JwiMc9YRfAfqVzUhZz29J+A=;
        b=sbV9zJOUxXHo0LmHTeW3D7lIzLhgRbepZhSwgbRr6zrl/pKYdj+PTSxPeDd8m0D4Vo
         kWZ8A9ZnOezSEZqhgTMscBYUdI0MIgcUQthDI9SdStQcJsgfPwMrVm5dQJLgLpRjFKXj
         K0UJb6FqSAtRMXDe4pKpKC+x5y1SW6R9BixzukD48KeZwOd3pB15PwacfKyCrWzh2Md7
         3n3vjwHSlzXrxib+QqsQiJ3rtLxkYWXZ8TeG5tI4Sey1yiDqZa5wATIr8+xqtlnldyDv
         cNC5CZtwzF38l1KjjjKXvTcQjm40Wkk8ETxX9oN9lXkc3uYxsor7c7fw+CpCZY7QE9cb
         DIRg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=1k1O3F0AKCJPl0p0Mme2JwiMc9YRfAfqVzUhZz29J+A=;
        b=GQJGnFvwdQ0Yihhwnu2EM0VaoH3eg8Fg6E12GIbzu//MVVa2s6BrbPZAGpJFf4z3mz
         ufk73CbwGkD1sHK/84+reJTl/yNtCGNWrP9G142poZjiSJX9bjGV+iFfKM6vomepSNci
         P5GKASTuIBBTckxKqgtf/lmKUzqdkWk7oxFrO7L5EvcOI8TXX+lAPOGPDL1W2Z0kyW5K
         kngekDIy8wB5Wvf7dYQRYq+UepR8udaQWnUi9d+dQhdx2eK+mILeZtrROe9Pr8oLlvCI
         IcMiHZajFT7tCoqhGmWE1fWM1KruGNVnNkHh3g6IgejUIuPgDSxzzLfAS2OlCIFvKa6C
         x4Rw==
X-Gm-Message-State: AD7BkJL8urNP/JsT6aIQI0skSl0Vhl2QJbmp/iIzbpGk8YbHwwNIElL3sEt4+9v9VlclsgEnKh8IqO4GvIrqRA==
MIME-Version: 1.0
X-Received: by 10.55.73.68 with SMTP id w65mr23589281qka.68.1458322679491;
 Fri, 18 Mar 2016 10:37:59 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Fri, 18 Mar 2016 10:37:59 -0700 (PDT)
In-Reply-To: <CAKUrXK6GQ-u7JCzsrHD_tCX_Od_s7f9pZe0nJwHBPA9daAYnVQ@mail.gmail.com>
References: <20160310123114.42A6C3A0318@svn01-us-west.apache.org>
	<CAKUrXK46DE=HDMdoNu2TaeYRrkbk-5SDxnd9OgaJD8D=QSTQFw@mail.gmail.com>
	<CAKQ1sVPqRV8W6n8tT-yhhkVVALZ9WyjhZAh=RdApu5ny2hRkOQ@mail.gmail.com>
	<CAKUrXK6GQ-u7JCzsrHD_tCX_Od_s7f9pZe0nJwHBPA9daAYnVQ@mail.gmail.com>
Date: Fri, 18 Mar 2016 18:37:59 +0100
Message-ID: <CAKQ1sVN8kN2-aqQEzFzWoJQT4JqAyxUMJ2P-bg9OJhjbRGQxVQ@mail.gmail.com>
Subject: Re: svn commit: r1734396 - in /httpd/httpd/branches/2.4.x: ./ CHANGES
 STATUS modules/ssl/mod_ssl.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Mar 18, 2016 at 6:24 PM, Jeff Trawick <trawick@gmail.com> wrote:
>>
>> Maybe s/ssl_run_pre_handshake/SSL_set_session_id_context/ in CHANGES?
>
>
> +1

I mentioned ssl_init_ssl_connection() instead (the common caller), in r1735650.

Thanks!

From dev-return-85925-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 18 19:57:28 2016
Return-Path: <dev-return-85925-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F1A92188A3
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Mar 2016 19:57:27 +0000 (UTC)
Received: (qmail 33421 invoked by uid 500); 18 Mar 2016 19:57:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33352 invoked by uid 500); 18 Mar 2016 19:57:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33339 invoked by uid 99); 18 Mar 2016 19:57:26 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2016 19:57:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 36FFFC0318
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 19:57:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id yVbjXvWqg7OB for <dev@httpd.apache.org>;
	Fri, 18 Mar 2016 19:57:24 +0000 (UTC)
Received: from smtp.smtpout.orange.fr (smtp05.smtpout.orange.fr [80.12.242.127])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id E4C695F241
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 19:57:23 +0000 (UTC)
Received: from [127.0.0.1] ([92.140.228.173])
	by mwinf5d52 with ME
	id XXxG1s00c3l6f1o03XxG4M; Fri, 18 Mar 2016 20:57:16 +0100
X-ME-Helo: [127.0.0.1]
X-ME-Date: Fri, 18 Mar 2016 20:57:16 +0100
X-ME-IP: 92.140.228.173
Subject: Re: svn commit: r1735610 - in /httpd/httpd/branches/2.4.x: ./
 modules/http2/
To: dev@httpd.apache.org
References: <20160318144848.E2B423A0193@svn01-us-west.apache.org>
From: Marion & Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Message-ID: <56EC5D9A.4000709@wanadoo.fr>
Date: Fri, 18 Mar 2016 20:57:14 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <20160318144848.E2B423A0193@svn01-us-west.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 160318-1, 18/03/2016), Outbound message
X-Antivirus-Status: Clean



Le 18/03/2016 15:48, icing@apache.org a crit :
> Author: icing
> Date: Fri Mar 18 14:48:36 2016
> New Revision: 1735610
>
> URL: http://svn.apache.org/viewvc?rev=1735610&view=rev
> Log:
> Merge of 1735608,1735609 from trunk:
>
> mod_http2: stream cleanup on GOAWAY handling, PUSHes prohibited after client GOAWAY.
>
>
> Modified:
>      httpd/httpd/branches/2.4.x/   (props changed)
>      httpd/httpd/branches/2.4.x/CHANGES
>      httpd/httpd/branches/2.4.x/modules/http2/h2.h
>      httpd/httpd/branches/2.4.x/modules/http2/h2_conn_io.c
>      httpd/httpd/branches/2.4.x/modules/http2/h2_filter.c
>      httpd/httpd/branches/2.4.x/modules/http2/h2_mplx.c
>      httpd/httpd/branches/2.4.x/modules/http2/h2_mplx.h
>      httpd/httpd/branches/2.4.x/modules/http2/h2_session.c
>      httpd/httpd/branches/2.4.x/modules/http2/h2_session.h
>      httpd/httpd/branches/2.4.x/modules/http2/h2_version.h
>
>
> Modified: httpd/httpd/branches/2.4.x/CHANGES
> URL: http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/CHANGES?rev=1735610&r1=1735609&r2=1735610&view=diff
> ==============================================================================
> --- httpd/httpd/branches/2.4.x/CHANGES [utf-8] (original)
> +++ httpd/httpd/branches/2.4.x/CHANGES [utf-8] Fri Mar 18 14:48:36 2016
> @@ -1,10 +1,7 @@
>                                                            -*- coding: utf-8 -*-
>   
> -Changes with Apache 2.4.19
> -
> -  *) mod_http2: slave connections are reused for several requests, improved
> -     performance and better memory use. [Stefan Eissing]
> -
Is this removal intentional?

CJ

> +  *) mod_http2: disabling PUSH when client sends GOAWAY.
> +
>     *) mod_rewrite: Don't implicitly URL-escape the original query string
>        when no substitution has changed it (like PR50447 but server context)
>        [Evgeny Kotkov <evgeny.kotkov visualsvn.com>]

From dev-return-85926-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 18 21:11:22 2016
Return-Path: <dev-return-85926-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3743D18C25
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Mar 2016 21:11:22 +0000 (UTC)
Received: (qmail 14131 invoked by uid 500); 18 Mar 2016 21:11:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14057 invoked by uid 500); 18 Mar 2016 21:11:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14047 invoked by uid 99); 18 Mar 2016 21:11:21 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Mar 2016 21:11:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C5710C0318
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 21:11:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id EjyFynDHLDc9 for <dev@httpd.apache.org>;
	Fri, 18 Mar 2016 21:11:16 +0000 (UTC)
Received: from smtp.smtpout.orange.fr (smtp01.smtpout.orange.fr [80.12.242.123])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 77F3F5F56B
	for <dev@httpd.apache.org>; Fri, 18 Mar 2016 21:11:16 +0000 (UTC)
Received: from [127.0.0.1] ([92.140.228.173])
	by mwinf5d01 with ME
	id XZB81s00J3l6f1o03ZB8np; Fri, 18 Mar 2016 22:11:09 +0100
X-ME-Helo: [127.0.0.1]
X-ME-Date: Fri, 18 Mar 2016 22:11:09 +0100
X-ME-IP: 92.140.228.173
Subject: Re: svn commit: r1735466 - /httpd/httpd/branches/2.4.x/STATUS
To: dev@httpd.apache.org
References: <20160317173736.2C3DF3A0734@svn01-us-west.apache.org>
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Message-ID: <56EC6EEA.20107@wanadoo.fr>
Date: Fri, 18 Mar 2016 22:11:06 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <20160317173736.2C3DF3A0734@svn01-us-west.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 160318-1, 18/03/2016), Outbound message
X-Antivirus-Status: Clean

Le 17/03/2016 18:37, icing@apache.org a crit :
> Author: icing
> Date: Thu Mar 17 17:37:35 2016
> New Revision: 1735466
>
> URL: http://svn.apache.org/viewvc?rev=1735466&view=rev
> Log:
> proposal to backport mod_proxy_http2
>
> Modified:
>      httpd/httpd/branches/2.4.x/STATUS
>
> Modified: httpd/httpd/branches/2.4.x/STATUS
> URL: http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/STATUS?rev=1735466&r1=1735465&r2=1735466&view=diff
> ==============================================================================
> --- httpd/httpd/branches/2.4.x/STATUS (original)
> +++ httpd/httpd/branches/2.4.x/STATUS Thu Mar 17 17:37:35 2016
> @@ -175,7 +175,14 @@ PATCHES PROPOSED TO BACKPORT FROM TRUNK:
>                     http://home.apache.org/~ylavic/patches/httpd-2.4.x-no_crl_for_cert_ok.patch
>        +1: ylavic
>   
> -
> +  *) mod_proxy_http2: add http2 proxy support in new, experimental module.
> +     Includes backport of r1729208 to set ALPN protocols for ssl backend
> +     connections.
> +     Trunk version of patch: <various>
> +     Backport version for 2.4.x of patch: https://eissing.org/proxy_http2_2.4.patch
> +     +1: icing
> +
> +
>   PATCHES/ISSUES THAT ARE BEING WORKED
>   
>     *) http: Don't remove the Content-Length of zero from a HEAD response if
>
The following code is spurious:
+    if (APLOGcdebug(session->c)) {
+        ap_log_cerror(APLOG_MARK, APLOG_DEBUG, 0, session->c,
+                      "h2_proxy_session(%s): submit %s%s -> %d",
+                      session->id, stream->req->authority, 
stream->req->path,
+                      rv);
+    }
+    else {
+        ap_log_cerror(APLOG_MARK, APLOG_DEBUG, 0, session->c,
+                      "h2_proxy_session(%s-%d): submit %s%s",
+                      session->id, rv, stream->req->authority, 
stream->req->path);
+    }




From dev-return-85927-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 19 10:43:37 2016
Return-Path: <dev-return-85927-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2C81B192C3
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 19 Mar 2016 10:43:37 +0000 (UTC)
Received: (qmail 34802 invoked by uid 500); 19 Mar 2016 10:43:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34727 invoked by uid 500); 19 Mar 2016 10:43:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34717 invoked by uid 99); 19 Mar 2016 10:43:35 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Mar 2016 10:43:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 6577FC0318
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 10:43:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=gFFhASFP;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=bK1OZdK8
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id KCRbHyKMwfA5 for <dev@httpd.apache.org>;
	Sat, 19 Mar 2016 10:43:32 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 78CDD5F23C
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 10:43:32 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 3373F15A0482; Sat, 19 Mar 2016 11:43:25 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458384205; bh=Fx59iRInMbXyjNUyYfH5vLwrC7wejXihEllvsE0vAj8=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=gFFhASFPH3JZCqa4n2MNUDijMF1WKZC7Ht5IMtQ8k845xw/8ttDmurNWt78eZKbIs
	 wrHVwDTLd/eo9O62s+Z1ep3AkLDmC9TjrwziOUnFAEB7IwD6J5hv60E6PAJJevmENL
	 4o/T8ZMyNG1zC2q1+t5hjD9Ib/Sbptez3nZdIWlk=
Received: from [192.168.178.72] (unknown [84.150.82.61])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id CF6A815A031E
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 11:43:24 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458384204; bh=Fx59iRInMbXyjNUyYfH5vLwrC7wejXihEllvsE0vAj8=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=bK1OZdK8zuo60cOszJ4Z0AXjkTUPhT+5xJ+J55dBrQ0lxpNO+2pL6aHGP8TUHIK8f
	 2PBDpGuBfNq/TOiJ1KKD8MArA5JJ8XQimkbyCk7Qz5zmZnRy1MyavOVxOAw41OgabC
	 LAI5ez3bfGB3SdYFPO8+UrcEG5knhaggXGxIkzwc=
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1735466 - /httpd/httpd/branches/2.4.x/STATUS
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56EC6EEA.20107@wanadoo.fr>
Date: Sat, 19 Mar 2016 11:43:24 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <A880060A-9B78-4ADB-96EE-4B3F72A382D5@greenbytes.de>
References: <20160317173736.2C3DF3A0734@svn01-us-west.apache.org> <56EC6EEA.20107@wanadoo.fr>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Thanks. Changed in 1735748. Updated backport patch.

-Stefan

> Am 18.03.2016 um 22:11 schrieb Christophe JAILLET =
<christophe.jaillet@wanadoo.fr>:
>=20
> Le 17/03/2016 18:37, icing@apache.org a =C3=A9crit :
>> Author: icing
>> Date: Thu Mar 17 17:37:35 2016
>> New Revision: 1735466
>>=20
>> URL: http://svn.apache.org/viewvc?rev=3D1735466&view=3Drev
>> Log:
>> proposal to backport mod_proxy_http2
>>=20
>> Modified:
>>     httpd/httpd/branches/2.4.x/STATUS
>>=20
>> Modified: httpd/httpd/branches/2.4.x/STATUS
>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/STATUS?rev=3D17354=
66&r1=3D1735465&r2=3D1735466&view=3Ddiff
>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>> --- httpd/httpd/branches/2.4.x/STATUS (original)
>> +++ httpd/httpd/branches/2.4.x/STATUS Thu Mar 17 17:37:35 2016
>> @@ -175,7 +175,14 @@ PATCHES PROPOSED TO BACKPORT FROM TRUNK:
>>                    =
http://home.apache.org/~ylavic/patches/httpd-2.4.x-no_crl_for_cert_ok.patc=
h
>>       +1: ylavic
>>  -
>> +  *) mod_proxy_http2: add http2 proxy support in new, experimental =
module.
>> +     Includes backport of r1729208 to set ALPN protocols for ssl =
backend
>> +     connections.
>> +     Trunk version of patch: <various>
>> +     Backport version for 2.4.x of patch: =
https://eissing.org/proxy_http2_2.4.patch
>> +     +1: icing
>> +
>> +
>>  PATCHES/ISSUES THAT ARE BEING WORKED
>>      *) http: Don't remove the Content-Length of zero from a HEAD =
response if
>>=20
> The following code is spurious:
> +    if (APLOGcdebug(session->c)) {
> +        ap_log_cerror(APLOG_MARK, APLOG_DEBUG, 0, session->c,
> +                      "h2_proxy_session(%s): submit %s%s -> %d",
> +                      session->id, stream->req->authority, =
stream->req->path,
> +                      rv);
> +    }
> +    else {
> +        ap_log_cerror(APLOG_MARK, APLOG_DEBUG, 0, session->c,
> +                      "h2_proxy_session(%s-%d): submit %s%s",
> +                      session->id, rv, stream->req->authority, =
stream->req->path);
> +    }
>=20
>=20
>=20


From dev-return-85928-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 19 15:31:44 2016
Return-Path: <dev-return-85928-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 98FC91965F
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 19 Mar 2016 15:31:44 +0000 (UTC)
Received: (qmail 92375 invoked by uid 500); 19 Mar 2016 15:31:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92295 invoked by uid 500); 19 Mar 2016 15:31:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92285 invoked by uid 99); 19 Mar 2016 15:31:39 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Mar 2016 15:31:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 9E7B2C021D
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 15:31:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.3
X-Spam-Level:
X-Spam-Status: No, score=0.3 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_LOW=-0.7]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 8mZSAj-OW2ls for <dev@httpd.apache.org>;
	Sat, 19 Mar 2016 15:31:36 +0000 (UTC)
Received: from lookie3.hostorama.com (lookie3.hostorama.com [80.74.148.208])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 178A85F3F0
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 15:31:36 +0000 (UTC)
Received: from [192.168.178.20] (84-75-83-91.dclient.hispeed.ch [84.75.83.91])
	by lookie3.hostorama.com (Postfix) with ESMTPSA id ADE99AE009A
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 16:31:35 +0100 (CET)
To: dev@httpd.apache.org
From: Michael Kaufmann <mail@michael-kaufmann.ch>
Subject: Bug with "SetHandler None"
Message-ID: <56ED70D7.5020003@michael-kaufmann.ch>
Date: Sat, 19 Mar 2016 16:31:35 +0100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:42.0) Gecko/20100101 Firefox/42.0
 SeaMonkey/2.39
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi,

I have found a bug in the current 2.4.x branch: "SetHandler None" does 
not work anymore (note the capital letter "N"). This worked with Apache 
2.4.18. Probably this commit has changed the behavior: 
http://svn.apache.org/r1729876

The documentation at 
https://httpd.apache.org/docs/2.4/en/mod/core.html#sethandler is 
inconsistent: In the syntax definition, the value "none" is used, but 
there is also this sentence: "You can override an earlier defined 
SetHandler directive by using the value None." So I expect that both 
"none" and "None" should work.

Example configuration that shows the problem (the send-as-is handler is 
not used anymore for asis files):

<Location />
     SetHandler       None
     AddType          text/html .html .asis
     AddHandler       send-as-is html asis
</Location>

Regards,
Michael

From dev-return-85929-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 19 16:33:01 2016
Return-Path: <dev-return-85929-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1A36219720
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 19 Mar 2016 16:33:01 +0000 (UTC)
Received: (qmail 29939 invoked by uid 500); 19 Mar 2016 16:33:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29841 invoked by uid 500); 19 Mar 2016 16:33:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29827 invoked by uid 99); 19 Mar 2016 16:33:00 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Mar 2016 16:33:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 37D2AC0217
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 16:33:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.266
X-Spam-Level: *
X-Spam-Status: No, score=1.266 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_SORBS_WEB=0.614, SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id zaRyJyScBIa3 for <dev@httpd.apache.org>;
	Sat, 19 Mar 2016 16:32:56 +0000 (UTC)
Received: from resqmta-po-03v.sys.comcast.net (resqmta-po-03v.sys.comcast.net [96.114.154.162])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id D9D2A5F1D5
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 16:32:55 +0000 (UTC)
Received: from resomta-po-02v.sys.comcast.net ([96.114.154.226])
	by resqmta-po-03v.sys.comcast.net with comcast
	id XsYl1s0034tLnxL01sYp9o; Sat, 19 Mar 2016 16:32:49 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-02v.sys.comcast.net with comcast
	id XsYo1s0032U0RYt01sYoKK; Sat, 19 Mar 2016 16:32:49 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Bug with "SetHandler None"
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56ED70D7.5020003@michael-kaufmann.ch>
Date: Sat, 19 Mar 2016 12:32:48 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <2F1C6E23-6C5E-457F-9CA7-1BBBAF91DA41@jaguNET.com>
References: <56ED70D7.5020003@michael-kaufmann.ch>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458405169;
	bh=2eP59EnWIqkz69YjyGaHka+hlP2W/XC5yopq54/DId0=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=pEtdUozo701DKWjSl+XkWBmW2z2u9neL5wEpgwDtmlMWJHtKyljOE2bCWF7LmcBL3
	 Kl/JXIdd6dMn2AgIk2mxrvE5yuNBcMxCg9R4Fw4KYZxOUu4MS3RGepMUaoUs/+y+0o
	 PUhpvi6+8+8eNY3T0palG8PvNrCf45UTqp1b6dCIoVChriufXynsECp3CMAOQuRNRO
	 Ab74Lt1JRSfo9uxZpD+G1nd8G5lIC0iK4JmKEA/gWWYkgwMcLDDG8NhQ/wCxNvPS55
	 NKypM8kLmKiqvbrppMpmAUufBRWuOo42h2nVvox+z+Bo4wXFHJePcq9B08iPHfEe3a
	 hn0BY0DTOiSpA==

Hmmm.... a rough look doesn't seem to show anyplace where we
used to use strcasecmp and now use strcmp;

The bigger question is whether or not 'none' should be case insensitive
or not. IMHO, it should be.

> On Mar 19, 2016, at 11:31 AM, Michael Kaufmann =
<mail@michael-kaufmann.ch> wrote:
>=20
> Hi,
>=20
> I have found a bug in the current 2.4.x branch: "SetHandler None" does =
not work anymore (note the capital letter "N"). This worked with Apache =
2.4.18. Probably this commit has changed the behavior: =
http://svn.apache.org/r1729876
>=20
> The documentation at =
https://httpd.apache.org/docs/2.4/en/mod/core.html#sethandler is =
inconsistent: In the syntax definition, the value "none" is used, but =
there is also this sentence: "You can override an earlier defined =
SetHandler directive by using the value None." So I expect that both =
"none" and "None" should work.
>=20
> Example configuration that shows the problem (the send-as-is handler =
is not used anymore for asis files):
>=20
> <Location />
>    SetHandler       None
>    AddType          text/html .html .asis
>    AddHandler       send-as-is html asis
> </Location>
>=20
> Regards,
> Michael


From dev-return-85930-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 19 16:37:48 2016
Return-Path: <dev-return-85930-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BBD9B19730
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 19 Mar 2016 16:37:48 +0000 (UTC)
Received: (qmail 32649 invoked by uid 500); 19 Mar 2016 16:37:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32564 invoked by uid 500); 19 Mar 2016 16:37:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32553 invoked by uid 99); 19 Mar 2016 16:37:48 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Mar 2016 16:37:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C4ADAC0217
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 16:37:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id XQCl66Cim9AY for <dev@httpd.apache.org>;
	Sat, 19 Mar 2016 16:37:47 +0000 (UTC)
Received: from mail-ig0-f180.google.com (mail-ig0-f180.google.com [209.85.213.180])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id C84535F23C
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 16:37:46 +0000 (UTC)
Received: by mail-ig0-f180.google.com with SMTP id ig19so59468810igb.0
        for <dev@httpd.apache.org>; Sat, 19 Mar 2016 09:37:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=tmZ0e25kFDkqLjdBJobX1IXvCGR2Dwox8s1cSaDYjo0=;
        b=BWD+GA8JyVcsZ17UliOjXMH5hdqeZlrJSvooN04V7v1187FjmvGJsj+4bihhZRkvJq
         Fd6MQMzTcRYp8BhhsAUP5HLDsPRhDovxkghIs19LzMzF3urYRfqRzN/55qQ3vAkijhSp
         xe2UKb+gmVbQs/3lzBIZsNNsBg5pKI3gOSLa2s4WhVLzOFLfsSRlldT9hM1yCDQPtjgF
         1ZP8yfsoaxnE60BBB5zYnrs9Zv44biKZuFi/zl78w8Jcl6HawspZOreE117FmpaNazi1
         d1d1wXu5G/8MOkzm8p3QhhIbtpLXf/lnhs0jOE9l5zxjt4MXWAS3voNJ1HoiMlm/N0Gg
         0R1g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=tmZ0e25kFDkqLjdBJobX1IXvCGR2Dwox8s1cSaDYjo0=;
        b=ihzc5CTA3FFwY8N0CA5bFpU9Q/vzwmZnNr1FBJgQVS9M8gEAzaREWmeLZdfenPqGxU
         UyzzW1zyUKvVXR8ucfgJVdrJTyUuMC1rNDyTMxF609RiW+B5pT3cDvvIL9lnO6AB5PWH
         JuHCjpZwnp/LpGKTlQuvL+mXPkh/CY/XWhH1qWkib1vjizeFTNF+JFrNiThlN0G93edU
         9jih3tdHmVBgVTXmNiudL20DdRc7GDTr+csssr4X0bA2Ilu0oaflUkemyYoJym2a90bf
         vZXa5JFehq/JtGHxaj/ZxmGhwbWGgrutsvXqOZyYPjONLgKPd9C6/opCSdEHYaBRU63h
         RzTQ==
X-Gm-Message-State: AD7BkJJqcRB4pe3vuj+zq/EfM5XNtF810MdFhk0mbXz1XLfVGhPBNmfumW7H3qzgVIqo5hbezxu3cyPMLx060w==
MIME-Version: 1.0
X-Received: by 10.50.43.164 with SMTP id x4mr4633137igl.56.1458405466193; Sat,
 19 Mar 2016 09:37:46 -0700 (PDT)
Received: by 10.64.39.16 with HTTP; Sat, 19 Mar 2016 09:37:46 -0700 (PDT)
In-Reply-To: <2F1C6E23-6C5E-457F-9CA7-1BBBAF91DA41@jaguNET.com>
References: <56ED70D7.5020003@michael-kaufmann.ch>
	<2F1C6E23-6C5E-457F-9CA7-1BBBAF91DA41@jaguNET.com>
Date: Sat, 19 Mar 2016 12:37:46 -0400
Message-ID: <CALK=YjMLK+_roQojdycVpTq7D4CSOphEaJWc+Xk2rMbsiyVFnw@mail.gmail.com>
Subject: Re: Bug with "SetHandler None"
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

> The bigger question is whether or not 'none' should be case insensitive
> or not. IMHO, it should be.

yup. Looking now too.

From dev-return-85931-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 19 16:44:19 2016
Return-Path: <dev-return-85931-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8F18F1973E
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 19 Mar 2016 16:44:19 +0000 (UTC)
Received: (qmail 35714 invoked by uid 500); 19 Mar 2016 16:44:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35628 invoked by uid 500); 19 Mar 2016 16:44:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35618 invoked by uid 99); 19 Mar 2016 16:44:19 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Mar 2016 16:44:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id A2FF81A10AD
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 16:44:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id O72pp7GNJcNU for <dev@httpd.apache.org>;
	Sat, 19 Mar 2016 16:44:18 +0000 (UTC)
Received: from mail-io0-f180.google.com (mail-io0-f180.google.com [209.85.223.180])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id A70075F23C
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 16:44:17 +0000 (UTC)
Received: by mail-io0-f180.google.com with SMTP id o5so85747975iod.2
        for <dev@httpd.apache.org>; Sat, 19 Mar 2016 09:44:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=f6ZyU/R5vExSUmyqTF3N5Jhsxeei3FISUq6DCWZ8Xt8=;
        b=JfUr+F5P8Bvr+GGBU+RAXRVRgubG1puITCVkYWV5nIz7qlJccw5mAyIQ43sxbG3Dc7
         WiUQq7JYad8aHtxq+8bQtg28ylK5bJhDGTIxOZdAlf9jo1SoTmBxTU9ktVKqdK4A6l4Y
         Luh3aaq58FEsJVN+L8AwYKjaMtrHF+iALzSoH7+G+nTVj9Mtnb8pl+qcH+1vNROTGALa
         6Wz5YQUnHbTqzaJ3r3KN0e6WI0aEJqumL+210VB8H6VjygrR3Ibn7cKXfM4xIUs4ev58
         +24dBhU+UePOW5FzFk+s0FA5vDdhFCJxYt+8tSs/agnP43JZ56wC0rU8JCbFZL0Vz4bq
         W1dA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=f6ZyU/R5vExSUmyqTF3N5Jhsxeei3FISUq6DCWZ8Xt8=;
        b=ZTqR8Yu8fmfl4Bj9xZtFwadSBOS9EJXUy+ISf85+GPD2gaoxU//q4TmkCCM1hFG4Lm
         bfczEHRDj9dhWYWyCj122Yef9yprWhAMnh0rA9IWo9N8sCpGs2keTlAvkFt3exq/dnCf
         fPHRQz82kDlaHw3Tblu4cBASaaiDekXtwboo3CaK62f9JFSlWvREyTZnQN12joUCfQjQ
         7ZkCV2/GFDZg4oluMukeqDtGJvxa41pInnbYnX5F8xDv0+4hyGnzLkjvBfKLCSRu8EYq
         1LOH4yZ97s1UX+lDeFtM3RlWbmRc++5O5xj60RBj6zUpTos76pBv28zyfMX6hGvn3qPx
         Ct3A==
X-Gm-Message-State: AD7BkJLhtOgDnmvBPnEXPbWlnd5OIv8dPpLVb10qD3ofshd8LQwYEMQd3tOjs5z1kLajiteVPKuFNtSNan/eMA==
MIME-Version: 1.0
X-Received: by 10.107.26.201 with SMTP id a192mr21867167ioa.13.1458405851629;
 Sat, 19 Mar 2016 09:44:11 -0700 (PDT)
Received: by 10.64.39.16 with HTTP; Sat, 19 Mar 2016 09:44:11 -0700 (PDT)
In-Reply-To: <CALK=YjMLK+_roQojdycVpTq7D4CSOphEaJWc+Xk2rMbsiyVFnw@mail.gmail.com>
References: <56ED70D7.5020003@michael-kaufmann.ch>
	<2F1C6E23-6C5E-457F-9CA7-1BBBAF91DA41@jaguNET.com>
	<CALK=YjMLK+_roQojdycVpTq7D4CSOphEaJWc+Xk2rMbsiyVFnw@mail.gmail.com>
Date: Sat, 19 Mar 2016 12:44:11 -0400
Message-ID: <CALK=YjNNyTTt551PnTjigGnF=3=ixRs_SnTQzSNBVNuxkk3Hrg@mail.gmail.com>
Subject: Re: Bug with "SetHandler None"
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Sat, Mar 19, 2016 at 12:37 PM, Eric Covener <covener@gmail.com> wrote:
> yup. Looking now too.
>

I've got it

-- 
Eric Covener
covener@gmail.com

From dev-return-85932-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 19 16:44:24 2016
Return-Path: <dev-return-85932-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DAE0C19742
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 19 Mar 2016 16:44:24 +0000 (UTC)
Received: (qmail 36712 invoked by uid 500); 19 Mar 2016 16:44:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36637 invoked by uid 500); 19 Mar 2016 16:44:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36626 invoked by uid 99); 19 Mar 2016 16:44:24 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Mar 2016 16:44:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id D704BC0217
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 16:44:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id mAowadnBtVE4 for <dev@httpd.apache.org>;
	Sat, 19 Mar 2016 16:44:21 +0000 (UTC)
Received: from mail-qg0-f51.google.com (mail-qg0-f51.google.com [209.85.192.51])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id F1B1B5F24B
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 16:44:20 +0000 (UTC)
Received: by mail-qg0-f51.google.com with SMTP id w104so124999271qge.1
        for <dev@httpd.apache.org>; Sat, 19 Mar 2016 09:44:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=j4LbwQLaTEInwFwdL9e/ImisONX2a6mpPk7xJt5igLg=;
        b=YBHCnctz14jBIN1//oYQyEpu8NdpE/qXh7AmzbYsgmrIlJAIpyFs1J2KnpDb3xA7SJ
         l4UQkUDJ8OwIAjvrz1BVg2v9S01VpdIghmbpObWP8BV4OBnIeSo5JpW6A+7OBQwDONLL
         fuh0wwt6wwoake/K2OgGG8Pg6VKZGgpr+y+1bcmag44qijpMfbsNVBwe+95CL1I2Cw6M
         4FREhEXrGq6VPkkV4WdeioWbAwaYqFYsBfyikAwOkj+PnmZaFN2W5t/sXPINJR93BELX
         ppYXAP2OuqtRMLqHfeQx3UiUXwBv7WOUKOU/vV09G6zYp8myUt6bGBXVXqqH9UbtPDcH
         R1dQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=j4LbwQLaTEInwFwdL9e/ImisONX2a6mpPk7xJt5igLg=;
        b=McJlm2hHmrOIEyTn0n1q3Pnp41yQEfYCWrG8JGzNfyv6/LUMpFlpsowOs57GeAwMUm
         4Z1LgPSpshvOY/CuI9fuXU3lfHF4ScbszQyPg/Zi290bLvFLlh7v1YQkuvBkBsOBWNCG
         gKDkkdUvGp8TwLxDJdjzP80h7gU5nkbbhaZikUWNTGnC4eeqFI8aqWiXoA1fHghqzU95
         1CoGnMuUMReWJ3O8PCaCX+UTD1BXEygza6BG0ceGEvLwG1oaE82x/1Pdilkb2TFkrg4+
         tbc619JcWlFIxsv+DQTn9GgEd46j4zfsKjG0VS4HCBrc+cIj04eWUba20Egw0MOULD6Q
         rIiw==
X-Gm-Message-State: AD7BkJLAJRtfXyLB6ja91e+g7aSuZHkFlG7kBDbpVnpn//pTN1PPRCIOC9/9ethANXEruJ88clNs/C1p8Er1Rg==
MIME-Version: 1.0
X-Received: by 10.140.43.37 with SMTP id d34mr29852248qga.51.1458405854398;
 Sat, 19 Mar 2016 09:44:14 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Sat, 19 Mar 2016 09:44:14 -0700 (PDT)
In-Reply-To: <CALK=YjMLK+_roQojdycVpTq7D4CSOphEaJWc+Xk2rMbsiyVFnw@mail.gmail.com>
References: <56ED70D7.5020003@michael-kaufmann.ch>
	<2F1C6E23-6C5E-457F-9CA7-1BBBAF91DA41@jaguNET.com>
	<CALK=YjMLK+_roQojdycVpTq7D4CSOphEaJWc+Xk2rMbsiyVFnw@mail.gmail.com>
Date: Sat, 19 Mar 2016 17:44:14 +0100
Message-ID: <CAKQ1sVP7sk=h=weAF20gTY0qn4ZuEZ4t7QsYBsscTqbtUD2s2g@mail.gmail.com>
Subject: Re: Bug with "SetHandler None"
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Sat, Mar 19, 2016 at 5:37 PM, Eric Covener <covener@gmail.com> wrote:
>> The bigger question is whether or not 'none' should be case insensitive
>> or not. IMHO, it should be.
>
> yup. Looking now too.

We probably need something like this:

Index: server/core.c
===================================================================
--- server/core.c    (revision 1735784)
+++ server/core.c    (working copy)
@@ -4453,16 +4453,14 @@ static int core_override_type(request_rec *r)
                           "Can't evaluate handler expression: %s", err);
             return HTTP_INTERNAL_SERVER_ERROR;
         }
+        if (val != ap_strstr_c(val, "proxy:unix")) {
+            /* Retained for compatibility --  but not for UDS */
+            char *tmp = apr_pstrdup(r->pool, val);
+            ap_str_tolower(tmp);
+            val = tmp;
+        }
         if (strcmp(val, "none")) {
-            if (val != ap_strstr_c(val, "proxy:unix")) {
-                /* Retained for compatibility --  but not for UDS */
-                char *tmp = apr_pstrdup(r->pool, val);
-                ap_str_tolower(tmp);
-                r->handler = tmp;
-            }
-            else {
-                r->handler = val;
-            }
+            r->handler = val;
         }
     }
     else if (conf->handler && strcmp(conf->handler, "none")) {

--

From dev-return-85933-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 19 16:50:12 2016
Return-Path: <dev-return-85933-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3331D19772
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 19 Mar 2016 16:50:12 +0000 (UTC)
Received: (qmail 51678 invoked by uid 500); 19 Mar 2016 16:50:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51613 invoked by uid 500); 19 Mar 2016 16:50:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51603 invoked by uid 99); 19 Mar 2016 16:50:11 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Mar 2016 16:50:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 25FA4C0501
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 16:50:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id JggKXrM1SQOF for <dev@httpd.apache.org>;
	Sat, 19 Mar 2016 16:50:10 +0000 (UTC)
Received: from mail-io0-f169.google.com (mail-io0-f169.google.com [209.85.223.169])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 156EF5F2EF
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 16:50:10 +0000 (UTC)
Received: by mail-io0-f169.google.com with SMTP id 124so17732093iov.3
        for <dev@httpd.apache.org>; Sat, 19 Mar 2016 09:50:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=3JL1gWUOfhHGMsBdbekatUlP7SmQSU3UQ8+xTp47ynQ=;
        b=BecvGqx4CEF4Ju4/PIgcdZYHj4EkKxfAXr6YXPcT3oeYSfWPp9+MXUkqCtCp5churo
         WdXcuq2r6fi36Holf9otjGr5+gRrgrDM4fV/yxMaT4kySCCcbHNmwZHalyM+DGNprD93
         0NgRbst7iAa/OoqcrNmgjONb6ON28u2XI6cDDWyWkbanH5QSE2HtP0yeJbvdQVhMcgX4
         DRLBVKkH+TRe15crx5OWEfUUdKQCGZOuIFEX4nHL/v+5bz/CFO30JCYY0eTbwgaxw6D1
         D7F2YX8nRsHAxpv1gS429HR1dyk+1fFfTOgDbMsY/FKmuSckuhGAnKQeykur//VlYB3k
         XZSg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=3JL1gWUOfhHGMsBdbekatUlP7SmQSU3UQ8+xTp47ynQ=;
        b=SxxTpIWBQ6M9auVERYZ7wNYYHpTvgZBl2aWZMcHI9/m3gd7ag7PJ4jE4ZyoKrIl662
         5P6vRSozip4Jn+Oi/sgwXI71H1mZl1GXmkCYe5b5UhLRacD6sqU7iawNnLK9F6ABYprc
         Kqa1PYBRcDuVzY8yjr0xMrNSTmTYEmtgAzLtrv+hHK0ua4c3YDSvt0a4QXOk6VAkkrCD
         LlL+4ZyaGPQIj8qIvnEumM7QvQXZHcph/s9brlPdPfE+W2+ZFnC+JZ7zycbmFyqWBxOB
         0/uL8kfVCQ10UU7b0J1XBnd26nOPIFrFFNib6FOHKFsoaANF/3KT/+50YjA/ktc4wfyq
         YNWg==
X-Gm-Message-State: AD7BkJLPeKlUtdaT6Q+x4zxIws6UYgfhfDdpliML7Pv+vgOJP7rLOzR5fGAP6nl8AQEfVhLOTRV5fZu+jF12+Q==
MIME-Version: 1.0
X-Received: by 10.107.169.95 with SMTP id s92mr21513692ioe.90.1458406209019;
 Sat, 19 Mar 2016 09:50:09 -0700 (PDT)
Received: by 10.64.39.16 with HTTP; Sat, 19 Mar 2016 09:50:08 -0700 (PDT)
In-Reply-To: <CAKQ1sVP7sk=h=weAF20gTY0qn4ZuEZ4t7QsYBsscTqbtUD2s2g@mail.gmail.com>
References: <56ED70D7.5020003@michael-kaufmann.ch>
	<2F1C6E23-6C5E-457F-9CA7-1BBBAF91DA41@jaguNET.com>
	<CALK=YjMLK+_roQojdycVpTq7D4CSOphEaJWc+Xk2rMbsiyVFnw@mail.gmail.com>
	<CAKQ1sVP7sk=h=weAF20gTY0qn4ZuEZ4t7QsYBsscTqbtUD2s2g@mail.gmail.com>
Date: Sat, 19 Mar 2016 12:50:08 -0400
Message-ID: <CALK=YjOWJGUvhKgQ1EL9W1kYqcd5OBvJ+OGrXaDzUjOnx6L6sA@mail.gmail.com>
Subject: Re: Bug with "SetHandler None"
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

committed and proposed, was just getting these myself.

On Sat, Mar 19, 2016 at 12:44 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Sat, Mar 19, 2016 at 5:37 PM, Eric Covener <covener@gmail.com> wrote:
>>> The bigger question is whether or not 'none' should be case insensitive
>>> or not. IMHO, it should be.
>>
>> yup. Looking now too.
>
> We probably need something like this:
>
> Index: server/core.c
> ===================================================================
> --- server/core.c    (revision 1735784)
> +++ server/core.c    (working copy)
> @@ -4453,16 +4453,14 @@ static int core_override_type(request_rec *r)
>                            "Can't evaluate handler expression: %s", err);
>              return HTTP_INTERNAL_SERVER_ERROR;
>          }
> +        if (val != ap_strstr_c(val, "proxy:unix")) {
> +            /* Retained for compatibility --  but not for UDS */
> +            char *tmp = apr_pstrdup(r->pool, val);
> +            ap_str_tolower(tmp);
> +            val = tmp;
> +        }
>          if (strcmp(val, "none")) {
> -            if (val != ap_strstr_c(val, "proxy:unix")) {
> -                /* Retained for compatibility --  but not for UDS */
> -                char *tmp = apr_pstrdup(r->pool, val);
> -                ap_str_tolower(tmp);
> -                r->handler = tmp;
> -            }
> -            else {
> -                r->handler = val;
> -            }
> +            r->handler = val;
>          }
>      }
>      else if (conf->handler && strcmp(conf->handler, "none")) {
>
> --



-- 
Eric Covener
covener@gmail.com

From dev-return-85934-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 19 16:50:40 2016
Return-Path: <dev-return-85934-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DA34919778
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 19 Mar 2016 16:50:40 +0000 (UTC)
Received: (qmail 52832 invoked by uid 500); 19 Mar 2016 16:50:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52759 invoked by uid 500); 19 Mar 2016 16:50:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52749 invoked by uid 99); 19 Mar 2016 16:50:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Mar 2016 16:50:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id ACDDB1804A1
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 16:50:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 76UYsvT6Juej for <dev@httpd.apache.org>;
	Sat, 19 Mar 2016 16:50:39 +0000 (UTC)
Received: from mail-ig0-f170.google.com (mail-ig0-f170.google.com [209.85.213.170])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 9EA415F23D
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 16:50:38 +0000 (UTC)
Received: by mail-ig0-f170.google.com with SMTP id cl4so5449797igb.0
        for <dev@httpd.apache.org>; Sat, 19 Mar 2016 09:50:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=bheaaEJg9k69EWGJBMJyGz7JVLdeTx2izuUyouYpEts=;
        b=Rnf4KfE0NBwDSX04sgFh86mRD65G83+1e8UnqB+kJ6Rr1y2I6Ye4mhAx890dXwMJ7U
         1mtVIDagY8hMPut3rXAay0cucx/zo/o+72PLI8WDA1Bo11GMcxtBADJmI87um7xPiJJr
         0bPzthchJ0l3gXLHMeVwifd32c3aalsRLlyKc63ODCjBeIQWNO9+cekTF90UKCxQqIM4
         91jCmzEXX8F27MabKyn+24puzq9J9Cic6Zv0ZX9b8D36+1ZFHApQID7bHsqlw/bjoAy1
         KmuYPn5E7T6UEGCOKo8oZOa0uqZY7FsZJnfegHq9NFYfYVGqsCD/Df/4LsuELPMja9HQ
         dD9g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=bheaaEJg9k69EWGJBMJyGz7JVLdeTx2izuUyouYpEts=;
        b=CX0GmXhvkU3fGi4QoKY9R3hNG1/KXHOBJNjGG33Ac6ZA9Zb3IkTQ7orNQd6osIhMSu
         QP4IlqNQ12ZuAlL2FSijoKP35czY/Ph0vwQlEAap3+7W0pHYlksvWLM372d+FxWQs43M
         e4KRDsI4g3RBNMo5gN8GdmManjNAMMBR5rJGyIXW6aIRdvJ6tEcy1nVKG4qfpSUS6YsA
         4MebiE17L18Xi5/fv2SiFOy4vXcXW+WTFgIKgL5E9kqUt41Rw/dg3Bni7JVrQ4fcjUxO
         FlFXW40/Plcx2pXUGDt8McJAZch6fMwYRTCPN61ecKDG6upiH68ExGM8iAV6XlDFvqUh
         g4xA==
X-Gm-Message-State: AD7BkJJamqkepJpxDQ1pbvxIUkZQHQORFesiOQZR8k/COvTuLpfpNoBEx2HOUTEQd4Ktro1oGGunANfXi2Zh0g==
MIME-Version: 1.0
X-Received: by 10.50.39.50 with SMTP id m18mr4661271igk.56.1458406232603; Sat,
 19 Mar 2016 09:50:32 -0700 (PDT)
Received: by 10.64.39.16 with HTTP; Sat, 19 Mar 2016 09:50:32 -0700 (PDT)
In-Reply-To: <56ED70D7.5020003@michael-kaufmann.ch>
References: <56ED70D7.5020003@michael-kaufmann.ch>
Date: Sat, 19 Mar 2016 12:50:32 -0400
Message-ID: <CALK=YjPc82wPa-Ah1wKVPoseqv58+zO_0Gf4tFjjW39b+A59tw@mail.gmail.com>
Subject: Re: Bug with "SetHandler None"
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Sat, Mar 19, 2016 at 11:31 AM, Michael Kaufmann
<mail@michael-kaufmann.ch> wrote:
> I have found a bug in the current 2.4.x branch: "SetHandler None" does not
> work anymore (note the capital letter "N"). This worked with Apache 2.4.18.
> Probably this commit has changed the behavior:
> http://svn.apache.org/r1729876

Thanks Michael!

-- 
Eric Covener
covener@gmail.com

From dev-return-85935-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 19 17:04:48 2016
Return-Path: <dev-return-85935-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 04796197B0
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 19 Mar 2016 17:04:48 +0000 (UTC)
Received: (qmail 64669 invoked by uid 500); 19 Mar 2016 17:04:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64597 invoked by uid 500); 19 Mar 2016 17:04:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64587 invoked by uid 99); 19 Mar 2016 17:04:47 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Mar 2016 17:04:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0FF631804A1
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 17:04:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id XabCAx2MV_IY for <dev@httpd.apache.org>;
	Sat, 19 Mar 2016 17:04:46 +0000 (UTC)
Received: from heavyspace.ca (li52-56.members.linode.com [72.14.186.56])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 41DAD5F3F0
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 17:04:45 +0000 (UTC)
Received: by heavyspace.ca (Postfix, from userid 1001)
	id 6A1FF44DB3; Sat, 19 Mar 2016 17:09:41 +0000 ()
Received: from mail.heavyspace.ca (localhost [127.0.0.1])
	by heavyspace.ca (Postfix) with ESMTP id 9B72C3F839
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 17:09:40 +0000 ()
MIME-Version: 1.0
Content-Type: multipart/mixed;
 boundary="=_772df7d74f571218c8938974d4fc371d"
Date: Sat, 19 Mar 2016 11:09:40 -0600
From: monttyle@heavyspace.ca
To: dev@httpd.apache.org
Subject: Feedback needed:  suexec different-owner patch
Message-ID: <8a10321cceb1529ee92bbe7a5796442b@heavyspace.ca>
X-Sender: monttyle@heavyspace.ca
User-Agent: Roundcube Webmail/1.0.2

--=_772df7d74f571218c8938974d4fc371d
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII;
 format=flowed

Since its been a while since this issue was mentioned, this patch allows 
Apache to suexec files by a different (but still restricted by UID) 
owner, to avoid the security issue where apache forces you to suexec to 
files it has full chmod access to.

-------- Original Message --------
Subject: suexec different-owner patch
Date: 2016-03-04 18:33
 From: monttyle@heavyspace.ca
To: dev@httpd.apache.org
Reply-To: dev@httpd.apache.org

Here is my first try at a patch for my suggestion, modified from httpd 
2.2.31.  It works to my satisfaction, able to switch to a UID other than 
the file's owner, while still strictly matching the UID and GID of the 
file against known values.  I make no guarantees of correctness or 
bug-freeness however.  The changes are so simple though, I hope there's 
nothing flagrantly wrong.

It uses another option, "SuexecFileGroup", which independently defines 
the specific user and group the file must belong to.  If you don't 
define it, it defaults to the old behavior.  I re-used suexec's own 
sanity checking on the new option where it seemed appropriate.

Criticisms, please?
--=_772df7d74f571218c8938974d4fc371d
Content-Transfer-Encoding: base64
Content-Type: application/x-gzip;
 name=specialsuexec.patch.gz
Content-Disposition: attachment;
 filename=specialsuexec.patch.gz;
 size=3119

H4sICB4m2lYAA3NwZWNpYWxzdWV4ZWMucGF0Y2gAtVp5b9vKEf/b+hQbA3mlLOogddiW4CB+eU5r
NImDHOgDUkNgyCVFRCJZHlbSxP3sndmLy0Oy5aJGIlG7M7OzM7+dg6QX+j7pp6RfkFWeJ17fHtiD
sTXcxF6xptkwoBFNnTxOMxxaZgX9Tt2BWyHuZwl1Q2fNJx9i7fT7/YPWOrJHo1l/dNq3bDIaz8dn
88lkMJJ/pIefnV6v9z/oBEtYsMS4P5qS0Whuzeb2ZGCf2dbpZASr8iVeviT96cyckR582ufk5csO
wb+U5kUakc03N478MDCS7qJD7juk0+v0stzJQ5fATJYTd+Wk5CSjuVh36QehZ7gbb5k46SYjJ3Bp
krs49MjJhgszOz3y8J8uvghBhj4Aa3Q7vZ9ckFiYC1/msKQfkAtiNMa7RGiw4Iy6RJqmwOMkS3dF
3W9L3ABM5/R7brAdvLv5tLx+t/zj+sPyzc2r5evrN1e/xNib67fXn8A+PS419ImB0p5dkHef37zp
kp/lfoVZYVqocF/yFFH43RPaDoTuNHK+rqlXkQG7679AKw/ALFznInI21Aa7w0h30UYaSNJAkga7
SIuMpl6I1hjV5x03D+8ozFhV9ek6o7qKfpKGUe4bWe7BVlv8ffwPJ43CKJiTj2yjr8M1/WsaFwmB
lSlfJaX/KuBHRj5+vvrz6hXZpk6S0HTwz+i4W11eWBWtDRMw2CH7MVo8AqOPgOgjMApWwSM2O8cj
dm6b1kQdMWXVYp8vW0h3+bJNasWXnd5R6BtGDUAw1yW//UaMGlpwHA7ZEfj16ADstdDuBF+b3IrG
R8yZOzFIOAiIhkG0tmWdormtyZlZRjRyQvIVRS2+FMGtVKRLwoxEcQ5zKXW8fub4lJwMOcvlezje
15+Wny7/fmUbxxyqn0FBBtVjk9QgZTIImuTDxw+vlq9u3r1WKDpGLuJEHgkYyv04JVnibCPqkSSN
XZplNDvumjKGtK6sDkl1Zb995V77ynlMNk7urogTOCGC1QepuDKj/snkoEnvwbod70mJdPX0pLU6
NJGu/v+JdFUm0gmxzueTGeTSwfn07Gwyms3GWiK1Gezg85ShrkPyHwn1qA/RKC3cHNDJjMwOTfh9
GXo0ysP8B6QmRI+IaS2zPptlvBBWCT8BmI/rqW+fz+JsiHLZh7e/2KmRNn1SI0ADWf2R3YfoZkOl
cTa3R4f6oEWktLk9nk/tuW0Pzuxm8TKeTsDcPf4lzzpaKeQhpBGnTyK6ddIgk1NsEMbgGLLwtOj0
y3FUDSOSyS/ZEZLFw04CuMZDJYbxUvA1dAE97lBHoTUUAc8eqALYlk9ZNsEva6T2LMOg1IJF3HSZ
ZCIXg1rHz9cexA5jHUdBl2Gu/0KkDr6n4ckJxD52KXfwkBiDyfli3WJG6BKZmdWuH+SX7IFk14wh
rUt+/SLP1M668iDhn8j9l+8/LK/e3by9equyAjPV+chEuIzPJ/XUq9lMfA1PiLNex66TUwzOLmVh
ekIAHAQRY7IEEkZJkYvfGFYdEhXrNclpugkjDB6YPhiEBNCkBZhs3H8W/pvGvsEh0IW8ZISkRyZd
abvD+GZdmfo1EAMvr5qWv1+/K6dR7JfR7b5ZC2el3WtztpzT8Swnx7fK1XnqFQlqzPBd29aXCRJK
eNXmpnJOriA9w79PTkiRQdkIRs9WFK0ec13RY+ysQHL7RjGjQ4aMoCDIV0XGkDAZnWGcmFgTFZ0Z
zLRCwosBWH2JDakS2pjvjf261WpinWRaIeGwItsVbIUYfLjXu+2qHQnYMntB/l+6UH3k1OAudE3d
l6ZcxyQ0ugOj5jnEFWzIdoX6rEiSOM2Hj2ls67TNYF+nwNA8wdAMB8uy5tPx3LIPjfZtMrVeFf7Z
54PZlIX70ZmeYidT07IgycL31FYHGgwTpnEELnDX1Ingp2xXRSMgMnDiZNkWqvxkuyDyzLOxOPVA
SJ7+IKt4DU0Lh9uwzs9D2kmQCnbk52MNZsGvJEB4XGLcx+7yzlnDL8Q/OtiotBE4ovo9jIKwdJZE
RsGxcGzZ48l0dnp2PjruYo8J02sqpruVRhGZjWQLRglonmyBQFFdtPSm+LeOgyV0bMZxGDEdSQ7A
o1CfYBBG3jkxnmddaMFMwmUtqgLo9zA3rNFUH7/f2yvWtAQzGRBFQ6nqE3UNvcdpalvtmuqNJWjX
f5Fsl6LBudecGjScytDQ8Gqwy6vBfq8GO7wapNxeAQJIUR1qKY7cmluDPW6dHejWUs1AujV4qlu5
shW/PkHVil+DFOqfdBmUfmWV4wYaI4MV2mkAobgs1b7csoae7y/iSJO9qlwKAsJ/5Li/dgJdNdVY
8lgAn4vKNDJz9EZQeUCbFkJIazBzzAVtzBVTJWsoYWRAkmUdX9lvLA3MmHbbl5fMfGW/sbRkFi6q
cktmbkak47cMFm0rs9qlarA6c9DGXCK5xdqcmdtGX7s0WMvarcxBG3PL2q3Mq3hDARWLCjMOinte
MeQPwcwy3fTchMw3Ho2g2Jd5jgt0Ny2+d+PNButRKIm+UlkVeQ1t3K335fL98u3ln+8vP/3tVmjj
FmkKGYxAHvyG9VWpUYXZa2X2YjeN4x3MrJ56avbVmQ9OvURjxnCNei0RnFJtpSYO1lZuMCdpoDNj
cZY6mwYrZ+a9h32K/VlvPJuZY6vSe6gYl8cx8Xl7UWxgHxm/uakIRTCzuqqrEe2RjmZeeN5B6b6o
TAb6pC0nATxybHyrdX6wVk4jDyDzla6cuzBO5/xsxdtI3EGCU3IHl+y0sHrODymOJk4Kxev6hzqu
oY81r0teXEB7wocgyg+HR2rjarHazstbyCpQSG0nt/XpyganOH2El6R3QezF0dFwSK7AczbuLHVY
cc4pXNJHimb+QlRQ3ynWuTICgXKYmQENAGFzyDG3KbJc3EiTm67tUApSG2QmuXju8dyFP3butxKr
dmy6EpK0/Aa71hGWQF+azWW4eZ7hP7YfdslUYXof6WuaFekmJyg1NDVNyo5dNmnQmL7CgggjUUYp
VgLYNzPUpEWEt/1hIMzkGVJcMKQIsendUhbNoC3LYuJk6JoQb5iGkbgNYpljbOnGlmmPK+erTMza
TWIFdK4dNFW+EwVrEMjswXecDQi7HZzSPoYVJ8pNXB31iiOaKV9sKdnCJOr3jdKEBDFZOwAJdfsE
oHLRWuyXZpTuV75qpYdi5+L52mOeqrhAe9aDKfmivQqtemrnciVDYz1RovqiTGo4+ypN4ZjERS49
rSVVhlXwq6jlBpJJhHatEK7Cb1c9rFOxsli16y3NTo1YKzgVV8Uej+h5KiIXVTla66PG7/ml+BI1
8i6dVetTVfyJmlcq5Yf1Zo1QU29RfbXgsiaSPBoXWr10CDIe6JR0qhZkVBumGvGh9m3tmyoy26Ex
OxAaLe1TVfOnqt6GjcMVb2CjDCI1mT3VueCGVNclYrPj5oWzVolN3D4UZApe7CbeZGyeQ8Q/O68+
2HsTBxxhELAzfDwCrceKplQUw1kBlxCxIaNjHidxQiO0kOL/SqFlYSQZdIb4WLCOR7RnFHOTFsJ8
Q7Ag7qn8AbXVXGTVqh1JtWIz5Z75r120QYVW5uI96tQ1aihVfxBfVUpPL1UFd/AFGl+rsjU21KUS
K9jrJ5bF3j+ZnuqPM9QhMNwVpHID2o4/bl4tP9zcfOqycz/qkl+/qgvAiaE5NDgG9CkmKRsV/Zw0
ebh8YJNyG7ckxGORoyMtdSKPPEG6bos9dLjGok10RaOS2YmwFMFjK1ssvbfesXxFFj+/1lgfvxcv
/dimBWafWfB9qj9FUs7hqNwdyNHFohyGQI43oylrIv003ihmpNcIYy4BLEFAJl6KKnAgObQEgK8U
oEtk4zbIcnYTDp2ojgy+S1AnChpEQpLs4vZK0olQUomHFlvwFiklPusB/5LttQpwOLmSVbZQYcRN
AX3UhuY0xSr02idFpEhMXjKLpgIK5ViJYTUzaM6e8WOkL42KGvCI1mdVdzyQXKpRAyv7e8yswGr4
e+ysUe0xdFNWm6Wb50BWNdh8AZ8B1ekQ/nfJJsx4C3bcfFvneBvmK63HL7nAWdI8arA1YhP2Sg++
XdF8gclnc+zVi+baNUOadZu1sNTsZTZM07gpYOODtf8CVL4AmOooAAA=
--=_772df7d74f571218c8938974d4fc371d--


From dev-return-85936-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 19 17:20:42 2016
Return-Path: <dev-return-85936-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E6363197E9
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 19 Mar 2016 17:20:41 +0000 (UTC)
Received: (qmail 83505 invoked by uid 500); 19 Mar 2016 17:20:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83426 invoked by uid 500); 19 Mar 2016 17:20:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83416 invoked by uid 99); 19 Mar 2016 17:20:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Mar 2016 17:20:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 04CB1C0D4B
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 17:20:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.361
X-Spam-Level: *
X-Spam-Status: No, score=1.361 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RDNS_DYNAMIC=0.363,
	RP_MATCHES_RCVD=-0.001, SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 4nt6FgFMDRjj for <dev@httpd.apache.org>;
	Sat, 19 Mar 2016 17:20:39 +0000 (UTC)
Received: from nebula.c8h10n4o2.org.uk (nebula.c8h10n4o2.org.uk [80.68.88.207])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 2268E5F3A1
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 17:20:38 +0000 (UTC)
Received: from abordeaux-552-1-158-134.w92-134.abo.wanadoo.fr ([92.134.181.134] helo=[192.168.0.9])
	by nebula.c8h10n4o2.org.uk with esmtpsa (TLS1.2:ECDHE_RSA_AES_256_CBC_SHA1:256)
	(Exim 4.84)
	(envelope-from <isoma@c8h10n4o2.org.uk>)
	id 1ahKY9-0000cp-Au
	for dev@httpd.apache.org; Sat, 19 Mar 2016 17:20:30 +0000
User-Agent: K-9 Mail for Android
In-Reply-To: <8a10321cceb1529ee92bbe7a5796442b@heavyspace.ca>
References: <8a10321cceb1529ee92bbe7a5796442b@heavyspace.ca>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Content-Type: text/plain;
 charset=UTF-8
Subject: Re: Feedback needed:  suexec different-owner patch
From: Tim Bannister <isoma@c8h10n4o2.org.uk>
Date: Sat, 19 Mar 2016 17:20:17 +0000
To: dev@httpd.apache.org
Message-ID: <384FB5C8-427E-4AF5-BE99-4D1CA5232AAC@c8h10n4o2.org.uk>

On 19 March 2016, monttyle@heavyspace.ca wrote:
>Since its been a while since this issue was mentioned, this patch
>allows 
>Apache to suexec files by a different (but still restricted by UID) 
>owner, to avoid the security issue where apache forces you to suexec to
>files it has full chmod access to.


That patch builds on what I'd consider as a legacy feature. I have not used suexec for a long time: it is risky, and on the one recent-ish occasion when I wanted something like suexec, I also wanted to chroot() / jail() / otherwise separate the CGI application from the main system.

httpd's users do sometimes need to have web content served using processes that have different privileges to httpd, and perhaps are also isolated from one another. suexec achieves some of this albeit not well.
It feels to me as if some kind of FastCGI process manager, combined with a privileged helper, could be used to fill the gap that mpm_itk and suexec don't completely cover.

I'll add to my To Do list (and maybe also Bugzilla) a task to see what already exists and document how to use that in place of suexec.
If nothing out there already works, then my idea is to code that up as well.

I wish I could say when I might get round to that, but the way if these things is that it's easy to start this kind of task and rather more difficult to complete them.

As to whether to take the suggested patch: +0. I don't think it will make things worse; however, I don't feel qualified to comment on security-critical code.

Tim


-- 
Tim Bannister  isoma@c8h10n4o2.org.uk

From dev-return-85937-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 19 18:03:26 2016
Return-Path: <dev-return-85937-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0618F198C4
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 19 Mar 2016 18:03:26 +0000 (UTC)
Received: (qmail 19242 invoked by uid 500); 19 Mar 2016 18:03:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19175 invoked by uid 500); 19 Mar 2016 18:03:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19165 invoked by uid 99); 19 Mar 2016 18:03:25 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Mar 2016 18:03:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 24C9AC0217
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 18:03:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.8
X-Spam-Level: **
X-Spam-Status: No, score=2.8 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=2.5,
	RCVD_IN_DNSWL_LOW=-0.7] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id QY-HMCocjT1L for <dev@httpd.apache.org>;
	Sat, 19 Mar 2016 18:03:23 +0000 (UTC)
Received: from lookie3.hostorama.com (lookie3.hostorama.com [80.74.148.208])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id BA5C45F1D5
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 18:03:22 +0000 (UTC)
Received: from [192.168.178.20] (84-75-83-91.dclient.hispeed.ch [84.75.83.91])
	by lookie3.hostorama.com (Postfix) with ESMTPSA id 98E53AE009A
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 19:03:20 +0100 (CET)
Subject: Re: Bug with "SetHandler None"
To: dev@httpd.apache.org
References: <56ED70D7.5020003@michael-kaufmann.ch>
 <CALK=YjPc82wPa-Ah1wKVPoseqv58+zO_0Gf4tFjjW39b+A59tw@mail.gmail.com>
From: Michael Kaufmann <mail@michael-kaufmann.ch>
Message-ID: <56ED946E.5040604@michael-kaufmann.ch>
Date: Sat, 19 Mar 2016 19:03:26 +0100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:42.0) Gecko/20100101 Firefox/42.0
 SeaMonkey/2.39
MIME-Version: 1.0
In-Reply-To: <CALK=YjPc82wPa-Ah1wKVPoseqv58+zO_0Gf4tFjjW39b+A59tw@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

Eric Covener wrote:
> On Sat, Mar 19, 2016 at 11:31 AM, Michael Kaufmann
> <mail@michael-kaufmann.ch> wrote:
>> I have found a bug in the current 2.4.x branch: "SetHandler None" does not
>> work anymore (note the capital letter "N"). This worked with Apache 2.4.18.
>> Probably this commit has changed the behavior:
>> http://svn.apache.org/r1729876
> Thanks Michael!
>

Thank you for fixing the bug! :-)

From dev-return-85938-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 19 19:01:07 2016
Return-Path: <dev-return-85938-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D83D619A54
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 19 Mar 2016 19:01:07 +0000 (UTC)
Received: (qmail 68998 invoked by uid 500); 19 Mar 2016 19:01:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68927 invoked by uid 500); 19 Mar 2016 19:01:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68917 invoked by uid 99); 19 Mar 2016 19:01:06 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Mar 2016 19:01:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 297061A004B
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 19:01:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id i62LZO8uRoDL for <dev@httpd.apache.org>;
	Sat, 19 Mar 2016 19:01:03 +0000 (UTC)
Received: from resqmta-po-01v.sys.comcast.net (resqmta-po-01v.sys.comcast.net [96.114.154.160])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 8292D5F23D
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 19:01:03 +0000 (UTC)
Received: from resomta-po-16v.sys.comcast.net ([96.114.154.240])
	by comcast with SMTP
	id hM7Ma0KvHR2RmhM7Ma6WHc; Sat, 19 Mar 2016 19:00:56 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458414056;
	bh=Z9HtNu+Jp9z/Fw/nqwTfIj2vUr7zafQtJpoXcEaIYWI=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=AiT2yAO4LPQGiHmAr0lRtWI8tr7cWtj24OnWDlz+rIQ8JHYVotg0ASq5ZCT8zfBj1
	 zj1MzWJulTGtUo89PmNL8PRgA/r+mP877eIj2X+YKi4z5FoXDC8qPOC9a2/6mhbjC6
	 n+w9w/c7kK4LYsUphb7uYZXl2OGgZhNC40G25VrcQTn1wBqbA5dWyQAQv7opR1juK5
	 VVoMkbNUl+DMG3WO/6ncHk6auKU8ZjxFCRyrH5pP+ZG6U5zgqzKvFZzoatG+N1cOZC
	 8wC5GFbpbQnDm83EXlU/mmPP0S0g4SM9bPTiVykUaMSd/Rl5c4qEx8rkOW3q4GeSe1
	 pZZFBES7Uibnw==
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-16v.sys.comcast.net with comcast
	id Xv0v1s00C2U0RYt01v0v1a; Sat, 19 Mar 2016 19:00:56 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Feedback needed:  suexec different-owner patch
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <8a10321cceb1529ee92bbe7a5796442b@heavyspace.ca>
Date: Sat, 19 Mar 2016 15:00:55 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <B7472570-3B97-4FE5-A274-913149929FCF@jaguNET.com>
References: <8a10321cceb1529ee92bbe7a5796442b@heavyspace.ca>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

I promise to look deeply into this post 2.4.19 release.

> On Mar 19, 2016, at 1:09 PM, monttyle@heavyspace.ca wrote:
>=20
> Since its been a while since this issue was mentioned, this patch =
allows Apache to suexec files by a different (but still restricted by =
UID) owner, to avoid the security issue where apache forces you to =
suexec to files it has full chmod access to.
>=20
> -------- Original Message --------
> Subject: suexec different-owner patch
> Date: 2016-03-04 18:33
> From: monttyle@heavyspace.ca
> To: dev@httpd.apache.org
> Reply-To: dev@httpd.apache.org
>=20
> Here is my first try at a patch for my suggestion, modified from httpd =
2.2.31.  It works to my satisfaction, able to switch to a UID other than =
the file's owner, while still strictly matching the UID and GID of the =
file against known values.  I make no guarantees of correctness or =
bug-freeness however.  The changes are so simple though, I hope there's =
nothing flagrantly wrong.
>=20
> It uses another option, "SuexecFileGroup", which independently defines =
the specific user and group the file must belong to.  If you don't =
define it, it defaults to the old behavior.  I re-used suexec's own =
sanity checking on the new option where it seemed appropriate.
>=20
> Criticisms, please?<specialsuexec.patch.gz>


From dev-return-85939-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 19 21:05:48 2016
Return-Path: <dev-return-85939-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AFC9919C28
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 19 Mar 2016 21:05:48 +0000 (UTC)
Received: (qmail 78894 invoked by uid 500); 19 Mar 2016 21:05:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78821 invoked by uid 500); 19 Mar 2016 21:05:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 78811 invoked by uid 99); 19 Mar 2016 21:05:47 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Mar 2016 21:05:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 667C1C1425
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 21:05:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 48Ui48jNYhM0 for <dev@httpd.apache.org>;
	Sat, 19 Mar 2016 21:05:46 +0000 (UTC)
Received: from mail-qg0-f46.google.com (mail-qg0-f46.google.com [209.85.192.46])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 0D3DB5FADB
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 21:05:46 +0000 (UTC)
Received: by mail-qg0-f46.google.com with SMTP id w104so127915526qge.1
        for <dev@httpd.apache.org>; Sat, 19 Mar 2016 14:05:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to;
        bh=qL48xyo3mhzyUqJhQFAt6Wycgn9cIpLieCrGVW/40Gw=;
        b=iilDDtMBrlXz2FOdIbiYO5hdC0cPnw7rDiLZr/ifrqoC/NWkJPDk13NVy26PdUI+XT
         31SvNUKNTmg7Q+hlt+eqWiBbT0wJWsP1bMleRvGnU1391nk1U6OhuPs7oVK1DH3QIeQw
         HzqJPOiS1hAEmkSVi8CCrfZwIqzwrtY9t7IhOPUiCYJRmilV5oaUtu8ZiFjFefgn18Al
         WPoud0ZnGHXaqhSABrw/7nZWPY+pyjEvdxGKFe7ojwmWsSjX0dt8aWSM7QMZw9Z1A1B8
         nfn/KHcn3A16u2rP/U5eqFnozBvIz02AFoYGXzXnYUuoGgWuGpuYk5J5QnLOXrY96VQy
         BLAA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to;
        bh=qL48xyo3mhzyUqJhQFAt6Wycgn9cIpLieCrGVW/40Gw=;
        b=ENZMPrix6Pd1KzdTgb3XgOkg5Maln+JHoMIKZspEvFRx1AqsxDn0f2IV0KQoR0DAlO
         A1fM5TbPIjc9nvt/tiFH0q0t1jckO1eF66W2K0gCOeY5w2e+D7YMnTkizHRSziGgrPNT
         sKyyEQzMUfoxTR+78f1v9eiyscSsSmvr7WEsp3OF7erCWT4tlPSGK9E/7IORJcO1OaQn
         k8YUGDdDyxl2hUgbcueJRFIzxVbv9wlweIkzDCP9XZdSsbHKI76+YCkEK4kcZ6ihsQDD
         On5nywGp95fWRdzbw1x1hgyDFX++OOiNN3fOWOGytc3ldXPPI43avftMQH+wFh55fFfH
         TPiw==
X-Gm-Message-State: AD7BkJILrLZ1v7ABUQj1sHsNjerKVQx9ln3VIq5BHnq4LooL6XwzMNoWhfbh29CNPFaN2RO2P9KV2qZ6LetgHg==
MIME-Version: 1.0
X-Received: by 10.140.20.183 with SMTP id 52mr31513958qgj.38.1458421539001;
 Sat, 19 Mar 2016 14:05:39 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Sat, 19 Mar 2016 14:05:38 -0700 (PDT)
Date: Sat, 19 Mar 2016 22:05:38 +0100
Message-ID: <CAKQ1sVNb0Rp2r-bph-mQxLMiTkOkn4c+utu5HpdtSrdcW+En5A@mail.gmail.com>
Subject: mod_proxy_hcheck review..
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

The proposed backport patch (v2) does not contain mod_proxy_hcheck.c
itself, so I took the one from trunk, easy enough :)
The (recent) changes around the call to
[ap_proxy_]is_socket_connected() in ap_proxy_connect_backend()) broke
the patch too (minor change).

Regarding the implementation, IIUC, there is a scheduled hc thread per
BalancerMember, each running hc_check().
The threads are somehow run one child at a time, thanks to
mod_watchdog, but I'm not too familiar with it, so I may have
overlooked that...

However, it seems that there are some paths where the worker threads
can allocate on (or use) the server config pool (ctx->p, a subpool of
pconf).
This (AFAICT) concerns hc_get_hcworker(), hc_determine_connection(),
hc_get_backend() (where backend->p == ctx->p ??) and hc_check_http().
Shouldn't we either use a lock or create a subpool there?
Or maybe use ptemp but it looks more like a thread pool, whereas
ctx->p usages seem more related to process wide initialization (once?
via balancer-manager only?)...

Thanks for clarifiying.

Anyway, this is really cool stuff!

Regards,
Yann.

From dev-return-85940-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 19 21:24:53 2016
Return-Path: <dev-return-85940-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1BD7119C85
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 19 Mar 2016 21:24:53 +0000 (UTC)
Received: (qmail 12223 invoked by uid 500); 19 Mar 2016 21:24:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12131 invoked by uid 500); 19 Mar 2016 21:24:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12121 invoked by uid 99); 19 Mar 2016 21:24:52 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Mar 2016 21:24:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 384DA180319
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 21:24:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id lwjjFWepb2yU for <dev@httpd.apache.org>;
	Sat, 19 Mar 2016 21:24:50 +0000 (UTC)
Received: from mail-qg0-f42.google.com (mail-qg0-f42.google.com [209.85.192.42])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 04A4A5F2EF
	for <dev@httpd.apache.org>; Sat, 19 Mar 2016 21:24:49 +0000 (UTC)
Received: by mail-qg0-f42.google.com with SMTP id y89so128852711qge.2
        for <dev@httpd.apache.org>; Sat, 19 Mar 2016 14:24:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=P9+x2Tj/lLymJKWeMJMSniHu7fSJ7XmXCuw5lZmHjH8=;
        b=DwkeFRRl3g+Cb5zyXxuju7APHT3Vv/D1O+vsZDZywZdjNYW0sknyqY9eCIrMBxR7K+
         b32E1Zk1iPH8tmaIEN/fOYZa5lGELDBfqbHxc+dKzRvY3Pf4A/kF0ArSIAgB3Eq9oj17
         rC6y8uhtxlWfD4rqs4mHoXQb+dEoVVhJkxM3YR8tkl9pRhueYHXjLFycmy79pX40M1Sl
         hcaTXOO1f8dslh5UBMmtPFe5tPjuhV3FxRUCg06sMVf1082KYqW0gFVK5p839bD0XHoF
         nYSO2UJBglKlvWDb0K0TLXQd040D0HcmH1QsQHf0zFjSHOUaSHvaTuCoeta6a9CdJx5W
         KaKA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=P9+x2Tj/lLymJKWeMJMSniHu7fSJ7XmXCuw5lZmHjH8=;
        b=QAACwiRtgW7dA7RuPMifaaNG+8W1r4k+8aA42NFDi5RbzcwP7zrDcKpXXu2Y+dzmeO
         48gYKq8RgncaG8TdOm1gONhSiQoJu7ykpQpE5JGfNXbmO2VfPb4J9GPSY5Nv0eomS2Sr
         pGs5CsFcaGtermxfk8MfIZB8f7v/BH+eddFUnS2X2SurFT1neZ30ETTKNKGk36Kwjp1K
         lfsQD2yDSTS53RrzOGyJW6rrUohhNTFMA2N2QmzxE6hB+ohqOavSYAHMi+HEsmLW4KVa
         26PpB7gU4TMxUVnRohyVLB8p8IDDqRIXCQ7ZSSjodB4kRVvRRetLNXpqHrpN3zEsY+Zk
         9+3Q==
X-Gm-Message-State: AD7BkJLoexjolOkQwxd0Qtqp75MWoblLf9QhS50xRScGS3T+WlT/WLOq/lLVvtgvSC/VhTN+9mqY3IFcBY9AVg==
MIME-Version: 1.0
X-Received: by 10.140.20.183 with SMTP id 52mr31583940qgj.38.1458422683640;
 Sat, 19 Mar 2016 14:24:43 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Sat, 19 Mar 2016 14:24:43 -0700 (PDT)
In-Reply-To: <CAKQ1sVNb0Rp2r-bph-mQxLMiTkOkn4c+utu5HpdtSrdcW+En5A@mail.gmail.com>
References: <CAKQ1sVNb0Rp2r-bph-mQxLMiTkOkn4c+utu5HpdtSrdcW+En5A@mail.gmail.com>
Date: Sat, 19 Mar 2016 22:24:43 +0100
Message-ID: <CAKQ1sVNQ3132nP5FUKr0y-_yu4BfzZe5EXvYh26=7eTdYZmEug@mail.gmail.com>
Subject: Re: mod_proxy_hcheck review..
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Sat, Mar 19, 2016 at 10:05 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> The proposed backport patch (v2) does not contain mod_proxy_hcheck.c
> itself, so I took the one from trunk, easy enough :)

My bad, I simply forgot to "svn add" before reviewing "svn diff"...

From dev-return-85941-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 20 00:18:23 2016
Return-Path: <dev-return-85941-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 75AD319F20
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 20 Mar 2016 00:18:23 +0000 (UTC)
Received: (qmail 43573 invoked by uid 500); 20 Mar 2016 00:18:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 43486 invoked by uid 500); 20 Mar 2016 00:18:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 43476 invoked by uid 99); 20 Mar 2016 00:18:22 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Mar 2016 00:18:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 22DE3180534
	for <dev@httpd.apache.org>; Sun, 20 Mar 2016 00:18:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.002
X-Spam-Level:
X-Spam-Status: No, score=-0.002 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ljhDyMNwgUua for <dev@httpd.apache.org>;
	Sun, 20 Mar 2016 00:18:20 +0000 (UTC)
Received: from mail-qk0-f176.google.com (mail-qk0-f176.google.com [209.85.220.176])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id AA2B25F23C
	for <dev@httpd.apache.org>; Sun, 20 Mar 2016 00:18:19 +0000 (UTC)
Received: by mail-qk0-f176.google.com with SMTP id o6so63961328qkc.2
        for <dev@httpd.apache.org>; Sat, 19 Mar 2016 17:18:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to;
        bh=JxhKjpDbM3BK5/l8Y2RUJ71w4dsk3ktuZOzzCOns504=;
        b=ULFeXlbuOJ1Gquf28sMhrGk+6ghmtBB00klI/R+OWHLIdUBzY3QpFcnkA4DAuNjJvk
         lYI5NFyVP+AIP4mnisb8rVnyvcFZZ/iohJVo2uQvMxzfR7HkprcGzux5WWCgAmU91aGG
         u3dHl2E/zjVSBoCp7aatBqbJZlk41Ygo/GKM8Z/niHBEpPouwmd55lw6/RRerpD2ycK+
         Xfd/i+NszKauQtdHTGErgfK1/PKcUCjwrtOR8RSlNPIou8mEOVXkzsI9CV8mcFYZiJKE
         +nawiWmz6USHLlgKkeykXdLN6b0t8NZbYpiG98Sxx8ZV0ji/olcS85hLxiAZEuspfBID
         wfYQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to;
        bh=JxhKjpDbM3BK5/l8Y2RUJ71w4dsk3ktuZOzzCOns504=;
        b=GODOvplrqqMwRICakv7paioMf/Ve7aetgq+7OwnlUcEfhRrN5yEf9f3sD51dWWti32
         Rxffpg9Rmsq6hHF4Klim4Q+pwT9EI0TjsCzICdl/mTDVXnEWboU5yZ0qK8b0RA+1Hwpw
         lFqWRsUl+UYNZahYMN/uHodTgcDfYqxYwNlkGspQRG0if7hYxUtx9Qt+ktRp+JYNO62X
         S8P6KoWQ5/HdmZY/PcPyRQynYZ5tj0geiEBAo5caW4NBYwi4hqvDRFaYuEWau0H2Ygdq
         rJ5rsFxMPVFsejt5U0/mVzSkiyJiJdA2YE/ZUoh+gxkrsxlDWkbsAqHGqnaFbg/7gyrS
         b3Hw==
X-Gm-Message-State: AD7BkJIY/1fOCfGimvAlfmLQzfftn7gY/DbHnIeg8K7AnWMJNVYm7bf03hRDxrbVvfEqUVQmjeIe53KZFyIINg==
MIME-Version: 1.0
X-Received: by 10.55.75.203 with SMTP id y194mr32502275qka.2.1458433093279;
 Sat, 19 Mar 2016 17:18:13 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Sat, 19 Mar 2016 17:18:13 -0700 (PDT)
Date: Sun, 20 Mar 2016 01:18:13 +0100
Message-ID: <CAKQ1sVMqLDtG+tTB_BiDnG5b8j+wmxsqhwMzfzTu9aktbtehnA@mail.gmail.com>
Subject: Test framework vs IPv6
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: multipart/mixed; boundary=001a114a8f34743dd9052e6feab4

--001a114a8f34743dd9052e6feab4
Content-Type: text/plain; charset=UTF-8

On my machine (Debian 9/testing, Linux 4.4), both "t/protocol/echo.t"
and "t/security/CVE-2009-3555.t" fail with:
.... Connect failed: ; Connection refused at
/home/yle/src/apache/asf/httpd/test/framework/trunk/Apache-Test/lib/Apache/TestRequest.pm
line 297.
.... Dubious, test returned 111 (wstat 28416, 0x6f00)

This appears to be due to Perl trying to connect to ::1 (IPv6, as
shown by tcpdump) and failing because httpd Listen-s on 0.0.0.0 (IPv4)
only.
Some other tests do the same (I did not captured all, though) but
somehow they don't fail...

Anyway, I tried to address this by Listen-ing on the port only (hence
any v4 or v6 address), using the attached patch, and indeed the two
tests pass (I first tried to disable IPv6 on my system and that worked
too).
However, there are even more tests failing now...

Anyone ever had this issue?
Why is (our) Perl connecting localhost with IPv6?
Any idea on how to avoid that?

Regards,
Yann.

--001a114a8f34743dd9052e6feab4
Content-Type: text/x-patch; charset=US-ASCII; name="framework_listen_any.patch"
Content-Disposition: attachment; filename="framework_listen_any.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ilzt93z40

SW5kZXg6IEFwYWNoZS1UZXN0L2xpYi9BcGFjaGUvVGVzdENvbmZpZy5wbQo9PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0t
LSBBcGFjaGUtVGVzdC9saWIvQXBhY2hlL1Rlc3RDb25maWcucG0JKHJldmlzaW9uIDE3MzU4MTkp
CisrKyBBcGFjaGUtVGVzdC9saWIvQXBhY2hlL1Rlc3RDb25maWcucG0JKHdvcmtpbmcgY29weSkK
QEAgLTEyMzgsNyArMTIzOCw4IEBAIHN1YiBwYXJzZV92aG9zdCB7CiAgICAgbXkgQG91dF9jb25m
aWcgPSAoKTsKICAgICBpZiAoJHNlbGYtPnt2aG9zdHN9LT57JG1vZHVsZX0tPntuYW1lYmFzZWR9
IDwgMikgewogICAgICAgICAjZXh0cmEgY29uZmlnIHRoYXQgc2hvdWxkIGdvICpvdXRzaWRlKiB0
aGUgPFZpcnR1YWxIb3N0IC4uLj4KLSAgICAgICAgQG91dF9jb25maWcgPSAoW0xpc3RlbiA9PiAn
MC4wLjAuMDonIC4gJHBvcnRdKTsKKyAgICAgICAgI0BvdXRfY29uZmlnID0gKFtMaXN0ZW4gPT4g
JzAuMC4wLjA6JyAuICRwb3J0XSk7CisgICAgICAgIEBvdXRfY29uZmlnID0gKFtMaXN0ZW4gPT4g
JHBvcnRdKTsKIAogICAgICAgICBpZiAoJHNlbGYtPnt2aG9zdHN9LT57JG1vZHVsZX0tPntuYW1l
YmFzZWR9KSB7CiAgICAgICAgICAgICBwdXNoIEBvdXRfY29uZmlnID0+IFsiPElmVmVyc2lvbiA8
IDIuMy4xMT5cbiIuCkBAIC0yMTM5LDcgKzIxNDAsOCBAQCBwZXJsKDEpLCBBcGFjaGU6OlRlc3Qo
MykKIAogCiBfX0RBVEFfXwotTGlzdGVuICAgICAwLjAuMC4wOkBQb3J0QAorI0xpc3RlbiAgICAg
MC4wLjAuMDpAUG9ydEAKK0xpc3RlbiAgICAgQFBvcnRACiAKIFNlcnZlclJvb3QgICAiQFNlcnZl
clJvb3RAIgogRG9jdW1lbnRSb290ICJARG9jdW1lbnRSb290QCIKSW5kZXg6IEFwYWNoZS1UZXN0
L2xpYi9BcGFjaGUvVGVzdENvbmZpZ1BlcmwucG0KPT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gQXBhY2hlLVRlc3Qv
bGliL0FwYWNoZS9UZXN0Q29uZmlnUGVybC5wbQkocmV2aXNpb24gMTczNTgxOSkKKysrIEFwYWNo
ZS1UZXN0L2xpYi9BcGFjaGUvVGVzdENvbmZpZ1BlcmwucG0JKHdvcmtpbmcgY29weSkKQEAgLTI3
MCw3ICsyNzAsOCBAQCBzdWIgc2V0X2Nvbm5lY3Rpb25faGFuZGxlciB7CiAgICAgbXkoJHNlbGYs
ICRtb2R1bGUsICRhcmdzKSA9IEBfOwogICAgIG15ICRwb3J0ID0gJHNlbGYtPm5ld192aG9zdCgk
bW9kdWxlKTsKICAgICBteSAkdmFycyA9ICRzZWxmLT57dmFyc307Ci0gICAgJHNlbGYtPnBvc3Rh
bWJsZShMaXN0ZW4gPT4gJzAuMC4wLjA6JyAuICRwb3J0KTsKKyAgICAjJHNlbGYtPnBvc3RhbWJs
ZShMaXN0ZW4gPT4gJzAuMC4wLjA6JyAuICRwb3J0KTsKKyAgICAkc2VsZi0+cG9zdGFtYmxlKExp
c3RlbiA9PiAkcG9ydCk7CiB9CiAKIG15ICVhZGRfaG9va19jb25maWcgPSAoCg==
--001a114a8f34743dd9052e6feab4--

From dev-return-85942-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 20 07:15:17 2016
Return-Path: <dev-return-85942-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BA57318644
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 20 Mar 2016 07:15:17 +0000 (UTC)
Received: (qmail 79211 invoked by uid 500); 20 Mar 2016 07:15:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 79144 invoked by uid 500); 20 Mar 2016 07:15:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 79135 invoked by uid 99); 20 Mar 2016 07:15:17 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Mar 2016 07:15:17 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id A6D6A1A0098
	for <dev@httpd.apache.org>; Sun, 20 Mar 2016 07:15:16 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id E20CC60283; Sun, 20 Mar 2016 07:15:15 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2016/03/20]
Message-Id: <20160320071515.E20CC60283@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 20 Mar 2016 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24437|Opn|Nor|2003-11-05|mod_auth_ldap doubly-escapes backslash (\) charact|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Enh|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37770|Opn|Blk|2005-12-03|proxy: error reading status line from remote serve|
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Inf|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|Verify that log directories exist in httpd -t conf|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|Opn|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Maj|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47650|Opn|Trv|2009-08-05|httxt2dbm calculates value size incorrectly       |
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|New|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51104|Opn|Maj|2011-04-21|C++ support about httpd_config.h                  |
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|Opn|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Blk|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Nor|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|53999|Opn|Nor|2012-10-13|Deadlock between procmgr_send_spawn_cmd()/proctabl|
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|Ver|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|mod_remoteip updates the "ip" (%a), but "host" (%h|
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|Inf|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|New|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|Ver|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|Ver|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|Ver|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|Ver|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Enh|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|Opn|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
|58089|New|Nor|2015-07-01|mod_authz_host uses proxy IP even when mod_remotei|
|58101|New|Nor|2015-07-05|DeflateCompressionLevel inside vhost resets logfor|
|58107|New|Blk|2015-07-06|Httpd crashes on startup every time, dump file att|
|58109|New|Nor|2015-07-06|Apache on windows cannot handle the hash symbol (#|
|58118|New|Min|2015-07-09|mod_proxy_fcgi logs 503 when user aborts connectio|
|58120|New|Nor|2015-07-10|ProxyPassInherit does not work as expect          |
|58121|New|Nor|2015-07-10|ProxyHTMLMeta seems to ignore all <meta http-equiv|
|58129|New|Nor|2015-07-12|man pages are not generated correctly             |
|58132|New|Nor|2015-07-12|non-standard, non-traditional man page layout make|
|58135|New|Nor|2015-07-14|mod_cache sends client "if-Modified-Since" to back|
|58141|New|Nor|2015-07-15|Apache Service doesn't start when rotatlogs.exe pa|
|58142|New|Nor|2015-07-15|authz_core ignores loglevel                       |
|58158|New|Nor|2015-07-21|Not honoring HTTP spec with regard to Accept-Encod|
|58168|New|Enh|2015-07-21|Would like full request evaluation support in Rewr|
|58171|New|Nor|2015-07-22|ap_session_save saves the wrong session after a de|
|58177|New|Enh|2015-07-24|Mod Proxy forward trailers in http chunked request|
|58180|New|Enh|2015-07-24|ErrorDocument original URL in subsequent <Location|
|58181|New|Enh|2015-07-25|mod_expire should allow "minus" keyword same like |
|58188|New|Nor|2015-07-28|http2 mod_lua: support build with lua 5.2+        |
|58197|New|Nor|2015-07-31|apr-util-1.5.4 build against openldap - "could not|
|58225|New|Reg|2015-08-08|intermitant segfault 11 in session_identity_encode|
|58226|New|Nor|2015-08-08|XSS in Error Page                                 |
|58231|New|Nor|2015-08-11|RewriteCond can add "Host" to the Vary-Header     |
|58235|New|Enh|2015-08-12|Ability to allow from domain but with using forwar|
|58243|New|Nor|2015-08-14|rotatelogs goes infinite at startup               |
|58248|New|Nor|2015-08-17|Error 404 in use some characters of utf8 in url   |
|58257|New|Nor|2015-08-18|require ldap-group does not work if account-fullna|
|58278|Inf|Blk|2015-08-24|apache - mod_security Issue : apache no releasing |
|58280|New|Nor|2015-08-24|Backend connection not closed until timeout if cli|
|58288|New|Blk|2015-08-27|Semaphore amount increase until crash when enablin|
|58292|New|Nor|2015-08-27|FallbackResource breaks chunked encoding sometimes|
|58304|New|Nor|2015-08-30|Unexpected Warnings from Macro Use in 2.4         |
|58307|New|Nor|2015-08-31|Segmentation fault in child in "read(__nbytes, __b|
|58317|New|Min|2015-09-02|Error message AH01630 is missing file name on deny|
|58334|New|Min|2015-09-06|WebDAV HTTP access does not include meta tag for c|
|58335|New|Nor|2015-09-07|mod_authnz_ldap mismatch                          |
|58343|New|Nor|2015-09-08|The pdf files come up as a blank page.            |
|58354|New|Maj|2015-09-10|(20014)Internal error (specific information not av|
|58356|New|Blk|2015-09-10|Session jumping due to incorrect route            |
|58364|New|Reg|2015-09-11|Apache Server is restarted time to time (Release 2|
|58417|New|Min|2015-09-16|ApacheBench (ab) won't display Server Software of |
|58419|New|Nor|2015-09-16|ApacheBench (ab) doesn't work with keep-alives aga|
|58423|New|Reg|2015-09-17|Apache >= 2.4.8 PCRE_DUPNAMES causes build failure|
|58437|Opn|Nor|2015-09-21|mod_h2: h2c doesn't work using upgrade from http 1|
|58467|New|Maj|2015-09-29|Environment Variables in ProxyHTMLURLMap produces |
|58475|New|Nor|2015-10-03|Support append/merge with semicolon-separated head|
|58488|New|Nor|2015-10-08|Stoped PHP-FPM pool in multi-pool system with comu|
|58491|New|Maj|2015-10-09|Core dumps appear when the load increases         |
|58492|Inf|Nor|2015-10-09|I think LDAPConnectionPoolTTL is not being honored|
|58498|New|Nor|2015-10-16|Apache 2.4.17: Regression with mod_autoindex (in c|
|58500|New|Nor|2015-10-16|dav_fs not enabled by default                     |
|58509|New|Trv|2015-10-20|2.4.17-dev introduces second core.c handler at sta|
|58524|New|Nor|2015-10-23|mod_http2 segfaults when under heavy load         |
|58528|New|Nor|2015-10-23|AllowOverrideList None gets misparsed and .htacces|
|58529|New|Maj|2015-10-23|Segmentation fault after modifying a proxy Balance|
|58550|New|Enh|2015-10-26|During load, Apache 2.2.x with prefork MPM didn|
|58574|New|Nor|2015-11-02|Apache error AH01630 (client denied) but working  |
|58593|New|Nor|2015-11-06|mod_proxy wrong decision between http and ws      |
|58598|New|Enh|2015-11-08|Internal Server Error (500) when requesting non-ex|
|58602|New|Nor|2015-11-11|Priority issue on DirectoryMatch directive        |
|58604|New|Reg|2015-11-12|Plaintext auth broken in any Explicit FTP/AUTH TLS|
|58612|New|Min|2015-11-16|mod_webdav when write_stream failed should break a|
|58669|New|Nor|2015-11-30|Order of DBDInitSQL and DBDPrepareSQL             |
|58688|New|Nor|2015-12-03|Missing mod_ssl connection-level upgrade headers f|
|58700|New|Nor|2015-12-07|Apache logs not working with mod_remoteip and X-fo|
|58720|New|Enh|2015-12-11|querying server status stalls when scoreboard is f|
|58727|New|Min|2015-12-13|Directories with a ProxyPass directive are not dis|
|58732|New|Nor|2015-12-14|Error Log isn't writing When Apache Shutdown with |
|58739|New|Cri|2015-12-15|Undocumented behavior of REDIRECT_URL and REDIRECT|
|58798|New|Nor|2016-01-04|Misleading terminology                            |
|58799|New|Nor|2016-01-04|mod_fcgid: FcgidMinProcessesPerClass doesn't seem |
|58803|New|Cri|2016-01-05|HTTP connection is getting closed after 5 mins ( R|
|58826|New|Cri|2016-01-08|OCSP Stapling does not resolve DNS                |
|58828|New|Maj|2016-01-08|LA-U variables not set depending on the URI       |
|58834|New|Nor|2016-01-11|ModRewrite fails with .php urls and FPM on Apache |
|58842|New|Nor|2016-01-12|mod_proxy DNS cache with authoritative and no-auth|
|58855|New|Enh|2016-01-14|Don't read through entire string when testing for |
|58856|New|Reg|2016-01-14|AddOutputFilterByType in Apache 2.4 inserts filter|
|58873|New|Nor|2016-01-15|Chunked encoding, Content Length and mod_deflate  |
|58880|New|Enh|2016-01-17|Support serving stale content while revalidating c|
|58887|Inf|Nor|2016-01-18|Updated install.xml.es and took out the html code |
|58889|New|Blk|2016-01-19|mod_proxy mixes random chars to the backend reques|
|58890|New|Nor|2016-01-19|Address comments on expression parser doc         |
|58892|New|Nor|2016-01-19|Remove 'advanced' rewrite doc, and organize by top|
|58893|New|Nor|2016-01-19|Document that RewriteMap names must be unique acro|
|58894|Inf|Nor|2016-01-20|Updates and Translated into Spanish new features 2|
|58901|New|Nor|2016-01-21|Download of large file is aborted in SSL_write on |
|58907|Inf|Nor|2016-01-21|Translated document  sitemap.xml.es into Spanish  |
|58921|New|Nor|2016-01-26|Compiler removal of code to clear password buffer |
|58926|New|Nor|2016-01-28|[Patchset] Improvements for apxs                  |
|58929|New|Maj|2016-01-28|coredump when sending illegal CONNECT request     |
|58934|New|Nor|2016-01-29|mod_proxy initial BalancerMember settings not appl|
|58944|New|Nor|2016-01-30|configure script breaks openssl static library dep|
|58945|New|Nor|2016-01-30|Custom-error.xml.es Translated to Spanish.        |
|58960|New|Nor|2016-02-02|Proxying Docker Registry HTTP PATCH command fails |
|58964|New|Maj|2016-02-03|Problems when caching more than one SSI level     |
|58969|New|Nor|2016-02-04|Translated bind.xml.es into spanish need feedback |
|58971|New|Nor|2016-02-04|Upgrade header added in 2.4.18 causes disconnect f|
|58977|New|Maj|2016-02-06|Wrong saved content                               |
|58981|New|Min|2016-02-07|Makefile.win references incorrect src_so file exte|
|58984|New|Nor|2016-02-09|mod_rewrite documentation for R flag should includ|
|58990|New|Enh|2016-02-10|Option to send "406 Not Acceptable" when mime type|
|58994|Inf|Nor|2016-02-11|Apache service is crashing for every two hours    |
|59007|New|Nor|2016-02-15|mod_proxy disables balancer worker after a timeout|
|59032|New|Enh|2016-02-19|mod_proxy_http replaces non compliant status-line |
|59040|New|Trv|2016-02-22|SSILegacyExprParser directive defined as OR_LIMIT,|
|59049|New|Maj|2016-02-23|Apache doesn't recover from OCSP decode error     |
|59086|New|Nor|2016-02-27|Brackets in DocumentRoot and Directory not support|
|59088|New|Nor|2016-02-29|mod_reqtimeout default log level too low          |
|59090|New|Cri|2016-03-01|Issue with WebDav - org.apache.http.NoHttpResponse|
|59111|New|Nor|2016-03-03|Apache Bench does not parse lowercase field names |
|59121|Inf|Min|2016-03-04|The fix to mod_http2 for bug 59078 broke server-st|
|59124|New|Nor|2016-03-05|mod_autoindex not behaving as described in the doc|
|59142|New|Nor|2016-03-08|Nocanon option in ProxyPass is ignored for a long |
|59175|New|Enh|2016-03-13|add ACME protocol support for automated certificat|
+-----+---+---+----------+--------------------------------------------------+
| Total 1577 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-85943-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 20 13:09:36 2016
Return-Path: <dev-return-85943-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 195A818DD8
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 20 Mar 2016 13:09:36 +0000 (UTC)
Received: (qmail 37533 invoked by uid 500); 20 Mar 2016 13:09:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37455 invoked by uid 500); 20 Mar 2016 13:09:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37445 invoked by uid 99); 20 Mar 2016 13:09:35 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Mar 2016 13:09:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A8CA7C24EF
	for <dev@httpd.apache.org>; Sun, 20 Mar 2016 13:09:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id AVyXGKMupr6L for <dev@httpd.apache.org>;
	Sun, 20 Mar 2016 13:09:34 +0000 (UTC)
Received: from resqmta-po-06v.sys.comcast.net (resqmta-po-06v.sys.comcast.net [96.114.154.165])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 948575F2EF
	for <dev@httpd.apache.org>; Sun, 20 Mar 2016 13:09:33 +0000 (UTC)
Received: from resomta-po-10v.sys.comcast.net ([96.114.154.234])
	by resqmta-po-06v.sys.comcast.net with comcast
	id YD9S1s00553iAfU01D9SS5; Sun, 20 Mar 2016 13:09:26 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-10v.sys.comcast.net with comcast
	id YD9R1s0092U0RYt01D9Rvg; Sun, 20 Mar 2016 13:09:26 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_proxy_hcheck review..
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVNb0Rp2r-bph-mQxLMiTkOkn4c+utu5HpdtSrdcW+En5A@mail.gmail.com>
Date: Sun, 20 Mar 2016 09:09:25 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <E0757E97-E55A-49A3-9F0F-DB51182CAF08@jaguNET.com>
References: <CAKQ1sVNb0Rp2r-bph-mQxLMiTkOkn4c+utu5HpdtSrdcW+En5A@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458479366;
	bh=2u8k2ddo6sKopRK774NbSuDDWoHf8UrE9I5+KGMkYM8=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=R+gtqzDTvkY5XCE+8EjNhAZhfuLTKIOoc73CT7dIbV965lT2p2qiOoR115xHN+ZTY
	 +sXthG62pacsF8iVFDBvJm7eH1vAz/WRJJhgS/Wx5ZpKHcWP1GUT3vkNa/hPDtpAp4
	 hjQ92nGTWsw3bpAwpt5WG59C6oAWO76KXckf2K9ukI7lQhFQXsf2CK7oJToDy2vZRF
	 Zpy4HdRzymJCPmYfqLONIk54Mo1IJs1KKXdGauRH2OTC3nlS+MLomVFGX/DIrpkDSA
	 FTXSMIW4M/8Cfjjbvc8dEsJbTkOlld59ppEOuO8IS/khQFPhdq05h5VfdXUchbGfDZ
	 g0ZKc4hh2OF9A==


> On Mar 19, 2016, at 5:05 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>=20
> The proposed backport patch (v2) does not contain mod_proxy_hcheck.c
> itself

Actually, it does:

http://home.apache.org/~jim/patches/hcheck-2.4-v2.patch

...

diff --git a/modules/proxy/mod_proxy_hcheck.c =
b/modules/proxy/mod_proxy_hcheck.c
new file mode 100644
index 0000000..8275584
--- /dev/null
+++ b/modules/proxy/mod_proxy_hcheck.c
@@ -0,0 +1,1182 @@
+/* Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed =
with




From dev-return-85944-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 20 13:13:40 2016
Return-Path: <dev-return-85944-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ED3F418E15
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 20 Mar 2016 13:13:39 +0000 (UTC)
Received: (qmail 40549 invoked by uid 500); 20 Mar 2016 13:13:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 40481 invoked by uid 500); 20 Mar 2016 13:13:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 40471 invoked by uid 99); 20 Mar 2016 13:13:39 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Mar 2016 13:13:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 13D45180319
	for <dev@httpd.apache.org>; Sun, 20 Mar 2016 13:13:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 9ALGQxgs9aDe for <dev@httpd.apache.org>;
	Sun, 20 Mar 2016 13:13:36 +0000 (UTC)
Received: from resqmta-po-09v.sys.comcast.net (resqmta-po-09v.sys.comcast.net [96.114.154.168])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 193535F21F
	for <dev@httpd.apache.org>; Sun, 20 Mar 2016 13:13:35 +0000 (UTC)
Received: from resomta-po-09v.sys.comcast.net ([96.114.154.233])
	by resqmta-po-09v.sys.comcast.net with comcast
	id YDDU1s00252QWKC01DDUbY; Sun, 20 Mar 2016 13:13:28 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-09v.sys.comcast.net with comcast
	id YDDT1s00M2U0RYt01DDUJM; Sun, 20 Mar 2016 13:13:28 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_proxy_hcheck review..
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVNb0Rp2r-bph-mQxLMiTkOkn4c+utu5HpdtSrdcW+En5A@mail.gmail.com>
Date: Sun, 20 Mar 2016 09:13:27 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <C4922172-F89D-4168-9227-44EC086AF890@jaguNET.com>
References: <CAKQ1sVNb0Rp2r-bph-mQxLMiTkOkn4c+utu5HpdtSrdcW+En5A@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458479608;
	bh=ta9Mr0M1QFmN7YdFX7GGE8BwQXQyEUEsgqi7tEtDUlw=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=LE1lugQ3uwh4MS/BsUHygiJKxU8k/X6vcv7Q4vsNAiJfkf3eDaaJ3Bd7XjQRhDO9m
	 2U7WOlc2a3m/iIWkS62dzCAYy5Q3eV89bCR/9JAl1+25+CPDcyqzcsS3O0gVrDdEKQ
	 1VeSaTDj2OsoIVtb+H9PkatZhxw6ZyVNadLxtG+/Id02H6wGQXzGBMtLkJnuanMmL8
	 Y+txAzXudV0T6GaNhcuYnC2d/s8GCuJVv6RWQ4lTRpsAzpSlyMObhWUgYTqnG98x1B
	 D6XyCr+N/zxTT833CHj4R7/KjGEHPozQDdUs3Unh8P8FOEoa+5GUGHb0JyRazsdap3
	 AApfdN1r/JnQg==


> On Mar 19, 2016, at 5:05 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> 
> 
> However, it seems that there are some paths where the worker threads
> can allocate on (or use) the server config pool (ctx->p, a subpool of
> pconf).
> This (AFAICT) concerns hc_get_hcworker(), hc_determine_connection(),
> hc_get_backend() (where backend->p == ctx->p ??) and hc_check_http().
> Shouldn't we either use a lock or create a subpool there?
> Or maybe use ptemp but it looks more like a thread pool, whereas
> ctx->p usages seem more related to process wide initialization (once?
> via balancer-manager only?)...
> 

Hmmm... let me look into that, but because all this is
running inside a single process, that should not be an
issue. Even in those cases where we are using a threadpool
inside that single watchdog process, there aren't paths,
at least from what I can recall, which would require a
mutex around that.

However, it might be safer, I agree. And since this is
done external to the actual process handling, performance
isn't an issue, as long as we use a hcheck only mutex.


From dev-return-85945-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 20 13:14:54 2016
Return-Path: <dev-return-85945-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A5A5C18E1C
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 20 Mar 2016 13:14:54 +0000 (UTC)
Received: (qmail 41851 invoked by uid 500); 20 Mar 2016 13:14:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41773 invoked by uid 500); 20 Mar 2016 13:14:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41761 invoked by uid 99); 20 Mar 2016 13:14:54 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Mar 2016 13:14:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id B62581A0077
	for <dev@httpd.apache.org>; Sun, 20 Mar 2016 13:14:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id HLrxOiXdrPMc for <dev@httpd.apache.org>;
	Sun, 20 Mar 2016 13:14:53 +0000 (UTC)
Received: from resqmta-po-06v.sys.comcast.net (resqmta-po-06v.sys.comcast.net [96.114.154.165])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 392425F21F
	for <dev@httpd.apache.org>; Sun, 20 Mar 2016 13:14:52 +0000 (UTC)
Received: from resomta-po-12v.sys.comcast.net ([96.114.154.236])
	by resqmta-po-06v.sys.comcast.net with comcast
	id YDEE1s00756HXL001DEk2x; Sun, 20 Mar 2016 13:14:44 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-12v.sys.comcast.net with comcast
	id YDEj1s0042U0RYt01DEjQt; Sun, 20 Mar 2016 13:14:44 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: mod_proxy_hcheck review..
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVNb0Rp2r-bph-mQxLMiTkOkn4c+utu5HpdtSrdcW+En5A@mail.gmail.com>
Date: Sun, 20 Mar 2016 09:14:43 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <C78344CB-4FE2-4EF2-890C-CCB30D0B76FD@jaguNET.com>
References: <CAKQ1sVNb0Rp2r-bph-mQxLMiTkOkn4c+utu5HpdtSrdcW+En5A@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458479684;
	bh=P/lLECxv01llVWRCHpjIRp26Z1f15dmd8GFoApz84Hk=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=rbRAedYv/0knBOM/0GbYUaRaw4ksWvYIaBDeN++dSb5lmZYDnGnsEpWcg0XDTIzkG
	 IRebNMs4OmXNePDTmbJVrv7Tq27e+QOAS/IkT8RZxR/ILBcAwemjcoRk7DxFG9U5Nl
	 XrFBtj3Nca/VDHCYfeu9So7eXCyk5DXs5HQssBjpDl6DevQ1bCqoDWX5MSqVug+QZW
	 waXJcO+nC2II0EHXl8UmDQ5rKMCLA9zUT/G51VhmCO9KFgcl2GF6xogppsYs2i05MI
	 yus36CTcYVEP1zjTQ6rNX9mPFawQD/HmY6bW6iVrIX9eqj61MEQcx5uDc94y6sBGmw
	 K4edBlP8rD4vA==


> On Mar 19, 2016, at 5:05 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> 
> 
> Anyway, this is really cool stuff!
> 

Thanks! It is one thing that nginx has that we don't.
Of course, we also have lots of stuff that nginx doesn't
but that doesn't seem to sway lots of people ;)


From dev-return-85946-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 08:48:02 2016
Return-Path: <dev-return-85946-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8B73918842
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 08:48:02 +0000 (UTC)
Received: (qmail 27074 invoked by uid 500); 21 Mar 2016 08:48:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26992 invoked by uid 500); 21 Mar 2016 08:48:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26980 invoked by uid 99); 21 Mar 2016 08:48:02 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 08:48:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 918DD18046D
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 08:48:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=hM4Fhv+v;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=hM4Fhv+v
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id CJ6gz0NCoru4 for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 08:47:59 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 90F525F56F
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 08:47:58 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id D509615A069E; Mon, 21 Mar 2016 09:47:50 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458550070; bh=usePPt+dIaXbahqpCDdaHnDAQ4uukILJb5EBFIXxFKQ=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=hM4Fhv+v8M5D44HY4V9Zl+rjdlOxyxolZw0jZSSDveUNOMo55NNpz8lidhEc/LIEn
	 GUXcaN6XmOQF5qYjbB5c1rlitICMcPcDwwFgoK9odMScrlfKOWskysE+REV1mnB3hS
	 G+2cyCfvvnmnUEJb/8vP18unhO8fJM4r3OB1Debg=
Received: from [192.168.1.150] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 85EAB15A0330
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 09:47:50 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458550070; bh=usePPt+dIaXbahqpCDdaHnDAQ4uukILJb5EBFIXxFKQ=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=hM4Fhv+v8M5D44HY4V9Zl+rjdlOxyxolZw0jZSSDveUNOMo55NNpz8lidhEc/LIEn
	 GUXcaN6XmOQF5qYjbB5c1rlitICMcPcDwwFgoK9odMScrlfKOWskysE+REV1mnB3hS
	 G+2cyCfvvnmnUEJb/8vP18unhO8fJM4r3OB1Debg=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Test framework vs IPv6
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVMqLDtG+tTB_BiDnG5b8j+wmxsqhwMzfzTu9aktbtehnA@mail.gmail.com>
Date: Mon, 21 Mar 2016 09:47:52 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <9F8BFBD5-A52A-451B-9756-1DFDDE8B91AF@greenbytes.de>
References: <CAKQ1sVMqLDtG+tTB_BiDnG5b8j+wmxsqhwMzfzTu9aktbtehnA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Yann,

I encountered this once on a new image where /etc/hosts listed first=20
localhost ::1

Like you, I found that there seems to be no quick fix for this and
edited /etc/hosts...

I think your listen patch should be applied.

-Stefan

> Am 20.03.2016 um 01:18 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On my machine (Debian 9/testing, Linux 4.4), both "t/protocol/echo.t"
> and "t/security/CVE-2009-3555.t" fail with:
> .... Connect failed: ; Connection refused at
> =
/home/yle/src/apache/asf/httpd/test/framework/trunk/Apache-Test/lib/Apache=
/TestRequest.pm
> line 297.
> .... Dubious, test returned 111 (wstat 28416, 0x6f00)
>=20
> This appears to be due to Perl trying to connect to ::1 (IPv6, as
> shown by tcpdump) and failing because httpd Listen-s on 0.0.0.0 (IPv4)
> only.
> Some other tests do the same (I did not captured all, though) but
> somehow they don't fail...
>=20
> Anyway, I tried to address this by Listen-ing on the port only (hence
> any v4 or v6 address), using the attached patch, and indeed the two
> tests pass (I first tried to disable IPv6 on my system and that worked
> too).
> However, there are even more tests failing now...
>=20
> Anyone ever had this issue?
> Why is (our) Perl connecting localhost with IPv6?
> Any idea on how to avoid that?
>=20
> Regards,
> Yann.
> <framework_listen_any.patch>


From dev-return-85947-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 09:00:13 2016
Return-Path: <dev-return-85947-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7412E188D1
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 09:00:13 +0000 (UTC)
Received: (qmail 47935 invoked by uid 500); 21 Mar 2016 09:00:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 47867 invoked by uid 500); 21 Mar 2016 09:00:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 47857 invoked by uid 99); 21 Mar 2016 09:00:12 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 09:00:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 8DCA4C059B
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 09:00:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=r1w4yodz;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=r1w4yodz
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id g62U7_zjh0lN for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 09:00:10 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id CBCC95F1E3
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 09:00:09 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id D3C0915A069E; Mon, 21 Mar 2016 10:00:02 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458550802; bh=bGSaRWrASNImyX0gMxv3jzssoyHAC9Pexf/XMOjmWHI=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=r1w4yodz9UG5HjHTL4tztzrbfm+3uE2oxtfUDR3yenugGs1m+yj86snD+hV8pTlGK
	 VM/yDhT9EC480AYDH/7oZBPSyyE1DD607xQz5RTfu1A7CjbZ7lAoRXchun2e+EHiKw
	 TblMqqKAHQVXiX7ck4lt8jrN7PIKKp1yGvB6RrWQ=
Received: from [192.168.1.150] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 3625C15A0330
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 10:00:02 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458550802; bh=bGSaRWrASNImyX0gMxv3jzssoyHAC9Pexf/XMOjmWHI=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=r1w4yodz9UG5HjHTL4tztzrbfm+3uE2oxtfUDR3yenugGs1m+yj86snD+hV8pTlGK
	 VM/yDhT9EC480AYDH/7oZBPSyyE1DD607xQz5RTfu1A7CjbZ7lAoRXchun2e+EHiKw
	 TblMqqKAHQVXiX7ck4lt8jrN7PIKKp1yGvB6RrWQ=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: httpd-trunk proxy_http2 NetWare build wants extra sym.
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56EB2592.3040205@gknw.net>
Date: Mon, 21 Mar 2016 10:00:03 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <BD2E48F2-D3C7-4D11-8573-48BC5A8AEB81@greenbytes.de>
References: <56EB2592.3040205@gknw.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Applied in 1735928.

> Am 17.03.2016 um 22:45 schrieb NormW <normw@gknw.net>:
>=20
> G/M,
> A recent addition to trunk mod_proxy_http2 needs an additional export =
from hghttp2 lib, thus:
>=20
>> Index: modules/http2/NWGNUmod_http2
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>> --- modules/http2/NWGNUmod_http2	(revision 1735506)
>> +++ modules/http2/NWGNUmod_http2	(working copy)
>> @@ -391,6 +391,7 @@
>> 	@echo $(DL) nghttp2_session_callbacks_set_send_callback,$(DL) >> =
$@
>> 	@echo $(DL) nghttp2_session_client_new2,$(DL) >> $@
>> 	@echo $(DL) nghttp2_session_consume,$(DL) >> $@
>> +	@echo $(DL) nghttp2_session_consume_connection,$(DL) >> $@
>> 	@echo $(DL) nghttp2_session_del,$(DL) >> $@
>> 	@echo $(DL) nghttp2_session_get_remote_settings,$(DL) >> $@
>> 	@echo $(DL) nghttp2_session_get_stream_user_data,$(DL) >> $@
>=20
> Excuse the noise.
> Norm
> <http2_proxy_wants_xtra_exp.diff>


From dev-return-85948-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 09:00:56 2016
Return-Path: <dev-return-85948-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BB46F188D9
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 09:00:56 +0000 (UTC)
Received: (qmail 51644 invoked by uid 500); 21 Mar 2016 09:00:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51572 invoked by uid 500); 21 Mar 2016 09:00:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51561 invoked by uid 99); 21 Mar 2016 09:00:56 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 09:00:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id D7D841A0781
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 09:00:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.302
X-Spam-Level:
X-Spam-Status: No, score=-1.302 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_MED=-2.3,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ZY_J8CdEp48z for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 09:00:52 +0000 (UTC)
Received: from mail1.bemta14.messagelabs.com (mail1.bemta14.messagelabs.com [193.109.254.113])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 83E4E5FACB
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 09:00:51 +0000 (UTC)
Received: from [193.109.255.99] by server-9.bemta-14.messagelabs.com id F0/7C-02984-B38BFE65; Mon, 21 Mar 2016 09:00:43 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-14.tower-48.messagelabs.com!1458550843!34792481!1
X-Originating-IP: [195.232.244.135]
X-StarScan-Received:
X-StarScan-Version: 8.11; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 8522 invoked from network); 21 Mar 2016 09:00:43 -0000
Received: from mailout03.vodafone.com (HELO mailout03.vodafone.com) (195.232.244.135)
  by server-14.tower-48.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 21 Mar 2016 09:00:43 -0000
Received: from mailint03.vodafone.com (mailint03.vodafone.com [195.232.244.200])
	by mailout03.vodafone.com (Postfix) with ESMTP id 3qT8tg0Zc8z17HLs
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 10:00:43 +0100 (CET)
Received: from mailint03.vodafone.com (localhost [127.0.0.1])
	by mailint03.vodafone.com (Postfix) with ESMTP id 3qT8tf6c1wz16Kjq
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 10:00:42 +0100 (CET)
Received: from VOEXC06W.internal.vodafone.com (voexc06w.dc-ratingen.de [145.230.101.26])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint03.vodafone.com (Postfix) with ESMTPS id 3qT8tf6B49z16KpX
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 10:00:42 +0100 (CET)
Received: from AVOEXC04W.internal.vodafone.com (145.230.15.142) by
 VOEXC06W.internal.vodafone.com (145.230.101.26) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Mon, 21 Mar 2016 10:00:41 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.216]) by
 AVOEXC04W.internal.vodafone.com ([145.230.15.142]) with mapi id
 14.03.0224.002; Mon, 21 Mar 2016 10:00:40 +0100
From: =?iso-8859-1?Q?Pl=FCm=2C_R=FCdiger=2C_Vodafone_Group?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: Test framework vs IPv6
Thread-Topic: Test framework vs IPv6
Thread-Index: AQHRgj4FVTpEUODhRkqvomtif5/tmZ9jh3UAgAAT1bA=
Date: Mon, 21 Mar 2016 09:00:40 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627ACA014FD7@VOEXM10W.internal.vodafone.com>
References: <CAKQ1sVMqLDtG+tTB_BiDnG5b8j+wmxsqhwMzfzTu9aktbtehnA@mail.gmail.com>
 <9F8BFBD5-A52A-451B-9756-1DFDDE8B91AF@greenbytes.de>
In-Reply-To: <9F8BFBD5-A52A-451B-9756-1DFDDE8B91AF@greenbytes.de>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0



> -----Original Message-----
> From: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]
> Sent: Montag, 21. M=E4rz 2016 09:48
> To: dev@httpd.apache.org
> Subject: Re: Test framework vs IPv6
>=20
> Yann,
>=20
> I encountered this once on a new image where /etc/hosts listed first
> localhost ::1
>=20
> Like you, I found that there seems to be no quick fix for this and
> edited /etc/hosts...
>=20
> I think your listen patch should be applied.

+1

Just one comment on the patch. If you want to keep the old code in as comme=
nted
you should probably put in a comment above that explains the issue with IPv=
6.
Otherwise I guess it is somewhat pointless to keep old code commented out.
We are under version control :-)

Regards

R=FCdiger

>=20
> -Stefan
>=20
> > Am 20.03.2016 um 01:18 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
> >
> > On my machine (Debian 9/testing, Linux 4.4), both "t/protocol/echo.t"
> > and "t/security/CVE-2009-3555.t" fail with:
> > .... Connect failed: ; Connection refused at
> > /home/yle/src/apache/asf/httpd/test/framework/trunk/Apache-
> Test/lib/Apache/TestRequest.pm
> > line 297.
> > .... Dubious, test returned 111 (wstat 28416, 0x6f00)
> >
> > This appears to be due to Perl trying to connect to ::1 (IPv6, as
> > shown by tcpdump) and failing because httpd Listen-s on 0.0.0.0 (IPv4)
> > only.
> > Some other tests do the same (I did not captured all, though) but
> > somehow they don't fail...
> >
> > Anyway, I tried to address this by Listen-ing on the port only (hence
> > any v4 or v6 address), using the attached patch, and indeed the two
> > tests pass (I first tried to disable IPv6 on my system and that worked
> > too).
> > However, there are even more tests failing now...
> >
> > Anyone ever had this issue?
> > Why is (our) Perl connecting localhost with IPv6?
> > Any idea on how to avoid that?
> >
> > Regards,
> > Yann.
> > <framework_listen_any.patch>


From dev-return-85949-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 10:24:28 2016
Return-Path: <dev-return-85949-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9EA5318C28
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 10:24:28 +0000 (UTC)
Received: (qmail 3354 invoked by uid 500); 21 Mar 2016 10:24:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3244 invoked by uid 500); 21 Mar 2016 10:24:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3234 invoked by uid 99); 21 Mar 2016 10:24:28 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 10:24:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 974C5C09CB
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 10:24:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id QETFPQFKb8kk for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 10:24:25 +0000 (UTC)
Received: from mail-qg0-f43.google.com (mail-qg0-f43.google.com [209.85.192.43])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 0E0DF5F23D
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 10:24:25 +0000 (UTC)
Received: by mail-qg0-f43.google.com with SMTP id y89so149002744qge.2
        for <dev@httpd.apache.org>; Mon, 21 Mar 2016 03:24:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=vUcG0VRq7cWsGcX3bfgq2LKcnJRn8e1+zrAWzD5u0IY=;
        b=MrM8YAYuB0zoXiBZbcp8My1NXFuigJQrzzilZTifVjUD69j4xYidKm/xNIdkem2+DJ
         J4SNvKZmchW8NdgxelI9x3mqz+3AkglgkRS9Kv5ImQn1xYnYOWYf0sUeMEebid6DAIz8
         ggrFamrQNJTSeRxPc4bviykMSzP/Lo2e8D0SrUFZ80PBPENHRixAyfhZOXe76NYEj+iD
         PdRF7A5AzgSP6ChnPM85fqdZPbUl/Qji5auptnMGdyymlcljXFoI6mnIItPRuyUL56rD
         viYcof+9YKlsvNf8r0cBp2fw9XT1nguHZOQ7Vl7BvJmkqvSZM5LL5LjJowGUz9czXYi+
         /Ozg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=vUcG0VRq7cWsGcX3bfgq2LKcnJRn8e1+zrAWzD5u0IY=;
        b=G6R9HL1WuiLwtptAHvYtgJtc2cXE0y1sKG1YIGpd12+lT0ouLAS6mzoowa1XISjsYP
         Ps+rpcj1eZAUG9TidJBMaiQuhEAkjjbBYW73dcQb3YrlFGFIi6tLwVSt+FMKpXyrX7+7
         oCfysAqygRbXbIbfZRLcnDJfmr4daWXtXO3g2ll5IaWnXOSN62z/YjoNJ6peQooHDeiH
         kv/KBzgDMKa0v1mL3jX22yHR1xiG1AEIy+O0UTqFo7ZBfyskxaf08/E55GdYn3m+pB5Q
         0TqcyA7mHaSf/wUFRvy2PIKH5S8x0k9rE7TZdgq+OTI6pZWziHBkkx2TcVHxl87y3KL8
         C3IA==
X-Gm-Message-State: AD7BkJKOZ0zZlnQMIel7S46scTz8jnYWh0rTSkhdU+TG6BmN16d7L0yMXJQOl8hgnzK7cndsepcFEY0GOliX7Q==
MIME-Version: 1.0
X-Received: by 10.140.20.183 with SMTP id 52mr39333530qgj.38.1458555858421;
 Mon, 21 Mar 2016 03:24:18 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Mon, 21 Mar 2016 03:24:18 -0700 (PDT)
In-Reply-To: <20160321100649.73DDB3A0239@svn01-us-west.apache.org>
References: <20160321100649.73DDB3A0239@svn01-us-west.apache.org>
Date: Mon, 21 Mar 2016 11:24:18 +0100
Message-ID: <CAKQ1sVPWEuce-d=bz_PCYX6+EQutpMwdvfyFNEyrK2bq_w5w6Q@mail.gmail.com>
Subject: Re: svn commit: r1735937 - /httpd/httpd/branches/2.4.x/STATUS
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi Stefan,

On Mon, Mar 21, 2016 at 11:06 AM,  <icing@apache.org> wrote:
>
> +     Backport version for 2.4.x of patch: https://www.eissing.org/proxy_http2_2.4v3.patch
>       +1: icing, ylavic
>       updated patch after review by cjaillet, merged 1735668,1735748 from trunk
> +     updated patch with APLOGNOs by merging 1735931,1735935 from trunk

We may also need r1735942.

From dev-return-85950-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 11:16:17 2016
Return-Path: <dev-return-85950-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D8E5F18DFB
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 11:16:17 +0000 (UTC)
Received: (qmail 90197 invoked by uid 500); 21 Mar 2016 11:16:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 90127 invoked by uid 500); 21 Mar 2016 11:16:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 90117 invoked by uid 99); 21 Mar 2016 11:16:17 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 11:16:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 74D05C059B
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 11:16:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id hTZcVQlTY85Z for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 11:16:14 +0000 (UTC)
Received: from mail-qg0-f45.google.com (mail-qg0-f45.google.com [209.85.192.45])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 15CEA5F2C4
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 11:16:14 +0000 (UTC)
Received: by mail-qg0-f45.google.com with SMTP id w104so149035862qge.1
        for <dev@httpd.apache.org>; Mon, 21 Mar 2016 04:16:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-transfer-encoding;
        bh=nBIxt3ixFSFEyCRIWut1N5fyFF2JjdWgs5A/NDIGAJ0=;
        b=beXKtxZhwe9zkTcG6W+Ii19ZLl34x7kOCEAZIgc+nXuu6MWLSZf9ry5DQhn8iyempV
         1hmHUJxz5pp8pehM+ybwQcKUlU6Y6EF/OPKImQ8S8mDlBEstA83tvgxeKxG4xn6+AQY7
         7OaU+sxRriMBVXalj/TAYRpicbwsOAEc+i/oktmmwTO6wlgBhPtD3hYhSxWI5OxCpLJU
         CVhAa6lTbhoXmEQLmB6IZYF1rElGbzuy1MoOYuEV/4sjZvLWutCkbas6YqepewD1obbe
         dYeoid9/VJMJ2yLyAhbPqIUQocrXA0F4VXNrAy/ISmEE/TRooKr1SeYGNJGF+ppYj7C9
         RKgw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-transfer-encoding;
        bh=nBIxt3ixFSFEyCRIWut1N5fyFF2JjdWgs5A/NDIGAJ0=;
        b=E/H6NLCJS0yan1K3YTbfSEXLcZ2HSGv05VWiMqHh8N14i/QJZr7iI0JN89X4miPzmc
         TI+Atxl0WMYSRHBoSnhCa4NE5TT8gVWCeA4zNZY2n+Go5xmFYb08UX6nU33IwkLtfQvA
         QHNqwxsnVpfXtIBaT71t4eyzmgsZZYKQV2tDnZe872KMK9gBhqWJct+a4gdas/AQeNHo
         p2L8mG4g2dTt51fKutzDyVzmmky3ziwJwtYBTogCwzjDBEjum6ixXWrDNz7Js4aa3nUu
         iBPzWyFM0LyLYx0K+Llw8u+bq1uqHbeVejnlV4grZSlNg6PQ6caxBFcYE4sbWobW0eEB
         uS0A==
X-Gm-Message-State: AD7BkJIeUJjZdmoQtreof5dQ4Yt3miCvu3VZB7pbMs9tfgJogF1cmT3S53fKQ5Yd5JabrZvdzsQoQ72AwZJuog==
MIME-Version: 1.0
X-Received: by 10.140.166.6 with SMTP id m6mr42388794qhm.70.1458558966674;
 Mon, 21 Mar 2016 04:16:06 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Mon, 21 Mar 2016 04:16:06 -0700 (PDT)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627ACA014FD7@VOEXM10W.internal.vodafone.com>
References: <CAKQ1sVMqLDtG+tTB_BiDnG5b8j+wmxsqhwMzfzTu9aktbtehnA@mail.gmail.com>
	<9F8BFBD5-A52A-451B-9756-1DFDDE8B91AF@greenbytes.de>
	<AB1691BE05AE7F4992697F2A0835627ACA014FD7@VOEXM10W.internal.vodafone.com>
Date: Mon, 21 Mar 2016 12:16:06 +0100
Message-ID: <CAKQ1sVNV6==+m77UbmerWivjPsrrbi16_k+=4cB7xOOtDBQApA@mail.gmail.com>
Subject: Re: Test framework vs IPv6
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Mon, Mar 21, 2016 at 10:00 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
>
>> From: Stefan Eissing
>> Sent: Montag, 21. M=C3=A4rz 2016 09:48
>>
>> I encountered this once on a new image where /etc/hosts listed first
>> localhost ::1

Mine is listing 127.0.0.1 first, so it may depend on the network stack
too (I run some pretty young Linux 4.4 kernel..).
I'll try the other way around though, but it can't be a solution anyway.
It worked with sysctl -w net.ipv6.conf.lo.disable_ipv6=3D0 for me.

>>
>> Like you, I found that there seems to be no quick fix for this and
>> edited /etc/hosts...
>>
>> I think your listen patch should be applied.
>
> +1

OK, I'll (try to) fix the other tests which don't pass with "Listen <port>"=
...
Namely:
- t/apache/expr.t
- t/modules/access.t
- t/modules/setenvif.t
- t/ssl/varlookup.t

It may be related to REMOTE_ADDR being IPv6 now, will check.

>
> Just one comment on the patch. If you want to keep the old code in as com=
mented
> you should probably put in a comment above that explains the issue with I=
Pv6.
> Otherwise I guess it is somewhat pointless to keep old code commented out=
.
> We are under version control :-)

Yes, a quick patch, not meant to be committed as is, more to keep the
original code in mind while trying several things :)

Regards,
Yann.

From dev-return-85951-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 11:24:05 2016
Return-Path: <dev-return-85951-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7A85118E4D
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 11:24:05 +0000 (UTC)
Received: (qmail 10577 invoked by uid 500); 21 Mar 2016 11:24:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10500 invoked by uid 500); 21 Mar 2016 11:24:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10490 invoked by uid 99); 21 Mar 2016 11:24:04 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 11:24:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5AEC41804AF
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 11:24:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=h7nzNd0W;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=h7nzNd0W
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id JEuVgRCNGvRS for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 11:24:01 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 2ECF65F234
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 11:24:01 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id BDA4E15A075B; Mon, 21 Mar 2016 12:23:53 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458559433; bh=HBvJRXahALQHyX8pgPjvFS7n47/tf3t16AU3EFEsqx4=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=h7nzNd0WAFoWvKBe6PwUIGUlC4WwMYHoyFUNWSLGgIif9c8txKOlc9bG1MgUO3q3x
	 bkJtxcT5BfR1Knb/vBV8nUFnK0VxH9/xorL3bu8aDTyZUZGmDDw7OlAbt0+r+8PkbY
	 vrLo70W1PtOIFEvJwzJsoCGUf9jDl3JKdl0UfzJw=
Received: from [192.168.1.150] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 76AC615A069E
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 12:23:53 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458559433; bh=HBvJRXahALQHyX8pgPjvFS7n47/tf3t16AU3EFEsqx4=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=h7nzNd0WAFoWvKBe6PwUIGUlC4WwMYHoyFUNWSLGgIif9c8txKOlc9bG1MgUO3q3x
	 bkJtxcT5BfR1Knb/vBV8nUFnK0VxH9/xorL3bu8aDTyZUZGmDDw7OlAbt0+r+8PkbY
	 vrLo70W1PtOIFEvJwzJsoCGUf9jDl3JKdl0UfzJw=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1735937 - /httpd/httpd/branches/2.4.x/STATUS
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVPWEuce-d=bz_PCYX6+EQutpMwdvfyFNEyrK2bq_w5w6Q@mail.gmail.com>
Date: Mon, 21 Mar 2016 12:23:54 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <9E89B9CC-9F9B-486C-AF2B-C667EFD7E936@greenbytes.de>
References: <20160321100649.73DDB3A0239@svn01-us-west.apache.org> <CAKQ1sVPWEuce-d=bz_PCYX6+EQutpMwdvfyFNEyrK2bq_w5w6Q@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Thanks, Yann. Updated.

I thought I had run the perl script against all files there...
...never trust a perl script from someone else.

> Am 21.03.2016 um 11:24 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> Hi Stefan,
>=20
> On Mon, Mar 21, 2016 at 11:06 AM,  <icing@apache.org> wrote:
>>=20
>> +     Backport version for 2.4.x of patch: =
https://www.eissing.org/proxy_http2_2.4v3.patch
>> +1: icing, ylavic
>> updated patch after review by cjaillet, merged 1735668,1735748 from =
trunk
>> +     updated patch with APLOGNOs by merging 1735931,1735935 from =
trunk
>=20
> We may also need r1735942.


From dev-return-85952-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 11:31:45 2016
Return-Path: <dev-return-85952-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9C4E918EF2
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 11:31:45 +0000 (UTC)
Received: (qmail 23525 invoked by uid 500); 21 Mar 2016 11:31:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23346 invoked by uid 500); 21 Mar 2016 11:31:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23091 invoked by uid 99); 21 Mar 2016 11:31:44 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 11:31:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 86FEFC0A27
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 11:31:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.561
X-Spam-Level: **
X-Spam-Status: No, score=2.561 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_BL=0.01, RCVD_IN_MSPIKE_L3=1.899, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id xtpJkN0r_9mp for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 11:31:44 +0000 (UTC)
Received: from resqmta-po-11v.sys.comcast.net (resqmta-po-11v.sys.comcast.net [96.114.154.170])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 2C6825F47A
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 11:31:42 +0000 (UTC)
Received: from resomta-po-03v.sys.comcast.net ([96.114.154.227])
	by resqmta-po-11v.sys.comcast.net with comcast
	id YbXS1s0024ueUHc01bXbPn; Mon, 21 Mar 2016 11:31:35 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-03v.sys.comcast.net with comcast
	id YbXa1s0052U0RYt01bXazg; Mon, 21 Mar 2016 11:31:34 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Plan for T&R of 2.4.19
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <42D0551F-74C9-435B-8C7E-EA9F79FE901A@jaguNET.com>
Date: Mon, 21 Mar 2016 07:31:34 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <FB3F7106-F82F-4718-947B-ED64F0F3358D@jaguNET.com>
References: <42D0551F-74C9-435B-8C7E-EA9F79FE901A@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458559895;
	bh=wckYTsQgirIiUmh/+FZSejBH57DQhVbR5a5FudbUosM=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=WKhfT70uTwi7odIrCB/58Hek32vnHgtHRsRd6DPU2MSiL2iMnyEQxIWqEG0ZvXiet
	 xlcM/eJZiRJw54TRLQHc0Th/hWPapBKFceGAJj0zZrPVeEIouk8dqSjMhDyl69acoa
	 ikRlsRwEYA2d5s/Ms1nQ5ZHjJvDC4E9qnvK7iSRfxndVQAF3mKKv2+vydo87QiSQml
	 TLqT3DMeMYeqJQ7lteugfGlTAPRmAgrwg8ff5PqX0k4+l7xpSUrELhB7onZJUqMA2T
	 Mlx++t4ZCbobTbGubonGuWbIpEtF331Rvzg+vff0LjRROLP+3/lvOuuLnPKgwLnFuz
	 bgxKbt/qoqS+Q==

NOTE: I will be tagging and rolling today...

I expect no significant changes from r1735948.

Hopefully, we can get 2.4.20 out soonish and include mod_proxy_http2
and mod_proxy_hcheck.

From dev-return-85953-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 11:52:11 2016
Return-Path: <dev-return-85953-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7D26818F6B
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 11:52:11 +0000 (UTC)
Received: (qmail 48321 invoked by uid 500); 21 Mar 2016 11:52:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48256 invoked by uid 500); 21 Mar 2016 11:52:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48246 invoked by uid 99); 21 Mar 2016 11:52:10 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 11:52:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 259551A0032
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 11:52:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 3KDw4qLoxVWB for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 11:52:08 +0000 (UTC)
Received: from mail-qg0-f49.google.com (mail-qg0-f49.google.com [209.85.192.49])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 589275F246
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 11:52:08 +0000 (UTC)
Received: by mail-qg0-f49.google.com with SMTP id u110so149585743qge.3
        for <dev@httpd.apache.org>; Mon, 21 Mar 2016 04:52:08 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=2LQ4YhXlQMNXkRx/V4oOygOx4TWEWBsonS0xg0wZZA0=;
        b=Oy2ebphBK1y4CtCZEq34tcShC6A1slX552vBMWYDH6XwNHvsnm5fUGu7AGNjXzzelA
         bRkz1eQS/uWNp3Ug3O/VXuOOvIf1pMJNI/bm28HatJePJbTmatvCOfE0eSxjQFGGDPCM
         MG9d7RVJHnJnGN1KSVhHIhwjzgU8iLLDjCN7E7tXEV2sI25X9M0V+nZ5+UV3lLNVKGKF
         dQ6zfunJpiOWNN/IwarPoAw7dL5ZG4gROe7fSzqo4XFgcbf5rlsg6D8SABz4vTSzA+sJ
         OYdSg3YItK6LX/gnUq4PjSqAe+RZ9+zFIYf8YouyGO1UH2wsmDNBGUir1iYvPz48wlAC
         6zYA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=2LQ4YhXlQMNXkRx/V4oOygOx4TWEWBsonS0xg0wZZA0=;
        b=OYPJoxu6qgWEBmnOOvqh1halVImiYqoIZS0KFh+asXvtEDECzO+TkCJ1M0F6ThOMfT
         63SuccU1bzhlFG1rUSIF6INjI5BgFpstu6BqUm1d0S4WK8qVn0ofQnXBsJYESYAd00uQ
         CymP2mvqaFHGxbxJvLccodYIMMY0BXfcheWERInUDfvvm3JVfXne+/kjKTYHJwdQOv3k
         jLjQC7d1bWQZL5dhYvgwAJayupziKb9b5fBEs/dQpUedlN86nZ+JOF7U0JLFSHUjcr28
         Sp7yw2fOrhrq/5cj0CFp9L+cuGLCyL74rJ/OKEtN68b7xa4ZpUTl0B5jR9S5tFJ1Y8vE
         psqg==
X-Gm-Message-State: AD7BkJKtDTx/BjAdP4YiS020XVCWZf8SWF8jplEnqZCUQEiW32VcX9RSirtzY0QVzvw/NCXjBaJLwk17bx5oOA==
MIME-Version: 1.0
X-Received: by 10.140.167.133 with SMTP id n127mr40215467qhn.73.1458561127852;
 Mon, 21 Mar 2016 04:52:07 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Mon, 21 Mar 2016 04:52:07 -0700 (PDT)
In-Reply-To: <9E89B9CC-9F9B-486C-AF2B-C667EFD7E936@greenbytes.de>
References: <20160321100649.73DDB3A0239@svn01-us-west.apache.org>
	<CAKQ1sVPWEuce-d=bz_PCYX6+EQutpMwdvfyFNEyrK2bq_w5w6Q@mail.gmail.com>
	<9E89B9CC-9F9B-486C-AF2B-C667EFD7E936@greenbytes.de>
Date: Mon, 21 Mar 2016 12:52:07 +0100
Message-ID: <CAKQ1sVNUH6pSiQqf65E5bR3GUBOyp+TMR_tjpOd46EKvFSMRdg@mail.gmail.com>
Subject: Re: svn commit: r1735937 - /httpd/httpd/branches/2.4.x/STATUS
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, Mar 21, 2016 at 12:23 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
>
> I thought I had run the perl script against all files there...
> ...never trust a perl script from someone else.

"make update-log-tags" works like a charm :)

From dev-return-85954-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 12:12:41 2016
Return-Path: <dev-return-85954-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6FABD19071
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 12:12:41 +0000 (UTC)
Received: (qmail 91924 invoked by uid 500); 21 Mar 2016 12:12:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91838 invoked by uid 500); 21 Mar 2016 12:12:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91828 invoked by uid 99); 21 Mar 2016 12:12:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 12:12:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 0C3AEC0A28
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 12:12:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id j9jIF9mtMAG2 for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 12:12:39 +0000 (UTC)
Received: from mail-ig0-f175.google.com (mail-ig0-f175.google.com [209.85.213.175])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 3701B5F39A
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 12:12:39 +0000 (UTC)
Received: by mail-ig0-f175.google.com with SMTP id ig19so66084695igb.1
        for <dev@httpd.apache.org>; Mon, 21 Mar 2016 05:12:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to;
        bh=CDSUYZrercfE9Lo5hsWwc8DnhaxIVtLo0UQW+KR+eEk=;
        b=toIbYBo+jJ77xOT97DdtWzWCClD4RgUDBOwv8agQK6KbYWWlRLBJnryLgh5gQAd/+k
         2zR+4+oqWFlYxPsH6zSugK37EEaL/rDptvJrjuVe4WSb8+kwpoPLGdBwWKNYpNbsInqU
         XLdGVNhQIlB1OLzJoZu+uo9ZOR0qxSDZksYZNhDdbPGw6Fis8pumqkiRxrSznl6x7bEc
         57ndrz4QocjFzXxZeJ9v8DU32eiS3wk16TQ+iS0JVt0RglrQBhgp4J0PS/3QhLg8wuou
         bR+Ld7hWVCdB0LpUXYjKfXdAJm0+/5uZVemyOD6xQw6DmHw1n5HyMZprecUKeyQwWUG8
         R71g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to;
        bh=CDSUYZrercfE9Lo5hsWwc8DnhaxIVtLo0UQW+KR+eEk=;
        b=PdVMVvqxgLr+QLrXJmmBUgP8tzhuJbDvWtm0k3p+E/VriMQ9oUerb4yPIjEzcCkjpY
         I+/yBdSgtPgRUAZ8czplcc7YWdu/5d0S+VjCDMJ41caryK8umaTHky66/VvNkPX3jTw8
         UNSS2hJ+WS4G+vh2y4yzNXdHfQh6HTOdBbvOTkO9Nk/PdiaqoIa0M7/BYXEDfdDZeUqQ
         I69sIKioK1O/p8/Sy3Ra8JzSgN33aBTT7DDzZVXC/0qlxS7F8o2YOIMwm5V8GFfaJLk7
         2dk/2uQRhMR1uiej6aHkybVXN+ONsUhLCwDOHxtuk+DmBDVijrnJyhegdPWj31qU232C
         PCUQ==
X-Gm-Message-State: AD7BkJKhXXbHL4Rl89/k2PGtXQdLxSvZ+wSDSH4Va7e9E7GHeEGfQhcdBzQwGdiNkXjVzooXCBobNl+9X1YpDg==
MIME-Version: 1.0
X-Received: by 10.51.17.4 with SMTP id ga4mr12130803igd.88.1458562355661; Mon,
 21 Mar 2016 05:12:35 -0700 (PDT)
Received: by 10.107.55.7 with HTTP; Mon, 21 Mar 2016 05:12:35 -0700 (PDT)
Date: Mon, 21 Mar 2016 08:12:35 -0400
Message-ID: <CAKUrXK4mB8fTy3OVi4cbT8TLuJxoKS-em_JAW1PCwSJ18iYFNg@mail.gmail.com>
Subject: "D modules/ssl/mod_ssl_openssl.h"
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1134b42217b0eb052e8e0386

--001a1134b42217b0eb052e8e0386
Content-Type: text/plain; charset=UTF-8

I just saw this disappear from 2.4.x; if you know what the cause is, let me
know.  Otherwise I'll figure it out "soon".

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a1134b42217b0eb052e8e0386
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">I just saw this disappear from 2.4.x; if you know what the=
 cause is, let me know.=C2=A0 Otherwise I&#39;ll figure it out &quot;soon&q=
uot;.<br clear=3D"all"><div><br></div>-- <br><div class=3D"gmail_signature"=
><div dir=3D"ltr">Born in Roswell... married an alien...<br><a href=3D"http=
://emptyhammock.com/" target=3D"_blank">http://emptyhammock.com/</a><div><b=
r></div></div></div>
</div>

--001a1134b42217b0eb052e8e0386--

From dev-return-85955-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 12:25:45 2016
Return-Path: <dev-return-85955-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 63165190F6
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 12:25:45 +0000 (UTC)
Received: (qmail 13648 invoked by uid 500); 21 Mar 2016 12:25:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13572 invoked by uid 500); 21 Mar 2016 12:25:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13562 invoked by uid 99); 21 Mar 2016 12:25:44 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 12:25:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B370F180495
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 12:25:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id q2pTl8c1QlpD for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 12:25:42 +0000 (UTC)
Received: from mail-io0-f175.google.com (mail-io0-f175.google.com [209.85.223.175])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 158E85F22E
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 12:25:43 +0000 (UTC)
Received: by mail-io0-f175.google.com with SMTP id 124so54903730iov.3
        for <dev@httpd.apache.org>; Mon, 21 Mar 2016 05:25:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=ngovlf7dat0RyGl2UXa9BgEB/3o039J4xVVIBJbxk7g=;
        b=SExdgY1wHB4S4iQpZ687ZWpWeTci4ZAjhnCkp4XzetSg0j/K/5mq6c6lby//MtpdIe
         6azXYPNkoSfucKdLfUKJSbnRPVm9W4gpQdtLbdycNE/bnW/De3x9lXQywwmamFK7+P/P
         w+wAklDRQcpuNldifKPCOYAwPjuTJUiI02/QfAGWCK1rxPBL5+yQLBtYW9jfR56YCvfD
         zjeUXNg0muMs3CNZA1YSgZotceKqtJBZOqO4gZ/T87hK/aNuAtfazcZ1yNtcPHpghDWQ
         tOuDoc/AKg3C38hbw5OhsQ/2Zpnjijwg2gf8pNAgqIDdCmt4Lsuhs/fDUy4Acrd4SdB5
         Th3w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=ngovlf7dat0RyGl2UXa9BgEB/3o039J4xVVIBJbxk7g=;
        b=D5dD1c2/ynkhtwZl1m5fNs8XiZy+S2Wj9kajghucSAQc+MWiWiPUgcxE/iPX2yq8H6
         rZQ22r1Wvj3bN51R2nA+dwa8Bsd6WZ8LhHG53CBYXd8DEerD6dyvmuOFFNudFm6lBPV1
         q9FYjZNBH5anB7ae0/x7dcSWkgmCxAG03WNGzYJLZHSA0I96K1VLy8PbJxH5lUTIMSXO
         yVwUVvXLmZ+OTk4U0fghDwhyRc2kC6NqzbUziUML7XD/0ErOhEXnKXI0ZN3kDA4WVChi
         lGCYNlLJy5UhJWAEJBjAPReN5OgU2eQrzfymLhOkSu8EyHlCbWxxIW7SRjVgu+fzP57h
         TYDg==
X-Gm-Message-State: AD7BkJLArxakFF4KdWZL774clWpNclLgvyy3+ZVmOlJ2NevIk8+9uUjmIpkNjSmSMgvfuYq+b2BwHUb35ETlpw==
MIME-Version: 1.0
X-Received: by 10.107.135.15 with SMTP id j15mr29875913iod.28.1458563135982;
 Mon, 21 Mar 2016 05:25:35 -0700 (PDT)
Received: by 10.107.55.7 with HTTP; Mon, 21 Mar 2016 05:25:35 -0700 (PDT)
In-Reply-To: <CAKUrXK4mB8fTy3OVi4cbT8TLuJxoKS-em_JAW1PCwSJ18iYFNg@mail.gmail.com>
References: <CAKUrXK4mB8fTy3OVi4cbT8TLuJxoKS-em_JAW1PCwSJ18iYFNg@mail.gmail.com>
Date: Mon, 21 Mar 2016 08:25:35 -0400
Message-ID: <CAKUrXK7MC59u3BTEZBs=bs6puBM9L4miyA6WH13k9EekunuB8g@mail.gmail.com>
Subject: Re: "D modules/ssl/mod_ssl_openssl.h"
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113f95729a6df2052e8e31f3

--001a113f95729a6df2052e8e31f3
Content-Type: text/plain; charset=UTF-8

On Mon, Mar 21, 2016 at 8:12 AM, Jeff Trawick <trawick@gmail.com> wrote:

> I just saw this disappear from 2.4.x; if you know what the cause is, let
> me know.  Otherwise I'll figure it out "soon".
>

My svn knowledge fails me...

This listing of when I added the file says (*Current path doesn't exist
after revision 1735946*)

http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl_openssl.h?view=log&pathrev=1735910

This doesn't mention the file, although that's supposedly the last revision
with the file:

http://svn.apache.org/viewvc?view=revision&revision=1735946

I'll add it again.  I don't know what to do differently :(


>
>
> --
> Born in Roswell... married an alien...
> http://emptyhammock.com/
>
>


-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a113f95729a6df2052e8e31f3
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Mar 21, 2016 at 8:12 AM, Jeff Trawick <span dir=3D"ltr">&lt;<a href=3D"=
mailto:trawick@gmail.com" target=3D"_blank">trawick@gmail.com</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0=
.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-s=
tyle:solid;padding-left:1ex"><div dir=3D"ltr">I just saw this disappear fro=
m 2.4.x; if you know what the cause is, let me know.=C2=A0 Otherwise I&#39;=
ll figure it out &quot;soon&quot;.</div></blockquote><div><br></div><div>My=
 svn knowledge fails me...</div><div><br></div><div>This listing of when I =
added the file says (<i>Current path doesn&#39;t exist after revision=C2=A0=
<strong>1735946</strong></i>)</div><div><br></div><div><a href=3D"http://sv=
n.apache.org/viewvc/httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl_openssl.=
h?view=3Dlog&amp;pathrev=3D1735910">http://svn.apache.org/viewvc/httpd/http=
d/branches/2.4.x/modules/ssl/mod_ssl_openssl.h?view=3Dlog&amp;pathrev=3D173=
5910</a></div><div><br></div><div>This doesn&#39;t mention the file, althou=
gh that&#39;s supposedly the last revision with the file:</div><div><br></d=
iv><div><a href=3D"http://svn.apache.org/viewvc?view=3Drevision&amp;revisio=
n=3D1735946">http://svn.apache.org/viewvc?view=3Drevision&amp;revision=3D17=
35946</a><br></div><div><br></div><div>I&#39;ll add it again.=C2=A0 I don&#=
39;t know what to do differently :(</div><div>=C2=A0</div><blockquote class=
=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;bo=
rder-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">=
<div dir=3D"ltr"><span class=3D""><font color=3D"#888888"><br clear=3D"all"=
><div><br></div>-- <br><div><div dir=3D"ltr">Born in Roswell... married an =
alien...<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://e=
mptyhammock.com/</a><div><br></div></div></div>
</font></span></div>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--001a113f95729a6df2052e8e31f3--

From dev-return-85956-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 12:30:49 2016
Return-Path: <dev-return-85956-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 736E519143
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 12:30:49 +0000 (UTC)
Received: (qmail 28683 invoked by uid 500); 21 Mar 2016 12:30:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28612 invoked by uid 500); 21 Mar 2016 12:30:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28599 invoked by uid 99); 21 Mar 2016 12:30:44 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 12:30:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1386A18055A;
	Mon, 21 Mar 2016 12:30:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id EjgrtMxeO5TY; Mon, 21 Mar 2016 12:30:40 +0000 (UTC)
Received: from mail-ig0-f177.google.com (mail-ig0-f177.google.com [209.85.213.177])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 7EA735F47A;
	Mon, 21 Mar 2016 12:30:40 +0000 (UTC)
Received: by mail-ig0-f177.google.com with SMTP id kc10so66236036igb.0;
        Mon, 21 Mar 2016 05:30:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc;
        bh=NjP+MXTB6V0zhIcUlYKSAhchn3UNlkl/+aNvWhHKqik=;
        b=OZ28J+LWBWreXp3l2zYdwXHn9ZNNaDIKYBCy5/wuixsaYWcX88K++QPDCiYNbbRNr2
         /UlIwrvpRM21s018bgz4Tj9IN8bM8iLWd+OfZTT+xnb2vtBYIol1rudBVPi2+LOUnWgF
         DkJ3J+A3vSNOQp7WzgkAqqIcIK4kDAzOHsOfrWP0UpabI6J9RD7CO+Mt/OCbIMTIKf52
         pqDs4tPkpl8mhLOXVQmEjWauvy2Dfa8ZkhKWdtje2VO6YP8kQGvJEFzjYXK+YeJaxEvt
         JxR0sNQMV0ZoYWjwEvdI15ecM2C9YmlMGqZpYdiYVU0QX1rUOKqbJQWeKDGnJU6hWHHM
         +xLA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc;
        bh=NjP+MXTB6V0zhIcUlYKSAhchn3UNlkl/+aNvWhHKqik=;
        b=dmcnamRVieHKE/T/4UVdJYHIeigaD4QdgKOPZV/vdNuWUlXhkpp/8Ll0gd2H13EaKB
         Paa/NGy4n1GFrmeWcVFkdmWwFI1U7iGLQ231WDB8B6zzI81Prnf1EUI2PQQy7IpEcDI8
         yL+gHWYccOeqsBqj396sC1zHJRtiAyTzBAme0ffWSlSdezKrPuympkjro/SAWssinm2J
         8/Hys3c9p2Z3RUvzDHIIiMopQwPwxe5JRFV4szAAXeaZHB46amhGYL1ZhIKdDL/MOi2M
         Lihw6CGysP0vKSpabYA6GBGvLZGGPGzcnqj4mfi2AZ5qv4eqbU/n2I2Q9UfHjlZL7/jP
         28lg==
X-Gm-Message-State: AD7BkJI4raB1hwXFVa5RbRkpRrAFxfQZp6lGDOulG16xFPjo6oCiJE9IJXT5XkGE6RavV5p7UuUcuxalaMlg1w==
MIME-Version: 1.0
X-Received: by 10.50.1.115 with SMTP id 19mr12667449igl.5.1458563439514; Mon,
 21 Mar 2016 05:30:39 -0700 (PDT)
Received: by 10.107.55.7 with HTTP; Mon, 21 Mar 2016 05:30:39 -0700 (PDT)
In-Reply-To: <20160321122548.95AE23A0239@svn01-us-west.apache.org>
References: <20160321122548.95AE23A0239@svn01-us-west.apache.org>
Date: Mon, 21 Mar 2016 08:30:39 -0400
Message-ID: <CAKUrXK707BJoa8vzXOnO3c06Wk1W5hOuA25fDn5Kt_iY-Aq2yg@mail.gmail.com>
Subject: Re: svn commit: r1735960 - /httpd/httpd/branches/2.4.x/STATUS
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Cc: cvs@httpd.apache.org
Content-Type: multipart/alternative; boundary=047d7bdc110eb1da12052e8e4372

--047d7bdc110eb1da12052e8e4372
Content-Type: text/plain; charset=UTF-8

On Mon, Mar 21, 2016 at 8:25 AM, <ylavic@apache.org> wrote:

> Author: ylavic
> Date: Mon Mar 21 12:25:48 2016
> New Revision: 1735960
>
> URL: http://svn.apache.org/viewvc?rev=1735960&view=rev
> Log:
> Vote, promote.
>
> Modified:
>     httpd/httpd/branches/2.4.x/STATUS
>
> Modified: httpd/httpd/branches/2.4.x/STATUS
> URL:
> http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/STATUS?rev=1735960&r1=1735959&r2=1735960&view=diff
>
> ==============================================================================
> --- httpd/httpd/branches/2.4.x/STATUS (original)
> +++ httpd/httpd/branches/2.4.x/STATUS Mon Mar 21 12:25:48 2016
> @@ -112,6 +112,14 @@ RELEASE SHOWSTOPPERS:
>  PATCHES ACCEPTED TO BACKPORT FROM TRUNK:
>    [ start all new proposals below, under PATCHES PROPOSED. ]
>
> +  *) DOCUMENT_ARGS, set by mod_include to represent args to SSI document;
> +     unlike UNESCAPED_QUERY_STRING, not shell-escaped
> +     trunk patch: r1734817, r1734955, r1734989 (but version compat and
> CHANGES
> +                  need to be manipulated)
> +     2.4.x patch:
> https://emptyhammock.com/media/downloads/DOCUMENT_ARGS-to-2.4.x.txt
> +     +1: trawick, jim, ylavic
> +     ylavic: The second CHANGES entry added in the patch should not be
> merged...
>

Whoops, I'll merge this now and watch out for that.

Thanks!


> +
>
>  PATCHES PROPOSED TO BACKPORT FROM TRUNK:
>    [ New proposals should be added at the end of the list ]
> @@ -161,12 +169,6 @@ PATCHES PROPOSED TO BACKPORT FROM TRUNK:
>       updated patch with APLOGNOs by merging 1735931,1735935 from trunk
>       updated patch with APLOGNOs by merging 1735942 from trunk
>
> -  *) DOCUMENT_ARGS, set by mod_include to represent args to SSI document;
> -     unlike UNESCAPED_QUERY_STRING, not shell-escaped
> -     trunk patch: r1734817, r1734955, r1734989 (but version compat and
> CHANGES
> -                  need to be manipulated)
> -     2.4.x patch:
> https://emptyhammock.com/media/downloads/DOCUMENT_ARGS-to-2.4.x.txt
> -     +1: trawick, jim
>
>  PATCHES/ISSUES THAT ARE BEING WORKED
>
>
>
>


-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--047d7bdc110eb1da12052e8e4372
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Mar 21, 2016 at 8:25 AM,  <span dir=3D"ltr">&lt;<a href=3D"mailto:ylavi=
c@apache.org" target=3D"_blank">ylavic@apache.org</a>&gt;</span> wrote:<br>=
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">Author: ylavic<br>
Date: Mon Mar 21 12:25:48 2016<br>
New Revision: 1735960<br>
<br>
URL: <a href=3D"http://svn.apache.org/viewvc?rev=3D1735960&amp;view=3Drev" =
rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc?rev=3D173=
5960&amp;view=3Drev</a><br>
Log:<br>
Vote, promote.<br>
<br>
Modified:<br>
=C2=A0 =C2=A0 httpd/httpd/branches/2.4.x/STATUS<br>
<br>
Modified: httpd/httpd/branches/2.4.x/STATUS<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/STA=
TUS?rev=3D1735960&amp;r1=3D1735959&amp;r2=3D1735960&amp;view=3Ddiff" rel=3D=
"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc/httpd/httpd/bra=
nches/2.4.x/STATUS?rev=3D1735960&amp;r1=3D1735959&amp;r2=3D1735960&amp;view=
=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/branches/2.4.x/STATUS (original)<br>
+++ httpd/httpd/branches/2.4.x/STATUS Mon Mar 21 12:25:48 2016<br>
@@ -112,6 +112,14 @@ RELEASE SHOWSTOPPERS:<br>
=C2=A0PATCHES ACCEPTED TO BACKPORT FROM TRUNK:<br>
=C2=A0 =C2=A0[ start all new proposals below, under PATCHES PROPOSED. ]<br>
<br>
+=C2=A0 *) DOCUMENT_ARGS, set by mod_include to represent args to SSI docum=
ent;<br>
+=C2=A0 =C2=A0 =C2=A0unlike UNESCAPED_QUERY_STRING, not shell-escaped<br>
+=C2=A0 =C2=A0 =C2=A0trunk patch: r1734817, r1734955, r1734989 (but version=
 compat and CHANGES<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 need to be =
manipulated)<br>
+=C2=A0 =C2=A0 =C2=A02.4.x patch: <a href=3D"https://emptyhammock.com/media=
/downloads/DOCUMENT_ARGS-to-2.4.x.txt" rel=3D"noreferrer" target=3D"_blank"=
>https://emptyhammock.com/media/downloads/DOCUMENT_ARGS-to-2.4.x.txt</a><br=
>
+=C2=A0 =C2=A0 =C2=A0+1: trawick, jim, ylavic<br>
+=C2=A0 =C2=A0 =C2=A0ylavic: The second CHANGES entry added in the patch sh=
ould not be merged...<br></blockquote><div><br></div><div>Whoops, I&#39;ll =
merge this now and watch out for that.</div><div><br></div><div>Thanks!</di=
v><div>=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 =
.8ex;border-left:1px #ccc solid;padding-left:1ex">
+<br>
<br>
=C2=A0PATCHES PROPOSED TO BACKPORT FROM TRUNK:<br>
=C2=A0 =C2=A0[ New proposals should be added at the end of the list ]<br>
@@ -161,12 +169,6 @@ PATCHES PROPOSED TO BACKPORT FROM TRUNK:<br>
=C2=A0 =C2=A0 =C2=A0 updated patch with APLOGNOs by merging 1735931,1735935=
 from trunk<br>
=C2=A0 =C2=A0 =C2=A0 updated patch with APLOGNOs by merging 1735942 from tr=
unk<br>
<br>
-=C2=A0 *) DOCUMENT_ARGS, set by mod_include to represent args to SSI docum=
ent;<br>
-=C2=A0 =C2=A0 =C2=A0unlike UNESCAPED_QUERY_STRING, not shell-escaped<br>
-=C2=A0 =C2=A0 =C2=A0trunk patch: r1734817, r1734955, r1734989 (but version=
 compat and CHANGES<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 need to be =
manipulated)<br>
-=C2=A0 =C2=A0 =C2=A02.4.x patch: <a href=3D"https://emptyhammock.com/media=
/downloads/DOCUMENT_ARGS-to-2.4.x.txt" rel=3D"noreferrer" target=3D"_blank"=
>https://emptyhammock.com/media/downloads/DOCUMENT_ARGS-to-2.4.x.txt</a><br=
>
-=C2=A0 =C2=A0 =C2=A0+1: trawick, jim<br>
<br>
=C2=A0PATCHES/ISSUES THAT ARE BEING WORKED<br>
<br>
<br>
<br>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--047d7bdc110eb1da12052e8e4372--

From dev-return-85957-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 12:32:45 2016
Return-Path: <dev-return-85957-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7B7D01914A
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 12:32:45 +0000 (UTC)
Received: (qmail 36141 invoked by uid 500); 21 Mar 2016 12:32:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36081 invoked by uid 500); 21 Mar 2016 12:32:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36068 invoked by uid 99); 21 Mar 2016 12:32:44 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 12:32:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 7291C1A0094
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 12:32:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id P6zIONkMQ8tD for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 12:32:42 +0000 (UTC)
Received: from mail-qg0-f51.google.com (mail-qg0-f51.google.com [209.85.192.51])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 6E6B65F23A
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 12:32:41 +0000 (UTC)
Received: by mail-qg0-f51.google.com with SMTP id y89so151147458qge.2
        for <dev@httpd.apache.org>; Mon, 21 Mar 2016 05:32:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=joFm7KB/T9ngRfpsHq+mr2mHRoP9yL1Io6qn4gAqFg0=;
        b=mfitBuBXunV7ibTtcrkcz8zf27TmoZkTCsPgS0ZyjYXAc+Wg/txmDlWLqypWD4zA88
         a3AYZiDvpfI76GBhfD/M+C5dqBLOqctAsCBH+ncB/RfVNPZjoLAuTTyuEKY5vuTRJMHU
         iegv5hMykYI9MMGdukdHtWxvdMnfqCDtK/NGywYxBP6dXjlwwLfWh71iTJPyOdPCxkjl
         c8Ln3gP4xBnrJ9UB9y05Ut6b/lHqdmQivVPVKNHUeGvC8b36XovSA81yViDdHE0Ztbsg
         GNxwL7zTVKmvAfRA2Y6vW/SiZQRcCDt1SfJ55KlrlNS24sdWUlLFUSDXH1n4NI+sj3Ol
         Cwyg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=joFm7KB/T9ngRfpsHq+mr2mHRoP9yL1Io6qn4gAqFg0=;
        b=LmfuhHz2pt146foV9v28HaPBiFqLLHs5eyF0OrJ6r5tGAFsbD5Qv1IaobwI6PGxH/h
         V7fU+RaD/BFel/Hg2bC0ni6A2i3rl28+AVAB9YsFWhugln4kV09GiYaVYG5uzSjGrLzh
         qO9ENTt/4mgq/pI56jqjuscz1qECUwB2cwVJ50RFY9Zg1kXX56Ado+zFzGiN1dVxxy7Q
         Qhz0WhXYrJOUXKRXw4JopPuaKS93eK/zLQhn41r8pEovgG47rAUjTVEa3tnC+5NtaQnl
         bCrgGTFuCOlbo6tC7HxAMtIMoPjri9+8bXMFiOpcQ5/LThVY8kv7TgOsEoMGCAckgjC3
         Sxrw==
X-Gm-Message-State: AD7BkJKrVi95SlbYffHbzAymrnnyHri2dKzbTyokdoyEk47NfZnkq8gtuw87U8ZBXz286cwEKWH9hTKhctPu8Q==
MIME-Version: 1.0
X-Received: by 10.140.167.133 with SMTP id n127mr40483272qhn.73.1458563560299;
 Mon, 21 Mar 2016 05:32:40 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Mon, 21 Mar 2016 05:32:40 -0700 (PDT)
In-Reply-To: <CAKUrXK7MC59u3BTEZBs=bs6puBM9L4miyA6WH13k9EekunuB8g@mail.gmail.com>
References: <CAKUrXK4mB8fTy3OVi4cbT8TLuJxoKS-em_JAW1PCwSJ18iYFNg@mail.gmail.com>
	<CAKUrXK7MC59u3BTEZBs=bs6puBM9L4miyA6WH13k9EekunuB8g@mail.gmail.com>
Date: Mon, 21 Mar 2016 13:32:40 +0100
Message-ID: <CAKQ1sVPbb_jWPr7_kObRVJ0KBnT4G_qGuEUGtd+UeE0opvODAQ@mail.gmail.com>
Subject: Re: "D modules/ssl/mod_ssl_openssl.h"
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, Mar 21, 2016 at 1:25 PM, Jeff Trawick <trawick@gmail.com> wrote:
> On Mon, Mar 21, 2016 at 8:12 AM, Jeff Trawick <trawick@gmail.com> wrote:
>>
>> I just saw this disappear from 2.4.x; if you know what the cause is, let
>> me know.  Otherwise I'll figure it out "soon".
>
>
> My svn knowledge fails me...
>
> This listing of when I added the file says (Current path doesn't exist after
> revision 1735946)
>
> http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl_openssl.h?view=log&pathrev=1735910
>
> This doesn't mention the file, although that's supposedly the last revision
> with the file:
>
> http://svn.apache.org/viewvc?view=revision&revision=1735946
>
> I'll add it again.  I don't know what to do differently :(

Maybe:
$ cd modules/ssl
$ svn merge -c -1735947
https://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.x/modules/ssl/
?

It seemed to have been unintentional in r1735947...

From dev-return-85958-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 12:42:28 2016
Return-Path: <dev-return-85958-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 31B82191C9
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 12:42:28 +0000 (UTC)
Received: (qmail 54072 invoked by uid 500); 21 Mar 2016 12:42:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54002 invoked by uid 500); 21 Mar 2016 12:42:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53992 invoked by uid 99); 21 Mar 2016 12:42:27 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 12:42:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 3F7B6C021D
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 12:42:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id LRkbRpXB1k4w for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 12:42:23 +0000 (UTC)
Received: from mail-io0-f173.google.com (mail-io0-f173.google.com [209.85.223.173])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 72CF75F1E3
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 12:42:22 +0000 (UTC)
Received: by mail-io0-f173.google.com with SMTP id o5so123428194iod.2
        for <dev@httpd.apache.org>; Mon, 21 Mar 2016 05:42:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=WCG+jcgXzSAKN5m8YCW75jqkhOuzCI5NlndrcFk98hg=;
        b=uFB4QSukCHsmCTtGiHjHRGfMPvWW4lb70Fk7XE/oXsrqVzLGdwRAIBmdKBnCAaWxj2
         1jNpNddDeYpOt3IjahAFhAUyK648Mi/J4zte8xX1rAz1XFScj8owARsxNte4y9XgQ4cD
         636+ewcgWo87/+vmrI2K6lwTh+MHbCZulD6NtwXdIxFqh1THAzlCuK0M1t85ZDq4JFY2
         uEAhpXuhstJANu4xlAG7S+4YQ+/6BcfsirOcZjpq9JfhkRqBtGPZpux7Cc8E7PYaLi4n
         hPy6QoZi384mZsE9qa0yxSd1Lp5Hc5yABHY6h+WkIRQt1PExgRDyMmbScos4kfhRnzyK
         unow==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=WCG+jcgXzSAKN5m8YCW75jqkhOuzCI5NlndrcFk98hg=;
        b=ZiLUukvkP7SyfCiPGnHKg1OXaJsj8XEpc9SaGYNYzivMkPVSTbvqDpIQPxn53if6sg
         FcLV8pmHjgD7uobevyY9gj6N6CN9NKcnrf0ruJoC0aH8wwy/0KDutINMZrn4w3gjB6/5
         S9Nq18oB0JH3YU129rUEp0mlxoWiGS7TmSBz/CuYyRG2vWmaNpldEIQSTPs6oXrwbw9/
         aNwhqMks2nxJruPZV7iepPm6TL3Y0yMMcKrTLllY6R2yhOGnSsW/eWXqgSafgTRHn80R
         Uo+03j7kdY5Nl4mvpiwOYanQP3DqbtwX46ry+cn6D691iHJRDYLOuK+8F2/5REOihIPG
         d4kg==
X-Gm-Message-State: AD7BkJJwM8UyutW5kJBiAX2K2AA9mmwg96qqv54Ryd30DahLnK9Tu+EZxtgWTEEC4ZIX9USfi1lrMYGiASDI2Q==
MIME-Version: 1.0
X-Received: by 10.107.135.15 with SMTP id j15mr29969017iod.28.1458564134587;
 Mon, 21 Mar 2016 05:42:14 -0700 (PDT)
Received: by 10.107.55.7 with HTTP; Mon, 21 Mar 2016 05:42:14 -0700 (PDT)
In-Reply-To: <CAKQ1sVPbb_jWPr7_kObRVJ0KBnT4G_qGuEUGtd+UeE0opvODAQ@mail.gmail.com>
References: <CAKUrXK4mB8fTy3OVi4cbT8TLuJxoKS-em_JAW1PCwSJ18iYFNg@mail.gmail.com>
	<CAKUrXK7MC59u3BTEZBs=bs6puBM9L4miyA6WH13k9EekunuB8g@mail.gmail.com>
	<CAKQ1sVPbb_jWPr7_kObRVJ0KBnT4G_qGuEUGtd+UeE0opvODAQ@mail.gmail.com>
Date: Mon, 21 Mar 2016 08:42:14 -0400
Message-ID: <CAKUrXK6aaWzu0gB=fYOvDzp-Hk7rc84EU+_gqNezALQ9GjXyRg@mail.gmail.com>
Subject: Re: "D modules/ssl/mod_ssl_openssl.h"
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113f95721fd347052e8e6d9d

--001a113f95721fd347052e8e6d9d
Content-Type: text/plain; charset=UTF-8

On Mon, Mar 21, 2016 at 8:32 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> On Mon, Mar 21, 2016 at 1:25 PM, Jeff Trawick <trawick@gmail.com> wrote:
> > On Mon, Mar 21, 2016 at 8:12 AM, Jeff Trawick <trawick@gmail.com> wrote:
> >>
> >> I just saw this disappear from 2.4.x; if you know what the cause is, let
> >> me know.  Otherwise I'll figure it out "soon".
> >
> >
> > My svn knowledge fails me...
> >
> > This listing of when I added the file says (Current path doesn't exist
> after
> > revision 1735946)
> >
> >
> http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl_openssl.h?view=log&pathrev=1735910
> >
> > This doesn't mention the file, although that's supposedly the last
> revision
> > with the file:
> >
> > http://svn.apache.org/viewvc?view=revision&revision=1735946
> >
> > I'll add it again.  I don't know what to do differently :(
>
> Maybe:
> $ cd modules/ssl
> $ svn merge -c -1735947
> https://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.x/modules/ssl/
> ?
>
> It seemed to have been unintentional in r1735947...
>

Oh, that even shows it deleted mod_ssl_openssl.h:
http://svn.apache.org/viewvc?view=revision&revision=1735947

When I saw the message "Current path doesn't exist after revision 1735946"
I should have looked at 1735947, not 1735946 (

Thanks!!!

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a113f95721fd347052e8e6d9d
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Mar 21, 2016 at 8:32 AM, Yann Ylavic <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;<=
/span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px =
0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-l=
eft-style:solid;padding-left:1ex"><span class=3D"">On Mon, Mar 21, 2016 at =
1:25 PM, Jeff Trawick &lt;<a href=3D"mailto:trawick@gmail.com">trawick@gmai=
l.com</a>&gt; wrote:<br>
&gt; On Mon, Mar 21, 2016 at 8:12 AM, Jeff Trawick &lt;<a href=3D"mailto:tr=
awick@gmail.com">trawick@gmail.com</a>&gt; wrote:<br>
&gt;&gt;<br>
&gt;&gt; I just saw this disappear from 2.4.x; if you know what the cause i=
s, let<br>
&gt;&gt; me know.=C2=A0 Otherwise I&#39;ll figure it out &quot;soon&quot;.<=
br>
&gt;<br>
&gt;<br>
&gt; My svn knowledge fails me...<br>
&gt;<br>
&gt; This listing of when I added the file says (Current path doesn&#39;t e=
xist after<br>
&gt; revision 1735946)<br>
&gt;<br>
&gt; <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/mod=
ules/ssl/mod_ssl_openssl.h?view=3Dlog&amp;pathrev=3D1735910" rel=3D"norefer=
rer" target=3D"_blank">http://svn.apache.org/viewvc/httpd/httpd/branches/2.=
4.x/modules/ssl/mod_ssl_openssl.h?view=3Dlog&amp;pathrev=3D1735910</a><br>
&gt;<br>
&gt; This doesn&#39;t mention the file, although that&#39;s supposedly the =
last revision<br>
&gt; with the file:<br>
&gt;<br>
&gt; <a href=3D"http://svn.apache.org/viewvc?view=3Drevision&amp;revision=
=3D1735946" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/view=
vc?view=3Drevision&amp;revision=3D1735946</a><br>
&gt;<br>
&gt; I&#39;ll add it again.=C2=A0 I don&#39;t know what to do differently :=
(<br>
<br>
</span>Maybe:<br>
$ cd modules/ssl<br>
$ svn merge -c -1735947<br>
<a href=3D"https://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.x/modu=
les/ssl/" rel=3D"noreferrer" target=3D"_blank">https://svn.apache.org/repos=
/asf/httpd/httpd/branches/2.4.x/modules/ssl/</a><br>
?<br>
<br>
It seemed to have been unintentional in r1735947...<br>
</blockquote></div><br>Oh, that even shows it deleted mod_ssl_openssl.h: <a=
 href=3D"http://svn.apache.org/viewvc?view=3Drevision&amp;revision=3D173594=
7">http://svn.apache.org/viewvc?view=3Drevision&amp;revision=3D1735947</a><=
/div><div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">When I=
 saw the message &quot;Current path doesn&#39;t exist after revision 173594=
6&quot; I should have looked at 1735947, not 1735946 (</div><div class=3D"g=
mail_extra"><br></div><div class=3D"gmail_extra">Thanks!!!<br clear=3D"all"=
><div><br></div>-- <br><div class=3D"gmail_signature"><div dir=3D"ltr">Born=
 in Roswell... married an alien...<br><a href=3D"http://emptyhammock.com/" =
target=3D"_blank">http://emptyhammock.com/</a><div><br></div></div></div>
</div></div>

--001a113f95721fd347052e8e6d9d--

From dev-return-85959-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 13:59:24 2016
Return-Path: <dev-return-85959-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0BBD119593
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 13:59:24 +0000 (UTC)
Received: (qmail 52060 invoked by uid 500); 21 Mar 2016 13:59:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51989 invoked by uid 500); 21 Mar 2016 13:59:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51979 invoked by uid 99); 21 Mar 2016 13:59:23 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 13:59:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id BDFE9C3B83
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 13:59:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.561
X-Spam-Level: **
X-Spam-Status: No, score=2.561 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_BL=0.01, RCVD_IN_MSPIKE_L3=1.899, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id QjFNertHq2YJ for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 13:59:22 +0000 (UTC)
Received: from resqmta-po-11v.sys.comcast.net (resqmta-po-11v.sys.comcast.net [96.114.154.170])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 944F15F39A
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 13:59:21 +0000 (UTC)
Received: from resomta-po-20v.sys.comcast.net ([96.114.154.244])
	by resqmta-po-11v.sys.comcast.net with comcast
	id YdyD1s0015Geu2801dzEUV; Mon, 21 Mar 2016 13:59:14 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-20v.sys.comcast.net with comcast
	id YdzD1s0072U0RYt01dzDjv; Mon, 21 Mar 2016 13:59:14 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56EBBE04.9020202@redhat.com>
Date: Mon, 21 Mar 2016 09:59:13 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <5B4B545B-0795-4920-8994-AEC67CAF6255@jaguNET.com>
References: <56DD68E5.2040309@redhat.com> <3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com> <56DDDC53.1060103@redhat.com> <CACsi253rUFf7zY=F3EJrRGJTWUSckV590ypunAcUvkFLVMDmfQ@mail.gmail.com> <CAGBAQ47FRpVRV7ymht-weDRmPwNW0yA94cxQXFAOM_Ns=HteCg@mail.gmail.com> <CACsi2507SbFCA4zG-EJca81MGzBwOsL_gjA4_GeecEi+=n9GBQ@mail.gmail.com> <56DE8D43.40505@redhat.com> <CAKQ1sVMXnU0wkLeDWfdvcfTBNaZqw_SgJpgM9LiCN2iyzKv8hg@mail.gmail.com> <CAKQ1sVOaVLX=jg-V6vZ1A-8XFRt4xHse_+FbHyZ-eQ5SChQKfA@mail.gmail.com> <56DEACC7.3080007@redhat.com> <56EBBE04.9020202@redhat.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458568754;
	bh=o2o/yae0QsdyTViprBGiCGCFDSj/Jln3d694S0g28v8=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=qA1xvxsxFV1cV0QsL//EBOqIBdW90osDG3ak2NDSawulO79ZhpqcYyqa0GYZw+Zoa
	 GNJE4OtroyIN7j3cfWiumiivuJwGU4Zi+faSmh0fNvZ2EGNPfL3JWQfjqgsUVpU77o
	 nYXNTf1r07KXe64OKbjyX4zmq1JVvU1q+nmrBaBp20W29y+zBAy3L4O8dlVN2kdrcN
	 EEiu9ic6MtsJDXhrUcPWEqMv9N+ueVS10ZJnEXKLLniRJamI4p495mSPyT4wgCL06s
	 4SS/8rx8UlyiwIKSs+TF7bc7c2nU/J+kwH1HTPEzdWcoWstVZono4QvSLrEX3T9hFy
	 ZyW0IK4BwWuGQ==

Thx. I'll take a deeper look post 2.4.19 (this week)
> On Mar 18, 2016, at 4:36 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> =
wrote:
>=20
> On 03/08/2016 11:43 AM, Jan Kalu=C5=BEa wrote:
>> On 03/08/2016 10:25 AM, Yann Ylavic wrote:
>>> On Tue, Mar 8, 2016 at 9:46 AM, Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
>>>> On Tue, Mar 8, 2016 at 9:28 AM, Jan Kalu=C5=BEa =
<jkaluza@redhat.com> wrote:
>>>>>=20
>>>>> I have chosen FreeListen over the flags
>>>>=20
>>>> FWIW, should be take the YAD path, I'd prefer ListenFree (over
>>>> FreeListen) to emphasize on the "Listen directive family" with a
>>>> prefix...
>>>=20
>>> Thinking more about this, I think I second Jim on the wish to have a
>>> single Listen directive with some parameter like
>>> "options=3Dfreebind,backlog:4095,reuseport,...".
>>=20
>> Thinking about right syntax for options...
>>=20
>> I would personally like something like "Listen =
[IP-address:]portnumber
>> [protocol] [option1] [option2] ...". Do we have list of supported
>> protocols by Listen directive, or we support whatever protocol is =
there?
>>=20
>> If we have explicit list of protocols, then the protocols itself =
could
>> become an options.
>>=20
>> If not, can it be acceptable, that you always have to define protocol
>> when you wan to use options?
>=20
> I've implemented the way described in that question above ^. Please =
see the attached patch and share your opinions.
>=20
> The syntax to enable IP_FREEBIND currently is:
>=20
> Listen 192.168.0.1:80 http freebind
>=20
> Regards,
> Jan Kaluza
>=20
>>=20
>> Otherwise I can always implement Yann's idea with "Listen
>> [IP-address:]portnumber [protocol] [options=3D[option1,option2,...]]".
>>=20
>> Regards,
>> Jan Kaluza
>>=20
>>=20
>>> We could then whatever (new) IP option more easily (less docs =
work...)
>>> and maybe deprecate ListenBacklog.
>>>=20
>>> For example, the "reuseport" (SO_REUSEPORT) option seem to be usable
>>> w/o the current buckets mechanism in latest linux kernels, so indeed
>>> we may add more and more options there...
>>>=20
>>=20
>=20
> <httpd-trunk-listen-options.patch>


From dev-return-85960-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 14:56:02 2016
Return-Path: <dev-return-85960-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 366AD198A9
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 14:56:02 +0000 (UTC)
Received: (qmail 41613 invoked by uid 500); 21 Mar 2016 14:56:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41543 invoked by uid 500); 21 Mar 2016 14:56:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41533 invoked by uid 99); 21 Mar 2016 14:56:01 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 14:56:01 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 35509C0223
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 14:56:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id D-2HHcxQpjCA for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 14:56:00 +0000 (UTC)
Received: from resqmta-po-09v.sys.comcast.net (resqmta-po-09v.sys.comcast.net [96.114.154.168])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id E54575F245
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 14:55:59 +0000 (UTC)
Received: from resomta-po-09v.sys.comcast.net ([96.114.154.233])
	by resqmta-po-09v.sys.comcast.net with comcast
	id Yevk1s00352QWKC01evt1m; Mon, 21 Mar 2016 14:55:53 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-09v.sys.comcast.net with comcast
	id Yevs1s00L2U0RYt01evsi0; Mon, 21 Mar 2016 14:55:53 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Plan for T&R of 2.4.19
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <FB3F7106-F82F-4718-947B-ED64F0F3358D@jaguNET.com>
Date: Mon, 21 Mar 2016 10:55:52 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <465CEF99-105D-4137-BED3-CDD393ECCFE9@jaguNET.com>
References: <42D0551F-74C9-435B-8C7E-EA9F79FE901A@jaguNET.com> <FB3F7106-F82F-4718-947B-ED64F0F3358D@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458572153;
	bh=qVcrBZZCQOzCFi2zrIWKMsk6KlGfQD+BI3sW7h7SJQs=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=anwpDvPMcdCgbsIB2aZzGSb2JviICRdDnY2UR5DWNy3+8qkn+x1lYl/0MNe9OXDxW
	 cg22NwqMFxFwt0Ujub82dS4lKQrujYX8d+L/T36bAYuxGj+cqIQzE0nu0jW8dF4oWZ
	 LpZbVKW8V4atrnjsR8imKA9RQ54SKMGSkenmSn4SkByCRoZeOjTIkzXeQ158Tlk1vD
	 J/EFlayLde4eHHHyFSZbmoRMzbTsnfYfgf5V/sruudV8uNqHG8Hoh3zsneI7pYttKP
	 OIDOufBqGUBjfBPa72jF+eICLYOULsBQJpntKKvRbM0N9Ko/tO6hS5jciz8supQlCx
	 q7qPha6m3NcBw==

UPDATE: I plan to T&R at ~1pm Eastern.

> On Mar 21, 2016, at 7:31 AM, Jim Jagielski <jim@jaguNET.com> wrote:
> 
> NOTE: I will be tagging and rolling today...
> 
> I expect no significant changes from r1735948.
> 
> Hopefully, we can get 2.4.20 out soonish and include mod_proxy_http2
> and mod_proxy_hcheck.


From dev-return-85961-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 15:40:51 2016
Return-Path: <dev-return-85961-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2996119A80
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 15:40:51 +0000 (UTC)
Received: (qmail 50967 invoked by uid 500); 21 Mar 2016 15:40:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50896 invoked by uid 500); 21 Mar 2016 15:40:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50885 invoked by uid 99); 21 Mar 2016 15:40:48 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 15:40:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E8807C3BE1
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 15:40:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.662
X-Spam-Level: *
X-Spam-Status: No, score=1.662 tagged_above=-999 required=6.31
	tests=[FSL_HELO_BARE_IP_2=1.499, HEADER_FROM_DIFFERENT_DOMAINS=0.001,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_NUMERIC_HELO=0.865,
	RP_MATCHES_RCVD=-0.001, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id j-4v5jRNrZCP for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 15:40:46 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id DF1E05FB2B
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 15:40:45 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1ai1wc-0004eu-Pb
	for dev@httpd.apache.org; Mon, 21 Mar 2016 16:40:38 +0100
Received: from 92.66.168.50 ([92.66.168.50])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Mon, 21 Mar 2016 16:40:38 +0100
Received: from phpdev by 92.66.168.50 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Mon, 21 Mar 2016 16:40:38 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Jan Ehrhardt <phpdev@ehrhardt.nl>
Subject: Re: Plan for T&R of 2.4.19
Date: Mon, 21 Mar 2016 16:40:32 +0100
Lines: 7
Message-ID: <2e50fbpn6icidhkgec77p95tbb63t8ek56@4ax.com>
References: <42D0551F-74C9-435B-8C7E-EA9F79FE901A@jaguNET.com> <FB3F7106-F82F-4718-947B-ED64F0F3358D@jaguNET.com> <465CEF99-105D-4137-BED3-CDD393ECCFE9@jaguNET.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: 92.66.168.50
X-Newsreader: Forte Agent 3.3/32.846

Jim Jagielski in gmane.comp.apache.devel (Mon, 21 Mar 2016 10:55:52
-0400):
>UPDATE: I plan to T&R at ~1pm Eastern.

Will mod_fcgid be part of 2.4.19?

Jan


From dev-return-85962-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 15:46:39 2016
Return-Path: <dev-return-85962-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7517F19ADC
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 15:46:39 +0000 (UTC)
Received: (qmail 71989 invoked by uid 500); 21 Mar 2016 15:46:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71798 invoked by uid 500); 21 Mar 2016 15:46:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71788 invoked by uid 99); 21 Mar 2016 15:46:35 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 15:46:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E4AA3C0223
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 15:46:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id WPfzYEVKQ3zl for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 15:46:32 +0000 (UTC)
Received: from mail-ig0-f179.google.com (mail-ig0-f179.google.com [209.85.213.179])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 0262C5F23A
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 15:46:32 +0000 (UTC)
Received: by mail-ig0-f179.google.com with SMTP id cl4so35172863igb.0
        for <dev@httpd.apache.org>; Mon, 21 Mar 2016 08:46:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=08irkY9ZdTqHnsptzi6aX3lUF7t87qZRp3QWuxsJpeo=;
        b=KwzQGBTV8rpgWkzKzyrBbfiHu0kBZkbNBYDtKRSugIFCbo2pKbuMTwcz3ywI4yVZMN
         Sj/qf43BVVCOKV3+jiyqbaKAUOIdj/dOkwO86RY9WwiocXbBBHeajLRpe/jmcoiWz0Jj
         nI2XdXvzCYiHZmV5ravAAcq58ky4Vgz7/pl+WItcdk1ujKzqD33RFs6oB5lbcyXHJjgJ
         tPY9i4zY/kBBoeOGHClUadhPmWqeL2PYzJdRrEWmMtZytyTciY4dlutft2/yHHitM9zh
         35zkmbbAyXwBMUPznt1PHXg5I+K197XWlFr2RjhBleFaM/DnX0jgrwppKJzzGYV/Og5Y
         Umdg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=08irkY9ZdTqHnsptzi6aX3lUF7t87qZRp3QWuxsJpeo=;
        b=BIk/axK2P8hk9j1+w1NYOoZBp0s8Hp8NdZmuaR01Irls6a1FEooNcYHe7Tp33OQkRI
         E/y8Aj7Il+g2eqmel2d48x1AdQhTnVR3T1u3UTIBhFb+HPcit2y1Z1P2hsnBDx0BB4hz
         MzXa6sVXq6HXHkHiduk85R8HTgdJLHCLjkgfIRca1oA/WX/gzMTsC+MxjsnKR92m4xBM
         5WVLw1iRLNHPkXqK88m3O5j5R2H+pO0NUCi8kKH3gXfMiJ0kUlsVXKlKJtZ4/gMgYtAE
         UTGBxwxo0dvg3Lru83BIUE6/32smMZiaxRcGhCzTM9ING7/B2RGy7axCpjJHW+IAk4E1
         XXrA==
X-Gm-Message-State: AD7BkJJ9J5owsWNL6Te3hKCOo8e7WDZbeqLQrWCvUOqfrG4Ob7vViZ+gsEMfnetbYplj3bUbKIOZuhcr7ejFLA==
MIME-Version: 1.0
X-Received: by 10.50.79.230 with SMTP id m6mr13850918igx.5.1458575191004; Mon,
 21 Mar 2016 08:46:31 -0700 (PDT)
Received: by 10.107.55.7 with HTTP; Mon, 21 Mar 2016 08:46:30 -0700 (PDT)
In-Reply-To: <2e50fbpn6icidhkgec77p95tbb63t8ek56@4ax.com>
References: <42D0551F-74C9-435B-8C7E-EA9F79FE901A@jaguNET.com>
	<FB3F7106-F82F-4718-947B-ED64F0F3358D@jaguNET.com>
	<465CEF99-105D-4137-BED3-CDD393ECCFE9@jaguNET.com>
	<2e50fbpn6icidhkgec77p95tbb63t8ek56@4ax.com>
Date: Mon, 21 Mar 2016 11:46:30 -0400
Message-ID: <CAKUrXK7YzMY2PQsWryo4=SW6jjhk4H+ms8aUrr2P5Ro09eWcpw@mail.gmail.com>
Subject: Re: Plan for T&R of 2.4.19
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e01229aaa238003052e9100e2

--089e01229aaa238003052e9100e2
Content-Type: text/plain; charset=UTF-8

On Mon, Mar 21, 2016 at 11:40 AM, Jan Ehrhardt <phpdev@ehrhardt.nl> wrote:

> Jim Jagielski in gmane.comp.apache.devel (Mon, 21 Mar 2016 10:55:52
> -0400):
> >UPDATE: I plan to T&R at ~1pm Eastern.
>
> Will mod_fcgid be part of 2.4.19?
>
> Jan
>
>
mod_fcgid continues to be a separately-released component.

I just noticed that now there are two unreleased fixes in CHANGES-FCGID.
I'd be excited about doing another mod_fcgid release (first in a long
while) if anyone has time/energy to see if there's any low-hanging fruit to
be addressed first.

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--089e01229aaa238003052e9100e2
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Mar 21, 2016 at 11:40 AM, Jan Ehrhardt <span dir=3D"ltr">&lt;<a href=3D=
"mailto:phpdev@ehrhardt.nl" target=3D"_blank">phpdev@ehrhardt.nl</a>&gt;</s=
pan> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex=
;border-left:1px #ccc solid;padding-left:1ex">Jim Jagielski in gmane.comp.a=
pache.devel (Mon, 21 Mar 2016 10:55:52<br>
-0400):<br>
<span class=3D"">&gt;UPDATE: I plan to T&amp;R at ~1pm Eastern.<br>
<br>
</span>Will mod_fcgid be part of 2.4.19?<br>
<span class=3D"HOEnZb"><font color=3D"#888888"><br>
Jan<br>
<br>
</font></span></blockquote></div><br>mod_fcgid continues to be a separately=
-released component.</div><div class=3D"gmail_extra"><br></div><div class=
=3D"gmail_extra">I just noticed that now there are two unreleased fixes in =
CHANGES-FCGID.=C2=A0 I&#39;d be excited about doing another mod_fcgid relea=
se (first in a long while) if anyone has time/energy to see if there&#39;s =
any low-hanging fruit to be addressed first.<br clear=3D"all"><div><br></di=
v>-- <br><div class=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell...=
 married an alien...<br><a href=3D"http://emptyhammock.com/" target=3D"_bla=
nk">http://emptyhammock.com/</a><div><br></div></div></div>
</div></div>

--089e01229aaa238003052e9100e2--

From dev-return-85963-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 17:22:26 2016
Return-Path: <dev-return-85963-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DBAE018115
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 17:22:26 +0000 (UTC)
Received: (qmail 43477 invoked by uid 500); 21 Mar 2016 17:22:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 43399 invoked by uid 500); 21 Mar 2016 17:22:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 43386 invoked by uid 99); 21 Mar 2016 17:22:26 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 17:22:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1FA79C0D71;
	Mon, 21 Mar 2016 17:22:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id IwzGq34l20C0; Mon, 21 Mar 2016 17:22:23 +0000 (UTC)
Received: from mail-io0-f179.google.com (mail-io0-f179.google.com [209.85.223.179])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 956A95F56F;
	Mon, 21 Mar 2016 17:22:23 +0000 (UTC)
Received: by mail-io0-f179.google.com with SMTP id 124so64951148iov.3;
        Mon, 21 Mar 2016 10:22:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc;
        bh=ZKRzbcsYr0J5/lvxU44zq00lhHUdHV4pWdSUxdFhYO4=;
        b=roweO/WuAmzYVZKOJ2P17bIE/HOnxyrFT/wHdyZ/Gtdm/cvDPBB3is+l38q/t7/5o+
         G4UQ5IZX2lHx0gaife5ly+5Mt+IFlloS/xDn0Nw8TrYjtF4MCfrLKYcHqAFGJ9dgmPfz
         2UIs7DWvTTcYS0k9KKTMLwm3ZGV0QPwCTdVKNxDBJm1Il2z1ewtXYZAoKf4zYY7+qDsW
         fNW49wwaYEIRfJnUsoPrYrwbplneQzXwecLblhMSXH/5WbwgGrMb2PWpaq6kBW8uaeIE
         OnwUEZ2whiXQ3pU5cod2qfmv9AjrvWtTlFhqarlPdEvv8Foq7Q/i6Ad4d54DjVXyl8Ke
         uMjA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc;
        bh=ZKRzbcsYr0J5/lvxU44zq00lhHUdHV4pWdSUxdFhYO4=;
        b=MSK1hzzVqomEwBKgtzJX4r4IiLeb1UiG2fgoVTk25giaHANs9Yy+Z9O5c222cYJ8B5
         +hayYKhyH4RO0Ox+hDnz106n96kFpFBetLpQV5jtx2RA8LhAfvxVq8+WmtCDEDylzF0z
         KeQrb/CBpXgbLb/z1j3tXdiEOlWhYF9K0lWAMkbPP0EwaW7oG+4hZiQ8Bv0IvpeES9nW
         Y3an+0w6qECGgTEK0ISKAS1p06sSHlUm43HZHPRsstgOpzWIkQ8htPoQMzGYhJslmkK7
         ZxJOPfvvhJ/wQFUhhqaqTA5dcLRjvMpR99QL4lI8oTMkSJH2vQK2ME9VMhBSMundMi32
         8fIw==
X-Gm-Message-State: AD7BkJICrXKAtBlrpxNV2dx5rROpktC10vAfkj+3fEjVJg+ZuD9xK3Q4msLLwvmzplNu39N0t9/AvYCzMh/7gA==
MIME-Version: 1.0
X-Received: by 10.107.10.86 with SMTP id u83mr27280930ioi.158.1458580942876;
 Mon, 21 Mar 2016 10:22:22 -0700 (PDT)
Received: by 10.107.55.7 with HTTP; Mon, 21 Mar 2016 10:22:22 -0700 (PDT)
In-Reply-To: <20160321171953.A2B1F3A0314@svn01-us-west.apache.org>
References: <20160321171953.A2B1F3A0314@svn01-us-west.apache.org>
Date: Mon, 21 Mar 2016 13:22:22 -0400
Message-ID: <CAKUrXK64+_hDz+ZeWGMwtDBtu69+kZJPQNoq-9BHN_WpZZQ+2A@mail.gmail.com>
Subject: Re: svn commit: r1736070 - /httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl_openssl.h
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Cc: cvs@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a113ee32af9f80c052e9256da

--001a113ee32af9f80c052e9256da
Content-Type: text/plain; charset=UTF-8

On Mon, Mar 21, 2016 at 1:19 PM, <jim@apache.org> wrote:

> Author: jim
> Date: Mon Mar 21 17:19:53 2016
> New Revision: 1736070
>
> URL: http://svn.apache.org/viewvc?rev=1736070&view=rev
> Log:
> ??
>
> Removed:
>     httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl_openssl.h
>
>
Something weird is happening in your tree ;)  This file is required.

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a113ee32af9f80c052e9256da
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Mar 21, 2016 at 1:19 PM,  <span dir=3D"ltr">&lt;<a href=3D"mailto:jim@a=
pache.org" target=3D"_blank">jim@apache.org</a>&gt;</span> wrote:<br><block=
quote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc=
 solid;padding-left:1ex">Author: jim<br>
Date: Mon Mar 21 17:19:53 2016<br>
New Revision: 1736070<br>
<br>
URL: <a href=3D"http://svn.apache.org/viewvc?rev=3D1736070&amp;view=3Drev" =
rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc?rev=3D173=
6070&amp;view=3Drev</a><br>
Log:<br>
??<br>
<br>
Removed:<br>
=C2=A0 =C2=A0 httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl_openssl.h<br>
<br>
</blockquote></div><br>Something weird is happening in your tree ;) =C2=A0T=
his file is required.</div><div class=3D"gmail_extra"><div><br></div>-- <br=
><div class=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married=
 an alien...<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http=
://emptyhammock.com/</a><div><br></div></div></div>
</div></div>

--001a113ee32af9f80c052e9256da--

From dev-return-85964-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 17:33:15 2016
Return-Path: <dev-return-85964-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 29009181C5
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 17:33:15 +0000 (UTC)
Received: (qmail 85444 invoked by uid 500); 21 Mar 2016 17:33:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85366 invoked by uid 500); 21 Mar 2016 17:33:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85356 invoked by uid 99); 21 Mar 2016 17:33:14 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 17:33:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 3CD0118046D
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 17:33:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id O-HTwgtdlnO3 for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 17:33:13 +0000 (UTC)
Received: from resqmta-po-09v.sys.comcast.net (resqmta-po-09v.sys.comcast.net [96.114.154.168])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 354545F56F
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 17:33:12 +0000 (UTC)
Received: from resomta-po-07v.sys.comcast.net ([96.114.154.231])
	by resqmta-po-09v.sys.comcast.net with comcast
	id YhYE1s0034zp9eg01hZ6oW; Mon, 21 Mar 2016 17:33:06 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-07v.sys.comcast.net with comcast
	id YhZ51s0052U0RYt01hZ5SE; Mon, 21 Mar 2016 17:33:06 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1736070 - /httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl_openssl.h
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKUrXK64+_hDz+ZeWGMwtDBtu69+kZJPQNoq-9BHN_WpZZQ+2A@mail.gmail.com>
Date: Mon, 21 Mar 2016 13:33:05 -0400
Cc: cvs@httpd.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <B52A72C9-BEB3-4B77-9BF6-03DD055C80AF@jaguNET.com>
References: <20160321171953.A2B1F3A0314@svn01-us-west.apache.org> <CAKUrXK64+_hDz+ZeWGMwtDBtu69+kZJPQNoq-9BHN_WpZZQ+2A@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458581586;
	bh=2PJsxtJ6L00BgEEqAwESpWlMyDjiRgNqYFZN+JvVzzM=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=JoidRzTC8OaF26a/nsw7Q6YjjLtT8D50mUgpg5NiX2nZEJHq8AxHQ2nhVzo7UND3S
	 lcrKcmrUax8ZVohXlZVSKfHlnn/9eu8ho0mG0YjS/QCHpIKW+eIZ21j64kaJZGp/Su
	 Wvo5wJlq/2RRlT92Vs7i4UfwLzYgPhCyKdBaDWO4/OnVxWku1Wf7U0mhzu1xU5KriE
	 baFPkMk3SA5nYwtOkfPKZZ8tMYbPjr9o4wGPQLbZ7AJ34fOkL58dx5W+u41kDMaNh6
	 j3zvy90J1Guag8XWbtZxL+qzymY1xFv5v76VrIdftKlp/WiK7cQrc4k9XNaF1BIehe
	 7Ay7yNIjbcLaA==

Yeah... it disappeared and then returned but svn had it as deleted
and all kinds of weird stuff.
> On Mar 21, 2016, at 1:22 PM, Jeff Trawick <trawick@gmail.com> wrote:
> 
> On Mon, Mar 21, 2016 at 1:19 PM, <jim@apache.org> wrote:
> Author: jim
> Date: Mon Mar 21 17:19:53 2016
> New Revision: 1736070
> 
> URL: http://svn.apache.org/viewvc?rev=1736070&view=rev
> Log:
> ??
> 
> Removed:
>     httpd/httpd/branches/2.4.x/modules/ssl/mod_ssl_openssl.h
> 
> 
> Something weird is happening in your tree ;)  This file is required.
> 
> -- 
> Born in Roswell... married an alien...
> http://emptyhammock.com/
> 


From dev-return-85965-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 17:37:50 2016
Return-Path: <dev-return-85965-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AB15C18210
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 17:37:50 +0000 (UTC)
Received: (qmail 207 invoked by uid 500); 21 Mar 2016 17:37:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 132 invoked by uid 500); 21 Mar 2016 17:37:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 122 invoked by uid 99); 21 Mar 2016 17:37:50 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 17:37:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id B9630C0D71
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 17:37:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id jxWO1JFTPasY for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 17:37:49 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 91C9D5F1F3
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 17:37:48 +0000 (UTC)
Received: from resomta-po-20v.sys.comcast.net ([96.114.154.244])
	by resqmta-po-05v.sys.comcast.net with comcast
	id Yhcz1s0015Geu2801hdhB7; Mon, 21 Mar 2016 17:37:41 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-20v.sys.comcast.net with comcast
	id Yhdg1s00X2U0RYt01hdhFa; Mon, 21 Mar 2016 17:37:41 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Reply-To: dev@httpd.apache.org
Subject: [VOTE] Release Apache httpd 2.4.19 as GA
Date: Mon, 21 Mar 2016 13:37:40 -0400
Message-Id: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458581861;
	bh=kAgzmpa89I0JgvDY/B54lMJQ5i4ZrKUTUUMqkAVNXjg=;
	h=Received:Received:From:Content-Type:Reply-To:Subject:Date:
	 Message-Id:To:Mime-Version;
	b=psSkYHbEa7CxZ8JU8rawhtO9MtPvdFym2EwJrkYzhBA27qt6GiDTVwvatZPVn9+GF
	 n76S/nksXfF12rSFXBdFIjcJeq1Wclp+83fTYohAdCp/LHTQsQ5Y6E+E3iUSnLjhCv
	 WUDHwXfub5EjqhJxL7xLgftVdEwxy8Vnc42+83dZeifIQ1U0/Qp3BzJ//SZUcmmjeY
	 yaTTnQRviIKkTJA8QIVvsWigkX8AaSUxo39Bqqfpl3MRKqtIOjZn53/mxqn+CuIQQ5
	 2oZubRj5Z6aDwzRb+9VLBWHSmj1wr7u6UUDDTqeJJTDmWJont9oIP5l9HiHpvkYkbU
	 sb6MTRe3DTKFw==

The pre-release test tarballs for Apache httpd 2.4.19 can be found
at the usual place:

	http://httpd.apache.org/dev/dist/

I'm calling a VOTE on releasing these as Apache httpd 2.4.19 GA.

[ ] +1: Good to go
[ ] +0: meh
[ ] -1: Danger Will Robinson. And why.

Vote will last the normal 72 hrs.

NOTE: The *-deps are only there for convenience.

Thx!

From dev-return-85966-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 21 22:08:56 2016
Return-Path: <dev-return-85966-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 45A14195FB
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Mar 2016 22:08:56 +0000 (UTC)
Received: (qmail 30716 invoked by uid 500); 21 Mar 2016 22:08:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30620 invoked by uid 500); 21 Mar 2016 22:08:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30610 invoked by uid 99); 21 Mar 2016 22:08:55 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Mar 2016 22:08:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E96AAC63FE
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 22:08:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id JDJ8ASLh7nrm for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 22:08:53 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id E05E65F246
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 22:08:52 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id EB7802054E
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 23:08:44 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id GVkxSDv3_b14 for <dev@httpd.apache.org>;
	Mon, 21 Mar 2016 23:08:44 +0100 (CET)
Received: from [10.0.0.1] (CPE-121-217-47-81.lnse1.cht.bigpond.net.au [121.217.47.81])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 865BC20184
	for <dev@httpd.apache.org>; Mon, 21 Mar 2016 23:08:43 +0100 (CET)
Subject: Re: httpd-trunk proxy_http2 NetWare build wants extra sym.
To: dev@httpd.apache.org
References: <56EB2592.3040205@gknw.net>
 <BD2E48F2-D3C7-4D11-8573-48BC5A8AEB81@greenbytes.de>
From: NormW <normw@gknw.net>
Message-ID: <56F070E2.7050806@gknw.net>
Date: Tue, 22 Mar 2016 09:08:34 +1100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.5.1
MIME-Version: 1.0
In-Reply-To: <BD2E48F2-D3C7-4D11-8573-48BC5A8AEB81@greenbytes.de>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit

Thx.
Trunk and 2.4.x now both build without issue.
Norm

On 21/03/2016 8:00 PM, Stefan Eissing wrote:
> Applied in 1735928.
>
>> Am 17.03.2016 um 22:45 schrieb NormW <normw@gknw.net>:
>>
>> G/M,
>> A recent addition to trunk mod_proxy_http2 needs an additional export from hghttp2 lib, thus:
>>
>>> Index: modules/http2/NWGNUmod_http2
>>> ===================================================================
>>> --- modules/http2/NWGNUmod_http2	(revision 1735506)
>>> +++ modules/http2/NWGNUmod_http2	(working copy)
>>> @@ -391,6 +391,7 @@
>>> 	@echo $(DL) nghttp2_session_callbacks_set_send_callback,$(DL) >> $@
>>> 	@echo $(DL) nghttp2_session_client_new2,$(DL) >> $@
>>> 	@echo $(DL) nghttp2_session_consume,$(DL) >> $@
>>> +	@echo $(DL) nghttp2_session_consume_connection,$(DL) >> $@
>>> 	@echo $(DL) nghttp2_session_del,$(DL) >> $@
>>> 	@echo $(DL) nghttp2_session_get_remote_settings,$(DL) >> $@
>>> 	@echo $(DL) nghttp2_session_get_stream_user_data,$(DL) >> $@
>>
>> Excuse the noise.
>> Norm
>> <http2_proxy_wants_xtra_exp.diff>
>


From dev-return-85967-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 01:49:30 2016
Return-Path: <dev-return-85967-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5BA34182F2
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 01:49:30 +0000 (UTC)
Received: (qmail 34029 invoked by uid 500); 22 Mar 2016 01:49:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33948 invoked by uid 500); 22 Mar 2016 01:49:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33938 invoked by uid 99); 22 Mar 2016 01:49:28 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 01:49:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 1FB2B1A0058
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 01:49:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.702
X-Spam-Level:
X-Spam-Status: No, score=-0.702 tagged_above=-999 required=6.31
	tests=[HEADER_FROM_DIFFERENT_DOMAINS=0.001, RCVD_IN_DNSWL_LOW=-0.7,
	RP_MATCHES_RCVD=-0.001, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id wYz_FuqTegPm for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 01:49:23 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 52C655F246
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 01:49:23 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1aiBRb-0006Wr-7E
	for dev@httpd.apache.org; Tue, 22 Mar 2016 02:49:15 +0100
Received: from 227-116.citynet.ftth.internl.net ([85.223.116.227])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 02:49:15 +0100
Received: from phpdev by 227-116.citynet.ftth.internl.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 02:49:15 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Jan Ehrhardt <phpdev@ehrhardt.nl>
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
Date: Tue, 22 Mar 2016 02:49:01 +0100
Lines: 23
Message-ID: <uo81fblvp6cqaehjcp6kvus24ob1u960bj@4ax.com>
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: 227-116.citynet.ftth.internl.net
X-Newsreader: Forte Agent 3.3/32.846

Jim Jagielski in gmane.comp.apache.devel (Mon, 21 Mar 2016 13:37:40
-0400):
>[x] +0: meh

mod_http2.so will not build 'out of the box' on Windows, because
mod_http2.dsp is missing

# Begin Source File

SOURCE=./h2_ngn_shed.c
# End Source File

This leads to build errors like:

1>h2_mplx.obj : error LNK2019: unresolved external symbol
_h2_ngn_shed_done_task referenced in function _h2_mplx_req_engine_done
1>.\Release\mod_http2.so : fatal error LNK1120: 12 unresolved externals

Moreover, it is confusing that this mod_http2 has version 1.2.8, but is
different from the v1.2.8 release at
https://github.com/icing/mod_h2/releases

Jan


From dev-return-85968-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 07:22:47 2016
Return-Path: <dev-return-85968-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3858518FE3
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 07:22:47 +0000 (UTC)
Received: (qmail 95067 invoked by uid 500); 22 Mar 2016 07:22:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95001 invoked by uid 500); 22 Mar 2016 07:22:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94991 invoked by uid 99); 22 Mar 2016 07:22:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 07:22:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 57EB3C0A64
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 07:22:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.301
X-Spam-Level:
X-Spam-Status: No, score=-2.301 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.001,
	SPF_PASS=-0.001, UNPARSEABLE_RELAY=0.001] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id rk7NDWMa8qlh for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 07:22:40 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [27.33.160.23])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id ABFA25F479
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 07:22:38 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [10.10.0.10])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.ausics.net (Postfix) with ESMTPSA id C4A8CC0E06C
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 17:22:27 +1000 (AEST)
Received: from 5gz1KPFQReBSYBZgpC50XwxabMTihdLJu8RyWlBo+lc=
 (LO6vlsjD5jta3VgY+YJznurB19VphOp3)
 by mail.ausics.net
 with HTTP (HTTP/1.1 POST); Tue, 22 Mar 2016 17:22:27 +1000
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII;
 format=flowed
Content-Transfer-Encoding: 7bit
Date: Tue, 22 Mar 2016 17:22:27 +1000
From: Noel Butler <noel.butler@ausics.net>
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
In-Reply-To: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
Message-ID: <c735be53a5f3f26d8076b519e9b2184d@ausics.net>
X-Sender: noel.butler@ausics.net
User-Agent: Roundcube Webmail

On 22/03/2016 03:37, Jim Jagielski wrote:
> The pre-release test tarballs for Apache httpd 2.4.19 can be found
> at the usual place:
> 
> 	http://httpd.apache.org/dev/dist/
> 
> I'm calling a VOTE on releasing these as Apache httpd 2.4.19 GA.
> 
> [x ] +1: Good to go
> [ ] +0: meh
> [ ] -1: Danger Will Robinson. And why.


Slackware 13.37/14.0/14.1/-current
built with mysql, included APR/APR-Util and ssl



-- 
If you have the urge to reply to all rather than reply to list, you best
first read  http://members.ausics.net/qwerty/

From dev-return-85969-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 09:00:25 2016
Return-Path: <dev-return-85969-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 66D7719941
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 09:00:25 +0000 (UTC)
Received: (qmail 807 invoked by uid 500); 22 Mar 2016 09:00:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 742 invoked by uid 500); 22 Mar 2016 09:00:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 732 invoked by uid 99); 22 Mar 2016 09:00:24 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 09:00:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id CD9E31A02A1
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 09:00:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=oGXMgtyV;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=IpAkshhu
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 1GgDE648QaPz for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 09:00:19 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 0602B5F252
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 09:00:19 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 237DA15A0606; Tue, 22 Mar 2016 10:00:18 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458637218; bh=1FPB22BckYojQzuD1LBthI3cVLxdaIsUfbKJxZ5jpfI=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=oGXMgtyVJACyoga2XiJVSr6pXnATuKqjCVtgE/+u6+NhAuY9BFoMaAURD/HrcTtPs
	 /VHWie6E1uQw+Ci3iAf/ebIKLFhve/yEfOcriX3qMMFU0MVaAE6+4ZAcopD0FTXQHU
	 +ZfFRDLHnSQbtgKG8+mFSdYOVTtb2VxMHBcTeQvE=
Received: from [192.168.1.42] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 70A9A15A0396
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 10:00:14 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458637214; bh=1FPB22BckYojQzuD1LBthI3cVLxdaIsUfbKJxZ5jpfI=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=IpAkshhuCe7LLWnveLmc+7Fc62jXrVmHAf+gHQzzJ6G701hWDPEndtqntlONn9G6o
	 ZGCP5bQQmO6N+50vnUlKzq5xlcIGpEJLKkV6uDqwUqSD3oMhhqDAUHrYzc2TnhP7pz
	 EYmttO2wABMeIvB0Gd+URDtaLZlBTBl0QyEOcUu8=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <uo81fblvp6cqaehjcp6kvus24ob1u960bj@4ax.com>
Date: Tue, 22 Mar 2016 10:00:16 +0100
Content-Transfer-Encoding: 7bit
Message-Id: <35F6E39C-03A2-4D1E-9285-63984E7A55A1@greenbytes.de>
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com> <uo81fblvp6cqaehjcp6kvus24ob1u960bj@4ax.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)


> Am 22.03.2016 um 02:49 schrieb Jan Ehrhardt <phpdev@ehrhardt.nl>:
> 
> Jim Jagielski in gmane.comp.apache.devel (Mon, 21 Mar 2016 13:37:40
> -0400):
>> [x] +0: meh
> 
> mod_http2.so will not build 'out of the box' on Windows, because
> mod_http2.dsp is missing
> 
> # Begin Source File
> 
> SOURCE=./h2_ngn_shed.c
> # End Source File
> 

This is indeed missing in mod_http2.dsp... :-(

> This leads to build errors like:
> 
> 1>h2_mplx.obj : error LNK2019: unresolved external symbol
> _h2_ngn_shed_done_task referenced in function _h2_mplx_req_engine_done
> 1>.\Release\mod_http2.so : fatal error LNK1120: 12 unresolved externals
> 
> Moreover, it is confusing that this mod_http2 has version 1.2.8, but is
> different from the v1.2.8 release at
> https://github.com/icing/mod_h2/releases

The version in 2.4.19 of mod_http2 is 1.4.4.

-Stefan

From dev-return-85970-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 10:25:13 2016
Return-Path: <dev-return-85970-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DD6A119C63
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 10:25:12 +0000 (UTC)
Received: (qmail 23384 invoked by uid 500); 22 Mar 2016 10:25:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23310 invoked by uid 500); 22 Mar 2016 10:25:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23300 invoked by uid 99); 22 Mar 2016 10:25:12 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 10:25:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id D85F7C059B
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 10:25:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id RQKkWHm29uk6 for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 10:25:10 +0000 (UTC)
Received: from resqmta-po-08v.sys.comcast.net (resqmta-po-08v.sys.comcast.net [96.114.154.167])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 0720E5F2C5
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 10:25:09 +0000 (UTC)
Received: from resomta-po-14v.sys.comcast.net ([96.114.154.238])
	by resqmta-po-08v.sys.comcast.net with comcast
	id YyR21s00258ss0Y01yR2FG; Tue, 22 Mar 2016 10:25:02 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-14v.sys.comcast.net with comcast
	id YyR01s00H2U0RYt01yR1uy; Tue, 22 Mar 2016 10:25:01 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <uo81fblvp6cqaehjcp6kvus24ob1u960bj@4ax.com>
Date: Tue, 22 Mar 2016 06:25:00 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <B25F7A1A-E86D-44B1-9973-D3F52CCD33BE@jaguNET.com>
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com> <uo81fblvp6cqaehjcp6kvus24ob1u960bj@4ax.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458642302;
	bh=tNoP3VHpDYQqGY9oRQXbrvbQHZZaifTX2XxKWobz3n0=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=vHoVXYf6HsnthgRBhJi3tHcpW6sduXisKxEcD3kRZXLUU6Hh8uAHwqM4h2bYIxOqM
	 uXcsZ8ju/zkKp1FD7h8ZI92Kl9Y+sX6x/NpzEZCH0ID4FvKL1N8pmk44oOaecj1G20
	 JNbCP/+8eWz68rlz8+LJmXDBWicDHF/eAnbR5MD3ESLw6BFDWhJY0swMh/LI4YMRhq
	 FTIrrpRzNTxON2mu53sSg8ag3P1P/Dh/Vr6p9nvSJf6MW+Ma5qwYtGLaq3lPje+rbV
	 wfY4hmFxZPdZod915l0oAsr9jb1KqcVOQnMsOFGR/yQwiBjjdtKANjRn6KxyuKkius
	 iHHLZo3VpFqOg==

Ugg, ugg and triple ugg.

I have a mind to recall 2.4.19, but will leave the vote open
to ensure we don't have problems w/ other platforms before
we re-T&R.

> On Mar 21, 2016, at 9:49 PM, Jan Ehrhardt <phpdev@ehrhardt.nl> wrote:
> 
> Jim Jagielski in gmane.comp.apache.devel (Mon, 21 Mar 2016 13:37:40
> -0400):
>> [x] +0: meh
> 
> mod_http2.so will not build 'out of the box' on Windows, because
> mod_http2.dsp is missing
> 
> # Begin Source File
> 
> SOURCE=./h2_ngn_shed.c
> # End Source File
> 
> This leads to build errors like:
> 
> 1>h2_mplx.obj : error LNK2019: unresolved external symbol
> _h2_ngn_shed_done_task referenced in function _h2_mplx_req_engine_done
> 1>.\Release\mod_http2.so : fatal error LNK1120: 12 unresolved externals
> 
> Moreover, it is confusing that this mod_http2 has version 1.2.8, but is
> different from the v1.2.8 release at
> https://github.com/icing/mod_h2/releases
> 
> Jan
> 


From dev-return-85971-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 10:38:42 2016
Return-Path: <dev-return-85971-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F06DC19CD0
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 10:38:42 +0000 (UTC)
Received: (qmail 54652 invoked by uid 500); 22 Mar 2016 10:38:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54587 invoked by uid 500); 22 Mar 2016 10:38:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54575 invoked by uid 99); 22 Mar 2016 10:38:42 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 10:38:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E2FCEC059B
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 10:38:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=A0QiuQoP;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Xe904zF5
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Mk9KoswbPF8j for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 10:38:39 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 0C9115FB0F
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 10:38:39 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 07C5115A08A5; Tue, 22 Mar 2016 11:38:32 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458643112; bh=mq8ELD4m2z6IaW5H5rhHpltSeOPfcEn4VfRrfDyR70U=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=A0QiuQoP2+HaO0TfNzrDCwRfpYmQJ4rYkLM6mt5teLc+FZKQYEhDnazxWoongKD2P
	 p9TA2raWWu5fNcvP8AYgYZmPey+davb4jjr3S9SzHxHvW7XU3tG6f++GiWWIV0k8tO
	 wikTANpi5NMqdTOij1I7Dg9avnvRGCLYTK2BJ3kg=
Received: from [192.168.1.42] (unknown [192.168.1.42])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 62E3F15A0095
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 11:38:31 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458643111; bh=mq8ELD4m2z6IaW5H5rhHpltSeOPfcEn4VfRrfDyR70U=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=Xe904zF5fIBSYjo8Tzy37Xy6N5hWMwwcAG3BfdsGhWJ7y3jv3kSjsDjAmcuvmith0
	 T7XquqrwL/NHIc+hDvfL+77FCQDOPhXsDvHc2b8t+3gJ55UQEycsyxUMd4uoJ8rHW4
	 7M3SjlGBOfbhNnvXoUZl5Jymd31bEvqbJes3tL4k=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <B25F7A1A-E86D-44B1-9973-D3F52CCD33BE@jaguNET.com>
Date: Tue, 22 Mar 2016 11:38:31 +0100
Content-Transfer-Encoding: 7bit
Message-Id: <69E5FC2D-D7D7-49AA-9082-D5D1C0D0582A@greenbytes.de>
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com> <uo81fblvp6cqaehjcp6kvus24ob1u960bj@4ax.com> <B25F7A1A-E86D-44B1-9973-D3F52CCD33BE@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)

Yes, *sad face*.

There was a reason our grandfathers kept everything in one source file...

I added the missing line in trunk and 2.4.x. Jan, are you able
to verify that the current 2.4.x builds for you? Thanks!

-Stefan

> Am 22.03.2016 um 11:25 schrieb Jim Jagielski <jim@jaguNET.com>:
> 
> Ugg, ugg and triple ugg.
> 
> I have a mind to recall 2.4.19, but will leave the vote open
> to ensure we don't have problems w/ other platforms before
> we re-T&R.
> 
>> On Mar 21, 2016, at 9:49 PM, Jan Ehrhardt <phpdev@ehrhardt.nl> wrote:
>> 
>> Jim Jagielski in gmane.comp.apache.devel (Mon, 21 Mar 2016 13:37:40
>> -0400):
>>> [x] +0: meh
>> 
>> mod_http2.so will not build 'out of the box' on Windows, because
>> mod_http2.dsp is missing
>> 
>> # Begin Source File
>> 
>> SOURCE=./h2_ngn_shed.c
>> # End Source File
>> 
>> This leads to build errors like:
>> 
>> 1>h2_mplx.obj : error LNK2019: unresolved external symbol
>> _h2_ngn_shed_done_task referenced in function _h2_mplx_req_engine_done
>> 1>.\Release\mod_http2.so : fatal error LNK1120: 12 unresolved externals
>> 
>> Moreover, it is confusing that this mod_http2 has version 1.2.8, but is
>> different from the v1.2.8 release at
>> https://github.com/icing/mod_h2/releases
>> 
>> Jan
>> 
> 


From dev-return-85972-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 11:17:59 2016
Return-Path: <dev-return-85972-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2079B19DF4
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 11:17:59 +0000 (UTC)
Received: (qmail 23532 invoked by uid 500); 22 Mar 2016 11:17:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23468 invoked by uid 500); 22 Mar 2016 11:17:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23457 invoked by uid 99); 22 Mar 2016 11:17:58 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 11:17:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 3E59D180462
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 11:17:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id JyIHNmj7wGYT for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 11:17:56 +0000 (UTC)
Received: from resqmta-po-07v.sys.comcast.net (resqmta-po-07v.sys.comcast.net [96.114.154.166])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 6C40F5F248
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 11:17:55 +0000 (UTC)
Received: from resomta-po-15v.sys.comcast.net ([96.114.154.239])
	by resqmta-po-07v.sys.comcast.net with comcast
	id YzHX1s00A5AAYLo01zHubf; Tue, 22 Mar 2016 11:17:54 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-15v.sys.comcast.net with comcast
	id YzHt1s0042U0RYt01zHtuJ; Tue, 22 Mar 2016 11:17:53 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Proposed change to mpm_register_socket_callback(): apr_socket_t -> apr_pollfd_t
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <49F9F117-9C1F-4D44-AB02-9505D7614265@sharp.fm>
Date: Tue, 22 Mar 2016 07:17:52 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <AF8F5CC9-7B23-45EF-85B7-CBECB7814BD6@jaguNET.com>
References: <61123A0F-0B90-4DCD-B995-30E961DDCBF3@sharp.fm> <CALK=YjOnyjO0YsZ63rD-rXNPHyHE03owXpWRDP3O+Je=4iNQJg@mail.gmail.com> <F37BF2FE-6E64-4F39-A0E0-7BC959EE543A@sharp.fm> <CALK=YjM-pZysD=DC0jUC+r14BsY9HXoXriO9_NDY8mOVxYqnHg@mail.gmail.com> <DFE8326E-1E4F-47D4-BDA8-5ADE5DAE4161@sharp.fm> <CAKQ1sVPqUBzEg3aNkmbXi6wyv=FKZYPEN0iOBv_cFeVc8Wng6g@mail.gmail.com> <65C15DDA-BCC2-49F4-B3D7-96B4853F524E@sharp.fm> <CAKQ1sVOQN_t=+=cMciUvKk-LV-f75TyWUb7G8w=gAEiYfDuvnw@mail.gmail.com> <9A01C97A-18EF-49B4-ACE9-84C9290ACD1B@sharp.fm> <CAKQ1sVNzuhgL6HoG64hV71sPJp623iZTEpn6Hyvc7Lh7SNuNMg@mail.gmail.com> <49F9F117-9C1F-4D44-AB02-9505D7614265@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458645474;
	bh=i1tlGT+OYlCzbM+G84tEjmn8fO7CxKCSiIcBumqWt54=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=ZspUAojdKt4z55FhIj2d3ACCxXCssskaKKVARSjy0aI0ImbeRrYCm+wWadpJfCn2k
	 GTVVQeMZ42S/wWMPBULYJ6GDTAx+IzZeQlAiMKT7FeX3JgalQsHJaaPwQIfY9/gR03
	 3+h1Aeq6Gcyz8SiMh2+SLHNB1gLTwUd8X1xEiXAOHE4eLgMOgZNvu5whLVmM0LGmtW
	 8RrDmNRWyHsE2d3o6IJWfhrsPCPaNWQlLV4vsPY/EMHroiRzD4i4h0h4gc0/tZgYcM
	 tEiHR22ig8JvahTmNvMO0Qc9TBjSZUt6OHDZCoQ6snM6ysRZeiecwTwlDiMBVRiHnr
	 BlXXOLq3ah2mA==


> On Mar 15, 2016, at 3:28 PM, Graham Leggett <minfrin@sharp.fm> wrote:
>=20
> The trouble with the above is that because of the pool cleanup we now =
have, pfds[3] needs to live as long as pool p. In your example it does, =
but there is nothing stopping someone trying to allocate pfds[3] on the =
stack and then returning. Later the cleanup is run, and boom - difficult =
to debug crash or weird behaviour.
>=20
> With the array you=E2=80=99re guaranteed the memory is allocated from =
a pool, which means the pool cleanup will always be safe.
>=20
> What we should also do is drop the apr_pool_t *p parameter and read it =
from apr_header_array_t=E2=80=99s pool instead. This will be a further =
check to stop the caller from doing anything pathological, as we =
definitely know the cleanup and the array belong to each other, and our =
API becomes simpler still.
>=20
> Attached patch does this.
>=20

+1


From dev-return-85973-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 11:55:25 2016
Return-Path: <dev-return-85973-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C03DE19F0E
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 11:55:25 +0000 (UTC)
Received: (qmail 9320 invoked by uid 500); 22 Mar 2016 11:55:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 9232 invoked by uid 500); 22 Mar 2016 11:55:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 9222 invoked by uid 99); 22 Mar 2016 11:55:25 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 11:55:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id B6274C059B
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 11:55:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.302
X-Spam-Level:
X-Spam-Status: No, score=-2.302 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id gi_fBvcB6dEX for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 11:55:22 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 53DDB5FB0F
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 11:55:22 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u2MBtFMR024159
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 12:55:15 +0100 (CET)
Subject: Re: svn commit: r1734656 - in /httpd/httpd/trunk: ./ include/
 modules/http/ server/ server/mpm/event/ server/mpm/motorz/ server/mpm/simple/
To: dev@httpd.apache.org
References: <20160312004358.D49B93A0318@svn01-us-west.apache.org>
 <56E67AD7.8000409@apache.org>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56F132A3.1000107@kippdata.de>
Date: Tue, 22 Mar 2016 12:55:15 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.7.0
MIME-Version: 1.0
In-Reply-To: <56E67AD7.8000409@apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 14.03.2016 um 09:48 schrieb Ruediger Pluem:
> On 03/12/2016 01:43 AM, minfrin@apache.org wrote:
>> Author: minfrin
>> Date: Sat Mar 12 00:43:58 2016
>> New Revision: 1734656
>>
>> URL: http://svn.apache.org/viewvc?rev=1734656&view=rev
>> Log:
>> core: Extend support for setting aside data from the network input filter
>> to any connection or request input filter.
>>
>> Modified:
>>      httpd/httpd/trunk/CHANGES
>>      httpd/httpd/trunk/include/ap_mmn.h
>>      httpd/httpd/trunk/include/httpd.h
>>      httpd/httpd/trunk/include/mpm_common.h
>>      httpd/httpd/trunk/include/util_filter.h
>>      httpd/httpd/trunk/modules/http/http_core.c
>>      httpd/httpd/trunk/modules/http/http_request.c
>>      httpd/httpd/trunk/server/core.c
>>      httpd/httpd/trunk/server/core_filters.c
>>      httpd/httpd/trunk/server/mpm/event/event.c
>>      httpd/httpd/trunk/server/mpm/motorz/motorz.c
>>      httpd/httpd/trunk/server/mpm/simple/simple_io.c
>>      httpd/httpd/trunk/server/mpm_common.c
>>      httpd/httpd/trunk/server/util_filter.c
>>
>
>
> This seems to cause frequent (no always) failures with test 8 of t/ssl/proxy.t.

The same here on Solaris 10 Sparc.

> The request times out with a 504 status. So it looks like the "backend" in this request does not respond.
> Used MPM is Event, OS CentOS 6 64 Bit. Without further investigating my closeset guess would be that the changes to
> checkpipeline cause this.

Regards,

Rainer

From dev-return-85974-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 12:02:41 2016
Return-Path: <dev-return-85974-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 05DEC19F87
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 12:02:41 +0000 (UTC)
Received: (qmail 29443 invoked by uid 500); 22 Mar 2016 12:02:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29364 invoked by uid 500); 22 Mar 2016 12:02:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29354 invoked by uid 99); 22 Mar 2016 12:02:35 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 12:02:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1B0A718021D
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 12:02:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.265
X-Spam-Level: *
X-Spam-Status: No, score=1.265 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-0.001, RCVD_IN_SORBS_WEB=0.614, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id tRXDWZlCgiNl for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 12:02:33 +0000 (UTC)
Received: from resqmta-po-03v.sys.comcast.net (resqmta-po-03v.sys.comcast.net [96.114.154.162])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 26C605FAD8
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 12:02:32 +0000 (UTC)
Received: from resomta-po-20v.sys.comcast.net ([96.114.154.244])
	by resqmta-po-03v.sys.comcast.net with comcast
	id Z0231s0035Geu280102ReY; Tue, 22 Mar 2016 12:02:25 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-20v.sys.comcast.net with comcast
	id Z02P1s00J2U0RYt0102QFZ; Tue, 22 Mar 2016 12:02:25 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: svn commit: r1734656 - in /httpd/httpd/trunk: ./ include/ modules/http/ server/ server/mpm/event/ server/mpm/motorz/ server/mpm/simple/
From: Jim Jagielski <jim@jaguNET.com>
X-Priority: 1
In-Reply-To: <CAKQ1sVPLvXdoGBb1OVWG8y=3EvDX9mOZA+=JQkt1v=r1vvy62Q@mail.gmail.com>
Date: Tue, 22 Mar 2016 08:02:23 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <BB8AA580-F3EF-431B-AAC0-7B98A99329B2@jaguNET.com>
References: <20160312004358.D49B93A0318@svn01-us-west.apache.org> <56E67AD7.8000409@apache.org> <59EA6159-7BA9-4721-9AAE-064D42055275@sharp.fm> <CAKQ1sVPLvXdoGBb1OVWG8y=3EvDX9mOZA+=JQkt1v=r1vvy62Q@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458648145;
	bh=+PSUwyc1USImvVChH31lPeH7iZNqeP5zgvu90vDYXWQ=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=sL/4hGM5aU2G4reVZ3gfpcv8GmEkp4dyqiFRSfElFJZgFxX9RaIgw0eZtwQM01Cb6
	 gQEbdGGgkX2E3bsyXMp12LYAHFcziaCEBrC8iArxpzaKkMgjelshu1v8vuM+wdK2CG
	 00zKxX8H3gdJAOkGWMAWHdIUxB2lHVHLMpdAjpQDegyxEugC8Pq9NE+TAUWZCzH1k4
	 a5rRGcIHqxd8STwFR32SD2If+AVnMp5K4HA+F00ta3b0oRny/IoGxkMoT8Ln20MOhi
	 HR05FYP+4Zh1VlrRMc56slPOnUMmV2+V5HNrSIeFG+SfVm8arygpbPzmwhkmf6Y4gN
	 wnVLiQYM+DXkQ==

Well, we gotta do something. This is a significant breakage.

> On Mar 15, 2016, at 4:29 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>=20
> On Tue, Mar 15, 2016 at 12:42 AM, Graham Leggett <minfrin@sharp.fm> =
wrote:
>> On 14 Mar 2016, at 10:48 AM, Ruediger Pluem <rpluem@apache.org> =
wrote:
>>=20
>>> This seems to cause frequent (no always) failures with test 8 of =
t/ssl/proxy.t.
>>> The request times out with a 504 status. So it looks like the =
"backend" in this request does not respond.
>>> Used MPM is Event, OS CentOS 6 64 Bit. Without further investigating =
my closeset guess would be that the changes to
>>> checkpipeline cause this.
>>=20
>> I commented out check_pipeline() completely, and it passed all the =
tests.
>>=20
>> Looking at check_pipeline, it seems to try and eat trailing CRLFs, =
which is duplicating the functionality in read_request_line() which eats =
preceding CRLFs already.
>>=20
>> check_pipeline() seems to have been overhauled recently, not sure =
what problem it is trying to solve. Can we remove it?
>=20
> No we can't, or at least we need to eat the trailing CRLFs.
> Otherwise they will be considered as a pipelined request, thus if no
> request is really following, we will block in read_request_line(), w/o
> FLUSHing the previous response.
> For mpm event, that also causes a spurious wake up (defeating
> non-blocking since read_request_line() is/was? blocking).
>=20
> But maybe your recent changes could avoid this, dunno, at least we
> need to flush when there is no real pipelined request already there
> (after the CRLFs).
>=20
> Regards,
> Yann.


From dev-return-85975-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 15:18:22 2016
Return-Path: <dev-return-85975-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 328D51890A
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 15:18:22 +0000 (UTC)
Received: (qmail 40488 invoked by uid 500); 22 Mar 2016 15:18:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 40411 invoked by uid 500); 22 Mar 2016 15:18:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 40401 invoked by uid 99); 22 Mar 2016 15:18:21 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 15:18:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1CDEA180462
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 15:18:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=querna-org.20150623.gappssmtp.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id N3YSUZHVtiVp for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 15:18:19 +0000 (UTC)
Received: from mail-io0-f169.google.com (mail-io0-f169.google.com [209.85.223.169])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 569645FAFE
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 15:18:19 +0000 (UTC)
Received: by mail-io0-f169.google.com with SMTP id m184so246481607iof.1
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 08:18:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=querna-org.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=tISpD/7Q9ayPlS2JbaBO9o+NKw+fZtmxbFP3Z+bEpyM=;
        b=1bEpV7wCPVSD2xLKcgSy01GcGxjqZx5AueOzSqwuenZg6qnNmB1qO/jWxOQmWez+d0
         E+dc0P6O3NVKXZZ2OL18q2oSRmF08p3qkic0L/VVTgOLFvrBYVyDQB4uUwhlJeiRxUpF
         AY082VJd5l3jMQ105iE7x7mW4KiwGFQMhw5KZGGCm31Z5KX+Wz7IJvYpehjqt9Dfy5Nv
         ngrsiq31LZlGoenJnFs4BHGTa2R8V3Tx/F31v6ZLSJGWpvPk7p6CMLNYH5HH/E+I+LJj
         sdRKolwfDuSAiIRzJ/0BLTsS36keAKtRtLtMN9s6hvNIPvQ6ZxFzcLvrSCbLAzcV9nki
         WXJQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=tISpD/7Q9ayPlS2JbaBO9o+NKw+fZtmxbFP3Z+bEpyM=;
        b=OmJMDnEMUH75E/kkVFtmEvs6St5IEVj1QeXRwVPbzEjnzc14++EbvYWOBMk4kheNhq
         ho7LKC88LVFWITX59WojWrGUuRJ7NrTh4zs9xqJO5hQKiyBuVHb4odkh+J6LDS/o4sBg
         NZ9f0t0G3RNe0VfgYHucJFVWKeBrPGf2ilGjBB/MM3mssqVzrltI4YJuvJb0qcVIRrN2
         0rYd+giHr7pe7RjpwnUw2wxPtfFiXbSUm2LHjLEpw2wfILeAK9+fN1zgQnpd64wQSPwb
         XuCgtNPbIzGC27DZ52G+HmosTLjMual9hyGgd0VHQEohINDvp2z19TXYuqSBle6Q4FOy
         CsPg==
X-Gm-Message-State: AD7BkJJu/BkY5XjvRKfAg7ttr7wlkNgcd0tVxIg9Cf/symdnj0gEvTIxKtFH9tGPA3C5vm0SRNmbwxiM/Bpyiw==
MIME-Version: 1.0
X-Received: by 10.107.28.134 with SMTP id c128mr32419904ioc.86.1458659898403;
 Tue, 22 Mar 2016 08:18:18 -0700 (PDT)
Received: by 10.79.38.79 with HTTP; Tue, 22 Mar 2016 08:18:18 -0700 (PDT)
In-Reply-To: <CAKQ1sVNfuWi2Hp_B5ixFa4Tru=znGXwbAAnAwvPa_ygahBng9g@mail.gmail.com>
References: <CAKQ1sVNfuWi2Hp_B5ixFa4Tru=znGXwbAAnAwvPa_ygahBng9g@mail.gmail.com>
Date: Tue, 22 Mar 2016 08:18:18 -0700
Message-ID: <CAMDeyhywhN+sR_=x7SYUPYEKN1aZW6BODVTa9UU13b1xqbmp+g@mail.gmail.com>
Subject: Re: TLS session ticket key (shared) renewal
From: Paul Querna <paul@querna.org>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113ff30c17c077052ea4b971

--001a113ff30c17c077052ea4b971
Content-Type: text/plain; charset=UTF-8

My thought was to add support for either multiple files, or multiple values
in the existing `SSLSessionTicketKeyFile`.  Then add support to decrypt
from any of the known keys, and have a setting (or the first loaded key)
would be used to encrypt all new keys.  This would allow for rotation in a
reasonable manner.

On Fri, Mar 18, 2016 at 6:55 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> Currently this can be done by using a (shared) SSLSessionTicketKeyFile
> and gracefuly restarting httpd instances, but there is room for
> improvements here.
>
> Thoughts?
>

--001a113ff30c17c077052ea4b971
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">My thought was to add support for either multiple files, o=
r multiple values in the existing `<span style=3D"font-size:12.8px">SSLSess=
ionTicketKeyFile`.=C2=A0 Then add support to decrypt from any of the known =
keys, and have a setting (or the first loaded key) would be used to encrypt=
 all new keys.=C2=A0 This would allow for rotation in a reasonable manner.<=
/span></div><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">On Fr=
i, Mar 18, 2016 at 6:55 AM, Yann Ylavic <span dir=3D"ltr">&lt;<a href=3D"ma=
ilto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;</=
span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8e=
x;border-left:1px #ccc solid;padding-left:1ex">Currently this can be done b=
y using a (shared) SSLSessionTicketKeyFile<br>
and gracefuly restarting httpd instances, but there is room for<br>
improvements here.<br>
<br>
Thoughts?<br>
</blockquote></div><br></div>

--001a113ff30c17c077052ea4b971--

From dev-return-85976-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 17:10:50 2016
Return-Path: <dev-return-85976-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 13F0A191A5
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 17:10:50 +0000 (UTC)
Received: (qmail 29048 invoked by uid 500); 22 Mar 2016 17:10:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28974 invoked by uid 500); 22 Mar 2016 17:10:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28964 invoked by uid 99); 22 Mar 2016 17:10:49 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 17:10:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6DD48C1153
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 17:10:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.702
X-Spam-Level:
X-Spam-Status: No, score=-0.702 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id B9Gkl0A7mEVP for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 17:10:48 +0000 (UTC)
Received: from mout.gmx.net (mout.gmx.net [212.227.17.22])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id C21E95F398
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 17:10:47 +0000 (UTC)
Received: from [192.168.100.100] ([87.139.233.65]) by mail.gmx.com (mrgmx102)
 with ESMTPSA (Nemesis) id 0M7UUd-1Zoe0c0LV1-00xKRN for
 <dev@httpd.apache.org>; Tue, 22 Mar 2016 18:10:41 +0100
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
To: dev@httpd.apache.org
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
From: olli hauer <ohauer@gmx.de>
Message-ID: <56F17D72.2010101@gmx.de>
Date: Tue, 22 Mar 2016 18:14:26 +0100
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: 8bit
X-Provags-ID: V03:K0:7XU9NvlmhVX8lldUYyIG6jEWaRnGK7VnEwmCTr7S0WW9oCQlk5a
 u6uVj6VPLZ2RkFwXIdIwsI6+fQBpmgA9qbCvf9k2FI+2SWzoulJsKfYYCS5LgxMVgksc+7Q
 i84lanhoeg5ERagqPId4iEpNAzgdW2XsJRPPFDIpTcxkVUg7YVnje59QZtQhElAx8BMopyF
 klRo+wkT3P1WiIMeinfmQ==
X-UI-Out-Filterresults: notjunk:1;V01:K0:4SHrLo/hkEo=:nCFRAKJJ/UGByST+DyKGsG
 LPi9UXfeTZ7+CTFPG7LqHgoa3qfbaTeyXIOwlRss4CRx/n++ESAmvHRDZi/S/M1f8OUUY1liM
 BM7Zh4981OhVZI79xnNpa9TcTK29bJMXOARz/B2WqV2HedY/l2HCVxYmMc5be3L7dTACU5wWp
 ERpY6GHZwGUEGbDfe2Cjc+Tt2ctqnOTECrCnzNxxw0GhIgJR5gtX3CY0uijFjy71UIcLso56Z
 0Li9hDomrWPVZySbrNvzcvf+TNYaA25v2gTWNA3hJvHOf7z7sOHmIWO42ugOO4kE9Fh9//nNC
 1Z7ezXsEaukdvKCIJF4SYzi6hXhMU43rniXnZrqGrBpDzybJ20PYvBv1SA27EA51SACbBS4eJ
 1L8w/KlzhImLm5jNN7aiTlCpuTV5tX1GA1v+E0YVmBSC1SBWY9GnbvBI9FpPrV4a2H1Pu3kkw
 HV4Nt9gmCWAYTGU4PxgbAAE0uLmd/3eYn1jMkL7K8WVWyk0QT86qM6hwEgxQv7V7Hd5rU90ji
 QnPKX1nuHnFanyswT4L1/SDf7mJ3djC3+SkDu6mESDyhL1yHenl+o9UM8JtEYTMfMRgvAIi6T
 kqTW0tUnlpDf3U4OBl37fOiIHg3rO4hSbSyUsMbryzIrWyx/uGw09mHB7Rx/Hu/NTVFGpDZK+
 3iXiAmgB9nwTtOZpCiBUV0z7lAL69M+EMquhDvnP4BNHGZnMG5c1a+mi3cTS+fl1l2YOtn71c
 FN+M81jKaSNx3jKFmakypXDjrTCvmm7NuVYHPzl/qr1eMoVNBqsMM4u2rR3bh/Z6ChYq2T9Cy
 pvLiJD9

On 2016-03-21 18:37, Jim Jagielski wrote:
> The pre-release test tarballs for Apache httpd 2.4.19 can be found
> at the usual place:
> 
> 	http://httpd.apache.org/dev/dist/
> 
> I'm calling a VOTE on releasing these as Apache httpd 2.4.19 GA.
> 
> [ ] +1: Good to go
> [ ] +0: meh
> [ ] -1: Danger Will Robinson. And why.
> 
> Vote will last the normal 72 hrs.
> 
> NOTE: The *-deps are only there for convenience.
> 
> Thx!
> 

Tested on FreeBSD 10.2 with apr-1.5.2, apr-util-1.5.4, nghttp2-1.8.0
- build against openssl-1.0.2 -> mod_http2 OK
- build against libressl-2.2.6 -> mod_http2 OK

[x] +1: Good to go

-- 
olli

From dev-return-85977-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 17:11:36 2016
Return-Path: <dev-return-85977-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 78F78191B6
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 17:11:36 +0000 (UTC)
Received: (qmail 32123 invoked by uid 500); 22 Mar 2016 17:11:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32065 invoked by uid 500); 22 Mar 2016 17:11:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32055 invoked by uid 99); 22 Mar 2016 17:11:35 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 17:11:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 757031A0146
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 17:11:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 0VlpS6l3ctOU for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 17:11:34 +0000 (UTC)
Received: from mail-qk0-f179.google.com (mail-qk0-f179.google.com [209.85.220.179])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 3AC6F5F245
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 17:11:34 +0000 (UTC)
Received: by mail-qk0-f179.google.com with SMTP id o6so94752411qkc.2
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 10:11:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=SSkEnG/d7YmtDaDQF1nQ8YO/2LcO9MXEOxFsIGC/j0U=;
        b=g5ksJj56RSAuRqwiavgHeoaS357/bcrcAp4hiRA4zUKZTE+CSHTXFHvfU2tI3WudIH
         g4rOpYThCQlixEYu0/cARKuzesi4nC35vvtTsXU87Zck6gWa2aVOnW61cSe9IVY5mOwN
         ImYZ9GfDS7upZawbNeOcnrmuSqtbE4+wURCxgJfupkOBcHkVE9b1NMphDi5X4StbO13S
         C4v4AnlzArNl6N19uZ8I+HIINj3fggAC5p+1OKhN01A6v+WAwzUX88vVq3wazW9KvgCE
         n/5Uq+SAMfTi2pYFzXS3U69P1AMNfhHHMF4Vfxkbsmc50+j7yuIKs6qeY8/baD5QuEFa
         KCOQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=SSkEnG/d7YmtDaDQF1nQ8YO/2LcO9MXEOxFsIGC/j0U=;
        b=Yvtz3W8q68Aqf9qMkQYT5oXN6sZ5igALKCaq59spS9zXh07q+DnerqkTPusCL+UZMS
         C4tXki8sTgdwU0AYzpLp3ZUvdHl7DKNIg6jLVtMhORzck5M0gpO+ZByczuc2foR5XDbA
         erwQVW3r6qfUEgw8dLHN/jjeDafzL+xu6rZB+DizZ1qf8S/AZ/fGE4yqyXffaKrV/yIm
         bSBEWeI6Eja4L0tTv32dBBl+s9abOOm66EegpON3ErO8U+3E0Ms72Xawd9eK6itK1Qn1
         dwzXHOJC0p0PQzODLRZPD7o4i7ruqsLpmnsmayh9eQQ6ipHuz43d52IFJ+X1XoXDWeA2
         E32w==
X-Gm-Message-State: AD7BkJILCaKKxpfS7J8Qe38cyHPL10nLcQIHO2BLiX987eaUYjgYiK616F3i9RbuxK3aUfOYKLkppD+OxlZV7g==
MIME-Version: 1.0
X-Received: by 10.55.71.195 with SMTP id u186mr48458653qka.38.1458666693652;
 Tue, 22 Mar 2016 10:11:33 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Tue, 22 Mar 2016 10:11:33 -0700 (PDT)
In-Reply-To: <BB8AA580-F3EF-431B-AAC0-7B98A99329B2@jaguNET.com>
References: <20160312004358.D49B93A0318@svn01-us-west.apache.org>
	<56E67AD7.8000409@apache.org>
	<59EA6159-7BA9-4721-9AAE-064D42055275@sharp.fm>
	<CAKQ1sVPLvXdoGBb1OVWG8y=3EvDX9mOZA+=JQkt1v=r1vvy62Q@mail.gmail.com>
	<BB8AA580-F3EF-431B-AAC0-7B98A99329B2@jaguNET.com>
Date: Tue, 22 Mar 2016 18:11:33 +0100
Message-ID: <CAKQ1sVOYvcLVz+Tw+N_3n4iuutYT5VbQKc1YtCcMh99vQfqP3w@mail.gmail.com>
Subject: Re: svn commit: r1734656 - in /httpd/httpd/trunk: ./ include/
 modules/http/ server/ server/mpm/event/ server/mpm/motorz/ server/mpm/simple/
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

In r1736216, I tried to restore c->data_in_input_filters usage as
prior to r1734656.
Does it help (or I'll revert)?


On Tue, Mar 22, 2016 at 1:02 PM, Jim Jagielski <jim@jagunet.com> wrote:
> Well, we gotta do something. This is a significant breakage.
>
>> On Mar 15, 2016, at 4:29 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> On Tue, Mar 15, 2016 at 12:42 AM, Graham Leggett <minfrin@sharp.fm> wrote:
>>> On 14 Mar 2016, at 10:48 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>>>
>>>> This seems to cause frequent (no always) failures with test 8 of t/ssl/proxy.t.
>>>> The request times out with a 504 status. So it looks like the "backend" in this request does not respond.
>>>> Used MPM is Event, OS CentOS 6 64 Bit. Without further investigating my closeset guess would be that the changes to
>>>> checkpipeline cause this.
>>>
>>> I commented out check_pipeline() completely, and it passed all the tests.
>>>
>>> Looking at check_pipeline, it seems to try and eat trailing CRLFs, which is duplicating the functionality in read_request_line() which eats preceding CRLFs already.
>>>
>>> check_pipeline() seems to have been overhauled recently, not sure what problem it is trying to solve. Can we remove it?
>>
>> No we can't, or at least we need to eat the trailing CRLFs.
>> Otherwise they will be considered as a pipelined request, thus if no
>> request is really following, we will block in read_request_line(), w/o
>> FLUSHing the previous response.
>> For mpm event, that also causes a spurious wake up (defeating
>> non-blocking since read_request_line() is/was? blocking).
>>
>> But maybe your recent changes could avoid this, dunno, at least we
>> need to flush when there is no real pipelined request already there
>> (after the CRLFs).
>>
>> Regards,
>> Yann.
>

From dev-return-85978-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 17:26:34 2016
Return-Path: <dev-return-85978-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0DA2219293
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 17:26:34 +0000 (UTC)
Received: (qmail 7567 invoked by uid 500); 22 Mar 2016 17:26:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 7500 invoked by uid 500); 22 Mar 2016 17:26:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 7490 invoked by uid 99); 22 Mar 2016 17:26:33 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 17:26:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E4406C0223
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 17:26:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.323
X-Spam-Level:
X-Spam-Status: No, score=-0.323 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=2, RCVD_IN_DNSWL_MED=-2.3,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RP_MATCHES_RCVD=-0.001, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 5hb_boYQuvE9 for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 17:26:29 +0000 (UTC)
Received: from mx1.cpanel.net (mx1.cpanel.net [208.74.121.68])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id DD34F5F238
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 17:26:29 +0000 (UTC)
Received: from ng2.cptxoffice.net ([208.74.121.106]:60853 helo=[10.7.7.38])
	by mx1.cpanel.net with esmtpsa (TLSv1:ECDHE-RSA-AES256-SHA:256)
	(Exim 4.86_1)
	(envelope-from <jacob.perkins@cpanel.net>)
	id 1aiQ4U-0009V6-NS
	for dev@httpd.apache.org; Tue, 22 Mar 2016 12:26:22 -0500
Content-Type: multipart/signed; boundary="Apple-Mail=_C9FF0FEF-B6E6-4B19-A564-7CEEC740156D"; protocol="application/pgp-signature"; micalg=pgp-sha512
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
X-Pgp-Agent: GPGMail 2.6b2
From: Jacob Perkins <jacob.perkins@cpanel.net>
In-Reply-To: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
Date: Tue, 22 Mar 2016 12:26:20 -0500
Message-Id: <C2DCBBB4-B03F-459E-8950-EA38A4222701@cpanel.net>
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - mx1.cpanel.net
X-AntiAbuse: Original Domain - httpd.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - cpanel.net
X-Get-Message-Sender-Via: mx1.cpanel.net: authenticated_id: jacob.perkins@cpanel.net
X-Authenticated-Sender: mx1.cpanel.net: jacob.perkins@cpanel.net


--Apple-Mail=_C9FF0FEF-B6E6-4B19-A564-7CEEC740156D
Content-Type: multipart/alternative;
	boundary="Apple-Mail=_C5D8D7B5-3F07-4756-8B62-BBE96E849E96"


--Apple-Mail=_C5D8D7B5-3F07-4756-8B62-BBE96E849E96
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8

While we're not an official voter, I did want to advise we=E2=80=99ve =
tested this release on our platform and saw no problems with our high =
level tests.

> [X ] +1: Good to go


Tested on CentOS 6 x86_64.
=E2=80=94
Jacob Perkins
Product Owner
cPanel Inc.

jacob.perkins@cpanel.net <mailto:jacob.perkins@cpanel.net>
Office:  713-529-0800 x 4046
Cell:  713-560-8655

> On Mar 21, 2016, at 12:37 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> The pre-release test tarballs for Apache httpd 2.4.19 can be found
> at the usual place:
>=20
> 	http://httpd.apache.org/dev/dist/
>=20
> I'm calling a VOTE on releasing these as Apache httpd 2.4.19 GA.
>=20
> [X ] +1: Good to go
> [ ] +0: meh
> [ ] -1: Danger Will Robinson. And why.
>=20
> Vote will last the normal 72 hrs.
>=20
> NOTE: The *-deps are only there for convenience.
>=20
> Thx!



--Apple-Mail=_C5D8D7B5-3F07-4756-8B62-BBE96E849E96
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html;
	charset=utf-8

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html =
charset=3Dutf-8"></head><body style=3D"word-wrap: break-word; =
-webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" =
class=3D""><div class=3D"">While we're not an official voter, I did want =
to advise we=E2=80=99ve tested this release on our platform and saw no =
problems with our high level tests.&nbsp;</div><div class=3D""><br =
class=3D""><blockquote type=3D"cite" class=3D"">[X ] +1: Good to go<br =
class=3D""></blockquote></div><div class=3D""><br class=3D""></div>Tested =
on CentOS 6 x86_64.<div class=3D""><div class=3D""><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D"">=E2=80=94</div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D"">Jacob Perkins<br class=3D""></div><div =
style=3D"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; =
font-style: normal; font-variant: normal; font-weight: normal; =
letter-spacing: normal; line-height: normal; text-align: -webkit-auto; =
text-indent: 0px; text-transform: none; white-space: normal; =
word-spacing: 0px; -webkit-text-stroke-width: 0px; orphans: 2; widows: =
2; word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D"">Product Owner</div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><b class=3D""><font color=3D"#ff7c00" =
class=3D"">cPanel Inc.</font></b></div><div style=3D"color: rgb(0, 0, =
0); font-family: Helvetica; font-size: 12px; font-style: normal; =
font-variant: normal; font-weight: normal; letter-spacing: normal; =
line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><br class=3D""></div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><a href=3D"mailto:jacob.perkins@cpanel.net"=
 class=3D"">jacob.perkins@cpanel.net</a></div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D"">Office: &nbsp;713-529-0800 =
x&nbsp;4046</div><div style=3D"color: rgb(0, 0, 0); font-family: =
Helvetica; font-size: 12px; font-style: normal; font-variant: normal; =
font-weight: normal; letter-spacing: normal; line-height: normal; =
text-align: -webkit-auto; text-indent: 0px; text-transform: none; =
white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; =
orphans: 2; widows: 2; word-wrap: break-word; -webkit-nbsp-mode: space; =
-webkit-line-break: after-white-space;" class=3D"">Cell: =
&nbsp;713-560-8655</div>
</div>
<br class=3D""><div><blockquote type=3D"cite" class=3D""><div =
class=3D"">On Mar 21, 2016, at 12:37 PM, Jim Jagielski &lt;<a =
href=3D"mailto:jim@jagunet.com" class=3D"">jim@jaguNET.com</a>&gt; =
wrote:</div><br class=3D"Apple-interchange-newline"><div class=3D""><div =
class=3D"">The pre-release test tarballs for Apache httpd 2.4.19 can be =
found<br class=3D"">at the usual place:<br class=3D""><br class=3D""><span=
 class=3D"Apple-tab-span" style=3D"white-space:pre">	</span><a =
href=3D"http://httpd.apache.org/dev/dist/" =
class=3D"">http://httpd.apache.org/dev/dist/</a><br class=3D""><br =
class=3D"">I'm calling a VOTE on releasing these as Apache httpd 2.4.19 =
GA.<br class=3D""><br class=3D"">[X ] +1: Good to go<br class=3D"">[ ] =
+0: meh<br class=3D"">[ ] -1: Danger Will Robinson. And why.<br =
class=3D""><br class=3D"">Vote will last the normal 72 hrs.<br =
class=3D""><br class=3D"">NOTE: The *-deps are only there for =
convenience.<br class=3D""><br class=3D"">Thx!<br =
class=3D""></div></div></blockquote></div><br class=3D""><div =
class=3D""><br class=3D""></div></div></body></html>=

--Apple-Mail=_C5D8D7B5-3F07-4756-8B62-BBE96E849E96--

--Apple-Mail=_C9FF0FEF-B6E6-4B19-A564-7CEEC740156D
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
	filename=signature.asc
Content-Type: application/pgp-signature;
	name=signature.asc
Content-Description: Message signed with OpenPGP using GPGMail

-----BEGIN PGP SIGNATURE-----
Comment: GPGTools - https://gpgtools.org

iQEcBAEBCgAGBQJW8YA9AAoJEIo8JcFLoqwqEx4IAKCjZ9JP0T1FcNtqLlRkc0Kw
yLcECSUoB0QaI2SylTdtnt+G4zLm14JGjWROJXY+A+ogXNq6Cj9okbV4eqnNXFyt
fKAjz9Lr7C/yp/Ninm5APwFJ1tvBZZ6EDsdLH7KUqdRWUb0+sv8gvbMQvyDVokVh
llhaaPX9FRx8Sz2jHraHmlqBuAshpE8SQ8vzDZ7Acp6d3SCm+ZqhOCTmjTC2BjxC
oM+l9OTsQl+z4npjtIM3YlzcKtyhYZ6xxF+CJo4MFPoKlCFxR2JtG4+OdabWdpSB
ET0J6VyOu854bLDFrDoQJeM6U8yNfrHXa+a9JReXMpWg0pSYzD8iFrpGK5nnxe4=
=wUts
-----END PGP SIGNATURE-----

--Apple-Mail=_C9FF0FEF-B6E6-4B19-A564-7CEEC740156D--

From dev-return-85979-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 17:51:33 2016
Return-Path: <dev-return-85979-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 752C91945E
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 17:51:33 +0000 (UTC)
Received: (qmail 38812 invoked by uid 500); 22 Mar 2016 17:51:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38693 invoked by uid 500); 22 Mar 2016 17:51:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38596 invoked by uid 99); 22 Mar 2016 17:51:32 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 17:51:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 1602EC16EC
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 17:51:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.654
X-Spam-Level: *
X-Spam-Status: No, score=1.654 tagged_above=-999 required=6.31
	tests=[FSL_HELO_BARE_IP_2=1.5, HEADER_FROM_DIFFERENT_DOMAINS=0.001,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_NUMERIC_HELO=0.865, SPF_HELO_PASS=-0.001,
	SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id LpdymmL9r_Lg for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 17:51:27 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id A833A5F398
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 17:51:25 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1aiQST-0000kM-C9
	for dev@httpd.apache.org; Tue, 22 Mar 2016 18:51:09 +0100
Received: from 92.66.168.50 ([92.66.168.50])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 18:51:09 +0100
Received: from phpdev by 92.66.168.50 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 18:51:09 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Jan Ehrhardt <phpdev@ehrhardt.nl>
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
Date: Tue, 22 Mar 2016 18:50:53 +0100
Lines: 17
Message-ID: <i513fbpansv9t27us3qmvms53k00fi13tq@4ax.com>
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com> <uo81fblvp6cqaehjcp6kvus24ob1u960bj@4ax.com> <B25F7A1A-E86D-44B1-9973-D3F52CCD33BE@jaguNET.com> <69E5FC2D-D7D7-49AA-9082-D5D1C0D0582A@greenbytes.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: 92.66.168.50
X-Newsreader: Forte Agent 3.3/32.846

Stefan Eissing in gmane.comp.apache.devel (Tue, 22 Mar 2016 11:38:31
+0100):
>I added the missing line in trunk and 2.4.x. Jan, are you able
>to verify that the current 2.4.x builds for you? Thanks!

I did not check the current build, but added the line myself and went
ahead:
https://www.ssllabs.com/ssltest/analyze.html?d=fips.sessiondatabase.net
https://fips.sessiondatabase.net

Server sig: Apache/2.4.19 (Win64) OpenSSL/1.0.2g-fips PHP/5.6.20RC1 (VC11)

There is a VC9 Apache/2.4.19 (Win32) OpenSSL/1.0.2g-fips running as my dev
server on the same machine.
https://tfrtst.sessionportal.net

Jan


From dev-return-85980-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 17:56:07 2016
Return-Path: <dev-return-85980-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 18284194C5
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 17:56:07 +0000 (UTC)
Received: (qmail 53813 invoked by uid 500); 22 Mar 2016 17:56:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53732 invoked by uid 500); 22 Mar 2016 17:56:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53722 invoked by uid 99); 22 Mar 2016 17:56:06 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 17:56:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id D82EBC0223
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 17:56:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.002
X-Spam-Level:
X-Spam-Status: No, score=-0.002 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id n7MT4GxHMwYB for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 17:56:05 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id BE7165FB0F
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 17:56:04 +0000 (UTC)
Received: from [10.105.13.190] (unknown [5.56.169.82])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 6545C822E6
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 17:55:58 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1734656 - in /httpd/httpd/trunk: ./ include/ modules/http/ server/ server/mpm/event/ server/mpm/motorz/ server/mpm/simple/
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <CAKQ1sVOYvcLVz+Tw+N_3n4iuutYT5VbQKc1YtCcMh99vQfqP3w@mail.gmail.com>
Date: Tue, 22 Mar 2016 19:55:57 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <165FC4FD-7AC0-4D2D-B919-FE6883B98FBF@sharp.fm>
References: <20160312004358.D49B93A0318@svn01-us-west.apache.org> <56E67AD7.8000409@apache.org> <59EA6159-7BA9-4721-9AAE-064D42055275@sharp.fm> <CAKQ1sVPLvXdoGBb1OVWG8y=3EvDX9mOZA+=JQkt1v=r1vvy62Q@mail.gmail.com> <BB8AA580-F3EF-431B-AAC0-7B98A99329B2@jaguNET.com> <CAKQ1sVOYvcLVz+Tw+N_3n4iuutYT5VbQKc1YtCcMh99vQfqP3w@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 22 Mar 2016, at 7:11 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> In r1736216, I tried to restore c->data_in_input_filters usage as
> prior to r1734656.
> Does it help (or I'll revert)?

Got caught up in other stuff before I could get to the bottom of this :(

It looks like we need to restore c->data_in_input_filters usage.

What this c->data_in_input_filters does is do a poor man=E2=80=99s =
compensation for input filters that buffer data during this particular =
phase of the request handling without having a mechanism to tell =
anybody. Without telling us they=E2=80=99ve buffered data, we=E2=80=99ve =
got to work out ourselves whether we should loop round and poll for =
read, or not. If we make a mistake, we poll for a read that was already =
read, and we hang.

This is really hit and miss - if you have input filters that buffer data =
in the server you=E2=80=99ll hang, but if you don=E2=80=99t have input =
filters that buffer data in the server you don=E2=80=99t hang and the =
test suite works fine.

When v2.6 comes we must remove c-> data_in_input_filters and use the =
proper mechanism for input filters to signal they have buffered data.

Regards,
Graham
=E2=80=94


From dev-return-85981-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 19:46:49 2016
Return-Path: <dev-return-85981-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8B90419B29
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 19:46:49 +0000 (UTC)
Received: (qmail 25306 invoked by uid 500); 22 Mar 2016 19:46:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25240 invoked by uid 500); 22 Mar 2016 19:46:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25230 invoked by uid 99); 22 Mar 2016 19:46:48 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 19:46:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 4F144C059B
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 19:46:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id BUed_cIXQNaS for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 19:46:46 +0000 (UTC)
Received: from mail-qg0-f51.google.com (mail-qg0-f51.google.com [209.85.192.51])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id B12315F39C
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 19:46:45 +0000 (UTC)
Received: by mail-qg0-f51.google.com with SMTP id u110so187460494qge.3
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 12:46:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=Jb1OThIgIlLzgCiVWF9nmzZbR+x13/qa9A2JhK7TwA0=;
        b=Kxcq7g1a+fGGsPkw2vmR2Z5getusj7sSPd5tIvuOIicfTSMwyQ/O1T+PJ89Trws9KI
         bN+q2UoALUn1yuzTVAtKuraEdkpCzwFMkQInkSd9KIZPOP77ztIOEyWUqP1tWNx5QET2
         6WZQIialaT3CDZxnRMKvGUsiyMuxCMW6C+woyGiJ4MyITRc+O+A9Iu/dyqYkKB4oL/op
         B07UvczgioWRNGmjmu94SQC0cu81jRP9m5jfE0HboECEcg3z2LeSWgkSqw/bsCMBSueW
         hUBWzpsgtLHna2fbFkKPiUm5FJrqc9XxLxDhdt75KdGHEmq8uQvM7n/o+6meM/Phnw3h
         mqUA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=Jb1OThIgIlLzgCiVWF9nmzZbR+x13/qa9A2JhK7TwA0=;
        b=OPbwaesu+ZdXOVZc1wO3INdTnG8AlzEV6nBBOiC7xzvlP1rl9Clqtj09WUKZSQ2ljb
         hZAdetujlwEi3ixghSJzdlK8keajazo4OGcaDqHJXe2TCnrhEy4fdhWqJ1G/zgxQ1Ogy
         EG56DraoPDsDZTd/XXD34pyBlh18vwz+LuQ/cvyXHI/I14S1p8sbWSFb8SnsGBm0gMU2
         gMKj66cb5LLnO77KJdMldyvoYKoMXb71dIoNbLK+3+75ro1r78WRUaObNLtYGNh89VER
         oU8ku+kH9xoXF1+cexOj9eK0gwx5WgLuVCqWbpwFZ9jXL9gqQn4CL+eFftI/iF/w/LOH
         6Qmg==
X-Gm-Message-State: AD7BkJLP9klgJT74/8hfBoAbKnGurZpcFiEzZrM0GPNJjpNQpW2idBC6G4bVMA0pEwmgPBeq8Vqi/pEyyMgaD5+G
MIME-Version: 1.0
X-Received: by 10.140.156.138 with SMTP id c132mr52536214qhc.96.1458675998532;
 Tue, 22 Mar 2016 12:46:38 -0700 (PDT)
Received: by 10.55.154.139 with HTTP; Tue, 22 Mar 2016 12:46:38 -0700 (PDT)
In-Reply-To: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
Date: Tue, 22 Mar 2016 14:46:38 -0500
Message-ID: <CACsi251-bxsaJGnReaU0Q80KYAJNq_tW5UecO-MGKAE7nDRVfg@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11399766bcc03e052ea878cc

--001a11399766bcc03e052ea878cc
Content-Type: text/plain; charset=UTF-8

Note that mod_socache_shmcb.c introduced UINT_MAX without
including limits.h... whoops.

Investigating.

On Mon, Mar 21, 2016 at 12:37 PM, Jim Jagielski <jim@jagunet.com> wrote:

> The pre-release test tarballs for Apache httpd 2.4.19 can be found
> at the usual place:
>
>         http://httpd.apache.org/dev/dist/
>
> I'm calling a VOTE on releasing these as Apache httpd 2.4.19 GA.
>
> [ ] +1: Good to go
> [ ] +0: meh
> [ ] -1: Danger Will Robinson. And why.
>
> Vote will last the normal 72 hrs.
>
> NOTE: The *-deps are only there for convenience.
>
> Thx!
>

--001a11399766bcc03e052ea878cc
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Note that mod_socache_shmcb.c introduced UINT_MAX without<=
div>including limits.h... whoops.</div><div><br></div><div>Investigating.</=
div></div><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">On Mon,=
 Mar 21, 2016 at 12:37 PM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span> wro=
te:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-=
left:1px #ccc solid;padding-left:1ex">The pre-release test tarballs for Apa=
che httpd 2.4.19 can be found<br>
at the usual place:<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 <a href=3D"http://httpd.apache.org/dev/dist/" r=
el=3D"noreferrer" target=3D"_blank">http://httpd.apache.org/dev/dist/</a><b=
r>
<br>
I&#39;m calling a VOTE on releasing these as Apache httpd 2.4.19 GA.<br>
<br>
[ ] +1: Good to go<br>
[ ] +0: meh<br>
[ ] -1: Danger Will Robinson. And why.<br>
<br>
Vote will last the normal 72 hrs.<br>
<br>
NOTE: The *-deps are only there for convenience.<br>
<br>
Thx!<br>
</blockquote></div><br></div>

--001a11399766bcc03e052ea878cc--

From dev-return-85982-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 19:55:41 2016
Return-Path: <dev-return-85982-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A0E819BCB
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 19:55:41 +0000 (UTC)
Received: (qmail 57959 invoked by uid 500); 22 Mar 2016 19:55:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57889 invoked by uid 500); 22 Mar 2016 19:55:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57879 invoked by uid 99); 22 Mar 2016 19:55:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 19:55:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4C273C7042
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 19:55:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id YaYD8VJBIPLi for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 19:55:39 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 7F88E5FAC3
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 19:55:39 +0000 (UTC)
Received: by mail-qg0-f52.google.com with SMTP id u110so187677062qge.3
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 12:55:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=sJorVx9V49xiS40GnvQePhZq1wHHtFonP/BRjyYrJRM=;
        b=TcJ9cmVVhznIa8MzkHJKwd4pOHCXOlu0BRrpln4BP21W8U1SFZYYR2+BFrZ1xJVPxn
         +WumEdPW2QRgA4xS/Em1fLNh1pnGZoCgObW4zZh337+/IeXrsx9wmZB7Llktze9aPSWy
         T9UMuHB3orwaylf53jOJuZK6kBYH7VsmYqlPMLnaAvPQ4LTk7wDVuD8SdiPZP6zK5c9C
         8GRZXqGcOfsrBO8jZ6A0/1Km8hkiK7lBvmaAaMBYW1NU8Nb0hSwH6cr1fap10B1AULd7
         YbnE5fjc+LW8rtWx7+084f6RXsULAbJ63177S2yGHdufVQTuw3ayjCnVfbOo44Xz+NkR
         TDcw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=sJorVx9V49xiS40GnvQePhZq1wHHtFonP/BRjyYrJRM=;
        b=EE4npm7eBPHy89x617CbbYrlJwOpQblWxI3MlQ27X043j6lYURopcNz01xgN9KA6VM
         ogv8KIUZX1MJsjGq5vkmVB1cNRjHEdONSQZCYOZ7iEQ7KkNWWgmZMVAt7O9ifNbwHXKq
         1JLgn10Z3xyRZ9IGdtwXZ1Sg2p6Zqiyo7OchI2qdxXNj6fEjumxedhnmOc1Gk7uuanmb
         FskuvL8DcR2/AkoiKndoV4BnSJhRA96qoQZjLjsY+sv1D/yH0f2mVXfN9By3i/CdTYHG
         O196Gc5pLn1qnz2kvDshQS5/LzVpBBi8U0DKjubCgN2xAyio3MhK7Mvrvbr5VdDlEd+f
         ZuoA==
X-Gm-Message-State: AD7BkJK5GtBBCT6QmSKgJFu3WsilDT/oisBRmkMGoevJscWHQqQbMDPaSzmoE6GwgZaZIeKb7KOlYO8CkEEeLroy
MIME-Version: 1.0
X-Received: by 10.140.107.182 with SMTP id h51mr49220247qgf.53.1458676538800;
 Tue, 22 Mar 2016 12:55:38 -0700 (PDT)
Received: by 10.55.154.139 with HTTP; Tue, 22 Mar 2016 12:55:38 -0700 (PDT)
In-Reply-To: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
Date: Tue, 22 Mar 2016 14:55:38 -0500
Message-ID: <CACsi250dJ=U=L9yY+bAhOADqiwZSneuCr9t1L4D9MozdgKjPkg@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113a6684f05adc052ea8982c

--001a113a6684f05adc052ea8982c
Content-Type: text/plain; charset=UTF-8

Can anyone get mod_lbmethod_rr.c to build?

I'm seeing 'name' : is not a member of 'proxy_balancer' errors,
as well as ap_proxy_retry_worker() undefined (converted into
an optional function, perhaps?)

On Mon, Mar 21, 2016 at 12:37 PM, Jim Jagielski <jim@jagunet.com> wrote:

> The pre-release test tarballs for Apache httpd 2.4.19 can be found
> at the usual place:
>
>         http://httpd.apache.org/dev/dist/
>
> I'm calling a VOTE on releasing these as Apache httpd 2.4.19 GA.
>
> [ ] +1: Good to go
> [ ] +0: meh
> [ ] -1: Danger Will Robinson. And why.
>
> Vote will last the normal 72 hrs.
>
> NOTE: The *-deps are only there for convenience.
>
> Thx!
>

--001a113a6684f05adc052ea8982c
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Can anyone get mod_lbmethod_rr.c to build?<div><br></div><=
div>I&#39;m seeing &#39;name&#39; : is not a member of &#39;proxy_balancer&=
#39; errors,</div><div>as well as ap_proxy_retry_worker() undefined (conver=
ted into</div><div>an optional function, perhaps?)</div></div><div class=3D=
"gmail_extra"><br><div class=3D"gmail_quote">On Mon, Mar 21, 2016 at 12:37 =
PM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=3D"mailto:jim@jagunet.com" =
target=3D"_blank">jim@jagunet.com</a>&gt;</span> wrote:<br><blockquote clas=
s=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;pad=
ding-left:1ex">The pre-release test tarballs for Apache httpd 2.4.19 can be=
 found<br>
at the usual place:<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 <a href=3D"http://httpd.apache.org/dev/dist/" r=
el=3D"noreferrer" target=3D"_blank">http://httpd.apache.org/dev/dist/</a><b=
r>
<br>
I&#39;m calling a VOTE on releasing these as Apache httpd 2.4.19 GA.<br>
<br>
[ ] +1: Good to go<br>
[ ] +0: meh<br>
[ ] -1: Danger Will Robinson. And why.<br>
<br>
Vote will last the normal 72 hrs.<br>
<br>
NOTE: The *-deps are only there for convenience.<br>
<br>
Thx!<br>
</blockquote></div><br></div>

--001a113a6684f05adc052ea8982c--

From dev-return-85983-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 19:57:45 2016
Return-Path: <dev-return-85983-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 923E219BE9
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 19:57:45 +0000 (UTC)
Received: (qmail 69022 invoked by uid 500); 22 Mar 2016 19:57:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68948 invoked by uid 500); 22 Mar 2016 19:57:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68938 invoked by uid 99); 22 Mar 2016 19:57:45 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 19:57:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 842811A0284
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 19:57:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id eY_TFpRH8O2U for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 19:57:43 +0000 (UTC)
Received: from mail-qg0-f45.google.com (mail-qg0-f45.google.com [209.85.192.45])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 7421E5F245
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 19:57:43 +0000 (UTC)
Received: by mail-qg0-f45.google.com with SMTP id y89so188517782qge.2
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 12:57:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=v1hS9kZ39b2NmIrc6Rnfg531EHL2n74KHpDSvLTrbIU=;
        b=k1pEiWv14p036G6GH5GNEbsCpXFM7wc553W1F0xjV4RI0myJoayZr3MxpcdaH0g6FZ
         Vl7kP81cggk25PgvrkAvhWbZS6bfmlE18XPPyqTiPe7h9whhd5Urz04MrpDZQ0QqjrfC
         lTHKu61S4vo9ZXw66PyxtIosZ280ICUbnBK5ZVOeF0TeyQQu5hPz54L2mg0xwf0duNhH
         vsQrdEsw1aYhJbd6yzpKMl+wQwj7F4gE78PiWP5znutEYdBZLg3fhiJR2TkrUvsd1taJ
         MLZ+88vhDFEh3fuwxgAsSCihSt3C81Qz3yTHOmpuCzpup0FcPmd7srZONRjLTDhe7/fU
         oxlQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=v1hS9kZ39b2NmIrc6Rnfg531EHL2n74KHpDSvLTrbIU=;
        b=JifpJuOa0O96RZ1IDUnf27ClOO7hfFbReHF7Q0nOLumM7at9VBmuQd13kOyrYKgz8b
         648+HWTY34LIiL7molvQFvKa0iPSSyqVey0qtOHdDKtZ/HWCaJaBrgjmO0r/cYSyYte7
         N3QtFm1AjZ0fcmkft0cEUxWxFxqC+S6IFNvY61yJwN3CIf59CvQSo3w2pdXj/IBE9DjD
         lORqbERcKXoLoJEszwklfqrJnVK1guHb6gZY2pAQDmYS0zNm3qqJtp96mtbL9ElG8W9A
         zXohMomF2kigSm3VRF5BvyIz5z942vhH2IZclTvv9vCGxWI4R6huS6OgLXtBIl2X421v
         sSwg==
X-Gm-Message-State: AD7BkJKPODWxWy8b2bhMDtRJQZfIfRUw7nu7Y78VNk80zEq4lvGe0qGM5oy9bsscO42gv62PMIO8mxxvfmxL4nKF
MIME-Version: 1.0
X-Received: by 10.140.156.138 with SMTP id c132mr52595053qhc.96.1458676662959;
 Tue, 22 Mar 2016 12:57:42 -0700 (PDT)
Received: by 10.55.154.139 with HTTP; Tue, 22 Mar 2016 12:57:42 -0700 (PDT)
In-Reply-To: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
Date: Tue, 22 Mar 2016 14:57:42 -0500
Message-ID: <CACsi251cjgOP_OPZ+tLg4Y5SiERbEc5_oK8hOJ0QZv9y8iAF9g@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1139976656a353052ea8a00a

--001a1139976656a353052ea8a00a
Content-Type: text/plain; charset=UTF-8

Finally, just confirming we have decided that C99 is now the minimum
supported compiler feature set- used for the vardic macros in h2_filter.c?

On Mon, Mar 21, 2016 at 12:37 PM, Jim Jagielski <jim@jagunet.com> wrote:

> The pre-release test tarballs for Apache httpd 2.4.19 can be found
> at the usual place:
>
>         http://httpd.apache.org/dev/dist/
>
> I'm calling a VOTE on releasing these as Apache httpd 2.4.19 GA.
>
> [ ] +1: Good to go
> [ ] +0: meh
> [ ] -1: Danger Will Robinson. And why.
>
> Vote will last the normal 72 hrs.
>
> NOTE: The *-deps are only there for convenience.
>
> Thx!
>

--001a1139976656a353052ea8a00a
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Finally, just confirming we have decided that C99 is now t=
he minimum=C2=A0<div>supported compiler feature set- used for the vardic ma=
cros in h2_filter.c?</div></div><div class=3D"gmail_extra"><br><div class=
=3D"gmail_quote">On Mon, Mar 21, 2016 at 12:37 PM, Jim Jagielski <span dir=
=3D"ltr">&lt;<a href=3D"mailto:jim@jagunet.com" target=3D"_blank">jim@jagun=
et.com</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"=
margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">The pre-rele=
ase test tarballs for Apache httpd 2.4.19 can be found<br>
at the usual place:<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 <a href=3D"http://httpd.apache.org/dev/dist/" r=
el=3D"noreferrer" target=3D"_blank">http://httpd.apache.org/dev/dist/</a><b=
r>
<br>
I&#39;m calling a VOTE on releasing these as Apache httpd 2.4.19 GA.<br>
<br>
[ ] +1: Good to go<br>
[ ] +0: meh<br>
[ ] -1: Danger Will Robinson. And why.<br>
<br>
Vote will last the normal 72 hrs.<br>
<br>
NOTE: The *-deps are only there for convenience.<br>
<br>
Thx!<br>
</blockquote></div><br></div>

--001a1139976656a353052ea8a00a--

From dev-return-85984-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 19:58:28 2016
Return-Path: <dev-return-85984-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7A0F119BF9
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 19:58:28 +0000 (UTC)
Received: (qmail 72166 invoked by uid 500); 22 Mar 2016 19:58:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 72087 invoked by uid 500); 22 Mar 2016 19:58:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72077 invoked by uid 99); 22 Mar 2016 19:58:27 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 19:58:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 22716C0217
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 19:58:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.703
X-Spam-Level:
X-Spam-Status: No, score=-0.703 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_LOW=-0.7, RP_MATCHES_RCVD=-0.001,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Rou-DLTjpSSg for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 19:58:25 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id B06125FB27
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 19:58:24 +0000 (UTC)
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
To: dev@httpd.apache.org
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
 <CACsi250dJ=U=L9yY+bAhOADqiwZSneuCr9t1L4D9MozdgKjPkg@mail.gmail.com>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
Organization: the lounge interactive design
Message-ID: <56F1A3D7.3000702@thelounge.net>
Date: Tue, 22 Mar 2016 20:58:15 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <CACsi250dJ=U=L9yY+bAhOADqiwZSneuCr9t1L4D9MozdgKjPkg@mail.gmail.com>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="lkOqmnpk1wmTInSFXgIWue7fWO7TfwL4T"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--lkOqmnpk1wmTInSFXgIWue7fWO7TfwL4T
Content-Type: multipart/mixed; boundary="Jeq3AGkoA4kfGs0IPKVlbUknqBumvWdAU"
From: Reindl Harald <h.reindl@thelounge.net>
To: dev@httpd.apache.org
Message-ID: <56F1A3D7.3000702@thelounge.net>
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
 <CACsi250dJ=U=L9yY+bAhOADqiwZSneuCr9t1L4D9MozdgKjPkg@mail.gmail.com>
In-Reply-To: <CACsi250dJ=U=L9yY+bAhOADqiwZSneuCr9t1L4D9MozdgKjPkg@mail.gmail.com>

--Jeq3AGkoA4kfGs0IPKVlbUknqBumvWdAU
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable



Am 22.03.2016 um 20:55 schrieb William A Rowe Jr:
> Can anyone get mod_lbmethod_rr.c to build?

my Fedora 23 rpm-spec builds without any issue or change - most modules=20
external sub-apckages and typically used ones static

[root@srv-rhsoft:~]$ /bin/ls -1 /fileserver/yum-repo/fc23/x86_64/ | grep =

mod_
mod_actions-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_asis-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_auth_form-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_authn_anon-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_authn_dbd-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_authn_dbm-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_authn_socache-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_authz_dbd-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_authz_dbm-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_authz_owner-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_buffer-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_cache-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_cache_disk-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_cache_socache-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_cgi-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_data-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_dav-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_dav_fs-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_dav_lock-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_dbd-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_dialup-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_dumpio-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_echo-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_ext_filter-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_file_cache-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_h264_streaming-2.2.7-21.fc23.20160322.rh.x86_64.rpm
mod_heartbeat-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_heartmonitor-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_http2-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_include-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_info-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_lbmethod_bybusyness-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_lbmethod_byrequests-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_lbmethod_bytraffic-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_lbmethod_heartbeat-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_log_debug-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_log_forensic-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_logio-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_macro-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_mime_magic-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_negotiation-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_proxy-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_proxy_ajp-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_proxy_balancer-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_proxy_connect-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_proxy_express-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_proxy_fcgi-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_proxy_fdpass-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_proxy_ftp-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_proxy_html-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_proxy_http-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_proxy_scgi-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_proxy_wstunnel-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_reflector-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_request-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_security-2.9.1-2.fc23.20160322.rh.x86_64.rpm
mod_sed-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_slotmem_plain-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_slotmem_shm-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_socache_dbm-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_socache_memcache-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_speling-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_ssl-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_status-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_substitute-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_userdir-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_usertrack-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_vhost_alias-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_watchdog-2.4.19-1.fc23.20160322.rh.x86_64.rpm
mod_xml2enc-2.4.19-1.fc23.20160322.rh.x86_64.rpm


> I'm seeing 'name' : is not a member of 'proxy_balancer' errors,
> as well as ap_proxy_retry_worker() undefined (converted into
> an optional function, perhaps?)
>
> On Mon, Mar 21, 2016 at 12:37 PM, Jim Jagielski <jim@jagunet.com
> <mailto:jim@jagunet.com>> wrote:
>
>     The pre-release test tarballs for Apache httpd 2.4.19 can be found
>     at the usual place:
>
>     http://httpd.apache.org/dev/dist/
>
>     I'm calling a VOTE on releasing these as Apache httpd 2.4.19 GA.
>
>     [ ] +1: Good to go
>     [ ] +0: meh
>     [ ] -1: Danger Will Robinson. And why.
>
>     Vote will last the normal 72 hrs.
>
>     NOTE: The *-deps are only there for convenience.
>
>     Thx!


--Jeq3AGkoA4kfGs0IPKVlbUknqBumvWdAU--

--lkOqmnpk1wmTInSFXgIWue7fWO7TfwL4T
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlbxo9cACgkQhmBjz394AnlkxACbB3enBdXt/eGa60BIp4rIvtaA
Qs0AnjUylnkAMmVz8Gl27QC0RllXllfc
=q228
-----END PGP SIGNATURE-----

--lkOqmnpk1wmTInSFXgIWue7fWO7TfwL4T--

From dev-return-85985-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 19:59:42 2016
Return-Path: <dev-return-85985-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 930E519C03
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 19:59:42 +0000 (UTC)
Received: (qmail 75810 invoked by uid 500); 22 Mar 2016 19:59:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75738 invoked by uid 500); 22 Mar 2016 19:59:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75728 invoked by uid 99); 22 Mar 2016 19:59:42 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 19:59:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id AAEA8C0217
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 19:59:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Ws2Ht0lmIiDr for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 19:59:39 +0000 (UTC)
Received: from mail-io0-f172.google.com (mail-io0-f172.google.com [209.85.223.172])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 3157B5FB5E
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 19:59:39 +0000 (UTC)
Received: by mail-io0-f172.google.com with SMTP id c63so74784390iof.0
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 12:59:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=L3uMtvBX/UlIKzM5Fup6rB4eipzknEmMl82cFvrCPdo=;
        b=MiZUU0rx9miyCztNf6AIlWknJdHAgc7Iy9DP9xHB2Io46b7kgRywXiZd7rqpONwVVO
         3fqGEApYi9Fp0+jVqQinN0C2FFtto4TIH74aYN956tPmhyCanCuQ5lKcgM7avITbiUmT
         TSZfck3/WVhaDb6/h/eu2sZRcc1U6jtYcQWWYZ8kAbE5PL7HJxETRqOVGjxpcvi+9jjz
         00RBDs0GBBAWv520MJJX4yukdgqMt0eOwhzPrNyAYFFU17RnVX1XeGn4hP9b3QILZdZH
         heUagIwx1MaC9mUsOXoJZCvch0zhLAKmNDrQeh3/hcjhgGZeCVggvkkxXaXuwZKcwjNy
         PyFw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=L3uMtvBX/UlIKzM5Fup6rB4eipzknEmMl82cFvrCPdo=;
        b=jBnAyAlimlusoq6PMy3oXI20vx+7PLczUDGiymN1CqXINLRvEaRnMWJaka5EfqmL6H
         BCdtNxRBc/+V6KHRtGfNEsWk9L5n0qDdodq3pbu72FkX4aYOXyOqY5p4snZbvEZ8Rmo3
         UQQbx4jEzQ+wK74IjA9sHT4OLV4a+a4YG6qQrvBQRU605rHLfGse2x5Ms06PYfR3v1W4
         G2YAKwOb5akuQ5K4EFIz9cdaE0OXNHEQZhasr69lSgws+ZiOiACa8uibGz9l8FMkOps2
         +hUAbK1N0VaNuZCUjNPibafbGeKE1gJWS/x0xcF4TE0LKd7Gt4mqX8M4gQrcqLM1k4K2
         eAWA==
X-Gm-Message-State: AD7BkJJChFyXUE8MDyfRkSwm6TmPBNTx/NcpWVxBAEeU3H/jE3U2aQugMtdbybMKX4kI5ThLVsmpCn5nkSNDjQ==
MIME-Version: 1.0
X-Received: by 10.107.154.18 with SMTP id c18mr39586441ioe.169.1458676778265;
 Tue, 22 Mar 2016 12:59:38 -0700 (PDT)
Received: by 10.64.39.16 with HTTP; Tue, 22 Mar 2016 12:59:38 -0700 (PDT)
In-Reply-To: <CACsi251cjgOP_OPZ+tLg4Y5SiERbEc5_oK8hOJ0QZv9y8iAF9g@mail.gmail.com>
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
	<CACsi251cjgOP_OPZ+tLg4Y5SiERbEc5_oK8hOJ0QZv9y8iAF9g@mail.gmail.com>
Date: Tue, 22 Mar 2016 15:59:38 -0400
Message-ID: <CALK=YjPc36gLscGbQMWgWk7782v1+cP8f3w9UeaXdwuayoYQCA@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 22, 2016 at 3:57 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> Finally, just confirming we have decided that C99 is now the minimum
> supported compiler feature set- used for the vardic macros in h2_filter.c?

I don't think that is meant to be bumped. We definitely had simpler
c99-isms fixed in h2.

-- 
Eric Covener
covener@gmail.com

From dev-return-85986-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 19:59:43 2016
Return-Path: <dev-return-85986-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 761B119C07
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 19:59:43 +0000 (UTC)
Received: (qmail 76802 invoked by uid 500); 22 Mar 2016 19:59:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76734 invoked by uid 500); 22 Mar 2016 19:59:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76719 invoked by uid 99); 22 Mar 2016 19:59:42 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 19:59:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 539E71A0393
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 19:59:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id eRT3-_Sv6Ldy for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 19:59:40 +0000 (UTC)
Received: from mail-qg0-f43.google.com (mail-qg0-f43.google.com [209.85.192.43])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 6102E5F22C
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 19:59:39 +0000 (UTC)
Received: by mail-qg0-f43.google.com with SMTP id w104so187829797qge.1
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 12:59:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=RGoETpTFJPEpZpl13+wvz0pJ19dtxhdiXhcxgWa9qDU=;
        b=IYKdV65cv5Z/AfEMKvqyGOrr9wUP2PLnLm0jSWnUi+KLl9pdE+LE5KO87ntSDh6oHa
         ufWWQGmZBwW1wILlc5cfPC4EeLkwW9l7TwO6KDGGxjHV+MXOBqnWHojT34+lyJa6oD7J
         HGmC1WN54ZIpppDZpC87yt+2b2MGObhcbtT0keQwjxNXo97IvYg8fM/8azAKGHFu0fWA
         qHMozfQJ6b7aHPHvMaFjAYCpACmzd0L6eWlDwCJB6gdaKF03DiFFPezSpk3pzDMxJvnG
         t7VasTOFDH00DTT1CVyvpZTamFV3trRzSeIK3QXnlGk88yCG+GIiUv0Vpp76vhyOPdLL
         6TDQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=RGoETpTFJPEpZpl13+wvz0pJ19dtxhdiXhcxgWa9qDU=;
        b=g18ZMnPZH9r8ihSEWgPIt9cz1fbMGDY+mojiCzs3tcuuujpL1J2t9Ek64F6G56m0pF
         InS/UrINgspfC0YDl5D3JAnVZb8Bm6eQFMSpRKuzdeuSmvZ+L/BH7Ni+FSAjkCRnWwCd
         NcJ5O+G9ze9JUex6ReOjF7O/PtAZwoKqnQXn0tGXXL0/22wKBv+Lz0giyTTvnfZXCmg/
         0SUuzn2yy0/Jdd90GyMB7gYXZACzAs2yOznjaNNUBRzCmyBAzT9/xN0A4QNazQ3GXMac
         ly29bGP24ZOHfEg3VLKdgEUBJ1i38G2zR7nu3ZDShCDXZaHEzHajJHLUB7YMSCpprJyh
         9oyw==
X-Gm-Message-State: AD7BkJI9aoQFL+iKO59wu9nU+JkURmVmHgpUA/9arA3fIEgb37MOgl4DKKcDbpfOj6W0xGh44RvMXiVeA/p00H5X
MIME-Version: 1.0
X-Received: by 10.140.242.21 with SMTP id n21mr53361508qhc.2.1458676778433;
 Tue, 22 Mar 2016 12:59:38 -0700 (PDT)
Received: by 10.55.154.139 with HTTP; Tue, 22 Mar 2016 12:59:38 -0700 (PDT)
In-Reply-To: <56F1A3D7.3000702@thelounge.net>
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
	<CACsi250dJ=U=L9yY+bAhOADqiwZSneuCr9t1L4D9MozdgKjPkg@mail.gmail.com>
	<56F1A3D7.3000702@thelounge.net>
Date: Tue, 22 Mar 2016 14:59:38 -0500
Message-ID: <CACsi253=wTzJNJso3w44y0SC49YBAv7vA-CDO3yc6vdZOmK-Lg@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1139384c389c01052ea8a730

--001a1139384c389c01052ea8a730
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 22, 2016 at 2:58 PM, Reindl Harald <h.reindl@thelounge.net>
wrote:

>
> Am 22.03.2016 um 20:55 schrieb William A Rowe Jr:
>
>> Can anyone get mod_lbmethod_rr.c to build?
>>
>
> my Fedora 23 rpm-spec builds without any issue or change - most modules
> external sub-apckages and typically used ones static
>

I don't see where you enabled lbmethod_rr module?

--001a1139384c389c01052ea8a730
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
ue, Mar 22, 2016 at 2:58 PM, Reindl Harald <span dir=3D"ltr">&lt;<a href=3D=
"mailto:h.reindl@thelounge.net" target=3D"_blank">h.reindl@thelounge.net</a=
>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 =
0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><span class=3D""><br>=
Am 22.03.2016 um 20:55 schrieb William A Rowe Jr:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
Can anyone get mod_lbmethod_rr.c to build?<br>
</blockquote>
<br></span>
my Fedora 23 rpm-spec builds without any issue or change - most modules ext=
ernal sub-apckages and typically used ones static<br></blockquote><div><br>=
</div><div>I don&#39;t see where you enabled lbmethod_rr module?=C2=A0</div=
></div><br></div></div>

--001a1139384c389c01052ea8a730--

From dev-return-85987-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 20:01:44 2016
Return-Path: <dev-return-85987-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 57ED819C31
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 20:01:44 +0000 (UTC)
Received: (qmail 80828 invoked by uid 500); 22 Mar 2016 20:01:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 80757 invoked by uid 500); 22 Mar 2016 20:01:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80747 invoked by uid 99); 22 Mar 2016 20:01:43 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 20:01:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 69440C0217
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:01:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id WyxJepbQwycv for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 20:01:41 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id AD79A5F244
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:01:40 +0000 (UTC)
Received: from resomta-po-03v.sys.comcast.net ([96.114.154.227])
	by resqmta-po-05v.sys.comcast.net with comcast
	id Z81R1s0064ueUHc0181fJY; Tue, 22 Mar 2016 20:01:39 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-03v.sys.comcast.net with comcast
	id Z81e1s00E2U0RYt0181eXW; Tue, 22 Mar 2016 20:01:39 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: VOTE RECALLED: (Was: Re: [VOTE] Release Apache httpd 2.4.19 as GA)
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
Date: Tue, 22 Mar 2016 16:01:38 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <903F2063-25AD-4378-8CB0-8AC949421DF2@jaguNET.com>
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3112)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458676899;
	bh=1EPEgdeDOLwrlJ2E+/HCOhYb5TbkNLdg+eWlKXllrXA=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=fd7oYdyV2FhamsqPzbobYAvq79sgeQ4fwvRr/uAV3VpVAmcn8wcW3ZfwXkXj8Bd/u
	 tZWGVUHKQhXts9LbPRgNTBcerYNL+5OWc+UmsRjmvqsJthsry/HAVYNRbVk7/mbC4d
	 vVHMCsKz8f1pLLSoWdp8cEOA0KAHx1oefWMuxmf9FbrWYYGAvHJogn96pCDL+gM9v1
	 wEnvS69lGZc2MuNeiUNCXGWlU5eMepqXnXCUEwDamcGNggSP4MCSCkzRXVXuNTc096
	 LsQc3Unvr0rCuZsoQz+N6WlTBUeANPAsfznJWbhJnjerU1x0PVPAn77oJNTsKOCPL8
	 D8z+5OHMCg48w==

Due to the Window's build issue, I am recalling this vote.

With http://svn.apache.org/viewvc?view=revision&revision=1736157,
it looks like this issue is resolved. Will give it until 8am
(Eastern) tomorrow and will kick off 2.4.20 T&R

From dev-return-85988-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 20:03:40 2016
Return-Path: <dev-return-85988-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 32DF119C3F
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 20:03:40 +0000 (UTC)
Received: (qmail 85208 invoked by uid 500); 22 Mar 2016 20:03:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85139 invoked by uid 500); 22 Mar 2016 20:03:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85129 invoked by uid 99); 22 Mar 2016 20:03:39 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 20:03:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id B9B2F1A1459
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:03:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.703
X-Spam-Level:
X-Spam-Status: No, score=-0.703 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_LOW=-0.7, RP_MATCHES_RCVD=-0.001,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id uQ71OlPKiyhq for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 20:03:38 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 9EE1B5FB2A
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:03:37 +0000 (UTC)
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
To: dev@httpd.apache.org
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
 <CACsi250dJ=U=L9yY+bAhOADqiwZSneuCr9t1L4D9MozdgKjPkg@mail.gmail.com>
 <56F1A3D7.3000702@thelounge.net>
 <CACsi253=wTzJNJso3w44y0SC49YBAv7vA-CDO3yc6vdZOmK-Lg@mail.gmail.com>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
Organization: the lounge interactive design
Message-ID: <56F1A517.50203@thelounge.net>
Date: Tue, 22 Mar 2016 21:03:35 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <CACsi253=wTzJNJso3w44y0SC49YBAv7vA-CDO3yc6vdZOmK-Lg@mail.gmail.com>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="KGHFL2xluWqcI6cB0HlJbw02Ujb4uNcrH"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--KGHFL2xluWqcI6cB0HlJbw02Ujb4uNcrH
Content-Type: multipart/mixed; boundary="hmp5qwdR1O3qaVlwT4On4gqgrqOxEOISC"
From: Reindl Harald <h.reindl@thelounge.net>
To: dev@httpd.apache.org
Message-ID: <56F1A517.50203@thelounge.net>
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
 <CACsi250dJ=U=L9yY+bAhOADqiwZSneuCr9t1L4D9MozdgKjPkg@mail.gmail.com>
 <56F1A3D7.3000702@thelounge.net>
 <CACsi253=wTzJNJso3w44y0SC49YBAv7vA-CDO3yc6vdZOmK-Lg@mail.gmail.com>
In-Reply-To: <CACsi253=wTzJNJso3w44y0SC49YBAv7vA-CDO3yc6vdZOmK-Lg@mail.gmail.com>

--hmp5qwdR1O3qaVlwT4On4gqgrqOxEOISC
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable



Am 22.03.2016 um 20:59 schrieb William A Rowe Jr:
> On Tue, Mar 22, 2016 at 2:58 PM, Reindl Harald <h.reindl@thelounge.net
> <mailto:h.reindl@thelounge.net>> wrote:
>
>
>     Am 22.03.2016 um 20:55 schrieb William A Rowe Jr:
>
>         Can anyone get mod_lbmethod_rr.c to build?
>
>
>     my Fedora 23 rpm-spec builds without any issue or change - most
>     modules external sub-apckages and typically used ones static
>
> I don't see where you enabled lbmethod_rr module?

not sure if my rpm is missing something we don't use

if something was not built then before 2.4.19 because i wrote the SPEC=20
file based on the resulting binary modules - just all of them in own=20
subpackages and what did not exist at that moment is not missing now

* Fr Jul 10 2015 Reindl Harald <h.reindl@thelounge.net>
- update to 2.4.16 (2.4.13, 2.4.14 and 2.4.15 was skipped upstream)
- split modules in own subpackages
- systemd: PrivateDevices=3Dyes
- systemd: RestrictAddressFamilies=3D~AF_APPLETALK AF_ATMPVC AF_AX25=20
AF_IPX AF_NETLINK AF_PACKET AF_X25
- systemd: SystemCallArchitectures=3Dx86-64


--hmp5qwdR1O3qaVlwT4On4gqgrqOxEOISC--

--KGHFL2xluWqcI6cB0HlJbw02Ujb4uNcrH
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlbxpRcACgkQhmBjz394Anll/QCfUVBBxP0I+9We916OzhLhbFgO
E8gAnjSugf8wwHnTYqoNtyD0JMADTY7M
=1JDO
-----END PGP SIGNATURE-----

--KGHFL2xluWqcI6cB0HlJbw02Ujb4uNcrH--

From dev-return-85989-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 20:05:28 2016
Return-Path: <dev-return-85989-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3919E19C56
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 20:05:28 +0000 (UTC)
Received: (qmail 91799 invoked by uid 500); 22 Mar 2016 20:05:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91719 invoked by uid 500); 22 Mar 2016 20:05:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91709 invoked by uid 99); 22 Mar 2016 20:05:27 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 20:05:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 435BF18046D
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:05:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id VjNNUfEf7LYM for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 20:05:25 +0000 (UTC)
Received: from mail-qk0-f175.google.com (mail-qk0-f175.google.com [209.85.220.175])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 95A975F56C
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:05:24 +0000 (UTC)
Received: by mail-qk0-f175.google.com with SMTP id p130so43087764qke.1
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 13:05:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=jOgAH7MnuaGgvcvaOnEIPFELeiuZGcxiVjsfzNw8Ric=;
        b=QeuFuZh1U5NiG4AxWaqcSsfMM42bqL3rdC5gDE87rsqXRTZmujMlS6aIyWr1auRhS2
         HHzEyuMgJ1Q1K01Q5aVgEkwGZkB3T5H2q/0lkClGO6CPSOymuBANGiXlW5KgCmwfaP1t
         K/AYum9JoSFeCeJoRL6EwyRI2+AKzriE39Naw5ny5hCo38MX/r5Tew0KCW4RXgx313hm
         IlBg48tdnMWdBBjoyBmwtuaB7+vPdfjmRNOv/D71MT5qXGu7srAYVNXBleXcwbwTVFil
         NRWluBTRd5yBudJ0zXMSKvPM4KHNGGsPn0Y5kXMUQiwEQjlL1LkVZ7YAUqWQQrNCRq3b
         6o+w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=jOgAH7MnuaGgvcvaOnEIPFELeiuZGcxiVjsfzNw8Ric=;
        b=nLkkfOeJsBmqfllYUqUZZGzStfeIUmXnnjiiL3i5GG8VHRi7g05L3iHunmszeOaVhV
         8rWwySvJvAmOJzOCbLY3eO2ywn9GQZDcP2ML8xzIW77xbXCJu/2VECkw/S+62/92XKKT
         qtHYDDsbwddAo9eyRVm4G8rHctFVCgJfDHpGkII3rfxmIlMfh8j241o4I1OqBCo5lXtA
         48IKa41AvKtDbt7Zc4yH/7zr4NxhojJwQOetNZRq7Kh9OC8mecxsAdSetHnFPRG8UPRz
         BniF75Ow9wvwbQaDtp5DBe+pmzyh7KbKRHz9ermmj5JKyuQ05Xy8XK9qKlXr0lNMc7c6
         MsLA==
X-Gm-Message-State: AD7BkJIIh+k32B4XlAzOjpmnrDIDReEVxy1rg5Uye6I1ECgTiwrWc1eI1fnEg0fnG6v1ydFMKKFRqZQoj8CVPw==
MIME-Version: 1.0
X-Received: by 10.55.215.83 with SMTP id m80mr49101076qki.84.1458677118123;
 Tue, 22 Mar 2016 13:05:18 -0700 (PDT)
Received: by 10.55.174.4 with HTTP; Tue, 22 Mar 2016 13:05:18 -0700 (PDT)
In-Reply-To: <CACsi250dJ=U=L9yY+bAhOADqiwZSneuCr9t1L4D9MozdgKjPkg@mail.gmail.com>
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
	<CACsi250dJ=U=L9yY+bAhOADqiwZSneuCr9t1L4D9MozdgKjPkg@mail.gmail.com>
Date: Tue, 22 Mar 2016 16:05:18 -0400
Message-ID: <CAKUrXK4G-zz24wObRLTT=yz9+nT6uAEmkTv-qv5U5=cWgzLMAA@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1149e45c77cb33052ea8bbf3

--001a1149e45c77cb33052ea8bbf3
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 22, 2016 at 3:55 PM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> Can anyone get mod_lbmethod_rr.c to build?
>

I guess I'll try soon with cmake on Windows, once prereqs are built and I
add a line or two to CMakeLists.txt for that module :)

(I'm backpedaling to trunk from 2.4.19 after seeing a 2.4.19 mod_http2
build error.)


> I'm seeing 'name' : is not a member of 'proxy_balancer' errors,
> as well as ap_proxy_retry_worker() undefined (converted into
> an optional function, perhaps?)
>
> On Mon, Mar 21, 2016 at 12:37 PM, Jim Jagielski <jim@jagunet.com> wrote:
>
>> The pre-release test tarballs for Apache httpd 2.4.19 can be found
>> at the usual place:
>>
>>         http://httpd.apache.org/dev/dist/
>>
>> I'm calling a VOTE on releasing these as Apache httpd 2.4.19 GA.
>>
>> [ ] +1: Good to go
>> [ ] +0: meh
>> [ ] -1: Danger Will Robinson. And why.
>>
>> Vote will last the normal 72 hrs.
>>
>> NOTE: The *-deps are only there for convenience.
>>
>> Thx!
>>
>
>


-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a1149e45c77cb33052ea8bbf3
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
ue, Mar 22, 2016 at 3:55 PM, William A Rowe Jr <span dir=3D"ltr">&lt;<a hre=
f=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&=
gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 =
0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr">Can an=
yone get mod_lbmethod_rr.c to build?</div></blockquote><div><br></div><div>=
I guess I&#39;ll try soon with cmake on Windows, once prereqs are built and=
 I add a line or two to CMakeLists.txt for that module :)</div><div><br></d=
iv><div>(I&#39;m backpedaling to trunk from 2.4.19 after seeing a 2.4.19 mo=
d_http2 build error.)</div><div><br></div><blockquote class=3D"gmail_quote"=
 style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><d=
iv dir=3D"ltr"><div><br></div><div>I&#39;m seeing &#39;name&#39; : is not a=
 member of &#39;proxy_balancer&#39; errors,</div><div>as well as ap_proxy_r=
etry_worker() undefined (converted into</div><div>an optional function, per=
haps?)</div></div><div class=3D"gmail_extra"><br><div class=3D"gmail_quote"=
><span class=3D"">On Mon, Mar 21, 2016 at 12:37 PM, Jim Jagielski <span dir=
=3D"ltr">&lt;<a href=3D"mailto:jim@jagunet.com" target=3D"_blank">jim@jagun=
et.com</a>&gt;</span> wrote:<br></span><div><div class=3D"h5"><blockquote c=
lass=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;=
padding-left:1ex">The pre-release test tarballs for Apache httpd 2.4.19 can=
 be found<br>
at the usual place:<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 <a href=3D"http://httpd.apache.org/dev/dist/" r=
el=3D"noreferrer" target=3D"_blank">http://httpd.apache.org/dev/dist/</a><b=
r>
<br>
I&#39;m calling a VOTE on releasing these as Apache httpd 2.4.19 GA.<br>
<br>
[ ] +1: Good to go<br>
[ ] +0: meh<br>
[ ] -1: Danger Will Robinson. And why.<br>
<br>
Vote will last the normal 72 hrs.<br>
<br>
NOTE: The *-deps are only there for convenience.<br>
<br>
Thx!<br>
</blockquote></div></div></div><br></div>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--001a1149e45c77cb33052ea8bbf3--

From dev-return-85990-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 20:09:45 2016
Return-Path: <dev-return-85990-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0F0C419C9B
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 20:09:45 +0000 (UTC)
Received: (qmail 2711 invoked by uid 500); 22 Mar 2016 20:09:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2643 invoked by uid 500); 22 Mar 2016 20:09:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2633 invoked by uid 99); 22 Mar 2016 20:09:44 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 20:09:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id D89EDC0217
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:09:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id RzDy-6XAcnzx for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 20:09:42 +0000 (UTC)
Received: from mail-qg0-f47.google.com (mail-qg0-f47.google.com [209.85.192.47])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id A2AC15F2C4
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:09:42 +0000 (UTC)
Received: by mail-qg0-f47.google.com with SMTP id u110so188026254qge.3
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 13:09:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=EfkpwvG/FHCp4TyRSljQF5JmFzQ/dQZe21/7DqfYm5w=;
        b=TGqKap5CdXP86u1t1loTT5fSeXT2fNBE/0jcwe25Dg5zNEmyNH34SAkCGVos93nat4
         Fk4Y7F0HJUOixB40OTZTgpZPzPjFUyK1czknFKiSXJ2nfJTCUHnWYk3QnJv4OZsInHDN
         +BxzjFfP4oEkvSKmFqnRA0GSSoeFX2ajkD+QEzvqPLu4o25ZkFaEUJ4o4LMOU0uTuPGF
         H4swvvUDjCTbV+Ff+jzgiiZAqSpczZnF8zuDmVvX5VltrJCYZeSNrf86Rum57c3LS0mC
         hyCIsFmBfdJunwllZ8xydOnGUF0mtADWQwObSSLIFyC56b7uQyvWTYdp3E62OoqPye35
         wupw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=EfkpwvG/FHCp4TyRSljQF5JmFzQ/dQZe21/7DqfYm5w=;
        b=Os9wGQfd1xdpp+MmHmm2iiakRl0lfLtZLYfxPvfHFRTsBOFd406ZhEvhjTJfYtaELq
         4glzKekctJwBtzLtBmbEaBTz5etRSdvUZH0BUuasJH+L9vFrifDswk6lfybdT5ZErqAt
         E0uSyi70oNzAgcI1xkthismImJu8dgfdglRRm6pl27lQ6qgs8O1kUPuc5LaZ1M3cUEa5
         FRkHKV560k/2M6Rz3LdbeTi5ArroqjDeL2xy/+9JHiuadbnmV52Jye4gc1pn92Kmda3E
         gcKQxjS+2TZYjCHivMa6rwL7f7tCWMqKozw9NhzkcjYfRtIjcZNZzZpd4I80u9u4pGMs
         0ekQ==
X-Gm-Message-State: AD7BkJK1E+KFKXaD4wySUaevCvqU/F28CIVDAWM/Coyd5mzx/oteKPetB/KmrZT5yysSqXsereoq4eSP+lNO+JdF
MIME-Version: 1.0
X-Received: by 10.140.98.98 with SMTP id n89mr51495313qge.9.1458677382083;
 Tue, 22 Mar 2016 13:09:42 -0700 (PDT)
Received: by 10.55.154.139 with HTTP; Tue, 22 Mar 2016 13:09:42 -0700 (PDT)
In-Reply-To: <20160322200632.565483A0113@svn01-us-west.apache.org>
References: <20160322200632.565483A0113@svn01-us-west.apache.org>
Date: Tue, 22 Mar 2016 15:09:42 -0500
Message-ID: <CACsi253DVabiJ1pDLR+PM0q94kArh1ucVw0TG4stXcT5A5sEfw@mail.gmail.com>
Subject: Re: svn commit: r1736243 - /httpd/httpd/trunk/modules/cache/mod_socache_shmcb.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113a9c9e33c500052ea8cb96

--001a113a9c9e33c500052ea8cb96
Content-Type: text/plain; charset=UTF-8

Without objection, I'll be committing the backport in an hr or so for the
morning T&R... this hardly seems to merit a vote, but any objections
are welcome.


On Tue, Mar 22, 2016 at 3:06 PM, <wrowe@apache.org> wrote:

> Author: wrowe
> Date: Tue Mar 22 20:06:32 2016
> New Revision: 1736243
>
> URL: http://svn.apache.org/viewvc?rev=1736243&view=rev
> Log:
> Fix missing limits.h header, required for 2.4.next release,
> masked on many platforms by intrinsic limits.h inclusion by
> other headers.
>
>
> Modified:
>     httpd/httpd/trunk/modules/cache/mod_socache_shmcb.c
>
> Modified: httpd/httpd/trunk/modules/cache/mod_socache_shmcb.c
> URL:
> http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/cache/mod_socache_shmcb.c?rev=1736243&r1=1736242&r2=1736243&view=diff
>
> ==============================================================================
> --- httpd/httpd/trunk/modules/cache/mod_socache_shmcb.c (original)
> +++ httpd/httpd/trunk/modules/cache/mod_socache_shmcb.c Tue Mar 22
> 20:06:32 2016
> @@ -29,6 +29,10 @@
>  #include "apr_want.h"
>  #include "apr_general.h"
>
> +#if APR_HAVE_LIMITS_H
> +#include <limits.h>
> +#endif
> +
>  #include "ap_socache.h"
>
>  /* XXX Unfortunately, there are still many unsigned ints in use here, so
> we
>
>
>

--001a113a9c9e33c500052ea8cb96
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Without objection, I&#39;ll be committing the backport in =
an hr or so for the<div>morning T&amp;R... this hardly seems to merit a vot=
e, but any objections=C2=A0</div><div>are welcome.</div><div><br></div></di=
v><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">On Tue, Mar 22,=
 2016 at 3:06 PM,  <span dir=3D"ltr">&lt;<a href=3D"mailto:wrowe@apache.org=
" target=3D"_blank">wrowe@apache.org</a>&gt;</span> wrote:<br><blockquote c=
lass=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;=
padding-left:1ex">Author: wrowe<br>
Date: Tue Mar 22 20:06:32 2016<br>
New Revision: 1736243<br>
<br>
URL: <a href=3D"http://svn.apache.org/viewvc?rev=3D1736243&amp;view=3Drev" =
rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc?rev=3D173=
6243&amp;view=3Drev</a><br>
Log:<br>
Fix missing limits.h header, required for 2.4.next release,<br>
masked on many platforms by intrinsic limits.h inclusion by<br>
other headers.<br>
<br>
<br>
Modified:<br>
=C2=A0 =C2=A0 httpd/httpd/trunk/modules/cache/mod_socache_shmcb.c<br>
<br>
Modified: httpd/httpd/trunk/modules/cache/mod_socache_shmcb.c<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/cach=
e/mod_socache_shmcb.c?rev=3D1736243&amp;r1=3D1736242&amp;r2=3D1736243&amp;v=
iew=3Ddiff" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/view=
vc/httpd/httpd/trunk/modules/cache/mod_socache_shmcb.c?rev=3D1736243&amp;r1=
=3D1736242&amp;r2=3D1736243&amp;view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/trunk/modules/cache/mod_socache_shmcb.c (original)<br>
+++ httpd/httpd/trunk/modules/cache/mod_socache_shmcb.c Tue Mar 22 20:06:32=
 2016<br>
@@ -29,6 +29,10 @@<br>
=C2=A0#include &quot;apr_want.h&quot;<br>
=C2=A0#include &quot;apr_general.h&quot;<br>
<br>
+#if APR_HAVE_LIMITS_H<br>
+#include &lt;limits.h&gt;<br>
+#endif<br>
+<br>
=C2=A0#include &quot;ap_socache.h&quot;<br>
<br>
=C2=A0/* XXX Unfortunately, there are still many unsigned ints in use here,=
 so we<br>
<br>
<br>
</blockquote></div><br></div>

--001a113a9c9e33c500052ea8cb96--

From dev-return-85991-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 20:27:41 2016
Return-Path: <dev-return-85991-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0F0D719D6B
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 20:27:41 +0000 (UTC)
Received: (qmail 63494 invoked by uid 500); 22 Mar 2016 20:27:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63403 invoked by uid 500); 22 Mar 2016 20:27:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63392 invoked by uid 99); 22 Mar 2016 20:27:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 20:27:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 26C751A1497
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:27:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=QMf+LWj+;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=N1EKyW7O
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id U67tW-9fVapr for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 20:27:38 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 4D8E45FB5E
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:27:38 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 5AC8415A1394; Tue, 22 Mar 2016 21:27:37 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458678457; bh=6qZqDfkHNbgq3yGIgUiGmU2p1022D5AqHWp7E49EB24=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=QMf+LWj+4SmB5WUjs0NtaPRHSVCZ4I3VlG3MmphU7MYFltVjo61roOIuCHR4KlfmS
	 uuiMiyCZs4aLHu3wbsYJoz0d2G+e3cNOsmwlCJTMSTuMXyg0in+/aiwFeVQ53PGwX7
	 yymE1+ACjjIezkGnqwGr3feGeQ+DSF9rM5ZqpPRg=
Received: from [192.168.178.70] (unknown [93.211.103.15])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 60FBB15A08A0
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 21:27:36 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458678456; bh=6qZqDfkHNbgq3yGIgUiGmU2p1022D5AqHWp7E49EB24=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=N1EKyW7OhLq4PbpOCD2Yd9ck5Y8DJKZsUrbjO6VFo5hpYVlgr3IiFWfUHb4SeJCVS
	 9d3//TiA9fDfVFdSqKa/D01rMwqW/r+VOFYV/FdAv3GveVL0jxyllMyWVtNUujw/ES
	 Hp8aqoCt5nAeSUHc9YoxINp5b72pHjOnfj5/DPc8=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
Message-Id: <FB172630-093B-46AD-90B3-FAC91D91CFA3@greenbytes.de>
Date: Tue, 22 Mar 2016 21:27:35 +0100
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com> <CACsi251cjgOP_OPZ+tLg4Y5SiERbEc5_oK8hOJ0QZv9y8iAF9g@mail.gmail.com> <CALK=YjPc36gLscGbQMWgWk7782v1+cP8f3w9UeaXdwuayoYQCA@mail.gmail.com>
In-Reply-To: <CALK=YjPc36gLscGbQMWgWk7782v1+cP8f3w9UeaXdwuayoYQCA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: iPhone Mail (13D20)

Hmm, I thought we had that fixed by adding the proper compiler flags in main=
tainer mode. Will fix tomorrow morning.=20

Stefan

> Am 22.03.2016 um 20:59 schrieb Eric Covener <covener@gmail.com>:
>=20
>> On Tue, Mar 22, 2016 at 3:57 PM, William A Rowe Jr <wrowe@rowe-clan.net> w=
rote:
>> Finally, just confirming we have decided that C99 is now the minimum
>> supported compiler feature set- used for the vardic macros in h2_filter.c=
?
>=20
> I don't think that is meant to be bumped. We definitely had simpler
> c99-isms fixed in h2.
>=20
> --=20
> Eric Covener
> covener@gmail.com

From dev-return-85992-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 20:38:54 2016
Return-Path: <dev-return-85992-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CB19C19F22
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 20:38:53 +0000 (UTC)
Received: (qmail 4505 invoked by uid 500); 22 Mar 2016 20:38:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 4415 invoked by uid 500); 22 Mar 2016 20:38:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 4352 invoked by uid 99); 22 Mar 2016 20:38:50 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 20:38:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 9B3AAC71E8
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:38:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id k8Um81w7bRUu for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 20:38:47 +0000 (UTC)
Received: from mail-qg0-f49.google.com (mail-qg0-f49.google.com [209.85.192.49])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id A25905FAC2
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:38:47 +0000 (UTC)
Received: by mail-qg0-f49.google.com with SMTP id y89so189494528qge.2
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 13:38:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=YT+2mn2UfQcm6lj+KZ3Kchzt5FrlLs9LhVQ5ON9+78U=;
        b=BctbAIypFO9f8vvTIgR5irn+sAX64tzDgxPmeXdCGlfew9WAv4CYxa2LuNhbRSvfn5
         SgTVDVHfcfpM8qatWIs5uPB7fOxCdYquur0tuySNg11GdcDiRxhd/Cjk/QfNe50Nljk2
         BpvHMy39ZLZeYIiJgG/Ym6RohDkwqgHOQ3N6NGMMJ4kt18JxRu3cSHfXyG7HwnSvUMx8
         r+QuW8QFaUx9ZlTi5X/XUuIZjyLq95rojmPsLuxe0csc8WiGjUFyoUELrr6UDyIDfrLf
         +Gp3MqZcP5RPD4TAYG0nwC4+D9bGfbDIjAx9QgZjjMiuOqxTIADeuKJLZvPgotzc9sXz
         jPHA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=YT+2mn2UfQcm6lj+KZ3Kchzt5FrlLs9LhVQ5ON9+78U=;
        b=A+mh83VfbxABZwN+C/YuxSjoAC4cQVZ012y3rlZ7erwJt8zvCH4mCVvVpYfKngNdGe
         VO7kKBg8vQTOKMG635R2AV7FDxUlM9N9isWLhxf3YXCN2WUgHvSWd9hqyzSvXuBA+6Ek
         OrjGxNNaPjJhoMuUR+s//9X4nM3AU4yFD9XVVUtrLHBzur5LzUvE6nQyTXS9vISaDFYh
         qcbgjq1M8Jbo6HvTR7kqPfvDtd1VXs+Ouuw50dhTz3J3ywOjwTUTB6HRSY+74Fj+vIWf
         qULeJ/cOWcXGey/1CCruHh0LMiSpcJDqCKZlVGCqoPDGEO9kCPNLC8YgmmjaITDkqk4c
         Yyww==
X-Gm-Message-State: AD7BkJL34JaLYzoveyEKocvXvh+DSzqr28ibsfsRLZNXsiMg3r43a0AM4co+MrFXIs2f2uienxdnQ0PbtCzAvQ==
MIME-Version: 1.0
X-Received: by 10.140.237.204 with SMTP id i195mr53353089qhc.55.1458679126892;
 Tue, 22 Mar 2016 13:38:46 -0700 (PDT)
Received: by 10.55.174.4 with HTTP; Tue, 22 Mar 2016 13:38:46 -0700 (PDT)
In-Reply-To: <CACsi250dJ=U=L9yY+bAhOADqiwZSneuCr9t1L4D9MozdgKjPkg@mail.gmail.com>
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
	<CACsi250dJ=U=L9yY+bAhOADqiwZSneuCr9t1L4D9MozdgKjPkg@mail.gmail.com>
Date: Tue, 22 Mar 2016 16:38:46 -0400
Message-ID: <CAKUrXK6t_0EY9vb87extsDNpSq16BwrnhWOFa3rQ_LFeyDBDAQ@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1135a030332b0c052ea9335d

--001a1135a030332b0c052ea9335d
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 22, 2016 at 3:55 PM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> Can anyone get mod_lbmethod_rr.c to build?
>

That's funny actually.  The very first version README.cmake in trunk says
that mod_lbmethod_rr.c doesn't build on Windows, yet the only build support
I can find for that module for any platform is in the legacy Windows build
system.  I guess the legacy build spews some error messages and continues
on with the next module?

Meanwhile the proverbial dog is actively chewing on my homework (can't get
past unresolved references in mod_http2 build -- nghttp2 symbols, not the
mod_http2 symbols discussed in this thread) so I'll forget I said anything
about trying to build mod_lbmethod_rr, as there is So Little Time.



> I'm seeing 'name' : is not a member of 'proxy_balancer' errors,
> as well as ap_proxy_retry_worker() undefined (converted into
> an optional function, perhaps?)
>
> On Mon, Mar 21, 2016 at 12:37 PM, Jim Jagielski <jim@jagunet.com> wrote:
>
>> The pre-release test tarballs for Apache httpd 2.4.19 can be found
>> at the usual place:
>>
>>         http://httpd.apache.org/dev/dist/
>>
>> I'm calling a VOTE on releasing these as Apache httpd 2.4.19 GA.
>>
>> [ ] +1: Good to go
>> [ ] +0: meh
>> [ ] -1: Danger Will Robinson. And why.
>>
>> Vote will last the normal 72 hrs.
>>
>> NOTE: The *-deps are only there for convenience.
>>
>> Thx!
>>
>
>


-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a1135a030332b0c052ea9335d
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
ue, Mar 22, 2016 at 3:55 PM, William A Rowe Jr <span dir=3D"ltr">&lt;<a hre=
f=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&=
gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 =
0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr">Can an=
yone get mod_lbmethod_rr.c to build?</div></blockquote><div><br></div><div>=
That&#39;s funny actually.=C2=A0 The very first version README.cmake in tru=
nk says that mod_lbmethod_rr.c doesn&#39;t build on Windows, yet the only b=
uild support I can find for that module for any platform is in the legacy W=
indows build system.=C2=A0 I guess the legacy build spews some error messag=
es and continues on with the next module?</div><div><br></div><div>Meanwhil=
e the proverbial dog is actively chewing on my homework (can&#39;t get past=
 unresolved references in mod_http2 build -- nghttp2 symbols, not the mod_h=
ttp2 symbols discussed in this thread) so I&#39;ll forget I said anything a=
bout trying to build mod_lbmethod_rr, as there is So Little Time.</div><div=
><br></div><div><br></div><blockquote class=3D"gmail_quote" style=3D"margin=
:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><=
div><br></div><div>I&#39;m seeing &#39;name&#39; : is not a member of &#39;=
proxy_balancer&#39; errors,</div><div>as well as ap_proxy_retry_worker() un=
defined (converted into</div><div>an optional function, perhaps?)</div></di=
v><div class=3D"gmail_extra"><br><div class=3D"gmail_quote"><span class=3D"=
">On Mon, Mar 21, 2016 at 12:37 PM, Jim Jagielski <span dir=3D"ltr">&lt;<a =
href=3D"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</=
span> wrote:<br></span><div><div class=3D"h5"><blockquote class=3D"gmail_qu=
ote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex=
">The pre-release test tarballs for Apache httpd 2.4.19 can be found<br>
at the usual place:<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 <a href=3D"http://httpd.apache.org/dev/dist/" r=
el=3D"noreferrer" target=3D"_blank">http://httpd.apache.org/dev/dist/</a><b=
r>
<br>
I&#39;m calling a VOTE on releasing these as Apache httpd 2.4.19 GA.<br>
<br>
[ ] +1: Good to go<br>
[ ] +0: meh<br>
[ ] -1: Danger Will Robinson. And why.<br>
<br>
Vote will last the normal 72 hrs.<br>
<br>
NOTE: The *-deps are only there for convenience.<br>
<br>
Thx!<br>
</blockquote></div></div></div><br></div>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--001a1135a030332b0c052ea9335d--

From dev-return-85993-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 20:49:56 2016
Return-Path: <dev-return-85993-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7BB6119FE3
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 20:49:56 +0000 (UTC)
Received: (qmail 43243 invoked by uid 500); 22 Mar 2016 20:49:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 43172 invoked by uid 500); 22 Mar 2016 20:49:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 43162 invoked by uid 99); 22 Mar 2016 20:49:56 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 20:49:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 6E333C0D8E
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:49:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.198
X-Spam-Level:
X-Spam-Status: No, score=0.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FREEMAIL_REPLY=1, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 5wIZzRWx5FgL for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 20:49:53 +0000 (UTC)
Received: from mail-qg0-f43.google.com (mail-qg0-f43.google.com [209.85.192.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id F41AB5FB0F
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:49:52 +0000 (UTC)
Received: by mail-qg0-f43.google.com with SMTP id y89so189745858qge.2
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 13:49:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=DbwlCnEaWxZEVYmH1MHTE3F2rnWMR9ADfgWac8Uc/KE=;
        b=u1jkhR9pMpcl8T8mwcJnBshacFBpEHNjfZJzj/LZm2drptjc9SB6KVTbgp/SEc5V+s
         4it4BKEx8yLkb7InaqNefQMklmAvVvX20FKwn/WiKqsA238zCuqMMO9VMUeaxFFc/dYZ
         nt0MUserA4fo3a8X6kh7uUj9n1/ZhtlP48NIpaA7JmlXg1Mb+iqBn4KKC63xC6HmSz5N
         AEdZ5UVSxuHm4NfjbHq9upCwfrNOiGT1xjcDnZE75klJkPsXq7gHFI2NwZB1CEEJzCqB
         PScZ/Kpq3mAPYUVKOhmVsnorIfnh2jIJ7Akw2iQZCPeTptAD2S0jevDBPKPwYx++Napg
         sysQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=DbwlCnEaWxZEVYmH1MHTE3F2rnWMR9ADfgWac8Uc/KE=;
        b=TotqDtaLgokDvnDUeVukf7t13UwFuzdQjKYff0msH5kN49Kam/ABvaryPdxQT8JL0T
         vjbMyRv9qI2ZypNJaypN/0E7ORl21TVnhR2Ol+DGvO70X5S70D5+Rw/SMmeyGq52Lpip
         uz2O2o2+NsiAkqfij3ueJ9L6JSzwf+laIXj4P0VC4dAOyBuy70mKDJTQAo8YQINIxgBa
         q8rPqoKcCb4A4Vv58ajOBI6MYm1rbjwm3q1kt6QcQLksMVB+opH6uQIcMQBhLPrSc9NU
         bmBiL9ZgThbRbYaQ7G0zhKMaRDtjGFGmsS1tY8e53RTFa5ZhgEzZlq8vm1Kxt03XOm3O
         eNXQ==
X-Gm-Message-State: AD7BkJJ9Qx14OgSyKnwuebHXUOQAAF+Jt9F/oYWG5YU2wqaZwGFvh7U24hj17ppC5LRK2u8ZTE9MMPvgpXPq+w==
MIME-Version: 1.0
X-Received: by 10.140.164.71 with SMTP id k68mr52772613qhk.97.1458679792092;
 Tue, 22 Mar 2016 13:49:52 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Tue, 22 Mar 2016 13:49:51 -0700 (PDT)
In-Reply-To: <FB172630-093B-46AD-90B3-FAC91D91CFA3@greenbytes.de>
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
	<CACsi251cjgOP_OPZ+tLg4Y5SiERbEc5_oK8hOJ0QZv9y8iAF9g@mail.gmail.com>
	<CALK=YjPc36gLscGbQMWgWk7782v1+cP8f3w9UeaXdwuayoYQCA@mail.gmail.com>
	<FB172630-093B-46AD-90B3-FAC91D91CFA3@greenbytes.de>
Date: Tue, 22 Mar 2016 21:49:51 +0100
Message-ID: <CAKQ1sVOhH9rrcFHKOEZs_0e1OCvLK4HGde_v-3YNbMzLbMBOtA@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Done in r1736250 (and merged in r1736251).

On Tue, Mar 22, 2016 at 9:27 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Hmm, I thought we had that fixed by adding the proper compiler flags in maintainer mode. Will fix tomorrow morning.
>
> Stefan
>
>> Am 22.03.2016 um 20:59 schrieb Eric Covener <covener@gmail.com>:
>>
>>> On Tue, Mar 22, 2016 at 3:57 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
>>> Finally, just confirming we have decided that C99 is now the minimum
>>> supported compiler feature set- used for the vardic macros in h2_filter.c?
>>
>> I don't think that is meant to be bumped. We definitely had simpler
>> c99-isms fixed in h2.
>>
>> --
>> Eric Covener
>> covener@gmail.com

From dev-return-85994-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 20:55:22 2016
Return-Path: <dev-return-85994-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 38A5D180AB
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 20:55:22 +0000 (UTC)
Received: (qmail 63878 invoked by uid 500); 22 Mar 2016 20:55:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63814 invoked by uid 500); 22 Mar 2016 20:55:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63804 invoked by uid 99); 22 Mar 2016 20:55:21 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 20:55:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 518341A07E3
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:55:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Z9D1TWm6iLaE for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 20:55:20 +0000 (UTC)
Received: from mail-qg0-f41.google.com (mail-qg0-f41.google.com [209.85.192.41])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 458AE5F247
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:55:20 +0000 (UTC)
Received: by mail-qg0-f41.google.com with SMTP id u110so189077812qge.3
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 13:55:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=tHulOz7iLNSkF1Tdp5Ir/bmvMNTjkqN3ABItFTUbLmM=;
        b=J2lfQrl4+dZ42bSrcqjXQOfTrdRJrLbr4xClmZc+9ioR/TXMpvJOXXJRgfHj0OPgpb
         pY/glD+sxNgBkepGZ/KMtpoyKP778dvPLfqI23AprJ/Rgc4cPHthGGmhbkm/WvFmKr3E
         Z/HA9PDh3HkJiWfSyASLpIYoZK1aOV83YAKzIXKOU9M8tllRsQLmDw3742OQ/8UAyBNG
         96rVGlMgZ1vJU4x0Uo/WrnWm9A9FWk2gn6OSU/+CY3ZrkDv1Ao6YbRZVWaHovJRGMjPE
         98/Hf2zufXJvbim+7Lc80ibWZZspIcgrqvEi70DKhUl6+8P5HIhbTSqZLTLfdxZqBcuF
         Y8vA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=tHulOz7iLNSkF1Tdp5Ir/bmvMNTjkqN3ABItFTUbLmM=;
        b=PCeLkK72oMYVauqyq/AR3jISiMb31kdKP8XTl9CToHli1VKtjFfgWPrrqT1jJcyOJS
         QiUXFjVl9C11HZf0oE4aforkWE8Djt8GRs+4z24Tbq+O0p4cnciXeWHvq208dB9206fX
         Cs0IDCoLOey5nVI1EOQlhy4il1RWRmTG0U0ElV3F+pp4Vpt6QW6ehaPJhyWwZemds6yQ
         XBycAVOlfUzHqiBcs20S0tF8BVznLXICugDomkvqqSI6thJCZ0raeEBy3qtykiBU0t0y
         ndOiOmdBZvef2y5JpzUCmnTNXoNA03PY1HoPFDpveX0F70WQQirgK9zkgC8yh7jGzkAS
         gwrQ==
X-Gm-Message-State: AD7BkJJ/g2qYcLwp0yggXvLVeS/oTCZIzL5lhrwltjrvAsloyR95RNydODOBnVm92hYSFCjDDA9shA/stsNEIQ==
MIME-Version: 1.0
X-Received: by 10.140.167.133 with SMTP id n127mr50665478qhn.73.1458680119345;
 Tue, 22 Mar 2016 13:55:19 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Tue, 22 Mar 2016 13:55:19 -0700 (PDT)
In-Reply-To: <CACsi253DVabiJ1pDLR+PM0q94kArh1ucVw0TG4stXcT5A5sEfw@mail.gmail.com>
References: <20160322200632.565483A0113@svn01-us-west.apache.org>
	<CACsi253DVabiJ1pDLR+PM0q94kArh1ucVw0TG4stXcT5A5sEfw@mail.gmail.com>
Date: Tue, 22 Mar 2016 21:55:19 +0100
Message-ID: <CAKQ1sVOc-NP1P50WpBpduSJDzpxQQo9MRrvMis8TmeY+8RK0rg@mail.gmail.com>
Subject: Re: svn commit: r1736243 - /httpd/httpd/trunk/modules/cache/mod_socache_shmcb.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 22, 2016 at 9:09 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> Without objection, I'll be committing the backport in an hr or so for the
> morning T&R... this hardly seems to merit a vote, but any objections
> are welcome.

+1

From dev-return-85995-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 20:56:54 2016
Return-Path: <dev-return-85995-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 44045180D9
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 20:56:54 +0000 (UTC)
Received: (qmail 72957 invoked by uid 500); 22 Mar 2016 20:56:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 72877 invoked by uid 500); 22 Mar 2016 20:56:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72867 invoked by uid 99); 22 Mar 2016 20:56:53 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 20:56:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 41979C059B
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:56:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id dXba8wZ_Oecz for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 20:56:52 +0000 (UTC)
Received: from mail-qg0-f45.google.com (mail-qg0-f45.google.com [209.85.192.45])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 9B50E5FB15
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:56:52 +0000 (UTC)
Received: by mail-qg0-f45.google.com with SMTP id y89so189900883qge.2
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 13:56:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=wRxWqkFSTe7NjN9S2LnWV90ZSUkG6Xb4WJlqdIBju9I=;
        b=krzVwYkS84+fqpspAyCr8p2R6TXbzvQKndN6jUkNQftBED4/oQsFntKt8DbuVGfkXJ
         n7JVWAccjYF9yTTwA+0B1AKjjrefyer7nXLXvETLB2W6s+2X4vx7Qw/UAXsip4JnGgIh
         09/YunghYWQvpGqPFmJgwuYV0cKDMd4ZScrwJzEuUtslfTdd2XrBE3UqcRaDY9iFMPGR
         gc6jOeGcbTfGj3KdYu2AJtRehSyH0eN43jpXTB4+49iGfeaXI9MbN5zMlifQ4yiu30DO
         MDmzPLBFoCAAGfG0bthke677piSs+KkZpAEwDszsrPX8jNbtIiW/9MUl7TyJRxa9+ATg
         975g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=wRxWqkFSTe7NjN9S2LnWV90ZSUkG6Xb4WJlqdIBju9I=;
        b=AqYMF6X+lvkUW+ZlBCmhi0MWW/fRwuJ5jRpK8tP4rZZTBVG6XhteipA2K9x/jrYFVN
         c2xmaKWszFyHKrH+TFSx6r1CmcgRDS625L3r5kqQxwiNh9Tmi7SBRGLqjKsih2HXEztK
         p8R/yl7FDFE9Iez3/QdA6/ul5CbrXMQSzhBPPgLTNULZiTE1oGjADMOPCFjSG4WKTLws
         Jdn54JJ9P3OrwMNF5yUsj79Gt7Ve9Vfs0CivNawRES4RKvVst8GUt1AkMTkm7wkHmemQ
         uzuJ5nIdPUV5Sp5+bAHjd2tZOLMUmWaJ+dRwAPOLKwe0UqwVjXh8LvAuGAZ0bBPJCNp3
         FFpQ==
X-Gm-Message-State: AD7BkJLcZg6KN7f6ojzEAPZ4G6+mBlVCesDS1U/V5z86Prt4vn2AOxsRsuCgiNjm5c2h2gNCzoM22NUKr4Ymzg==
MIME-Version: 1.0
X-Received: by 10.140.249.6 with SMTP id u6mr52919336qhc.83.1458680212141;
 Tue, 22 Mar 2016 13:56:52 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Tue, 22 Mar 2016 13:56:52 -0700 (PDT)
In-Reply-To: <20160322200008.87D303A0113@svn01-us-west.apache.org>
References: <20160322200008.87D303A0113@svn01-us-west.apache.org>
Date: Tue, 22 Mar 2016 21:56:52 +0100
Message-ID: <CAKQ1sVOEhfkk8eO7niyhFot_Rr8GAK4P4xJqSy-Hc-gqA6m5YA@mail.gmail.com>
Subject: Re: svn commit: r1736242 - /httpd/httpd/branches/2.4.x/modules/proxy/examples/mod_lbmethod_rr.dsp
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 22, 2016 at 9:00 PM,  <wrowe@apache.org> wrote:
> Author: wrowe
> Date: Tue Mar 22 20:00:08 2016
> New Revision: 1736242
>
> URL: http://svn.apache.org/viewvc?rev=1736242&view=rev
> Log:
> Ensure we pick up modules/proxy/*.h headers
>
> Modified:
>     httpd/httpd/branches/2.4.x/modules/proxy/examples/mod_lbmethod_rr.dsp

No need to fix in trunk?

From dev-return-85996-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 20:57:27 2016
Return-Path: <dev-return-85996-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EE7A0180F4
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 20:57:26 +0000 (UTC)
Received: (qmail 76148 invoked by uid 500); 22 Mar 2016 20:57:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76080 invoked by uid 500); 22 Mar 2016 20:57:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76069 invoked by uid 99); 22 Mar 2016 20:57:26 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 20:57:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id DB15FC72E8
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:57:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.111
X-Spam-Level:
X-Spam-Status: No, score=-0.111 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=TIrNVIfZ;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=TIrNVIfZ
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id TBKpJTDI9g0W for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 20:57:25 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 3D5705F560
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 20:57:25 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 6DD5515A1394; Tue, 22 Mar 2016 21:57:17 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458680237; bh=TCB2SdsxYoC0RiqZVtztvscYDYCVZdWJEMydTmZRapI=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=TIrNVIfZKMr59g/5AjLITK0LNECgOuSdBFEYAxBCsZG+UrKv+6kpwsiGXMRIKcR7S
	 JhvWOBL+7QRTYhlIXvUPldyZhOKQVCWdCc4oduhtYb6AWqxhY8zO9ICski/TEa7Rgf
	 xd69xgMQmljOOJ/OuFyW32FpAXL91rvRYTEBE7aM=
Received: from [192.168.178.70] (unknown [93.211.103.15])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id E4A2E15A015A
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 21:57:16 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458680237; bh=TCB2SdsxYoC0RiqZVtztvscYDYCVZdWJEMydTmZRapI=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=TIrNVIfZKMr59g/5AjLITK0LNECgOuSdBFEYAxBCsZG+UrKv+6kpwsiGXMRIKcR7S
	 JhvWOBL+7QRTYhlIXvUPldyZhOKQVCWdCc4oduhtYb6AWqxhY8zO9ICski/TEa7Rgf
	 xd69xgMQmljOOJ/OuFyW32FpAXL91rvRYTEBE7aM=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: svn commit: r1736243 - /httpd/httpd/trunk/modules/cache/mod_socache_shmcb.c
Message-Id: <100ED810-8585-42CA-9FA6-987DF391A9B7@greenbytes.de>
Date: Tue, 22 Mar 2016 21:57:16 +0100
References: <20160322200632.565483A0113@svn01-us-west.apache.org> <CACsi253DVabiJ1pDLR+PM0q94kArh1ucVw0TG4stXcT5A5sEfw@mail.gmail.com> <CAKQ1sVOc-NP1P50WpBpduSJDzpxQQo9MRrvMis8TmeY+8RK0rg@mail.gmail.com>
In-Reply-To: <CAKQ1sVOc-NP1P50WpBpduSJDzpxQQo9MRrvMis8TmeY+8RK0rg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: iPhone Mail (13D20)

+1

> Am 22.03.2016 um 21:55 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
>> On Tue, Mar 22, 2016 at 9:09 PM, William A Rowe Jr <wrowe@rowe-clan.net> w=
rote:
>> Without objection, I'll be committing the backport in an hr or so for the=

>> morning T&R... this hardly seems to merit a vote, but any objections
>> are welcome.
>=20
> +1

From dev-return-85997-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 20:58:49 2016
Return-Path: <dev-return-85997-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E1FFD18116
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 20:58:49 +0000 (UTC)
Received: (qmail 83717 invoked by uid 500); 22 Mar 2016 20:58:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83640 invoked by uid 500); 22 Mar 2016 20:58:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83627 invoked by uid 99); 22 Mar 2016 20:58:49 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 20:58:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id ADB751A456E;
	Tue, 22 Mar 2016 20:58:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.7
X-Spam-Level:
X-Spam-Status: No, score=0.7 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, MIME_QP_LONG_LINE=0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=eissing.org header.b=zP/HSpfb;
	dkim=pass (1024-bit key) header.d=eissing.org header.b=TzH5a1dv
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id XKkFZDHGyUsY; Tue, 22 Mar 2016 20:58:42 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 3B1505FB15;
	Tue, 22 Mar 2016 20:58:41 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id CB00B15A1394; Tue, 22 Mar 2016 21:58:39 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=eissing.org; s=mail;
	t=1458680319; bh=OZ4EIfuL3ldrDaukqhjtWSTpEQjz+HPqKUbY27/MO8A=;
	h=Subject:From:In-Reply-To:Date:Cc:References:To:From;
	b=zP/HSpfbOpqI3IZu94alVC5LD4eoIFsOX/OU+mh3m9+hcgL7Ln/m9WvdKhER0cFdD
	 gh4BxjMKn8HNhUdApXhMeGaI6nlKQ0D/XSEYZvMP2hlxOKn/E/zh5ncllGSdne4q0V
	 1gAgmstCcXUBTvAN0becjUqyvLCZq6Ai8y8JjVdk=
Received: from [192.168.178.70] (unknown [93.211.103.15])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id A5BAF15A015A;
	Tue, 22 Mar 2016 21:58:37 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=eissing.org; s=mail;
	t=1458680317; bh=OZ4EIfuL3ldrDaukqhjtWSTpEQjz+HPqKUbY27/MO8A=;
	h=Subject:From:In-Reply-To:Date:Cc:References:To:From;
	b=TzH5a1dvMyI/RsAZiwv/90kPAtPIS4cfCQXpoaxVXBg+x+a0tKhSaCOPEO/PlocPx
	 eCILzDVnaHFK1hO6gxBja3McVmGwDvGltmpCvSUiQf4XJjD18aw2PNSFZ/8iXUztc7
	 V3RdaGE76Jb8GC3WyNKvb5hZHyvlJUVyyOSdvBjM=
Content-Type: text/plain;
	charset=us-ascii
Mime-Version: 1.0 (1.0)
Subject: Re: svn commit: r1736251 - in /httpd/httpd/branches/2.4.x: ./ modules/http2/h2_filter.c
From: Stefan Eissing <stefan@eissing.org>
X-Mailer: iPhone Mail (13D20)
In-Reply-To: <20160322204848.0613F3A0223@svn01-us-west.apache.org>
Date: Tue, 22 Mar 2016 21:58:37 +0100
Cc: cvs@httpd.apache.org
Content-Transfer-Encoding: quoted-printable
Message-Id: <453A8604-1EB8-4200-8412-9BA45A406758@eissing.org>
References: <20160322204848.0613F3A0223@svn01-us-west.apache.org>
To: dev@httpd.apache.org

Thanks, Yann.=20

> Am 22.03.2016 um 21:48 schrieb ylavic@apache.org:
>=20
> Author: ylavic
> Date: Tue Mar 22 20:48:47 2016
> New Revision: 1736251
>=20
> URL: http://svn.apache.org/viewvc?rev=3D1736251&view=3Drev
> Log:
> Merge r1736250 from trunk:
>=20
> mod_http2: no variadic macro in C89, use equivalent function.
> Reviewed/backported by: ylavic
>=20
> Modified:
>    httpd/httpd/branches/2.4.x/   (props changed)
>    httpd/httpd/branches/2.4.x/modules/http2/h2_filter.c
>=20
> Propchange: httpd/httpd/branches/2.4.x/
> --------------------------------------------------------------------------=
----
> --- svn:mergeinfo (original)
> +++ svn:mergeinfo Tue Mar 22 20:48:47 2016
> @@ -2,4 +2,4 @@
> /httpd/httpd/branches/2.4.17-protocols-http2:1701609-1705681
> /httpd/httpd/branches/revert-ap-ldap:1150158-1150173
> /httpd/httpd/branches/wombat-integration:723609-723841
> -/httpd/httpd/trunk:1200475,1200478,1200482,1200491,1200496,1200513,120055=
0,1200556,1200580,1200605,1200612,1200614,1200639,1200646,1200656,1200667,12=
00679,1200699,1200702,1200955,1200957,1200961,1200963,1200968,1200975,120097=
7,1201032,1201042,1201111,1201194,1201198,1201202,1201443,1201450,1201460,12=
01956,1202236,1202453,1202456,1202886,1203400,1203491,1203632,1203714,120385=
9,1203980,1204630,1204968,1204990,1205061,1205075,1205379,1205885,1206291,12=
06472,1206587,1206850,1206940,1206978,1207719,1208753,1208835,1209053,120908=
5,1209417,1209432,1209461,1209601,1209603,1209618,1209623,1209741,1209754,12=
09766,1209776,1209797-1209798,1209811-1209812,1209814,1209908,1209910,120991=
3,1209916-1209917,1209947,1209952,1210067,1210080,1210120,1210124,1210130,12=
10148,1210219,1210221,1210252,1210284,1210336,1210378,1210725,1210892,121095=
1,1210954,1211351-1211352,1211364,1211490,1211495,1211528,1211663,1211680,12=
12872,1212883,1213338,1213380-1213381,1213391,1213399,1213567,1214003,121400=
5,1214015,12
> 15514,1220462,1220467,1220493,1220524,1220570,1220768,1220794,1220826,1220=
846,1221205,1221292,1222335,1222370,1222473,1222915,1222917,1222921,1222930,=
1223048,1225060,1225197-1225199,1225223,1225380,1225476,1225478,1225791,1225=
795-1225796,1226339,1226375,1227910,1228700,1228816,1229024,1229059,1229099,=
1229116,1229134,1229136,1229930,1230286,1231255,1231257,1231442,1231446,1231=
508,1231510,1231518,1232575,1232594,1232630,1232838,1234180,1234297,1234479,=
1234511,1234565,1234574,1234642-1234643,1234876,1234899,1235019,1236122,1236=
701,1237407,1238545,1238768,1239029-1239030,1239071,1239565,1240315,1240470,=
1240778,1241069,1241071,1242089,1242798,1242967,1243176,1243246,1243797,1243=
799,1244211,1245717,1290823,1290835,1291819-1291820,1291834,1291840,1292043,=
1293405,1293534-1293535,1293658,1293678,1293708,1294306,1294349,1294356,1294=
358,1294372,1294471,1297560,1299718,1299786,1300766,1301111,1301725,1302444,=
1302483,1302653,1302665,1302674,1303201,1303435,1303827,1304087,1304874-1304=
875,1305167
> ,1305586,1306350,1306409,1306426,1306841,1307790,1308327,1308459,1309536,1=
309567,1311468,1324760,1325218,1325227,1325250,1325265,1325275,1325632,13257=
24,1326980,1326984,1326991,1327689,1328325-1328326,1328339,1328345,1328950,1=
330189,1330964,1331110,1331115,1331942,1331977,1332378,1333969,1334343,13358=
82,1337344,1341906,1341913,1343085,1343087,1343094,1343099,1343109,1343935,1=
345319,1345329,1346905,1347980,1348036,1348653,1348656,1348660,1349905,13510=
12-1351020,1351071-1351072,1351074,1351737,1352047,1352534,1352909-1352912,1=
357685,1358061,1359057,1359881,1359884,1361153,1361298,1361766,1361773,13617=
78,1361784,1361791-1361792,1361801,1361803,1362020,1362538,1362707,1363035,1=
363183,1363186,1363312,1363440,1363557,1363589,1363829,1363832,1363836-13638=
37,1363853,1364133,1364138,1364229,1364601,1364695,1365001,1365020,1365029,1=
365479,1366319,1366344,1366621,1367778,1367819,1368053,1368058,1368094,13681=
21,1368131,1368393,1368396,1369419,1369568,1369604,1369618,1369904,1369995,1=
369999,1370
> 001,1370466,1370592,1370615-1370616,1370763,1371387,1371791,1371801,137187=
8,1371903,1373270,1373447,1373898,1373955,1374157,1374199,1374247,1374874,13=
74877,1374880,1375006,1375009,1375011,1375013,1375584,1376695,1376700,137817=
8,1383490,1384408,1384913,1386576,1386578,1386726,1386822,1386880,1386913,13=
87085,1387088,1387110,1387389,1387444,1387603,1387607,1387633,1387693,138797=
9,1388029,1388445,1388447,1388648,1388660,1388825,1388899,1389316,1389339,13=
89481,1389506,1389564,1389566-1389569,1390562,1390564,1391396,1391398,139177=
1,1392120,1392122,1392150,1392214,1392345-1392347,1392850,1393033,1393058,13=
93152,1393338,1393564,1394079,1395225,1395253-1395256,1395792,1397172,139732=
0,1397636,1397687,1397710,1397716,1398025,1398040,1398066,1398478,1398480-13=
98481,1398970,1399413,1399687,1399708,1400700,1401448,1402924,1403476,140348=
3,1403492,1404653,1405407,1405856,1405973,1406068,1406493,1406495,1406616,14=
06646,1406760,1407004,1407006,1407085,1407088,1407248,1407381,1407459-140746=
0,1407528,1
> 407853,1407965,1408093,1408402,1408958,1408961,1409170,1409437,1409726,140=
9800,1410681,1410954,1411862,1412278,1413732,1414094,1415008,1415023,1415075=
,1416121,1416150,1416278,1417197,1417440,1417529,1418524,1418556,1418648,141=
8655,1418703,1418721,1418752,1418769,1419084,1419719,1419726,1419755,1419781=
,1419796,1420120,1420124,1420149,1420184,1420644,1420685-1420686,1420975,142=
1288,1421323,1421851,1421912,1421953,1422135,1422549,1422594,1422712,1422855=
,1422937,1422943,1422980,1423353,1423933,1425360,1425771-1425772,1425775,142=
5777,1425874,1426850,1426975,1427546,1428184,1428280,1428916,1429228,1429559=
,1429561,1429564,1429582,1430575,1430814,1430869,1433001,1433613,1433682,143=
3861,1433988,1435178,1435811,1436058,1436401,1439083,1439106,1439114,1439404=
,1439623,1442309,1442320,1442326,1442412,1442759,1442865,1447993,1448171,144=
8453,1451478,1451484,1451633,1451849,1451905,1451921,1452128,1452195,1452259=
,1452281,1452551,1452911,1452949,1452954,1453022,1453574,1453604,1453875-145=
3876,145396
> 3,1453981,1454386,1454414-1454415,1454888,1457437,1457450,1457471,1457504,=
1457520-1457521,1457610,1457995,1458003-1458004,1458020,1458285,1458447,1458=
456,1462266,1462269,1462643,1463044-1463047,1463052,1463056,1463455,1463736,=
1463750,1463754,1464675,1464721,1464762,1465115-1465116,1465190,1467765,1468=
581,1470183,1470679,1470940,1471449,1475878,1476604,1476621,1476642,1476644-=
1476645,1476652,1476680,1477094,1477530,1478382,1478748,1479117,1479216,1479=
222,1479411,1479528,1479905,1479966,1480046,1480627,1481197,1481302,1481306,=
1481396-1481397,1481891,1482041,1482075,1482170,1482555,1482859,1482996,1483=
005,1483027,1483190,1484343,1484398,1484832,1484910,1484914,1485409,1485668,=
1486490,1487528,1487530,1488158,1488164,1488296,1488471,1488492,1488644,1490=
493,1490507,1490550,1490761,1490994,1491155,1491221,1491234,1491458,1491479,=
1491538,1491564,1491724,1492663,1492710,1492782,1493330,1493921,1493925,1494=
536,1495501,1496194,1496338,1496429,1496709,1497371,1497588,1498880,1499679,=
1500323,150
> 0345,1500362,1500423,1500437,1500483,1500519,1501294,1501369,1501399,15019=
13,1502665,1502772,1503680,1503866,1503990-1503991,1504276,1506714,1509872,1=
509983,1510084-1510085,1510098,1510588,1510707,1511093,1513492,1513508,15140=
39,1514064,1514214-1514215,1514255,1514267,1514617,1515050,1515162,1515403,1=
515411,1515420,1517025,1517045,1517175,1517366,1517386,1517388,1518265,15182=
69,1519475,1520368,1520445,1520760,1520908,1521909,1523235,1523239,1523281,1=
523387,1524101,1524158,1524192,1524368,1524388,1524770,1525276,1525280-15252=
81,1525931,1526168,1526189,1526647,1526666,1527008,1527220,1527291,1527294-1=
527295,1527509,1527925-1527926,1528143,1528718,1529014,1529277,1529449,15295=
59,1529988,1529991,1530793,1531340,1531370,1531505,1531672,1531961-1531962,1=
532746,1532816,1533065,1533224,1534321,1534754,1534890,1534892,1536310,15375=
35,1538490,1540051-1540052,1541181,1541270,1541368,1542338,1542379,1542533,1=
542562,1542615,1543020,1543147,1543149,1543174,1544381,1544774,1544784,15448=
12,1544820,
> 1545286,1545292,1545325,1545364,1545408,1545411,1546692-1546693,1546730,15=
46759-1546760,1546801,1546804-1546805,1546835-1546836,1547845,1550061,155030=
2,1550307,1551685,1551714,1551802,1552130,1552227,1553204,1553824,1554161,15=
54168,1554170,1554175-1554176,1554179,1554181,1554184,1554188,1554192,155419=
5,1554276,1554281,1554300-1554301,1554994-1554995,1555240,1555259,1555266,15=
55423-1555424,1555463-1555464,1555467,1555555,1555569,1556206,1556428,155691=
1-1556912,1556914,1556937,1557317,1557617,1558483,1559351,1559828,1560367,15=
60546,1560679,1560689,1560729,1560977,1560979,1561137,1561262,1561385,156166=
0,1561923,1562472,1563193,1563379,1563381,1563417-1563418,1563420,1564052,15=
64437,1564475,1564756,1564760,1565081,1565711,1568404,1569615,1570288,157059=
8,1571369,1572092,1572198,1572543,1572561,1572611,1572630,1572655,1572663,15=
72668-1572671,1572896,1572905,1572911,1572967,1573224,1573229,1573626,157415=
1,1575400,1576233,1576741,1578760,1578762,1580568,1583005,1583007-1583008,15=
83027,15831
> 75,1583191,1584098,1584430,1584434,1584572,1584653,1584658,1584665,1584703=
,1584878,1584884,1584896,1585054,1585072,1585090,1585435,1585609,1585824,158=
5918-1585919,1586745,1586827,1587036,1587040,1587053,1587255,1587594,1587607=
,1587639,1587654,1588054,1588065,1588213,1588330,1588427,1588519,1588527,158=
8704,1588851,1588853,1588868,1589413,1590437,1590509,1591143,1591320,1591322=
,1591328,1591390,1591394,1591401,1591472,1591508,1592032,1592037,1592500,159=
2511,1592514,1592529,1592615,1592632,1593745,1594625,1594643,1594648,1595305=
,1595321,1595426,1597182,1597349,1597352,1597639,1597642,1598107,1598946,159=
9535,1601076,1601184-1601185,1601274,1601291,1601624,1601630,1601919,1601995=
,1602338,1602978,1602989,1603027,1603029,1603122,1603156,1603915,1604382,160=
4461,1604631,1605207,1605827,1605829,1607960,1608284,1608785,1608999,1609914=
,1609936,1609938,1610207,1610311,1610353,1610366,1610491,1610652,1610674,161=
1165,1611169,1611244,1611600,1611871,1611978,1612068,1615026,1615289,1617018=
,1618401,16
> 18541,1619297,1619383,1619444,1619483,1619835,1620324,1620461,1620932,1621=
367,1621372,1621417,1621453,1621806,1622450,1624234,1624349,1625196,1625952,=
1626050,1626978,1628104,1628918-1628919,1628924,1628950,1629235,1629239,1629=
244,1629250,1629372,1629440-1629441,1629485,1629507-1629508,1629519,1629577,=
1629652,1629916,1631885,1632454,1632740,1632742,1633730-1633731,1633793,1634=
120,1634237,1634425,1634736,1634836,1635510,1635558,1635644-1635645,1635762,=
1637112,1638072-1638073,1638879,1639614,1640031,1640036,1640040,1640042,1640=
331,1641077,1641095,1641376,1642099,1642484,1642499,1642847,1642868,1643034,=
1643284,1643537,1643825,1644245,1646282,1646724,1647035,1648201,1648394,1648=
433,1648719,1648840,1649001,1649043,1649632,1649966,1650047,1650061,1650309-=
1650310,1650320,1651088,1652829,1652929,1652931,1652955,1652982,1652985,1652=
989,1653941,1653978,1653997,1656225,1656669,1657256,1657261,1657636,1657638,=
1657685,1657881,1657897,1658760,1658765,1661067,1661258,1661448,1661464,1661=
486,1662245
> -1662246,1663017,1663647,1664071,1664133,1664205,1664299,1664709,1665215,1=
665218,1665625,1665643,1665721,1666297,1666361,1666363,1666468,1666618,16669=
98,1667385-1667386,1668532,1668535,1668553,1669130,1669289,1669292,1670434,1=
671364,1671396-1671397,1671918,1672289,1672453,1672466,1672480,1672483,16725=
64,1672757,1672985,1672989,1673113,1673155,1673368,1673455,1673769,1674056,1=
674538,1674542,1674606,1674632,1674697,1675103,1675410,1675533,1676085,16766=
54,1676709,1676842,1677096,1677143-1677146,1677149,1677151,1677153-1677156,1=
677159,1677339,1677462,1677702,1677830,1677832,1677834-1677835,1678763,16790=
32,1679181-1679182,1679192,1679428,1679432,1679470,1679620,1679712,1680276,1=
680895,1680900,1680942,1681037,1681424,1681440,1681685,1681694,1681795,16824=
82,1682816,1682819,1682907,1682923,1682937,1682979,1682988,1683044,1683047,1=
683123,1683881,1683884,1684057,1684171,1684900,1685069,1685339,1685345,16853=
47,1685349-1685350,1685650,1685659,1685779,1686085,1686853,1686856,1687539,1=
687680,1687
> 980,1688274,1688331,1688339-1688341,1688343,1688474-1688475,1688536,168853=
8,1688660,1689325,1689605,1689694,1689698,1690120,1690137,1690248,1691374,16=
91582,1691592,1691819,1691908,1692285,1692432,1692486,1692516,1693792,169391=
8-1693919,1693963,1694903,1694936,1694950-1694951,1695170,1695727,1695874,16=
95885,1695920,1696105,1696264,1696266,1696279,1696428,1696442,1696565,169659=
2,1696607,1696755,1696881,1697013,1697015,1697051,1697323,1697339,1697370,16=
97389,1697446,1697543,1697634,1697855,1698023,1698103,1698107,1698116,169813=
3,1698330,1700271,1700275,1700317-1700322,1700326,1700328,1700330-1700332,17=
00334,1700336,1700338,1700418,1700514,1700777,1700851,1700917,1700925,170096=
8,1701005,1701145,1701178,1701204,1701347,1701436,1701545,1701717,1702643,17=
02919,1703152,1703417,1703642,1703807,1703813,1703822,1703871,1703902,170395=
2,1704099,1704241,1704262,1704797,1704799,1704826,1705099,1705134,1705194,17=
05257,1705749,1705776,1705823,1705826,1705828,1705833,1705983,1706275,170662=
7,1706635,1
> 706637,1706640,1706918,1706942,1706989,1707002,1707230-1707231,1707497,170=
7519,1707591,1707626-1707627,1707640,1707831,1707883,1707889,1708107,1709008=
,1709587,1709596,1709602,1709995,1710095,1710105,1710231,1710380,1710391,171=
0419,1710572,1710583,1710723,1711479,1711553,1711648,1711728,1711902,1712382=
,1713040,1713209,1713937,1715023,1715255,1715273,1715567-1715568,1715570-171=
5572,1715576,1715581-1715585,1716211,1716388,1716460,1716487,1716660,1716940=
,1717063,1717086,1717639,1717816,1717934,1717958,1717975,1717985,1718314,171=
8338,1718400,1718514,1718556,1718569,1718598,1719016,1719018,1719189-1719190=
,1719252,1719254-1719255,1719257,1719967,1720129,1720996,1721313,1721685,172=
1899,1722137,1722154,1722572,1722701,1723122,1723143,1723284,1723295,1723567=
,1724847,1724857,1725149,1725325,1725392,1725394-1725395,1725445,1725468,172=
5485,1725516,1725940,1726009,1726026,1726086,1726167,1726233,1726798,1726881=
,1726888,1727071,1727111,1727317,1727544,1727573,1727603,1727842,1729374,172=
9376,172982
> 6,1729847,1729929-1729931,1729960,1730297,1730640,1730865,1732252,1732353,=
1732369,1732716,1732954,1732986,1733056,1733064,1733068,1733088-1733089,1733=
275,1733523,1733691,1734006,1734125,1734239,1734294,1734412,1734817,1734955,=
1734989,1735088,1735608-1735609,1735611,1735786,1736156
> +/httpd/httpd/trunk:1200475,1200478,1200482,1200491,1200496,1200513,120055=
0,1200556,1200580,1200605,1200612,1200614,1200639,1200646,1200656,1200667,12=
00679,1200699,1200702,1200955,1200957,1200961,1200963,1200968,1200975,120097=
7,1201032,1201042,1201111,1201194,1201198,1201202,1201443,1201450,1201460,12=
01956,1202236,1202453,1202456,1202886,1203400,1203491,1203632,1203714,120385=
9,1203980,1204630,1204968,1204990,1205061,1205075,1205379,1205885,1206291,12=
06472,1206587,1206850,1206940,1206978,1207719,1208753,1208835,1209053,120908=
5,1209417,1209432,1209461,1209601,1209603,1209618,1209623,1209741,1209754,12=
09766,1209776,1209797-1209798,1209811-1209812,1209814,1209908,1209910,120991=
3,1209916-1209917,1209947,1209952,1210067,1210080,1210120,1210124,1210130,12=
10148,1210219,1210221,1210252,1210284,1210336,1210378,1210725,1210892,121095=
1,1210954,1211351-1211352,1211364,1211490,1211495,1211528,1211663,1211680,12=
12872,1212883,1213338,1213380-1213381,1213391,1213399,1213567,1214003,121400=
5,1214015,12
> 15514,1220462,1220467,1220493,1220524,1220570,1220768,1220794,1220826,1220=
846,1221205,1221292,1222335,1222370,1222473,1222915,1222917,1222921,1222930,=
1223048,1225060,1225197-1225199,1225223,1225380,1225476,1225478,1225791,1225=
795-1225796,1226339,1226375,1227910,1228700,1228816,1229024,1229059,1229099,=
1229116,1229134,1229136,1229930,1230286,1231255,1231257,1231442,1231446,1231=
508,1231510,1231518,1232575,1232594,1232630,1232838,1234180,1234297,1234479,=
1234511,1234565,1234574,1234642-1234643,1234876,1234899,1235019,1236122,1236=
701,1237407,1238545,1238768,1239029-1239030,1239071,1239565,1240315,1240470,=
1240778,1241069,1241071,1242089,1242798,1242967,1243176,1243246,1243797,1243=
799,1244211,1245717,1290823,1290835,1291819-1291820,1291834,1291840,1292043,=
1293405,1293534-1293535,1293658,1293678,1293708,1294306,1294349,1294356,1294=
358,1294372,1294471,1297560,1299718,1299786,1300766,1301111,1301725,1302444,=
1302483,1302653,1302665,1302674,1303201,1303435,1303827,1304087,1304874-1304=
875,1305167
> ,1305586,1306350,1306409,1306426,1306841,1307790,1308327,1308459,1309536,1=
309567,1311468,1324760,1325218,1325227,1325250,1325265,1325275,1325632,13257=
24,1326980,1326984,1326991,1327689,1328325-1328326,1328339,1328345,1328950,1=
330189,1330964,1331110,1331115,1331942,1331977,1332378,1333969,1334343,13358=
82,1337344,1341906,1341913,1343085,1343087,1343094,1343099,1343109,1343935,1=
345319,1345329,1346905,1347980,1348036,1348653,1348656,1348660,1349905,13510=
12-1351020,1351071-1351072,1351074,1351737,1352047,1352534,1352909-1352912,1=
357685,1358061,1359057,1359881,1359884,1361153,1361298,1361766,1361773,13617=
78,1361784,1361791-1361792,1361801,1361803,1362020,1362538,1362707,1363035,1=
363183,1363186,1363312,1363440,1363557,1363589,1363829,1363832,1363836-13638=
37,1363853,1364133,1364138,1364229,1364601,1364695,1365001,1365020,1365029,1=
365479,1366319,1366344,1366621,1367778,1367819,1368053,1368058,1368094,13681=
21,1368131,1368393,1368396,1369419,1369568,1369604,1369618,1369904,1369995,1=
369999,1370
> 001,1370466,1370592,1370615-1370616,1370763,1371387,1371791,1371801,137187=
8,1371903,1373270,1373447,1373898,1373955,1374157,1374199,1374247,1374874,13=
74877,1374880,1375006,1375009,1375011,1375013,1375584,1376695,1376700,137817=
8,1383490,1384408,1384913,1386576,1386578,1386726,1386822,1386880,1386913,13=
87085,1387088,1387110,1387389,1387444,1387603,1387607,1387633,1387693,138797=
9,1388029,1388445,1388447,1388648,1388660,1388825,1388899,1389316,1389339,13=
89481,1389506,1389564,1389566-1389569,1390562,1390564,1391396,1391398,139177=
1,1392120,1392122,1392150,1392214,1392345-1392347,1392850,1393033,1393058,13=
93152,1393338,1393564,1394079,1395225,1395253-1395256,1395792,1397172,139732=
0,1397636,1397687,1397710,1397716,1398025,1398040,1398066,1398478,1398480-13=
98481,1398970,1399413,1399687,1399708,1400700,1401448,1402924,1403476,140348=
3,1403492,1404653,1405407,1405856,1405973,1406068,1406493,1406495,1406616,14=
06646,1406760,1407004,1407006,1407085,1407088,1407248,1407381,1407459-140746=
0,1407528,1
> 407853,1407965,1408093,1408402,1408958,1408961,1409170,1409437,1409726,140=
9800,1410681,1410954,1411862,1412278,1413732,1414094,1415008,1415023,1415075=
,1416121,1416150,1416278,1417197,1417440,1417529,1418524,1418556,1418648,141=
8655,1418703,1418721,1418752,1418769,1419084,1419719,1419726,1419755,1419781=
,1419796,1420120,1420124,1420149,1420184,1420644,1420685-1420686,1420975,142=
1288,1421323,1421851,1421912,1421953,1422135,1422549,1422594,1422712,1422855=
,1422937,1422943,1422980,1423353,1423933,1425360,1425771-1425772,1425775,142=
5777,1425874,1426850,1426975,1427546,1428184,1428280,1428916,1429228,1429559=
,1429561,1429564,1429582,1430575,1430814,1430869,1433001,1433613,1433682,143=
3861,1433988,1435178,1435811,1436058,1436401,1439083,1439106,1439114,1439404=
,1439623,1442309,1442320,1442326,1442412,1442759,1442865,1447993,1448171,144=
8453,1451478,1451484,1451633,1451849,1451905,1451921,1452128,1452195,1452259=
,1452281,1452551,1452911,1452949,1452954,1453022,1453574,1453604,1453875-145=
3876,145396
> 3,1453981,1454386,1454414-1454415,1454888,1457437,1457450,1457471,1457504,=
1457520-1457521,1457610,1457995,1458003-1458004,1458020,1458285,1458447,1458=
456,1462266,1462269,1462643,1463044-1463047,1463052,1463056,1463455,1463736,=
1463750,1463754,1464675,1464721,1464762,1465115-1465116,1465190,1467765,1468=
581,1470183,1470679,1470940,1471449,1475878,1476604,1476621,1476642,1476644-=
1476645,1476652,1476680,1477094,1477530,1478382,1478748,1479117,1479216,1479=
222,1479411,1479528,1479905,1479966,1480046,1480627,1481197,1481302,1481306,=
1481396-1481397,1481891,1482041,1482075,1482170,1482555,1482859,1482996,1483=
005,1483027,1483190,1484343,1484398,1484832,1484910,1484914,1485409,1485668,=
1486490,1487528,1487530,1488158,1488164,1488296,1488471,1488492,1488644,1490=
493,1490507,1490550,1490761,1490994,1491155,1491221,1491234,1491458,1491479,=
1491538,1491564,1491724,1492663,1492710,1492782,1493330,1493921,1493925,1494=
536,1495501,1496194,1496338,1496429,1496709,1497371,1497588,1498880,1499679,=
1500323,150
> 0345,1500362,1500423,1500437,1500483,1500519,1501294,1501369,1501399,15019=
13,1502665,1502772,1503680,1503866,1503990-1503991,1504276,1506714,1509872,1=
509983,1510084-1510085,1510098,1510588,1510707,1511093,1513492,1513508,15140=
39,1514064,1514214-1514215,1514255,1514267,1514617,1515050,1515162,1515403,1=
515411,1515420,1517025,1517045,1517175,1517366,1517386,1517388,1518265,15182=
69,1519475,1520368,1520445,1520760,1520908,1521909,1523235,1523239,1523281,1=
523387,1524101,1524158,1524192,1524368,1524388,1524770,1525276,1525280-15252=
81,1525931,1526168,1526189,1526647,1526666,1527008,1527220,1527291,1527294-1=
527295,1527509,1527925-1527926,1528143,1528718,1529014,1529277,1529449,15295=
59,1529988,1529991,1530793,1531340,1531370,1531505,1531672,1531961-1531962,1=
532746,1532816,1533065,1533224,1534321,1534754,1534890,1534892,1536310,15375=
35,1538490,1540051-1540052,1541181,1541270,1541368,1542338,1542379,1542533,1=
542562,1542615,1543020,1543147,1543149,1543174,1544381,1544774,1544784,15448=
12,1544820,
> 1545286,1545292,1545325,1545364,1545408,1545411,1546692-1546693,1546730,15=
46759-1546760,1546801,1546804-1546805,1546835-1546836,1547845,1550061,155030=
2,1550307,1551685,1551714,1551802,1552130,1552227,1553204,1553824,1554161,15=
54168,1554170,1554175-1554176,1554179,1554181,1554184,1554188,1554192,155419=
5,1554276,1554281,1554300-1554301,1554994-1554995,1555240,1555259,1555266,15=
55423-1555424,1555463-1555464,1555467,1555555,1555569,1556206,1556428,155691=
1-1556912,1556914,1556937,1557317,1557617,1558483,1559351,1559828,1560367,15=
60546,1560679,1560689,1560729,1560977,1560979,1561137,1561262,1561385,156166=
0,1561923,1562472,1563193,1563379,1563381,1563417-1563418,1563420,1564052,15=
64437,1564475,1564756,1564760,1565081,1565711,1568404,1569615,1570288,157059=
8,1571369,1572092,1572198,1572543,1572561,1572611,1572630,1572655,1572663,15=
72668-1572671,1572896,1572905,1572911,1572967,1573224,1573229,1573626,157415=
1,1575400,1576233,1576741,1578760,1578762,1580568,1583005,1583007-1583008,15=
83027,15831
> 75,1583191,1584098,1584430,1584434,1584572,1584653,1584658,1584665,1584703=
,1584878,1584884,1584896,1585054,1585072,1585090,1585435,1585609,1585824,158=
5918-1585919,1586745,1586827,1587036,1587040,1587053,1587255,1587594,1587607=
,1587639,1587654,1588054,1588065,1588213,1588330,1588427,1588519,1588527,158=
8704,1588851,1588853,1588868,1589413,1590437,1590509,1591143,1591320,1591322=
,1591328,1591390,1591394,1591401,1591472,1591508,1592032,1592037,1592500,159=
2511,1592514,1592529,1592615,1592632,1593745,1594625,1594643,1594648,1595305=
,1595321,1595426,1597182,1597349,1597352,1597639,1597642,1598107,1598946,159=
9535,1601076,1601184-1601185,1601274,1601291,1601624,1601630,1601919,1601995=
,1602338,1602978,1602989,1603027,1603029,1603122,1603156,1603915,1604382,160=
4461,1604631,1605207,1605827,1605829,1607960,1608284,1608785,1608999,1609914=
,1609936,1609938,1610207,1610311,1610353,1610366,1610491,1610652,1610674,161=
1165,1611169,1611244,1611600,1611871,1611978,1612068,1615026,1615289,1617018=
,1618401,16
> 18541,1619297,1619383,1619444,1619483,1619835,1620324,1620461,1620932,1621=
367,1621372,1621417,1621453,1621806,1622450,1624234,1624349,1625196,1625952,=
1626050,1626978,1628104,1628918-1628919,1628924,1628950,1629235,1629239,1629=
244,1629250,1629372,1629440-1629441,1629485,1629507-1629508,1629519,1629577,=
1629652,1629916,1631885,1632454,1632740,1632742,1633730-1633731,1633793,1634=
120,1634237,1634425,1634736,1634836,1635510,1635558,1635644-1635645,1635762,=
1637112,1638072-1638073,1638879,1639614,1640031,1640036,1640040,1640042,1640=
331,1641077,1641095,1641376,1642099,1642484,1642499,1642847,1642868,1643034,=
1643284,1643537,1643825,1644245,1646282,1646724,1647035,1648201,1648394,1648=
433,1648719,1648840,1649001,1649043,1649632,1649966,1650047,1650061,1650309-=
1650310,1650320,1651088,1652829,1652929,1652931,1652955,1652982,1652985,1652=
989,1653941,1653978,1653997,1656225,1656669,1657256,1657261,1657636,1657638,=
1657685,1657881,1657897,1658760,1658765,1661067,1661258,1661448,1661464,1661=
486,1662245
> -1662246,1663017,1663647,1664071,1664133,1664205,1664299,1664709,1665215,1=
665218,1665625,1665643,1665721,1666297,1666361,1666363,1666468,1666618,16669=
98,1667385-1667386,1668532,1668535,1668553,1669130,1669289,1669292,1670434,1=
671364,1671396-1671397,1671918,1672289,1672453,1672466,1672480,1672483,16725=
64,1672757,1672985,1672989,1673113,1673155,1673368,1673455,1673769,1674056,1=
674538,1674542,1674606,1674632,1674697,1675103,1675410,1675533,1676085,16766=
54,1676709,1676842,1677096,1677143-1677146,1677149,1677151,1677153-1677156,1=
677159,1677339,1677462,1677702,1677830,1677832,1677834-1677835,1678763,16790=
32,1679181-1679182,1679192,1679428,1679432,1679470,1679620,1679712,1680276,1=
680895,1680900,1680942,1681037,1681424,1681440,1681685,1681694,1681795,16824=
82,1682816,1682819,1682907,1682923,1682937,1682979,1682988,1683044,1683047,1=
683123,1683881,1683884,1684057,1684171,1684900,1685069,1685339,1685345,16853=
47,1685349-1685350,1685650,1685659,1685779,1686085,1686853,1686856,1687539,1=
687680,1687
> 980,1688274,1688331,1688339-1688341,1688343,1688474-1688475,1688536,168853=
8,1688660,1689325,1689605,1689694,1689698,1690120,1690137,1690248,1691374,16=
91582,1691592,1691819,1691908,1692285,1692432,1692486,1692516,1693792,169391=
8-1693919,1693963,1694903,1694936,1694950-1694951,1695170,1695727,1695874,16=
95885,1695920,1696105,1696264,1696266,1696279,1696428,1696442,1696565,169659=
2,1696607,1696755,1696881,1697013,1697015,1697051,1697323,1697339,1697370,16=
97389,1697446,1697543,1697634,1697855,1698023,1698103,1698107,1698116,169813=
3,1698330,1700271,1700275,1700317-1700322,1700326,1700328,1700330-1700332,17=
00334,1700336,1700338,1700418,1700514,1700777,1700851,1700917,1700925,170096=
8,1701005,1701145,1701178,1701204,1701347,1701436,1701545,1701717,1702643,17=
02919,1703152,1703417,1703642,1703807,1703813,1703822,1703871,1703902,170395=
2,1704099,1704241,1704262,1704797,1704799,1704826,1705099,1705134,1705194,17=
05257,1705749,1705776,1705823,1705826,1705828,1705833,1705983,1706275,170662=
7,1706635,1
> 706637,1706640,1706918,1706942,1706989,1707002,1707230-1707231,1707497,170=
7519,1707591,1707626-1707627,1707640,1707831,1707883,1707889,1708107,1709008=
,1709587,1709596,1709602,1709995,1710095,1710105,1710231,1710380,1710391,171=
0419,1710572,1710583,1710723,1711479,1711553,1711648,1711728,1711902,1712382=
,1713040,1713209,1713937,1715023,1715255,1715273,1715567-1715568,1715570-171=
5572,1715576,1715581-1715585,1716211,1716388,1716460,1716487,1716660,1716940=
,1717063,1717086,1717639,1717816,1717934,1717958,1717975,1717985,1718314,171=
8338,1718400,1718514,1718556,1718569,1718598,1719016,1719018,1719189-1719190=
,1719252,1719254-1719255,1719257,1719967,1720129,1720996,1721313,1721685,172=
1899,1722137,1722154,1722572,1722701,1723122,1723143,1723284,1723295,1723567=
,1724847,1724857,1725149,1725325,1725392,1725394-1725395,1725445,1725468,172=
5485,1725516,1725940,1726009,1726026,1726086,1726167,1726233,1726798,1726881=
,1726888,1727071,1727111,1727317,1727544,1727573,1727603,1727842,1729374,172=
9376,172982
> 6,1729847,1729929-1729931,1729960,1730297,1730640,1730865,1732252,1732353,=
1732369,1732716,1732954,1732986,1733056,1733064,1733068,1733088-1733089,1733=
275,1733523,1733691,1734006,1734125,1734239,1734294,1734412,1734817,1734955,=
1734989,1735088,1735608-1735609,1735611,1735786,1736156,1736250
>=20
> Modified: httpd/httpd/branches/2.4.x/modules/http2/h2_filter.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/modules/http2=
/h2_filter.c?rev=3D1736251&r1=3D1736250&r2=3D1736251&view=3Ddiff
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D
> --- httpd/httpd/branches/2.4.x/modules/http2/h2_filter.c (original)
> +++ httpd/httpd/branches/2.4.x/modules/http2/h2_filter.c Tue Mar 22 20:48:=
47 2016
> @@ -196,7 +196,18 @@ int h2_filter_h2_status_handler(request_
>     return DECLINED;
> }
>=20
> -#define bbout(...)   apr_brigade_printf(bb, NULL, NULL, __VA_ARGS__)
> +static apr_status_t bbout(apr_bucket_brigade *bb, const char *fmt, ...)
> +{
> +    va_list args;
> +    apr_status_t rv;
> +
> +    va_start(args, fmt);
> +    rv =3D apr_brigade_vprintf(bb, NULL, NULL, fmt, args);
> +    va_end(args);
> +
> +    return rv;
> +}
> +
> static apr_status_t h2_sos_h2_status_buffer(h2_sos *sos, apr_bucket_brigad=
e *bb)
> {
>     h2_stream *stream =3D sos->stream;
> @@ -209,21 +220,21 @@ static apr_status_t h2_sos_h2_status_buf
>         bb =3D apr_brigade_create(stream->pool, session->c->bucket_alloc);=

>     }
>=20
> -    bbout("{\n");
> -    bbout("  \"HTTP2\": \"on\",\n");
> -    bbout("  \"H2PUSH\": \"%s\",\n", h2_session_push_enabled(session)? "o=
n" : "off");
> -    bbout("  \"mod_http2_version\": \"%s\",\n", MOD_HTTP2_VERSION);
> -    bbout("  \"session_id\": %ld,\n", (long)session->id);
> -    bbout("  \"streams_max\": %d,\n", (int)session->max_stream_count);
> -    bbout("  \"this_stream\": %d,\n", stream->id);
> -    bbout("  \"streams_open\": %d,\n", (int)h2_ihash_count(session->strea=
ms));
> -    bbout("  \"max_stream_started\": %d,\n", mplx->max_stream_started);
> -    bbout("  \"requests_received\": %d,\n", session->remote.emitted_count=
);
> -    bbout("  \"responses_submitted\": %d,\n", session->responses_submitte=
d);
> -    bbout("  \"streams_reset\": %d, \n", session->streams_reset);
> -    bbout("  \"pushes_promised\": %d,\n", session->pushes_promised);
> -    bbout("  \"pushes_submitted\": %d,\n", session->pushes_submitted);
> -    bbout("  \"pushes_reset\": %d,\n", session->pushes_reset);
> +    bbout(bb, "{\n");
> +    bbout(bb, "  \"HTTP2\": \"on\",\n");
> +    bbout(bb, "  \"H2PUSH\": \"%s\",\n", h2_session_push_enabled(session)=
? "on" : "off");
> +    bbout(bb, "  \"mod_http2_version\": \"%s\",\n", MOD_HTTP2_VERSION);
> +    bbout(bb, "  \"session_id\": %ld,\n", (long)session->id);
> +    bbout(bb, "  \"streams_max\": %d,\n", (int)session->max_stream_count)=
;
> +    bbout(bb, "  \"this_stream\": %d,\n", stream->id);
> +    bbout(bb, "  \"streams_open\": %d,\n", (int)h2_ihash_count(session->s=
treams));
> +    bbout(bb, "  \"max_stream_started\": %d,\n", mplx->max_stream_started=
);
> +    bbout(bb, "  \"requests_received\": %d,\n", session->remote.emitted_c=
ount);
> +    bbout(bb, "  \"responses_submitted\": %d,\n", session->responses_subm=
itted);
> +    bbout(bb, "  \"streams_reset\": %d, \n", session->streams_reset);
> +    bbout(bb, "  \"pushes_promised\": %d,\n", session->pushes_promised);
> +    bbout(bb, "  \"pushes_submitted\": %d,\n", session->pushes_submitted)=
;
> +    bbout(bb, "  \"pushes_reset\": %d,\n", session->pushes_reset);
>=20
>     diary =3D session->push_diary;
>     if (diary) {
> @@ -235,7 +246,7 @@ static apr_status_t h2_sos_h2_status_buf
>                                           stream->request->authority, &dat=
a, &len);
>         if (status =3D=3D APR_SUCCESS) {
>             base64_digest =3D h2_util_base64url_encode(data, len, stream->=
pool);
> -            bbout("  \"cache_digest\": \"%s\",\n", base64_digest);
> +            bbout(bb, "  \"cache_digest\": \"%s\",\n", base64_digest);
>         }
>=20
>         /* try the reverse for testing purposes */
> @@ -245,15 +256,15 @@ static apr_status_t h2_sos_h2_status_buf
>                                               stream->request->authority, &=
data, &len);
>             if (status =3D=3D APR_SUCCESS) {
>                 base64_digest =3D h2_util_base64url_encode(data, len, stre=
am->pool);
> -                bbout("  \"cache_digest^2\": \"%s\",\n", base64_digest);
> +                bbout(bb, "  \"cache_digest^2\": \"%s\",\n", base64_diges=
t);
>             }
>         }
>     }
> -    bbout("  \"frames_received\": %ld,\n", (long)session->frames_received=
);
> -    bbout("  \"frames_sent\": %ld,\n", (long)session->frames_sent);
> -    bbout("  \"bytes_received\": %"APR_UINT64_T_FMT",\n", session->io.byt=
es_read);
> -    bbout("  \"bytes_sent\": %"APR_UINT64_T_FMT"\n", session->io.bytes_wr=
itten);
> -    bbout("}\n");
> +    bbout(bb, "  \"frames_received\": %ld,\n", (long)session->frames_rece=
ived);
> +    bbout(bb, "  \"frames_sent\": %ld,\n", (long)session->frames_sent);
> +    bbout(bb, "  \"bytes_received\": %"APR_UINT64_T_FMT",\n", session->io=
.bytes_read);
> +    bbout(bb, "  \"bytes_sent\": %"APR_UINT64_T_FMT"\n", session->io.byte=
s_written);
> +    bbout(bb, "}\n");
>=20
>     return sos->prev->buffer(sos->prev, bb);
> }
>=20
>=20

From dev-return-85998-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 21:03:30 2016
Return-Path: <dev-return-85998-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 005F41818E
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 21:03:30 +0000 (UTC)
Received: (qmail 4686 invoked by uid 500); 22 Mar 2016 21:03:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 4611 invoked by uid 500); 22 Mar 2016 21:03:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 4601 invoked by uid 99); 22 Mar 2016 21:03:29 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 21:03:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0B7AC18021C
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 21:03:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id E4oggLYZd11q for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 21:03:27 +0000 (UTC)
Received: from mail-io0-f182.google.com (mail-io0-f182.google.com [209.85.223.182])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 68B685FB15
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 21:03:26 +0000 (UTC)
Received: by mail-io0-f182.google.com with SMTP id o5so173018279iod.2
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 14:03:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:date:message-id:subject:from:to;
        bh=LEcyTip+1MyAOq1WEo/EzwzsTcCWFWEAZSodgYN14vY=;
        b=P3eCwz7JX/GenX7N0OuvAVZvIiC6BTFv32uIkSKvA5MjWNnbX/5vqkLhFg3gEmFFNt
         bWtaZQKq5eXYPkYY7b3b+nO8gaGI91AXL8tF9Y0mTZBAhv4/Jxyt4skqKmiF1OHOLH0q
         +3jKb53bAjXWS1SO+u0y2FWGIT+fMOdByPUUG8UBsCr+OI+iGmupjU3nSmWz45Fgd7cy
         yY0j2komhnAbkOoVoHgqrITtAVhWLROiwXl3DPYEYzMzC3nW/Lp9fR8lVRLEDyXWZEWg
         Hzjl5O/CjbRRC/PQPLo+bm60W+q8olxBrTv2PdGnXxDzJW1PAIqYbNcvtD7dZlLzXgg+
         t8SQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to;
        bh=LEcyTip+1MyAOq1WEo/EzwzsTcCWFWEAZSodgYN14vY=;
        b=XYmGZeycybSVqsgnYEQP53q9/vemPJWz6g5cB+3fcTaJIDO1un3mCLEVyQ9u/aX0K7
         u5EyTO7Kus+1/X600uXp+8QZmnduRAj/ZY62hz9QgTlaVHPIjcPa1AdqAAJAofz07xL3
         bT0P3egiplTEu+T8o4If6huviOhUi6DaQ+OfIm/WqPmqGWaFWANuyyswrAag/BDcBivb
         O0glkSUBc+LnyFPjTzYaYjXzifr9e2evhLKQO0RKHsDCt0Yvq3TLGjVpF+UWR3DbpVtl
         /iy5FEZVqhhPCfL2UlcK06sN5qsHax4T+Oml73/PzcO+JDWzWOfslUD+SHjWRxGSRgks
         EHcw==
X-Gm-Message-State: AD7BkJJW4eagP1/+yNZXOZKakNqMOc4/owXqpEzSkne5AJDtXHBKGozVheRE2obaVOy+gi0stfN9NYA+x3ZYyZqd
MIME-Version: 1.0
X-Received: by 10.107.27.205 with SMTP id b196mr36791916iob.163.1458680605779;
 Tue, 22 Mar 2016 14:03:25 -0700 (PDT)
Received: by 10.107.149.12 with HTTP; Tue, 22 Mar 2016 14:03:25 -0700 (PDT)
Date: Tue, 22 Mar 2016 16:03:25 -0500
Message-ID: <CACsi253nFLLBwep8FX0aQFbTKTLJV+UVbqdZ5S+NE_=h25v1CQ@mail.gmail.com>
Subject: fate of mod_lbmethod_rr (was: Re: [VOTE] Release Apache httpd 2.4.19
 as GA)
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113fecfc5957d3052ea98bd3

--001a113fecfc5957d3052ea98bd3
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 22, 2016 at 3:38 PM, Jeff Trawick <trawick@gmail.com> wrote:

> On Tue, Mar 22, 2016 at 3:55 PM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
>
>> Can anyone get mod_lbmethod_rr.c to build?
>>
>
> That's funny actually.  The very first version README.cmake in trunk says
> that mod_lbmethod_rr.c doesn't build on Windows
>

 When I added the .dsp, it certainly did build.  --enable-mods=all should
be
triggering the build of those sources.

I think this illustrates that we have played fast and loose with something
that
1. is a public API, 2. not experimental, and 3. was illustrated with an
example
that has been frequently broken by Major ABI changes.

If devs want to promote an API and then continuously break ABI on trunk,
I'm way beyond arguing with such individuals.  Just a few choice examples
which had necessitated major MMN bumps that did not receive one...

http://svn.apache.org/viewvc?view=revision&revision=1560081
http://svn.apache.org/viewvc?view=revision&revision=1477649 (no
bitwise-alignment assurance)
http://svn.apache.org/viewvc?view=revision&revision=1436919 (no
bitwise-alignment assurance)

However, this module appears to have been broken prior to 2.4.1 GA with this
at least this commit...
http://svn.apache.org/viewvc?view=revision&revision=1209958
... which tells me it is simply an abandoned example.

I propose we remove it from 2.4.x branch and trunk, rather than pretending
we have maintained it?

--001a113fecfc5957d3052ea98bd3
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
ue, Mar 22, 2016 at 3:38 PM, Jeff Trawick <span dir=3D"ltr">&lt;<a href=3D"=
mailto:trawick@gmail.com" target=3D"_blank">trawick@gmail.com</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0=
.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-s=
tyle:solid;padding-left:1ex"><div dir=3D"ltr"><div class=3D"gmail_extra"><d=
iv class=3D"gmail_quote"><span class=3D"">On Tue, Mar 22, 2016 at 3:55 PM, =
William A Rowe Jr <span dir=3D"ltr">&lt;<a href=3D"mailto:wrowe@rowe-clan.n=
et" target=3D"_blank">wrowe@rowe-clan.net</a>&gt;</span> wrote:<br><blockqu=
ote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-wid=
th:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-l=
eft:1ex"><div dir=3D"ltr">Can anyone get mod_lbmethod_rr.c to build?</div><=
/blockquote><div><br></div></span><div>That&#39;s funny actually.=C2=A0 The=
 very first version README.cmake in trunk says that mod_lbmethod_rr.c doesn=
&#39;t build on Windows</div></div></div></div></blockquote><div><br></div>=
<div>=C2=A0When I added the .dsp, it certainly did build. =C2=A0--enable-mo=
ds=3Dall should be=C2=A0</div><div>triggering the build of those sources.</=
div><div><br></div><div>I think this illustrates that we have played fast a=
nd loose with something that</div><div>1. is a public API, 2. not experimen=
tal, and 3. was illustrated with an example=C2=A0</div><div>that has been f=
requently broken by Major ABI changes.</div><div><br></div><div>If devs wan=
t to promote an API and then continuously break ABI on trunk,</div><div>I&#=
39;m way beyond arguing with such individuals.=C2=A0 Just a few choice exam=
ples=C2=A0</div><div>which had necessitated major MMN bumps that did not re=
ceive one...</div><div><br></div><div><a href=3D"http://svn.apache.org/view=
vc?view=3Drevision&amp;revision=3D1560081">http://svn.apache.org/viewvc?vie=
w=3Drevision&amp;revision=3D1560081</a><br></div><div><a href=3D"http://svn=
.apache.org/viewvc?view=3Drevision&amp;revision=3D1477649">http://svn.apach=
e.org/viewvc?view=3Drevision&amp;revision=3D1477649</a> (no bitwise-alignme=
nt assurance)<br></div><div><a href=3D"http://svn.apache.org/viewvc?view=3D=
revision&amp;revision=3D1436919">http://svn.apache.org/viewvc?view=3Drevisi=
on&amp;revision=3D1436919</a>=C2=A0(no bitwise-alignment assurance)<br></di=
v><div><br></div><div>However, this module appears to have been broken prio=
r to 2.4.1 GA with this</div><div>at least this commit...=C2=A0<a href=3D"h=
ttp://svn.apache.org/viewvc?view=3Drevision&amp;revision=3D1209958">http://=
svn.apache.org/viewvc?view=3Drevision&amp;revision=3D1209958</a></div><div>=
... which tells me it is simply an abandoned example.</div><div><br></div><=
div>I propose we remove it from 2.4.x branch and trunk, rather than pretend=
ing=C2=A0</div><div>we have maintained it?</div><div><br></div><div><br></d=
iv></div></div></div>

--001a113fecfc5957d3052ea98bd3--

From dev-return-85999-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 21:04:52 2016
Return-Path: <dev-return-85999-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B38E6181A6
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 21:04:52 +0000 (UTC)
Received: (qmail 9159 invoked by uid 500); 22 Mar 2016 21:04:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 9005 invoked by uid 500); 22 Mar 2016 21:04:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 8720 invoked by uid 99); 22 Mar 2016 21:04:51 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 21:04:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id F0AF41A14E6
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 21:04:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Dl2sftYbmsBh for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 21:04:50 +0000 (UTC)
Received: from mail-io0-f179.google.com (mail-io0-f179.google.com [209.85.223.179])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 874765FB14
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 21:04:49 +0000 (UTC)
Received: by mail-io0-f179.google.com with SMTP id 124so104969912iov.3
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 14:04:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=th9vLTn6/wYg98x114UiL07+/mloQbLbYrloHT70Fgg=;
        b=UfVOrfo+G+qeD+GuipskPvKiijMM001RKnOSNBa8+w8xCeOL8D3Zi1+MzLaegxH8Yf
         2r8akLrOc0Jk1uJ3v63/CsGRTJRvbRrb3tFr2ZFm1FFBuIw/quB2eTKpAxaNWMQpUraO
         96doQPlW6Ue8RfmJb/ndYTHlx+4wvgO9p/vSmdMAtTK94+9ZeXGfZFw/+ES+qlHQsnKC
         0mOlFn8HlfB9jkQmNge+FqEWTJmLLRfCzSIU4AkSl3Uy/gGfqYhsCHAvhLHZ7PFx+zEQ
         UjtGvOZU2xLh6PP9EazLK0bsrdTkDzAppFd/MiRhXK83zBxntewQrujArRYqUEN6yrTi
         Asgw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=th9vLTn6/wYg98x114UiL07+/mloQbLbYrloHT70Fgg=;
        b=hzHIOi+OffuZ+MVf7ySJepWihbs4CYEIjYcOt97pv1QRNldyWIGyz3gcQEmQVTGYr7
         a4oGRsFJPYqHfVxOGWjpdYlMBduY+LAV7QIsZ8UPLsqkQTBc+51fdXMsabQ54tVr4Clf
         mRmNLdJxZIZZnp6VnmQkarWp3CS29IPyPIhdWBOB73EF3uw6AoC0AXRrpkcpLDCg8Z9R
         pHx48lvAeuo2HOb+ZsK1sugLyIdvgIFjID3JVk2olW8AmjWIvl5N2KMB+kdElat2FHqy
         XjqbFyhRZNuKrSqPyl1eyR9J8SITTtVokzLT7D5vP9gnLl19mVXFUV2u9EfqW6O6Yipm
         YMXw==
X-Gm-Message-State: AD7BkJIBrWJ+4dz4KDSY/s3/n5NW7FIGyNqrijzdcsZwL91h1Em9papaHxi2vjXY3SvuQDlUitFQUkl2wOUBiuj0
MIME-Version: 1.0
X-Received: by 10.50.127.168 with SMTP id nh8mr21143569igb.32.1458680688497;
 Tue, 22 Mar 2016 14:04:48 -0700 (PDT)
Received: by 10.107.149.12 with HTTP; Tue, 22 Mar 2016 14:04:48 -0700 (PDT)
In-Reply-To: <CAKQ1sVOEhfkk8eO7niyhFot_Rr8GAK4P4xJqSy-Hc-gqA6m5YA@mail.gmail.com>
References: <20160322200008.87D303A0113@svn01-us-west.apache.org>
	<CAKQ1sVOEhfkk8eO7niyhFot_Rr8GAK4P4xJqSy-Hc-gqA6m5YA@mail.gmail.com>
Date: Tue, 22 Mar 2016 16:04:48 -0500
Message-ID: <CACsi251JJ2havy924o2aYacGrNnCB6oaRnF1ZH-fq3fxH_iuEA@mail.gmail.com>
Subject: Re: svn commit: r1736242 - /httpd/httpd/branches/2.4.x/modules/proxy/examples/mod_lbmethod_rr.dsp
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e013c5d1e479417052ea99088

--089e013c5d1e479417052ea99088
Content-Type: text/plain; charset=UTF-8

I think the argument will quickly become moot... see other thread.

I also don't expect we will persist .dsp on trunk for very much longer,
/shrug

On Tue, Mar 22, 2016 at 3:56 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> On Tue, Mar 22, 2016 at 9:00 PM,  <wrowe@apache.org> wrote:
> > Author: wrowe
> > Date: Tue Mar 22 20:00:08 2016
> > New Revision: 1736242
> >
> > URL: http://svn.apache.org/viewvc?rev=1736242&view=rev
> > Log:
> > Ensure we pick up modules/proxy/*.h headers
> >
> > Modified:
> >     httpd/httpd/branches/2.4.x/modules/proxy/examples/mod_lbmethod_rr.dsp
>
> No need to fix in trunk?
>

--089e013c5d1e479417052ea99088
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">I think the argument will quickly become moot... see other=
 thread.<div><br></div><div>I also don&#39;t expect we will persist .dsp on=
 trunk for very much longer,</div><div>/shrug</div></div><div class=3D"gmai=
l_extra"><br><div class=3D"gmail_quote">On Tue, Mar 22, 2016 at 3:56 PM, Ya=
nn Ylavic <span dir=3D"ltr">&lt;<a href=3D"mailto:ylavic.dev@gmail.com" tar=
get=3D"_blank">ylavic.dev@gmail.com</a>&gt;</span> wrote:<br><blockquote cl=
ass=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;p=
adding-left:1ex"><span class=3D"">On Tue, Mar 22, 2016 at 9:00 PM,=C2=A0 &l=
t;<a href=3D"mailto:wrowe@apache.org">wrowe@apache.org</a>&gt; wrote:<br>
&gt; Author: wrowe<br>
&gt; Date: Tue Mar 22 20:00:08 2016<br>
&gt; New Revision: 1736242<br>
&gt;<br>
&gt; URL: <a href=3D"http://svn.apache.org/viewvc?rev=3D1736242&amp;view=3D=
rev" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc?rev=
=3D1736242&amp;view=3Drev</a><br>
&gt; Log:<br>
&gt; Ensure we pick up modules/proxy/*.h headers<br>
&gt;<br>
&gt; Modified:<br>
&gt;=C2=A0 =C2=A0 =C2=A0httpd/httpd/branches/2.4.x/modules/proxy/examples/m=
od_lbmethod_rr.dsp<br>
<br>
</span>No need to fix in trunk?<br>
</blockquote></div><br></div>

--089e013c5d1e479417052ea99088--

From dev-return-86000-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 21:10:48 2016
Return-Path: <dev-return-86000-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 00C1518204
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 21:10:48 +0000 (UTC)
Received: (qmail 27619 invoked by uid 500); 22 Mar 2016 21:10:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 27551 invoked by uid 500); 22 Mar 2016 21:10:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 27541 invoked by uid 99); 22 Mar 2016 21:10:47 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 21:10:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 03C8F1A1461
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 21:10:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id aaVuOE7xNtmt for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 21:10:46 +0000 (UTC)
Received: from mail-io0-f171.google.com (mail-io0-f171.google.com [209.85.223.171])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 0A3BD5F560
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 21:10:45 +0000 (UTC)
Received: by mail-io0-f171.google.com with SMTP id 124so105251791iov.3
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 14:10:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=VQZitGiVwbUT+/E5b7DR3BqO0YpCq6KLAYEpst/zB9Q=;
        b=IyxzWhJUiJIvZMDJnXIqaIBOZLQxTJpxC939IbWZ2km27nJ8kDCatXlWdbPIkvd9jG
         EFkKVn5Es8EyM97EWBAy/6h4e3HyRO9sHobval1q5oAHvDnbO1NpqEDrq1cK036Bdr6Z
         9Ph0RdtgjvvA3NtoE4f/2UjdEtYeE7A6PvgP/H4rGy2DZM07mkBEzzvHK7Hdw5Ydc9NG
         ZTLAuPGFeye7o0Sny3dgxoF9sy0/SCbi5rpJ70eaTs5IGLQvs8W4BnLm61JfK1NjZWAO
         X+LKU1oH8++Hb89uzJcv8R0PJyOeXQExaem+GyD2lfBr2ZIU3dXqmed/vuSU1U3swPuZ
         3PGA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=VQZitGiVwbUT+/E5b7DR3BqO0YpCq6KLAYEpst/zB9Q=;
        b=mj9PBM0vJMQUNJTLQkYf/4sAXDtDZGlJY4FflQWlxPsbkRBmLMQ50JR2F3+8D+nIU/
         guntTuD5dPag50zqsVNPR3rV2tTfck69Rmg2iiV9z8NaU9QgEniV+WimTvPNw7ZET+I1
         YDRgSuK2ZW1SfTiva/bLumcnPl8NZst3xWV4KxzGktvy8OTG0hnJT1R37cCezY0phdfD
         MPBebWYzFw6/ALjapYhxH1hlrtkyGy9g6H9kDjeIsj8sVp7pHwNGrcF/erNhxfo8x+7M
         pcyLc3GlHFsE8lJbm1gP3hUjFOfmtACpILhs2Wxt3HiwheAXLdZsm3ZlCecWEi1yb3JT
         W2lQ==
X-Gm-Message-State: AD7BkJI1y8xy/RWgmXXsQW7Y2XO5a2/Y53Vz9EE1XZ3YldBvNkz3bvsp30NEEODDMo93kketBgfRnenrE4BP/6qw
MIME-Version: 1.0
X-Received: by 10.50.47.49 with SMTP id a17mr20666642ign.35.1458681045395;
 Tue, 22 Mar 2016 14:10:45 -0700 (PDT)
Received: by 10.107.149.12 with HTTP; Tue, 22 Mar 2016 14:10:45 -0700 (PDT)
In-Reply-To: <CAKUrXK6t_0EY9vb87extsDNpSq16BwrnhWOFa3rQ_LFeyDBDAQ@mail.gmail.com>
References: <84E38279-F2A6-458B-AFA0-4D867AECE5A9@jaguNET.com>
	<CACsi250dJ=U=L9yY+bAhOADqiwZSneuCr9t1L4D9MozdgKjPkg@mail.gmail.com>
	<CAKUrXK6t_0EY9vb87extsDNpSq16BwrnhWOFa3rQ_LFeyDBDAQ@mail.gmail.com>
Date: Tue, 22 Mar 2016 16:10:45 -0500
Message-ID: <CACsi250L8mPnuqYPMFQu3o9yvMOERY_CmzYexbK_7H1eyKudWQ@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.19 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e01229fa68d5201052ea9a5fd

--089e01229fa68d5201052ea9a5fd
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 22, 2016 at 3:38 PM, Jeff Trawick <trawick@gmail.com> wrote:

> On Tue, Mar 22, 2016 at 3:55 PM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
>
>> Can anyone get mod_lbmethod_rr.c to build?
>>
>
> That's funny actually.  The very first version README.cmake in trunk says
> that mod_lbmethod_rr.c doesn't build on Windows, yet the only build support
> I can find for that module for any platform is in the legacy Windows build
> system.  I guess the legacy build spews some error messages and continues
> on with the next module?
>

Actually, no.  The legacy "BuildAll" target is almost never a target, think
of it as
the Windows equivalent of --enable-modules=really-all :)  It is the method
to
spit out mod_bucketeer and other example/experimental/test modules.

The only reason I built it was to extract .mak & .dep files, which is how
I'd
tripped over something that has apparently been broken for some 4 years.

--089e01229fa68d5201052ea9a5fd
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
ue, Mar 22, 2016 at 3:38 PM, Jeff Trawick <span dir=3D"ltr">&lt;<a href=3D"=
mailto:trawick@gmail.com" target=3D"_blank">trawick@gmail.com</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bo=
rder-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div class=3D"g=
mail_extra"><div class=3D"gmail_quote"><span class=3D"">On Tue, Mar 22, 201=
6 at 3:55 PM, William A Rowe Jr <span dir=3D"ltr">&lt;<a href=3D"mailto:wro=
we@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&gt;</span> wrot=
e:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-l=
eft:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr">Can anyone get mod_lb=
method_rr.c to build?</div></blockquote><div><br></div></span><div>That&#39=
;s funny actually.=C2=A0 The very first version README.cmake in trunk says =
that mod_lbmethod_rr.c doesn&#39;t build on Windows, yet the only build sup=
port I can find for that module for any platform is in the legacy Windows b=
uild system.=C2=A0 I guess the legacy build spews some error messages and c=
ontinues on with the next module?</div><div></div></div></div></div></block=
quote></div><br></div><div class=3D"gmail_extra">Actually, no.=C2=A0 The le=
gacy &quot;BuildAll&quot; target is almost never a target, think of it as</=
div><div class=3D"gmail_extra">the Windows equivalent of --enable-modules=
=3Dreally-all :) =C2=A0It is the method to</div><div class=3D"gmail_extra">=
spit out mod_bucketeer and other example/experimental/test modules.</div><d=
iv class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">The only reas=
on I built it was to extract .mak &amp; .dep files, which is how I&#39;d</d=
iv><div class=3D"gmail_extra">tripped over something that has apparently be=
en broken for some 4 years.</div></div>

--089e01229fa68d5201052ea9a5fd--

From dev-return-86001-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 21:15:41 2016
Return-Path: <dev-return-86001-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2D93818241
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 21:15:41 +0000 (UTC)
Received: (qmail 42647 invoked by uid 500); 22 Mar 2016 21:15:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42580 invoked by uid 500); 22 Mar 2016 21:15:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42570 invoked by uid 99); 22 Mar 2016 21:15:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 21:15:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 3718A1A4584
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 21:15:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id YPixg6sDDENK for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 21:15:38 +0000 (UTC)
Received: from mail-qg0-f44.google.com (mail-qg0-f44.google.com [209.85.192.44])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 264C85F255
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 21:15:38 +0000 (UTC)
Received: by mail-qg0-f44.google.com with SMTP id u110so189524639qge.3
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 14:15:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=Wl8oNOun5BPMN00387PEkYy2DYImtdCWIHL5k9wfOKE=;
        b=SCKhMSojAGsbM+57RtKy6RfDLNb4W8h5ijz5FQC2HYRtWQ7MLCfGt9yTZtjOBeOMw4
         FCBFcJtY15bwrRlU/UAwQEtog2/wNCTBwl71vzCUeFuYqFwp48rGn46FppAfgSJtsTzr
         bSvxweBIsB3MRC8dVIOQ4+fekNVShc8vDTgdp3VhJ5A8X2yOrxWVEny3cok7/Ddj2NKO
         EUFXfq3Gla4OXRFnmIX+rzw1B+KUR2IhvrMrGSorNngOEv2yCwBnqrlGMrtKzv7CLq17
         +Ea6xOGTiykaPRxIv64bLcsdpy4sbi7oqFLIy6N9GQwWrnBvVV1QidzmYD8X0O0cKC6x
         xYKg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=Wl8oNOun5BPMN00387PEkYy2DYImtdCWIHL5k9wfOKE=;
        b=KLeCgf0wSklC0bWYEfS0VL5lAipREVhCol73ZEgRvYQIRof29RCRTpKaSrEDJoP1an
         HLv79sw4QbEpvT5jnZkCkFy6DWUVGsXijdy+Tgfviz/4SwvAXeWEcuA0gTbzQWO/d/Po
         ciqlT+rlDnSnal8Z/ED8OaqxzstzB+qhgMroq1Xvqx0XwrrOKOQMJ5MmoWfx0nBWd380
         NRQDYh2RLyVSi+LlQ82BF+mU1AdPIOzYGGwKC1DXX7qsY8LCzEIGg1LSnZx+DBRvk7hF
         mZHssVkHHxtAWtBsuYIP1Le4QYgdxmtFjYZbVz/TZ7n8vaDgI4uQFvol+ervbAZO7ZH2
         GB2A==
X-Gm-Message-State: AD7BkJJm3WxwFc3qFgiwgcb+HVvNFj6NXR7Ax98st2UF9xzJE0bqL692qabEDZPa7oiCREIKooVnxkWTqJoe5Q==
MIME-Version: 1.0
X-Received: by 10.140.237.204 with SMTP id i195mr53553091qhc.55.1458681337123;
 Tue, 22 Mar 2016 14:15:37 -0700 (PDT)
Received: by 10.55.174.4 with HTTP; Tue, 22 Mar 2016 14:15:37 -0700 (PDT)
In-Reply-To: <CACsi253nFLLBwep8FX0aQFbTKTLJV+UVbqdZ5S+NE_=h25v1CQ@mail.gmail.com>
References: <CACsi253nFLLBwep8FX0aQFbTKTLJV+UVbqdZ5S+NE_=h25v1CQ@mail.gmail.com>
Date: Tue, 22 Mar 2016 17:15:37 -0400
Message-ID: <CAKUrXK6OzLbbLH2zqiUqUec2P6HM_ckV4xJ3od7bp7vfoG2OVQ@mail.gmail.com>
Subject: Re: fate of mod_lbmethod_rr (was: Re: [VOTE] Release Apache httpd
 2.4.19 as GA)
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1135a030f09e20052ea9b655

--001a1135a030f09e20052ea9b655
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 22, 2016 at 5:03 PM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> On Tue, Mar 22, 2016 at 3:38 PM, Jeff Trawick <trawick@gmail.com> wrote:
>
>> On Tue, Mar 22, 2016 at 3:55 PM, William A Rowe Jr <wrowe@rowe-clan.net>
>> wrote:
>>
>>> Can anyone get mod_lbmethod_rr.c to build?
>>>
>>
>> That's funny actually.  The very first version README.cmake in trunk says
>> that mod_lbmethod_rr.c doesn't build on Windows
>>
>
>  When I added the .dsp, it certainly did build.  --enable-mods=all should
> be
> triggering the build of those sources.
>
> I think this illustrates that we have played fast and loose with something
> that
> 1. is a public API, 2. not experimental, and 3. was illustrated with an
> example
> that has been frequently broken by Major ABI changes.
>
> If devs want to promote an API and then continuously break ABI on trunk,
> I'm way beyond arguing with such individuals.  Just a few choice examples
> which had necessitated major MMN bumps that did not receive one...
>
> http://svn.apache.org/viewvc?view=revision&revision=1560081
> http://svn.apache.org/viewvc?view=revision&revision=1477649 (no
> bitwise-alignment assurance)
> http://svn.apache.org/viewvc?view=revision&revision=1436919 (no
> bitwise-alignment assurance)
>
> However, this module appears to have been broken prior to 2.4.1 GA with
> this
> at least this commit...
> http://svn.apache.org/viewvc?view=revision&revision=1209958
> ... which tells me it is simply an abandoned example.
>
> I propose we remove it from 2.4.x branch and trunk, rather than pretending
> we have maintained it?
>

+1 for removing from 2.4.x branch

no arguments here if someone actually wants it to hang around in trunk, but
I don't actually know if anybody cares so no vote on trunk ATM...

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a1135a030f09e20052ea9b655
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
ue, Mar 22, 2016 at 5:03 PM, William A Rowe Jr <span dir=3D"ltr">&lt;<a hre=
f=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&=
gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 =
0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div c=
lass=3D"gmail_extra"><div class=3D"gmail_quote">On Tue, Mar 22, 2016 at 3:3=
8 PM, Jeff Trawick <span dir=3D"ltr">&lt;<a href=3D"mailto:trawick@gmail.co=
m" target=3D"_blank">trawick@gmail.com</a>&gt;</span> wrote:<br><blockquote=
 class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:=
1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left=
:1ex"><div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote=
"><span>On Tue, Mar 22, 2016 at 3:55 PM, William A Rowe Jr <span dir=3D"ltr=
">&lt;<a href=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-c=
lan.net</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D=
"margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,2=
04,204);border-left-style:solid;padding-left:1ex"><div dir=3D"ltr">Can anyo=
ne get mod_lbmethod_rr.c to build?</div></blockquote><div><br></div></span>=
<div>That&#39;s funny actually.=C2=A0 The very first version README.cmake i=
n trunk says that mod_lbmethod_rr.c doesn&#39;t build on Windows</div></div=
></div></div></blockquote><div><br></div><div>=C2=A0When I added the .dsp, =
it certainly did build. =C2=A0--enable-mods=3Dall should be=C2=A0</div><div=
>triggering the build of those sources.</div><div><br></div><div>I think th=
is illustrates that we have played fast and loose with something that</div>=
<div>1. is a public API, 2. not experimental, and 3. was illustrated with a=
n example=C2=A0</div><div>that has been frequently broken by Major ABI chan=
ges.</div><div><br></div><div>If devs want to promote an API and then conti=
nuously break ABI on trunk,</div><div>I&#39;m way beyond arguing with such =
individuals.=C2=A0 Just a few choice examples=C2=A0</div><div>which had nec=
essitated major MMN bumps that did not receive one...</div><div><br></div><=
div><a href=3D"http://svn.apache.org/viewvc?view=3Drevision&amp;revision=3D=
1560081" target=3D"_blank">http://svn.apache.org/viewvc?view=3Drevision&amp=
;revision=3D1560081</a><br></div><div><a href=3D"http://svn.apache.org/view=
vc?view=3Drevision&amp;revision=3D1477649" target=3D"_blank">http://svn.apa=
che.org/viewvc?view=3Drevision&amp;revision=3D1477649</a> (no bitwise-align=
ment assurance)<br></div><div><a href=3D"http://svn.apache.org/viewvc?view=
=3Drevision&amp;revision=3D1436919" target=3D"_blank">http://svn.apache.org=
/viewvc?view=3Drevision&amp;revision=3D1436919</a>=C2=A0(no bitwise-alignme=
nt assurance)<br></div><div><br></div><div>However, this module appears to =
have been broken prior to 2.4.1 GA with this</div><div>at least this commit=
...=C2=A0<a href=3D"http://svn.apache.org/viewvc?view=3Drevision&amp;revisi=
on=3D1209958" target=3D"_blank">http://svn.apache.org/viewvc?view=3Drevisio=
n&amp;revision=3D1209958</a></div><div>... which tells me it is simply an a=
bandoned example.</div><div><br></div><div>I propose we remove it from 2.4.=
x branch and trunk, rather than pretending=C2=A0</div><div>we have maintain=
ed it?</div></div></div></div></blockquote><div><br></div><div>+1 for remov=
ing from 2.4.x branch</div><div><br></div><div>no arguments here if someone=
 actually wants it to hang around in trunk, but I don&#39;t actually know i=
f anybody cares so no vote on trunk ATM...</div></div><div><br></div>-- <br=
><div class=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married=
 an alien...<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http=
://emptyhammock.com/</a><div><br></div></div></div>
</div></div>

--001a1135a030f09e20052ea9b655--

From dev-return-86002-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 21:46:57 2016
Return-Path: <dev-return-86002-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A8DEC183F2
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 21:46:57 +0000 (UTC)
Received: (qmail 5786 invoked by uid 500); 22 Mar 2016 21:46:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5683 invoked by uid 500); 22 Mar 2016 21:46:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5673 invoked by uid 99); 22 Mar 2016 21:46:57 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 21:46:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id A8AEC1A453E
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 21:46:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id fzGI2QQuE3Fw for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 21:46:54 +0000 (UTC)
Received: from mail-qg0-f53.google.com (mail-qg0-f53.google.com [209.85.192.53])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 701A15FB19
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 21:46:54 +0000 (UTC)
Received: by mail-qg0-f53.google.com with SMTP id 51so24756466qgy.0
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 14:46:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to;
        bh=vAq4K7SWNWUnfPfYq2aUNBbIm4TLRwunw/IbSsVVBNA=;
        b=ugKFzSw4+P4uSN7GHBI+kybURgO10PofFB/CF5vP8Qq8Wg6WXMEz2cEIh5Obc+NZo3
         tAT7RdeArygaJYfPwjPqXTEQ+2WDwmHU9Mnn7YkNMxkZniQc99KFi4FDzwJHqOiJMxsy
         ca9Dsg8h8yec3CPzFxIoDEaCLmP7GYV9kYfTgkWZPCPA8CVYZTTmsDtleDGeuFGXEeJp
         nn4IoRAbgjYEMxfhxVtrmQDoP45pUihD0NZGvFADh1hsh0h/EleJz27SnfzO8NzFn7Nl
         Qpn+ZY+3OYVMbknK4sebl9iy8UfgYdfRDdZRRZHp1S0jkDYWXV1XhZ9622QIotBrmICT
         csVw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to;
        bh=vAq4K7SWNWUnfPfYq2aUNBbIm4TLRwunw/IbSsVVBNA=;
        b=hy3aCjggypv8oMkOlBv7hlljDvUJJy9PcLjEv5UxSNLtL0S1wHDvxHtWTOKu15/rM5
         nqmZ0jW0Trx/aoTpLXg+h5lqcHLQcVnfmq5KWV0oGQNbXEOnqPyXM+T98McI4wv/r/je
         EZWrWcXk+fuxwN+5sLkFT7P8qixsxZE2EiiQFESabS0hBho8o+YqHgCI/joqew5XRbPl
         a35X453FCqnhv6SYbYIiAWmmH11YIQw0OLSf5UaymMiyyoYu9MEmw2BJHdyGB4+RL7fG
         XvBZAxCpAbsTswWyLw+nRU32uzCR4S1epDqEHUITYLLJgi05t9JeNswslbF1a5egL8P+
         FiEA==
X-Gm-Message-State: AD7BkJL9Qlf8AvAaCaWtpK7D1Yygqh5E2BZ2Ln/fCz8Sg0sFET6YUsDS+vSkLfb9PXgT/PuQegjF/U1DsRgh0A==
MIME-Version: 1.0
X-Received: by 10.140.167.133 with SMTP id n127mr50916807qhn.73.1458683208338;
 Tue, 22 Mar 2016 14:46:48 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Tue, 22 Mar 2016 14:46:48 -0700 (PDT)
Date: Tue, 22 Mar 2016 22:46:48 +0100
Message-ID: <CAKQ1sVPjSJ1A3pHiGvHYUE0XnizjaLdV7hWfS0PAp=u8iE_1Ew@mail.gmail.com>
Subject: About the relevance of bitfields usage (was: fate of mod_lbmethod_rr...)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

... if we cannot extend them.

On Tue, Mar 22, 2016 at 10:03 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
>
> If devs want to promote an API and then continuously break ABI on trunk,
> I'm way beyond arguing with such individuals.  Just a few choice examples
> which had necessitated major MMN bumps that did not receive one...
>
> http://svn.apache.org/viewvc?view=revision&revision=1560081
> http://svn.apache.org/viewvc?view=revision&revision=1477649 (no
> bitwise-alignment assurance)
> http://svn.apache.org/viewvc?view=revision&revision=1436919 (no
> bitwise-alignment assurance)

These for sure broke users depending on bit alignement of the
bitfield(s), but isn't that really an abuse of the/any API?

Anyway, if we can't extend bitfields, we'd better not use them, and
favor plain (unsigned) integer types with #defined (or enum) bits
positions like:

#define req_set                 (APR_UINT64_C(1) <<  0)
#define viaopt_set              (APR_UINT64_C(1) <<  1)
#define recv_buffer_size_set    (APR_UINT64_C(1) <<  2)
#define io_buffer_size_set      (APR_UINT64_C(1) <<  3)
#define maxfwd_set              (APR_UINT64_C(1) <<  4)
#define timeout_set             (APR_UINT64_C(1) <<  5)
#define badopt_set              (APR_UINT64_C(1) <<  6)
#define proxy_status_set        (APR_UINT64_C(1) <<  7)
#define source_address_set      (APR_UINT64_C(1) <<  8)
#define bgrowth_set             (APR_UINT64_C(1) <<  9)
#define bal_persist             (APR_UINT64_C(1) << 10)
#define inherit                 (APR_UINT64_C(1) << 11)
#define inherit_set             (APR_UINT64_C(1) << 12)
#define ppinherit               (APR_UINT64_C(1) << 13)
#define ppinherit_set           (APR_UINT64_C(1) << 14)

struct {
    ....
    apr_uint64_t flags;
} proxy_server_conf;

We can then use them with (e.g.):

if (sconf->flags & ppinherit_set) {
    ....
}

That (at least) won't cause any breakage if we add a new flag or a
following (trailing) flags2.

My 2 cts...

From dev-return-86003-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 21:50:27 2016
Return-Path: <dev-return-86003-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E77E618422
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 21:50:26 +0000 (UTC)
Received: (qmail 15113 invoked by uid 500); 22 Mar 2016 21:50:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15039 invoked by uid 500); 22 Mar 2016 21:50:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15028 invoked by uid 99); 22 Mar 2016 21:50:26 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 21:50:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id CF8F21A130A
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 21:50:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 8i5ov363rF-0 for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 21:50:24 +0000 (UTC)
Received: from mail-io0-f176.google.com (mail-io0-f176.google.com [209.85.223.176])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id BE0B05FB17
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 21:50:23 +0000 (UTC)
Received: by mail-io0-f176.google.com with SMTP id 124so106988897iov.3
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 14:50:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=rk0kFx1hrDJ/e50nZcUUo/gwK/1Fery+BLf5pN4yfSw=;
        b=PXVv+5A+Q3BaT26+0eEpO4QnboqZUA+fiwcQfv0wQxNVuN9LvyOn8U+x2UboSFbtPb
         exB0XizeHAl9JNlcpBVey5i3RlGVkLUpPMcAjIMsU/dQiRNDQ5WCuhbb9+QlzA2J5yOA
         v5CEBMGaOZA4B+BdPSkynHx/C2i6s5xz4eq4LYjIyFHT/Epu9XpQjRgslo3MhzXxM9W5
         +x8jg5/LkTGhKClxN0LoN//2dpoFHLusAlaWR1FuSqTU08ndZRqfSM0FdlE0b6oewcKK
         jF+e/Pq+f3qf0BwZPRTumoG6pDZLhYB4xzwNejDvcV0cuunbktFA5Y+ic1iLPmeTO4CW
         QmFQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=rk0kFx1hrDJ/e50nZcUUo/gwK/1Fery+BLf5pN4yfSw=;
        b=GtNVUTimh6DktgTwBW2dQcditXOw0fMqgWhha0I4bdZawcAftYXJuKAMj0lYrgGD8Z
         r8CGVkKwS8HMleSsV1gOK84JPG11wVlgFXlAsOjua5SxtCsrykJbwnAdLaX5MzWPLdPB
         gieUqXXYg4jy2JTRdTnR9c6ABAe/tXQJ6FI0KxeGoYrqHo4MNRLIAlX5hDH6Py2IIIjB
         L6M3Msl6jEPqeTZJzoTqhJkyYIpWPsPGt23HJhwT5r4hfqEvxncMlHRPezWgPfhfxp9k
         9+lVvMOp4Tz8IU8U+p99+jWQVYjEXfBcwJJ+qPoB0iPEiONVMVjeURrAKzQj7KWJpRn0
         lXgg==
X-Gm-Message-State: AD7BkJIXmp9t6ohjlEJVOaHd79dy8RiNHkBLORrV9OA6SfWjAGOGCHQeQlzkzG5tGWAGTuU4Ifl5s4u0MdS+xpXF
MIME-Version: 1.0
X-Received: by 10.107.27.205 with SMTP id b196mr36959779iob.163.1458683423068;
 Tue, 22 Mar 2016 14:50:23 -0700 (PDT)
Received: by 10.107.149.12 with HTTP; Tue, 22 Mar 2016 14:50:23 -0700 (PDT)
Received: by 10.107.149.12 with HTTP; Tue, 22 Mar 2016 14:50:23 -0700 (PDT)
In-Reply-To: <CAKQ1sVPjSJ1A3pHiGvHYUE0XnizjaLdV7hWfS0PAp=u8iE_1Ew@mail.gmail.com>
References: <CAKQ1sVPjSJ1A3pHiGvHYUE0XnizjaLdV7hWfS0PAp=u8iE_1Ew@mail.gmail.com>
Date: Tue, 22 Mar 2016 16:50:23 -0500
Message-ID: <CACsi250OuRSHmMH3Ag6FUcYCdLoePAk3GBQfs9rkr2D1t9WmcQ@mail.gmail.com>
Subject: Re: About the relevance of bitfields usage (was: fate of mod_lbmethod_rr...)
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113fecfc45a56b052eaa338d

--001a113fecfc45a56b052eaa338d
Content-Type: text/plain; charset=UTF-8

I still can't find anything in the spec that suggests that extending these
is assured to maintain bitwise alignment.

That said, we can, provided we add an aligned break between them.  That
might mean introducing an interview flag, followed by a new series of
bitwise flags between, for example, the 2.4.20 and 2.4.21 releases.

Common sense tells me that alignment should be preserved, but unless we can
trust the spec to ensure that assumption, we should err on the side of
caution.
On Mar 22, 2016 4:46 PM, "Yann Ylavic" <ylavic.dev@gmail.com> wrote:

> ... if we cannot extend them.
>
> On Tue, Mar 22, 2016 at 10:03 PM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
> >
> > If devs want to promote an API and then continuously break ABI on trunk,
> > I'm way beyond arguing with such individuals.  Just a few choice examples
> > which had necessitated major MMN bumps that did not receive one...
> >
> > http://svn.apache.org/viewvc?view=revision&revision=1560081
> > http://svn.apache.org/viewvc?view=revision&revision=1477649 (no
> > bitwise-alignment assurance)
> > http://svn.apache.org/viewvc?view=revision&revision=1436919 (no
> > bitwise-alignment assurance)
>
> These for sure broke users depending on bit alignement of the
> bitfield(s), but isn't that really an abuse of the/any API?
>
> Anyway, if we can't extend bitfields, we'd better not use them, and
> favor plain (unsigned) integer types with #defined (or enum) bits
> positions like:
>
> #define req_set                 (APR_UINT64_C(1) <<  0)
> #define viaopt_set              (APR_UINT64_C(1) <<  1)
> #define recv_buffer_size_set    (APR_UINT64_C(1) <<  2)
> #define io_buffer_size_set      (APR_UINT64_C(1) <<  3)
> #define maxfwd_set              (APR_UINT64_C(1) <<  4)
> #define timeout_set             (APR_UINT64_C(1) <<  5)
> #define badopt_set              (APR_UINT64_C(1) <<  6)
> #define proxy_status_set        (APR_UINT64_C(1) <<  7)
> #define source_address_set      (APR_UINT64_C(1) <<  8)
> #define bgrowth_set             (APR_UINT64_C(1) <<  9)
> #define bal_persist             (APR_UINT64_C(1) << 10)
> #define inherit                 (APR_UINT64_C(1) << 11)
> #define inherit_set             (APR_UINT64_C(1) << 12)
> #define ppinherit               (APR_UINT64_C(1) << 13)
> #define ppinherit_set           (APR_UINT64_C(1) << 14)
>
> struct {
>     ....
>     apr_uint64_t flags;
> } proxy_server_conf;
>
> We can then use them with (e.g.):
>
> if (sconf->flags & ppinherit_set) {
>     ....
> }
>
> That (at least) won't cause any breakage if we add a new flag or a
> following (trailing) flags2.
>
> My 2 cts...
>

--001a113fecfc45a56b052eaa338d
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">I still can&#39;t find anything in the spec that suggests th=
at extending these is assured to maintain bitwise alignment.</p>
<p dir=3D"ltr">That said, we can, provided we add an aligned break between =
them.=C2=A0 That might mean introducing an interview flag, followed by a ne=
w series of bitwise flags between, for example, the 2.4.20 and 2.4.21 relea=
ses.</p>
<p dir=3D"ltr">Common sense tells me that alignment should be preserved, bu=
t unless we can trust the spec to ensure that assumption, we should err on =
the side of caution.</p>
<div class=3D"gmail_quote">On Mar 22, 2016 4:46 PM, &quot;Yann Ylavic&quot;=
 &lt;<a href=3D"mailto:ylavic.dev@gmail.com">ylavic.dev@gmail.com</a>&gt; w=
rote:<br type=3D"attribution"><blockquote class=3D"gmail_quote" style=3D"ma=
rgin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">... if we cann=
ot extend them.<br>
<br>
On Tue, Mar 22, 2016 at 10:03 PM, William A Rowe Jr &lt;<a href=3D"mailto:w=
rowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt; wrote:<br>
&gt;<br>
&gt; If devs want to promote an API and then continuously break ABI on trun=
k,<br>
&gt; I&#39;m way beyond arguing with such individuals.=C2=A0 Just a few cho=
ice examples<br>
&gt; which had necessitated major MMN bumps that did not receive one...<br>
&gt;<br>
&gt; <a href=3D"http://svn.apache.org/viewvc?view=3Drevision&amp;revision=
=3D1560081" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/view=
vc?view=3Drevision&amp;revision=3D1560081</a><br>
&gt; <a href=3D"http://svn.apache.org/viewvc?view=3Drevision&amp;revision=
=3D1477649" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/view=
vc?view=3Drevision&amp;revision=3D1477649</a> (no<br>
&gt; bitwise-alignment assurance)<br>
&gt; <a href=3D"http://svn.apache.org/viewvc?view=3Drevision&amp;revision=
=3D1436919" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/view=
vc?view=3Drevision&amp;revision=3D1436919</a> (no<br>
&gt; bitwise-alignment assurance)<br>
<br>
These for sure broke users depending on bit alignement of the<br>
bitfield(s), but isn&#39;t that really an abuse of the/any API?<br>
<br>
Anyway, if we can&#39;t extend bitfields, we&#39;d better not use them, and=
<br>
favor plain (unsigned) integer types with #defined (or enum) bits<br>
positions like:<br>
<br>
#define req_set=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0(APR_UINT64_C(1) &lt;&lt;=C2=A0 0)<br>
#define viaopt_set=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 (APR_UIN=
T64_C(1) &lt;&lt;=C2=A0 1)<br>
#define recv_buffer_size_set=C2=A0 =C2=A0 (APR_UINT64_C(1) &lt;&lt;=C2=A0 2=
)<br>
#define io_buffer_size_set=C2=A0 =C2=A0 =C2=A0 (APR_UINT64_C(1) &lt;&lt;=C2=
=A0 3)<br>
#define maxfwd_set=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 (APR_UIN=
T64_C(1) &lt;&lt;=C2=A0 4)<br>
#define timeout_set=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(APR_UIN=
T64_C(1) &lt;&lt;=C2=A0 5)<br>
#define badopt_set=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 (APR_UIN=
T64_C(1) &lt;&lt;=C2=A0 6)<br>
#define proxy_status_set=C2=A0 =C2=A0 =C2=A0 =C2=A0 (APR_UINT64_C(1) &lt;&l=
t;=C2=A0 7)<br>
#define source_address_set=C2=A0 =C2=A0 =C2=A0 (APR_UINT64_C(1) &lt;&lt;=C2=
=A0 8)<br>
#define bgrowth_set=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(APR_UIN=
T64_C(1) &lt;&lt;=C2=A0 9)<br>
#define bal_persist=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(APR_UIN=
T64_C(1) &lt;&lt; 10)<br>
#define inherit=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0(APR_UINT64_C(1) &lt;&lt; 11)<br>
#define inherit_set=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(APR_UIN=
T64_C(1) &lt;&lt; 12)<br>
#define ppinherit=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(AP=
R_UINT64_C(1) &lt;&lt; 13)<br>
#define ppinherit_set=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(APR_UINT64_C=
(1) &lt;&lt; 14)<br>
<br>
struct {<br>
=C2=A0 =C2=A0 ....<br>
=C2=A0 =C2=A0 apr_uint64_t flags;<br>
} proxy_server_conf;<br>
<br>
We can then use them with (e.g.):<br>
<br>
if (sconf-&gt;flags &amp; ppinherit_set) {<br>
=C2=A0 =C2=A0 ....<br>
}<br>
<br>
That (at least) won&#39;t cause any breakage if we add a new flag or a<br>
following (trailing) flags2.<br>
<br>
My 2 cts...<br>
</blockquote></div>

--001a113fecfc45a56b052eaa338d--

From dev-return-86004-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 22:08:55 2016
Return-Path: <dev-return-86004-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 05CDF18560
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 22:08:55 +0000 (UTC)
Received: (qmail 68463 invoked by uid 500); 22 Mar 2016 22:08:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68397 invoked by uid 500); 22 Mar 2016 22:08:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68387 invoked by uid 99); 22 Mar 2016 22:08:54 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 22:08:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E3193C0223
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 22:08:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id UU6MUniJGLPg for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 22:08:52 +0000 (UTC)
Received: from mail-qg0-f48.google.com (mail-qg0-f48.google.com [209.85.192.48])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 725185F479
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 22:08:51 +0000 (UTC)
Received: by mail-qg0-f48.google.com with SMTP id 51so25153528qgy.0
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 15:08:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=gLTgI8pW/2XJBcE64UVse/ONtzpLk3PFjrFxwcQBsGk=;
        b=tFvqufaJ0rymeaSFNPTYeUbaUD5t0naRSS3bU8EqQAOMB1rNbl6zvCOQu5z2KRf0dW
         IG6c66nbRSv13kSvqxXIljH3mjo2IZcFTEYgp5h0sSGnK15OFvKwq8O623KZhqOqcfsM
         +wU9NDcaKz4TAYAWTQHFuSGVRd3dNuUyUkAWcZ+5hnfgs4bSfBBpLwucWWRGT6Gy7Jui
         8Vsj4KjbZFqXT3iUZSVw0S9r13bEDORT9d+Yq/sgzOdfmvc5/q+DowR7F8qXjRQFLVvD
         nd77vzDTx9hNCdcunoz+Po8x71GNbiUFOljEfs2tgWdtEn2ko50dB54jIrWTIh23OsfS
         0GmQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=gLTgI8pW/2XJBcE64UVse/ONtzpLk3PFjrFxwcQBsGk=;
        b=cm5/sO80LBv3LWA1uqVn7V72S+iTLYbl4S9RAbJSvM8pCjW7EMTbFFfKxfNEeog3ZP
         9M/9DgwaTLvm4wEqf1iYr8EdGiD8fEvFvSUzfAReHc3RP975+MId3lTpkGFUQn9fqkhx
         ImxDXRTNzu4zRiwYNO6kK6oHG2VFvGyyUfkfYaIlcc73Fik8qRr+M/y6yBsfwf7qdowO
         uBQR1pqBY2elKHyKtwqK3h91pdZHnbJok2OE7Iiw1NKAGaokOfwaaNvNmtPWg2+F4LrH
         KWACXr2N4twxD5EHSAgiI0wJJVyNGX1qYaX3U4KrkS/Xl2+9diodwZQARd1yNWTYv7rk
         uhWw==
X-Gm-Message-State: AD7BkJJpt3TocUiKQuTzgimw8poQCbnPn2sHHt8fMpZA7GhjLwZ+nFpquKi/X7ABhqINRKOddlPf35rMdB5z0A==
MIME-Version: 1.0
X-Received: by 10.140.167.133 with SMTP id n127mr51022199qhn.73.1458684530071;
 Tue, 22 Mar 2016 15:08:50 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Tue, 22 Mar 2016 15:08:50 -0700 (PDT)
In-Reply-To: <CACsi250OuRSHmMH3Ag6FUcYCdLoePAk3GBQfs9rkr2D1t9WmcQ@mail.gmail.com>
References: <CAKQ1sVPjSJ1A3pHiGvHYUE0XnizjaLdV7hWfS0PAp=u8iE_1Ew@mail.gmail.com>
	<CACsi250OuRSHmMH3Ag6FUcYCdLoePAk3GBQfs9rkr2D1t9WmcQ@mail.gmail.com>
Date: Tue, 22 Mar 2016 23:08:50 +0100
Message-ID: <CAKQ1sVOqSjYBzLa4WcswYZV9xztz8YHs_zfdVyXLp=kaSNK8ug@mail.gmail.com>
Subject: Re: About the relevance of bitfields usage (was: fate of mod_lbmethod_rr...)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 22, 2016 at 10:50 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> I still can't find anything in the spec that suggests that extending these
> is assured to maintain bitwise alignment.

Indeed there is none, that's why users should not depend on it, IMHO.

>
> That said, we can, provided we add an aligned break between them.  That
> might mean introducing an interview flag, followed by a new series of
> bitwise flags between, for example, the 2.4.20 and 2.4.21 releases.

That means losing space IIUC, which pretty much avoids bitfields interest.

>
> Common sense tells me that alignment should be preserved, but unless we can
> trust the spec to ensure that assumption, we should err on the side of
> caution.

So let's not use bitfields, there are other ways to do it, and macros
could help for bit(s) definition/checking/handling...

From dev-return-86005-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 22:12:03 2016
Return-Path: <dev-return-86005-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9E85A18585
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 22:12:03 +0000 (UTC)
Received: (qmail 78403 invoked by uid 500); 22 Mar 2016 22:12:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78335 invoked by uid 500); 22 Mar 2016 22:12:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 78325 invoked by uid 99); 22 Mar 2016 22:12:03 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 22:12:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 976BA1A149B
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 22:12:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id GriMh_zBFe7a for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 22:12:00 +0000 (UTC)
Received: from mail-qg0-f53.google.com (mail-qg0-f53.google.com [209.85.192.53])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 6DE205F560
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 22:12:00 +0000 (UTC)
Received: by mail-qg0-f53.google.com with SMTP id w104so190640082qge.1
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 15:12:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to;
        bh=anIktbLzj9WfpT9mUkQd8xt0RYzS268IU+Z7f+TWGc4=;
        b=WXau5kLBA0NOnEL20mXWf46JTK8DURlkvL73ae75Wlf0wHHjK/7kFg5LSvuzhdwQh9
         VuMFSjZa5NPyNoYkof89Cfoc4z2PrZor1fh3IrRQjHsQTBLkEwgAxvFCniOU8sGjUl83
         5r7q1WFyarTxZ0OKgubFyHY+nNqAMVBK3Mi5r7aIxnLRa9vhX5e6eg8LYAWN7O/5cmli
         o5RQqJd0whrFZ7SPkZaOEGs0OEJGtnP/t3qYk6C6RvaE1HlgkzmgGnm7mAJSxvUqeJsk
         gy5eEHGoEB9h+pouhfoQcLBd4G3AWWSYYSM1eLxVQamHmvwVCXdJtaA4KlVX7Q5oIKId
         E3Dw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to;
        bh=anIktbLzj9WfpT9mUkQd8xt0RYzS268IU+Z7f+TWGc4=;
        b=Mrysoildpeo1hTh0rspBJfc4QRTV5ByfDSGMtv30ulL/XoNjAogQS7sK3kj604zX7R
         xLiinqE5i1zAu6mYX0ifjk4hQZ2ohF+2WNxZiUKIEmED7F1GD7x9yeOvruJI8P5omCZ8
         F2Tj5pet1x5qqBkqNUChjXRektVjqFGXdxvAcICBSVWcSZVkD/qSd4/kYjI0OG9rObZQ
         tAdI2A1bqzlD1zR9ODP0ZMgBQ90r/aekorejNwwzsFtlUNQBd3GXli8XyuHCInSW58pe
         60VhBEiH5D6EUK7E0ph7/DyByBXAesnb1nE3TASLSBJIWzTXOnWw4U51yEShE0LtXRLl
         8WXQ==
X-Gm-Message-State: AD7BkJJfkZFfE1q//ryXFA1jI5q1e0ag02oIF7A6Kt6mGmQzWBMs/rnXmpGuU+gq0OWBD6fE6YOSM7Ly+NiNkQ==
MIME-Version: 1.0
X-Received: by 10.140.221.17 with SMTP id r17mr53035768qhb.61.1458684719933;
 Tue, 22 Mar 2016 15:11:59 -0700 (PDT)
Received: by 10.55.174.4 with HTTP; Tue, 22 Mar 2016 15:11:59 -0700 (PDT)
Date: Tue, 22 Mar 2016 18:11:59 -0400
Message-ID: <CAKUrXK7FHN1RViVEOsxy=guWrE0oFV_+_LHsS5P4xdTPsp28Jw@mail.gmail.com>
Subject: Need hints from those building mod_http2 and mod_proxy_http2 on Windows
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1138f268923050052eaa80b9

--001a1138f268923050052eaa80b9
Content-Type: text/plain; charset=UTF-8

What version of nghttp2 are you using?
Are you using the cmake build for httpd?


FWIW I just found that I needed nghttp2 >= 1.4.0 on Windows to fix bad
linkage in nghttp2 functions that mod_http2 didn't use when I built before.
 (not related to cmake)

After resolving that I now see a bunch of unresolved symbols with
mod_proxy_http2.  From the number of symbols and the type there seems to be
a couple of issues in the httpd CMakeLists.txt file.  I can hopefully look
at that early tomorrow a.m.

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a1138f268923050052eaa80b9
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">What version of nghttp2 are you using?<div>Are you using t=
he cmake build for httpd?</div><div><br></div><div><br></div><div>FWIW I ju=
st found that I needed nghttp2 &gt;=3D 1.4.0 on Windows to fix bad linkage =
in nghttp2 functions that mod_http2 didn&#39;t use when I built before. =C2=
=A0(not related to cmake)</div><div><br></div><div>After resolving that I n=
ow see a bunch of unresolved symbols with mod_proxy_http2.=C2=A0 From the n=
umber of symbols and the type there seems to be a couple of issues in the h=
ttpd CMakeLists.txt file.=C2=A0 I can hopefully look at that early tomorrow=
 a.m.<br clear=3D"all"><div><br></div>-- <br><div class=3D"gmail_signature"=
><div dir=3D"ltr">Born in Roswell... married an alien...<br><a href=3D"http=
://emptyhammock.com/" target=3D"_blank">http://emptyhammock.com/</a><div><b=
r></div></div></div>
</div></div>

--001a1138f268923050052eaa80b9--

From dev-return-86006-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 22:31:30 2016
Return-Path: <dev-return-86006-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7B8D218634
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 22:31:30 +0000 (UTC)
Received: (qmail 15767 invoked by uid 500); 22 Mar 2016 22:31:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15687 invoked by uid 500); 22 Mar 2016 22:31:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15677 invoked by uid 99); 22 Mar 2016 22:31:29 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 22:31:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 1FE3C1A030D
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 22:31:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Kx_XvtKdYACH for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 22:31:28 +0000 (UTC)
Received: from mail-pf0-f172.google.com (mail-pf0-f172.google.com [209.85.192.172])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 410875F244
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 22:31:27 +0000 (UTC)
Received: by mail-pf0-f172.google.com with SMTP id x3so328685080pfb.1
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 15:31:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-transfer-encoding;
        bh=yI51sZpm/Fej5FwbHNVPrGrBDmyvj6zGtgxD4BUI/tY=;
        b=tsCBv112suSytpFx9Ii+sk+NFP/CS236tIe/CSfzmPUSKg/GpMONTdNM2r7Hd7y9hG
         6kYTcSuDKQ+O0ywXT5i4C0FU/9DDJneMAwrjyXEcqIftYbBrmgMcGI4IYyFSzyWjxonB
         2n1BscNEswIleAeyJq/B+Dr5vC/VL6eSe3I2qyUzp0aiYew6esr3pCS4JcIP40LI2aiS
         0Y6g+uzKJ55YCfRNzQIzVm6iqN6Vdp0OdOMHVBEAlf8hCH2f8UrFvPCKNj64TvjKyz55
         K+ATZksMWHodult0meNzCGNtcf0NIxS1fYVhyiuxCEE2gvZ58c2BIc8IgC6BFd81nryb
         lncw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:subject:to:references:from:message-id:date
         :user-agent:mime-version:in-reply-to:content-transfer-encoding;
        bh=yI51sZpm/Fej5FwbHNVPrGrBDmyvj6zGtgxD4BUI/tY=;
        b=NwA6iG64nCxmWiGztUyOmpkOyNOy8JtK7cpsEg+dR75L8iS5fGWNzgm7qpUsf34FLh
         eyoKsN7HOJmJBbWIQgKngjrkIWuHwNHd6u3v5ypiJBoh9WN8dm6R1A9MV+E48SvYdFgD
         XQ6+/zvs8nK2fZfUjjadHpbRQw6RORkFNKzQ5iOJjhzcCf6StQZTdGdnlrdCcEiEj9GG
         ck3rT8gTyboboPl1CUq8W4baKb9hf2FsFuSxpg5/yVOTl9fRnONmrROdVKECtJPOULvw
         NF+EkkGTc3+nAdvGnne1yWKHiUvHdEnl71fyJZ+7s9EOfhwxPGbj5V+5S3o7PvtXwQXT
         iILw==
X-Gm-Message-State: AD7BkJL5MfM6dOT/yL4A7o7q+GOmiLPKvXO+R5negkac6pEv6h/FqXokuq5PHjSCnP7VCA==
X-Received: by 10.66.163.40 with SMTP id yf8mr57878824pab.148.1458685885878;
        Tue, 22 Mar 2016 15:31:25 -0700 (PDT)
Received: from [192.168.1.4] (50-39-119-28.bvtn.or.frontiernet.net. [50.39.119.28])
        by smtp.gmail.com with ESMTPSA id f12sm50649678pfd.87.2016.03.22.15.31.24
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Tue, 22 Mar 2016 15:31:24 -0700 (PDT)
Subject: Re: Need hints from those building mod_http2 and mod_proxy_http2 on
 Windows
To: dev@httpd.apache.org
References: <CAKUrXK7FHN1RViVEOsxy=guWrE0oFV_+_LHsS5P4xdTPsp28Jw@mail.gmail.com>
From: Jacob Champion <champion.p@gmail.com>
Message-ID: <56F1C7BB.8060803@gmail.com>
Date: Tue, 22 Mar 2016 15:31:23 -0700
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <CAKUrXK7FHN1RViVEOsxy=guWrE0oFV_+_LHsS5P4xdTPsp28Jw@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit

On 03/22/2016 03:11 PM, Jeff Trawick wrote:
> What version of nghttp2 are you using?
> Are you using the cmake build for httpd?

I'm not currently in Windows to be able to check for sure, but I
*believe* I'm running nghttp2 1.8.0.

> FWIW I just found that I needed nghttp2 >= 1.4.0 on Windows to fix bad
> linkage in nghttp2 functions that mod_http2 didn't use when I built
> before.  (not related to cmake)
> 
> After resolving that I now see a bunch of unresolved symbols with
> mod_proxy_http2.  From the number of symbols and the type there seems to
> be a couple of issues in the httpd CMakeLists.txt file.  I can hopefully
> look at that early tomorrow a.m.

The CMake/mod_proxy_http2 stuff came up before [1]. I didn't hear back
from Bill on how his CMake port was going, but I ended up working on one
in parallel:

    https://github.com/jchampio/httpd/commits/dev/cmake-http2

Caveat: I haven't taken a look at that patchset in three weeks, or tried
to rebase onto latest. I hope it's still potentially useful for you?

--Jacob

[1]
http://mail-archives.apache.org/mod_mbox//httpd-dev/201602.mbox/%3CCAGu%3Du8gSex0%2B4KXfmy_rYCdcB-_TOfb-aZ1%3DrhBihYePx%3D8Tug%40mail.gmail.com%3E

From dev-return-86007-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 22:32:21 2016
Return-Path: <dev-return-86007-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 978641863D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 22:32:21 +0000 (UTC)
Received: (qmail 18040 invoked by uid 500); 22 Mar 2016 22:32:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17955 invoked by uid 500); 22 Mar 2016 22:32:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17944 invoked by uid 99); 22 Mar 2016 22:32:20 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 22:32:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 42AF018048B
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 22:32:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id g41HceucRbNP for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 22:32:18 +0000 (UTC)
Received: from mail-qk0-f177.google.com (mail-qk0-f177.google.com [209.85.220.177])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 921B35F244
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 22:32:17 +0000 (UTC)
Received: by mail-qk0-f177.google.com with SMTP id o6so98418597qkc.2
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 15:32:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=522ZBZUXSkKE0+rkea7fnDPTEzQyehWbXuoMwBcEZiE=;
        b=TOqmFf6srleHHG+jGsMMU8haccyq3rCvpBLjLPy9GyTHY6KYM+e06ssB8Y8d/2et80
         ZiE8BSs1ulBTBi/WBk4baUTNvwzcorJxr7zRR87yYDpnNp166k3ByrgpXBTIVOpb0ZyO
         eQoYEafL0UdzAxRJzkl2nloylb4LjkLV2es2ONE6wRp+x00csVkP+Umw8elyb+OUyuyZ
         DieOSALeF87Aro5lTQknQJ8BTbz3LYbNyjDWA/7S0gffxZfWanxGFItqFDje+jIwC47Q
         iI5LrV7ksG3mrxq/qdT3mBm5uLeeYias/9lM06EMa+pvHxC1RqlLy8HulQUN1aUgNm4C
         qhEw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=522ZBZUXSkKE0+rkea7fnDPTEzQyehWbXuoMwBcEZiE=;
        b=XD2k4HRu56uJ6ban9CVEiURLmDpIddbU9nvXeRx8QzF2PVgjy2RRG5nhu7x+3Vt1jn
         LsvgqqHYAFIxfSlVSpSnbggsjBnweBfFjFw6RFReJRq0NGwWqy7cTVYpLivllMNpxI7o
         jJfa9Eu0gpKOTJO39Vef9k9ZJO7chBaw44G498sWUzKFlEKuDZ1Lb5hwNF7pF7x4/zsk
         SdvBbbThZFI89wtCnl8KAdc/zLcY1RLxyiHl+nI/JEaJziIU/WSIXA+BzLhy11xJq4BG
         zj7YXWrNtbO29Msv8s/c+KsP0cTYXAkHle3M5ug9GFzIuIw5OvN5q+ZOYWzP7EYzcz3J
         dXqQ==
X-Gm-Message-State: AD7BkJIdsNSkqPKgNpE+i1PJcF6rLrPSrksB8hfcU+3XI1HyJbuIOrH+etYYkecri1wyJh1BW8PQEjutszDONg==
MIME-Version: 1.0
X-Received: by 10.55.50.136 with SMTP id y130mr4766846qky.79.1458685930866;
 Tue, 22 Mar 2016 15:32:10 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Tue, 22 Mar 2016 15:32:10 -0700 (PDT)
In-Reply-To: <CAMDeyhywhN+sR_=x7SYUPYEKN1aZW6BODVTa9UU13b1xqbmp+g@mail.gmail.com>
References: <CAKQ1sVNfuWi2Hp_B5ixFa4Tru=znGXwbAAnAwvPa_ygahBng9g@mail.gmail.com>
	<CAMDeyhywhN+sR_=x7SYUPYEKN1aZW6BODVTa9UU13b1xqbmp+g@mail.gmail.com>
Date: Tue, 22 Mar 2016 23:32:10 +0100
Message-ID: <CAKQ1sVOb1b4b7-n8u-aOj8UpvjiFh-ueJL1DeKimU6yYw4z-_A@mail.gmail.com>
Subject: Re: TLS session ticket key (shared) renewal
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 22, 2016 at 4:18 PM, Paul Querna <paul@querna.org> wrote:
> My thought was to add support for either multiple files, or multiple values
> in the existing `SSLSessionTicketKeyFile`.  Then add support to decrypt from
> any of the known keys, and have a setting (or the first loaded key) would be
> used to encrypt all new keys.  This would allow for rotation in a reasonable
> manner.

That's indeed a great improvement on what we have now, and actually
looks like you first introduced it in r1200040 :)
Why was it not kept that way?

We'll still need a (graceful) restart to renew the keys, though.

Also, it seems there is interest in sharing the keys accross different
instances/machines, is a file (unless on something like an NFS mount)
an option here?

From dev-return-86008-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 22:38:03 2016
Return-Path: <dev-return-86008-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EA55D18682
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 22:38:03 +0000 (UTC)
Received: (qmail 30179 invoked by uid 500); 22 Mar 2016 22:38:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30105 invoked by uid 500); 22 Mar 2016 22:38:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30094 invoked by uid 99); 22 Mar 2016 22:38:03 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 22:38:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id EF1CAC0223
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 22:38:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id j6ImH20gIaDu for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 22:38:00 +0000 (UTC)
Received: from mail-qg0-f51.google.com (mail-qg0-f51.google.com [209.85.192.51])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 1F92C5F398
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 22:38:00 +0000 (UTC)
Received: by mail-qg0-f51.google.com with SMTP id u110so191023335qge.3
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 15:38:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=LjmuQ9ox66BFO5qvzEvNVzfWK87BCUgK4f1tFpvaOPo=;
        b=p3nMzsYTZxqUIjby81EhrfIqNMftAauu5vq54n32V5YjMoEcQpsGOfNy63Ol0cduxo
         rTXUhRq1Ke0TgLB1B8UWsiBxnHBwwmgeLbbnyrM/73GkMTjw6En0F5MCEYz4XdXwf0x8
         zmvd4sBf+400ptKFpt6fyZl1jyj6RYxqNfWt5osL0YRX01wN9WSYTSav0ZZD1GlszBEO
         6zFPc6Doe/E3PS+q+S9JO2B1KMImcbY1TQ2jnx2b/z0ccaTqCb4yGDKHDl/t3cAuoVW9
         LArlyFmRJLbbJl+fYDQCcDtStd3qezhTFaoBbiJnDK8vdJkWMW7Ic5OHUUXQUcMvs9/C
         p87Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=LjmuQ9ox66BFO5qvzEvNVzfWK87BCUgK4f1tFpvaOPo=;
        b=hvzLC0Af6uQ+OmQGI10UpOJ0WS/lGXvlUlSR3ehznv3m5RU9LE8ztFbjbRDnhomHV+
         opNbSUwYVAYLUCRgO03YuA0E3EozPWHkQNwNT0J+WVoGRoIhJ6HsVfJvGQgAIF/WoQ43
         9OyISPDn7vjyvLRbRKdVjbusG1tjp5dSHNeMIMTxkis/yNxuPe6cEhhjhOwE7lptRILt
         /szxJIxKrMfxLAvOxvdaPkiPrOswGXHYOi7QCggHLbeSRkVJRyXSx8I+bK70mgJkKXw4
         Odm7nQuTjKLTI+TcEGFjkLdPwLikEfa1NHIIcAzKzWqoCu0Tlr8cklX75leXCl1uhgM8
         hddQ==
X-Gm-Message-State: AD7BkJJLeg5jy5sApn4ukxQ9ecvUEnNWgG56FkDeFFviDFMoow0xKeURN6961KuBkLdvEwwjLBSCqC0yhdJoXw==
MIME-Version: 1.0
X-Received: by 10.140.255.136 with SMTP id a130mr53826767qhd.20.1458686279102;
 Tue, 22 Mar 2016 15:37:59 -0700 (PDT)
Received: by 10.55.174.4 with HTTP; Tue, 22 Mar 2016 15:37:59 -0700 (PDT)
In-Reply-To: <56F1C7BB.8060803@gmail.com>
References: <CAKUrXK7FHN1RViVEOsxy=guWrE0oFV_+_LHsS5P4xdTPsp28Jw@mail.gmail.com>
	<56F1C7BB.8060803@gmail.com>
Date: Tue, 22 Mar 2016 18:37:59 -0400
Message-ID: <CAKUrXK57nAdv-eHuEVNQMhrnKdm=FXpg-rUWFzgfmsWS4386zw@mail.gmail.com>
Subject: Re: Need hints from those building mod_http2 and mod_proxy_http2 on Windows
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113a5b5a815334052eaadd64

--001a113a5b5a815334052eaadd64
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 22, 2016 at 6:31 PM, Jacob Champion <champion.p@gmail.com>
wrote:

> On 03/22/2016 03:11 PM, Jeff Trawick wrote:
> > What version of nghttp2 are you using?
> > Are you using the cmake build for httpd?
>
> I'm not currently in Windows to be able to check for sure, but I
> *believe* I'm running nghttp2 1.8.0.
>
> > FWIW I just found that I needed nghttp2 >= 1.4.0 on Windows to fix bad
> > linkage in nghttp2 functions that mod_http2 didn't use when I built
> > before.  (not related to cmake)
> >
> > After resolving that I now see a bunch of unresolved symbols with
> > mod_proxy_http2.  From the number of symbols and the type there seems to
> > be a couple of issues in the httpd CMakeLists.txt file.  I can hopefully
> > look at that early tomorrow a.m.
>
> The CMake/mod_proxy_http2 stuff came up before [1]. I didn't hear back
> from Bill on how his CMake port was going, but I ended up working on one
> in parallel:
>
>     https://github.com/jchampio/httpd/commits/dev/cmake-http2
>
> Caveat: I haven't taken a look at that patchset in three weeks, or tried
> to rebase onto latest. I hope it's still potentially useful for you?
>
> --Jacob
>
> [1]
>
> http://mail-archives.apache.org/mod_mbox//httpd-dev/201602.mbox/%3CCAGu%3Du8gSex0%2B4KXfmy_rYCdcB-_TOfb-aZ1%3DrhBihYePx%3D8Tug%40mail.gmail.com%3E


Yes, that's useful.  In the short term it makes it easy to tell that
mod_proxy_http2 simply does not build/run on Windows at all and needs to be
yanked out of the CMake build for 2.4.x until it does, since it breaks the
build.

I hope that I or someone else has time to work through your fixes before
long.

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a113a5b5a815334052eaadd64
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
ue, Mar 22, 2016 at 6:31 PM, Jacob Champion <span dir=3D"ltr">&lt;<a href=
=3D"mailto:champion.p@gmail.com" target=3D"_blank">champion.p@gmail.com</a>=
&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0=
 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><span class=3D"">On 03=
/22/2016 03:11 PM, Jeff Trawick wrote:<br>
&gt; What version of nghttp2 are you using?<br>
&gt; Are you using the cmake build for httpd?<br>
<br>
</span>I&#39;m not currently in Windows to be able to check for sure, but I=
<br>
*believe* I&#39;m running nghttp2 1.8.0.<br>
<span class=3D""><br>
&gt; FWIW I just found that I needed nghttp2 &gt;=3D 1.4.0 on Windows to fi=
x bad<br>
&gt; linkage in nghttp2 functions that mod_http2 didn&#39;t use when I buil=
t<br>
&gt; before.=C2=A0 (not related to cmake)<br>
&gt;<br>
&gt; After resolving that I now see a bunch of unresolved symbols with<br>
&gt; mod_proxy_http2.=C2=A0 From the number of symbols and the type there s=
eems to<br>
&gt; be a couple of issues in the httpd CMakeLists.txt file.=C2=A0 I can ho=
pefully<br>
&gt; look at that early tomorrow a.m.<br>
<br>
</span>The CMake/mod_proxy_http2 stuff came up before [1]. I didn&#39;t hea=
r back<br>
from Bill on how his CMake port was going, but I ended up working on one<br=
>
in parallel:<br>
<br>
=C2=A0 =C2=A0 <a href=3D"https://github.com/jchampio/httpd/commits/dev/cmak=
e-http2" rel=3D"noreferrer" target=3D"_blank">https://github.com/jchampio/h=
ttpd/commits/dev/cmake-http2</a><br>
<br>
Caveat: I haven&#39;t taken a look at that patchset in three weeks, or trie=
d<br>
to rebase onto latest. I hope it&#39;s still potentially useful for you?<br=
>
<br>
--Jacob<br>
<br>
[1]<br>
<a href=3D"http://mail-archives.apache.org/mod_mbox//httpd-dev/201602.mbox/=
%3CCAGu%3Du8gSex0%2B4KXfmy_rYCdcB-_TOfb-aZ1%3DrhBihYePx%3D8Tug%40mail.gmail=
.com%3E" rel=3D"noreferrer" target=3D"_blank">http://mail-archives.apache.o=
rg/mod_mbox//httpd-dev/201602.mbox/%3CCAGu%3Du8gSex0%2B4KXfmy_rYCdcB-_TOfb-=
aZ1%3DrhBihYePx%3D8Tug%40mail.gmail.com%3E</a></blockquote><div><br></div><=
div>Yes, that&#39;s useful.=C2=A0 In the short term it makes it easy to tel=
l that mod_proxy_http2 simply does not build/run on Windows at all and need=
s to be yanked out of the CMake build for 2.4.x until it does, since it bre=
aks the build.</div></div><br>I hope that I or someone else has time to wor=
k through your fixes before long.<br clear=3D"all"><div><br></div>-- <br><d=
iv class=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an=
 alien...<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://=
emptyhammock.com/</a><div><br></div></div></div>
</div></div>

--001a113a5b5a815334052eaadd64--

From dev-return-86009-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 22:39:47 2016
Return-Path: <dev-return-86009-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2E8A7186A7
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 22:39:47 +0000 (UTC)
Received: (qmail 37607 invoked by uid 500); 22 Mar 2016 22:39:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37544 invoked by uid 500); 22 Mar 2016 22:39:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37534 invoked by uid 99); 22 Mar 2016 22:39:46 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 22:39:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 485141801A9
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 22:39:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id OAKgPdzya9CK for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 22:39:44 +0000 (UTC)
Received: from mail-qk0-f172.google.com (mail-qk0-f172.google.com [209.85.220.172])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id BBE945F560
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 22:39:43 +0000 (UTC)
Received: by mail-qk0-f172.google.com with SMTP id s68so98474837qkh.3
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 15:39:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=uOsodYbCmr+d8AUwBi3b6aqgtlYGbpjskCVvr7rJEuA=;
        b=x49pEdsH380IHT6LdCUzOdfy5XQ/XzkdSilkLT5LsIdhNvdT0G3xD7/Jwdk0CI/JHv
         jWL8vpuOciJMZPzpxnzdgkVMWBtxuM7tEekl6tGWNZ/fMHAIt86+gVWHD8Fx+ONvnSxp
         GFSKlFZV3/5eFTrflSSGp1zDPjTjbrwaAg97i5FLlOvCd2l/r3J12Q9sQXViE3ZTfmg2
         8yyq00WQX+ZdssA/t0pvdgLjFt56NxFudFvutzx1iA27RmiaKS53zg2O8HZ5yGMSF2vx
         cqlKAowpAN2BKw7SP3IuvU0gfJG5jYBfapBFSIL0QsYPUQjaHSHFPpUkzzjCx63Yl6sP
         TpKQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=uOsodYbCmr+d8AUwBi3b6aqgtlYGbpjskCVvr7rJEuA=;
        b=UQux+SuKrojUw50aWJe2U5NBGeO9rfXTGEOrZc61Tx8ecV7EIfsMbxYXlRwH8jz0rW
         PNjmvmZCWg3i8pslVQs0xoGVTMg4R/+crNlbV149yo2Zbc4eztIJ/W4eIFd5E7EfQRIy
         PvAQAZqJ/SdmNqAEH14E9s8t8gLk4Wd08ZsKTwy0wuSr54/WJeMm2WV2oOX8qc2Jrbax
         g4ieFmnG8oSYUCb+TQKQ6hjm9hLXkrmlNKLA87tPaWoDDQGFVYgtafcr/QdIJ7S/VXJg
         8VkBBkjWhzeRacI4BykEBJrRz6XimwyBQkmKvR7RuVNIFXe0Mc0+SYtAMXNMtcAuh2xZ
         vXBQ==
X-Gm-Message-State: AD7BkJJoTiZjkudNiKGEvY7GCyTvzaRvEljb4+p/EhISOqRFnWh5YRbuMqzB+huKAs0lhRX6Qt1NovcpLIJVWQ==
MIME-Version: 1.0
X-Received: by 10.55.53.207 with SMTP id c198mr50199412qka.24.1458686377563;
 Tue, 22 Mar 2016 15:39:37 -0700 (PDT)
Received: by 10.55.174.4 with HTTP; Tue, 22 Mar 2016 15:39:37 -0700 (PDT)
In-Reply-To: <CAKUrXK57nAdv-eHuEVNQMhrnKdm=FXpg-rUWFzgfmsWS4386zw@mail.gmail.com>
References: <CAKUrXK7FHN1RViVEOsxy=guWrE0oFV_+_LHsS5P4xdTPsp28Jw@mail.gmail.com>
	<56F1C7BB.8060803@gmail.com>
	<CAKUrXK57nAdv-eHuEVNQMhrnKdm=FXpg-rUWFzgfmsWS4386zw@mail.gmail.com>
Date: Tue, 22 Mar 2016 18:39:37 -0400
Message-ID: <CAKUrXK6-Yu4-w_oD8pkos8S8SDR2NkVN+sAsnoJZjNR+=2etBQ@mail.gmail.com>
Subject: Re: Need hints from those building mod_http2 and mod_proxy_http2 on Windows
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a114710925f9dc6052eaae379

--001a114710925f9dc6052eaae379
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 22, 2016 at 6:37 PM, Jeff Trawick <trawick@gmail.com> wrote:

> On Tue, Mar 22, 2016 at 6:31 PM, Jacob Champion <champion.p@gmail.com>
> wrote:
>
>> On 03/22/2016 03:11 PM, Jeff Trawick wrote:
>> > What version of nghttp2 are you using?
>> > Are you using the cmake build for httpd?
>>
>> I'm not currently in Windows to be able to check for sure, but I
>> *believe* I'm running nghttp2 1.8.0.
>>
>> > FWIW I just found that I needed nghttp2 >= 1.4.0 on Windows to fix bad
>> > linkage in nghttp2 functions that mod_http2 didn't use when I built
>> > before.  (not related to cmake)
>> >
>> > After resolving that I now see a bunch of unresolved symbols with
>> > mod_proxy_http2.  From the number of symbols and the type there seems to
>> > be a couple of issues in the httpd CMakeLists.txt file.  I can hopefully
>> > look at that early tomorrow a.m.
>>
>> The CMake/mod_proxy_http2 stuff came up before [1]. I didn't hear back
>> from Bill on how his CMake port was going, but I ended up working on one
>> in parallel:
>>
>>     https://github.com/jchampio/httpd/commits/dev/cmake-http2
>>
>> Caveat: I haven't taken a look at that patchset in three weeks, or tried
>> to rebase onto latest. I hope it's still potentially useful for you?
>>
>> --Jacob
>>
>> [1]
>>
>> http://mail-archives.apache.org/mod_mbox//httpd-dev/201602.mbox/%3CCAGu%3Du8gSex0%2B4KXfmy_rYCdcB-_TOfb-aZ1%3DrhBihYePx%3D8Tug%40mail.gmail.com%3E
>
>
> Yes, that's useful.  In the short term it makes it easy to tell that
> mod_proxy_http2 simply does not build/run on Windows at all and needs to be
> yanked out of the CMake build for 2.4.x until it does, since it breaks the
> build.
>

I can't stop being an idiot, I'm afraid.  It is in the trunk build, not
2.4.x; let me switch source trees again :)


>
> I hope that I or someone else has time to work through your fixes before
> long.
>
> --
> Born in Roswell... married an alien...
> http://emptyhammock.com/
>
>


-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a114710925f9dc6052eaae379
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
ue, Mar 22, 2016 at 6:37 PM, Jeff Trawick <span dir=3D"ltr">&lt;<a href=3D"=
mailto:trawick@gmail.com" target=3D"_blank">trawick@gmail.com</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bo=
rder-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div class=3D"g=
mail_extra"><div class=3D"gmail_quote"><div><div class=3D"h5">On Tue, Mar 2=
2, 2016 at 6:31 PM, Jacob Champion <span dir=3D"ltr">&lt;<a href=3D"mailto:=
champion.p@gmail.com" target=3D"_blank">champion.p@gmail.com</a>&gt;</span>=
 wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bor=
der-left:1px #ccc solid;padding-left:1ex"><span>On 03/22/2016 03:11 PM, Jef=
f Trawick wrote:<br>
&gt; What version of nghttp2 are you using?<br>
&gt; Are you using the cmake build for httpd?<br>
<br>
</span>I&#39;m not currently in Windows to be able to check for sure, but I=
<br>
*believe* I&#39;m running nghttp2 1.8.0.<br>
<span><br>
&gt; FWIW I just found that I needed nghttp2 &gt;=3D 1.4.0 on Windows to fi=
x bad<br>
&gt; linkage in nghttp2 functions that mod_http2 didn&#39;t use when I buil=
t<br>
&gt; before.=C2=A0 (not related to cmake)<br>
&gt;<br>
&gt; After resolving that I now see a bunch of unresolved symbols with<br>
&gt; mod_proxy_http2.=C2=A0 From the number of symbols and the type there s=
eems to<br>
&gt; be a couple of issues in the httpd CMakeLists.txt file.=C2=A0 I can ho=
pefully<br>
&gt; look at that early tomorrow a.m.<br>
<br>
</span>The CMake/mod_proxy_http2 stuff came up before [1]. I didn&#39;t hea=
r back<br>
from Bill on how his CMake port was going, but I ended up working on one<br=
>
in parallel:<br>
<br>
=C2=A0 =C2=A0 <a href=3D"https://github.com/jchampio/httpd/commits/dev/cmak=
e-http2" rel=3D"noreferrer" target=3D"_blank">https://github.com/jchampio/h=
ttpd/commits/dev/cmake-http2</a><br>
<br>
Caveat: I haven&#39;t taken a look at that patchset in three weeks, or trie=
d<br>
to rebase onto latest. I hope it&#39;s still potentially useful for you?<br=
>
<br>
--Jacob<br>
<br>
[1]<br>
<a href=3D"http://mail-archives.apache.org/mod_mbox//httpd-dev/201602.mbox/=
%3CCAGu%3Du8gSex0%2B4KXfmy_rYCdcB-_TOfb-aZ1%3DrhBihYePx%3D8Tug%40mail.gmail=
.com%3E" rel=3D"noreferrer" target=3D"_blank">http://mail-archives.apache.o=
rg/mod_mbox//httpd-dev/201602.mbox/%3CCAGu%3Du8gSex0%2B4KXfmy_rYCdcB-_TOfb-=
aZ1%3DrhBihYePx%3D8Tug%40mail.gmail.com%3E</a></blockquote><div><br></div><=
/div></div><div>Yes, that&#39;s useful.=C2=A0 In the short term it makes it=
 easy to tell that mod_proxy_http2 simply does not build/run on Windows at =
all and needs to be yanked out of the CMake build for 2.4.x until it does, =
since it breaks the build.</div></div></div></div></blockquote><div><br></d=
iv><div>I can&#39;t stop being an idiot, I&#39;m afraid.=C2=A0 It is in the=
 trunk build, not 2.4.x; let me switch source trees again :)</div><div>=C2=
=A0</div><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;borde=
r-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div class=3D"gmai=
l_extra"><br>I hope that I or someone else has time to work through your fi=
xes before long.<span class=3D""><br clear=3D"all"><div><br></div>-- <br><d=
iv><div dir=3D"ltr">Born in Roswell... married an alien...<br><a href=3D"ht=
tp://emptyhammock.com/" target=3D"_blank">http://emptyhammock.com/</a><div>=
<br></div></div></div>
</span></div></div>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--001a114710925f9dc6052eaae379--

From dev-return-86010-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 23:00:20 2016
Return-Path: <dev-return-86010-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3DF8118791
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 23:00:20 +0000 (UTC)
Received: (qmail 84949 invoked by uid 500); 22 Mar 2016 23:00:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84871 invoked by uid 500); 22 Mar 2016 23:00:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84856 invoked by uid 99); 22 Mar 2016 23:00:19 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 23:00:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 4C1E61804AF
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 23:00:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ciUJRqzwYqHl for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 23:00:17 +0000 (UTC)
Received: from mail-io0-f179.google.com (mail-io0-f179.google.com [209.85.223.179])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 0DFE25F479
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 23:00:16 +0000 (UTC)
Received: by mail-io0-f179.google.com with SMTP id o5so2826889iod.2
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 16:00:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=6ddBFJUxUXlEoHkKLQzmgPeK35NsyskliaWOi8RVvFE=;
        b=hTkTYrrv7lrA/MApPwbnduYBjzyEusjaSpPRUwa1lhMUzZS2hZzDA+ptIXRVm4gDfk
         5dRO1QjGMY3OgqbCSdDLZ8acYmIKPPwndwJh33ZzV0alS8LbdV3BLXgquDXfwY+4DDdC
         tVC0tlP07JlouJe8miDFlVgVxdvncLBElge+t4w9q4ViBRVuYBCJSwAO4RxDzmJxAniE
         Gj3wzTgLNRrZLs38DUrWRwjxLY/PBS2WcCvqkLZtRCUiffkXWFTW2sbtDxtvFjevdGhk
         wkZPpX28ZgzihjcEAlvvVDjzqNtloVqaYfkJGIF9GYEaVFs4ZGt2iAXhkgNmbRZmX91a
         mk4w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=6ddBFJUxUXlEoHkKLQzmgPeK35NsyskliaWOi8RVvFE=;
        b=Ms77/Iz/PlXw3glvgSG/0coUYTUy9/nEkkzRsfMRDnUtP+AXoYyQn3qZ7/J7sVXwQx
         8lsfmvQrlwWEqHh+ar6nfvFHtjLuvt3BB7/mLvrp2Vo4QClXbFEwW/1PweKKi+M03Hfi
         cQCwiEHY//1tVflHfCkH5C+51FlISl9xKNaE07URI3ST/hJ8JOOMvusKhgjUWbRmcNNm
         gmLPTAwUjJfnf/ojq9Q0LAI1i0rCks7hOD3lmZtJ+WbIC5ig+gH3kMnJt9mOHnwOUSVg
         z9GhK/Vt3FFTYw4wSC3ehOxdiPkv+rJwPCyYvwhBhQww9xxBUxz5x9D9HUIwE1iamlka
         MtaA==
X-Gm-Message-State: AD7BkJLiFRnUUqX8vEDT/vtYZOF5nflR4efPrLZEvUa8bWowYUxJGrRBntliHynfK5Gb0w4ICq4pMumbXgWyou/h
MIME-Version: 1.0
X-Received: by 10.50.127.168 with SMTP id nh8mr221422igb.32.1458687609997;
 Tue, 22 Mar 2016 16:00:09 -0700 (PDT)
Received: by 10.107.149.12 with HTTP; Tue, 22 Mar 2016 16:00:09 -0700 (PDT)
In-Reply-To: <CAKQ1sVOqSjYBzLa4WcswYZV9xztz8YHs_zfdVyXLp=kaSNK8ug@mail.gmail.com>
References: <CAKQ1sVPjSJ1A3pHiGvHYUE0XnizjaLdV7hWfS0PAp=u8iE_1Ew@mail.gmail.com>
	<CACsi250OuRSHmMH3Ag6FUcYCdLoePAk3GBQfs9rkr2D1t9WmcQ@mail.gmail.com>
	<CAKQ1sVOqSjYBzLa4WcswYZV9xztz8YHs_zfdVyXLp=kaSNK8ug@mail.gmail.com>
Date: Tue, 22 Mar 2016 18:00:09 -0500
Message-ID: <CACsi251NyGFtZHVeBCkrAskNbZyxiCX5Sm+y9p-7L7s2Z8AZVw@mail.gmail.com>
Subject: Re: About the relevance of bitfields usage (was: fate of mod_lbmethod_rr...)
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e013c5d1ed53449052eab2c63

--089e013c5d1ed53449052eab2c63
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 22, 2016 at 5:08 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

>
> > Common sense tells me that alignment should be preserved, but unless we
> can
> > trust the spec to ensure that assumption, we should err on the side of
> > caution.
>
> So let's not use bitfields, there are other ways to do it, and macros
> could help for bit(s) definition/checking/handling...
>

Let's continue to use them as we prepare for 2.6.0 - where we have the
opportunity to drop ABI and pack all of our bit flags in one place, that
still makes a lot of sense.  So would adding a group of bitfields, as was
the case in one of the commits I noted.  An int (for alignment) and three
int-bitflags still saves us two ints in the structure.

--089e013c5d1ed53449052eab2c63
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
ue, Mar 22, 2016 at 5:08 PM, Yann Ylavic <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;<=
/span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8=
ex;border-left:1px #ccc solid;padding-left:1ex"><span class=3D""><br>&gt; C=
ommon sense tells me that alignment should be preserved, but unless we can<=
br>
&gt; trust the spec to ensure that assumption, we should err on the side of=
<br>
&gt; caution.<br>
<br>
</span>So let&#39;s not use bitfields, there are other ways to do it, and m=
acros<br>
could help for bit(s) definition/checking/handling...<br>
</blockquote></div><br></div><div class=3D"gmail_extra">Let&#39;s continue =
to use them as we prepare for 2.6.0 - where we have the</div><div class=3D"=
gmail_extra">opportunity to drop ABI and pack all of our bit flags in one p=
lace, that</div><div class=3D"gmail_extra">still makes a lot of sense.=C2=
=A0 So would adding a group of bitfields, as was</div><div class=3D"gmail_e=
xtra">the case in one of the commits I noted.=C2=A0 An int (for alignment) =
and three=C2=A0</div><div class=3D"gmail_extra">int-bitflags still saves us=
 two ints in the structure.</div></div>

--089e013c5d1ed53449052eab2c63--

From dev-return-86011-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 23:27:27 2016
Return-Path: <dev-return-86011-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0CE2118921
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 23:27:27 +0000 (UTC)
Received: (qmail 61641 invoked by uid 500); 22 Mar 2016 23:27:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 61573 invoked by uid 500); 22 Mar 2016 23:27:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 61561 invoked by uid 99); 22 Mar 2016 23:27:25 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 23:27:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 8B9E1C0A64
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 23:27:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.702
X-Spam-Level:
X-Spam-Status: No, score=-0.702 tagged_above=-999 required=6.31
	tests=[HEADER_FROM_DIFFERENT_DOMAINS=0.001, RCVD_IN_DNSWL_LOW=-0.7,
	RP_MATCHES_RCVD=-0.001, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id GeT1rnJLNsqc for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 23:27:23 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 9CB7F5F398
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 23:27:23 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1aiVho-0005eO-FD
	for dev@httpd.apache.org; Wed, 23 Mar 2016 00:27:20 +0100
Received: from 227-116.citynet.ftth.internl.net ([85.223.116.227])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Wed, 23 Mar 2016 00:27:20 +0100
Received: from phpdev by 227-116.citynet.ftth.internl.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Wed, 23 Mar 2016 00:27:20 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Jan Ehrhardt <phpdev@ehrhardt.nl>
Subject: Re: Need hints from those building mod_http2 and mod_proxy_http2 on Windows
Date: Wed, 23 Mar 2016 00:27:06 +0100
Lines: 19
Message-ID: <fkk3fbpm5skp18ead57havhaeie3hm9o94@4ax.com>
References: <CAKUrXK7FHN1RViVEOsxy=guWrE0oFV_+_LHsS5P4xdTPsp28Jw@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: 227-116.citynet.ftth.internl.net
X-Newsreader: Forte Agent 3.3/32.846

Jeff Trawick in gmane.comp.apache.devel (Tue, 22 Mar 2016 18:11:59 -0400):
>What version of nghttp2 are you using?

I always use git head of nghttp2. So that is > v1.8.0 ATM

>Are you using the cmake build for httpd?

No. I open the *.dsw / *.dsp in with VC9 / VC11, after applying these
operations:

 cd C:\build\2.4.x 
 srclib\apr\build\lineends.pl 
 srclib\apr\build\cvtdsp.pl -2005

See https://www.apachelounge.com/viewtopic.php?p=33069#33069
That is the way Apachelounge & Apachehaus build httpd.
FYI: James Blond == Mario Brandt

Jan


From dev-return-86012-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 23:30:14 2016
Return-Path: <dev-return-86012-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BCBC818942
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 23:30:14 +0000 (UTC)
Received: (qmail 67198 invoked by uid 500); 22 Mar 2016 23:30:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67122 invoked by uid 500); 22 Mar 2016 23:30:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67112 invoked by uid 99); 22 Mar 2016 23:30:14 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 23:30:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C63C8C0A64
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 23:30:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=querna-org.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id nhjwV2VR4LDQ for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 23:30:11 +0000 (UTC)
Received: from mail-io0-f172.google.com (mail-io0-f172.google.com [209.85.223.172])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 12D7B5F398
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 23:30:11 +0000 (UTC)
Received: by mail-io0-f172.google.com with SMTP id 124so3916765iov.3
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 16:30:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=querna-org.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=jO94GmR+6rDseyp3l4cBiSZqOUJaTXAYVXMhRs/xVx0=;
        b=yP6OHVRwlPsO6A9UgRMDqhA97NRqXnvdbhqoWnhF+m3JEzy+2ZbzlMIQDb9VEXBLRV
         TCbu8PJfnPEKYSL3ntyqYmhIkAQ+mrEzDzogYtgsgHXAUIRgeTrXX48YMXvPfTTBo7VZ
         XzqJYEmbwaXC2SAnLaeszYQNzbZIXMEGl30Wk65JYOcgC6OfPBWyrUWsXZ2Sl4IFRN4k
         ciD8rvAcwkOnSabCBa6JfKWZxa38cwUfxXOW15dnkRgTk70R4S4Fc7ruGNCJxx6Q+auq
         fsAWMFN/3YM2UwvkuEyXn+4nqr1utxFrNbR2NIZ59XqyIXYmI7Ksc8tr7Uavg+d1rE2H
         69yA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=jO94GmR+6rDseyp3l4cBiSZqOUJaTXAYVXMhRs/xVx0=;
        b=UA2OWSHFTm4Uj6fq7WTMeikIGHgRUS3mALrhfNw1wyk2e2aBFpQia13t+sNgjek7Oh
         fLtpOnNZj6Iyk3LCXQ+GXUNbYs9hhY3snxj7nQWlh77vEMqMJlJcZ8bIULMCXgTSrOd6
         QnltN+zWtsfGAyjXNBXrYALuYIZ4JpgKY9vkO3FkP2CJcix/Z4+rOYmUu+3Y0Q6MxMn7
         eadZz5UcUAX8TjvN6lSRqeiUye8UgRx75n+f5u/3OJDHXCNfIbXwIT7vRRbtnQtQX087
         4Gsq2gIHjPCYIlBHoV2V4eWtXtV/lNl1rsJ0vjMYtbaT+ofnHcatTZdZj4Jjr7V/a8hB
         gr6Q==
X-Gm-Message-State: AD7BkJIBCaNis1Ej9RIgCUO8UeKR3kSH7pPFlkU5XnMihquZQ3cY7jZKZdCYOO1fewBVIwFdfZ21yp9YpHrrsQ==
MIME-Version: 1.0
X-Received: by 10.107.137.37 with SMTP id l37mr256603iod.197.1458689410002;
 Tue, 22 Mar 2016 16:30:10 -0700 (PDT)
Received: by 10.79.38.79 with HTTP; Tue, 22 Mar 2016 16:30:09 -0700 (PDT)
In-Reply-To: <CAKQ1sVOb1b4b7-n8u-aOj8UpvjiFh-ueJL1DeKimU6yYw4z-_A@mail.gmail.com>
References: <CAKQ1sVNfuWi2Hp_B5ixFa4Tru=znGXwbAAnAwvPa_ygahBng9g@mail.gmail.com>
	<CAMDeyhywhN+sR_=x7SYUPYEKN1aZW6BODVTa9UU13b1xqbmp+g@mail.gmail.com>
	<CAKQ1sVOb1b4b7-n8u-aOj8UpvjiFh-ueJL1DeKimU6yYw4z-_A@mail.gmail.com>
Date: Tue, 22 Mar 2016 16:30:09 -0700
Message-ID: <CAMDeyhx-m2xDO-maE67nNN6ipaCgJS380Q7-eJPx58MobjCOmA@mail.gmail.com>
Subject: Re: TLS session ticket key (shared) renewal
From: Paul Querna <paul@querna.org>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113f33961f2cd5052eab986b

--001a113f33961f2cd5052eab986b
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 22, 2016 at 3:32 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> On Tue, Mar 22, 2016 at 4:18 PM, Paul Querna <paul@querna.org> wrote:
> > My thought was to add support for either multiple files, or multiple
> values
> > in the existing `SSLSessionTicketKeyFile`.  Then add support to decrypt
> from
> > any of the known keys, and have a setting (or the first loaded key)
> would be
> > used to encrypt all new keys.  This would allow for rotation in a
> reasonable
> > manner.
>
> That's indeed a great improvement on what we have now, and actually
> looks like you first introduced it in r1200040 :)
> Why was it not kept that way?
>
> We'll still need a (graceful) restart to renew the keys, though.
>

(unix mpms) Having the a process (mpm_register_timed_callback? other
hooks?) re-read
the file periodically or on change, and set them set it in a slot mem is
reasonable, but not the behavior of almost any other file reference in
httpd... so the pattern of graceful is how most things work, I can't figure
out why session tickets are worth an exception to this pattern?


> Also, it seems there is interest in sharing the keys accross different
> instances/machines, is a file (unless on something like an NFS mount)
> an option here?
>

Most large scale deployments have configuration management or other
techniques to synchronize secret values across many machines;  I don't
think we should go overboard in building a network transport for session
ticket secrets.

--001a113f33961f2cd5052eab986b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><br><div class=3D"gmail_extra"><br><div class=3D"gmail_quo=
te">On Tue, Mar 22, 2016 at 3:32 PM, Yann Ylavic <span dir=3D"ltr">&lt;<a h=
ref=3D"mailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gmail.com<=
/a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:=
0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);=
border-left-style:solid;padding-left:1ex"><span class=3D"">On Tue, Mar 22, =
2016 at 4:18 PM, Paul Querna &lt;<a href=3D"mailto:paul@querna.org">paul@qu=
erna.org</a>&gt; wrote:<br>
&gt; My thought was to add support for either multiple files, or multiple v=
alues<br>
&gt; in the existing `SSLSessionTicketKeyFile`.=C2=A0 Then add support to d=
ecrypt from<br>
&gt; any of the known keys, and have a setting (or the first loaded key) wo=
uld be<br>
&gt; used to encrypt all new keys.=C2=A0 This would allow for rotation in a=
 reasonable<br>
&gt; manner.<br>
<br>
</span>That&#39;s indeed a great improvement on what we have now, and actua=
lly<br>
looks like you first introduced it in r1200040 :)<br>
Why was it not kept that way?<br>
<br>
We&#39;ll still need a (graceful) restart to renew the keys, though.<br></b=
lockquote><div><br></div><div>(unix mpms) Having the a process (<span style=
=3D"color:rgb(0,0,0);white-space:pre-wrap">mpm_register_timed_callback? oth=
er hooks?)</span>=C2=A0re-read the file periodically or on change, and set =
them set it in a slot mem is reasonable, but not the behavior of almost any=
 other file reference in httpd... so the pattern of graceful is how most th=
ings work, I can&#39;t figure out why session tickets are worth an exceptio=
n to this pattern?</div><div>=C2=A0</div><blockquote class=3D"gmail_quote" =
style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:r=
gb(204,204,204);border-left-style:solid;padding-left:1ex">
Also, it seems there is interest in sharing the keys accross different<br>
instances/machines, is a file (unless on something like an NFS mount)<br>
an option here?<br></blockquote><div><br></div><div>Most large scale deploy=
ments have configuration management or other techniques to synchronize secr=
et values across many machines; =C2=A0I don&#39;t think we should go overbo=
ard in building a network transport for session ticket secrets.</div><div><=
br></div><div><br></div><div><br></div><div>=C2=A0</div></div><br></div></d=
iv>

--001a113f33961f2cd5052eab986b--

From dev-return-86013-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 22 23:58:51 2016
Return-Path: <dev-return-86013-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F17B218ACC
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Mar 2016 23:58:51 +0000 (UTC)
Received: (qmail 26300 invoked by uid 500); 22 Mar 2016 23:58:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26229 invoked by uid 500); 22 Mar 2016 23:58:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26219 invoked by uid 99); 22 Mar 2016 23:58:51 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Mar 2016 23:58:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id D5B85C78D2
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 23:58:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.311
X-Spam-Level:
X-Spam-Status: No, score=-2.311 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, SPF_PASS=-0.001,
	T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id BM7Y_O5QBMuE for <dev@httpd.apache.org>;
	Tue, 22 Mar 2016 23:58:48 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id 5E6C25FB17
	for <dev@httpd.apache.org>; Tue, 22 Mar 2016 23:58:47 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u2MNwekx002627
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 00:58:40 +0100 (CET)
Subject: Re: TLS session ticket key (shared) renewal
To: dev@httpd.apache.org
References: <CAKQ1sVNfuWi2Hp_B5ixFa4Tru=znGXwbAAnAwvPa_ygahBng9g@mail.gmail.com>
 <CAMDeyhywhN+sR_=x7SYUPYEKN1aZW6BODVTa9UU13b1xqbmp+g@mail.gmail.com>
 <CAKQ1sVOb1b4b7-n8u-aOj8UpvjiFh-ueJL1DeKimU6yYw4z-_A@mail.gmail.com>
 <CAMDeyhx-m2xDO-maE67nNN6ipaCgJS380Q7-eJPx58MobjCOmA@mail.gmail.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56F1DC30.6070803@kippdata.de>
Date: Wed, 23 Mar 2016 00:58:40 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.7.0
MIME-Version: 1.0
In-Reply-To: <CAMDeyhx-m2xDO-maE67nNN6ipaCgJS380Q7-eJPx58MobjCOmA@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

Am 23.03.2016 um 00:30 schrieb Paul Querna:
>
>
> On Tue, Mar 22, 2016 at 3:32 PM, Yann Ylavic <ylavic.dev@gmail.com
> <mailto:ylavic.dev@gmail.com>> wrote:
>
>     On Tue, Mar 22, 2016 at 4:18 PM, Paul Querna <paul@querna.org
>     <mailto:paul@querna.org>> wrote:
>     > My thought was to add support for either multiple files, or multiple values
>     > in the existing `SSLSessionTicketKeyFile`.  Then add support to decrypt from
>     > any of the known keys, and have a setting (or the first loaded key) would be
>     > used to encrypt all new keys.  This would allow for rotation in a reasonable
>     > manner.
>
>     That's indeed a great improvement on what we have now, and actually
>     looks like you first introduced it in r1200040 :)
>     Why was it not kept that way?
>
>     We'll still need a (graceful) restart to renew the keys, though.
>
>
> (unix mpms) Having the a process (mpm_register_timed_callback? other
> hooks?) re-read the file periodically or on change, and set them set it
> in a slot mem is reasonable, but not the behavior of almost any other
> file reference in httpd... so the pattern of graceful is how most things
> work, I can't figure out why session tickets are worth an exception to
> this pattern?
>
>     Also, it seems there is interest in sharing the keys accross different
>     instances/machines, is a file (unless on something like an NFS mount)
>     an option here?
>
>
> Most large scale deployments have configuration management or other
> techniques to synchronize secret values across many machines;  I don't
> think we should go overboard in building a network transport for session
> ticket secrets.

Yann had the interesting idea to use a key derivation scheme like PBKDF2 
to create a sequence of keys, key renewal triggered e.g. as suggested by 
Rdiger time-based. Such a scheme would only need to distribute the 
initial key file between farm nodes, but not an update to the file e.g. 
once a day. I like that idea, although I can't really judge on the 
safeness of the derived keys. Such a key derivation scheme (there are 
also others, Wikipedia refers to Argon2) seems not to be exotic.

Regards,

Rainer

From dev-return-86014-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 00:26:28 2016
Return-Path: <dev-return-86014-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C404318C2F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 00:26:28 +0000 (UTC)
Received: (qmail 72940 invoked by uid 500); 23 Mar 2016 00:26:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 72712 invoked by uid 500); 23 Mar 2016 00:26:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72451 invoked by uid 99); 23 Mar 2016 00:26:26 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 00:26:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 92A07180219
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 00:26:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id P2akZSCH74rm for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 00:26:23 +0000 (UTC)
Received: from mail-io0-f181.google.com (mail-io0-f181.google.com [209.85.223.181])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id A1D0D5F247
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 00:26:22 +0000 (UTC)
Received: by mail-io0-f181.google.com with SMTP id o5so6184999iod.2
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 17:26:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=eXwFSbnAfzl+Unhqj3blQ0tA6os7KTFiNiMserSs8Pw=;
        b=vt4LaGuipO5DxQTEmFnO7pffP3aqQC7dcGrPLCD5DRPGT9IsSlPLo709fvj435Kw7C
         /UTJhvkUAR7oJSXOrmhafyEmvlhQVYB6CM0aM4cYMB/79pahopZytNd5/TmJiA4h839a
         d3+Ga8VN+qNSA1xlyocLCS3YSLF8vChFUgOjFWZwrdWDTOnSwIsvYEWOf5qjePmAoM9y
         E8BBjVcpVLgeF9wf9/y03+5VZnnt6LY0BOB/RWhSLPEz6n8pIhQMKpHO2SlESKH06uQU
         JPbgsNQ4859q5QciKxvtI0lvBptWpTa8x2F2XUffotQo0veqyhnlt8C1KA8CAsIfYshZ
         w5GQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=eXwFSbnAfzl+Unhqj3blQ0tA6os7KTFiNiMserSs8Pw=;
        b=JyW5jyTxHG3ImTk3I69OgslMG2LFHLgNK4Xbk1YjI66ykn7ryA73OlS0sGa7RSSZ5e
         vuMCI1w/WzEFeaRQuU4Pzmf1OxhpQz5r7xTJ3Mvfh/6ra53e3yBRYwJPGd6zWMoh9Rs5
         aMzpRlMfUdTpP7+mgDfjZ0YVqArBMopgc2NOX5ZZnm8pOggRI9r/TeiP6zqIb7zq+jsm
         vNXwo04xO1EsSTkuCF62VUImmXZIzL8AibOjf+2KYhXVatltIZTKgdBjsC+urgqb4Yom
         Rb2oDwotDWT11DJV1lYeysY+Xo5e+2OYYXr7MFo9yxjQg6wrbv8dTfqJ8Ebi1X419rST
         eyKQ==
X-Gm-Message-State: AD7BkJJv2asPAMUyTJcyxIWxps0+LtCWn8Gehcg3OP8kFI1vaped92AukbLdekyqWWD78jNl/YssCCTRujpQv8Hn
MIME-Version: 1.0
X-Received: by 10.50.30.73 with SMTP id q9mr328636igh.77.1458692781537; Tue,
 22 Mar 2016 17:26:21 -0700 (PDT)
Received: by 10.107.149.12 with HTTP; Tue, 22 Mar 2016 17:26:21 -0700 (PDT)
Received: by 10.107.149.12 with HTTP; Tue, 22 Mar 2016 17:26:21 -0700 (PDT)
In-Reply-To: <fkk3fbpm5skp18ead57havhaeie3hm9o94@4ax.com>
References: <CAKUrXK7FHN1RViVEOsxy=guWrE0oFV_+_LHsS5P4xdTPsp28Jw@mail.gmail.com>
	<fkk3fbpm5skp18ead57havhaeie3hm9o94@4ax.com>
Date: Tue, 22 Mar 2016 19:26:21 -0500
Message-ID: <CACsi253GQjgTJhzU-b14VL8yvA+eDpA3ymBXQ0YWo=1YQdOpsw@mail.gmail.com>
Subject: Re: Need hints from those building mod_http2 and mod_proxy_http2 on Windows
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7bdc0a84149a21052eac61ec

--047d7bdc0a84149a21052eac61ec
Content-Type: text/plain; charset=UTF-8

I've had success with Jeff's minimalist nghttp build schema.  A larger
effort at a cmake for the full stack (lib+apps) has been in the works for a
month or two now, haven't had a chance to try it.
On Mar 22, 2016 6:27 PM, "Jan Ehrhardt" <phpdev@ehrhardt.nl> wrote:

> Jeff Trawick in gmane.comp.apache.devel (Tue, 22 Mar 2016 18:11:59 -0400):
> >What version of nghttp2 are you using?
>
> I always use git head of nghttp2. So that is > v1.8.0 ATM
>
> >Are you using the cmake build for httpd?
>
> No. I open the *.dsw / *.dsp in with VC9 / VC11, after applying these
> operations:
>
>  cd C:\build\2.4.x
>  srclib\apr\build\lineends.pl
>  srclib\apr\build\cvtdsp.pl -2005
>
> See https://www.apachelounge.com/viewtopic.php?p=33069#33069
> That is the way Apachelounge & Apachehaus build httpd.
> FYI: James Blond == Mario Brandt
>
> Jan
>
>

--047d7bdc0a84149a21052eac61ec
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">I&#39;ve had success with Jeff&#39;s minimalist nghttp build=
 schema.=C2=A0 A larger effort at a cmake for the full stack (lib+apps) has=
 been in the works for a month or two now, haven&#39;t had a chance to try =
it.</p>
<div class=3D"gmail_quote">On Mar 22, 2016 6:27 PM, &quot;Jan Ehrhardt&quot=
; &lt;<a href=3D"mailto:phpdev@ehrhardt.nl">phpdev@ehrhardt.nl</a>&gt; wrot=
e:<br type=3D"attribution"><blockquote class=3D"gmail_quote" style=3D"margi=
n:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Jeff Trawick in g=
mane.comp.apache.devel (Tue, 22 Mar 2016 18:11:59 -0400):<br>
&gt;What version of nghttp2 are you using?<br>
<br>
I always use git head of nghttp2. So that is &gt; v1.8.0 ATM<br>
<br>
&gt;Are you using the cmake build for httpd?<br>
<br>
No. I open the *.dsw / *.dsp in with VC9 / VC11, after applying these<br>
operations:<br>
<br>
=C2=A0cd C:\build\2.4.x<br>
=C2=A0srclib\apr\build\<a href=3D"http://lineends.pl" rel=3D"noreferrer" ta=
rget=3D"_blank">lineends.pl</a><br>
=C2=A0srclib\apr\build\<a href=3D"http://cvtdsp.pl" rel=3D"noreferrer" targ=
et=3D"_blank">cvtdsp.pl</a> -2005<br>
<br>
See <a href=3D"https://www.apachelounge.com/viewtopic.php?p=3D33069#33069" =
rel=3D"noreferrer" target=3D"_blank">https://www.apachelounge.com/viewtopic=
.php?p=3D33069#33069</a><br>
That is the way Apachelounge &amp; Apachehaus build httpd.<br>
FYI: James Blond =3D=3D Mario Brandt<br>
<br>
Jan<br>
<br>
</blockquote></div>

--047d7bdc0a84149a21052eac61ec--

From dev-return-86015-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 01:11:38 2016
Return-Path: <dev-return-86015-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B8C5C18E87
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 01:11:38 +0000 (UTC)
Received: (qmail 65967 invoked by uid 500); 23 Mar 2016 01:11:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65887 invoked by uid 500); 23 Mar 2016 01:11:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65874 invoked by uid 99); 23 Mar 2016 01:11:38 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 01:11:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D8674180219;
	Wed, 23 Mar 2016 01:11:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.002
X-Spam-Level:
X-Spam-Status: No, score=-0.002 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id fpYQ-C2RaT6G; Wed, 23 Mar 2016 01:11:37 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 946905F56B;
	Wed, 23 Mar 2016 01:11:36 +0000 (UTC)
Received: from [192.168.220.204] (unknown [192.168.220.204])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 0F370823F3;
	Wed, 23 Mar 2016 01:11:28 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1736216 - in /httpd/httpd/trunk: include/httpd.h modules/http/http_request.c server/mpm/event/event.c server/mpm/motorz/motorz.c server/mpm/simple/simple_io.c server/util_filter.c
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <20160322170830.4CBC93A0223@svn01-us-west.apache.org>
Date: Wed, 23 Mar 2016 03:11:28 +0200
Cc: cvs@httpd.apache.org
Content-Transfer-Encoding: quoted-printable
Message-Id: <BDC20990-56A7-4D95-9959-910BC0BDA9C8@sharp.fm>
References: <20160322170830.4CBC93A0223@svn01-us-west.apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 22 Mar 2016, at 7:08 PM, ylavic@apache.org wrote:

> URL: http://svn.apache.org/viewvc?rev=3D1736216&view=3Drev
> Log:
> Follow up to r1734656: restore c->data_in_input_filters usage to
> see if it helps unblocking test framework.

I created an almost identical patch before doing an update, the only =
difference was this:

Index: modules/http/http_request.c
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- modules/http/http_request.c	(revision 1736263)
+++ modules/http/http_request.c	(working copy)
@@ -453,7 +453,7 @@
=20
     ap_process_async_request(r);
=20
-    if (!c->data_in_input_filters || ap_run_input_pending(c) !=3D OK) {
+    if (!c->data_in_input_filters && ap_run_input_pending(c) !=3D OK) {
         bb =3D apr_brigade_create(c->pool, c->bucket_alloc);
         b =3D apr_bucket_flush_create(c->bucket_alloc);
         APR_BRIGADE_INSERT_HEAD(bb, b);

I get hangs without the above patch on the test suite, but it runs clean =
with. Can you give it a try?

Regards,
Graham
=E2=80=94


From dev-return-86016-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 01:16:31 2016
Return-Path: <dev-return-86016-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E726818ED9
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 01:16:30 +0000 (UTC)
Received: (qmail 78649 invoked by uid 500); 23 Mar 2016 01:16:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78575 invoked by uid 500); 23 Mar 2016 01:16:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 78565 invoked by uid 99); 23 Mar 2016 01:16:30 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 01:16:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B27AEC1815
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 01:16:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id WMvotfVX5k1J for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 01:16:27 +0000 (UTC)
Received: from mail-io0-f173.google.com (mail-io0-f173.google.com [209.85.223.173])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id E47005FB9E
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 01:16:26 +0000 (UTC)
Received: by mail-io0-f173.google.com with SMTP id c63so8332368iof.0
        for <dev@httpd.apache.org>; Tue, 22 Mar 2016 18:16:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=QGrwDAY+W/R/TpvWW04cJ0V4kqYCY72TLb8bwdoBn+k=;
        b=2UCPfQEedYPPdokj6ak734XrIEYvv4BegH2O9h73qggB2Shd2HIMrb8Z+87uHy1CZp
         ObqN0X746vggTFfvmU1eEtJb6MrZosO+FlWJPW0meHAWjZa9pI6p/1kzjtsqaKTXuPM0
         hErMzfwnvV+PCN45fiTidz/xHYxTioKEbq/kgmxpFvJ+3dSgybt8ASYiZpNyEI4u7RPc
         unctW5RsH3W3MTYzpNGCYUcHG7afTD04Q2bTGRinXj3c/yaIKgEXx0Krti7qxKetJFt2
         DdfNhtDoM0iFvvbpeCVFNHDE9ArADfX6byCcu7ELeqwcXAXUH7vNfWy6FNU63MblOJki
         aYcQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=QGrwDAY+W/R/TpvWW04cJ0V4kqYCY72TLb8bwdoBn+k=;
        b=YNouUIpLdsh/o+4BWgF0nRQj6IYjijhY6LDxp5J44KgliDyVeUhVwKtaYQp0PsF2yV
         b+TVc661Z0Z/zHFrIoxwrfx7ld5sN9o5AlO10xGhVXjltXIflTSanubv1qmVC1EscIqi
         jLjVkLaUtakvLC20UU/7sEH7CHZzg8DDY4Qc+m06f6fGebL0imTvMJhcH23HELwrxvP/
         D+XVNMm527qA0gORxs2QK/maY3wlH4mLm8BCQRyFmDUyFEUEXhhlpzMqmGbl/05DTspA
         WafnVkmFF57J1RPNKbe2xRotAzysOB4oLMJdcc/TJAqs0jaLK+rQ4WyLtnzMLmvJ8MnV
         Z3Wg==
X-Gm-Message-State: AD7BkJLtVoVCdspQ80MzUIRRz21LdZGiFYNVmEcBuGPCM4UmsPFslGWo1hhTO4sK7EdYnp+OV4WUY67pDrM8vG8e
MIME-Version: 1.0
X-Received: by 10.107.27.205 with SMTP id b196mr610969iob.163.1458695785814;
 Tue, 22 Mar 2016 18:16:25 -0700 (PDT)
Received: by 10.107.149.12 with HTTP; Tue, 22 Mar 2016 18:16:25 -0700 (PDT)
In-Reply-To: <CAKUrXK6OzLbbLH2zqiUqUec2P6HM_ckV4xJ3od7bp7vfoG2OVQ@mail.gmail.com>
References: <CACsi253nFLLBwep8FX0aQFbTKTLJV+UVbqdZ5S+NE_=h25v1CQ@mail.gmail.com>
	<CAKUrXK6OzLbbLH2zqiUqUec2P6HM_ckV4xJ3od7bp7vfoG2OVQ@mail.gmail.com>
Date: Tue, 22 Mar 2016 20:16:25 -0500
Message-ID: <CACsi2501vX7kF+z7u_FtE_t_iRiFX3uMVaz=dYJL1S10X4ZiAQ@mail.gmail.com>
Subject: Re: fate of mod_lbmethod_rr (was: Re: [VOTE] Release Apache httpd
 2.4.19 as GA)
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113fecfc269b96052ead147f

--001a113fecfc269b96052ead147f
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 22, 2016 at 4:15 PM, Jeff Trawick <trawick@gmail.com> wrote:

> On Tue, Mar 22, 2016 at 5:03 PM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
>
>> On Tue, Mar 22, 2016 at 3:38 PM, Jeff Trawick <trawick@gmail.com> wrote:
>>
>>> On Tue, Mar 22, 2016 at 3:55 PM, William A Rowe Jr <wrowe@rowe-clan.net>
>>> wrote:
>>>
>>>> Can anyone get mod_lbmethod_rr.c to build?
>>>>
>>>
>>> That's funny actually.  The very first version README.cmake in trunk
>>> says that mod_lbmethod_rr.c doesn't build on Windows
>>>
>>
>>  When I added the .dsp, it certainly did build.  --enable-mods=all should
>> be
>> triggering the build of those sources.
>>
>> I think this illustrates that we have played fast and loose with
>> something that
>> 1. is a public API, 2. not experimental, and 3. was illustrated with an
>> example
>> that has been frequently broken by Major ABI changes.
>>
>> If devs want to promote an API and then continuously break ABI on trunk,
>> I'm way beyond arguing with such individuals.  Just a few choice examples
>> which had necessitated major MMN bumps that did not receive one...
>>
>> http://svn.apache.org/viewvc?view=revision&revision=1560081
>> http://svn.apache.org/viewvc?view=revision&revision=1477649 (no
>> bitwise-alignment assurance)
>> http://svn.apache.org/viewvc?view=revision&revision=1436919 (no
>> bitwise-alignment assurance)
>>
>> However, this module appears to have been broken prior to 2.4.1 GA with
>> this
>> at least this commit...
>> http://svn.apache.org/viewvc?view=revision&revision=1209958
>> ... which tells me it is simply an abandoned example.
>>
>> I propose we remove it from 2.4.x branch and trunk, rather than
>> pretending
>> we have maintained it?
>>
>
> +1 for removing from 2.4.x branch
>
> no arguments here if someone actually wants it to hang around in trunk,
> but I don't actually know if anybody cares so no vote on trunk ATM...
>

I agree, this discussion is only about 2.4.x branch for the imminent T&R.

If I have a third +1 for removing this horridly wrong example/, I'll commit
in the next 2 hours.  If there is disagreement later, we can always revert.

Bill

--001a113fecfc269b96052ead147f
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
ue, Mar 22, 2016 at 4:15 PM, Jeff Trawick <span dir=3D"ltr">&lt;<a href=3D"=
mailto:trawick@gmail.com" target=3D"_blank">trawick@gmail.com</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bo=
rder-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div class=3D"g=
mail_extra"><div class=3D"gmail_quote"><div><div class=3D"h5">On Tue, Mar 2=
2, 2016 at 5:03 PM, William A Rowe Jr <span dir=3D"ltr">&lt;<a href=3D"mail=
to:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bo=
rder-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div class=3D"g=
mail_extra"><div class=3D"gmail_quote">On Tue, Mar 22, 2016 at 3:38 PM, Jef=
f Trawick <span dir=3D"ltr">&lt;<a href=3D"mailto:trawick@gmail.com" target=
=3D"_blank">trawick@gmail.com</a>&gt;</span> wrote:<br><blockquote class=3D=
"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;borde=
r-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><di=
v dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote"><span>O=
n Tue, Mar 22, 2016 at 3:55 PM, William A Rowe Jr <span dir=3D"ltr">&lt;<a =
href=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</=
a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0=
px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);b=
order-left-style:solid;padding-left:1ex"><div dir=3D"ltr">Can anyone get mo=
d_lbmethod_rr.c to build?</div></blockquote><div><br></div></span><div>That=
&#39;s funny actually.=C2=A0 The very first version README.cmake in trunk s=
ays that mod_lbmethod_rr.c doesn&#39;t build on Windows</div></div></div></=
div></blockquote><div><br></div><div>=C2=A0When I added the .dsp, it certai=
nly did build. =C2=A0--enable-mods=3Dall should be=C2=A0</div><div>triggeri=
ng the build of those sources.</div><div><br></div><div>I think this illust=
rates that we have played fast and loose with something that</div><div>1. i=
s a public API, 2. not experimental, and 3. was illustrated with an example=
=C2=A0</div><div>that has been frequently broken by Major ABI changes.</div=
><div><br></div><div>If devs want to promote an API and then continuously b=
reak ABI on trunk,</div><div>I&#39;m way beyond arguing with such individua=
ls.=C2=A0 Just a few choice examples=C2=A0</div><div>which had necessitated=
 major MMN bumps that did not receive one...</div><div><br></div><div><a hr=
ef=3D"http://svn.apache.org/viewvc?view=3Drevision&amp;revision=3D1560081" =
target=3D"_blank">http://svn.apache.org/viewvc?view=3Drevision&amp;revision=
=3D1560081</a><br></div><div><a href=3D"http://svn.apache.org/viewvc?view=
=3Drevision&amp;revision=3D1477649" target=3D"_blank">http://svn.apache.org=
/viewvc?view=3Drevision&amp;revision=3D1477649</a> (no bitwise-alignment as=
surance)<br></div><div><a href=3D"http://svn.apache.org/viewvc?view=3Drevis=
ion&amp;revision=3D1436919" target=3D"_blank">http://svn.apache.org/viewvc?=
view=3Drevision&amp;revision=3D1436919</a>=C2=A0(no bitwise-alignment assur=
ance)<br></div><div><br></div><div>However, this module appears to have bee=
n broken prior to 2.4.1 GA with this</div><div>at least this commit...=C2=
=A0<a href=3D"http://svn.apache.org/viewvc?view=3Drevision&amp;revision=3D1=
209958" target=3D"_blank">http://svn.apache.org/viewvc?view=3Drevision&amp;=
revision=3D1209958</a></div><div>... which tells me it is simply an abandon=
ed example.</div><div><br></div><div>I propose we remove it from 2.4.x bran=
ch and trunk, rather than pretending=C2=A0</div><div>we have maintained it?=
</div></div></div></div></blockquote><div><br></div></div></div><div>+1 for=
 removing from 2.4.x branch</div><div><br></div><div>no arguments here if s=
omeone actually wants it to hang around in trunk, but I don&#39;t actually =
know if anybody cares so no vote on trunk ATM...</div></div><span class=3D"=
HOEnZb"><font color=3D"#888888"><div></div></font></span></div></div></bloc=
kquote></div><br></div><div class=3D"gmail_extra">I agree, this discussion =
is only about 2.4.x branch for the imminent T&amp;R. =C2=A0</div><div class=
=3D"gmail_extra"><br></div><div class=3D"gmail_extra">If I have a third +1 =
for removing this horridly wrong example/, I&#39;ll commit</div><div class=
=3D"gmail_extra">in the next 2 hours.=C2=A0 If there is disagreement later,=
 we can always revert.</div><div class=3D"gmail_extra"><br></div><div class=
=3D"gmail_extra">Bill</div></div>

--001a113fecfc269b96052ead147f--

From dev-return-86017-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 08:15:58 2016
Return-Path: <dev-return-86017-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BE0AE19CCF
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 08:15:58 +0000 (UTC)
Received: (qmail 23280 invoked by uid 500); 23 Mar 2016 08:15:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23208 invoked by uid 500); 23 Mar 2016 08:15:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23198 invoked by uid 99); 23 Mar 2016 08:15:58 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 08:15:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 9BE6CC0140
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 08:15:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.402
X-Spam-Level:
X-Spam-Status: No, score=-0.402 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_MED=-2.3, SPF_HELO_PASS=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Cr6563C6VkRK for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 08:15:55 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 5190F5F56E
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 08:15:55 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1458720940;
	bh=LucLf8U1UYasXVGiFswOjhc6FkS1xom0eV7f4Irhhh0=;
	h=From:Subject:Date:To;
	b=hnLUPkeLwrjcjP5gPqijBuvAFHdmsgqEaGDevO7mMdr70XZwX7kRWt9GBiV0YAfPV
	 Y3Cs3eCsvvN0ibrOqyk2gVb3pfqfb7gpDVkrTEc5qN3L+v+1NmL+bZEbKid/aceQcb
	 CFM6Unxb3TrmSXwDHwCZFCzUiW0VvVn4rV8HIHkI=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
From: Steffen <info@apachelounge.com>
Content-Type: multipart/alternative;
	boundary=Apple-Mail-23D343DA-8D71-431A-8BB4-CCAE2C9E70B7
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (1.0)
Subject: 2.4.20 Change dsp: Win32-specific build files.
Message-Id: <ECF6CD6F-DBB8-4874-8614-30F719E06F47@apachelounge.com>
Date: Wed, 23 Mar 2016 09:15:45 +0100
To: dev@httpd.apache.org
X-Mailer: iPhone Mail (13E234)


--Apple-Mail-23D343DA-8D71-431A-8BB4-CCAE2C9E70B7
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable

Saw that wrowe did a change win make files in 2.4. branche.=20

The comment says the the .dsp flies are entirely ! unusable.=20

I can tell that they are entirely usable with V9-VC14.   What was the issue ?=


So please explain why for you it is not usable ?
Change comment:
The actual .dsp files are entirely unusable for any shipping version of MSVC=
/Visual Studio, while the .mak exports of these projects are usable on any f=
lavor of the MS build environment.=

--Apple-Mail-23D343DA-8D71-431A-8BB4-CCAE2C9E70B7
Content-Type: text/html;
	charset=utf-8
Content-Transfer-Encoding: 7bit

<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"></head><body dir="auto">Saw that wrowe did a change win make files in 2.4. branche.&nbsp;<div></div><div><br></div><div>The comment says the the .dsp flies are entirely ! unusable.&nbsp;</div><div><br></div><div>I can tell that they are entirely usable with V9-VC14. &nbsp; What was the issue ?</div><div><br></div><div>So please explain why for you it is not usable ?</div><div><pre class="vc_log" style="word-wrap: break-word;"><font face="UICTFontTextStyleBody"><span style="white-space: normal;">Change comment:</span></font></pre><pre class="vc_log" style="word-wrap: break-word;"><font face="UICTFontTextStyleBody"><span style="white-space: normal; background-color: rgba(255, 255, 255, 0);">The actual .dsp files are entirely unusable for any shipping
version of MSVC/Visual Studio, while the .mak exports of these
projects are usable on any flavor of the MS build environment.</span></font></pre></div></body></html>
--Apple-Mail-23D343DA-8D71-431A-8BB4-CCAE2C9E70B7--

From dev-return-86018-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 08:22:38 2016
Return-Path: <dev-return-86018-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CF8A419D27
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 08:22:38 +0000 (UTC)
Received: (qmail 36109 invoked by uid 500); 23 Mar 2016 08:22:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36045 invoked by uid 500); 23 Mar 2016 08:22:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36035 invoked by uid 99); 23 Mar 2016 08:22:37 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 08:22:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 71DB4C1A4C
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 08:22:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id y26trvdLZaDx for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 08:22:35 +0000 (UTC)
Received: from mail-qg0-f54.google.com (mail-qg0-f54.google.com [209.85.192.54])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 300965F56D
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 08:22:35 +0000 (UTC)
Received: by mail-qg0-f54.google.com with SMTP id j35so6090278qge.0
        for <dev@httpd.apache.org>; Wed, 23 Mar 2016 01:22:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=57h1naKUoqMrNg7Lv5jTy8EKHizr6UGfbGsmdt5TlMI=;
        b=tPEQNYn2h/7KwpzYcWlJeSjcDOWlmUmasN2E90RlHXPEmtN5d8kDI3YfLxpOsI47Nt
         z+fweyXzF3oI/oJyXDLjKOmswJJGhukNd6Agi5xMCgaIVeP4R32+x/+nUkmg8bSLRaGk
         +f+hdra11MsY4WFnGRfPM3TQLynuOp8bi3gqUOCQ80lh6xQSVqCQiyr3sb1Yzf/1mdrn
         D1Fs3R7drvWlUsT16gqGf4HW13Rcszmic46X9EqFbTelrz2q8msxmg5R8RNcv0EwqJuM
         1imNnznqQQ+rQbYEkyEZSxd79p+wRCvZ60LirtrXWAORdp+jugrvAxYjTSclkDvrIb16
         Wvmg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=57h1naKUoqMrNg7Lv5jTy8EKHizr6UGfbGsmdt5TlMI=;
        b=MbHMCmszoJt97mmJXw19A7OwC93J4unK25liWYiMN8vlqQRUMRwbaSXlbLBlWHpXc1
         RXhC8HTxE0G2Hiwo3Np/yxgwNa56xeTCZGDyOW6JUFqoX+Pnxwk11NyGoAJoKaZktH1s
         4JIDXc/elxPcXZtOBeFZaK6+moX1Cx0rtcGbW6mAfR3Y1pSBBVg0+npzIL99ns7bdDMJ
         qmShpUCjt47hrbGQqWto5IQcE30mk2pf1HD1kMK1wYeiuV5xJTeodtjjxVxLB5itvcwO
         Id5XORi60771edrx8/T86b7e+gOfXozepixwdy7lx1SK9DrXwHBZAAWdHLLi+EYIl8AQ
         qDmA==
X-Gm-Message-State: AD7BkJLM7Fxp+JoW3i9Z8yq43YmOCLaDuasIEQAGL/yDce9u2tcTOW31FAFt2hwGf4bj3uAT3x6SALRQ8zAWyA==
MIME-Version: 1.0
X-Received: by 10.140.164.71 with SMTP id k68mr1731916qhk.97.1458721354729;
 Wed, 23 Mar 2016 01:22:34 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Wed, 23 Mar 2016 01:22:34 -0700 (PDT)
In-Reply-To: <BDC20990-56A7-4D95-9959-910BC0BDA9C8@sharp.fm>
References: <20160322170830.4CBC93A0223@svn01-us-west.apache.org>
	<BDC20990-56A7-4D95-9959-910BC0BDA9C8@sharp.fm>
Date: Wed, 23 Mar 2016 09:22:34 +0100
Message-ID: <CAKQ1sVM2kNK15+sbomB3TKV4jS6138zOKcfX1piiWhzCGQO_HA@mail.gmail.com>
Subject: Re: svn commit: r1736216 - in /httpd/httpd/trunk: include/httpd.h
 modules/http/http_request.c server/mpm/event/event.c server/mpm/motorz/motorz.c
 server/mpm/simple/simple_io.c server/util_filter.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 23, 2016 at 2:11 AM, Graham Leggett <minfrin@sharp.fm> wrote:
> On 22 Mar 2016, at 7:08 PM, ylavic@apache.org wrote:
>
>> URL: http://svn.apache.org/viewvc?rev=1736216&view=rev
>> Log:
>> Follow up to r1734656: restore c->data_in_input_filters usage to
>> see if it helps unblocking test framework.
>
> I created an almost identical patch before doing an update, the only difference was this:
>
> Index: modules/http/http_request.c
> ===================================================================
> --- modules/http/http_request.c (revision 1736263)
> +++ modules/http/http_request.c (working copy)
> @@ -453,7 +453,7 @@
>
>      ap_process_async_request(r);
>
> -    if (!c->data_in_input_filters || ap_run_input_pending(c) != OK) {
> +    if (!c->data_in_input_filters && ap_run_input_pending(c) != OK) {
>          bb = apr_brigade_create(c->pool, c->bucket_alloc);
>          b = apr_bucket_flush_create(c->bucket_alloc);
>          APR_BRIGADE_INSERT_HEAD(bb, b);
>
> I get hangs without the above patch on the test suite, but it runs clean with. Can you give it a try?

Yes this is the right logic.
I wonder how the hook can return anything but DECLINED though, I see
no registering in our code.

Unfortunately I can't reproduce the issue on my system(s), so testing
is good, but it was already...

Regards,
Yann.

From dev-return-86019-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 09:43:12 2016
Return-Path: <dev-return-86019-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8C530180A7
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 09:43:12 +0000 (UTC)
Received: (qmail 11692 invoked by uid 500); 23 Mar 2016 09:43:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11623 invoked by uid 500); 23 Mar 2016 09:43:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11613 invoked by uid 99); 23 Mar 2016 09:43:11 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 09:43:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 406671A4769
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 09:43:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.998
X-Spam-Level:
X-Spam-Status: No, score=0.998 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id JecXXb42RH_V for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 09:43:10 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.141])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id DC62A5F56D
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 09:43:09 +0000 (UTC)
Received: from [85.158.136.83] by server-5.bemta-5.messagelabs.com id DB/77-03597-72562F65; Wed, 23 Mar 2016 09:43:03 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-5.tower-36.messagelabs.com!1458726182!19578879!1
X-Originating-IP: [195.232.244.134]
X-StarScan-Received:
X-StarScan-Version: 8.11; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 18033 invoked from network); 23 Mar 2016 09:43:02 -0000
Received: from mailout02.vodafone.com (HELO mailout02.vodafone.com) (195.232.244.134)
  by server-5.tower-36.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 23 Mar 2016 09:43:02 -0000
Received: from mailint04.vodafone.com (mailint04.vodafone.com [195.232.244.201])
	by mailout02.vodafone.com (Postfix) with ESMTP id 3qVPkZ4tmGzbdMZ
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 10:43:02 +0100 (CET)
Received: from mailint04.vodafone.com (localhost [127.0.0.1])
	by mailint04.vodafone.com (Postfix) with ESMTP id 3qVPkZ3lLWzfcbg
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 10:43:02 +0100 (CET)
Received: from VOEXC02W.internal.vodafone.com (voexc02w.dc-ratingen.de [145.230.101.22])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint04.vodafone.com (Postfix) with ESMTPS id 3qVPkZ3PXyzfb7S
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 10:43:02 +0100 (CET)
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.216]) by
 VOEXC02W.internal.vodafone.com ([145.230.101.22]) with mapi id
 14.03.0224.002; Wed, 23 Mar 2016 10:43:02 +0100
From: =?iso-8859-1?Q?Pl=FCm=2C_R=FCdiger=2C_Vodafone_Group?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: svn commit: r1736251 - in /httpd/httpd/branches/2.4.x: ./
 modules/http2/h2_filter.c
Thread-Topic: svn commit: r1736251 - in /httpd/httpd/branches/2.4.x: ./
 modules/http2/h2_filter.c
Thread-Index: AQHRhH2kXUIRsyPmk0i4QLB64m0D2J9mxiyg
Date: Wed, 23 Mar 2016 09:43:01 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627ACA017228@VOEXM10W.internal.vodafone.com>
References: <20160322204848.0613F3A0223@svn01-us-west.apache.org>
 <453A8604-1EB8-4200-8412-9BA45A406758@eissing.org>
In-Reply-To: <453A8604-1EB8-4200-8412-9BA45A406758@eissing.org>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

In http_log.h we have a similar problem and solve that either as a macro or=
 as a function
depending on our capabilities:


#ifdef AP_HAVE_C99
/* need additional step to expand APLOG_MARK first */
#define ap_log_error(...) ap_log_error__(__VA_ARGS__)
/* need server_rec *sr =3D ... for the case if s is verbatim NULL */
#define ap_log_error__(file, line, mi, level, status, s, ...)           \
    do { const server_rec *sr__ =3D s; if (APLOG_MODULE_IS_LEVEL(sr__, mi, =
level)) \
             ap_log_error_(file, line, mi, level, status, sr__, __VA_ARGS__=
);    \
    } while(0)
#else
#define ap_log_error ap_log_error_
#endif
AP_DECLARE(void) ap_log_error_(const char *file, int line, int module_index=
,
                               int level, apr_status_t status,
                               const server_rec *s, const char *fmt, ...)
                              __attribute__((format(printf,7,8)));
#endif

Regards

R=FCdiger

> -----Original Message-----
> From: Stefan Eissing [mailto:stefan@eissing.org]
> Sent: Dienstag, 22. M=E4rz 2016 21:59
> To: dev@httpd.apache.org
> Cc: cvs@httpd.apache.org
> Subject: Re: svn commit: r1736251 - in /httpd/httpd/branches/2.4.x: ./
> modules/http2/h2_filter.c
>=20
> Thanks, Yann.
>=20
> > Am 22.03.2016 um 21:48 schrieb ylavic@apache.org:
> >
> > Author: ylavic
> > Date: Tue Mar 22 20:48:47 2016
> > New Revision: 1736251
> >
> > URL: http://svn.apache.org/viewvc?rev=3D1736251&view=3Drev
> > Log:
> > Merge r1736250 from trunk:
> >
> > mod_http2: no variadic macro in C89, use equivalent function.
> > Reviewed/backported by: ylavic
> >
> > Modified:
> >    httpd/httpd/branches/2.4.x/   (props changed)
> >    httpd/httpd/branches/2.4.x/modules/http2/h2_filter.c
> >

From dev-return-86020-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 09:58:15 2016
Return-Path: <dev-return-86020-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3632A18131
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 09:58:15 +0000 (UTC)
Received: (qmail 34944 invoked by uid 500); 23 Mar 2016 09:58:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34876 invoked by uid 500); 23 Mar 2016 09:58:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34866 invoked by uid 99); 23 Mar 2016 09:58:09 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 09:58:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 55BA71A47B5
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 09:58:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.998
X-Spam-Level: ***
X-Spam-Status: No, score=3.998 tagged_above=-999 required=6.31
	tests=[FREEMAIL_REPLY=1, HTML_MESSAGE=2, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id kQ00E47X3mJn for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 09:58:07 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.137])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id E0D775F39C
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 09:58:06 +0000 (UTC)
Received: from [85.158.139.163] by server-1.bemta-5.messagelabs.com id 68/3E-29419-8A862F65; Wed, 23 Mar 2016 09:58:00 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-13.tower-188.messagelabs.com!1458727079!23658996!1
X-Originating-IP: [195.232.244.134]
X-StarScan-Received:
X-StarScan-Version: 8.11; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 6361 invoked from network); 23 Mar 2016 09:58:00 -0000
Received: from mailout02.vodafone.com (HELO mailout02.vodafone.com) (195.232.244.134)
  by server-13.tower-188.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 23 Mar 2016 09:58:00 -0000
Received: from mailint02.vodafone.com (mailint02.vodafone.com [195.232.244.199])
	by mailout02.vodafone.com (Postfix) with ESMTP id 3qVQ3q5ss8zbdMV
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 10:57:59 +0100 (CET)
Received: from mailint02.vodafone.com (localhost [127.0.0.1])
	by mailint02.vodafone.com (Postfix) with ESMTP id 3qVQ3q4z4TzQwM2
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 10:57:59 +0100 (CET)
Received: from VOEXC05W.internal.vodafone.com (mail5.nl.mx.vodafone.com [145.230.101.25])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailint02.vodafone.com (Postfix) with ESMTPS id 3qVQ3q4c0yzQwB4
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 10:57:59 +0100 (CET)
Received: from VOEXC09W.internal.vodafone.com (145.230.101.29) by
 VOEXC05W.internal.vodafone.com (145.230.101.25) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Wed, 23 Mar 2016 10:57:59 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.216]) by
 VOEXC09W.internal.vodafone.com ([145.230.101.29]) with mapi id
 14.03.0224.002; Wed, 23 Mar 2016 10:57:54 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: fate of mod_lbmethod_rr (was: Re: [VOTE] Release Apache httpd
 2.4.19 as GA)
Thread-Topic: fate of mod_lbmethod_rr (was: Re: [VOTE] Release Apache httpd
 2.4.19 as GA)
Thread-Index: AQHRhH5L6JU03FMa3kGctBluzgYchp9l5jWAgABDR4CAAKJk0A==
Date: Wed, 23 Mar 2016 09:57:54 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627ACA017261@VOEXM10W.internal.vodafone.com>
References: <CACsi253nFLLBwep8FX0aQFbTKTLJV+UVbqdZ5S+NE_=h25v1CQ@mail.gmail.com>
	<CAKUrXK6OzLbbLH2zqiUqUec2P6HM_ckV4xJ3od7bp7vfoG2OVQ@mail.gmail.com>
 <CACsi2501vX7kF+z7u_FtE_t_iRiFX3uMVaz=dYJL1S10X4ZiAQ@mail.gmail.com>
In-Reply-To: <CACsi2501vX7kF+z7u_FtE_t_iRiFX3uMVaz=dYJL1S10X4ZiAQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: multipart/alternative;
	boundary="_000_AB1691BE05AE7F4992697F2A0835627ACA017261VOEXM10Winterna_"
MIME-Version: 1.0

--_000_AB1691BE05AE7F4992697F2A0835627ACA017261VOEXM10Winterna_
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

KzEgZm9yIHJlbW92aW5nIGZyb20gMi40LnguDQoNClJlZ2FyZHMNCg0KUsO8ZGlnZXINCg0KRnJv
bTogV2lsbGlhbSBBIFJvd2UgSnIgW21haWx0bzp3cm93ZUByb3dlLWNsYW4ubmV0XQ0KU2VudDog
TWl0dHdvY2gsIDIzLiBNw6RyeiAyMDE2IDAyOjE2DQpUbzogaHR0cGQNClN1YmplY3Q6IFJlOiBm
YXRlIG9mIG1vZF9sYm1ldGhvZF9yciAod2FzOiBSZTogW1ZPVEVdIFJlbGVhc2UgQXBhY2hlIGh0
dHBkIDIuNC4xOSBhcyBHQSkNCg0KT24gVHVlLCBNYXIgMjIsIDIwMTYgYXQgNDoxNSBQTSwgSmVm
ZiBUcmF3aWNrIDx0cmF3aWNrQGdtYWlsLmNvbTxtYWlsdG86dHJhd2lja0BnbWFpbC5jb20+PiB3
cm90ZToNCk9uIFR1ZSwgTWFyIDIyLCAyMDE2IGF0IDU6MDMgUE0sIFdpbGxpYW0gQSBSb3dlIEpy
IDx3cm93ZUByb3dlLWNsYW4ubmV0PG1haWx0bzp3cm93ZUByb3dlLWNsYW4ubmV0Pj4gd3JvdGU6
DQpPbiBUdWUsIE1hciAyMiwgMjAxNiBhdCAzOjM4IFBNLCBKZWZmIFRyYXdpY2sgPHRyYXdpY2tA
Z21haWwuY29tPG1haWx0bzp0cmF3aWNrQGdtYWlsLmNvbT4+IHdyb3RlOg0KT24gVHVlLCBNYXIg
MjIsIDIwMTYgYXQgMzo1NSBQTSwgV2lsbGlhbSBBIFJvd2UgSnIgPHdyb3dlQHJvd2UtY2xhbi5u
ZXQ8bWFpbHRvOndyb3dlQHJvd2UtY2xhbi5uZXQ+PiB3cm90ZToNCkNhbiBhbnlvbmUgZ2V0IG1v
ZF9sYm1ldGhvZF9yci5jIHRvIGJ1aWxkPw0KDQpUaGF0J3MgZnVubnkgYWN0dWFsbHkuICBUaGUg
dmVyeSBmaXJzdCB2ZXJzaW9uIFJFQURNRS5jbWFrZSBpbiB0cnVuayBzYXlzIHRoYXQgbW9kX2xi
bWV0aG9kX3JyLmMgZG9lc24ndCBidWlsZCBvbiBXaW5kb3dzDQoNCiBXaGVuIEkgYWRkZWQgdGhl
IC5kc3AsIGl0IGNlcnRhaW5seSBkaWQgYnVpbGQuICAtLWVuYWJsZS1tb2RzPWFsbCBzaG91bGQg
YmUNCnRyaWdnZXJpbmcgdGhlIGJ1aWxkIG9mIHRob3NlIHNvdXJjZXMuDQoNCkkgdGhpbmsgdGhp
cyBpbGx1c3RyYXRlcyB0aGF0IHdlIGhhdmUgcGxheWVkIGZhc3QgYW5kIGxvb3NlIHdpdGggc29t
ZXRoaW5nIHRoYXQNCjEuIGlzIGEgcHVibGljIEFQSSwgMi4gbm90IGV4cGVyaW1lbnRhbCwgYW5k
IDMuIHdhcyBpbGx1c3RyYXRlZCB3aXRoIGFuIGV4YW1wbGUNCnRoYXQgaGFzIGJlZW4gZnJlcXVl
bnRseSBicm9rZW4gYnkgTWFqb3IgQUJJIGNoYW5nZXMuDQoNCklmIGRldnMgd2FudCB0byBwcm9t
b3RlIGFuIEFQSSBhbmQgdGhlbiBjb250aW51b3VzbHkgYnJlYWsgQUJJIG9uIHRydW5rLA0KSSdt
IHdheSBiZXlvbmQgYXJndWluZyB3aXRoIHN1Y2ggaW5kaXZpZHVhbHMuICBKdXN0IGEgZmV3IGNo
b2ljZSBleGFtcGxlcw0Kd2hpY2ggaGFkIG5lY2Vzc2l0YXRlZCBtYWpvciBNTU4gYnVtcHMgdGhh
dCBkaWQgbm90IHJlY2VpdmUgb25lLi4uDQoNCmh0dHA6Ly9zdm4uYXBhY2hlLm9yZy92aWV3dmM/
dmlldz1yZXZpc2lvbiZyZXZpc2lvbj0xNTYwMDgxDQpodHRwOi8vc3ZuLmFwYWNoZS5vcmcvdmll
d3ZjP3ZpZXc9cmV2aXNpb24mcmV2aXNpb249MTQ3NzY0OSAobm8gYml0d2lzZS1hbGlnbm1lbnQg
YXNzdXJhbmNlKQ0KaHR0cDovL3N2bi5hcGFjaGUub3JnL3ZpZXd2Yz92aWV3PXJldmlzaW9uJnJl
dmlzaW9uPTE0MzY5MTkgKG5vIGJpdHdpc2UtYWxpZ25tZW50IGFzc3VyYW5jZSkNCg0KSG93ZXZl
ciwgdGhpcyBtb2R1bGUgYXBwZWFycyB0byBoYXZlIGJlZW4gYnJva2VuIHByaW9yIHRvIDIuNC4x
IEdBIHdpdGggdGhpcw0KYXQgbGVhc3QgdGhpcyBjb21taXQuLi4gaHR0cDovL3N2bi5hcGFjaGUu
b3JnL3ZpZXd2Yz92aWV3PXJldmlzaW9uJnJldmlzaW9uPTEyMDk5NTgNCi4uLiB3aGljaCB0ZWxs
cyBtZSBpdCBpcyBzaW1wbHkgYW4gYWJhbmRvbmVkIGV4YW1wbGUuDQoNCkkgcHJvcG9zZSB3ZSBy
ZW1vdmUgaXQgZnJvbSAyLjQueCBicmFuY2ggYW5kIHRydW5rLCByYXRoZXIgdGhhbiBwcmV0ZW5k
aW5nDQp3ZSBoYXZlIG1haW50YWluZWQgaXQ/DQoNCisxIGZvciByZW1vdmluZyBmcm9tIDIuNC54
IGJyYW5jaA0KDQpubyBhcmd1bWVudHMgaGVyZSBpZiBzb21lb25lIGFjdHVhbGx5IHdhbnRzIGl0
IHRvIGhhbmcgYXJvdW5kIGluIHRydW5rLCBidXQgSSBkb24ndCBhY3R1YWxseSBrbm93IGlmIGFu
eWJvZHkgY2FyZXMgc28gbm8gdm90ZSBvbiB0cnVuayBBVE0uLi4NCg0KSSBhZ3JlZSwgdGhpcyBk
aXNjdXNzaW9uIGlzIG9ubHkgYWJvdXQgMi40LnggYnJhbmNoIGZvciB0aGUgaW1taW5lbnQgVCZS
Lg0KDQpJZiBJIGhhdmUgYSB0aGlyZCArMSBmb3IgcmVtb3ZpbmcgdGhpcyBob3JyaWRseSB3cm9u
ZyBleGFtcGxlLywgSSdsbCBjb21taXQNCmluIHRoZSBuZXh0IDIgaG91cnMuICBJZiB0aGVyZSBp
cyBkaXNhZ3JlZW1lbnQgbGF0ZXIsIHdlIGNhbiBhbHdheXMgcmV2ZXJ0Lg0KDQpCaWxsDQo=

--_000_AB1691BE05AE7F4992697F2A0835627ACA017261VOEXM10Winterna_
Content-Type: text/html; charset="utf-8"
Content-Transfer-Encoding: base64

PGh0bWwgeG1sbnM6dj0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiIHhtbG5zOm89InVy
bjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOm9mZmljZSIgeG1sbnM6dz0idXJuOnNjaGVt
YXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6d29yZCIgeG1sbnM6bT0iaHR0cDovL3NjaGVtYXMubWlj
cm9zb2Z0LmNvbS9vZmZpY2UvMjAwNC8xMi9vbW1sIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcv
VFIvUkVDLWh0bWw0MCI+DQo8aGVhZD4NCjxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIg
Y29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4NCjxtZXRhIG5hbWU9IkdlbmVyYXRv
ciIgY29udGVudD0iTWljcm9zb2Z0IFdvcmQgMTQgKGZpbHRlcmVkIG1lZGl1bSkiPg0KPHN0eWxl
PjwhLS0NCi8qIEZvbnQgRGVmaW5pdGlvbnMgKi8NCkBmb250LWZhY2UNCgl7Zm9udC1mYW1pbHk6
Q2FsaWJyaTsNCglwYW5vc2UtMToyIDE1IDUgMiAyIDIgNCAzIDIgNDt9DQpAZm9udC1mYWNlDQoJ
e2ZvbnQtZmFtaWx5OlRhaG9tYTsNCglwYW5vc2UtMToyIDExIDYgNCAzIDUgNCA0IDIgNDt9DQov
KiBTdHlsZSBEZWZpbml0aW9ucyAqLw0KcC5Nc29Ob3JtYWwsIGxpLk1zb05vcm1hbCwgZGl2Lk1z
b05vcm1hbA0KCXttYXJnaW46MGNtOw0KCW1hcmdpbi1ib3R0b206LjAwMDFwdDsNCglmb250LXNp
emU6MTIuMHB0Ow0KCWZvbnQtZmFtaWx5OiJUaW1lcyBOZXcgUm9tYW4iLCJzZXJpZiI7fQ0KYTps
aW5rLCBzcGFuLk1zb0h5cGVybGluaw0KCXttc28tc3R5bGUtcHJpb3JpdHk6OTk7DQoJY29sb3I6
Ymx1ZTsNCgl0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO30NCmE6dmlzaXRlZCwgc3Bhbi5Nc29I
eXBlcmxpbmtGb2xsb3dlZA0KCXttc28tc3R5bGUtcHJpb3JpdHk6OTk7DQoJY29sb3I6cHVycGxl
Ow0KCXRleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7fQ0Kc3Bhbi5ob2VuemINCgl7bXNvLXN0eWxl
LW5hbWU6aG9lbnpiO30NCnNwYW4uRW1haWxTdHlsZTE4DQoJe21zby1zdHlsZS10eXBlOnBlcnNv
bmFsLXJlcGx5Ow0KCWZvbnQtZmFtaWx5OiJDYWxpYnJpIiwic2Fucy1zZXJpZiI7DQoJY29sb3I6
IzAwQjA1MDt9DQouTXNvQ2hwRGVmYXVsdA0KCXttc28tc3R5bGUtdHlwZTpleHBvcnQtb25seTsN
Cglmb250LWZhbWlseToiQ2FsaWJyaSIsInNhbnMtc2VyaWYiOw0KCW1zby1mYXJlYXN0LWxhbmd1
YWdlOkVOLVVTO30NCkBwYWdlIFdvcmRTZWN0aW9uMQ0KCXtzaXplOjYxMi4wcHQgNzkyLjBwdDsN
CgltYXJnaW46NzAuODVwdCA3MC44NXB0IDIuMGNtIDcwLjg1cHQ7fQ0KZGl2LldvcmRTZWN0aW9u
MQ0KCXtwYWdlOldvcmRTZWN0aW9uMTt9DQotLT48L3N0eWxlPjwhLS1baWYgZ3RlIG1zbyA5XT48
eG1sPg0KPG86c2hhcGVkZWZhdWx0cyB2OmV4dD0iZWRpdCIgc3BpZG1heD0iMTAyNiIgLz4NCjwv
eG1sPjwhW2VuZGlmXS0tPjwhLS1baWYgZ3RlIG1zbyA5XT48eG1sPg0KPG86c2hhcGVsYXlvdXQg
djpleHQ9ImVkaXQiPg0KPG86aWRtYXAgdjpleHQ9ImVkaXQiIGRhdGE9IjEiIC8+DQo8L286c2hh
cGVsYXlvdXQ+PC94bWw+PCFbZW5kaWZdLS0+DQo8L2hlYWQ+DQo8Ym9keSBsYW5nPSJFTi1HQiIg
bGluaz0iYmx1ZSIgdmxpbms9InB1cnBsZSI+DQo8ZGl2IGNsYXNzPSJXb3JkU2VjdGlvbjEiPg0K
PHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMS4wcHQ7Zm9udC1m
YW1pbHk6JnF1b3Q7Q2FsaWJyaSZxdW90OywmcXVvdDtzYW5zLXNlcmlmJnF1b3Q7O2NvbG9yOiMw
MEIwNTAiPiYjNDM7MSBmb3IgcmVtb3ZpbmcgZnJvbSAyLjQueC48bzpwPjwvbzpwPjwvc3Bhbj48
L3A+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj48c3BhbiBzdHlsZT0iZm9udC1zaXplOjExLjBwdDtm
b250LWZhbWlseTomcXVvdDtDYWxpYnJpJnF1b3Q7LCZxdW90O3NhbnMtc2VyaWYmcXVvdDs7Y29s
b3I6IzAwQjA1MCI+PG86cD4mbmJzcDs8L286cD48L3NwYW4+PC9wPg0KPHAgY2xhc3M9Ik1zb05v
cm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMS4wcHQ7Zm9udC1mYW1pbHk6JnF1b3Q7Q2Fs
aWJyaSZxdW90OywmcXVvdDtzYW5zLXNlcmlmJnF1b3Q7O2NvbG9yOiMwMEIwNTAiPlJlZ2FyZHM8
bzpwPjwvbzpwPjwvc3Bhbj48L3A+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj48c3BhbiBzdHlsZT0i
Zm9udC1zaXplOjExLjBwdDtmb250LWZhbWlseTomcXVvdDtDYWxpYnJpJnF1b3Q7LCZxdW90O3Nh
bnMtc2VyaWYmcXVvdDs7Y29sb3I6IzAwQjA1MCI+PG86cD4mbmJzcDs8L286cD48L3NwYW4+PC9w
Pg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMS4wcHQ7Zm9u
dC1mYW1pbHk6JnF1b3Q7Q2FsaWJyaSZxdW90OywmcXVvdDtzYW5zLXNlcmlmJnF1b3Q7O2NvbG9y
OiMwMEIwNTAiPlLDvGRpZ2VyPG86cD48L286cD48L3NwYW4+PC9wPg0KPHAgY2xhc3M9Ik1zb05v
cm1hbCI+PG86cD4mbmJzcDs8L286cD48L3A+DQo8ZGl2IHN0eWxlPSJib3JkZXI6bm9uZTtib3Jk
ZXItbGVmdDpzb2xpZCBibHVlIDEuNXB0O3BhZGRpbmc6MGNtIDBjbSAwY20gNC4wcHQiPg0KPGRp
dj4NCjxkaXYgc3R5bGU9ImJvcmRlcjpub25lO2JvcmRlci10b3A6c29saWQgI0I1QzRERiAxLjBw
dDtwYWRkaW5nOjMuMHB0IDBjbSAwY20gMGNtIj4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPjxiPjxz
cGFuIGxhbmc9IkVOLVVTIiBzdHlsZT0iZm9udC1zaXplOjEwLjBwdDtmb250LWZhbWlseTomcXVv
dDtUYWhvbWEmcXVvdDssJnF1b3Q7c2Fucy1zZXJpZiZxdW90OyI+RnJvbTo8L3NwYW4+PC9iPjxz
cGFuIGxhbmc9IkVOLVVTIiBzdHlsZT0iZm9udC1zaXplOjEwLjBwdDtmb250LWZhbWlseTomcXVv
dDtUYWhvbWEmcXVvdDssJnF1b3Q7c2Fucy1zZXJpZiZxdW90OyI+IFdpbGxpYW0gQSBSb3dlIEpy
IFttYWlsdG86d3Jvd2VAcm93ZS1jbGFuLm5ldF0NCjxicj4NCjxiPlNlbnQ6PC9iPiBNaXR0d29j
aCwgMjMuIE3DpHJ6IDIwMTYgMDI6MTY8YnI+DQo8Yj5Ubzo8L2I+IGh0dHBkPGJyPg0KPGI+U3Vi
amVjdDo8L2I+IFJlOiBmYXRlIG9mIG1vZF9sYm1ldGhvZF9yciAod2FzOiBSZTogW1ZPVEVdIFJl
bGVhc2UgQXBhY2hlIGh0dHBkIDIuNC4xOSBhcyBHQSk8bzpwPjwvbzpwPjwvc3Bhbj48L3A+DQo8
L2Rpdj4NCjwvZGl2Pg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PG86cD4mbmJzcDs8L286cD48L3A+
DQo8ZGl2Pg0KPGRpdj4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj5PbiBUdWUsIE1hciAy
MiwgMjAxNiBhdCA0OjE1IFBNLCBKZWZmIFRyYXdpY2sgJmx0OzxhIGhyZWY9Im1haWx0bzp0cmF3
aWNrQGdtYWlsLmNvbSIgdGFyZ2V0PSJfYmxhbmsiPnRyYXdpY2tAZ21haWwuY29tPC9hPiZndDsg
d3JvdGU6PG86cD48L286cD48L3A+DQo8ZGl2Pg0KPGRpdj4NCjxkaXY+DQo8ZGl2Pg0KPGRpdj4N
CjxwIGNsYXNzPSJNc29Ob3JtYWwiPk9uIFR1ZSwgTWFyIDIyLCAyMDE2IGF0IDU6MDMgUE0sIFdp
bGxpYW0gQSBSb3dlIEpyICZsdDs8YSBocmVmPSJtYWlsdG86d3Jvd2VAcm93ZS1jbGFuLm5ldCIg
dGFyZ2V0PSJfYmxhbmsiPndyb3dlQHJvd2UtY2xhbi5uZXQ8L2E+Jmd0OyB3cm90ZTo8bzpwPjwv
bzpwPjwvcD4NCjxkaXY+DQo8ZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPk9uIFR1
ZSwgTWFyIDIyLCAyMDE2IGF0IDM6MzggUE0sIEplZmYgVHJhd2ljayAmbHQ7PGEgaHJlZj0ibWFp
bHRvOnRyYXdpY2tAZ21haWwuY29tIiB0YXJnZXQ9Il9ibGFuayI+dHJhd2lja0BnbWFpbC5jb208
L2E+Jmd0OyB3cm90ZTo8bzpwPjwvbzpwPjwvcD4NCjxkaXY+DQo8ZGl2Pg0KPGRpdj4NCjxwIGNs
YXNzPSJNc29Ob3JtYWwiPk9uIFR1ZSwgTWFyIDIyLCAyMDE2IGF0IDM6NTUgUE0sIFdpbGxpYW0g
QSBSb3dlIEpyICZsdDs8YSBocmVmPSJtYWlsdG86d3Jvd2VAcm93ZS1jbGFuLm5ldCIgdGFyZ2V0
PSJfYmxhbmsiPndyb3dlQHJvd2UtY2xhbi5uZXQ8L2E+Jmd0OyB3cm90ZTo8bzpwPjwvbzpwPjwv
cD4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj5DYW4gYW55b25lIGdldCBtb2RfbGJtZXRo
b2RfcnIuYyB0byBidWlsZD88bzpwPjwvbzpwPjwvcD4NCjwvZGl2Pg0KPGRpdj4NCjxwIGNsYXNz
PSJNc29Ob3JtYWwiPjxvOnA+Jm5ic3A7PC9vOnA+PC9wPg0KPC9kaXY+DQo8ZGl2Pg0KPHAgY2xh
c3M9Ik1zb05vcm1hbCI+VGhhdCdzIGZ1bm55IGFjdHVhbGx5LiZuYnNwOyBUaGUgdmVyeSBmaXJz
dCB2ZXJzaW9uIFJFQURNRS5jbWFrZSBpbiB0cnVuayBzYXlzIHRoYXQgbW9kX2xibWV0aG9kX3Jy
LmMgZG9lc24ndCBidWlsZCBvbiBXaW5kb3dzPG86cD48L286cD48L3A+DQo8L2Rpdj4NCjwvZGl2
Pg0KPC9kaXY+DQo8L2Rpdj4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj48bzpwPiZuYnNw
OzwvbzpwPjwvcD4NCjwvZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPiZuYnNwO1do
ZW4gSSBhZGRlZCB0aGUgLmRzcCwgaXQgY2VydGFpbmx5IGRpZCBidWlsZC4gJm5ic3A7LS1lbmFi
bGUtbW9kcz1hbGwgc2hvdWxkIGJlJm5ic3A7PG86cD48L286cD48L3A+DQo8L2Rpdj4NCjxkaXY+
DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj50cmlnZ2VyaW5nIHRoZSBidWlsZCBvZiB0aG9zZSBzb3Vy
Y2VzLjxvOnA+PC9vOnA+PC9wPg0KPC9kaXY+DQo8ZGl2Pg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+
PG86cD4mbmJzcDs8L286cD48L3A+DQo8L2Rpdj4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFs
Ij5JIHRoaW5rIHRoaXMgaWxsdXN0cmF0ZXMgdGhhdCB3ZSBoYXZlIHBsYXllZCBmYXN0IGFuZCBs
b29zZSB3aXRoIHNvbWV0aGluZyB0aGF0PG86cD48L286cD48L3A+DQo8L2Rpdj4NCjxkaXY+DQo8
cCBjbGFzcz0iTXNvTm9ybWFsIj4xLiBpcyBhIHB1YmxpYyBBUEksIDIuIG5vdCBleHBlcmltZW50
YWwsIGFuZCAzLiB3YXMgaWxsdXN0cmF0ZWQgd2l0aCBhbiBleGFtcGxlJm5ic3A7PG86cD48L286
cD48L3A+DQo8L2Rpdj4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj50aGF0IGhhcyBiZWVu
IGZyZXF1ZW50bHkgYnJva2VuIGJ5IE1ham9yIEFCSSBjaGFuZ2VzLjxvOnA+PC9vOnA+PC9wPg0K
PC9kaXY+DQo8ZGl2Pg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PG86cD4mbmJzcDs8L286cD48L3A+
DQo8L2Rpdj4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj5JZiBkZXZzIHdhbnQgdG8gcHJv
bW90ZSBhbiBBUEkgYW5kIHRoZW4gY29udGludW91c2x5IGJyZWFrIEFCSSBvbiB0cnVuayw8bzpw
PjwvbzpwPjwvcD4NCjwvZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPkknbSB3YXkg
YmV5b25kIGFyZ3Vpbmcgd2l0aCBzdWNoIGluZGl2aWR1YWxzLiZuYnNwOyBKdXN0IGEgZmV3IGNo
b2ljZSBleGFtcGxlcyZuYnNwOzxvOnA+PC9vOnA+PC9wPg0KPC9kaXY+DQo8ZGl2Pg0KPHAgY2xh
c3M9Ik1zb05vcm1hbCI+d2hpY2ggaGFkIG5lY2Vzc2l0YXRlZCBtYWpvciBNTU4gYnVtcHMgdGhh
dCBkaWQgbm90IHJlY2VpdmUgb25lLi4uPG86cD48L286cD48L3A+DQo8L2Rpdj4NCjxkaXY+DQo8
cCBjbGFzcz0iTXNvTm9ybWFsIj48bzpwPiZuYnNwOzwvbzpwPjwvcD4NCjwvZGl2Pg0KPGRpdj4N
CjxwIGNsYXNzPSJNc29Ob3JtYWwiPjxhIGhyZWY9Imh0dHA6Ly9zdm4uYXBhY2hlLm9yZy92aWV3
dmM/dmlldz1yZXZpc2lvbiZhbXA7cmV2aXNpb249MTU2MDA4MSIgdGFyZ2V0PSJfYmxhbmsiPmh0
dHA6Ly9zdm4uYXBhY2hlLm9yZy92aWV3dmM/dmlldz1yZXZpc2lvbiZhbXA7cmV2aXNpb249MTU2
MDA4MTwvYT48bzpwPjwvbzpwPjwvcD4NCjwvZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29Ob3Jt
YWwiPjxhIGhyZWY9Imh0dHA6Ly9zdm4uYXBhY2hlLm9yZy92aWV3dmM/dmlldz1yZXZpc2lvbiZh
bXA7cmV2aXNpb249MTQ3NzY0OSIgdGFyZ2V0PSJfYmxhbmsiPmh0dHA6Ly9zdm4uYXBhY2hlLm9y
Zy92aWV3dmM/dmlldz1yZXZpc2lvbiZhbXA7cmV2aXNpb249MTQ3NzY0OTwvYT4gKG5vIGJpdHdp
c2UtYWxpZ25tZW50IGFzc3VyYW5jZSk8bzpwPjwvbzpwPjwvcD4NCjwvZGl2Pg0KPGRpdj4NCjxw
IGNsYXNzPSJNc29Ob3JtYWwiPjxhIGhyZWY9Imh0dHA6Ly9zdm4uYXBhY2hlLm9yZy92aWV3dmM/
dmlldz1yZXZpc2lvbiZhbXA7cmV2aXNpb249MTQzNjkxOSIgdGFyZ2V0PSJfYmxhbmsiPmh0dHA6
Ly9zdm4uYXBhY2hlLm9yZy92aWV3dmM/dmlldz1yZXZpc2lvbiZhbXA7cmV2aXNpb249MTQzNjkx
OTwvYT4mbmJzcDsobm8gYml0d2lzZS1hbGlnbm1lbnQgYXNzdXJhbmNlKTxvOnA+PC9vOnA+PC9w
Pg0KPC9kaXY+DQo8ZGl2Pg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PG86cD4mbmJzcDs8L286cD48
L3A+DQo8L2Rpdj4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj5Ib3dldmVyLCB0aGlzIG1v
ZHVsZSBhcHBlYXJzIHRvIGhhdmUgYmVlbiBicm9rZW4gcHJpb3IgdG8gMi40LjEgR0Egd2l0aCB0
aGlzPG86cD48L286cD48L3A+DQo8L2Rpdj4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj5h
dCBsZWFzdCB0aGlzIGNvbW1pdC4uLiZuYnNwOzxhIGhyZWY9Imh0dHA6Ly9zdm4uYXBhY2hlLm9y
Zy92aWV3dmM/dmlldz1yZXZpc2lvbiZhbXA7cmV2aXNpb249MTIwOTk1OCIgdGFyZ2V0PSJfYmxh
bmsiPmh0dHA6Ly9zdm4uYXBhY2hlLm9yZy92aWV3dmM/dmlldz1yZXZpc2lvbiZhbXA7cmV2aXNp
b249MTIwOTk1ODwvYT48bzpwPjwvbzpwPjwvcD4NCjwvZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJN
c29Ob3JtYWwiPi4uLiB3aGljaCB0ZWxscyBtZSBpdCBpcyBzaW1wbHkgYW4gYWJhbmRvbmVkIGV4
YW1wbGUuPG86cD48L286cD48L3A+DQo8L2Rpdj4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFs
Ij48bzpwPiZuYnNwOzwvbzpwPjwvcD4NCjwvZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29Ob3Jt
YWwiPkkgcHJvcG9zZSB3ZSByZW1vdmUgaXQgZnJvbSAyLjQueCBicmFuY2ggYW5kIHRydW5rLCBy
YXRoZXIgdGhhbiBwcmV0ZW5kaW5nJm5ic3A7PG86cD48L286cD48L3A+DQo8L2Rpdj4NCjxkaXY+
DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj53ZSBoYXZlIG1haW50YWluZWQgaXQ/PG86cD48L286cD48
L3A+DQo8L2Rpdj4NCjwvZGl2Pg0KPC9kaXY+DQo8L2Rpdj4NCjxkaXY+DQo8cCBjbGFzcz0iTXNv
Tm9ybWFsIj48bzpwPiZuYnNwOzwvbzpwPjwvcD4NCjwvZGl2Pg0KPC9kaXY+DQo8L2Rpdj4NCjxk
aXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj4mIzQzOzEgZm9yIHJlbW92aW5nIGZyb20gMi40Lngg
YnJhbmNoPG86cD48L286cD48L3A+DQo8L2Rpdj4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFs
Ij48bzpwPiZuYnNwOzwvbzpwPjwvcD4NCjwvZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29Ob3Jt
YWwiPm5vIGFyZ3VtZW50cyBoZXJlIGlmIHNvbWVvbmUgYWN0dWFsbHkgd2FudHMgaXQgdG8gaGFu
ZyBhcm91bmQgaW4gdHJ1bmssIGJ1dCBJIGRvbid0IGFjdHVhbGx5IGtub3cgaWYgYW55Ym9keSBj
YXJlcyBzbyBubyB2b3RlIG9uIHRydW5rIEFUTS4uLjxvOnA+PC9vOnA+PC9wPg0KPC9kaXY+DQo8
L2Rpdj4NCjwvZGl2Pg0KPC9kaXY+DQo8L2Rpdj4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPjxvOnA+
Jm5ic3A7PC9vOnA+PC9wPg0KPC9kaXY+DQo8ZGl2Pg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+SSBh
Z3JlZSwgdGhpcyBkaXNjdXNzaW9uIGlzIG9ubHkgYWJvdXQgMi40LnggYnJhbmNoIGZvciB0aGUg
aW1taW5lbnQgVCZhbXA7Ui4gJm5ic3A7PG86cD48L286cD48L3A+DQo8L2Rpdj4NCjxkaXY+DQo8
cCBjbGFzcz0iTXNvTm9ybWFsIj48bzpwPiZuYnNwOzwvbzpwPjwvcD4NCjwvZGl2Pg0KPGRpdj4N
CjxwIGNsYXNzPSJNc29Ob3JtYWwiPklmIEkgaGF2ZSBhIHRoaXJkICYjNDM7MSBmb3IgcmVtb3Zp
bmcgdGhpcyBob3JyaWRseSB3cm9uZyBleGFtcGxlLywgSSdsbCBjb21taXQ8bzpwPjwvbzpwPjwv
cD4NCjwvZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPmluIHRoZSBuZXh0IDIgaG91
cnMuJm5ic3A7IElmIHRoZXJlIGlzIGRpc2FncmVlbWVudCBsYXRlciwgd2UgY2FuIGFsd2F5cyBy
ZXZlcnQuPG86cD48L286cD48L3A+DQo8L2Rpdj4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFs
Ij48bzpwPiZuYnNwOzwvbzpwPjwvcD4NCjwvZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29Ob3Jt
YWwiPkJpbGw8bzpwPjwvbzpwPjwvcD4NCjwvZGl2Pg0KPC9kaXY+DQo8L2Rpdj4NCjwvZGl2Pg0K
PC9ib2R5Pg0KPC9odG1sPg0K

--_000_AB1691BE05AE7F4992697F2A0835627ACA017261VOEXM10Winterna_--

From dev-return-86021-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 10:18:42 2016
Return-Path: <dev-return-86021-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 16B761826F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 10:18:42 +0000 (UTC)
Received: (qmail 75481 invoked by uid 500); 23 Mar 2016 10:18:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75419 invoked by uid 500); 23 Mar 2016 10:18:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75409 invoked by uid 99); 23 Mar 2016 10:18:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 10:18:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 2FD27C76B8
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 10:18:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.711
X-Spam-Level:
X-Spam-Status: No, score=-0.711 tagged_above=-999 required=6.31
	tests=[HEADER_FROM_DIFFERENT_DOMAINS=0.001, RCVD_IN_DNSWL_LOW=-0.7,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01]
	autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id iHs9afBliMSF for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 10:18:38 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 5752C5F2EE
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 10:18:38 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1aifs4-0006sM-Dg
	for dev@httpd.apache.org; Wed, 23 Mar 2016 11:18:36 +0100
Received: from 227-116.citynet.ftth.internl.net ([85.223.116.227])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:18:36 +0100
Received: from phpdev by 227-116.citynet.ftth.internl.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:18:36 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Jan Ehrhardt <phpdev@ehrhardt.nl>
Subject: Re: 2.4.20 Change dsp: Win32-specific build files.
Date: Wed, 23 Mar 2016 11:18:29 +0100
Lines: 13
Message-ID: <l2r4fb5ng0kv620c9b2gd3e8mba371hrmb@4ax.com>
References: <ECF6CD6F-DBB8-4874-8614-30F719E06F47@apachelounge.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: 227-116.citynet.ftth.internl.net
X-Newsreader: Forte Agent 3.3/32.846

Steffen in gmane.comp.apache.devel (Wed, 23 Mar 2016 09:15:45 +0100):
>Saw that wrowe did a change win make files in 2.4. branche. 
>
>The comment says the the .dsp files are entirely ! unusable. 
>
>I can tell that they are entirely usable with V9-VC14.   What was the issue ?

I agree with Steffen. This week I have built httpd 2.4.19 (VC9 / VC11 /
VC14 & x86 / x64) using the .dsp files. I even commented that the
http2.dsp was missing a line. They are the easiest way to build httpd on
Windows.

Jan


From dev-return-86022-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 10:49:35 2016
Return-Path: <dev-return-86022-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E66D31840C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 10:49:35 +0000 (UTC)
Received: (qmail 48077 invoked by uid 500); 23 Mar 2016 10:49:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 47990 invoked by uid 500); 23 Mar 2016 10:49:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 47980 invoked by uid 99); 23 Mar 2016 10:49:35 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 10:49:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 133FA1A4813
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 10:49:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.561
X-Spam-Level: **
X-Spam-Status: No, score=2.561 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_BL=0.01, RCVD_IN_MSPIKE_L3=1.899, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 4-9bsn2MPPFz for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 10:49:32 +0000 (UTC)
Received: from resqmta-po-06v.sys.comcast.net (resqmta-po-06v.sys.comcast.net [96.114.154.165])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 634E65F23A
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 10:49:32 +0000 (UTC)
Received: from resomta-po-09v.sys.comcast.net ([96.114.154.233])
	by resqmta-po-06v.sys.comcast.net with comcast
	id ZNpW1s00952QWKC01NpWAC; Wed, 23 Mar 2016 10:49:30 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-09v.sys.comcast.net with comcast
	id ZNpV1s0072U0RYt01NpVbY; Wed, 23 Mar 2016 10:49:30 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.3 \(3124\))
Subject: Re: svn commit: r1736216 - in /httpd/httpd/trunk: include/httpd.h modules/http/http_request.c server/mpm/event/event.c server/mpm/motorz/motorz.c server/mpm/simple/simple_io.c server/util_filter.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <BDC20990-56A7-4D95-9959-910BC0BDA9C8@sharp.fm>
Date: Wed, 23 Mar 2016 06:49:29 -0400
Cc: cvs@httpd.apache.org
Content-Transfer-Encoding: quoted-printable
Message-Id: <43A10E71-914A-464F-BD75-E7010170D06A@jaguNET.com>
References: <20160322170830.4CBC93A0223@svn01-us-west.apache.org> <BDC20990-56A7-4D95-9959-910BC0BDA9C8@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3124)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458730170;
	bh=0MCyRIRfrLNSfVxiYM3CP/upSU0FKRwxSSWn/OjZPmk=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=QMRJ4w+n3f/8LX+VEtUoLnFJ2yEEhNZmCM9oQ5BVyBhTxvSI7mr6SjncTQAfDDSzE
	 AkIvt+IDBX8sQyTuU3qivkn9RxZV8FrjTCSopdbvQA+I4WjOzOGsdAbgZsAOqTwJ1W
	 a6VcKRXNXIa09Z5y2L/tMRhKnaDizJ3gbHHQjWimRVod4P1XZlZ/VbwOVM0/IfH+YL
	 qD9cAKcnADf2NSI/htsTOgdVTOIMIDaMIcxRUY0k4QycAFqi4VwQ0Vnk+gBcsuCFEQ
	 jYBwvBX59W3EKiD3wzjrlAWdvz9T1nWmxV/fFTv05gZQwDwWEkvuN2TonhCUPP0cFE
	 e4P6J48NAsEKA==


> On Mar 22, 2016, at 9:11 PM, Graham Leggett <minfrin@sharp.fm> wrote:
>=20
> On 22 Mar 2016, at 7:08 PM, ylavic@apache.org wrote:
>=20
>> URL: http://svn.apache.org/viewvc?rev=3D1736216&view=3Drev
>> Log:
>> Follow up to r1734656: restore c->data_in_input_filters usage to
>> see if it helps unblocking test framework.
>=20
> I created an almost identical patch before doing an update, the only =
difference was this:
>=20
> Index: modules/http/http_request.c
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> --- modules/http/http_request.c	(revision 1736263)
> +++ modules/http/http_request.c	(working copy)
> @@ -453,7 +453,7 @@
>=20
>     ap_process_async_request(r);
>=20
> -    if (!c->data_in_input_filters || ap_run_input_pending(c) !=3D OK) =
{
> +    if (!c->data_in_input_filters && ap_run_input_pending(c) !=3D OK) =
{
>         bb =3D apr_brigade_create(c->pool, c->bucket_alloc);
>         b =3D apr_bucket_flush_create(c->bucket_alloc);
>         APR_BRIGADE_INSERT_HEAD(bb, b);
>=20
> I get hangs without the above patch on the test suite, but it runs =
clean with. Can you give it a try?
>=20

d'oh!!

+1!


From dev-return-86023-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 10:50:34 2016
Return-Path: <dev-return-86023-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1A97518414
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 10:50:34 +0000 (UTC)
Received: (qmail 49479 invoked by uid 500); 23 Mar 2016 10:50:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49413 invoked by uid 500); 23 Mar 2016 10:50:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49403 invoked by uid 99); 23 Mar 2016 10:50:33 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 10:50:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 40834C0A64
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 10:50:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id BmT5H8jJh-nK for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 10:50:31 +0000 (UTC)
Received: from resqmta-po-09v.sys.comcast.net (resqmta-po-09v.sys.comcast.net [96.114.154.168])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 119A35F239
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 10:50:30 +0000 (UTC)
Received: from resomta-po-09v.sys.comcast.net ([96.114.154.233])
	by resqmta-po-09v.sys.comcast.net with comcast
	id ZNqJ1s00352QWKC01NqQQY; Wed, 23 Mar 2016 10:50:24 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-09v.sys.comcast.net with comcast
	id ZNpV1s0072U0RYt01NqQe7; Wed, 23 Mar 2016 10:50:24 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.3 \(3124\))
Subject: Re: 2.4.20 Change dsp: Win32-specific build files.
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <l2r4fb5ng0kv620c9b2gd3e8mba371hrmb@4ax.com>
Date: Wed, 23 Mar 2016 06:50:24 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <337ADDCF-F92D-4A24-B391-A52E8589A15B@jaguNET.com>
References: <ECF6CD6F-DBB8-4874-8614-30F719E06F47@apachelounge.com> <l2r4fb5ng0kv620c9b2gd3e8mba371hrmb@4ax.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3124)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458730224;
	bh=dGhKOsG5FIfb5xpQl+ni3AFjgiXKeHHQI2Eeh4Q93q8=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=NbUxgO5YjWXuz8ujOq2aMZ91Ml6Mfvi6injRQ40CXZ6I+VbbxqsKSyMF/jIxKKURa
	 VIHdypzF/VIo0B1QNJfmDvUqnXXtzeKBvzoIswjsCjBb7kVeB/4U+EyFU74iWFjXOJ
	 2NT4dYtoUpcjh0fqa5WOpUDAjA6033JTSYwCa0vDXOA57v1ZPApatSNMU9JS6Pf8Gf
	 nD4UeYIbFUH433nhuB2PtQx1k+RqEZsknoectd3zSGyKxvv21JnPl79GKH2fVZ3qnm
	 eOFG0bfSR2amCyO8TAi3dpuPZuQHR43UOPH0wuynRBMHlpuPS6yrmHapK1XvRNncVF
	 wiM7X0eFn4dpA==

Agreed! wtf?!

> On Mar 23, 2016, at 6:18 AM, Jan Ehrhardt <phpdev@ehrhardt.nl> wrote:
>=20
> Steffen in gmane.comp.apache.devel (Wed, 23 Mar 2016 09:15:45 +0100):
>> Saw that wrowe did a change win make files in 2.4. branche.=20
>>=20
>> The comment says the the .dsp files are entirely ! unusable.=20
>>=20
>> I can tell that they are entirely usable with V9-VC14.   What was the =
issue ?
>=20
> I agree with Steffen. This week I have built httpd 2.4.19 (VC9 / VC11 =
/
> VC14 & x86 / x64) using the .dsp files. I even commented that the
> http2.dsp was missing a line. They are the easiest way to build httpd =
on
> Windows.
>=20
> Jan
>=20


From dev-return-86024-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 10:56:56 2016
Return-Path: <dev-return-86024-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A96CE18484
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 10:56:56 +0000 (UTC)
Received: (qmail 69122 invoked by uid 500); 23 Mar 2016 10:56:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 69055 invoked by uid 500); 23 Mar 2016 10:56:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69045 invoked by uid 99); 23 Mar 2016 10:56:56 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 10:56:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B8EF4180218
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 10:56:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id PSwrBwtLd39r for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 10:56:55 +0000 (UTC)
Received: from resqmta-po-08v.sys.comcast.net (resqmta-po-08v.sys.comcast.net [96.114.154.167])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id CB15B5F560
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 10:56:54 +0000 (UTC)
Received: from resomta-po-01v.sys.comcast.net ([96.114.154.225])
	by resqmta-po-08v.sys.comcast.net with comcast
	id ZNwT1s0034s37d401Nwo1x; Wed, 23 Mar 2016 10:56:48 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-01v.sys.comcast.net with comcast
	id ZNwn1s0022U0RYt01NwnAZ; Wed, 23 Mar 2016 10:56:47 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: Status for 2.4.20
Message-Id: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
Date: Wed, 23 Mar 2016 06:56:47 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 9.3 \(3124\))
X-Mailer: Apple Mail (2.3124)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458730608;
	bh=9LO/9pZWOCODohasKdpVqfBQqlPi6gHp5pYFrCHz2uo=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=Daapz7euuTPttdtOEfzqwadamym4JlQW+psAyMXV4Ikhpxw4tN1YoNMx9xR3Xo0CC
	 OSzcW4mWsvNuz5Mfzo2XkvHjETvziJ+AIITj4684IO1HMGpu98wZjaDudJTdo/jKVo
	 DZ32XIqfLr1P9w2rbXEmFRIqSzSzqid2DfO70P5hdxPxlyEnceIAtzeAYP4l8pXt5g
	 yuPpISAsF/pBSP4oj32o+nJa3pxaDN7CSI8FxL264DIVRJRYxv4veIzmX7QUQ78KKR
	 +OUaO3VihwOyRloLwpjM55cu/82+SztmZw88VG41KLZVz/N4K4IDzFWKNeQ5ZSb1OY
	 Po3XolmqS4WNg==

Let's see: I recalled the vote for 2.4.19 because of a
single issue, basically related to a missing few lines in
a file which prevented building on Win. Nice, easy, simple
fix.

Now it appears that a slew of "fixes" related to Win have
been applied which, according to some, makes the whole build-
on-Win situation much much worse.

Now I have no idea what the status of HEAD for 2.4 is and,
as a result, we are delaying the T&R and eventual release of
2.4.19/20. All because a 4-line fix turned into a master-refactor
at the last minute.

I am tempted to revert 2.4 back...

From dev-return-86025-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 11:01:31 2016
Return-Path: <dev-return-86025-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 29BF9184BC
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 11:01:31 +0000 (UTC)
Received: (qmail 79120 invoked by uid 500); 23 Mar 2016 11:01:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 79061 invoked by uid 500); 23 Mar 2016 11:01:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 79051 invoked by uid 99); 23 Mar 2016 11:01:30 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 11:01:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 440591801A9
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:01:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=cOsgNl0N;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=tTB423mr
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id RKAQ4Pr2E0sP for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 11:01:25 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 643905F19A
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:01:25 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 03C0215A08A2; Wed, 23 Mar 2016 12:01:18 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458730878; bh=LJSUxINmF1PnU9K6eIqP2pJ7CweV9K9nHWMJMiH5xjU=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=cOsgNl0NZCY9lEBc3YjXZ8STpdZy9+IPy2x2hYyTUDCJsgcztrsLsblsHBbxUzaNa
	 +37NOQkyQ87BrB1ST1pU1D5Le8NmW/urJRcqZIMaJSKT01rThETDGzI+EQEGHLPDEK
	 x7R+DqUJvr+duVcqlQ7w+WpTeZ/7OtbMzFfyk238=
Received: from [192.168.1.42] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 184D715A0325
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 12:01:16 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458730877; bh=LJSUxINmF1PnU9K6eIqP2pJ7CweV9K9nHWMJMiH5xjU=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=tTB423mrcJ5B8wGb5T1t+9c4bDopsq6HFbmXedNfr8ciLGpuJwp/7JHO9Phz/hnna
	 sCSJDalzUoAnSMJ8ZHm8qN9Oos7DaykuXKDreJet1QWk1aNezUHiDPQuAUZ4qLiG6b
	 wWoqciPxAIRJp7X8dU8vMzOoAe4RhjtRC8Sbu6uM=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.3 \(3124\))
Subject: Re: Status for 2.4.20
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
Date: Wed, 23 Mar 2016 12:01:16 +0100
Content-Transfer-Encoding: 7bit
Message-Id: <61398A23-8FE6-400B-B456-C6BED2265DA5@greenbytes.de>
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3124)


> Am 23.03.2016 um 11:56 schrieb Jim Jagielski <jim@jaguNET.com>:
> 
> Let's see: I recalled the vote for 2.4.19 because of a
> single issue, basically related to a missing few lines in
> a file which prevented building on Win. Nice, easy, simple
> fix.
> 
> Now it appears that a slew of "fixes" related to Win have
> been applied which, according to some, makes the whole build-
> on-Win situation much much worse.
> 
> Now I have no idea what the status of HEAD for 2.4 is and,
> as a result, we are delaying the T&R and eventual release of
> 2.4.19/20. All because a 4-line fix turned into a master-refactor
> at the last minute.
> 
> I am tempted to revert 2.4 back...

Sorry about missing the initial 4 lines. 

Being no Windows builder, but is the 2.4.19 + the missing 
lines not the same mechanism that we shipped in 2.4.18? 

If so, let's stick to it and defer any large-scale 
improvements to a later point.

From dev-return-86026-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 11:06:14 2016
Return-Path: <dev-return-86026-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 27E9118519
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 11:06:14 +0000 (UTC)
Received: (qmail 97188 invoked by uid 500); 23 Mar 2016 11:06:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97121 invoked by uid 500); 23 Mar 2016 11:06:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97111 invoked by uid 99); 23 Mar 2016 11:06:13 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 11:06:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 12D57C0217
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:06:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id FWYaDVyb8cO7 for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 11:06:11 +0000 (UTC)
Received: from mail-qg0-f50.google.com (mail-qg0-f50.google.com [209.85.192.50])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id A6C725FADB
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:06:10 +0000 (UTC)
Received: by mail-qg0-f50.google.com with SMTP id w104so8430699qge.1
        for <dev@httpd.apache.org>; Wed, 23 Mar 2016 04:06:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-transfer-encoding;
        bh=6V0GIGMnEhxPDjN4j9n9jSmvybrMkwiBH7zMZ56Dxs0=;
        b=hOe8wmUBCJTYPyebU3uKKI5GPmLbpm7q0E+TU+dMadIAIil0XO3CrEUwRWPsNh6g3h
         16EkNvxv0yo1XqFY9MaAt6XgxFy99PBOA7NWJJBx6hk/7PXpXEck+CAjoyjvknOt0FIU
         x6mDE0nD96opIlZQXJHZIv7aQfauw55Ai2YkJR1spxo4h6LcGqay7WLfqEFIdpYGj+o+
         ZGdfF89MYstORxZCweVBPikWDznwXZwxpZQdWUW/j2BVEIEjVv47CCnkBEbOsNqIHlEt
         B0cfsMY1vbfovzYht+ruF/RzAm4QObhv9kB9NcyVxshN4+ArXyu2TagBkguEx7bmtIGi
         S6FA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-transfer-encoding;
        bh=6V0GIGMnEhxPDjN4j9n9jSmvybrMkwiBH7zMZ56Dxs0=;
        b=aDn2xa2/xQRm/kPyd1aBzFxiO69DjVG9OeWkd3VDia6hSgMQBu+0m+aMH7Zzgh6iyK
         5ho1qO7Tqo2qQjAGdt3rj5yh3yiDsx+0C49SqadoiZN2kQ9xBKS6FkyYArD6bY2/IqZi
         gKZxHEE8bnGQQvtXBaHe6cpeudJH0TntTkffWrLfhwEvrLJ4T7Po7m9K+QpLHSLZeGYs
         B5hFLMkDmkWJ+jmkBP9D2wxMQWIXXrdM4Dy4D+IapBI+59BvnJr1lPOxb5uvfkvyJ1oc
         HPfFdSu03Pw21G3oNrdMZ+980omI/2PiJceCgRzagS3ZnUu639q1paGspaFPildPT5GK
         FIBg==
X-Gm-Message-State: AD7BkJJNsAGH2wSD6jIlGTvX57GK3LWrtGpeizj2vSm2CXdYPZHoworRfxgOk44VQtwG50tlXYxjrCbpE82zmw==
MIME-Version: 1.0
X-Received: by 10.140.161.198 with SMTP id h189mr2619626qhh.24.1458731164321;
 Wed, 23 Mar 2016 04:06:04 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Wed, 23 Mar 2016 04:06:04 -0700 (PDT)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627ACA017228@VOEXM10W.internal.vodafone.com>
References: <20160322204848.0613F3A0223@svn01-us-west.apache.org>
	<453A8604-1EB8-4200-8412-9BA45A406758@eissing.org>
	<AB1691BE05AE7F4992697F2A0835627ACA017228@VOEXM10W.internal.vodafone.com>
Date: Wed, 23 Mar 2016 12:06:04 +0100
Message-ID: <CAKQ1sVN03Y3ifi5THbYR_PgjThDyRjZ5+P1HTEOTiz724FGLig@mail.gmail.com>
Subject: Re: svn commit: r1736251 - in /httpd/httpd/branches/2.4.x: ./ modules/http2/h2_filter.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Mar 23, 2016 at 10:43 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
> In http_log.h we have a similar problem and solve that either as a macro =
or as a function
> depending on our capabilities:

Depending on AP_HAVE_C99 is not worth it for this (bbout) very local usage =
IMHO.
The macro used apr_brigade_printf() which finally calls
apr_brigade_vprintf(), so we have the same call chain as before (no
more function calls).

But sure, for ap_log_* functions, having C99 helps not evaluating the
arguments when they don't need to (but beware of side effects in args
which would "work" in C89 and not C99+ ;)

Regards,
Yann.

From dev-return-86027-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 11:20:29 2016
Return-Path: <dev-return-86027-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B3974185B1
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 11:20:29 +0000 (UTC)
Received: (qmail 35870 invoked by uid 500); 23 Mar 2016 11:20:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35748 invoked by uid 500); 23 Mar 2016 11:20:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35666 invoked by uid 99); 23 Mar 2016 11:20:26 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 11:20:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 70F4E18021C
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:20:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id k8bvdaT2PFH6 for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 11:20:24 +0000 (UTC)
Received: from mail-qg0-f48.google.com (mail-qg0-f48.google.com [209.85.192.48])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id EA4E15F3F2
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:20:23 +0000 (UTC)
Received: by mail-qg0-f48.google.com with SMTP id w104so8669412qge.1
        for <dev@httpd.apache.org>; Wed, 23 Mar 2016 04:20:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=BJ1XV15ZBngFHLz3MGc/lmw/UeYeOfSrzRuM+gf0t30=;
        b=xEccL37gTHpw8uSGDJ7iQTi7VKoCUWtJ9B9HfE8To14QjfuGagYOaAFt+TB+Oxlx/Y
         gakYp69sSSUnjfJcyLdNbe7qTTIbL277tS4DCmNXYMMUoLSgayHT49j1byc0sSvvCF0d
         HNcrYM9hMikFKETmCkX11WrPu+8fvuB84aoPWjL4NkYH4jEedE6RU5GpAKlGCOeRhzo2
         clACppLdWuq3vBbeDkXO4MDFYSZINkNo5tr9QiL4bX1WZ0ULhS07Hup8wDtSru2NB1l7
         Fp0jrO7Wcfq8vXETGVn0KDCnKIFAotkAMRjV6BNgN3mSKi/0e3ByYz6qJwT78NFqvmoK
         3x4A==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=BJ1XV15ZBngFHLz3MGc/lmw/UeYeOfSrzRuM+gf0t30=;
        b=Oi+uv5ZD65ytCxsPJF/iK9rWo2r28zcUpa9kGvPHVZskLrtvSLVZjNdCrIn8y+7Wjc
         6Or7nauylttdCuD6pX/DiBMBMWH9nE4dmvLgV3ehfuYjmmjmmM3IRVng1fDFoqTh9wNf
         pIIDVfw5fKMhSYNS8AMrTtiyQKCSKQ1wVGkKVTZ8iPsndZhEYCCRie+26nsEttvOYEN2
         xLOx4tu65jlPaS4lvzW2GzH3N+dT48cQDYfYLQ4cRKvDRe2zyeQC4i/pYO7O0/HtIf0Q
         QRvvROCITY6GNueGflLQSKzKbScnEHEtandFLkRVxDCNQqw3CeZilF4aAN2QRkUDt6Cs
         8KlQ==
X-Gm-Message-State: AD7BkJJLE7pFrOmJ8jywvKi4PITuqiL5Mvcc3HiNKBLRo9kHqxZ5sKu0cUu1tAEDMXaNekGEbVTbiJZ4fslryA==
MIME-Version: 1.0
X-Received: by 10.140.43.37 with SMTP id d34mr2517330qga.51.1458732017147;
 Wed, 23 Mar 2016 04:20:17 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Wed, 23 Mar 2016 04:20:17 -0700 (PDT)
In-Reply-To: <l2r4fb5ng0kv620c9b2gd3e8mba371hrmb@4ax.com>
References: <ECF6CD6F-DBB8-4874-8614-30F719E06F47@apachelounge.com>
	<l2r4fb5ng0kv620c9b2gd3e8mba371hrmb@4ax.com>
Date: Wed, 23 Mar 2016 12:20:17 +0100
Message-ID: <CAKQ1sVOBHkWEqZUpbG5ywvTo4EQ05d6YgV11rOwQmhVee92DzA@mail.gmail.com>
Subject: Re: 2.4.20 Change dsp: Win32-specific build files.
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 23, 2016 at 11:18 AM, Jan Ehrhardt <phpdev@ehrhardt.nl> wrote:
> Steffen in gmane.comp.apache.devel (Wed, 23 Mar 2016 09:15:45 +0100):
>>Saw that wrowe did a change win make files in 2.4. branche.
>>
>>The comment says the the .dsp files are entirely ! unusable.
>>
>>I can tell that they are entirely usable with V9-VC14.   What was the issue ?
>
> I agree with Steffen. This week I have built httpd 2.4.19 (VC9 / VC11 /
> VC14 & x86 / x64) using the .dsp files. I even commented that the
> http2.dsp was missing a line. They are the easiest way to build httpd on
> Windows.

Does building 2.4.x from the .dsp files still work or not?

AIUI (but my understanding of Windows is quite limited), Bill did not
change any dsp file (but removing mod_lbmethod_rr which did not work),
he "just" added some .mak and .dep files.
Why would that break dsp files?

From dev-return-86028-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 11:23:10 2016
Return-Path: <dev-return-86028-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C8F80185D9
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 11:23:10 +0000 (UTC)
Received: (qmail 49854 invoked by uid 500); 23 Mar 2016 11:23:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49787 invoked by uid 500); 23 Mar 2016 11:23:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49777 invoked by uid 99); 23 Mar 2016 11:23:10 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 11:23:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id CA84DC1B70
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:23:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.401
X-Spam-Level:
X-Spam-Status: No, score=-0.401 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, MIME_QP_LONG_LINE=0.001, RCVD_IN_DNSWL_MED=-2.3,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 9hMHBpnMwZSr for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 11:23:08 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id 1C9925F480
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:23:07 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1458732172;
	bh=5WIQNWFi8ZyAerpLkGZj2uGDbF2toCQhOPEReuiGpTk=;
	h=From:To:Subject:Date;
	b=fkSvYPaXBUHxLKjaxhSM49j1UdySMNhf48XrJeKZAW2cdkHhbCgk39qSuF8Rnw0sV
	 H5Qf3g7gD2v2T0QrK3vL8tmzm5kwM05vzSk5IYcWdwjtpZ6Px4ju3XRqnYkndXQPd1
	 PFU1ckxZPFFzSwsX2PPwHJGUWtq3BnFli81q3ey4=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: Re: Status for 2.4.20
Date: Wed, 23 Mar 2016 12:22:46 +0100
Message-ID: <56f27c86.c6c.1338.241b@land10.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="----=_SW_6327_1458732166_mpa="
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client

This is a multi-part message in MIME format.

------=_SW_6327_1458732166_mpa=
Content-Type: text/plain; charset=us-ascii; format=flowed


Just did a export;

Diff with the vote 2.4.19 one:

branches/2.4.x/modules/cache/mod_socache_shmcb.c
branches/2.4.x/modules/http2/h2_filter.c
branches/2.4.x/modules/http2/mod_http2.dsp

For remove mod_lbmethod-rr:
branches/2.4.x/Makefile.win
branches/2.4.x/Readme.cmake
branches/2.4.x/Apache.dsw
branches/2.4.x/Apache-apr2.dsw

And a bunch of .dep and mak files added




On Wednesday 23/03/2016 at 11:56, Jim Jagielski  wrote:
> Let's see: I recalled the vote for 2.4.19 because of a
> single issue, basically related to a missing few lines in
> a file which prevented building on Win. Nice, easy, simple
> fix.
>
> Now it appears that a slew of "fixes" related to Win have
> been applied which, according to some, makes the whole build-
> on-Win situation much much worse.
>
> Now I have no idea what the status of HEAD for 2.4 is and,
> as a result, we are delaying the T&R and eventual release of
> 2.4.19/20. All because a 4-line fix turned into a master-refactor
> at the last minute.
>
> I am tempted to revert 2.4 back...


------=_SW_6327_1458732166_mpa=
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html>
<head>
<style>
 .sw_message P{margin:0px;padding:0px;}
 .sw_message {FONT-SIZE: 12pt;FONT-FAMILY:Tahoma,Arial,Helvetica,sans-serif;background:white;}
 .sw_message blockquote{margin-left:5px;padding-left:5px;border-left:2px solid #144fae;color: #144fae;}
 .sw_message blockquote blockquote{border-left:2px solid #006312;color: #006312;}
 .sw_message blockquote blockquote blockquote{border-left:2px solid #8e5656;color: #8e5656;}
 .sw_message blockquote blockquote blockquote blockquote{border-left:2px solid #888;color: #888;}
</style>
</head>
<body class=3d"sw_message">
<div>Just did a export;</div><div><br></div><div>Diff with the vote 2.4.19 o=
ne:</div><div><br></div><div>branches/2.4.x/modules/cache/mod_socache_shmcb.=
c</div><div>branches/2.4.x/modules/http2/h2_filter.c</div><div>branches/2.4.=
x/modules/http2/mod_http2.dsp</div><div><br></div><div>For remove mod_lbmeth=
od-rr:</div><div>branches/2.4.x/Makefile.win</div><div>branches/2.4.x/Readme=
.cmake</div><div>branches/2.4.x/Apache.dsw</div><div>branches/2.4.x/Apache-a=
pr2.dsw</div><div><br></div><div>And a bunch of .dep and mak files added</di=
v><div><br></div><div><br></div><div><br></div><div id=3d"editor_signature">=
</div><div>On Wednesday 23/03/2016 at 11:56, Jim Jagielski  wrote: </div><bl=
ockquote type=3d"cite">Let's see: I recalled the vote for 2.4.19 because of =
a<br>single issue, basically related to a missing few lines in<br>a file whi=
ch prevented building on Win. Nice, easy, simple<br>fix.<br><br>Now it appea=
rs that a slew of "fixes" related to Win have<br>been applied which, accordi=
ng to some, makes the whole build-<br>on-Win situation much much worse.<br><=
br>Now I have no idea what the status of HEAD for 2.4 is and,<br>as a result=
, we are delaying the T&amp;R and eventual release of<br>2.4.19/20. All beca=
use a 4-line fix turned into a master-refactor<br>at the last minute.<br><br=
>I am tempted to revert 2.4 back...<br></blockquote><br> 
</body></html>

------=_SW_6327_1458732166_mpa=--


From dev-return-86029-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 11:27:08 2016
Return-Path: <dev-return-86029-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 44CD51862D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 11:27:08 +0000 (UTC)
Received: (qmail 69708 invoked by uid 500); 23 Mar 2016 11:27:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 69653 invoked by uid 500); 23 Mar 2016 11:27:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69643 invoked by uid 99); 23 Mar 2016 11:27:07 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 11:27:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5C79F18021C
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:27:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id GS6POlc3qqhZ for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 11:27:05 +0000 (UTC)
Received: from mail-qk0-f181.google.com (mail-qk0-f181.google.com [209.85.220.181])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id D7AD05F2ED
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:27:04 +0000 (UTC)
Received: by mail-qk0-f181.google.com with SMTP id p130so4261716qke.1
        for <dev@httpd.apache.org>; Wed, 23 Mar 2016 04:27:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=GQK8TVvrwY0WFhlkpTOdT+HezmgQZXutxNrx5fosLyw=;
        b=0Lt0DsvmnTSt56pTZ48CL0d9wE1XpYxA30RjyxmXKpRaI/EmXDEJQ9ZZzadwt51Al8
         8mkFK0lRD8Nwtt39UjxoelMVdFiVCZZDJ66usjt65viqFs/GS6pp4ypOZvvmBP7mghcu
         m9CkRf8d6b7nv+a4KQZNoUi4ELWkZW0r1pJyX+m6zg3bVOtHZ+87ydld6FIdCpMc9Vc1
         skViMGgiKmda8m9F4JYRvMqzYwfU4qDbF0+DNRb3PWMQoox3AcACfHGdZXdonp9WcDEO
         XQtRp91Fz5bks8h5B1EvCvj6e/wRPkoO0Sd3AYYOeIb82ui1MfAC9sZKNV2flJBFvj6c
         WWIQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=GQK8TVvrwY0WFhlkpTOdT+HezmgQZXutxNrx5fosLyw=;
        b=Zdok662AajDNDUZl8l+hb97x3ysQmnGsi7LAXy4ayeI1KaRE2UYOI3qrcEIzfbsGLa
         N6wNj9NDEJn/9hXBTfNbNYU1aNsmAsRQp5i5SZpY3C6sB8HLBbJ5CBvrqbrVxRwKRaNF
         1VKO0QtlwQfyFWyDrlOyryys262Od8mrGVUt4PrEhngKT2mCtdqt7zAE/0CRx2OID5fW
         R76RlalMqT3cS4UC7raK4uqS5JcJokPAh+KStwB3n4+6za73e/RObFXMZr1CNItDaZxH
         joh2RsJo7baZx7G0WV+P3XRmT94rEABBQGarr1WaJSdfzXSVlFo8qykS2IF2HPclnFfG
         2xmw==
X-Gm-Message-State: AD7BkJLKTxXkDIe3mitlZKhMG9AQAtfSs7oDYRHnJlNdig/vLIEJTNE9y3bdRDpu7EHfqJiTT3k9NSBpYjoUTw==
MIME-Version: 1.0
X-Received: by 10.55.200.215 with SMTP id t84mr2638997qkl.55.1458732423894;
 Wed, 23 Mar 2016 04:27:03 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Wed, 23 Mar 2016 04:27:03 -0700 (PDT)
In-Reply-To: <56f27c86.c6c.1338.241b@land10.nl>
References: <56f27c86.c6c.1338.241b@land10.nl>
Date: Wed, 23 Mar 2016 12:27:03 +0100
Message-ID: <CAKQ1sVPu7x30da+nas2vGb2aeirwk5XfgGOpD_G7depgBjtuqA@mail.gmail.com>
Subject: Re: Status for 2.4.20
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 23, 2016 at 12:22 PM, Steffen <info@apachelounge.com> wrote:
> Just did a export;
>
> Diff with the vote 2.4.19 one:
>
> branches/2.4.x/modules/cache/mod_socache_shmcb.c
> branches/2.4.x/modules/http2/h2_filter.c
> branches/2.4.x/modules/http2/mod_http2.dsp
>
> For remove mod_lbmethod-rr:
> branches/2.4.x/Makefile.win
> branches/2.4.x/Readme.cmake
> branches/2.4.x/Apache.dsw
> branches/2.4.x/Apache-apr2.dsw
>
> And a bunch of .dep and mak files added

Yes, so did it break (or fix) the Windows build?

Thanks,
Yann.

From dev-return-86030-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 11:28:53 2016
Return-Path: <dev-return-86030-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 708C118647
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 11:28:53 +0000 (UTC)
Received: (qmail 76303 invoked by uid 500); 23 Mar 2016 11:28:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76229 invoked by uid 500); 23 Mar 2016 11:28:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76219 invoked by uid 99); 23 Mar 2016 11:28:52 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 11:28:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 825C61A481F
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:28:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.401
X-Spam-Level:
X-Spam-Status: No, score=-0.401 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, MIME_QP_LONG_LINE=0.001, RCVD_IN_DNSWL_MED=-2.3,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id fT3nS6cUlxFf for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 11:28:50 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id 004735F19A
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:28:49 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1458732514;
	bh=W29T5IYUgRAdbYtZVvIF8gSX637wTc4IFNtOjnUtiqk=;
	h=From:To:Subject:Date;
	b=j3Hb2CZtX2dIwm589qjflslUK5RZw6BTfQKi/kzwz3ufnYA4hgQPTur50XVCViOwX
	 fx2XBkzxit6v9yr6oxt/LvRaXqD1A4atbIA6/D+75JPl9cxdDqlz/LYegMypqxJBbx
	 A+k7IjtOXotaQmocSbS58o0TEItBR/9Y3gZdTa9Y=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: Re: 2.4.20 Change dsp: Win32-specific build files.
Date: Wed, 23 Mar 2016 12:28:33 +0100
Message-ID: <56f27de1.c6c.1d70.1883@land10.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="----=_SW_16003_1458732513_mpa="
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client

This is a multi-part message in MIME format.

------=_SW_16003_1458732513_mpa=
Content-Type: text/plain; charset=us-ascii; format=flowed


Indeed wrowe did not change any .dsp files. and the changes from wrowe 
does not break a .dsp build.

My attention was just the statement of wrowe that .dsp files are not 
usable, which is not true.




On Wednesday 23/03/2016 at 12:20, Yann Ylavic  wrote:
> On Wed, Mar 23, 2016 at 11:18 AM, Jan Ehrhardt <phpdev@ehrhardt.nl> 
> wrote:
>>
>> Steffen in gmane.comp.apache.devel (Wed, 23 Mar 2016 09:15:45 +0100):
>>>
>>> Saw that wrowe did a change win make files in 2.4. branche.
>>>
>>> The comment says the the .dsp files are entirely ! unusable.
>>>
>>> I can tell that they are entirely usable with V9-VC14.   What was the 
>>> issue ?
>>
>> I agree with Steffen. This week I have built httpd 2.4.19 (VC9 / VC11 
>> /
>> VC14 & x86 / x64) using the .dsp files. I even commented that the
>> http2.dsp was missing a line. They are the easiest way to build httpd 
>> on
>> Windows.
>
> Does building 2.4.x from the .dsp files still work or not?
>
> AIUI (but my understanding of Windows is quite limited), Bill did not
> change any dsp file (but removing mod_lbmethod_rr which did not work),
> he "just" added some .mak and .dep files.
> Why would that break dsp files?


------=_SW_16003_1458732513_mpa=
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html>
<head>
<style>
 .sw_message P{margin:0px;padding:0px;}
 .sw_message {FONT-SIZE: 12pt;FONT-FAMILY:Tahoma,Arial,Helvetica,sans-serif;background:white;}
 .sw_message blockquote{margin-left:5px;padding-left:5px;border-left:2px solid #144fae;color: #144fae;}
 .sw_message blockquote blockquote{border-left:2px solid #006312;color: #006312;}
 .sw_message blockquote blockquote blockquote{border-left:2px solid #8e5656;color: #8e5656;}
 .sw_message blockquote blockquote blockquote blockquote{border-left:2px solid #888;color: #888;}
</style>
</head>
<body class=3d"sw_message">
<div>Indeed wrowe did not change any .dsp files. and the changes from wrowe =
does not break a .dsp build.</div><div><br></div><div>My attention was just =
the statement of wrowe that .dsp files are not usable, which is not true.</d=
iv><div><br></div><div><br></div><div>&nbsp;</div><div id=3d"editor_signatur=
e"></div><div>On Wednesday 23/03/2016 at 12:20, Yann Ylavic  wrote: </div><b=
lockquote type=3d"cite">On Wed, Mar 23, 2016 at 11:18 AM, Jan Ehrhardt &lt;p=
hpdev@ehrhardt.nl&gt; wrote:<br><blockquote type=3d"cite"> Steffen in gmane.=
comp.apache.devel (Wed, 23 Mar 2016 09:15:45 +0100):<br><blockquote type=3d"=
cite">Saw that wrowe did a change win make files in 2.4. branche.<br><br>The=
 comment says the the .dsp files are entirely ! unusable.<br><br>I can tell =
that they are entirely usable with V9-VC14.   What was the issue ?<br></bloc=
kquote><br> I agree with Steffen. This week I have built httpd 2.4.19 (VC9 /=
 VC11 /<br> VC14 &amp; x86 / x64) using the .dsp files. I even commented tha=
t the<br> http2.dsp was missing a line. They are the easiest way to build ht=
tpd on<br> Windows.<br></blockquote><br>Does building 2.4.x from the .dsp fi=
les still work or not?<br><br>AIUI (but my understanding of Windows is quite=
 limited), Bill did not<br>change any dsp file (but removing mod_lbmethod_rr=
 which did not work),<br>he "just" added some .mak and .dep files.<br>Why wo=
uld that break dsp files?<br></blockquote><br> 
</body></html>

------=_SW_16003_1458732513_mpa=--


From dev-return-86031-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 11:30:49 2016
Return-Path: <dev-return-86031-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 691E818658
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 11:30:49 +0000 (UTC)
Received: (qmail 81549 invoked by uid 500); 23 Mar 2016 11:30:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 81474 invoked by uid 500); 23 Mar 2016 11:30:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 81458 invoked by uid 99); 23 Mar 2016 11:30:48 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 11:30:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 045DC18021C
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:30:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id LSn3-MAmXnMC for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 11:30:46 +0000 (UTC)
Received: from mail-qk0-f181.google.com (mail-qk0-f181.google.com [209.85.220.181])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id CBB405F247
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:30:45 +0000 (UTC)
Received: by mail-qk0-f181.google.com with SMTP id s5so4295470qkd.0
        for <dev@httpd.apache.org>; Wed, 23 Mar 2016 04:30:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=3dXGXVbtwG3nwkvFgkgDcVce60f9Dh+Gl23L17ATXk0=;
        b=CIsyyTZKW7jN8Oi3j3nLtDC+GibEijHNAVEEpckAhpc9Gcymxpv9vouqRapTcWBT+b
         Ra7zF4pLHusMJZuFnNRCJrIhWJ8BWVHQqvYmeHlo7f+37CFGX+3Vp8elckZwjgEYvhEU
         hvjB0YDBKWCt+ZnLnDvRBEWgFBLHcIx33hp3hI92xC5Kgddi9GBZHM/QeIpTtiD6/gTg
         CKuYlkIJRNRmeEb0VeC7QnvR7ob1FzukZB2vcjBt4iZc05TqRl2a1FMoJ6MI9faAEcgT
         /5FMgkgHF3o24fp0KgzbyYFltf2NpsNu0TNcU4dKHTy7bR1bNFKWAsaKBSaiDoN1BMLE
         F1xw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=3dXGXVbtwG3nwkvFgkgDcVce60f9Dh+Gl23L17ATXk0=;
        b=URzfX9wzHaYSQYwAn7/rRIR7BvoflJnT3aLfHWelx5Q2MiSGB22TqazrjvutwFTYhC
         Z0nlG0DKXMXJWJIwKF1Nx8ut9etybgiGH07CKuLXUHke+TBbVqW3k7sds7QAfpmrXyeh
         C4sMn8KGk8Ha8UePcYzOtYZsFy23lv2z+8s18Mn36q0kUKIIbo9i8e1uzo7yAE05knY/
         P1XqYYHpEw9Eqo5R6sJ+BLnJvXwJqlUCwOrKTY/yZsgyGISbbYXFXSrr8AKYOPL4mXKX
         Ls2Zis8K5O5fknSLi1rEUiA/SyMIzP3L/wxI3Ys1rBWIzP27w4AclBHmaeApcY9cLxAv
         aEDg==
X-Gm-Message-State: AD7BkJK4fyEpvaHECAqM1OtVpTROT37bRGsRwkzDxe592bWaBpfJu17FWlwIDzYtCrqC3/svg7yui5V1Tl2j1w==
MIME-Version: 1.0
X-Received: by 10.55.75.203 with SMTP id y194mr2693060qka.2.1458732639572;
 Wed, 23 Mar 2016 04:30:39 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Wed, 23 Mar 2016 04:30:39 -0700 (PDT)
In-Reply-To: <56f27de1.c6c.1d70.1883@land10.nl>
References: <56f27de1.c6c.1d70.1883@land10.nl>
Date: Wed, 23 Mar 2016 12:30:39 +0100
Message-ID: <CAKQ1sVPQq4J9tw5v04MQug_5KDL=QNLubriMgM_tNQ0010mY0w@mail.gmail.com>
Subject: Re: 2.4.20 Change dsp: Win32-specific build files.
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

OK, thanks for clarifying Steffen.

On Wed, Mar 23, 2016 at 12:28 PM, Steffen <info@apachelounge.com> wrote:
> Indeed wrowe did not change any .dsp files. and the changes from wrowe does
> not break a .dsp build.
>
> My attention was just the statement of wrowe that .dsp files are not usable,
> which is not true.
>
>
>
> On Wednesday 23/03/2016 at 12:20, Yann Ylavic wrote:
>
> On Wed, Mar 23, 2016 at 11:18 AM, Jan Ehrhardt <phpdev@ehrhardt.nl> wrote:
>
> Steffen in gmane.comp.apache.devel (Wed, 23 Mar 2016 09:15:45 +0100):
>
> Saw that wrowe did a change win make files in 2.4. branche.
>
> The comment says the the .dsp files are entirely ! unusable.
>
> I can tell that they are entirely usable with V9-VC14. What was the issue ?
>
>
> I agree with Steffen. This week I have built httpd 2.4.19 (VC9 / VC11 /
> VC14 & x86 / x64) using the .dsp files. I even commented that the
> http2.dsp was missing a line. They are the easiest way to build httpd on
> Windows.
>
>
> Does building 2.4.x from the .dsp files still work or not?
>
> AIUI (but my understanding of Windows is quite limited), Bill did not
> change any dsp file (but removing mod_lbmethod_rr which did not work),
> he "just" added some .mak and .dep files.
> Why would that break dsp files?
>
>

From dev-return-86032-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 11:36:42 2016
Return-Path: <dev-return-86032-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6947F18699
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 11:36:42 +0000 (UTC)
Received: (qmail 95417 invoked by uid 500); 23 Mar 2016 11:36:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95342 invoked by uid 500); 23 Mar 2016 11:36:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95326 invoked by uid 99); 23 Mar 2016 11:36:41 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 11:36:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 0884AC0217
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:36:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id bsVsiQak-CKX for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 11:36:39 +0000 (UTC)
Received: from resqmta-po-09v.sys.comcast.net (resqmta-po-09v.sys.comcast.net [96.114.154.168])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id BB5315F3F1
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:36:38 +0000 (UTC)
Received: from resomta-po-18v.sys.comcast.net ([96.114.154.242])
	by resqmta-po-09v.sys.comcast.net with comcast
	id ZPcd1s0025E3ZMc01PcdJs; Wed, 23 Mar 2016 11:36:37 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-18v.sys.comcast.net with comcast
	id ZPcc1s0072U0RYt01PccNx; Wed, 23 Mar 2016 11:36:37 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.3 \(3124\))
Subject: Re: 2.4.20 Change dsp: Win32-specific build files.
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56f27de1.c6c.1d70.1883@land10.nl>
Date: Wed, 23 Mar 2016 07:36:36 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <201B16DA-B98E-46F9-9EE6-2C479BE3FEAC@jaguNET.com>
References: <56f27de1.c6c.1d70.1883@land10.nl>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3124)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458732997;
	bh=LGbpsHl7N91Ci1RdMeaA/ZCuJtHK54QXrBjlBsA0u7s=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=deoXvRJsd/encYWDJQhXayD5N2Wb6cSZkycWS16MhF9cU5gMygfg41/zJdXIbfIpZ
	 lEqmkfptmau0HnnrUJdHpFI/FDkTBBj39fquH1rG44w9g4Fh7TL5n5w+6F5S67AuyG
	 JO1aAUT/lrY2oHEMi3+L6aGJWZxasAhiDgoCegJVIIxMu7uedaSY+SiCLbC/QHNOwQ
	 iT9EnwRumWRyQHZ7AJuYGRgVsqaB5jpx43RcSiuaHu4p55uZdmKZu1i6WO+EGvhD1r
	 vYRvAUGBSO2uuSE27LavtjyiHR9vOF71aFllLu0hNHUmupe61lVT4LRey/eeEHvYoe
	 vItGbd/rKMguQ==

Can you do a quick check that HEAD of 2.4 builds for you?

THX!!

> On Mar 23, 2016, at 7:28 AM, Steffen <info@apachelounge.com> wrote:
>=20
> Indeed wrowe did not change any .dsp files. and the changes from wrowe =
does not break a .dsp build.
>=20
> My attention was just the statement of wrowe that .dsp files are not =
usable, which is not true.
>=20
>=20
> =20
> On Wednesday 23/03/2016 at 12:20, Yann Ylavic wrote:=20
>> On Wed, Mar 23, 2016 at 11:18 AM, Jan Ehrhardt <phpdev@ehrhardt.nl> =
wrote:
>>> Steffen in gmane.comp.apache.devel (Wed, 23 Mar 2016 09:15:45 =
+0100):
>>>> Saw that wrowe did a change win make files in 2.4. branche.
>>>>=20
>>>> The comment says the the .dsp files are entirely ! unusable.
>>>>=20
>>>> I can tell that they are entirely usable with V9-VC14. What was the =
issue ?
>>>=20
>>> I agree with Steffen. This week I have built httpd 2.4.19 (VC9 / =
VC11 /
>>> VC14 & x86 / x64) using the .dsp files. I even commented that the
>>> http2.dsp was missing a line. They are the easiest way to build =
httpd on
>>> Windows.
>>=20
>> Does building 2.4.x from the .dsp files still work or not?
>>=20
>> AIUI (but my understanding of Windows is quite limited), Bill did not
>> change any dsp file (but removing mod_lbmethod_rr which did not =
work),
>> he "just" added some .mak and .dep files.
>> Why would that break dsp files?
>=20
>=20


From dev-return-86033-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 11:40:10 2016
Return-Path: <dev-return-86033-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5C7E2186A8
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 11:40:10 +0000 (UTC)
Received: (qmail 99501 invoked by uid 500); 23 Mar 2016 11:40:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99430 invoked by uid 500); 23 Mar 2016 11:40:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99420 invoked by uid 99); 23 Mar 2016 11:40:09 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 11:40:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 726281A480D
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:40:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.401
X-Spam-Level:
X-Spam-Status: No, score=-0.401 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, MIME_QP_LONG_LINE=0.001, RCVD_IN_DNSWL_MED=-2.3,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id RgrTcehGIGDL for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 11:40:07 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id 4880A5F1B8
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:40:07 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1458733191;
	bh=zuD5cno1hM/rcBo3MV1427eJh5rQMNy84cdGxene0ng=;
	h=From:To:Subject:Date;
	b=TSJj3WXNMxSyk6gJ6X6w3JLdQKtzuxsdZpZvVio90AyhTC1y4PMbcoNddtuStK7M/
	 WfNnuDlOtVQOeCYwviT7pSzbjTdtwsvrdHGc6IaNq4jWwGLwG0i9184Jl8Xhcsy2In
	 a6td45gn1uTTSdWfnqlFuS20HLphtx/cNVG2MDqc=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: Re: 2.4.20 Change dsp: Win32-specific build files.
Date: Wed, 23 Mar 2016 12:39:50 +0100
Message-ID: <56f28086.c6c.580.1708@land10.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="----=_SW_30970_1458733190_mpa="
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client

This is a multi-part message in MIME format.

------=_SW_30970_1458733190_mpa=
Content-Type: text/plain; charset=us-ascii; format=flowed


Sure I like to do, but sorry I am out of town, to morrow morning (my 
time) I can build.

Maybe Jan E and/or Gregg can give it a .dsp try.

When I look to the changes, it should build.




On Wednesday 23/03/2016 at 12:36, Jim Jagielski  wrote:
> Can you do a quick check that HEAD of 2.4 builds for you?
>
> THX!!
>
>>
>> On Mar 23, 2016, at 7:28 AM, Steffen <info@apachelounge.com> wrote:
>>
>> Indeed wrowe did not change any .dsp files. and the changes from wrowe 
>> does not break a .dsp build.
>>
>> My attention was just the statement of wrowe that .dsp files are not 
>> usable, which is not true.
>>
>>
>>
>> On Wednesday 23/03/2016 at 12:20, Yann Ylavic wrote:
>>>
>>> On Wed, Mar 23, 2016 at 11:18 AM, Jan Ehrhardt <phpdev@ehrhardt.nl> 
>>> wrote:
>>>>
>>>> Steffen in gmane.comp.apache.devel (Wed, 23 Mar 2016 09:15:45 +0100):
>>>>>
>>>>> Saw that wrowe did a change win make files in 2.4. branche.
>>>>>
>>>>> The comment says the the .dsp files are entirely ! unusable.
>>>>>
>>>>> I can tell that they are entirely usable with V9-VC14. What was the 
>>>>> issue ?
>>>>
>>>> I agree with Steffen. This week I have built httpd 2.4.19 (VC9 / VC11 
>>>> /
>>>> VC14 & x86 / x64) using the .dsp files. I even commented that the
>>>> http2.dsp was missing a line. They are the easiest way to build httpd 
>>>> on
>>>> Windows.
>>>
>>> Does building 2.4.x from the .dsp files still work or not?
>>>
>>> AIUI (but my understanding of Windows is quite limited), Bill did not
>>> change any dsp file (but removing mod_lbmethod_rr which did not work),
>>> he "just" added some .mak and .dep files.
>>> Why would that break dsp files?
>>
>>
>


------=_SW_30970_1458733190_mpa=
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html>
<head>
<style>
 .sw_message P{margin:0px;padding:0px;}
 .sw_message {FONT-SIZE: 12pt;FONT-FAMILY:Tahoma,Arial,Helvetica,sans-serif;background:white;}
 .sw_message blockquote{margin-left:5px;padding-left:5px;border-left:2px solid #144fae;color: #144fae;}
 .sw_message blockquote blockquote{border-left:2px solid #006312;color: #006312;}
 .sw_message blockquote blockquote blockquote{border-left:2px solid #8e5656;color: #8e5656;}
 .sw_message blockquote blockquote blockquote blockquote{border-left:2px solid #888;color: #888;}
</style>
</head>
<body class=3d"sw_message">
<div>Sure I like to do, but sorry I am out of town, to morrow morning (my ti=
me) I can build.</div><div><br></div><div>Maybe Jan E and/or Gregg can give =
it a .dsp try.</div><div><br></div><div>When I look to the changes, it shoul=
d build.</div><div><br></div><div><br></div><div>&nbsp;</div><div id=3d"edit=
or_signature"></div><div>On Wednesday 23/03/2016 at 12:36, Jim Jagielski  wr=
ote: </div><blockquote type=3d"cite">Can you do a quick check that HEAD of 2=
.4 builds for you?<br><br>THX!!<br><br><blockquote type=3d"cite"> On Mar 23,=
 2016, at 7:28 AM, Steffen &lt;info@apachelounge.com&gt; wrote:<br> <br> Ind=
eed wrowe did not change any .dsp files. and the changes from wrowe does not=
 break a .dsp build.<br> <br> My attention was just the statement of wrowe t=
hat .dsp files are not usable, which is not true.<br> <br> <br>&nbsp;&nbsp; =
 <br> On Wednesday 23/03/2016 at 12:20, Yann Ylavic wrote: <br><blockquote t=
ype=3d"cite"> On Wed, Mar 23, 2016 at 11:18 AM, Jan Ehrhardt &lt;phpdev@ehrh=
ardt.nl&gt; wrote:<br><blockquote type=3d"cite"> Steffen in gmane.comp.apach=
e.devel (Wed, 23 Mar 2016 09:15:45 +0100):<br><blockquote type=3d"cite"> Saw=
 that wrowe did a change win make files in 2.4. branche.<br> <br> The commen=
t says the the .dsp files are entirely ! unusable.<br> <br> I can tell that =
they are entirely usable with V9-VC14. What was the issue ?<br></blockquote>=
 <br> I agree with Steffen. This week I have built httpd 2.4.19 (VC9 / VC11 =
/<br> VC14 &amp; x86 / x64) using the .dsp files. I even commented that the<=
br> http2.dsp was missing a line. They are the easiest way to build httpd on=
<br> Windows.<br></blockquote> <br> Does building 2.4.x from the .dsp files =
still work or not?<br> <br> AIUI (but my understanding of Windows is quite l=
imited), Bill did not<br> change any dsp file (but removing mod_lbmethod_rr =
which did not work),<br> he "just" added some .mak and .dep files.<br> Why w=
ould that break dsp files?<br></blockquote> <br> <br></blockquote><br></bloc=
kquote><br>
</body></html>

------=_SW_30970_1458733190_mpa=--


From dev-return-86034-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 11:51:09 2016
Return-Path: <dev-return-86034-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CD599186FD
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 11:51:09 +0000 (UTC)
Received: (qmail 23246 invoked by uid 500); 23 Mar 2016 11:51:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23167 invoked by uid 500); 23 Mar 2016 11:51:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23157 invoked by uid 99); 23 Mar 2016 11:51:08 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 11:51:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 2E3721A4786
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:51:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.561
X-Spam-Level: **
X-Spam-Status: No, score=2.561 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_BL=0.01, RCVD_IN_MSPIKE_L3=1.899, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id otumruzXqRSy for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 11:51:06 +0000 (UTC)
Received: from resqmta-po-02v.sys.comcast.net (resqmta-po-02v.sys.comcast.net [96.114.154.161])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 23E645FB0B
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:51:04 +0000 (UTC)
Received: from resomta-po-15v.sys.comcast.net ([96.114.154.239])
	by comcast with SMTP
	id ihJUaY4Vz4E0HihJXaZFvf; Wed, 23 Mar 2016 11:51:03 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458733863;
	bh=Z8lmHnYcUv3FO2Czy3ScUp6bXajapNXOdbz3rt0WM6A=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=mA75huHCS6Sm8f55PVLd5OKX/to1Lk7KwFU8pkOVrKiht+K0xYVANF9fAiPe6HHbJ
	 97so0W/qZgNRyiAqfsdVRGa6jOsKfYKyve7C1yYbYOF6We0zHI/V1iZGRIAHMinwyE
	 T1+BP5KDjGOndn0hosW8rCXlut6NaTJXaBIWSdx4endR5sz2+HeYUwVaymDqjQ69St
	 tcPGZRywte0MHnTbbfkfIbHJ7aFpwNJQb4afEphNXbqnBPJE+QjfWgxySBdBhU4dQC
	 ertX6RpzFX4BPw7bVMsx7TFlwRzDnZrgngBk2/q9GiVrAx7mLy+JeLY8v0qzB1gdAv
	 IGDvhtGc+CMxw==
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-15v.sys.comcast.net with comcast
	id ZPr21s0082U0RYt01Pr36U; Wed, 23 Mar 2016 11:51:03 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.3 \(3124\))
Subject: Re: 2.4.20 Change dsp: Win32-specific build files.
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56f28086.c6c.580.1708@land10.nl>
Date: Wed, 23 Mar 2016 07:51:02 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <A48743E8-7C0E-4105-93B7-91C5F82B89B1@jaguNET.com>
References: <56f28086.c6c.580.1708@land10.nl>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3124)

Thx... I would like to T&R today if possible, because I was hoping
for a release by the end of this week, but I also don't want to
have to punt 2.4.20 as well, so we should wait.

> On Mar 23, 2016, at 7:39 AM, Steffen <info@apachelounge.com> wrote:
>=20
> Sure I like to do, but sorry I am out of town, to morrow morning (my =
time) I can build.
>=20
> Maybe Jan E and/or Gregg can give it a .dsp try.
>=20
> When I look to the changes, it should build.
>=20
>=20
> =20
> On Wednesday 23/03/2016 at 12:36, Jim Jagielski wrote:=20
>> Can you do a quick check that HEAD of 2.4 builds for you?
>>=20
>> THX!!
>>=20
>>> On Mar 23, 2016, at 7:28 AM, Steffen <info@apachelounge.com> wrote:
>>>=20
>>> Indeed wrowe did not change any .dsp files. and the changes from =
wrowe does not break a .dsp build.
>>>=20
>>> My attention was just the statement of wrowe that .dsp files are not =
usable, which is not true.
>>>=20
>>>=20
>>>    =20
>>> On Wednesday 23/03/2016 at 12:20, Yann Ylavic wrote:=20
>>>> On Wed, Mar 23, 2016 at 11:18 AM, Jan Ehrhardt <phpdev@ehrhardt.nl> =
wrote:
>>>>> Steffen in gmane.comp.apache.devel (Wed, 23 Mar 2016 09:15:45 =
+0100):
>>>>>> Saw that wrowe did a change win make files in 2.4. branche.
>>>>>>=20
>>>>>> The comment says the the .dsp files are entirely ! unusable.
>>>>>>=20
>>>>>> I can tell that they are entirely usable with V9-VC14. What was =
the issue ?
>>>>>=20
>>>>> I agree with Steffen. This week I have built httpd 2.4.19 (VC9 / =
VC11 /
>>>>> VC14 & x86 / x64) using the .dsp files. I even commented that the
>>>>> http2.dsp was missing a line. They are the easiest way to build =
httpd on
>>>>> Windows.
>>>>=20
>>>> Does building 2.4.x from the .dsp files still work or not?
>>>>=20
>>>> AIUI (but my understanding of Windows is quite limited), Bill did =
not
>>>> change any dsp file (but removing mod_lbmethod_rr which did not =
work),
>>>> he "just" added some .mak and .dep files.
>>>> Why would that break dsp files?
>>>=20
>>>=20
>>=20
>=20
>=20


From dev-return-86035-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 11:58:32 2016
Return-Path: <dev-return-86035-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EF1351873C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 11:58:31 +0000 (UTC)
Received: (qmail 35362 invoked by uid 500); 23 Mar 2016 11:58:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35291 invoked by uid 500); 23 Mar 2016 11:58:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35281 invoked by uid 99); 23 Mar 2016 11:58:31 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 11:58:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C214418046D
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:58:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.301
X-Spam-Level:
X-Spam-Status: No, score=-2.301 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.001,
	SPF_PASS=-0.001, UNPARSEABLE_RELAY=0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id US2h0qCZKs_X for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 11:58:29 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [27.33.160.23])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 819965FAEA
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:58:27 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [10.10.0.10])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.ausics.net (Postfix) with ESMTPSA id A6970C0E0E8
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 21:58:18 +1000 (AEST)
Received: from tgaWlOIBmpYWz2Jvqy71rbMkNJ/7XuaKRi3H0JV4uRU=
 (dkVJx8T7ZRFRHoBXCcu4C1HiuBqAQVuo)
 by mail.ausics.net
 with HTTP (HTTP/1.1 POST); Wed, 23 Mar 2016 21:58:18 +1000
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII;
 format=flowed
Content-Transfer-Encoding: 7bit
Date: Wed, 23 Mar 2016 21:58:18 +1000
From: Noel Butler <noel.butler@ausics.net>
To: dev@httpd.apache.org
Subject: Re: Status for 2.4.20
In-Reply-To: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
Message-ID: <a69dde274c77a821df47d9a148b6b663@ausics.net>
X-Sender: noel.butler@ausics.net
User-Agent: Roundcube Webmail

On 23/03/2016 20:56, Jim Jagielski wrote:
> Let's see: I recalled the vote for 2.4.19 because of a
> single issue, basically related to a missing few lines in
> a file which prevented building on Win. Nice, easy, simple
> fix.
> 
> Now it appears that a slew of "fixes" related to Win have
> been applied which, according to some, makes the whole build-
> on-Win situation much much worse.
> 
> Now I have no idea what the status of HEAD for 2.4 is and,
> as a result, we are delaying the T&R and eventual release of
> 2.4.19/20. All because a 4-line fix turned into a master-refactor
> at the last minute.
> 
> I am tempted to revert 2.4 back...


as stated previously, this shit will happen when certain people push 
with a release often mentality

AFAIK there is *ZERO* critical exploit bugs to be patched by any pending 
release, so lets get house in order  S T A B L E , then worry about 
releases, jesus christ, we are not ubuntu or redhat with set programs to 
release every 3 or 6 months regardless if shit is ready or not.....


flame away... IDGAF

-- 
If you have the urge to reply to all rather than reply to list, you best
first read  http://members.ausics.net/qwerty/

From dev-return-86036-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 12:27:46 2016
Return-Path: <dev-return-86036-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1D1D2188AF
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 12:27:46 +0000 (UTC)
Received: (qmail 35518 invoked by uid 500); 23 Mar 2016 12:27:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35445 invoked by uid 500); 23 Mar 2016 12:27:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35435 invoked by uid 99); 23 Mar 2016 12:27:45 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 12:27:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 668E9C7720
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 12:27:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.663
X-Spam-Level:
X-Spam-Status: No, score=0.663 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_BL=0.01, RCVD_IN_MSPIKE_L4=0.001, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id a08ePh3HBH0w for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 12:27:42 +0000 (UTC)
Received: from resqmta-po-04v.sys.comcast.net (resqmta-po-04v.sys.comcast.net [96.114.154.163])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 11A185F250
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 12:27:42 +0000 (UTC)
Received: from resomta-po-02v.sys.comcast.net ([96.114.154.226])
	by resqmta-po-04v.sys.comcast.net with comcast
	id ZQTh1s0044tLnxL01QThL9; Wed, 23 Mar 2016 12:27:41 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-02v.sys.comcast.net with comcast
	id ZQTh1s0022U0RYt01QThjl; Wed, 23 Mar 2016 12:27:41 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.3 \(3124\))
Subject: Re: Status for 2.4.20
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <a69dde274c77a821df47d9a148b6b663@ausics.net>
Date: Wed, 23 Mar 2016 08:27:41 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <87176688-3929-4B96-9EE7-4AD643AD8644@jaguNET.com>
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com> <a69dde274c77a821df47d9a148b6b663@ausics.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3124)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458736061;
	bh=OCYmJH8QMViH9kd4+mQ1UFaSzwzdrEew3Qlvv9ifvA4=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=hUTFJRbNT3UrQx7dMfUEnQU/efbt2M36phxVsb24xR9XVvDzWIGGZafqB8Zwj6ek+
	 Cvti13z8Uf2K6PG+8RFvMhbyZEIRLksXmjh54tzutQurMqMocAkEOfS//ahatePBDi
	 nO7stcTiTT/ksRKclXtG/yTqK9/jHbaqgxDWqXm7neN3Yl7qJasZ8/vsyfhcJ6PSQV
	 VQWsYoKybzLFs82SNg4qBIn6g+WphO3iOi3BtRucNA4O8rv9cHeisKQzWoQc9bnY0+
	 LpPGvC9PNN9QY/sngbBgnF5kwe4T7OkXBfGu/WyJNDlMjwWnf2aIG+TLeGtl5QqLH4
	 S88TTCkDgi/Kg==


> On Mar 23, 2016, at 7:58 AM, Noel Butler <noel.butler@ausics.net> =
wrote:
>=20
> On 23/03/2016 20:56, Jim Jagielski wrote:
>> Let's see: I recalled the vote for 2.4.19 because of a
>> single issue, basically related to a missing few lines in
>> a file which prevented building on Win. Nice, easy, simple
>> fix.
>> Now it appears that a slew of "fixes" related to Win have
>> been applied which, according to some, makes the whole build-
>> on-Win situation much much worse.
>> Now I have no idea what the status of HEAD for 2.4 is and,
>> as a result, we are delaying the T&R and eventual release of
>> 2.4.19/20. All because a 4-line fix turned into a master-refactor
>> at the last minute.
>> I am tempted to revert 2.4 back...
>=20
>=20
> as stated previously, this shit will happen when certain people push =
with a release often mentality
>=20
> AFAIK there is *ZERO* critical exploit bugs to be patched by any =
pending release, so lets get house in order  S T A B L E , then worry =
about releases, jesus christ, we are not ubuntu or redhat with set =
programs to release every 3 or 6 months regardless if shit is ready or =
not.....
>=20
>=20
> flame away... IDGAF

I see your point and have no intent or desire to flame.

Release Often is hardly a Bad Thing, at least IMHO. When the
time is right for a release, then we release. It seemed a
good time, again IMHO.

My opinion that "this shit will happen" when, despite lots of
notice of intent to tag, and reminders to test, etc.. people
simply DON'T, wait for the test tarball, find breakage, and
then apply major restructure/refactor "at the last minute".

Sure, stuff that like occasionally will happen, and it is,
after all, why we create test tarballs and call for a vote.
But when it becomes the rule instead of the exception, then
we have an issue w/ the process and the workflow.

Frequent release, IMHO, are an indication of health and
project vitality. When Apache httpd is suffering from the
FUD of being old, slow, behind-the-times, lacking features
and capability, etc, I think showing our community that we
are actively working the code, adding features, fixing
bugs, making improvements, etc is a Good Thing.=

From dev-return-86037-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 12:35:55 2016
Return-Path: <dev-return-86037-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8DE5B1890A
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 12:35:55 +0000 (UTC)
Received: (qmail 59006 invoked by uid 500); 23 Mar 2016 12:35:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58932 invoked by uid 500); 23 Mar 2016 12:35:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58922 invoked by uid 99); 23 Mar 2016 12:35:54 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 12:35:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 72FDDC7757
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 12:35:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Fug8TYvxpCi8 for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 12:35:52 +0000 (UTC)
Received: from mail-oi0-f43.google.com (mail-oi0-f43.google.com [209.85.218.43])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id E1DD55F244
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 12:35:51 +0000 (UTC)
Received: by mail-oi0-f43.google.com with SMTP id d205so17419157oia.0
        for <dev@httpd.apache.org>; Wed, 23 Mar 2016 05:35:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=TLWBI0JSUp5ONBhvS9r51UwWAXLWmREvnZkTJpzlf6U=;
        b=c/9fVcCqeeyTgVw8K/kytNuCJz2uj2Q0EfIPVEOBrxDBlAhDbJ2P1CiW67FeQtCs/S
         KG7XAkY3IF3pn4QxjZB5M56zCEyellN9Kr0Ba2xiCqpGYFT8tBQ0NMroh3RfgeZZUQLR
         rimcFQfqQfjb9Ra/ttkJJlZKNX2KQP3hDqDOwb963bkTWV29gODHlwjX4rUZLkVeN10r
         Ym9zZOmjt5x5Ul0vJpZb5edyoHLDMgA1T459zmR6RHJKxXHrVfoaqqJgz3Nk5jfGOmNJ
         xW5dwmqDn0DoNv3JnzG0QiPlQ2qBF7StxZOtAu1vS6taBZO/43Drf5O9rwf72+l2xPu4
         zeuw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=TLWBI0JSUp5ONBhvS9r51UwWAXLWmREvnZkTJpzlf6U=;
        b=N7Wehn+LwTKcpp7zH2gSvMEL3dEB03ElqJ/VU7yZrSJj1mfORN/hhE5KaYT2ejPpgc
         sp0igbq90tOt1w70zlNYkymWvFRyeYVzZeSvFyGWYrONDfSLBjo3ZBEXF0IyunbOv2o5
         ye7SSufTdDIDsyZDHG8v3cBuZeEo8P7qpuoZc5D6HbQ/qScZTX+E4rUYXDnILC8fcHrS
         P72izpQpcWqwwJNYir4YSz5LjREvNjxW3sKFH/T4donjHzUv0XhncuL5ozh/ImC8ZgnL
         ehobsWeM3FWTV7vV881oHZc+y+BQkf5vemqVtzIzVXGnA12CTwHdhdEpvg2SI3qbwY9H
         1h4w==
X-Gm-Message-State: AD7BkJJxrYQRWd+Fnj8Z04CW0P0Kc8WExXUDjFGGqOlQGPHh5f5lLCnMmDbV2+6UJy+V0FwWwazTI7HgnmC34g==
MIME-Version: 1.0
X-Received: by 10.50.1.115 with SMTP id 19mr24877152igl.5.1458736538607; Wed,
 23 Mar 2016 05:35:38 -0700 (PDT)
Received: by 10.107.20.151 with HTTP; Wed, 23 Mar 2016 05:35:38 -0700 (PDT)
In-Reply-To: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
Date: Wed, 23 Mar 2016 08:35:38 -0400
Message-ID: <CAKUrXK7vJ9zaBOztngY=RcpX5Y0N8qpM8kwaNOczCzvUwnSCkg@mail.gmail.com>
Subject: Re: Status for 2.4.20
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7bdc110e3464bf052eb69115

--047d7bdc110e3464bf052eb69115
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 23, 2016 at 6:56 AM, Jim Jagielski <jim@jagunet.com> wrote:

> Let's see: I recalled the vote for 2.4.19 because of a
> single issue, basically related to a missing few lines in
> a file which prevented building on Win. Nice, easy, simple
> fix.
>
> Now it appears that a slew of "fixes" related to Win have
> been applied which, according to some, makes the whole build-
> on-Win situation much much worse.
>
> Now I have no idea what the status of HEAD for 2.4 is and,
> as a result, we are delaying the T&R and eventual release of
> 2.4.19/20. All because a 4-line fix turned into a master-refactor
> at the last minute.
>
>
Slightly off-topic: 2.4.x HEAD builds fine and serves pages with VS 2012
using the cmake build.  (I was initially sidetracked by the need for a
higher level of nghttp2 to fix their Win32 linkage problem in APIs we
didn't use last time I built on Windows, then by trunk build problems.)


I am tempted to revert 2.4 back...
>



-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--047d7bdc110e3464bf052eb69115
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On W=
ed, Mar 23, 2016 at 6:56 AM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=3D=
"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span> w=
rote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;borde=
r-left:1px #ccc solid;padding-left:1ex">Let&#39;s see: I recalled the vote =
for 2.4.19 because of a<br>
single issue, basically related to a missing few lines in<br>
a file which prevented building on Win. Nice, easy, simple<br>
fix.<br>
<br>
Now it appears that a slew of &quot;fixes&quot; related to Win have<br>
been applied which, according to some, makes the whole build-<br>
on-Win situation much much worse.<br>
<br>
Now I have no idea what the status of HEAD for 2.4 is and,<br>
as a result, we are delaying the T&amp;R and eventual release of<br>
2.4.19/20. All because a 4-line fix turned into a master-refactor<br>
at the last minute.<br>
<br></blockquote><div><br></div><div>Slightly off-topic: 2.4.x HEAD builds =
fine and serves pages with VS 2012 using the cmake build. =C2=A0(I was init=
ially sidetracked by the need for a higher level of nghttp2 to fix their Wi=
n32 linkage problem in APIs we didn&#39;t use last time I built on Windows,=
 then by trunk build problems.)</div><div><br></div><div><br></div><blockqu=
ote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc s=
olid;padding-left:1ex">
I am tempted to revert 2.4 back...<br>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--047d7bdc110e3464bf052eb69115--

From dev-return-86038-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 12:42:43 2016
Return-Path: <dev-return-86038-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CA70F1895A
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 12:42:43 +0000 (UTC)
Received: (qmail 76063 invoked by uid 500); 23 Mar 2016 12:42:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75979 invoked by uid 500); 23 Mar 2016 12:42:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75969 invoked by uid 99); 23 Mar 2016 12:42:38 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 12:42:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id DCB68180221
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 12:42:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id O1U1N3QCuAru for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 12:42:35 +0000 (UTC)
Received: from mail-io0-f182.google.com (mail-io0-f182.google.com [209.85.223.182])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 9EB815F250
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 12:42:35 +0000 (UTC)
Received: by mail-io0-f182.google.com with SMTP id v187so8838586ioe.2
        for <dev@httpd.apache.org>; Wed, 23 Mar 2016 05:42:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=VGGVB4NdplSHN8TTBFVfQIA25BDRpgZnKW6au6zmt9E=;
        b=0uq5pJEMpmZfaT0evO2rZUamUzo8Fx+COV237If0E3/TSHj9JPvsPQeHuH3KJjmTn4
         a3FuFgk0SACMTQjpIr9VyuAfT6SeHfjWeTaRj23sLsDCq6J9gX5rRih/mS04iaR/TtVP
         y9/Vpbt4Sxx/XbrwKLg9v9esBPGmGkcOW5dXsSs0Hyspy46aqIZRbIFbf/v6CWHghgGn
         UYJXfaYxmpfaic4Xlpx6ySCGI7B2aMedxkUHMs8GPQDZcY37GVMpl4uH/pANkYQjjLJF
         6ZYNnkma8Daztc8s17yF1pXo4AGblTOo+oQuMBAgx/Zv+82xpaRx5GFGzgA3tvX98TVO
         8TDg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=VGGVB4NdplSHN8TTBFVfQIA25BDRpgZnKW6au6zmt9E=;
        b=BYugniyqozRgIkoMJpa/EJDZMojOv8hCILtK+lQBa30FFRZYmQvwnqcvCxsP0iYdVh
         BznyGqMpn8Uvc9eaTDZ/qKc07Lx1UXWTJfuK9Ijhey22mOXABu7f0hM4WvbC2ESU0gln
         ESjgvlbV7GivMsHHUlfjhEqGtZCt6pCmhV4bIrw4PvVqG6S9m1y9JXorARMkJIR/QPg5
         TACAla2p/N1Klglemyg80wdg9xhjIdbsoppzHRaOnQKi4f7EiIRyNBC/A2iZp9d1ZziX
         dFm5ik/49erht/SchTWpi/RnKh/V5bVj+rbPLHCPK19ik0SUjNRnd3iWDHu4G2283BpO
         G8Qg==
X-Gm-Message-State: AD7BkJIywWbhRjgeZLVwxsJlVfWQCCS2z1+qYXn2OeuO4fGTDyTKRwc7XYvokT1c7DGPxel6mE8XdsD3Ysb0eQqf
MIME-Version: 1.0
X-Received: by 10.107.14.66 with SMTP id 63mr3514843ioo.150.1458736948395;
 Wed, 23 Mar 2016 05:42:28 -0700 (PDT)
Received: by 10.107.149.12 with HTTP; Wed, 23 Mar 2016 05:42:28 -0700 (PDT)
Received: by 10.107.149.12 with HTTP; Wed, 23 Mar 2016 05:42:28 -0700 (PDT)
In-Reply-To: <56f27c86.c6c.1338.241b@land10.nl>
References: <56f27c86.c6c.1338.241b@land10.nl>
Date: Wed, 23 Mar 2016 07:42:28 -0500
Message-ID: <CACsi253+=Q3V1AWczGvWmJuTfGEhsue186sBBcC=WH7g9QZODg@mail.gmail.com>
Subject: Re: Status for 2.4.20
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113fe1bea16985052eb6a907

--001a113fe1bea16985052eb6a907
Content-Type: text/plain; charset=UTF-8

On Mar 23, 2016 6:23 AM, "Steffen" <info@apachelounge.com> wrote:
>
> Just did a export;
>
> Diff with the vote 2.4.19 one:
>
> branches/2.4.x/modules/cache/mod_socache_shmcb.c

Correct.  I'm not claiming this is win32-specific, it only happens to show
up on that and other edge cases.

> branches/2.4.x/modules/http2/h2_filter.c

Again, a C89 regression breaking the candidate, but in an experimental
module that we don't promise will always build.  nghttp2 is filled with C99
code, AIUI - due to bad decisions about basic C types - that library can
only build.

> branches/2.4.x/modules/http2/mod_http2.dsp

Looking good.

> For remove mod_lbmethod-rr:
> branches/2.4.x/Makefile.win
> branches/2.4.x/Readme.cmake
> branches/2.4.x/Apache.dsw
> branches/2.4.x/Apache-apr2.dsw

This may be reverted of course, if someone believes we should persist this
non-compileable example.

> And a bunch of .dep and mak files added

This simplifies the process for users who don't want to go through a manual
process of converting archaic project files to Windows.

This is the same structure as in every httpd 2.2 tarball.

But an explanation is in order... I haven't directly used these build files
-myself- for creating anything other than ASF binaries in over a decade.
They were not suited for building component-by-component, only for building
the whole shooting match at once.  I've been building each component (pcre,
expat, zlib, apr etc etc) for forever now.

The .mak/.dep files and Makefile.win (which invokes these) supports only
the srclib/ subcomponents structure.  You'll find Windows .mak/.dep files
in those apr source projects as well.

So this change neither breaks nor fixes - it is an alternative to a manual
conversion - it merely simplifies building on Windows - until cmake builds
are considered the replacement.  The addition of these to the svn, rather
than only a win32 source tarball, has a lengthy discussion and rational in
dev@ archive already.

But I have no preference as a user, myself - my entire interest lies in
cmake.

--001a113fe1bea16985052eb6a907
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">On Mar 23, 2016 6:23 AM, &quot;Steffen&quot; &lt;<a href=3D"=
mailto:info@apachelounge.com">info@apachelounge.com</a>&gt; wrote:<br>
&gt;<br>
&gt; Just did a export;<br>
&gt;<br>
&gt; Diff with the vote 2.4.19 one:<br>
&gt;<br>
&gt; branches/2.4.x/modules/cache/mod_socache_shmcb.c</p>
<p dir=3D"ltr">Correct.=C2=A0 I&#39;m not claiming this is win32-specific, =
it only happens to show up on that and other edge cases.</p>
<p dir=3D"ltr">&gt; branches/2.4.x/modules/http2/h2_filter.c</p>
<p dir=3D"ltr">Again, a C89 regression breaking the candidate, but in an ex=
perimental module that we don&#39;t promise will always build.=C2=A0 nghttp=
2 is filled with C99 code, AIUI - due to bad decisions about basic C types =
- that library can only build.</p>
<p dir=3D"ltr">&gt; branches/2.4.x/modules/http2/mod_http2.dsp</p>
<p dir=3D"ltr">Looking good.</p>
<p dir=3D"ltr">&gt; For remove mod_lbmethod-rr:<br>
&gt; branches/2.4.x/Makefile.win<br>
&gt; branches/2.4.x/Readme.cmake<br>
&gt; branches/2.4.x/Apache.dsw<br>
&gt; branches/2.4.x/Apache-apr2.dsw</p>
<p dir=3D"ltr">This may be reverted of course, if someone believes we shoul=
d persist this non-compileable example.</p>
<p dir=3D"ltr">&gt; And a bunch of .dep and mak files added</p>
<p dir=3D"ltr">This simplifies the process for users who don&#39;t want to =
go through a manual process of converting archaic project files to Windows.=
</p>
<p dir=3D"ltr">This is the same structure as in every httpd 2.2 tarball.=C2=
=A0 </p>
<p dir=3D"ltr">But an explanation is in order... I haven&#39;t directly use=
d these build files -myself- for creating anything other than ASF binaries =
in over a decade.=C2=A0 They were not suited for building component-by-comp=
onent, only for building the whole shooting match at once.=C2=A0 I&#39;ve b=
een building each component (pcre, expat, zlib, apr etc etc) for forever no=
w.=C2=A0 </p>
<p dir=3D"ltr">The .mak/.dep files and Makefile.win (which invokes these) s=
upports only the srclib/ subcomponents structure.=C2=A0 You&#39;ll find Win=
dows .mak/.dep files in those apr source projects as well.</p>
<p dir=3D"ltr">So this change neither breaks nor fixes - it is an alternati=
ve to a manual conversion - it merely simplifies building on Windows - unti=
l cmake builds are considered the replacement.=C2=A0 The addition of these =
to the svn, rather than only a win32 source tarball, has a lengthy discussi=
on and rational in dev@ archive already.=C2=A0 </p>
<p dir=3D"ltr">But I have no preference as a user, myself - my entire inter=
est lies in cmake.<br>
</p>

--001a113fe1bea16985052eb6a907--

From dev-return-86039-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 13:01:13 2016
Return-Path: <dev-return-86039-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 71CEA18A2A
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 13:01:13 +0000 (UTC)
Received: (qmail 29506 invoked by uid 500); 23 Mar 2016 13:01:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29437 invoked by uid 500); 23 Mar 2016 13:01:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29427 invoked by uid 99); 23 Mar 2016 13:01:12 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 13:01:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 54F35C87AF
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 13:01:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.279
X-Spam-Level: *
X-Spam-Status: No, score=1.279 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 4y50Yr5Y7YFC for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 13:01:07 +0000 (UTC)
Received: from mail-oi0-f45.google.com (mail-oi0-f45.google.com [209.85.218.45])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 78E805FB14
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 13:01:07 +0000 (UTC)
Received: by mail-oi0-f45.google.com with SMTP id w20so18603663oia.2
        for <dev@httpd.apache.org>; Wed, 23 Mar 2016 06:01:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=HNIE/IwhOSa2KE8Z4dQPOTf+comym1x7V3/ZSk7yucE=;
        b=FvD1yi3i7pyXvrcZit2rRJMCIqZOycrkhl3kUouOtoiiRrAVmeJbSCls2BNnedlqvU
         mnSUVWisCmMn50tIZ+fMu8xwZM11ODK9AWWx9ITii/HS4Mf1L4N2meBsRLYSPmcJL0qr
         ABkjVKW6CN9f6qSx5pJzWUftk33k+EIyT57RuVTxXLm2uUivxIBl3SD0hdV1UFUSQRgO
         yOcJlMpRqOAV/hYaziLLrByLTg6+ve9Hh/crKbr7Ld3CCf/AtmZly15471cIOiok7KZX
         oa8scTfAr1FT7fi7yzKhzeVYbGYoIXG/vFA7/vBAZrbcQmUy/klCzCZh220AOFzMkqEA
         pPLg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=HNIE/IwhOSa2KE8Z4dQPOTf+comym1x7V3/ZSk7yucE=;
        b=ICpegrY6xnBGBeWJb1BIwKHx6CI9KnkEpC47C+mBL0BEeWZCrc+W84GlRMi3oinBu/
         V8dJfZx6Yn+BNwgLcJVV3CQnfcUhSS0zAXf7EK5VYDmFNqIx+2rHgK7J/KjVnocvFfrQ
         xQrTG9WzT4QEnpGpomt1Gxo3rMl0HFe2m8iEAib0s28Ao05AcvH2Faj5t33YbhtjOmFh
         Pr1h5aANHor6jrse7t8g0H+xuesjY+fvW3qeGbmvH12jru7Ym+RbRW+B+yvQF+3l3pCI
         BBdiWTK1QOI70ib3dAC6Lv2L7ixNBKM+Hy0Oep7ksuYxXLZ2GjgShyCoCrltmAlifDvV
         6InA==
X-Gm-Message-State: AD7BkJLPY+frvJHGhdqH6Xr+fnd6KNaFSGM/e+8yYzl/Mtl/tfkzLYc2zeuSIsVNRlnaUVMhHFRa47mQuDCdXtfe
MIME-Version: 1.0
X-Received: by 10.50.47.49 with SMTP id a17mr24166188ign.35.1458738019434;
 Wed, 23 Mar 2016 06:00:19 -0700 (PDT)
Received: by 10.107.149.12 with HTTP; Wed, 23 Mar 2016 06:00:19 -0700 (PDT)
In-Reply-To: <CACsi253+=Q3V1AWczGvWmJuTfGEhsue186sBBcC=WH7g9QZODg@mail.gmail.com>
References: <56f27c86.c6c.1338.241b@land10.nl>
	<CACsi253+=Q3V1AWczGvWmJuTfGEhsue186sBBcC=WH7g9QZODg@mail.gmail.com>
Date: Wed, 23 Mar 2016 08:00:19 -0500
Message-ID: <CACsi250h9LXcpg-nutSmhY_kBbLS1srEOzKyAXRN5_2=pafZtQ@mail.gmail.com>
Subject: Re: Status for 2.4.20
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e01229fa6781933052eb6e950

--089e01229fa6781933052eb6e950
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 23, 2016 at 7:42 AM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> > branches/2.4.x/modules/http2/h2_filter.c
>
> Again, a C89 regression breaking the candidate, but in an experimental
> module that we don't promise will always build.  nghttp2 is filled with C99
> code, AIUI - due to bad decisions about basic C types - that library can
> only build.
>
Whoops, answering too quickly...

that library can only build *correctly* under the latest MSVC 14 (aka
Studio 2015)
when you are compiling for 64-bits on Windows (not an issue with 32 bit
builds).

In the past, size_t/ssize_t/ptrdiff_t and other alignment primitives failed
to
correspond to the width of their defined domain (size reflects memory, ergo
thes must be the same size, bitwise, as a void*).  This showed up very
egregiously in nghttp2 which (fairly) demands that the POSIX types reflect
their definitions.

MS finally is catching up to POSIX with their Studio 2015 product release.
So the antique .dsp is something of a red herring, you probably don't want
to ever run an nghttp2 app or library compiled against VC98, if building to
64-bits.  It is hardly a fully-conformant C99 compiler, but it comes a whole
lot closer than previous attempts.

--089e01229fa6781933052eb6e950
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On W=
ed, Mar 23, 2016 at 7:42 AM, William A Rowe Jr <span dir=3D"ltr">&lt;<a hre=
f=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&=
gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 =
0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><span class=3D""><p dir=
=3D"ltr">&gt; branches/2.4.x/modules/http2/h2_filter.c<br></p></span>
<p dir=3D"ltr">Again, a C89 regression breaking the candidate, but in an ex=
perimental module that we don&#39;t promise will always build.=C2=A0 nghttp=
2 is filled with C99 code, AIUI - due to bad decisions about basic C types =
- that library can only build.</p></blockquote><div>Whoops, answering too q=
uickly...</div><div><br></div><div>that library can only build *correctly* =
under the latest MSVC 14 (aka Studio 2015)</div><div>when you are compiling=
 for 64-bits on Windows (not an issue with 32 bit builds).</div><div><br></=
div><div>In the past, size_t/ssize_t/ptrdiff_t and other alignment primitiv=
es failed to=C2=A0</div><div>correspond to the width of their defined domai=
n (size reflects memory, ergo=C2=A0</div><div>thes must be the same size, b=
itwise, as a void*).=C2=A0 This showed up very</div><div>egregiously in ngh=
ttp2 which (fairly) demands that the POSIX types reflect=C2=A0</div><div>th=
eir definitions.<br></div><div><br></div><div>MS finally is catching up to =
POSIX with their Studio 2015 product release. =C2=A0</div><div>So the antiq=
ue .dsp is something of a red herring, you probably don&#39;t want=C2=A0</d=
iv><div>to ever run an nghttp2 app or library compiled against VC98, if bui=
lding to=C2=A0</div><div>64-bits.=C2=A0 It is hardly a fully-conformant C99=
 compiler, but it comes a whole</div><div>lot closer than previous attempts=
.</div><div><br></div><div><br></div></div></div></div>

--089e01229fa6781933052eb6e950--

From dev-return-86040-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 13:14:23 2016
Return-Path: <dev-return-86040-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A6DA018AD2
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 13:14:23 +0000 (UTC)
Received: (qmail 61591 invoked by uid 500); 23 Mar 2016 13:14:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 61535 invoked by uid 500); 23 Mar 2016 13:14:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 61525 invoked by uid 99); 23 Mar 2016 13:14:22 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 13:14:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 5E9EFC27E2
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 13:14:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id TuN9W9eL6M3v for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 13:14:20 +0000 (UTC)
Received: from mail-ob0-f171.google.com (mail-ob0-f171.google.com [209.85.214.171])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 224A65F560
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 13:14:20 +0000 (UTC)
Received: by mail-ob0-f171.google.com with SMTP id kf9so5664437obc.1
        for <dev@httpd.apache.org>; Wed, 23 Mar 2016 06:14:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=0WcPbUETkNPRl16SfILXyk4yz566Vk6muWp2PJLa6mM=;
        b=1huhV28Nx1O1Dy0U4uD5544iA1KmVPFX3qkdKKYLkJlvlg4T8KfIS6zI66RSBn/LJI
         iP9MsHWUzfSteJ3jxRgqkauT4gqTvPFS5wwxMjuiieLq3YrKR3IA+0F7oJQvkvTNkqvT
         aXlWQvcE35ApQhYAIdU1HDcUz06zX63xI/tAqCtXYDlmViyHaKZV8Gt24tBx5HL/Fz+8
         Zfz+BukpCV7NXAi7E8SVaUQDm6hVXymAF72CIHl0qgCWDxxRQJgQcGodr8ZiUZuJn/YR
         HHbw63ABBltWGa3zUOeCyq/koE12iURgYIQxV45oMnWOuXSzvoQuxpT9wVdbTqa7cYW8
         JNfQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=0WcPbUETkNPRl16SfILXyk4yz566Vk6muWp2PJLa6mM=;
        b=bK2RkAvNwyj+2Bc8iu4zeXzkZyIsK0spUhyPkHFHQvPGRoMl5zjLaMaZMZSaU3ZDcZ
         mV3jfDxU5Tdi0QURERxKlaEwwo0XgTP6ewcyCx5QAAskO99Jk0R8LBLe4fClk9zl6Lkc
         CiEH/O5HLw1KPvZF1icOmBEgqC+v3IUKhqn3osjVKuz8bJfCQMJwbP2mAu4DnVj9QwnY
         PpDOESOIjLZ44GGvezQXXyWYqpw0X7bHMz+WUH5oNQT7qvSl2ToDedMUBYWih1KNon+Z
         VFg61ZFO7yyfMnaHb9S7lmg6pLWDBiDZ0wT4vpWU6Iwa7BGUmXXtlHfH/48Bo2QEQB6q
         8RVg==
X-Gm-Message-State: AD7BkJL+Q/r+sNd/mylT7WluZC4AjaG3JuXMG351Smf0axZ0zxNhQd17o+r7yOyO53yZJJgkpZ1fmXbnNcg9+oRM
MIME-Version: 1.0
X-Received: by 10.107.27.205 with SMTP id b196mr3561537iob.163.1458738694913;
 Wed, 23 Mar 2016 06:11:34 -0700 (PDT)
Received: by 10.107.149.12 with HTTP; Wed, 23 Mar 2016 06:11:34 -0700 (PDT)
In-Reply-To: <ECF6CD6F-DBB8-4874-8614-30F719E06F47@apachelounge.com>
References: <ECF6CD6F-DBB8-4874-8614-30F719E06F47@apachelounge.com>
Date: Wed, 23 Mar 2016 08:11:34 -0500
Message-ID: <CACsi251dM1iuG_eKoLuenLc3sLMCi-qr-wsMV3GU0AgEQmaYqw@mail.gmail.com>
Subject: Re: 2.4.20 Change dsp: Win32-specific build files.
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113fecfcbb12a9052eb7115d

--001a113fecfcbb12a9052eb7115d
Content-Type: text/plain; charset=UTF-8

On Mar 23, 2016 3:15 AM, "Steffen" <info@apachelounge.com> wrote:
>
> Saw that wrowe did a change win make files in 2.4. branche.
>
> The comment says the the .dsp flies are entirely ! unusable.
>
> I can tell that they are entirely usable with V9-VC14.   What was the
issue ?

They were directly usable on VC98.  They were also directly exportable to
.mak files on that version of the MS build tooling, alone.

In post-VC98 (which cannot be obtained from Microsoft any longer due to the
Sun settlement) they are not "usable" - but they are convertible, although
they are not exportable.  There is lots of documentation on how to
translate these into the modern solution file formats in order to be able
to build httpd on Windows.

But they don't "simply work", e.g. " usable", without this manual
conversion process, do we agree?

The commit did not remove the .dsp files, those who wish to convert the
files into the new GUI schema remain able to do so.

> So please explain why for you it is not usable ?

Some more context can be found here;

http://markmail.org/thread/k2d6nwkz5w3p35yl

If the commit looks familiar, it aught to...

http://svn.apache.org/viewvc?view=revision&revision=1100294

http://markmail.org/message/4gyjktdp7ls3cxij

> Change comment:
>
> The actual .dsp files are entirely unusable for any shipping
> version of MSVC/Visual Studio, while the .mak exports of these
> projects are usable on any flavor of the MS build environment.

I'm happy to edit the commit log message to better reflect the comments
above.

I hope that clarifies this commit and resolves any confusion I might have
created?

--001a113fecfcbb12a9052eb7115d
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><p dir=3D"ltr">On Mar 23, 2016 3:15 AM, &quot;Steffen&quot=
; &lt;<a href=3D"mailto:info@apachelounge.com" target=3D"_blank">info@apach=
elounge.com</a>&gt; wrote:<br>
&gt;<br>
&gt; Saw that wrowe did a change win make files in 2.4. branche.=C2=A0<br>
&gt;<br>
&gt; The comment says the the .dsp flies are entirely ! unusable.=C2=A0<br>
&gt;<br>
&gt; I can tell that they are entirely usable with V9-VC14. =C2=A0 What was=
 the issue ?</p>
<p dir=3D"ltr">They were directly usable on VC98.=C2=A0 They were also dire=
ctly exportable to .mak files on that version of the MS build tooling, alon=
e.</p>
<p dir=3D"ltr">In post-VC98 (which cannot be obtained from Microsoft any lo=
nger due to the Sun settlement) they are not &quot;usable&quot; - but they =
are convertible, although they are not exportable.=C2=A0 There is lots of d=
ocumentation on how to translate these into the modern solution file format=
s in order to be able to build httpd on Windows.</p>
<p dir=3D"ltr">But they don&#39;t &quot;simply work&quot;, e.g. &quot; usab=
le&quot;, without this manual conversion process, do we agree?</p>
<p dir=3D"ltr">The commit did not remove the .dsp files, those who wish to =
convert the files into the new GUI schema remain able to do so.</p>
<p dir=3D"ltr">&gt; So please explain why for you it is not usable ?</p><p>=
Some more context can be found here;</p><p><a href=3D"http://markmail.org/t=
hread/k2d6nwkz5w3p35yl">http://markmail.org/thread/k2d6nwkz5w3p35yl</a><br>=
</p><p>If the commit looks familiar, it aught to...</p><p><a href=3D"http:/=
/svn.apache.org/viewvc?view=3Drevision&amp;revision=3D1100294">http://svn.a=
pache.org/viewvc?view=3Drevision&amp;revision=3D1100294</a><br></p><p><a hr=
ef=3D"http://markmail.org/message/4gyjktdp7ls3cxij">http://markmail.org/mes=
sage/4gyjktdp7ls3cxij</a></p><p dir=3D"ltr">
&gt; Change comment:<br>
&gt;<br>
&gt; The actual .dsp files are entirely unusable for any shipping<br>
&gt; version of MSVC/Visual Studio, while the .mak exports of these<br>
&gt; projects are usable on any flavor of the MS build environment.</p>
<p dir=3D"ltr">I&#39;m happy to edit the commit log message to better refle=
ct the comments above.</p><p>I hope that clarifies this commit and resolves=
 any confusion I might have created?</p>
</div>

--001a113fecfcbb12a9052eb7115d--

From dev-return-86041-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 14:18:40 2016
Return-Path: <dev-return-86041-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C648218DDF
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 14:18:40 +0000 (UTC)
Received: (qmail 82588 invoked by uid 500); 23 Mar 2016 14:18:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 82518 invoked by uid 500); 23 Mar 2016 14:18:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82508 invoked by uid 99); 23 Mar 2016 14:18:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 14:18:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id E5E2C1A4901
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 14:18:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.302
X-Spam-Level:
X-Spam-Status: No, score=-2.302 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 5-83iLXnnh7w for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 14:18:38 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 004BE5F1F3
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 14:18:37 +0000 (UTC)
Received: from [10.0.110.6] ([37.84.222.231])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u2NEIZnB011672
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 15:18:36 +0100 (CET)
Subject: Re: [Update] Support for OpenSSL 1.1.0
Reply-To: dev@httpd.apache.org
References: <56B9BD54.3020105@kippdata.de> <56BD2BF7.6030005@kippdata.de>
 <56BF1289.80506@kippdata.de> <56C1043F.3040707@kippdata.de>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56F2A5B9.7030800@kippdata.de>
Date: Wed, 23 Mar 2016 15:18:33 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.7.0
MIME-Version: 1.0
In-Reply-To: <56C1043F.3040707@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

OpenSSL 1.1.0 pre 4 = Beta 1 is out.

I did another round of compatibility updates for mod_ssl. Apart form 
fixing Bugs, the OpenSSL 1.1.0 API is supposed to stay stable now. So I 
hope mod_ssl can stabilize now.

The current code runs the test suite with 1.0.2 and with 1.1.0 without 
any ssl related failures.

I'll let it settle a bit before suggesting backport to 2.4, definitely 
not before 2.4.19.

More critical eyes on the 1.1.0 specific code paths very welcome!

Regards,

Rainer

From dev-return-86042-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 14:22:13 2016
Return-Path: <dev-return-86042-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C9A5818E43
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 14:22:13 +0000 (UTC)
Received: (qmail 10640 invoked by uid 500); 23 Mar 2016 14:22:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10571 invoked by uid 500); 23 Mar 2016 14:22:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10561 invoked by uid 99); 23 Mar 2016 14:22:13 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 14:22:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A2E4EC27C8
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 14:22:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.311
X-Spam-Level:
X-Spam-Status: No, score=-2.311 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, SPF_PASS=-0.001,
	T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id S4fSi7_tbZOl for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 14:22:11 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id 821A05F39C
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 14:22:11 +0000 (UTC)
Received: from [10.0.110.6] ([37.84.222.231])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id u2NEM8oR011761
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 15:22:10 +0100 (CET)
Subject: Re: [Update] Support for OpenSSL 1.1.0
Reply-To: dev@httpd.apache.org
References: <56B9BD54.3020105@kippdata.de> <56BD2BF7.6030005@kippdata.de>
 <56BF1289.80506@kippdata.de> <56C1043F.3040707@kippdata.de>
 <56F2A5B9.7030800@kippdata.de>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56F2A68F.9080301@kippdata.de>
Date: Wed, 23 Mar 2016 15:22:07 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.7.0
MIME-Version: 1.0
In-Reply-To: <56F2A5B9.7030800@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

not before 2.4.19 -> not before 2.4.20 ...

Am 23.03.2016 um 15:18 schrieb Rainer Jung:
> OpenSSL 1.1.0 pre 4 = Beta 1 is out.
>
> I did another round of compatibility updates for mod_ssl. Apart form
> fixing Bugs, the OpenSSL 1.1.0 API is supposed to stay stable now. So I
> hope mod_ssl can stabilize now.
>
> The current code runs the test suite with 1.0.2 and with 1.1.0 without
> any ssl related failures.
>
> I'll let it settle a bit before suggesting backport to 2.4, definitely
> not before 2.4.19.
>
> More critical eyes on the 1.1.0 specific code paths very welcome!

From dev-return-86043-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 16:13:06 2016
Return-Path: <dev-return-86043-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 862D119479
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 16:13:06 +0000 (UTC)
Received: (qmail 89635 invoked by uid 500); 23 Mar 2016 16:13:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89567 invoked by uid 500); 23 Mar 2016 16:13:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89557 invoked by uid 99); 23 Mar 2016 16:13:01 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 16:13:01 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id AD39BC059B
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 16:13:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.401
X-Spam-Level:
X-Spam-Status: No, score=-0.401 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, MIME_QP_LONG_LINE=0.001, RCVD_IN_DNSWL_MED=-2.3,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id mJ4lDgv_L1to for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 16:12:58 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTP id 9EE165F23A
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 16:12:57 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1458749561;
	bh=SzgAT4tPB5lV/d4Wh/p2AGqMRFOAEzFXgJn1GfmUEK8=;
	h=From:To:Subject:Date;
	b=TI16RT+nUfPxUveqF/pk8Ha+j+A6Bl73cjIVRaOLLkLUksEHn2JMn1hXB+iRkFXxh
	 LlmYGtF0Fs9TZJmYeFKrD48FyBLwCmMHH5mfN9wIy3DMSiUDhfUdoiyO+GVvhUdnk/
	 ys5EQYDrXlu4vP6VCGdZFwVVdAgrVJxSQLINgkDQ=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: Re: 2.4.20 Change dsp: Win32-specific build files.
Date: Wed, 23 Mar 2016 17:12:34 +0100
Message-ID: <56f2c072.c6c.1634.354c@land10.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="----=_SW_68_1458749554_mpa="
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client

This is a multi-part message in MIME format.

------=_SW_68_1458749554_mpa=
Content-Type: text/plain; charset=us-ascii; format=flowed


I went earlier back, so I did a .dsp/GUI build with no issues.

Build with SVN revision 1736328.

Running looks also fine sofar.




On Wednesday 23/03/2016 at 12:50, Jim Jagielski  wrote:
> Thx... I would like to T&R today if possible, because I was hoping
> for a release by the end of this week, but I also don't want to
> have to punt 2.4.20 as well, so we should wait.
>
>>
>> On Mar 23, 2016, at 7:39 AM, Steffen <info@apachelounge.com> wrote:
>>
>> Sure I like to do, but sorry I am out of town, to morrow morning (my 
>> time) I can build.
>>
>> Maybe Jan E and/or Gregg can give it a .dsp try.
>>
>> When I look to the changes, it should build.
>>
>>
>>
>> On Wednesday 23/03/2016 at 12:36, Jim Jagielski wrote:
>>>
>>> Can you do a quick check that HEAD of 2.4 builds for you?
>>>
>>> THX!!
>>>
>>>>
>>>> On Mar 23, 2016, at 7:28 AM, Steffen <info@apachelounge.com> wrote:
>>>>
>>>> Indeed wrowe did not change any .dsp files. and the changes from wrowe 
>>>> does not break a .dsp build.
>>>>
>>>> My attention was just the statement of wrowe that .dsp files are not 
>>>> usable, which is not true.
>>>>
>>>>
>>>>
>>>> On Wednesday 23/03/2016 at 12:20, Yann Ylavic wrote:
>>>>>
>>>>> On Wed, Mar 23, 2016 at 11:18 AM, Jan Ehrhardt <phpdev@ehrhardt.nl> 
>>>>> wrote:
>>>>>>
>>>>>> Steffen in gmane.comp.apache.devel (Wed, 23 Mar 2016 09:15:45 +0100):
>>>>>>>
>>>>>>> Saw that wrowe did a change win make files in 2.4. branche.
>>>>>>>
>>>>>>> The comment says the the .dsp files are entirely ! unusable.
>>>>>>>
>>>>>>> I can tell that they are entirely usable with V9-VC14. What was the 
>>>>>>> issue ?
>>>>>>
>>>>>> I agree with Steffen. This week I have built httpd 2.4.19 (VC9 / VC11 
>>>>>> /
>>>>>> VC14 & x86 / x64) using the .dsp files. I even commented that the
>>>>>> http2.dsp was missing a line. They are the easiest way to build httpd 
>>>>>> on
>>>>>> Windows.
>>>>>
>>>>> Does building 2.4.x from the .dsp files still work or not?
>>>>>
>>>>> AIUI (but my understanding of Windows is quite limited), Bill did not
>>>>> change any dsp file (but removing mod_lbmethod_rr which did not work),
>>>>> he "just" added some .mak and .dep files.
>>>>> Why would that break dsp files?
>>>>
>>>>
>>>
>>
>>
>


------=_SW_68_1458749554_mpa=
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html>
<head>
<style>
 .sw_message P{margin:0px;padding:0px;}
 .sw_message {FONT-SIZE: 12pt;FONT-FAMILY:Tahoma,Arial,Helvetica,sans-serif;background:white;}
 .sw_message blockquote{margin-left:5px;padding-left:5px;border-left:2px solid #144fae;color: #144fae;}
 .sw_message blockquote blockquote{border-left:2px solid #006312;color: #006312;}
 .sw_message blockquote blockquote blockquote{border-left:2px solid #8e5656;color: #8e5656;}
 .sw_message blockquote blockquote blockquote blockquote{border-left:2px solid #888;color: #888;}
</style>
</head>
<body class=3d"sw_message">
<div>I went earlier back, so I did a .dsp/GUI build with no issues.&nbsp;</d=
iv><div><br></div><div>Build with SVN revision&nbsp;<span style=3d"font-size=
: 12pt;">1736328.</span></div><div><br></div><div>Running looks also fine so=
far.</div><div><br></div><div>&nbsp;</div><div>&nbsp;</div><div id=3d"editor=
_signature"></div><div>On Wednesday 23/03/2016 at 12:50, Jim Jagielski  wrot=
e: </div><blockquote type=3d"cite">Thx... I would like to T&amp;R today if p=
ossible, because I was hoping<br>for a release by the end of this week, but =
I also don't want to<br>have to punt 2.4.20 as well, so we should wait.<br><=
br><blockquote type=3d"cite"> On Mar 23, 2016, at 7:39 AM, Steffen &lt;info@=
apachelounge.com&gt; wrote:<br> <br> Sure I like to do, but sorry I am out o=
f town, to morrow morning (my time) I can build.<br> <br> Maybe Jan E and/or=
 Gregg can give it a .dsp try.<br> <br> When I look to the changes, it shoul=
d build.<br> <br> <br>&nbsp;&nbsp;  <br> On Wednesday 23/03/2016 at 12:36, J=
im Jagielski wrote: <br><blockquote type=3d"cite"> Can you do a quick check =
that HEAD of 2.4 builds for you?<br> <br> THX!!<br> <br><blockquote type=3d"=
cite"> On Mar 23, 2016, at 7:28 AM, Steffen &lt;info@apachelounge.com&gt; wr=
ote:<br> <br> Indeed wrowe did not change any .dsp files. and the changes fr=
om wrowe does not break a .dsp build.<br> <br> My attention was just the sta=
tement of wrowe that .dsp files are not usable, which is not true.<br> <br> =
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     <br> On Wednesday 23/03/2016 at 12:20=
, Yann Ylavic wrote: <br><blockquote type=3d"cite"> On Wed, Mar 23, 2016 at =
11:18 AM, Jan Ehrhardt &lt;phpdev@ehrhardt.nl&gt; wrote:<br><blockquote type=
=3d"cite"> Steffen in gmane.comp.apache.devel (Wed, 23 Mar 2016 09:15:45 +01=
00):<br><blockquote type=3d"cite"> Saw that wrowe did a change win make file=
s in 2.4. branche.<br> <br> The comment says the the .dsp files are entirely=
 ! unusable.<br> <br> I can tell that they are entirely usable with V9-VC14.=
 What was the issue ?<br></blockquote> <br> I agree with Steffen. This week =
I have built httpd 2.4.19 (VC9 / VC11 /<br> VC14 &amp; x86 / x64) using the =
.dsp files. I even commented that the<br> http2.dsp was missing a line. They=
 are the easiest way to build httpd on<br> Windows.<br></blockquote> <br> Do=
es building 2.4.x from the .dsp files still work or not?<br> <br> AIUI (but =
my understanding of Windows is quite limited), Bill did not<br> change any d=
sp file (but removing mod_lbmethod_rr which did not work),<br> he "just" add=
ed some .mak and .dep files.<br> Why would that break dsp files?<br></blockq=
uote> <br> <br></blockquote> <br></blockquote> <br> <br></blockquote><br></b=
lockquote><br>
</body></html>

------=_SW_68_1458749554_mpa=--


From dev-return-86044-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 16:26:48 2016
Return-Path: <dev-return-86044-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F2B681953A
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 16:26:47 +0000 (UTC)
Received: (qmail 27930 invoked by uid 500); 23 Mar 2016 16:26:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 27848 invoked by uid 500); 23 Mar 2016 16:26:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 27838 invoked by uid 99); 23 Mar 2016 16:26:47 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 16:26:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C042CC059B
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 16:26:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=FGQPoupe;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=ZBIfB1Iy
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id z_13FXHF-Y1X for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 16:26:44 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id DE1E95F247
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 16:26:43 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 6B88715A0C71; Wed, 23 Mar 2016 17:26:37 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458750397; bh=orldPQGyzvsRT1HjJGLDnUe/Eb+4606JTbGXjr7TkQs=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=FGQPoupeLjaLdwtO9uRqdgVPLxKpqmObRLuPHFi9bO8OrfIpQuQyf5i/v7RFIKJKo
	 9dfHxxI2jJeEcgSQyLIEf+BAAQ9/34HmZySrGRXdNuvKzxIJflaJi4KRvPQWFZ7vli
	 jAu3ktqN5Xvj7ynJ4rsgsRvXrBSogDF2ghVTeQ9s=
Received: from [192.168.1.42] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id ECB5915A0396
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 17:26:36 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458750396; bh=orldPQGyzvsRT1HjJGLDnUe/Eb+4606JTbGXjr7TkQs=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=ZBIfB1IyYoK8T0NqgnMw2M4jmOLpe688bvWz2Wmz3sQcRA1icEso1WN8jmzsRkZZc
	 Os0aZ9l0cWohWVoi9Z+nVzOJ2/o33XSpjfmqQuz+G8SzZbfJbE7Ancl4fy/xreCmHc
	 qjXb4frTQQi/X8CzTOdzYsbezNZglUUXLVnwMgd0=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.3 \(3124\))
Subject: Re: 2.4.20 Change dsp: Win32-specific build files.
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <56f2c072.c6c.1634.354c@land10.nl>
Date: Wed, 23 Mar 2016 17:26:36 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <E88C6559-4B79-4A61-92B8-D80BECEAC2F6@greenbytes.de>
References: <56f2c072.c6c.1634.354c@land10.nl>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3124)

Thanks, Steffen!

> Am 23.03.2016 um 17:12 schrieb Steffen <info@apachelounge.com>:
>=20
> I went earlier back, so I did a .dsp/GUI build with no issues.=20
>=20
> Build with SVN revision 1736328.
>=20
> Running looks also fine sofar.
>=20
> =20
> =20
> On Wednesday 23/03/2016 at 12:50, Jim Jagielski wrote:=20
>> Thx... I would like to T&R today if possible, because I was hoping
>> for a release by the end of this week, but I also don't want to
>> have to punt 2.4.20 as well, so we should wait.
>>=20
>>> On Mar 23, 2016, at 7:39 AM, Steffen <info@apachelounge.com> wrote:
>>>=20
>>> Sure I like to do, but sorry I am out of town, to morrow morning (my =
time) I can build.
>>>=20
>>> Maybe Jan E and/or Gregg can give it a .dsp try.
>>>=20
>>> When I look to the changes, it should build.
>>>=20
>>>=20
>>>    =20
>>> On Wednesday 23/03/2016 at 12:36, Jim Jagielski wrote:=20
>>>> Can you do a quick check that HEAD of 2.4 builds for you?
>>>>=20
>>>> THX!!
>>>>=20
>>>>> On Mar 23, 2016, at 7:28 AM, Steffen <info@apachelounge.com> =
wrote:
>>>>>=20
>>>>> Indeed wrowe did not change any .dsp files. and the changes from =
wrowe does not break a .dsp build.
>>>>>=20
>>>>> My attention was just the statement of wrowe that .dsp files are =
not usable, which is not true.
>>>>>=20
>>>>>=20
>>>>>       =20
>>>>> On Wednesday 23/03/2016 at 12:20, Yann Ylavic wrote:=20
>>>>>> On Wed, Mar 23, 2016 at 11:18 AM, Jan Ehrhardt =
<phpdev@ehrhardt.nl> wrote:
>>>>>>> Steffen in gmane.comp.apache.devel (Wed, 23 Mar 2016 09:15:45 =
+0100):
>>>>>>>> Saw that wrowe did a change win make files in 2.4. branche.
>>>>>>>>=20
>>>>>>>> The comment says the the .dsp files are entirely ! unusable.
>>>>>>>>=20
>>>>>>>> I can tell that they are entirely usable with V9-VC14. What was =
the issue ?
>>>>>>>=20
>>>>>>> I agree with Steffen. This week I have built httpd 2.4.19 (VC9 / =
VC11 /
>>>>>>> VC14 & x86 / x64) using the .dsp files. I even commented that =
the
>>>>>>> http2.dsp was missing a line. They are the easiest way to build =
httpd on
>>>>>>> Windows.
>>>>>>=20
>>>>>> Does building 2.4.x from the .dsp files still work or not?
>>>>>>=20
>>>>>> AIUI (but my understanding of Windows is quite limited), Bill did =
not
>>>>>> change any dsp file (but removing mod_lbmethod_rr which did not =
work),
>>>>>> he "just" added some .mak and .dep files.
>>>>>> Why would that break dsp files?
>>>>>=20
>>>>>=20
>>>>=20
>>>=20
>>>=20
>>=20
>=20
>=20


From dev-return-86045-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 16:49:07 2016
Return-Path: <dev-return-86045-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0E5BD1969F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 16:49:07 +0000 (UTC)
Received: (qmail 27756 invoked by uid 500); 23 Mar 2016 16:49:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 27680 invoked by uid 500); 23 Mar 2016 16:49:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 27670 invoked by uid 99); 23 Mar 2016 16:49:01 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 16:49:01 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 01303C1A5A
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 16:49:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.402
X-Spam-Level:
X-Spam-Status: No, score=-2.402 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_MED=-2.3, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id hCoD8BdwKaaU for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 16:48:59 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id 9C01E5F56D
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 16:48:58 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1458751722;
	bh=V/9ynseHG7FDudbDtgv7E84JgLnYMqRHlpTLM/RqL9o=;
	h=From:Subject:Date:References:In-Reply-To:To;
	b=w7eqJKr4kx5mnM/BxfLG76v8lmBt/df9lXy6F/sSDY11u3diRLG+qqX+0ssx4NZ8F
	 6BmMACVbaODakVAEAqoGD822QKoiX9t9LKj3FbxoQeDjkPmYHY6Q71aJi0jWshoJD0
	 QQcJ2vdNxKlPOpDLGGndpFYG9YpZjBeDrqkPxdPM=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
From: Steffen <info@apachelounge.com>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: 2.4.20 Change dsp: Win32-specific build files.
Message-Id: <238133E3-2E5F-47CA-93CA-07C1C073ACFF@apachelounge.com>
Date: Wed, 23 Mar 2016 17:48:56 +0100
References: <56f2c072.c6c.1634.354c@land10.nl> <E88C6559-4B79-4A61-92B8-D80BECEAC2F6@greenbytes.de>
In-Reply-To: <E88C6559-4B79-4A61-92B8-D80BECEAC2F6@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: iPhone Mail (13E234)


Running now AL: mod_http2 (v1.4.4, nghttp2 1.8.0), initializing...

Was running 1.2.8 (git).=20

Little confusing the version number httpd vs git (1.4.4 vs 1.2.8)

Still worried about the memory footprint:

Mod_http2 1.0.11 (2.4.18) average ~100 MB peaks with 200 MB.=20

with 1.2.8 average ~200 MB with peaks ~600 MB.=20

I shall keep an eye on 1.4.4.=20


> Op 23 mrt. 2016 om 17:26 heeft Stefan Eissing <stefan.eissing@greenbytes.d=
e> het volgende geschreven:
>=20
> Thanks, Steffen!
>=20
>> Am 23.03.2016 um 17:12 schrieb Steffen <info@apachelounge.com>:
>>=20
>> I went earlier back, so I did a .dsp/GUI build with no issues.=20
>>=20
>> Build with SVN revision 1736328.
>>=20
>> Running looks also fine sofar.
>>=20
>>=20
>>=20
>>> On Wednesday 23/03/2016 at 12:50, Jim Jagielski wrote:=20
>>> Thx... I would like to T&R today if possible, because I was hoping
>>> for a release by the end of this week, but I also don't want to
>>> have to punt 2.4.20 as well, so we should wait.
>>>=20
>>>> On Mar 23, 2016, at 7:39 AM, Steffen <info@apachelounge.com> wrote:
>>>>=20
>>>> Sure I like to do, but sorry I am out of town, to morrow morning (my ti=
me) I can build.
>>>>=20
>>>> Maybe Jan E and/or Gregg can give it a .dsp try.
>>>>=20
>>>> When I look to the changes, it should build.
>>>>=20
>>>>=20
>>>>=20
>>>>> On Wednesday 23/03/2016 at 12:36, Jim Jagielski wrote:=20
>>>>> Can you do a quick check that HEAD of 2.4 builds for you?
>>>>>=20
>>>>> THX!!
>>>>>=20
>>>>>> On Mar 23, 2016, at 7:28 AM, Steffen <info@apachelounge.com> wrote:
>>>>>>=20
>>>>>> Indeed wrowe did not change any .dsp files. and the changes from wrow=
e does not break a .dsp build.
>>>>>>=20
>>>>>> My attention was just the statement of wrowe that .dsp files are not u=
sable, which is not true.
>>>>>>=20
>>>>>>=20
>>>>>>=20
>>>>>>> On Wednesday 23/03/2016 at 12:20, Yann Ylavic wrote:=20
>>>>>>>> On Wed, Mar 23, 2016 at 11:18 AM, Jan Ehrhardt <phpdev@ehrhardt.nl>=
 wrote:
>>>>>>>> Steffen in gmane.comp.apache.devel (Wed, 23 Mar 2016 09:15:45 +0100=
):
>>>>>>>>> Saw that wrowe did a change win make files in 2.4. branche.
>>>>>>>>>=20
>>>>>>>>> The comment says the the .dsp files are entirely ! unusable.
>>>>>>>>>=20
>>>>>>>>> I can tell that they are entirely usable with V9-VC14. What was th=
e issue ?
>>>>>>>>=20
>>>>>>>> I agree with Steffen. This week I have built httpd 2.4.19 (VC9 / VC=
11 /
>>>>>>>> VC14 & x86 / x64) using the .dsp files. I even commented that the
>>>>>>>> http2.dsp was missing a line. They are the easiest way to build htt=
pd on
>>>>>>>> Windows.
>>>>>>>=20
>>>>>>> Does building 2.4.x from the .dsp files still work or not?
>>>>>>>=20
>>>>>>> AIUI (but my understanding of Windows is quite limited), Bill did no=
t
>>>>>>> change any dsp file (but removing mod_lbmethod_rr which did not work=
),
>>>>>>> he "just" added some .mak and .dep files.
>>>>>>> Why would that break dsp files?
>=20


From dev-return-86046-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 17:12:24 2016
Return-Path: <dev-return-86046-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 56C19197CC
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 17:12:24 +0000 (UTC)
Received: (qmail 16003 invoked by uid 500); 23 Mar 2016 17:12:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15937 invoked by uid 500); 23 Mar 2016 17:12:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15928 invoked by uid 99); 23 Mar 2016 17:12:23 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 17:12:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 36D381A08C8
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 17:12:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 6YUvkgs_lJO8 for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 17:12:22 +0000 (UTC)
Received: from jiboia.ensmp.fr (jiboia.ensmp.fr [194.214.158.137])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 1E6D75F479
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 17:12:21 +0000 (UTC)
Received: from cri.ensmp.fr (152.200.219.88.rev.sfr.net [88.219.200.152])
	(authenticated bits=0)
	by jiboia.ensmp.fr (8.15.2/8.15.1/JMMC-22/Oct/2013) with ESMTPSA id u2NHCDH2026031
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 18:12:14 +0100
Date: Wed, 23 Mar 2016 18:12:12 +0100 (CET)
From: fabien@apache.org
X-X-Sender: fabien@sto
To: httpd-dev <dev@httpd.apache.org>
Subject: Re: [VOTE] access control for dynamic hosts
In-Reply-To: <CAKQ1sVOTT55LVYt_PSUQq5wT1WWobSRgULUNGY8bwjL7C9_Z0A@mail.gmail.com>
Message-ID: <alpine.DEB.2.10.1603211337110.11011@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto> <alpine.DEB.2.10.1601140936560.28426@sto> <CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com> <alpine.DEB.2.10.1603011545040.18133@sto> <CALK=YjOv-3FxaSULNF5myB_E5S=Pun=p-113sucVO+RsQ1UC4w@mail.gmail.com>
 <alpine.DEB.2.10.1603060800330.11128@sto> <alpine.DEB.2.10.1603091742580.25393@sto> <CAKQ1sVOTT55LVYt_PSUQq5wT1WWobSRgULUNGY8bwjL7C9_Z0A@mail.gmail.com>
User-Agent: Alpine 2.10 (DEB 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; format=flowed; charset=US-ASCII
X-Miltered: at jiboia.ensmp.fr with ID 56F2CE6D.000 by Joe's j-chkmail (http : // j-chkmail dot ensmp dot fr)!
X-j-chkmail-Auth: USER-ID fabien.coelho
X-j-chkmail-Enveloppe: 56F2CE6D.000 from 152.200.219.88.rev.sfr.net/152.200.219.88.rev.sfr.net/88.219.200.152/cri.ensmp.fr/<fabien@apache.org>


Hello Yann,

> ylavic: I would have liked more (doc) emphasis on the lower security of
>   "Require forward-dns" vs "Require host"'s double DNS lookup

How about adding something like:

>From a security perspective, getting access to a protected page is somehow 
easier with "forward-dns" because the attacker needs only to control the 
DNS for the domain, while they would also need to control the reverse DNS 
with "host".  Now, if you have important confidential data, they would not 
be only protected by host-based authorizations, would they?

-- 
Fabien.

From dev-return-86047-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 18:12:54 2016
Return-Path: <dev-return-86047-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 72ACC19BB5
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 18:12:54 +0000 (UTC)
Received: (qmail 41807 invoked by uid 500); 23 Mar 2016 18:12:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41718 invoked by uid 500); 23 Mar 2016 18:12:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41708 invoked by uid 99); 23 Mar 2016 18:12:54 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 18:12:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 978C41A0361
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 18:12:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.061
X-Spam-Level: ***
X-Spam-Status: No, score=3.061 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_BL=0.01, RCVD_IN_MSPIKE_L4=2.399, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id l2VBOFFQ-Efs for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 18:12:51 +0000 (UTC)
Received: from resqmta-po-04v.sys.comcast.net (resqmta-po-04v.sys.comcast.net [96.114.154.163])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 5C7F65F244
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 18:12:50 +0000 (UTC)
Received: from resomta-po-15v.sys.comcast.net ([96.114.154.239])
	by comcast with SMTP
	id inGqamRw9BQoYinGya9372; Wed, 23 Mar 2016 18:12:48 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458756768;
	bh=uWVNT+ta4tayULDAKmTwYseAHjbQ9KlA/tgzybeHM/M=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Kal3bHK7vwmHtJAbhEL+SExg8fqlFWY7OFb1IVz3rKy3GzO30cvmmp0fe8aUnbh9j
	 oUFozt5RLTzPS7AAvJwwPPey7IoFya8o3LkSCsFgCLmeuiqBUABShfTjftD/FZaXnx
	 XNm2+GrFoHPh9MNOvCrRxWH0Lsqts+cc4TbnyCS9FV4VJzX9UgP3g0ad8ZeFn0tSFb
	 INPt3atV4vgHT8w9IyD+enC5mqSx/t9UvVErIOwwdQaMINSNcZVz943p6IozQHAgBe
	 71Cj5+m9eBw1Lf4ZqVzgF+2VcKzj9D1pblORwWc6Kogo9gunhBx7Uns8MNhcmspzrH
	 HFptwEoE28A4Q==
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-15v.sys.comcast.net with comcast
	id ZWCo1s0012U0RYt01WCoCo; Wed, 23 Mar 2016 18:12:48 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.3 \(3124\))
Subject: Re: apache-swat project - need feedback!
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAL7UUk8fahmUU-FKE0Mn_PRa_ktifUjV_1CKvkQtsPnXwGZV8w@mail.gmail.com>
Date: Wed, 23 Mar 2016 14:12:47 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <98D69E19-A628-4EC3-B991-4E7A5779F962@jaguNET.com>
References: <CAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com> <CAL7UUk8fahmUU-FKE0Mn_PRa_ktifUjV_1CKvkQtsPnXwGZV8w@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3124)

Thanks!

After we get 2.4.next out, I plan on diving in.

> On Mar 14, 2016, at 2:08 PM, Alexey Melezhik <melezhik@gmail.com> =
wrote:
>=20
> I have just update some docs on swatpm.org to help beginners start
> with swat on more gentle way:
>=20
> - http://swatpm.org/ - hello world example to start with
> - http://swatpm.org/faq - FAQ page with answers to possible common
> questions about swat
>=20
> Regards
>=20
> PS anyway, if anybody succeeded in starting writing tests with swat?
> Please let me know .... Thanks
>=20
>=20
> 2016-02-04 14:07 GMT+03:00 Alexey Melezhik <melezhik@gmail.com>:
>> Hi!
>>=20
>> Recently I have started apache-swat project
>> https://github.com/melezhik/apache-swat , thanks to Bill
>> for supporting my first attempt -
>> =
http://mail-archives.apache.org/mod_mbox/httpd-dev/201601.mbox/%3CCACsi253=
b6=3DVufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com%3E
>>=20
>> As being newbie in apache project I'd be glad to get a feedback from
>> apache developers
>>=20
>> * is it clear what apache-swat is?
>> * is it useful / helpful ?
>> * what things could be improved
>>=20
>> About apache-swat in few words.
>>=20
>> * apache-swat is test suites base to be run on local developer's =
environment
>> * test suites is on per issues basis, issues taken by me ( in almost =
)
>> random  ) mode from https://bz.apache.org/bugzilla/ and get converted
>> into test scenarios
>> * everyone is encourage create new tests for existed or new issues
>> * apache-swat  tries to be as irrelevant as possible to your local
>> environment so allow tests suite installation / configuration process
>> with minimal efforts , a minimal conventions on your local =
environment
>> are:
>>=20
>> - you have perl  ( almost any version )
>> - you have cpan or cpanm ( to install swat cpan module )
>> - you have git to checkout tests suite from
>> https://github.com/melezhik/apache-swat
>> -  you have vanilla apache installed according
>> https://httpd.apache.org/docs/2.2/en/install.html or
>> https://httpd.apache.org/docs/2.4/en/install.html
>> - and then you follow a simple instruction to bootstrap apache-swat =
tests suite
>>=20
>> * tests sites could be run in whole chunk ( all tests ), just say:
>>=20
>>  $ swat
>>=20
>> * or you may run a certain test of your interest , mostly this is per
>> issue tests, for example:
>>=20
>> $ swat  -t 58854 # run tests for issue
>> https://bz.apache.org/bugzilla/show_bug.cgi?id=3D58854
>>=20
>>=20
>> Contributing to apache-swat:
>>=20
>> * git fork
>> * write new tests for issue - t foo-bar-baz
>> * make github MR
>>=20
>>=20
>> Existed issues list covered by apache-swat
>>=20
>> 44221
>> 46751
>> 58777
>> 58789
>> 58854
>>=20
>> I have posted an information about apache-swat tests suite existence
>> to  proper Bugzilla issue pages.
>>=20
>>=20
>> Thanks in advance
>>=20
>>=20
>> Alexey Melezhik


From dev-return-86048-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 18:47:27 2016
Return-Path: <dev-return-86048-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DA6EB19D5C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 18:47:26 +0000 (UTC)
Received: (qmail 54516 invoked by uid 500); 23 Mar 2016 18:47:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54292 invoked by uid 500); 23 Mar 2016 18:47:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54106 invoked by uid 99); 23 Mar 2016 18:47:25 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 18:47:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 543B6C2930
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 18:47:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id fHZfN5Ed4Pzw for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 18:47:23 +0000 (UTC)
Received: from mail-wm0-f46.google.com (mail-wm0-f46.google.com [74.125.82.46])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 8BF415F33E
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 18:47:22 +0000 (UTC)
Received: by mail-wm0-f46.google.com with SMTP id l68so245713042wml.0
        for <dev@httpd.apache.org>; Wed, 23 Mar 2016 11:47:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=jb1YUynec/7paPg6oxpbH7tu21TAAY25RT6JFgbOflc=;
        b=HVkCbHZxEBjhb8EY0Vz2KOwLb5mR4zIxWn8X/GY13/CAwQXXw+qHlbgSUl3Ag970yI
         NTAgX6Un+5Snlr39kEgz+Orwz7sL5jGaX4CJeasf9lbSjqzp55N/ap+AN1mFPT45nSSX
         +r65qAYvULakoCR3O+tw0C1s/jdahShpVA8udX262nbqK20EihTb+uYNIYI+yNDK+RiD
         A+eng5cQgR6icpQ6poTtWUuQP5kaggk2YnyAG486qjN7TNLve23GJNQAkYK9D18CJHO4
         BdGb/kI8Zn4glzYfKOM3PpRSi1/0ctLojXJzvvoM9h5KQbaOi+2Erwi/tf6qXzkzuKMT
         fULQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=jb1YUynec/7paPg6oxpbH7tu21TAAY25RT6JFgbOflc=;
        b=dGzgmLQ2RX1Noy0JcNoCWOc2JBj2+W/VdfY9UGmcx59rPRKawqLzaHP2+2/cl/7sS8
         R8mazzQVU02XiRFOp9aQTCYEA0TzwK3I9fF+M/1bE9hESBfLu+J+FZqtP0Gl6euPkeEx
         WOFIPsKNmYab6t4ZRM7h92VUz4uBwUnrQWpa8yWmS+8mbb4ETymwwq5xmFrur8AFpZus
         8Xk2XcJT71DJJtbPae7+dRIAngazjM1AybzM+rll7Nw0az62r1WSZGuj9RX8IqnfRto4
         IebrEf43xAD/3ypL2wVRcDeuH/ziWJodvYGIeQWZvV+B14IINJ5cUG8yAd2U5zOKQBAR
         9c3w==
X-Gm-Message-State: AD7BkJKyPH1fs0skuQRE/oZy+iFnBD52izlWMAdVjENnBsHrBNPwha9tD50TNvMmP7+leBg4ACvZjO6B222Rig==
MIME-Version: 1.0
X-Received: by 10.28.194.9 with SMTP id s9mr12033174wmf.101.1458758841383;
 Wed, 23 Mar 2016 11:47:21 -0700 (PDT)
Received: by 10.194.11.3 with HTTP; Wed, 23 Mar 2016 11:47:21 -0700 (PDT)
In-Reply-To: <98D69E19-A628-4EC3-B991-4E7A5779F962@jaguNET.com>
References: <CAL7UUk-zqb1=7wDvCe8E-Ku=U=aY0MdJ_-JgCjVzZdvAranKQg@mail.gmail.com>
	<CAL7UUk8fahmUU-FKE0Mn_PRa_ktifUjV_1CKvkQtsPnXwGZV8w@mail.gmail.com>
	<98D69E19-A628-4EC3-B991-4E7A5779F962@jaguNET.com>
Date: Wed, 23 Mar 2016 21:47:21 +0300
Message-ID: <CAL7UUk99JZy8faf7Y4a_mZLn4fzGqR-4oUsWQ8LCy+ALUc-74w@mail.gmail.com>
Subject: Re: apache-swat project - need feedback!
From: Alexey Melezhik <melezhik@gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a114b10508dc0af052ebbc27b

--001a114b10508dc0af052ebbc27b
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi Jim, sounds good! Let me know if anything else you need. Also keep swat
updated from cpan, as I have been developing it, adding new features , bug
fixes and improvements , to make swat better and easier to use.

=D1=81=D1=80=D0=B5=D0=B4=D0=B0, 23 =D0=BC=D0=B0=D1=80=D1=82=D0=B0 2016 =D0=
=B3. =D0=BF=D0=BE=D0=BB=D1=8C=D0=B7=D0=BE=D0=B2=D0=B0=D1=82=D0=B5=D0=BB=D1=
=8C Jim Jagielski =D0=BD=D0=B0=D0=BF=D0=B8=D1=81=D0=B0=D0=BB:

> Thanks!
>
> After we get 2.4.next out, I plan on diving in.
>
> > On Mar 14, 2016, at 2:08 PM, Alexey Melezhik <melezhik@gmail.com
> <javascript:;>> wrote:
> >
> > I have just update some docs on swatpm.org to help beginners start
> > with swat on more gentle way:
> >
> > - http://swatpm.org/ - hello world example to start with
> > - http://swatpm.org/faq - FAQ page with answers to possible common
> > questions about swat
> >
> > Regards
> >
> > PS anyway, if anybody succeeded in starting writing tests with swat?
> > Please let me know .... Thanks
> >
> >
> > 2016-02-04 14:07 GMT+03:00 Alexey Melezhik <melezhik@gmail.com
> <javascript:;>>:
> >> Hi!
> >>
> >> Recently I have started apache-swat project
> >> https://github.com/melezhik/apache-swat , thanks to Bill
> >> for supporting my first attempt -
> >>
> http://mail-archives.apache.org/mod_mbox/httpd-dev/201601.mbox/%3CCACsi25=
3b6=3DVufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail.com%3E
> >>
> >> As being newbie in apache project I'd be glad to get a feedback from
> >> apache developers
> >>
> >> * is it clear what apache-swat is?
> >> * is it useful / helpful ?
> >> * what things could be improved
> >>
> >> About apache-swat in few words.
> >>
> >> * apache-swat is test suites base to be run on local developer's
> environment
> >> * test suites is on per issues basis, issues taken by me ( in almost )
> >> random  ) mode from https://bz.apache.org/bugzilla/ and get converted
> >> into test scenarios
> >> * everyone is encourage create new tests for existed or new issues
> >> * apache-swat  tries to be as irrelevant as possible to your local
> >> environment so allow tests suite installation / configuration process
> >> with minimal efforts , a minimal conventions on your local environment
> >> are:
> >>
> >> - you have perl  ( almost any version )
> >> - you have cpan or cpanm ( to install swat cpan module )
> >> - you have git to checkout tests suite from
> >> https://github.com/melezhik/apache-swat
> >> -  you have vanilla apache installed according
> >> https://httpd.apache.org/docs/2.2/en/install.html or
> >> https://httpd.apache.org/docs/2.4/en/install.html
> >> - and then you follow a simple instruction to bootstrap apache-swat
> tests suite
> >>
> >> * tests sites could be run in whole chunk ( all tests ), just say:
> >>
> >>  $ swat
> >>
> >> * or you may run a certain test of your interest , mostly this is per
> >> issue tests, for example:
> >>
> >> $ swat  -t 58854 # run tests for issue
> >> https://bz.apache.org/bugzilla/show_bug.cgi?id=3D58854
> >>
> >>
> >> Contributing to apache-swat:
> >>
> >> * git fork
> >> * write new tests for issue - t foo-bar-baz
> >> * make github MR
> >>
> >>
> >> Existed issues list covered by apache-swat
> >>
> >> 44221
> >> 46751
> >> 58777
> >> 58789
> >> 58854
> >>
> >> I have posted an information about apache-swat tests suite existence
> >> to  proper Bugzilla issue pages.
> >>
> >>
> >> Thanks in advance
> >>
> >>
> >> Alexey Melezhik
>
>

--001a114b10508dc0af052ebbc27b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi Jim, sounds=C2=A0good!=C2=A0Let=C2=A0me know if anything else you need. =
Also keep swat updated from cpan, as I have been developing it, adding new =
features , bug fixes and improvements , to make swat better and easier to u=
se.=C2=A0<br><br>=D1=81=D1=80=D0=B5=D0=B4=D0=B0, 23 =D0=BC=D0=B0=D1=80=D1=
=82=D0=B0 2016 =D0=B3. =D0=BF=D0=BE=D0=BB=D1=8C=D0=B7=D0=BE=D0=B2=D0=B0=D1=
=82=D0=B5=D0=BB=D1=8C Jim Jagielski  =D0=BD=D0=B0=D0=BF=D0=B8=D1=81=D0=B0=
=D0=BB:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bor=
der-left:1px #ccc solid;padding-left:1ex">Thanks!<br>
<br>
After we get 2.4.next out, I plan on diving in.<br>
<br>
&gt; On Mar 14, 2016, at 2:08 PM, Alexey Melezhik &lt;<a href=3D"javascript=
:;" onclick=3D"_e(event, &#39;cvml&#39;, &#39;melezhik@gmail.com&#39;)">mel=
ezhik@gmail.com</a>&gt; wrote:<br>
&gt;<br>
&gt; I have just update some docs on <a href=3D"http://swatpm.org" target=
=3D"_blank">swatpm.org</a> to help beginners start<br>
&gt; with swat on more gentle way:<br>
&gt;<br>
&gt; - <a href=3D"http://swatpm.org/" target=3D"_blank">http://swatpm.org/<=
/a> - hello world example to start with<br>
&gt; - <a href=3D"http://swatpm.org/faq" target=3D"_blank">http://swatpm.or=
g/faq</a> - FAQ page with answers to possible common<br>
&gt; questions about swat<br>
&gt;<br>
&gt; Regards<br>
&gt;<br>
&gt; PS anyway, if anybody succeeded in starting writing tests with swat?<b=
r>
&gt; Please let me know .... Thanks<br>
&gt;<br>
&gt;<br>
&gt; 2016-02-04 14:07 GMT+03:00 Alexey Melezhik &lt;<a href=3D"javascript:;=
" onclick=3D"_e(event, &#39;cvml&#39;, &#39;melezhik@gmail.com&#39;)">melez=
hik@gmail.com</a>&gt;:<br>
&gt;&gt; Hi!<br>
&gt;&gt;<br>
&gt;&gt; Recently I have started apache-swat project<br>
&gt;&gt; <a href=3D"https://github.com/melezhik/apache-swat" target=3D"_bla=
nk">https://github.com/melezhik/apache-swat</a> , thanks to Bill<br>
&gt;&gt; for supporting my first attempt -<br>
&gt;&gt; <a href=3D"http://mail-archives.apache.org/mod_mbox/httpd-dev/2016=
01.mbox/%3CCACsi253b6=3DVufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mail.gmail=
.com%3E" target=3D"_blank">http://mail-archives.apache.org/mod_mbox/httpd-d=
ev/201601.mbox/%3CCACsi253b6=3DVufVyRW3J0iXYhMGRUzLYY1+uFRENAXfkD+Reaag@mai=
l.gmail.com%3E</a><br>
&gt;&gt;<br>
&gt;&gt; As being newbie in apache project I&#39;d be glad to get a feedbac=
k from<br>
&gt;&gt; apache developers<br>
&gt;&gt;<br>
&gt;&gt; * is it clear what apache-swat is?<br>
&gt;&gt; * is it useful / helpful ?<br>
&gt;&gt; * what things could be improved<br>
&gt;&gt;<br>
&gt;&gt; About apache-swat in few words.<br>
&gt;&gt;<br>
&gt;&gt; * apache-swat is test suites base to be run on local developer&#39=
;s environment<br>
&gt;&gt; * test suites is on per issues basis, issues taken by me ( in almo=
st )<br>
&gt;&gt; random=C2=A0 ) mode from <a href=3D"https://bz.apache.org/bugzilla=
/" target=3D"_blank">https://bz.apache.org/bugzilla/</a> and get converted<=
br>
&gt;&gt; into test scenarios<br>
&gt;&gt; * everyone is encourage create new tests for existed or new issues=
<br>
&gt;&gt; * apache-swat=C2=A0 tries to be as irrelevant as possible to your =
local<br>
&gt;&gt; environment so allow tests suite installation / configuration proc=
ess<br>
&gt;&gt; with minimal efforts , a minimal conventions on your local environ=
ment<br>
&gt;&gt; are:<br>
&gt;&gt;<br>
&gt;&gt; - you have perl=C2=A0 ( almost any version )<br>
&gt;&gt; - you have cpan or cpanm ( to install swat cpan module )<br>
&gt;&gt; - you have git to checkout tests suite from<br>
&gt;&gt; <a href=3D"https://github.com/melezhik/apache-swat" target=3D"_bla=
nk">https://github.com/melezhik/apache-swat</a><br>
&gt;&gt; -=C2=A0 you have vanilla apache installed according<br>
&gt;&gt; <a href=3D"https://httpd.apache.org/docs/2.2/en/install.html" targ=
et=3D"_blank">https://httpd.apache.org/docs/2.2/en/install.html</a> or<br>
&gt;&gt; <a href=3D"https://httpd.apache.org/docs/2.4/en/install.html" targ=
et=3D"_blank">https://httpd.apache.org/docs/2.4/en/install.html</a><br>
&gt;&gt; - and then you follow a simple instruction to bootstrap apache-swa=
t tests suite<br>
&gt;&gt;<br>
&gt;&gt; * tests sites could be run in whole chunk ( all tests ), just say:=
<br>
&gt;&gt;<br>
&gt;&gt;=C2=A0 $ swat<br>
&gt;&gt;<br>
&gt;&gt; * or you may run a certain test of your interest , mostly this is =
per<br>
&gt;&gt; issue tests, for example:<br>
&gt;&gt;<br>
&gt;&gt; $ swat=C2=A0 -t 58854 # run tests for issue<br>
&gt;&gt; <a href=3D"https://bz.apache.org/bugzilla/show_bug.cgi?id=3D58854"=
 target=3D"_blank">https://bz.apache.org/bugzilla/show_bug.cgi?id=3D58854</=
a><br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; Contributing to apache-swat:<br>
&gt;&gt;<br>
&gt;&gt; * git fork<br>
&gt;&gt; * write new tests for issue - t foo-bar-baz<br>
&gt;&gt; * make github MR<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; Existed issues list covered by apache-swat<br>
&gt;&gt;<br>
&gt;&gt; 44221<br>
&gt;&gt; 46751<br>
&gt;&gt; 58777<br>
&gt;&gt; 58789<br>
&gt;&gt; 58854<br>
&gt;&gt;<br>
&gt;&gt; I have posted an information about apache-swat tests suite existen=
ce<br>
&gt;&gt; to=C2=A0 proper Bugzilla issue pages.<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; Thanks in advance<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; Alexey Melezhik<br>
<br>
</blockquote>

--001a114b10508dc0af052ebbc27b--

From dev-return-86049-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 23 20:23:56 2016
Return-Path: <dev-return-86049-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0297C18392
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Mar 2016 20:23:56 +0000 (UTC)
Received: (qmail 67898 invoked by uid 500); 23 Mar 2016 20:23:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67813 invoked by uid 500); 23 Mar 2016 20:23:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67803 invoked by uid 99); 23 Mar 2016 20:23:55 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Mar 2016 20:23:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 552EE1A4982
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 20:23:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id XI9jKi70JEbN for <dev@httpd.apache.org>;
	Wed, 23 Mar 2016 20:23:51 +0000 (UTC)
Received: from mail-io0-f173.google.com (mail-io0-f173.google.com [209.85.223.173])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id D56AD5F248
	for <dev@httpd.apache.org>; Wed, 23 Mar 2016 20:23:51 +0000 (UTC)
Received: by mail-io0-f173.google.com with SMTP id v187so33568879ioe.2
        for <dev@httpd.apache.org>; Wed, 23 Mar 2016 13:23:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=1g/vFFClB2xmz5u0K2QMJ4XHcoiTOX8eLCqnEdSLGHs=;
        b=Ooayjhu3Ij74u4w/L+JwYFkfiFbx2jbtTioHOVN0pQhPVjn3lLsqtCTpDeIIq5cmRv
         XU0Al8KjxgpSHFpv1tWLGnjpV9z4kCtLQaiBfWBKiSt2cOCPnYmRHLO5uj+0r2RMo8K8
         Bu8mdijoMRDE6vENgyrCsNh1vH8hXnuZLqtbIRpyQ91NMevQ/U7C+iqb1UwIyIv0iqBz
         wphW1ZbPI4Z68N65bjVc93bvmYILHpUe+Rfku8lyAOCAkpYUpHgCxKVrzPSohk5rCQU+
         CVwjDNu8lVTNP+LP0LdDDzQAgNV7L/kSKcfTQpc7MThrl924Sg6/EPNFE+FKKwWS/x7s
         BnbA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=1g/vFFClB2xmz5u0K2QMJ4XHcoiTOX8eLCqnEdSLGHs=;
        b=GMS2VvUM/WTKmWsQ3JMuqBOhpxCuaB+z2hz0KL9o2udZzYT1rvc5+XBemQa7JiF+h8
         HWrQBmuHTzujuAw9NdKqFacn44q1P0c8zbYNtRCGnnopUF2r9jlYILPX2gp2oJaiRFmy
         Tf4ViFyT62NOVZ1K7jsTjjVUHpRp6M305S9gt+W5FNEVBWzuDFz9mhMw2tJeY6HTheGT
         z9W+I611Bszc0xZsBCW1DLXs6yw/Kw1thJ5ZsXojtHAsYaZa2Vw9tNcGBkv9lPyOwerc
         D9WVBSzExjHdWi0SqWWYOjU6M2vCU6+qM31pvK62kESQkjPoexhLK6mKtmWTQk/zJv39
         EzlQ==
X-Gm-Message-State: AD7BkJJYZHQP9QhX0Oy9Oaw4HeeXiXZktr7EA2H7bF3cwI7MIPiKP4vmM2C9x5UZhxkFAUHim2P/jGWczhNIGtI9
MIME-Version: 1.0
X-Received: by 10.50.50.177 with SMTP id d17mr26987561igo.32.1458764630826;
 Wed, 23 Mar 2016 13:23:50 -0700 (PDT)
Received: by 10.107.149.12 with HTTP; Wed, 23 Mar 2016 13:23:50 -0700 (PDT)
In-Reply-To: <56f2c072.c6c.1634.354c@land10.nl>
References: <56f2c072.c6c.1634.354c@land10.nl>
Date: Wed, 23 Mar 2016 15:23:50 -0500
Message-ID: <CACsi253tipn9EsGiRd942AHox5fOBRC0rS1NVM3Kefqf13YH7g@mail.gmail.com>
Subject: Re: 2.4.20 Change dsp: Win32-specific build files.
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7bdca686a1d3ed052ebd1b0b

--047d7bdca686a1d3ed052ebd1b0b
Content-Type: text/plain; charset=UTF-8

On Wed, Mar 23, 2016 at 11:12 AM, Steffen <info@apachelounge.com> wrote:

> I went earlier back, so I did a .dsp/GUI build with no issues.
>
> Build with SVN revision 1736328.
>
> Running looks also fine sofar.
>

Glad to hear, thanks for testing.  I've updated the commit log message
to more clearly explain the intent and avoid future confusion;

+Going forwards, keep win32 build in svn once a tree is stable.
+Visual Studio 2010 users cannot convert our .dsp files, and
+ddk toolchain users couldn't either.
+
+Applies the same logic as r1100294 on the 2.2.x branch.
+
 Until the cmake build schema is entirely mature, these files
 are needed for command-line builds of the 2.4 tree, and are
 expected to change very little until the EOL of 2.4 branch.
-The actual .dsp files are entirely unusable for any shipping
-version of MSVC/Visual Studio, while the .mak exports of these
-projects are usable on any flavor of the MS build environment.
+
+The .dsp source files are not directly usable for any shipping
+version of MSVC/Visual Studio (post-Visual Studio 97 release),
+while the .mak exports of these projects are usable on any flavor
+of the MS nmake build environment.  The .dsp source files are
+retained for those users wishing to import these projects into
+the modern vcproj/sln file format.

Hope that is more clear, further edit suggestions are welcome.

Cheers,

Bill

--047d7bdca686a1d3ed052ebd1b0b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On W=
ed, Mar 23, 2016 at 11:12 AM, Steffen <span dir=3D"ltr">&lt;<a href=3D"mail=
to:info@apachelounge.com" target=3D"_blank">info@apachelounge.com</a>&gt;</=
span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0=
px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-le=
ft-style:solid;padding-left:1ex">



<div>
<div>I went earlier back, so I did a .dsp/GUI build with no issues.=C2=A0</=
div><div><br></div><div>Build with SVN revision=C2=A0<span style=3D"font-si=
ze:12pt">1736328.</span></div><div><br></div><div>Running looks also fine s=
ofar.</div><span class=3D""><div></div></span></div></blockquote></div></di=
v><div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">Glad to h=
ear, thanks for testing.=C2=A0 I&#39;ve updated the commit log message</div=
><div class=3D"gmail_extra">to more clearly explain the intent and avoid fu=
ture confusion;</div><div class=3D"gmail_extra"><br></div><div class=3D"gma=
il_extra"><span style=3D"font-size:12.8px">+Going forwards, keep win32 buil=
d in svn once a tree is stable.</span><br style=3D"font-size:12.8px"><span =
style=3D"font-size:12.8px">+Visual Studio 2010 users cannot convert our .ds=
p files, and</span><br style=3D"font-size:12.8px"><span style=3D"font-size:=
12.8px">+ddk toolchain users couldn&#39;t either.</span><br style=3D"font-s=
ize:12.8px"><span style=3D"font-size:12.8px">+</span><br style=3D"font-size=
:12.8px"><span style=3D"font-size:12.8px">+Applies the same logic as r11002=
94 on the 2.2.x branch.</span><br style=3D"font-size:12.8px"><span style=3D=
"font-size:12.8px">+</span><br style=3D"font-size:12.8px"><span style=3D"fo=
nt-size:12.8px">=C2=A0Until the cmake build schema is entirely mature, thes=
e files</span><br style=3D"font-size:12.8px"><span style=3D"font-size:12.8p=
x">=C2=A0are needed for command-line builds of the 2.4 tree, and are</span>=
<br style=3D"font-size:12.8px"><span style=3D"font-size:12.8px">=C2=A0expec=
ted to change very little until the EOL of 2.4 branch.</span><br style=3D"f=
ont-size:12.8px"><span style=3D"font-size:12.8px">-The actual .dsp files ar=
e entirely unusable for any shipping</span><br style=3D"font-size:12.8px"><=
span style=3D"font-size:12.8px">-version of MSVC/Visual Studio, while the .=
mak exports of these</span><br style=3D"font-size:12.8px"><span style=3D"fo=
nt-size:12.8px">-projects are usable on any flavor of the MS build environm=
ent.</span><br style=3D"font-size:12.8px"><span style=3D"font-size:12.8px">=
+</span><br style=3D"font-size:12.8px"><span style=3D"font-size:12.8px">+Th=
e .dsp source files are not directly usable for any shipping</span><br styl=
e=3D"font-size:12.8px"><span style=3D"font-size:12.8px">+version of MSVC/Vi=
sual Studio (post-Visual Studio 97 release),</span><br style=3D"font-size:1=
2.8px"><span style=3D"font-size:12.8px">+while the .mak exports of these pr=
ojects are usable on any flavor</span><br style=3D"font-size:12.8px"><span =
style=3D"font-size:12.8px">+of the MS nmake build environment.=C2=A0 The .d=
sp source files are</span><br style=3D"font-size:12.8px"><span style=3D"fon=
t-size:12.8px">+retained for those users wishing to import these projects i=
nto</span><br style=3D"font-size:12.8px"><span style=3D"font-size:12.8px">+=
the modern vcproj/sln file format.</span><br></div><div class=3D"gmail_extr=
a"><span style=3D"font-size:12.8px"><br></span></div><div class=3D"gmail_ex=
tra"><span style=3D"font-size:12.8px">Hope that is more clear, further edit=
 suggestions are welcome.</span></div><div class=3D"gmail_extra"><span styl=
e=3D"font-size:12.8px"><br></span></div><div class=3D"gmail_extra"><span st=
yle=3D"font-size:12.8px">Cheers,</span></div><div class=3D"gmail_extra"><sp=
an style=3D"font-size:12.8px"><br></span></div><div class=3D"gmail_extra"><=
span style=3D"font-size:12.8px">Bill</span></div></div>

--047d7bdca686a1d3ed052ebd1b0b--

From dev-return-86050-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 00:55:47 2016
Return-Path: <dev-return-86050-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 33770192A0
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 00:55:47 +0000 (UTC)
Received: (qmail 79102 invoked by uid 500); 24 Mar 2016 00:55:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 79031 invoked by uid 500); 24 Mar 2016 00:55:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 79021 invoked by uid 99); 24 Mar 2016 00:55:46 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 00:55:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 0D822C8FFD
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 00:55:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.98
X-Spam-Level: *
X-Spam-Status: No, score=1.98 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_NONE=-0.0001, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=eng.ucsd.edu
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 7iRnEGepwxO4 for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 00:55:45 +0000 (UTC)
Received: from mail-yw0-f175.google.com (mail-yw0-f175.google.com [209.85.161.175])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 3A5C85F560
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 00:55:45 +0000 (UTC)
Received: by mail-yw0-f175.google.com with SMTP id h129so41195610ywb.1
        for <dev@httpd.apache.org>; Wed, 23 Mar 2016 17:55:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=eng.ucsd.edu; s=google;
        h=mime-version:sender:date:message-id:subject:from:to;
        bh=4BPbggQzdL+gEUSsUPnQUyp/1qCk5oh1s7mhHR0Hc24=;
        b=deU/dx4VlpqRVrCdm9LGMSglisF1gAGQZ8s3dTi7dUmEMaAsYsTfZldU32xike1129
         76Xq8cZcBId3AXa6o59bnZa3E3hGc4b2T76ZwHYpAfyX6IqdGNNzKZwuhpx7Naz9XXIq
         IpWCUr2K50PY61ucVa6RchWRV3UhZOMLCC/U0=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:sender:date:message-id:subject:from
         :to;
        bh=4BPbggQzdL+gEUSsUPnQUyp/1qCk5oh1s7mhHR0Hc24=;
        b=m7Jv6Sk9ocA1jHv4Zy6MhEfUhuF4ioRfMdIDMjgDPrmZ4wtJ+gfreO8kb+0NOvJM5H
         qpnIAOWVapon3T0skZRk22w/jeiEy0CbyMGdH6GwJ71cxC6vg8+znX72mHpiTjV1ScZY
         33BaEjog4i+8CrOj6/X3QcvSVPgaWz8STnvcu8OVYVxZScauVjaWWvWnBx1KeJzmo1Rb
         nJzIxLaiLkjnBli42Ql+FQIQzTO21EXxxEBtVmJPoZOgzvotX1ZQQre3M3fasWcJdKEq
         VP9hBZOzBbYTOPr9X2AuHE5LLx+dRST4+RPCHIXrPVebndsGrgROQpMoSrW2FMrgjKfi
         mAKw==
X-Gm-Message-State: AD7BkJKWJ3qnRmu+oJWi6HvjvvOkq0rCFFCn6tNjLC/9AZGqITPm202PoydhDcUFwR6wFodQbqfaq7IRVdeSchvf
MIME-Version: 1.0
X-Received: by 10.13.233.66 with SMTP id s63mr2956446ywe.36.1458780944457;
 Wed, 23 Mar 2016 17:55:44 -0700 (PDT)
Sender: tixu@eng.ucsd.edu
Received: by 10.129.108.210 with HTTP; Wed, 23 Mar 2016 17:55:44 -0700 (PDT)
Date: Wed, 23 Mar 2016 17:55:44 -0700
X-Google-Sender-Auth: OUFSptlk6-3e3cGDK-TBsWG2v0Q
Message-ID: <CABBDWwc-L0vyR79DT_rw8P+vk1sNSMWwsJuyTdNZETdy8EZCpQ@mail.gmail.com>
Subject: Questions on writing logging stmts in httpd
From: Tianyin Xu <tixu@cs.ucsd.edu>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=94eb2c064a100015ca052ec0e830

--94eb2c064a100015ca052ec0e830
Content-Type: text/plain; charset=UTF-8

Hi folks,

I've a question regarding writing logging statements in httpd code. I
notice that most of the logging statements are associated with a log
number, defined by the APLOGNO macro, while some others (in the same
module) do not. I have the following questions when writing new logging
statements,

1. What are these log numbers used for? (I remember the early versions do
not have these...)

2. What kinds of logs need the log numbers and what do not?

3. How to determine the number when writing a new logging statement? Is
there any specific rule to generate the number? If not, how to avoid the
collision?

Thanks a lot!
Tianyin

--94eb2c064a100015ca052ec0e830
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div><div>Hi folks,<br><br></div>I&#39;ve a question regar=
ding writing logging statements in httpd code. I notice that most of the lo=
gging statements are associated with a log number, defined by the APLOGNO m=
acro, while some others (in the same module) do not. I have the following q=
uestions when writing new logging statements,<br><br></div><div>1. What are=
 these log numbers used for? (I remember the early versions do not have the=
se...)<br></div><div><br></div><div>2. What kinds of logs need the log numb=
ers and what do not?<br><br></div><div>3. How to determine the number when =
writing a new logging statement? Is there any specific rule to generate the=
 number? If not, how to avoid the collision? <br><br></div><div>Thanks a lo=
t!<br></div><div>Tianyin <br></div><div><br></div></div>

--94eb2c064a100015ca052ec0e830--

From dev-return-86051-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 01:08:02 2016
Return-Path: <dev-return-86051-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9339819314
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 01:08:02 +0000 (UTC)
Received: (qmail 10277 invoked by uid 500); 24 Mar 2016 01:08:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10197 invoked by uid 500); 24 Mar 2016 01:08:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10187 invoked by uid 99); 24 Mar 2016 01:08:02 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 01:08:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A594EC0217
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 01:08:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.73
X-Spam-Level: **
X-Spam-Status: No, score=2.73 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	KAM_INFOUSMEBIZ=0.75, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=eng.ucsd.edu
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id oilyBQirbEZx for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 01:07:59 +0000 (UTC)
Received: from mail-yw0-f173.google.com (mail-yw0-f173.google.com [209.85.161.173])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id A0B935F248
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 01:07:58 +0000 (UTC)
Received: by mail-yw0-f173.google.com with SMTP id h129so41477610ywb.1
        for <dev@httpd.apache.org>; Wed, 23 Mar 2016 18:07:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=eng.ucsd.edu; s=google;
        h=mime-version:sender:in-reply-to:references:date:message-id:subject
         :from:to;
        bh=4Fr2HQk9BXw0qRnis2mTcAg4f3Ut3tWUiKaqiTKa54Y=;
        b=X0CJ6nHlis9Jq/Cux57vcB30il/iF7TUsQvP7mftM/G7tl20CYd7L5nw88PQdK+aZr
         YYQ9vsE6k7m9tsHZI/5DcT4cJb/MidTqaCv6tCoDgLNhcyvxRSkbyzju6fEPXMX7I43h
         4NNac77TXlCAbKQ5desuetC8AXUJjUXqFf5sM=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:sender:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=4Fr2HQk9BXw0qRnis2mTcAg4f3Ut3tWUiKaqiTKa54Y=;
        b=G0JjN+ImPaP4GrXHtXxYtlEE9n40RzjQVK2aNBmmuO6v5RPQKurQNpGLR5kilXd/KC
         zPS0QVJ02lY8bjuNLAQERwPLwhvtQkY/DpgtPYW91vcM0/XtIWh/qp0ia0rQGAS83mR/
         te+O3oBFrB/pKWKE6JzxSZvbWSMTqIT77PKtvg0ljpjilXorOS5IQxkYEvRqVt9Btnn0
         4rDLeBmqbxH7ghFLqA1JsI+BK9VRjjiMKfG12cCs7jNlqObxv30t01dDrShXIRUU4mAc
         NQujvoa0KHbnRTpq9CcOJqr0fS2i71U8Cjct02h5cNMeKG5QrVvlVsXQUPHiK7Qkn9+r
         Ho8A==
X-Gm-Message-State: AD7BkJJT6DdWEoGt4T+eao7wtPlDOcBo3tA5oiPeaHOSftMv2n3FmcjKeipZV29IJt3/PHVuzuvWtffDzr1p9rwH
MIME-Version: 1.0
X-Received: by 10.13.223.74 with SMTP id i71mr2858380ywe.335.1458781677750;
 Wed, 23 Mar 2016 18:07:57 -0700 (PDT)
Sender: tixu@eng.ucsd.edu
Received: by 10.129.108.210 with HTTP; Wed, 23 Mar 2016 18:07:57 -0700 (PDT)
In-Reply-To: <CABBDWwc-L0vyR79DT_rw8P+vk1sNSMWwsJuyTdNZETdy8EZCpQ@mail.gmail.com>
References: <CABBDWwc-L0vyR79DT_rw8P+vk1sNSMWwsJuyTdNZETdy8EZCpQ@mail.gmail.com>
Date: Wed, 23 Mar 2016 18:07:57 -0700
X-Google-Sender-Auth: M8BdSnLF1fgs9xzTP4A-tjX1XyA
Message-ID: <CABBDWwf5akvU0m10e-t0YH17gs53vTJotoSAKqC2gLXXFMZEnw@mail.gmail.com>
Subject: Re: Questions on writing logging stmts in httpd
From: Tianyin Xu <tixu@cs.ucsd.edu>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a114e593cb53e3d052ec1135b

--001a114e593cb53e3d052ec1135b
Content-Type: text/plain; charset=UTF-8

I find a previous post,
http://marc.info/?t=140579318800001&r=1&w=2

which helped answer the 2nd question, basically, "anything more important
than DEBUG needs a number."

but it does not answer the Question #1 and #3 :-|

~t



On Wed, Mar 23, 2016 at 5:55 PM, Tianyin Xu <tixu@cs.ucsd.edu> wrote:

> Hi folks,
>
> I've a question regarding writing logging statements in httpd code. I
> notice that most of the logging statements are associated with a log
> number, defined by the APLOGNO macro, while some others (in the same
> module) do not. I have the following questions when writing new logging
> statements,
>
> 1. What are these log numbers used for? (I remember the early versions do
> not have these...)
>
> 2. What kinds of logs need the log numbers and what do not?
>
> 3. How to determine the number when writing a new logging statement? Is
> there any specific rule to generate the number? If not, how to avoid the
> collision?
>
> Thanks a lot!
> Tianyin
>
>

--001a114e593cb53e3d052ec1135b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div>I find a previous post, <br><a href=3D"http://marc.in=
fo/?t=3D140579318800001&amp;r=3D1&amp;w=3D2">http://marc.info/?t=3D14057931=
8800001&amp;r=3D1&amp;w=3D2</a><br><br></div><div>which helped answer the 2=
nd question, basically, &quot;anything more important than DEBUG needs a nu=
mber.&quot;<br><br></div><div>but it does not answer the Question #1 and #3=
 :-|<br><br></div><div>~t<br></div><div><br><br></div><div class=3D"gmail_e=
xtra"><br><div class=3D"gmail_quote">On Wed, Mar 23, 2016 at 5:55 PM, Tiany=
in Xu <span dir=3D"ltr">&lt;<a href=3D"mailto:tixu@cs.ucsd.edu" target=3D"_=
blank">tixu@cs.ucsd.edu</a>&gt;</span> wrote:<br><blockquote class=3D"gmail=
_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:=
1ex"><div dir=3D"ltr"><div><div>Hi folks,<br><br></div>I&#39;ve a question =
regarding writing logging statements in httpd code. I notice that most of t=
he logging statements are associated with a log number, defined by the APLO=
GNO macro, while some others (in the same module) do not. I have the follow=
ing questions when writing new logging statements,<br><br></div><div>1. Wha=
t are these log numbers used for? (I remember the early versions do not hav=
e these...)<br></div><div><br></div><div>2. What kinds of logs need the log=
 numbers and what do not?<br><br></div><div>3. How to determine the number =
when writing a new logging statement? Is there any specific rule to generat=
e the number? If not, how to avoid the collision? <br><br></div><div>Thanks=
 a lot!<span class=3D"HOEnZb"><font color=3D"#888888"><br></font></span></d=
iv><span class=3D"HOEnZb"><font color=3D"#888888"><div>Tianyin <br></div><d=
iv><br></div></font></span></div>
</blockquote></div><br></div></div>

--001a114e593cb53e3d052ec1135b--

From dev-return-86052-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 03:19:33 2016
Return-Path: <dev-return-86052-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 71CF519714
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 03:19:33 +0000 (UTC)
Received: (qmail 68782 invoked by uid 500); 24 Mar 2016 03:19:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68690 invoked by uid 500); 24 Mar 2016 03:19:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68680 invoked by uid 99); 24 Mar 2016 03:19:32 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 03:19:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 58E93C0217
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 03:19:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.702
X-Spam-Level:
X-Spam-Status: No, score=-0.702 tagged_above=-999 required=6.31
	tests=[HEADER_FROM_DIFFERENT_DOMAINS=0.001, RCVD_IN_DNSWL_LOW=-0.7,
	RP_MATCHES_RCVD=-0.001, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id ZYRjwhN8XgFu for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 03:19:29 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 766355F3F2
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 03:19:28 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1aivns-0007ZY-OE
	for dev@httpd.apache.org; Thu, 24 Mar 2016 04:19:21 +0100
Received: from 227-116.citynet.ftth.internl.net ([85.223.116.227])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 04:19:20 +0100
Received: from phpdev by 227-116.citynet.ftth.internl.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 04:19:20 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Jan Ehrhardt <phpdev@ehrhardt.nl>
Subject: Re: Status for 2.4.20
Date: Thu, 24 Mar 2016 04:19:14 +0100
Lines: 52
Message-ID: <nmm6fbd0k5kqgtpov6vfqc3r0idesf477k@4ax.com>
References: <56f27c86.c6c.1338.241b@land10.nl> <CACsi253+=Q3V1AWczGvWmJuTfGEhsue186sBBcC=WH7g9QZODg@mail.gmail.com> <CACsi250h9LXcpg-nutSmhY_kBbLS1srEOzKyAXRN5_2=pafZtQ@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: 227-116.citynet.ftth.internl.net
X-Newsreader: Forte Agent 3.3/32.846

William A Rowe Jr in gmane.comp.apache.devel (Wed, 23 Mar 2016 08:00:19
-0500):
>On Wed, Mar 23, 2016 at 7:42 AM, William A Rowe Jr <wrowe@rowe-clan.net>
>wrote:
>
>> Again, a C89 regression breaking the candidate, but in an experimental
>> module that we don't promise will always build.  nghttp2 is filled with C99
>> code, AIUI - due to bad decisions about basic C types - that library can
>> only build.
>>
>Whoops, answering too quickly...
>
>that library can only build *correctly* under the latest MSVC 14 (aka
>Studio 2015) when you are compiling for 64-bits on Windows (not an issue
>with 32 bit builds).

How do you define 'correctly'? nghttp2 (git head) builds with only a
single warning on VC14 x86:

c:\php-sdk\prebuilt\nghttp2\lib\nghttp2_session.c(6767) : warning C4715:
'nghttp2_session_get_remote_settings': not all control paths return a
value

VC11 x86 and VC9 x86 builds of nghttp2 give a couple of extra warnings:

nghttp2_session.c(160) : warning C4996: 'vsnprintf': This function or
variable may be unsafe. Consider using vsnprintf_s instead. To disable
deprecation, use _CRT_SECURE_NO_WARNINGS.

All x64 builds issue many more warnings:

cl -nologo -MD  -W3 -Z7 -DBUILDING_NGHTTP2 -I./includes -Dssize_t=long
-D_U_="" -FoMSVC_obj /r_nghttp2_session.obj -c nghttp2_session.c
nghttp2_session.c
nghttp2_session.c(5092): warning C4244: 'return': conversion from
'__int64' to 'long', possible loss of data
nghttp2_session.c(5122): warning C4244: 'return': conversion from
'__int64' to 'long', possible loss of data
nghttp2_session.c(5477): warning C4244: 'return': conversion from
'__int64' to 'long', possible loss of data
nghttp2_session.c(5704): warning C4244: 'return': conversion from
'__int64' to 'long', possible loss of data
nghttp2_session.c(5888): warning C4244: 'return': conversion from
'__int64' to 'long', possible loss of data
nghttp2_session.c(5952): warning C4244: 'return': conversion from
'__int64' to 'long', possible loss of data
nghttp2_session.c(6082): warning C4244: 'return': conversion from
'__int64' to 'long', possible loss of data
nghttp2_session.c(6191): warning C4244: 'return': conversion from
'__int64' to 'long', possible loss of data

Jan


From dev-return-86053-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 09:08:48 2016
Return-Path: <dev-return-86053-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 386DF1847D
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 09:08:48 +0000 (UTC)
Received: (qmail 79483 invoked by uid 500); 24 Mar 2016 09:08:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 79401 invoked by uid 500); 24 Mar 2016 09:08:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 79378 invoked by uid 99); 24 Mar 2016 09:08:47 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 09:08:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 099E2C2A8A;
	Thu, 24 Mar 2016 09:08:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id jOdvOG2voxgE; Thu, 24 Mar 2016 09:08:46 +0000 (UTC)
Received: from mail-lb0-f182.google.com (mail-lb0-f182.google.com [209.85.217.182])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id B41A25F247;
	Thu, 24 Mar 2016 09:08:45 +0000 (UTC)
Received: by mail-lb0-f182.google.com with SMTP id qe11so25840979lbc.3;
        Thu, 24 Mar 2016 02:08:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=pd9253ROeZnZfVOx6PTIFyugJsIQ4FCCar0dFqfc8VA=;
        b=ItViJA54/dQHX/DAsdMndK7/VmDokHLoVdLN8O1T82ZN6J6bCe1U5ld8uHpa5rE8QE
         KvcBwEx0tQSUqOuqyeU8RmkkvB3cgK9JiRtmJa7ty78ULsPDvVTO2Aby/1CvJs9ApPmK
         MO39VneJpCasb1Hm4U7Vu0vSnt9O7P8/0z7/cnzOvTVyEgwLK0FuCJf4o8iApUSdgMld
         Lnky5q/PTOkgKTjVoUNDcmu8+PM2dQ6De1D2sP5FeLzTueS9O16UO3W8OgFlrtRj8Qdd
         VhjGZZkyPECk03kn4B4btv71oX/bKBWHJIFhEIeFo1ToPiyDxXqbFiNhNGVGeMNelMOV
         8JJw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=pd9253ROeZnZfVOx6PTIFyugJsIQ4FCCar0dFqfc8VA=;
        b=jnQ8lr/A9RcSdBFtiM1S3g6E1HQczVx6AnUWxlLcTh93IF62OQC9Orr8YIkMnjxbgf
         AB7FnlyDrJDCPekt45HamEwzYbekBSoTSpo9kGvl8Q/uoJJ/HQ2KdfyntDljr3NMh4Ko
         dOCSgaxXI9Fy7HiZ+7C7bAleNXKfBdYFFrFY7GoTSZFAlKlc3v+Q0+0OqYr4Xpq10d3o
         4+qE0YQbpehdWzyxl31+8jaU6kitVUFDm68Ynpwlty0mGX3QdbAPQkAnNLNvDndwfTib
         4lDRzQ4wnVjiNKPfYMPcpUzIwdITSQO6KuUBQeB65gSJ7zzPVjZAhl6tIDDVhG6aSdxJ
         OnAA==
X-Gm-Message-State: AD7BkJKHE7Mo+C7lqYQMS1Bq/yIqTuhtSfcudUE0gafmKJbzEelYZMEePUIGUkKGPkgRW2NIH0ynmuh/6zXcbw==
MIME-Version: 1.0
X-Received: by 10.112.163.135 with SMTP id yi7mr2852282lbb.122.1458810524222;
 Thu, 24 Mar 2016 02:08:44 -0700 (PDT)
Received: by 10.25.31.135 with HTTP; Thu, 24 Mar 2016 02:08:44 -0700 (PDT)
In-Reply-To: <CADsSJJFNX4_rjs90PXWzQwzSFc_fWOhdDEOc-u-hi4Zys3+LRg@mail.gmail.com>
References: <CADsSJJFNX4_rjs90PXWzQwzSFc_fWOhdDEOc-u-hi4Zys3+LRg@mail.gmail.com>
Date: Thu, 24 Mar 2016 10:08:44 +0100
Message-ID: <CAFedD42B4xbhG9LqLDFQ4mMyBkL-Q-koE2_0RRJf5A_gKQpUrA@mail.gmail.com>
Subject: Re: apr_global_mutex_create vs apr_proc_mutex_create
From: Luca Toscano <toscano.luca@gmail.com>
To: modules-dev@httpd.apache.org, dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=089e01183bc8174e5d052ec7cbde

--089e01183bc8174e5d052ec7cbde
Content-Type: text/plain; charset=UTF-8

+httpd-dev@

Hello!

2016-03-23 21:49 GMT+01:00 Ali Shah <caffein@gmail.com>:

> Hi Module maintainers,
>
> I'm writing a simple apache module and I'd like to aggregate some
> statistics.
> I saw an example module that does this (
> https://wiki.apache.org/httpd/ModuleLife) using shared memory.
>
> My question for those on this list following:
>
> What is the main difference between using mutexes created
> via apr_global_mutex_create and apr_proc_mutex_create in terms of
> performance and safety of the resource that being protected?
>
> The docs seem to discourage usage of apr_global_mutex_create:
> "There is considerable overhead in using this API if only cross-process or
> cross-thread mutual exclusion is required."
>
> Is the overhead purely in code setup (since global mutex should be
> initialized in post_config), or is this describing some performance
> penalties as well?
>

>From what I can see in [1] a global lock uses both apr_proc_mutex_create
and apr_thread_mutex_create, so this is why the documentation suggests the
use of a more specialized one if only cross-process or cross-thread sync is
needed.

Not a great explanation I know, somebody else with more experience will
give you a better answer on this list :)

Luca



[1]:
https://github.com/apache/apr/blob/7951861fb029fd0fb60e5ec8da73015d03afa28d/locks/unix/global_mutex.c#L46

--089e01183bc8174e5d052ec7cbde
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">+httpd-dev@<div class=3D"gmail_extra"><br></div><div class=
=3D"gmail_extra">Hello!</div><div class=3D"gmail_extra"><br><div class=3D"g=
mail_quote">2016-03-23 21:49 GMT+01:00 Ali Shah <span dir=3D"ltr">&lt;<a hr=
ef=3D"mailto:caffein@gmail.com" target=3D"_blank">caffein@gmail.com</a>&gt;=
</span>:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0=
.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-s=
tyle:solid;padding-left:1ex">Hi Module maintainers,<br>
<br>
I&#39;m writing a simple apache module and I&#39;d like to aggregate some<b=
r>
statistics.<br>
I saw an example module that does this (<br>
<a href=3D"https://wiki.apache.org/httpd/ModuleLife" rel=3D"noreferrer" tar=
get=3D"_blank">https://wiki.apache.org/httpd/ModuleLife</a>) using shared m=
emory.<br>
<br>
My question for those on this list following:<br>
<br>
What is the main difference between using mutexes created<br>
via apr_global_mutex_create and apr_proc_mutex_create in terms of<br>
performance and safety of the resource that being protected?<br>
<br>
The docs seem to discourage usage of apr_global_mutex_create:<br>
&quot;There is considerable overhead in using this API if only cross-proces=
s or<br>
cross-thread mutual exclusion is required.&quot;<br>
<br>
Is the overhead purely in code setup (since global mutex should be<br>
initialized in post_config), or is this describing some performance<br>
penalties as well?<br></blockquote><div><br></div><div>From what I can see =
in [1] a global lock uses both=C2=A0apr_proc_mutex_create and apr_thread_mu=
tex_create, so this is why the documentation suggests the use of a more spe=
cialized one if only cross-process or cross-thread sync is needed.</div><di=
v><br></div><div>Not a great explanation I know, somebody else with more ex=
perience will give you a better answer on this list :)</div><div><br></div>=
<div>Luca</div><div><br></div><div><br></div><div><br></div><div>[1]:=C2=A0=
<a href=3D"https://github.com/apache/apr/blob/7951861fb029fd0fb60e5ec8da730=
15d03afa28d/locks/unix/global_mutex.c#L46">https://github.com/apache/apr/bl=
ob/7951861fb029fd0fb60e5ec8da73015d03afa28d/locks/unix/global_mutex.c#L46</=
a></div><div><br></div><div>=C2=A0</div></div></div></div>

--089e01183bc8174e5d052ec7cbde--

From dev-return-86054-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 09:15:19 2016
Return-Path: <dev-return-86054-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F0AC3184C9
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 09:15:18 +0000 (UTC)
Received: (qmail 92457 invoked by uid 500); 24 Mar 2016 09:15:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92381 invoked by uid 500); 24 Mar 2016 09:15:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92371 invoked by uid 99); 24 Mar 2016 09:15:17 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 09:15:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 4A54018049A
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 09:15:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.929
X-Spam-Level: *
X-Spam-Status: No, score=1.929 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, KAM_INFOUSMEBIZ=0.75, RCVD_IN_DNSWL_LOW=-0.7,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id gYCQa6QhzxnS for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 09:15:14 +0000 (UTC)
Received: from mail-lb0-f174.google.com (mail-lb0-f174.google.com [209.85.217.174])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 475135F256
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 09:15:14 +0000 (UTC)
Received: by mail-lb0-f174.google.com with SMTP id bc4so26197707lbc.2
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 02:15:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=pGAH2iNabnCoDyaxZApNjsE5Wbkjzb+601N/s1VaLi8=;
        b=yLWYV6mymZhQmKhDyojT4lwb/dCO+xmQjzXV1bE8cm+p612Igbg+3cjgDjNKmCuosB
         v5uhUSwAnK2MfB4GjtGo4VdxqUkU3RFEBOLE8MUKzA/6c24fhmhgXoKEN3Cz18rz2/hs
         kJJlziQnypyfRXp73jIyJjff5zAZOnPrWs59Jb93OiH9BNIccVy+Tk0+6l4JZbtS1g5h
         qKFr5CSXhQCijYBXIJM9mLZngrwMypWpxZw3uSQbNxQGK0KZx+O4J4wwpwYTGQYg2mp3
         QcS5Dh5avlz5dYLj2ubjeyVoWDz/z1ueCIMb6aJzaFJH77ti6vKacmgiWRYNzO3pJmaO
         aKnw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=pGAH2iNabnCoDyaxZApNjsE5Wbkjzb+601N/s1VaLi8=;
        b=Vkgo4Nrt+jAN9LSij6HdK2IoLNSr3esX/yjE5zsDNHW5Kvy1yzc+MFEO/ztEzwpmez
         qSb1kbSXZFXUROycUXO17lWlSVf1RKs+0ycXenSvfHNS35y/gftsxpouoqvXCTyT1R4G
         Yf6lhGC6cKyPWE1nWdZQe0NlwbMIQSIUrE8B0U+zONZB4tUE9xOsgU8EI1L9hHNb83Kr
         sqU+9lBHsbatwCQek2GOLozF2FQGokN3v08rK0KtFTJD+ZqUpAL34wxK/MHJWICw/hda
         6sVL5HHOWK5sup9J5FkIHUq8NdNK2KPGm8eVceDgW/8hCjw1NzCy6eQKwjHWyWbpcVFE
         8nLQ==
X-Gm-Message-State: AD7BkJJV0iVqI/WOFQ+x+2Y4uC2L1mg5Yy+18CeAf6ROZnkGAyhPBDEGdpm7hivqPnwYph5G61O8jCr7MUwTUA==
MIME-Version: 1.0
X-Received: by 10.112.163.135 with SMTP id yi7mr2864196lbb.122.1458810908138;
 Thu, 24 Mar 2016 02:15:08 -0700 (PDT)
Received: by 10.25.31.135 with HTTP; Thu, 24 Mar 2016 02:15:08 -0700 (PDT)
In-Reply-To: <CABBDWwf5akvU0m10e-t0YH17gs53vTJotoSAKqC2gLXXFMZEnw@mail.gmail.com>
References: <CABBDWwc-L0vyR79DT_rw8P+vk1sNSMWwsJuyTdNZETdy8EZCpQ@mail.gmail.com>
	<CABBDWwf5akvU0m10e-t0YH17gs53vTJotoSAKqC2gLXXFMZEnw@mail.gmail.com>
Date: Thu, 24 Mar 2016 10:15:08 +0100
Message-ID: <CAFedD41C_oUpRo6W7WjhM3TZ1py40C6qQBJpMnJ+CxoE_yPV+g@mail.gmail.com>
Subject: Re: Questions on writing logging stmts in httpd
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=089e01183bc8f96719052ec7e1cc

--089e01183bc8f96719052ec7e1cc
Content-Type: text/plain; charset=UTF-8

Hi!

Don't have a lot of context but I found some answers in the httpd code (see
inline comments):

2016-03-24 2:07 GMT+01:00 Tianyin Xu <tixu@cs.ucsd.edu>:

> I find a previous post,
> http://marc.info/?t=140579318800001&r=1&w=2
>
> which helped answer the 2nd question, basically, "anything more important
> than DEBUG needs a number."
>
> but it does not answer the Question #1 and #3 :-|
>
> ~t
>
>
>
> On Wed, Mar 23, 2016 at 5:55 PM, Tianyin Xu <tixu@cs.ucsd.edu> wrote:
>
>> Hi folks,
>>
>> I've a question regarding writing logging statements in httpd code. I
>> notice that most of the logging statements are associated with a log
>> number, defined by the APLOGNO macro, while some others (in the same
>> module) do not. I have the following questions when writing new logging
>> statements,
>>
>> 1. What are these log numbers used for? (I remember the early versions do
>> not have these...)
>>
>
More info in
https://github.com/apache/httpd/blob/trunk/include/http_log.h#L111


>
>> 2. What kinds of logs need the log numbers and what do not?
>>
>> 3. How to determine the number when writing a new logging statement? Is
>> there any specific rule to generate the number? If not, how to avoid the
>> collision?
>>
>
More info in
https://github.com/apache/httpd/tree/trunk/docs/log-message-tags

Hope that helps!

Luca

--089e01183bc8f96719052ec7e1cc
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi!=C2=A0<div class=3D"gmail_extra"><br></div><div class=
=3D"gmail_extra">Don&#39;t have a lot of context but I found some answers i=
n the httpd code (see inline comments):</div><div class=3D"gmail_extra"><br=
><div class=3D"gmail_quote">2016-03-24 2:07 GMT+01:00 Tianyin Xu <span dir=
=3D"ltr">&lt;<a href=3D"mailto:tixu@cs.ucsd.edu" target=3D"_blank">tixu@cs.=
ucsd.edu</a>&gt;</span>:<br><blockquote class=3D"gmail_quote" style=3D"marg=
in:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,20=
4);border-left-style:solid;padding-left:1ex"><div dir=3D"ltr"><div>I find a=
 previous post, <br><a href=3D"http://marc.info/?t=3D140579318800001&amp;r=
=3D1&amp;w=3D2" target=3D"_blank">http://marc.info/?t=3D140579318800001&amp=
;r=3D1&amp;w=3D2</a><br><br></div><div>which helped answer the 2nd question=
, basically, &quot;anything more important than DEBUG needs a number.&quot;=
<br><br></div><div>but it does not answer the Question #1 and #3 :-|<span c=
lass=3D""><font color=3D"#888888"><br><br></font></span></div><span class=
=3D""><font color=3D"#888888"><div>~t<br></div></font></span><div><div clas=
s=3D"h5"><div><br><br></div><div class=3D"gmail_extra"><br><div class=3D"gm=
ail_quote">On Wed, Mar 23, 2016 at 5:55 PM, Tianyin Xu <span dir=3D"ltr">&l=
t;<a href=3D"mailto:tixu@cs.ucsd.edu" target=3D"_blank">tixu@cs.ucsd.edu</a=
>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0p=
x 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);bo=
rder-left-style:solid;padding-left:1ex"><div dir=3D"ltr"><div><div>Hi folks=
,<br><br></div>I&#39;ve a question regarding writing logging statements in =
httpd code. I notice that most of the logging statements are associated wit=
h a log number, defined by the APLOGNO macro, while some others (in the sam=
e module) do not. I have the following questions when writing new logging s=
tatements,<br><br></div><div>1. What are these log numbers used for? (I rem=
ember the early versions do not have these...)<br></div></div></blockquote>=
</div></div></div></div></div></blockquote><div><br></div><div>More info in=
=C2=A0<a href=3D"https://github.com/apache/httpd/blob/trunk/include/http_lo=
g.h#L111">https://github.com/apache/httpd/blob/trunk/include/http_log.h#L11=
1</a></div><div>=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"marg=
in:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,20=
4);border-left-style:solid;padding-left:1ex"><div dir=3D"ltr"><div><div cla=
ss=3D"h5"><div class=3D"gmail_extra"><div class=3D"gmail_quote"><blockquote=
 class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:=
1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left=
:1ex"><div dir=3D"ltr"><div></div><div><br></div><div>2. What kinds of logs=
 need the log numbers and what do not?<br><br></div><div>3. How to determin=
e the number when writing a new logging statement? Is there any specific ru=
le to generate the number? If not, how to avoid the collision? </div></div>=
</blockquote></div></div></div></div></div></blockquote><div><br></div><div=
>More info in <a href=3D"https://github.com/apache/httpd/tree/trunk/docs/lo=
g-message-tags">https://github.com/apache/httpd/tree/trunk/docs/log-message=
-tags</a></div><div><br></div><div>Hope that helps!</div><div><br></div><di=
v>Luca</div><div><br></div><div>=C2=A0</div></div></div></div>

--089e01183bc8f96719052ec7e1cc--

From dev-return-86055-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 09:56:40 2016
Return-Path: <dev-return-86055-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 25E7A18644
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 09:56:40 +0000 (UTC)
Received: (qmail 68343 invoked by uid 500); 24 Mar 2016 09:56:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68267 invoked by uid 500); 24 Mar 2016 09:56:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68258 invoked by uid 99); 24 Mar 2016 09:56:34 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 09:56:34 +0000
Received: from gauss.localdomain (v4-86130231.pool.vitroconnect.de [134.19.2.49])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 45F791A003F
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 09:56:34 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 7D9E3E9
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 10:56:44 +0100 (CET)
Subject: Re: svn commit: r1736217 - in /httpd/httpd/trunk/include: ap_hooks.h
 ap_mmn.h
To: dev@httpd.apache.org
References: <20160322173820.9398F3A0113@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56F3B9DC.8020002@apache.org>
Date: Thu, 24 Mar 2016 10:56:44 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:43.0) Gecko/20100101
 Firefox/43.0 SeaMonkey/2.40
MIME-Version: 1.0
In-Reply-To: <20160322173820.9398F3A0113@svn01-us-west.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/22/2016 06:38 PM, ylavic@apache.org wrote:
> Author: ylavic
> Date: Tue Mar 22 17:38:20 2016
> New Revision: 1736217
> 
> URL: http://svn.apache.org/viewvc?rev=1736217&view=rev
> Log:
> core: Add missing AP_IMPLEMENT_OPTIONAL_HOOK_RUN_FIRST.
> 
> Modified:
>     httpd/httpd/trunk/include/ap_hooks.h
>     httpd/httpd/trunk/include/ap_mmn.h
> 
> Modified: httpd/httpd/trunk/include/ap_hooks.h

> Modified: httpd/httpd/trunk/include/ap_mmn.h
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/include/ap_mmn.h?rev=1736217&r1=1736216&r2=1736217&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/include/ap_mmn.h (original)
> +++ httpd/httpd/trunk/include/ap_mmn.h Tue Mar 22 17:38:20 2016
> @@ -518,6 +518,7 @@
>   *                         ap_mpm_register_poll_callback_timeout and
>   *                         ap_mpm_unregister_poll_callback. Add
>   *                         AP_MPMQ_CAN_POLL.
> + * 20160315.1 (2.5.0-dev)  Add AP_IMPLEMENT_OPTIONAL_HOOK_RUN_FIRST.
>   */
>  
>  #define MODULE_MAGIC_COOKIE 0x41503235UL /* "AP25" */
> 
> 
> 

You forgot the real bump :-)

Regards

Rdiger


From dev-return-86056-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 10:39:05 2016
Return-Path: <dev-return-86056-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 01F4F187A9
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 10:39:05 +0000 (UTC)
Received: (qmail 58477 invoked by uid 500); 24 Mar 2016 10:38:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58394 invoked by uid 500); 24 Mar 2016 10:38:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58379 invoked by uid 99); 24 Mar 2016 10:38:59 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 10:38:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E61AFC2B22
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 10:38:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.19
X-Spam-Level:
X-Spam-Status: No, score=-2.19 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_MED=-2.3, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	STOX_REPLY_TYPE=0.212] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id oPT3_iiavJRO for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 10:38:57 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTP id 067FA5F23A
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 10:38:56 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1458815916;
	bh=wCqSXboh5vbYUuZKiaiMjN/sQxZi4ctxFeHAqCBgFx4=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=Hg6TJ+8t9qY7eXMZZtaF3rM2REtg9oN6qPhDpqzp/X0vyhvbOTTc869TNiNFNvhP0
	 T0giMfDJ4s8iOIMHNQ+jBrA03ud9oEesvnMzZweZ9PiZclNRWJJBlg8WH0AGvxZWW+
	 M5hyJEsSnCzmoMXaz6DnK+hejURdsDaGU29R5PS8=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <8EE75634FC0941F3BED67A22B324F01F@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <56f2c072.c6c.1634.354c@land10.nl> <CACsi253tipn9EsGiRd942AHox5fOBRC0rS1NVM3Kefqf13YH7g@mail.gmail.com>
In-Reply-To: <CACsi253tipn9EsGiRd942AHox5fOBRC0rS1NVM3Kefqf13YH7g@mail.gmail.com>
Subject: Re: 2.4.20 Change dsp: Win32-specific build files.
Date: Thu, 24 Mar 2016 11:37:16 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="utf-8";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

Good now.

Little note:  Visual Studio 2010 users cannot convert our .dsp files.
That's not true, I convert them.

Steffen



From: William A Rowe Jr 
Sent: Wednesday, March 23, 2016 9:23 PM
To: httpd 
Subject: ********* Re: 2.4.20 Change dsp: Win32-specific build files.

On Wed, Mar 23, 2016 at 11:12 AM, Steffen <info@apachelounge.com> wrote:

I went earlier back, so I did a .dsp/GUI build with no issues. 

Build with SVN revision 1736328.

Running looks also fine sofar.





Glad to hear, thanks for testing.  I've updated the commit log message
to more clearly explain the intent and avoid future confusion;

+Going forwards, keep win32 build in svn once a tree is stable.
+Visual Studio 2010 users cannot convert our .dsp files, and
+ddk toolchain users couldn't either.
+
+Applies the same logic as r1100294 on the 2.2.x branch.
+
Until the cmake build schema is entirely mature, these files
are needed for command-line builds of the 2.4 tree, and are
expected to change very little until the EOL of 2.4 branch.
-The actual .dsp files are entirely unusable for any shipping
-version of MSVC/Visual Studio, while the .mak exports of these
-projects are usable on any flavor of the MS build environment.
+
+The .dsp source files are not directly usable for any shipping
+version of MSVC/Visual Studio (post-Visual Studio 97 release),
+while the .mak exports of these projects are usable on any flavor
+of the MS nmake build environment.  The .dsp source files are
+retained for those users wishing to import these projects into
+the modern vcproj/sln file format.


Hope that is more clear, further edit suggestions are welcome.


Cheers,


Bill

From dev-return-86057-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 11:43:49 2016
Return-Path: <dev-return-86057-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A1EF9189EC
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 11:43:49 +0000 (UTC)
Received: (qmail 68525 invoked by uid 500); 24 Mar 2016 11:43:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68458 invoked by uid 500); 24 Mar 2016 11:43:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68448 invoked by uid 99); 24 Mar 2016 11:43:49 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 11:43:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C46A5C059B
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 11:43:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.266
X-Spam-Level: *
X-Spam-Status: No, score=1.266 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_SORBS_WEB=0.614, SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id EFwYI51wBLrf for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 11:43:48 +0000 (UTC)
Received: from resqmta-po-03v.sys.comcast.net (resqmta-po-03v.sys.comcast.net [96.114.154.162])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id DFD695F250
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 11:43:47 +0000 (UTC)
Received: from resomta-po-13v.sys.comcast.net ([96.114.154.237])
	by comcast with SMTP
	id j3fvaZqHGhHf1j3fva6POD; Thu, 24 Mar 2016 11:43:39 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1458819819;
	bh=8dadIjdMRSH0Qh7pLenYi4jBPaTPNb3j7OylFDL3eNI=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=aUN5/N+JKTHOKsk8M/+QhIkm2cCx7gE3scMPkptQrKRQbxFTbtqI2A0LkWiCPaJ9X
	 HkEHSjfwjHo5K8YXIkEH+mDEiH2Xb4NJ+XoAEOHJY7DFJTCc3u3pRb1Hd7xlf5JQnD
	 2jgLfLkWFfYrKHk3L8bTt2IHHb59zMifaz8tJqSO+zHFRTGxKM4nddzV4nTeZQViWV
	 ELvhTuvjjs5gwW8qvOnLtBEXylLaWYTSmIDXFT9DNeNRhUrfCqarVrGDKUVTKIhqVe
	 4hPzVCX5k9Iwx9eWiPtI0FnqExg4BZPPXH8fdgkaThCOZQEQWbPX86yS/2LkpX3rTA
	 0CioI7qHgxOJw==
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-po-13v.sys.comcast.net with comcast
	id Znje1s00A2U0RYt01njfSS; Thu, 24 Mar 2016 11:43:39 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.3 \(3124\))
Subject: Re: Status for 2.4.20
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <nmm6fbd0k5kqgtpov6vfqc3r0idesf477k@4ax.com>
Date: Thu, 24 Mar 2016 07:43:38 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <6E9AE176-C975-4638-9DD8-96B2EB3EF7E0@jaguNET.com>
References: <56f27c86.c6c.1338.241b@land10.nl> <CACsi253+=Q3V1AWczGvWmJuTfGEhsue186sBBcC=WH7g9QZODg@mail.gmail.com> <CACsi250h9LXcpg-nutSmhY_kBbLS1srEOzKyAXRN5_2=pafZtQ@mail.gmail.com> <nmm6fbd0k5kqgtpov6vfqc3r0idesf477k@4ax.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3124)

Tell you what. Let's delay for 1 week and I'll take up a T&R
on Monday April 4th.

From dev-return-86058-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 11:45:28 2016
Return-Path: <dev-return-86058-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E173218A06
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 11:45:27 +0000 (UTC)
Received: (qmail 72373 invoked by uid 500); 24 Mar 2016 11:45:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 72306 invoked by uid 500); 24 Mar 2016 11:45:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72253 invoked by uid 99); 24 Mar 2016 11:45:24 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 11:45:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 007811A4B79
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 11:45:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id vYOqxPVl08Zt for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 11:45:22 +0000 (UTC)
Received: from mail-qk0-f174.google.com (mail-qk0-f174.google.com [209.85.220.174])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 922115F234
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 11:45:21 +0000 (UTC)
Received: by mail-qk0-f174.google.com with SMTP id s5so18299378qkd.0
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 04:45:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=ILSRoE9/7fouao8GfRHPsENcAWuTePI/4Cm73dPIhOc=;
        b=EFkmOWnEnyGv3xqB0bnuU7ktHTcTxXNgamvn0R+A5wnjifuM42xxqmFKaT3XY7tnbQ
         piCBXXBe50B3kNIELj/VsvCGLBXX5Bqap1X+qlv4nvODg05PwGqQjrI+NYxa8qg0Sq4k
         rvYU0g6YWG7afdpfoCy5qYOjOpBtgGewwfJ4phgj3OSL+rWOdaca2YyU8X7OKANb53bS
         dh1fR5JR1IcRQl9VVzdQ+AfeYJdWbuRGN52J0WvXmW8jVrVjpYA5P8LdYNcJ+ylqE56I
         UCse9W2Ri+thsK2p2DPU+PMlGZXaVWLCmHBowZOcNRQQ5OPjfmC7qPPu6gvLZjVrmbnj
         DwJA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=ILSRoE9/7fouao8GfRHPsENcAWuTePI/4Cm73dPIhOc=;
        b=S6BkZaR9oh40Sp256VAQi+SV721pmroSwUSkiYip+R5JxTd7e6q1AF0EaetQbNcWTh
         9APeyWBeDiaVms/BGfA6X31PU9kKknBOtIcM8ZPzCPUFxgZdIfKIe6uweU3ge+o2KwY5
         5wQbBrJ/KRdYYhhc8BigEwq0UpU+1I62PxRhR4/DXcNbakhzkFD5a0LGDxiO7iN8K/eQ
         r77DUuzKjVgMHutmzPyg+gu5BOvnoX84v1pj+RDNUE1wc9wAO7BkBqJZdweb5KJ0zAFa
         0A7rte3AiX5RcgF6H2YPxb++GOF2UO8Iui13f+t5oloEEKTLHyXg8Xbj1LjkMAdEH7CN
         Eyvw==
X-Gm-Message-State: AD7BkJINlR+IjRq0psbauDF1jV5D6yT1Zsng4+BUywSmFfMebHoGEinaIIpZMRWBH3NMiV4rdUtqktcWcsB7kQ==
MIME-Version: 1.0
X-Received: by 10.55.200.215 with SMTP id t84mr9900292qkl.55.1458819920741;
 Thu, 24 Mar 2016 04:45:20 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Thu, 24 Mar 2016 04:45:20 -0700 (PDT)
In-Reply-To: <56F3B9DC.8020002@apache.org>
References: <20160322173820.9398F3A0113@svn01-us-west.apache.org>
	<56F3B9DC.8020002@apache.org>
Date: Thu, 24 Mar 2016 12:45:20 +0100
Message-ID: <CAKQ1sVOPbi=TpveuRmEOjfzRxtqBP2OiXzPV33niXmSk7k5kVw@mail.gmail.com>
Subject: Re: svn commit: r1736217 - in /httpd/httpd/trunk/include: ap_hooks.h ap_mmn.h
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Mar 24, 2016 at 10:56 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>
> You forgot the real bump :-)

Thanks :) fixed in r1736428.

From dev-return-86059-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 11:59:27 2016
Return-Path: <dev-return-86059-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9809B18AB8
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 11:59:27 +0000 (UTC)
Received: (qmail 94609 invoked by uid 500); 24 Mar 2016 11:59:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94527 invoked by uid 500); 24 Mar 2016 11:59:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94516 invoked by uid 99); 24 Mar 2016 11:59:26 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 11:59:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 80BD5C0B54
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 11:59:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.198
X-Spam-Level: *
X-Spam-Status: No, score=1.198 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id HQaZQ2Eym-VW for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 11:59:24 +0000 (UTC)
Received: from mail-qg0-f41.google.com (mail-qg0-f41.google.com [209.85.192.41])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 463F55F23C
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 11:59:23 +0000 (UTC)
Received: by mail-qg0-f41.google.com with SMTP id j35so35852821qge.0
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 04:59:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=EOwYp/nh5GvIIOd4Zd6Xhmr5WmpPVM3bv54aiSzycUI=;
        b=rPXZ639a6vDvV5WPxSc2ZVipubyjyXi0Y3s1ZEY0M8OXti1bbXo4HTKVZo4ftd1zA9
         DqTt806xXNmeiWiu3UJQRWDhf5iiOBbQqNJ1Ey0mgNp6qMtUOMuU9Irp5wmISI8DBFH/
         2TQWJ5qvJH2mrcBwfwbKFuB65mLPRwSpMGlpHT25+bNCZ6s2xBr0XHhMRv1mGDTyJcG2
         iXnK+S8xVtkzgXeoy/mbAORJN39sqDbeXjq+ulcPONhVrL/WizhNP1ZDd0igsTdPdYOV
         liLtAReNbTx3ozLr09mDK9pHx+LujrDCN7vZfrqaFDnlrWen5jVtSUn7W5DnXL1HjdTc
         G2jA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=EOwYp/nh5GvIIOd4Zd6Xhmr5WmpPVM3bv54aiSzycUI=;
        b=ag05fCrQbtNmsUuQfaxqu2gpUDCskOSQtdEHSWGCHRkUcQnl8/APT6KG1bsVqymAeS
         xmGs+kEuwGmos7twyFZ33aCaD+SN4dv6bX1Rl+dvOLVXIPc7o2/3cjcV5lCc1FoXsKtt
         u6rWmSmfwMSuwJdZbGlknsqIOZZwEriXWiBaTy/7bH4RE4QJgc4EkSkKkEr19oJBE2qU
         r7siRTR8NPxA4rafMsy0jvNXGQPl/Mv0imCkz7E8+/sBTLw/T8h4sU/bYzP5BDHyhtey
         rtoJlmDSX9T/nO0fOGe/wuUeEZrHESQAgG9+XlNcuie8s0RspJWiJWXJsypIS/uby2BN
         oHQA==
X-Gm-Message-State: AD7BkJKO/Hv0OQy9veSV0SNnD3XJEj7e6bSKi4B1rt39r6QaWD5mNQtApf4trCcFdER/f+DnKdV+Z5M4SK0tiQ==
MIME-Version: 1.0
X-Received: by 10.140.143.134 with SMTP id 128mr10541612qhp.25.1458820757604;
 Thu, 24 Mar 2016 04:59:17 -0700 (PDT)
Received: by 10.55.174.4 with HTTP; Thu, 24 Mar 2016 04:59:17 -0700 (PDT)
In-Reply-To: <56F3B9DC.8020002@apache.org>
References: <20160322173820.9398F3A0113@svn01-us-west.apache.org>
	<56F3B9DC.8020002@apache.org>
Date: Thu, 24 Mar 2016 07:59:17 -0400
Message-ID: <CAKUrXK5Z55SBnwrgzZFqK2Wk3w1aOZHpquVYXOmAz2pPQWYv1A@mail.gmail.com>
Subject: Re: svn commit: r1736217 - in /httpd/httpd/trunk/include: ap_hooks.h ap_mmn.h
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11372d9e0c5084052eca2dab

--001a11372d9e0c5084052eca2dab
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Thu, Mar 24, 2016 at 5:56 AM, Ruediger Pluem <rpluem@apache.org> wrote:

>
>
> On 03/22/2016 06:38 PM, ylavic@apache.org wrote:
> > Author: ylavic
> > Date: Tue Mar 22 17:38:20 2016
> > New Revision: 1736217
> >
> > URL: http://svn.apache.org/viewvc?rev=3D1736217&view=3Drev
> > Log:
> > core: Add missing AP_IMPLEMENT_OPTIONAL_HOOK_RUN_FIRST.
> >
> > Modified:
> >     httpd/httpd/trunk/include/ap_hooks.h
> >     httpd/httpd/trunk/include/ap_mmn.h
> >
> > Modified: httpd/httpd/trunk/include/ap_hooks.h
>
> > Modified: httpd/httpd/trunk/include/ap_mmn.h
> > URL:
> http://svn.apache.org/viewvc/httpd/httpd/trunk/include/ap_mmn.h?rev=3D173=
6217&r1=3D1736216&r2=3D1736217&view=3Ddiff
> >
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D
> > --- httpd/httpd/trunk/include/ap_mmn.h (original)
> > +++ httpd/httpd/trunk/include/ap_mmn.h Tue Mar 22 17:38:20 2016
> > @@ -518,6 +518,7 @@
> >   *                         ap_mpm_register_poll_callback_timeout and
> >   *                         ap_mpm_unregister_poll_callback. Add
> >   *                         AP_MPMQ_CAN_POLL.
> > + * 20160315.1 (2.5.0-dev)  Add AP_IMPLEMENT_OPTIONAL_HOOK_RUN_FIRST.
> >   */
> >
> >  #define MODULE_MAGIC_COOKIE 0x41503235UL /* "AP25" */
> >
> >
> >
>
> You forgot the real bump :-)
>

Remembering to do the real bump is the exception :)

Maybe we need a commit hook???


>
> Regards
>
> R=C3=BCdiger
>
>


--=20
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a11372d9e0c5084052eca2dab
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Mar 24, 2016 at 5:56 AM, Ruediger Pluem <span dir=3D"ltr">&lt;<a href=
=3D"mailto:rpluem@apache.org" target=3D"_blank">rpluem@apache.org</a>&gt;</=
span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8e=
x;border-left:1px #ccc solid;padding-left:1ex"><span class=3D""><br>
<br>
On 03/22/2016 06:38 PM, <a href=3D"mailto:ylavic@apache.org">ylavic@apache.=
org</a> wrote:<br>
&gt; Author: ylavic<br>
&gt; Date: Tue Mar 22 17:38:20 2016<br>
&gt; New Revision: 1736217<br>
&gt;<br>
&gt; URL: <a href=3D"http://svn.apache.org/viewvc?rev=3D1736217&amp;view=3D=
rev" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc?rev=
=3D1736217&amp;view=3Drev</a><br>
&gt; Log:<br>
&gt; core: Add missing AP_IMPLEMENT_OPTIONAL_HOOK_RUN_FIRST.<br>
&gt;<br>
&gt; Modified:<br>
&gt;=C2=A0 =C2=A0 =C2=A0httpd/httpd/trunk/include/ap_hooks.h<br>
&gt;=C2=A0 =C2=A0 =C2=A0httpd/httpd/trunk/include/ap_mmn.h<br>
&gt;<br>
&gt; Modified: httpd/httpd/trunk/include/ap_hooks.h<br>
<br>
</span><span class=3D"">&gt; Modified: httpd/httpd/trunk/include/ap_mmn.h<b=
r>
&gt; URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/include=
/ap_mmn.h?rev=3D1736217&amp;r1=3D1736216&amp;r2=3D1736217&amp;view=3Ddiff" =
rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc/httpd/htt=
pd/trunk/include/ap_mmn.h?rev=3D1736217&amp;r1=3D1736216&amp;r2=3D1736217&a=
mp;view=3Ddiff</a><br>
&gt; =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D<br>
&gt; --- httpd/httpd/trunk/include/ap_mmn.h (original)<br>
&gt; +++ httpd/httpd/trunk/include/ap_mmn.h Tue Mar 22 17:38:20 2016<br>
&gt; @@ -518,6 +518,7 @@<br>
&gt;=C2=A0 =C2=A0*=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0ap_mpm_register_poll_callback_timeout and=
<br>
&gt;=C2=A0 =C2=A0*=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0ap_mpm_unregister_poll_callback. Add<br>
&gt;=C2=A0 =C2=A0*=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0AP_MPMQ_CAN_POLL.<br>
&gt; + * 20160315.1 (2.5.0-dev)=C2=A0 Add AP_IMPLEMENT_OPTIONAL_HOOK_RUN_FI=
RST.<br>
&gt;=C2=A0 =C2=A0*/<br>
&gt;<br>
&gt;=C2=A0 #define MODULE_MAGIC_COOKIE 0x41503235UL /* &quot;AP25&quot; */<=
br>
&gt;<br>
&gt;<br>
&gt;<br>
<br>
</span>You forgot the real bump :-)<br></blockquote><div><br></div><div>Rem=
embering to do the real bump is the exception :)</div><div><br></div><div>M=
aybe we need a commit hook???</div><div>=C2=A0</div><blockquote class=3D"gm=
ail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-le=
ft:1ex">
<br>
Regards<br>
<br>
R=C3=BCdiger<br>
<br>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--001a11372d9e0c5084052eca2dab--

From dev-return-86060-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 12:03:13 2016
Return-Path: <dev-return-86060-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 03CBF18AF4
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 12:03:13 +0000 (UTC)
Received: (qmail 2901 invoked by uid 500); 24 Mar 2016 12:03:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2830 invoked by uid 500); 24 Mar 2016 12:03:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2819 invoked by uid 99); 24 Mar 2016 12:03:12 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 12:03:12 +0000
Received: from gauss.localdomain (v4-86130231.pool.vitroconnect.de [134.19.2.49])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 289C51A003F
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 12:03:12 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 679AD1C3
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 13:03:23 +0100 (CET)
Subject: Re: svn commit: r1736217 - in /httpd/httpd/trunk/include: ap_hooks.h
 ap_mmn.h
To: dev@httpd.apache.org
References: <20160322173820.9398F3A0113@svn01-us-west.apache.org>
 <56F3B9DC.8020002@apache.org>
 <CAKUrXK5Z55SBnwrgzZFqK2Wk3w1aOZHpquVYXOmAz2pPQWYv1A@mail.gmail.com>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56F3D78B.4040801@apache.org>
Date: Thu, 24 Mar 2016 13:03:23 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:43.0) Gecko/20100101
 Firefox/43.0 SeaMonkey/2.40
MIME-Version: 1.0
In-Reply-To: <CAKUrXK5Z55SBnwrgzZFqK2Wk3w1aOZHpquVYXOmAz2pPQWYv1A@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/24/2016 12:59 PM, Jeff Trawick wrote:
> On Thu, Mar 24, 2016 at 5:56 AM, Ruediger Pluem <rpluem@apache.org <mailto:rpluem@apache.org>> wrote:
> 
> 
> 
>     On 03/22/2016 06:38 PM, ylavic@apache.org <mailto:ylavic@apache.org> wrote:
>     > Author: ylavic
>     > Date: Tue Mar 22 17:38:20 2016
>     > New Revision: 1736217
>     >
>     > URL: http://svn.apache.org/viewvc?rev=1736217&view=rev
>     > Log:
>     > core: Add missing AP_IMPLEMENT_OPTIONAL_HOOK_RUN_FIRST.
>     >
>     > Modified:
>     >     httpd/httpd/trunk/include/ap_hooks.h
>     >     httpd/httpd/trunk/include/ap_mmn.h
>     >
>     > Modified: httpd/httpd/trunk/include/ap_hooks.h
> 
>     > Modified: httpd/httpd/trunk/include/ap_mmn.h
>     > URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/include/ap_mmn.h?rev=1736217&r1=1736216&r2=1736217&view=diff
>     > ==============================================================================
>     > --- httpd/httpd/trunk/include/ap_mmn.h (original)
>     > +++ httpd/httpd/trunk/include/ap_mmn.h Tue Mar 22 17:38:20 2016
>     > @@ -518,6 +518,7 @@
>     >   *                         ap_mpm_register_poll_callback_timeout and
>     >   *                         ap_mpm_unregister_poll_callback. Add
>     >   *                         AP_MPMQ_CAN_POLL.
>     > + * 20160315.1 (2.5.0-dev)  Add AP_IMPLEMENT_OPTIONAL_HOOK_RUN_FIRST.
>     >   */
>     >
>     >  #define MODULE_MAGIC_COOKIE 0x41503235UL /* "AP25" */
>     >
>     >
>     >
> 
>     You forgot the real bump :-)
> 
> 
> Remembering to do the real bump is the exception :)
> 

There is a test in the test suite covering this. This is how I found this btw. :-)

Regards

Rdiger

From dev-return-86061-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 12:58:56 2016
Return-Path: <dev-return-86061-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 72CE318D8E
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 12:58:56 +0000 (UTC)
Received: (qmail 57433 invoked by uid 500); 24 Mar 2016 12:58:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57356 invoked by uid 500); 24 Mar 2016 12:58:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57346 invoked by uid 99); 24 Mar 2016 12:58:55 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 12:58:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 75051C0D55
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 12:58:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id zKAVNan7Zq4F for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 12:58:53 +0000 (UTC)
Received: from mail-qg0-f45.google.com (mail-qg0-f45.google.com [209.85.192.45])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 172C75FB48
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 12:58:52 +0000 (UTC)
Received: by mail-qg0-f45.google.com with SMTP id u110so37004479qge.3
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 05:58:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:date:message-id:subject:from:to;
        bh=nl7zt4g7ZxzFXALUHVi+zdjOuh5ZTrVGZo4uX7mG/aE=;
        b=hkvdln4xD+eHZy5k41XGMfmn/qwsrIlGsc+7n4kUaCPjJsj5SjREG6S7jC10Oger0r
         Jplem3MQQqsiccBjDxHFyMrqfWYLxldyTYRCIEL/tfWHFO72CWFjUv2ZcYRnPOGg1T6Z
         EVYR2nU9F1fNOu20gRXocABqAoomoRqMzoq3WVpxO53BADUg5cDbb6d8vg+CfW4DobCP
         M9WGyj9sCe+vHDPkVgFWho5wCHmulZw233Cd07aq2tNcfq0BczYpxtdrngK1I95iwoDk
         BTZA8r6VjsWlUKx6WfwhRO3A941W6RdOfykLQvp0P3VaEFrj7NE1MoWzCWBXtrFY9ad/
         ZpPA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to;
        bh=nl7zt4g7ZxzFXALUHVi+zdjOuh5ZTrVGZo4uX7mG/aE=;
        b=lioxNB/b2l14j7z2ZUAWeqDmJcynnEjf0by3m98H1KkHe/xv9jrWBMwgfVEwonxBBj
         B4KIvE23NtDpR5Yp6E4Xmi5hSD6oq/B3ab0PjXqNPfztAJEw+i16ltpvraM2101T4OlR
         sU/7JFF7XOy9jqAkmJipiOxMg8kBHWeIobAgjiOh8111Qg173H9BFZ5O7u6cK2OBs1mT
         EwCGBa9OW+YHVXu1pKNknurTMt3F19LEdKre9Szmkapxv0Vy/X1s2sHKaOyjH3jRCQQI
         5Ax0bDHvLS1ExHlKtCTHwgqyCaiQ6G+zTu0jWT5xz5SnU+UuxtvtRcZMDMXWwHV/Rb3j
         20gA==
X-Gm-Message-State: AD7BkJLZX5/xaChNf22hqgya+Pq9gGeZ8PIMb9AlhwOI+TQjG2lYC1OmZCiLAnlcCwgQKGzBJly+Ey+oz72/xdoh
MIME-Version: 1.0
X-Received: by 10.140.242.21 with SMTP id n21mr11085798qhc.2.1458824325753;
 Thu, 24 Mar 2016 05:58:45 -0700 (PDT)
Received: by 10.55.154.139 with HTTP; Thu, 24 Mar 2016 05:58:45 -0700 (PDT)
Received: by 10.55.154.139 with HTTP; Thu, 24 Mar 2016 05:58:45 -0700 (PDT)
Date: Thu, 24 Mar 2016 07:58:45 -0500
Message-ID: <CACsi253bME8aMTwG9cbgg220=U3bEYp7046cd-6bzs0tN1hEaw@mail.gmail.com>
Subject: mod_http2 on Windows (was: Re: Status for 2.4.20)
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1139384cba01d4052ecb016c

--001a1139384cba01d4052ecb016c
Content-Type: text/plain; charset=UTF-8

On Mar 23, 2016 22:19, "Jan Ehrhardt" <phpdev@ehrhardt.nl> wrote:
>
> William A Rowe Jr in gmane.comp.apache.devel (Wed, 23 Mar 2016 08:00:19
> -0500):
> >On Wed, Mar 23, 2016 at 7:42 AM, William A Rowe Jr <wrowe@rowe-clan.net>
> >wrote:
> >
> >> Again, a C89 regression breaking the candidate, but in an experimental
> >> module that we don't promise will always build.  nghttp2 is filled
with C99
> >> code, AIUI - due to bad decisions about basic C types - that library
can
> >> only build.
> >>
> >Whoops, answering too quickly...
> >
> >that library can only build *correctly* under the latest MSVC 14 (aka
> >Studio 2015) when you are compiling for 64-bits on Windows (not an issue
> >with 32 bit builds).
>
> How do you define 'correctly'? nghttp2 (git head) builds with only a
> single warning on VC14 x86:
>
> c:\php-sdk\prebuilt\nghttp2\lib\nghttp2_session.c(6767) : warning C4715:
> 'nghttp2_session_get_remote_settings': not all control paths return a
> value
>
> VC11 x86 and VC9 x86 builds of nghttp2 give a couple of extra warnings:
>
> nghttp2_session.c(160) : warning C4996: 'vsnprintf': This function or
> variable may be unsafe. Consider using vsnprintf_s instead. To disable
> deprecation, use _CRT_SECURE_NO_WARNINGS.
>
> All x64 builds issue many more warnings:
>
> cl -nologo -MD  -W3 -Z7 -DBUILDING_NGHTTP2 -I./includes -Dssize_t=long
> -D_U_="" -FoMSVC_obj /r_nghttp2_session.obj -c nghttp2_session.c
> nghttp2_session.c
> nghttp2_session.c(5092): warning C4244: 'return': conversion from
> '__int64' to 'long', possible loss of data
> nghttp2_session.c(5122): warning C4244: 'return': conversion from
> '__int64' to 'long', possible loss of data
> nghttp2_session.c(5477): warning C4244: 'return': conversion from
> '__int64' to 'long', possible loss of data
> nghttp2_session.c(5704): warning C4244: 'return': conversion from
> '__int64' to 'long', possible loss of data
> nghttp2_session.c(5888): warning C4244: 'return': conversion from
> '__int64' to 'long', possible loss of data
> nghttp2_session.c(5952): warning C4244: 'return': conversion from
> '__int64' to 'long', possible loss of data
> nghttp2_session.c(6082): warning C4244: 'return': conversion from
> '__int64' to 'long', possible loss of data
> nghttp2_session.c(6191): warning C4244: 'return': conversion from
> '__int64' to 'long', possible loss of data

Precisely, Jan.  We don't know where these truncation errors lead - do they
portentially open security holes?  They cetainly interefere with serving
huge resources such as .iso images.

When I first tripped over this, I breifly pondered putting together a
patch.  PHP, httpd (through apr) dealt with all this long ago.

But nghttp2 is a modern C99/POSIX app, why ask the author to code around
Win32-isms, now that MS finally got these right with the VC14 release?

--001a1139384cba01d4052ecb016c
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr"><br>
On Mar 23, 2016 22:19, &quot;Jan Ehrhardt&quot; &lt;<a href=3D"mailto:phpde=
v@ehrhardt.nl">phpdev@ehrhardt.nl</a>&gt; wrote:<br>
&gt;<br>
&gt; William A Rowe Jr in gmane.comp.apache.devel (Wed, 23 Mar 2016 08:00:1=
9<br>
&gt; -0500):<br>
&gt; &gt;On Wed, Mar 23, 2016 at 7:42 AM, William A Rowe Jr &lt;<a href=3D"=
mailto:wrowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt;<br>
&gt; &gt;wrote:<br>
&gt; &gt;<br>
&gt; &gt;&gt; Again, a C89 regression breaking the candidate, but in an exp=
erimental<br>
&gt; &gt;&gt; module that we don&#39;t promise will always build.=C2=A0 ngh=
ttp2 is filled with C99<br>
&gt; &gt;&gt; code, AIUI - due to bad decisions about basic C types - that =
library can<br>
&gt; &gt;&gt; only build.<br>
&gt; &gt;&gt;<br>
&gt; &gt;Whoops, answering too quickly...<br>
&gt; &gt;<br>
&gt; &gt;that library can only build *correctly* under the latest MSVC 14 (=
aka<br>
&gt; &gt;Studio 2015) when you are compiling for 64-bits on Windows (not an=
 issue<br>
&gt; &gt;with 32 bit builds).<br>
&gt;<br>
&gt; How do you define &#39;correctly&#39;? nghttp2 (git head) builds with =
only a<br>
&gt; single warning on VC14 x86:<br>
&gt;<br>
&gt; c:\php-sdk\prebuilt\nghttp2\lib\nghttp2_session.c(6767) : warning C471=
5:<br>
&gt; &#39;nghttp2_session_get_remote_settings&#39;: not all control paths r=
eturn a<br>
&gt; value<br>
&gt;<br>
&gt; VC11 x86 and VC9 x86 builds of nghttp2 give a couple of extra warnings=
:<br>
&gt;<br>
&gt; nghttp2_session.c(160) : warning C4996: &#39;vsnprintf&#39;: This func=
tion or<br>
&gt; variable may be unsafe. Consider using vsnprintf_s instead. To disable=
<br>
&gt; deprecation, use _CRT_SECURE_NO_WARNINGS.<br>
&gt;<br>
&gt; All x64 builds issue many more warnings:<br>
&gt;<br>
&gt; cl -nologo -MD=C2=A0 -W3 -Z7 -DBUILDING_NGHTTP2 -I./includes -Dssize_t=
=3Dlong<br>
&gt; -D_U_=3D&quot;&quot; -FoMSVC_obj /r_nghttp2_session.obj -c nghttp2_ses=
sion.c<br>
&gt; nghttp2_session.c<br>
&gt; nghttp2_session.c(5092): warning C4244: &#39;return&#39;: conversion f=
rom<br>
&gt; &#39;__int64&#39; to &#39;long&#39;, possible loss of data<br>
&gt; nghttp2_session.c(5122): warning C4244: &#39;return&#39;: conversion f=
rom<br>
&gt; &#39;__int64&#39; to &#39;long&#39;, possible loss of data<br>
&gt; nghttp2_session.c(5477): warning C4244: &#39;return&#39;: conversion f=
rom<br>
&gt; &#39;__int64&#39; to &#39;long&#39;, possible loss of data<br>
&gt; nghttp2_session.c(5704): warning C4244: &#39;return&#39;: conversion f=
rom<br>
&gt; &#39;__int64&#39; to &#39;long&#39;, possible loss of data<br>
&gt; nghttp2_session.c(5888): warning C4244: &#39;return&#39;: conversion f=
rom<br>
&gt; &#39;__int64&#39; to &#39;long&#39;, possible loss of data<br>
&gt; nghttp2_session.c(5952): warning C4244: &#39;return&#39;: conversion f=
rom<br>
&gt; &#39;__int64&#39; to &#39;long&#39;, possible loss of data<br>
&gt; nghttp2_session.c(6082): warning C4244: &#39;return&#39;: conversion f=
rom<br>
&gt; &#39;__int64&#39; to &#39;long&#39;, possible loss of data<br>
&gt; nghttp2_session.c(6191): warning C4244: &#39;return&#39;: conversion f=
rom<br>
&gt; &#39;__int64&#39; to &#39;long&#39;, possible loss of data</p>
<p dir=3D"ltr">Precisely, Jan.=C2=A0 We don&#39;t know where these truncati=
on errors lead - do they portentially open security holes?=C2=A0 They cetai=
nly interefere with serving huge resources such as .iso images.</p>
<p dir=3D"ltr">When I first tripped over this, I breifly pondered putting t=
ogether a patch.=C2=A0 PHP, httpd (through apr) dealt with all this long ag=
o.</p>
<p dir=3D"ltr">But nghttp2 is a modern C99/POSIX app, why ask the author to=
 code around Win32-isms, now that MS finally got these right with the VC14 =
release?<br></p>

--001a1139384cba01d4052ecb016c--

From dev-return-86062-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 13:02:43 2016
Return-Path: <dev-return-86062-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B1EA818DC0
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 13:02:43 +0000 (UTC)
Received: (qmail 70084 invoked by uid 500); 24 Mar 2016 13:02:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70002 invoked by uid 500); 24 Mar 2016 13:02:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69991 invoked by uid 99); 24 Mar 2016 13:02:43 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 13:02:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B211E18021D
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 13:02:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.402
X-Spam-Level:
X-Spam-Status: No, score=-2.402 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_MED=-2.3, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id NS6uLF2BEEt0 for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 13:02:37 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id EFF9560E79
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 13:02:36 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1458824536;
	bh=vXoFOrxjdKn7/6BOtkAmNwrYd+AqHtisIDdI/5A69E0=;
	h=From:Subject:Date:To;
	b=gX35pzLJLQBaxazPO4AyN21E5AzeWolt1RYgcpu9i7BXdG9bP/pS71Reazfe6DUbH
	 IzO+jcV2pbIggSmc9G8Jx2yniO7CCJOALSm3AHYK6nk2tjkl3LwnpzX4kiBqH2qxHT
	 sccZtu/AgsEs51M2BPx0kZRFe17cE1WwR4wYuR74=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=84.241.210.254;
From: Steffen <info@apachelounge.com>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: mod_status Total Accesses with 2.4.20
Message-Id: <E3F2B8F8-2C05-4500-BF22-8AFCEFC8A12D@apachelounge.com>
Date: Thu, 24 Mar 2016 14:02:26 +0100
To: dev@httpd.apache.org
X-Mailer: iPhone Mail (13E234)

Using  server-status?auto.

Now since running with 2.4.20-dev my statistics graphs shows  less  Total Ac=
cesses.

Is it not counting http/1.1 or http/2 in Total Accesses ?

Steffen


From dev-return-86063-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 13:05:16 2016
Return-Path: <dev-return-86063-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 49AE118DF0
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 13:05:16 +0000 (UTC)
Received: (qmail 80943 invoked by uid 500); 24 Mar 2016 13:05:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 80868 invoked by uid 500); 24 Mar 2016 13:05:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80846 invoked by uid 99); 24 Mar 2016 13:05:15 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 13:05:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id A678C1A059B
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 13:05:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id p1LQvcGKenxI for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 13:05:12 +0000 (UTC)
Received: from mail-qg0-f44.google.com (mail-qg0-f44.google.com [209.85.192.44])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 022E55F257
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 13:05:11 +0000 (UTC)
Received: by mail-qg0-f44.google.com with SMTP id u110so37161266qge.3
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 06:05:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=ZkRR0fUFuCQBFHeN2jUFBvx81RVE60nqCt7iFbvc8bI=;
        b=LVRAQSuGIbxVl8v3FTnBjB7IhsMuwAVdSq7pyriwZiodd3KSU71+2vo0RI3Uk7G+JE
         ubfiPjvWX7za9CFX0KwuxGStXXiTaG14mKTbmpKLdImcLQ7zuUvVaujyXUe0xwKXB6PC
         Zm3EAs5fI7BlkYhMtJju2bHA9Tw2P1d24NnTxjK4DLaUoTdXQVvryzUlDOZT6l2NvcsQ
         IiNVnt26StAXRxbWedTIkOfBkHpqJb/COuAp5UxUNlPffK25lOzOCfmhQEHn4DlURYj+
         U0VxZkTZHHobLS89bRWETsZnVPuFdGreLeDFkCFO2SrIeaU/k+caNfF52L/slaFZknz/
         vxkQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=ZkRR0fUFuCQBFHeN2jUFBvx81RVE60nqCt7iFbvc8bI=;
        b=de8Q3oVbau0iRoDZMp/IO8clGXDplkQwsi0TFRGhmIcE4YlTk7FC1bcaIff1D0hCqf
         FQSiqhuBT2JJy3s9RhKvU3HBYwofIPwWmEkAlYkeBAsOBxKPqm7FVD8iHDTmFDP6zD0L
         8eJeCDtPcXDkv1xBQB5vZDwS6lwXsEr1w0nrDqGTyo1ezIT8e9RZGVaqijH1l81kb7U+
         Uit8lGfZw2KrFOfTP6ftvRVYATl81N72EqWxk9m38nwrs8iLALJ/pE89uUtBL6J0DLO4
         wMp//JXhDsSzN/7B7NDClwtzEVwnCcdVCge30NUDT3vmYWkzUJjZda6qcVJbApE7YhiH
         lbAw==
X-Gm-Message-State: AD7BkJJ3LTvKoC1ghwAgbJghYDXlW5lW0mx4rTePf9aHkr4A3ToB6Im4c3O9UP3LL1bj6KI/OWC8S4oXu3QcElLn
MIME-Version: 1.0
X-Received: by 10.140.255.136 with SMTP id a130mr10962301qhd.20.1458824710942;
 Thu, 24 Mar 2016 06:05:10 -0700 (PDT)
Received: by 10.55.154.139 with HTTP; Thu, 24 Mar 2016 06:05:10 -0700 (PDT)
Received: by 10.55.154.139 with HTTP; Thu, 24 Mar 2016 06:05:10 -0700 (PDT)
In-Reply-To: <8EE75634FC0941F3BED67A22B324F01F@father>
References: <56f2c072.c6c.1634.354c@land10.nl>
	<CACsi253tipn9EsGiRd942AHox5fOBRC0rS1NVM3Kefqf13YH7g@mail.gmail.com>
	<8EE75634FC0941F3BED67A22B324F01F@father>
Date: Thu, 24 Mar 2016 08:05:10 -0500
Message-ID: <CACsi250OA50jf1OZKzA-bcJ5ccAt0bKZbwhnoZFdOBnfZorC5g@mail.gmail.com>
Subject: Re: 2.4.20 Change dsp: Win32-specific build files.
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113a5b5aafc53c052ecb18a3

--001a113a5b5aafc53c052ecb18a3
Content-Type: text/plain; charset=UTF-8

Steffan,

I was plesantly surprised when I tested this on an early VS2015 preview and
the conversion was still supported.

I observed the note below in 2010 when that comment was first made (I
cribbed that comment from 2.2.x checkin).  So I now wonder if that note was
based on an Express edition perhaps?  Or on an early release - and MS later
added or fixed the conversion?  I can't be more specific at this point, but
maybe someone else remembers such an issue.
On Mar 24, 2016 05:39, "Steffen" <info@apachelounge.com> wrote:

> Good now.
>
> Little note:  Visual Studio 2010 users cannot convert our .dsp files.
> That's not true, I convert them.
>
> Steffen
>
>
>
> From: William A Rowe Jr Sent: Wednesday, March 23, 2016 9:23 PM
> To: httpd Subject: ********* Re: 2.4.20 Change dsp: Win32-specific build
> files.
>
> On Wed, Mar 23, 2016 at 11:12 AM, Steffen <info@apachelounge.com> wrote:
>
> I went earlier back, so I did a .dsp/GUI build with no issues.
> Build with SVN revision 1736328.
>
> Running looks also fine sofar.
>
>
>
>
>
> Glad to hear, thanks for testing.  I've updated the commit log message
> to more clearly explain the intent and avoid future confusion;
>
> +Going forwards, keep win32 build in svn once a tree is stable.
> +Visual Studio 2010 users cannot convert our .dsp files, and
> +ddk toolchain users couldn't either.
> +
> +Applies the same logic as r1100294 on the 2.2.x branch.
> +
> Until the cmake build schema is entirely mature, these files
> are needed for command-line builds of the 2.4 tree, and are
> expected to change very little until the EOL of 2.4 branch.
> -The actual .dsp files are entirely unusable for any shipping
> -version of MSVC/Visual Studio, while the .mak exports of these
> -projects are usable on any flavor of the MS build environment.
> +
> +The .dsp source files are not directly usable for any shipping
> +version of MSVC/Visual Studio (post-Visual Studio 97 release),
> +while the .mak exports of these projects are usable on any flavor
> +of the MS nmake build environment.  The .dsp source files are
> +retained for those users wishing to import these projects into
> +the modern vcproj/sln file format.
>
>
> Hope that is more clear, further edit suggestions are welcome.
>
>
> Cheers,
>
>
> Bill
>

--001a113a5b5aafc53c052ecb18a3
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">Steffan,</p>
<p dir=3D"ltr">I was plesantly surprised when I tested this on an early VS2=
015 preview and the conversion was still supported.</p>
<p dir=3D"ltr">I observed the note below in 2010 when that comment was firs=
t made (I cribbed that comment from 2.2.x checkin).=C2=A0 So I now wonder i=
f that note was based on an Express edition perhaps?=C2=A0 Or on an early r=
elease - and MS later added or fixed the conversion?=C2=A0 I can&#39;t be m=
ore specific at this point, but maybe someone else remembers such an issue.=
</p>
<div class=3D"gmail_quote">On Mar 24, 2016 05:39, &quot;Steffen&quot; &lt;<=
a href=3D"mailto:info@apachelounge.com">info@apachelounge.com</a>&gt; wrote=
:<br type=3D"attribution"><blockquote class=3D"gmail_quote" style=3D"margin=
:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Good now.<br>
<br>
Little note:=C2=A0 Visual Studio 2010 users cannot convert our .dsp files.<=
br>
That&#39;s not true, I convert them.<br>
<br>
Steffen<br>
<br>
<br>
<br>
From: William A Rowe Jr Sent: Wednesday, March 23, 2016 9:23 PM<br>
To: httpd Subject: ********* Re: 2.4.20 Change dsp: Win32-specific build fi=
les.<br>
<br>
On Wed, Mar 23, 2016 at 11:12 AM, Steffen &lt;<a href=3D"mailto:info@apache=
lounge.com" target=3D"_blank">info@apachelounge.com</a>&gt; wrote:<br>
<br>
I went earlier back, so I did a .dsp/GUI build with no issues. <br>
Build with SVN revision 1736328.<br>
<br>
Running looks also fine sofar.<br>
<br>
<br>
<br>
<br>
<br>
Glad to hear, thanks for testing.=C2=A0 I&#39;ve updated the commit log mes=
sage<br>
to more clearly explain the intent and avoid future confusion;<br>
<br>
+Going forwards, keep win32 build in svn once a tree is stable.<br>
+Visual Studio 2010 users cannot convert our .dsp files, and<br>
+ddk toolchain users couldn&#39;t either.<br>
+<br>
+Applies the same logic as r1100294 on the 2.2.x branch.<br>
+<br>
Until the cmake build schema is entirely mature, these files<br>
are needed for command-line builds of the 2.4 tree, and are<br>
expected to change very little until the EOL of 2.4 branch.<br>
-The actual .dsp files are entirely unusable for any shipping<br>
-version of MSVC/Visual Studio, while the .mak exports of these<br>
-projects are usable on any flavor of the MS build environment.<br>
+<br>
+The .dsp source files are not directly usable for any shipping<br>
+version of MSVC/Visual Studio (post-Visual Studio 97 release),<br>
+while the .mak exports of these projects are usable on any flavor<br>
+of the MS nmake build environment.=C2=A0 The .dsp source files are<br>
+retained for those users wishing to import these projects into<br>
+the modern vcproj/sln file format.<br>
<br>
<br>
Hope that is more clear, further edit suggestions are welcome.<br>
<br>
<br>
Cheers,<br>
<br>
<br>
Bill<br>
</blockquote></div>

--001a113a5b5aafc53c052ecb18a3--

From dev-return-86064-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 13:05:54 2016
Return-Path: <dev-return-86064-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CF70B18DF7
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 13:05:54 +0000 (UTC)
Received: (qmail 82740 invoked by uid 500); 24 Mar 2016 13:05:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 82668 invoked by uid 500); 24 Mar 2016 13:05:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82658 invoked by uid 99); 24 Mar 2016 13:05:54 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 13:05:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id ACD671A0A15
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 13:05:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=Xz7Bdwbd;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=UEqhSjBC
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id SE96QM_24Qay for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 13:05:49 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id E64475F478
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 13:05:48 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 08F4415A0975; Thu, 24 Mar 2016 14:05:41 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458824741; bh=rEoaH6WspKlRohnCQZoxtsU2tPLPGGu0hio6wG3R0Jk=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=Xz7Bdwbd1M15NC+MebRqGhovE3kxlhw0HgMA+eHcmPr25K0yvYbVy5D1j2ru8LBQu
	 +OrMf1GQBSRUViFrGbgMNZgRIsRD6TtNDhkuRtapM+7BbYwLJbiYnx85tB7O13tTId
	 tKHglSAvqGKbQ+4NR+TkJ1AuhSXzXqXwCqdQLL9M=
Received: from [192.168.1.42] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 80B8515A0223
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 14:05:39 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458824739; bh=rEoaH6WspKlRohnCQZoxtsU2tPLPGGu0hio6wG3R0Jk=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=UEqhSjBCgJe1/rFHF2FvRHlHNKMnpn6Lmh8uXL1laHCGWbInxTAPL1cIvpCzAAKT+
	 e5YnFS/7KgES6W3vFm1jjCreBWxBdNkcvWEN/b9/onCH1fpUAkGIqTW6bvaGaYZlIk
	 Dt22OpaNz5VEFVbtzcEtDc3LPXb6ll/78H1WUXxw=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.3 \(3124\))
Subject: Re: mod_status Total Accesses with 2.4.20
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <E3F2B8F8-2C05-4500-BF22-8AFCEFC8A12D@apachelounge.com>
Date: Thu, 24 Mar 2016 14:05:39 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <3018DC2A-AAC3-433B-ACFF-186D2DBBA270@greenbytes.de>
References: <E3F2B8F8-2C05-4500-BF22-8AFCEFC8A12D@apachelounge.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3124)

Quick test: http/2 connections are not counted here. checking...

> Am 24.03.2016 um 14:02 schrieb Steffen <info@apachelounge.com>:
>=20
> Using  server-status?auto.
>=20
> Now since running with 2.4.20-dev my statistics graphs shows  less  =
Total Accesses.
>=20
> Is it not counting http/1.1 or http/2 in Total Accesses ?
>=20
> Steffen
>=20


From dev-return-86065-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 13:13:33 2016
Return-Path: <dev-return-86065-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A56FD18E6F
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 13:13:33 +0000 (UTC)
Received: (qmail 29327 invoked by uid 500); 24 Mar 2016 13:13:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29266 invoked by uid 500); 24 Mar 2016 13:13:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29246 invoked by uid 99); 24 Mar 2016 13:13:33 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 13:13:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 9CF8718046D
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 13:13:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.279
X-Spam-Level: *
X-Spam-Status: No, score=1.279 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id DGIY7-eLRqpA for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 13:13:31 +0000 (UTC)
Received: from mail-qk0-f178.google.com (mail-qk0-f178.google.com [209.85.220.178])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 9C0345F24B
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 13:13:30 +0000 (UTC)
Received: by mail-qk0-f178.google.com with SMTP id p130so19217848qke.1
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 06:13:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc;
        bh=rpmoWmn8uw5AokMql4IitjcSTJoKljtxYZJ09TkL0D4=;
        b=l9wqwNDskJ8j8DB9rr+hVAYWVmNRNmHX2Tpalz1r+jWfgttrVo/1w3JGUdYxbqQY1b
         j+AeuXTYvBQEOgJkVKv9JYCjSo/out9WD0wK1JvpP5UcxXLbjeLqaWu0HCNTBST8TxbW
         mmVHGJACzparowjBRbW+gAmfUGOcUBNzrkzKZFP8t8MZchmg1H+Y4KXPhjGnWbgWk2du
         p4tzkDRy8xAwUj+nu84a5fJ4enAfGv2aj7U1JlBbigTcZGNkb3R3xBM+FsRAI137en8w
         +liOc9FPUIvgX7fgef5HwyqSyO3qKCJkPtJJugfaGtGLJMZCvdceIx4PCiM86n1jIJmx
         13mA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc;
        bh=rpmoWmn8uw5AokMql4IitjcSTJoKljtxYZJ09TkL0D4=;
        b=IxVNcODXKBo47qkLZGeAysWXpQHwUyZKiHlvOEWHFBAW/qOXz4AuyJ04gDxlEaA+Ez
         uKUni6k2UrSPG/u6+LuK4u4x5kGTfMiwYNMvpM0XFTZMyYj8F2ALZWScBguBE7YOuQqM
         BaXuFf9Ik8BaEglwFdDcnETymrE+Sz5hjxn/sNa/wpRuqTYTfusCUWaQSgjRsrMpopnL
         eoBEukPHKmPPKR0ujYoUj5O89iVu72bbdma2jtUq9uWoLVgWRrkIwp46bZMYJFlYI48R
         SxtZnq63DtBoxNiwsQXyTXkiHLTAfZYmwP+I+XRstejQkov2zR2mCnAdrdpS+22F1YhH
         olog==
X-Gm-Message-State: AD7BkJInYdxTDdry/GXlcXlDFt1x63Li1ITe2okNpwuDbzVc0F2uPR+kHgGf5+1+gZNOxkUcbB2pPUWYeHCICWOw
MIME-Version: 1.0
X-Received: by 10.55.78.11 with SMTP id c11mr10273140qkb.89.1458825209513;
 Thu, 24 Mar 2016 06:13:29 -0700 (PDT)
Received: by 10.55.154.139 with HTTP; Thu, 24 Mar 2016 06:13:29 -0700 (PDT)
Received: by 10.55.154.139 with HTTP; Thu, 24 Mar 2016 06:13:29 -0700 (PDT)
In-Reply-To: <CAFedD42B4xbhG9LqLDFQ4mMyBkL-Q-koE2_0RRJf5A_gKQpUrA@mail.gmail.com>
References: <CADsSJJFNX4_rjs90PXWzQwzSFc_fWOhdDEOc-u-hi4Zys3+LRg@mail.gmail.com>
	<CAFedD42B4xbhG9LqLDFQ4mMyBkL-Q-koE2_0RRJf5A_gKQpUrA@mail.gmail.com>
Date: Thu, 24 Mar 2016 08:13:29 -0500
Message-ID: <CACsi250wYVNXLjDbEvMsVt5NtKpR2uhERvTuaPvhjuPSXRuFGQ@mail.gmail.com>
Subject: Re: apr_global_mutex_create vs apr_proc_mutex_create
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Cc: modules-dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a114a8a9e6738e8052ecb3653

--001a114a8a9e6738e8052ecb3653
Content-Type: text/plain; charset=UTF-8

proc_mutex can only be used to block on a cross process event.  It can be
used in a threaded server, but cannot be held in multiple threads, you
might use it to block in a single thread queue per-process.

Thread_mutex will not block between processes, this is used for the
mutex-per-process logic such as a across accept wait queues.

Global_mutex will block, across threads and across processes, as
appropriate.
On Mar 24, 2016 04:08, "Luca Toscano" <toscano.luca@gmail.com> wrote:

> +httpd-dev@
>
> Hello!
>
> 2016-03-23 21:49 GMT+01:00 Ali Shah <caffein@gmail.com>:
>
>> Hi Module maintainers,
>>
>> I'm writing a simple apache module and I'd like to aggregate some
>> statistics.
>> I saw an example module that does this (
>> https://wiki.apache.org/httpd/ModuleLife) using shared memory.
>>
>> My question for those on this list following:
>>
>> What is the main difference between using mutexes created
>> via apr_global_mutex_create and apr_proc_mutex_create in terms of
>> performance and safety of the resource that being protected?
>>
>> The docs seem to discourage usage of apr_global_mutex_create:
>> "There is considerable overhead in using this API if only cross-process or
>> cross-thread mutual exclusion is required."
>>
>> Is the overhead purely in code setup (since global mutex should be
>> initialized in post_config), or is this describing some performance
>> penalties as well?
>>
>
> From what I can see in [1] a global lock uses both apr_proc_mutex_create
> and apr_thread_mutex_create, so this is why the documentation suggests the
> use of a more specialized one if only cross-process or cross-thread sync is
> needed.
>
> Not a great explanation I know, somebody else with more experience will
> give you a better answer on this list :)
>
> Luca
>
>
>
> [1]:
> https://github.com/apache/apr/blob/7951861fb029fd0fb60e5ec8da73015d03afa28d/locks/unix/global_mutex.c#L46
>
>
>

--001a114a8a9e6738e8052ecb3653
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">proc_mutex can only be used to block on a cross process even=
t.=C2=A0 It can be used in a threaded server, but cannot be held in multipl=
e threads, you might use it to block in a single thread queue per-process.<=
/p>
<p dir=3D"ltr">Thread_mutex will not block between processes, this is used =
for the mutex-per-process logic such as a across accept wait queues.</p>
<p dir=3D"ltr">Global_mutex will block, across threads and across processes=
, as appropriate.</p>
<div class=3D"gmail_quote">On Mar 24, 2016 04:08, &quot;Luca Toscano&quot; =
&lt;<a href=3D"mailto:toscano.luca@gmail.com">toscano.luca@gmail.com</a>&gt=
; wrote:<br type=3D"attribution"><blockquote class=3D"gmail_quote" style=3D=
"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D=
"ltr">+httpd-dev@<div class=3D"gmail_extra"><br></div><div class=3D"gmail_e=
xtra">Hello!</div><div class=3D"gmail_extra"><br><div class=3D"gmail_quote"=
>2016-03-23 21:49 GMT+01:00 Ali Shah <span dir=3D"ltr">&lt;<a href=3D"mailt=
o:caffein@gmail.com" target=3D"_blank">caffein@gmail.com</a>&gt;</span>:<br=
><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border=
-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;=
padding-left:1ex">Hi Module maintainers,<br>
<br>
I&#39;m writing a simple apache module and I&#39;d like to aggregate some<b=
r>
statistics.<br>
I saw an example module that does this (<br>
<a href=3D"https://wiki.apache.org/httpd/ModuleLife" rel=3D"noreferrer" tar=
get=3D"_blank">https://wiki.apache.org/httpd/ModuleLife</a>) using shared m=
emory.<br>
<br>
My question for those on this list following:<br>
<br>
What is the main difference between using mutexes created<br>
via apr_global_mutex_create and apr_proc_mutex_create in terms of<br>
performance and safety of the resource that being protected?<br>
<br>
The docs seem to discourage usage of apr_global_mutex_create:<br>
&quot;There is considerable overhead in using this API if only cross-proces=
s or<br>
cross-thread mutual exclusion is required.&quot;<br>
<br>
Is the overhead purely in code setup (since global mutex should be<br>
initialized in post_config), or is this describing some performance<br>
penalties as well?<br></blockquote><div><br></div><div>From what I can see =
in [1] a global lock uses both=C2=A0apr_proc_mutex_create and apr_thread_mu=
tex_create, so this is why the documentation suggests the use of a more spe=
cialized one if only cross-process or cross-thread sync is needed.</div><di=
v><br></div><div>Not a great explanation I know, somebody else with more ex=
perience will give you a better answer on this list :)</div><div><br></div>=
<div>Luca</div><div><br></div><div><br></div><div><br></div><div>[1]:=C2=A0=
<a href=3D"https://github.com/apache/apr/blob/7951861fb029fd0fb60e5ec8da730=
15d03afa28d/locks/unix/global_mutex.c#L46" target=3D"_blank">https://github=
.com/apache/apr/blob/7951861fb029fd0fb60e5ec8da73015d03afa28d/locks/unix/gl=
obal_mutex.c#L46</a></div><div><br></div><div>=C2=A0</div></div></div></div=
>
</blockquote></div>

--001a114a8a9e6738e8052ecb3653--

From dev-return-86066-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 13:19:40 2016
Return-Path: <dev-return-86066-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B27E518EB7
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 13:19:40 +0000 (UTC)
Received: (qmail 44613 invoked by uid 500); 24 Mar 2016 13:19:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 44538 invoked by uid 500); 24 Mar 2016 13:19:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 44509 invoked by uid 99); 24 Mar 2016 13:19:34 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 13:19:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 350C9C2C79
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 13:19:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id o2hgXMpRyIuB for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 13:19:33 +0000 (UTC)
Received: from mail-qg0-f42.google.com (mail-qg0-f42.google.com [209.85.192.42])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id DDE555F24B
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 13:19:32 +0000 (UTC)
Received: by mail-qg0-f42.google.com with SMTP id c67so3768479qgc.1
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 06:19:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=Rz0ar2VvShbCQ+fQTycBYVBRqCqjCYiejd1acrk0z2Q=;
        b=NJ6IzTiPdwYmD4hxZvipQSn3mACVKiUSLmmJNjQNr3oyzzutK03gZDZEQJ/zFicATC
         wJp+VpBzoq0C4UtvgUfiG+cCK4jf7TTDyodAfCA2S6fxPRdUSOhX1gzBLTpoksgfbh3C
         gL/mwAol1wd2BKK/JZEciSstNrVvUOx3llSbNggEyemdkbDng9m29WZJwJk1ljmA8StI
         R27DD033RN1MCfIho2+1g8x/d7zHbjkHx5g9En2ZbRC3+9/adBiANeALE5zCZA5JMNG1
         kiFmObebPThfGk2GlfiiwYY+HINq6beR89AbhDF8E2ENOop+7B8Je6NxHOZpI+DlwkC+
         BaBQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=Rz0ar2VvShbCQ+fQTycBYVBRqCqjCYiejd1acrk0z2Q=;
        b=O6hMB2HomBH26NvKzKAhgKbXCaZtJdfTxVDJzZ3fTojU0W5swj4XIykVyf5ipSh1fN
         1WmV+9qO1qcdOnI3a8FmHycsMHkoLaGsG5SvzjSwWLARc6b4U99jANWZDJexB8xFzx5X
         gbWlW7qzXOj1zUSwdZwgtK9UA3mFESWQQkQyffMtHEcYKSTRE9jEYSIbBmQdJBayDe/3
         DIdUl/BgysziVSHQXAQg1lSGYGoRLRyoMef7c6MhDRQeUIzmPFAC0tnFDucy8RVh1wvF
         62j3AOWT5Dl5REhi5cqvb+eQmVgzt7/Vw+X90cqwpIXT07EQOjTP75kPHaakEfo6t1Ek
         vogw==
X-Gm-Message-State: AD7BkJLmirHcP2HUait0haJQPryqEHNaQK9MrIOzV9Fok3woKh20pveUfEUk0wrhBPftYuwiW1+QAsNlsnw7pA==
MIME-Version: 1.0
X-Received: by 10.140.82.70 with SMTP id g64mr10690773qgd.14.1458825571521;
 Thu, 24 Mar 2016 06:19:31 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Thu, 24 Mar 2016 06:19:31 -0700 (PDT)
In-Reply-To: <alpine.DEB.2.10.1603211337110.11011@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto>
	<alpine.DEB.2.10.1601140936560.28426@sto>
	<CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com>
	<alpine.DEB.2.10.1603011545040.18133@sto>
	<CALK=YjOv-3FxaSULNF5myB_E5S=Pun=p-113sucVO+RsQ1UC4w@mail.gmail.com>
	<alpine.DEB.2.10.1603060800330.11128@sto>
	<alpine.DEB.2.10.1603091742580.25393@sto>
	<CAKQ1sVOTT55LVYt_PSUQq5wT1WWobSRgULUNGY8bwjL7C9_Z0A@mail.gmail.com>
	<alpine.DEB.2.10.1603211337110.11011@sto>
Date: Thu, 24 Mar 2016 14:19:31 +0100
Message-ID: <CAKQ1sVMiqT2_6Yi6T=-4DFZMzAW-zd8XeRM_tY1d6cA61Br92A@mail.gmail.com>
Subject: Re: [VOTE] access control for dynamic hosts
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi Fabien,

On Wed, Mar 23, 2016 at 6:12 PM,  <fabien@apache.org> wrote:
>
> How about adding something like:
>
> From a security perspective, getting access to a protected page is somehow
> easier with "forward-dns" because the attacker needs only to control the DNS
> for the domain, while they would also need to control the reverse DNS with
> "host". Now, if you have important confidential data, they would not be
> only protected by host-based authorizations, would they?

I guess this question is for me, not the doc :)
Right, host-based is not the state of the art of authorizations, that
could also be documented for both "forward-dns" and "host"... maybe
without asking for an agreement from the reader? ;)

But reverse DNS is actually also easier to control than forward
anyway, so in both cases it really boils down to controlling the
configured host's domain (or the DNS/resolver used by the server).

So, finally, mentioning that *any* ip/host-based authz should be
combined with other authz/authn (SSL certificates, credentials
schemes, ...) for stronger requirements may be the way to go.
Or maybe simply not change the doc since all this might be quite obvious...

Regards,
Yann.

From dev-return-86067-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 13:50:09 2016
Return-Path: <dev-return-86067-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6E4F419041
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 13:50:09 +0000 (UTC)
Received: (qmail 52132 invoked by uid 500); 24 Mar 2016 13:50:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52040 invoked by uid 500); 24 Mar 2016 13:50:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52023 invoked by uid 99); 24 Mar 2016 13:50:04 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 13:50:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 01A41C0D8C
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 13:50:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.702
X-Spam-Level:
X-Spam-Status: No, score=-0.702 tagged_above=-999 required=6.31
	tests=[HEADER_FROM_DIFFERENT_DOMAINS=0.001, RCVD_IN_DNSWL_LOW=-0.7,
	RP_MATCHES_RCVD=-0.001, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id teRwohKgKjvr for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 13:50:00 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 3F8E85FB48
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 13:50:00 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1aj5e9-0002gy-9v
	for dev@httpd.apache.org; Thu, 24 Mar 2016 14:49:57 +0100
Received: from 227-116.citynet.ftth.internl.net ([85.223.116.227])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 14:49:57 +0100
Received: from phpdev by 227-116.citynet.ftth.internl.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 14:49:57 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Jan Ehrhardt <phpdev@ehrhardt.nl>
Subject: Re: mod_http2 on Windows (was: Re: Status for 2.4.20)
Date: Thu, 24 Mar 2016 14:49:48 +0100
Lines: 17
Message-ID: <ijr7fb1jpdtp2dglvbi4ue6u8d8ap78alf@4ax.com>
References: <CACsi253bME8aMTwG9cbgg220=U3bEYp7046cd-6bzs0tN1hEaw@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: 227-116.citynet.ftth.internl.net
X-Newsreader: Forte Agent 3.3/32.846

William A Rowe Jr in gmane.comp.apache.devel (Thu, 24 Mar 2016 07:58:45
-0500):
>Precisely, Jan.  We don't know where these truncation errors lead - do they
>portentially open security holes?  They cetainly interefere with serving
>huge resources such as .iso images.
>
>When I first tripped over this, I breifly pondered putting together a
>patch.  PHP, httpd (through apr) dealt with all this long ago.

Apparently, you never compiled PHP 5.5/5.6/7.0 on Windows 64-bits. There
are loads of 'possible loss of data' warnings. See for yourself:
http://windows.php.net/downloads/snaps/master/r454ae8a/logs/make-ts-windows-vc14-x64-r454ae8a.html

Even in the 32-bits PHP 7 there are some:
http://windows.php.net/downloads/snaps/master/r454ae8a/logs/make-ts-windows-vc14-x86-r454ae8a.html

Jan


From dev-return-86068-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 14:16:21 2016
Return-Path: <dev-return-86068-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4E87519151
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 14:16:21 +0000 (UTC)
Received: (qmail 34720 invoked by uid 500); 24 Mar 2016 14:16:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34645 invoked by uid 500); 24 Mar 2016 14:16:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34635 invoked by uid 99); 24 Mar 2016 14:16:20 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 14:16:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 648631A09DB
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 14:16:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id bxU4P13h4fZ4 for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 14:16:19 +0000 (UTC)
Received: from mail-qg0-f41.google.com (mail-qg0-f41.google.com [209.85.192.41])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 2D4D85F119
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 14:16:18 +0000 (UTC)
Received: by mail-qg0-f41.google.com with SMTP id u110so38932305qge.3
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 07:16:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=0T3EgzhFaJeuzzbCfcp9xNd9RntFUbB163ZFN38yka8=;
        b=VMhV9pild1/fanUm54Vy1R0TR5KoftIAqx5Zr5R+pkpS2wi7OxPWAciwBiJmSh13kU
         p7mW4+sOPIkMHIQQu9whMvUXSdh7uEmHq/sH8zVPZX7WYlCMY4kbY8hMNjf/nI7Fjdgu
         xX4uS4W/OeoQ2q2AcLpWmSq8zvX+Md4832nmOV30EE/9QYoN3/4Gkth8/tUqwegOXtqb
         +lB1QtB1WoWfPwQuI1JIDcW0Xkb7L6owR87F4rhG0NlFRZSdssttumNcUGVpJjTG+Ye2
         OpgYTi1d+hxE8R/VdHDfoojLDa7dWQbZpzay8SYDehzwM6W+tzzrBZGtav1tAnHxvgXW
         aTVg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=0T3EgzhFaJeuzzbCfcp9xNd9RntFUbB163ZFN38yka8=;
        b=bfSCuHLUwcEyoR6okfXQITFntpzLU9Kzr4VgKK94Bo7WFuhrNzmtpNxdXYj1fD9gPL
         Way6SZMu7bmfugQixoP0ERpDPFsk5rj+ymEimo/j9BD3U2aESZdhuj/IYrSaNFzi2+M+
         gN4KmIE2UEMfxWNQjIYt252oQCv96qvvaRmblKoq3mpIqakSPxXGl8kMmnxAZa3pkg0U
         a2kOFdNzTOfHNkwgHxmPMwycmi0khN+UNd6tIYRQNJvSoSK/3hFh3Nb4cQWNoVbbQJ/e
         5nvLPiqyi+PUUD4yLJYn7BKeJs4pdUg1E/z3ioy8xm3CE3/7jsPmxetadVKQWAe7oW0M
         0Fvg==
X-Gm-Message-State: AD7BkJIvqhoeiv1xY1gfVixHFeffo0LhgT6xYTUyhzi04T1GLeJFZl21WbV+4UV/q65MixKsuHV9vb0UwxPOJN2M
MIME-Version: 1.0
X-Received: by 10.140.156.138 with SMTP id c132mr11478339qhc.96.1458828977186;
 Thu, 24 Mar 2016 07:16:17 -0700 (PDT)
Received: by 10.55.154.139 with HTTP; Thu, 24 Mar 2016 07:16:17 -0700 (PDT)
In-Reply-To: <ijr7fb1jpdtp2dglvbi4ue6u8d8ap78alf@4ax.com>
References: <CACsi253bME8aMTwG9cbgg220=U3bEYp7046cd-6bzs0tN1hEaw@mail.gmail.com>
	<ijr7fb1jpdtp2dglvbi4ue6u8d8ap78alf@4ax.com>
Date: Thu, 24 Mar 2016 09:16:17 -0500
Message-ID: <CACsi252JF88DQFBEOmfwPpYRP8T5qt8iRrrynnNRY-cK=TDK3A@mail.gmail.com>
Subject: Re: mod_http2 on Windows (was: Re: Status for 2.4.20)
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11399766f93ebe052ecc16d5

--001a11399766f93ebe052ecc16d5
Content-Type: text/plain; charset=UTF-8

On Thu, Mar 24, 2016 at 8:49 AM, Jan Ehrhardt <phpdev@ehrhardt.nl> wrote:

> William A Rowe Jr in gmane.comp.apache.devel (Thu, 24 Mar 2016 07:58:45
> -0500):
> >Precisely, Jan.  We don't know where these truncation errors lead - do
> they
> >portentially open security holes?  They cetainly interefere with serving
> >huge resources such as .iso images.
> >
> >When I first tripped over this, I breifly pondered putting together a
> >patch.  PHP, httpd (through apr) dealt with all this long ago.
>
> Apparently, you never compiled PHP 5.5/5.6/7.0 on Windows 64-bits. There
> are loads of 'possible loss of data' warnings. See for yourself:
>
> http://windows.php.net/downloads/snaps/master/r454ae8a/logs/make-ts-windows-vc14-x64-r454ae8a.html


It's been a *long* time, and I know it hadn't been that well maintained
for non-Linux (non-BSD) target architectures.


> Even in the 32-bits PHP 7 there are some:
>
> http://windows.php.net/downloads/snaps/master/r454ae8a/logs/make-ts-windows-vc14-x86-r454ae8a.html


With a bit of luck - many of these are resolved by simply jumping up to
Visual Studio 2015 (and removing any number of win32-specific bandaids
that covered some warts in the earlier stdc lib)?

Remaining errors likely still need fixing.  That sizeof(int) == sizeof(void
*)
assumption from 64ILP architectures is *not* part of the spec.  We have
64ILP (int == long == void*), 64LP (long == void* != int) as well as
64P (long == int != void*) and each of these are valid architectures.

The various types such as ptrdiff_t that POSIX exposes *should* resolve
these all when the correct types are chosen, and that is now true with
MSVC 14 on Windows as well.  It just becomes a matter of using the
true and correct type for various operations.

Cheers,

Bill

--001a11399766f93ebe052ecc16d5
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Mar 24, 2016 at 8:49 AM, Jan Ehrhardt <span dir=3D"ltr">&lt;<a href=3D"=
mailto:phpdev@ehrhardt.nl" target=3D"_blank">phpdev@ehrhardt.nl</a>&gt;</sp=
an> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px=
 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left=
-style:solid;padding-left:1ex">William A Rowe Jr in gmane.comp.apache.devel=
 (Thu, 24 Mar 2016 07:58:45<br>
-0500):<br>
<span class=3D"">&gt;Precisely, Jan.=C2=A0 We don&#39;t know where these tr=
uncation errors lead - do they<br>
&gt;portentially open security holes?=C2=A0 They cetainly interefere with s=
erving<br>
&gt;huge resources such as .iso images.<br>
&gt;<br>
&gt;When I first tripped over this, I breifly pondered putting together a<b=
r>
&gt;patch.=C2=A0 PHP, httpd (through apr) dealt with all this long ago.<br>
<br>
</span>Apparently, you never compiled PHP 5.5/5.6/7.0 on Windows 64-bits. T=
here<br>
are loads of &#39;possible loss of data&#39; warnings. See for yourself:<br=
>
<a href=3D"http://windows.php.net/downloads/snaps/master/r454ae8a/logs/make=
-ts-windows-vc14-x64-r454ae8a.html" rel=3D"noreferrer" target=3D"_blank">ht=
tp://windows.php.net/downloads/snaps/master/r454ae8a/logs/make-ts-windows-v=
c14-x64-r454ae8a.html</a></blockquote><div><br></div><div>It&#39;s been a *=
long* time, and I know it hadn&#39;t been that well maintained=C2=A0</div><=
div>for non-Linux (non-BSD) target architectures.=C2=A0</div><div>=C2=A0</d=
iv><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;bord=
er-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:soli=
d;padding-left:1ex">
Even in the 32-bits PHP 7 there are some:<br>
<a href=3D"http://windows.php.net/downloads/snaps/master/r454ae8a/logs/make=
-ts-windows-vc14-x86-r454ae8a.html" rel=3D"noreferrer" target=3D"_blank">ht=
tp://windows.php.net/downloads/snaps/master/r454ae8a/logs/make-ts-windows-v=
c14-x86-r454ae8a.html</a></blockquote><div><br></div><div>With a bit of luc=
k - many of these are resolved by simply jumping up to</div><div>Visual Stu=
dio 2015 (and removing any number of win32-specific bandaids</div><div>that=
 covered some warts in the earlier stdc lib)?</div><div><br></div><div>Rema=
ining errors likely still need fixing.=C2=A0 That sizeof(int) =3D=3D sizeof=
(void *)</div><div>assumption from 64ILP architectures is *not* part of the=
 spec.=C2=A0 We have</div><div>64ILP (int =3D=3D long =3D=3D void*), 64LP (=
long =3D=3D void* !=3D int) as well as</div><div>64P (long =3D=3D int !=3D =
void*) and each of these are valid architectures.</div><div><br></div><div>=
The various types such as ptrdiff_t that POSIX exposes *should* resolve=C2=
=A0</div><div>these all when the correct types are chosen, and that is now =
true with=C2=A0</div><div>MSVC 14 on Windows as well.=C2=A0 It just becomes=
 a matter of using the</div><div>true and correct type for various operatio=
ns.</div><div><br></div><div>Cheers,</div><div><br></div><div>Bill</div></d=
iv></div></div>

--001a11399766f93ebe052ecc16d5--

From dev-return-86069-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 14:31:14 2016
Return-Path: <dev-return-86069-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A83F2191EB
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 14:31:14 +0000 (UTC)
Received: (qmail 1722 invoked by uid 500); 24 Mar 2016 14:31:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1659 invoked by uid 500); 24 Mar 2016 14:31:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1647 invoked by uid 99); 24 Mar 2016 14:31:14 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 14:31:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id BCD9DC021F
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 14:31:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id tLmxXzAZkiFO for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 14:31:13 +0000 (UTC)
Received: from mail-qk0-f178.google.com (mail-qk0-f178.google.com [209.85.220.178])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id EA9C45FB47
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 14:31:12 +0000 (UTC)
Received: by mail-qk0-f178.google.com with SMTP id s68so20397391qkh.3
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 07:31:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=hxgBg8Ui3GwgA5YaVLP14WagaxYPLvKpfMH390t6y18=;
        b=v6lj4fhxeaskONbPw4heeph7fdlbeArgIQs5tgQ5FalX5wF7rzyjebUVrbMBa6ocXx
         mqOg+lEetArJiUeZw5khDuoct7cxem2+AGN2rQuuPguBKDPO7ycfq5ULRwQBB2EB6NWM
         5QppJSVtfMmWHoS7JiLszsLiFmdzsKsgAMnNyhoN1eWEef3XRItAlldqKlab9qfg2QiL
         Nf0SHypK5CEPTTscctspm8UJgfTGowQ1el1TuKJSD1ekGIJZBPlTchKZtBf3pQ+uYeVv
         +4T7LYr2TMxa2dthn1WRSwlunn/HAZP5bTYy8cOb6bUjMeB3oWo8mZVZjmw0e/pJ46jd
         sCPQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=hxgBg8Ui3GwgA5YaVLP14WagaxYPLvKpfMH390t6y18=;
        b=IaFobC2/l96fehi6TQ3jTLOaXxHij1MgwK3GfUsLnp4RWgp77qL4XhMO95O3vATWFq
         RHRnbObVDFgdoTsotogDg3WPh7fsfc9jbSUYtZ5xw7ghp86LUBG6SNcUJlo5WP4tJREy
         OTV5M57jLV7yPO7iZppBEsfBPhiLukXPHcql02SWtzgp7qkvKXKxE9TRD152XrZ0gr3q
         BIXM1iaGqvGkZI1ZrEGLQBNZHTNHS6inPVvEDsqAd2SjmsG58XwQ3HD1Ce6eUjif+ewo
         uS9742ceKuYAWZuJ1TCMsr8NBYw9ehfKg3oiiQvd7htER1g4090LAnv6dW+gPsTHXs2x
         eWIw==
X-Gm-Message-State: AD7BkJLOq/qiQTg7tVwhfVG+icSKnGWhyCJi+RiAVS92AnbreeCcKgh8kw1pJyfPf5yZthXpDKL/xIo5wZZ3Xw==
MIME-Version: 1.0
X-Received: by 10.55.75.203 with SMTP id y194mr11094866qka.2.1458829865934;
 Thu, 24 Mar 2016 07:31:05 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Thu, 24 Mar 2016 07:31:05 -0700 (PDT)
In-Reply-To: <CACsi253bME8aMTwG9cbgg220=U3bEYp7046cd-6bzs0tN1hEaw@mail.gmail.com>
References: <CACsi253bME8aMTwG9cbgg220=U3bEYp7046cd-6bzs0tN1hEaw@mail.gmail.com>
Date: Thu, 24 Mar 2016 15:31:05 +0100
Message-ID: <CAKQ1sVMxFp5moz1K+AHyaQsLShAiMs5nCH5Bxf4qJTfA134i6g@mail.gmail.com>
Subject: Re: mod_http2 on Windows (was: Re: Status for 2.4.20)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

>> nghttp2_session.c(160) : warning C4996: 'vsnprintf': This function or
>> variable may be unsafe. Consider using vsnprintf_s instead. To disable
>> deprecation, use _CRT_SECURE_NO_WARNINGS.

[sarcasm]
Microsoft being unable to provide a safe vsnprintf() in the first
place and now warning every user is kind of ironic.

Not to talk about they very personal conception of sizeof(long) on
64bit systems...
[/sarcasm]

Not a very constructive comment, I agree :)

From dev-return-86070-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 14:40:35 2016
Return-Path: <dev-return-86070-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 815751924F
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 14:40:35 +0000 (UTC)
Received: (qmail 23069 invoked by uid 500); 24 Mar 2016 14:40:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22962 invoked by uid 500); 24 Mar 2016 14:40:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22849 invoked by uid 99); 24 Mar 2016 14:40:30 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 14:40:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 77272C021F
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 14:40:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.298
X-Spam-Level: *
X-Spam-Status: No, score=1.298 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id PWFGGY-VofHt for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 14:40:29 +0000 (UTC)
Received: from mail-qg0-f45.google.com (mail-qg0-f45.google.com [209.85.192.45])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id E4C015FAD4
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 14:40:28 +0000 (UTC)
Received: by mail-qg0-f45.google.com with SMTP id y89so39722893qge.2
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 07:40:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=yfYirC3qhy2A+8mkIBP/xeB8XOqWaVx1L3lU+aJCZB8=;
        b=ibS4knUSicuf2Th0pvDdLmpfttxIDlNOXChBNhtLta8+MzBPtgBZmfqqTQzbLuDUSL
         r2g2Q8l3IlkGR9XTLw29DP5pl3TAACfzBVn+/r5p5riwGJY8jCY2dVFl5LfY2ShMGY9D
         c/yrFMzCviilG8krcgOsE/l7QzoTkmEMQv1DW7ZW+I05FoLubm15F1fspGsrvVQLNdXG
         AlOXPtDodR8A5pDTz3NgDrqT6O6eW8BG5cEI13tnWqbf4eXS/CoXj0TgpYWKKJRdgBgT
         1wloGDRjjkUNIYjt8ivtKu+I2bbLnSBtsTycFiwWBU3MjBh4aSCrm95OrSBac3jmyFET
         E9/w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=yfYirC3qhy2A+8mkIBP/xeB8XOqWaVx1L3lU+aJCZB8=;
        b=JVbTWLZTUEoJzImaRdI3hULeGn3zZytu8J4+nKydkPJsvW9hL7bWJR2biX1d+9Losm
         WyrAaWgTGMR5Ka9mNiNBKrmb43gtRTIiaBo+u9o3kKUJGPX6Td3WAMt55gmDmk7Igbt/
         0L3eFIF+f/X0YMrmXWMyUj1WZS785p0KQhTzmLRKjV9UvfgnRXahkM5En3qD5JUr2EJg
         Z0/G8I2j+ZNk5BKMC5CNH+QAxj6PxjCq6NuCeg46OiGKSYX0srxRjy/jw/VgcKhOaVD3
         UqlsDamNoCvMCgdAppw9W6jo5UmSQrUyvPnmEpQO1iFhd5W1ObRo0a3q/43wp6HF4jCt
         jUjw==
X-Gm-Message-State: AD7BkJIbLD2Rt/SGMb5uScI6Dw+jpJPyvoO/J3YqpgG9XSlOIT03kfpwfHPzddIDvvBRqLauDQJVPuzvQdkfjyyz
MIME-Version: 1.0
X-Received: by 10.140.102.104 with SMTP id v95mr10841713qge.48.1458830428028;
 Thu, 24 Mar 2016 07:40:28 -0700 (PDT)
Received: by 10.55.154.139 with HTTP; Thu, 24 Mar 2016 07:40:27 -0700 (PDT)
In-Reply-To: <CAKQ1sVMxFp5moz1K+AHyaQsLShAiMs5nCH5Bxf4qJTfA134i6g@mail.gmail.com>
References: <CACsi253bME8aMTwG9cbgg220=U3bEYp7046cd-6bzs0tN1hEaw@mail.gmail.com>
	<CAKQ1sVMxFp5moz1K+AHyaQsLShAiMs5nCH5Bxf4qJTfA134i6g@mail.gmail.com>
Date: Thu, 24 Mar 2016 09:40:27 -0500
Message-ID: <CACsi252uYr_QfY3VPWnJaHU98ukn7R0vGdJqnjQNiwEShE_yqw@mail.gmail.com>
Subject: Re: mod_http2 on Windows (was: Re: Status for 2.4.20)
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11c16a2a737aef052ecc6d7f

--001a11c16a2a737aef052ecc6d7f
Content-Type: text/plain; charset=UTF-8

On Thu, Mar 24, 2016 at 9:31 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> >> nghttp2_session.c(160) : warning C4996: 'vsnprintf': This function or
> >> variable may be unsafe. Consider using vsnprintf_s instead. To disable
> >> deprecation, use _CRT_SECURE_NO_WARNINGS.
>
> [sarcasm]
> Microsoft being unable to provide a safe vsnprintf() in the first
> place and now warning every user is kind of ironic.
>

Microsoft claims that all the non-MS foo_s variants that have buffer
targets as defined by POSIX are insecure, and offer foo_s variants.
We have apr's safe strncpy etc, so it's not like we didn't agree -
at least for some cases.

They are free to make any claim they like, but they offered an out...
from these warnings ... -D_CRT_SECURE_NO_DEPRECATE


> Not to talk about they very personal conception of sizeof(long) on
> 64bit systems...
>

You might be too young to remember when pointers had little to
no relation to integer registers on many cpu architectures :)

[/sarcasm]
>
> Not a very constructive comment, I agree :)
>

:)

--001a11c16a2a737aef052ecc6d7f
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Mar 24, 2016 at 9:31 AM, Yann Ylavic <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;<=
/span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px =
0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-l=
eft-style:solid;padding-left:1ex"><span class=3D"">&gt;&gt; nghttp2_session=
.c(160) : warning C4996: &#39;vsnprintf&#39;: This function or<br>
&gt;&gt; variable may be unsafe. Consider using vsnprintf_s instead. To dis=
able<br>
&gt;&gt; deprecation, use _CRT_SECURE_NO_WARNINGS.<br>
<br>
</span>[sarcasm]<br>
Microsoft being unable to provide a safe vsnprintf() in the first<br>
place and now warning every user is kind of ironic.<br></blockquote><div><b=
r></div><div>Microsoft claims that all the non-MS foo_s variants that have =
buffer=C2=A0</div><div>targets as defined by POSIX are insecure, and offer =
foo_s variants.</div><div>We have apr&#39;s safe strncpy etc, so it&#39;s n=
ot like we didn&#39;t agree -=C2=A0</div><div>at least for some cases.</div=
><div><br></div><div>They are free to make any claim they like, but they of=
fered an out...</div><div>from these warnings ... -D_CRT_SECURE_NO_DEPRECAT=
E<br></div><div>=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"marg=
in:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,20=
4);border-left-style:solid;padding-left:1ex">
Not to talk about they very personal conception of sizeof(long) on<br>
64bit systems...<br></blockquote><div><br></div><div>You might be too young=
 to remember when pointers had little to</div><div>no relation to integer r=
egisters on many cpu architectures :)</div><div><br></div><blockquote class=
=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;bo=
rder-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">
[/sarcasm]<br>
<br>
Not a very constructive comment, I agree :)<br>
</blockquote></div><br></div><div class=3D"gmail_extra">:)</div></div>

--001a11c16a2a737aef052ecc6d7f--

From dev-return-86071-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 14:52:24 2016
Return-Path: <dev-return-86071-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB8F2192A5
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 14:52:23 +0000 (UTC)
Received: (qmail 49348 invoked by uid 500); 24 Mar 2016 14:52:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49264 invoked by uid 500); 24 Mar 2016 14:52:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49255 invoked by uid 99); 24 Mar 2016 14:52:22 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 14:52:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6F374C9F5C
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 14:52:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001]
	autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ApGc8v2vFMYl for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 14:52:21 +0000 (UTC)
Received: from boipeva.ensmp.fr (boipeva.ensmp.fr [194.214.158.136])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id 891185F2F2
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 14:52:21 +0000 (UTC)
Received: from cri.ensmp.fr (wifi2-mpt-223.paris.ensmp.fr [192.168.153.223])
	(authenticated bits=0)
	by boipeva.ensmp.fr (8.15.2/8.15.1/JMMC-22/Oct/2013) with ESMTPSA id u2OEqDSw002126
	(version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 15:52:13 +0100
Date: Thu, 24 Mar 2016 15:52:13 +0100 (CET)
From: fabien@apache.org
X-X-Sender: fabien@sto
To: httpd-dev <dev@httpd.apache.org>
Subject: Re: [VOTE] access control for dynamic hosts
In-Reply-To: <CAKQ1sVMiqT2_6Yi6T=-4DFZMzAW-zd8XeRM_tY1d6cA61Br92A@mail.gmail.com>
Message-ID: <alpine.DEB.2.10.1603241543000.28700@sto>
References: <alpine.DEB.2.10.1512200931040.29581@sto> <alpine.DEB.2.10.1601140936560.28426@sto> <CAKQ1sVM-cr8GvJYsbHVL9W1kvttxnrz8toRj-=6acvu8_t7Fgw@mail.gmail.com> <alpine.DEB.2.10.1603011545040.18133@sto> <CALK=YjOv-3FxaSULNF5myB_E5S=Pun=p-113sucVO+RsQ1UC4w@mail.gmail.com>
 <alpine.DEB.2.10.1603060800330.11128@sto> <alpine.DEB.2.10.1603091742580.25393@sto> <CAKQ1sVOTT55LVYt_PSUQq5wT1WWobSRgULUNGY8bwjL7C9_Z0A@mail.gmail.com> <alpine.DEB.2.10.1603211337110.11011@sto>
 <CAKQ1sVMiqT2_6Yi6T=-4DFZMzAW-zd8XeRM_tY1d6cA61Br92A@mail.gmail.com>
User-Agent: Alpine 2.10 (DEB 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Miltered: at boipeva.ensmp.fr with ID 56F3FF1D.000 by Joe's j-chkmail (http : // j-chkmail dot ensmp dot fr)!
X-j-chkmail-Auth: USER-ID fabien.coelho
X-j-chkmail-Enveloppe: 56F3FF1D.000 from wifi2-mpt-223.paris.ensmp.fr/wifi2-mpt-223.paris.ensmp.fr/192.168.153.223/cri.ensmp.fr/<fabien@apache.org>


Hello Yann,

> I guess this question is for me, not the doc :)

Yep!

> [...] So, finally, mentioning that *any* ip/host-based authz should be 
> combined with other authz/authn (SSL certificates, credentials schemes, 
> ...) for stronger requirements may be the way to go.

I agree that combining authz is the way to go, esp. with sensitive 
applications which are more and more hosted outside of organizations, or 
even provided as SaaS.

I'm not sure of a good place to discuss authorization policies in general 
in the documentation though.

> Or maybe simply not change the doc since all this might be quite obvious...

I would be fine with this solution:-)

-- 
Fabien.

From dev-return-86072-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 14:56:20 2016
Return-Path: <dev-return-86072-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 84069192D3
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 14:56:20 +0000 (UTC)
Received: (qmail 58512 invoked by uid 500); 24 Mar 2016 14:56:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58429 invoked by uid 500); 24 Mar 2016 14:56:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58419 invoked by uid 99); 24 Mar 2016 14:56:20 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 14:56:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 9E765C9F6E
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 14:56:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.111
X-Spam-Level:
X-Spam-Status: No, score=-0.111 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=HE+q8hA1;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=OHjntDTF
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id aEqkiAjt2Hu5 for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 14:56:16 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 6D4D35F247
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 14:56:16 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id B317015A0771; Thu, 24 Mar 2016 15:56:08 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458831368; bh=pd4CzXYCAPDPadt8C6WIPQBrUg5MHfL8NCp+xIlCnWE=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=HE+q8hA1j5GyXQr6WY+KU6Ir1U2BU+JECG75hsl0nGlia/D9EHk/eW3n7y5Ir0V88
	 OjO2lc54RSsECKdhHsvKSWXR+4hUFMmha8Lr4tmPKiwPwoU9Fsask/3QhLw3luD2IB
	 WZ5zamo5vzu5QNw35OyLjdPpJeEGTRuGaSISjWoM=
Received: from [192.168.1.42] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 591D515A047D
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 15:56:07 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458831367; bh=pd4CzXYCAPDPadt8C6WIPQBrUg5MHfL8NCp+xIlCnWE=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=OHjntDTFAV3ZAPPMFrGIGq0Vnj9GZ7PmjXve9VcqZOoOXQNSfFKhOoszcVtBfyP1L
	 Wu8Fk7drLmktWhgC48tC4AbEuJ1a1+5r5ZcbwMficMeYQ5XSeI5BG6oNQpo4c9cV1W
	 3D//GctUNtQ2zvIsTCPPlKXEvFzpSxDCtFY1NPlo=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.3 \(3124\))
Subject: Re: mod_status Total Accesses with 2.4.20
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <3018DC2A-AAC3-433B-ACFF-186D2DBBA270@greenbytes.de>
Date: Thu, 24 Mar 2016 15:56:07 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <AFA5F7AE-3105-416C-B641-5CAFC98A3F4D@greenbytes.de>
References: <E3F2B8F8-2C05-4500-BF22-8AFCEFC8A12D@apachelounge.com> <3018DC2A-AAC3-433B-ACFF-186D2DBBA270@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3124)

Found it. Slave connections cleared their scoreboard handle too early =
(and unneccessary) so that the update simply did not happen.

Fix will be in trunk/2.4.x soonish..

> Am 24.03.2016 um 14:05 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>=20
> Quick test: http/2 connections are not counted here. checking...
>=20
>> Am 24.03.2016 um 14:02 schrieb Steffen <info@apachelounge.com>:
>>=20
>> Using  server-status?auto.
>>=20
>> Now since running with 2.4.20-dev my statistics graphs shows  less  =
Total Accesses.
>>=20
>> Is it not counting http/1.1 or http/2 in Total Accesses ?
>>=20
>> Steffen
>>=20
>=20


From dev-return-86073-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 15:25:57 2016
Return-Path: <dev-return-86073-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 147FC19464
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 15:25:57 +0000 (UTC)
Received: (qmail 67331 invoked by uid 500); 24 Mar 2016 15:25:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67262 invoked by uid 500); 24 Mar 2016 15:25:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67248 invoked by uid 99); 24 Mar 2016 15:25:51 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 15:25:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E7448C059B
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 15:25:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id KiotYT9M_1_U for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 15:25:47 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id DEB635F1B8
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 15:25:46 +0000 (UTC)
Received: by mail-qg0-f52.google.com with SMTP id j35so41035961qge.0
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 08:25:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=mHDPfDeYXCThRYSCBfN8JylzVSqrLcYoy02fjtrx+Kg=;
        b=vndXkr/2feB5QjBa1a50L63UOTrft+jQfHL+sfn0QRu9SFQn0n55YwMOrWMgVPJmgU
         gofi7Xkhp44c4DI73L3tjE6mpRjZwblj8u1IlL4Xaop99VeIlL4hkbLElZ+2yMq/dytZ
         5Oqj1HSaUq9Cly5hh1g4svFv1C74eF9YY7dNc8qr0Toud12B3fpRfxDEL1THl3B1KRLQ
         tuFFPF+Pxe9ceh/+E1ox5qr9BIaMJEeX4Ak3Ow8viWPG8F5GsLVOaRU9u0BfsDEzr+49
         gs8boy6PEl5xHVPfbTuiRuHUIA0eoh6CpySN/kWdBu/d4HS5fm+QrwtbMJ6BHbTykMNV
         N+4g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=mHDPfDeYXCThRYSCBfN8JylzVSqrLcYoy02fjtrx+Kg=;
        b=FlEnNNOXvLMiTii4HYzImfhmm9znohmWcDYiKDfezl1nDjEyfPb3wm8498ke2lQozi
         iC0/xAPVDx8jjt7HROelveKfEbGNlk7EI668cCDwVjDdkUyXYDUQUNqRfYyQ1y+UD1mQ
         Z+OOKu5KsUowqAznuutk47R/HabDLbDkiT0XAn1BP0yt/AxAkgEDlvPprJLeWrsgTGnA
         p4AWhZpKJLZE+xOSbS4fHcobR0peyD9CiFkyvwb1VQFFRXV2twl+KNrnvjCLxFq40bLN
         +u8KoUGwVVojYnQWS6SvufkJMJdgMta34vI3SJC+YInJhG+gJ5rbKpvMtIGB5TJfwOId
         lPtw==
X-Gm-Message-State: AD7BkJLgk5tdrXnIhPq5UjNe+UM1s+1w/eirDbDE4BpxjTJJ8ZnYnSLwc3tqm7d7tB9WoRnPZwGp4+cJ4GBdXA==
MIME-Version: 1.0
X-Received: by 10.140.164.71 with SMTP id k68mr11919229qhk.97.1458833140662;
 Thu, 24 Mar 2016 08:25:40 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Thu, 24 Mar 2016 08:25:40 -0700 (PDT)
In-Reply-To: <CACsi252uYr_QfY3VPWnJaHU98ukn7R0vGdJqnjQNiwEShE_yqw@mail.gmail.com>
References: <CACsi253bME8aMTwG9cbgg220=U3bEYp7046cd-6bzs0tN1hEaw@mail.gmail.com>
	<CAKQ1sVMxFp5moz1K+AHyaQsLShAiMs5nCH5Bxf4qJTfA134i6g@mail.gmail.com>
	<CACsi252uYr_QfY3VPWnJaHU98ukn7R0vGdJqnjQNiwEShE_yqw@mail.gmail.com>
Date: Thu, 24 Mar 2016 16:25:40 +0100
Message-ID: <CAKQ1sVMtkQf34fr-j0wesQM5ms8MLoBH7waUfWuP1aiVctynQw@mail.gmail.com>
Subject: Re: mod_http2 on Windows (was: Re: Status for 2.4.20)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Mar 24, 2016 at 3:40 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> On Thu, Mar 24, 2016 at 9:31 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> Not to talk about they very personal conception of sizeof(long) on
>> 64bit systems...
>
> You might be too young to remember when pointers had little to
> no relation to integer registers on many cpu architectures :)

I'm afraid not :(
I wasn't talking about pointers here, though, but I agree that numeric
types have never been something consistent accross platforms either.

Simply now that char/short/int/long types could have had (finally!)
there own size, and a common and consistent agreement on, for all/most
modern systems... it failed.

They surely had good reasons to do so, though it might just have
moved/postponed the issues (to portable coders, at least). But after
all, let's all use the APR! :)

From dev-return-86074-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 15:48:00 2016
Return-Path: <dev-return-86074-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CE44D1954D
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 15:48:00 +0000 (UTC)
Received: (qmail 46890 invoked by uid 500); 24 Mar 2016 15:47:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46811 invoked by uid 500); 24 Mar 2016 15:47:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46801 invoked by uid 99); 24 Mar 2016 15:47:55 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 15:47:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 00691C059B
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 15:47:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.19
X-Spam-Level:
X-Spam-Status: No, score=-2.19 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_MED=-2.3, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	STOX_REPLY_TYPE=0.212] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id jFS6LC6PpqM7 for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 15:47:52 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTP id 5B3FF5F5CD
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 15:47:52 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1458834450;
	bh=1cQ9kVs8TY7CjU1WlmVsDHjsNZqitxKGvwiFHWQsvO0=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=ZzblNTc9NIoU7B7hdvY0t9bmY7wqbzMhMAWSmmsYmrTTHJAuiuBz/J2YA9xrQdyzX
	 UZxb0MNKpYyZHXmE26EB1nSkSjOj4WqDMbh2RO9nygam8yM4ykxif7wOEA3TXuk2Eo
	 lcB4Dkh1MGBTwnZ3shOvNyiGuVvpoAnGmDB5eiV4=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <E89117B8778249558E35049ABB443E9C@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <E3F2B8F8-2C05-4500-BF22-8AFCEFC8A12D@apachelounge.com> <3018DC2A-AAC3-433B-ACFF-186D2DBBA270@greenbytes.de> <AFA5F7AE-3105-416C-B641-5CAFC98A3F4D@greenbytes.de>
In-Reply-To: <AFA5F7AE-3105-416C-B641-5CAFC98A3F4D@greenbytes.de>
Subject: Re: mod_status Total Accesses with 2.4.20
Date: Thu, 24 Mar 2016 16:47:16 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

Like to see it in 2.4.20, because my reporting is broken.

-----Original Message----- 
From: Stefan Eissing
Sent: Thursday, March 24, 2016 3:56 PM
To: dev@httpd.apache.org
Subject: ****** Re: mod_status Total Accesses with 2.4.20

Found it. Slave connections cleared their scoreboard handle too early (and 
unneccessary) so that the update simply did not happen.

Fix will be in trunk/2.4.x soonish..

> Am 24.03.2016 um 14:05 schrieb Stefan Eissing 
> <stefan.eissing@greenbytes.de>:
>
> Quick test: http/2 connections are not counted here. checking...
>
>> Am 24.03.2016 um 14:02 schrieb Steffen <info@apachelounge.com>:
>>
>> Using  server-status?auto.
>>
>> Now since running with 2.4.20-dev my statistics graphs shows  less  Total 
>> Accesses.
>>
>> Is it not counting http/1.1 or http/2 in Total Accesses ?
>>
>> Steffen
>>
>


From dev-return-86075-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 15:54:47 2016
Return-Path: <dev-return-86075-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A6DDF195E6
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 15:54:47 +0000 (UTC)
Received: (qmail 70259 invoked by uid 500); 24 Mar 2016 15:54:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70056 invoked by uid 500); 24 Mar 2016 15:54:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69959 invoked by uid 99); 24 Mar 2016 15:54:43 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 15:54:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 1C2321A4C7E
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 15:54:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id XDFLBiUrG8tf for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 15:54:41 +0000 (UTC)
Received: from mail-qg0-f53.google.com (mail-qg0-f53.google.com [209.85.192.53])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id D9F905F246
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 15:54:40 +0000 (UTC)
Received: by mail-qg0-f53.google.com with SMTP id u110so41679396qge.3
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 08:54:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=1v6at5PbiFx6exU+MYzVoPEtknQ4c4o/nPHUpSBI2gE=;
        b=fUGyCR8cV09gNKCpnRTo1GbHChNR+ktgQlQxsmCu1ezn0Qgs4kPKheiHQvzkY5fIBl
         YdOpVofHGeoMI+Ry67yW0qQ22PnFp033qTCSfDnAtrm6sG7B4J+vbblUmUv/QYNZoxlW
         81mY6+S/IxPioJvRI+SzuoeKh42yknsKwzsg4CDnt4hwPu3weAm+ihMRwtAnAE4xKp9K
         V9g9e7KGmkf7/YNyz8x4ABv0cUIzZEGG4FXpG2MrsHomPExLPNXtFKXh9opvY9+zMB6H
         l/SHb51C8HseB5pgrdhz+47RlE25+QS+d7Z15yqXbKUeKkZPVUFKuRsavuuVSdIrIxVI
         IyWg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=1v6at5PbiFx6exU+MYzVoPEtknQ4c4o/nPHUpSBI2gE=;
        b=OhrSYOdmK7oKRj3riiKFD+sHb5ctt9EwjJEnDad60ZlohBY5n/37U1kXIRsMrU3FMx
         6O+srcT1GFr6BfjodUYmz/9RFqAX06MTVcle9dI0efCfHyl5zPGkOnqja55JTb0jgp9f
         kjnhzRkvEkPvDNkF19ktiJFvkmc5lt71r03K0Hfwmz94JpGdiDqKvv42LT8O9XjBLl/z
         AeVTOSMW5Go80Od/owt9T72zGhrSWux1BFmUgoJUncr5rSMuMj4XEkYMn00ZTGzlqJyj
         FCdTTidv5wE2Z6yPrU8MeKds9+Z1C1N7k0WDkk5oZSUYT2i4wbTmar/E8X3iTPxGKh/m
         uNjw==
X-Gm-Message-State: AD7BkJIdXQnNtxb5tcoykN5l0Y+X3s88PSkUJ+9LlQP6oQGLjCfbN65PbcHkewQPRZl+egJXIflGIqv2w5EzpQ==
MIME-Version: 1.0
X-Received: by 10.140.166.6 with SMTP id m6mr12425481qhm.70.1458834874125;
 Thu, 24 Mar 2016 08:54:34 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Thu, 24 Mar 2016 08:54:34 -0700 (PDT)
In-Reply-To: <AFA5F7AE-3105-416C-B641-5CAFC98A3F4D@greenbytes.de>
References: <E3F2B8F8-2C05-4500-BF22-8AFCEFC8A12D@apachelounge.com>
	<3018DC2A-AAC3-433B-ACFF-186D2DBBA270@greenbytes.de>
	<AFA5F7AE-3105-416C-B641-5CAFC98A3F4D@greenbytes.de>
Date: Thu, 24 Mar 2016 16:54:34 +0100
Message-ID: <CAKQ1sVNC7vpu4SLfReS9SxX5AQ=EK=p+NegfYsUNP8Tw+-BSnA@mail.gmail.com>
Subject: Re: mod_status Total Accesses with 2.4.20
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Should the scoreboard really account for both h2 and inner h1
connections in the same counter?
It seems to me that they should be distinguish-ed/able.

On Thu, Mar 24, 2016 at 3:56 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Found it. Slave connections cleared their scoreboard handle too early (and unneccessary) so that the update simply did not happen.
>
> Fix will be in trunk/2.4.x soonish..
>
>> Am 24.03.2016 um 14:05 schrieb Stefan Eissing <stefan.eissing@greenbytes.de>:
>>
>> Quick test: http/2 connections are not counted here. checking...
>>
>>> Am 24.03.2016 um 14:02 schrieb Steffen <info@apachelounge.com>:
>>>
>>> Using  server-status?auto.
>>>
>>> Now since running with 2.4.20-dev my statistics graphs shows  less  Total Accesses.
>>>
>>> Is it not counting http/1.1 or http/2 in Total Accesses ?
>>>
>>> Steffen
>>>
>>
>

From dev-return-86076-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 15:57:56 2016
Return-Path: <dev-return-86076-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8E13F19697
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 15:57:56 +0000 (UTC)
Received: (qmail 85776 invoked by uid 500); 24 Mar 2016 15:57:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85709 invoked by uid 500); 24 Mar 2016 15:57:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85697 invoked by uid 99); 24 Mar 2016 15:57:56 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 15:57:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 97197180219
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 15:57:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.279
X-Spam-Level: *
X-Spam-Status: No, score=1.279 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id JwzaVtNxRUgh for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 15:57:52 +0000 (UTC)
Received: from mail-qk0-f180.google.com (mail-qk0-f180.google.com [209.85.220.180])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id EC88E5F244
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 15:57:51 +0000 (UTC)
Received: by mail-qk0-f180.google.com with SMTP id o6so21613937qkc.2
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 08:57:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=NNQV8Gesr8pRKSuojFPvDYhgnQWTALotsgtWlEr2rU4=;
        b=zMIPdWNiG9athC6OZXeRLq8oIAST/bpE9471K3GdLhMVLGRy4wgjgx+24wPbnVxkuA
         NXBgQ88l/bAIiMQ3vUDd3VR4MUQl8+jsmrGjZq85zZ0ZpZ1ASBockVivv2RmB2aiTPPI
         IQt0W6arFB0Naph44UG5yV9schr0e1vYHr3p8pl956fcz3jai7oXfPYiFlWFRh8ymjjE
         mjDZLj7RV3NirW1aN2ELYO+bQt3p9bP6ZzI5JCeuKezztO3wZfVCz/XLxnKeAekJyreM
         2DjKquR+SF1qvytWC3AGYvxEmPVJIdDLL3HdbmLuMi3jiVkpxHLh2Y2mfntbCiCetZsY
         24sA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=NNQV8Gesr8pRKSuojFPvDYhgnQWTALotsgtWlEr2rU4=;
        b=AUaFM+gxmd20CrmEJcmqxZH5aCiMEmEnofYkMRagbwWKYMIa6iLYHqSpH2NeusP4N2
         9yWdlIPjdGmChW7u2ZrVPDwnKH1f+X725+3Q3PlXOTzltHMRFffgZuPGoXNyEdLar6Ug
         /W6E4pobg3A9m19Q08UxpthdwWM6tmbpOeCU1SBjFwgVeqznmD91REwts15nPpWERTSf
         KsxD2yHOfekD+CXo+9FvEi3LPRlOFqFVkOr4fmKsCoNhVE4fBvw7kw3egAmXt1Nn1AYy
         qQkLllSTWKmeHT4ecwS0HbsNt1zsevc+hD5t3Wgd77JVMW/66S0Pg2m+b2BcnkoajgeZ
         0s/A==
X-Gm-Message-State: AD7BkJJKXD6JDVTkKn7E052nfIoM614PcxVxqK4MxhOQXnfybsjnZgrm/NrPLYbtMjlIXsdCRccfateoN9eXMb+M
MIME-Version: 1.0
X-Received: by 10.55.22.103 with SMTP id g100mr8915577qkh.0.1458835065125;
 Thu, 24 Mar 2016 08:57:45 -0700 (PDT)
Received: by 10.55.154.139 with HTTP; Thu, 24 Mar 2016 08:57:45 -0700 (PDT)
In-Reply-To: <CAKQ1sVNC7vpu4SLfReS9SxX5AQ=EK=p+NegfYsUNP8Tw+-BSnA@mail.gmail.com>
References: <E3F2B8F8-2C05-4500-BF22-8AFCEFC8A12D@apachelounge.com>
	<3018DC2A-AAC3-433B-ACFF-186D2DBBA270@greenbytes.de>
	<AFA5F7AE-3105-416C-B641-5CAFC98A3F4D@greenbytes.de>
	<CAKQ1sVNC7vpu4SLfReS9SxX5AQ=EK=p+NegfYsUNP8Tw+-BSnA@mail.gmail.com>
Date: Thu, 24 Mar 2016 10:57:45 -0500
Message-ID: <CACsi253md1wvPA3qV6oqvT2t0ZBVEX=2S_a-41tfwggMtZcsgg@mail.gmail.com>
Subject: Re: mod_status Total Accesses with 2.4.20
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1147ab76d7d9af052ecd819e

--001a1147ab76d7d9af052ecd819e
Content-Type: text/plain; charset=UTF-8

The inner http2 response to the outer h1 upgrade request remains a
single request IMHO.  Within that h2 collection of streams, each of
the subsequent h2 requests should then be counted individually.

On Thu, Mar 24, 2016 at 10:54 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> Should the scoreboard really account for both h2 and inner h1
> connections in the same counter?
> It seems to me that they should be distinguish-ed/able.
>
> On Thu, Mar 24, 2016 at 3:56 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
> > Found it. Slave connections cleared their scoreboard handle too early
> (and unneccessary) so that the update simply did not happen.
> >
> > Fix will be in trunk/2.4.x soonish..
> >
> >> Am 24.03.2016 um 14:05 schrieb Stefan Eissing <
> stefan.eissing@greenbytes.de>:
> >>
> >> Quick test: http/2 connections are not counted here. checking...
> >>
> >>> Am 24.03.2016 um 14:02 schrieb Steffen <info@apachelounge.com>:
> >>>
> >>> Using  server-status?auto.
> >>>
> >>> Now since running with 2.4.20-dev my statistics graphs shows  less
> Total Accesses.
> >>>
> >>> Is it not counting http/1.1 or http/2 in Total Accesses ?
> >>>
> >>> Steffen
> >>>
> >>
> >
>

--001a1147ab76d7d9af052ecd819e
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">The inner http2 response to the outer h1 upgrade request r=
emains a=C2=A0<div>single request IMHO.=C2=A0 Within that h2 collection of =
streams, each of</div><div>the subsequent h2 requests should then be counte=
d individually.</div></div><div class=3D"gmail_extra"><br><div class=3D"gma=
il_quote">On Thu, Mar 24, 2016 at 10:54 AM, Yann Ylavic <span dir=3D"ltr">&=
lt;<a href=3D"mailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gma=
il.com</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"=
margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Should the s=
coreboard really account for both h2 and inner h1<br>
connections in the same counter?<br>
It seems to me that they should be distinguish-ed/able.<br>
<div class=3D"HOEnZb"><div class=3D"h5"><br>
On Thu, Mar 24, 2016 at 3:56 PM, Stefan Eissing<br>
&lt;<a href=3D"mailto:stefan.eissing@greenbytes.de">stefan.eissing@greenbyt=
es.de</a>&gt; wrote:<br>
&gt; Found it. Slave connections cleared their scoreboard handle too early =
(and unneccessary) so that the update simply did not happen.<br>
&gt;<br>
&gt; Fix will be in trunk/2.4.x soonish..<br>
&gt;<br>
&gt;&gt; Am 24.03.2016 um 14:05 schrieb Stefan Eissing &lt;<a href=3D"mailt=
o:stefan.eissing@greenbytes.de">stefan.eissing@greenbytes.de</a>&gt;:<br>
&gt;&gt;<br>
&gt;&gt; Quick test: http/2 connections are not counted here. checking...<b=
r>
&gt;&gt;<br>
&gt;&gt;&gt; Am 24.03.2016 um 14:02 schrieb Steffen &lt;<a href=3D"mailto:i=
nfo@apachelounge.com">info@apachelounge.com</a>&gt;:<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Using=C2=A0 server-status?auto.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Now since running with 2.4.20-dev my statistics graphs shows=
=C2=A0 less=C2=A0 Total Accesses.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Is it not counting http/1.1 or http/2 in Total Accesses ?<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Steffen<br>
&gt;&gt;&gt;<br>
&gt;&gt;<br>
&gt;<br>
</div></div></blockquote></div><br></div>

--001a1147ab76d7d9af052ecd819e--

From dev-return-86077-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 16:17:15 2016
Return-Path: <dev-return-86077-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CFB8B197BE
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 16:17:15 +0000 (UTC)
Received: (qmail 65409 invoked by uid 500); 24 Mar 2016 16:17:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65292 invoked by uid 500); 24 Mar 2016 16:17:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65246 invoked by uid 99); 24 Mar 2016 16:17:12 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 16:17:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 837DBC021F
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 16:17:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=lrJCYAx4;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=JJ/n5CAX
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id QMgHPef9-HSm for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 16:17:09 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id C12DC5F234
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 16:17:08 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 31B4215A0968; Thu, 24 Mar 2016 17:17:08 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458836228; bh=hMcMX3EafUdwgJSvI59lvnbDuTIF7BynIhSxOG5IHXw=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=lrJCYAx4Po776cD0J78eC+BTspymx1QUvwd/n8nDI5nPK+NdCfzTWJrYsDeHnl3FP
	 Xx90aJMB5m7zaIij+KL03ipmoEU0fugJee4d5CSBe3DmU3jebOqpuE2V+zEWZywb5n
	 wWHt54LBV3vnDcnywKOk8+7fU9s4z2wPFOVBguWw=
Received: from [192.168.1.42] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id D5D4815A068E
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 17:17:07 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458836227; bh=hMcMX3EafUdwgJSvI59lvnbDuTIF7BynIhSxOG5IHXw=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=JJ/n5CAX0vU7cZ5uU7TSbwSAiPqtcS98ni8RvqBtXlupol1C9YWinDi6cBgo2hJkz
	 n0wl1bgXwEq5CCHp9/vFF+z5IFAaos3/O1JWXfLYXQo4t/niXqUPQE9Wjs13c4gz1h
	 QRO8jVQNqkaPGP1djG8ZS8nAhqloIDwMFa9i5f/w=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.3 \(3124\))
Subject: Re: mod_status Total Accesses with 2.4.20
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CACsi253md1wvPA3qV6oqvT2t0ZBVEX=2S_a-41tfwggMtZcsgg@mail.gmail.com>
Date: Thu, 24 Mar 2016 17:17:07 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <0E57E2FE-8467-4C62-B540-E57EC94EFDFF@greenbytes.de>
References: <E3F2B8F8-2C05-4500-BF22-8AFCEFC8A12D@apachelounge.com> <3018DC2A-AAC3-433B-ACFF-186D2DBBA270@greenbytes.de> <AFA5F7AE-3105-416C-B641-5CAFC98A3F4D@greenbytes.de> <CAKQ1sVNC7vpu4SLfReS9SxX5AQ=EK=p+NegfYsUNP8Tw+-BSnA@mail.gmail.com> <CACsi253md1wvPA3qV6oqvT2t0ZBVEX=2S_a-41tfwggMtZcsgg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3124)

Yes, that is how it worked and should soon work again.

> Am 24.03.2016 um 16:57 schrieb William A Rowe Jr =
<wrowe@rowe-clan.net>:
>=20
> The inner http2 response to the outer h1 upgrade request remains a=20
> single request IMHO.  Within that h2 collection of streams, each of
> the subsequent h2 requests should then be counted individually.
>=20
> On Thu, Mar 24, 2016 at 10:54 AM, Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
> Should the scoreboard really account for both h2 and inner h1
> connections in the same counter?
> It seems to me that they should be distinguish-ed/able.
>=20
> On Thu, Mar 24, 2016 at 3:56 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
> > Found it. Slave connections cleared their scoreboard handle too =
early (and unneccessary) so that the update simply did not happen.
> >
> > Fix will be in trunk/2.4.x soonish..
> >
> >> Am 24.03.2016 um 14:05 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
> >>
> >> Quick test: http/2 connections are not counted here. checking...
> >>
> >>> Am 24.03.2016 um 14:02 schrieb Steffen <info@apachelounge.com>:
> >>>
> >>> Using  server-status?auto.
> >>>
> >>> Now since running with 2.4.20-dev my statistics graphs shows  less =
 Total Accesses.
> >>>
> >>> Is it not counting http/1.1 or http/2 in Total Accesses ?
> >>>
> >>> Steffen
> >>>
> >>
> >
>=20


From dev-return-86078-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 16:41:28 2016
Return-Path: <dev-return-86078-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 35D7F198F6
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 16:41:28 +0000 (UTC)
Received: (qmail 1389 invoked by uid 500); 24 Mar 2016 16:41:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1324 invoked by uid 500); 24 Mar 2016 16:41:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1314 invoked by uid 99); 24 Mar 2016 16:41:27 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 16:41:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 2637E18049A
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 16:41:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.662
X-Spam-Level: *
X-Spam-Status: No, score=1.662 tagged_above=-999 required=6.31
	tests=[FSL_HELO_BARE_IP_2=1.499, HEADER_FROM_DIFFERENT_DOMAINS=0.001,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_NUMERIC_HELO=0.865,
	RP_MATCHES_RCVD=-0.001, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 1USj7Rqqpeaj for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 16:41:24 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 2598E5F479
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 16:41:23 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1aj8Jo-0002Ln-EM
	for dev@httpd.apache.org; Thu, 24 Mar 2016 17:41:08 +0100
Received: from 92.66.168.50 ([92.66.168.50])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 17:41:08 +0100
Received: from phpdev by 92.66.168.50 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 17:41:08 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Jan Ehrhardt <phpdev@ehrhardt.nl>
Subject: Re: mod_http2 on Windows (was: Re: Status for 2.4.20)
Date: Thu, 24 Mar 2016 17:40:59 +0100
Lines: 22
Message-ID: <ds58fb5e38gf83eh4ae9mar08dovv7sv96@4ax.com>
References: <CACsi253bME8aMTwG9cbgg220=U3bEYp7046cd-6bzs0tN1hEaw@mail.gmail.com> <ijr7fb1jpdtp2dglvbi4ue6u8d8ap78alf@4ax.com> <CACsi252JF88DQFBEOmfwPpYRP8T5qt8iRrrynnNRY-cK=TDK3A@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: 92.66.168.50
X-Newsreader: Forte Agent 3.3/32.846

William A Rowe Jr in gmane.comp.apache.devel (Thu, 24 Mar 2016 09:16:17
-0500):
>> http://windows.php.net/downloads/snaps/master/r454ae8a/logs/make-ts-windows-vc14-x64-r454ae8a.html
>
>It's been a *long* time, and I know it hadn't been that well maintained
>for non-Linux (non-BSD) target architectures.

On the contrary: Windows support for PHP has made a big jump. The release
master of PHP7 is even a Microsoft employee.

>> Even in the 32-bits PHP 7 there are some:
>>
>> http://windows.php.net/downloads/snaps/master/r454ae8a/logs/make-ts-windows-vc14-x86-r454ae8a.html
>
>With a bit of luck - many of these are resolved by simply jumping up to
>Visual Studio 2015 (and removing any number of win32-specific bandaids
>that covered some warts in the earlier stdc lib)?

Read carefully: these are the results when compiling with VC14 == VS2015.
This is the way the official PHP7 binaries are built.

Jan


From dev-return-86079-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 16:48:10 2016
Return-Path: <dev-return-86079-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D224B1993C
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 16:48:10 +0000 (UTC)
Received: (qmail 30720 invoked by uid 500); 24 Mar 2016 16:48:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30631 invoked by uid 500); 24 Mar 2016 16:48:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30621 invoked by uid 99); 24 Mar 2016 16:48:10 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 16:48:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C4C52C2D56
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 16:48:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.279
X-Spam-Level: *
X-Spam-Status: No, score=1.279 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id YVTnFEeM6jBF for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 16:48:07 +0000 (UTC)
Received: from mail-qk0-f178.google.com (mail-qk0-f178.google.com [209.85.220.178])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id DE11C5F119
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 16:48:06 +0000 (UTC)
Received: by mail-qk0-f178.google.com with SMTP id o6so22224979qkc.2
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 09:48:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=15QYzJZc2bsrDMW546j0M0OcDWhuDZ1ScRNE9qkHSzs=;
        b=zQWw4dH3di/nIgPI25fM/bD0insobbVYgJB4ha3i+DmloGAM8Uky4dWuUoMWGgK5QW
         ke5wHoNPglMQDGb9om8bFdSUOhey/kJjB6vDlxvOFM2R7tg3OpkWbZCh4yMO3bkgh2gH
         mRy8mv90jhzvT39+SUya8DUA+E9UgtHfqpKRhYp6H/nQVuo7PisFijS2rGcxMbpwljg5
         4GjOPLlhVnQ5hITJEXNfPzfrLy6MpqaGnGzhO07NhkF/CWjadgY20Eyjt1ha62q1h/Ye
         xGNLRAJZFXDz6IGGy/PZN3uWEgXYyC+/wVkCvL8qkVJufnUxhT00qXmK0VnmxRqtFtAh
         jxpQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=15QYzJZc2bsrDMW546j0M0OcDWhuDZ1ScRNE9qkHSzs=;
        b=Isr7QX/Zm2kHT/WYj6O5gIxOKiMDOt+x5zFLqQQxjywHZXBMtZs6H85/ejzu/apszO
         jN+SB4N3MzL8dBrZaWzQ5+ZGVXx87eiY30q9E1jZhpWSdGrDe9yNaMlHTh9OTMU7Bgya
         GOKHRsnc0/0dAL4rm3s1IW98Fa0zms7YwasgS0VoKk/7ewxjb3wGcHXTplsDtMXtAvUT
         PZUaFHaYUdoJqpmcNkypV0H4Ar1dPvplBZwvZVqrA6RXUuKr7LxRJF5KYQKhNXoghvHQ
         3CEJXiHjt4kl2t66OZZKmFu6V0p2Ew0pleN8W14TNqJQ4k1ooekerKgbNeC4d60sEQBf
         /BVg==
X-Gm-Message-State: AD7BkJLkEX+TBoOtNdrb70u8rDCYtNHJ5QaKzxQIMiHwktgW4bdJNCMuvK3+xkZTixqYWsBIB2s0UEuJQ6a95Apc
MIME-Version: 1.0
X-Received: by 10.55.76.84 with SMTP id z81mr11726620qka.17.1458838086002;
 Thu, 24 Mar 2016 09:48:06 -0700 (PDT)
Received: by 10.55.154.139 with HTTP; Thu, 24 Mar 2016 09:48:05 -0700 (PDT)
In-Reply-To: <ds58fb5e38gf83eh4ae9mar08dovv7sv96@4ax.com>
References: <CACsi253bME8aMTwG9cbgg220=U3bEYp7046cd-6bzs0tN1hEaw@mail.gmail.com>
	<ijr7fb1jpdtp2dglvbi4ue6u8d8ap78alf@4ax.com>
	<CACsi252JF88DQFBEOmfwPpYRP8T5qt8iRrrynnNRY-cK=TDK3A@mail.gmail.com>
	<ds58fb5e38gf83eh4ae9mar08dovv7sv96@4ax.com>
Date: Thu, 24 Mar 2016 11:48:05 -0500
Message-ID: <CACsi251whH-BXcD+UfTx6KNX1BN4V-Mf000w0N7=11qkgxCc6A@mail.gmail.com>
Subject: Re: mod_http2 on Windows (was: Re: Status for 2.4.20)
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11487ed6e6bcfc052ece3525

--001a11487ed6e6bcfc052ece3525
Content-Type: text/plain; charset=UTF-8

On Thu, Mar 24, 2016 at 11:40 AM, Jan Ehrhardt <phpdev@ehrhardt.nl> wrote:

> William A Rowe Jr in gmane.comp.apache.devel (Thu, 24 Mar 2016 09:16:17
> -0500):
> >>
> http://windows.php.net/downloads/snaps/master/r454ae8a/logs/make-ts-windows-vc14-x64-r454ae8a.html
> >
> >It's been a *long* time, and I know it hadn't been that well maintained
> >for non-Linux (non-BSD) target architectures.
>
> On the contrary: Windows support for PHP has made a big jump. The release
> master of PHP7 is even a Microsoft employee.
>

Excellent!

>> Even in the 32-bits PHP 7 there are some:
> >>
> >>
> http://windows.php.net/downloads/snaps/master/r454ae8a/logs/make-ts-windows-vc14-x86-r454ae8a.html
> >
> >With a bit of luck - many of these are resolved by simply jumping up to
> >Visual Studio 2015 (and removing any number of win32-specific bandaids
> >that covered some warts in the earlier stdc lib)?
>
> Read carefully: these are the results when compiling with VC14 == VS2015.
> This is the way the official PHP7 binaries are built.
>

And in fairness, not every "conversion from 'size_t' to 'unsigned int'"
error is
actually a lurking bug.  If you know the memory allocation can't exceed some
fixed size (e.g. passed as an httpd header value that already enjoys
truncation
or rejection much earlier in the process), then that flag would generally
mean
nothing.

It's a long process to get such things 100% correct, we have a few defects
lingering in httpd 2.4 release branch today - some due to binary ABI
restrictions.
My entire point is that VC14 makes such a thing possible, where it really
wasn't possible while Microsoft was ignoring POSIX in many places.

--001a11487ed6e6bcfc052ece3525
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Mar 24, 2016 at 11:40 AM, Jan Ehrhardt <span dir=3D"ltr">&lt;<a href=3D=
"mailto:phpdev@ehrhardt.nl" target=3D"_blank">phpdev@ehrhardt.nl</a>&gt;</s=
pan> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0p=
x 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-lef=
t-style:solid;padding-left:1ex">William A Rowe Jr in gmane.comp.apache.deve=
l (Thu, 24 Mar 2016 09:16:17<br>
-0500):<br>
<span class=3D"">&gt;&gt; <a href=3D"http://windows.php.net/downloads/snaps=
/master/r454ae8a/logs/make-ts-windows-vc14-x64-r454ae8a.html" rel=3D"norefe=
rrer" target=3D"_blank">http://windows.php.net/downloads/snaps/master/r454a=
e8a/logs/make-ts-windows-vc14-x64-r454ae8a.html</a><br>
&gt;<br>
&gt;It&#39;s been a *long* time, and I know it hadn&#39;t been that well ma=
intained<br>
&gt;for non-Linux (non-BSD) target architectures.<br>
<br>
</span>On the contrary: Windows support for PHP has made a big jump. The re=
lease<br>
master of PHP7 is even a Microsoft employee.<span class=3D""><br></span></b=
lockquote><div>=C2=A0</div><div>Excellent!</div><div><br></div><blockquote =
class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1=
px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:=
1ex"><span class=3D"">
&gt;&gt; Even in the 32-bits PHP 7 there are some:<br>
&gt;&gt;<br>
&gt;&gt; <a href=3D"http://windows.php.net/downloads/snaps/master/r454ae8a/=
logs/make-ts-windows-vc14-x86-r454ae8a.html" rel=3D"noreferrer" target=3D"_=
blank">http://windows.php.net/downloads/snaps/master/r454ae8a/logs/make-ts-=
windows-vc14-x86-r454ae8a.html</a><br>
&gt;<br>
&gt;With a bit of luck - many of these are resolved by simply jumping up to=
<br>
&gt;Visual Studio 2015 (and removing any number of win32-specific bandaids<=
br>
&gt;that covered some warts in the earlier stdc lib)?<br>
<br>
</span>Read carefully: these are the results when compiling with VC14 =3D=
=3D VS2015.<br>
This is the way the official PHP7 binaries are built.<br></blockquote><div>=
<br></div><div>And in fairness, not every &quot;conversion from &#39;size_t=
&#39; to &#39;unsigned int&#39;&quot; error is</div><div>actually a lurking=
 bug.=C2=A0 If you know the memory allocation can&#39;t exceed some</div><d=
iv>fixed size (e.g. passed as an httpd header value that already enjoys tru=
ncation</div><div>or rejection much earlier in the process), then that flag=
 would generally mean</div><div>nothing.</div><div><br></div><div>It&#39;s =
a long process to get such things 100% correct, we have a few defects</div>=
<div>lingering in httpd 2.4 release branch today - some due to binary ABI r=
estrictions.</div><div>My entire point is that VC14 makes such a thing poss=
ible, where it really</div><div>wasn&#39;t possible while Microsoft was ign=
oring POSIX in many places.</div></div></div><div class=3D"gmail_extra"><br=
></div></div>

--001a11487ed6e6bcfc052ece3525--

From dev-return-86080-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 16:48:26 2016
Return-Path: <dev-return-86080-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1C70A1994B
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 16:48:26 +0000 (UTC)
Received: (qmail 34270 invoked by uid 500); 24 Mar 2016 16:48:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34198 invoked by uid 500); 24 Mar 2016 16:48:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34188 invoked by uid 99); 24 Mar 2016 16:48:25 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 16:48:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B4AD1180112
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 16:48:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=fq25Bpc5;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=fq25Bpc5
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id S4RlkQSEKzWQ for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 16:48:22 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 6FFC35F478
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 16:48:22 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id D332315A0968; Thu, 24 Mar 2016 17:48:20 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458838100; bh=GerR8/XuMd1RZ9cdU7Lb0AyYw9LdeHYrICw7JkhsFg0=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=fq25Bpc5J30rpLAADmqdpQo4vx05WYnyP24mZeHRgprQlhRjSKijb6akCeJulRUkS
	 1Kcwh8A59xe5gLk4lvPWiNy3sp9l3udVUVo2Bu5aq+yb9XcKjU0A7N9Zdgy8MO7bwf
	 oMb+7PclEAWDMbMQtSNbYnf6eMRoThEtrpJC9YY4=
Received: from [192.168.1.42] (unknown [192.168.1.1])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 712A215A022C
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 17:48:20 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458838100; bh=GerR8/XuMd1RZ9cdU7Lb0AyYw9LdeHYrICw7JkhsFg0=;
	h=Subject:From:In-Reply-To:Date:References:To:From;
	b=fq25Bpc5J30rpLAADmqdpQo4vx05WYnyP24mZeHRgprQlhRjSKijb6akCeJulRUkS
	 1Kcwh8A59xe5gLk4lvPWiNy3sp9l3udVUVo2Bu5aq+yb9XcKjU0A7N9Zdgy8MO7bwf
	 oMb+7PclEAWDMbMQtSNbYnf6eMRoThEtrpJC9YY4=
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 9.3 \(3124\))
Subject: Re: mod_status Total Accesses with 2.4.20
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <0E57E2FE-8467-4C62-B540-E57EC94EFDFF@greenbytes.de>
Date: Thu, 24 Mar 2016 17:48:20 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <013A1040-BA14-45E8-B3F6-7588F45D33DA@greenbytes.de>
References: <E3F2B8F8-2C05-4500-BF22-8AFCEFC8A12D@apachelounge.com> <3018DC2A-AAC3-433B-ACFF-186D2DBBA270@greenbytes.de> <AFA5F7AE-3105-416C-B641-5CAFC98A3F4D@greenbytes.de> <CAKQ1sVNC7vpu4SLfReS9SxX5AQ=EK=p+NegfYsUNP8Tw+-BSnA@mail.gmail.com> <CACsi253md1wvPA3qV6oqvT2t0ZBVEX=2S_a-41tfwggMtZcsgg@mail.gmail.com> <0E57E2FE-8467-4C62-B540-E57EC94EFDFF@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3124)

Fix in 2.4.x: r1736465

  *) mod_http2: fix for missing score board updates on request count, =
fix for
     memory leak on slave connection reuse.
    =20
Happy Easter,

  Stefan

> Am 24.03.2016 um 17:17 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>=20
> Yes, that is how it worked and should soon work again.
>=20
>> Am 24.03.2016 um 16:57 schrieb William A Rowe Jr =
<wrowe@rowe-clan.net>:
>>=20
>> The inner http2 response to the outer h1 upgrade request remains a=20
>> single request IMHO.  Within that h2 collection of streams, each of
>> the subsequent h2 requests should then be counted individually.
>>=20
>> On Thu, Mar 24, 2016 at 10:54 AM, Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
>> Should the scoreboard really account for both h2 and inner h1
>> connections in the same counter?
>> It seems to me that they should be distinguish-ed/able.
>>=20
>> On Thu, Mar 24, 2016 at 3:56 PM, Stefan Eissing
>> <stefan.eissing@greenbytes.de> wrote:
>>> Found it. Slave connections cleared their scoreboard handle too =
early (and unneccessary) so that the update simply did not happen.
>>>=20
>>> Fix will be in trunk/2.4.x soonish..
>>>=20
>>>> Am 24.03.2016 um 14:05 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>>>>=20
>>>> Quick test: http/2 connections are not counted here. checking...
>>>>=20
>>>>> Am 24.03.2016 um 14:02 schrieb Steffen <info@apachelounge.com>:
>>>>>=20
>>>>> Using  server-status?auto.
>>>>>=20
>>>>> Now since running with 2.4.20-dev my statistics graphs shows  less =
 Total Accesses.
>>>>>=20
>>>>> Is it not counting http/1.1 or http/2 in Total Accesses ?
>>>>>=20
>>>>> Steffen
>>>>>=20
>>>>=20
>>>=20
>>=20
>=20


From dev-return-86081-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 17:19:13 2016
Return-Path: <dev-return-86081-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D083819AD8
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 17:19:12 +0000 (UTC)
Received: (qmail 73913 invoked by uid 500); 24 Mar 2016 17:19:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 73846 invoked by uid 500); 24 Mar 2016 17:19:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 73836 invoked by uid 99); 24 Mar 2016 17:19:12 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 17:19:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 347B3180225
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 17:19:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id YsuVzHFpEEtl for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 17:19:10 +0000 (UTC)
Received: from mail-pf0-f177.google.com (mail-pf0-f177.google.com [209.85.192.177])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id EE1045F24B
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 17:19:09 +0000 (UTC)
Received: by mail-pf0-f177.google.com with SMTP id 4so63323943pfd.0
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 10:19:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-transfer-encoding;
        bh=35FQO2w+UHC8gtvdGR2I/bBQRTMAOA/sxFG8sMb12UE=;
        b=CvnE3tGAHFo7t7xtjtYiMUyQTXNjb4bt1uAeUo+goFFy8kFGuf+EuUtJ/nfgf88xod
         0xM2fDy7ouXagVGH7xAjngd0Lh8JKlm5Kw7NcEwJzBC68A6H2Kjj9FbWJSGzRgFCKAQU
         eQHcp5b/xzokI4H88tuzvVuopw8TLXoGapjFm26anagtsCxinRilRYm0GuCJPYy4l+eO
         SOyze8yjbEsKZVakIQYANrV2YbMECz/KQkgmOex/th2HR3IQm/4BhiEvQfAebpIWAJHG
         5DoMltrmRxQEAEGkacysaxuCbXiGwAqYS/2I1gwVaV6XjpmiGll3RIogz/KXoNJYim/G
         roFQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:subject:to:references:from:message-id:date
         :user-agent:mime-version:in-reply-to:content-transfer-encoding;
        bh=35FQO2w+UHC8gtvdGR2I/bBQRTMAOA/sxFG8sMb12UE=;
        b=GVwfAJX/dDPDCZkMoIQJXDD/B+/xgdpkv7ZpoxdXNZywf5cyo27Q3GnakPhU086H1P
         JmKyUbvl90h3DcEVRhzhpIMUCHMu9tsbrueoPJ0VzKZaIboQkxr+5C66c5dqSoNxI7vf
         oUdAFwPo4aRFfA6v34UoKwxNXO5IyKXSb0b1fljEq7u5mJAH4VEHAjdDC6xpim071rpC
         JMK50mTpv3Sdj5GKtZVvNDzkoYHS+0eCEEjGOyt49872q/Lspm+UNJxVNc7+We6Dt1WR
         S5eP1dYjnEWLREpkSkTnUbcCcdQ8WmwyorYlsIixp7Y2bYsXJ1CtF7KHZM+ETVsDVYeR
         sQSQ==
X-Gm-Message-State: AD7BkJKWHIfASGMtlHi98WRy1YnFNvTS1jhpGNC0PYXaUTMxEM1HgQ9UtpbC7N66xFBrTw==
X-Received: by 10.98.71.156 with SMTP id p28mr14462044pfi.139.1458839941929;
        Thu, 24 Mar 2016 10:19:01 -0700 (PDT)
Received: from [192.168.1.4] (50-39-119-28.bvtn.or.frontiernet.net. [50.39.119.28])
        by smtp.gmail.com with ESMTPSA id p85sm11428246pfj.16.2016.03.24.10.19.00
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Thu, 24 Mar 2016 10:19:00 -0700 (PDT)
Subject: Re: 2.4.20 Change dsp: Win32-specific build files.
To: dev@httpd.apache.org
References: <56f2c072.c6c.1634.354c@land10.nl>
 <CACsi253tipn9EsGiRd942AHox5fOBRC0rS1NVM3Kefqf13YH7g@mail.gmail.com>
 <8EE75634FC0941F3BED67A22B324F01F@father>
 <CACsi250OA50jf1OZKzA-bcJ5ccAt0bKZbwhnoZFdOBnfZorC5g@mail.gmail.com>
From: Jacob Champion <champion.p@gmail.com>
Message-ID: <56F42183.6050307@gmail.com>
Date: Thu, 24 Mar 2016 10:18:59 -0700
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <CACsi250OA50jf1OZKzA-bcJ5ccAt0bKZbwhnoZFdOBnfZorC5g@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit

On 03/24/2016 06:05 AM, William A Rowe Jr wrote:
> I observed the note below in 2010 when that comment was first made (I
> cribbed that comment from 2.2.x checkin).  So I now wonder if that note
> was based on an Express edition perhaps?  Or on an early release - and
> MS later added or fixed the conversion?  I can't be more specific at
> this point, but maybe someone else remembers such an issue.

I do remember from a couple of years ago that the results of the
conversion were mostly useless/broken for me, but I no longer have a
copy of VS2010 to check... so I can't offer anything more than "there
was probably a good reason to make that comment at some point". :/

--Jacob

From dev-return-86082-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 20:36:39 2016
Return-Path: <dev-return-86082-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A7C78186FF
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 20:36:39 +0000 (UTC)
Received: (qmail 44760 invoked by uid 500); 24 Mar 2016 20:36:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 44689 invoked by uid 500); 24 Mar 2016 20:36:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 44679 invoked by uid 99); 24 Mar 2016 20:36:39 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 20:36:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8288E180462
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 20:36:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id SqTRuXdbrppp for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 20:36:38 +0000 (UTC)
Received: from mail-qg0-f54.google.com (mail-qg0-f54.google.com [209.85.192.54])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id AC1BA5F246
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 20:36:37 +0000 (UTC)
Received: by mail-qg0-f54.google.com with SMTP id y89so48016683qge.2
        for <dev@httpd.apache.org>; Thu, 24 Mar 2016 13:36:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-transfer-encoding;
        bh=oXJ2bPfCdfRVEZuoEWEV1rVAn6wk9/Z6w5Yd4rpWurE=;
        b=lAIjIp0Lm27ze20ZwAJ5ckM9xWUdUjNBCqLotJnQe9L5ywpwzRONe+H016TEQ07gFq
         rycqnO26dS6+56u/IPfn0BYSTFDCMir1ONhnjXb6xsYmu4po+bStXoUWAoJ1kcxKlNg1
         nPiATSHx47HtcumiLXgY81mnz3J7dm2+ERxaQOv+BKEvHAn1kKgFIjQdpObUbk+JIWl4
         pAySXlKQJtg9iZfdFaXfnprIcUCstqKcCdBmWDz5tjiF3CaKh/LIm+yN7pcb36hqf57A
         B/JvJ5zt0kCiBBcJ5PPoY4hramLjjt1KFmryAB6t3CxgGtPHsYy41Mer51xC6/aUrnw2
         xd4Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-transfer-encoding;
        bh=oXJ2bPfCdfRVEZuoEWEV1rVAn6wk9/Z6w5Yd4rpWurE=;
        b=NZLIwIVeLAQfFCs4rr9pQPmkp5HHHxYDCOqVxuJOxTMg37OGVcoP7X00qXqbAxKoO+
         jX0Exkm56rX2InHqL/QDrp6mQsckkRVsC2j4slOReyw+6IbVACIQt4I9UFYLZ5M8JQ/w
         3HDTZIZ6r0w3I0guhSxBFLZHG0CeU0eGYuvRqWLGtYq/vAYWdbvUWmAWbmhCl/o8wLLP
         ZfNVwVS4C/G0A3maqZ7XEuTVbsjYoXYPv3pJSS31l4A5j2vTclF0z9pqGDnAcCegLbKs
         OEV8xpT2Unll/jt0oh5slu6L6OibOY9CsmjWW/58OaW6PBrdrCo5cr4/go6NGDJlvBSQ
         f16g==
X-Gm-Message-State: AD7BkJJj71SFJMNCJA82zRt5YtnfaTa1X52Mr6NbpLExi8cbQZo6ll2jgm7YT5QRzAPCwGlj/04V06eBsB26sQ==
MIME-Version: 1.0
X-Received: by 10.140.96.22 with SMTP id j22mr13140772qge.92.1458851796791;
 Thu, 24 Mar 2016 13:36:36 -0700 (PDT)
Received: by 10.55.10.7 with HTTP; Thu, 24 Mar 2016 13:36:36 -0700 (PDT)
In-Reply-To: <56EBBE04.9020202@redhat.com>
References: <56DD68E5.2040309@redhat.com>
	<3B39341D-5870-4182-B8F3-33A794D38343@jaguNET.com>
	<56DDDC53.1060103@redhat.com>
	<CACsi253rUFf7zY=F3EJrRGJTWUSckV590ypunAcUvkFLVMDmfQ@mail.gmail.com>
	<CAGBAQ47FRpVRV7ymht-weDRmPwNW0yA94cxQXFAOM_Ns=HteCg@mail.gmail.com>
	<CACsi2507SbFCA4zG-EJca81MGzBwOsL_gjA4_GeecEi+=n9GBQ@mail.gmail.com>
	<56DE8D43.40505@redhat.com>
	<CAKQ1sVMXnU0wkLeDWfdvcfTBNaZqw_SgJpgM9LiCN2iyzKv8hg@mail.gmail.com>
	<CAKQ1sVOaVLX=jg-V6vZ1A-8XFRt4xHse_+FbHyZ-eQ5SChQKfA@mail.gmail.com>
	<56DEACC7.3080007@redhat.com>
	<56EBBE04.9020202@redhat.com>
Date: Thu, 24 Mar 2016 21:36:36 +0100
Message-ID: <CAKQ1sVNCA=S3fipuKOEZ=qj_J0KOA2GcxRTnx9KrN9urc2_MNg@mail.gmail.com>
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd-dev <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Fri, Mar 18, 2016 at 9:36 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrote=
:
>
> I've implemented the way described in that question above ^. Please see t=
he
> attached patch and share your opinions.
>
> The syntax to enable IP_FREEBIND currently is:
>
> Listen 192.168.0.1:80 http freebind

I think we should be able to configure options w/o specifying an
(arbitrary) protocol.
So "options=3Doption1,option2=3Dval2,..." looks a better alternative to me.

Otherwise the patch looks goods, looking forward to it (applied) so
that I can also add tcp_fastopen ;)

Thanks,
Yann.

From dev-return-86083-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 24 21:15:56 2016
Return-Path: <dev-return-86083-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 02810188BE
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Mar 2016 21:15:56 +0000 (UTC)
Received: (qmail 20931 invoked by uid 500); 24 Mar 2016 21:15:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 20853 invoked by uid 500); 24 Mar 2016 21:15:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 20843 invoked by uid 99); 24 Mar 2016 21:15:55 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Mar 2016 21:15:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 04F8418021D
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 21:15:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id L2eGP0C-2SFj for <dev@httpd.apache.org>;
	Thu, 24 Mar 2016 21:15:53 +0000 (UTC)
Received: from smtp.smtpout.orange.fr (smtp09.smtpout.orange.fr [80.12.242.131])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 704DF5F23A
	for <dev@httpd.apache.org>; Thu, 24 Mar 2016 21:15:52 +0000 (UTC)
Received: from [127.0.0.1] ([92.140.223.192])
	by mwinf5d18 with ME
	id ZxFm1s00A49guRY03xFmgf; Thu, 24 Mar 2016 22:15:46 +0100
X-ME-Helo: [127.0.0.1]
X-ME-Date: Thu, 24 Mar 2016 22:15:46 +0100
X-ME-IP: 92.140.223.192
Subject: Re: svn commit: r1725307 -
 /httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
To: dev@httpd.apache.org
References: <20160118165413.292FC3A0046@svn01-us-west.apache.org>
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Message-ID: <56F458FF.4080503@wanadoo.fr>
Date: Thu, 24 Mar 2016 22:15:43 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <20160118165413.292FC3A0046@svn01-us-west.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 160324-2, 24/03/2016), Outbound message
X-Antivirus-Status: Clean

Le 18/01/2016 17:54, jim@apache.org a crit :
> Author: jim
> Date: Mon Jan 18 16:54:12 2016
> New Revision: 1725307
>
> URL: http://svn.apache.org/viewvc?rev=1725307&view=rev
> Log:
> simplify and start on concept framework of OPTIONS
>
> Modified:
>      httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
>
> Modified: httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c?rev=1725307&r1=1725306&r2=1725307&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c (original)
> +++ httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c Mon Jan 18 16:54:12 2016
[...]
> @@ -324,13 +325,24 @@ static const char *set_hc_template(cmd_p
>   
>       return NULL;
>   }
> -static void backend_cleanup(const char *proxy_function, proxy_conn_rec *backend,
> -                            server_rec *s)
> +static apr_status_t backend_cleanup(const char *proxy_function, proxy_conn_rec *backend,
> +                                    server_rec *s, int status)
>   {
>       if (backend) {
>           backend->close = 1;
>           ap_proxy_release_connection(proxy_function, backend, s);
>       }
> +    ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, s, APLOGNO()
> +                     "Health check %s Status (%d) for %s.",
> +                     ap_proxy_show_hcmethod(backend->worker->s->method),
This add a smatch warning because previous code (i.e. "if (backend)") 
assumes that 'backend' can be NULL here.

> +                     status,
> +                     backend->worker->s->name);
> +    if (status != OK) {
> +        return APR_EGENERAL;
> +    }
> +    return APR_SUCCESS;
> +
>
[...]

From dev-return-86084-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 25 08:53:03 2016
Return-Path: <dev-return-86084-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5C20119DC7
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Mar 2016 08:53:03 +0000 (UTC)
Received: (qmail 46635 invoked by uid 500); 25 Mar 2016 08:53:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46554 invoked by uid 500); 25 Mar 2016 08:53:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46544 invoked by uid 99); 25 Mar 2016 08:53:02 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2016 08:53:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 925D0C0217
	for <dev@httpd.apache.org>; Fri, 25 Mar 2016 08:53:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.301
X-Spam-Level:
X-Spam-Status: No, score=-2.301 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.001,
	SPF_PASS=-0.001, UNPARSEABLE_RELAY=0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id gzwxFu-CrWdj for <dev@httpd.apache.org>;
	Fri, 25 Mar 2016 08:52:59 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [27.33.160.23])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 702DA5FB08
	for <dev@httpd.apache.org>; Fri, 25 Mar 2016 08:52:58 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [10.10.0.10])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.ausics.net (Postfix) with ESMTPSA id B9160C0E10E
	for <dev@httpd.apache.org>; Fri, 25 Mar 2016 18:52:46 +1000 (AEST)
Received: from NdboFmaR0AcfR5uMa0z46QVoY+8P3QqCqIroS6ELazU=
 (v47n/8D9+XO4/KbFTXoZZtr/6Km4F3nq)
 by mail.ausics.net
 with HTTP (HTTP/1.1 POST); Fri, 25 Mar 2016 18:52:46 +1000
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII;
 format=flowed
Content-Transfer-Encoding: 7bit
Date: Fri, 25 Mar 2016 18:52:46 +1000
From: Noel Butler <noel.butler@ausics.net>
To: dev@httpd.apache.org
Subject: Re: Status for 2.4.20
In-Reply-To: <87176688-3929-4B96-9EE7-4AD643AD8644@jaguNET.com>
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
 <a69dde274c77a821df47d9a148b6b663@ausics.net>
 <87176688-3929-4B96-9EE7-4AD643AD8644@jaguNET.com>
Message-ID: <b0ef02e45d0854b2ee3ba0080a35f533@ausics.net>
X-Sender: noel.butler@ausics.net
User-Agent: Roundcube Webmail

On 23/03/2016 22:27, Jim Jagielski wrote:

> 
> I see your point and have no intent or desire to flame.
> 
> Release Often is hardly a Bad Thing, at least IMHO. When the
> time is right for a release, then we release. It seemed a
> good time, again IMHO.
> 
> My opinion that "this shit will happen" when, despite lots of
> notice of intent to tag, and reminders to test, etc.. people
> simply DON'T, wait for the test tarball, find breakage, and
> then apply major restructure/refactor "at the last minute".
> 
> Sure, stuff that like occasionally will happen, and it is,
> after all, why we create test tarballs and call for a vote.
> But when it becomes the rule instead of the exception, then
> we have an issue w/ the process and the workflow.
> 
> Frequent release, IMHO, are an indication of health and
> project vitality. When Apache httpd is suffering from the
> 

You also need to look at it from the side of system admins, not just as 
coder.

Many admins see frequent releases as something that's bug riddled

You don't hear them saying the same about other software, eg: postfix, 
which releases not so frequently (though puts new things in the unstable 
branch)

Dovecot is a great example of release often with F-ups, and it doesn't 
take much to see that it has problems which need addressing soon after 
each release, phpmyadmin releases often, so often, even Marc got sick of 
it and decided there would be minimum monthly updates, instead of 
bi-weekly updates, I know admins running phpmyadmin thats over a year 
old because they got sick of upgrading every few days.

So it works both ways, releasing every 5 or 6 months shows an active 
_stable_ project, evervy month or two and it raises alarms.

But thats just my opinion which does tend to be a general consensus on 
many system admin lists/irc chans.


-- 
If you have the urge to reply to all rather than reply to list, you best
first read  http://members.ausics.net/qwerty/

From dev-return-86085-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 25 09:53:00 2016
Return-Path: <dev-return-86085-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4FB7C19F5F
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Mar 2016 09:53:00 +0000 (UTC)
Received: (qmail 55642 invoked by uid 500); 25 Mar 2016 09:52:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55564 invoked by uid 500); 25 Mar 2016 09:52:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55554 invoked by uid 99); 25 Mar 2016 09:52:59 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2016 09:52:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 1A52D1A0C1B
	for <dev@httpd.apache.org>; Fri, 25 Mar 2016 09:52:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.002
X-Spam-Level:
X-Spam-Status: No, score=-0.002 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id GTbpQedYN1h6 for <dev@httpd.apache.org>;
	Fri, 25 Mar 2016 09:52:55 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTP id 537755F238
	for <dev@httpd.apache.org>; Fri, 25 Mar 2016 09:52:55 +0000 (UTC)
Received: from [192.168.220.204] (unknown [192.168.220.204])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id A52DF82225
	for <dev@httpd.apache.org>; Fri, 25 Mar 2016 09:52:53 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 9.3 \(3124\))
Subject: Re: Status for 2.4.20
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <a69dde274c77a821df47d9a148b6b663@ausics.net>
Date: Fri, 25 Mar 2016 11:52:52 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <63BA0754-ABA9-4B14-9462-299667D53999@sharp.fm>
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com> <a69dde274c77a821df47d9a148b6b663@ausics.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.3124)

On 23 Mar 2016, at 1:58 PM, Noel Butler <noel.butler@ausics.net> wrote:

> as stated previously, this shit will happen when certain people push =
with a release often mentality
>=20
> AFAIK there is *ZERO* critical exploit bugs to be patched by any =
pending release, so lets get house in order  S T A B L E , then worry =
about releases, jesus christ, we are not ubuntu or redhat with set =
programs to release every 3 or 6 months regardless if shit is ready or =
not=E2=80=A6..

It sounds like you=E2=80=99re making drama where there is none.

We have a release process designed to catch problems before they reach =
the public. That release process caught a problem, and that problem is =
being dealt with as per that release process. The system is working, =
nothing to see here.

Regards,
Graham
=E2=80=94


From dev-return-86086-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 25 10:11:48 2016
Return-Path: <dev-return-86086-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5CD4419FC2
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Mar 2016 10:11:48 +0000 (UTC)
Received: (qmail 93436 invoked by uid 500); 25 Mar 2016 10:11:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 93346 invoked by uid 500); 25 Mar 2016 10:11:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 93336 invoked by uid 99); 25 Mar 2016 10:11:47 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2016 10:11:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 7BB28C021F
	for <dev@httpd.apache.org>; Fri, 25 Mar 2016 10:11:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.401
X-Spam-Level:
X-Spam-Status: No, score=-0.401 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, MIME_QP_LONG_LINE=0.001, RCVD_IN_DNSWL_MED=-2.3,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id FryMdIR-rQDB for <dev@httpd.apache.org>;
	Fri, 25 Mar 2016 10:11:44 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTP id 4E4E35F2F2
	for <dev@httpd.apache.org>; Fri, 25 Mar 2016 10:11:43 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1458900703;
	bh=iHpM/N4zF4jojH0ZU3CBQUV/wVI/Tc0fzrXUVzAI4XU=;
	h=From:To:Subject:Date;
	b=GeobocWoI4zoeCjY++AHfvLg4+rlTEX0uvYH7FHA2eUHfLtvDKAkpdPzUanZSiar9
	 HcThHBv5QedOw5+DcTB6hcwwnXV/V3xcyv7z5GmHnHXjtit56XIchWjdTfEJTAlCZb
	 PfwyEv/PboigvMwHyodvjW9Frs9B/xKFic0U3Y2A=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: Re: mod_status Total Accesses with 2.4.20
Date: Fri, 25 Mar 2016 11:11:40 +0100
Message-ID: <56f50edc.c6c.1b4c.2d46@land10.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="----=_SW_6385_1458900700_mpa="
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client

This is a multi-part message in MIME format.

------=_SW_6385_1458900700_mpa=
Content-Type: text/plain; charset=us-ascii; format=flowed


Build today Branches 2.4.x : mod_http2 (v1.4.5, nghttp2 1.8.0), 
initializing...

The statistics graphs Total Accesses are fine again, no regression 
over 2.4.18 anymore.

Btw.
Sofar that the memory footprint with 1.4.4 was far better over 1.2.8.

I keep an eye on 1.4.5

Mod_http2 1.4.4 (2.4.19) avarage ~100MB peaks with ~180MB
Mod_http2 1.0.11 (2.4.18) average ~100 MB peaks with ~200 MB
with 1.2.8 average ~200 MB with peaks ~600 MB

Thanks,

Steffen



On Thursday 24/03/2016 at 17:48, Stefan Eissing  wrote:
> Fix in 2.4.x: r1736465
>
>    *) mod_http2: fix for missing score board updates on request count, 
> fix for
>          memory leak on slave connection reuse.
>
> Happy Easter,
>
>    Stefan
>
>>
>> Am 24.03.2016 um 17:17 schrieb Stefan Eissing 
>> <stefan.eissing@greenbytes.de>:
>>
>> Yes, that is how it worked and should soon work again.
>>
>>>
>>> Am 24.03.2016 um 16:57 schrieb William A Rowe Jr 
>>> <wrowe@rowe-clan.net>:
>>>
>>> The inner http2 response to the outer h1 upgrade request remains a
>>> single request IMHO.  Within that h2 collection of streams, each of
>>> the subsequent h2 requests should then be counted individually.
>>>
>>> On Thu, Mar 24, 2016 at 10:54 AM, Yann Ylavic <ylavic.dev@gmail.com> 
>>> wrote:
>>> Should the scoreboard really account for both h2 and inner h1
>>> connections in the same counter?
>>> It seems to me that they should be distinguish-ed/able.
>>>
>>> On Thu, Mar 24, 2016 at 3:56 PM, Stefan Eissing
>>> <stefan.eissing@greenbytes.de> wrote:
>>>>
>>>> Found it. Slave connections cleared their scoreboard handle too early 
>>>> (and unneccessary) so that the update simply did not happen.
>>>>
>>>> Fix will be in trunk/2.4.x soonish..
>>>>
>>>>>
>>>>> Am 24.03.2016 um 14:05 schrieb Stefan Eissing 
>>>>> <stefan.eissing@greenbytes.de>:
>>>>>
>>>>> Quick test: http/2 connections are not counted here. checking...
>>>>>
>>>>>>
>>>>>> Am 24.03.2016 um 14:02 schrieb Steffen <info@apachelounge.com>:
>>>>>>
>>>>>> Using  server-status?auto.
>>>>>>
>>>>>> Now since running with 2.4.20-dev my statistics graphs shows  less  
>>>>>> Total Accesses.
>>>>>>
>>>>>> Is it not counting http/1.1 or http/2 in Total Accesses ?
>>>>>>
>>>>>> Steffen
>>>>>>
>>>>>
>>>>
>>>
>>
>


------=_SW_6385_1458900700_mpa=
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html>
<head>
<style>
 .sw_message P{margin:0px;padding:0px;}
 .sw_message {FONT-SIZE: 12pt;FONT-FAMILY:Tahoma,Arial,Helvetica,sans-serif;background:white;}
 .sw_message blockquote{margin-left:5px;padding-left:5px;border-left:2px solid #144fae;color: #144fae;}
 .sw_message blockquote blockquote{border-left:2px solid #006312;color: #006312;}
 .sw_message blockquote blockquote blockquote{border-left:2px solid #8e5656;color: #8e5656;}
 .sw_message blockquote blockquote blockquote blockquote{border-left:2px solid #888;color: #888;}
</style>
</head>
<body class=3d"sw_message">
<div>Build today Branches 2.4.x :&nbsp;<span style=3d"font-size: 12pt;">mod_=
http2 (v1.4.5, nghttp2 1.8.0), initializing...</span></div><div><br></div><d=
iv>The statistics graphs Total Accesses are fine again, no regression over 2=
.4.18 anymore.</div><div><br></div><div>Btw.</div><div>Sofar that the memory=
 footprint with 1.4.4 was far better over 1.2.8.</div><div><br></div><div>I =
keep an eye on 1.4.5</div><div><br></div><div>Mod_http2 1.4.4 (2.4.19) avara=
ge ~100MB peaks with ~180MB</div><div><span style=3d"font-size: 12pt;">Mod_h=
ttp2 1.0.11 (2.4.18) average ~100 MB peaks with ~200 MB</span></div><div>wit=
h 1.2.8 average ~200 MB with peaks ~600 MB</div><div><br></div><div>Thanks,<=
/div><div><br></div><div>Steffen<br></div><div>&nbsp;</div><div id=3d"editor=
_signature"></div><div>On Thursday 24/03/2016 at 17:48, Stefan Eissing  wrot=
e: </div><blockquote type=3d"cite">Fix in 2.4.x: r1736465<br><br>&nbsp;&nbsp=
;  *) mod_http2: fix for missing score board updates on request count, fix f=
or<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     memory leak on slave connection reu=
se.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     <br>Happy Easter,<br><br>&nbsp;&nb=
sp;  Stefan<br><br><blockquote type=3d"cite"> Am 24.03.2016 um 17:17 schrieb=
 Stefan Eissing &lt;stefan.eissing@greenbytes.de&gt;:<br> <br> Yes, that is =
how it worked and should soon work again.<br> <br><blockquote type=3d"cite">=
 Am 24.03.2016 um 16:57 schrieb William A Rowe Jr &lt;wrowe@rowe-clan.net&gt=
;:<br> <br> The inner http2 response to the outer h1 upgrade request remains=
 a <br> single request IMHO.  Within that h2 collection of streams, each of<=
br> the subsequent h2 requests should then be counted individually.<br> <br>=
 On Thu, Mar 24, 2016 at 10:54 AM, Yann Ylavic &lt;ylavic.dev@gmail.com&gt; =
wrote:<br> Should the scoreboard really account for both h2 and inner h1<br>=
 connections in the same counter?<br> It seems to me that they should be dis=
tinguish-ed/able.<br> <br> On Thu, Mar 24, 2016 at 3:56 PM, Stefan Eissing<b=
r> &lt;stefan.eissing@greenbytes.de&gt; wrote:<br><blockquote type=3d"cite">=
 Found it. Slave connections cleared their scoreboard handle too early (and =
unneccessary) so that the update simply did not happen.<br> <br> Fix will be=
 in trunk/2.4.x soonish..<br> <br><blockquote type=3d"cite"> Am 24.03.2016 u=
m 14:05 schrieb Stefan Eissing &lt;stefan.eissing@greenbytes.de&gt;:<br> <br=
> Quick test: http/2 connections are not counted here. checking...<br> <br><=
blockquote type=3d"cite"> Am 24.03.2016 um 14:02 schrieb Steffen &lt;info@ap=
achelounge.com&gt;:<br> <br> Using  server-status?auto.<br> <br> Now since r=
unning with 2.4.20-dev my statistics graphs shows  less  Total Accesses.<br>=
 <br> Is it not counting http/1.1 or http/2 in Total Accesses ?<br> <br> Ste=
ffen<br> <br></blockquote> <br></blockquote> <br></blockquote> <br></blockqu=
ote> <br></blockquote><br></blockquote><br>
</body></html>

------=_SW_6385_1458900700_mpa=--


From dev-return-86087-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 25 10:39:17 2016
Return-Path: <dev-return-86087-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DBFB418096
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Mar 2016 10:39:16 +0000 (UTC)
Received: (qmail 27398 invoked by uid 500); 25 Mar 2016 10:39:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 27306 invoked by uid 500); 25 Mar 2016 10:39:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 27291 invoked by uid 99); 25 Mar 2016 10:39:16 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Mar 2016 10:39:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id F34C91A09B1
	for <dev@httpd.apache.org>; Fri, 25 Mar 2016 10:39:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.899
X-Spam-Level: *
X-Spam-Status: No, score=1.899 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, MIME_QP_LONG_LINE=0.001, RP_MATCHES_RCVD=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=lOKY2OKX;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=AOZMbM/L
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id uJnLOBjNvrYP for <dev@httpd.apache.org>;
	Fri, 25 Mar 2016 10:39:13 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 532715F479
	for <dev@httpd.apache.org>; Fri, 25 Mar 2016 10:39:13 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id BC90F15A0968; Fri, 25 Mar 2016 11:39:11 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458902351; bh=J+i6CIbR9dXu+yc6bfwSf3Zf6kd0ghC0k8KKXlTRwkc=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=lOKY2OKXsiG69Rz1gAZ4bvZ1goBhJkF9UqBk8zoCm0A5z2maz2DEceEx40IjAV3yu
	 17zZGEB+afSTu8hhU/d/ZmWtLHvX7fQozNpMDlHTCRgbyndd0G0BXn3mM37T8V6yie
	 nakpm+fMQXFnu1H6hxygpkkn+/47MWqFzTSACjqs=
Received: from [192.168.0.130] (unknown [78.34.202.155])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 57B3D15A047B
	for <dev@httpd.apache.org>; Fri, 25 Mar 2016 11:39:10 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1458902350; bh=J+i6CIbR9dXu+yc6bfwSf3Zf6kd0ghC0k8KKXlTRwkc=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=AOZMbM/LDOH0wYDuv8jOSlV6KNwhNXfe1l/UpEh8wOe9CFO55wJaUPrByyOhx7Bzx
	 7Z1uO+dmWdSe+Fil/JltQwNLGTnCZM/yNJDPgRCwaYNcAkrFhyZqNKznSR7DYNMc72
	 u02F/nfSu5V4X71ON272wrNn+th1XI0PF7BK7N1E=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: multipart/alternative;
	boundary=Apple-Mail-E268E594-C756-4960-B596-8B4734493D38
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (1.0)
Subject: Re: mod_status Total Accesses with 2.4.20
Message-Id: <A7761397-5ACD-4B35-A56F-3F40BA5C1A23@greenbytes.de>
Date: Fri, 25 Mar 2016 11:39:09 +0100
References: <56f50edc.c6c.1b4c.2d46@land10.nl>
In-Reply-To: <56f50edc.c6c.1b4c.2d46@land10.nl>
To: dev@httpd.apache.org
X-Mailer: iPhone Mail (13E233)


--Apple-Mail-E268E594-C756-4960-B596-8B4734493D38
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable

Steffen, thanks for testing and giving the numbers. I hope that 1.4.5 is eve=
n a bit better than  1.4.4.=20

> Am 25.03.2016 um 11:11 schrieb Steffen <info@apachelounge.com>:
>=20
> Build today Branches 2.4.x : mod_http2 (v1.4.5, nghttp2 1.8.0), initializi=
ng...
>=20
> The statistics graphs Total Accesses are fine again, no regression over 2.=
4.18 anymore.
>=20
> Btw.
> Sofar that the memory footprint with 1.4.4 was far better over 1.2.8.
>=20
> I keep an eye on 1.4.5
>=20
> Mod_http2 1.4.4 (2.4.19) avarage ~100MB peaks with ~180MB
> Mod_http2 1.0.11 (2.4.18) average ~100 MB peaks with ~200 MB
> with 1.2.8 average ~200 MB with peaks ~600 MB
>=20
> Thanks,
>=20
> Steffen
> =20
>> On Thursday 24/03/2016 at 17:48, Stefan Eissing wrote:
>> Fix in 2.4.x: r1736465
>>=20
>>    *) mod_http2: fix for missing score board updates on request count, fi=
x for
>>       memory leak on slave connection reuse.
>>      =20
>> Happy Easter,
>>=20
>>    Stefan
>>=20
>>> Am 24.03.2016 um 17:17 schrieb Stefan Eissing <stefan.eissing@greenbytes=
.de>:
>>>=20
>>> Yes, that is how it worked and should soon work again.
>>>=20
>>>> Am 24.03.2016 um 16:57 schrieb William A Rowe Jr <wrowe@rowe-clan.net>:=

>>>>=20
>>>> The inner http2 response to the outer h1 upgrade request remains a=20
>>>> single request IMHO. Within that h2 collection of streams, each of
>>>> the subsequent h2 requests should then be counted individually.
>>>>=20
>>>> On Thu, Mar 24, 2016 at 10:54 AM, Yann Ylavic <ylavic.dev@gmail.com> wr=
ote:
>>>> Should the scoreboard really account for both h2 and inner h1
>>>> connections in the same counter?
>>>> It seems to me that they should be distinguish-ed/able.
>>>>=20
>>>> On Thu, Mar 24, 2016 at 3:56 PM, Stefan Eissing
>>>> <stefan.eissing@greenbytes.de> wrote:
>>>>> Found it. Slave connections cleared their scoreboard handle too early (=
and unneccessary) so that the update simply did not happen.
>>>>>=20
>>>>> Fix will be in trunk/2.4.x soonish..
>>>>>=20
>>>>>> Am 24.03.2016 um 14:05 schrieb Stefan Eissing <stefan.eissing@greenby=
tes.de>:
>>>>>>=20
>>>>>> Quick test: http/2 connections are not counted here. checking...
>>>>>>=20
>>>>>>> Am 24.03.2016 um 14:02 schrieb Steffen <info@apachelounge.com>:
>>>>>>>=20
>>>>>>> Using server-status?auto.
>>>>>>>=20
>>>>>>> Now since running with 2.4.20-dev my statistics graphs shows less To=
tal Accesses.
>>>>>>>=20
>>>>>>> Is it not counting http/1.1 or http/2 in Total Accesses ?
>>>>>>>=20
>>>>>>> Steffen
>=20

--Apple-Mail-E268E594-C756-4960-B596-8B4734493D38
Content-Type: text/html;
	charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><head><meta http-equiv=3D"content-type" content=3D"text/html; charset=3D=
utf-8"></head><body dir=3D"auto"><div></div><div>Steffen, thanks for testing=
 and giving the numbers. I hope that 1.4.5 is even a bit better than &nbsp;1=
.4.4.&nbsp;</div><div><br>Am 25.03.2016 um 11:11 schrieb Steffen &lt;<a href=
=3D"mailto:info@apachelounge.com">info@apachelounge.com</a>&gt;:<br><br></di=
v><blockquote type=3D"cite"><div>

<style>
 .sw_message P{margin:0px;padding:0px;}
 .sw_message {FONT-SIZE: 12pt;FONT-FAMILY:Tahoma,Arial,Helvetica,sans-serif;=
background:white;}
 .sw_message blockquote{margin-left:5px;padding-left:5px;border-left:2px sol=
id #144fae;color: #144fae;}
 .sw_message blockquote blockquote{border-left:2px solid #006312;color: #006=
312;}
 .sw_message blockquote blockquote blockquote{border-left:2px solid #8e5656;=
color: #8e5656;}
 .sw_message blockquote blockquote blockquote blockquote{border-left:2px sol=
id #888;color: #888;}
</style>


<div>Build today Branches 2.4.x :&nbsp;<span style=3D"font-size: 12pt;">mod_=
http2 (v1.4.5, nghttp2 1.8.0), initializing...</span></div><div><br></div><d=
iv>The statistics graphs Total Accesses are fine again, no regression over 2=
.4.18 anymore.</div><div><br></div><div>Btw.</div><div>Sofar that the memory=
 footprint with 1.4.4 was far better over 1.2.8.</div><div><br></div><div>I k=
eep an eye on 1.4.5</div><div><br></div><div>Mod_http2 1.4.4 (2.4.19) avarag=
e ~100MB peaks with ~180MB</div><div><span style=3D"font-size: 12pt;">Mod_ht=
tp2 1.0.11 (2.4.18) average ~100 MB peaks with ~200 MB</span></div><div>with=
 1.2.8 average ~200 MB with peaks ~600 MB</div><div><br></div><div>Thanks,</=
div><div><br></div><div>Steffen<br></div><div>&nbsp;</div><div id=3D"editor_=
signature"></div><div>On Thursday 24/03/2016 at 17:48, Stefan Eissing  wrote=
: </div><blockquote type=3D"cite">Fix in 2.4.x: r1736465<br><br>&nbsp;&nbsp;=
  *) mod_http2: fix for missing score board updates on request count, fix fo=
r<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     memory leak on slave connection reus=
e.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     <br>Happy Easter,<br><br>&nbsp;&nbs=
p;  Stefan<br><br><blockquote type=3D"cite"> Am 24.03.2016 um 17:17 schrieb S=
tefan Eissing &lt;<a href=3D"mailto:stefan.eissing@greenbytes.de">stefan.eis=
sing@greenbytes.de</a>&gt;:<br> <br> Yes, that is how it worked and should s=
oon work again.<br> <br><blockquote type=3D"cite"> Am 24.03.2016 um 16:57 sc=
hrieb William A Rowe Jr &lt;<a href=3D"mailto:wrowe@rowe-clan.net">wrowe@row=
e-clan.net</a>&gt;:<br> <br> The inner http2 response to the outer h1 upgrad=
e request remains a <br> single request IMHO.  Within that h2 collection of s=
treams, each of<br> the subsequent h2 requests should then be counted indivi=
dually.<br> <br> On Thu, Mar 24, 2016 at 10:54 AM, Yann Ylavic &lt;<a href=3D=
"mailto:ylavic.dev@gmail.com">ylavic.dev@gmail.com</a>&gt; wrote:<br> Should=
 the scoreboard really account for both h2 and inner h1<br> connections in t=
he same counter?<br> It seems to me that they should be distinguish-ed/able.=
<br> <br> On Thu, Mar 24, 2016 at 3:56 PM, Stefan Eissing<br> &lt;<a href=3D=
"mailto:stefan.eissing@greenbytes.de">stefan.eissing@greenbytes.de</a>&gt; w=
rote:<br><blockquote type=3D"cite"> Found it. Slave connections cleared thei=
r scoreboard handle too early (and unneccessary) so that the update simply d=
id not happen.<br> <br> Fix will be in trunk/2.4.x soonish..<br> <br><blockq=
uote type=3D"cite"> Am 24.03.2016 um 14:05 schrieb Stefan Eissing &lt;<a hre=
f=3D"mailto:stefan.eissing@greenbytes.de">stefan.eissing@greenbytes.de</a>&g=
t;:<br> <br> Quick test: http/2 connections are not counted here. checking..=
.<br> <br><blockquote type=3D"cite"> Am 24.03.2016 um 14:02 schrieb Steffen &=
lt;<a href=3D"mailto:info@apachelounge.com">info@apachelounge.com</a>&gt;:<b=
r> <br> Using  server-status?auto.<br> <br> Now since running with 2.4.20-de=
v my statistics graphs shows  less  Total Accesses.<br> <br> Is it not count=
ing http/1.1 or http/2 in Total Accesses ?<br> <br> Steffen<br> <br></blockq=
uote> <br></blockquote> <br></blockquote> <br></blockquote> <br></blockquote=
><br></blockquote><br>

</div></blockquote></body></html>=

--Apple-Mail-E268E594-C756-4960-B596-8B4734493D38--

From dev-return-86088-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 26 03:13:45 2016
Return-Path: <dev-return-86088-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 27B6018AD4
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 26 Mar 2016 03:13:45 +0000 (UTC)
Received: (qmail 58929 invoked by uid 500); 26 Mar 2016 03:13:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58841 invoked by uid 500); 26 Mar 2016 03:13:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58831 invoked by uid 99); 26 Mar 2016 03:13:44 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Mar 2016 03:13:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id EC731C021F
	for <dev@httpd.apache.org>; Sat, 26 Mar 2016 03:13:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.301
X-Spam-Level:
X-Spam-Status: No, score=-2.301 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.001,
	SPF_PASS=-0.001, UNPARSEABLE_RELAY=0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id XMmZRVs5g5Yd for <dev@httpd.apache.org>;
	Sat, 26 Mar 2016 03:13:40 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [27.33.160.23])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id A284E5F238
	for <dev@httpd.apache.org>; Sat, 26 Mar 2016 03:13:39 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [10.10.0.10])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.ausics.net (Postfix) with ESMTPSA id 0658AC0E096
	for <dev@httpd.apache.org>; Sat, 26 Mar 2016 13:13:33 +1000 (AEST)
Received: from WcfMIeDvykxEMlXG5Sbr5mcDejRmCEqAsb2zNCfpffc=
 (VXqrEOoOkHC6g1Yyle8H+9NQf01oXr+d)
 by mail.ausics.net
 with HTTP (HTTP/1.1 POST); Sat, 26 Mar 2016 13:13:33 +1000
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8;
 format=flowed
Content-Transfer-Encoding: 8bit
Date: Sat, 26 Mar 2016 13:13:33 +1000
From: Noel Butler <noel.butler@ausics.net>
To: dev@httpd.apache.org
Subject: Re: Status for 2.4.20
In-Reply-To: <63BA0754-ABA9-4B14-9462-299667D53999@sharp.fm>
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
 <a69dde274c77a821df47d9a148b6b663@ausics.net>
 <63BA0754-ABA9-4B14-9462-299667D53999@sharp.fm>
Message-ID: <8d522c78840bc2bc199c71729459aa62@ausics.net>
X-Sender: noel.butler@ausics.net
User-Agent: Roundcube Webmail

On 25/03/2016 19:52, Graham Leggett wrote:
> On 23 Mar 2016, at 1:58 PM, Noel Butler <noel.butler@ausics.net> wrote:
> 
>> as stated previously, this shit will happen when certain people push 
>> with a release often mentality
>> 
>> AFAIK there is *ZERO* critical exploit bugs to be patched by any 
>> pending release, so lets get house in order  S T A B L E , then worry 
>> about releases, jesus christ, we are not ubuntu or redhat with set 
>> programs to release every 3 or 6 months regardless if shit is ready or 
>> not..
> 
> It sounds like youre making drama where there is none.

sounds like you only look at this from one perspective, and thats not of 
the users, especially, the larger users.



-- 
If you have the urge to reply to all rather than reply to list, you best
first read  http://members.ausics.net/qwerty/

From dev-return-86089-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 26 03:32:30 2016
Return-Path: <dev-return-86089-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5A1EC18B41
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 26 Mar 2016 03:32:30 +0000 (UTC)
Received: (qmail 76808 invoked by uid 500); 26 Mar 2016 03:32:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76744 invoked by uid 500); 26 Mar 2016 03:32:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76734 invoked by uid 99); 26 Mar 2016 03:32:29 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Mar 2016 03:32:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5C6791A4E83
	for <dev@httpd.apache.org>; Sat, 26 Mar 2016 03:32:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.703
X-Spam-Level:
X-Spam-Status: No, score=-0.703 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_LOW=-0.7, RP_MATCHES_RCVD=-0.001,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id JMAArm9v2Jdq for <dev@httpd.apache.org>;
	Sat, 26 Mar 2016 03:32:27 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id DD8F25F238
	for <dev@httpd.apache.org>; Sat, 26 Mar 2016 03:32:26 +0000 (UTC)
Subject: Re: Status for 2.4.20
To: dev@httpd.apache.org
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
 <a69dde274c77a821df47d9a148b6b663@ausics.net>
 <63BA0754-ABA9-4B14-9462-299667D53999@sharp.fm>
 <8d522c78840bc2bc199c71729459aa62@ausics.net>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
Organization: the lounge interactive design
Message-ID: <56F602C9.50502@thelounge.net>
Date: Sat, 26 Mar 2016 04:32:25 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.7.1
MIME-Version: 1.0
In-Reply-To: <8d522c78840bc2bc199c71729459aa62@ausics.net>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="bqNIoe1cqtClcxJmfOr3WWI1XkO3p2RtN"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--bqNIoe1cqtClcxJmfOr3WWI1XkO3p2RtN
Content-Type: multipart/mixed; boundary="0iw1302gUu3s56tMuUKfqEXK27u7VA2qi"
From: Reindl Harald <h.reindl@thelounge.net>
To: dev@httpd.apache.org
Message-ID: <56F602C9.50502@thelounge.net>
Subject: Re: Status for 2.4.20
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
 <a69dde274c77a821df47d9a148b6b663@ausics.net>
 <63BA0754-ABA9-4B14-9462-299667D53999@sharp.fm>
 <8d522c78840bc2bc199c71729459aa62@ausics.net>
In-Reply-To: <8d522c78840bc2bc199c71729459aa62@ausics.net>

--0iw1302gUu3s56tMuUKfqEXK27u7VA2qi
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable


Am 26.03.2016 um 04:13 schrieb Noel Butler:
> On 25/03/2016 19:52, Graham Leggett wrote:
>> On 23 Mar 2016, at 1:58 PM, Noel Butler <noel.butler@ausics.net> wrote=
:
>>
>>> as stated previously, this shit will happen when certain people push
>>> with a release often mentality
>>>
>>> AFAIK there is *ZERO* critical exploit bugs to be patched by any
>>> pending release, so lets get house in order  S T A B L E , then worry=

>>> about releases, jesus christ, we are not ubuntu or redhat with set
>>> programs to release every 3 or 6 months regardless if shit is ready
>>> or not=E2=80=A6..
>>
>> It sounds like you=E2=80=99re making drama where there is none.
>
> sounds like you only look at this from one perspective, and thats not o=
f
> the users, especially, the larger users.

if it has no relevant bugfixes for you - just don't upgrade - so what
why should others wait for probably relevant fixes longer just because=20
you are annoyed by an update nobody is forcing you to install?



--0iw1302gUu3s56tMuUKfqEXK27u7VA2qi--

--bqNIoe1cqtClcxJmfOr3WWI1XkO3p2RtN
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlb2AskACgkQhmBjz394AnnlWgCeOAO/01YFsUT7sqxeusAiBzlL
2EMAnRfe/OrWh2bcdnJWpmYnkBdjzPp6
=Ba9A
-----END PGP SIGNATURE-----

--bqNIoe1cqtClcxJmfOr3WWI1XkO3p2RtN--

From dev-return-86090-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 26 03:44:33 2016
Return-Path: <dev-return-86090-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AA64518BAC
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 26 Mar 2016 03:44:33 +0000 (UTC)
Received: (qmail 1781 invoked by uid 500); 26 Mar 2016 03:44:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1692 invoked by uid 500); 26 Mar 2016 03:44:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1679 invoked by uid 99); 26 Mar 2016 03:44:32 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Mar 2016 03:44:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 8DFF6C345E
	for <dev@httpd.apache.org>; Sat, 26 Mar 2016 03:44:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -3.296
X-Spam-Level:
X-Spam-Status: No, score=-3.296 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.996,
	SPF_PASS=-0.001, UNPARSEABLE_RELAY=0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id TSCZZS0ub87Z for <dev@httpd.apache.org>;
	Sat, 26 Mar 2016 03:44:30 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [27.33.160.23])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 3C5BA5F2F2
	for <dev@httpd.apache.org>; Sat, 26 Mar 2016 03:44:30 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [10.10.0.10])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.ausics.net (Postfix) with ESMTPSA id 074CAC0E099
	for <dev@httpd.apache.org>; Sat, 26 Mar 2016 13:44:27 +1000 (AEST)
Received: from cDZ55Q13N/pGhQ7rKVZwHZN1SbTTkwkLrGKQ2dYZqiU=
 (KaVBC1TbroMFl2RuJWhoBA2l2b2sLG84)
 by mail.ausics.net
 with HTTP (HTTP/1.1 POST); Sat, 26 Mar 2016 13:44:26 +1000
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8;
 format=flowed
Content-Transfer-Encoding: 8bit
Date: Sat, 26 Mar 2016 13:44:26 +1000
From: Noel Butler <noel.butler@ausics.net>
To: dev@httpd.apache.org
Subject: Re: Status for 2.4.20
In-Reply-To: <56F602C9.50502@thelounge.net>
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
 <a69dde274c77a821df47d9a148b6b663@ausics.net>
 <63BA0754-ABA9-4B14-9462-299667D53999@sharp.fm>
 <8d522c78840bc2bc199c71729459aa62@ausics.net> <56F602C9.50502@thelounge.net>
Message-ID: <8af0ea6c625ba431c994fe87b4d539b4@ausics.net>
X-Sender: noel.butler@ausics.net
User-Agent: Roundcube Webmail

On 26/03/2016 13:32, Reindl Harald wrote:
> Am 26.03.2016 um 04:13 schrieb Noel Butler:
>> On 25/03/2016 19:52, Graham Leggett wrote:
>>> On 23 Mar 2016, at 1:58 PM, Noel Butler <noel.butler@ausics.net> 
>>> wrote:
>>> 
>>>> as stated previously, this shit will happen when certain people push
>>>> with a release often mentality
>>>> 
>>>> AFAIK there is *ZERO* critical exploit bugs to be patched by any
>>>> pending release, so lets get house in order  S T A B L E , then 
>>>> worry
>>>> about releases, jesus christ, we are not ubuntu or redhat with set
>>>> programs to release every 3 or 6 months regardless if shit is ready
>>>> or not..
>>> 
>>> It sounds like youre making drama where there is none.
>> 
>> sounds like you only look at this from one perspective, and thats not 
>> of
>> the users, especially, the larger users.
> 
> if it has no relevant bugfixes for you - just don't upgrade - so what
> why should others wait for probably relevant fixes longer just because
> you are annoyed by an update nobody is forcing you to install?


*yawn*

-- 
If you have the urge to reply to all rather than reply to list, you best
first read  http://members.ausics.net/qwerty/

From dev-return-86091-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 26 08:34:54 2016
Return-Path: <dev-return-86091-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 64DF8190C2
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 26 Mar 2016 08:34:54 +0000 (UTC)
Received: (qmail 1932 invoked by uid 500); 26 Mar 2016 08:34:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1853 invoked by uid 500); 26 Mar 2016 08:34:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1843 invoked by uid 99); 26 Mar 2016 08:34:53 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Mar 2016 08:34:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 2A67FC00E6
	for <dev@httpd.apache.org>; Sat, 26 Mar 2016 08:34:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	MIME_QP_LONG_LINE=0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=eissing.org header.b=v7zFEqIU;
	dkim=pass (1024-bit key) header.d=eissing.org header.b=v7zFEqIU
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 7Nu_87XrJY0t for <dev@httpd.apache.org>;
	Sat, 26 Mar 2016 08:34:51 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 954D35F47C
	for <dev@httpd.apache.org>; Sat, 26 Mar 2016 08:34:50 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id 9FD8C15A068E; Sat, 26 Mar 2016 09:34:42 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=eissing.org; s=mail;
	t=1458981282; bh=3hIUKcpAr5sKpBPRDv3Gt5GY0OYc2jPlcjUcHtzTPpg=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=v7zFEqIU7R1Its4qc8py9CVb7O2FA/qRQFxz/wUZgTQvg4YwAmwj7YItoGzEU9LnF
	 RqU2gbnfXFHqSWNClNChtF7CN0owfp/e9mB8jLxI2J2Fiqv1kWOuOSXzLbG0ezofdj
	 OwsE28PcKuIiQFACBskMsgkJMAPg7LsgdXKImBCM=
Received: from [192.168.0.130] (unknown [81.173.158.129])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 6A4EE15A0448
	for <dev@httpd.apache.org>; Sat, 26 Mar 2016 09:34:42 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=eissing.org; s=mail;
	t=1458981282; bh=3hIUKcpAr5sKpBPRDv3Gt5GY0OYc2jPlcjUcHtzTPpg=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=v7zFEqIU7R1Its4qc8py9CVb7O2FA/qRQFxz/wUZgTQvg4YwAmwj7YItoGzEU9LnF
	 RqU2gbnfXFHqSWNClNChtF7CN0owfp/e9mB8jLxI2J2Fiqv1kWOuOSXzLbG0ezofdj
	 OwsE28PcKuIiQFACBskMsgkJMAPg7LsgdXKImBCM=
From: Stefan Eissing <stefan@eissing.org>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: svn commit: r1736687 - /httpd/httpd/trunk/docs/manual/howto/index.html.en
Message-Id: <261E2DB4-A117-4D8A-881C-243E9F6C140E@eissing.org>
Date: Sat, 26 Mar 2016 09:34:41 +0100
References: <20160326082140.53A633A0315@svn01-us-west.apache.org>
In-Reply-To: <20160326082140.53A633A0315@svn01-us-west.apache.org>
To: dev@httpd.apache.org
X-Mailer: iPhone Mail (13E233)

We should backport this howto as well.=20

> Am 26.03.2016 um 09:21 schrieb elukey@apache.org:
>=20
> Author: elukey
> Date: Sat Mar 26 08:21:40 2016
> New Revision: 1736687
>=20
> URL: http://svn.apache.org/viewvc?rev=3D1736687&view=3Drev
> Log:
> documentation rebuild
>=20
> Modified:
>    httpd/httpd/trunk/docs/manual/howto/index.html.en
>=20
> Modified: httpd/httpd/trunk/docs/manual/howto/index.html.en
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/howto/inde=
x.html.en?rev=3D1736687&r1=3D1736686&r2=3D1736687&view=3Ddiff
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D
> --- httpd/httpd/trunk/docs/manual/howto/index.html.en (original)
> +++ httpd/httpd/trunk/docs/manual/howto/index.html.en Sat Mar 26 08:21:40 2=
016
> @@ -88,6 +88,20 @@
>     </dl>
>=20
>     <dl>
> +      <dt>HTTP/2 with httpd</dt>
> +      <dd>
> +      <p>HTTP/2 is the evolution of the world's most successful applicati=
on layer protocol, HTTP.=20
> +        It focuses on making more efficient use of network resources with=
out changing the semantis of HTTP.
> +        This guide explains how HTTP/2 is implemented in httpd, showing b=
asic configurations tips and=20
> +        best practices.
> +      </p>
> +
> +        <p>See: <a href=3D"http2.html">HTTP/2 guide</a></p>
> +      </dd>
> +    </dl>
> +
> +
> +    <dl>
>       <dt>Introduction to Server Side Includes</dt>
>       <dd>
>         <p>SSI (Server Side Includes) are directives that are placed in
>=20
>=20


From dev-return-86092-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 26 08:42:02 2016
Return-Path: <dev-return-86092-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4E3F7190D3
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 26 Mar 2016 08:42:02 +0000 (UTC)
Received: (qmail 15474 invoked by uid 500); 26 Mar 2016 08:42:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15407 invoked by uid 500); 26 Mar 2016 08:42:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15395 invoked by uid 99); 26 Mar 2016 08:42:01 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Mar 2016 08:42:01 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A21A3C00E6
	for <dev@httpd.apache.org>; Sat, 26 Mar 2016 08:42:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.179
X-Spam-Level: *
X-Spam-Status: No, score=1.179 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id qwPnkO5kfora for <dev@httpd.apache.org>;
	Sat, 26 Mar 2016 08:41:58 +0000 (UTC)
Received: from mail-lb0-f180.google.com (mail-lb0-f180.google.com [209.85.217.180])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 4610D5F480
	for <dev@httpd.apache.org>; Sat, 26 Mar 2016 08:41:58 +0000 (UTC)
Received: by mail-lb0-f180.google.com with SMTP id vo2so5789230lbb.1
        for <dev@httpd.apache.org>; Sat, 26 Mar 2016 01:41:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=Ie3m1tJqn6fJQ6lvXc4BxHtndUi6ceOx0XNTV8zmLn8=;
        b=Mablm2V6Qp415RGNmUug7SDmQJkZ6iBHtxlgd4O/dCHxh0WsDUwAACYw+m7nsJTcpk
         hHfrTA8o+l92Z8vui2qZzz8gEiFTfwttPFlVCsodj5ixfAgrrvrLBf4f9pylG1Ulm721
         JMicY1zJqkUaeOWZKN+cSQ/L8YC8+89XgpBWfN3RAt1BGM5l21YQrbewlJS8PL6DU6g7
         /nA20Mot7b0tQTtbeLMHYwdj4hhqlgwl8lxIgeT+pM2OePE5FknqFRzLPb3whTEvUmLl
         jSYDjr3hKEkicFG7a5wrFzm9wBegVIEwKGon7lCVrDdhsn9gEjq9ffmrqqPxA3v5vw8N
         UYUw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=Ie3m1tJqn6fJQ6lvXc4BxHtndUi6ceOx0XNTV8zmLn8=;
        b=hwCx9uXuupGOR2Z4SEwSHgXOBG32DkqF4oc9kTpvuK/H7Kh5UV6Q/wv0BUFWJ9dyGE
         JGeU961pWd34b45eX7IMw/UYbhWorAEshBTQ67ySHN7K/4gDg1edTJ+IeJumxJMmj4On
         tYWdodoUfqB290Lo7yEUGrsof+WYoYArQA8p5hFeQwC2NW3Y7yt4JQS3ULS6/KddN5GF
         7CUh14r2zaB1x+DKyqawmIsqeBOFbzowLbVM5H4YNCygmnWYly7MsgdcWFabZKjczCnf
         ahJrepDGLHwUax2DhG/d6amZGCeslprDSbOvOYGyVw4JN9cq3lCLwgTsKiMJbp2VV2Lx
         8s1A==
X-Gm-Message-State: AD7BkJKHJ0FFPM1UGpQgu24K2ZOhIVP4mh49fGJeaz/SSqjnIp9mhvAkx9AT4oeFDlnJOOHfC+uNbK4ehCr6xA==
MIME-Version: 1.0
X-Received: by 10.112.198.132 with SMTP id jc4mr7114678lbc.120.1458981710769;
 Sat, 26 Mar 2016 01:41:50 -0700 (PDT)
Received: by 10.25.31.135 with HTTP; Sat, 26 Mar 2016 01:41:50 -0700 (PDT)
In-Reply-To: <261E2DB4-A117-4D8A-881C-243E9F6C140E@eissing.org>
References: <20160326082140.53A633A0315@svn01-us-west.apache.org>
	<261E2DB4-A117-4D8A-881C-243E9F6C140E@eissing.org>
Date: Sat, 26 Mar 2016 09:41:50 +0100
Message-ID: <CAFedD41inDbU=99N9jP3BM=kon3Sd6seJay31pmGPc2fsxRcqQ@mail.gmail.com>
Subject: Re: svn commit: r1736687 - /httpd/httpd/trunk/docs/manual/howto/index.html.en
From: Luca Toscano <toscano.luca@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11c329409ab4fc052eefa6fc

--001a11c329409ab4fc052eefa6fc
Content-Type: text/plain; charset=UTF-8

Hi Stefan!

2016-03-26 9:34 GMT+01:00 Stefan Eissing <stefan@eissing.org>:

> We should backport this howto as well.
>

Yes definitely, together with the latest version of mod_http2 docs. I was
waiting for the new release, but we can anticipate!

Luca

--001a11c329409ab4fc052eefa6fc
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi Stefan!=C2=A0<div class=3D"gmail_extra"><br><div class=
=3D"gmail_quote">2016-03-26 9:34 GMT+01:00 Stefan Eissing <span dir=3D"ltr"=
>&lt;<a href=3D"mailto:stefan@eissing.org" target=3D"_blank">stefan@eissing=
.org</a>&gt;</span>:<br><blockquote class=3D"gmail_quote" style=3D"margin:0=
 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">We should backport t=
his howto as well.<br></blockquote><div><br></div><div>Yes definitely, toge=
ther with the latest version of mod_http2 docs. I was waiting for the new r=
elease, but we can anticipate!</div><div><br></div><div>Luca</div></div></d=
iv></div>

--001a11c329409ab4fc052eefa6fc--

From dev-return-86093-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 26 12:51:54 2016
Return-Path: <dev-return-86093-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A59AA19508
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 26 Mar 2016 12:51:54 +0000 (UTC)
Received: (qmail 42327 invoked by uid 500); 26 Mar 2016 12:51:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42258 invoked by uid 500); 26 Mar 2016 12:51:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42245 invoked by uid 99); 26 Mar 2016 12:51:53 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Mar 2016 12:51:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 74F2EC0338;
	Sat, 26 Mar 2016 12:51:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.821
X-Spam-Level:
X-Spam-Status: No, score=-0.821 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 9uRF745J6vtm; Sat, 26 Mar 2016 12:51:52 +0000 (UTC)
Received: from mail-ig0-f179.google.com (mail-ig0-f179.google.com [209.85.213.179])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 1C73A5F255;
	Sat, 26 Mar 2016 12:51:52 +0000 (UTC)
Received: by mail-ig0-f179.google.com with SMTP id l20so28580010igf.0;
        Sat, 26 Mar 2016 05:51:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc;
        bh=BvY8E0kzAHS0IJHAL5VliaEE+uItCiy/V9Ou7WE4O7I=;
        b=l2DYrMayjkUQXWa/9Ibt1ITGPY1F8W5LHXRwUUBGUp1CgI7DFW/C29kXzb6L5wYqWJ
         pS9ocKY7ycdgo2JixY5Et6Ne5CoXThQes5symm2E4eIOjJyfYLqT3H/5t7Qah75ZxwT8
         gCmtzhgY18MT8Od4wSQyO1a2hib43AuYKjOneh982MoPi9/bDE+ujmfmmbnb5sRwTtKU
         W1CCoPKlvQfje1r3btLHgJQ06anFMIMT0E91GQMyoqatGpGpyPT40bCVFd1HvDZ3HR+Y
         8faYe90BLP8dEE6QF21xePc1g0rrFa9fSmXtspi3f8tzN2woYqYb2VspIfhrwaIF+6zn
         NcvA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc;
        bh=BvY8E0kzAHS0IJHAL5VliaEE+uItCiy/V9Ou7WE4O7I=;
        b=OzfmOAE0c9zdllpVgyka/we4Je2Mk+GKDa6u8Oc+Al+qBvAftVSrTsENHSrfa8Z000
         ejO5IDFCtHEmnq4+VnFxSlNBMOSV2Gifplj+FO6+7xoMgpOluWSutLx5dzqGAj83xeew
         /j1nyXmR4zU2GmOJHu3ByFOC2XleCvTt+r/yJ4EBr60TXDSshgQFvNjGKxwvgwjKqkif
         QatvNSH7KDpYN0VVdQyAw5h7CkE8GTy+jwYBov+VgyDHY3/oM4I+cu2p1ajF9aIyJFLJ
         LLPiDbSLk3Sq2ZmLoxi3iobkK2XLVAPtytJ1U0coAfWmC+mPjMcH62/rxrp0/k6BvDrU
         BJlA==
X-Gm-Message-State: AD7BkJLGafKVknKSdMiu0Qa366GLHwGOf87qPDuicPEkfaUkhib/pzacSQPbWZUvkeNLXJhGbE0Ive0k7bJ7Uw==
MIME-Version: 1.0
X-Received: by 10.50.50.138 with SMTP id c10mr1286249igo.72.1458996711072;
 Sat, 26 Mar 2016 05:51:51 -0700 (PDT)
Received: by 10.64.39.16 with HTTP; Sat, 26 Mar 2016 05:51:51 -0700 (PDT)
In-Reply-To: <20160326075151.968753A0315@svn01-us-west.apache.org>
References: <20160326075151.968753A0315@svn01-us-west.apache.org>
Date: Sat, 26 Mar 2016 08:51:51 -0400
Message-ID: <CALK=YjMok=iz06Tiu+FC8GcqdHgu936+jEC00j-yNPQdXQQddA@mail.gmail.com>
Subject: Re: svn commit: r1736683 - /httpd/httpd/trunk/docs/manual/mod/mod_authnz_ldap.xml
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Cc: cvs@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Sat, Mar 26, 2016 at 3:51 AM,  <jailletc36@apache.org> wrote:
> -    module="mod_authnz_ldap">AuthLDAPBindPassword</directive> if you
> +    >AuthLDAPBindPassword</directive> if you
>      absolutely need them to search the directory.</p>


I am in the habit of always adding module= so we get the directive as
a hyperlink.  Is there a rationale for removing them?

-- 
Eric Covener
covener@gmail.com

From dev-return-86094-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 26 12:54:59 2016
Return-Path: <dev-return-86094-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2686219515
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 26 Mar 2016 12:54:59 +0000 (UTC)
Received: (qmail 44622 invoked by uid 500); 26 Mar 2016 12:54:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 44558 invoked by uid 500); 26 Mar 2016 12:54:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 44548 invoked by uid 99); 26 Mar 2016 12:54:58 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Mar 2016 12:54:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1C77B180225
	for <dev@httpd.apache.org>; Sat, 26 Mar 2016 12:54:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.703
X-Spam-Level:
X-Spam-Status: No, score=-0.703 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_LOW=-0.7, RP_MATCHES_RCVD=-0.001,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id KYiAed_iaN8H for <dev@httpd.apache.org>;
	Sat, 26 Mar 2016 12:54:56 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id CC1E25F19B
	for <dev@httpd.apache.org>; Sat, 26 Mar 2016 12:54:55 +0000 (UTC)
Subject: Re: Status for 2.4.20
To: dev@httpd.apache.org
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
 <a69dde274c77a821df47d9a148b6b663@ausics.net>
 <63BA0754-ABA9-4B14-9462-299667D53999@sharp.fm>
 <8d522c78840bc2bc199c71729459aa62@ausics.net> <56F602C9.50502@thelounge.net>
 <8af0ea6c625ba431c994fe87b4d539b4@ausics.net>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
Organization: the lounge interactive design
Message-ID: <56F6869C.4070905@thelounge.net>
Date: Sat, 26 Mar 2016 13:54:52 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.7.1
MIME-Version: 1.0
In-Reply-To: <8af0ea6c625ba431c994fe87b4d539b4@ausics.net>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="ElqudHRnUvPTjOslElfnToOD6a1TSfPve"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--ElqudHRnUvPTjOslElfnToOD6a1TSfPve
Content-Type: multipart/mixed; boundary="djIOpxCvouN7Ts3uqHUFEnuxn8mhXjW1a"
From: Reindl Harald <h.reindl@thelounge.net>
To: dev@httpd.apache.org
Message-ID: <56F6869C.4070905@thelounge.net>
Subject: Re: Status for 2.4.20
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
 <a69dde274c77a821df47d9a148b6b663@ausics.net>
 <63BA0754-ABA9-4B14-9462-299667D53999@sharp.fm>
 <8d522c78840bc2bc199c71729459aa62@ausics.net> <56F602C9.50502@thelounge.net>
 <8af0ea6c625ba431c994fe87b4d539b4@ausics.net>
In-Reply-To: <8af0ea6c625ba431c994fe87b4d539b4@ausics.net>

--djIOpxCvouN7Ts3uqHUFEnuxn8mhXjW1a
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable


Am 26.03.2016 um 04:44 schrieb Noel Butler:
> On 26/03/2016 13:32, Reindl Harald wrote:
>> Am 26.03.2016 um 04:13 schrieb Noel Butler:
>>> On 25/03/2016 19:52, Graham Leggett wrote:
>>>> On 23 Mar 2016, at 1:58 PM, Noel Butler <noel.butler@ausics.net> wro=
te:
>>>>
>>>>> as stated previously, this shit will happen when certain people pus=
h
>>>>> with a release often mentality
>>>>>
>>>>> AFAIK there is *ZERO* critical exploit bugs to be patched by any
>>>>> pending release, so lets get house in order  S T A B L E , then wor=
ry
>>>>> about releases, jesus christ, we are not ubuntu or redhat with set
>>>>> programs to release every 3 or 6 months regardless if shit is ready=

>>>>> or not=E2=80=A6..
>>>>
>>>> It sounds like you=E2=80=99re making drama where there is none.
>>>
>>> sounds like you only look at this from one perspective, and thats not=
 of
>>> the users, especially, the larger users.
>>
>> if it has no relevant bugfixes for you - just don't upgrade - so what
>> why should others wait for probably relevant fixes longer just because=

>> you are annoyed by an update nobody is forcing you to install?
>
> *yawn*

grow up!

especially with your off-list hate-mails while block responses


--djIOpxCvouN7Ts3uqHUFEnuxn8mhXjW1a--

--ElqudHRnUvPTjOslElfnToOD6a1TSfPve
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlb2hpwACgkQhmBjz394AnmyqgCeP2cho3Rtg0qOcTTuEil+s2AW
SB0AnAzNHa2tkQj+Y7dRqGHwoTgtkmyn
=OzH+
-----END PGP SIGNATURE-----

--ElqudHRnUvPTjOslElfnToOD6a1TSfPve--

From dev-return-86095-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 26 17:27:38 2016
Return-Path: <dev-return-86095-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D2A3319950
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 26 Mar 2016 17:27:38 +0000 (UTC)
Received: (qmail 51961 invoked by uid 500); 26 Mar 2016 17:27:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51891 invoked by uid 500); 26 Mar 2016 17:27:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51881 invoked by uid 99); 26 Mar 2016 17:27:38 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Mar 2016 17:27:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E9AD2C0338
	for <dev@httpd.apache.org>; Sat, 26 Mar 2016 17:27:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_NONE=-0.0001,
	RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 5yWT2YIKImPk for <dev@httpd.apache.org>;
	Sat, 26 Mar 2016 17:27:36 +0000 (UTC)
Received: from smtp.smtpout.orange.fr (smtp02.smtpout.orange.fr [80.12.242.124])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 591E05F47C
	for <dev@httpd.apache.org>; Sat, 26 Mar 2016 17:27:36 +0000 (UTC)
Received: from [127.0.0.1] ([92.140.223.192])
	by mwinf5d56 with ME
	id ahTU1s00H49guRY03hTUm4; Sat, 26 Mar 2016 18:27:29 +0100
X-ME-Helo: [127.0.0.1]
X-ME-Date: Sat, 26 Mar 2016 18:27:29 +0100
X-ME-IP: 92.140.223.192
Subject: Re: svn commit: r1736683 -
 /httpd/httpd/trunk/docs/manual/mod/mod_authnz_ldap.xml
To: dev@httpd.apache.org
References: <20160326075151.968753A0315@svn01-us-west.apache.org>
 <CALK=YjMok=iz06Tiu+FC8GcqdHgu936+jEC00j-yNPQdXQQddA@mail.gmail.com>
From: Marion & Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Message-ID: <56F6C67D.10300@wanadoo.fr>
Date: Sat, 26 Mar 2016 18:27:25 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <CALK=YjMok=iz06Tiu+FC8GcqdHgu936+jEC00j-yNPQdXQQddA@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 160325-1, 25/03/2016), Outbound message
X-Antivirus-Status: Clean

As far as I've seen, directive names used within the corresponding 
<directivesynopsis> bloc do not have a link to themselves.
That's why I have removed some in this commit.

In the same commit, I've also added some missing module= for some other 
directives in order to keep the link to them.

As an example, in this commit, you can find:

+    <directive>AuthLDAPSubGroupAttribute</directive> directive identifies the
+    labels of group members and the <directive module="mod_authnz_ldap"
+    >AuthLDAPGroupAttribute</directive>

No module= for AuthLDAPSubGroupAttribute but one for 
AuthLDAPGroupAttribute, because we are in the AuthLDAPSubGroupAttribute 
<directivesynopsis> bloc.


I've never seen this "rule" written anywhere, but it looks a quite 
classical way to do within the online doc.
I personally find it logical and it helps, IMHO, to quickly see if the 
explanation we are reading it about the current directive or if it is 
related to something else, which can be found somewhere else.

If module= everywhere is the preferred way, that's good for me and will 
update accordingly.


BTW, I will backport port these changes during the WE but I'm in the 
process to synch 2.4 and trunk for this given file. Started but not 
finished yet.

CJ



Le 26/03/2016 13:51, Eric Covener a crit :
> On Sat, Mar 26, 2016 at 3:51 AM,  <jailletc36@apache.org> wrote:
>> -    module="mod_authnz_ldap">AuthLDAPBindPassword</directive> if you
>> +    >AuthLDAPBindPassword</directive> if you
>>       absolutely need them to search the directory.</p>
>
> I am in the habit of always adding module= so we get the directive as
> a hyperlink.  Is there a rationale for removing them?
>


From dev-return-86096-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 27 01:40:21 2016
Return-Path: <dev-return-86096-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 762BA19FA7
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 27 Mar 2016 01:40:21 +0000 (UTC)
Received: (qmail 36272 invoked by uid 500); 27 Mar 2016 01:40:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36195 invoked by uid 500); 27 Mar 2016 01:40:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36185 invoked by uid 99); 27 Mar 2016 01:40:20 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Mar 2016 01:40:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6E359C2402
	for <dev@httpd.apache.org>; Sun, 27 Mar 2016 01:40:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.701
X-Spam-Level:
X-Spam-Status: No, score=-0.701 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_LOW=-0.7, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id kWgdvOtBHH2r for <dev@httpd.apache.org>;
	Sun, 27 Mar 2016 01:40:19 +0000 (UTC)
Received: from s1.mail.rcig.net (s1.mail.rcig.net [216.87.38.201])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 3499E5F238
	for <dev@httpd.apache.org>; Sun, 27 Mar 2016 01:40:19 +0000 (UTC)
Received: from 23-117-14-203.lightspeed.stlsmo.sbcglobal.net ([23.117.14.203]:52192 helo=[192.168.0.2])
	by s1.mail.rcig.net with esmtpa (Exim 4.72)
	(envelope-from <DRuggeri@primary.net>)
	id 1ajzgX-0002vI-Vp
	for dev@httpd.apache.org; Sat, 26 Mar 2016 20:40:12 -0500
Subject: Re: Status for 2.4.20
To: dev@httpd.apache.org
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
 <a69dde274c77a821df47d9a148b6b663@ausics.net>
 <87176688-3929-4B96-9EE7-4AD643AD8644@jaguNET.com>
From: Daniel Ruggeri <DRuggeri@primary.net>
Message-ID: <56F739F6.90809@primary.net>
Date: Sat, 26 Mar 2016 20:40:06 -0500
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.7.0
MIME-Version: 1.0
In-Reply-To: <87176688-3929-4B96-9EE7-4AD643AD8644@jaguNET.com>
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: 7bit
X-ACL-Warn: X-The email account used to send this email was: druggeri@primary.net


On 3/23/2016 7:27 AM, Jim Jagielski wrote:
> Release Often is hardly a Bad Thing, at least IMHO. When the
> time is right for a release, then we release. It seemed a
> good time, again IMHO.

Kinda late to the party, but shouldn't what's committed to a stable
branch _always_ be ready to release?



Just my .02 on the side conversation. As a sysadmin, I have no strong
preference for release often versus release seldom... just so long as
what is released is stable and won't break my stuff.
At $dayjob where I have to answer to regulatory and audit authorities,
there have been plenty of releases of various software platforms that I
have chosen not to pursue because they don't address anything I need to
worry about. No harm done.

So, my stance as a sysadmin (and probably a fairly common stance, I'd
guess) can be summarized as:
If there's a bug fix for a problem I'm seeing, I'd really like the
release sooner rather than later. On the other hand, if there's a
security fix, I need it released immediately. On yet another hand
(because it seems I have three), if the release has nothing I care
about... then I don't care.
But whatever happens, don't break my configs :-)



As an even further side note... after following this dev list
(community) as long as I have, I'd happily put an httpd 2.4.nightly
against just about any other released software. I can't think of a
single case where something got *committed* to 2.4 that would break my
configs let alone something that got formally released. Indeed, the few
thousand httpd servers I run haven't been harmed by a release in all of
my time as an admin (1.3, 2.0 and 2.4 alike). Our release process is,
indeed, pretty damn good. So whether we release often or release seldom,
we can at least hold our head high while we do it.

-- 
Daniel Ruggeri


From dev-return-86097-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 27 04:03:23 2016
Return-Path: <dev-return-86097-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7A2DD1814F
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 27 Mar 2016 04:03:23 +0000 (UTC)
Received: (qmail 5529 invoked by uid 500); 27 Mar 2016 04:03:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5459 invoked by uid 500); 27 Mar 2016 04:03:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5449 invoked by uid 99); 27 Mar 2016 04:03:23 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Mar 2016 04:03:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A3CBA18048B
	for <dev@httpd.apache.org>; Sun, 27 Mar 2016 04:03:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.301
X-Spam-Level:
X-Spam-Status: No, score=-2.301 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.001,
	SPF_PASS=-0.001, UNPARSEABLE_RELAY=0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id rySv4mgjbBW5 for <dev@httpd.apache.org>;
	Sun, 27 Mar 2016 04:03:20 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [27.33.160.23])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 3BB6C5F238
	for <dev@httpd.apache.org>; Sun, 27 Mar 2016 04:03:18 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [10.10.0.10])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.ausics.net (Postfix) with ESMTPSA id DA6B8C0E04F
	for <dev@httpd.apache.org>; Sun, 27 Mar 2016 14:03:08 +1000 (AEST)
Received: from Ztj17F8eW/4hM6FYhCC8Nb2My+l/McZsJuWZCCcQ1os=
 (TeEJxN/3Gtb8zfHcNc4hOnuGc7H4gCKn)
 by mail.ausics.net
 with HTTP (HTTP/1.1 POST); Sun, 27 Mar 2016 14:03:08 +1000
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII;
 format=flowed
Content-Transfer-Encoding: 7bit
Date: Sun, 27 Mar 2016 14:03:08 +1000
From: Noel Butler <noel.butler@ausics.net>
To: dev@httpd.apache.org
Subject: Re: Status for 2.4.20
In-Reply-To: <56F6869C.4070905@thelounge.net>
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
 <a69dde274c77a821df47d9a148b6b663@ausics.net>
 <63BA0754-ABA9-4B14-9462-299667D53999@sharp.fm>
 <8d522c78840bc2bc199c71729459aa62@ausics.net> <56F602C9.50502@thelounge.net>
 <8af0ea6c625ba431c994fe87b4d539b4@ausics.net>
 <56F6869C.4070905@thelounge.net>
Message-ID: <a59d96e2f37259c38203925a8d50f122@ausics.net>
X-Sender: noel.butler@ausics.net
User-Agent: Roundcube Webmail

On 26/03/2016 22:54, Reindl Harald wrote:

>> *yawn*
> 
> grow up!
> 
> especially with your off-list hate-mails while block responses


off-list hate mails? The message was pretty clear you emailed me asking 
me never to reply to any of your posts some time ago, I emailed you 
reminding you that works both fscking ways and if you didnt like that 
hell will be unleashed upon you.


also, the DNSBL blacklisting on you for your antics of past 2+ years or 
so still stands given what I've witnessed even in recent times. If you 
are going to be abusive, and  blackmailing people, you have to live with 
reactions to your actions, it is only appropriate a DNSBL "tell" people 
why a host is blocked, just proudly doing my job :)

if you were not a complete arsehole, none of those list moderations, 
bannings and so on would have occurred, but seems like you will never 
change, consider this the last time i reply to you on this list, and 
thank you for re-justifying the DNSBL listing.

happy easter

-- 
If you have the urge to reply to all rather than reply to list, you best
first read  http://members.ausics.net/qwerty/

From dev-return-86098-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 27 07:15:18 2016
Return-Path: <dev-return-86098-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 90DFC1845F
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 27 Mar 2016 07:15:18 +0000 (UTC)
Received: (qmail 23146 invoked by uid 500); 27 Mar 2016 07:15:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23085 invoked by uid 500); 27 Mar 2016 07:15:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23076 invoked by uid 99); 27 Mar 2016 07:15:17 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Mar 2016 07:15:17 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id 8520F1A0230
	for <dev@httpd.apache.org>; Sun, 27 Mar 2016 07:15:17 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 0EC02602DA; Sun, 27 Mar 2016 07:15:17 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2016/03/27]
Message-Id: <20160327071517.0EC02602DA@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 27 Mar 2016 07:15:06 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24437|Opn|Nor|2003-11-05|mod_auth_ldap doubly-escapes backslash (\) charact|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Enh|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37770|Opn|Blk|2005-12-03|proxy: error reading status line from remote serve|
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Inf|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|Verify that log directories exist in httpd -t conf|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|Opn|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Maj|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47650|Opn|Trv|2009-08-05|httxt2dbm calculates value size incorrectly       |
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|New|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51104|Opn|Maj|2011-04-21|C++ support about httpd_config.h                  |
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|Opn|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Blk|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Nor|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|53999|Opn|Nor|2012-10-13|Deadlock between procmgr_send_spawn_cmd()/proctabl|
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|Ver|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|mod_remoteip updates the "ip" (%a), but "host" (%h|
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|Inf|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|New|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|Ver|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|Ver|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|Ver|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|Ver|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Enh|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|Opn|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
|58089|New|Nor|2015-07-01|mod_authz_host uses proxy IP even when mod_remotei|
|58101|New|Nor|2015-07-05|DeflateCompressionLevel inside vhost resets logfor|
|58107|New|Blk|2015-07-06|Httpd crashes on startup every time, dump file att|
|58109|New|Nor|2015-07-06|Apache on windows cannot handle the hash symbol (#|
|58118|New|Min|2015-07-09|mod_proxy_fcgi logs 503 when user aborts connectio|
|58120|New|Nor|2015-07-10|ProxyPassInherit does not work as expect          |
|58121|New|Nor|2015-07-10|ProxyHTMLMeta seems to ignore all <meta http-equiv|
|58129|New|Nor|2015-07-12|man pages are not generated correctly             |
|58132|New|Nor|2015-07-12|non-standard, non-traditional man page layout make|
|58135|New|Nor|2015-07-14|mod_cache sends client "if-Modified-Since" to back|
|58141|New|Nor|2015-07-15|Apache Service doesn't start when rotatlogs.exe pa|
|58142|New|Nor|2015-07-15|authz_core ignores loglevel                       |
|58158|New|Nor|2015-07-21|Not honoring HTTP spec with regard to Accept-Encod|
|58168|New|Enh|2015-07-21|Would like full request evaluation support in Rewr|
|58171|New|Nor|2015-07-22|ap_session_save saves the wrong session after a de|
|58177|New|Enh|2015-07-24|Mod Proxy forward trailers in http chunked request|
|58180|New|Enh|2015-07-24|ErrorDocument original URL in subsequent <Location|
|58181|New|Enh|2015-07-25|mod_expire should allow "minus" keyword same like |
|58188|New|Nor|2015-07-28|http2 mod_lua: support build with lua 5.2+        |
|58197|New|Nor|2015-07-31|apr-util-1.5.4 build against openldap - "could not|
|58225|New|Reg|2015-08-08|intermitant segfault 11 in session_identity_encode|
|58226|New|Nor|2015-08-08|XSS in Error Page                                 |
|58231|New|Nor|2015-08-11|RewriteCond can add "Host" to the Vary-Header     |
|58235|New|Enh|2015-08-12|Ability to allow from domain but with using forwar|
|58243|New|Nor|2015-08-14|rotatelogs goes infinite at startup               |
|58248|New|Nor|2015-08-17|Error 404 in use some characters of utf8 in url   |
|58257|New|Nor|2015-08-18|require ldap-group does not work if account-fullna|
|58278|Inf|Blk|2015-08-24|apache - mod_security Issue : apache no releasing |
|58280|New|Nor|2015-08-24|Backend connection not closed until timeout if cli|
|58288|New|Blk|2015-08-27|Semaphore amount increase until crash when enablin|
|58292|New|Nor|2015-08-27|FallbackResource breaks chunked encoding sometimes|
|58304|New|Nor|2015-08-30|Unexpected Warnings from Macro Use in 2.4         |
|58307|New|Nor|2015-08-31|Segmentation fault in child in "read(__nbytes, __b|
|58317|New|Min|2015-09-02|Error message AH01630 is missing file name on deny|
|58334|New|Min|2015-09-06|WebDAV HTTP access does not include meta tag for c|
|58335|New|Nor|2015-09-07|mod_authnz_ldap mismatch                          |
|58343|New|Nor|2015-09-08|The pdf files come up as a blank page.            |
|58354|New|Maj|2015-09-10|(20014)Internal error (specific information not av|
|58356|New|Blk|2015-09-10|Session jumping due to incorrect route            |
|58364|New|Reg|2015-09-11|Apache Server is restarted time to time (Release 2|
|58417|New|Min|2015-09-16|ApacheBench (ab) won't display Server Software of |
|58419|New|Nor|2015-09-16|ApacheBench (ab) doesn't work with keep-alives aga|
|58423|New|Reg|2015-09-17|Apache >= 2.4.8 PCRE_DUPNAMES causes build failure|
|58437|Opn|Nor|2015-09-21|mod_h2: h2c doesn't work using upgrade from http 1|
|58467|New|Maj|2015-09-29|Environment Variables in ProxyHTMLURLMap produces |
|58475|New|Nor|2015-10-03|Support append/merge with semicolon-separated head|
|58488|New|Nor|2015-10-08|Stoped PHP-FPM pool in multi-pool system with comu|
|58491|New|Maj|2015-10-09|Core dumps appear when the load increases         |
|58492|Inf|Nor|2015-10-09|I think LDAPConnectionPoolTTL is not being honored|
|58498|New|Nor|2015-10-16|Apache 2.4.17: Regression with mod_autoindex (in c|
|58500|New|Nor|2015-10-16|dav_fs not enabled by default                     |
|58509|New|Trv|2015-10-20|2.4.17-dev introduces second core.c handler at sta|
|58524|New|Nor|2015-10-23|mod_http2 segfaults when under heavy load         |
|58528|New|Nor|2015-10-23|AllowOverrideList None gets misparsed and .htacces|
|58529|New|Maj|2015-10-23|Segmentation fault after modifying a proxy Balance|
|58550|New|Enh|2015-10-26|During load, Apache 2.2.x with prefork MPM didn|
|58574|New|Nor|2015-11-02|Apache error AH01630 (client denied) but working  |
|58593|New|Nor|2015-11-06|mod_proxy wrong decision between http and ws      |
|58598|New|Enh|2015-11-08|Internal Server Error (500) when requesting non-ex|
|58602|New|Nor|2015-11-11|Priority issue on DirectoryMatch directive        |
|58604|New|Reg|2015-11-12|Plaintext auth broken in any Explicit FTP/AUTH TLS|
|58612|New|Min|2015-11-16|mod_webdav when write_stream failed should break a|
|58669|New|Nor|2015-11-30|Order of DBDInitSQL and DBDPrepareSQL             |
|58688|New|Nor|2015-12-03|Missing mod_ssl connection-level upgrade headers f|
|58700|New|Nor|2015-12-07|Apache logs not working with mod_remoteip and X-fo|
|58720|New|Enh|2015-12-11|querying server status stalls when scoreboard is f|
|58727|New|Min|2015-12-13|Directories with a ProxyPass directive are not dis|
|58732|New|Nor|2015-12-14|Error Log isn't writing When Apache Shutdown with |
|58739|New|Cri|2015-12-15|Undocumented behavior of REDIRECT_URL and REDIRECT|
|58798|New|Nor|2016-01-04|Misleading terminology                            |
|58799|New|Nor|2016-01-04|mod_fcgid: FcgidMinProcessesPerClass doesn't seem |
|58803|New|Cri|2016-01-05|HTTP connection is getting closed after 5 mins ( R|
|58826|New|Cri|2016-01-08|OCSP Stapling does not resolve DNS                |
|58828|New|Maj|2016-01-08|LA-U variables not set depending on the URI       |
|58834|New|Nor|2016-01-11|ModRewrite fails with .php urls and FPM on Apache |
|58842|New|Nor|2016-01-12|mod_proxy DNS cache with authoritative and no-auth|
|58855|New|Enh|2016-01-14|Don't read through entire string when testing for |
|58856|New|Reg|2016-01-14|AddOutputFilterByType in Apache 2.4 inserts filter|
|58873|New|Nor|2016-01-15|Chunked encoding, Content Length and mod_deflate  |
|58880|New|Enh|2016-01-17|Support serving stale content while revalidating c|
|58887|Inf|Nor|2016-01-18|Updated install.xml.es and took out the html code |
|58889|New|Blk|2016-01-19|mod_proxy mixes random chars to the backend reques|
|58890|New|Nor|2016-01-19|Address comments on expression parser doc         |
|58892|New|Nor|2016-01-19|Remove 'advanced' rewrite doc, and organize by top|
|58893|New|Nor|2016-01-19|Document that RewriteMap names must be unique acro|
|58894|Inf|Nor|2016-01-20|Updates and Translated into Spanish new features 2|
|58901|New|Nor|2016-01-21|Download of large file is aborted in SSL_write on |
|58907|Inf|Nor|2016-01-21|Translated document  sitemap.xml.es into Spanish  |
|58921|New|Nor|2016-01-26|Compiler removal of code to clear password buffer |
|58926|New|Nor|2016-01-28|[Patchset] Improvements for apxs                  |
|58929|New|Maj|2016-01-28|coredump when sending illegal CONNECT request     |
|58934|New|Nor|2016-01-29|mod_proxy initial BalancerMember settings not appl|
|58944|New|Nor|2016-01-30|configure script breaks openssl static library dep|
|58945|New|Nor|2016-01-30|Custom-error.xml.es Translated to Spanish.        |
|58960|New|Nor|2016-02-02|Proxying Docker Registry HTTP PATCH command fails |
|58964|New|Maj|2016-02-03|Problems when caching more than one SSI level     |
|58969|New|Nor|2016-02-04|Translated bind.xml.es into spanish need feedback |
|58971|New|Nor|2016-02-04|Upgrade header added in 2.4.18 causes disconnect f|
|58977|New|Maj|2016-02-06|Wrong saved content                               |
|58981|New|Min|2016-02-07|Makefile.win references incorrect src_so file exte|
|58984|New|Nor|2016-02-09|mod_rewrite documentation for R flag should includ|
|58990|New|Enh|2016-02-10|Option to send "406 Not Acceptable" when mime type|
|58994|Inf|Nor|2016-02-11|Apache service is crashing for every two hours    |
|59007|New|Nor|2016-02-15|mod_proxy disables balancer worker after a timeout|
|59032|New|Enh|2016-02-19|mod_proxy_http replaces non compliant status-line |
|59040|New|Trv|2016-02-22|SSILegacyExprParser directive defined as OR_LIMIT,|
|59049|New|Maj|2016-02-23|Apache doesn't recover from OCSP decode error     |
|59086|New|Nor|2016-02-27|Brackets in DocumentRoot and Directory not support|
|59088|New|Nor|2016-02-29|mod_reqtimeout default log level too low          |
|59090|New|Cri|2016-03-01|Issue with WebDav - org.apache.http.NoHttpResponse|
|59111|New|Nor|2016-03-03|Apache Bench does not parse lowercase field names |
|59121|Inf|Min|2016-03-04|The fix to mod_http2 for bug 59078 broke server-st|
|59124|New|Nor|2016-03-05|mod_autoindex not behaving as described in the doc|
|59142|New|Nor|2016-03-08|Nocanon option in ProxyPass is ignored for a long |
|59175|New|Enh|2016-03-13|add ACME protocol support for automated certificat|
|59230|New|Nor|2016-03-24|mod_proxy_express uses db after close             |
|59231|New|Nor|2016-03-24|Translated: File glossary.xml.es                  |
|59237|New|Cri|2016-03-25|http2 breaks external auth after a few successful |
+-----+---+---+----------+--------------------------------------------------+
| Total 1580 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-86099-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 28 15:06:29 2016
Return-Path: <dev-return-86099-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B5E1418D42
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Mar 2016 15:06:27 +0000 (UTC)
Received: (qmail 19189 invoked by uid 500); 28 Mar 2016 15:06:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18932 invoked by uid 500); 28 Mar 2016 15:06:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18515 invoked by uid 99); 28 Mar 2016 15:06:25 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2016 15:06:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 79FE818021C
	for <dev@httpd.apache.org>; Mon, 28 Mar 2016 15:06:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.279
X-Spam-Level: *
X-Spam-Status: No, score=1.279 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, HTML_MESSAGE=2,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=rowe-clan-net.20150623.gappssmtp.com
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id nW_WRZeaivKB for <dev@httpd.apache.org>;
	Mon, 28 Mar 2016 15:06:23 +0000 (UTC)
Received: from mail-ig0-f177.google.com (mail-ig0-f177.google.com [209.85.213.177])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 43DBE5FAFA
	for <dev@httpd.apache.org>; Mon, 28 Mar 2016 15:06:23 +0000 (UTC)
Received: by mail-ig0-f177.google.com with SMTP id l20so57828737igf.0
        for <dev@httpd.apache.org>; Mon, 28 Mar 2016 08:06:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=rowe-clan-net.20150623.gappssmtp.com; s=20150623;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to;
        bh=MabjloeJXRemjEGzlCGRqrgryD9Ontp9fNTv2VyPkNA=;
        b=qrdwLMdShZcY1I5V8tSsSFG68tDmmyMDBLcBg5dze9m1I9gm+0gZrUtWhFskhenPbt
         dmLB4unpa69o6TVbFsV9usPr3YvxzhQBTYDBmmax6mEacyb6+a1ILwIspVsRCevU4Opx
         brJM5XdiFA54DxTppFc/kS614qPu+A9PY+EoiEZjl2hv49ZkTavt9PkSOuWCuTgQJgc+
         u/adcXIXf0A/z0ZRmtD3PpwW4qF/pAOf1FOKBeEeTgENQA/5RcpqchjNhtBgDyZBdkou
         Wz4eJo3Yk2r790cnnLMJ0T6YIXcCT+7KmRX+R5iJ9urT2nIL3jYWSI88qGPekSEYUgoB
         yeCg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to;
        bh=MabjloeJXRemjEGzlCGRqrgryD9Ontp9fNTv2VyPkNA=;
        b=F5qNmzaoRQqEPpr/fvhm7LdGkaZLzlyIIPRcvjp4BpaZDosjs5joCdkt0pEgaPzRuY
         8g0GjZBFuaMRK9YouvSPKTtvIyw8k6IUFeDnHYatSW/iG51tjGi7ZcRs2QBf8Lym0MuY
         HTrgCCYEXYDgAjitiuZaLClM6aDbrCPbTMxkPCrCXgl7eaUDLgcNj78byiFdX27+gYem
         3RG6CE/t/OB5CAgXeg5Tc4lew2E2r7woCe9QpA/3djql5f/bvMMaQEpEcmSBJYAnvXtU
         7U3gC7rtgOAA4lQcswVFJyyKTiSdOWiJOP0lOwAD40teAkDq56+0Glz1S5hnd7uRDQcY
         7Ajg==
X-Gm-Message-State: AD7BkJLdmoGY6vQW72U5meoO7UEcD1T5TtVGI/aeQ0mPr69gn4NlehSMH0XXKc+fuu/kW/A2QAX7dJNF6JmlPRLN
MIME-Version: 1.0
X-Received: by 10.50.47.49 with SMTP id a17mr10301985ign.35.1459177580817;
 Mon, 28 Mar 2016 08:06:20 -0700 (PDT)
Received: by 10.107.149.12 with HTTP; Mon, 28 Mar 2016 08:06:20 -0700 (PDT)
In-Reply-To: <8d522c78840bc2bc199c71729459aa62@ausics.net>
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
	<a69dde274c77a821df47d9a148b6b663@ausics.net>
	<63BA0754-ABA9-4B14-9462-299667D53999@sharp.fm>
	<8d522c78840bc2bc199c71729459aa62@ausics.net>
Date: Mon, 28 Mar 2016 10:06:20 -0500
Message-ID: <CACsi250tGLuLW0wCjVTdGP6fC96Fysaovcmu1KLDUY_R8fAhYQ@mail.gmail.com>
Subject: Re: Status for 2.4.20
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e01229fa65eb223052f1d4195

--089e01229fa65eb223052f1d4195
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

@Everyone on this thread - keep it civil.

On Fri, Mar 25, 2016 at 10:13 PM, Noel Butler <noel.butler@ausics.net>
wrote:

> On 25/03/2016 19:52, Graham Leggett wrote:
>
>> On 23 Mar 2016, at 1:58 PM, Noel Butler <noel.butler@ausics.net> wrote:
>>
>> as stated previously, this shit will happen when certain people push wit=
h
>>> a release often mentality
>>>
>>> AFAIK there is *ZERO* critical exploit bugs to be patched by any pendin=
g
>>> release, so lets get house in order  S T A B L E , then worry about
>>> releases, jesus christ, we are not ubuntu or redhat with set programs t=
o
>>> release every 3 or 6 months regardless if shit is ready or not=E2=80=A6=
..
>>>
>>
>> It sounds like you=E2=80=99re making drama where there is none.
>>
>
> sounds like you only look at this from one perspective, and thats not of
> the users, especially, the larger users.


Precisely the point.  If httpd were commercial software, there would only b=
e
one perspective, that of the largest users with fairly static deployments
that
demand very small deltas - those that ensure few if any regressions.
Smaller
or more nimble users who need the most recent features are neglected in tha=
t
scenario.

Instead httpd does not operate as commercial software, it is open source.
When it breaks, you get to keep (and patch) all the pieces.  That's the
origin
story of this software and our continued model for success.  No amount of
pleas that "it shouldn't be that way" are going to change the mindset of th=
e
project participants.  Please remember you are a guest on this list.

When we decided during 1.3.x that things were so shaky (third party module
recompilation was frequently necessary during the early 1.3.0-1.3.14
versions)
that we could do better for user communities.

Therefore, when we released 2.0 as GA, we declared the ABI stable, and
proceeded on ABI and API breaking work on a 2.1-dev trunk branch.  We all
agreed that 2.1 wouldn't be GA, but we would release 2.2.0 once we believed
that branch was ready to be ABI-stable.  That model continues to this day,
breaking changes are on 2.5-dev in trunk, and we seek 100% compatibility
on the 2.4.x branch.  There were contentious discussions that led us to thi=
s
model, but it was driven by competing interests by the developers of this
project, who are also users --- as opposed to external "demands".

We will seek to continue to release early and often, and one of our current
faults is that we haven't been releasing 2.5-dev often enough to engage
users
in the next release series, but pouring most of our energy into wedging
these
changes back into the 2.4.x branch.  But unlike commercial software and
many OSS projects, we don't declare 2.4.0 to be "feature complete", and
we continue to improve it in straightforward ways throughout the 2.4
lifetime.

If you want to package a stable "product", you can follow the RedHat and
others' model.  Just to take that single example, httpd 2.4.3 is the
released
flavor by RedHat.  They go to the extra effort to backport fixes-only and
plan
to support that version for some 10 years or so.  That is why many larger
users choose to stick with something like RHEL or CentOS or similar
distributions which are feature-frozen and much more stable than an active
product undergoing constant enhancement.

Just to wrap up another tl;dr post... others offered you a different option=
,
skip those versions which are too "experimental" for your tastes, and wait
for bugs to shake out.  We assert that 2.4.newest is the best available
version, but in such a large, modular and flexible project, it's impossible
to assure that a change set (release) will be an improvement for each and
every use case.

Use the version that is most appropriate to your use case, and seek a
commercial product if you expect the sort of stasis that your protest
appears to seek.

--089e01229fa65eb223052f1d4195
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">@Eve=
ryone on this thread - keep it civil.</div><div class=3D"gmail_quote"><br><=
/div><div class=3D"gmail_quote">On Fri, Mar 25, 2016 at 10:13 PM, Noel Butl=
er <span dir=3D"ltr">&lt;<a href=3D"mailto:noel.butler@ausics.net" target=
=3D"_blank">noel.butler@ausics.net</a>&gt;</span> wrote:<br><blockquote cla=
ss=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;pa=
dding-left:1ex"><span class=3D"">On 25/03/2016 19:52, Graham Leggett wrote:=
<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
On 23 Mar 2016, at 1:58 PM, Noel Butler &lt;<a href=3D"mailto:noel.butler@a=
usics.net" target=3D"_blank">noel.butler@ausics.net</a>&gt; wrote:<br>
<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
as stated previously, this shit will happen when certain people push with a=
 release often mentality<br>
<br>
AFAIK there is *ZERO* critical exploit bugs to be patched by any pending re=
lease, so lets get house in order=C2=A0 S T A B L E , then worry about rele=
ases, jesus christ, we are not ubuntu or redhat with set programs to releas=
e every 3 or 6 months regardless if shit is ready or not=E2=80=A6..<br>
</blockquote>
<br>
It sounds like you=E2=80=99re making drama where there is none.<br>
</blockquote>
<br></span>
sounds like you only look at this from one perspective, and thats not of th=
e users, especially, the larger users.</blockquote><div>=C2=A0</div><div>Pr=
ecisely the point.=C2=A0 If httpd were commercial software, there would onl=
y be</div><div>one perspective, that of the largest users with fairly stati=
c deployments that</div><div>demand very small deltas - those that ensure f=
ew if any regressions.=C2=A0 Smaller=C2=A0</div><div>or more nimble users w=
ho need the most recent features are neglected in that</div><div>scenario.<=
/div><div><br></div><div>Instead httpd does not operate as commercial softw=
are, it is open source.</div><div>When it breaks, you get to keep (and patc=
h) all the pieces.=C2=A0 That&#39;s the origin</div><div>story of this soft=
ware and our continued model for success.=C2=A0 No amount of</div><div>plea=
s that &quot;it shouldn&#39;t be that way&quot; are going to change the min=
dset of the</div><div>project participants.=C2=A0 Please remember you are a=
 guest on this list.</div><div><br></div><div>When we decided during 1.3.x =
that things were so shaky (third party module</div><div>recompilation was f=
requently necessary during the early 1.3.0-1.3.14 versions)</div><div>that =
we could do better for user communities.</div><div><br></div><div>Therefore=
, when we released 2.0 as GA, we declared the ABI stable, and</div><div>pro=
ceeded on ABI and API breaking work on a 2.1-dev trunk branch.=C2=A0 We all=
</div><div>agreed that 2.1 wouldn&#39;t be GA, but we would release 2.2.0 o=
nce we believed</div><div>that branch was ready to be ABI-stable.=C2=A0 Tha=
t model continues to this day,</div><div>breaking changes are on 2.5-dev in=
 trunk, and we seek 100% compatibility</div><div>on the 2.4.x branch.=C2=A0=
 There were contentious discussions that led us to this</div><div>model, bu=
t it was driven by competing interests by the developers of this</div><div>=
project, who are also users --- as opposed to external &quot;demands&quot;.=
</div><div><br></div><div>We will seek to continue to release early and oft=
en, and one of our current</div><div>faults is that we haven&#39;t been rel=
easing 2.5-dev often enough to engage users</div><div>in the next release s=
eries, but pouring most of our energy into wedging these</div><div>changes =
back into the 2.4.x branch.=C2=A0 But unlike commercial software and</div><=
div>many OSS projects, we don&#39;t declare 2.4.0 to be &quot;feature compl=
ete&quot;, and</div><div>we continue to improve it in straightforward ways =
throughout the 2.4 lifetime.</div><div><br></div><div>If you want to packag=
e a stable &quot;product&quot;, you can follow the RedHat and</div><div>oth=
ers&#39; model.=C2=A0 Just to take that single example, httpd 2.4.3 is the =
released</div><div>flavor by RedHat.=C2=A0 They go to the extra effort to b=
ackport fixes-only and plan</div><div>to support that version for some 10 y=
ears or so.=C2=A0 That is why many larger</div><div>users choose to stick w=
ith something like RHEL or CentOS or similar</div><div>distributions which =
are feature-frozen and much more stable than an active</div><div>product un=
dergoing constant enhancement.</div><div><br></div><div>Just to wrap up ano=
ther tl;dr post... others offered you a different option,</div><div>skip th=
ose versions which are too &quot;experimental&quot; for your tastes, and wa=
it</div><div>for bugs to shake out.=C2=A0 We assert that 2.4.newest is the =
best available</div><div>version, but in such a large, modular and flexible=
 project, it&#39;s impossible</div><div>to assure that a change set (releas=
e) will be an improvement for each and</div><div>every use case.</div><div>=
<br></div><div>Use the version that is most appropriate to your use case, a=
nd seek a=C2=A0</div><div>commercial product if you expect the sort of stas=
is that your protest</div><div>appears to seek.</div><div><br></div><div><b=
r></div></div></div></div>

--089e01229fa65eb223052f1d4195--

From dev-return-86100-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 28 15:52:24 2016
Return-Path: <dev-return-86100-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4117118FE7
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Mar 2016 15:52:24 +0000 (UTC)
Received: (qmail 35414 invoked by uid 500); 28 Mar 2016 15:52:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35314 invoked by uid 500); 28 Mar 2016 15:52:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35301 invoked by uid 99); 28 Mar 2016 15:52:17 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Mar 2016 15:52:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 57D40CCFC9
	for <dev@httpd.apache.org>; Mon, 28 Mar 2016 15:52:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -2.296
X-Spam-Level:
X-Spam-Status: No, score=-2.296 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_DNSWL_MED=-2.3,
	RP_MATCHES_RCVD=-0.996] autolearn=disabled
Received: from mx2-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id EPAfarlWpqpt for <dev@httpd.apache.org>;
	Mon, 28 Mar 2016 15:52:15 +0000 (UTC)
Received: from eru.sfritsch.de (eru.sfritsch.de [188.40.99.202])
	by mx2-lw-eu.apache.org (ASF Mail Server at mx2-lw-eu.apache.org) with ESMTPS id 887375F23B
	for <dev@httpd.apache.org>; Mon, 28 Mar 2016 15:52:14 +0000 (UTC)
From: Stefan Fritsch <sf@sfritsch.de>
To: Jan =?utf-8?B?S2FsdcW+YQ==?= <jkaluza@redhat.com>
Cc: dev@httpd.apache.org
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
Date: Mon, 28 Mar 2016 17:52:01 +0200
Message-ID: <6926829.PTzbbu6hZQ@k>
User-Agent: KMail/4.14.10 (Linux/4.4.0-1-amd64; KDE/4.14.14; x86_64; ; )
In-Reply-To: <56DD68E5.2040309@redhat.com>
References: <56DD68E5.2040309@redhat.com>
MIME-Version: 1.0
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="utf-8"

On Monday 07 March 2016 12:41:25, Jan Kalu=C5=BEa wrote:
> This is needed for httpd startup with systemd when one wants to use
> particular IP address to bind. There is no way how to start httpd
> after the IP address has been configured in systemd and according
> to systemd developers, the applications should become more robust
> to handle network changes like that. The full reasoning is
> explained here [1].

This is wrong. We really want to be able to check the configuration=20
for correctness at startup. If you switch to using freebind by=20
default, you loose that sanity check. And using freebind for all=20
systemd users is basically the same as making it the default.

Doesn't network-online.target do what you need? If no, why not?

I am not against the freebind feature as such, it's useful for=20
failover solutions/VRRP/etc. But I am strictly against advertising=20
this as a workaround for broken systemd design.


>=20
> The patch needs latest APR-trunk currently, but it could be
> rewritten to set IP_FREEBIND directly instead of using APR API (We
> use that way for REUSEADDR socket option).
>=20
> Do you think FreeListen is good name for this feature, or would you
> name/implement it differently?
>=20
> [1] https://www.freedesktop.org/wiki/Software/systemd/NetworkTarget/


From dev-return-86101-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 29 05:26:15 2016
Return-Path: <dev-return-86101-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F322419382
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 29 Mar 2016 05:26:14 +0000 (UTC)
Received: (qmail 44185 invoked by uid 500); 29 Mar 2016 05:26:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 44094 invoked by uid 500); 29 Mar 2016 05:26:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 44084 invoked by uid 99); 29 Mar 2016 05:26:13 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2016 05:26:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 053B61A112F
	for <dev@httpd.apache.org>; Tue, 29 Mar 2016 05:26:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -5.023
X-Spam-Level:
X-Spam-Status: No, score=-5.023 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_HI=-5, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RP_MATCHES_RCVD=-0.001, SPF_HELO_PASS=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx2-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id uojHuOnDiBw5 for <dev@httpd.apache.org>;
	Tue, 29 Mar 2016 05:26:10 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx2-lw-us.apache.org (ASF Mail Server at mx2-lw-us.apache.org) with ESMTPS id 499635F23C
	for <dev@httpd.apache.org>; Tue, 29 Mar 2016 05:26:10 +0000 (UTC)
Received: from int-mx13.intmail.prod.int.phx2.redhat.com (int-mx13.intmail.prod.int.phx2.redhat.com [10.5.11.26])
	by mx1.redhat.com (Postfix) with ESMTPS id 70FD2627C7
	for <dev@httpd.apache.org>; Tue, 29 Mar 2016 05:26:09 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-71.brq.redhat.com [10.40.204.71])
	by int-mx13.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id u2T5Q7Sn026237
	for <dev@httpd.apache.org>; Tue, 29 Mar 2016 01:26:08 -0400
Subject: Re: [PATCH] Add "FreeListen" to support IP_FREEBIND
To: dev@httpd.apache.org
References: <56DD68E5.2040309@redhat.com> <6926829.PTzbbu6hZQ@k>
From: =?UTF-8?Q?Jan_Kalu=c5=bea?= <jkaluza@redhat.com>
Message-ID: <56FA11EE.5040603@redhat.com>
Date: Tue, 29 Mar 2016 07:26:06 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.6.0
MIME-Version: 1.0
In-Reply-To: <6926829.PTzbbu6hZQ@k>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.26
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16 (mx1.redhat.com [10.5.110.38]); Tue, 29 Mar 2016 05:26:09 +0000 (UTC)

On 03/28/2016 05:52 PM, Stefan Fritsch wrote:
> On Monday 07 March 2016 12:41:25, Jan Kalua wrote:
>> This is needed for httpd startup with systemd when one wants to use
>> particular IP address to bind. There is no way how to start httpd
>> after the IP address has been configured in systemd and according
>> to systemd developers, the applications should become more robust
>> to handle network changes like that. The full reasoning is
>> explained here [1].
>
> This is wrong. We really want to be able to check the configuration
> for correctness at startup. If you switch to using freebind by
> default, you loose that sanity check. And using freebind for all
> systemd users is basically the same as making it the default.

I do not plan to enable that feature by default. I think 99% of the 
users use Listen without the particular public IP address, so there is 
no need to use it for them.

> Doesn't network-online.target do what you need? If no, why not?

It does, but it's not what systemd authors describe as a best solution. 
Also, as Yann said, we might want to use that API even for different 
socket options in near future.

You are right that from user perspective, it probably doesn't matter if 
the user enables network-online.target or adds freebind option to httpd 
- he has to change the configuration of the system anyway. I was just 
thinking that it would be nice to have a support for that even in httpd.

> I am not against the freebind feature as such, it's useful for
> failover solutions/VRRP/etc. But I am strictly against advertising
> this as a workaround for broken systemd design.

We do not advertise it publicly as a workaround for systemd issues. I 
was using systemd in my email just to show the use-case I'm personally 
interested in. In the httpd documentation for this config option in my 
patch, there is no mention of systemd.

I also personally think that systemd should handle this situation 
differently, but systemd developers think the opposite for a long time. 
I was discussing that with them and it's very unlikely that they would 
change something related to this problem.

Regards,
Jan Kaluza

>
>>
>> The patch needs latest APR-trunk currently, but it could be
>> rewritten to set IP_FREEBIND directly instead of using APR API (We
>> use that way for REUSEADDR socket option).
>>
>> Do you think FreeListen is good name for this feature, or would you
>> name/implement it differently?
>>
>> [1] https://www.freedesktop.org/wiki/Software/systemd/NetworkTarget/
>


From dev-return-86102-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 29 06:00:28 2016
Return-Path: <dev-return-86102-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 28033194B0
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 29 Mar 2016 06:00:28 +0000 (UTC)
Received: (qmail 19723 invoked by uid 500); 29 Mar 2016 06:00:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19653 invoked by uid 500); 29 Mar 2016 06:00:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19643 invoked by uid 99); 29 Mar 2016 06:00:27 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2016 06:00:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 14EB5180112
	for <dev@httpd.apache.org>; Tue, 29 Mar 2016 06:00:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.899
X-Spam-Level: *
X-Spam-Status: No, score=1.899 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=2, MIME_QP_LONG_LINE=0.001, RP_MATCHES_RCVD=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=b0shNXK8;
	dkim=pass (1024-bit key) header.d=greenbytes.de header.b=K6MFKXQ7
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 6yzXVhYd4NBr for <dev@httpd.apache.org>;
	Tue, 29 Mar 2016 06:00:24 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [5.10.171.186])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id AD74E5F5CD
	for <dev@httpd.apache.org>; Tue, 29 Mar 2016 06:00:23 +0000 (UTC)
Received: by mail.greenbytes.de (Postfix, from userid 117)
	id AB84115A0987; Tue, 29 Mar 2016 08:00:16 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1459231216; bh=VJVJnwi0xKMxXD27zntaKX97YQVLupk1cJPmKng4jpM=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=b0shNXK8Z5jx09c1VbBxgqUSDvMo5BELgOnLGVR1cyfU56sqxUuET+W8wNhlfJbs4
	 wQZ/jAW88HiwR1oNTsNDCRpNbJXKG8RF7q09Uj85ASdZ05ecdCMqajsZk+TnjGqTsG
	 vZtABuiAFEACt3GD1lp9KQqj79NjBLAjCU/QoAk0=
Received: from [192.168.178.41] (unknown [84.189.92.224])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 165C215A0399
	for <dev@httpd.apache.org>; Tue, 29 Mar 2016 08:00:15 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=greenbytes.de; s=mail;
	t=1459231215; bh=VJVJnwi0xKMxXD27zntaKX97YQVLupk1cJPmKng4jpM=;
	h=From:Subject:Date:References:In-Reply-To:To:From;
	b=K6MFKXQ7039BS81w1ORLyt6XoB/c5qRAUdO3/38eNZqxElOXJcCLL+Njt/f7AvW5u
	 rxOpOxGP3cKGr0RYlOwpsbXloPWoHtXDW3+SJPOEX1B/Xoe7JnDPsfCo87Phupl7if
	 416lXyF1WFH6UsLJJFiEcgE+x4AhWhCrT5fwd0OE=
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: multipart/alternative;
	boundary=Apple-Mail-8DE2FB85-CC33-4D62-B631-358A7D7C4660
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (1.0)
Subject: Re: Status for 2.4.20
Message-Id: <53F1DD4F-86E8-4FC8-BEE2-4B7BD0CFFB46@greenbytes.de>
Date: Tue, 29 Mar 2016 08:00:14 +0200
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com> <a69dde274c77a821df47d9a148b6b663@ausics.net> <63BA0754-ABA9-4B14-9462-299667D53999@sharp.fm> <8d522c78840bc2bc199c71729459aa62@ausics.net> <CACsi250tGLuLW0wCjVTdGP6fC96Fysaovcmu1KLDUY_R8fAhYQ@mail.gmail.com>
In-Reply-To: <CACsi250tGLuLW0wCjVTdGP6fC96Fysaovcmu1KLDUY_R8fAhYQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: iPhone Mail (13E233)


--Apple-Mail-8DE2FB85-CC33-4D62-B631-358A7D7C4660
Content-Type: text/plain;
	charset=utf-8
Content-Transfer-Encoding: quoted-printable

+1

Thanks!

> Am 28.03.2016 um 17:06 schrieb William A Rowe Jr <wrowe@rowe-clan.net>:
>=20
> @Everyone on this thread - keep it civil.
>=20
>> On Fri, Mar 25, 2016 at 10:13 PM, Noel Butler <noel.butler@ausics.net> wr=
ote:
>>> On 25/03/2016 19:52, Graham Leggett wrote:
>>> On 23 Mar 2016, at 1:58 PM, Noel Butler <noel.butler@ausics.net> wrote:
>>>=20
>>>> as stated previously, this shit will happen when certain people push wi=
th a release often mentality
>>>>=20
>>>> AFAIK there is *ZERO* critical exploit bugs to be patched by any pendin=
g release, so lets get house in order  S T A B L E , then worry about releas=
es, jesus christ, we are not ubuntu or redhat with set programs to release e=
very 3 or 6 months regardless if shit is ready or not=E2=80=A6..
>>>=20
>>> It sounds like you=E2=80=99re making drama where there is none.
>>=20
>> sounds like you only look at this from one perspective, and thats not of t=
he users, especially, the larger users.
> =20
> Precisely the point.  If httpd were commercial software, there would only b=
e
> one perspective, that of the largest users with fairly static deployments t=
hat
> demand very small deltas - those that ensure few if any regressions.  Smal=
ler=20
> or more nimble users who need the most recent features are neglected in th=
at
> scenario.
>=20
> Instead httpd does not operate as commercial software, it is open source.
> When it breaks, you get to keep (and patch) all the pieces.  That's the or=
igin
> story of this software and our continued model for success.  No amount of
> pleas that "it shouldn't be that way" are going to change the mindset of t=
he
> project participants.  Please remember you are a guest on this list.
>=20
> When we decided during 1.3.x that things were so shaky (third party module=

> recompilation was frequently necessary during the early 1.3.0-1.3.14 versi=
ons)
> that we could do better for user communities.
>=20
> Therefore, when we released 2.0 as GA, we declared the ABI stable, and
> proceeded on ABI and API breaking work on a 2.1-dev trunk branch.  We all
> agreed that 2.1 wouldn't be GA, but we would release 2.2.0 once we believe=
d
> that branch was ready to be ABI-stable.  That model continues to this day,=

> breaking changes are on 2.5-dev in trunk, and we seek 100% compatibility
> on the 2.4.x branch.  There were contentious discussions that led us to th=
is
> model, but it was driven by competing interests by the developers of this
> project, who are also users --- as opposed to external "demands".
>=20
> We will seek to continue to release early and often, and one of our curren=
t
> faults is that we haven't been releasing 2.5-dev often enough to engage us=
ers
> in the next release series, but pouring most of our energy into wedging th=
ese
> changes back into the 2.4.x branch.  But unlike commercial software and
> many OSS projects, we don't declare 2.4.0 to be "feature complete", and
> we continue to improve it in straightforward ways throughout the 2.4 lifet=
ime.
>=20
> If you want to package a stable "product", you can follow the RedHat and
> others' model.  Just to take that single example, httpd 2.4.3 is the relea=
sed
> flavor by RedHat.  They go to the extra effort to backport fixes-only and p=
lan
> to support that version for some 10 years or so.  That is why many larger
> users choose to stick with something like RHEL or CentOS or similar
> distributions which are feature-frozen and much more stable than an active=

> product undergoing constant enhancement.
>=20
> Just to wrap up another tl;dr post... others offered you a different optio=
n,
> skip those versions which are too "experimental" for your tastes, and wait=

> for bugs to shake out.  We assert that 2.4.newest is the best available
> version, but in such a large, modular and flexible project, it's impossibl=
e
> to assure that a change set (release) will be an improvement for each and
> every use case.
>=20
> Use the version that is most appropriate to your use case, and seek a=20
> commercial product if you expect the sort of stasis that your protest
> appears to seek.
>=20
>=20

--Apple-Mail-8DE2FB85-CC33-4D62-B631-358A7D7C4660
Content-Type: text/html;
	charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><head><meta http-equiv=3D"content-type" content=3D"text/html; charset=3D=
utf-8"></head><body dir=3D"auto"><div></div><div>+1</div><div><br></div><div=
>Thanks!</div><div><br>Am 28.03.2016 um 17:06 schrieb William A Rowe Jr &lt;=
<a href=3D"mailto:wrowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt;:<br><br><=
/div><blockquote type=3D"cite"><div><div dir=3D"ltr"><div class=3D"gmail_ext=
ra"><div class=3D"gmail_quote">@Everyone on this thread - keep it civil.</di=
v><div class=3D"gmail_quote"><br></div><div class=3D"gmail_quote">On Fri, Ma=
r 25, 2016 at 10:13 PM, Noel Butler <span dir=3D"ltr">&lt;<a href=3D"mailto:=
noel.butler@ausics.net" target=3D"_blank">noel.butler@ausics.net</a>&gt;</sp=
an> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;b=
order-left:1px #ccc solid;padding-left:1ex"><span class=3D"">On 25/03/2016 1=
9:52, Graham Leggett wrote:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px=
 #ccc solid;padding-left:1ex">
On 23 Mar 2016, at 1:58 PM, Noel Butler &lt;<a href=3D"mailto:noel.butler@au=
sics.net" target=3D"_blank">noel.butler@ausics.net</a>&gt; wrote:<br>
<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px=
 #ccc solid;padding-left:1ex">
as stated previously, this shit will happen when certain people push with a r=
elease often mentality<br>
<br>
AFAIK there is *ZERO* critical exploit bugs to be patched by any pending rel=
ease, so lets get house in order&nbsp; S T A B L E , then worry about releas=
es, jesus christ, we are not ubuntu or redhat with set programs to release e=
very 3 or 6 months regardless if shit is ready or not=E2=80=A6..<br>
</blockquote>
<br>
It sounds like you=E2=80=99re making drama where there is none.<br>
</blockquote>
<br></span>
sounds like you only look at this from one perspective, and thats not of the=
 users, especially, the larger users.</blockquote><div>&nbsp;</div><div>Prec=
isely the point.&nbsp; If httpd were commercial software, there would only b=
e</div><div>one perspective, that of the largest users with fairly static de=
ployments that</div><div>demand very small deltas - those that ensure few if=
 any regressions.&nbsp; Smaller&nbsp;</div><div>or more nimble users who nee=
d the most recent features are neglected in that</div><div>scenario.</div><d=
iv><br></div><div>Instead httpd does not operate as commercial software, it i=
s open source.</div><div>When it breaks, you get to keep (and patch) all the=
 pieces.&nbsp; That's the origin</div><div>story of this software and our co=
ntinued model for success.&nbsp; No amount of</div><div>pleas that "it shoul=
dn't be that way" are going to change the mindset of the</div><div>project p=
articipants.&nbsp; Please remember you are a guest on this list.</div><div><=
br></div><div>When we decided during 1.3.x that things were so shaky (third p=
arty module</div><div>recompilation was frequently necessary during the earl=
y 1.3.0-1.3.14 versions)</div><div>that we could do better for user communit=
ies.</div><div><br></div><div>Therefore, when we released 2.0 as GA, we decl=
ared the ABI stable, and</div><div>proceeded on ABI and API breaking work on=
 a 2.1-dev trunk branch.&nbsp; We all</div><div>agreed that 2.1 wouldn't be G=
A, but we would release 2.2.0 once we believed</div><div>that branch was rea=
dy to be ABI-stable.&nbsp; That model continues to this day,</div><div>break=
ing changes are on 2.5-dev in trunk, and we seek 100% compatibility</div><di=
v>on the 2.4.x branch.&nbsp; There were contentious discussions that led us t=
o this</div><div>model, but it was driven by competing interests by the deve=
lopers of this</div><div>project, who are also users --- as opposed to exter=
nal "demands".</div><div><br></div><div>We will seek to continue to release e=
arly and often, and one of our current</div><div>faults is that we haven't b=
een releasing 2.5-dev often enough to engage users</div><div>in the next rel=
ease series, but pouring most of our energy into wedging these</div><div>cha=
nges back into the 2.4.x branch.&nbsp; But unlike commercial software and</d=
iv><div>many OSS projects, we don't declare 2.4.0 to be "feature complete", a=
nd</div><div>we continue to improve it in straightforward ways throughout th=
e 2.4 lifetime.</div><div><br></div><div>If you want to package a stable "pr=
oduct", you can follow the RedHat and</div><div>others' model.&nbsp; Just to=
 take that single example, httpd 2.4.3 is the released</div><div>flavor by R=
edHat.&nbsp; They go to the extra effort to backport fixes-only and plan</di=
v><div>to support that version for some 10 years or so.&nbsp; That is why ma=
ny larger</div><div>users choose to stick with something like RHEL or CentOS=
 or similar</div><div>distributions which are feature-frozen and much more s=
table than an active</div><div>product undergoing constant enhancement.</div=
><div><br></div><div>Just to wrap up another tl;dr post... others offered yo=
u a different option,</div><div>skip those versions which are too "experimen=
tal" for your tastes, and wait</div><div>for bugs to shake out.&nbsp; We ass=
ert that 2.4.newest is the best available</div><div>version, but in such a l=
arge, modular and flexible project, it's impossible</div><div>to assure that=
 a change set (release) will be an improvement for each and</div><div>every u=
se case.</div><div><br></div><div>Use the version that is most appropriate t=
o your use case, and seek a&nbsp;</div><div>commercial product if you expect=
 the sort of stasis that your protest</div><div>appears to seek.</div><div><=
br></div><div><br></div></div></div></div>
</div></blockquote></body></html>=

--Apple-Mail-8DE2FB85-CC33-4D62-B631-358A7D7C4660--

From dev-return-86103-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 29 07:38:10 2016
Return-Path: <dev-return-86103-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E8AF41978B
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 29 Mar 2016 07:38:10 +0000 (UTC)
Received: (qmail 38547 invoked by uid 500); 29 Mar 2016 07:38:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38478 invoked by uid 500); 29 Mar 2016 07:38:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38468 invoked by uid 99); 29 Mar 2016 07:38:10 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2016 07:38:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B6C34180219
	for <dev@httpd.apache.org>; Tue, 29 Mar 2016 07:38:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.301
X-Spam-Level:
X-Spam-Status: No, score=-0.301 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=2, RCVD_IN_DNSWL_MED=-2.3, RP_MATCHES_RCVD=-0.001,
	SPF_PASS=-0.001, UNPARSEABLE_RELAY=0.001] autolearn=disabled
Received: from mx1-lw-eu.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 75u9CTbJ8i51 for <dev@httpd.apache.org>;
	Tue, 29 Mar 2016 07:38:07 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [27.33.160.23])
	by mx1-lw-eu.apache.org (ASF Mail Server at mx1-lw-eu.apache.org) with ESMTPS id 7EA275F1D5
	for <dev@httpd.apache.org>; Tue, 29 Mar 2016 07:38:05 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [10.10.0.10])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.ausics.net (Postfix) with ESMTPSA id 24CF0C0E09F
	for <dev@httpd.apache.org>; Tue, 29 Mar 2016 17:37:54 +1000 (AEST)
Received: from EjOYQVR04ovWedurvRXzTO4BkPpyk2XVTgAI/sOESRU=
 (izHz/5IwXQxMA82c2ys2QH8mQtyNMcGT)
 by mail.ausics.net
 with HTTP (HTTP/1.1 POST); Tue, 29 Mar 2016 17:37:53 +1000
MIME-Version: 1.0
Content-Type: multipart/alternative;
 boundary="=_93a6515180feb878898ba5f60b0795c2"
Date: Tue, 29 Mar 2016 17:37:53 +1000
From: Noel Butler <noel.butler@ausics.net>
To: dev@httpd.apache.org
Subject: Re: Status for 2.4.20
In-Reply-To: <CACsi250tGLuLW0wCjVTdGP6fC96Fysaovcmu1KLDUY_R8fAhYQ@mail.gmail.com>
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
 <a69dde274c77a821df47d9a148b6b663@ausics.net>
 <63BA0754-ABA9-4B14-9462-299667D53999@sharp.fm>
 <8d522c78840bc2bc199c71729459aa62@ausics.net>
 <CACsi250tGLuLW0wCjVTdGP6fC96Fysaovcmu1KLDUY_R8fAhYQ@mail.gmail.com>
Message-ID: <a19920d811ae3cbdb48f7bdf1993ef21@ausics.net>
X-Sender: noel.butler@ausics.net
User-Agent: Roundcube Webmail

--=_93a6515180feb878898ba5f60b0795c2
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII

On 29/03/2016 01:06, William A Rowe Jr wrote:

> @Everyone on this thread - keep it civil. 
> 
> On Fri, Mar 25, 2016 at 10:13 PM, Noel Butler <noel.butler@ausics.net> wrote:
> On 25/03/2016 19:52, Graham Leggett wrote:
> On 23 Mar 2016, at 1:58 PM, Noel Butler <noel.butler@ausics.net> wrote:
> 
> as stated previously, this shit will happen when certain people push with a release often mentality
> 
> AFAIK there is *ZERO* critical exploit bugs to be patched by any pending release, so lets get house in order  S T A B L E , then worry about releases, jesus christ, we are not ubuntu or redhat with set programs to release every 3 or 6 months regardless if shit is ready or not..... 
> It sounds like you're making drama where there is none.
 sounds like you only look at this from one perspective, and thats not
of the users, especially, the larger users. 

Precisely the point.  If httpd were commercial software, there would
only be 
one perspective, that of the largest users with fairly static
deployments that 
demand very small deltas - those that ensure few if any regressions. 
Smaller  
or more nimble users who need the most recent features are neglected in
that 
scenario. 

Instead httpd does not operate as commercial software, it is open
source. 
When it breaks, you get to keep (and patch) all the pieces.  That's the
origin 
story of this software and our continued model for success.  No amount
of 
pleas that "it shouldn't be that way" are going to change the mindset of
the 
project participants.  Please remember you are a guest on this list. 

When we decided during 1.3.x that things were so shaky (third party
module 
recompilation was frequently necessary during the early 1.3.0-1.3.14
versions) 
that we could do better for user communities. 

Therefore, when we released 2.0 as GA, we declared the ABI stable, and 
proceeded on ABI and API breaking work on a 2.1-dev trunk branch.  We
all 
agreed that 2.1 wouldn't be GA, but we would release 2.2.0 once we
believed 
that branch was ready to be ABI-stable.  That model continues to this
day, 
breaking changes are on 2.5-dev in trunk, and we seek 100% compatibility

on the 2.4.x branch.  There were contentious discussions that led us to
this 
model, but it was driven by competing interests by the developers of
this 
project, who are also users --- as opposed to external "demands". 

We will seek to continue to release early and often, and one of our
current 
faults is that we haven't been releasing 2.5-dev often enough to engage
users 
in the next release series, but pouring most of our energy into wedging
these 
changes back into the 2.4.x branch.  But unlike commercial software and 
many OSS projects, we don't declare 2.4.0 to be "feature complete", and 
we continue to improve it in straightforward ways throughout the 2.4
lifetime. 

If you want to package a stable "product", you can follow the RedHat and

others' model.  Just to take that single example, httpd 2.4.3 is the
released 
flavor by RedHat.  They go to the extra effort to backport fixes-only
and plan 
to support that version for some 10 years or so.  That is why many
larger 
users choose to stick with something like RHEL or CentOS or similar 
distributions which are feature-frozen and much more stable than an
active 
product undergoing constant enhancement. 

Just to wrap up another tl;dr post... others offered you a different
option, 
skip those versions which are too "experimental" for your tastes, and
wait 
for bugs to shake out.  We assert that 2.4.newest is the best available 
version, but in such a large, modular and flexible project, it's
impossible 
to assure that a change set (release) will be an improvement for each
and 
every use case. 

Use the version that is most appropriate to your use case, and seek a  
commercial product if you expect the sort of stasis that your protest 
appears to seek. 

Going by this, I've not seen some posts, Bills reply makes it appear I
said the above, which I didnt, but I'll leave it as I think this thread
has run its course anyway, I've put my comments forward on behalf of
myself and many admins, I accept you only see this as one opinion since
they are not posting here, next time it comes up, I'll put a call on the
other lists for every single one of them to sub to this list and put
their thoughts forward :) 

-- 

 		If you have the urge to reply to all rather than reply to list, you
best first read  http://members.ausics.net/qwerty/

 
--=_93a6515180feb878898ba5f60b0795c2
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html; charset=UTF-8

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html; charset=
=3DUTF-8" /></head><body style=3D'font-size: 10pt'>
<p>On 29/03/2016 01:06, William A Rowe Jr wrote:</p>
<blockquote type=3D"cite" style=3D"padding: 0 0.4em; border-left: #1010ff 2=
px solid; margin: 0"><!-- html ignored --><!-- head ignored --><!-- meta ig=
nored -->
<div dir=3D"ltr">
<div class=3D"gmail_extra">
<div class=3D"gmail_quote">@Everyone on this thread - keep it civil.</div>
<div class=3D"gmail_quote">&nbsp;</div>
<div class=3D"gmail_quote">On Fri, Mar 25, 2016 at 10:13 PM, Noel Butler <s=
pan>&lt;<a href=3D"mailto:noel.butler@ausics.net">noel.butler@ausics.net</a=
>&gt;</span> wrote:<br />
<blockquote class=3D"gmail_quote" style=3D"margin: 0 0 0 .8ex; border-left:=
 1px #ccc solid; padding-left: 1ex;"><span class=3D""><span class=3D"">On 2=
5/03/2016 19:52, Graham Leggett wrote:<br /></span></span>
<blockquote class=3D"gmail_quote" style=3D"margin: 0 0 0 .8ex; border-left:=
 1px #ccc solid; padding-left: 1ex;">On 23 Mar 2016, at 1:58 PM, Noel Butle=
r &lt;<a href=3D"mailto:noel.butler@ausics.net">noel.butler@ausics.net</a>&=
gt; wrote:<br /><br />
<blockquote class=3D"gmail_quote" style=3D"margin: 0 0 0 .8ex; border-left:=
 1px #ccc solid; padding-left: 1ex;">as stated previously, this shit will h=
appen when certain people push with a release often mentality<br /><br /> A=
FAIK there is *ZERO* critical exploit bugs to be patched by any pending rel=
ease, so lets get house in order&nbsp; S T A B L E , then worry about relea=
ses, jesus christ, we are not ubuntu or redhat with set programs to release=
 every 3 or 6 months regardless if shit is ready or not.....</blockquote>
<br /> It sounds like you're making drama where there is none.</blockquote>
sounds like you only look at this from one perspective, and thats not of th=
e users, especially, the larger users.</blockquote>
<div>&nbsp;</div>
<div>Precisely the point.&nbsp; If httpd were commercial software, there wo=
uld only be</div>
<div>one perspective, that of the largest users with fairly static deployme=
nts that</div>
<div>demand very small deltas - those that ensure few if any regressions.&n=
bsp; Smaller&nbsp;</div>
<div>or more nimble users who need the most recent features are neglected i=
n that</div>
<div>scenario.</div>
<div>&nbsp;</div>
<div>Instead httpd does not operate as commercial software, it is open sour=
ce.</div>
<div>When it breaks, you get to keep (and patch) all the pieces.&nbsp; That=
's the origin</div>
<div>story of this software and our continued model for success.&nbsp; No a=
mount of</div>
<div>pleas that "it shouldn't be that way" are going to change the mindset =
of the</div>
<div>project participants.&nbsp; Please remember you are a guest on this li=
st.</div>
<div>&nbsp;</div>
<div>When we decided during 1.3.x that things were so shaky (third party mo=
dule</div>
<div>recompilation was frequently necessary during the early 1.3.0-1.3.14 v=
ersions)</div>
<div>that we could do better for user communities.</div>
<div>&nbsp;</div>
<div>Therefore, when we released 2.0 as GA, we declared the ABI stable, and=
</div>
<div>proceeded on ABI and API breaking work on a 2.1-dev trunk branch.&nbsp=
; We all</div>
<div>agreed that 2.1 wouldn't be GA, but we would release 2.2.0 once we bel=
ieved</div>
<div>that branch was ready to be ABI-stable.&nbsp; That model continues to =
this day,</div>
<div>breaking changes are on 2.5-dev in trunk, and we seek 100% compatibili=
ty</div>
<div>on the 2.4.x branch.&nbsp; There were contentious discussions that led=
 us to this</div>
<div>model, but it was driven by competing interests by the developers of t=
his</div>
<div>project, who are also users --- as opposed to external "demands".</div=
>
<div>&nbsp;</div>
<div>We will seek to continue to release early and often, and one of our cu=
rrent</div>
<div>faults is that we haven't been releasing 2.5-dev often enough to engag=
e users</div>
<div>in the next release series, but pouring most of our energy into wedgin=
g these</div>
<div>changes back into the 2.4.x branch.&nbsp; But unlike commercial softwa=
re and</div>
<div>many OSS projects, we don't declare 2.4.0 to be "feature complete", an=
d</div>
<div>we continue to improve it in straightforward ways throughout the 2.4 l=
ifetime.</div>
<div>&nbsp;</div>
<div>If you want to package a stable "product", you can follow the RedHat a=
nd</div>
<div>others' model.&nbsp; Just to take that single example, httpd 2.4.3 is =
the released</div>
<div>flavor by RedHat.&nbsp; They go to the extra effort to backport fixes-=
only and plan</div>
<div>to support that version for some 10 years or so.&nbsp; That is why man=
y larger</div>
<div>users choose to stick with something like RHEL or CentOS or similar</d=
iv>
<div>distributions which are feature-frozen and much more stable than an ac=
tive</div>
<div>product undergoing constant enhancement.</div>
<div>&nbsp;</div>
<div>Just to wrap up another tl;dr post... others offered you a different o=
ption,</div>
<div>skip those versions which are too "experimental" for your tastes, and =
wait</div>
<div>for bugs to shake out.&nbsp; We assert that 2.4.newest is the best ava=
ilable</div>
<div>version, but in such a large, modular and flexible project, it's impos=
sible</div>
<div>to assure that a change set (release) will be an improvement for each =
and</div>
<div>every use case.</div>
<div>&nbsp;</div>
<div>Use the version that is most appropriate to your use case, and seek a&=
nbsp;</div>
<div>commercial product if you expect the sort of stasis that your protest<=
/div>
<div>appears to seek.</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
</div>
</div>
</div>
</blockquote>
<p>&nbsp;</p>
<p>Going by this, I've not seen some posts, Bills reply makes it appear I s=
aid the above, which I didnt, but I'll leave it as I think this thread has =
run its course anyway, I've put my comments forward on behalf of myself and=
 many admins, I accept you only see this as one opinion since they are not =
posting here, next time it comes up, I'll put a call on the other lists for=
 every single one of them to sub to this list and put their thoughts forwar=
d :)</p>
<p>&nbsp;</p>
<div>-- <br />
<table border=3D"1" width=3D"100%" cellspacing=3D"0" cellpadding=3D"5">
<tbody>
<tr>
<td style=3D"text-align: center;"><small><small>If you have the urge to rep=
ly to all rather than reply to list, you best first read&nbsp; http://membe=
rs.ausics.net/qwerty/</small></small></td>
</tr>
</tbody>
</table>
</div>
</body></html>

--=_93a6515180feb878898ba5f60b0795c2--

From dev-return-86104-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 29 08:47:41 2016
Return-Path: <dev-return-86104-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 27BAC199DD
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 29 Mar 2016 08:47:41 +0000 (UTC)
Received: (qmail 23713 invoked by uid 500); 29 Mar 2016 08:47:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23647 invoked by uid 500); 29 Mar 2016 08:47:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23636 invoked by uid 99); 29 Mar 2016 08:47:40 -0000
Received: from pnap-us-west-generic-nat.apache.org (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Mar 2016 08:47:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A9E47C0945
	for <dev@httpd.apache.org>; Tue, 29 Mar 2016 08:47:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.698
X-Spam-Level:
X-Spam-Status: No, score=-1.698 tagged_above=-999 required=6.31
	tests=[RCVD_IN_DNSWL_LOW=-0.7, RP_MATCHES_RCVD=-0.996,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-lw-us.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id vWjQoP1WN0ey for <dev@httpd.apache.org>;
	Tue, 29 Mar 2016 08:47:37 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx1-lw-us.apache.org (ASF Mail Server at mx1-lw-us.apache.org) with ESMTPS id 8959B5F238
	for <dev@httpd.apache.org>; Tue, 29 Mar 2016 08:47:37 +0000 (UTC)
Subject: Re: Status for 2.4.20
To: dev@httpd.apache.org
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
 <a69dde274c77a821df47d9a148b6b663@ausics.net>
 <63BA0754-ABA9-4B14-9462-299667D53999@sharp.fm>
 <8d522c78840bc2bc199c71729459aa62@ausics.net>
 <CACsi250tGLuLW0wCjVTdGP6fC96Fysaovcmu1KLDUY_R8fAhYQ@mail.gmail.com>
 <a19920d811ae3cbdb48f7bdf1993ef21@ausics.net>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
Organization: the lounge interactive design
Message-ID: <56FA4127.9060008@thelounge.net>
Date: Tue, 29 Mar 2016 10:47:35 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.7.1
MIME-Version: 1.0
In-Reply-To: <a19920d811ae3cbdb48f7bdf1993ef21@ausics.net>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="LikMx61G7viMB4ceSo0xwU7pMFL0G6cqJ"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--LikMx61G7viMB4ceSo0xwU7pMFL0G6cqJ
Content-Type: multipart/mixed; boundary="mT9brLuBxHnRS4oLmJL7Poc6riHLN1RIw"
From: Reindl Harald <h.reindl@thelounge.net>
To: dev@httpd.apache.org
Message-ID: <56FA4127.9060008@thelounge.net>
Subject: Re: Status for 2.4.20
References: <195151A4-3717-42B4-85C9-24E799078B8E@jaguNET.com>
 <a69dde274c77a821df47d9a148b6b663@ausics.net>
 <63BA0754-ABA9-4B14-9462-299667D53999@sharp.fm>
 <8d522c78840bc2bc199c71729459aa62@ausics.net>
 <CACsi250tGLuLW0wCjVTdGP6fC96Fysaovcmu1KLDUY_R8fAhYQ@mail.gmail.com>
 <a19920d811ae3cbdb48f7bdf1993ef21@ausics.net>
In-Reply-To: <a19920d811ae3cbdb48f7bdf1993ef21@ausics.net>

--mT9brLuBxHnRS4oLmJL7Poc6riHLN1RIw
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable


Am 29.03.2016 um 09:37 schrieb Noel Butler:
> On 29/03/2016 01:06, William A Rowe Jr wrote:
>> @Everyone on this thread - keep it civil.
>> On Fri, Mar 25, 2016 at 10:13 PM, Noel Butler <noel.butler@ausics.net
>> <mailto:noel.butler@ausics.net>> wrote:
>>
>>     On 25/03/2016 19:52, Graham Leggett wrote:
>>
>>         On 23 Mar 2016, at 1:58 PM, Noel Butler
>>         <noel.butler@ausics.net <mailto:noel.butler@ausics.net>> wrote=
:
>>
>>             as stated previously, this shit will happen when certain
>>             people push with a release often mentality
>>
>>             AFAIK there is *ZERO* critical exploit bugs to be patched
>>             by any pending release, so lets get house in order  S T A
>>             B L E , then worry about releases, jesus christ, we are
>>             not ubuntu or redhat with set programs to release every 3
>>             or 6 months regardless if shit is ready or not.....
>>
>>
>>         It sounds like you're making drama where there is none.
>>
>>     sounds like you only look at this from one perspective, and thats
>>     not of the users, especially, the larger users.
>>
> Going by this, I've not seen some posts, Bills reply makes it appear I
> said the above, which I didnt

you did

-------- Weitergeleitete Nachricht --------
Betreff: Re: Status for 2.4.20
Datum: Wed, 23 Mar 2016 21:58:18 +1000
Von: Noel Butler <noel.butler@ausics.net>
Antwort an: dev@httpd.apache.org
An: dev@httpd.apache.org

as stated previously, this shit will happen when certain people push
with a release often mentality

AFAIK there is *ZERO* critical exploit bugs to be patched by any pending
release, so lets get house in order S T A B L E , then worry about
releases, jesus christ, we are not ubuntu or redhat with set programs to
release every 3 or 6 months regardless if shit is ready or not.....


flame away... IDGAF

-------- Weitergeleitete Nachricht --------
Betreff: Re: Status for 2.4.20
Datum: Sat, 26 Mar 2016 13:13:33 +1000
Von: Noel Butler <noel.butler@ausics.net>
Antwort an: dev@httpd.apache.org
An: dev@httpd.apache.org

On 25/03/2016 19:52, Graham Leggett wrote:
 > It sounds like you're making drama where there is none.

sounds like you only look at this from one perspective, and thats not of =

the users, especially, the larger users.


--mT9brLuBxHnRS4oLmJL7Poc6riHLN1RIw--

--LikMx61G7viMB4ceSo0xwU7pMFL0G6cqJ
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlb6QScACgkQhmBjz394AnmvGwCcD1ZwEDofvEIjAQqMKtPY/vsT
HJ8AniPvn/Z9XjvKoOUll/tDP01To3Vj
=u7ta
-----END PGP SIGNATURE-----

--LikMx61G7viMB4ceSo0xwU7pMFL0G6cqJ--

